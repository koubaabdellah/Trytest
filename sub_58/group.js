// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),function(R,N,n,t,u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(){}f.fetchAll=function(){return u["default"].fetchAllResources(t["default"].restBaseUrl+"portals/self/resources",{},"resources")};f.fetchPage=function(g,k){void 0===g&&(g=1);void 0===k&&(k=100);return h["default"].request({url:t["default"].restBaseUrl+
"portals/self/resources",content:{start:g,num:100<k?100:k}})};f.fetch=function(g){return h["default"].request({url:t["default"].restBaseUrl+"portals/self/resources/"+g})};f.add=function(g){var k=!g.key;g=n.__assign(n.__assign({url:t["default"].restBaseUrl+"portals/self/addResource"},k&&{form:g}),!k&&{content:g});return h["default"].request(g,{usePost:!0})};f.remove=function(g){return h["default"].request({url:t["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};return f}()})},
"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);M=n.__importStar(M);return function(){function K(L){this.i18n=x["default"];this.esriPortalConfig=H["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=n.__assign({},L);this.portalUser=
L.portalUser||null;this.portal=L.portal||null}K.prototype.destroy=function(){J.render(null,this.footerDiv)};K.prototype.postMixInProperties=function(){this.inherited(arguments);m["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=M.queryToObject(window.location.search.slice(1))};K.prototype.startup=function(){this.inherited(arguments);this.telemetry=z["default"].init({config:this.portal});var L=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===(null===
L||void 0===L?void 0:L["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};K.prototype.toggleErrors=function(L){this._hideErrors=!L;this._showErrors=L};K.prototype._setPageTitleAttr=function(L){window.document.title=L};K.prototype._setIsLoadedAttr=function(L){this.isLoaded=L};K.prototype.showLoader=function(){y["default"].activateNode(this._loader);y["default"].hideNode(this._content)};
K.prototype.hideLoader=function(){y["default"].deactivateNode(document.querySelector(".js-page-loader"));y["default"].showNode(document.querySelector(".js-content-wrapper"));y["default"].deactivateNode(this._loader);y["default"].showNode(this._content)};K.prototype.removeError=function(){var L=document.querySelector(".js-alert");L&&a["default"].destroy(L)};K.prototype.hideErrors=function(){var L=document.querySelector(".js-alert");L&&a["default"].empty(L)};K.prototype.showAlert=function(L){var U=
L.type||"success";L=L.text||"";this._alert&&this._alert.destroy();this._alert=q["default"].showAlert(U,L)};K.prototype.showError=function(L){this._showError(L)};K.prototype._addEventListeners=function(){this.own(d["default"].subscribe("alert/show",this.showAlert.bind(this)),d["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),d["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),d["default"].subscribe("page/showError",this._showError.bind(this)),r["default"](window,"resize",
v["default"](function(){return d["default"].publish("window/resize")},300)))};K.prototype._buildPage=function(){var L=this,U;this.set("pageTitle",H["default"].portalName||this.i18n.common.arcgis);var ba=u["default"].locale.split("-");document.documentElement.lang=-1!==u["default"].locale.indexOf("-")?[ba[0],ba[1].toUpperCase()].join("-"):ba[0];this.pageNode=this.pageNode||k["default"].body();this.flexFix=a["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=a["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new D["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());a["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=a["default"].create("div",null,this.contentWrapper,"last"),this.footer=J.h(F["default"],
{id:"footer",portal:this.portal}),J.render(this.footer,this.footerDiv));this.skipToContent&&(ba=l["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:x["default"]}),a["default"].place(ba,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(V){V.preventDefault();V.stopPropagation();if(V=document.getElementById(L.skipToContent))V.tabIndex=
-1,V.focus()}));this.set("htmlCssClasses");(null===(U=this.portalUser)||void 0===U?0:U.orgId)&&this.setBlockedClasses()};K.prototype.setBlockedClasses=function(){E["default"].getBlockedApps().then(function(L){var U={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(U).forEach(function(ba){-1<(null===L||void 0===L?void 0:L.indexOf(ba))&&(ba=U[ba],document.documentElement.classList.add(ba),
document.body.classList.add(ba))})})};K.prototype._setHtmlCssClassesAttr=function(){var L=[],U=this.portal,ba=U.getPortalUser(),V=ba&&ba.isOrgUser,aa=ba&&ba.licenses,ha;L.push(U.isPortal?"is-on-premise":"is-online");L.push(ba?"is-signed-in":"is-signed-out");Object.keys(aa||{}).forEach(function(ia){ha=aa[ia];!ha.valid&&ha.className&&L.push(ha.className)});L.push(H["default"].webAppBuilderEnabled&&V?"is-wab-enabled":"");L.push(H["default"].showCreateDashboard&&V?"is-createDashboard-enabled":"");L.push(H["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");b["default"].add(document.querySelector("html"),L.join(" "))};K.prototype._request=function(L,U){return p["default"].request(L,U)};K.prototype._showError=function(L){var U=null;U=L&&L.message||this.i18n.common.errors.genericError.message;var ba=document.querySelector(".js-alert")||a["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),V=null;if(!(this._hideErrors||L&&("SB_0001"===L.messageCode||"SB_0002"===L.messageCode)||403!==
L.code&&"GWM_0003"===L.messageCode)){if(!this._item&&this.portalUser&&L&&403===L.code){if(-1!==L.message.indexOf("world/utilities.gpserver"))return;U=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===L||void 0===L?void 0:L.messageCode)?(U=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):U&&"Item does not exist or is inaccessible."===U?(U=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):U&&"Your request has timed out."===U?U=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&L&&"string"===typeof L&&-1<L.indexOf("ERROR 002555")?(U=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):U&&-1<U.indexOf("Your account is out of storage space and your item cannot be updated.")?(U=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):U=L.messageHTML?L.messageHTML:p["default"].htmlEncode(U);
V=a["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+U+"\x3c/div\x3e");if(this._showErrors&&L&&499!==L.code&&498!==L.code&&404!==L.code)if(this._forceErrorToast||this.isLoaded&&!L.forceErrorNode)q["default"].showAlert("error",U);else{w["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");w["default"](".js-content-wrapper").removeClass("hide");U=document.querySelector(".view-background");var aa=document.querySelectorAll("header.subnav").length?
1:0;a["default"].place(ba,U,aa);a["default"].place(V,ba,"only")}d["default"].publish("ago/page/error",{error:L});return L}};K.prototype._createTab=function(L,U){var ba=this.tabDijit=new L(g["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},U||{}),a["default"].create("div",{},this._content)),V=new h["default"];ba.startup().then(function(){t["default"].init();V.resolve(ba)});return V};K.prototype._destroyTab=function(){var L=this,U=new h["default"],
ba=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;f["default"](ba,function(){L.showLoader();(A["default"].findWidgets(L._content)||[]).forEach(function(V){V.destroy?V.destroy():V.destroyRecursive&&V.destroyRecursive()});a["default"].empty(L._content);q["default"].clearAlerts();U.resolve(!0)});return U};K.prototype._disableTabs=function(){var L=this;this._clearTabHandlerOverrides();var U=document.querySelectorAll(".js-subnav-link");y["default"].forEachNode(U,function(ba){L._disabledTabHandlers.push(r["default"](ba,
"click",function(V){V.stopPropagation();V.preventDefault()}));e["default"].set(ba,"aria-disabled",!0);b["default"].add(ba,"disabled")})};K.prototype._enableTabs=function(){var L=this;setTimeout(function(){L._clearTabHandlerOverrides();var U=document.querySelectorAll(".js-subnav-link");y["default"].forEachNode(U,function(ba){e["default"].set(ba,"aria-disabled",!1);b["default"].remove(ba,"disabled")})},500)};K.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(L){return L.remove()})};K.prototype.getMemberDefaults=function(){var L,U=null===(L=this.portalUser)||void 0===L?void 0:L.userRole;L=(null===U||void 0===U?void 0:U.isAdmin())||(null===U||void 0===U?void 0:U.canManageSecurity());return this.portalUser&&this.portal.id&&L?this.portal.getMemberDefaults():(L=new h["default"],L.resolve(),L)};K.prototype.getHomePageConfig=function(){var L=new h["default"];if(!this.portalUser||!this.portal.id)return L.resolve(),
L;var U=B["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=U)?this.portal.getHomePageConfig().then(function(){L.resolve()}):L.resolve();return L};return K=n.__decorate([G["default"](C["default"],c["default"])],K)}()})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(R,N,n,t,u,h){function f(w,v,C){void 0===C&&(C={cssClasses:"",preventAutoDismiss:!1});g();var A=C.cssClasses,r=C.preventAutoDismiss;
C=C.liveRegion;var l=document.createElement("div");document.body.appendChild(l);return new t["default"]({type:w,text:v,cssClasses:A||"",preventAutoDismiss:!!r,liveRegion:C},l)}function g(){u["default"].forEachNode(document.querySelectorAll(".alert"),function(w){var v,C;null===(C=null===(v=h["default"].byNode(w))||void 0===v?void 0:v.destroy)||void 0===C?void 0:C.call(v)})}function k(w,v){var C=v.reduce(function(r,l){return r+"\x3cli\x3e"+l+"\x3c/li\x3e"},""),A=document.createElement("div");document.body.appendChild(A);
return new t["default"]({type:w,text:"",listHTML:"\x3cul\x3e"+C+"\x3c/ul\x3e"},A)}Object.defineProperty(N,"__esModule",{value:!0});N.showAlertList=N.clearAlerts=N.showAlert=void 0;t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);N.showAlert=f;N.clearAlerts=g;N.showAlertList=k;N["default"]={clearAlerts:g,showAlert:f,showAlertList:k}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString=w["default"];this.i18n=v["default"];this.icons=u["default"];this.cssClasses="";this.preventAutoDismiss=!1}A.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=u["default"]["check-circle"]["32"],
this.iconAltText=v["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=u["default"]["exclamation-mark-circle"]["32"],this.iconAltText=v["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=u["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=v["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};A.prototype.postCreate=function(){var r=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){r.domNode&&r.domNode.classList.add("is-active")},10)};A.prototype.startup=function(){this.inherited(arguments);t["default"].postToLiveRegion(this.text,this.liveRegion)};A.prototype._addEventListeners=function(){"success"===this.type&&this.own(k["default"](this.domNode).on("mouseover",C["default"].hitch(this,this._clearAlertTimer)),
k["default"](this.domNode).on("mouseout",C["default"].hitch(this,this._setAlertTimer)));this.own(k["default"](".js-alert-close",this.domNode).on("click",C["default"].hitch(this,this._dismiss)))};A.prototype._setAlertTimer=function(){var r=this;this._timeout||(this._timeout=window.setTimeout(function(){r._dismiss()},4E3))};A.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};A.prototype._dismiss=function(r){var l=this;r&&r.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){l.destroy()},300)};A.prototype.dismiss=function(){var r=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){r.destroy()},300)};return A=n.__decorate([h["default"](f["default"],g["default"])],A)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(R,N,n,t,u,
h,f,g,k,w){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);w=n.__importDefault(w);N["default"]=function(v){var C=v.id,A=v.portal;v=k.useState(!1);var r=v[0],l=v[1];v=k.useState([]);var d=v[0],e=v[1];k.useEffect(function(){var q=f["default"].subscribe("contact-us-link/update",b);return function(){var y;null===(y=null===q||void 0===q?void 0:q.remove)||void 0===y?void 0:y.call(q)}},[]);k.useEffect(function(){a()},
[d]);var a=function(){var q,y,B=n.__assign(n.__assign(n.__assign({},w["default"].common),w["default"].siteFooter),{helpLabel:w["default"].supportPage.helpLabel}),z=A.portalUser,D=A.isPortal,F=window.location.href;-1<F.indexOf("?useExisting\x3d1")&&(F=F.substring(0,F.length-14));l(-1<F.indexOf("viewer.html")&&-1===F.indexOf("returnUrl")&&!u["default"].isMobile());var x=[];(t["default"].footerLinks||[]).forEach(function(E){var G,H,J="${i18n.legal}"===(null===E||void 0===E?void 0:E.title),M=!!(J&&(null===
z||void 0===z?0:z.accountId)),K="${i18n.help}"===(null===E||void 0===E?void 0:E.title)||"support.html"===(null===E||void 0===E?void 0:E.url),L=!(K&&!z&&"public"===A.access&&(D||!D&&A.customBaseUrl));J=!J&&!K||J&&!M||K&&!L;M=null===(G=E.title)||void 0===G?void 0:G.indexOf("${i18n.");G=null===(H=E.title)||void 0===H?void 0:H.indexOf("}");H=-1<M&&-1<G?""+B[E.title.substring(M+7,G)]:E.title;if(E.url){-1===E.url.indexOf("http")&&-1===E.url.indexOf("mailto:")&&r&&(E.url="support.html"===E.url?A.helpBase||
""+t["default"].baseUrl+E.url:""+t["default"].baseUrl+E.url);if("${i18n.help}"===E.title||"support.html"===E.url)E.url=A.helpBase;J&&x.push({href:E.url,target:"_blank",title:H})}else D&&"contactUs"===E.type?(G=t["default"].portalName||"ArcGIS.com",J=escape(F),E="mailto:"+E.email,x.push({id:C+"_contactEsri",href:E+('?subject\x3d"A comment about '+G+'"\x26body\x3d"I have the following comment about the ')+(G+" Web site. %0AReferring page: "+J+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:H})):"reportAbuse"===E.type&&(J=escape(F),E="mailto:"+E.email+'?subject\x3d"Concerns about an item"',x.push({href:E+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+J+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:H}))});b(null===(y=null===(q=A.portalProperties)||void 0===q?
void 0:q.links)||void 0===y?void 0:y.contactUs,x)},b=function(q,y){y=null!==y&&void 0!==y?y:d;q=null!==q&&void 0!==q?q:{visible:!1,url:""};var B={id:C+"_customContactUs",href:q.url,title:w["default"].siteFooter.customContactUs,className:q.visible?"footer__contact-us":"footer__contact-us hide"},z=h["default"].findIndex(y,function(D){return D.id===C+"_customContactUs"});-1<z?y[z]=B:(z=h["default"].findIndex(y,function(D){return D.id===C+"_contactEsri"}),-1<z?y.splice(z,0,B):y.push(B));e(y)};v=C+"_links";
var c=r?"\x26nbsp;. ":"",m=d.filter(function(q){return!q.className||-1===q.className.indexOf("hide")}),p=m.map(function(q,y){var B,z,D,F=null!==(B=q.id)&&void 0!==B?B:C+"_link"+y;B=q.href;var x=null!==(z=q.target)&&void 0!==z?z:"";z=null!==(D=q.className)&&void 0!==D?D:"";D=y===m.length-1;return g.h(g.Fragment,null,g.h("a",{id:F,href:B,className:z,target:x},q.title),D?null:g.h("span",null,c))});return g.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},g.h("span",{id:v,"class":"esriItemLinks"},p),g.h("div",{"class":"esri-footer-barrier"}))}})},"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),function(R,N,n,t,u,h,f,g){var k=this;Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);var w=g["default"].restBaseUrl+"portals/self",v=w+"/trustedOrgs",C=function(r,l){return u["default"].request({url:v+"/"+r+"/update",content:n.__assign({orgId:r},l)},{usePost:!0})},A=g["default"].restBaseUrl+"portals/self/contacts";N["default"]={add:function(r){return u["default"].request({url:w+"/addTrustedOrg",content:r},{usePost:!0})},update:C,suspend:function(r){return C(r,{state:"suspended"})},resume:function(r){return C(r,{state:"active"})},
remove:function(r,l){return u["default"].request({url:v+"/"+r+"/delete",content:{message:l,async:!0}},{usePost:!0})},getCollaborations:function(r){void 0===r&&(r=!1);var l=new t["default"];r=n.__assign({num:100},r&&{hub:!1});u["default"].request({url:v,content:r}).then(function(d){l.resolve(d)},function(){l.resolve({trustedOrgs:[]})});return l},getCoordinators:function(r){var l=new t["default"];u["default"].request({url:A,content:{type:"collaboration",num:100,collaborators:!r}}).then(function(d){l.resolve(d)},
function(){l.resolve()});return l},getAllCoordinators:function(){var r=new t["default"];h["default"].fetchAllResources(A,{type:"collaboration",collaborators:!0},"users").then(function(l){r.resolve(l)},function(){r.resolve([])});return r},getCoordinatorsByOrg:function(r){return u["default"].request({url:A,content:{type:"collaboration",orgId:r}})},getGroupUserCount:function(r,l){return u["default"].request({url:g["default"].restBaseUrl+"community/users",content:{q:""+(l||""),searchUserAccess:"groupMember",
groups:r,countFields:"accountid",num:0}})},getCollabGroups:function(r,l){return u["default"].request({url:g["default"].restBaseUrl+"community/groups",content:{q:"orgid:"+r.id+" memberorgids:"+l}})},getEndedCollabs:function(){var r=new t["default"];f["default"].fetch("ended_collaborations.json").then(function(l){r.resolve(l||[])},function(){r.resolve([])});return r},getCollaborationLimit:function(){var r=new t["default"];u["default"].request({url:w+"/limits",content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(l){var d;
r.resolve(null!==(d=null===l||void 0===l?void 0:l.limitValue)&&void 0!==d?d:10)},function(){r.resolve(10)});return r},getCollaborationByOrgId:function(r){return n.__awaiter(k,void 0,void 0,function(){var l;return n.__generator(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,u["default"].request({url:v+"/"+r})];case 1:return l=d.sent(),[2,l];case 2:return d.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(r){return f["default"].add({key:"ended_collaborations.json",
text:JSON.stringify(r)})}}})},"arcgisonline/pages/item/_Actions":function(){define("require exports tslib dojo/_base/lang dojo/_base/event dojo/on dojo/aspect dojo/dom-attr dojo/topic dojo/promise/all dojo/Deferred dojo/cookie dojo/json dojo/dom-class dojo/dom-construct dojo/string dojo/has esri/config esri/lang ../pageUtil ../portal/PortalItem ../utils/strings ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Content ../../map/utils/getMapCookie ../../sharing/dijit/dialog/ConfirmDialog ../dijit/ChangeOwner ../dijit/MoveItem ../../sharing/dijit/dialog/DeleteWarningDlg ../../sharing/dijit/dialog/ExportDlg ../../sharing/dijit/dialog/ExtentDlg ../../sharing/dijit/dialog/GeneralDlg ../../sharing/dijit/dialog/ShareOwnershipDlg ../../sharing/utilShare ../../sharing/dijit/dialog/RateLimiting ../../sharing/dijit/dialog/LayerTimeSettings ../../sharing/dijit/dialog/UpdateItemDlg ../../sharing/dijit/dialog/PublishTileServiceDlg ../../sharing/dijit/dialog/CreateAppDlg ../organization/widgets/ProfilePopup ./widgets/AdvancedOfflineOptions/AdvancedOfflineOptions ../../sharing/dijit/dialog/AttachCodeDlg ../../sharing/dijit/dialog/OpenMapDlg ../../sharing/dijit/dialog/ManageSceneCache ../../sharing/dijit/dialog/JobStatusDlg ../../sharing/dijit/AppendData ../dijit/ReplaceLayer/ReplaceLayer ../dijit/ReplaceLayer/ReplaceSceneLayer ../../sharing/dijit/dialog/OverwriteFromCloud ../../sharing/dijit/dialog/_CreateItemUtilMixin ./widgets/_metadata ./widgets/typeOptions/mapOptions/httpsUpdate ./widgets/typeOptions/mapOptions/domainUpdate ../utils/setItemUrls ../utils/item ../utils/alerts ../utils/arrays ../utils/dom ../utils/number ../utils/verified ../utils/icons ../serviceUtil ../components/Collaborations/collab-service esri/request arcgis-components/wrappers/Share dojo/i18n!../../nls/arcgisonline ../portal/PortalUser preact ../components/ConfirmDialog ../statusUtil ../components/ImageUploadModal/ImageUploadModal ../components/UpdateViewModal".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y,Q,fa,S,O,I,Z,W,ca,T,P,X,da,ea,ja,la,ma,oa,sa,va,za,Aa,Ba,Oa,Ja,xa,Ea,ta,pa){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);
a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);V=n.__importDefault(V);
aa=n.__importDefault(aa);ha=n.__importDefault(ha);ia=n.__importDefault(ia);ka=n.__importDefault(ka);qa=n.__importDefault(qa);Y=n.__importDefault(Y);Q=n.__importDefault(Q);fa=n.__importDefault(fa);S=n.__importDefault(S);O=n.__importDefault(O);I=n.__importDefault(I);Z=n.__importDefault(Z);W=n.__importDefault(W);ca=n.__importDefault(ca);T=n.__importDefault(T);P=n.__importDefault(P);X=n.__importDefault(X);da=n.__importDefault(da);ea=n.__importDefault(ea);ja=n.__importDefault(ja);la=n.__importDefault(la);
ma=n.__importDefault(ma);oa=n.__importDefault(oa);sa=n.__importDefault(sa);va=n.__importDefault(va);za=n.__importDefault(za);Ba=n.__importDefault(Ba);Oa=n.__importDefault(Oa);xa=n.__importDefault(xa);Ea=n.__importDefault(Ea);ta=n.__importDefault(ta);pa=n.__importDefault(pa);return function(ya){function ua(){return null!==ya&&ya.apply(this,arguments)||this}n.__extends(ua,ya);ua.openDefault=function(na){var ra,wa=na.evt,Fa=na.item,Da=null===(ra=null===Fa||void 0===Fa?void 0:Fa.openIn)||void 0===ra?
void 0:ra[0],Ca="Operation View"===Fa.type||"Dashboard"===Fa.type;ra="appViewer"===Da||"StoryMap"===Fa.type;var Ia="mapViewer"===Da,La="notebookViewer"===Da,Ga=ea["default"].includes(Fa.types,"is-desktop")||ea["default"].includes(Fa.types,"is-desktopPro"),Ma=ea["default"].includes(Fa.types,"is-pro"),Ha=Fa.types.some(function(Na){return-1<["is-download","is-pdf","is-file"].indexOf(Na)}),Ka=ea["default"].includes(Fa.types,"is-downloadImage");(Da=Ca?null:document.querySelector(".js-open-"+(ra?"url":
Da)))?(wa=g["default"].get(Da,"href"),ra?window.open(wa):Ia?this.newMapViewer(na):window.location.href=wa):La?window.open(Fa.notebookViewerUrl,"_blank").focus():Ga?this.openDesktop(na):Ma?this.openPro(na):Ha?this.download(na):Ka?this.downloadImage(na):Ca?(Da=Array.prototype.slice.call(document.querySelectorAll(".js-open-btn")).filter(function(Na){return 0!==(null===Na||void 0===Na?void 0:Na.offsetHeight)}).shift(),wa=Da.getAttribute("href"),"Dashboard"===Fa.type?window.open(wa):window.location.href=
wa):u["default"].stop(wa)};ua.exportData=function(na){var ra=na.evt,wa=na.item,Fa=new G["default"],Da=na.layerId||g["default"].get(ra.currentTarget,"data-layerId");na=na.layer||(b["default"].isDefined(Da)?c["default"].findLayer(Da,wa.layers):wa.layers);Fa.show(wa,na,g["default"].get(ra.target,"data-type"));h["default"](Fa,"done",function(Ca){Fa.hide().then(function(){window.location.href="item.html?id\x3d"+Ca.itemId})})};ua.exportImagery=function(na){var ra=na.item,wa=ra.portal||{},Fa=this._getAvailableCredits(wa),
Da=wa.isPortal?null:new v["default"];if(!wa.isPortal){wa=sa["default"].fetchExportImageryCredits(ra);var Ca=wa.canceller;wa.dfd.then(function(La){var Ga=La.outputValue;La.success&&Ga.credits?(La=d["default"].substitute(Ba["default"].exportDlg.costForTilePackage,{credits:la["default"].format(Ga.credits),availableCredits:la["default"].format(Fa)}),Da.resolve({success:Fa>=Ga.credits,code:1,message:La})):Da.reject(Ba["default"].errorWidget.defaultError);return null},function(){return Da.reject(Ba["default"].errorWidget.defaultError)})}var Ia=
new G["default"];Ia.show(ra,ra.layers,g["default"].get(na.evt.target,"data-type"),{waitForCredits:Da,canceller:Ca});h["default"](Ia,"done",function(La){Ia.hide().then(function(){window.location.href="item.html?id\x3d"+La.itemId})})};ua.appendData=function(na){var ra=na.evt,wa=na.page,Fa=na.item;na=b["default"].isDefined(na.layerId)?na.layerId:g["default"].get(ra.currentTarget,"data-layerId");na=b["default"].isDefined(na)?c["default"].findLayer(na,Fa.layers):null;var Da=(new fa["default"]({item:Fa,
layer:na,layers:na?[na]:Fa.layers})).show();h["default"](Da,"hide",function(Ca){wa._showDataLastUpdated(Fa);Da.destroyRecursive()})};ua.overwriteFromCloud=function(na){var ra=na.page.portal,wa=na.item,Fa=new I["default"];Z["default"].getCloudProviderItemResource(wa).then(function(Da){Fa.startup(ra,Da,wa);Fa.showModal()},this._showError);h["default"](Fa,"hide",function(Da){Fa.destroyRecursive()})};ua.download=function(na){na=na.item;y["default"]._fetchItemData(na,this.getItemDataUrl(na))};ua.openDesktop=
function(na){var ra=na.evt,wa=na.item,Fa=wa.portal||{};ra=ra&&g["default"].get(ra.target,"data-type")||"arcmap";var Da=wa.url||"",Ca="Map Service"===wa.type,Ia="Image Service"===wa.type,La=y["default"].onAGOLFederatedServer(Da)||y["default"].onFederatedServer(Da),Ga=-1!==Da.indexOf(".arcgis.com/")&&-1!==Da.indexOf("//landscape"),Ma=wa.openPkg,Ha=wa.openData;Da=wa.openLyr;"pro"===ra?this.openPro(na):(Fa.isPortal||!Ca&&!Ia||wa.isHostedService||wa.isServiceProxy||La||Ga||(Da=!0),na=Ma?this._getItemPkgPath(wa):
Ha?this.getItemDataUrl(wa):Da?this._getLyrPath(wa):this._getPItemPath(wa),Da?y["default"].openPageAndCount(wa.id,na):y["default"]._fetchItemData(wa,na))};ua.openPro=function(na){na=na.item;var ra=this._getPItemXPath(na);na.openLyr?y["default"].openPageAndCount(na.id,ra):y["default"]._fetchItemData(na,ra)};ua.share=function(na,ra){var wa,Fa,Da,Ca,Ia=na.items||(na.item?[na.item]:[]),La=na.item||Ia[0]||{},Ga=document.createElement("div");Ga.classList.add("share-item-wrapper");document.body.appendChild(Ga);
var Ma=na.telemetryWorkflow,Ha=na.user.portal||(null===(wa=na.page)||void 0===wa?void 0:wa.portal),Ka=na.user||(null===(Fa=na.page)||void 0===Fa?void 0:Fa.portalUser),Na=Ia.length,Qa=window.location.href,Pa=-1<Qa.indexOf("item.html")?"item":"content",Ra=na.telemetry||(null===(Da=na.page)||void 0===Da?void 0:Da.telemetry);!Ma&&Ra&&(Ma=Ra.startWorkflow("share",{details:La.access,pageUrl:Qa,pageName:Pa,count:Na}));var Sa=function(){var Ua;document.documentElement.classList.remove("overflow-hidden");
Ga.parentElement.removeChild(Ga);null===(Ua=null===ra||void 0===ra?void 0:ra.target)||void 0===Ua?void 0:Ua.focus()};document.documentElement.classList.add("overflow-hidden");var Va=new v["default"];Ha.canHavePartnerCollab()?va["default"].getCollaborations().then(function(Ua){var Ta;Ua=(null===(Ta=null===Ua||void 0===Ua?void 0:Ua.trustedOrgs)||void 0===Ta?void 0:Ta.filter(function(Xa){return-1<Xa.from.established&&-1<Xa.to.established}))||[];Va.resolve(Ua)}):Va.resolve([]);Va.then(function(Ua){new Aa.ShareWrapper(Ga,
{apiVersion:3,portal:Ha,portalUser:Ka,request:za["default"],initialState:{resources:{items:Ia},utilities:{onCancel:function(){Ma&&Ra&&Ra.cancelWorkflow("share",{pageName:Pa,pageUrl:Qa});Sa()},onComplete:function(Ta){var Xa,ab=0<(null===(Xa=null===Ta||void 0===Ta?void 0:Ta.errors)||void 0===Xa?void 0:Xa.length)&&Ta.errors[0];if(Ma){Xa={pageName:Pa,pageUrl:Qa,count:Na,details:void 0,error:void 0};if(Ta.selectedOptions){var Wa=Ta.selectedOptions,db=Object.keys(Ta.selectedOptions).filter(function($a){return"total"!==
$a}).reduce(function($a,Ya){if(!$a||Wa[Ya]>Wa[$a])$a=Ya;return $a},null);Xa.details=Wa[db]===Wa.total?db:"mixed"}ab&&ab.notSharedWith&&(Xa.error=ab.notSharedWith);Ra&&Ra.endWorkflow("share",Xa)}Sa();ab?da["default"].showAlert("error",ab.error.message):1===Ia.length?da["default"].showAlert("success",d["default"].substitute(Ba["default"].sharingDlg.itemUpdated,[Ia[0].title])):da["default"].showAlert("success",d["default"].substitute(Ba["default"].sharingDlg.itemsUpdated,[Ia[0].title,Ia.length-1]));
var cb=Ia.reduce(function($a,Ya){var bb;return n.__assign(n.__assign({},$a),(bb={},bb[Ya.id]=!0,bb))},{}),Za=Ia[0].portal;Ta=(Ta&&Ta.dependentItems||[]).filter(function($a){return!cb[$a.id]}).map(function($a){return new m["default"](t["default"].mixin($a,{portal:Za}))});Ia=Ia.concat(Ta);w["default"](Ia.map(t["default"].hitch(c["default"],"getItemSharing"))).then(function($a){Ia.forEach(function(Ya,bb){Ca=$a[bb];var eb=(Ca.groups||[]).map(function(fb){return{id:fb.id,thumbnail:fb.thumbnail,title:fb.title}});
t["default"].mixin(Ya,{access:(null===Ca||void 0===Ca?void 0:Ca.access)||Ya.access,sharing:Ca,groupData:eb,sharedGroups:Ca.total||0});Ya.contentStatus=X["default"].getContentStatus(Ya)});return w["default"](Ia.map(ma["default"].getVerifiedInfo))}).then(function($a){$a.forEach(function(Ya,bb){Ia[bb].verified=Ya});Ia.forEach(function(Ya){var bb="public"===Ya.access,eb=Ya.types||[];eb=ea["default"].concatUnique(eb,bb?["is-public"]:["is-not-public"]);eb=ea["default"].filterOut(eb,bb?["is-not-public"]:
["is-public"]);Ya.types=eb.concat();Ya.set("sharing",Ya.sharing)});k["default"].publish("view/updateShare",Ia);k["default"].publish("view/deselectAll",{})})}},config:{groupsPerPage:100,hasTrustedOrgs:0<Ua.length}}})})};ua.shareOwnership=function(na){na.portal.getPortalUser().getGroups().then(function(ra){var wa=na.item||{},Fa=na.items||[wa],Da=wa.type,Ca=new D["default"]({"class":"sharedOwnershipDlg",title:Ba["default"].sharingDlg.sharedOwnershipTitle,buttonOk:Ba["default"].common.ok,buttonCancel:Ba["default"].common.cancel,
style:{height:"auto"}}),Ia=new M["default"]({value:{items:Fa,groups:ra}}),La;Ca.setContent(Ia.domNode);Ia.startup().then(function(){Ca.show()});var Ga=k["default"].subscribe("/dlg/onOk",function(){Ia.validate().then(function(){Ia.shareWithSelectedGroup().then(function(){w["default"](Fa.map(t["default"].hitch(c["default"],"getItemSharing"))).then(function(Ha){Fa.forEach(function(Ka,Na){La=Ha[Na];t["default"].mixin(Ka,{access:(null===La||void 0===La?void 0:La.access)||Ka.access,sharing:La})});Fa[0].set("sharing",
Fa[0].sharing);k["default"].publish("view/deselectAll",{});na.item&&("Web Map"===Da||"Web Scene"===Da?(a["default"].defaults.io.errorHandler=function(){},K["default"].checkWebMapContent({webMapId:wa.id,webMapItemCard:wa,webMapConfig:wa.itemData,confirmItemControl:!0})):"Web Mapping Application"===Da&&K["default"].checkWebAppContent({webAppId:wa.id,webAppItemCard:wa,confirmItemControl:!0}))});Ca.hide().then(function(){Ma.remove();Ga.remove()})},function(Ha){Ha&&Ha.messageCode&&"GWM_0021"===Ha.messageCode&&
na.page._showError(Ha)})})});var Ma=k["default"].subscribe("/dlg/onCancel",function(){Ma.remove();Ga.remove()})})};ua.rateLimiting=function(na){(new L["default"]({item:na.item,user:na.user})).showModal()};ua.timeSettings=function(na){var ra=na.item,wa=na.evt,Fa=na.user;na=na.layerId||g["default"].get(wa.target,"data-layerId");na=c["default"].findLayer(na,ra.layers);(new U["default"]({item:ra,layer:na,user:Fa})).showModal()};ua.toggleFavorite=function(na){var ra=na.item,wa=na.item.isFavorite;na=na.evt;
var Fa=new v["default"];u["default"].stop(na);B["default"][wa?"removeFromFavorites":"addToFavorites"](ra).then(function(Da){var Ca,Ia;(null===(Ca=null===Da||void 0===Da?void 0:Da.notSharedWith)||void 0===Ca?0:Ca.length)||(null===(Ia=null===Da||void 0===Da?void 0:Da.notUnsharedFrom)||void 0===Ia?0:Ia.length)?Fa.reject({message:Ba["default"].itemProperties.error.cantShareFavorites}):(ra.set("isFavorite",!wa),Fa.resolve(ra.isFavorite))},function(Da){Fa.reject("item not provisioned"===(null===Da||void 0===
Da?void 0:Da.message)?{message:Ba["default"].itemProperties.error.noShareListedItem}:Da)});return Fa};ua.updateData=function(na){var ra=na.item,wa=g["default"].get(na.evt.target,"data-type"),Fa=ra.thumbnail&&-1===ra.thumbnail.indexOf("thumbnail/ago_downloaded.")&&-1===ra.thumbnail.indexOf("thumbnail/thumbnail.");if("append"===wa)return this.appendData(na);if("overwriteFromCloud"===wa)return this.overwriteFromCloud(na);var Da=new ba["default"];Da.show(ra);var Ca=k["default"].subscribe("itemData/update",
function(){Ca.remove();"Vector Tile Service"!==ra.type||Fa?Da.hide():(ra.set({thumbnail:"",thumbnailUrl:""}),ra.getThumbnail(!0).then(function(Ia){Da.hide()},function(){Da.hide()}))});h["default"].once(Da._updateItemDialog,"hide",function(){Da._updateItemDialog.destroyRecursive();Da.destroy()})};ua.publishService=function(na,ra,wa){void 0===ra&&(ra="file");var Fa=na.item,Da=na.user;na=na.page;var Ca=l["default"].create("div",null,document.body,"last"),Ia=Da;Fa.owner!==Da.username&&(Ia=new Oa["default"](Fa.itemOwner));
ra=ja["default"].createElement("arcgis-new-item",{isActive:!0,portal:Fa.portal,user:Ia,existingItem:Fa,config:q["default"],api:3,telemetry:na.telemetry,existingItemType:ra,existingItemPublishType:wa},Ca);ra.addEventListener("workflowCancel",function(){k["default"].publish("folders/refresh",{forcedDelay:1E3});l["default"].destroy(Ca)});ra.addEventListener("workflowComplete",function(La){var Ga=La.detail;La=Ga.id;var Ma=Ga.response,Ha=Ga.jobId,Ka=Ga.serviceType,Na=Ga.item;Ga=Ga.newItemMode;if(null===
Ma||void 0===Ma?0:Ma.success)if(l["default"].destroy(Ca),Ma=Ha?"\x26jobid\x3d"+Ha:"",Ha="Map Service"===Ka?Na.tileAutoCreation?"#overview/manageTiles":"#settings/manageTiles":"","tileLayer"===Ga)window.location.href="item.html?id\x3d"+La+Ma+Ha;else switch(null===Na||void 0===Na?void 0:Na.type){case "Tile Package":window.location.href="item.html?id\x3d"+La+Ma+(Ka?"#settings/buildCache":"");break;case "Service Definition":window.location.href="item.html?id\x3d"+La+Ma+("Map Service"===Ka?"#settings/manageTiles":
"");break;default:window.location.href="item.html?id\x3d"+La+Ma}})};ua.publishTiles=function(na){var ra=this,wa=na.item,Fa=na.user,Da=na.layer,Ca=wa&&wa.itemOwner&&wa.itemOwner.folders,Ia=g["default"].get(na.evt.target,"data-type"),La=this._getPublishingTypeMessage(wa,Ia);this._getPublishingCostMessage(wa,Ia).then(function(Ga){La=Ga&&Ga.message||La;if(!Ga||Ga.availableCredits>=Ga.totalCost)if("features"===Ia){var Ma=document.createElement("div"),Ha=function(Ka){Ja.render(Ja.h(pa["default"],{title:Ba["default"].itemProperties.publishViewLayer,
active:Ka,itemId:wa.id,onClose:function(){Ha(!1)}}),Ma)};Ha(!0)}else["vectorTiles","tiles"].includes(Ia)?ra.publishService(na,"tileLayer",Ia):(new V["default"]({portal:wa.portal,folders:Ca,portalUser:Fa,message:La,item:wa,showFolders:!0,type:Ia||"tiles",serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ka){var Na=null===Ka||void 0===Ka?void 0:Ka.id;Ka=!(null===Ka||void 0===Ka||!Ka.cacheOnDemand);Na&&(window.location.href="item.html?id\x3d"+Na+("tiles"===Ia?Ka?"":"#settings/manageTiles":
"scenes"===Ia?"#settings/buildCache":""))});else ra._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ua.publishImagery=function(na){var ra=this,wa=na.item,Fa=na.user,Da=na.layer,Ca=wa&&wa.itemOwner&&wa.itemOwner.folders,Ia=g["default"].get(na.evt.target,"data-type"),La=this._getImageServiceTypeMessage(Ia);this._getPublishingCostMessage(wa,Ia).then(function(Ga){La=Ga&&Ga.message||La;!Ga||Ga.availableCredits>=Ga.totalCost?(new V["default"]({portal:wa.portal,
folders:Ca,portalUser:Fa,message:La,item:wa,showFolders:!0,type:Ia,serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ma){if(Ma=null===Ma||void 0===Ma?void 0:Ma.id)window.location.href="item.html?id\x3d"+Ma}):ra._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ua._getImageServiceTypeMessage=function(na){return"dynamicImagery"===na?Ba["default"].publishImageServiceDlg.dynamicImageryLayerDesc:Ba["default"].publishImageServiceDlg.tileImageryLayerDesc};
ua._getPublishingTypeMessage=function(na,ra){switch(ra){case "wfs":var wa="wfsServiceDetailsDesc";break;case "ogcfeatures":wa="ogcFeatureServiceDetailsDesc";break;case "scenes":wa="sceneServiceDetailsDesc";break;case "features":wa="viewServiceDetailsDesc";break;case "vectorTiles":wa="vectorServiceDetailsDesc";break;default:wa="serviceDetailsDesc"}return Ba["default"].publishTileServiceDlg[wa]};ua._getAvailableCredits=function(na){var ra,wa;return(null===(ra=na.user)||void 0===ra?void 0:ra.availableCredits)||
(null===(wa=na.subscriptionInfo)||void 0===wa?void 0:wa.availableCredits)||0};ua._getPublishingCostMessage=function(na,ra){var wa=new v["default"];if("scenes"!==ra)wa.resolve(null);else{var Fa=Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,Da=this._getAvailableCredits(na.portal||{});sa["default"].fetchScenePublishingCredits(na,na.layers||[]).then(function(Ca){Fa=d["default"].substitute(Ba["default"].publishTileServiceDlg.createLayerCost,{credits:la["default"].format(Ca),availableCredits:la["default"].format(Da)});
Fa=Da>=Ca?d["default"].substitute(Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,{createLayerCost:Fa}):Fa;wa.resolve({totalCost:Ca,availableCredits:Da,message:Fa})})}return wa};ua.moveItem=function(na){var ra,wa=na.page.portal,Fa=na.portalUser||(null===(ra=na.item)||void 0===ra?void 0:ra.itemOwner)||wa.getPortalUser(),Da=na.currentFolder&&na.currentFolder.id||na.item&&na.item.folderId||Fa.username,Ca=na.selectedItems||[na.item];na=new x["default"]({items:Ca,owner:Fa,portal:wa,currentFolder:Da});
na.open();na.on("close",function(Ia){k["default"].publish("folders/refresh");if(Ia){var La=Ia.newFolder;Ia=Ia.error;if(La&&!Ia)if(k["default"].publish("items/itemDetailRefresh",La),Da&&"all"!==Da){Ca.forEach(function(Ka){t["default"].mixin(Ka,{folder:La,folderId:La.id,ownerFolder:La.id})});k["default"].publish("items/refresh",{removedItems:Ca});var Ga=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Ga.remove();k["default"].publish("folders/refreshAndSelect");
k["default"].publish("aggregations/refresh")})}else k["default"].publish("view/deselectAll",{}),k["default"].publish("aggregations/refresh");else if(Ia){var Ma=null===Ia||void 0===Ia?void 0:Ia.movedItems;if((null===Ma||void 0===Ma?0:Ma.length)&&Da&&"all"!==Da){k["default"].publish("items/refresh",{removedItems:null===Ia||void 0===Ia?void 0:Ia.movedItems});var Ha=k["default"].subscribe("items/refreshComplete",function(){Ha.remove();k["default"].publish("aggregations/refresh")})}}}})};ua.openLayerMetadata=
function(na){var ra,wa,Fa=na.item,Da=na.evt,Ca=null!==(ra=na.page)&&void 0!==ra?ra:null===(wa=null===na||void 0===na?void 0:na.scope)||void 0===wa?void 0:wa.page,Ia=Da.target;na=na.layerId||g["default"].get(Ia,"data-layerId");var La=!1,Ga=!1;ja["default"].disableNode(Ia,!0);W["default"].openLayerEditor(Fa,na).then(function(Ma){var Ha=[],Ka=function(){ja["default"].disableNode(Ia,!1)};Ha.push(Ma.gxeAdaptor.on("metadata-save",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||
void 0===Qa?0:Qa.success)La=!0,Ga=!1}));Ha.push(Ma.gxeAdaptor.on("metadata-delete",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||void 0===Qa?0:Qa.success)Ga=!0,La=!1}));Ha.push(f["default"].after(Ma.dialog,"show",Ka));Ha.push(f["default"].after(Ma.dialog,"hide",Ka));Ha.push(f["default"].after(Ma,"onDialogClose",function(){Ka();Ha.forEach(function(Na){var Qa;null===(Qa=null===Na||void 0===Na?void 0:Na.remove)||void 0===Qa?void 0:Qa.call(Na)});(La||Ga)&&setTimeout(function(){Ca._item.set("serviceChanged",
!0)},500)}))})};ua.viewMetadata=function(na){na=na.item.itemUrl+"/info/metadata/metadata.xml";var ra=y["default"].getUser();y["default"].openPage(na+"?format\x3ddefault\x26output\x3dhtml"+((null===ra||void 0===ra?0:ra.token)?"\x26token\x3d"+ra.token:""),!1)};ua.editMetadata=function(na){var ra=na.item,wa=na.evt.target,Fa=!1;ja["default"].disableNode(wa,!0);W["default"].openEditor(ra).then(function(Da){var Ca=[],Ia=function(){ja["default"].disableNode(wa,!1)};Ca.push(Da.gxeAdaptor.on("metadata-save",
function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=ea["default"].concatUnique(ra.typeKeywords,["Metadata"]),ra.set("typeKeywords",La.join(",")),Fa=!0}));Ca.push(Da.gxeAdaptor.on("metadata-delete",function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=ea["default"].filterOut(ra.typeKeywords,["Metadata"]),ra.set("typeKeywords",La.join(",")),Fa=!1}));Ca.push(f["default"].after(Da.dialog,"show",Ia));
Ca.push(f["default"].after(Da.dialog,"hide",Ia));Ca.push(f["default"].after(Da,"onDialogClose",function(){Ia();Ca.forEach(function(La){var Ga;null===(Ga=null===La||void 0===La?void 0:La.remove)||void 0===Ga?void 0:Ga.call(La)});Fa&&setTimeout(function(){y["default"].request({url:ra.portal.portalUrl+"content/items/"+ra.id}).then(function(La){ra.set("accessInformation",La.accessInformation);ra.set("description",La.description);ra.set("licenseInfo",La.licenseInfo);ra.set("snippet",La.snippet);ra.set("tags",
La.tags);ra.set("title",La.title);ra.set("serviceChanged",!0)})},500)}))})};ua.setExtent=function(na){};ua.setSearchExtent=function(na){na=na.item;var ra=na.proxyFilter||{};na=na.unsavedSearchExtent||ra.searchExtent||null;var wa=new H["default"];na=na?p["default"].stringToArray(na,",",!1):null;wa._publish=function(Fa){k["default"].publish("searchExtent/update",Fa)};na=4===(null===na||void 0===na?void 0:na.length)?[[Number(na[0]),Number(na[1])],[Number(na[2]),Number(na[3])]]:null;wa.show(na);h["default"].once(wa._extentDialog,
"hide",function(){wa._extentDialog.destroyRecursive();wa.destroyRecursive()})};ua.reassignItem=function(na){var ra,wa,Fa,Da,Ca=na.item||{},Ia=na.items||[Ca],La=null===(ra=na.page)||void 0===ra?void 0:ra.telemetry;ra=na.portal||na.page&&na.page.portal||{};var Ga=(null===Ca||void 0===Ca?void 0:Ca.itemOwner)||na.owner,Ma=(null===(wa=na.owner)||void 0===wa?void 0:wa.getCurrentFolder())||{};wa=null===(Fa=Ca.resultData)||void 0===Fa?void 0:Fa.length;Fa="Feature Service"===(null===(Da=null===Ca||void 0===
Ca?void 0:Ca.sourceData)||void 0===Da?void 0:Da.type);var Ha=na.dontRemoveFromList||!1;if(!Ca.isHostedService&&wa||Ca.isHostedService&&Fa&&("WFS"===Ca.type||Ca.isDataView||"Map Service"===Ca.type||"Scene Service"===Ca.type)){var Ka=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});Ka.show({title:Ba["default"].common.notice,message:Ba["default"].common.errors.reassignSourceItemWithRelated}).then(function(){return Ka.hide()})}else Da=new F["default"]({items:Ia,
owner:Ga,portal:ra,telemetry:La,currentFolder:Ma}),Da.open(),Da.on("close",function(Na){var Qa;if(Na){var Pa=Na.newOwner,Ra=Na.newFolder,Sa=Na.error;Na=Na.updatedItems;if(Pa&&Ra&&!Sa)if(Ha=Ha||Pa===Ga.username&&(null===(Qa=na.folder)||void 0===Qa?void 0:Qa.isAll),Ia.forEach(function(Ta){t["default"].mixin(Ta,{owner:Pa})}),na.noRedirect){k["default"].publish("items/refresh",Ha?{forcedDelay:1E3}:{removedItems:Ia});var Va=k["default"].subscribe("items/refreshComplete",function(){Va.remove();k["default"].publish("folders/refreshAndSelect");
Sa||k["default"].publish("view/deselectAll",{});k["default"].publish("aggregations/refresh")})}else window.location.href="item.html?id\x3d"+Ca.id;if(Sa){Na.map(function(Ta){return ea["default"].find(Ia,function(Xa){return Xa.id===Ta.itemId})}).forEach(function(Ta){t["default"].mixin(Ta,{owner:Pa})});k["default"].publish("items/refresh",{forcedDelay:1E3});var Ua=k["default"].subscribe("items/refreshComplete",function(){Ua.remove();k["default"].publish("aggregations/refresh")})}}})};ua.deleteItem=function(na){var ra=
this,wa=na.item,Fa=wa.portal||{},Da,Ca,Ia,La,Ga,Ma,Ha=function(Ka){if(Ka&&Ka.success)if(na.noRedirect){k["default"].publish("items/refresh",{removedItems:[wa]});var Na=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Na.remove();Ma.hide();k["default"].publish("alert/show",{type:"success",text:Ba["default"].itemProperties.itemDeleteSuccess});k["default"].publish("aggregations/refresh")})}else window.location.href=(null===Ia||void 0===Ia?0:Ia.id)?"item.html?id\x3d"+
Ia.id:wa.isAdmin&&!wa.isOwner?"content.html?user\x3d"+wa.owner:"content.html";else Ma.hide(),na.noRedirect?k["default"].publish("alert/show",{type:"error",text:Ba["default"].common.errors[(null===Ka||void 0===Ka?void 0:Ka.messageCode)||""]||Ka}):ra._showError(Ka)};w["default"]({canBeDeleted:Fa.isPortal?wa.canBeDeleted():null,sourceData:wa.getSourceData(),resultData:wa.getResultData()}).then(function(Ka){var Na,Qa,Pa;Da=null===(Na=Ka.canBeDeleted)||void 0===Na?void 0:Na.success;Ca=!Da&&(null===(Qa=
Ka.canBeDeleted)||void 0===Qa?void 0:Qa.offendingItems)||[];Ia=Ka.sourceData;La=Ka.resultData;Ga=!Ia&&(null===La||void 0===La?void 0:La.length)&&!wa.isHostedService;Na=Ba["default"].itemProperties.deleteItemBlocked+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e';Qa=Ba["default"].itemProperties.deleteSourceItem+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e\x3cbr/\x3e'+Ba["default"].itemProperties.deleteSourceItemMsg;var Ra=Ga?Qa:Na,Sa="",Va=Fa.helpBase+Fa.helpMap.m["120001208"];
Na=La||Ca||void 0;var Ua=(null===Na||void 0===Na?0:Na.length)?Na.length-5:0,Ta=(null===Na||void 0===Na?0:Na.length)?Na.map(function(Xa){return"id:"+(Xa.id||Xa.itemId)}).join(" OR "):"";Fa.isPortal?Da?(Ma=new E["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(wa).then(Ha,Ha)},!0),h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})):Da||Ca.length?(Ka=((null===(Pa=Ka.canBeDeleted)||void 0===
Pa?void 0:Pa.offendingItems)||[]).map(function(Xa){return y["default"].request({url:Fa.portalUrl+"content/items/"+Xa.itemId})}),w["default"](Ka).then(function(Xa){Ca=Xa;Ca=Ca.map(function(ab){return new m["default"](t["default"].mixin(ab,{portal:Fa}))});Ca.forEach(function(ab,Wa){5>Wa&&(Sa+=d["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',{relItem:ab,i18n:Ba["default"]}))});Sa+=5<Ca.length?
d["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"";Ra=d["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va});Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,
style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(ab){"onOk"===ab&&c["default"].deleteItem(wa).then(Ha,Ha)})):(Ma=new J["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}));h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})})):(Pa=Ka.canBeDeleted,k["default"].publish("alert/show",{type:"error",text:Pa&&(Pa.messageCode&&Ba["default"].common.errors[Pa.messageCode]||Pa.message||
Ba["default"].common.errors.genericError.message)})):(!La||!La.length||ra.isFeedWithSingleHostedFeatureLayer(wa,La)||ra.isHostedFeatureLayerFromFeed(wa,La)?(Ma=new E["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(wa).then(Ha,Ha)},!0)):(La.forEach(function(Xa,ab){5>ab&&(Sa+=d["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',
{relItem:Xa,i18n:Ba["default"]}))}),Sa+=5<La.length?d["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"",Ra=d["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va}),Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,
buttonCancelLabel:Ba["default"].common.noLabel,style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(Xa){"onOk"===Xa&&c["default"].deleteItem(wa).then(Ha,Ha)})):(Ma=new J["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}))),h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()}))},function(Ka){k["default"].publish("alert/show",{type:"error",text:Ka&&(Ka.messageCode&&Ba["default"].common.errors[Ka.messageCode]||
Ka.message||Ba["default"].common.errors.genericError.message)})})};ua.toggleAttachments=function(na){var ra=na.item,wa=na.evt,Fa=ra.isDataView,Da=Ba["default"].itemProperties,Ca=Fa?Da.showAttachments:Da.enableAttachments,Ia=Fa?Da.hideAttachments:Da.disableAttachments,La=Fa?Da.showingAttachments:Da.enablingAttachments,Ga=Fa?Da.hidingAttachments:Da.disablingAttachments,Ma=Fa?Da.enablingAttachmentsViewMessage:Da.enablingAttachmentsMessage;Da=Fa?Da.disableAttachmentsViewMessage:Da.disableAttachmentsMessage;
var Ha=na.layerId||g["default"].get(wa.target,"data-layerId"),Ka=na.layer||c["default"].findLayer(Ha,ra.layers),Na=Ka.hasAttachments,Qa=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,busyMessage:Na?Ga:La,style:{width:"460px",height:"auto"}}),Pa=function(){Qa.set("disabled",!0);c["default"].enableAttachments(ra,Ka,!Na).then(function(){ra.set("maxAgeCheck",!0);g["default"].set(wa.target,"innerHTML",oa["default"].inline.attachment["16"]+(Na?
Ca:Ia));Qa.hide()},function(Ra){Ra=Ra&&(Ra.messageCode&&Ba["default"].common.errors[Ra.messageCode]||Ra.message||Ba["default"].common.errors.genericError.message);Qa.hide();k["default"].publish("alert/show",{type:"error",text:Ra})})};na=function(Ra){Qa.show({title:Na?Ia:Ca,message:Ra}).then(function(Sa){"onOk"===Sa&&Pa()})};Fa?Pa():na(Na?Da:Ma)};ua.createApp=function(na){var ra,wa=na.item,Fa=na.portal;na=na.evt;if(null===(ra=null===na||void 0===na?void 0:na.target)||void 0===ra?0:ra.href)return window.open(na.target.href,
"_blank");var Da=wa.isHostedTemplate;ra="wab"===g["default"].get(na.target,"data-type")||ea["default"].includes(wa.typeKeywords,"Web AppBuilder for ArcGIS");na=g["default"].get(na.target,"data-type")||null;Da=Da||ra;var Ca=new aa["default"]({item:wa});ra={isWab:ra};if(na){"webscene"===na&&Fa.isPortal&&(ra.typeInfo="webscene_portal");if("storymap"===na)return window.open(q["default"].storymapsUrl+"/stories/new?"+("Web Scene"===wa.type?"webscene":"webmap")+"\x3d"+wa.id,"_blank");(wa=Da?Ca.showModal(ra):
Ca.showWizard(ra))&&wa.then(function(Ia){if(null===Ia||void 0===Ia?0:Ia.configureUrl)window.location.href=Ia.configureUrl})}};ua.profilePopup=function(na){var ra=this,wa=na.item,Fa=na.evt;(wa=na.profile||wa.owner||(na.user?na.user.username||na.user:null))&&!this._popup&&(this._popup=new ha["default"]({username:wa,opener:Fa.target,portal:na.page.portal}),this._popup.open(),h["default"].once(this._popup,"close",function(){ra._popup=void 0}))};ua.advancedOfflineOptions=function(na){var ra=document.createElement("div");
document.body.appendChild(ra);(new ia["default"]({item:na.item,page:na.page},ra)).open()};ua.attachCode=function(na){var ra=na.item;na=ra.codeAttachment;var wa=c["default"].createSpecifiedDialog(ka["default"],{item:ra,sharing:ra.sharing});wa.show(na);f["default"].after(wa,"onUpload",function(){ra.set("codeAttachmentChanged",!0);wa.hide()})};ua.deleteCode=function(na){var ra=na.item;na=na.item;var wa=na.portal,Fa=na.codeAttachment;na="Web Mapping Application"===ra.type&&ea["default"].includes(ra.typeKeywords,
"Web AppBuilder");Fa&&c["default"].createSpecifiedDialog(E["default"]).showMsgTitleButton(""+Ba["default"].itemProperties.removeAttachmentMsg+(na?"":"\x3cbr\x3e\x3cbr\x3e"+Ba["default"].itemProperties.removeAttachmentUpdate),Ba["default"].itemProperties.removeAttachmentTitle,Ba["default"].itemProperties.removeAttachmentButton,function(){y["default"].request({url:wa.portalUrl+"content/items/"+Fa.id}).then(function(Da){Da=new m["default"](t["default"].mixin(Da,{portal:ra.portal}));c["default"].deleteItem(Da).then(function(){ra.set("codeAttachment",
null)})})})};ua.thumbnail=function(na){var ra=this,wa=document.getElementById("item-thumb-modal-container");wa||(wa=document.createElement("div"),wa.id="item-thumb-modal-container",document.body.appendChild(wa));var Fa=function(){Ja.render(null,wa)},Da=Ba["default"].GroupWidget.thumbnailDlg;Ja.render(Ja.h(ta["default"],{contentClass:"esriThumbnailDlg",onSave:function(Ca){return n.__awaiter(ra,void 0,void 0,function(){var Ia,La,Ga,Ma,Ha,Ka,Na,Qa,Pa,Ra,Sa;return n.__generator(this,function(Va){switch(Va.label){case 0:Ia=
new FormData,La="thumbnail"+(new Date).getTime()+"."+Ca.format,Ia.append("thumbnail",Ca.blob,La),Ia.append("f","json"),Ga=na.item,Ma=na.page.portalUser,Ka=(Ha=Ga.itemOwner)?Ha.userContentUrl:Ma.userContentUrl,Na=Ga.folderId&&"/"!==Ga.folderId?"/"+Ga.folderId:"",Qa=""+Ka+Na+"/items/"+Ga.id+"/update",Va.label=1;case 1:return Va.trys.push([1,4,,5]),[4,y["default"].request({url:Qa,form:Ia,timeout:12E4},{usePost:!0})];case 2:return Va.sent(),[4,Ma.getItem(Ga.id)];case 3:return Pa=Va.sent(),Ra=Ga.thumbnailUrl,
Pa.thumbnailUrl&&(Sa=-1<Pa.thumbnailUrl.indexOf("?token\x3d"),Ra=""+Pa.thumbnailUrl+(Sa?"\x26":"?")+"ts\x3d"+(new Date).getTime()),Ga.set("thumbnailUrl",Ra),Fa(),[3,5];case 4:return Va.sent(),[3,5];case 5:return[2]}})})},onCancel:Fa,allowFromMap:!0,height:293,aspectRatio:1.5,zoomToFull:!0,fillBackground:!0,itemId:na.item.id,texts:{title:Da.createThumb,drag:Da.uploadImage,size:Da.dragAndDrop}}),wa)};ua.newMapViewer=function(na){var ra=na.item;na=na.evt;var wa=g["default"].get(na.currentTarget,"data-href")||
ra.mapNewViewerUrl,Fa=-1<wa.indexOf("useExisting\x3d1"),Da=ra.canOpenInNewMapViewer;"modern"===ra.portal.defaultMapViewer&&Da?window.location=g["default"].get(na.currentTarget,"href")||ra.newMapViewerUrl:"Web Map"!==ra.type&&Fa?window.location=wa:z["default"]().then(function(Ca){if(Ca&&!0===Ca.c){var Ia=new qa["default"];Ia.show(wa,Ca);h["default"].once(Ia._dialog,"hide",function(){Ia._dialog.destroyRecursive();Ia.destroy()})}else window.location=wa})};ua.whatsNew=function(na){var ra=new v["default"],
wa=na.key,Fa=na.endDate,Da=na.redirectUrl,Ca=na.disableDebugBlock,Ia=new Date((new Date).getTime()+31556926E3),La={},Ga=new Date,Ma=y["default"].getCookie("esri_whatsnew")||{},Ha={closeable:!1,showCancel:!!Da,buttonOkLabel:Da?Ba["default"].common.learnMore:Ba["default"].common.gotIt,buttonCancelLabel:Ba["default"].common.gotIt,className:"whatsNewDlg"},Ka=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";if(Ga<Fa&&(Ca||!q["default"].isDebug))if(Ma[wa])ra.resolve(!0);else{var Na=
new D["default"](Ha);Da?(r["default"].add(Na.okButton.domNode,"hide"),Fa=l["default"].create("a",{className:"btn right learn-more-link icon-ui-link-external",href:Da,target:"_blank",innerHTML:Ba["default"].addItemFrm.learnMore},Na.actionBarNode,"last")):Fa=Na.okButton;h["default"].once(Fa,"click",function(){Na.hide()});h["default"].once(Na,"hide",function(){La[wa]=!0;C["default"]("esri_whatsnew",A["default"].stringify(t["default"].mixin(Ma,La)),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"});ra.resolve(!0)});
Na.show({message:na.message||"",title:na.title||""})}else Ma[wa]&&(delete Ma[wa],C["default"]("esri_whatsnew",A["default"].stringify(Ma),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"})),ra.resolve(!0);return ra};ua.shareSocial=function(na){var ra=na.evt.target;na=na.item;na="public"===(null===na||void 0===na?void 0:na.access);var wa=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});na?window.open(g["default"].get(ra,"href")):wa.show({title:Ba["default"].itemLinks.shareItem,
message:b["default"].substitute({appTitle:q["default"].portalName||"ArcGIS.com"},Ba["default"].itemLinks.shareItemMsg)}).then(function(){wa.hide().then(function(){window.open(g["default"].get(ra,"href"))})})};ua.sceneJobStatus=function(na){var ra=na.item,wa=na.item;na=wa.portal;var Fa=wa.portal.isPortal,Da=ra.properties.cacheJobUrl;wa=ra.lastCachingJobStatus;var Ca=ra.serverToken?"?token\x3d"+ra.serverToken:"",Ia=Fa?""+Da+Ca:ra.adminUrl+"/"+Da+Ca;ra=Fa?Da:ra.adminUrl+"/"+Da+Ca;(new Q["default"]).show(na,
na.portalUser,Ia,ra,wa)};ua.manageSceneCache=function(na){var ra=na.item,wa=na.page;na=na.item.portal.isPortal?wa._hostedFederatedServer:void 0;wa=ra.sourceData||{};(new Y["default"]).show(wa,ra,na)};ua.markItemAsAuthoritative=function(na){var ra,wa=na.item,Fa=((null===(ra=wa.portal)||void 0===ra?0:ra.isVerified)&&"public"===wa.access?"public":"org")+"_authoritative";wa._setContentStatusTo(Fa).then(function(Da){Da.success&&(wa.set("protected",!0),k["default"].publish("item/protect",{protect:!0}),
wa.set("contentStatus",Fa));return ma["default"].getVerifiedInfo(wa)}).then(function(Da){wa.set("verified",Da)})};ua.markItemAsDeprecated=function(na){var ra=na.item;ra._setContentStatusTo("deprecated").then(function(wa){wa.success&&(ra.set("contentStatus","deprecated"),ra.set("verified",!1))})};ua.removeContentStatus=function(na){var ra=na.item;ra._setContentStatusTo("").then(function(wa){wa.success&&(ra.set("contentStatus",""),ra.set("verified",!1))})};ua.httpsUpdate=function(na){var ra=document.createDocumentFragment();
na=new ca["default"](na,l["default"].create("div",null,ra));var wa=c["default"].createDialogWrapper({className:"update-to-https-dlg",draggable:!e["default"]("touch"),title:Ba["default"].itemProperties.updateLayersToHTTPS},ra);ra=function(){wa.hide()};na.startup();na.own(k["default"].subscribe("update-to-https/done",ra),k["default"].subscribe("update-to-https/cancel",ra));wa.show()};ua.domainUpdate=function(na){var ra=document.createDocumentFragment(),wa=new T["default"](na,l["default"].create("div",
null,ra)),Fa=c["default"].createDialogWrapper({className:"update-domains-dlg",draggable:!e["default"]("touch"),title:Ba["default"].itemProperties.domainsTitle},ra);wa.startup();wa.own(k["default"].subscribe("update-domain/done",function(){Fa.hide()}));Fa.show();setTimeout(function(){wa.domainReplace.value&&wa.domainReplace.focus()},200)};ua.replaceLayer=function(na){(new S["default"]({item:na.item,page:na.page},l["default"].place(l["default"].create("div"),document.body.lastChild,"after"))).open()};
ua.replaceSceneLayer=function(na){(new O["default"]({item:na.item},l["default"].place(l["default"].create("div"),document.body.lastChild,"after"))).open()};ua.updateSourceUrlToHttps=function(na){var ra=na.page,wa=na.item;na=q["default"].restBaseUrl+"/portals/checkurl";var Fa=[200,301,302,304,307,401,403,407,498,499],Da=null===wa||void 0===wa?void 0:wa.url,Ca=(null===wa||void 0===wa?void 0:wa.sourceUrl)&&p["default"].startsWith(wa.sourceUrl,"http://"),Ia=null===wa||void 0===wa?void 0:wa.sourceUrl;
if(Ca){var La=Ia.replace("http://","https://");y["default"].request({url:na+"?url\x3d"+encodeURIComponent(La+"?f\x3djson")},{addToken:!1}).then(function(Ga){Ga&&!Ga.code&&ea["default"].includes(Fa,Ga.httpStatusCode)?ra.updateItem({url:La}).then(function(){wa.set({url:Da,sourceUrl:La});k["default"].publish("item/proxy-url-update",{sourceUrl:La});da["default"].showAlert("success",Ba["default"].itemProperties.upgradeToHttpsSuccess)}):da["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)},
function(Ga){da["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)})}};ua.downloadImage=function(na){c["default"].downloadImage(na).then(function(ra){ra&&ra.url&&(window.location=ra.url)})};ua.refreshSnapshot=function(na){var ra,wa,Fa,Da,Ca=na.item;na=na.page;var Ia=(null===(wa=null===(ra=Ca.adminServiceInfo)||void 0===ra?void 0:ra.properties)||void 0===wa?0:wa.serviceInfo)?JSON.parse(Ca.adminServiceInfo.properties.serviceInfo):{};ra=((null===Ia||void 0===Ia?void 0:Ia.layers)||
[]).filter(function(Ua){return-1<Ua.queryPolicy.indexOf("createSnapshot")}).map(function(Ua){return Ua.id}).map(function(Ua){var Ta;return null===(Ta=Ca.serviceInfo.layers.filter(function(Xa){return Xa.id===Ua}).shift())||void 0===Ta?void 0:Ta.name});var La=na._hostedFederatedServer.url+"/rest/services/System/PublishingTools/GPServer/Refresh%20Service",Ga=La+"/submitJob";wa=null===(Da=null===(Fa=Ca.url.split("/rest/services/"))||void 0===Fa?void 0:Fa[1])||void 0===Da?void 0:Da.split("/");var Ma=(Fa=
2===(wa.indexOf("MapServer")||wa.indexOf("FeatureServer")))?wa[1]:wa[0],Ha={f:"json",token:Ca.adminServerToken,serviceType:"MapServer",serviceName:Ma,serviceFolder:Fa?wa[0]:null},Ka=document.getElementById("refresh-snapshot-dialog"),Na=document.getElementById("refresh-snapshot-error-dialog");Ka||(Ka=document.createElement("div"),Ka.id="refresh-shapshot-dialog",document.body.appendChild(Ka));Na||(Na=document.createElement("div"),Na.id="refresh-snapshot-error-dialog",document.body.appendChild(Na));
var Qa=Ba["default"].itemProperties.snapshot.refresh;Fa=Ba["default"].itemProperties.snapshot.description+'\x3cdiv class\x3d"leader-half margin-left-1 margin-right-1"\x3e'+ra.join("\x3cbr\x3e")+"\x3c/div\x3e";Da=Ba["default"].common;var Pa=Da.ok,Ra=Da.cancel,Sa=function(){Ja.render(null,Na);document.body.removeChild(Na)},Va=function(){Ja.render(Ja.h(xa["default"],{autoCloseOnOk:!0,hideCancel:!0,hideClose:!1,renderHtmlDescription:!1,onOk:Sa,onCancel:Sa,strings:{title:Qa,description:Ba["default"].itemProperties.snapshot.inProgress,
ok:Pa,cancel:Ra},width:"s"}),Na)};Ja.render(Ja.h(xa["default"],{autoCloseOnOk:!1,hideCancel:!1,hideClose:!1,renderHtmlDescription:!0,onOk:function(Ua){y["default"].request({url:Ga,content:Ha},{usePost:!0}).then(function(Ta){Ja.render(null,Ka);da["default"].showAlert("success",Ba["default"].itemProperties.snapshot.success.replace("${name}",Ma));Ea["default"].checkAsyncJobStatus(La+"/jobs/"+Ta.jobId).then(function(){null===Ua||void 0===Ua?void 0:Ua();da["default"].showAlert("success",Ba["default"].itemProperties.snapshot.finished.replace("${name}",
Ma))},function(Xa){null===Ua||void 0===Ua?void 0:Ua();Va()})},function(Ta){null===Ua||void 0===Ua?void 0:Ua();Va()})},onCancel:function(){Ja.render(null,Ka);document.body.removeChild(Ka)},strings:{title:Qa,description:Fa,ok:Pa,cancel:Ra},width:"s"}),Ka)};ua._getItemPkgPath=function(na){var ra=na.portal.getPortalUser();return na.itemUrl+"/item.pkinfo"+("public"!==na.access&&(null===ra||void 0===ra?0:ra.token)?"?token\x3d"+ra.token:"")};ua._getPItemPath=function(na){var ra=na.portal.getPortalUser();
return na.itemUrl+"/item.pitem"+("public"!==na.access&&(null===ra||void 0===ra?0:ra.token)?"?token\x3d"+ra.token:"")};ua._getPItemXPath=function(na){var ra=na.portal.getPortalUser();return na.itemUrl+"/item.pitemx"+("public"!==na.access&&(null===ra||void 0===ra?0:ra.token)?"?token\x3d"+ra.token:"")};ua._getLyrPath=function(na){var ra=na.portal.getPortalUser();return na.url+"?f\x3dlyr\x26v\x3d9.3"+("public"!==na.access&&(null===ra||void 0===ra?0:ra.token)?"\x26token\x3d"+ra.token:"")};ua._showError=
function(na){var ra=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});ra.show({title:na.title||Ba["default"].addItemFrm.errors.error.title,message:na.message||Ba["default"].addItemFrm.errors.error.message}).then(function(){ra.hide()})};ua.isFeedWithSingleHostedFeatureLayer=function(na,ra){return"Feed"===na.type&&na.isHostedService&&1===(null===ra||void 0===ra?void 0:ra.length)&&"Feature Service"===ra[0].type&&ea["default"].includes(ra[0].typeKeywords,
"Hosted Service")};ua.isHostedFeatureLayerFromFeed=function(na,ra){return"Feature Service"===na.type&&na.isHostedService&&1===(null===ra||void 0===ra?void 0:ra.length)&&"Feed"===ra[0].type&&ea["default"].includes(ra[0].typeKeywords,"Hosted Service")};return ua}(P["default"])})},"arcgisonline/map/utils/getMapCookie":function(){define(["dojo/Deferred","dojo/json"],function(R,N){return function(){var n=window.sessionStorage&&window.sessionStorage.getItem("Esri_webmap"),t=new R;n&&n.length?t.resolve(N.parse(n)):
t.resolve(null);return t}})},"arcgisonline/pages/dijit/ChangeOwner":function(){define("require exports tslib dojo/promise/all dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ../components/MemberPicker ../components/MemberThumb ./ChangeOwner/FolderPicker ../portal/PortalUser ../../tsutils/declareDecorator ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/organization ../../esriGeowConfig dojo/text!./ChangeOwner/templates/ChangeOwner.html dojo/i18n!../../nls/arcgisonline ../utils/icons ./OverlayConfirm preact".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);return function(){function z(D,
F){this.title=p["default"].changeOwner.title;this.i18n=p["default"];this.icons=q["default"];this.constrain=!0;this.overlayContents=u["default"].substitute(m["default"],{i18n:p["default"],icons:q["default"]});this.maxWidth=600;this.closeOnScrimClick=!1}z.prototype.postMixInProperties=function(){this.inherited(arguments)};z.prototype.postCreate=function(){this.inherited(arguments);this._initialOpen=!0;this.group||(this._folderArea=this.domNode.querySelector(".js-folder-area"),this._folderEdit=this.domNode.querySelector(".js-folder-edit"),
this._folderEditButton=this.domNode.querySelector(".js-folder-button"));this._ownerArea=this.domNode.querySelector(".js-owner-area");this._ownerEdit=this.domNode.querySelector(".js-owner-edit");this._ownerEditButton=this.domNode.querySelector(".js-owner-edit-button");this._loader=this.domNode.querySelector(".js-overlay-loader");var D=this.portal.portalUser.userRole;this.canReassignOrgItems=D.isAdmin()||D.canReassignOrgItems();this.canReassignOwnItems=!this.canReassignOrgItems&&D.canReassignOwnItems();
this._primaryBtn.disabled=!0};z.prototype.open=function(){this.inherited(arguments);this._initUI();this._addListeners()};z.prototype.close=function(D){this.inherited(arguments)};z.prototype._destroy=function(){this.inherited(arguments);B.render(null,this.domNode.querySelector(".js-member-picker"));B.render(null,this.domNode.querySelector(".js-member-thumb"))};z.prototype.handlePrimary=function(){var D=this;this.disableButtons();!this.group&&this.canReassignOwnItems?this.reassignItems():this._folderPicker&&
this._folderPicker.hasUnsavedChanges()?this._folderPicker.saveNewfolder().then(function(F){D._folder=F;D._reassign()},this._reassign.bind(this)):this._reassign()};z.prototype.disableButtons=function(){this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0};z.prototype.enableButtons=function(){this._primaryBtn.disabled=!1;this._cancelBtn.disabled=!1};z.prototype._addListeners=function(){var D=this;this._ownerEdit.addEventListener("click",this._openOwnerSelect.bind(this));this.group||(this._folderEdit.addEventListener("click",
this._openFolderSelect.bind(this)),this.own(this._folderPicker.on("selectUpdate",this._folderSelectUpdate.bind(this)),this._folderPicker.on("folderCreated",function(F){return D._createdFolder=F}),this._folderPicker.on("cancel",this._folderSelectCancel.bind(this))))};z.prototype.initUIUtil=function(){var D=this.items||[this.group],F=D[0].owner;D=D.every(function(x){return x.owner===F});return{firstOwner:F,sameOwner:D}};z.prototype._initUI=function(){var D=this,F=this.initUIUtil(),x=F.firstOwner;this.sameOwner=
F.sameOwner;this.group&&(this.domNode.querySelector(".js-item-owner-label").innerHTML=p["default"].changeOwner.groupOwner);this.memberPickerProps={portal:this.portal,group:this.group,showCancel:!this.group&&this.sameOwner,selectUpdate:this._memberSelectUpdate.bind(this),selectCancel:this._memberSelectCancel.bind(this),showMemberPicker:!0,adminOnly:this.adminOnly};this.sameOwner&&(this.memberPickerProps.excludedUsernames=[x]);this._memberPicker=B.render(B.h(w.MemberPicker,this.memberPickerProps),this.domNode.querySelector(".js-member-picker"));
this.group||(this._folderPicker=new C["default"]({portal:this.portal,user:this.owner},this.domNode.querySelector(".js-folder-picker")));this.sameOwner?this._fetchUser(x).then(function(E){D._owner=E;D._memberSelectUpdate(D._owner)}):(this._openOwnerSelect(),this._fadeIn())};z.prototype._fetchUser=function(D){var F=this;return a["default"].request({url:c["default"].restBaseUrl+"/community/users/"+D+"/"}).then(function(x){return new A["default"](n.__assign(n.__assign({},x),{portal:F.portal}))})};z.prototype._fadeIn=
function(){var D=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");D.classList.add("animate-fade-in")};z.prototype._compileRequests=function(){var D=this;if(this.group)return[this.group].map(this._reassignGroup.bind(this));var F=[],x=[],E=[],G=this._owner.username===this.owner.username,H=b["default"].getUserRole(this.owner).isCustom();this.items.forEach(function(J){G&&J.owner===D._owner.username&&!H?F.push(J):
x.push(J)});0<F.length&&E.push(this._moveItems(F));0<x.length&&x.forEach(function(J){return E.push(D._reassignItem(J))});return E};z.prototype.reassignUtil=function(D){return e["default"].find(this.items,function(F){return F.id===D.itemId})};z.prototype._reassign=function(){var D=this,F=this._compileRequests();this._loader.classList.add("is-active");t["default"](F).then(function(x){var E=x.filter(function(J){return J.success}).map(function(J){return J.item}),G=x.filter(function(J){return J.error&&
!J.success}),H=x.filter(function(J){return J.moveItems});0<H.length&&(H[0].results||[]).forEach(function(J){var M=D.reassignUtil(J);J.success?E.push({success:!0,item:M}):G.push({error:J.error,item:M})});0===G.length&&0<E.length?D._handleSuccess(E):0<G.length&&0===E.length?D._handleError(G[0]):0<G.length&&0<E.length&&D._handlePartialSuccess(E,G[0]);0===x[0].length&&D._handleSuccess(x[0])},function(x){D._handleError(x)})};z.prototype.getTransferError=function(D){var F=p["default"].changeOwner.transferErrors.general;
(null===D||void 0===D?0:D.messageCode)&&(D=p["default"].changeOwner.transferErrors[D.messageCode])&&(F=D);return F};z.prototype.reassignItems=function(){return n.__awaiter(this,void 0,void 0,function(){var D,F,x,E,G,H;return n.__generator(this,function(J){switch(J.label){case 0:D=this.portal.portalUser.username,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/reassignItems",content:{targetUsername:this._owner.username,items:this.items.map(function(M){return M.id}).join(",")}},
{usePost:!0})];case 2:F=J.sent();if(E=F.results.some(function(M){if(M.error)return x=M.error,!0}))return G=this.getTransferError(x),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[2];d["default"].showAlert("success",p["default"].changeOwner.transferSuccess);this.close({newOwner:this._owner,newFolder:this.reassignFolderName});return[3,4];case 3:return H=J.sent(),G=this.getTransferError(H),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[3,4];case 4:return[2]}})})};
z.prototype.canReassignItems=function(){return n.__awaiter(this,void 0,void 0,function(){var D,F,x,E,G,H,J,M;return n.__generator(this,function(K){switch(K.label){case 0:D=this.portal.portalUser.username,F=this.domNode.querySelector(".js-member-select-error"),this._ownerEdit.classList.remove("input-error"),F.classList.remove("is-active"),K.label=1;case 1:return K.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/canReassignItems?token\x3d"+a["default"].getToken(),
content:{targetUsername:this._owner.username,items:this.items.map(function(L){return L.id}).join(",")}},{usePost:!0})];case 2:return K.sent(),[3,4];case 3:return x=K.sent(),E=x.messageCode,G="",H=p["default"].changeOwner.warnings,J=H.cantReceiveItems,M=H.cantOwnItems,"CONT_0291"===E?G=J:"CONT_0292"===E&&(G=M),G&&(F.innerHTML=G,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error")),[3,4];case 4:return[2]}})})};z.prototype._reassignItem=function(D){var F=this._owner.username===this._folder.id?
"/":this._folder.title,x=new h["default"];a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D.owner+"/items/"+D.id+"/reassign",content:{targetUsername:this._owner.username,targetFolderName:F}},{usePost:!0}).then(function(){return x.resolve({success:!0,item:D})},function(E){return x.resolve({error:E,item:D})});return x};z.prototype._moveItems=function(D){var F=this._folder.username===this._folder.id?"/":this._folder.id,x=D.filter(function(G){return(G.ownerFolder||"/")!==F}),E=new h["default"];
0===x.length?E.resolve([]):a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:x.map(function(G){return G.id}).join(","),folder:F}},{usePost:!0}).then(function(G){return E.resolve({moveItems:!0,results:G.results})},function(G){return E.resolve({error:G,items:D})});return E};z.prototype._reassignGroup=function(){return a["default"].request({url:c["default"].restBaseUrl+"/community/groups/"+this.group.id+"/reassign",content:{targetUsername:this._owner.username}},
{usePost:!0})};z.prototype._handleSuccess=function(D){this._loader.classList.remove("is-active");if(this.telemetry&&!this.group){var F=this._folder.title===this._createdFolder;this.telemetry.logEvent({category:"change owner folder option",label:this._folder.id===this._owner.username?"default":F?"new":"custom"})}D={newOwner:this._owner,updatedItems:D};this.group||(d["default"].showAlert("success",p["default"].changeOwner.success),D.newFolder=this._folder);this.close(D)};z.prototype.showErrorPopup=
function(D){var F=this;D=new y["default"]({title:p["default"].common.errorTitle,description:D,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});D.domNode.classList.add("position-absolute");D.domNode.classList.add("fullscreen");this._overlay.appendChild(D.domNode);D.show().then(function(){F._ownerEditButton.focus()});this.enableButtons()};z.prototype._handleError=function(D){D=D.messageCode?this._getErrorText(D):this._getErrorText(D.error,D.item);this._loader.classList.remove("is-active");
this.showErrorPopup(D)};z.prototype._handlePartialSuccess=function(D,F){var x=F.error,E=F.item;this._loader.classList.remove("is-active");E=this._getErrorText(x,E);x={newOwner:this._owner,updatedItems:D,error:x};this.group||(d["default"].showAlert("error",E),x.newFolder=this._folder);this.close(x)};z.prototype._getErrorText=function(D,F){var x=this.group?p["default"].GroupWidget.error.cantReassignGroup:p["default"].changeOwner.cantChangeOwner,E=this._owner.username;if(null===D||void 0===D?0:D.messageCode)switch(D.messageCode){case "COM_0046":x=
u["default"].substitute(p["default"].GroupWidget.error.errorReassignGroupName,{name:E,groupName:this.group.title});break;case "CONT_0014":x=u["default"].substitute(p["default"].folderDlg.invalid.itemExists,[F.title,this._folder.folderAttributeName||this._folder.title]);break;case "COM_1065":x=D.message&&D.message.match(/\d+/)[0];x=u["default"].substitute(p["default"].GroupWidget.error.groupMaxOtherUser,{name:E,numGroups:x});break;case "COM_1076":x=u["default"].substitute(p["default"].GroupWidget.error.errorReassignGroupOpenData,
{name:E});break;case "COM_1084":x=u["default"].substitute(p["default"].GroupWidget.error.errorReassignGroupPrivileges,{name:E});break;case "COM_1070":x=p["default"].common.errors.COM_1070;break;default:p["default"].common.errors[D.messageCode]&&(x=p["default"].common.errors[D.messageCode]),403===D.code&&(x=p["default"].errorWidget.accessDeniedResource)}return x};z.prototype._openOwnerSelect=function(D){null===D||void 0===D?void 0:D.preventDefault();B.render(B.h(w.MemberPicker,n.__assign(n.__assign({},
this.memberPickerProps),{showMemberPicker:!0,showCancel:!this._initialOpen})),this.domNode.querySelector(".js-member-picker"));l["default"].setVisibility(this._ownerArea,!1);this.group||(l["default"].setVisibility(this._folderArea,!1),l["default"].hideNode(this._folderPicker.domNode))};z.prototype._openFolderSelect=function(D){D&&D.preventDefault();this.group||(l["default"].showNode(this._folderPicker.domNode),l["default"].setVisibility(this._folderArea,!1),this._folderPicker.focus());l["default"].setVisibility(this._ownerArea,
!1)};z.prototype._folderSelectUpdate=function(D){this._folder=D;l["default"].hideNode(this._folderPicker.domNode);l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._ownerArea,!0);this._populateCurrentFolder();this._folderEditButton&&this._folderEditButton.focus()};z.prototype._folderSelectCancel=function(){l["default"].hideNode(this._folderPicker.domNode);l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._ownerArea,!0);this._folderEditButton&&
this._folderEditButton.focus()};z.prototype._memberSelectUpdate=function(D){var F=this;this._owner=D;B.render(B.h(w.MemberPicker,n.__assign(n.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));l["default"].setVisibility(this._ownerArea,!0);B.render(B.h(v.MemberThumb,{member:D,cssClasses:"member-browser-row-thumbnail margin-right-half"}),this.domNode.querySelector(".js-member-thumb"));this.domNode.querySelector(".js-fullname").innerHTML=D.fullName;
this.domNode.querySelector(".js-username").innerHTML=D.username;this._folder=null;this._ownerEditButton.focus();if(!this._initialOpen||this.group)this._primaryBtn.disabled=!1;this.group?this._fadeIn():this.canReassignOrgItems?(this._ownerEdit.classList.add("btn-disabled"),D.folders?(this._populateCurrentFolder(),this._folderPicker.updateUser(D),this._ownerEdit.classList.remove("btn-disabled"),this._fadeIn()):D.getFolders().then(function(x){D.folders=x;F._owner.folders=x;F._populateCurrentFolder();
F._folderPicker.updateUser(D);F._ownerEdit.classList.remove("btn-disabled");F._fadeIn()})):this.canReassignOwnItems&&(this._initialOpen||this._populateTransferFolder(),this._fadeIn());D.privileges?this._validateSelectedMember():this._fetchUser(D.username).then(function(x){F._owner=x;!x.privileges&&F.canReassignOwnItems?F.canReassignItems():F._validateSelectedMember()});this._initialOpen&&this._openOwnerSelect();this._initialOpen&&!this.group&&this.canReassignOwnItems&&(this._initialOpen=!1)};z.prototype._memberSelectCancel=
function(){B.render(B.h(w.MemberPicker,n.__assign(n.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));this._ownerEdit.focus();l["default"].setVisibility(this._ownerArea,!0);this._folder&&!this.group&&l["default"].setVisibility(this._folderArea,!0);this._ownerEditButton.focus();this.canReassignOwnItems&&this._populateTransferFolder();!this._owner.privileges&&this.canReassignOwnItems?this.canReassignItems():this._validateSelectedMember()};z.prototype._validateSelectedMember=
function(){var D,F=this.domNode.querySelector(".js-member-select-error");this._ownerEdit.classList.remove("input-error");F.classList.remove("is-active");var x=!1,E=b["default"].getUserRole(this._owner),G=E.isCustom(),H=!!this.group,J=this._owner.username===this.portal.portalUser.username;H||!G||E.canCreateItem()||J||(x=p["default"].changeOwner.warnings.cantOwnItems);(null===(D=this.group)||void 0===D?0:D.isOpenDataEnabled)&&!E.canDesignateOpenDataGroups()&&(x=p["default"].changeOwner.warnings.cantOwnOpenData);
D=E.isAdmin()||G&&E.canCreateUpdateCapableGroup();H&&this.group.isSharedOwnership&&!D&&(x=p["default"].changeOwner.warnings.cantOwnAccessUpdateGroups);H&&G&&!E.canCreateGroup()&&(x=p["default"].changeOwner.warnings.cantOwnGroups);H||J||!this.canReassignOwnItems||!G||E.canReceiveUserItems()||(x=p["default"].changeOwner.warnings.cantReceiveItems);x&&"string"===typeof x&&(F.innerHTML=x,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error"))};z.prototype._populateTransferFolder=function(){l["default"].setVisibility(this._folderArea,
!0);l["default"].setVisibility(this._folderEdit,!0);this._folderEdit.classList.add("change-owner-card--disabled");l["default"].hideNode(this.domNode.querySelector(".js-folder-edit-button"));var D=new Date,F=D.getDate(),x=D.getMonth()+1;F=(10>F?"0":"")+F;x=(10>x?"0":"")+x;D=D.getFullYear().toString();this.reassignFolderName=this.portal.portalUser.username+"_"+D+"_"+x+"_"+F;this.domNode.querySelector(".js-folder-name").innerHTML=this.reassignFolderName};z.prototype._populateCurrentFolder=function(){var D;
l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._folderEdit,!0);l["default"].hideNode(this._folderPicker.domNode);if(!this._folder){var F=this.items[0].ownerFolder,x=this.items.every(function(G){return G.ownerFolder===F}),E=e["default"].find(this._owner.folders,function(G){return G.id===F});this._folder=x&&E?E:this._owner.folders[0]}this.domNode.querySelector(".js-folder-name").innerHTML=this._folder.title;x=q["default"].inline[this._folder.id===this._owner.username?
"home":"folder"]["16"];this.domNode.querySelector(".js-folder-icon").innerHTML=x;null===(D=this._folderEditButton)||void 0===D?void 0:D.focus();this._initialOpen&&(l["default"].setVisibility(this._folderArea,!1),this._initialOpen=!1)};return z=n.__decorate([r["default"](g["default"],f["default"],k["default"])],z)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function p(){this.i18n=
c["default"];this.icons=e["default"];this.templateString=b["default"];this.hide=d["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=g["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=c["default"].common.save;
this.loadingText=c["default"].common.loading;this.uid=null}p.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=v["default"]();this.srcNodeRef||(this.srcNodeRef=w["default"].place(w["default"].create("div"),document.body,"last"))};p.prototype.postCreate=function(){this.inherited(arguments);w["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||k["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
k["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&k["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&k["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};p.prototype._addEventListeners=function(){var q=this;this.own(h["default"].subscribe("overlay/open",function(){return q.open()}),t["default"](window,"resize",u["default"](function(y){return q.resizeHandler(y)},
30)),t["default"](this.closeBtn,"click",function(y){return q.handleCancel(y)}),t["default"](this._backArrow,"click",function(){return q.close()}),t["default"](this._primaryBtn,"click",function(y){return q.handlePrimary(y)}),t["default"](this._cancelBtn,"click",function(y){return q.handleCancel(y)}),t["default"](this._backgroundScrim,"click",function(y){return q.handleScrimClick(y)}),t["default"](document,"keyup",function(y){"Escape"===y.key&&q.close()}))};p.prototype.open=function(){var q=this;this.defaultOpener=
document.activeElement;var y=document.documentElement,B=y.scrollTop,z=document.body.scrollTop,D=y.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;f["default"](this.domNode).addClass("is-active");var F=a["default"].getFocusableElements(this.domNode);0<F.length&&F[0].focus();this._trapHandler=a["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=D)||setTimeout(function(){g["default"]("ios")&&(q._bodyScrollTop=Math.max(window.pageYOffset,
B,z));k["default"].add(y,q._preventScrollClass)},300)};p.prototype.close=function(q){var y=this,B,z;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(D){!0===D&&y._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",q);q=this.opener||this.defaultOpener||document.body;null===(B=null===q||void 0===q?void 0:q.setFocus)||void 0===B?void 0:B.call(q);null===(z=null===q||void 0===q?void 0:q.focus)||
void 0===z?void 0:z.call(q)};p.prototype.confirmClose=function(q){var y=new C["default"];q=confirm(q);y.resolve(q);return y};p.prototype.showLoader=function(q){this._overlayLoaderText.textContent=q||"";this._overlayLoader.classList.add("is-active")};p.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};p.prototype.setUnsaved=function(q){this._unsavedChanges=q};p.prototype.handlePrimary=function(q){};p.prototype.handleHelp=function(q){};
p.prototype.handleCancel=function(q){this.close()};p.prototype.handleScrimClick=function(q){this.closeOnScrimClick&&q.target===q.currentTarget&&this.close()};p.prototype.resizeHandler=function(q){q=window.innerWidth;this._screenWidth>=this.maxWidth&&q<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&q>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=q};p.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(k["default"].remove(document.documentElement,this._preventScrollClass),g["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};p.prototype._destroy=function(){var q=this;this.domNode&&a["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return q.destroy()},300)};return p=n.__decorate([m["default"](r["default"],A["default"],l["default"])],p)}()})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],
function(){dojox.uuid.generateRandomUuid=function(){function R(){for(var h=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>h.length;)h="0"+h;return h}var N=R(),n=R();n=n.substring(0,4)+"-4"+n.substring(5,8);var t=R();t="8"+t.substring(1,4)+"-"+t.substring(4,8);var u=R();return(N+"-"+n+"-"+t+u).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(R){R.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";
dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(N,n){if(!N)throw n||(n="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(n);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(N){N=N.toString();var n=R.isString(N)&&36==N.length&&N==N.toLowerCase();if(n){N=
N.split("-");n=5==N.length&&8==N[0].length&&4==N[1].length&&4==N[2].length&&4==N[3].length&&12==N[4].length;for(var t in N){var u=parseInt(N[t],16);n=n&&isFinite(u)}}return n};dojox.uuid.getVariant=function(N){if(!dojox.uuid._ourVariantLookupTable){var n=dojox.uuid.variant,t=[];t[0]=n.NCS;t[1]=n.NCS;t[2]=n.NCS;t[3]=n.NCS;t[4]=n.NCS;t[5]=n.NCS;t[6]=n.NCS;t[7]=n.NCS;t[8]=n.DCE;t[9]=n.DCE;t[10]=n.DCE;t[11]=n.DCE;t[12]=n.MICROSOFT;t[13]=n.MICROSOFT;t[14]=n.UNKNOWN;t[15]=n.UNKNOWN;dojox.uuid._ourVariantLookupTable=
t}N=N.toString();N=N.charAt(19);N=parseInt(N,16);dojox.uuid.assert(0<=N&&16>=N);return dojox.uuid._ourVariantLookupTable[N]};dojox.uuid.getVersion=function(N){dojox.uuid.assert(dojox.uuid.getVariant(N)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");N=N.toString();N=N.charAt(14);return parseInt(N,16)};dojox.uuid.getNode=function(N){dojox.uuid.assert(dojox.uuid.getVersion(N)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");
N=N.toString();return N.split("-")[4]};dojox.uuid.getTimestamp=function(N,n){dojox.uuid.assert(dojox.uuid.getVersion(N)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");N=N.toString();n||(n=null);switch(n){case "string":case String:return dojox.uuid.getTimestamp(N,Date).toUTCString();case "hex":var t=N.split("-"),u=t[0],h=t[1];t=t[2];t=t.slice(1);u=t+h+u;dojox.uuid.assert(15==u.length);return u;case null:case "date":case Date:return t=N.split("-"),u=parseInt(t[0],
16),h=parseInt(t[1],16),t=(parseInt(t[2],16)&4095)<<16,t=4294967296*(t+h),t+=u,new Date(t/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+n)}};return dojox.uuid})},"arcgisonline/pages/components/MemberPicker":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ../utils/keys ../portal/PortalUser ./MemberPickerRow ./preactHooks arcgisonline/sharing/dijit/_LevelAwareMixin".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A){var r=this;Object.defineProperty(N,"__esModule",{value:!0});N.MemberPicker=void 0;h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);w=n.__importDefault(w);N.MemberPicker=function(l){var d=C.useSetState({showCancel:l.showCancel||!0,selected:null,totalMembers:0,showMoreMembers:!1,showNoResults:!1,members:[],searchInput:"",initialFocus:!1}),e=d[0],a=d[1],b=u.useRef(null);d=u.useRef(null);u.useEffect(function(){m().then(function(M){a({totalMembers:M});
100>=M||l.allowEmptySearch?p().then(function(K){return a({members:K})}):a({showMoreMembers:!0})})},[]);u.useEffect(function(){var M=e.initialFocus;b.current&&M&&(c(),a({initialFocus:!1}))},[b,e.initialFocus]);u.useEffect(function(){l.showMemberPicker&&c()},[l.showMemberPicker]);u.useEffect(function(){a({showCancel:l.showCancel})},[l.showCancel]);var c=function(){var M;null===(M=b.current)||void 0===M?void 0:M.focus()},m=function(){return n.__awaiter(r,void 0,void 0,function(){var M,K,L;return n.__generator(this,
function(U){switch(U.label){case 0:return M=y("",1),K=q(),[4,f["default"].request({url:K,content:M})];case 1:return L=U.sent(),[2,L.total]}})})},p=function(M){return n.__awaiter(r,void 0,void 0,function(){var K,L,U,ba;return n.__generator(this,function(V){switch(V.label){case 0:return K=l.portal,L=y(M),U=q(),[4,f["default"].request({url:U,content:L})];case 1:return ba=V.sent(),[2,(ba.results||ba.users).map(function(aa){return new w["default"](n.__assign(n.__assign({},aa),{portal:K}))})]}})})},q=function(){var M=
l.group;return(null===M||void 0===M?0:M.isBackedByEnterpriseGroup)?g["default"].restBaseUrl+"/community/groups/"+M.id+"/userlist":g["default"].restBaseUrl+"/portals/self/users/search"},y=function(M,K){var L,U,ba=l.group,V=l.portal,aa=l.adminOnly,ha=A.LevelAwareInfo.LICENSE_LEVELS,ia=ha.ONE;ha=ha.ONE_PLUS_EDIT;ia=ba?"":"-level:"+ia+" -level:"+ha+" ";ba=(null===ba||void 0===ba?0:ba.leavingDisallowed)||(null===ba||void 0===ba?0:ba.hiddenMembers)||aa?"role:org_admin":"";aa=M?"("+M+")":"";ha=V.isPortal?
"-username:esri_livingatlas -username:esri_boundaries -username:esri_demographics -username:esri_nav":"";if(null===(L=l.excludedUsernames)||void 0===L?0:L.length)ha=l.excludedUsernames.reduce(function(ka,qa){return""+ka+(ka?" ":"")+"-username:"+qa},ha);L={num:K||100,sortField:"relevance",sortOrder:"asc"};(null===(U=l.group)||void 0===U?0:U.isBackedByEnterpriseGroup)?L.name=M:L.q=aa+" "+ia+" "+ba+" orgid:"+V.id+" "+ha;return L};u.useEffect(function(){var M=e.members,K=e.searchInput,L=e.totalMembers;
0<(null===M||void 0===M?void 0:M.length)?a({showMoreMembers:!1,showNoResults:!1,selected:0}):a({showNoResults:0<K.length,showMoreMembers:0===K.length&&100<=L})},[e.members,e.totalMembers]);var B=function(M){var K=e.members,L=e.selected;l.selectUpdate(M||K[L])},z=function(M,K){var L=e.members;a({showCancel:!0});var U=M,ba=L.length-1;M>ba?U=0:0>M&&(U=ba);a({selected:U});K||B(L[U])},D=function(){var M;null===(M=b.current)||void 0===M?void 0:M.focus()},F=function(){a(function(M){return{showCancel:!M.showCancel}})};
C.useEventListener("keydown",function(M){var K=e.members,L=e.selected;if(l.showMemberPicker)switch(M.keyCode){case k.ESCAPE:l.selectCancel();break;case k.ENTER:M.preventDefault();(null===K||void 0===K?0:K[L])&&B();break;case k.UP:M.preventDefault();z(L-1,!0);break;case k.DOWN:M.preventDefault(),z(L+1,!0)}});var x=e.members,E=e.showCancel,G=e.selected,H=e.showMoreMembers,J=e.showNoResults;return t.h("div",{ref:d,"class":"member-picker "+(l.showMemberPicker?"":"hide")},t.h("div",{"class":"font-size--1 trailer-half flex"},
t.h("h4",{"class":"trailer-0 font-size--1 flex-1",id:"member-picker-label"},h["default"].changeOwner.newOwner),t.h("button",{"class":"btn-link font-size--1 flex-0 btn-link-off-black right "+(E?"":"hide"),onClick:l.selectCancel},h["default"].common.cancel)),t.h("label",{"for":"member-picker-input","class":"visually-hidden"},h["default"].changeOwner.searchMembers),t.h("input",{id:"member-picker-input","class":"member-picker-search",ref:b,onInput:function(M){var K=e.totalMembers;M=M.target.value;M!==
e.searchInput&&a({searchInput:M});(2<(null===M||void 0===M?void 0:M.length)||0<K&&100>=K||l.allowEmptySearch&&0===(null===M||void 0===M?void 0:M.length))&&p(M).then(function(L){return a({members:L})});0===M.length&&a({showNoResults:!1});0===M.length&&!l.allowEmptySearch&&100<=K&&a({members:[],showMoreMembers:!0})},placeholder:h["default"].changeOwner.searchMembers,"aria-controls":"member-results-list",type:"search",autocomplete:"off"}),0<x.length&&t.h("ul",{"class":"member-picker-results",id:"member-results-list",
role:"menu","aria-labelledby":"member-picker-label"},x.map(function(M,K){return t.h(v.MemberPickerRow,{key:M.id,member:M,isSelected:K===G,index:K,handleCancel:F,handleSelect:z,handleFocus:D})})),J&&t.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},h["default"].changeOwner[l.group?"noUsersFoundGroup":"noUsersFoundItem"]),H&&t.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},h["default"].changeOwner.tooManyUsers))}})},"arcgisonline/pages/utils/keys":function(){define(["require",
"exports"],function(R,N){Object.defineProperty(N,"__esModule",{value:!0});N.DOWN=N.RIGHT=N.UP=N.LEFT=N.TAB=N.SPACEBAR=N.ENTER=N.ESCAPE=void 0;N.ESCAPE=27;N.ENTER=13;N.SPACEBAR=32;N.TAB=9;N.LEFT=37;N.UP=38;N.RIGHT=39;N.DOWN=40;N["default"]={ESCAPE:N.ESCAPE,ENTER:N.ENTER,TAB:N.TAB,UP:N.UP,DOWN:N.DOWN,LEFT:N.LEFT,RIGHT:N.RIGHT,SPACEBAR:N.SPACEBAR}})},"arcgisonline/pages/components/MemberPickerRow":function(){define(["require","exports","preact","./MemberThumb","preact/hooks"],function(R,N,n,t,u){Object.defineProperty(N,
"__esModule",{value:!0});N.MemberPickerRow=void 0;N.MemberPickerRow=function(h){var f=h.member,g=h.isSelected,k=h.handleSelect,w=h.handleFocus,v=h.index,C=n.createRef();h=f.fullName;var A=f.username;u.useEffect(function(){g&&C.current&&C.current.scrollIntoView({behavior:"smooth"})},[g,C]);return n.h("li",{"class":"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center "+(g?"is-active":""),ref:C,role:"menuitem","aria-selected":g,"tab-index":"0",
onFocus:w,onClick:function(){k(v)}},n.h(t.MemberThumb,{member:f,cssClasses:"member-browser-row-thumbnail margin-right-half"}),n.h("div",{"class":"flex-1 flex flex-column margin-left-half"},n.h("h4",{"class":"member-browser-row-name avenir-bold font-size--1 trailer-0"},h),n.h("p",{"class":"trailer-0 font-size--2"},A)))}})},"arcgisonline/pages/components/MemberThumb":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig ../utils/strings".split(" "),function(R,N,n,
t,u,h,f){Object.defineProperty(N,"__esModule",{value:!0});N.MemberThumb=void 0;f=n.__importDefault(f);N.MemberThumb=function(g){var k=g.member,w=g.cssClasses;g=g.showTooltip;var v=u.useState(null),C=v[0],A=v[1],r=u.useState(null);v=r[0];var l=r[1],d=u.useState(null);r=d[0];var e=d[1];d=u.useState(!1);var a=d[0],b=d[1];u.useEffect(function(){var m,p,q;b(!1);A(k.thumbnailUrl||k.defaultThumbnailUrl);if(k.thumbnailUrl&&k.thumbnailUrl!==k.defaultThumbnailUrl){var y=(null===(p=null===(m=h.userInfo)||void 0===
m?void 0:m.credential)||void 0===p?void 0:p.token)||(null===(q=h.userInfo)||void 0===q?void 0:q.token);y&&-1===k.thumbnailUrl.indexOf("token")&&A(function(B){return""+B+(-1<k.thumbnailUrl.indexOf("?")?"\x26":"?")+"token\x3d"+y});l("");e("#FFFFFF")}else c()},[k]);var c=function(){var m=k.fullName,p=k.username;m.trim()?(m=m.split(" "),l(m[0].substring(0,1)+(m[1]?m[1].substring(0,1):""))):k.username&&l(p.substring(0,2));m=k.id;m=(null===m||void 0===m?void 0:m.substr(m.length-6))||"";f["default"].isValidHex(m)||
(m=f["default"].stringToHex(k.username));m=f["default"].hexToRgb(m);e("rgba("+m.r+","+m.g+","+m.b+",0.2)");b(!0)};return t.h("div",{"aria-label":g?k.fullName:"","class":g?"tooltip":""},t.h("div",{"class":"member-thumb "+(w||""),style:{backgroundColor:r}},t.h("img",{src:C,onError:c,alt:"","class":"margin-left-0 "+(a?"hide":"")}),t.h("div",{"class":"member-thumb__initials "+(a?"":"hide")},v),t.h("div",{"class":"member-thumb__edit-mask"},t.h("calcite-icon",{icon:"plusCircle",scale:"l"}))))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require",
"exports","tslib","preact/hooks"],function(R,N,n,t){Object.defineProperty(N,"__esModule",{value:!0});N.useAsyncReference=N.useDebounce=N.useSetState=N.useEventListener=N.useWindowSize=void 0;N.useWindowSize=function(u){function h(){g({width:window.innerWidth,height:window.innerHeight})}u="object"!==typeof window;u=t.useState({width:u?1200:window.innerWidth,height:u?800:window.innerHeight});var f=u[0],g=u[1];t.useEffect(function(){window.addEventListener("resize",h);return function(){window.removeEventListener("resize",
h)}},[]);return f};N.useEventListener=function(u,h,f){void 0===f&&(f=window);var g=t.useRef();t.useEffect(function(){g.current=h},[h]);t.useEffect(function(){if(f&&f.addEventListener){var k=function(w){return g.current(w)};f.addEventListener(u,k);return function(){f.removeEventListener(u,k)}}},[u,f])};N.useSetState=function(u){void 0===u&&(u={});var h=t.useState(u);u=h[0];var f=h[1];h=t.useCallback(function(g){f(function(k){return n.__assign(n.__assign({},k),g instanceof Function?g(k):g)})},[f]);
return[u,h]};N.useDebounce=function(u,h){var f=t.useState(u),g=f[0],k=f[1];t.useEffect(function(){var w=setTimeout(function(){k(u)},h);return function(){clearTimeout(w)}},[u,h]);return g};N.useAsyncReference=function(u){var h=t.useRef(u),f=t.useState(!1)[1];return[h,function(g){Object.is(h.current,g)||(h.current=g,f(function(k){return!k}))}]}})},"arcgisonline/pages/dijit/ChangeOwner/FolderPicker":function(){define("require exports tslib dojo/text!./templates/FolderPicker.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dojo/Deferred dojo/debounce dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator ../../../sharing/util ../../utils/organization ../../../esriGeowConfig ./FolderPickerRow ../../utils/dom ../../utils/keys ../../utils/icons".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);c=n.__importDefault(c);return function(){function m(p,q){this.templateString=t["default"];this.i18n=u["default"];
this.icons=c["default"];this._rows=[];this._selectedIndex=0;this._creatingFolder=!1}m.prototype.postMixInProperties=function(){this.inherited(arguments);this.containerClass=this.isMoveItem?"move-item-container":"member-picker"};m.prototype.postCreate=function(){var p=this,q;this.inherited(arguments);this.itemFolders=null===(q=this.items)||void 0===q?void 0:q.map(function(y){return y.ownerFolder});this._searchInput=this.domNode.querySelector(".js-search-input");this._noFolderRow=this.domNode.querySelector(".js-no-folder");
this._createFolderInlineLink=this._noFolderRow.querySelector(".js-create-folder-inline");this._createFolderInlineLink.addEventListener("click",this._showNewFolder.bind(this,!0));this._searchInput.addEventListener("input",g["default"](this._updateResults.bind(this),300));this.domNode.addEventListener("keydown",this._handleKeys.bind(this));this._newFolderForm=this.domNode.querySelector(".js-create-folder-form");this._newFolderForm.addEventListener("submit",function(y){var B,z;null===(z=null===(B=p.saveNewfolder(y))||
void 0===B?void 0:B.then)||void 0===z?void 0:z.call(B,function(D){p.emit("selectUpdate",D)})});this._newFolderInput=this._newFolderForm.querySelector(".js-create-folder-input");this._newFolderInput.addEventListener("input",g["default"](this._updateFolderResults.bind(this),300));this.isMoveItem?(q=this.domNode.querySelector(".js-folder-picker-cancel"),q.parentElement.removeChild(q),this._resultsDropdown.classList.add("move-item")):this.domNode.querySelector(".js-folder-picker-cancel").addEventListener("click",
function(y){p._cancelNewFolder();p._buildFolderList();p.emit("cancel")});this._createFolderButton=this.domNode.querySelector(".js-create-new-folder");this._createFolderButton.addEventListener("click",this._showNewFolder.bind(this,!1));this._showHideCreate()};m.prototype.shouldHideCreate=function(){var p=l["default"].getUserRole(this.portal.portalUser);return this.portal.portalUser.username!==this.user.username&&p.isCustom()&&p.canReassignOrgItems()};m.prototype._showHideCreate=function(){var p=this.shouldHideCreate();
a["default"].showHide(this._createFolderButton,!p);a["default"].showHide(this._createFolderInlineLink,!p)};m.prototype._buildFolderList=function(){var p=this,q;this._rows.forEach(function(B){return B.destroy()});this._rows=(this.user.folders||[]).map(function(B,z){var D=new e["default"]({folder:B,user:p.user,isMoveItem:p.isMoveItem},w["default"].place(w["default"].create("li"),p._resultsDropdown));D.on("select",function(){return p.emit("selectUpdate",B)});D.on("select",function(){return p._select(z)});
D.on("hover",function(){return p._active(z,!0)});return D});var y=null===(q=this.itemFolders)||void 0===q?void 0:q.filter(function(B,z){return B&&p.itemFolders.indexOf(B)===z});1===(null===y||void 0===y?void 0:y.length)?(q=this._rows.filter(function(B){return B.folder.id===y[0]})[0],q=this._rows.indexOf(q),-1!==q&&(this._active(q),this._select(q))):this._active(0);this._searchInput.value=""};m.prototype._updateResults=function(){var p=this._searchInput.value.toLowerCase(),q=this._rows.filter(function(y){var B=
y.folder.title.toLowerCase();B=!p||-1<B.indexOf(p);a["default"].showHide(y.domNode,B);return B});0===q.length&&(this._createFolderInlineLink.innerHTML=k["default"].substitute(this.i18n.folderDlg.createFolderInline,[p]));a["default"].showHide(this._noFolderRow,0===q.length)};m.prototype._checkMatchingFolder=function(p){var q=p.toLowerCase();return 0<this._rows.filter(function(y){return y.folder.title.toLowerCase()===q}).length};m.prototype._updateFolderResults=function(){this._checkMatchingFolder(this._newFolderInput.value)?
this._displayError("Unable to create folder.",this._newFolderInput.value):this._closeErrorMessage()};m.prototype._handleKeys=function(p){if(!this._creatingFolder)switch(p.keyCode){case b.ESCAPE:this.emit("cancel");break;case b.ENTER:p.preventDefault();this._createFolderInlineLink===document.activeElement?this._showNewFolder(!0):this._createFolderButton===document.activeElement&&this._showNewFolder(!1);if(p=this._rows[this._selectedIndex])this.emit("selectUpdate",p.folder),this._select(this._selectedIndex);
break;case b.UP:p.preventDefault();this._active(this._selectedIndex-1);break;case b.DOWN:p.preventDefault(),this._active(this._selectedIndex+1)}};m.prototype._select=function(p){if(p||0===p){var q=this._rows.length-1;p>q&&(p=0);0>p&&(p=q)}this._rows[p].select();this._rows.forEach(function(y,B){B!==p&&y.deselect()})};m.prototype._active=function(p,q){if(p||0===p){var y=this._rows.length-1;p>y&&(p=0);0>p&&(p=y);this._selectedIndex=p;this._rows[p].active();if(!q){var B=this._rows[p].domNode;y=B.parentElement;
var z=B.offsetTop;B=B.offsetHeight;var D=z+B;z<y.scrollTop?y.scrollTop=z:D>y.scrollTop+y.offsetHeight&&(y.scrollTop=z-y.offsetHeight+B)}}this._rows.filter(function(F,x){return x!==p}).forEach(function(F){return F.deactivate()})};m.prototype._showNewFolder=function(p){var q=this;this._creatingFolder=!0;p?(a["default"].hideNode(this._noFolderRow),this.saveNewfolder(void 0,!0).then(function(y){q.emit("selectUpdate",y)})):(a["default"].hideNode(this._createFolderButton),a["default"].showNode(this._newFolderForm),
this._active(),this._newFolderInput.focus(),this._newFolderForm.querySelector(".js-folder-create-cancel").addEventListener("click",this._cancelNewFolder.bind(this)))};m.prototype._cancelNewFolder=function(p){null===p||void 0===p?void 0:p.preventDefault();this._closeErrorMessage();this._creatingFolder=!1;a["default"].hideNode(this._newFolderForm);this._newFolderInput.value="";this.shouldHideCreate()||a["default"].showNode(this._createFolderButton)};m.prototype.focus=function(){this._searchInput.focus()};
m.prototype.updateUser=function(p){this.user=p;this._buildFolderList();this._showHideCreate()};m.prototype.hasUnsavedChanges=function(){return this._creatingFolder&&0<this._newFolderInput.value.length};m.prototype.saveNewfolder=function(p,q){var y=this;null===p||void 0===p?void 0:p.preventDefault();var B=d["default"].restBaseUrl+"/content/users/"+this.user.username+"/createFolder",z=q?this._searchInput.value:this._newFolderInput.value,D={title:z};if(null!==z&&void 0!==z&&z.trim())if(this._checkMatchingFolder(z))this._newFolderInput.focus();
else return this.emit("folderCreated",z),r["default"].request({url:B,content:D},{usePost:!0}).then(function(F){var x=new f["default"];!0===(null===F||void 0===F?void 0:F.success)&&(y._cancelNewFolder(),y.user.folders.unshift(F.folder),y._buildFolderList(),y._select(0),y._active(0),x.resolve(F.folder));return x},function(F){y._displayError(F.message,z)});else this._displayError(this.i18n.folderDlg.invalid.provideName,z)};m.prototype._displayError=function(p,q){var y;"Unable to create folder."===p&&
(y=""===q?this.i18n.folderDlg.invalid.provideName:k["default"].substitute(this.i18n.folderDlg.invalid.sameFolderName,[q]));var B=this.domNode.querySelector(".js-create-folder-error-message");B.innerHTML=y||p;this._newFolderInput.focus();B.classList.add("is-active");this._newFolderInput.classList.add("error")};m.prototype._closeErrorMessage=function(){this.domNode.querySelector(".js-create-folder-error-message").classList.remove("is-active");this._newFolderInput.classList.remove("error")};return m=
n.__decorate([A["default"](C["default"],v["default"],h["default"])],m)}()})},"arcgisonline/pages/dijit/ChangeOwner/FolderPickerRow":function(){define("require exports tslib dojo/text!./templates/FolderPickerRow.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);
k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(C,A){this.templateString=t["default"];this.i18n=u["default"];this.icons=h["default"]}v.prototype.postMixInProperties=function(){this.inherited(arguments);this.folderIcon=h["default"].inline[this.user.username===this.folder.id?"home":"folder"]["16"]};v.prototype.postCreate=function(){var C=this;this.inherited(arguments);this._folderLink.addEventListener("click",function(A){A.preventDefault();C.emit("select")});this.domNode.addEventListener("click",
function(A){return C.emit("select")});this._folderLink.addEventListener("mouseover",function(A){return C.emit("hover")})};v.prototype.active=function(){this._folderLink.classList.add("is-active")};v.prototype.deactivate=function(){this._folderLink.classList.remove("is-active")};v.prototype.select=function(){this._folderLink.setAttribute("aria-selected","true");this._folderLink.classList.add("is-selected")};v.prototype.deselect=function(){this._folderLink.setAttribute("aria-selected","false");this._folderLink.classList.remove("is-selected")};
return v=n.__decorate([w["default"](k["default"],g["default"],f["default"])],v)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=u["default"];this.i18n=h["default"];this.icons=v["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses="";this.noMask=!1;this._confirmDfd=new f["default"]}l.prototype.postCreate=
function(){this.inherited(arguments);this.domNode.removeAttribute("title");var d=".js-confirm-btn",e=".js-cancel-btn";this.isActions&&(d=".js-action-one",e=".js-action-two",A["default"].hideNode(this._buttons),A["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(d);this._cancelBtn=this.domNode.querySelector(e);A["default"].showHide(this._closeBtn,this.showClose);this.showActions||(A["default"].hideNode(this._buttons),A["default"].hideNode(this._actions));this.noMask&&
this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};l.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};l.prototype._addEventListeners=function(){this.own(w["default"](this._confirmBtn,
this._confirmResolve.bind(this,"onOk")),w["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),w["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};l.prototype._confirmResolve=function(d){var e=this;this._hide();setTimeout(function(){e._confirmDfd.resolve(d);e.destroy();e.emit("close")},300)};l.prototype._hide=function(){this.domNode.classList.remove("is-active")};l.prototype.show=function(){var d=this;window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add("is-active");
setTimeout(function(){d.showClose?d._closeBtn.focus():d._cancelBtn.focus();C["default"].trapFocus(d.domNode)},300);return this._confirmDfd};l.prototype.hide=function(){var d=this;this._hide();setTimeout(function(){d.destroy()},300)};return l=n.__decorate([r["default"](k["default"],g["default"],t["default"])],l)}()})},"arcgisonline/pages/dijit/MoveItem":function(){define("require exports tslib dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ./OverlayConfirm ./ChangeOwner/FolderPicker ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/icons ../../esriGeowConfig dojo/text!./ChangeOwner/templates/MoveItem.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function c(m,p){this.title=a["default"].itemProperties.moveToFolder;
this.i18n=a["default"];this.icons=l["default"];this.constrain=!0;this.overlayContents=t["default"].substitute(e["default"],{i18n:a["default"],icons:l["default"]});this.maxWidth=600;this.loadingText=a["default"].common.updating}c.prototype.postMixInProperties=function(){this.inherited(arguments)};c.prototype.postCreate=function(){this.inherited(arguments);this._loader=this.domNode.querySelector(".js-overlay-loader")};c.prototype.open=function(){this.inherited(arguments);this.initUI();this.addListeners()};
c.prototype.close=function(m){this.inherited(arguments)};c.prototype.handlePrimary=function(){var m=this,p;(null===(p=this._folderPicker)||void 0===p?0:p.hasUnsavedChanges())?this._folderPicker.saveNewfolder().then(function(q){m._folder=q;m.updateItems()},this.updateItems.bind(this)):this.updateItems()};c.prototype.addListeners=function(){this.own(this._folderPicker.on("selectUpdate",this.folderSelectUpdate.bind(this)))};c.prototype.initUI=function(){this._folderPicker=new w["default"]({portal:this.portal,
user:this.owner,isMoveItem:!0,items:this.items},this.domNode.querySelector(".js-folder-picker"));this.memberSelectUpdate(this.owner);this._primaryBtn.disabled=!0};c.prototype.fadeIn=function(){var m=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");m.classList.add("animate-fade-in");v["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.updateItems=function(){var m=this;this.moveItems(this.items).then(function(p){p=
p.results||[];var q=p.filter(function(z){return z.success}).map(function(z){return z.item}),y=p.filter(function(z){return z.error&&!z.success}),B=p.filter(function(z){return z.moveItems});0<B.length&&(B[0].results||[]).forEach(function(z){var D=A["default"].find(m.items,function(F){return F.id===z.itemId});z.success?q.push({success:!0,item:D}):y.push({error:z.error,item:D})});0===y.length&&0<q.length?m.handleSuccess(q):0<y.length&&0===q.length?m.handleError(y[0]):0<y.length&&0<q.length&&m.handlePartialSuccess(q,
y[0]);0===p.length&&m.handleSuccess()},this.handleError.bind(this))};c.prototype.moveItems=function(m){this._loader.classList.add("is-active");var p=this._folder.username===this._folder.id?"/":this._folder.id,q=m.filter(function(B){return(B.ownerFolder||"/")!==p}),y=new u["default"];0===q.length?y.resolve({moveItems:!0,results:[]}):r["default"].request({url:d["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:q.map(function(B){return B.id}).join(","),folder:p}},
{usePost:!0}).then(function(B){return y.resolve({moveItems:!0,results:B.results})},function(B){return y.resolve({error:B,items:m})});return y};c.prototype.handleSuccess=function(m){this._loader.classList.remove("is-active");m={newOwner:this._owner,newFolder:this._folder,updatedItems:m};C["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);this.close(m)};c.prototype.handleError=function(m){var p,q=m.error,y=m.itemId;m=q;"CONT_0014"===
q.messageCode&&(q=null===(p=this.items.filter(function(B){return B.id===y}))||void 0===p?void 0:p[0])&&(m=t["default"].substitute(a["default"].folderDlg.invalid.itemExists,[q.title,this._folder.folderAttributeName||this._folder.title]));this._loader.classList.remove("is-active");p=new k["default"]({title:a["default"].common.errorTitle,description:this._folder?m:a["default"].folderDlg.invalid.selectFolder,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});p.domNode.classList.add("position-absolute");
p.domNode.classList.add("fullscreen");this._overlay.appendChild(p.domNode);p.show()};c.prototype.handlePartialSuccess=function(m,p){var q,y=p.itemId,B=p.error;this._loader.classList.remove("is-active");var z={newOwner:this._owner,updatedItems:m,error:B},D=null===(q=this.items.filter(function(F){return F.id===y}))||void 0===q?void 0:q[0];C["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);"CONT_0014"===B.messageCode&&C["default"].showAlert("error",
t["default"].substitute(a["default"].folderDlg.invalid.itemExists,[D.title,this._folder.folderAttributeName||this._folder.title]));z.newFolder=this._folder;this.close(z)};c.prototype.openFolderSelect=function(m){null===m||void 0===m?void 0:m.preventDefault();v["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.folderSelectUpdate=function(m){this._folder=m;this.populateCurrentFolder();this._primaryBtn.disabled=!1};c.prototype.memberSelectUpdate=function(m){var p=
this;this._owner=m;this._folder=null;m.folders?(this.populateCurrentFolder(),this._folderPicker.updateUser(m),this.openFolderSelect(),this.fadeIn()):m.getFolders().then(function(q){m.folders=q;p._owner.folders=q;p.populateCurrentFolder();p._folderPicker.updateUser(m);p.fadeIn()})};c.prototype.populateCurrentFolder=function(){if(!this._folder){var m=this.items[0].ownerFolder,p=this.items.every(function(y){return y.ownerFolder===m}),q=A["default"].find(this._owner.folders,function(y){return y.id===
m});this._folder=p&&q?q:this._owner.folders[0]}};return c=n.__decorate([b["default"](f["default"],h["default"],g["default"])],c)}()})},"arcgisonline/sharing/dijit/dialog/DeleteWarningDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg");R.require("dijit.Dialog");R.require("dijit._Widget");R.require("dijit._Templated");R.declare("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg",
[N._Widget,N._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"delete-warning-dialog" class\x3d"general-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.deleteWarningDlgTitle}"\x3e\r\n    \x3cdiv id\x3d"delete-warning-dialog-content" class\x3d"leader-quarter break-word"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriFloatTrailing right leader-1 clearfix flex flex-align-center"\x3e\r\n      \x3cspan id\x3d"delete-status" class\x3d"text-right margin-right-half" style\x3d"display: none;"\x3e${!i18n.deletingSpace}\x3c/span\x3e\r\n\t\x3c!-- "primary" / "calcite orange" used since this is a delete confirmation --\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-submit" class\x3d"jevent calcite orange btn-delete" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.deleteLabel}\r\n      \x3c/button\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-close" class\x3d"jevent cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
handler:null,manualHide:!1,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.DeleteWarningDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").deleteWarningDlg)},postCreate:function(){this.loadConnections()},show:function(t,u,h,f){this.handler=h;this.clear();
if(null==u||""==u)u="item";N.byId("button_delete-warning-submit").set("disabled",!1);N.byId("button_delete-warning-close").set("disabled",!1);this.manualHide=f;h="";h=1==t?R.string.substitute(this.i18n.confirmDeleteItem,[u]):R.string.substitute(this.i18n.confirmDeleteItems,[t,u]);R.byId("delete-warning-dialog-content").innerHTML=h;R.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel;R.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel;R.style(R.byId("delete-status"),
"display","none");N.byId("delete-warning-dialog").show()},showMsg:function(t,u,h){null!=t&&0!=t.length&&(this.handler=u,this.clear(),N.byId("button_delete-warning-submit").set("disabled",!1),N.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=h,R.byId("delete-warning-dialog-content").innerHTML=t,R.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel,R.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel,R.style(R.byId("delete-status"),"display",
"none"),N.byId("delete-warning-dialog").show())},showMsgTitleButton:function(t,u,h,f,g){null!=t&&0!=t.length&&(this.handler=f,this.clear(),N.byId("button_delete-warning-submit").set("disabled",!1),N.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=g,R.byId("delete-warning-dialog-content").innerHTML=t,R.byId("delete-warning-dialog_title").innerHTML=u,R.byId("button_delete-warning-submit_label").innerHTML=h,R.style(R.byId("delete-status"),"display","none"),N.byId("delete-warning-dialog").show())},
renameDeleteButton:function(t){N.byId("button_delete-warning-submit").set("label",t)},renameCancelButton:function(t){N.byId("button_delete-warning-close").set("label",t)},clear:function(){},loadConnections:function(){this.own(R.query("#button_delete-warning-close").connect("onclick",function(t){t.preventDefault();if(this.onHide)this.onHide();N.byId("delete-warning-dialog").hide()}.bind(this)),R.query("#button_delete-warning-submit").connect("onclick",R.hitch(this,"submitRequest")))},submitRequest:function(t){t.preventDefault();
this.handler();this.manualHide?(R.style(R.byId("delete-status"),"display","inline-block"),N.byId("button_delete-warning-submit").set("disabled",!0),N.byId("button_delete-warning-close").set("disabled",!0)):N.byId("delete-warning-dialog").hide()},hide:function(){N.byId("delete-warning-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/ExportDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/serviceUtil ../../../pages/utils/categories ../../../pages/utils/dom ../../util ../SaveItem ./GeneralDlg ../../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/promise/all dojo/string dojo/on dojo/topic esri/config esri/lang esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExportDlg.html ../ComboBox".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=
n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);var D;(function(F){F.ShapeFile="Shapefile";F.CSV="CSV";F.FileGDB="File Geodatabase";F.GeoJson="GeoJson";F.FeatureCollection="Feature Collection";F.KML="KML";F.Excel="Excel";F.TilePackage="Tile Package";F.GeoPackage="GeoPackage"})(D||(D={}));return function(){function F(){this.declaredClass="arcgisonline.sharing.dijit.dialog.ExportDlg";this.widgetsInTemplate=!0;this.templateString=z["default"];this.layerId=-1;
this.init=!1;this.checkStatusInterval=null;this.checkingStatus=!1;this.statusCheckIntervalTime=4E3;this._setMessageAttr={node:"_message",type:"innerHTML"};this.typeLookup={shapefileType:D.ShapeFile,csvType:D.CSV,fileGDB:D.FileGDB,geoJson:D.GeoJson,featureCollection:D.FeatureCollection,kmlType:D.KML,excelType:D.Excel,CSV:"CSV Collection",KML:"KML Collection",Excel:"Microsoft Excel",tilePackage:D.TilePackage};this.requiredBorder="1px dotted orangered";this.normalBorder="1px solid #bbb"}F.prototype.onDone=
function(x){};F.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=n.__assign(n.__assign(n.__assign({},B["default"].common),B["default"].exportDlg),{defaultError:B["default"].errorWidget.defaultError,generalize:B["default"].addLayerFromFileDlg.generalize,keepOrig:B["default"].addLayerFromFileDlg.keepOrig,notEnoughCreditsTitle:B["default"].publishTileServiceDlg.notEnoughCreditsTitle,itemProperties:B["default"].itemProperties});this._webMercatorValues={3857:1,102113:1,102100:1,
900913:1}};F.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.init=!0,this.saveItem=new w["default"]({},this.saveItemForm))};F.prototype.startup=function(){this.inherited(arguments);p["default"].defaults.io.proxyUrl=t["default"].proxyServer;t["default"].proxyUrl&&(p["default"].defaults.io.proxyUrl=t["default"].proxyUrl)};F.prototype.destroy=function(){this._onSaveItemValidateHandle&&(this._onSaveItemValidateHandle.remove(),this._onSaveItemValidateHandle=null);this.exportDialog.destroyRecursive();
this._pendingCanceller=this.exportDialog=null;this.inherited(arguments)};F.prototype.show=function(x,E,G,H){var J=this;this.showDlg(x,E,G);H&&setTimeout(function(){J._message.style.maxWidth=J.saveItem.domNode.clientWidth+"px";J.setWait(!0);H.waitForCredits.then(function(M){J._pendingCanceller=null;if(M.success)return J.set("message",M.message),J.unsetWait();J.displayError(M,J.i18n.notEnoughCreditsTitle)},function(M){J._pendingCanceller=null;J.displayError(M)});J._pendingCanceller=H.canceller},0)};
F.prototype.showShapefile=function(x,E){this.showDlg(x,E,D.ShapeFile)};F.prototype.showCSV=function(x,E){this.showDlg(x,E,D.CSV)};F.prototype.showFileGDB=function(x,E){this.showDlg(x,E,D.FileGDB)};F.prototype.showGeoJson=function(x,E){this.showDlg(x,E,D.GeoJson)};F.prototype.showFeatureCollection=function(x,E){this.showDlg(x,E,D.FeatureCollection)};F.prototype.showDlg=function(x,E,G){this.clear();this.item=x;this.setDialogTitle(G);this.setLayerDetails(E);this.checkForStaleData(x,E);this.initTags();
this.initCategories();this.exportDialog.show();x=this.onCancel.bind(this);this.own(A["default"](this.exportDialog.closeButtonNode,x),c["default"](this.cancelBtn,"click",x),c["default"](this.exportBtn,"click",this.onExport.bind(this)));this.exportDialog.closeButtonNode.tabIndex=0};F.prototype.checkForStaleData=function(x,E){var G,H,J,M;(null===(G=x.layers)||void 0===G?0:G.length)&&"Feature Service"===x.type&&-1<x.typeKeywords.indexOf("Hosted Service")&&(E&&!E.length?M=null===(H=E.editingInfo)||void 0===
H?void 0:H.lastEditDate:x.layers.forEach(function(K){var L;(J=null===(L=K.editingInfo)||void 0===L?void 0:L.lastEditDate)&&(!M||M<J)&&(M=J)}))};F.prototype.initTags=function(){var x=this;this.saveItem.loadTags().then(function(){x.saveItem.set("tags",[])})};F.prototype.initCategories=function(){this.saveItem.loadCategories(this.item.categories)};F.prototype.setDialogTitle=function(x){this.exportType=x;x=this.i18n.itemProperties;var E=this.i18n.exportDialogTitle;D.ShapeFile===this.exportType?E=x.exportToShapefile:
D.CSV===this.exportType?E=x.exportToCSVFile:D.FileGDB===this.exportType?E=x.exportToFileGDB:D.GeoJson===this.exportType?E=x.exportToGeoJson:D.FeatureCollection===this.exportType?E=x.exportToFeatureCollection:D.KML===this.exportType?E=x.exportToKML:D.Excel===this.exportType?E=x.exportToExcel:D.TilePackage===this.exportType?E=x.exportToTilePackage:D.GeoPackage===this.exportType&&(E=x.exportToGeoPackage);this.exportDialog.set("title",E)};F.prototype.setLayerDetails=function(x){var E,G,H,J;this._isTableLayer=
this._isWebMercator=!1;x&&q["default"].isDefined(x.id)?(this.layerId=x.id,this._layers=[x],this.saveItem.set("title",x.name),this._isWebMercator=(null===(G=null===(E=x.extent)||void 0===E?void 0:E.spatialReference)||void 0===G?void 0:G.wkid)in this._webMercatorValues,this._extent=x.extent):x&&x.length&&(this._layers=x,this._isWebMercator=(null===(J=null===(H=x[0].extent)||void 0===H?void 0:H.spatialReference)||void 0===J?void 0:J.wkid)in this._webMercatorValues,this._isTableLayer=x.every(function(M){return"Table"===
M.type}),this._extent=x[0].extent,this.saveItem.set("title",1===x.length?x[0].name:this.item.title));this._isWebMercator&&!this._isTableLayer&&this.exportType===D.FeatureCollection&&(this.featureCollectionDiv.classList.remove("hide"),this.generalizeChk.checked=!0)};F.prototype.clear=function(){this.exportDialog.set("title",this.i18n.exportDialogTitle);this.item=null;this.layerId=-1;this.checkStatusInterval=this.exportResponse=this.exportType=null;this.checkingStatus=!1;this.saveItem.set("title","");
this.saveItem.set("tags",[]);this.saveItem.set("summary","");this.saveItem.set("requires",["title"]);this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!0;this._onSaveItemValidateHandle=m["default"].subscribe("onSaveItemValidate",this.validate.bind(this));this.saveItem.hideRow("folder");g["default"].forEachNode(this.saveItem.domNode.querySelectorAll(".select2-container.select2-container-multi"),function(x){x.style.minWidth="33px"});this.featureCollectionDiv.classList.add("hide");
this.generalizeChk.checked=!1};F.prototype.hide=function(){return this.exportDialog.hide()};F.prototype.validate=function(x){x=this.saveItem.get("title");this.exportBtn.disabled=!x};F.prototype.validates=function(){return!!this.saveItem.get("title")};F.prototype.setWait=function(x){this.exportDialog.domNode.style.cursor="wait";x?this.set("message",this.i18n.estimatingCredits):this.exportingLabel.style.visibility="visible";this.exportBtn.disabled=!0};F.prototype.unsetWait=function(){this.exportDialog.domNode.style.cursor=
"default";this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!1};F.prototype.exportImageryItem=function(){var x=this,E=this.saveItem.get("title");E=h["default"].exportImageryToTilePackage(this.item,E);var G=E.dfd;this._pendingCanceller=E.canceller;G.then(function(H){var J=H.success;H=H.outputValue;x._pendingCanceller=null;J&&H.itemId?(x.exportResponse={exportItemId:H.itemId},x.updateExportedItemDetails({itemId:H.itemId,statusMessage:""})):x.displayError(x.i18n.defaultError)},function(){x._pendingCanceller=
null;x.displayError(x.i18n.defaultError)})};F.prototype.exportItem=function(){var x=this;if(this._moveFailed)this.updateItem(this._moveFailed.itemId,"/").then(function(K){x.unsetWait();x.onDone(K)});else{this.setWait();if("Image Service"===this.item.type&&D.TilePackage===this.exportType)return this.exportImageryItem();var E=this.saveItem.get("title"),G=this.generalizeChk.checked,H={maxAllowableOffset:1,quantizationParameters:{tolerance:1}},J=D.ShapeFile;D.CSV===this.exportType?J=D.CSV:D.FileGDB===
this.exportType?J=D.FileGDB:D.GeoJson===this.exportType?J=D.GeoJson:D.FeatureCollection===this.exportType?J=D.FeatureCollection:D.KML===this.exportType?J="kml":D.Excel===this.exportType?J="excel":D.GeoPackage===this.exportType&&(J="geoPackage");var M=this._layers.map(function(K){return G?n.__assign({id:K.id},H):{id:K.id}});E={itemId:this.item.id,title:E,exportFormat:J,exportParameters:-1<this.layerId?{layers:M}:G?H:null};this.item.isOwner&&this.item.isDataView&&(E.exportParameters=n.__assign(n.__assign({},
E.exportParameters||{}),{enforceFieldVisibility:!0}));D.FileGDB===this.exportType&&(E.exportParameters=n.__assign(n.__assign({},E.exportParameters||{}),{exportContingentValues:!0}));E.exportParameters&&(E.exportParameters=JSON.stringify(E.exportParameters));J=k["default"].getUser();k["default"].request({url:t["default"].restBaseUrl+"content/users/"+J.username+"/export",content:E},{usePost:!0}).then(this.handleExport.bind(this),this.displayError.bind(this))}};F.prototype.handleExport=function(x){!x||
x.code||x.message?this.displayError(x):(this.exportResponse=x,this.checkStatusInterval=setInterval(this.checkStatus.bind(this),this.statusCheckIntervalTime))};F.prototype.checkStatus=function(){var x=this;if(this.exportResponse&&!this.checkingStatus){var E={jobId:this.exportResponse.jobId,jobType:"export"},G=k["default"].getUser();G=t["default"].restBaseUrl+"content/users/"+G.username+"/items/"+this.exportResponse.exportItemId+"/status";this.checkingStatus=!0;k["default"].request({url:G,content:E}).then(function(H){x.handleStatusCheck(H);
x.checkingStatus=!1},function(H){x.displayError(H);x.checkingStatus=!1})}};F.prototype.handleStatusCheck=function(x){"completed"===(null===x||void 0===x?void 0:x.status)?(clearInterval(this.checkStatusInterval),this.updateExportedItemDetails(x)):"failed"===x.status&&(clearInterval(this.checkStatusInterval),this.updateExportedItemDetailsAndFail(x))};F.prototype.updateExportedItemDetailsAndFail=function(x){var E=this;this.getItemDetails(this.exportResponse.exportItemId).then(function(G){var H=[],J=
t["default"].self.hasCategorySchema&&E.saveItem.get("categories")||[];0<J.length&&H.push(f["default"].setItemCategories([G.id],J));H.push(E.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){E.unsetWait();E.displayFailure(x.statusMessage)})})};F.prototype.updateExportedItemDetails=function(x){var E=this;this.getItemDetails(x.itemId).then(function(G){var H=[],J=t["default"].self.hasCategorySchema&&E.saveItem.get("categories")||[];0<J.length&&H.push(f["default"].setItemCategories([G.id],
J));H.push(E.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){E.unsetWait();E.onDone(x)})})};F.prototype.moveItem=function(x,E){var G=this,H=new e["default"],J=k["default"].getUser();J=t["default"].restBaseUrl+"content/users/"+J.username+"/items/"+x+"/move";var M={folder:E||"/"};this._moveFailed=null;E&&"/"!==E&&""!==E?k["default"].request({url:J,content:M},{usePost:!0}).then(function(K){H.resolve(K)},function(K){if(K&&"CONT_0011"===K.messageCode){var L=G.saveItem.get("title");L=b["default"].substitute(G.i18n.duplicateFound,
{type:G.exportType,title:L});u["default"].createSpecifiedDialog(v["default"]).show({title:G.i18n.errorTitle,message:L});G._moveFailed=n.__assign(n.__assign({},K),{itemId:x,folderId:E});G.unsetWait()}}):H.resolve({itemId:x});return H};F.prototype.updateItem=function(x,E){var G=this.saveItem.get("title"),H=this.saveItem.get("tags"),J=this.saveItem.get("summary"),M=this.saveItem.get("folderId"),K=t["default"].restBaseUrl+"content/items/"+this.exportResponse.exportItemId+"/data",L=k["default"].getUser();
L=t["default"].restBaseUrl+"content/users/"+L.username;E&&0<E.length&&(L+="/"+E);L+="/items/"+this.exportResponse.exportItemId+"/update";G={title:G,tags:H,snippet:J};this._moveFailed||(G.folderId=M);D.KML===this.exportType&&(G.url=K);return k["default"].request({url:L,content:G},{usePost:!0}).then(this.moveItem.bind(this,x,M))};F.prototype.getItemDetails=function(x){return k["default"].request({url:t["default"].restBaseUrl+"content/items/"+x})};F.prototype.goToItem=function(x){var E=this;this.hide().then(function(){E.unsetWait();
window.location.href=t["default"].baseUrl+"item.html?id\x3d"+x})};F.prototype.checkTitle=function(){var x=this.saveItem.get("title"),E=this.saveItem.get("folderId"),G=this.typeLookup[this.exportType]||this.exportType,H=k["default"].getUser().username;return k["default"].request({url:t["default"].restBaseUrl+"search",content:{q:'title:"'+x+'" AND type:"'+G+'" AND owner:"'+H+'" AND ownerfolder:"'+(E&&"/"!==E?E:"root")+'"'}})};F.prototype.displayFailure=function(x){var E=this;if(x)try{var G=JSON.parse(x)}catch(M){G=
x}var H=u["default"].createSpecifiedDialog(v["default"]);H.onOkClick=function(){H.hide();E.onCancel()};var J=this.i18n.errorTitle;G.message&&(x=G.message);H.show({title:J,message:x})};F.prototype.displayError=function(x,E){var G=this;E=E||this.i18n.errorTitle;if(x){var H=u["default"].createSpecifiedDialog(v["default"]);H.onOkClick=function(){H.hide();G.onCancel()};H.show({title:E,message:(null===x||void 0===x?0:x.code)&&x.message?x.message:x})}};F.prototype.onExport=function(){var x=this;this.validates()&&
this.checkTitle().then(function(E){0<E.total?(E=x.saveItem.get("title"),E=b["default"].substitute(x.i18n.duplicateFound,{type:x.typeLookup[x.exportType]||x.exportType,title:E}),u["default"].createSpecifiedDialog(v["default"]).show({title:x.i18n.errorTitle,message:E})):x.exportItem()})};F.prototype.onCancel=function(x){var E,G;null===(E=null===x||void 0===x?void 0:x.preventDefault)||void 0===E?void 0:E.call(x);null===(G=this._pendingCanceller)||void 0===G?void 0:G.call(this);this.hide();this.destroy()};
return F=n.__decorate([C["default"](r["default"],l["default"],d["default"],y["default"])],F)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(){}e.getDateFields=function(a){return((null===a||void 0===a?void 0:a.fields)||[]).filter(function(b){return"esriFieldTypeDate"===(null===b||void 0===b?void 0:b.type)})};e.fetchServerToken=function(a,b){var c=a.portal,m=b||a.url;return m?l["default"].request({url:l["default"].getSecureUrl(c.portalUrl+
"generateToken"),content:{serverUrl:m}},{usePost:!0}).then(function(p){return p.token}):null};e.fetchItemAdminUrl=function(a,b){var c;return a.portal.isPortal?(null===b||void 0===b?0:b.adminUrl)&&b.url?this.getAdminUrl(a,b):a.url:(null===(c=a.url)||void 0===c?void 0:c.replace("/rest/","/rest/admin/"))||null};e.getAdminUrl=function(a,b){var c=a.url;c=c.replace(c.split("/rest/")[0],b.adminUrl);return a.isSDS||"Knowledge Graph"===a.type?c.replace("/rest/","/rest/admin/"):c.replace("/rest/","/admin/").replace("/FeatureServer",
".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};e.fetchServiceLayers=function(a){return l["default"].request({url:a+"/layers"}).then(function(b){return(null===b||void 0===b?void 0:b.layers)||[]})};e.renameServiceLayers=function(a,b){var c=new t["default"],m=b.adminUrl+"/"+a.layerId,p={name:a.layerRename};"Map Service"===b.type?(m+="/edit",p={layerDefinition:JSON.stringify(p)}):
(m+="/updateDefinition",p={updateDefinition:JSON.stringify(p),async:!1});l["default"].request({url:m,content:p},{usePost:!0}).then(function(){return c.resolve()},function(q){return c.reject(q)});return c};e.updateServiceDefinition=function(a){var b=a.layerId,c=a.item;a=a.definition;var m=new t["default"];l["default"].request({url:c.adminUrl+"/"+b+"/updateDefinition",content:{updateDefinition:JSON.stringify(a),async:!1}},{usePost:!0}).then(function(){return m.resolve()},function(p){return m.reject(p)});
return m};e.queryGeocodeCounts=function(a){var b=[],c=a.url,m={where:"1\x3d1",returnCountOnly:!0},p=a.reviewTable,q=c+"/"+(a.layers||[])[0].id+"/query",y=new t["default"];a.canUpdate&&a.isHostedService&&a.hasGeocodeReviewTable?(b.push(l["default"].request({url:q,content:m})),p&&(a=c+"/"+p.id+"/query",b.push(l["default"].request({url:a,content:m}))),h["default"](b).then(function(B){var z=(null===B||void 0===B?void 0:B.length)&&B[0].count||0;y.resolve({successful:z,total:z+(1<(null===B||void 0===B?
void 0:B.length)&&B[1].count||0)})},function(B){y.resolve(null)})):y.resolve(null);return y};e.adjustHostedServerForProtocol=function(a){return"https:"===location.protocol?a.replace("http:","https:").replace(":6080",":6443"):a.replace("https:","http:").replace(":6443",":6080")};e.checkForResources=function(a){var b=a.itemUrl+"/resources/styles/root.json";"Vector Tile Service"!==a.type||g["default"].isDefined(a.hasResources)?(b=new t["default"],b.resolve(!!a.hasResources)):b=l["default"].request({url:b}).then(function(){return!0},
function(){return!1});return b};e.setFeatureServiceScaleRanges=function(a){var b=this,c=new t["default"],m=a.url,p=a.sourceData||{},q=a.featureLayers||[];!a.numViews&&a.isHostedService&&"Feature Service"===a.type&&"Service Definition"!==p.type?h["default"](q.map(function(y){return b.setScaleRange(m+"/"+y.id,a,y.id)})).then(function(){return c.resolve(!0)}):c.resolve(!0);return c};e.setScaleRange=function(a,b,c){var m=new t["default"],p=new k["default"](a);a=b.adminUrl;c=g["default"].isDefined(c)?
"/"+c:"";var q=""+a+c+"/updateDefinition";p.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){p.statisticsPlugin.getSuggestedScaleRange().then(function(y){y={updateDefinition:u["default"].stringify({maxScale:y.maxScale||0,minScale:y.relaxedMinScale||0})};l["default"].request({url:q,content:y},{usePost:!0}).then(function(){return m.resolve(b)},function(){return m.resolve(b)})},function(y){m.resolve(b)})});return m};e.getSuggestedScaleRange=function(a){var b=new t["default"],c=new k["default"](a);
c.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){c.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(m){return b.resolve(m)},function(m){b.resolve(null)})},function(m){b.resolve(null)});return b};e.encodeServiceName=function(a,b){if(f["default"]("ie")||f["default"]("trident")||f["default"]("edge")){var c=a.indexOf("admin/services/Hosted/"),m=l["default"].isPortal()&&!b?-1<a.indexOf(".MapServer")?a.indexOf(".MapServer"):-1<a.indexOf(".VectorTileServer")?
a.indexOf(".VectorTileServer"):a.indexOf("/SceneServer"):a.indexOf("/FeatureServer");0<c&&(a=a.substring(0,c+22)+encodeURIComponent(a.substring(c+22,m))+a.substring(m))}return a};e.getImageryToTilePackageParams=function(a,b){var c,m=a.id,p=a.itemUrl||a.portal.portalUrl+"content/items/"+m,q=a.portal.getPortalUser();q=(null===(c=null===q||void 0===q?void 0:q.credential)||void 0===c?void 0:c.token)||(null===q||void 0===q?void 0:q.token);return{inputImageryLayer:JSON.stringify({itemId:m,url:p+"?token\x3d"+
q}),outputTilePackage:b||"tpk"+m,context:"{}"}};e.exportImageryToTilePackage=function(a,b,c){a=e.getImageryToTilePackageParams(a,b);a=n.__assign(n.__assign({},a),{f:"json"});return e.createImageryTask({taskName:"ExportToTilePackage",inputParameters:a,updateDelay:2E4,statusCallback:c,outputParameterName:"outTilePackage"})};e.fetchExportImageryCredits=function(a){a=e.getImageryToTilePackageParams(a);a={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:a}),f:"json",context:"{}"};
return e.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:a,updateDelay:2E3,outputParameterName:"outCost"})};e.createImageryTask=function(a){var b=a.taskName,c=a.updateDelay,m=a.inputParameters,p=a.outputParameterName,q=a.statusCallback,y=new t["default"],B=new v["default"](d["default"].self.helperServices.rasterAnalytics.url+"/"+b);c&&B.setUpdateDelay(c);var z,D=!1,F=function(x){return!D&&y.reject(x)};B.on("error",F);B.submitJob(m,function(x){if(!D)if("esriJobSucceeded"===
x.jobStatus){if(!p)return y.resolve({success:!0});B.getResultData(x.jobId,p).then(function(E){y.resolve({success:null!=(null===E||void 0===E?void 0:E.value),outputValue:null===E||void 0===E?void 0:E.value})},F)}else y.resolve({success:!1})},function(x){z=x.jobId;null===q||void 0===q?void 0:q(x)},F);return{canceller:function(){z&&(D=!0,B.cancelJobStatusUpdates(z),B.cancelJob(z,null,null))},dfd:y}};e.fetchBuildingSceneSubLayer=function(a,b,c){return new Promise(function(m){l["default"].request({url:a+
"/layers/"+b+"/sublayers/"+c}).then(function(p){m({layerId:b,subLayer:p})},function(){m({layerId:b,subLayer:{}})})})};e.fetchPartialUpdateBuildingScenePublishingCredits=function(a,b,c){var m=this,p=b.serviceInfo||{},q=p.layers||[],y=a.url+"/extractChanges",B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},z={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",x={name:p.name,etype:"tilegencnt",
stype:"scene"},E;return new Promise(function(G){var H=[];c.forEach(function(J){var M,K;E=q.find(function(L){return L.id===J.id});(null===(M=E.sublayers)||void 0===M?void 0:M.filter(function(L){return"3DObject"===L.layerType}).map(function(L){return L.id})).forEach(function(L){H.push(m.fetchBuildingSceneSubLayer(b.url,J.id,L))});E.isTextured=!(null===(K=null===E||void 0===E?void 0:E.multiPatchInfo)||void 0===K||!K.hasTexture);z[J.id]=E});Promise.all(H).then(function(J){var M={};J.forEach(function(K){var L=
K.subLayer,U=L.associatedLayerID;L=L.serviceUpdateTimeStamp.lastUpdate;M[U]=K.layerId;B.layers.push(U);B.layerServerGens.push({id:U,serverGen:L})});l["default"].request({url:y,content:n.__assign(n.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},{usePost:!0}).then(function(K){(null===K||void 0===K?0:K.edits)?(Object.keys(K.edits).forEach(function(L){L=K.edits[L];var U=L.objectIds;D[z[M[L.id]].isTextured?"textured":"untextured"]+=U.adds.length+U.updates.length+
U.deletes.length}),h["default"]({textured:0<D.textured?l["default"].request({url:F,content:n.__assign({num:D.textured,task:"textured"},x)}):null,untextured:0<D.untextured?l["default"].request({url:F,content:n.__assign({num:D.untextured,task:"nontextured"},x)}):null}).then(function(L){var U,ba;L=((null===(U=null===L||void 0===L?void 0:L.textured)||void 0===U?void 0:U.credits)||0)+((null===(ba=null===L||void 0===L?void 0:L.untextured)||void 0===ba?void 0:ba.credits)||0);G(L)},function(){G(0)})):G(0)},
function(K){G(0)})},function(){G(0)})})};e.fetchPartialUpdateScenePublishingCredits=function(a,b,c){var m=new t["default"],p=(a.adminServiceInfo||{}).layers||[],q=b.serviceInfo||{},y=q.layers||[];a=a.url+"/extractChanges";var B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},z={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",x={name:q.name,etype:"tilegencnt",stype:"scene"},E;c.forEach(function(G){var H;
B.layers.push(G.id);(E=A["default"].find(p,function(M){return M.id===G.id}))||1!==p.length||(E=p[0]);if(E){var J=G.id;J!==E.id&&(J=E.id);E.isTextured=!(null===(H=null===E||void 0===E?void 0:E.multiPatchInfo)||void 0===H||!H.hasTexture);z[J]=E}});y.forEach(function(G){-1<B.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&B.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});l["default"].request({url:a,content:n.__assign(n.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(H){H=G.edits[H];var J=H.objectIds;D[z[H.id].isTextured?"textured":"untextured"]+=J.adds.length+J.updates.length+J.deletes.length}),h["default"]({textured:0<D.textured?l["default"].request({url:F,content:n.__assign({num:D.textured,task:"textured"},x)}):null,untextured:0<D.untextured?l["default"].request({url:F,content:n.__assign({num:D.untextured,task:"nontextured"},x)}):null}).then(function(H){var J,
M;H=((null===(J=null===H||void 0===H?void 0:H.textured)||void 0===J?void 0:J.credits)||0)+((null===(M=null===H||void 0===H?void 0:H.untextured)||void 0===M?void 0:M.credits)||0);m.resolve(H)},function(){m.resolve(0)})):m.resolve(0)},function(G){m.resolve(0)});return m};e.fetchScenePublishingCredits=function(a,b,c){var m=new t["default"],p=a.adminServiceInfo||{},q=p.layers||[],y=a.url+"/query",B={},z={},D={textured:0,untextured:0},F=(a.portal||{}).portalUrl+"portals/self/usageCost",x={name:p.name,
etype:"tilegencnt",stype:"scene"},E;b.length&&c?q.forEach(function(G){var H;G.isTextured=!(null===(H=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===H||!H.hasTexture);z[G.id]=G;B[G.id]="1\x3d1"}):b.forEach(function(G){var H;(E=A["default"].find(q,function(M){return M.id===G.id}))||1!==q.length||(E=q[0]);if(E){var J=G.id;J!==E.id&&(J=E.id);E.isTextured=!(null===(H=null===E||void 0===E?void 0:E.multiPatchInfo)||void 0===H||!H.hasTexture);z[J]=E;B[J]="1\x3d1"}});l["default"].request({url:y,content:n.__assign(n.__assign({},
{}),{layerDefs:JSON.stringify(B),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(H){D[z[H.id].isTextured?"textured":"untextured"]+=H.count}),h["default"]({textured:0<D.textured?l["default"].request({url:F,content:n.__assign({num:D.textured,task:"textured"},x)}):null,untextured:0<D.untextured?l["default"].request({url:F,content:n.__assign({num:D.untextured,task:"nontextured"},x)}):null}).then(function(H){var J,M;H=((null===(J=null===H||void 0===
H?void 0:H.textured)||void 0===J?void 0:J.credits)||0)+((null===(M=null===H||void 0===H?void 0:H.untextured)||void 0===M?void 0:M.credits)||0);m.resolve(H)},function(){m.resolve(0)})):m.resolve(0)},function(){m.resolve(0)});return m};e.getServerLicenseInfo=function(a){a+="/admin/system/licenses";return l["default"].request({url:a},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.findManagedDataStoreItems=function(a){a+="/admin/data/findItems";return l["default"].request({url:a,
content:{managed:!0}},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.findRasterStoreItems=function(a){a+="/admin/data/findItems";return l["default"].request({url:a,content:{types:"rasterStore",decrypt:!0}},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.isBackedBySDS=function(a){var b,c=new t["default"],m=(null===(b=null===d["default"]||void 0===d["default"]?void 0:d["default"].self)||void 0===b?void 0:b.user)||{};b=new r["default"]({portalUser:m});var p=!1,
q;m&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!C["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(y){q=((null===y||void 0===y?void 0:y.items)||y||[]).filter(function(B){var z;return"arcgis data store"===(null===(z=null===B||void 0===B?void 0:B.provider)||void 0===z?void 0:z.toLowerCase())});p=!(null===q||void 0===q||!q.length);c.resolve(p)},function(){c.resolve(p)}):c.resolve(p);return c};e.isImageManagementTask=function(a){if(!a||-1===a.indexOf("RasterAnalysisTools")||
-1===a.indexOf("GPServer/"))return!1;a=a.slice(a.indexOf("GPServer/")+9);-1<a.indexOf("/")&&(a=a.slice(0,a.indexOf("/")));var b="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return a&&-1<b.indexOf(a.toLowerCase())};e.getBackingDataStoreInfo=function(a){var b,c=new t["default"],m=(null===(b=null===d["default"]||void 0===d["default"]?void 0:d["default"].self)||void 0===b?void 0:b.user)||{};b=new r["default"]({portalUser:m});var p=
!0,q=!1,y=!1,B=!1,z,D,F;m&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!C["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(x){x=(null===x||void 0===x?void 0:x.items)||x||[];z=x.filter(function(E){var G;return"arcgis data store"===(null===(G=null===E||void 0===E?void 0:E.provider)||void 0===G?void 0:G.toLowerCase())});D=x.filter(function(E){var G,H,J;return"arcgis data store"===(null===(G=null===E||void 0===E?void 0:E.provider)||void 0===G?void 0:G.toLowerCase())&&
"spatiotemporal"===(null===(J=null===(H=E.info)||void 0===H?void 0:H.dsFeature)||void 0===J?void 0:J.toLowerCase())});F=x.filter(function(E){var G,H,J,M;return"arcgis data store"===(null===(G=null===E||void 0===E?void 0:E.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(H=E.type)||void 0===H?void 0:H.toLowerCase())&&"graphstore"===(null===(M=null===(J=E.info)||void 0===J?void 0:J.dsFeature)||void 0===M?void 0:M.toLowerCase())});p=0===x.length;q=!(null===z||void 0===z||!z.length);
y=!(null===D||void 0===D||!D.length);B=!(null===F||void 0===F||!F.length);c.resolve({isSDS:q,isSTDS:y,isGraph:B,none:p})},function(){c.resolve({isSDS:q,isSTDS:y,isGraph:B,none:p})}):c.resolve({isSDS:q,isSTDS:y,isGraph:B,none:p});return c};e.cacheMaxAgeCheck=function(a,b){var c;if(!a.ignoreCache&&a.layers&&"Feature Service"===a.type&&a.isHostedService&&0<(null===(c=null===b||void 0===b?void 0:b.adminServiceInfo)||void 0===c?void 0:c.cacheMaxAge)&&(a.ignoreCache=function(){var p=this;this.ignoreCacheFlagTimestamp=
(new Date).getTime();var q=function(y){y.content=y.content||{};y.content._ts=p.ignoreCacheFlagTimestamp;return y};this.ignoreCacheFlag||(w["default"].setRequestPreCallback(q),this.ignoreCacheFlag=!0)},a.layers)){var m=0;a.layers.forEach(function(p){var q;(null===(q=p.editingInfo)||void 0===q?0:q.lastEditDate)&&m<p.editingInfo.lastEditDate&&(m=p.editingInfo.lastEditDate)});0<m&&((new Date).getTime()-m)/1E3<b.adminServiceInfo.cacheMaxAge&&a.ignoreCache()}};e.isServiceProxy=function(a){var b=(a||"").toLowerCase();
a=-1<b.indexOf("/servers/")&&-1<b.indexOf("/rest/services/");var c=d["default"].self.isPortal&&-1<b.indexOf(d["default"].self.portalHostname);b=!d["default"].self.isPortal&&-1<b.indexOf(".arcgis.com");return a&&(c||b)};e.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return e}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),
function(R,N,n,t,u,h){function f(r,l){var d=new h["default"],e=[];t["default"].self.hasCategorySchema&&l.length?(r=g([],r),r.forEach(function(a){var b={};b[a]={categories:l};e.push(b)}),u["default"].request({url:t["default"].restBaseUrl+"content/updateItems",content:{items:JSON.stringify(e)}},{usePost:!0}).then(function(){return d.resolve()},function(){return d.resolve()})):d.resolve();return d}function g(r,l){var d=[].concat(r||[]);(null!==l&&void 0!==l?l:[]).forEach(function(e){e&&-1===d.indexOf(e)&&
d.push(e)});return d}function k(r){delete r.isOpen;delete r.depth;delete r.order;r.categories&&(r.categories=r.categories.map(k));return r}function w(r,l,d){void 0===l&&(l="");void 0===d&&(d={});d.__total=d.__total||0;r.forEach(function(e){var a=l+"/"+e.title;a=a.trim();d.__total+=1;d[a]=d.__total;e.categories&&w(e.categories,a,d)});return d}function v(r){var l;(r=null===(l=null===r||void 0===r?void 0:r[0])||void 0===l?void 0:l.title)&&"/"!==r.charAt(0)&&(r="/"+r);return r||"/Categories"}function C(r,
l){return{id:r.id,categories:l?r.groupCategories:r.categories}}function A(r){var l=r.group;r=r.portal;return u["default"].request({url:t["default"].restBaseUrl+(l?"content/groups/"+l.id+"/search":"search"),content:{num:0,q:l?"":"orgid:"+r.id,countFields:l?"groupCategories":"categories",countSize:200}}).then(function(d){return d.aggregations.counts[0].fieldValues})}Object.defineProperty(N,"__esModule",{value:!0});N.getCounts=N.simplifyItemObject=N.getRootNode=N.getSchemaOrder=N.cleanSchema=N.concatUniqueIds=
N.setItemCategories=void 0;t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);N.setItemCategories=f;N.concatUniqueIds=g;N.cleanSchema=k;N.getSchemaOrder=w;N.getRootNode=v;N.simplifyItemObject=C;N.getCounts=A;N["default"]={setItemCategories:f,concatUniqueIds:g,cleanSchema:k,getSchemaOrder:w,getRootNode:v,simplifyItemObject:C,getCounts:A}})},"arcgisonline/sharing/dijit/SaveItem":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/CategoryPicker ../../pages/utils/arrays ../../pages/utils/dom ../../pages/utils/storage ../util ../geow/Folder ../../tsutils/declareDecorator arcgis-components/wrappers/Tags dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/i18n!../../nls/arcgisonline dojo/text!./templates/SaveItem.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);return function(){function q(y,B){this.declaredClass=
"arcgisonline.sharing.dijit.SaveItem";this.widgetsInTemplate=!0;this.templateString=p["default"];this.baseClass="esriAGOSaveItemForm";this.init=!1;this.folders={}}q.prototype.postMixInProperties=function(){this.i18n=n.__assign(n.__assign(n.__assign({},m["default"].common),m["default"].saveItem),{addTags:m["default"].itemCompleteness.addTags})};q.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.saveItemTags=new A.TagsWrapper(this.saveItemTagsContainer,{activeTags:[],knownTags:[],
maxWidth:"100%",minWidth:"100%"}),this.getFolders(),this.init=!0)};q.prototype.startup=function(){this.inherited(arguments);this.initHandlers()};q.prototype.hideRow=function(y){g["default"].hideNodes(this.domNode.querySelectorAll(".save-item-"+y+"-row"))};q.prototype.loadTags=function(y){var B=w["default"].getUser();y&&(B=y);return w["default"].loadUserTags(B.username)};q.prototype.loadCategories=function(y){var B=this,z=new e["default"],D=this.domNode.querySelectorAll(".categories-container");t["default"].self.hasCategorySchema?
w["default"].request({url:t["default"].restBaseUrl+"portals/self/categorySchema"}).then(function(F){B.categories=new h["default"]({categories:y||[],schema:F.categorySchema},B.saveItemCategories);B.categories.startup();g["default"].showNodes(D);z.resolve()},function(){g["default"].hideNodes(D);z.resolve()}):(g["default"].hideNodes(D),z.resolve());return z};q.prototype.initHandlers=function(){var y=this.validate.bind(this);this.own(a["default"](this.saveItemFolder,"change",this.onFolderChange.bind(this)),
a["default"](this.saveItemTitle,"change",y),a["default"](this.saveItemSummary,"change",y),u["default"].registerKeystrokeHandler(this.saveItemTitle,y),u["default"].registerKeystrokeHandler(this.saveItemSummary,y))};q.prototype.validate=function(){var y,B;if(!this.beingDestroyed){var z=!0,D=this.saveItemTitle.get("value"),F=(null===(B=null===(y=this.saveItemTags)||void 0===y?void 0:y.getTags())||void 0===B?void 0:B.join(","))||"";y=this.saveItemSummary.get("value");null===this.requires?z=!!(D&&F&&y):
(f["default"].includes(this.requires,"title")&&(z=z&&!!D),f["default"].includes(this.requires,"tags")&&(z=z&&0!==F.length),f["default"].includes(this.requires,"summary")&&(z=z&&!!y));b["default"].publish("onSaveItemValidate",[z])}};q.prototype.getFolders=function(){var y=this,B=w["default"].getUser();if(null!==B){var z=new c["default"]({url:null,data:{identifier:"name",items:[]}});z.newItem({name:B.username,id:""});this.saveItemFolder.set("store",z);this.saveItemFolder.set("value",B.username);v["default"].getFolders(function(D){var F=
null,x=k["default"].getCookie("ESRI_Content");x&&x.folderId&&(F=x.folderId);y.foldersJson=D.folders;D.folders.forEach(function(E,G){z.newItem({name:E.title,id:E.id});y.folders["id"+E.id]=E.title.replace(/"/g,'\\"');F===E.id&&(y.saveItemFolder.set("value",E.title),y.folderId=F,y.folderName=E.title)});z.save({})},function(D){})}};q.prototype.onFolderChange=function(y){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(z){z.forEach(function(D){D.name[0]===y&&(B.folderId=D.id[0],B.folderName=
D.name[0])})}})};q.prototype._setTitleAttr=function(y){this.saveItemTitle.set("value",y)};q.prototype._getTitleAttr=function(){return this.saveItemTitle.get("value")};q.prototype._setTagsAttr=function(y){this.saveItemTags.setTags(y)};q.prototype._getTagsAttr=function(){return this.saveItemTags.getTags()};q.prototype._setCategoriesAttr=function(y){var B=this;y&&y.forEach(function(z){B.categories.addCategory(z)})};q.prototype._getCategoriesAttr=function(){return this.categories.getCategories(!0)};q.prototype._setSummaryAttr=
function(y){this.saveItemSummary.set("value",y)};q.prototype._getSummaryAttr=function(){return this.saveItemSummary.get("value")};q.prototype._setFolderAttr=function(y){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(z){z.forEach(function(D){D.name[0]===y&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",B.folderName))})}})};q.prototype._getFolderAttr=function(){return this.folderName};q.prototype._setFolderIdAttr=function(y){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(z){z.forEach(function(D){D.id[0]===
y&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",D.name[0]))})}})};q.prototype._getFolderIdAttr=function(){return this.folderId};q.prototype._setRequiresAttr=function(y){this.requires=y?y:null};q.prototype._setTitlePlaceHolderAttr=function(y){this.saveItemTitle.set("placeHolder",y)};q.prototype._setTagsPlaceHolderAttr=function(y){this.saveItemTitle.set("placeHolder",y)};q.prototype._setSummaryPlaceHolderAttr=function(y){this.saveItemSummary.set("placeHolder",y)};return q=
n.__decorate([C["default"](l["default"],r["default"],d["default"])],q)}()})},"arcgisonline/pages/dijit/CategoryPicker":function(){define("require exports tslib dojo/has dojo/topic dojo/query dojo/string dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/categories ../utils/formatters ../utils/icons dojo/text!./CategoryPicker/templates/CategoryPicker.html dojo/text!./CategoryPicker/templates/Category.html dojo/text!./CategoryPicker/templates/CategoryGroup.html dojo/text!./CategoryPicker/templates/CategoryChip.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dom ../../esriGeowConfig esri/Evented".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
return function(){function y(B,z){var D=this;this.templateString=l["default"];this.i18n=b["default"];this.icons=r["default"];this.defaultText="";this.categoriesLimit=20;this.globalClickListener=function(F){F=F.target;F.classList.contains("js-add-category-dropdown-link")||F.classList.contains("js-add-category-dropdown-button")||F.classList.contains("js-add-category-input")||D.closeCategoryDropdown()}}y.prototype.postMixInProperties=function(){var B=this,z,D,F;this.inherited(arguments);this.rootNode=
C["default"].getRootNode(this.schema);this.schema=(null===(D=null===(z=this.schema)||void 0===z?void 0:z[0])||void 0===D?void 0:D.categories)||[];this.categories=(null===(F=this.categories)||void 0===F?void 0:F.map(function(x){return B.removeRoot(x)}))||[];this.alwaysOpen=this.alwaysOpen||!1;this.categorySortHash=C["default"].getSchemaOrder(this.schema)};y.prototype.startup=function(){var B,z;this.inherited(arguments);if(null===(B=p["default"].portal)||void 0===B?0:B.maxCategoriesPerItem)this.categoriesLimit=
null===(z=p["default"].portal)||void 0===z?void 0:z.maxCategoriesPerItem;this.domNode.querySelector(".js-add-category-error").textContent=f["default"].substitute(b["default"].contentCategories.addCategoryError,{number:this.categoriesLimit});this.setCategories(this.categories);this.addEventListeners()};y.prototype.hideError=function(){h["default"](".js-add-category-error",this.domNode).removeClass("is-active")};y.prototype.setCategories=function(B,z){var D=this;B.map(function(F){return z?D.removeRoot(F):
F}).filter(function(F){return D.categorySortHash[F]});this.categories=B.map(function(F){return z?D.removeRoot(F):F}).filter(function(F){return D.categorySortHash[F]});this.rebuildCategoryChips();this.buildCategoryDropdown();this.alwaysOpen&&this.domNode.classList.add("category-picker--always-open")};y.prototype.getCategories=function(B){var z=B?this.rootNode:"";return this.categories.map(function(D){return""+z+D})};y.prototype.removeCategory=function(B,z){var D=this,F;this.categories.length<=this.categoriesLimit&&
m["default"].forEachNode(this.domNode.querySelectorAll(".js-add-category-error"),function(H){return H.classList.remove("is-active")});var x=this.domNode.querySelector(".js-category-chip[data-category-name\x3d'"+B+"']"),E=this.domNode.querySelector(".js-category-picker-item[data-category-path\x3d'"+B+"']"),G=E&&m["default"].querySelectorAllAsArray(".js-category-picker-item.is-active",E);G=null===G||void 0===G?void 0:G.map(function(H){return H.getAttribute("data-category-path")});if(-1<this.categories.indexOf(B)||
0<(null===G||void 0===G?void 0:G.length))null===(F=null===x||void 0===x?void 0:x.parentNode)||void 0===F?void 0:F.removeChild(x),this.categories=this.categories.filter(function(H){return H!==B}),E.classList.remove("is-active"),G.forEach(function(H){D.removeCategory(H)}),z&&u["default"].publish("categories/update"),this.emit("change",this.categories),this.rebuildCategoryChips();this.buildCategoryDropdown()};y.prototype.addCategory=function(B,z){if(0>this.categories.indexOf(B))if(this.categories=this.categories.filter(function(E){return 0>
B.indexOf(E+"/")}),this.categories.length<this.categoriesLimit){this.categories.push(B);var D=this.domNode.querySelector('.js-category-picker-item[data-category-path\x3d"'+B+'"]'),F=0<h["default"](D.parentElement).closest(".js-category-picker-item").length,x=[D];if(F)for(;D.parentElement.parentElement.classList.contains("js-category-picker-item");)D=D.parentElement.parentElement,x.push(D);x.forEach(function(E){return E.classList.add("is-active")});z&&u["default"].publish("categories/update");this.emit("change",
this.categories);this.rebuildCategoryChips()}else m["default"].querySelectorAllAsArray(".js-add-category-error",this.domNode).forEach(function(E){return E.classList.add("is-active")})};y.prototype.disable=function(){this.domNode.classList.add("category-picker--disabled")};y.prototype.enable=function(){this.domNode.classList.remove("category-picker--disabled")};y.prototype.buildCategoryDropdown=function(){if(this.domNode){var B=this.domNode.querySelector(".js-add-category-dropdown-menu");B&&(B.innerHTML=
this.categoriesToDom(this.schema,"",!0))}};y.prototype.categoriesToDom=function(B,z,D){var F=this;B=B.reduce(function(x,E){var G=z?z+"/"+E.title:"/"+E.title,H=E.categories?F.categoriesToDom(E.categories,G):"",J=G===F.selectedCategory?"is-selected":"",M=-1<F.categories.indexOf(G)||0<F.categories.filter(function(K){return-1<K.indexOf(G+"/")}).length;return x+f["default"].substitute(d["default"],{title:E.title,children:H,path:G,isActive:M?"is-active":"",isSelected:J,icons:r["default"]})},"");return f["default"].substitute(e["default"],
{categories:B,icons:r["default"],role:D?"tree":"group"})};y.prototype.addEventListeners=function(){this.inherited(arguments);this.own(h["default"](".js-add-category-dropdown-menu",this.domNode).on("click",this.treeLinkClick.bind(this)),h["default"](".js-category-chip-wrap",this.domNode).on("click",this.categoryChipClick.bind(this)),h["default"](".js-add-category-dropdown-button",this.domNode).on("click",this.toggleCategoryDropdown.bind(this)),h["default"](".js-add-category-input",this.domNode).on("keydown",
this.addCategoryKeyDown.bind(this)),h["default"](".js-add-category-input",this.domNode).on("keyup",this.addCategoryKeyUp.bind(this)))};y.prototype.treeLinkClick=function(B){var z,D=B.target;g["default"].contains(D,"js-add-category-dropdown-link")&&(B.preventDefault(),B=D.getAttribute("data-category-path"),D.parentNode.classList.contains("is-active")?this.removeCategory(B,!0):this.addCategory(B,!0),null===(z=this.domNode.querySelector(".js-add-category-input"))||void 0===z?void 0:z.focus())};y.prototype.categoryChipClick=
function(B){B.preventDefault();B=B.target;g["default"].contains(B,"js-category-chip-remove")&&(B=B.getAttribute("data-category-name"),this.removeCategory(B,!0))};y.prototype.toggleCategoryDropdown=function(){this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")?this.closeCategoryDropdown():this.openCategoryDropdown()};y.prototype.openCategoryDropdown=function(){var B=this.domNode.querySelector(".js-add-category-input"),z=this.domNode.querySelector(".js-add-category-dropdown");
B.value="";z.classList.add("is-active");B.focus();window.addEventListener("click",this.globalClickListener);if(t["default"]("trident")||t["default"]("edge"))B=this.domNode.closest(".dijitContentPane"),this.originalScrollTop&&this.originalScrollTop!==B.scrollTop?B.scrollTop=this.originalScrollTop:(this.originalScrollTop=B.scrollTop,B.scrollTop+=2)};y.prototype.closeCategoryDropdown=function(){this.alwaysOpen||(m["default"].querySelectorAllAsArray(".js-add-category-dropdown",this.domNode).forEach(function(B){return B.classList.remove("is-active")}),
this.selectedCategory=null);window.removeEventListener("click",this.globalClickListener);this.buildCategoryDropdown()};y.prototype.addCategoryKeyDown=function(B){9===B.keyCode?this.closeCategoryDropdown():13===B.keyCode&&this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")&&B.preventDefault()};y.prototype.addCategoryKeyUp=function(B){var z,D,F=B.keyCode,x=null===(z=B.target)||void 0===z?void 0:z.value;z=m["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",
this.domNode);var E=m["default"].querySelectorAllAsArray(".js-category-picker-item",this.domNode);m["default"].hideNodes(z);m["default"].hideNodes(E);var G=function(H){return-1<H.getAttribute("data-category-path").toLowerCase().indexOf(x.toLowerCase())};E=z.filter(function(H){var J=G(H);H=0<m["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",H.parentNode).filter(G).length;return J||H}).map(function(H){var J;H.classList.remove("hide");null===(J=H.parentNode)||void 0===J?void 0:J.classList.remove("hide");
return H});z=this.domNode.querySelector(".js-add-category-dropdown-link.is-selected");switch(F){case 27:this.closeCategoryDropdown();break;case 13:B.preventDefault();z&&(F=z.getAttribute("data-category-path"),(null===(D=z.parentNode)||void 0===D?0:D.classList.contains("is-active"))?this.removeCategory(F,!0):this.addCategory(F,!0),z.classList.add("is-selected"));break;case 40:case 38:B.preventDefault(),B=E.indexOf(z),D=E[B+1]?E[B+1]:E[0],B=E[B-1]?E[B-1]:E[E.length-1],F=40===F?D:B,z&&z.classList.remove("is-selected"),
g["default"].add(F,"is-selected"),this.selectedCategory=F.getAttribute("data-category-path")}};y.prototype.rebuildCategoryChips=function(){var B=this,z=this.domNode.querySelector(".js-category-chip-wrap");k["default"].empty(z);var D=this.categories.sort(function(F,x){return B.categorySortHash[F]-B.categorySortHash[x]});D.forEach(function(F){var x=f["default"].substitute(b["default"].contentCategories.removeCategoryX,{category:F});F=f["default"].substitute(a["default"],{category:F,removeText:x,icons:r["default"]},
null,A["default"]);k["default"].place(F,z)});this.defaultText&&m["default"].showHide(this.defaultTextContainer,0===D.length)};y.prototype.removeRoot=function(B){return B.replace(new RegExp(this.rootNode+"/"),"/")};return y=n.__decorate([c["default"](v["default"],w["default"],q["default"])],y)}()})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(){}v.createFolder=function(C,A,r){var l=h["default"].getUser();return(l=l&&(l.username||l.email))?this.createFolderByUser(l,C,A,r):null};v.createFolderByUser=function(C,A,r,l){var d=this;h["default"].getUser()&&h["default"].request({url:t["default"].restBaseUrl+"content/users/"+C+
"/createFolder",content:A},{usePost:!0}).then(function(e){var a;if(null===(a=d._userFolders)||void 0===a?0:a[C])d._userFolders[C]=null;r(e)},function(e){l(e)})};v.deleteFolder=function(C,A,r){var l=h["default"].getUser();return(l=l&&(l.username||l.email))?this.deleteFolderByUser(l,C,A,r):null};v.deleteFolderByUser=function(C,A,r,l){var d=this;A=t["default"].restBaseUrl+"content/users/"+C+"/"+A+"/delete";h["default"].getUser()&&h["default"].request({url:A},{usePost:!0}).then(function(e){var a;if(null===
(a=d._userFolders)||void 0===a?0:a[C])d._userFolders[C]=null;r(e)},function(e){l(e)})};v.getFolders=function(C,A,r){var l=h["default"].getUser();return(l=l&&(l.username||l.email))?this.getFoldersByUser(l,C,A,r):null};v.getFoldersByUser=function(C,A,r,l){var d=this,e;if(h["default"].getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,C,A,r,l),75);else{"function"!==typeof r&&(l=r,r=null);this._userFolders||(this._userFolders={});var a=t["default"].restBaseUrl+"content/users/"+
C;l={num:l?100:1};a=(null===(e=this._userFolders[C])||void 0===e?void 0:e.folders)&&u["default"](this._userFolders[C].folders)||this._fetchAllItems(a,l).then(function(b){d._userFolders[C]={folders:b};d._isRequestingFolders=!1;return u["default"](b)},function(b){throw b;});this._isRequestingFolders=!this._userFolders[C]||!this._userFolders[C].folders;k["default"](a,A,r)}};v._fetchAllItems=function(C,A){var r=this,l={};return this._fetchItems(C,A,l).then(function(d){if(1<A.num&&d.total>A.num){var e=
Math.ceil(d.total/A.num),a=d.nextStart,b=[];1===(null===d||void 0===d?void 0:d.start)?l=d:l.items=l.items.concat(d.items);for(var c=0;c<e-1;c++)b.push(r._fetchItems(C,n.__assign(n.__assign({},A),{start:a}),l)),a+=d.num;return f["default"](b).then(function(m){(m||[]).forEach(function(p){l.items=l.items.concat(p.items)});return l})}return d},function(d){throw d;})};v._fetchItems=function(C,A,r){return h["default"].request({url:C,content:A}).then(function(l){return l},function(l){throw l;})};v.foldersToStore=
function(C){return new w["default"]({data:{label:"title",items:[{name:"Anonymous User",children:C}]}})};v.updateMoveToMenu=function(C,A,r,l,d){g["default"].publish("updateItemToolbar",[{folders:C,folderId:A,folderName:r,onClickHandler:l,customMenuItem:d}])};v.updateMoveToMenuByUser=function(C,A,r,l,d){g["default"].publish("updateItemToolbar",[{username:C,folders:A,folderId:r,folderName:l,onClickHandler:d}])};return v}()})},"arcgis-components/wrappers/Tags":function(){define(["../Component","../Inputs/Tags/index"],
function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==
typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=987)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=
typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}
function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;
q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;
a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&
b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,l){return(C=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},713:function(n,t){n.exports=N},987:function(n,t,u){u.r(t);
u.d(t,"TagsWrapper",function(){return w});var h=u(0),f=u(16);n=u(713);u=u.n(n);var g=function(v,C){switch(C.type){case "UPDATE_ACTIVE_TAGS":return Object(h.a)(Object(h.a)({},v),{activeTags:C.payload});case "UPDATE_KNOWN_TAGS":return Object(h.a)(Object(h.a)({},v),{knownTags:C.payload});default:return v}},k=Object(f.connect)(function(v){return{activeTags:v.activeTags,knownTags:v.knownTags}},function(v){return{onChange:function(C){v({type:"UPDATE_ACTIVE_TAGS",payload:C})}}})(u.a),w=function(){function v(C,
A){this.renderContainer=C;this.store=Object(f.createStore)(g,{activeTags:A.activeTags,knownTags:A.knownTags});this.projector=Object(f.createProjector)(this.store,function(r){return r(k,Object(h.a)({key:"wrapped-tags"},A))},this.renderContainer)}return v.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},v.prototype.focus=function(){var C=this.renderContainer.querySelector("input");
C&&C.focus()},v.prototype.getTags=function(){return this.store.getState().activeTags},v.prototype.setTags=function(C){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:C})},v.prototype.getKnownTags=function(){return this.store.getState().knownTags},v.prototype.setKnownTags=function(C){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:C})},v.prototype.watchTags=function(C){var A=this,r=this.store.getState().activeTags;return this.store.subscribe(function(){var l=A.store.getState().activeTags;
l!==r&&C(r=l)})},v}()}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component","dojo/i18n!../../Inputs/Tags/nls/resources"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=859)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}
function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});
u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,t){n.exports=
R},417:function(n,t){n.exports=N},545:function(n,t,u){t.a=function(h,f){var g=h.name;return f("li",{"class":"inp-tags__tag",key:g},f("span",{title:g,"class":"inp-tags__tag-innards",onkeydown:h.onKeyDown,id:"tag-"+g,tabindex:"-1"},g,f("button",{"class":"inp-tags__tag-remove-btn","data-value":g,onclick:h.onRemove,tabindex:"-1",type:"button"},f("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},f("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},
546:function(n,t,u){var h=u(417);t.a=function(f,g){var k=f.onSuggestionFocus,w=f.onSuggestionBlur,v=f.onSuggestionClick,C=f.onSuggestionKeyDown;if(!f.visible)return null;var A=f.matchingTags.map(function(l,d){return g("li",{id:"suggestion-"+d,classes:{"inp-tags__suggestion":!0,"inp-tags__suggestion--grey":0==d%2,"inp-tags__suggestion--white":0!=d%2},"data-value":l,"data-index":d,key:l,title:l,onfocus:k,onblur:w,onmousedown:v,onkeydown:C,tabindex:"0"},l)}),r=g("div",{"class":"inp-tags__no-suggestions",
id:"no-matching-div"},g("div",{"class":"inp-tags__no-suggestions-text",id:"no-matching-text"},h.noTagsFound));return g("ul",{id:"tag-suggestions","class":"inp-tags__suggestions",key:"tag-suggestions"},A[0]?A:r)}},859:function(n,t,u){u.r(t);var h=u(0);n=u(18);var f=u(417),g=u(545),k=u(546);u=function(w){function v(C){C=w.call(this,C)||this;return C.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},C.handleInputBlur=C.handleInputBlur.bind(C),C.handleInputChange=C.handleInputChange.bind(C),
C.handleInputFocus=C.handleInputFocus.bind(C),C.handleInputKeyDown=C.handleInputKeyDown.bind(C),C.handleSuggestionBlur=C.handleSuggestionBlur.bind(C),C.handleSuggestionClick=C.handleSuggestionClick.bind(C),C.handleSuggestionFocus=C.handleSuggestionFocus.bind(C),C.handleSuggestionKeyDown=C.handleSuggestionKeyDown.bind(C),C.handleWidgetClick=C.handleWidgetClick.bind(C),C.spliceTag=C.spliceTag.bind(C),C.handleTagInputKeyDown=C.handleTagInputKeyDown.bind(C),C}return Object(h.d)(v,w),v.prototype.render=
function(C){var A=this,r={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},l=this.props.knownTags.filter(function(d){return-1!==d.toLowerCase().indexOf(A.state.value.toLowerCase())&&-1===A.props.activeTags.indexOf(d)});return C("div",{id:"tags-container",classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+
";\n                    "},C("ul",{classes:r,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(d){return d}).map(function(d){return C(g.a,{name:d,onRemove:A.spliceTag,onKeyDown:A.handleTagInputKeyDown})}),C("input",{id:"tags-input","class":"inp-tags__input",placeholder:f.addTags,value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),C(k.a,{matchingTags:l,onSuggestionBlur:this.handleSuggestionBlur,
onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},v.prototype.handler=function(C){},v.prototype.addTag=function(C,A){var r=this;void 0===A&&(A=!0);var l=[];C.split(",").forEach(function(e){(e=r.stripHTML(e.trim()))&&-1===r.props.activeTags.indexOf(e)&&-1===l.indexOf(e)&&l.push(e)});this.props.onChange(this.props.activeTags.concat(l));var d=document.getElementById("tags-input");
d&&A&&d.focus()},v.prototype.spliceTag=function(C){C=C.currentTarget||C.target;var A=Object(h.g)([],this.props.activeTags);A.splice(this.props.activeTags.indexOf(C.dataset.value),1);this.props.onChange(A)},v.prototype.handleInputBlur=function(C){var A=this;setTimeout(function(){var r=document.getElementById("tags-container");(null==r?0:r.contains(document.activeElement))||(A.addTag(C.target.value,!1),A.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},v.prototype.handleInputChange=
function(C){this.setState({value:C.target.value})},v.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},v.prototype.handleInputKeyDown=function(C){switch(C.key){case "Enter":C.target.value&&(this.addTag(C.target.value),this.setState({value:"",isTyping:!1}),(A=document.getElementById("tags-input"))&&(A.focus(),A.value=""));break;case "Tab":var A;C.target.value&&(C.preventDefault(),this.addTag(C.target.value),this.setState({value:"",isTyping:!1}),(A=document.getElementById("tags-input"))&&
(A.focus(),A.value=""));break;case "Backspace":C.target.value||(C=Object(h.g)([],this.props.activeTags),C.pop(),this.props.onChange(C),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":A=document.getElementById("suggestion-0");this.state.isTyping&&A?(C.preventDefault(),A.focus()):this.setState({isTyping:!0});break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;
default:this.setState({isTyping:!0})}},v.prototype.handleSuggestionBlur=function(C){C.preventDefault();this.setState({isFocused:!1,isTyping:!1})},v.prototype.handleSuggestionClick=function(C){C.preventDefault();this.addTag(C.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(C=document.getElementById("tags-input"))&&(C.focus(),C.value="")},v.prototype.handleSuggestionFocus=function(C){C.preventDefault();this.setState({isFocused:!0,isTyping:!0})},v.prototype.handleSuggestionKeyDown=
function(C){switch(C.preventDefault(),C.key){case "Up":case "ArrowUp":0===C.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(C.target["data-index"]-1)));break;case "Down":case "ArrowDown":(C=document.getElementById("suggestion-"+(C.target["data-index"]+1)))?C.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(C);break;case "Escape":C.preventDefault(),
this.focusElement(document.getElementById("tags-input"))}},v.prototype.handleWidgetClick=function(C){(C=document.getElementById("tags-input"))&&C.focus()},v.prototype.handleTagInputKeyDown=function(C){var A=document.activeElement.getAttribute("title");if(A){var r=this.props.activeTags.indexOf(A);switch(C.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<r?"tag-"+this.props.activeTags[r-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(r<
this.props.activeTags.length-1?"tag-"+this.props.activeTags[r+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":C=Object(h.g)([],this.props.activeTags),C.splice(this.props.activeTags.indexOf(A),1),this.props.onChange(C),this.focusElement(document.getElementById("tag-"+this.props.activeTags[r<this.props.activeTags.length-1?r+1:r-1]))}}},v.prototype.focusElement=function(C){C&&C.focus()},
v.prototype.stripHTML=function(C){return C&&C.replace(/<(?:.|\s)*?>/g,"")},v}(n.Component);t["default"]=u}})})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(R,N,n,t,u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(g,k){this.autoComplete=!1;this.templateString=h["default"]}return f=n.__decorate([t["default"](u["default"])],
f)}()})},"arcgisonline/sharing/dijit/dialog/ExtentDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../DefineExtent dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExtentDlg.html".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A){var r=N("arcgisonline.sharing.dijit.dialog.ExtentDlg",[g,k,w],{declaredClass:"arcgisonline.sharing.dijit.dialog.ExtentDlg",basePath:R.toUrl("arcgisonline/sharing/dijit/dialog"),
templateString:A,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin({},C.common);this.i18n=n.mixin(this.i18n,C.viewer.geocode);this.i18n=n.mixin(this.i18n,C.generalDlg);this.i18n=n.mixin(this.i18n,C.extentDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},_loadConnections:function(){this.own(t(this._cancelBtn,"click",n.hitch(this,"_cancelBtnClick")),t(this._okBtn,"click",n.hitch(this,"_okBtnClick")),u.subscribe("define-extent/update",
n.hitch(this,"_publish")))},_cancelBtnClick:function(l){l.preventDefault();this._extentDialog.hide()},_okBtnClick:function(l){l.preventDefault();this.setExtent()},hide:function(){this._defineExtent._destroyMap();this._extentDialog.hide()},show:function(l){this._defineExtent||(this._defineExtent=new v({id:"defineExtent"},this._extentContainer),this._defineExtent.startup());this._defineExtent.set("extent",l);this._extentDialog.show()},setExtent:function(){var l=this._defineExtent.get("extent");l&&this._publish(l);
this.hide()},_publish:function(l){u.publish("extent/update",l)}});r.prototype.statics={getInstance:function(){this._instance||(this._instance=new r);return this._instance}};return r})},"arcgisonline/sharing/dijit/DefineExtent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/number dojo/topic esri/dijit/Search esri/map esri/layers/ImageParameters esri/layers/ArcGISTiledMapServiceLayer esri/geometry/Extent esri/geometry/Point esri/geometry/webMercatorUtils esri/SpatialReference esri/symbols/SimpleLineSymbol esri/toolbars/draw esri/graphic esri/dijit/Popup dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../map/core/projectExtent ../../map/utils/clipOnHorizon ../../map/utils/createExtentSearchOptions ../util ../../pages/pageUtil ../../pages/utils/dom ../../pages/utils/number ../../esriGeowConfig ./dialog/GeneralDlg dojo/i18n!../../nls/arcgisonline dojo/text!./templates/DefineExtent.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa){return N([G,H,J],{declaredClass:"arcgisonline.sharing.dijit.DefineExtent",basePath:R.toUrl("arcgisonline/sharing/dijit"),templateString:qa,widgetsInTemplate:!0,numberPattern:"#.#",_setExtentAttr:function(Y){(this.extent=Y)&&2===Y.length&&2===Y[0].length&&2===Y[1].length?(this._initMap(Y),this._extentTop.set("value",aa.format(Math.round(1E3*this.extent[1][1])/1E3)),this._extentLeft.set("value",aa.format(Math.round(1E3*
this.extent[0][0])/1E3)),this._extentRight.set("value",aa.format(Math.round(1E3*this.extent[1][0])/1E3)),this._extentBottom.set("value",aa.format(Math.round(1E3*this.extent[0][1])/1E3))):(this._initMap(null),this._extentTop.set("value",""),this._extentLeft.set("value",""),this._extentRight.set("value",""),this._extentBottom.set("value",""))},_getExtentAttr:function(){var Y=[[],[]],Q=this._extentTop.get("value"),fa=this._extentLeft.get("value"),S=this._extentBottom.get("value"),O=this._extentRight.get("value"),
I=C.parse(Q),Z=C.parse(fa),W=C.parse(S),ca=C.parse(O);if(this._isValidExtentInput(Q,fa,O,S,I,Z,ca,W)){Y[1][1]=I;Y[0][0]=Z;Y[1][0]=ca;Y[0][1]=W;if(this._isValidWGS84Extent(Y))return Y;ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})}else ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})},
postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin({},ka.common);this.i18n=n.mixin(this.i18n,ka.viewer.geocode);this.i18n=n.mixin(this.i18n,ka.generalDlg);this.i18n=n.mixin(this.i18n,ka.extentDlg)},postCreate:function(){this.symbol=new p(p.STYLE_SOLID,new u([255,0,0]),2);this.defaultExtent=new a(-121,21.72,-76,61.28,new m({wkid:4326}));this._loadConnections()},destroy:function(){this.inherited(arguments);this._destroyMap()},_loadConnections:function(){var Y=n.hitch(this,"_checkRange");
this.own(v(this._extentTop,"blur",Y),v(this._extentLeft,"blur",Y),v(this._extentRight,"blur",Y),v(this._extentBottom,"blur",Y),v(this._buttonSetExtent,"click",n.hitch(this,"_toggleMapNavigation")))},_isValidWGS84Extent:function(Y){Y=[Y[0].join(","),Y[1].join(",")].join();Y=t.map(Y.split(","),function(Q){return parseFloat(Q)});return-90<=Y[3]&&90>=Y[3]&&-180<=Y[2]&&180>=Y[2]&&-180<=Y[0]&&180>=Y[0]&&-90<=Y[1]&&90>=Y[1]&&Y[2]>Y[0]&&Y[3]>Y[1]},_isValidExtentInput:function(Y,Q,fa,S,O,I,Z,W){return!(0===
Y.length||0===Q.length||0===fa.length||0===S.length||isNaN(O)||isNaN(I)||isNaN(Z)||isNaN(W))},_destroyMap:function(){if(this.map){try{this.map.destroy()}catch(Q){}var Y=this.map.infoWindow;Y&&Y.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(Q){}this.geocoder=null}h.byId("extent-map-container")&&g.empty(h.byId("extent-map-container"))},_setProjectedExtent:function(Y){Y=K(Y[0]);v.once(this.map,"extent-change",n.hitch(this,"_drawBoundingBox",Y));this.map.setExtent(Y,!0)},
_drawBoundingBox:function(Y){this._drawBox(Y)},_checkRange:function(Y){if(Y){var Q=Y.target.value,fa=C.parse(Q);Y=Y.target.id;var S=!1;if("extent-left"===Y){if(0===Q.length||isNaN(fa))ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>fa||180<fa)ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),S=!0;S&&(this.extent&&2===this.extent.length&&2==this.extent[0].length&&2===
this.extent[1].length?this._extentLeft.set("value",aa.format(Math.round(1E3*this.extent[0][0])/1E3)):this._extentLeft.set("value",""))}else if("extent-right"===Y){if(0===Q.length||isNaN(fa))ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>fa||180<fa)ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&
2===this.extent[1].length?this._extentRight.set("value",aa.format(Math.round(1E3*this.extent[1][0])/1E3)):this._extentRight.set("value",""))}else if("extent-top"===Y){if(0===Q.length||isNaN(fa))ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>fa||90<fa)ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&
2===this.extent[1].length?this._extentTop.set("value",aa.format(Math.round(1E3*this.extent[1][1])/1E3)):this._extentTop.set("value",""))}else{if(0===Q.length||isNaN(fa))ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>fa||90<fa)ba.createSpecifiedDialog(ia).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),S=!0;S&&(this.extent&&2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?
this._extentBottom.set("value",aa.format(Math.round(1E3*this.extent[0][1])/1E3)):this._extentBottom.set("value",""))}null!=this.map&&0<this._extentTop.get("value").length&&0<this._extentLeft.get("value").length&&0<this._extentRight.get("value").length&&0<this._extentBottom.get("value").length?(Q=[[],[]],Q[1][1]=C.parse(this._extentTop.get("value")),Q[0][0]=C.parse(this._extentLeft.get("value")),Q[1][0]=C.parse(this._extentRight.get("value")),Q[0][1]=C.parse(this._extentBottom.get("value")),this._isValidWGS84Extent(Q)?
(Q=new a(Q[0][0],Q[0][1],Q[1][0],Q[1][1],new m({wkid:4326})),M(Q,this.map.spatialReference,n.hitch(this,"_setProjectedExtent"),null,this.map)):this._deleteBox()):null!=this.map&&this._deleteBox()}},_initMap:function(Y){var Q=this.defaultExtent;null!=Y&&(Q=new a(Y[0][0],Y[0][1],Y[1][0],Y[1][1],new m({wkid:4326})));if(this.map){if(null!=Y)v.once(this.map,"extent-change",n.hitch(this,"_drawBoundingBox",Q));this.map.setExtent(Q,!0)}else{this.map=new l("extent-map-container",{showAttribution:!1,wrapAround180:!1,
center:[-31,10],zoom:1});var fa=new d;fa.format="png24";fa=new e(ha.extentService,{imageParameters:fa});this.map.addLayer(fa);null!=Y&&this.own(this.map.on("load",n.hitch(this,"_onMapLoad",Q)));this.own(fa.on("update",n.hitch(this,"_onUpdate")));this.toolbar=new q(this.map,{showTooltips:!1});this.own(this.toolbar.on("draw-complete",n.hitch(this,"_onDrawEnd")));this.mapNavigation=!0;f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent);this.geocoder||(Y=L(this.map),Y.showInfoWindowOnSelect=
!1,this.geocoder=new r(Y,g.create("div",{id:"extentSearch"},this._extentSearchContainer,"only")),this.geocoder.startup(),this.own(this.geocoder.on("select-result",n.hitch(this,"_onSearchResult"))))}},_onMapLoad:function(Y){w(".action.zoomTo").forEach(V.hideNode);M(Y,this.map.spatialReference,n.hitch(this,"_setProjectedExtent"),null,this.map)},_drawBox:function(Y){this.map.graphics.clear();null!==Y&&this.map.graphics.add(new y(Y,this.symbol))},_deleteBox:function(){this.map.graphics.clear()},_onUpdate:function(){this.map.reposition()},
_toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(q.EXTENT),this.map.showZoomSlider(),this.mapNavigation=!1,f.set(this._buttonSetExtent,"innerHTML",this.i18n.enableMapPanning)):(this.toolbar.deactivate(),this.map.enableMapNavigation(),this.mapNavigation=!0,f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent))},_onSearchResult:function(Y){if(Y.result){Y=Y.result;var Q=Y.feature.geometry,fa=Y.extent;if("polygon"===Q.type){var S=Q.getExtent().expand(1.1);var O=Q.getCentroid()}else"polyline"===
Q.type?(S=Q.getExtent().expand(1.1),O=Q.getPoint(0,0)):"multipoint"===Q.type?(S=Q.getExtent().expand(1.1),O=Q.getPoint(0)):(S=fa||arcgisonline.map.main.map.extent.centerAt(Q).expand(.0625),O=Q);this._deleteBox();this.popup||(this.popup=new B(null,g.create("div",{"class":"blueTheme"},h.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);this.popup.setContent("\x3cdiv\x3e\x3cspan\x3e"+Y.name+"\x3c/span\x3e\x3c/div\x3e");v.once(this.map,"extent-change",n.hitch(this,function(){this._drawBox(S);
this.popup.show(O);setTimeout(n.hitch(this,function(){this.popup.hide()}),3E3)}));this.map.setExtent(S,!0);Y=S;4326!==S.spatialReference.wkid&&(Y=c.webMercatorToGeographic(S));this._extentTop.set("value",aa.format(Math.round(1E3*Y.ymax)/1E3));this._extentLeft.set("value",aa.format(Math.round(1E3*Y.xmin)/1E3));this._extentRight.set("value",aa.format(Math.round(1E3*Y.xmax)/1E3));this._extentBottom.set("value",aa.format(Math.round(1E3*Y.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(Y.ymax);
this.extent[0][0]=parseFloat(Y.xmin);this.extent[1][0]=parseFloat(Y.xmax);this.extent[0][1]=parseFloat(Y.ymin);A.publish("define-extent/change",Y)}},_onDrawEnd:function(Y){this._deleteBox();if(.01>Y.width){var Q=.01;Y=new a(Y.xmin-Q,Y.ymin,Y.xmin+Q,Y.ymax,new m({wkid:4326}))}.01>Y.height&&(Q=.01,Y=new a(Y.xmin,Y.ymin-Q,Y.xmax,Y.ymin+Q,new m({wkid:4326})));Y=K(Y.geographicGeometry);v.once(this.map,"extent-change",n.hitch(this,"_drawBoundingBox",Y));this.map.setExtent(Y,!0);Q=Y;4326!==Y.spatialReference.wkid&&
(Q=c.webMercatorToGeographic(Y));this._extentTop.set("value",aa.format(Math.round(1E3*Q.ymax)/1E3));this._extentLeft.set("value",aa.format(Math.round(1E3*Q.xmin)/1E3));this._extentRight.set("value",aa.format(Math.round(1E3*Q.xmax)/1E3));this._extentBottom.set("value",aa.format(Math.round(1E3*Q.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(Q.ymax);this.extent[0][0]=parseFloat(Q.xmin);this.extent[1][0]=parseFloat(Q.xmax);this.extent[0][1]=parseFloat(Q.ymin);A.publish("define-extent/change",
Q)}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa){function Y(Q,fa){Q&&fa&&(Q._layer=fa,Q._sourceLayer=fa)}N=N([c,m,p,u],{declaredClass:"esri.dijit.Search",templateString:b,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(Q,fa){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new ha("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:a.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:a.widgets.Search.main.placeholder,highlightSymbol:(new G(R.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new K).setColor(new ka([181,56,46,.9])).setFont(new L("14px",L.STYLE_NORMAL,L.VARIANT_NORMAL,L.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new z(a.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};var S=n.mixin({},this.options,Q);this.set(S);this._updateActiveSource();this._i18n=a;this._defaultSR=new F(4326);this.domNode=fa},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(n.hitch(this,this._init))},postCreate:function(){var Q=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(g(this.submitNode,q,n.hitch(this,this._searchButton)));this.own(g(this.sourcesBtnNode,q,n.hitch(this,this._toggleSourcesMenu)));this.own(g(this.inputNode,q,n.hitch(this,this._inputClick)));this.own(g(this.clearNode,q,n.hitch(this,this._clearButton)));this.own(g(this.formNode,"submit",n.hitch(this,function(fa){fa.preventDefault();this._cancelSuggest();this.search()})));this.own(g(this.inputNode,"keyup",n.hitch(this,
function(fa){this._inputKey(fa)})));this.own(g(this.sourcesBtnNode,"keyup",n.hitch(this,function(fa){this._sourceBtnKey(fa)})));this.own(g(this.suggestionsNode,"li:click, li:keyup",function(fa){Q._suggestionsEvent(fa,this)}));this.own(g(this.sourcesNode,"li:click, li:keyup",function(fa){Q._sourcesEvent(fa,this)}));this.own(g(this.inputNode,"input, paste",n.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(g(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",n.hitch(this,function(fa){this._showMoreResultsClick(fa)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",n.hitch(this,function(fa){this._moreResultsClick(fa)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",n.hitch(this,function(fa){this._switchCoordinatesClick(fa)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();d.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();A.get(this.inputNode,"value")&&A.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);r.remove(this.containerNode,
this.css.hasValue);A.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){l.set(this.domNode,"display","block")},hide:function(){l.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(r.add(this.containerNode,this.css.searchExpanded),r.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(r.remove(this.containerNode,
this.css.searchExpanded),r.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(Q){this.enableButtonMode&&("undefined"===typeof Q&&(Q=!this.expanded),Q?this.expand():this.collapse())},search:function(Q){var fa=new h;this._mapLoaded().then(n.hitch(this,function(){this._searchDeferred(Q).then(n.hitch(this,function(S){var O=S.results;this.set("searchResults",O);0===S.numResults&&(this._noResults(S.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",S);this._selectFirstResult(O,S.activeSourceIndex);fa.resolve(O)}),n.hitch(this,function(S){fa.reject(S)}))}));return fa.promise},suggest:function(Q){var fa=new h;this._mapLoaded().then(n.hitch(this,function(){this._suggestDeferred(Q).then(n.hitch(this,function(S){if(S){var O=S.results;this.set("suggestResults",O);this._insertSuggestions(O,S.value);this.emit("suggest-results",S);fa.resolve(O)}}),n.hitch(this,function(S){fa.reject(S)}))}));return fa.promise},select:function(Q){var fa=
this._getDefaultSymbol(Q),S=this.labelSymbol,O=this.sources,I=this.activeSourceIndex,Z=this.enableHighlight,W=this.enableLabel,ca=this.autoNavigate,T=this.showInfoWindowOnSelect,P=this.enableInfoWindow,X=this.infoTemplate,da=Q.feature?new x(Q.feature.toJson()):null,ea=da?Q.feature._sourceLayer:null;Y(da,ea);if(I===this._allIndex){var ja=this._getSourceIndexOfResult(Q);if(null!==ja){var la=O[ja];I=ja}}else la=O[I];la&&(la.hasOwnProperty("highlightSymbol")&&(fa=la.highlightSymbol),la.hasOwnProperty("labelSymbol")&&
(S=la.labelSymbol),la.hasOwnProperty("enableHighlight")&&(Z=la.enableHighlight),la.hasOwnProperty("enableLabel")&&(W=la.enableLabel),la.hasOwnProperty("autoNavigate")&&(ca=la.autoNavigate),la.hasOwnProperty("showInfoWindowOnSelect")&&(T=la.showInfoWindowOnSelect),la.hasOwnProperty("enableInfoWindow")&&(P=la.enableInfoWindow),la.hasOwnProperty("infoTemplate")?X=la.infoTemplate:la.featureLayer&&la.featureLayer.infoTemplate&&(X=la.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(da){O=
this.highlightGraphic;var ma=this.graphicsLayer;ja=this.labelGraphic;var oa=n.mixin({},da.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(Q),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(Q)}),sa=null;P&&(sa=X);ja?(ja.setGeometry(da.geometry),ja.setAttributes(oa),ja.setSymbol(S),S&&"textsymbol"===S.type&&ja.symbol.setText(Q.name)):(ja=new x(da.geometry,
S,oa),Y(ja,ea),S&&"textsymbol"===S.type&&ja.symbol.setText(Q.name),W&&(ma?ma.add(ja):this.map&&this.map.graphics&&this.map.graphics.add(ja)));O?(O.setGeometry(da.geometry),O.setAttributes(oa),O.setInfoTemplate(sa),O.setSymbol(fa)):(O=new x(da.geometry,fa,oa,sa),Y(O,ea),Z&&(ma?ma.add(O):this.map&&this.map.graphics&&this.map.graphics.add(O)));O&&O.symbol&&"textsymbol"===O.symbol.type&&O.symbol.setText(Q.name);this.map&&this.map.infoWindow&&P&&T&&(this.map.infoWindow.setFeatures([O]),fa=this._getPointFromGeometry(O.geometry),
this.map.infoWindow.show(fa));this.map&&ca&&Q&&Q.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(Q.extent,!0);this.set("highlightGraphic",O);this.set("labelGraphic",ja)}this.set("selectedResult",Q);this.emit("select-result",{result:Q,source:la,sourceIndex:I})},focus:function(){y.focus(this.inputNode)},blur:function(){this.inputNode.blur();y.curNode&&y.curNode.blur()},clearGraphics:function(){var Q=this.highlightGraphic,fa=this.graphicsLayer,S=this.labelGraphic;
Q&&(fa?fa.remove(Q):this.map&&this.map.graphics&&this.map.graphics.remove(Q));S&&(fa?fa.remove(S):this.map&&this.map.graphics&&this.map.graphics.remove(S));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var Q=new h;if(this.map)if(this.map.loaded)Q.resolve();else g.once(this.map,"load",n.hitch(this,function(){Q.resolve()}));else Q.resolve();return Q.promise},_init:function(){this._getMapLayers().then(n.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();y.focus(this.inputNode)},_error:function(Q){return Error(this.declaredClass+" "+Q)},_searchDeferred:function(Q){var fa=new h,S=this.value,O=this.activeSourceIndex;Q&&Q.hasOwnProperty("index")&&(O=Q.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var I={magicKey:this.magicKey,text:S};Q?"string"===typeof Q?(I.text=Q,Q=this._searchQueries(I)):Q="object"===typeof Q&&Q.hasOwnProperty("magicKey")?this._searchQueries(Q):"object"===
typeof Q&&Q.hasOwnProperty("geometry")?this._searchQueries({geometry:Q}):"object"===typeof Q&&Q.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(Q):"object"===typeof Q&&"point"===Q.type?this._searchQueries({point:Q}):Q instanceof Array&&2===Q.length?this._searchQueries({latlon:Q}):this._searchQueries(I):Q=this._searchQueries(I);Q.always(n.hitch(this,function(Z){Z=this._formatResults(Z,O,S);fa.resolve(Z)}));return fa.promise},_suggestDeferred:function(Q){var fa=new h;this._deferreds.push(fa);
Q||(Q=this.value);var S=this.activeSourceIndex;this._suggestQueries({text:Q}).always(n.hitch(this,function(O){var I;if(O)for(var Z=0;Z<O.length;Z++)O[Z]&&(I=!0);I?(O=this._formatResults(O,S,Q),fa.resolve(O)):fa.resolve()}));return fa.promise},_getDefaultSymbol:function(Q){var fa;this.map&&(fa=this.map.getBasemap());fa||(fa="topo");if(Q&&Q.feature&&Q.feature.geometry)var S=Q.feature.geometry.type;"polyline"===S?S="line":"circle"===S||"extent"===S?S="polygon":"multipoint"===S&&(S="point");if(S){if(Q=
qa.getSchemes({theme:"default",basemap:fa,geometryType:S}))var O=Q.primaryScheme;if(O){O.color&&O.hasOwnProperty("opacity")&&(O.color.a=O.opacity);var I=O;Q=O.color;O=O.size;switch(S){case "point":var Z=new H;Z.setColor(Q);Z.setSize(null!==O?O:I.size);S=new J;S.setColor(I.outline.color);S.setWidth(I.outline.width);Z.setOutline(S);break;case "line":Z=new J;Z.setColor(Q);Z.setWidth(null!==O?O:I.width);break;case "polygon":Z=new M,Z.setColor(Q),S=new J,S.setColor(I.outline.color),S.setWidth(I.outline.width),
Z.setOutline(S)}I=Z}}return I},_selectFirstResult:function(Q,fa){if(this.autoSelect&&Q){var S;fa===this._allIndex?S=this._getFirstResult(Q):Q[fa]&&Q[fa][0]&&(S=Q[fa][0]);S&&this.select(S)}},_getSourceIndexOfResult:function(Q){var fa=this.searchResults;if(fa)for(var S in fa)if(fa[S]&&fa[S].length)for(var O=0;O<fa[S].length;O++)if(fa[S][O]===Q)return parseInt(S,10);return null},_getFirstResult:function(Q){if(Q)for(var fa in Q)if(Q[fa]&&Q[fa][0])return Q[fa][0];return!1},_onFocus:function(){this.map&&
"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var Q=new h;if(this.addLayersFromMap&&this.map){var fa=[],S=this.map.graphicsLayerIds;if(S&&S.length){for(var O=
0;O<S.length;O++){var I=this.map.getLayer(S[O]);I&&fa.push(this._featureLayerLoaded(I))}E(fa).always(n.hitch(this,function(Z){for(var W,ca=this.sources,T=0;T<Z.length;T++)Z[T]&&Z[T].loaded&&"Feature Layer"===Z[T].type&&(ca.push({featureLayer:Z[T],enableSuggestions:!0}),W=!0);W&&this.set("sources",ca);Q.resolve()}))}else Q.resolve()}else Q.resolve();return Q.promise},_switchCoordinatesClick:function(Q){Q.preventDefault();if(Q=A.get(Q.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
Q),this.search()},_moreResultsClick:function(Q){Q.preventDefault();var fa=Q.target;Q=parseInt(A.get(fa,"data-source-index"),10);fa=parseInt(A.get(fa,"data-index"),10);var S=this.searchResults;S&&S[Q]&&(Q=S[Q][fa])&&this.select(Q)},_showMoreResultsClick:function(Q){Q.preventDefault();if(Q=C.byId(this._moreResultsId)){r.toggle(Q,this.css.searchShowMoreResults);var fa=C.byId(this._moreResultsId+"_show");fa&&(r.contains(Q,this.css.searchShowMoreResults)?A.set(fa,"textContent",a.widgets.Search.main.hideMoreResults):
A.set(fa,"textContent",a.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(Q){var fa=new h;if(Q.loaded)fa.resolve(Q);else if(Q.loadError)fa.reject(this._error("Layer failed to load."));else{var S=g.once(Q,"load",n.hitch(this,function(){O.remove();fa.resolve(Q)}));var O=g.once(Q,"error",n.hitch(this,function(){S.remove();fa.reject(this._error("Layer could not be loaded."))}))}return fa.promise},_getObjectSize:function(Q){var fa=0,S;for(S in Q)Q.hasOwnProperty(S)&&fa++;return fa},
_sourcesEvent:function(Q,fa){var S=A.get(fa,"data-index"),O=k("li",this.sourcesNode),I=t.indexOf(O,fa);S!==this._allIndex&&(S=parseInt(S,10));"click"===Q.type||Q.keyCode===f.ENTER?(this.set("activeSourceIndex",S),y.focus(this.inputNode),this._hideSourcesMenu()):Q.keyCode===f.UP_ARROW?(Q.stopPropagation(),Q.preventDefault(),S=I-1,0>S?y.focus(this.sourcesBtnNode):y.focus(O[S])):Q.keyCode===f.DOWN_ARROW?(Q.stopPropagation(),Q.preventDefault(),S=I+1,S>=O.length?y.focus(this.sourcesBtnNode):y.focus(O[S])):
Q.keyCode===f.ESCAPE&&(this._hideSourcesMenu(),y.focus(this.inputNode))},_suggestionsEvent:function(Q,fa){var S=A.get(fa,"data-source-index"),O=parseInt(A.get(fa,"data-index"),10),I=k("li",this.suggestionsNode),Z=this.sources,W=t.indexOf(I,fa);S!==this._allIndex&&(S=parseInt(S,10));var ca;this._clearQueryTimeout();"click"===Q.type||Q.keyCode===f.ENTER?((I=this.suggestResults)&&I[S]&&I[S][O]&&(ca=I[S][O]),ca&&(ca.index=S,Z[S].featureLayer?(S=Z[S].featureLayer.objectIdField,ca[this._objectIdIdentifier]=
ca.feature.attributes[S],this.set("value",this._getSuggestionName(ca)),this.set("selectedFeatureId",ca.feature.attributes[S])):ca.magicKey&&ca.text&&(this.set("value",ca.text),this.set("magicKey",ca.magicKey)),this.search(ca),y.focus(this.inputNode))):Q.keyCode===f.BACKSPACE||Q.keyCode===f.DELETE?y.focus(this.inputNode):Q.keyCode===f.UP_ARROW?(Q.stopPropagation(),Q.preventDefault(),ca=W-1,0>ca?y.focus(this.inputNode):y.focus(I[ca])):Q.keyCode===f.DOWN_ARROW?(Q.stopPropagation(),Q.preventDefault(),
ca=W+1,ca>=I.length?y.focus(this.inputNode):y.focus(I[ca])):Q.keyCode===f.ESCAPE&&(this._hideMenus(),y.focus(this.inputNode))},_getResultName:function(Q){var fa;Q.hasOwnProperty("name")&&null!==Q.name&&(fa=Q.name.toString());fa||(fa=a.widgets.Search.main.untitledResult);return fa},_getSuggestionName:function(Q){var fa;Q.hasOwnProperty("name")&&null!==Q.name&&(fa=Q.name.toString());Q=Q.text||fa;Q||(Q=a.widgets.Search.main.untitledResult);return Q},_searchResultHTML:function(Q){var fa="";if(Q.feature&&
Q.feature.attributes&&Q.feature.attributes.Addr_type&&"LatLong"===Q.feature.attributes.Addr_type){var S=Q.name.split(" ");if(2===S.length){var O=S[0];var I=S[1]}I&&O?(Q=parseFloat(O),I=parseFloat(I),S=I+", "+Q,fa+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',fa+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.lonlat+"\x3c/div\x3e",fa=fa+(Q+", "+I)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),Q===I||90<Q||-90>Q||180<I||-180>I||(fa+=
'\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",fa+='\x3ca data-switch-coordinates\x3d"'+S+'" tabindex\x3d"0" href\x3d"#"\x3e'+S+"\x3c/a\x3e\x3c/div\x3e")):fa=Q.name}else fa=Q.name;return fa},_moreResultsHTML:function(Q){var fa="",S="",O=this.searchResults,I=this.sources,Z=0;if(O){S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';S+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+a.widgets.Search.main.showMoreResults+
"\x3c/a\x3e";S=S+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');S+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var W in O)if(O[W]){var ca=O[W].length;if(ca){var T=1===ca&&O[W][0]===Q;if(1<this._getObjectSize(O)&&!T){var P=this._getSourceName(W);S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+P+"\x3c/div\x3e"}if(ca&&!T){S+="\x3cul\x3e";P=I[W].maxResults||this.maxResults;for(T=0;T<ca&&T<P;++T)if(O[W][T]!==Q){var X=this._getResultName(O[W][T]);
S+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+T+'" data-source-index\x3d"'+W+'" href\x3d"#"\x3e'+X+"\x3c/a\x3e\x3c/li\x3e";Z++}S+="\x3c/ul\x3e"}}}S+="\x3c/div\x3e\x3c/div\x3e"}Z&&(fa+=S);return fa},_validField:function(Q,fa){return Q.getField(fa)},_validFields:function(Q,fa){if(Q&&fa&&fa.length){for(var S=0;S<fa.length;S++)if(!this._validField(Q,fa[S]))return!1;return!0}return!1},_getCodedName:function(Q,fa){if(Q&&Q.length)for(var S=0,O=Q.length;S<O;S++){var I=Q[S];if(I.code===fa)return I.name}},
_getCodedValue:function(Q,fa,S){if(Q&&Q.length)for(var O=0,I=Q.length;O<I;O++){var Z=Q[O],W=Z.name,ca=fa;S||(W=W.toLowerCase(),ca=ca.toLowerCase());if(W===ca)return Z.code}return!1},_whereClause:function(Q,fa,S,O,I){var Z=null;if(Q){var W="",ca=this.reHostedFS.test(fa.url);ca&&this._containsNonLatinCharacter(Q)&&(W="N");if(S&&S.length)for(var T=0,P=S.length;T<P;T++){var X="";X=Q.replace(/'/g,"''");var da=S[T],ea=fa.getField(da),ja=fa.getDomain(da);ja&&"codedValue"===ja.type&&(X=this._getCodedValue(ja.codedValues,
X,O));!1!==X&&(ea=ea.type,"esriFieldTypeString"===ea||"esriFieldTypeDate"===ea?O&&"search"===I?X=da+" \x3d "+W+"'"+X+"'":(da=ca?da:"UPPER("+da+")",X=ca?X:X.toUpperCase(),X=da+" LIKE "+W+"'"+(O?X+"%":"%"+X+"%")+"'"):"esriFieldTypeOID"===ea||"esriFieldTypeSmallInteger"===ea||"esriFieldTypeInteger"===ea||"esriFieldTypeSingle"===ea||"esriFieldTypeDouble"===ea?(X=parseFloat(X),X=isNaN(X)?!1:da+" \x3d "+X):X=da+" \x3d "+X,X&&(Z=Z?Z+" or ":"",Z+=X))}}return Z},_suggest:function(Q){Q||(Q={index:this.activeSourceIndex,
text:this.value});var fa=new h,S=Q.index,O=this.sources[S],I=this.enableSuggestions;O.hasOwnProperty("enableSuggestions")&&(I=O.enableSuggestions);var Z=0;if(Q.hasOwnProperty("text")&&Q.text){var W=n.trim(Q.text);Z=Q.text.length}Q=O.minCharacters||this.minCharacters;if(I&&W&&Z>=Q&&this._supportsPagination(O)){var ca="";O.prefix&&(ca+=O.prefix);ca+=W;O.suffix&&(ca+=O.suffix);var T=this._defaultSR;this.map&&(T=this.map.spatialReference);I={};O.locator?(O.categories&&(I.categories=O.categories),O.locator.outSpatialReference=
T,this.map&&O.localSearchOptions&&O.localSearchOptions.hasOwnProperty("distance")&&O.localSearchOptions.hasOwnProperty("minScale")&&(Z=this._getScale(),!O.localSearchOptions.minScale||Z&&Z<=parseFloat(O.localSearchOptions.minScale))&&(I.location=this.map.extent.getCenter(),I.distance=O.localSearchOptions.distance),I.text=ca,O.useMapExtent&&this.map&&this.map.extent&&(I.searchExtent=this.map.extent),O.searchExtent&&(I.searchExtent=O.searchExtent),I.maxSuggestions=O.maxSuggestions||this.maxSuggestions,
O.sourceCountry&&(I.countryCode=O.sourceCountry),O.countryCode&&(I.countryCode=O.countryCode),O.locator.suggestLocations(I).then(n.hitch(this,function(P){fa.resolve(P)}),n.hitch(this,function(P){P||(P=this._error("Locator suggestLocations could not be performed."));fa.reject(P)}))):O.featureLayer?this._featureLayerLoaded(O.featureLayer).then(n.hitch(this,function(){var P=this._getDisplayField(O),X=O.searchFields||[P],da=[];O.suggestionTemplate?O.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(ma,
oa){da.push(oa)}):da=[P];-1===t.indexOf(da,O.featureLayer.objectIdField)&&da.push(O.featureLayer.objectIdField);P=this._validField(O.featureLayer,P);var ea=this._validFields(O.featureLayer,da),ja=this._validFields(O.featureLayer,X);if(P&&ea&&ja){P=new ia;O.hasOwnProperty("suggestQueryParams")&&n.mixin(P,O.suggestQueryParams);P.outSpatialReference=T;P.returnGeometry=!1;P.num=O.maxSuggestions||this.maxSuggestions;P.outFields=da;O.useMapExtent&&this.map&&this.map.extent&&(P.geometry=this.map.extent);
O.searchExtent&&(P.geometry=O.searchExtent);if(X=this._whereClause(ca,O.featureLayer,X,O.exactMatch,"suggest")){P.where=X;var la=!0}la?O.featureLayer.queryFeatures(P,n.hitch(this,function(ma){var oa;(ma=ma.features)&&(oa=this._hydrateResults(ma,S,!0));fa.resolve(oa)}),n.hitch(this,function(ma){ma||(ma=this._error("FeatureLayer queryFeatures errored with suggestions"));fa.reject(ma)})):fa.resolve()}else fa.reject(this._error("Invalid FeatureLayer field"))})):fa.reject(this._error("Invalid source"))}else fa.resolve();
return fa.promise},_supportsPagination:function(Q){var fa;Q.locator?fa=!0:Q.featureLayer&&Q.featureLayer.advancedQueryCapabilities&&Q.featureLayer.advancedQueryCapabilities.supportsPagination&&(fa=!0);return fa},_suggestQueries:function(Q){var fa=this.sources,S=this.activeSourceIndex,O=[];if(S===this._allIndex)for(S=0;S<fa.length;S++){var I=Q;I.index=S;I=this._suggest(I);O.push(I)}else Q.index=S,I=this._suggest(Q),O.push(I);return E(O)},_getPointFromGeometry:function(Q){switch(Q.type){case "extent":var fa=
Q.getCenter();break;case "multipoint":fa=Q.getPoint(0);break;case "point":fa=Q;break;case "polygon":fa=Q.getCentroid();break;case "polyline":fa=Q.getPoint(0,0)}return fa},_searchQueries:function(Q){Q.hasOwnProperty("index")||(Q.index=this.activeSourceIndex);var fa=[];if(Q.index===this._allIndex)for(var S=this.sources,O=0;O<S.length;O++){var I=Q;I.index=O;I=this._search(I);fa.push(I)}else Q=this._search(Q),fa.push(Q);return E(fa)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),
y.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(Q){Q||(Q={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(Q.text=null,Q[this._objectIdIdentifier]=this.selectedFeatureId);var fa,S=new h,O=Q.index,I=this.sources[O],Z;Q.hasOwnProperty("text")&&Q.text&&(Z=n.trim(Q.text));if(I){var W="";I.prefix&&!Q.magicKey&&(W+=I.prefix);W+=Z;I.suffix&&!Q.magicKey&&(W+=I.suffix);var ca=this._defaultSR;this.map&&
(ca=this.map.spatialReference);if(I.locator)if(Q.hasOwnProperty("text")&&Z){var T={};I.categories&&(T.categories=I.categories);I.locationType&&(T.locationType=I.locationType);ca&&(I.locator.outSpatialReference=ca);if(this.map&&I.localSearchOptions&&I.localSearchOptions.hasOwnProperty("distance")&&I.localSearchOptions.hasOwnProperty("minScale")){var P=this._getScale();if(!I.localSearchOptions.minScale||P&&P<=parseFloat(I.localSearchOptions.minScale))T.location=this.map.extent.getCenter(),T.distance=
I.localSearchOptions.distance}T.address={};T.maxLocations=I.maxResults||this.maxResults;I.useMapExtent&&this.map&&this.map.extent&&(T.searchExtent=this.map.extent);I.searchExtent&&(T.searchExtent=I.searchExtent);I.sourceCountry&&(T.countryCode=I.sourceCountry);I.countryCode&&(T.countryCode=I.countryCode);Q.magicKey&&(T.magicKey=Q.magicKey);I.singleLineFieldName?T.address[I.singleLineFieldName]=W:T.address["Single Line Input"]=W;I.outFields&&(T.outFields=I.outFields);I.locator.addressToLocations(T).then(n.hitch(this,
function(X){X=this._hydrateResults(X,O,!1);S.resolve(X)}),n.hitch(this,function(X){X||(X=this._error("Locator addressToLocations could not be performed"));S.reject(X)}))}else Q.geometry?(fa=this._getPointFromGeometry(Q.geometry.geometry))?this._reverseGeocodePoint(O,fa).then(function(X){S.resolve(X)},function(X){S.reject(X)}):S.reject(this._error("Invalid point to reverse geocode")):Q.point?this._reverseGeocodePoint(O,Q.point).then(function(X){S.resolve(X)},function(X){S.reject(X)}):Q.latlon?(T=new U(Q.latlon,
this._defaultSR),this._reverseGeocodePoint(O,T).then(function(X){S.resolve(X)},function(X){S.reject(X)})):Q.hasOwnProperty("text")&&!Z?S.resolve([]):S.reject(this._error("Invalid query type for Locator"));else I.featureLayer?this._featureLayerLoaded(I.featureLayer).then(n.hitch(this,function(){var X=this._getDisplayField(I),da=I.searchFields||[X];X=this._validField(I.featureLayer,X);var ea=this._validFields(I.featureLayer,da);if(X&&ea){X=new ia;I.hasOwnProperty("searchQueryParams")&&n.mixin(X,I.searchQueryParams);
ca&&(X.outSpatialReference=ca,ea=this.map&&this.map.getMaxResolution()||1/aa.getUnitValueForSR(ca))&&(X.maxAllowableOffset=ea);X.returnGeometry=!0;I.outFields&&(X.outFields=I.outFields);if(!Q.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(I)&&(X.num=I.maxResults||this.maxResults);I.useMapExtent&&this.map&&this.map.extent&&(X.geometry=this.map.extent);I.searchExtent&&(X.geometry=I.searchExtent);var ja=I.exactMatch}Q.hasOwnProperty("text")&&Z?(da=this._whereClause(W,I.featureLayer,
da,ja,"search"))?(X.where=da,da=!0):da=!1:Q.hasOwnProperty(this._objectIdIdentifier)?(X.objectIds=[Q[this._objectIdIdentifier]],da=!0):Q.geometry?(X.geometry=Q.geometry,da=!0):Q.point?(X.geometry=Q.point,da=!0):Q.latlon?(fa=new U(Q.latlon,this._defaultSR),X.geometry=fa,da=!0):(Q.hasOwnProperty("text")&&!Z?S.resolve([]):S.reject(this._error("Invalid query type for FeatureLayer")),da=!1);da?I.featureLayer.queryFeatures(X,n.hitch(this,function(la){la=la.features;var ma;la&&(ma=this._hydrateResults(la,
O,!1));S.resolve(ma)}),n.hitch(this,function(la){la||(la=this._error("FeatureLayer queryFeatures could not be performed"));S.reject(la)})):S.resolve()}else S.reject(this._error("Invalid FeatureLayer field"))})):S.reject(this._error("Invalid source"))}else S.reject(this._error("Source is undefined"));return S.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(Q,fa,S){S={activeSourceIndex:fa,value:S,numResults:0,numErrors:0,errors:null,results:null};
var O={},I={};if(Q)if(fa===this._allIndex)for(fa=0;fa<Q.length;fa++)Q[fa]&&(Q[fa]instanceof Error?(O[fa]=Q[fa],S.numErrors++):(I[fa]=Q[fa],S.numResults+=Q[fa].length));else Q[0]&&(Q[0]instanceof Error?(O[fa]=Q[0],S.numErrors++):(I[fa]=Q[0],S.numResults+=Q[0].length));S.numErrors&&(S.errors=O);S.numResults&&(S.results=I);return S},_reverseGeocodePoint:function(Q,fa){var S=new h,O=this.sources[Q];if(fa&&O){var I=O.locationToAddressDistance||this.locationToAddressDistance;O.locator.outSpatialReference=
this._defaultSR;this.map&&(O.locator.outSpatialReference=this.map.spatialReference);O.locator.locationToAddress(fa,I,n.hitch(this,function(Z){Z=this._hydrateResults([Z],Q,!1);S.resolve(Z)}),n.hitch(this,function(Z){Z||(Z=this._error("Locator locationToAddress could not be performed"));S.reject(Z)}))}else S.reject(this._error("No point or source defined for reverse geocoding"));return S.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var Q=0;Q<this._deferreds.length;Q++)this._deferreds[Q].cancel(this.declaredClass+
" cancelling request");this._deferreds=[]},_sourceBtnKey:function(Q){if(Q){var fa=k("li",this.sourcesNode);Q.keyCode===f.UP_ARROW?(Q.stopPropagation(),Q.preventDefault(),this._showSourcesMenu(),(Q=fa.length)&&y.focus(fa[Q-1])):Q.keyCode===f.DOWN_ARROW&&(Q.stopPropagation(),Q.preventDefault(),this._showSourcesMenu(),fa[0]&&y.focus(fa[0]))}},_inputKey:function(Q){if(Q){var fa=k("li",this.suggestionsNode),S=this.suggestResults;if(Q.keyCode===f.TAB||Q.keyCode===f.ESCAPE)this._cancelSuggest(),this._hideMenus();
else if(Q.keyCode===f.UP_ARROW)Q.stopPropagation(),Q.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),(Q=fa.length)&&y.focus(fa[Q-1]);else if(Q.keyCode===f.DOWN_ARROW)Q.stopPropagation(),Q.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),fa[0]&&y.focus(fa[0]);else{if(Q.ctrlKey||Q.metaKey||Q.keyCode===f.copyKey||Q.keyCode===f.LEFT_ARROW||Q.keyCode===f.RIGHT_ARROW||Q.keyCode===f.ENTER)return Q;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();
this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(n.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(Q){return this._sourceNames[Q]},_loadSources:function(Q){Q=
t.filter(Q,function(fa){return!!fa.featureLayer});Q=t.map(Q,function(fa){return this._featureLayerLoaded(fa.featureLayer)},this);return E(Q)},_createSourceNameMap:function(Q){return this._loadSources(Q).then(n.hitch(this,function(){var fa=t.map(Q,function(S){return S.name||S.featureLayer&&S.featureLayer.name||a.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(Q,fa);return fa}))},_getDuplicateSourceNameIndexes:function(Q){var fa={},S=[];t.forEach(Q,function(O,I){fa.hasOwnProperty(O)?
(-1===S.indexOf(fa[O])&&S.push(fa[O]),S.push(I)):Q.lastIndexOf(O)!==I&&(fa[O]=I)});return S},_preventDuplicateSourceNames:function(Q,fa){if(fa&&1<fa.length){var S=this._getDuplicateSourceNameIndexes(fa);t.forEach(S,function(O){fa[O]+=this._getFieldsString(Q[O])},this)}},_getFieldsString:function(Q){var fa="",S=Q.featureLayer;if(S){Q=Q.searchFields||[this._getDisplayField(Q)];for(var O=0;O<Q.length;O++){fa=0===O?fa+": ":fa+", ";var I=Q[O],Z=S.getFieldLabel(I);fa+=Z||I}}return fa},_splitResult:function(Q,
fa){var S=v.escapeString(fa);return Q.replace(new RegExp("(^|)("+S+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(Q,fa){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var S=this.sources;if(Q){var O=d.create("div");for(var I in Q)if(Q[I]&&Q[I].length){var Z=this._getSourceName(I);1<S.length&&this.activeSourceIndex===this._allIndex&&d.create("div",{className:this.css.searchMenuHeader,textContent:Z},O);Z=d.create("ul",{role:"menu"},
O);for(var W=S[I].maxSuggestions||this.maxSuggestions,ca=0;ca<Q[I].length&&ca<W;++ca){var T=d.create("li",{"data-index":ca,"data-source-index":I,role:"menuitem",tabindex:0},Z),P=this._getSuggestionName(Q[I][ca]);P=this._splitResult(P,fa);for(var X=P.length,da=0;da<X;da++){var ea=P[da];ea.toLowerCase()===fa.toLowerCase()?d.create("strong",{textContent:ea},T):(ea=document.createTextNode(ea),d.place(ea,T))}}}}O?(d.place(O,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(d.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(Q){if(this.enableSourcesMenu&&Q&&1<Q.length){var fa,S=this.activeSourceIndex,O=d.create("ul",{role:"menu"});if(this.enableSearchingAll){var I="";S===this._allIndex&&(I="active");d.create("li",{"data-index":this._allIndex,role:"menuitem",className:I,tabIndex:0,textContent:a.widgets.Search.main.all},O)}for(fa=0;fa<Q.length;fa++){I="";fa===S&&(I=this.css.activeSource);var Z=this._getSourceName(fa);d.create("li",{"data-index":fa,role:"menuitem",className:I,
tabIndex:0,textContent:Z},O)}r.add(this.containerNode,this.css.hasMultipleSources);d.place(O,this.sourcesNode,"only")}else r.remove(this.containerNode,this.css.hasMultipleSources),d.empty(this.sourcesNode)},_showLoading:function(){r.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){r.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(r.add(this.containerNode,this.css.hasValue),A.set(this.clearNode,"title",a.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(Q){var fa;Q&&(fa=n.trim(Q));var S=d.create("div",{className:this.css.searchNoResultsBody});Q&&fa?(d.create("div",{className:this.css.searchNoResultsHeader,textContent:a.widgets.Search.main.noResults},S),d.create("div",{className:this.css.searchNoResultsText,textContent:B.substitute({value:'"'+Q+'"'},a.widgets.Search.main.noResultsFound)},S)):(Q=d.create("div",
{},S),d.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},Q),d.create("span",{className:this.css.searchNoValueText,textContent:a.widgets.Search.main.emptyValue},Q));d.place(S,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){r.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();r.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){r.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){r.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();r.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();r.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();r.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(Q){if(Q&&(Q=Q.fields)&&Q.length)for(var fa=0;fa<Q.length;fa++){var S=Q[fa];if("esriFieldTypeString"===S.type)return S.name}return""},_getDisplayField:function(Q){return Q.displayField||Q.featureLayer.displayField||this._getFirstStringField(Q.featureLayer)},_validLocation:function(Q){return Q&&"number"===typeof Q.x&&"number"===typeof Q.y},_validExtent:function(Q){return Q&&"number"===typeof Q.xmin&&
"number"===typeof Q.ymin&&"number"===typeof Q.xmax&&"number"===typeof Q.ymax},_hydrateResult:function(Q,fa,S){var O={},I=this._defaultSR;fa=this.sources[fa];this.map&&(I=this.map.spatialReference);if(Q.hasOwnProperty("text")&&Q.hasOwnProperty("magicKey"))return Q;if(Q.hasOwnProperty("geometry")){var Z=new x(Q.toJson());O.feature=Z;(Z=O.feature.geometry)&&Z.setSpatialReference(I)}else if(Q.hasOwnProperty("location")&&this._validLocation(Q.location)){var W=new U(Q.location.x,Q.location.y,I);Z={};Q.hasOwnProperty("attributes")&&
(Z=Q.attributes);Q.hasOwnProperty("address")&&"object"===typeof Q.address&&n.mixin(Z,Q.address);Q.hasOwnProperty("score")&&(Z.score=Q.score);O.feature=new x(W,null,Z,null)}!O.feature&&S&&(Z={},Q.hasOwnProperty("attributes")&&(Z=Q.attributes),Q.hasOwnProperty("score")&&(Z.score=Q.score),O.feature=new x(null,null,Z,null));if(O.feature){if(Q.hasOwnProperty("extent")&&this._validExtent(Q.extent))O.extent=new ba(Q.extent),O.extent.setSpatialReference(I);else if(O.feature&&O.feature.geometry)switch(O.feature.geometry.type){case "extent":O.extent=
O.feature.geometry;break;case "multipoint":O.extent=V.getDenormalizedExtent(O.feature.geometry);break;case "polygon":O.extent=V.getDenormalizedExtent(O.feature.geometry);break;case "polyline":O.extent=V.getDenormalizedExtent(O.feature.geometry);break;case "point":this.map?(I=this.zoomScale,fa&&fa.zoomScale&&(I=fa.zoomScale),this._getScale()>I?O.extent=aa.getExtentForScale(this.map,I).centerAt(O.feature.geometry):O.extent=this.map.extent.centerAt(O.feature.geometry)):O.extent=new ba({xmin:O.feature.geometry.x-
.25,ymin:O.feature.geometry.y-.25,xmax:O.feature.geometry.x+.25,ymax:O.feature.geometry.y+.25,spatialReference:this._defaultSR})}else O.extent=null;O.name="";fa.featureLayer?fa.suggestionTemplate&&S?O.name=B.substitute(Q.attributes,fa.suggestionTemplate):fa.searchTemplate?O.name=B.substitute(Q.attributes,fa.searchTemplate):(Z=this._getDisplayField(fa),S=fa.featureLayer.getField(Z),I=fa.featureLayer.getDomain(Z),Z&&Q.hasOwnProperty("attributes")&&Q.attributes.hasOwnProperty(Z)&&(Q=Q.attributes[Z],
I&&"codedValue"===I.type?O.name=this._getCodedName(I.codedValues,Q):S&&"esriFieldTypeDate"===S.type&&!isNaN(Q)?O.name=e.format(new Date(Q)):O.name=Q)):Q.address&&fa.searchTemplate?O.name=B.substitute(Q.address,fa.searchTemplate):Q.hasOwnProperty("name")?O.name=Q.name:Q.hasOwnProperty("attributes")&&"object"===typeof Q.attributes&&Q.attributes.LongLabel?O.name=Q.attributes.LongLabel:Q.hasOwnProperty("attributes")&&"object"===typeof Q.attributes&&Q.attributes.Match_addr?(O.name=Q.attributes.Match_addr,
Q.attributes.Addr_type&&"POI"===Q.attributes.Addr_type&&Q.attributes.StAddr&&Q.attributes.City?O.name+=" - "+Q.attributes.StAddr+", "+Q.attributes.City:Q.attributes.Addr_type&&"POI"===Q.attributes.Addr_type&&Q.attributes.City&&(O.name+=" - "+Q.attributes.City)):Q.hasOwnProperty("address")&&"string"===typeof Q.address?O.name=Q.address:Q.hasOwnProperty("address")&&"object"===typeof Q.address&&Q.address.hasOwnProperty("Address")?Q.address.hasOwnProperty("Match_addr")?O.name=Q.address.Match_addr:Q.address.hasOwnProperty("Address")&&
(O.name=Q.address.Address):O.feature&&O.feature.geometry&&(O.name=O.feature.geometry.x+","+O.feature.geometry.y);fa.featureLayer&&O.feature&&Y(O.feature,fa.featureLayer);return O}},_getScale:function(){var Q;this.map&&"function"===typeof this.map.getScale&&(Q=this.map.getScale());return Q},_hydrateResults:function(Q,fa,S,O){O=[];var I=0;if(Q&&Q.length)for(I;I<Q.length;I++){var Z=this._hydrateResult(Q[I],fa,S);Z&&O.push(Z)}return O},_containsNonLatinCharacter:function(Q){for(var fa=0;fa<Q.length;fa++)if(255<
Q.charCodeAt(fa))return!0;return!1},_setPlaceholder:function(Q){var fa="",S=this.sources[Q];Q===this._allIndex?fa=this.allPlaceholder||a.widgets.Search.main.allPlaceholder:S&&S.placeholder&&(fa=S.placeholder);var O=a.widgets.Search.main.all;S&&(O=this._getSourceName(Q));A.set(this.sourceNameNode,"textContent",O);A.set(this.inputNode,"placeholder",fa);A.set(this.inputNode,"title",fa)},_updateActiveSource:function(){var Q=this.sources,fa=this.activeSourceIndex,S;Q&&Q[fa]&&(S=Q[fa]);S?this.set("activeSource",
S):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(Q){Q?(r.toggle(this.containerNode,this.css.searchExpanded,this.expanded),r.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),r.add(this.containerNode,this.css.hasButtonMode)):(r.remove(this.containerNode,this.css.searchExpanded),r.remove(this.containerNode,this.css.searchCollapsed),r.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(Q){Q&&
1===Q.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(Q){this._set("enableSourcesMenu",Q);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(Q){this._set("enableSearchingAll",Q);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(Q){this._createSourceNameMap(Q).then(n.hitch(this,
function(fa){this._sourceNames=fa;this._created&&(this._setDefaultActiveSourceIndex(Q),this._hideMenus(),this._insertSources(Q))}));this._set("sources",Q)},_setAllPlaceholderAttr:function(Q){this._set("allPlaceholder",Q);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(Q){this._set("activeSourceIndex",Q);this._updateActiveSource();this._created&&(this._setPlaceholder(Q),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(Q){this._set("maxLength",
Q);this._created&&A.set(this.inputNode,"maxLength",Q)},_setValueAttr:function(Q){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",Q);this._created&&(A.set(this.inputNode,"value",Q),this._checkStatus())},_setVisibleAttr:function(Q){this._set("visible",Q);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(Q){this._set("enableButtonMode",Q);this._created&&this._updateButtonMode(Q)},_setThemeAttr:function(Q){this._created&&(r.remove(this.domNode,this.theme),
r.add(this.domNode,Q));this._set("theme",Q)}});n.setObject("dijit.Search",N,D);return N})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(R,N,n,t,u,h,f,g,k,w,v){R=R(w,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],
"suggest-locations-complete":["suggestions"]},constructor:function(C){this._geocodeHandler=N.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=N.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=N.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(C){this.outSpatialReference=C},_geocodeHandler:function(C,A,r,l,d){try{var e=C.candidates;A=[];var a,b=e.length,c=C.spatialReference,m;for(a=0;a<
b;a++){var p=e[a];if(m=p.location)m.spatialReference=c;A[a]=new v(p)}this._successHandler([A],"onAddressToLocationsComplete",r,d)}catch(q){this._errorHandler(q,l,d)}},_geocodeAddressesHandler:function(C,A,r,l,d){try{var e=C.locations;A=[];var a,b=e.length,c=C.spatialReference,m;for(a=0;a<b;a++){if(m=e[a].location)m.spatialReference=c;A[a]=new v(e[a])}this._successHandler([A],"onAddressesToLocationsComplete",r,d)}catch(p){this._errorHandler(p,l,d)}},addressToLocations:function(C,A,r,l,d){var e;if(C.address){l=
r;r=A;A=C.outFields;d=C.searchExtent;var a=C.countryCode;var b=C.magicKey;var c=C.distance;var m=C.categories;C.location&&this.normalization&&(e=C.location.normalize());var p=C.locationType;var q=C.maxLocations;var y=C.forStorage;C=C.address}d&&(d=d.shiftCentralMeridian());var B=this.outSpatialReference;C=this._encode(N.mixin({},this._url.query,C,{f:"json",outSR:B&&u.toJson(B.toJson()),outFields:A&&A.join(",")||null,searchExtent:d&&u.toJson(d.toJson()),category:m&&m.join(",")||null,countryCode:a||
null,magicKey:b||null,distance:c||null,location:e||null,locationType:p||null,maxLocations:q||null,forStorage:y||null}));var z=this._geocodeHandler,D=this._errorHandler,F=new t(k._dfdCanceller);F._pendingDfd=g({url:this._url.path+"/findAddressCandidates",content:C,callbackParamName:"callback",load:function(x,E){z(x,E,r,l,F)},error:function(x){D(x,l,F)}});return F},suggestLocations:function(C){var A=new t(k._dfdCanceller);C.hasOwnProperty("location")&&this.normalization&&(C.location=C.location.normalize());
C.searchExtent&&(C.searchExtent=C.searchExtent.shiftCentralMeridian());C=this._encode(N.mixin({},this._url.query,{f:"json",text:C.text,maxSuggestions:C.maxSuggestions,searchExtent:C.searchExtent&&u.toJson(C.searchExtent.toJson()),category:C.categories&&C.categories.join(",")||null,countryCode:C.countryCode||null,location:C.location||null,distance:C.distance||null},{f:"json"}));C=g({url:this._url.path+"/suggest",content:C,callbackParamName:"callback"});A._pendingDfd=C;C.then(N.hitch(this,function(r){r=
r.suggestions||[];this.onSuggestLocationsComplete(r);A.resolve(r)}),N.hitch(this,function(r){this._errorHandler(r);A.reject(r)}));return A},addressesToLocations:function(C,A,r){var l=this.outSpatialReference,d=[],e=C.categories,a=C.locationType,b=C.countryCode;n.forEach(C.addresses,function(q,y){d.push({attributes:q})});C=this._encode(N.mixin({},this._url.query,{category:e&&e.join(",")||null,locationType:a||null,sourceCountry:b||null},{addresses:u.toJson({records:d})},{f:"json",outSR:l&&u.toJson(l.toJson())}));
var c=this._geocodeAddressesHandler,m=this._errorHandler,p=new t(k._dfdCanceller);p._pendingDfd=g({url:this._url.path+"/geocodeAddresses",content:C,callbackParamName:"callback",load:function(q,y){c(q,y,A,r,p)},error:function(q){m(q,r,p)}});return p},_reverseGeocodeHandler:function(C,A,r,l,d){try{var e=new v({address:C.address,location:C.location,score:100});this._successHandler([e],"onLocationToAddressComplete",r,d)}catch(a){this._errorHandler(a,l,d)}},locationToAddress:function(C,A,r,l){C&&this.normalization&&
(C=C.normalize());var d=this.outSpatialReference;C=this._encode(N.mixin({},this._url.query,{outSR:d&&u.toJson(d.toJson()),location:C&&u.toJson(C.toJson()),distance:A,f:"json"}));var e=this._reverseGeocodeHandler,a=this._errorHandler,b=new t(k._dfdCanceller);b._pendingDfd=g({url:this._url.path+"/reverseGeocode",content:C,callbackParamName:"callback",load:function(c,m){e(c,m,r,l,b)},error:function(c){a(c,l,b)}});return b},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},
onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});N.setObject("tasks.Locator",R,f);return R})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(R,N,n,t,u){R=R(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(h){N.mixin(this,h);this.location=new u(this.location)}});N.setObject("tasks.AddressCandidate",R,t);return R})},"esri/styles/basic":function(){define(["dojo/_base/array",
"dojo/_base/lang","dojo/has","../kernel","../Color"],function(R,N,n,t,u){function h(w,v){if(w){var C={};C.color=new u(w.color);C.opacity=w.opacity||1;switch(v){case "point":C.outline={color:new u(w.outline.color),width:w.outline.width};C.size=w.size;break;case "line":C.width=w.width;break;case "polygon":C.outline={color:new u(w.outline.color),width:w.outline.width}}}return C}function f(w){if("esriGeometryPoint"===w||"esriGeometryMultipoint"===w)w="point";else if("esriGeometryPolyline"===w)w="line";
else if("esriGeometryPolygon"===w||"esriGeometryMultiPatch"===w)w="polygon";return w}var g={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,
77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},
secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,
1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},k={};(function(){var w,v,C;for(w in g){var A=g[w];var r=A.basemapGroups;var l=k[w]={basemaps:[].concat(r.light).concat(r.dark),point:{},line:{},polygon:{}};for(v in r){var d=r[v];for(C=0;C<d.length;C++){var e=d[C];A.pointSchemes&&(l.point[e]=A.pointSchemes[v]);A.lineSchemes&&(l.line[e]=
A.lineSchemes[v]);A.polygonSchemes&&(l.polygon[e]=A.polygonSchemes[v])}}}})();n={getAvailableThemes:function(w){var v=[],C;for(C in g){var A=g[C];var r=k[C];w&&-1===R.indexOf(r.basemaps,w)||v.push({name:A.name,label:A.label,description:A.description,basemaps:r.basemaps.slice(0)})}return v},getSchemes:function(w){var v=w.theme,C=w.basemap,A=f(w.geometryType);w=k[v];var r;(w=(w=w&&w[A])&&w[C])&&(r={primaryScheme:h(w.primary,A),secondarySchemes:R.map(w.secondary,function(l){return h(l,A)})});return r},
cloneScheme:function(w){if(w){var v=N.mixin({},w);v.color&&(v.color=new u(v.color));v.outline&&(v.outline={color:v.outline.color&&new u(v.outline.color),width:v.outline.width})}return v}};N.setObject("styles.basic",n,t);return n})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/sniff dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-geometry ../kernel ../sniff ./_toolbar ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../graphic ../geometry/jsonUtils ../geometry/webMercatorUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/Rect dojo/i18n!../nls/jsapi".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){var D=R(l,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(F,x){this.markerSymbol=new d(d.STYLE_SOLID,10,new e(e.STYLE_SOLID,new u([255,0,0]),2),new u([0,0,0,.25]));this.lineSymbol=new e(e.STYLE_SOLID,new u([255,0,0]),2);this.fillSymbol=new a(a.STYLE_SOLID,new e(e.STYLE_SOLID,new u([255,0,0]),2),new u([0,0,0,.25]));this._points=[];this._mouse=!f("esri-touch")&&!f("esri-pointer");
this._defaultOptions={showTooltips:!0,drawTime:75,tolerance:8,tooltipOffset:15};this._options=N.mixin(N.mixin({},this._defaultOptions),x||{});if(g("ios")||g("android"))this._options.showTooltips=!1;this._onKeyDownHandler=N.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=N.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=N.hitch(this,this._onMouseUpHandler);this._onClickHandler=N.hitch(this,this._onClickHandler);this._onMouseMoveHandler=N.hitch(this,this._onMouseMoveHandler);
this._onMouseDragHandler=N.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=N.hitch(this,this._onDblClickHandler);this._updateTooltip=N.hitch(this,this._updateTooltip);this._hideTooltip=N.hitch(this,this._hideTooltip);this._redrawGraphic=N.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(F){this.respectDrawingVertexOrder=F},setMarkerSymbol:function(F){this.markerSymbol=F},setLineSymbol:function(F){this.lineSymbol=F},
setFillSymbol:function(F){this.fillSymbol=F},activate:function(F,x){this._geometryType&&this.deactivate();var E=this.map,G=t.connect,H=D;this._options=N.mixin(N.mixin({},this._options),x||{});E.navigationManager.setImmediateClick(!1);switch(F){case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.TRIANGLE:case H.CIRCLE:case H.ELLIPSE:case H.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=G(E,"onClick",this._onClickHandler);this._mouse?
(this._onMouseDownHandler_connect=G(E,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(E,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(E,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(E,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(E,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(E,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=
G(E,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(E,"onSwipeMove",this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(E,"onSwipeEnd",this._onMouseUpHandler));break;case H.POINT:this._onClickHandler_connect=G(E,"onClick",this._onClickHandler);break;case H.LINE:case H.EXTENT:case H.FREEHAND_POLYLINE:case H.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._mouse?(this._onMouseDownHandler_connect=G(E,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=
G(E,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(E,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(E,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(E,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(E,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=G(E,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(E,"onSwipeMove",
this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(E,"onSwipeEnd",this._onMouseUpHandler));break;case H.POLYLINE:case H.POLYGON:case H.MULTI_POINT:E.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=G(E,"onClick",this._onClickHandler);this._onDblClickHandler_connect=G(E,"onDblClick",this._onDblClickHandler);this._dblClickZoom=E.isDoubleClickZoom;E.disableDoubleClickZoom();break;default:return}this._onKeyDown_connect=G(E,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=
G(E,"onExtentChange",this._redrawGraphic);this._geometryType=F;this._toggleTooltip(!0);E.snappingManager&&"freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&(E.snappingManager._startSelectionLayerQuery(),E.snappingManager._setUpSnapping());this.onActivate(this._geometryType)},deactivate:function(){var F=this.map;this._clear();var x=t.disconnect;x(this._onMouseMoveHandler_connect);x(this._onMouseDownHandler_connect);x(this._onMouseDragHandler_connect);x(this._onMouseUpHandler_connect);
x(this._onMouseDownHandler2_connect);x(this._onMouseDragHandler2_connect);x(this._onMouseUpHandler2_connect);x(this._onClickHandler_connect);x(this._onDblClickHandler_connect);x(this._onKeyDown_connect);x(this._redrawConnect);this._onMouseDownHandler_connect=this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=
this._onKeyDown_connect=this._redrawConnect=null;F.snappingManager&&(F.snappingManager._stopSelectionLayerQuery(),F.snappingManager._killOffSnapping());switch(this._geometryType){case D.CIRCLE:case D.ELLIPSE:case D.TRIANGLE:case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.RECTANGLE:case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:this._activateMapTools(!0,!1,!1,!0);break;case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:this._dblClickZoom&&
F.enableDoubleClickZoom()}x=this._geometryType;this._geometryType=null;F.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(x)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._graphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},finishDrawing:function(){var F=this._points,x=this.map.spatialReference,E=D;F=F.slice(0,F.length);switch(this._geometryType){case E.POLYLINE:if(!this._graphic||2>
F.length)return;var G=new p(x);G.addPath([].concat(F));break;case E.POLYGON:if(!this._graphic||3>F.length)return;G=new q(x);F=[].concat(F,[F[0].offset(0,0)]);q.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();G.addRing(F);break;case E.MULTI_POINT:G=new y(x),n.forEach(F,function(H){G.addPoint(H)})}t.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(G)},_drawEnd:function(F){if(F){var x=this.map.spatialReference,E;this.onDrawEnd(F);
x&&(x.isWebMercator()?E=m.webMercatorToGeographic(F,!0):4326===x.wkid&&(E=c.fromJson(F.toJson())));this.onDrawComplete({geometry:F,geographicGeometry:E})}},_normalizeRect:function(F,x,E){var G=F.x;F=F.y;var H=x.x;x=x.y;return{x:Math.min(G,H),y:Math.max(F,x),width:Math.abs(G-H),height:Math.abs(F-x),spatialReference:E}},_onMouseDownHandler:function(F){this._dragged=!1;if(this.map.snappingManager)var x=this.map.snappingManager._snappingPoint;var E=x||F.mapPoint,G=D;x=this.map;var H=x.spatialReference;
this._points.push(E.offset(0,0));switch(this._geometryType){case G.LINE:this._graphic=x.graphics.add(new b(new p({paths:[[[E.x,E.y],[E.x,E.y]]],spatialReference:H}),this.lineSymbol),!0);x.snappingManager&&x.snappingManager._setGraphic(this._graphic);break;case G.FREEHAND_POLYLINE:this._oldPoint=F.screenPoint;E=new p(H);E.addPath(this._points);this._graphic=x.graphics.add(new b(E,this.lineSymbol),!0);x.snappingManager&&x.snappingManager._setGraphic(this._graphic);break;case G.CIRCLE:case G.ELLIPSE:case G.TRIANGLE:case G.ARROW:case G.LEFT_ARROW:case G.RIGHT_ARROW:case G.UP_ARROW:case G.DOWN_ARROW:case G.RECTANGLE:case G.FREEHAND_POLYGON:this._oldPoint=
F.screenPoint,E=new q(H),E.addRing(this._points),this._graphic=x.graphics.add(new b(E,this.fillSymbol),!0),x.snappingManager&&x.snappingManager._setGraphic(this._graphic)}f("esri-touch")&&F.preventDefault();if(1===this._points.length)this.onDrawStart()},_onMouseMoveHandler:function(F){if(this.map.snappingManager)var x=this.map.snappingManager._snappingPoint;F=x||F.mapPoint;x=this._graphic.geometry;switch(this._geometryType){case D.POLYLINE:case D.POLYGON:var E=this._points.length,G=!!x.getPoint(0,
E);F=F.offset(0,0);G?x.setPoint(0,E,F):x.insertPoint(0,E,F);this._graphic.setGeometry(x)}},_onMouseDragHandler:function(F){if(this._graphic||this._points.length)if(f("esri-touch")&&!this._points.length)F.preventDefault();else{this._dragged=!0;if(this.map.snappingManager)var x=this.map.snappingManager._snappingPoint;var E=this._points[0],G=x||F.mapPoint,H=this.map,J=H.spatialReference;x=this._graphic;var M=D,K=H.toScreen(E),L=H.toScreen(G),U=[];U=L.x-K.x;L=L.y-K.y;var ba=Math.sqrt(U*U+L*L);switch(this._geometryType){case M.CIRCLE:this._hideTooltip();
x.geometry=q.createCircle({center:K,r:ba,numberOfPoints:60,map:H});x.setGeometry(x.geometry);break;case M.ELLIPSE:this._hideTooltip();x.geometry=q.createEllipse({center:K,longAxis:U,shortAxis:L,numberOfPoints:60,map:H});x.setGeometry(x.geometry);break;case M.TRIANGLE:this._hideTooltip();U=[[0,-ba],[.8660254037844386*ba,.5*ba],[-.8660254037844386*ba,.5*ba],[0,-ba]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);break;case M.ARROW:this._hideTooltip();E=L/ba;H=U/ba;G=.25*H*ba;J=.25*
ba/(L/U);ba*=.25*E;U=[[U,L],[U-G*(1+24/J),L+24*H-ba],[U-G*(1+12/J),L+12*H-ba],[-12*E,12*H],[12*E,-12*H],[U-G*(1-12/J),L-12*H-ba],[U-G*(1-24/J),L-24*H-ba],[U,L]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);break;case M.LEFT_ARROW:this._hideTooltip();U=0>=U?[[U,0],[.75*U,L],[.75*U,.5*L],[0,.5*L],[0,-.5*L],[.75*U,-.5*L],[.75*U,-L],[U,0]]:[[0,0],[.25*U,L],[.25*U,.5*L],[U,.5*L],[U,-.5*L],[.25*U,-.5*L],[.25*U,-L],[0,0]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);
break;case M.RIGHT_ARROW:this._hideTooltip();U=0<=U?[[U,0],[.75*U,L],[.75*U,.5*L],[0,.5*L],[0,-.5*L],[.75*U,-.5*L],[.75*U,-L],[U,0]]:[[0,0],[.25*U,L],[.25*U,.5*L],[U,.5*L],[U,-.5*L],[.25*U,-.5*L],[.25*U,-L],[0,0]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);break;case M.UP_ARROW:this._hideTooltip();U=0>=L?[[0,L],[-U,.75*L],[-.5*U,.75*L],[-.5*U,0],[.5*U,0],[.5*U,.75*L],[U,.75*L],[0,L]]:[[0,0],[-U,.25*L],[-.5*U,.25*L],[-.5*U,L],[.5*U,L],[.5*U,.25*L],[U,.25*L],[0,0]];x.geometry=this._toPolygon(U,
K.x,K.y);x.setGeometry(x.geometry);break;case M.DOWN_ARROW:this._hideTooltip();U=0<=L?[[0,L],[-U,.75*L],[-.5*U,.75*L],[-.5*U,0],[.5*U,0],[.5*U,.75*L],[U,.75*L],[0,L]]:[[0,0],[-U,.25*L],[-.5*U,.25*L],[-.5*U,L],[.5*U,L],[.5*U,.25*L],[U,.25*L],[0,0]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);break;case M.RECTANGLE:this._hideTooltip();U=[[0,0],[U,0],[U,L],[0,L],[0,0]];x.geometry=this._toPolygon(U,K.x,K.y);x.setGeometry(x.geometry);break;case M.LINE:x.setGeometry(N.mixin(x.geometry,
{paths:[[[E.x,E.y],[G.x,G.y]]]}));break;case M.EXTENT:x&&H.graphics.remove(x,!0);x=new B(this._normalizeRect(E,G,J));x._originOnly=!0;this._graphic=H.graphics.add(new b(x,this.fillSymbol),!0);H.snappingManager&&H.snappingManager._setGraphic(this._graphic);break;case M.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));x.geometry._insertPoints([G.offset(0,0)],0);x.setGeometry(x.geometry);
break;case M.FREEHAND_POLYGON:this._hideTooltip();if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));x.geometry._insertPoints([G.offset(0,0)],0);x.setGeometry(x.geometry)}f("esri-touch")&&F.preventDefault()}},_canDrawFreehandPoint:function(F){if(!this._oldPoint)return!1;var x=this._oldPoint.x-F.screenPoint.x,E=this._oldPoint.y-F.screenPoint.y,G=this._options.tolerance;if((0>x?-1*x:x)<G&&(0>E?-1*E:E)<G)return!1;x=new Date;if(x-
this._startTime<this._options.drawTime)return!1;this._startTime=x;this._oldPoint=F.screenPoint;return!0},_onMouseUpHandler:function(F){if(this._dragged&&this._graphic){0===this._points.length&&this._points.push(F.mapPoint.offset(0,0));if(this.map.snappingManager)var x=this.map.snappingManager._snappingPoint;var E=this._points[0];x=x||F.mapPoint;var G=this.map.spatialReference,H=D;switch(this._geometryType){case H.CIRCLE:case H.ELLIPSE:case H.TRIANGLE:case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.RECTANGLE:var J=
this._graphic.geometry;break;case H.LINE:J=new p({paths:[[[E.x,E.y],[x.x,x.y]]],spatialReference:G});break;case H.EXTENT:J=(new B(this._normalizeRect(E,x,G))).getExtent();break;case H.FREEHAND_POLYLINE:J=new p(G);J.addPath([].concat(this._points,[x.offset(0,0)]));break;case H.FREEHAND_POLYGON:J=new q(G),E=[].concat(this._points,[x.offset(0,0),this._points[0].offset(0,0)]),q.prototype.isClockwise(E)||this.respectDrawingVertexOrder||E.reverse(),J.addRing(E)}f("esri-touch")&&F.preventDefault();this._clear();
this._drawEnd(J)}else this._clear()},_isPointToPointTool:function(F){switch(F){case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:return!0;default:return!1}},_onClickHandler:function(F){if(this.map.snappingManager)var x=this.map.snappingManager._snappingPoint;x=x||F.mapPoint;F=this.map;var E=F.toScreen(x),G=D;if(this._isPointToPointTool(this._geometryType)){var H=this._points[this._points.length-1];if(x&&H&&x.x===H.x&&x.y===H.y)return;this._points.push(x.offset(0,0))}switch(this._geometryType){case G.POINT:this.onDrawStart();
this._drawEnd(x.offset(0,0));this._setTooltipMessage(0);break;case G.POLYLINE:1===this._points.length?(x=new p(F.spatialReference),x.addPath(this._points),this._graphic=F.graphics.add(new b(x,this.lineSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=t.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,x.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol));
break;case G.POLYGON:1===this._points.length?(x=new q(F.spatialReference),x.addRing(this._points),this._graphic=F.graphics.add(new b(x,this.fillSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=t.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,x.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol));break;
case G.MULTI_POINT:x=this._points;1===x.length?(E=new y(F.spatialReference),E.addPoint(x[x.length-1]),this._graphic=F.graphics.add(new b(E,this.markerSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic),this.onDrawStart()):(this._graphic.geometry.addPoint(x[x.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case G.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],E.x,E.y);break;case G.LEFT_ARROW:this._addShape([[0,
0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],E.x,E.y);break;case G.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],E.x,E.y);break;case G.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],E.x,E.y);break;case G.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],E.x,E.y);break;case G.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,
24],[0,-48]],E.x,E.y);break;case G.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],E.x-48,E.y+48);break;case G.CIRCLE:this._clear();this.onDrawStart();this._drawEnd(q.createCircle({center:E,r:48,numberOfPoints:60,map:F}));break;case G.ELLIPSE:this._clear(),this.onDrawStart(),this._drawEnd(q.createEllipse({center:E,longAxis:48,shortAxis:24,numberOfPoints:60,map:F}))}this._setTooltipMessage(this._points.length)},_addShape:function(F,x,E){this._setTooltipMessage(0);this._clear();this.onDrawStart();
this._drawEnd(this._toPolygon(F,x,E))},_toPolygon:function(F,x,E){var G=this.map,H=new q(G.spatialReference);H.addRing(n.map(F,function(J){return G.toMap({x:J[0]+x,y:J[1]+E})}));return H},_onDblClickHandler:function(F){var x=this._points,E=this.map.spatialReference,G=D;f("esri-touch")&&x.push(F.mapPoint);var H=x[x.length-1],J=x[x.length-2];x=H&&J&&H.x===J.x&&H.y===J.y?x.slice(0,x.length-1):x.slice(0,x.length);switch(this._geometryType){case G.POLYLINE:if(!this._graphic||2>x.length){t.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._onClickHandler(F);return}var M=new p(E);M.addPath([].concat(x));break;case G.POLYGON:if(!this._graphic||3>x.length)return;M=new q(E);F=[].concat(x,[x[0].offset(0,0)]);q.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();M.addRing(F);break;case G.MULTI_POINT:M=new y(E),n.forEach(x,function(K){M.addPoint(K)})}t.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(M)},_onKeyDownHandler:function(F){F.keyCode===k.ESCAPE&&
(t.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(F){this._options.showTooltips&&(F?this._tooltip||(this._tooltip=w.create("div",{"class":"esriMapTooltip"},this.map.container),C.isBodyLtr()||v.set(this._tooltip,"direction","rtl"),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=t.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=
t.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=t.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(t.disconnect(this._onTooltipMouseEnterHandler_connect),t.disconnect(this._onTooltipMouseLeaveHandler_connect),t.disconnect(this._onTooltipMouseMoveHandler_connect),w.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var F=this._tooltip;F&&(F.style.display="none")},_setTooltipMessage:function(F){var x=this._tooltip;if(x){var E=
"";switch(this._geometryType){case D.POINT:E=z.toolbars.draw.addPoint;break;case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.TRIANGLE:case D.RECTANGLE:case D.CIRCLE:case D.ELLIPSE:E=z.toolbars.draw.addShape;break;case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:E=z.toolbars.draw.freehand;break;case D.POLYLINE:case D.POLYGON:E=z.toolbars.draw.start;1===F?E=z.toolbars.draw.resume:2<=F&&(E=z.toolbars.draw.complete);break;case D.MULTI_POINT:E=
z.toolbars.draw.addMultipoint,1<=F&&(E=z.toolbars.draw.finish)}x.innerHTML=E}},_updateTooltip:function(F){var x=this._tooltip;if(x){if(F.clientX||F.pageY){var E=F.clientX;F=F.clientY}else E=F.clientX+h.body().scrollLeft-h.body().clientLeft,F=F.clientY+h.body().scrollTop-h.body().clientTop;x.style.display="none";v.set(x,{left:E+this._options.tooltipOffset+"px",top:F+"px"});x.style.display=""}},_redrawGraphic:function(F,x,E,G){(E||this.map.wrapAround180)&&(F=this._graphic)&&F.setGeometry(F.geometry)},
onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawStart:function(){},onDrawEnd:function(){}});N.mixin(D,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});N.setObject("toolbars.Draw",
D,A);return D})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../Evented"],function(R,N,n,t,u){R=R([u],{declaredClass:"esri.toolbars._Toolbar",constructor:function(h){this.map=h},_cursors:{move:"pointer","move-v":"pointer","move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(h,f,g,k){var w=this.map;
h&&(this._mapNavState={isDoubleClickZoom:w.isDoubleClickZoom,isClickRecenter:w.isClickRecenter,isPan:w.isPan,isRubberBandZoom:w.isRubberBandZoom,isKeyboardNavigation:w.isKeyboardNavigation,isScrollWheelZoom:w.isScrollWheelZoom},w.disableDoubleClickZoom(),w.disableClickRecenter(),w.disablePan(),w.disableRubberBandZoom(),w.disableKeyboardNavigation());f&&w.hideZoomSlider();g&&w.hidePanArrows();k&&w.graphics.disableMouseEvents()},_activateMapTools:function(h,f,g,k){var w=this.map,v=this._mapNavState;
h&&v&&(v.isDoubleClickZoom&&w.enableDoubleClickZoom(),v.isClickRecenter&&w.enableClickRecenter(),v.isPan&&w.enablePan(),v.isRubberBandZoom&&w.enableRubberBandZoom(),v.isKeyboardNavigation&&w.enableKeyboardNavigation(),v.isScrollWheelZoom&&w.enableScrollWheelZoom());f&&w.showZoomSlider();g&&w.showPanArrows();k&&w.graphics.enableMouseEvents()},_deactivateScrollWheel:function(){var h=this.map;this._scrollWheelState={isScrollWheelZoom:h.isScrollWheelZoom,isScrollWheelPan:h.isScrollWheelPan};h.disableScrollWheelZoom();
h.disableScrollWheelPan()},_activateScrollWheel:function(){var h=this.map,f=this._scrollWheelState;f&&(f.isScrollWheelZoom&&h.enableScrollWheelZoom(),f.isScrollWheelPan&&h.enableScrollWheelPan())}});N.setObject("toolbars._Toolbar",R,t);return R})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d){var e=n("dijit.layout._Splitter",[A,r],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);t.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=N(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",c=h.getMarginBox(this.child.domNode)[b],m=R.filter(this.container.getChildren(),function(p){return"center"==p.region})[0];
b=h.getContentBox(m.domNode)[b]-10;return Math.min(this.child.maxSize,c+b)},_startDrag:function(b){this.cover||(this.cover=u.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));t.add(this.cover,"dijitSplitterCoverActive");this.fake&&u.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),t.add(this.domNode,"dijitSplitterShadow"),u.place(this.fake,this.domNode,"after"));t.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&t.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var c=this._factor,m=this.horizontal,p=m?"pageY":"pageX",q=b[p],y=this.domNode.style;m=m?"h":"w";var B=f.getComputedStyle(this.child.domNode),z=h.getMarginBox(this.child.domNode,B)[m],D=this._computeMaxSize(),F=Math.max(this.child.minSize,h.getPadBorderExtents(this.child.domNode,B)[m]+10);m=this.region;var x="top"==m||"bottom"==m?"top":"left",E=parseInt(y[x],10),
G=this._resize,H=k.hitch(this.container,"_layoutChildren",this.child.id);m=this.ownerDocument;this._handlers=this._handlers.concat([w(m,v.move,this._drag=function(J,M){var K=J[p]-q,L=c*K+z,U=Math.max(Math.min(L,D),F);(G||M)&&H(U);y[x]=K+E+c*(U-L)+"px"}),w(m,"dragstart",function(J){J.stopPropagation();J.preventDefault()}),w(this.ownerDocumentBody,"selectstart",function(J){J.stopPropagation();J.preventDefault()}),w(m,v.release,k.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(b){b=
"mouseover"==b.type||"mouseenter"==b.type;t.toggle(this.domNode,"dijitSplitterHover",b);t.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b)},_stopDrag:function(b){try{this.cover&&t.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&u.destroy(this.fake),t.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
N(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var b;b=this._handlers.pop();)b.remove()},_onKeyDown:function(b){this._resize=!0;var c=this.horizontal,m=1;switch(b.keyCode){case c?g.UP_ARROW:g.LEFT_ARROW:m*=-1;case c?g.DOWN_ARROW:g.RIGHT_ARROW:break;default:return}c=h.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*m;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));
b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),a=n("dijit.layout._Gutter",[A,r],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);t.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});n=n("dijit.layout.BorderContainer",l,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:e,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var c=b.region,m=b.isLeftToRight();"leading"==c&&(c=m?"left":"right");"trailing"==c&&(c=m?"right":"left");c&&"center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget&&(m=b.splitter?this._splitterClass:a,k.isString(m)&&
(m=k.getObject(m)),m=new m({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),m.isSplitter=!0,b._splitterWidget=m,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),u.place(m.domNode,b.domNode,c?"before":"after"),m.startup())},layout:function(){this._layoutChildren()},removeChild:function(b){var c=b._splitterWidget;c&&(c.destroy(),delete b._splitterWidget);this.inherited(arguments)},getChildren:function(){return R.filter(this.inherited(arguments),function(b){return!b.isSplitter})},
getSplitter:function(b){return R.filter(this.getChildren(),function(c){return c.region==b})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var m=this.domNode;this.cs=f.getComputedStyle(m);this.pe=h.getPadExtents(m,this.cs);this.pe.r=f.toPixelValue(m,this.cs.paddingRight);this.pe.b=f.toPixelValue(m,this.cs.paddingBottom);f.set(m,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(b,c){if(this._borderBox&&this._borderBox.h){var m=[];R.forEach(this._getOrderedChildren(),
function(p){m.push(p);p._splitterWidget&&m.push(p._splitterWidget)});d.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},m,b,c)}},destroyRecursive:function(){R.forEach(this.getChildren(),function(b){var c=b._splitterWidget;c&&c.destroy();delete b._splitterWidget});this.inherited(arguments)}});n.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};k.mixin(n.ChildWidgetProperties,l.ChildWidgetProperties);k.extend(C,n.ChildWidgetProperties);
n._Splitter=e;n._Gutter=a;return n})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(R,N,n,t,u,h,f,g){N=N("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(R.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(k){this.inherited(arguments);
k.region&&n.add(k.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var k=R.map(this.getChildren(),function(w,v){return{pane:w,weight:["center"==w.region?Infinity:0,w.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(w.region)?1:-1),v]}},this);k.sort(function(w,v){for(var C=w.weight,A=v.weight,r=0;r<C.length;r++)if(C[r]!=A[r])return C[r]-A[r];return 0});return R.map(k,function(w){return w.pane})},layout:function(){g.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(k,w){this.inherited(arguments);this._started&&this.layout()},removeChild:function(k){this.inherited(arguments);this._started&&this.layout();n.remove(k.domNode,this.baseClass+"Pane");t.set(k.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});t.set(k.domNode,/top|bottom/.test(k.region)?"width":"height","auto")}});N.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};u.extend(h,N.ChildWidgetProperties);return N})},"arcgisonline/map/utils/clipOnHorizon":function(){define(["./contains"],
function(R){return function(N){R([102113,102100,3857],N.spatialReference.wkid)&&(N.xmin=Math.max(N.xmin,-20037507),N.xmax=Math.min(N.xmax,20037507),N.ymin=Math.max(N.ymin,-19971868),N.ymax=Math.min(N.ymax,19971868));return N}})},"arcgisonline/map/utils/createExtentSearchOptions":function(){define("dojo/_base/lang dojo/_base/array esri/lang esri/tasks/locator ../../esriGeowConfig ../../sharing/util dojo/i18n!../../nls/arcgisonline".split(" "),function(R,N,n,t,u,h,f){function g(){var k=R.clone(((u&&
u.self||{}).helperServices||{}).geocode||[]),w=!1;n.isDefined(u.geocodeAutoComplete)&&(w=u.geocodeAutoComplete);N.forEach(k,R.hitch(this,function(v){v.enableSuggestions=!0===v.suggest&&w?!0:!1;delete v.suggest;var C=h.isEsriWorldGeocoder(v);if(C||v.enableSuggestions)C&&(v.name=v.name||f.common.esriWorldGeocoder,v.enableSuggestions=w,v.placefinding=v.batch=v.esri=!0,v.outFields=["Match_addr","Addr_type","StAddr","City"]),v.placeholder=v.placeholder||f.viewer.findLocationText,v.singleLineFieldName=
v.singleLineFieldName||"SingleLine",v.highlightSymbol=null,v.localSearchOptions={minScale:3E5,distance:5E4};v.locator=new t(v.url)}));return k=N.filter(k,function(v){return n.isDefined(v.singleLineFieldName)&&n.isDefined(v.placefinding)&&v.placefinding})}return function(k,w){var v=n.isDefined(u.geocodeAutoComplete)?u.geocodeAutoComplete:!1,C=g();v={map:k,enableSuggestions:v,minCharacters:3,maxResults:5,suggestionDelay:100,value:w||null,autoNavigate:!1,activeSourceIndex:"all",sources:[].concat(C)};
1===v.sources.length&&delete v.activeSourceIndex;return v}})},"arcgisonline/sharing/dijit/dialog/ShareOwnershipDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/Select dojox/form/TriStateCheckBox ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/editor dojo/store/Memory dojo/store/Observable ./_CreateItemUtilMixin dojo/topic esri/Evented esri/arcgis/Portal ../../geow/Account ../../geow/Content ../../util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa){return R("arcgisonline.sharing.dijit.dialog.ShareOwnershipDlg",[g,k,w,K],{baseClass:"esriSharedOwnershipDlg table-layout",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cp data-dojo-attach-point\x3d"_message"\x3e${i18n.sharingDlg.sharedOwnershipMsg}\x3c/p\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"${id}-groups" data-dojo-attach-point\x3d"_groups" \x3e\x3c/div\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_footerMessage"\x3e${i18n.sharingDlg.settingsMsg}\x3c/p\x3e',
onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},aa)},postCreate:function(){this.inherited(arguments);U.getSelf(f.hitch(this,function(ha){this._loadConnections();this._portal=new L.Portal({url:esriGeowConfig.restBaseUrl,self:ha});this._connect=this._portal.on("load",f.hitch(this,function(){this._connect.remove();this._portalUser=this._portal.getPortalUser();this.set("disabled",!0,this.i18n.sharingDlg.fetchingGroups);return this._loadData().then(f.hitch(this,
function(ia){this._createGrid(ia);this.set("disabled",!1);M.publish("shareOwnership/load")}),f.hitch(this,function(ia){M.publish("shareOwnership/load")}))}))}))},startup:function(){this.inherited(arguments);var ha=new d,ia=M.subscribe("shareOwnership/load",function(){ia.remove();ha.resolve()});return ha},destroy:function(){t(".dijit",this.contentNode).map(dijit.byNode).forEach(function(ha){ha.destroyRecursive?ha.destroyRecursive():ha.destroy&&ha.destroy();ha=null});this._groups.destroy();this._groupsStore=
this._groups=null;this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._portalUser=this._portal=null},_createGrid:function(ha){ha=[E({field:"visible",autoSave:!0},q),{field:"title"}];this._groups=new (R([F,x]))({selectionMode:"none",store:this._groupsStore,showHeader:!1,showLoadingMessage:!1,columns:ha,sort:[{attribute:"title",descending:!1}]},this._groups);this._groups.startup();this._groups.on(".dgrid-cell.field-visible:click",f.hitch(this,function(ia){ia=
this._groups.cell(ia).element.widget;"mixed"===(ia&&ia.get("checked")||!1)&&ia.set("checked",!0)}))},_loadConnections:function(){this.own(M.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){B.focus(this._focusNode)}),250)})),M.subscribe("/esri/disable",f.hitch(this,function(ha,ia){this.set("disabled",ha,ia,!0)})))},_loadData:function(){var ha=new d,ia=e.map(this.items||[],f.hitch(this,function(ka){return this._getGroupsItemSharedWith(ka)}));this._sharedOwnershipGroups=
this._getSharedOwnershipGroups(this.groups);this._groupsStore=new H(new G({idProperty:"id",data:this._sharedOwnershipGroups}));r(ia).then(f.hitch(this,function(ka){ha[this._sharedOwnershipGroups&&this._sharedOwnershipGroups.length?"resolve":"reject"](this._sharedOwnershipGroups)}));return ha},_setValueAttr:function(ha){this.items=ha.items.map(function(ia){return f.mixin({},ia)});this.groups=ha.groups.map(function(ia){return f.mixin({},ia)})},_getValueAttr:function(){return{selected:this._groupsStore.query({visible:"on"}).map(function(ha){return ha.id}),
unselected:this._groupsStore.query({visible:!1}).map(function(ha){return ha.id})}},_setFocusAttr:function(ha){ha=t(ha,this.domNode);B.focus(ha&&ha.length?ha[0]:this._title.domNode)},_setDisabledAttr:function(ha,ia,ka){this.set("readOnly",ha,ia,ka)},_setReadOnlyAttr:function(ha,ia,ka){t(".dijit",this.domNode).map(dijit.byNode).forEach(function(qa){qa.set("disabled",ha)});t("a",this.domNode)[ha?"addClass":"removeClass"]("disabledLink");t("label, p, span",this.domNode)[ha?"addClass":"removeClass"]("disabled");
ka||(ha&&ia&&M.publish("/dlg/busyMessage",ia),M.publish("/esri/disable",ha,ia))},shareWithSelectedGroup:function(){var ha=new d,ia=e.map(this.items||[],"return item.id;").join(","),ka=this.items&&this.items.length?this.items[0].owner:null,qa={owner:ka,items:ia,groups:this.get("value").selected.join(","),confirmItemControl:!0};ia={owner:ka,items:ia,groups:this.get("value").unselected.join(",")};this.set("disabled",!0,this.i18n.sharingDlg.sharingItems);r([this._shareItems(qa),this._unshareItems(ia)]).then(f.hitch(this,
function(){this.set("disabled",!1);ha.resolve()}),f.hitch(this,function(Y){this.set("disabled",!1);ha.reject(Y)}));return ha},_shareItems:function(ha){var ia=new d;ha.groups&&ha.groups.length?ba.shareItems(ha,f.hitch(this,function(ka){this.set("disabled",!1);ia.resolve(ka)}),f.hitch(this,function(ka){ia.reject(ka)})):ia.resolve([]);return ia},_unshareItems:function(ha){var ia=new d;ha.groups&&ha.groups.length?ba.unshareItems(ha,f.hitch(this,function(ka){this.set("disabled",!1);ia.resolve(ka)}),f.hitch(this,
function(ka){ia.reject(ka)})):ia.resolve([]);return ia},_getGroupsItemSharedWith:function(ha){ha=this._portal.portalUrl+"content/items/"+ha.id+"/groups";var ia=this.items&&this.items.length||0,ka,qa=new d;V.request({url:ha}).then(f.hitch(this,function(Y){Y=this._getSharedOwnershipGroups(Y.admin).concat(this._getSharedOwnershipGroups(Y.member)).concat(this._getSharedOwnershipGroups(Y.other));e.forEach(Y||[],f.hitch(this,function(Q){if(ka=this._groupsStore.get(Q.id))ka.shareCount=ka.shareCount?ka.shareCount+
1:1,ka.visible=ka.shareCount===ia?"on":"mixed",this._groupsStore.put(ka)}));qa.resolve(Y)}));return qa},_getSharedOwnershipGroups:function(ha){var ia,ka=this._portalUser&&this._portalUser.username;return e.filter(ha||[],f.hitch(this,function(qa){ia=qa.capabilities&&qa.capabilities.join(",")||"";return(qa.owner===ka||!qa.isViewOnly||qa.userMembership&&"admin"===qa.userMembership.memberType)&&-1<ia.toLowerCase().indexOf("updateitemcontrol")}))},validate:function(){var ha=new d;this._focusNode=null;
var ia=this._checkRequired();ia=ia.then(f.hitch(this,function(ka){ha.resolve(ka)}),f.hitch(this,function(ka){this._showError(ka);ha.reject(ka)}));return ha},_checkRequired:function(){var ha=new d;ha.resolve(!0);return ha},_showError:function(ha){ha=f.mixin(f.mixin({},aa.publishWizard.errors.error),ha);this._errorDlg=new y({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ha).then(f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,
function(){B.focus(this._focusNode)}),250)}));return!1}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){function c(p){return function(q){this._isLoaded?
this.inherited(p,arguments):this.loadDropDown(g.hitch(this,p,q))}}var m=N("dijit.form._SelectMenu",A,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(p){p.preventDefault();p.stopPropagation()}))},focus:function(){var p=!1,q=this.parentWidget.value;g.isArray(q)&&(q=q[q.length-1]);q&&R.forEach(this.parentWidget._getChildren(),function(y){y.option&&
q===y.option.value&&(p=!0,this.focusChild(y,!1))},this);p||this.inherited(arguments)}});u=N("dijit.form.Select"+(w("dojo-bidi")?"_NoBidi":""),[v,C,e],{baseClass:"dijitSelect dijitValidationTextBox",templateString:b,_buttonInputDisabled:w("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var p=this.srcNodeRef.selectedIndex||
0;this._set("value",this.options[0<=p?p:0].value)}this.dropDown=new m({id:this.id+"_menu",parentWidget:this});t.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(p){if(p.value||p.label){var q=g.hitch(this,"_setValueAttr",p);p=new r({option:p,label:("text"===this.labelType?(p.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):p.label)||this.emptyLabel,onClick:q,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:p.disabled||
!1});p.focusNode.setAttribute("role","option");return p}return new l({ownerDocument:this.ownerDocument})},_addOptionItem:function(p){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(p))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(p){}},focusChild:function(p){p&&this.set("value",p.option)},_getFirst:function(){var p=this._getChildren();return p.length?p[0]:null},
_getLast:function(){var p=this._getChildren();return p.length?p[p.length-1]:null},childSelector:function(p){return(p=a.byNode(p))&&p.getParent()==this.dropDown},onKeyboardSearch:function(p,q,y,B){p&&this.focusChild(p)},_loadChildren:function(p){if(!0===p)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{R.forEach(this._getChildren(),function(y){y.destroyRecursive()});var q=new r({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(q)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(p){this.inherited(arguments);n.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(p){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(p){this._set("required",p);this.focusNode.setAttribute("aria-required",p);this._refreshState()},_setOptionsAttr:function(p){this._isLoaded=!1;this._set("options",p)},_setDisplay:function(p){p=("text"===this.labelType?(p||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):p)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" aria-selected\x3d"true" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+p+"\x3c/span\x3e"},
validate:function(p){p=this.disabled||this.isValid(p);this._set("state",p?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",p?"false":"true");var q=p?"":this._missingMsg;q&&this.focused&&this._hasBeenBlurred?d.show(q,this.domNode,this.tooltipPosition,!this.isLeftToRight()):d.hide(this.domNode);this._set("message",q);return p},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);d.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=h.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(q){q.preventDefault();q.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var p=this._keyNavCodes;delete p[f.LEFT_ARROW];delete p[f.RIGHT_ARROW]},_setStyleAttr:function(p){this.inherited(arguments);t.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(p){this._loadChildren(!0);this._isLoaded=!0;p()},destroy:function(p){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(p),delete this.dropDown);d.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){d.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});w("dojo-bidi")&&(u=
N("dijit.form.Select",u,{_setDisplay:function(p){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));u._Menu=m;u.prototype._onContainerKeydown=c("_onContainerKeydown");u.prototype._onContainerKeypress=c("_onContainerKeypress");return u})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A){return u("dijit.form._FormSelectWidget",A,{multiple:!1,options:null,store:null,_setStoreAttr:function(r){this._created&&this._deprecatedSetStore(r)},query:null,_setQueryAttr:function(r){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:r})},queryOptions:null,_setQueryOptionsAttr:function(r){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:r})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(r){var l=this.options||[];if(null==r)return l;if(k.isArrayLike(r))return R.map(r,"return this.getOptions(item);",this);k.isString(r)&&(r={value:r});k.isObject(r)&&(R.some(l,function(d,e){for(var a in r)if(!(a in d)||d[a]!=r[a])return!1;r=e;return!0})||(r=-1));return 0<=r&&r<l.length?l[r]:null},addOption:function(r){R.forEach(k.isArrayLike(r)?r:[r],function(l){l&&k.isObject(l)&&this.options.push(l)},this);this._loadChildren()},removeOption:function(r){r=this.getOptions(k.isArrayLike(r)?
r:[r]);R.forEach(r,function(l){l&&(this.options=R.filter(this.options,function(d){return d.value!==l.value||d.label!==l.label}),this._removeOptionItem(l))},this);this._loadChildren()},updateOption:function(r){R.forEach(k.isArrayLike(r)?r:[r],function(l){var d=this.getOptions({value:l.value}),e;if(d)for(e in l)d[e]=l[e]},this);this._loadChildren()},setStore:function(r,l,d){g.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(r,l,d)},_deprecatedSetStore:function(r,l,d){var e=this.store;d=d||{};if(e!==r){for(var a;a=this._notifyConnections.pop();)a.remove();r.get||(k.mixin(r,{_oldAPI:!0,get:function(b){var c=new N;this.fetchItemByIdentity({identity:b,onItem:function(m){c.resolve(m)},onError:function(m){c.reject(m)}});return c.promise},query:function(b,c){var m=new N(function(){p.abort&&p.abort()});m.total=new N;var p=this.fetch(k.mixin({query:b,onBegin:function(q){m.total.resolve(q)},
onComplete:function(q){m.resolve(q)},onError:function(q){m.reject(q)}},c));return new C(m)}}),r.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[n.after(r,"onNew",k.hitch(this,"_onNewItem"),!0),n.after(r,"onDelete",k.hitch(this,"_onDeleteItem"),!0),n.after(r,"onSet",k.hitch(this,"_onSetItem"),!0)]));this._set("store",r)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);d.query&&this._set("query",d.query);d.queryOptions&&this._set("queryOptions",d.queryOptions);r&&r.query&&(this._loadingStore=!0,this.onLoadDeferred=new N,this._queryRes=r.query(this.query,this.queryOptions),v(this._queryRes,k.hitch(this,function(b){if(this.sortByLabel&&!d.sort&&b.length)if(r.getValue)b.sort(t.createSortFunction([{attribute:r.getLabelAttributes(b[0])[0]}],r));else{var c=this.labelAttr;b.sort(function(m,p){return m[c]>p[c]?1:p[c]>
m[c]?-1:0})}d.onFetch&&(b=d.onFetch.call(this,b,d));R.forEach(b,function(m){this._addOptionForItem(m)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(k.hitch(this,function(m,p,q){p==q?this._onSetItem(m):(-1!=p&&this._onDeleteItem(m),-1!=q&&this._onNewItem(m))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:l);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),k.hitch(this,function(b){this.onLoadDeferred.reject(b)})));return e},_setValueAttr:function(r,l){this._onChangeActive||(l=null);if(this._loadingStore)this._pendingValue=r;else if(null!=r){r=k.isArrayLike(r)?R.map(r,function(a){return k.isObject(a)?a:{value:a}}):k.isObject(r)?[r]:[{value:r}];r=R.filter(this.getOptions(r),function(a){return a&&a.value});var d=this.getOptions()||[];this.multiple||r[0]&&r[0].value||!d.length||(r[0]=d[0]);R.forEach(d,function(a){a.selected=R.some(r,
function(b){return b.value===a.value})});d=R.map(r,function(a){return a.value});if("undefined"!=typeof d&&"undefined"!=typeof d[0]){var e=R.map(r,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?d:d[0],l]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var r=R.map([].concat(this.get("selectedOptions")),function(l){return l&&"label"in l?l.label:l?l.value:null},this);return this.multiple?r:r[0]},_setDisplayedValueAttr:function(r){this.set("value",
this.getOptions("string"==typeof r?{label:r}:r))},_loadChildren:function(){this._loadingStore||(R.forEach(this._getChildren(),function(r){r.destroyRecursive()}),R.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var r=[].concat(this.value);if(r&&r[0]){var l=this;R.forEach(this._getChildren(),function(d){var e=R.some(r,function(a){return d.option&&a===d.option.value});e&&!l.multiple&&
(l.focusedChild=d);f.toggle(d.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),e);d.domNode.setAttribute("aria-selected",e?"true":"false")},this)}},_getValueFromOpts:function(){var r=this.getOptions()||[];if(!this.multiple&&r.length){var l=R.filter(r,function(d){return d.selected})[0];if(l&&l.value)return l.value;r[0].selected=!0;return r[0].value}return this.multiple?R.map(R.filter(r,function(d){return d.selected}),function(d){return d.value})||[]:""},_onNewItem:function(r,l){l&&l.parent||
this._addOptionForItem(r)},_onDeleteItem:function(r){this.removeOption({value:this.store.getIdentity(r)})},_onSetItem:function(r){this.updateOption(this._getOptionObjForItem(r))},_getOptionObjForItem:function(r){var l=this.store,d=this.labelAttr&&this.labelAttr in r?r[this.labelAttr]:l.getLabel(r);return{value:d?l.getIdentity(r):null,label:d,item:r}},_addOptionForItem:function(r){var l=this.store;l.isItemLoaded&&!l.isItemLoaded(r)?l.loadItem({item:r,onItem:function(d){this._addOptionForItem(d)},scope:this}):
(r=this._getOptionObjForItem(r),this.addOption(r))},constructor:function(r){this._oValue=(r||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);h.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?w("\x3e *",this.srcNodeRef).map(function(r){return"separator"===r.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:r.getAttribute("data-"+g._scopeName+"-value")||r.getAttribute("value"),
label:String(r.innerHTML),selected:r.getAttribute("selected")||!1,disabled:r.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);n.after(this,"onChange",k.hitch(this,"_updateSelection"));var r=this.store;r&&(r.getIdentity||r.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(r,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var r;r=this._notifyConnections.pop();)r.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(R,N,n,t){return R("dijit.DropDownMenu",t,{templateString:n,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(u){this._moveToPopup(u);u.stopPropagation();u.preventDefault()},
_onLeftArrow:function(u){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else u.stopPropagation(),u.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){return N("dijit._MenuBase",[C,
l,r,A],{selected:null,_setSelectedAttr:function(d){this.selected!=d&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),d&&d._setSelected(!0),this._set("selected",d))},activated:!1,_setActivatedAttr:function(d){u.toggle(this.domNode,"dijitMenuActive",d);u.toggle(this.domNode,"dijitMenuPassive",!d);this._set("activated",d)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(d){var e=v.byNode(d);return d.parentNode==this.containerNode&&
e&&e.focus},postCreate:function(){var d=this,e="string"==typeof this.childSelector?this.childSelector:h.hitch(this,"childSelector");this.own(g(this.containerNode,g.selector(e,f.enter),function(){d.onItemHover(v.byNode(this))}),g(this.containerNode,g.selector(e,f.leave),function(){d.onItemUnhover(v.byNode(this))}),g(this.containerNode,g.selector(e,w),function(a){d.onItemClick(v.byNode(this),a);a.stopPropagation()}),g(this.containerNode,g.selector(e,"focusin"),function(){d._onItemFocus(v.byNode(this))}));
this.inherited(arguments)},onKeyboardSearch:function(d,e,a,b){this.inherited(arguments);if(d&&(-1==b||d.popup&&1==b))this.onItemClick(d,e)},_keyboardSearchCompare:function(d,e){return d.shortcutKey?e==d.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(d){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,d);else(d=this._getTopMenu())&&d._isMenuBar&&d.focusNext()},
_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(d){this.activated?(this.set("selected",d),!d.popup||d.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(d)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(d,{type:"click"})},this.passivePopupDelay));this._hoveredChild=
d;d._set("hovering",!0)},_onChildDeselect:function(d){this._stopPopupTimer();this.currentPopupItem==d&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;d._closePopup()},this.popupDelay))},onItemUnhover:function(d){this._hoveredChild==d&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);d._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var d=this;d.parentMenu;d=d.parentMenu);return d},onItemClick:function(d,e){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(d);if(d.disabled)return!1;if(d.popup){this.set("selected",d);this.set("activated",!0);var a=/^key/.test(e._origType||e.type)||0==e.clientX&&0==e.clientY;this._openItemPopup(d,
a)}else this.onExecute(),d._onClick?d._onClick(e):d.onClick(e)},_openItemPopup:function(d,e){if(d!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var a=d.popup;a.parentMenu=this;this.own(this._mouseoverHandle=g.once(a.domNode,"mouseover",h.hitch(this,"_onPopupHover")));var b=this;d._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){e&&b.focusChild(d);b._cleanUp()},onExecute:h.hitch(this,
"_cleanUp",!0),onClose:function(){b._mouseoverHandle&&(b._mouseoverHandle.remove(),delete b._mouseoverHandle)}},e);this.currentPopupItem=d}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(t.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(d){if(this._hoveredChild&&this._hoveredChild!=d)this.onItemUnhover(this._hoveredChild);this.set("selected",d)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(d){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);d&&this.set("selected",null)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(R,N,n,t,u,h,f,g,k,w){return N("dojox.form.TriStateCheckBox",[k,w],{templateString:g,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(v){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(v,C){var A=n.indexOf(this.states,v);0<=A&&(this._currentState=A,this._stateType=this._getStateType(v),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(v){R.deprecated("setChecked("+v+") is deprecated. Use set('checked',"+v+") instead.","","2.0");this.set("checked",v)},_setStatesAttr:function(v){if(t.isArray(v))this._set("states",v);else if(t.isString(v)){var C={"true":!0,"false":!1,mixed:"mixed"};v=v.split(/\s*,\s*/);for(var A=0;A<v.length;A++)v[A]=void 0!==C[v[A]]?C[v[A]]:!1;this._set("states",v)}},_setReadOnlyAttr:function(v){this._set("readOnly",v);
f.set(this.focusNode,"readOnly",v)},_setValueAttr:function(v,C){"string"==typeof v&&0>n.indexOf(this.states,v)&&(""==v&&(v="on"),this.stateValues.True=v,v=!0);this._created&&(this._currentState=n.indexOf(this.states,v),this.set("checked",v,C),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(v){this.stateValues.True=v[0]?v[0]:this.stateValues.True;this.stateValues.Mixed=v[1]?v[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&h("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&h("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(v){if(this.readOnly||this.disabled)return u.stop(v),!1;this.click();return this.onClick(v)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var v=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=v;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(v){return v?"mixed"==v?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(R,N,n){return R("dgrid.OnDemandGrid",[N,n],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(R,N,n,t,u,h,f){function g(v,C){C&&C.nodeType&&v.appendChild(C)}function k(v,
C,A,r){if(this.formatter){r=this.formatter;var l=this.grid.formatterScope;A.innerHTML="string"===typeof r&&l?l[r](C,v):this.formatter(C,v)}else null!=C&&A.appendChild(document.createTextNode(C))}var w=8>t("ie")&&!t("quirks");N=N("dgrid.Grid",h,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(v){return"object"!=typeof v?this.columns[v]:this.cell(v).column},listType:"grid",cell:function(v,C){if(v.column&&v.element)return v;v.target&&v.target.nodeType&&(v=v.target);if(v.nodeType){do{if(this._rowIdToObject[v.id])break;
var A=v.columnId;if(A){C=A;var r=v;break}v=v.parentNode}while(v&&v!=this.domNode)}if(!r&&"undefined"!=typeof C){var l=this.row(v);if(A=l&&l.element){A=A.getElementsByTagName("td");for(var d=0;d<A.length;d++)if(A[d].columnId==C){r=A[d];break}}}if(null!=v)return{row:l||this.row(v),column:C&&this.column(C),element:r}},createRowCells:function(v,C,A,r){var l=u("table.dgrid-row-table[role\x3dpresentation]"),d=9>t("ie")||t("quirks")?u(l,"tbody"):l,e,a,b;A=A||this.subRows;var c=0;for(e=A.length;c<e;c++){var m=
A[c];var p=u(d,"tr");m.className&&u(p,"."+m.className);var q=0;for(a=m.length;q<a;q++){var y=m[q];var B=y.id;var z=y.field?".field-"+f.escapeCssIdentifier(y.field,"-"):"";(b="function"===typeof y.className?y.className(r):y.className)&&(z+="."+b);z=u(v+(".dgrid-cell.dgrid-cell-padding"+(B?".dgrid-column-"+f.escapeCssIdentifier(B,"-"):"")+z.replace(/ +/g,"."))+"[role\x3d"+("th"===v?"columnheader":"gridcell")+"]");z.columnId=B;w?(B=u(z,"!dgrid-cell-padding div.dgrid-cell-padding"),z.contents=B):B=z;
if(b=y.colSpan)z.colSpan=b;if(b=y.rowSpan)z.rowSpan=b;C(B,y);p.appendChild(z)}}return l},left:function(v,C){v.element||(v=this.cell(v));return this.cell(this._move(v,-(C||1),"dgrid-cell"))},right:function(v,C){v.element||(v=this.cell(v));return this.cell(this._move(v,C||1,"dgrid-cell"))},renderRow:function(v,C){var A=this.createRowCells("td",function(r,l){var d=v;l.get?d=l.get(v):"field"in l&&"_item"!=l.field&&(d=d[l.field]);l.renderCell?g(r,l.renderCell(v,d,r,C)):k.call(l,v,d,r,C)},C&&C.subRows,
v);return u("div[role\x3drow]\x3e",A)},renderHeader:function(){var v=this,C=this.headerNode,A=C.childNodes.length;for(C.setAttribute("role","row");A--;)u(C.childNodes[A],"!");A=this.createRowCells("th",function(r,l){var d=l.headerNode=r;w&&(r=r.parentNode);var e=l.field;e&&(r.field=e);l.renderHeaderCell?g(d,l.renderHeaderCell(d)):("label"in l||l.field)&&d.appendChild(document.createTextNode("label"in l?l.label:l.field));!1!==l.sortable&&e&&"_item"!=e&&(r.sortable=!0,r.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[A.id=this.id+"-header"]=this.columns;C.appendChild(A);this._sortListener&&this._sortListener.remove();this._sortListener=n(A,"click,keydown",function(r){if("click"==r.type||32==r.keyCode||!t("opera")&&13==r.keyCode){var l=r.target,d,e;do if(l.sortable){var a=[{attribute:d=l.field||l.columnId,descending:(e=v._sort[0])&&e.attribute==d&&!e.descending}];d={bubbles:!0,cancelable:!0,grid:v,parentType:r.type,sort:a};n.emit(r.target,"dgrid-sort",
d)&&(v._sortNode=l,v.set("sort",a));break}while((l=l.parentNode)&&l!=C)}})},resize:function(){var v=this.headerNode.firstChild,C=this.contentNode,A;this.inherited(arguments);if(!t("ie")||7<t("ie")&&!t("quirks"))C.style.width="",C&&v&&(A=v.offsetWidth)!=C.offsetWidth&&(C.style.width=A+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(v,C){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(v){var C=
this.columns,A;for(A in C){var r=C[A];if(r.field==v)return r.headerNode}},updateSortArrow:function(v,C){this._lastSortedArrow&&(u(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),u(this._lastSortedArrow,"!"),delete this._lastSortedArrow);C&&(this._sort=v);if(v[0]){var A=v[0].attribute,r=v[0].descending;A=this._sortNode||this._findSortArrowParent(A);delete this._sortNode;if(A){A=A.contents||A;var l=this._lastSortedArrow=u("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");l.innerHTML=
"\x26nbsp;";A.insertBefore(l,A.firstChild);u(A,r?".dgrid-sort-down":".dgrid-sort-up");this.resize()}}},styleColumn:function(v,C){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(v,"-"),C)},_configColumns:function(v,C){var A=[],r=C instanceof Array;f.each(C,function(l,d){"string"==typeof l&&(C[d]=l={label:l});r||l.field||(l.field=d);d=l.id=l.id||(isNaN(d)?d:v+d);this._configColumn&&(this._configColumn(l,d,C,v),d=l.id);r&&(this.columns[d]=l);
l.grid=this;"function"===typeof l.init&&l.init();A.push(l)},this);return r?C:A},_destroyColumns:function(){var v=this.subRows,C=v&&v.length,A,r;this.cleanup();for(A=0;A<C;A++){var l=0;for(r=v[A].length;l<r;l++){var d=v[A][l];"function"===typeof d.destroy&&d.destroy()}}},configStructure:function(){var v=this.subRows,C=this._columns=this.columns;this.columns=!C||C instanceof Array?{}:C;if(v)for(C=0;C<v.length;C++)v[C]=this._configColumns(C+"-",v[C]);else this.subRows=[this._configColumns("",C)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(v){this._destroyColumns();this.subRows=null;this.columns=v;this._updateColumns()},_setSubRows:function(v){this._destroyColumns();this.subRows=v;this._updateColumns()},setColumns:function(v){R.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",v)},setSubRows:function(v){R.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",v)},_updateColumns:function(){this.configStructure();this.renderHeader();
this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});N.appendIfNode=g;N.defaultRenderCell=k;return N})},"put-selector/put":function(){(function(R){var N,n=/[-+,> ]/;R([],N=function(t,u){function h(v){function C(){e&&d&&e!=d&&(d==v&&(A||(A=n.test(m)&&t.createDocumentFragment()))?A:d).insertBefore(e,l||null)}for(var A,r,l,d,e,a=arguments,b=a[0],c=0;c<a.length;c++){var m=a[c];if("object"==
typeof m){r=!1;if(m instanceof Array){e=t.createDocumentFragment();for(var p=0;p<m.length;p++)e.appendChild(h(m[p]));m=e}if(m.nodeType)e=m,C(),d=m,l=0;else for(p in m)e[p]=m[p]}else if(r)r=!1,e.appendChild(t.createTextNode(m));else{1>c&&(v=null);r=!0;if(b=m.replace(f,function(q,y,B,z,D,F){y&&(C(),"-"==y||"+"==y?(d=(l=e||d).parentNode,e=null,"+"==y&&(l=l.nextSibling)):("\x3c"==y?d=e=(e||d).parentNode:(","==y?d=v:e&&(d=e),e=null),l=0),e&&(d=e));if((q=!B&&z)||!e&&(B||D))"$"==q?(q=a[++c],d.appendChild(t.createTextNode(q))):
(q=q||h.defaultTag,(y=w&&a[c+1]&&a[c+1].name)&&(q="\x3c"+q+' name\x3d"'+y+'"\x3e'),e=k&&~(g=q.indexOf("|"))?t.createElementNS(k[q.slice(0,g)],q.slice(g+1)):t.createElement(q));if(B)if("$"==z&&(z=a[++c]),"#"==B)e.id=z;else if(y=(q=e.className)&&(" "+q+" ").replace(" "+z+" "," "),"."==B)e.className=q?(y+z).substring(1):z;else if("!"==m){var x;w?h("div",e,"\x3c").innerHTML="":(x=e.parentNode)&&x.removeChild(e)}else y=y.substring(1,y.length-1),y!=q&&(e.className=y);D&&("$"==F&&(F=a[++c]),"style"==D?e.style.cssText=
F:(B="!"==D.charAt(0)?(D=D.substring(1))&&"removeAttribute":"setAttribute",F=""===F?D:F,k&&~(g=D.indexOf("|"))?e[B+"NS"](k[D.slice(0,g)],D.slice(g+1),F):e[B](D,F)));return""}))throw new SyntaxError("Unexpected char "+b+" in "+m);C();d=b=e||d}}v&&A&&v.appendChild(A);return b}n=u||n;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,g,k=!1;t=t||document;var w="object"==typeof t.createElement;h.addNamespace=function(v,C){t.createElementNS?(k||
(k={}))[v]=C:t.namespaces.add(v,C)};h.defaultTag="div";h.forDocument=N;return h})})(function(R,N,n){n=n||N;"function"===typeof define?define([],function(){return n()}):"undefined"==typeof window?require("./node-html")(module,n):put=n()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(R,N,n,t,u,h,f,g,
k,w){function v(p,q){return u("#"+f.escapeCssIdentifier(p),q)[0]}function C(p,q){w(document.body,p,".dgrid-scrollbar-measure");var y=p["offset"+q]-p["client"+q];p.className="";p.parentNode&&document.body.removeChild(p);return y}function A(p){var q=p?"."+p.replace(c,"."):"";this._class&&(q="!"+this._class.replace(c,"!")+q);w(this.domNode,q);this._class=p}function r(){return this._class}function l(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function d(p){"undefined"!==typeof p.x&&
(this.bodyNode.scrollLeft=p.x);"undefined"!==typeof p.y&&(this.bodyNode.scrollTop=p.y)}k("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var e,a;h.add("dom-scrollbar-width",function(p,q,y){return C(y,"Width")});h.add("dom-scrollbar-height",function(p,q,y){return C(y,"Height")});h.add("dom-rtl-scrollbar-left",function(p,q,y){p=w("div");w(document.body,y,".dgrid-scrollbar-measure[dir\x3drtl]");w(y,p);q=!!h("ie")||!!h("trident")||p.offsetLeft>=h("dom-scrollbar-width");y.className=
"";y.parentNode&&document.body.removeChild(y);w(p,"!");y.removeAttribute("dir");return q});var b=0,c=/ +/g,m=7>h("ie")&&!h("quirks")?function(){if(this._started){var p=document.documentElement;var q=p.clientWidth;p=p.clientHeight;var y=this._prevWinDims||[];if(y[0]!==q||y[1]!==p)this.resize(),this._prevWinDims=[q,p]}}:function(){this._started&&this.resize()};return N("dgrid.List",h("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,
addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(p,q){var y=this;(this._Row=function(B,z,D){this.id=B;this.data=z;this.element=D}).prototype.remove=function(){y.removeRow(this.element)};q&&(this.srcNodeRef=q=q.nodeType?q:v(q));this.create(p,q)},listType:"list",create:function(p,q){var y=this.domNode=q||w("div");if(p){this.params=p;N.safeMixin(this,p);var B=p["class"]||p.className||y.className;this._sort=p.sort||[];delete this.sort}else this._sort=
[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=y.id=y.id||this.id||"dgrid_"+b++;null===this.useTouchScroll&&(this.useTouchScroll=!h("dom-scrollbar-width"));this.buildRendering();B&&A.call(this,B);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var p=this.domNode,q=this.addUiClasses,y=this;var B=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();p.className="";w(p,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(q?".ui-widget":""));var z=this.headerNode=w(p,"div.dgrid-header.dgrid-header-row"+(q?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(h("quirks")||8>h("ie"))&&w(p,"div.dgrid-spacer");var D=this.bodyNode=w(p,"div.dgrid-scroller");h("ff")&&(D.tabIndex=-1);this.headerScrollNode=w(p,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(q?".ui-widget-header":""));var F=
this.footerNode=w("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));w(p,F);B&&(p.className+=" dgrid-rtl"+(h("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));t(D,"scroll",function(x){y.showHeader&&(z.scrollLeft=x.scrollLeft||D.scrollLeft);x.stopPropagation();t.emit(p,"scroll",{scrollTarget:D})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=w(this.bodyNode,"div.dgrid-content"+(q?".ui-widget-content":""));this._listeners.push(this._resizeHandle=t(window,"resize",
f.throttleDelayed(m,this)))},postCreate:h("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var p=this.bodyNode,q=this.headerNode,y=this.footerNode,B=q.offsetHeight,z=this.showFooter?y.offsetHeight:0,D=h("quirks")||7>h("ie");this.headerScrollNode.style.height=p.style.marginTop=B+"px";p.style.marginBottom=
z+"px";D&&(p.style.height="",p.style.height=Math.max(this.domNode.offsetHeight-B-z,0)+"px",z&&(y.style.bottom="1px",setTimeout(function(){y.style.bottom=""},0)));e||(e=h("dom-scrollbar-width"),a=h("dom-scrollbar-height"),h("ie")&&(e++,a++),f.addCssRule(".dgrid-scrollbar-width","width: "+e+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+a+"px"),17==e||D||(f.addCssRule(".dgrid-header-row","right: "+e+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+e+"px")));D&&(q.style.width=
p.clientWidth+"px",setTimeout(function(){q.scrollLeft=p.scrollLeft},0))},addCssRule:function(p,q){var y=f.addCssRule(p,q);this.cleanAddedRules&&this._listeners.push(y);return y},on:function(p,q){var y=t(this.domNode,p,q);h("dom-addeventlistener")||this._listeners.push(y);return y},cleanup:function(){var p=this.observers,q;for(q in this._rowIdToObject)if(this._rowIdToObject[q]!=this.columns){var y=v(q,this.domNode);y&&this.removeRow(y,!0)}for(q=0;q<p.length;q++)(y=p[q])&&y.cancel();this.observers=
[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var p=this._listeners.length;p--;)this._listeners[p].remove();delete this._listeners}this._started=!1;this.cleanup();w(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(p,q,y,B,z){if(q){var D=this.insertRow(p,q,y,B,z);w(D,".dgrid-highlight"+(this.addUiClasses?
".ui-state-highlight":""));setTimeout(function(){w(D,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return D}},adjustRowIndices:function(p){var q=p.rowIndex;if(-1<q){do-1<p.rowIndex&&(this.maintainOddEven&&-1<(p.className+" ").indexOf("dgrid-row ")&&w(p,"."+(1==q%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==q%2?"dgrid-row-odd":"dgrid-row-even")),p.rowIndex=q++);while((p=p.nextSibling)&&p.rowIndex!=q)}},renderArray:function(p,q,y){function B(){var ha=arguments;if(-1<M)for(var ia=0;ia<
ha.length;ia++){var ka=ha[ia],qa=ba[ka?0:ba.length-1];if(qa=qa&&z(qa)){var Y=qa[ka?"previousSibling":"nextSibling"];Y&&(Y=x.row(Y));Y&&Y.element!=qa&&(ka=ka?"unshift":"push",p[ka](Y.data),ba[ka](Y.element),y.count++)}}}function z(ha){return!n.isDescendant(ha,x.domNode)&&v(ha.id)?x.row(ha.id.slice(x.id.length+5)).element:ha}function D(ha){L=x.insertRow(ha,K,null,E++,y);L.observerIndex=M;return L}function F(ha){U=ha.slice(0);(H=q?q.parentNode:x.contentNode)&&H.parentNode&&(H!==x.contentNode||ha.length)?
(H.insertBefore(K,q||null),(L=ha[ha.length-1])&&x.adjustRowIndices(L)):G[M]&&x.cleanEmptyObservers&&x._onEmptyRender(M);ba=ha;J&&(J.rows=ba)}y=y||{};var x=this,E=y.start||0,G=this.observers,H;q||(this._lastCollection=p);if(p.observe&&this.shouldObserveStore){x._numObservers++;var J=p.observe(function(ha,ia,ka){var qa;if(-1<ia&&ba[ia]){var Y=ba.splice(ia,1)[0];Y.parentNode==H&&((qa=Y.nextSibling)&&ia!=ka&&qa.rowIndex--,x.removeRow(Y));y.count--;x._processScroll&&x._processScroll()}if(-1<ka){if(ba.length)if(0===
ka)var Q=(Q=ba[ka])&&z(Q);else{if(Q=ba[ka-1])Q=z(Q),Q=(Q.connected||Q).nextSibling}else Q=x._getFirstRowSibling&&x._getFirstRowSibling(H);Y&&Q&&Y.id===Q.id&&(Q=(Q.connected||Q).nextSibling);Q&&!Q.parentNode&&(Q=v(Q.id));Y=q&&q.parentNode||Q&&Q.parentNode||x.contentNode;if(Y=x.newRow(ha,Y,Q,y.start+ka,y))if(Y.observerIndex=M,ba.splice(ka,0,Y),!qa||ka<ia)qa=(qa=Y.previousSibling)&&qa.rowIndex+1!=Y.rowIndex&&0!=Y.rowIndex?qa:Y;y.count++}0===ia?B(1,1):ia===p.length-(-1===ka?0:1)&&B(0,0);ia!=ka&&qa&&x.adjustRowIndices(qa);
x._onNotification(ba,ha,ia,ka)},!0);var M=G.push(J)-1}var K=document.createDocumentFragment(),L,U;if(p.map){var ba=p.map(D,console.error);if(ba.then)return p.then(function(ha){p=ha;return ba.then(function(ia){F(ia);B(1,1,0,0);return U})})}else{ba=[];for(var V=0,aa=p.length;V<aa;V++)ba[V]=D(p[V])}F(ba);B(1,1,0,0);return U},_onEmptyRender:function(p){"undefined"!==typeof p&&(this.observers[p].cancel(),this.observers[p]=0,this._numObservers--)},_onNotification:function(p,q,y,B){},renderHeader:function(){},
_autoId:0,insertRow:function(p,q,y,B,z){var D=z.parentId;D=this.id+"-row-"+(D?D+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(p):this._autoId++);var F=v(D,this.domNode),x=F&&F.previousSibling;F&&(F===y&&(y=(y.connected||y).nextSibling),this.removeRow(F));F=this.renderRow(p,z);F.className=(F.className||"")+" dgrid-row "+(1==B%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[F.id=D]=p;q.insertBefore(F,y||null);x&&this.adjustRowIndices(x);
F.rowIndex=B;return F},renderRow:function(p,q){return w("div",""+p)},removeRow:function(p,q){p=p.element||p;delete this._rowIdToObject[p.id];q||w(p,"!")},row:function(p){var q;if(p instanceof this._Row)return p;p.target&&p.target.nodeType&&(p=p.target);if(p.nodeType){do{var y=p.id;if(q=this._rowIdToObject[y])return new this._Row(y.substring(this.id.length+5),q,p);p=p.parentNode}while(p&&p!=this.domNode)}else return"object"==typeof p?q=this.store.getIdentity(p):(q=p,p=this._rowIdToObject[this.id+"-row-"+
q]),new this._Row(q,p,v(this.id+"-row-"+q,this.domNode))},cell:function(p){return{row:this.row(p)}},_move:function(p,q,y,B){var z;var D=z=p.element;q=q||1;do if(p=z[0>q?"previousSibling":"nextSibling"]){do if((z=p)&&-1<(z.className+" ").indexOf(y+" ")){D=z;q+=0>q?1:-1;break}while(p=(!B||!z.hidden)&&z[0>q?"lastChild":"firstChild"])}else if(z=z.parentNode,!z||z===this.bodyNode||z===this.headerNode)break;while(q);return D},up:function(p,q,y){p.element||(p=this.row(p));return this.row(this._move(p,-(q||
1),"dgrid-row",y))},down:function(p,q,y){p.element||(p=this.row(p));return this.row(this._move(p,q||1,"dgrid-row",y))},scrollTo:h("touch")?function(p){return this.useTouchScroll?this.inherited(arguments):d.call(this,p)}:d,getScrollPosition:h("touch")?function(){return this.useTouchScroll?this.inherited(arguments):l.call(this)}:l,get:function(p){var q="_get"+p.charAt(0).toUpperCase()+p.slice(1);return"function"===typeof this[q]?this[q].apply(this,[].slice.call(arguments,1)):this[p]},set:function(p,
q){if("object"===typeof p)for(var y in p)this.set(y,p[y]);else y="_set"+p.charAt(0).toUpperCase()+p.slice(1),"function"===typeof this[y]?this[y].apply(this,[].slice.call(arguments,1)):this[p]=q;return this},_getClass:r,_setClass:A,_getClassName:r,_setClassName:A,_setSort:function(p,q){this._sort="string"!=typeof p?p:[{attribute:p,descending:q}];this.refresh();this._lastCollection&&(p.length&&("string"!=typeof p&&(q=p[0].descending,p=p[0].attribute),this._lastCollection.sort(function(y,B){var z=y[p],
D=B[p];void 0===z&&(z="");void 0===D&&(D="");return z==D?0:z>D==!q?1:-1})),this.renderArray(this._lastCollection))},sort:function(p,q){R.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",p,q)},_getSort:function(){return this._sort},_setShowHeader:function(p){var q=this.headerNode;this.showHeader=p;w(q,(p?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();p&&(q.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(p){R.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",p)},_setShowFooter:function(p){this.showFooter=p;w(this.footerNode,(p?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],function(R){R.add("dom-contains",function(w,v,C){return!!C.contains});var N=[],n,t,u,h=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f=setTimeout,g=clearTimeout;R.add("requestidlecallback",function(w){return"function"===typeof w.requestIdleCallback});var k={defaultDelay:15,
throttle:function(w,v,C){var A=!1;C=C||k.defaultDelay;return function(){A||(A=!0,w.apply(v,arguments),f(function(){A=!1},C))}},throttleDelayed:function(w,v,C){var A=!1;C=C||k.defaultDelay;return function(){if(!A){A=!0;var r=arguments;f(function(){A=!1;w.apply(v,r)},C)}}},debounce:function(w,v,C){var A;C=C||k.defaultDelay;return function(){A&&(g(A),A=null);var r=arguments;A=f(function(){A=null;w.apply(v,r)},C)}},each:function(w,v,C){var A;if(w)if("number"===typeof w.length){var r=0;for(A=w.length;r<
A;r++)v.call(C,w[r],r,w)}else for(r in w)v.call(C,w[r],r,w)},contains:function(w,v){return R("dom-contains")?w.contains(v):w.compareDocumentPosition(v)&8},addCssRule:function(w,v){n||(n=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(n),n=n.sheet||n.styleSheet,t=n.deleteRule?"deleteRule":"removeRule",u=n.cssRules?"cssRules":"rules");var C=N.length;N[C]=(n.cssRules||n.rules).length;n.addRule?n.addRule(w,v):n.insertRule(w+"{"+v+"}",N[C]);return{get:function(A){return n[u][N[C]].style[A]},
set:function(A,r){"undefined"!==typeof N[C]&&(n[u][N[C]].style[A]=r)},remove:function(){var A=N[C],r;if(void 0!==A){n[t](A);N[C]=void 0;var l=C+1;for(r=N.length;l<r;l++)N[l]>A&&N[l]--}}}},escapeCssIdentifier:function(w,v){return"string"===typeof w?w.replace(h,v||"\\$1"):w}};return k})},"xstyle/has-class":function(){define(["dojo/has"],function(R){var N={};return function(){for(var n,t=arguments,u=0;u<t.length;u++)if(n=t[u],!N[n]){N[n]=!0;var h=n.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=R(h[2]),
g=-h[4];(0<g?g<=f&&(-h[5]||g)>=f:!!f)==!h[1]&&(document.documentElement.className+=" has-"+n)}}})},"xstyle/css":function(){define(["require"],function(R){function N(n,t,u){var h=document.documentElement;n=h.insertBefore(document.createElement(n),h.firstChild);n.id=t;t=(n.currentStyle||getComputedStyle(n,null)||{})[u];h.removeChild(n);return t}return{load:function(n,t,u,h){function f(v){var C=N("x-parse",null,"content"),A=v&&(v.sheet||v.styleSheet);C&&"none"!=C&&"normal"!=C?t([eval(C)],function(r){v?
r.process(v,u):(r.processAll(),u(A))}):u(A)}var g=t.toUrl(n);if(g.match(/!$/)){var k={wait:!1};g=g.slice(0,-1)}var w=t.cache&&t.cache["url:"+g];if(null!=w)w.xCss&&(w=w.cssText),"string"==typeof w?R(["./core/load-css"],function(v){f(v.insertCss(w))}):f();else{if("none"==N("div",n.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return f();R(["./core/load-css"],function(v){v(g,f,k)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(R,N,n,t,u,h,f,g,k){return n("dgrid.OnDemandList",[R,N],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var w=this;f(this.bodyNode,"scroll",g[this.pagingMethod](function(v){w._processScroll(v)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(w,v){function C(m){k(c,"!");if(m)throw A._refreshDeferred&&(A._refreshDeferred.reject(m),delete A._refreshDeferred),m;}var A=this,r=v&&v.container||this.contentNode,l={query:w,count:0,options:v},d,e=this.preload,a,b={node:k(r,"div.dgrid-preload",{rowIndex:0}),count:0,query:w,next:l,options:v};b.node.style.height="0";l.node=d=k(r,"div.dgrid-preload");l.previous=b;d.rowIndex=this.minRowsPerPage;e?((l.next=e.next)&&d.offsetTop>=e.node.offsetTop?l.previous=e:(l.next=e,l.previous=
e.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var c=k(d,"-div.dgrid-loading");k(c,"div.dgrid-below").innerHTML=this.loadingMessage;v=t.mixin(this.get("queryOptions"),v,{start:0,count:this.minRowsPerPage},"level"in w?{queryLevel:w.level}:null);this._trackError(function(){return a=w(v)});if("undefined"===typeof a)C();else return u.when(A.renderArray(a,d,v),function(m){return u.when("undefined"===typeof a.total?a.length:a.total,function(p){var q=m.length,y=d.parentNode,B=A.noDataNode;
k(c,"!");"queryLevel"in v||(A._total=p);0===p&&y&&(B&&(k(B,"!"),delete A.noDataNode),A.noDataNode=B=k("div.dgrid-no-data"),y.insertBefore(B,A._getFirstRowSibling(y)),B.innerHTML=A.noDataMessage);for(var z=B=0;z<q;z++)B+=A._calcRowHeight(m[z]);q&&B&&(A.rowHeight=B/q);B=A.rowHeight*A.bufferRows;B>A.farOffRemoval&&(A.farOffRemoval=B);p-=q;l.count=p;d.rowIndex=q;p?d.style.height=Math.min(p*A.rowHeight,A.maxEmptySpace)+"px":(d.style.display="none",v.count++);A._previousScrollPosition&&y&&y.offsetHeight&&
(A.scrollTo(A._previousScrollPosition),delete A._previousScrollPosition);A._processScroll();A._refreshDeferred&&(A._refreshDeferred.resolve(a),delete A._refreshDeferred);return m},C)},C),a},refresh:function(w){var v=this,C=w&&w.keepScrollPosition;"undefined"===typeof C&&(C=this.keepScrollPosition);C&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){C=this._refreshDeferred=new u;var A=v.renderQuery(function(r){return v.store.query(v.query,r)});"undefined"===
typeof A&&C.reject();return C.then(function(r){v._refreshTimeout=setTimeout(function(){f.emit(v.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:v,results:r});v._refreshTimeout=null},0);delete v._refreshDeferred;return r},function(r){delete v._refreshDeferred;throw r;})}},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(w){return w.lastChild},_calcRowHeight:function(w){var v=w.nextSibling;return v&&!/\bdgrid-preload\b/.test(v.className)?
v.offsetTop-w.offsetTop:w.offsetHeight},lastScrollTop:0,_processScroll:function(w){function v(K,L,U,ba){var V=r.farOffRemoval,aa=K.node;if(L>2*V){for(var ha,ia=aa[U],ka=0,qa=0,Y=[];ha=ia;){var Q=r._calcRowHeight(ha);if(ka+Q+V>L||0>ia.className.indexOf("dgrid-row")&&0>ia.className.indexOf("dgrid-loading"))break;ia=ha[U];ka+=Q;qa+=ha.count||1;r.removeRow(ha,!0);Y.push(ha)}K.count+=qa;ba?(aa.rowIndex-=qa,C(K)):aa.style.height=aa.offsetHeight+ka+"px";var fa=k("div",Y);setTimeout(function(){k(fa,"!")},
1)}}function C(K,L){K.node.style.height=Math.min(K.count*r.rowHeight,L?Infinity:r.maxEmptySpace)+"px"}function A(K,L){do K=L?K.next:K.previous;while(K&&!K.node.offsetWidth);return K}var r=this,l=r.bodyNode;w=w&&w.scrollTop||this.getScrollPosition().y;l=l.offsetHeight+w;var d=r.preload,e=r.lastScrollTop,a=r.bufferRows*r.rowHeight,b=a-r.rowHeight,c,m,p,q=!0;for(r.lastScrollTop=w;d&&!d.node.offsetWidth;)d=d.previous;for(;d&&d!=y;){var y=r.preload;r.preload=d;var B=d.node;var z=B.offsetTop;if(l+1+b<z)d=
A(d,q=!1);else if(w-1-b>z+B.offsetHeight)d=A(d,q=!0);else{var D=((B.rowIndex?w-a:l)-z)/r.rowHeight;z=(l-w+2*a)/r.rowHeight;z+=Math.min(Math.abs(Math.max(Math.min((w-e)*r.rowHeight,r.maxRowsPerPage/2),r.maxRowsPerPage/-2)),10);0==B.rowIndex&&(D-=z);D=Math.max(D,0);10>D&&0<D&&z+D<r.maxRowsPerPage&&(z+=Math.max(0,D),D=0);z=Math.min(Math.max(z,r.minRowsPerPage),r.maxRowsPerPage,d.count);if(0==z)d=A(d,q);else{z=Math.ceil(z);D=Math.min(Math.floor(D),d.count-z);var F=t.mixin(r.get("queryOptions"),d.options);
d.count-=z;var x=B,E=r.queryRowsOverlap,G=(0<B.rowIndex||B.offsetTop>w)&&d;if(G){var H=d.previous;H&&(v(H,w-(H.node.offsetTop+H.node.offsetHeight),"nextSibling"),0<D&&H.node==B.previousSibling?(D=Math.min(d.count,D),d.previous.count+=D,C(d.previous,!0),B.rowIndex+=D,E=0):z+=D,d.count-=D);F.start=B.rowIndex-E;F.count=Math.min(z+E,r.maxRowsPerPage);B.rowIndex=F.start+F.count}else{if(d.next)if(v(d.next,d.next.node.offsetTop-l,"previousSibling",!0),x=B.nextSibling,x==d.next.node)d.next.count+=d.count-
D,d.next.node.rowIndex=D+z,C(d.next),d.count=D,E=0;else var J=!0;F.start=d.count;F.count=Math.min(z+E,r.maxRowsPerPage)}J&&x&&x.offsetWidth&&(J=x.offsetTop);C(d);"level"in d.query&&(F.queryLevel=d.query.level);if("queryLevel"in F||!(F.start>r._total||0>F.count)){B=k(x,"-div.dgrid-loading[style\x3dheight:"+z*r.rowHeight+"px]");k(B,"div.dgrid-"+(G?"below":"above")).innerHTML=r.loadingMessage;B.count=z;var M=d.query(F);if(void 0===r._trackError(function(){return M})){k(B,"!");return}(function(K,L,U,
ba){p=u.when(r.renderArray(ba,K,F),function(V){m=ba;x=K.nextSibling;k(K,"!");if(U&&x&&x.offsetWidth){var aa=r.getScrollPosition();r.scrollTo({x:aa.x,y:aa.y+x.offsetTop-U,preserveMomentum:!0})}u.when(ba.total||ba.length,function(ha){"queryLevel"in F||(r._total=ha);L&&(L.count=ha-L.node.rowIndex,0===L.count&&F.count++,C(L))});r._processScroll();return V},function(V){k(K,"!");throw V;})}).call(this,B,G,J,M);d=d.previous}}}}p&&(c=this._refreshDeferred)&&(delete this._refreshDeferred,u.when(p,function(){c.resolve(m)}))},
removeRow:function(w,v){if(w){var C=w.previousSibling,A=w.nextSibling,r;if(r=C)r=C.observerIndex,r=null!=r?r:C.previousObserverIndex;C=r;if(r=A)r=A.observerIndex,r=null!=r?r:A.nextObserverIndex;A=w.observerIndex;w.observerIndex=void 0;v&&(w.nextObserverIndex=r,w.previousObserverIndex=C);if(this.cleanEmptyObservers&&-1<A&&A!==C&&A!==r&&(C=this.observers,r=C[A])){if(!v)for(var l=r.rows,d=0;d<l.length;d++)if(l[d]!=w&&h.isDescendant(l[d],this.domNode))return this.inherited(arguments);r.cancel();this._numObservers--;
C[A]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(R,N,n,t,u,h,f){function g(w){return w}function k(w){if("object"!==typeof w)w=Error(w);else if("cancel"===w.dojoType)return;w.grid=this;u.emit(this.domNode,"dgrid-error",{grid:this,error:w,cancelable:!0,bubbles:!0})}return N("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,
noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};h.before(this,"configStructure",n.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(w){w.set&&(this._columnsWithSet[w.field]=w);this.inherited(arguments)},
_updateNotifyHandle:function(w){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);w&&"function"===typeof w.notify&&this.shouldObserveStore&&(this._notifyHandle=h.after(w,"notify",n.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(w,v,C){this._updateNotifyHandle(w);this.store=w;this.dirty={};this.set("query",v,C)},_setQuery:function(w,v){var C=v&&v.sort;this.query=void 0!==w?w:this.query;this.queryOptions=v||this.queryOptions;this._started&&(C?this.set("sort",
C):this.refresh())},setStore:function(w,v,C){R.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",w,v,C)},setQuery:function(w,v){R.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",w,v)},_getQueryOptions:function(){var w=n.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)w.sort=this._sort;return w},_getQuery:function(){var w=this.query;return"object"==typeof w&&null!=w?n.delegate(w,{}):
w},_setSort:function(w,v){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(w,v){this.inherited(arguments);w&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var w=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return w},renderArray:function(){var w=this,v=this.inherited(arguments);this.store||t.when(v,function(C){C.length&&w.noDataNode&&
f(w.noDataNode,"!")});return v},_onEmptyRender:function(){},insertRow:function(w,v,C,A,r){var l=this.store,d=this.dirty;l=l&&l.getIdentity(w);var e;l in d&&!(l in this._updating)&&(e=d[l]);e&&(w=n.delegate(w,e));return this.inherited(arguments)},updateDirty:function(w,v,C){var A=this.dirty,r=A[w];r||(r=A[w]={});r[v]=C},setDirty:function(w,v,C){R.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(w,v,C)},save:function(){function w(b,c){return function(m){var p=v._columnsWithSet,
q=v._updating,y;if("function"===typeof m.set)m.set(c);else for(y in c)m[y]=c[y];for(y in p){var B=p[y].set(m);void 0!==B&&(m[y]=B)}q[b]=!0;return t.when(C.put(m),function(){delete A[b];delete q[b]})}}var v=this,C=this.store,A=this.dirty,r=new t,l=r.promise,d=function(b){var c;return v.getBeforePut||!(c=v.row(b).data)?function(){return C.get(b)}:function(){return c}},e;for(e in A){var a=w(e,A[e]);l=l.then(d(e)).then(a)}r.resolve();return l},revert:function(){this.dirty={};this.refresh()},_trackError:function(w){"string"==
typeof w&&(w=n.hitch(this,w));try{var v=w()}catch(C){k.call(this,C)}return t.when(v,g,n.hitch(this,k))},newRow:function(){var w=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return w},removeRow:function(w,v){var C={element:w};!v&&this.noDataMessage&&this.up(C).element===w&&this.down(C).element===w&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(R,N,n,t,u,h,f,g,k,w){function v(a,b){for(var c=a.unselectable=b?"on":"",m=a.getElementsByTagName("*"),p=m.length;--p;)"INPUT"!==m[p].tagName&&"TEXTAREA"!==m[p].tagName&&(m[p].unselectable=c)}function C(a,b){var c=a.bodyNode,m=b?"text":21>u("ff")?"-moz-none":"none";r&&"msUserSelect"!==r?c.style[r]=m:u("dom-selectstart")?b||a._selectstartHandle?b&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):a._selectstartHandle=t(c,"selectstart",function(p){var q=p.target&&
p.target.tagName;"INPUT"!==q&&"TEXTAREA"!==q&&p.preventDefault()}):(v(c,!b),b||a._unselectableHandle)?b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle):a._unselectableHandle=f.after(a,"renderRow",function(p){v(p,!0);return p})}u.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});u.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});u.add("css-user-select",function(a,b,c){a=c.style;
b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var m="userSelect";do if("undefined"!==typeof a[m])return m;while(c--&&(m=b[c]+"UserSelect"));return!1});u.add("dom-selectstart","undefined"!==typeof document.onselectstart);var A=u("mac")?"metaKey":"ctrlKey",r=u("css-user-select"),l=(g=u("pointer"))&&"MS"===g.slice(0,2),d=g?g+(l?"Down":"down"):"mousedown",e=g?g+(l?"Up":"up"):"mouseup";"WebkitUserSelect"===r&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(r=!1);return N("dgrid.Selection",
null,{selectionDelegate:".dgrid-row",selectionEvents:d+","+e+",dgrid-cellfocusin",selectionTouchEvents:u("touch")?k.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){R.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?C(this,a):C(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(!h.isRight(a)&&this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==e||b==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===d&&this.isSelected(b))this._waitForMouseUp=
b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var c=a.keyCode?a.ctrlKey:a[A];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,m=a.keyCode?a.ctrlKey:a[A];if(!a.shiftKey){var p=m?null:!0;c=null}this.select(b,c,p);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){if(a[A]||
!this.isSelected(b)||1!==this.getSelectedCount())(2===a.button?this.isSelected(b):a.keyCode?a.ctrlKey:a[A])||this.clearSelection(null,!0),this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=this,b=this.contentNode,c=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};u("touch")&&!u("pointer")&&this.selectionTouchEvents?(t(b,k.selector(c,this.selectionTouchEvents),function(m){a._handleSelect(m,
this);a._ignoreMouseSelect=this}),t(b,t.selector(c,this.selectionEvents),function(m){a._ignoreMouseSelect!==this?a._handleSelect(m,this):m.type===e&&(a._ignoreMouseSelect=null)})):t(b,t.selector(c,this.selectionEvents),function(m){a._handleSelect(m,this)});this.addKeyHandler&&this.addKeyHandler(32,function(m){a._handleSelect(m,m.target)});if(this.allowSelectAll)this.on("keydown",function(m){m[A]&&65==m.keyCode&&!/\bdgrid-input\b/.test(m.target.className)&&(m.preventDefault(),a[a.allSelected?"clearSelection":
"selectAll"]())});this._setStore&&f.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(q,y,B){q=y||q&&q[b.idProperty||"id"];if(null!=q&&(y=(q=b.row(q))&&b.selection[q.id]))b[B](q,null,y)}var b=this,c=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(c&&c.notify){var m=f.before(c,"notify",function(q,y){q||a(q,y,"deselect")});var p=f.after(c,"notify",function(q,y){a(q,y,"select")},!0);
this._removeDeselectSignals=function(){m.remove();p.remove()}}else m=f.before(this,"removeRow",function(q,y){var B;y||(B=this.row(q))&&B.id in this.selection&&this.deselect(B)}),this._removeDeselectSignals=function(){m.remove()}},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent;var m={bubbles:!0,grid:this};c&&(m.parentType=c.type);m[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];t.emit(this.contentNode,
"dgrid-"+a,m)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a)){var m=this.selection;var p=!!m[a.id];null===c&&(c=!p);var q=a.element;c||this.allSelected?m[a.id]=c:delete this.selection[a.id];q&&(c?w(q,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):w(q,"!dgrid-selected!ui-state-active"));c!==p&&q&&this._selectionEventQueues[(c?
"":"de")+"select"].push(a);if(b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(m=this._determineSelectionDirection(q,b),m||(b=document.getElementById(b.id),m=this._determineSelectionDirection(q,b));a.element!=b&&(a=this[m](a));)this._select(a,null,c)}else this._lastSelected=q}},_determineSelectionDirection:u("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":
"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var a=
0,b;for(b in this.selection)b&&(a+=1);return a},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);n.when(b,function(c){var m=a.selection,p,q;for(p=0;p<c.length;p++){var y=
a.row(c[p]);(q=y.id in m?m[y.id]:a.allSelected)&&a._select(y,null,q)}a._fireSelectionEvents()});return b}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/dom-class dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C){function A(F,x){F.value=x;if("radio"==F.type||"checkbox"==F.type)F.checked=F.defaultChecked=!!x}function r(F,x){if("number"==typeof x)F=
isNaN(F)?F:parseFloat(F);else if("boolean"==typeof x)F="true"==F?!0:"false"==F?!1:F;else if(x instanceof Date){var E=new Date(F);F=isNaN(E.getTime())?F:E}return F}function l(F,x){return"function"==typeof x.get?r(x.get("value")):r(x["checkbox"==x.type||"radio"==x.type?"checked":"value"])}function d(F,x,E,G,H){if((E&&E.valueOf())!=(G&&G.valueOf())){var J=x.element;var M=x.row;var K=x.column;if(K.field&&M)if(x={grid:F,cell:x,rowId:M.id,oldValue:E,value:G,bubbles:!0,cancelable:!0},H&&H.type&&(x.parentType=
H.type),h.emit(J,"dgrid-datachange",x))F.updateDirty?(F.updateDirty(M.id,K.field,G),K.autoSave&&setTimeout(function(){F._trackError("save")},0)):M.data[K.field]=G;else{var L;(L=J.widget)?(L._dgridIgnoreChange=!0,L.set("value",E),setTimeout(function(){L._dgridIgnoreChange=!1},0)):(L=J.input)&&A(L,E);return E}}return G}function e(F,x,E){var G=F.cell(x.domNode||x),H=G.column,J;var M=F._activeCell;if(!x.isValid||x.isValid())if(E=d(F,G,M?F._activeValue:x._dgridLastValue,l(H,x),E),M?F._activeValue=E:x._dgridLastValue=
E,"radio"===x.type&&x.name&&!H.editOn&&H.field)for(J in M=F.row(x),k("input[type\x3dradio][name\x3d"+x.name+"]",F.contentNode).forEach(function(K){var L=F.row(K);K!==x&&K._dgridLastValue&&(K._dgridLastValue=!1,F.updateDirty?F.updateDirty(L.id,H.field,!1):L.data[H.field]=!1)}),F.dirty)M.id!==J&&F.dirty[J][H.field]&&F.updateDirty(J,H.field,!1)}function a(F){var x=F.parentNode||F.domNode&&F.domNode.parentNode;x&&u.contains(x,D)||(x=F.focusNode||F.domNode||F);return x}function b(F){if(F){var x=F.parentNode||
F.domNode&&F.domNode.parentNode;x&&u.contains(x,D)||(x=F.domNode||F);return x}}function c(F,x){isNaN(x)&&(x=isNaN(F.tabIndex)?-1:F.tabIndex);return C("div",{className:D,tabIndex:x},F)}function m(F){var x=F.editor,E=F.editOn,G=F.grid,H="string"!=typeof x;var J=F.editorArgs||{};"function"==typeof J&&(J=J.call(G,F));if(H){var M=new x(J);H=M.focusNode||M.domNode;H.className+=" dgrid-input";g("mac")&&E&&/checkbox|radio/i.test(H.type)?(F=c(M.domNode,F.tabIndex),h(F,"blur",function(){M._dgridIgnoreChange||
e(G,M,{type:"widget"})})):E||M.connect(M,"onChange",function(){M._dgridIgnoreChange||e(G,M,{type:"widget"})})}else{var K=function(L){var U=L.target;"_dgridLastValue"in U&&-1<U.className.indexOf("dgrid-input")&&e(G,U,L)};F.grid._hasInputListener||(G._hasInputListener=!0,G.on("change",function(L){K(L)}));M=H=C(("textarea"==x?"textarea":"input[type\x3d"+x+"]")+".dgrid-input",N.mixin({name:F.field,tabIndex:isNaN(F.tabIndex)?-1:F.tabIndex},J));g("mac")&&E&&/checkbox|radio/i.test(x)&&(F=c(M),M.tabIndex=
0,M.removeAttribute("tabindex"));if(9>g("ie")||g("ie")&&g("quirks"))"radio"==x||"checkbox"==x?h(M,"click",function(L){K(L)}):h(M,"change",function(L){K(L)})}return M}function p(F,x){function E(){var U=H._activeCell;K.blur();"function"===typeof H.focus&&setTimeout(function(){H.focus(U)},J&&9>g("ie")?15:0)}var G=m(F),H=F.grid,J=G.domNode,M=b(G),K=a(G),L=J?function(){G.set("value",G._dgridLastValue)}:function(){A(G,G._dgridLastValue);e(F.grid,G)};h(K,"keydown",function(U){U=U.keyCode||U.which;27==U?
(L(),H._activeValue=G._dgridLastValue,E()):13==U&&!1!==F.dismissOnEnter&&E()});(F._editorBlurHandle=h.pausable(a(G),"blur",function(U){if(!G.dropDown||!G.dropDown.domNode.contains(U.relatedTarget||document.activeElement)){if(U&&U.target){var ba=U.target;if((ba=u.contains(ba,D)&&ba)&&U.relatedTarget===(G.focusNode||G)){ba.focus();return}}e(H,G,{type:"widget"});U=M.parentNode;ba=U.children.length-1;var V={alreadyHooked:!0},aa=H.cell(M);h.emit(aa.element,"dgrid-editor-hide",{grid:H,cell:aa,column:F,
editor:G,bubbles:!0,cancelable:!1});F._editorBlurHandle.pause();U.removeChild(M);if(aa.row){for(C(aa.element,"!dgrid-cell-editing");ba--;)C(U.firstChild,"!");v.appendIfNode(U,F.renderCell(F.grid.row(U).data,H._activeValue,U,H._activeOptions?N.delegate(V,H._activeOptions):V))}H._focusedEditorCell=H._activeCell=H._activeValue=H._activeOptions=null}})).pause();return G}function q(F,x,E,G){var H=F.domNode;H||A(F,G);E.innerHTML="";C(E,".dgrid-cell-editing");C(E,b(F));H&&!x.editOn?x.grid._editorsPendingStartup.push([F,
x,E,G]):y(F,x,E,G)}function y(F,x,E,G){var H=x.grid;F.domNode&&(F._started||F.startup(),F._dgridIgnoreChange=!0,F.set("value",G),setTimeout(function(){F._dgridIgnoreChange=!1},0));F._dgridLastValue=G;H._activeCell&&(H._activeValue=G,h.emit(E,"dgrid-editor-show",{grid:H,cell:H.cell(E),column:x,editor:F,bubbles:!0,cancelable:!1}))}function B(F){for(var x=F._editorsPendingStartup,E=x.length;E--;)y.apply(null,x[E]);F._editorsPendingStartup=[]}function z(F){function x(ba){H.grid._activeCell=M;q(H.editorInstance,
H,M,L);H._editTimer=setTimeout(function(){var V=a(G);V.focus&&V.focus();H._editorBlurHandle&&H._editorBlurHandle.resume();H._editTimer=null;ba.resolve(G)},0)}var E,G;F.column||(F=this.cell(F));if(!F||!F.element)return null;var H=F.column;var J=H.field;var M=F.element.contents||F.element;if(G=H.editorInstance){if(H.grid._activeCell!=M){var K=F.row;var L=(E=this.dirty&&this.dirty[K.id])&&J in E?E[J]:H.get?H.get(K.data):K.data[J];if(!H.canEdit||H.canEdit(F.row.data,L)){var U=new t;F=a(G);F.offsetWidth?
(F.blur(),setTimeout(function(){x(U)},0)):x(U);return U.promise}}}else if(H.editor&&(G=M.widget||M.input))return U=new t,G.focus&&G.focus(),U.resolve(G),U.promise;return null}var D="dgrid-editor-focus-wrapper";N.getObject("dgrid.editor",!0);return dgrid.editor=function(F,x,E){function G(K){var L=K.grid,U;if(!L.edit){L.edit=z;L._editorsPendingStartup=[];J.push(h(L.domNode,".dgrid-input:focusin",function(){L._focusedEditorCell=L.cell(this)}));var ba=L._editorFocusoutHandle=h.pausable(L.domNode,".dgrid-input:focusout",
function(V){L._focusedEditorCell&&L._focusedEditorCell.element.contains(V.target)||(L._focusedEditorCell=null)});J.push(ba);J.push(f.before(L,"removeRow",function(V){var aa=L._focusedEditorCell;V=L.row(V);aa&&V&&aa.row.id===V.id&&(U=aa,ba.pause(),setTimeout(function(){ba.resume();U=null},0))}));J.push(f.after(L,"insertRow",function(V){var aa=L.row(V);U&&U.row.id===aa.id&&L.edit(L.cell(aa,U.column.id));return V}));J.push(f.after(L,"renderArray",function(V){w(V,function(aa){aa.length?B(L):L._editorsPendingStartup=
[]});return V}));J.push(f.after(L,"_onNotification",function(){B(L)}))}}var H=F.renderCell||v.defaultRenderCell,J=[];F||(F={});F.editor=x=x||F.editor||"text";F.editOn=E=E||F.editOn;var M="string"!=typeof x;F.widgetArgs&&(R.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),F.editorArgs=F.widgetArgs);f.after(F,"init",E?function(){G(F);F.editorInstance=p(F,H)}:function(){var K=F.grid;G(F);M&&J.push(f.before(K,"removeRow",function(L){if(L=(L=K.cell(L,F.id).element)&&(L.contents||
L).widget)K._editorFocusoutHandle.pause(),L.destroyRecursive(),K._editorFocusoutHandle.resume()}))});f.after(F,"destroy",function(){n.forEach(J,function(K){K.remove()});F._editorBlurHandle&&F._editorBlurHandle.remove();F._editTimer&&clearTimeout(F._editTimer);E&&M&&F.editorInstance.destroyRecursive();F.grid.edit=null;F.grid._editorsPendingStartup=null});F.renderCell=E?function(K,L,U,ba){var V=F.grid;ba&&ba.alreadyHooked||h("TD"==U.tagName?U:U.parentNode,E,function(){V._activeOptions=ba;V.edit(this)});
return H.call(F,K,L,U,ba)}:function(K,L,U,ba){if(!F.canEdit||F.canEdit(K,L))K=m(F),q(K,F,U,L),U[M?"widget":"input"]=K;else return H.call(F,K,L,U,ba)};return F}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(R,N,n,t){R=function(u){function h(v,C){var A=u[v];A&&(u[v]=function(r){var l;"put"===v&&(l=u.getIdentity(r));if(w)return A.apply(this,arguments);w=!0;try{var d=A.apply(this,arguments);n(d,function(e){C("object"==typeof e&&e||
r,l)});return d}finally{w=!1}})}var f=[],g=0;u=N.delegate(u);u.notify=function(v,C){g++;for(var A=f.slice(),r=0,l=A.length;r<l;r++)A[r](v,C)};var k=u.query;u.query=function(v,C){C=C||{};var A=k.apply(this,arguments);if(A&&A.forEach){var r=N.mixin({},C);delete r.start;delete r.count;var l=u.queryEngine&&u.queryEngine(v,r),d=g,e=[],a;A.observe=function(b,c){1==e.push(b)&&f.push(a=function(p,q){n(A,function(y){var B=y.length!=C.count,z;if(++d!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var D=-1,F=-1;if(void 0!==q){var x=[].concat(y);l&&!p&&(x=l(y));var E=0;for(z=y.length;E<z;E++){var G=y[E];if(u.getIdentity(G)==q&&!(0>x.indexOf(G))){var H=G;D=E;!l&&p||y.splice(E,1);break}}}l?p&&(l.matches?l.matches(p):l([p]).length)&&(E=-1<D?D:y.length,y.splice(E,0,p),F=t.indexOf(l(y),p),y.splice(E,1),C.start&&0==F||!B&&F==y.length?F=-1:y.splice(F,0,p)):p&&(void 0!==q?F=D:C.start||(F=u.defaultIndex||0,y.splice(F,0,p)));if((-1<D||-1<F)&&(c||!l||D!=F))for(B=e.slice(),E=0;y=B[E];E++)y(p||H,D,F)})});
var m={};m.remove=m.cancel=function(){var p=t.indexOf(e,b);-1<p&&(e.splice(p,1),e.length||f.splice(t.indexOf(f,a),1))};return m}}return A};var w;h("put",function(v,C){u.notify(v,C)});h("add",function(v){u.notify(v)});h("remove",function(v){u.notify(void 0,v)});return u};N.setObject("dojo.store.Observable",R);return R})},"arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/array dojo/dom-form dojo/io-query dojo/json dojo/Deferred dojo/promise/all esri/lang arcgisonline/esriGeowConfig arcgisonline/pages/utils/categories arcgisonline/sharing/util esri/geometry/webMercatorUtils esri/geometry/Extent arcgisonline/sharing/dijit/Role arcgisonline/pages/statusUtil dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){return{addItem:function(b,c,m,p){var q=m&&m.getPortalUser(),y=c&&"/"!==c?c:"",B=b instanceof FormData,z={url:(m&&m.portalUrl)+"content/users/"+(p||q.username)+(y?"/"+y:"")+"/addItem"};c=b&&("FORM"===b.tagName||"FORM"===b.nodeName||B)?"form":"content";var D,F,x,E=new g;z[c]=b;v.self.hasCategorySchema&&z[c].categories&&(B?z[c].categories.value=f.stringify(z[c].categories):z[c].categories=f.stringify(z[c].categories));A.request(z,{usePost:!0}).then(N.hitch(this,
function(G){if(B)if(b.keys)for(x=b.keys(),D={};!(F=x.next()).done;)"file"!==F.value&&(D[F.value]=b.get(F.value));else D=G;else D=z.form?u.toObject(b):b;D.title=N.isArray(D.title)?D.title[0]:D.title;D=N.mixin(G,D,{folderId:y});E.resolve(D)}),function(G){E.reject(G)});return E},updateItem:function(b,c){var m=c&&c.getPortalUser();m=(c&&c.portalUrl)+"content/users/"+(b.owner||m.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/update";var p=N.mixin({},b),q=new g;delete p.owner;
v.self.hasCategorySchema&&p.categories&&(p.categories=f.stringify(p.categories));A.request({url:m,content:p},{usePost:!0}).then(N.hitch(this,function(y){q.resolve(b)}),function(y){q.reject(y)});return q},setCategories:function(b,c){!b.categories||c&&0!==c.length||(c=b.categories);return C.setItemCategories([b.id],c)},addItemResource:function(b,c,m){var p=c&&c.getPortalUser();return A.request({url:(c&&c.portalUrl)+"content/users/"+(b.owner||p.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:
"")+"/items/"+b.id+"/addResources",content:m},{usePost:!0}).then(N.hitch(this,function(q){return q}))},getCloudProviderItemResource:function(b){return A.request({url:v.restBaseUrl+"content/items/"+b.id+"/resources/cloudProvider.json"}).then(N.hitch(this,function(c){return c}))},getPublishParametersForOverwrite:function(b,c){var m=new g;this._fetchPublishParameters(b,c).then(N.hitch(this,function(p){this._fetchServiceInfo(b).then(N.hitch(this,function(q){var y="";"CSV"==c?(y=N.mixin(N.mixin({},q.layers&&
q.layers[0]),{fields:p.layerInfo.fields}),y=N.mixin(p,{layerInfo:y,name:p.name||b.title.replace(/ /g,"_")})):y="Microsoft Excel"==c?this._generateExcelOverwritePublishParameters(p,q):{name:b.title?b.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};y=q?N.mixin(y,q):y;m.resolve(y)}),N.hitch(this,function(q){m.reject(q)}))}),N.hitch(this,function(p){m.reject(p)}));return m},_fetchPublishParameters:function(b,c){var m=v.restBaseUrl+"content/items/"+b.id+"/info/publishParameters.json";!c||"CSV"!==
c&&"Microsoft Excel"!==c?(m=new g,m.resolve(!1)):m=A.request({url:m}).then(N.hitch(this,function(p){return p}));return m},_fetchServiceInfo:function(b){b=b.url;var c={addToken:(A.isHostedService(b)||A.isAgolService(b))&&!1!==v.isMultiTenant},m=new g,p;k([A.request({url:b},c),A.request({url:b+"/layers"},c)]).then(N.hitch(this,function(q){var y={},B=q&&1<q.length&&q[1],z=B&&B.layers;B=B&&B.tables;z&&z.length&&(t.forEach(z,function(D){delete D.fields}),y.layers=z);B&&B.length&&(y.tables=B);p=N.mixin(q[0],
y);m.resolve(p)}));return m},_generateExcelOverwritePublishParameters:function(b,c){c.name=b.name;c.sourceSR=b.sourceSR;c.targetSR=b.targetSR;for(var m=0;m<c.tables.length;m++)"Review"!=c.tables[m].name&&(c.layers[c.layers.length]=c.tables[m]);for(m=0;m<c.layers.length;m++)c.layers[m].excelSheetId=b.layers[m].excelSheetId,c.layers[m].locationType=b.layers[m].locationType,c.layers[m].latitudeFieldName=b.layers[m].latitudeFieldName,c.layers[m].longitudeFieldName=b.layers[m].longitudeFieldName,c.layers[m].geocodeServiceUrl=
b.layers[m].geocodeServiceUrl,c.layers[m].sourceLocale=b.layers[m].sourceLocale,c.layers[m].sourceCountry=b.layers[m].sourceCountry,c.layers[m].standardizedFieldNames=b.layers[m].standardizedFieldNames,c.layers[m].addressFields=b.layers[m].addressFields;return c},deleteItem:function(b,c){var m=(c&&c.getPortalUser()).userContentUrl+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/delete";return A.request({url:m},{usePost:!0})},publishItem:function(b,c,m){var p=(m&&m.getPortalUser()).username;
m=(m&&m.portalUrl)+"content/users/"+p+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/publish";var q=new g;c.publishParameters=f.stringify(c.publishParameters);A.request({url:m,content:c},{usePost:!0}).then(N.hitch(this,function(y){if(v.self.hasCategorySchema&&b.categories){var B=[];(y.services||[]).forEach(function(z){B.push(this.setCategories({id:z.id,categories:b.categories}))},this);k(B).then(N.hitch(this,function(){q.resolve(N.mixin(b,{publishResult:y.services||[]}))}))}else q.resolve(N.mixin(b,
{publishResult:y.services||[]}))}),function(y){q.reject(y)});return q},createService:function(b,c,m,p){var q=new g,y,B=p&&p.getPortalUser();A.request({url:(p&&p.portalUrl)+"content/users/"+(b.owner||B.username)+"/createService",content:c},{usePost:!0}).then(function(z){return y=z}).then(N.hitch(this,this.addToDefinition,m)).then(N.hitch(this,function(z){q.resolve(N.mixin(b,{createResult:z||[]}))}),N.hitch(this,function(z){this.deleteItem(N.mixin(y,{id:y.itemId}),p).then(function(){q.reject(z)})}));
return q},addToDefinition:function(b,c){var m=new g;if(b){var p=c.encodedServiceURL.replace("rest/services","rest/admin/services");A.request({url:p+"/addToDefinition",content:{addToDefinition:b,async:!0}},{usePost:!0}).then(function(q){return e.checkAsyncJobStatus(q.statusURL)}.bind(this),function(q){m.reject(q)}.bind(this)).then(N.hitch(this,function(q){m.resolve(N.mixin(c,{addToDefinitionResult:q}))}),function(q){m.reject(q)})}else m.resolve(c);return m},moveItem:function(b,c,m){var p=new g,q=m&&
m.getPortalUser();q=b.owner||q.username;m=(m&&m.portalUrl)+"content/users/"+q+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/move";q={folder:c&&c!==q?c:"/"};(b.folderId||"/")!==q.folder?A.request({url:m,content:q},{usePost:!0}).then(N.hitch(this,function(y){p.resolve(N.mixin(b,{folderId:c}))})):p.resolve(b);return p},serviceNameAvailable:function(b,c){var m=c&&c.getPortalUser(),p={name:b.title.replace(/ /g,"_"),type:b.type||"Feature Service"};return A.request({url:c.url+"portals/"+
m.orgId+"/isServiceNameAvailable",content:p})},analyzeItem:function(b,c,m){c=N.mixin({enableGlobalGeocoding:!0,sourceLocale:n.locale.split("-")[0]},c||{});b=N.mixin({},{analyzeParameters:c,filetype:b.fileType||b.type&&b.type.toLowerCase()||"",itemid:b.id});m=m.url+"/content/features/analyze";b.analyzeParameters=f.stringify(b.analyzeParameters);return A.request({url:m,content:b},{usePost:!0})},createTemplatedApplication:function(b,c,m,p){var q=b,y=p&&p.sharing?p.sharing:{},B=p&&p.isEveryoneChecked?
p:null,z=N.isArray(c.typeKeywords)?-1<t.indexOf(c.typeKeywords,"selfConfigured"):-1<c.typeKeywords.indexOf("selfConfigured"),D=N.isArray(c.typeKeywords)?-1<t.indexOf(c.typeKeywords,"configurableApp"):-1<c.typeKeywords.indexOf("configurableApp");p=N.isArray(c.typeKeywords)?-1<t.indexOf(c.typeKeywords,"Web AppBuilder for ArcGIS"):-1<c.typeKeywords.indexOf("Web AppBuilder for ArcGIS");var F,x=N.hitch(this,function(G){var H=new g;if(G.shareWithWebMap){var J=v.restBaseUrl+"content/items/"+G.id+"/share",
M="public"===y.access||B&&B.isEveryoneChecked()||!1,K="org"===y.access||B&&B.isAccountChecked()||!1,L=y.groups||B&&B.getSharedGroups()||[];L=t.map(L,"return item.id;");M={f:"json",everyone:M,org:K,groups:L.join(","),items:[G.id]};v.self.hasCategorySchema&&M.categories&&(M.categories=f.stringify(M.categories));A.request({url:J,content:M},{usePost:!0}).then(N.hitch(this,function(){H.resolve(G)}))}else H.resolve(G);return H});if(q&&p)return b=new g,q.folderId&&"/"!==q.folderId&&(q.folder=q.folderId),
p=window.location.protocol+"//"+window.location.host+A.getHomeAppContext()+"/apps/webappbuilder/index.html?",p+=h.objectToQuery({title:q.title,tags:q.tags,summary:q.description,folder:q.folder,categories:q.categories&&q.categories.length?f.stringify(q.categories):void 0}),b.resolve(N.mixin(q,{configureUrl:p})),b;if(q){p=A.parseUrl(c.url);delete b.typeKeywords;var E=window.location.protocol+"//"+p.host+(p.port&&"443"!==p.port&&"80"!==p.port?":"+p.port:"")+p.path;E="https:"===window.location.protocol?
A.getSecureUrl(E):A.getHttpUrl(E);q=N.mixin({type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, JavaScript, Ready To Use"+(z?" ,selfConfigured":"")+(D?", configurableApp":""),thumbnailURL:A.getStaticImagesUrl()+"/webapp.png",url:E},q);q.text=f.stringify(N.mixin({},{source:c.id,folderId:q.folderId,values:b.webSceneId?{webscene:b.webSceneId}:b.webMapId?{webmap:b.webMapId}:b.groupId?{group:b.groupId}:{}}));return this.addItem(q,q.folderId,m).then(N.hitch(this,function(G){return x(N.mixin(q,
{id:G.id})).then(N.hitch(this,function(H){var J=H.url.indexOf("?"),M=-1!==J?H.url.substr(J,H.url.length):"";M+=M&&M.length?"\x26":"?";M+="appid\x3d"+G.id;E=H.url.substr(0,-1!==J?J:H.url.length)+M;return this.updateItem({id:G.id,url:E,folderId:H.folderId},m).then(N.hitch(this,function(){return z?(F=z?E+"\x26edit\x3dtrue":v.baseUrl+("webmap/configureApp.html?appid\x3d"+G.id),F+=G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:"",N.mixin(H,G,{configureUrl:F,url:E})):D?(F=window.location.protocol+
"//"+window.location.host+A.getHomeAppContext()+"/apps/configure-template/index.html?appid\x3d"+G.id,N.mixin(H,G,{configureUrl:F,url:E})):A.request({url:v.restBaseUrl+"content/items/"+c.id+"/data"}).then(N.hitch(this,function(K){F=K&&K.configurationSettings?v.baseUrl+"webmap/configureApp.html?appid\x3d"+G.id+(G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:""):v.baseUrl+"item.html?id\x3d"+G.id;return N.mixin(H,G,{configureUrl:F,url:E})}))}))}))}),N.hitch(this,function(G){G&&409===G.code&&
(G=q,G={title:a.addItemFrm.errors.error.title,message:w.substitute({type:G.type,title:G.title},a.addItemFrm.errors.itemExists.message)});throw G;}))}},checkStatus:function(b,c,m,p){var q=(p&&p.getPortalUser()).userContentUrl;b?A.request({url:q+"/items/"+b.id+"/status",content:{jobId:b.jobId}}).then(N.hitch(this,function(y){y=y||{status:"failed"};if("completed"===y.status)return c.resolve(b);if("failed"===y.status||""===y.status)return y=e.getStatusError(y),c.reject({message:y});m=(m||500)+250;setTimeout(N.hitch(this,
function(){this.checkStatus(b,c,m,p)}),m)}),N.hitch(this,function(y){c.reject(y)})):c.reject()},_getBatchGeocodeServers:function(b){if(!this._batchGeocoderServers){var c=b.getPortalUser(),m=-1<t.indexOf(c.privileges,"portal:user:createItem")&&-1<t.indexOf(c.privileges,"premium:user:geocode"),p=/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/ig,q=/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/ig,y,B,z=[];t.forEach(b.helperServices&&b.helperServices.geocode||[],function(D){y=
!!D.url.match(p);B=!!D.url.match(q);(y&&!b.isPortal&&m||B||D.batch)&&z.push({isWorldGeocodeServer:y||B,isWorldGeocodeServerProxy:B,label:D.name,value:D.url,url:D.url,name:D.name})});this._batchGeocoderServers=z}return this._batchGeocoderServers},getPortalDefaultExtentAsGCS:function(b){if(b=b.defaultExtent||null){b=r.webMercatorToGeographic(new l(b));var c=b.spatialReference._getInfo();if(c){if(b.xmin>b.xmax){var m=c.valid[1]-b.xmin,p=b.xmax-c.valid[0];m>p?b.xmax=c.valid[1]+p:b.xmin=c.valid[0]-m}return Math.round(1E4*
b.xmin)/1E4+","+Math.round(1E4*b.ymin)/1E4+","+Math.round(1E4*b.xmax)/1E4+","+Math.round(1E4*b.ymax)/1E4}}return null},itemExists:function(b,c,m){var p=b.title;m=m&&"/"!==m?m:"root";var q="Data Store"===b.type?b.type.toLowerCase():b.type;c={q:'title:"'+p+'" AND type:"'+q+'" AND owner:"'+c+'" AND ownerfolder:"'+m+'"',num:1};var y,B=new dojo.Deferred;A.request({url:v.restBaseUrl+"search",content:c}).then(function(z){z&&z.total?(y=z.results&&z.results.shift(),b&&b.id===y.id||p!==y.title?B.resolve({itemExists:!1}):
(z=b.isFile?w.substitute({type:b.fileExtension,item:b.item,name:b.name||b.title,title:b.title},a.addItemFrm.errors.itemExistsFile.message):w.substitute({type:q,item:b.item,title:p},a.addItemFrm.errors.itemExists.message),B.resolve({itemExists:!0,message:z}))):B.resolve({itemExists:!1})}.bind(this));return B},noSQLCheck:function(b,c){return b.connectionUri===c.noSQLConnectionURI&&b.database===c.noSQLDataBase&&b.username===c.noSQLUsername},getAllNoSQLDatastorePromises:function(b){var c=new g,m=[];A.request({url:v.restBaseUrl+
"search?q\x3dtype%3A'Data+Store'\x26bbox\x3d\x26sortField\x3d\x26sortOrder\x3d"}).then(function(p){if(p&&p.total){var q=[];p.results.forEach(function(y){y.typeKeywords.includes("nosql")&&q.push(y)});0!==q.length&&q.forEach(function(y){m.push(function(){var B=new g;A.request({url:v.restBaseUrl+"content/items/"+y.id+"/data"}).then(function(z){this.noSQLCheck(z.info.connectionProperties,b)?B.resolve({itemExists:!0}):B.resolve({itemExists:!1})}.bind(this));return B}.call(this))}.bind(this))}c.resolve({allPromises:m})}.bind(this));
return c},checkForDuplicateNoSQL:function(b){var c=new g;this.getAllNoSQLDatastorePromises(b).then(function(m){k(m.allPromises).then(function(p){var q;0!==p.length?(p.forEach(function(y){!0===y.itemExists&&(q=!0)}),q?c.resolve({itemExists:!0}):c.resolve({itemExists:!1})):c.resolve({itemExists:!1})})}.bind(this));return c},hasCreateLayer:function(b){var c={managed:!0},m=b&&(b.user||b.getPortalUser&&b.getPortalUser()),p=new d({portalUser:m}),q,y,B,z,D;if(b.isPortal&&m&&(p.isBasedOnAdmin()||p.isBasedOnPublisher()))return b.getFederatedServers().then(N.hitch(this,
function(F){(y=(q=t.filter(F.servers||[],N.hitch(this,function(x){return x.isHosted})))&&q.length?q[0]:null)?(B=y.adminUrl+"/admin/data/findItems",D=A.request({url:B,content:c},{useProxy:!0}).then(N.hitch(this,function(x){return(z=t.filter(x.items||x||[],N.hitch(this,function(E){return E&&E.provider&&"arcgis data store"===E.provider.toLowerCase()})))&&z.length?!0:!1}),N.hitch(this,function(x){return!1}))):(D=new g,D.resolve(!1));return D}));b=new g;b.resolve(!0);return b}}})},"arcgisonline/pages/statusUtil":function(){define("require exports tslib dojo/Deferred dojo/on dojo/json dojo/topic esri/lang esri/urlUtils ./pageUtil ./utils/arrays ./utils/polling esri/tasks/Geoprocessor ../sharing/util dojo/i18n!../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(){}d.checkStatus=function(e){var a=new t["default"],b=this.getJobUrl(e),c=this.getJobId(e),m=r["default"].isPortal(),p="Scene Service"===e.type,q=m&&p&&!this.isSceneFromFeatures(e);
e.canUpdate&&e.isHostedService&&!e.isUtilityNetwork&&("Feature Service"===e.type||(m||b&&c)&&"Image Service"===e.type||p||"Vector Tile Service"===e.type||m&&"Map Service"===e.type)?(e.set("status","processing"),b&&c?this.checkJobStatus(e,500):p&&!q||!(c||"Feature Service"===e.type&&(this.isFeaturesFromPackage(e)||this.isFeaturesFromExcel(e))||"Map Service"===e.type&&!this.isTileFromFeatures(e)||"Vector Tile Service"===e.type&&e.sourceData&&!this.isVectorTileFromFeatures(e))?m||this.isVectorTileFromFeatures(e)?
e.set("status","completed"):this.checkServiceStatus(e,500,a):"Vector Tile Service"===e.type&&e.sourceData&&this.isVectorTileFromPackage(e)||"Feature Service"===e.type&&this.isFeaturesFromExcel(e)?this.checkItemStatusCallSupport(e,500,a):(e.set("firstStatus",!0),this.checkItemStatus(e,500,a))):e.set("status","completed");a.resolve(e);return a};d.checkItemStatusCallSupport=function(e,a,b){var c=this;this.supportsItemStatusCall(e).then(function(m){m?(e.set("firstStatus",!0),c.checkItemStatus(e,a,b)):
c.checkServiceStatus(e,a,b)})};d.supportsItemStatusCall=function(e){return r["default"].request({url:e.userItemUrl+"/status",content:{jobId:e.jobId}}).then(function(a){var b;return"item status doesn't exist"===(null===(b=null===a||void 0===a?void 0:a.statusMessage)||void 0===b?void 0:b.toLowerCase())?!1:!0},function(){return!1})};d.isFeaturesFromPackage=function(e){var a,b=null===(a=e.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===e.type&&0<(null===b||void 0===b?void 0:b.indexOf("Package"))};
d.isFeaturesFromExcel=function(e){var a,b=null===(a=e.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===e.type&&"Microsoft Excel"===b};d.isTileFromFeatures=function(e){var a;return"Map Service"===e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isSceneFromFeatures=function(e){var a;return"Scene Service"===e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isVectorTileFromFeatures=function(e){var a;return"Vector Tile Service"===
e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isVectorTileFromPackage=function(e){var a,b;return"Vector Tile Service"===e.type&&0<(null===(b=null===(a=e.sourceData)||void 0===a?void 0:a.type)||void 0===b?void 0:b.indexOf("Package"))};d.getJobId=function(e){var a=k["default"].urlToObject(document.URL),b=e.properties||{};e.jobId=e.jobId||b.jobId||a&&a.query&&a.query.jobid||null;return e.jobId};d.getJobUrl=function(e){var a=(e.properties&&e.properties.jobUrl||"").split("/jobs/");
e.jobUrl=a.shift();e.jobId=e.jobUrl?a.shift():null;return e.jobUrl};d.checkItemStatus=function(e,a,b){var c=this,m;void 0===a&&(a=500);var p=e.portal.isPortal,q=e.userItemUrl+"/status",y={jobId:e.jobId};"image service"===(null===(m=e.type)||void 0===m?void 0:m.toLowerCase())&&(y.jobType="publishImageService");r["default"].request({url:q,content:y}).then(function(B){B=B||{status:"failed"};var z=p&&"failed"===B.status&&-1<B.statusMessage.toLowerCase().indexOf("job not found.");"completed"===B.status||
z?e.set({firstStatus:void 0,status:"completed",readyForGeocodeReview:!0,readyToRetrieveServiceLayers:!0}):"failed"===B.status||400<B.code||""===B.status?(e.set("statusError",c.getStatusError(B)),e.set("status","failed")):(e.set("status","processing"),B.jobInfo.jobId&&(e.set("jobId",B.jobInfo.jobId),e.firstStatus?e.set({firstStatus:!1,status:"completed"}):e.set("status","processing")),a+=250,setTimeout(function(){return c.checkItemStatus(e,a,b)},a))},function(B){e.set("statusError",c.getStatusError(B));
e.set("status","failed")})};d.checkServiceStatus=function(e,a,b){var c=this;void 0===a&&(a=500);var m=e.adminUrl+"/status",p={};if("Scene Service"===e.type||"Vector Tile Service"===e.type)m=e.adminUrl;e.adminServerToken&&(p.token=e.adminServerToken);r["default"].request({url:m,content:p},{useProxy:r["default"].shouldUseProxy(m)}).then(function(q){var y,B;q.status=(null===(y=q.realTimeState)||void 0===y?void 0:y.toLowerCase())||(null===(B=q.status)||void 0===B?void 0:B.toLowerCase())||(q.currentVersion&&
q.capabilities?"started":"failed");if("Scene Service"===e.type||"Vector Tile Service"===e.type)q.status="PROCESSING"===q.cacheExecutionStatus||"SUBMITTED"===q.cacheExecutionStatus?"processing":"started";"started"===q.status?e.set({status:"completed",readyForGeocodeReview:!0}):"failed"===q.status||400<q.code||""===q.status?(e.set("statusError",c.getStatusError(q)),e.set("status","failed")):(e.set("status","processing"),a+=250,setTimeout(function(){return c.checkServiceStatus(e,a,b)},a))},function(q){e.set("statusErrorCode",
null===q||void 0===q?void 0:q.code);e.set("statusError",c.getStatusError(q));e.set("status","failed")})};d.checkVectorTileServiceJobStatus=function(e,a,b){var c=this;void 0===a&&(a=500);void 0===b&&(b=0);var m=new t["default"];if("Vector Tile Service"===e.type){var p=e.adminUrl,q={},y=null!==b&&void 0!==b?b:0;e.adminServerToken&&(q.token=e.adminServerToken);r["default"].request({url:p,content:q},{useProxy:r["default"].shouldUseProxy(p)}).then(function(B){B.code?10<y?(e.set("statusErrorCode",null===
B||void 0===B?void 0:B.code),e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(e,a,y+1)},a)):(B.status="PROCESSING"===B.cacheExecutionStatus||"SUBMITTED"===B.cacheExecutionStatus?"processing":"started","started"===B.status?(e.set("status","completed"),m.resolve(B)):"failed"===B.status||400<B.code||""===B.status?(e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(e.set("status",
"processing"),a+=1E3,setTimeout(function(){return c.checkVectorTileServiceJobStatus(e,a)},a)))},function(B){10<y?(e.set("statusErrorCode",null===B||void 0===B?void 0:B.code),e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(e,a,y+1)},a))})}else m.resolve();return m};d.checkJobStatus=function(e,a){var b=this,c;void 0===a&&(a=3E3);var m=null===(c=(e.portal.getPortalUser()||{}).credential)||void 0===c?void 0:
c.token,p=e.jobId;c=e.jobUrl;var q=e.properties;if(q&&"processing"===q.jobStatus){e.set("status","processing");var y=new A["default"](c+(m?"?token\x3d"+m:""));u["default"](y,"status-update",function(z){"esriJobExecuting"!==z.jobInfo.jobStatus?(e.set("status","completed"),B&&clearInterval(B)):e.set("status","processing")});u["default"](y,"error",function(z){var D;z=z.error||z;(null===(D=null===z||void 0===z?void 0:z.message)||void 0===D?0:D.indexOf("not found."))?(e.set("status","completed"),q&&(q.jobId&&
delete q.jobId,q.jobUrl&&delete q.jobUrl,q.jobStatus&&delete q.jobStatus,q.jobType&&delete q.jobType,e.set("properties",q))):(e.set("statusError",b.getStatusError(z)),e.set("status","failed"));B&&clearInterval(B)});var B=setInterval(function(){return y.checkJobStatus(p)},a)}else e.set("status","completed")};d.checkSceneCachingJobStatus=function(e,a,b,c){var m=this;void 0===a&&(a=3E3);var p=r["default"].isPortal(),q=!(!e.portalUser||!e.portalUser.isOrgAdmin),y=e.cachingJobUrl||e.properties&&e.properties.cacheJobUrl,
B=p?["esriJobSucceeded","esriJobFailed","esriJobCancelled"]:["Completed","Failed"],z=p?"esriJobFailed":"Failed",D=p?"jobStatus":"status",F=p?y:e.adminUrl+"/"+y;p&&q&&(F=F.replace("/rest/","/admin/").replace("/SceneCachingControllers/GPServer/","/SceneCachingControllers.GPServer/"),D="status");var x=p?{useProxy:r["default"].shouldUseProxy(F)}:{};if(y)var E=setInterval(function(){r["default"].request({url:F},x).then(function(G){c&&f["default"].publish(c,G);v["default"].includes(B,G[D])?(G[D]===z&&(e.set("status",
"failed"),b&&b.reject(G)),clearInterval(E),e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve(G)):e.set("status","processing")},function(G){var H;(null===(H=null===G||void 0===G?void 0:G.message)||void 0===H?0:H.indexOf("not found."))?(e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve()):(e.set("statusError",m.getStatusError(G)),e.set("status","failed"),b&&b.reject(G))})},a);else e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve({})};d.getStatusError=
function(e){var a=(null===e||void 0===e?void 0:e.statusMessage)||l["default"].addItemFrm.errors.publishError.message;return a?w["default"].isJson(a)?h["default"].parse(a):a:e};d.checkAsyncJobStatus=function(e,a){var b=new t["default"],c=0,m,p=function(){r["default"].request({url:e},a).then(function(q){q=q||{status:"Failed"};m=q.status||q.jobStatus;m=g["default"].isDefined(m)?m.toLowerCase():m;v["default"].includes(["esrijobsucceeded","completed"],m)?b.resolve(q):v["default"].includes(["esrijobfailed",
"failed"],m)||400<q.code?b.reject(q):setTimeout(p,C["default"].asyncIntervalTimerFunction(c++))},function(q){b.reject(q)})};setTimeout(p,C["default"].asyncIntervalTimerFunction(c++));return b};d.checkAsyncJobStatusWithVaryingInterval=function(e,a){var b=new t["default"],c=0,m,p=function(){setTimeout(function(){c++;r["default"].request({url:e}).then(function(q){q=q||{status:"Failed"};m=q.status||q.jobStatus;m=g["default"].isDefined(m)?m.toLowerCase():m;v["default"].includes(["esrijobsucceeded","completed"],
m)?b.resolve(q):v["default"].includes(["esrijobfailed","failed"],m)||400<q.code?b.reject(q):p()},function(q){return b.reject(q)})},a(c))};p();return b};d.getEndTime=function(e){var a=r["default"].isPortal();if(((null===e||void 0===e?0:e.startTime)||(null===e||void 0===e?0:e.submittedTime))&&((null===e||void 0===e?0:e.totalTime)||(null===e||void 0===e?0:e.duration))){var b=(a?e.submittedTime:e.startTime)||0;b=a?b:1E3*b;e=a?g["default"].isDefined(e.duration)?e.duration:void 0:g["default"].isDefined(e.totalTime)?
1E3*e.totalTime:void 0;return b+e}if(a&&e.jobStatus&&e.messages&&(e=v["default"].find(e.messages||[],function(m){return"esriJobMessageTypeInformative"===m.type&&0===m.description.indexOf("Succeeded at ")})))try{b=e.description.indexOf(" (Elapsed Time: ");var c=e.description.substring(14,b).trim();return(new Date(c)).getTime()}catch(m){}};return d}()})},"arcgisonline/pages/utils/polling":function(){define(["require","exports"],function(R,N){function n(t){return 1E3*N.ASYNC_POLLING_INTERVALS[-1<t&&
t<N.ASYNC_POLLING_INTERVALS.length-1?t:N.ASYNC_POLLING_INTERVALS.length-1]}Object.defineProperty(N,"__esModule",{value:!0});N.asyncIntervalTimerFunction=N.ASYNC_POLLING_INTERVALS=void 0;N.ASYNC_POLLING_INTERVALS=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];N.asyncIntervalTimerFunction=n;N["default"]={ASYNC_POLLING_INTERVALS:N.ASYNC_POLLING_INTERVALS,asyncIntervalTimerFunction:n}})},"arcgisonline/sharing/utilShare":function(){define("require exports tslib ../esriGeowConfig ./util ./dijit/dialog/ShareCheckDlg ./dijit/dialog/ConfirmDialog ./geow/Community dojo/promise/all dojo/Deferred dojo/string esri/lang esri/request dojo/i18n!../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(){}l.isEmpty=function(d){return d?JSON.stringify(d)===JSON.stringify({}):!1};l.checkWebMapContent=function(d){var e=this,a=function(b){var c={};c.webMapId=b.webMapId;c.mainItemCard=
b.webMapItemCard;delete c.mainItemCard.needsUpdate;c.mainItemSharing=b.webMapItemSharing;c.mainConfig=b.webMapConfig;c.itemCards=b.itemCards||{};for(var m in c.itemCards)delete c.itemCards[m].needsUpdate;c.itemsSharing={};c.newAccess=b.newAccess;c.needUpdateHandler=b.needUpdateHandler;c.dontNeedUpdateHandler=b.dontNeedUpdateHandler;c.confirmItemControl=b.confirmItemControl;e.getMainItemCard(c)};d.useTimer?(this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout(function(){e.waitHandler=
null;a(d)},2E3)):a(d)};l.checkWebAppContent=function(d){var e={};e.webAppId=d.webAppId;e.mainItemCard=d.webAppItemCard;e.mainItemSharing=d.webAppItemSharing;e.mainConfig=d.webAppConfig;e.itemCards=d.itemCards||{};e.itemsSharing={};this.getMainItemCard(e)};l.getMainItemCard=function(d){var e=this,a=function(b){b.newAccess?(b.mainItemSharing=b.newAccess,e.getMainConfig(b)):"private"!==b.mainItemCard.access&&("shared"===b.mainItemCard.access?e.getMainSharingInfo(b):e.getMainConfig(b))};d.mainItemCard?
a(d):u["default"].request({url:t["default"].restBaseUrl+"content/items/"+(d.webMapId||d.webAppId)}).then(function(b){d.mainItemCard=b;a(d);return!0},function(b){return b})};l.getMainSharingInfo=function(d){var e=this;if(d.mainItemSharing)this.getMainConfig(d);else{var a=u["default"].getUser();a=t["default"].restBaseUrl+"content/users/"+a.username;d.mainItemCard.ownerFolder&&(a+="/"+d.mainItemCard.ownerFolder);a+="/items/"+(d.webMapId||d.webAppId);var b=u["default"].getToken();A["default"]({url:a+
(b?"?f\x3djson\x26token\x3d"+b:"?f\x3djson"),callbackParamName:"callback",load:function(c){d.mainItemSharing=c.sharing;e.getMainConfig(d)},error:function(c){e.getMainConfig(d)}},{disableIdentityLookup:!0})}};l.getMainConfig=function(d){var e=this;if(d.mainConfig)d.webMapId?this.readWebMapConfig(d):this.readWebAppConfig(d);else return u["default"].request({url:t["default"].restBaseUrl+"content/items/"+(d.webMapId||d.webAppId)+"/data"}).then(function(a){d.mainConfig=a;d.webMapId?e.readWebMapConfig(d):
e.readWebAppConfig(d)},function(a){})};l.checkForItemSharing=function(d){var e=this;if(d.newAccess&&"shared"!==d.newAccess.access||!d.newAccess&&"shared"!==d.mainItemCard.access)this.checkAccessOfItems(d);else{var a=[],b;for(b in d.itemCards){var c=d.itemCards[b];"shared"!==c.access&&"org"!==c.access||!c.ownerFolder&&null!==c.ownerFolder||a.push(this.getItemSharingInfo(c))}a.length?k["default"](a).then(function(m){m.forEach(function(p){p=p.length?p[1]:p;d.itemsSharing[p.item.id]=p.sharing});e.checkAccessOfItems(d)}):
this.checkAccessOfItems(d)}};l.checkAccessOfItems=function(d){var e=this,a=u["default"].getUser(),b=d.newAccess?d.newAccess.access:d.mainItemCard.access,c=[],m;for(m in d.itemCards){var p=d.itemCards[m];"shared"===b&&"public"!==p.access&&d.mainItemSharing&&void 0!==p.ownerFolder&&a.username!==p.owner&&c.push(this.getOwnerGroups(p,d))}c.length?k["default"](c).then(function(q){e._checkAccessOfItems(d)}):this._checkAccessOfItems(d)};l._checkAccessOfItems=function(d){var e=this,a=!1,b=d.newAccess?d.newAccess.access:
d.mainItemCard.access,c=[],m;for(m in d.itemCards){var p=d.itemCards[m],q=p.access,y=!1;d.containsPremiumContent=this.isPremiumContent(p);if("public"===b&&"public"!==q)y=!0;else if("org"===b&&"public"!==q&&"org"!==q)y=!0;else if("shared"===b&&"private"===q)y=!0;else if("shared"!==b||"shared"!==q&&"org"!==q)"Web Map"!==p.type&&"Web Scene"!==p.type?delete d.itemCards[m]:d.itemCards[m].needsUpdate=!1;else if(d.mainItemSharing)if(d.itemsSharing[m]&&void 0!==p.ownerFolder){q=d.mainItemSharing.groups;for(var B=
d.itemsSharing[m].groups,z=!1,D=0;D<q.length;D++)if(-1===B.indexOf(q[D])){z=y=!0;break}z||delete d.itemCards[m]}else y=!0;else y=!0;(y&&d.webAppId||"Web Map"===p.type||"Web Scene"===p.type)&&c.push(this.checkWebMapInWebApp(p.id,d));a=a||y}var F=function(x,E){var G=E.newAccess?E.newAccess.access:E.mainItemCard.access;x?E.needUpdateHandler?E.needUpdateHandler(E):h["default"].prototype.statics.getInstance().show(E):"public"===G&&"Web Map"===E.mainItemCard.type&&E.containsPremiumContent?e.showPremiumContentDlg(E):
E.dontNeedUpdateHandler&&E.dontNeedUpdateHandler(E)};c.length?k["default"](c).then(function(x){x.forEach(function(E){1<E.length&&C["default"].isDefined(E.length?E[1]:E)&&(a=a||E.length?E[1]:E)});F(a,d)}):this.isEmpty(d.itemCards)?d.dontNeedUpdateHandler&&d.dontNeedUpdateHandler(d):F(a,d)};l.isPremiumContent=function(d){d=d.typeKeywords||[];return-1<d.indexOf("Requires Subscription")||-1<d.indexOf("Requires Credits")};l.showPremiumContentDlg=function(d){var e=this;-1<document.location.href.indexOf("viewer.html")||
(d=""+t["default"].helpBase+t["default"].helpMap["120001307"],this.premiumContentDlg||(this.premiumContentDlg=new f["default"]({showCancel:!1,buttonOk:r["default"].common.ok,style:{width:"200px"}}),this.premiumContentDlg.show({message:v["default"].substitute('${i18n.shareMapDlg.premiumLayerMsg} \x3ca href\x3d"${helpLinkPremium}" target\x3d"_blank"\x3e${i18n.shareMapDlg.premiumLayerMsgLearnMore}\x3c/a\x3e',{i18n:r["default"],helpLinkPremium:d}),title:r["default"].common.premiumcontent}).then(function(a){e.premiumContentDlg.hide();
e.premiumContentDlg=null})))};l.readWebMapConfig=function(d){var e=this,a,b,c=!1,m=[],p=d.mainConfig.operationalLayers;d.mainConfig.tables&&d.mainConfig.tables.length&&(p=p.concat(d.mainConfig.tables));for(var q=p.length-1;0<=q;q--){var y=p[q];if(y.itemId)c=!0,d.itemCards[y.itemId]||m.push(this.getItemCard(y.itemId)),("ArcGISTiledMapServiceLayer"===y.layerType||"ArcGISTiledElevationServiceLayer"===y.layerType||"ArcGISSceneServiceLayer"===y.layerType)&&(null===(a=y.layers)||void 0===a?0:a.length)&&
y.layers.forEach(function(F){F.layerItemId&&!d.itemCards[F.layerItemId]&&m.push(e.getItemCard(F.layerItemId))});else if("GroupLayer"===y.layerType)for(var B=p[q],z=B.layers.length-1;0<=z;z--){var D=B.layers[z];D.itemId&&(c=!0,d.itemCards[D.itemId]||m.push(this.getItemCard(D.itemId)))}y.layers&&y.layers.forEach(function(F){F.layerItemId&&!d.itemCards[F.layerItemId]&&m.push(e.getItemCard(F.layerItemId))})}for(q=d.mainConfig.baseMap.baseMapLayers.length-1;0<=q;q--)a=d.mainConfig.baseMap.baseMapLayers[q],
a.itemId&&(c=!0,d.itemCards[a.itemId]||m.push(this.getItemCard(a.itemId)));if(d.mainConfig.baseMap.elevationLayers)for(q=d.mainConfig.baseMap.elevationLayers.length-1;0<=q;q--)a=d.mainConfig.baseMap.elevationLayers[q],a.itemId&&(c=!0,d.itemCards[a.itemId]||m.push(this.getItemCard(a.itemId)));m.length?k["default"](m).then(function(F){F.forEach(function(G){G=G.length?G[1]:G;G.id&&(d.itemCards[G.id]=G)});var x=[],E=[];F.forEach(function(G){G=G.length?G[1]:G;G.id&&("Map Service"===G.type||"Scene Service"===
G.type)&&-1<G.typeKeywords.indexOf("Hosted Service")&&!d.itemCards[G.id].data&&(x.push(e.getItemData(G.id)),E.push(G.id))});x.length?k["default"](x).then(function(G){G.forEach(function(H,J){var M=d.itemCards[E[J]];M.data=H.length?H[1]:H;var K=[];M.data.layers&&M.data.layers.forEach(function(L){L.layerItemId&&(d.itemCards[L.layerItemId]||K.push(e.getItemCard(L.layerItemId)))});K.length?k["default"](K).then(function(L){L.forEach(function(U){U=U.length?U[1]:U;U.id&&(d.itemCards[U.id]=U)});e.checkForItemSharing(d)},
function(L){e.checkForItemSharing(d)}):e.checkForItemSharing(d)},e)},function(G){e.checkForItemSharing(d)}):e.checkForItemSharing(d)},function(F){e.checkForItemSharing(d)}):c?this.checkForItemSharing(d):null===(b=d.dontNeedUpdateHandler)||void 0===b?void 0:b.call(d,d)};l.readWebAppConfig=function(d){var e=this;if(d.mainConfig.values&&d.mainConfig.values.webmap||d.mainConfig.map&&d.mainConfig.map.itemId||d.mainConfig.values&&d.mainConfig.values.webscene){var a=[];d.mainConfig&&(d.mainConfig.values?
d.mainConfig.values.webscene?a=d.mainConfig.values.webscene.split(","):d.mainConfig.values.webmap&&(a=d.mainConfig.values.webmap.split(",")):a=d.mainConfig.map&&d.mainConfig.map.itemId?[d.mainConfig.map.itemId]:[]);var b=[];a.forEach(function(c){d.itemCards[c]||b.push(e.getItemCard(c))});b.length?k["default"](b).then(function(c){c.forEach(function(m){m=m.length?m[1]:m;d.itemCards[m.id]=m});e.checkForItemSharing(d)}):this.checkForItemSharing(d)}};l.checkWebMapInWebApp=function(d,e){var a=new w["default"],
b={access:e.mainItemCard.access};e.mainItemSharing&&e.mainItemSharing.groups&&(b.groups=e.mainItemSharing.groups);this.checkWebMapContent({webMapId:d,webMapItemCard:e.itemCards[d],newAccess:b,needUpdateHandler:function(c){e.itemCards[d].webMapInfo=c;a.resolve(!0)},dontNeedUpdateHandler:function(c){a.resolve(!1)}});return a};l.getItemCard=function(d,e){var a=this;e=e||new w["default"];if("inProgress"===this.itemCards[d])setTimeout(function(){a.getItemCard(d,e)},1E3);else if(this.itemCards[d])delete this.itemCards[d].needsUpdate,
e.resolve(this.itemCards[d]);else{this.itemCards[d]="inProgress";var b=t["default"].restBaseUrl+"content/items/"+d,c=u["default"].getToken();A["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(m){a.itemCards[d]=m;e.resolve(m)},error:function(m){delete a.itemCards[d];e.reject(m)}},{disableIdentityLookup:!0})}return e};l.getItemData=function(d,e){var a=this,b;e=e||new w["default"];if(this.itemCards[d]&&"inProgress"===this.itemCards[d].data)setTimeout(function(){a.getItemData(d,
e)},1E3);else if(null===(b=this.itemCards[d])||void 0===b?0:b.data)e.resolve(this.itemCards[d].data);else{this.itemCards[d].data="inProgress";b=t["default"].restBaseUrl+"content/items/"+d+"/data";var c=u["default"].getToken();A["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(m){a.itemCards[d].data=m;e.resolve(m)},error:function(m){delete a.itemCards[d].data;e.reject(m)}},{disableIdentityLookup:!0})}return e};l.getItemSharingInfo=function(d){var e=
t["default"].restBaseUrl+"content/users/"+d.owner;d.ownerFolder&&(e+="/"+d.ownerFolder);e+="/items/"+d.id;d=u["default"].getToken();return A["default"]({url:e+(d?"?f\x3djson\x26token\x3d"+d:"?f\x3djson"),callbackParamName:"callback"},{disableIdentityLookup:!0})};l.getOwnerGroups=function(d,e){var a=this,b=new w["default"];this.ownerGroups[d.owner]?b.resolve():g["default"].getProfile(d.owner,function(c){c=(c.groups||[]).map(function(m){return m.id});a.ownerGroups[d.owner]=c;b.resolve()},function(){b.resolve()});
return b};l.itemCards=[];l.ownerGroups=[];return l}()})},"arcgisonline/sharing/dijit/dialog/ShareCheckDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.ShareCheckDlg");R.require("dijit.Dialog");R.require("dijit._Widget");R.require("dijit._Templated");R.require("arcgisonline.sharing.util");R.declare("arcgisonline.sharing.dijit.dialog.ShareCheckDlg",[N._Widget,
N._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" id\x3d"shareCheck-dialog" title\x3d"${i18n.shareChecksDlgTitle}" execute\x3d""\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      .esri .dojoxGridHeader .dojoxGridCellFocus, .esri .dojoxGridHeader .dojoxGridCell {\r\n        border-bottom: 1px solid #CCC;\r\n      }\r\n    \x3c/style\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckTopMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojotype\x3d"dijit.layout.BorderContainer" design\x3d"headline" gutters\x3d"false" style\x3d"width:100%; height:120px; margin:20px 0 10px 0;"\x3e\r\n      \x3cdiv dojoType\x3d"dijit.layout.ContentPane" dojoAttachPoint\x3d"shareCheckGrid" region\x3d"top" style\x3d"height:118px;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckBottomMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"editableLayerDiv" style\x3d"clear:both; display:none; background-color:rgba(240, 201, 206, 1); border:2px solid rgb(255, 0, 0); margin-top:10px; padding:8px;"\x3e\r\n      \x3cspan dojoAttachPoint\x3d"editableLayerMsg"\x3e\x3c/span\x3e\r\n      \x3ca dojoAttachPoint\x3d"editableLayerHelpLink" href\x3d"JavaScript:void(0);" dojoAttachEvent\x3d"onClick:onLearnHowClick"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing clearfix leader-1" style\x3d"padding-top:5px; padding-bottom:5px;"\x3e\r\n      \x3cbutton dojoAttachEvent\x3d"onClick:onCancelClick" dojoAttachPoint\x3d"exitButton" class\x3d"jevent cancel btn-two right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridUpdateButton" dojoAttachEvent\x3d"onClick:onUpdateClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.UpdateSharingBtn}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridOkButton" dojoAttachEvent\x3d"onClick:onCancelClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button" style\x3d"display:none;"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
grid:null,gridId:"shareCheckGridNode",oneLayerMissingDataCollection:!1,oneLayerNotMissingDataCollection:!1,oneLayerNotEditable:!1,statics:{_instance:null,getInstance:function(){this._instance&&N.byId("shareCheckGridNode")&&N.byId("shareCheckGridNode").destroy();null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareCheckDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;
R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").myOrganization.creditsTab);R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").shareCheckDlg)},show:function(t){var u=R.hitch(this,function(A,r,l){var d=!1,e=!1;if(("public"===A||"org"===A)&&void 0!==l.ownerFolder)return{userCanUpdate:!0,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e};if("shared"===A)if(void 0!==l.ownerFolder){d=!0;A=this.info.itemsSharing[g]?this.info.itemsSharing[g].groups:[];l=arcgisonline.sharing.utilShare.ownerGroups[l.owner];
for(var a=0;a<r.length;a++)if(-1===R.indexOf(A,r[a])&&(!esri.isDefined(l)||esri.isDefined(l)&&-1<R.indexOf(l,r[a])))return{userCanUpdate:!0,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e}}else e=!0;return{userCanUpdate:!1,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e}});this.info=t;t=!1;var h=this.info.mainItemCard.access,f="Web Scene"===this.info.mainItemCard.type,g;for(g in this.info.itemCards){var k=this.info.itemCards[g],w=this.info.mainItemSharing?this.info.mainItemSharing.groups:
[];if(!1===k.needsUpdate){if(k.webMapInfo){for(var v in k.webMapInfo.itemCards){var C=u(h,w,k.webMapInfo.itemCards[v]);t=C.userCanUpdate;0-C.unknownGroupDetails;if(t)break}if(t)break}}else if(C=u(h,w,k),t=C.userCanUpdate,0-C.unknownGroupDetails,t)break}t?(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML=this.info.webMapId?f?this.i18n.textBottomWebScene:this.i18n.textBottomWebmap:this.i18n.textBottomWebapp,
R.style(this.exitButton.domNode,"display",""),R.style(this.shareGridUpdateButton.domNode,"display",""),R.style(this.shareGridOkButton.domNode,"display","none")):(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML="",R.style(this.exitButton.domNode,"display","none"),R.style(this.shareGridUpdateButton.domNode,"display","none"),R.style(this.shareGridOkButton.domNode,"display",""));this.oneLayerMissingDataCollection=
this.oneLayerNotMissingDataCollection=this.oneLayerNotEditable=!1;this.editableLayerMsg.innerHTML="";R.style(this.editableLayerDiv,"display","none");this.checkEditableLayers();N.byId("shareCheck-dialog").show()},displayLayers:function(){var t=R.create("table",{border:"1",style:"width: 100%; height: 100%"},this.shareCheckItemsDiv),u=R.create("tbody",{},t);u=R.create("tr",{},u);R.create("span",{innerHTML:this.i18n.titleItem},R.create("td",{},u));R.create("span",{innerHTML:this.i18n.titleOwner},R.create("td",
{},u));for(var h in this.info.itemCards){var f=this.info.itemCards[h];u=R.create("tr",{},t);R.create("span",{innerHTML:f.title},R.create("td",{},u));R.create("span",{innerHTML:f.owner},R.create("td",{},u))}},checkEditableLayers:function(){var t=function(k,w){for(var v in k){var C=k[v];C&&!1!==C.needsUpdate&&"Feature Service"===C.type&&("admin"===C.itemControl||"update"===C.itemControl)&&-1<R.indexOf(C.typeKeywords,"Hosted Service")&&(w.push(arcgisonline.sharing.util.getJson(C.url+"/layers")),u.push(C))}};
if("public"===this.info.mainItemCard.access){var u=[],h=[];t(this.info.itemCards,h);for(var f in this.info.itemCards){var g=this.info.itemCards[f];g.webMapInfo&&t(g.webMapInfo.itemCards,h)}h.length?(new R.DeferredList(h)).addCallback(R.hitch(this,function(k){R.forEach(k,function(w,v){if(w[1].layers&&w[1].layers.length&&w[1].layers[0]&&-1<w[1].layers[0].capabilities.indexOf("Editing")){var C=u[v];C.isEditable=!0;this.editableLayerMsg.innerHTML="* "+this.i18n.layerIsEditable+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+
(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e";R.style(this.editableLayerDiv,"display","");-1===R.indexOf(C.typeKeywords,"Public Data Collection")?(this.oneLayerMissingDataCollection=!0,C.missingDataCollection=!0):this.oneLayerNotMissingDataCollection=!0}else this.oneLayerNotEditable=!0},this);this.oneLayerMissingDataCollection&&(this.editableLayerMsg.innerHTML=this.oneLayerNotMissingDataCollection?"* "+this.i18n.usePublicDataCollection+
"\x3c/br\x3e** "+this.i18n.layerIsEditable+"\x3c/br\x3e\x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e":"* "+this.i18n.usePublicDataCollection+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e",
R.style(this.editableLayerDiv,"display",""),this.oneLayerNotMissingDataCollection||this.oneLayerNotEditable||(this.shareCheckBottomMsg.innerHTML="",R.style(this.exitButton.domNode,"display","none"),R.style(this.shareGridUpdateButton.domNode,"display","none"),R.style(this.shareGridOkButton.domNode,"display","")));this.createGrid()})):this.createGrid()}else this.createGrid()},createGrid:function(){var t=[[{name:this.i18n.titleLayer,field:"name",width:"320px"},{name:this.i18n.titleOwner,field:"owner",
width:"320px"}]],u=[],h;for(h in this.info.itemCards){var f=this.info.itemCards[h];if(!1!==f.needsUpdate){var g=f.isEditable&&"public"===this.info.mainItemCard.access,k=f.missingDataCollection,w="";if("admin"===f.itemControl||"update"===f.itemControl)if(this.oneLayerMissingDataCollection&&this.oneLayerNotMissingDataCollection)w=k?" *":" **";else if(this.oneLayerMissingDataCollection||this.oneLayerNotMissingDataCollection)if(k||g)w=" *";u.push({id:f.id,name:f.title+w,owner:f.owner})}if(f.webMapInfo)for(var v in f.webMapInfo.itemCards)w=
f.webMapInfo.itemCards[v],g=w.isEditable&&"public"===this.info.mainItemCard.access,k=w.missingDataCollection,u.push({id:w.id,name:w.title+(this.oneLayerMissingDataCollection&&k||!this.oneLayerMissingDataCollection&&g?" *":""),owner:w.owner})}this.memory=new R.store.Memory({data:u,idProperty:"id"});this.store=new R.data.ObjectStore({objectStore:this.memory});this.grid=new n.grid.DataGrid({store:this.store,structure:t,id:this.gridId,style:{border:"1px #CCC solid"},selectionMode:"none"},R.create("div",
null,this.shareCheckGrid.domNode));this.grid.startup();N.byId("shareCheck-dialog").resize();esri.isTouchEnabled&&(this.gridScrollBox=this.grid.views.views[0].scrollboxNode,esri.setScrollable(this.gridScrollBox))},updateSharing:function(){var t=this.info.mainItemCard.access,u=[];if("public"===t||"org"===t)for(var h in this.info.itemCards){if(t=this.info.itemCards[h],void 0===t.ownerFolder||!1===t.needsUpdate||t.missingDataCollection||u.push(this.shareItemByID(t)),t.webMapInfo)for(var f in t.webMapInfo.itemCards){var g=
t.webMapInfo.itemCards[f];void 0===g.ownerFolder||t.missingDataCollection||u.push(this.shareItemByID(g))}}else{var k=this.info.mainItemSharing?this.info.mainItemSharing.groups:[];u=[];for(h in this.info.itemCards){t=this.info.itemCards[h];if(void 0!==t.ownerFolder&&!1!==t.needsUpdate){var w="",v="",C=this.info.itemsSharing[h]?this.info.itemsSharing[h].groups:[],A=arcgisonline.sharing.utilShare.ownerGroups[t.owner];R.forEach(k,function(r){-1===R.indexOf(C,r)&&(!esri.isDefined(A)||esri.isDefined(A)&&
-1<R.indexOf(A,r))&&(w+=v+r,v=",")},this);w.length&&u.push(this.shareItemByID(t,w))}if(t.webMapInfo)for(f in t.webMapInfo.itemCards)g=t.webMapInfo.itemCards[f],void 0!==g.ownerFolder&&(v=w="",C=t.webMapInfo.itemsSharing[f]?t.webMapInfo.itemsSharing[f].groups:[],A=arcgisonline.sharing.utilShare.ownerGroups[g.owner],R.forEach(k,function(r){-1===R.indexOf(C,r)&&(!esri.isDefined(A)||esri.isDefined(A)&&-1<R.indexOf(A,r))&&(w+=v+r,v=",")},this),w.length&&u.push(this.shareItemByID(g,w)))}}u.length?(new R.DeferredList(u)).addCallback(R.hitch(this,
function(r){R.forEach(r,function(l){l=l[1];l.itemId&&delete arcgisonline.sharing.utilShare.itemCards[l.itemId]});setTimeout(function(){R.publish("onShareUpdate",null);R.publish("shareCheckDlg/update")},100);this.hide()})):this.hide()},shareItemByID:function(t,u){var h=this.info.mainItemCard.access;h={everyone:"public"===h,account:"org"===h||"org"===t.access,confirmItemControl:this.info&&this.info.confirmItemControl?!0:!1};u&&(h.groups=u);var f=new R.Deferred;arcgisonline.sharing.geow.Content.shareItemByID(t,
h,R.hitch(this,function(g){f.callback(g)}),R.hitch(this,function(g){f.errback(g)}));return f},onLearnHowClick:function(){},onUpdateClick:function(){this.updateSharing()},onCancelClick:function(){this.hide()},hide:function(){this.store.close();delete this.store;delete this.memory;this.grid.destroy();delete this.grid;this.grid=this.store=this.memory=null;N.byId("shareCheck-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/RateLimiting":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/query dojo/parser dojo/ready dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojo/Deferred dijit/Dialog dijit/form/Button dojo/json arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog dojox/validate/regexp esri/Evented dojo/text!arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E){return R("arcgisonline.sharing.dijit.dialog.RateLimiting",[e],{templateString:x,baseClass:"esriRateLimiting",buildRendering:function(){this.inherited(arguments);var G=t.doc.createDocumentFragment();this._templateDijit=new (R([e,a,b],{templateString:g.substitute(this.templateString,{i18n:E},null,this)}));this._content=C.place(this._templateDijit.domNode,G,"first");this.inherited(arguments);this.domNode.appendChild(this._content)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=N.mixin(N.mixin({},E.common),E.itemProperties);this.serviceProxyParams=this.serviceProxyParams&&(this.serviceProxyParams.hitsPerInterval||this.serviceProxyParams.referrers)?this.serviceProxyParams:this.item&&this.item.serviceProxyParams||null},postCreate:function(){this.inherited(arguments);this._enableLimits=this._templateDijit._enableLimits;this._hitRate=this._templateDijit._hitRate;this._hitCount=this._templateDijit._hitCount;this._interval=
this._templateDijit._interval;this._referrerUrl=this._templateDijit._referrerUrl;this._referrers=this._templateDijit._referrers;this._addBtn=this._templateDijit._addBtn;this._delBtn=this._templateDijit._delBtn;this._loadConnections();this.set("value",this.serviceProxyParams)},destroy:function(){this._templateDijit.destroyRecursive();this._templateDijit=null;this.inherited(arguments)},_loadConnections:function(){this.own(k(this._enableLimits,"change",N.hitch(this,function(G){this._hitRate.set("disabled",
!0!==G);this._hitCount.set("disabled",!0!==G);this._interval.set("disabled",!0!==G);A(".canDisable")[!0!==G?"addClass":"removeClass"]("disabled");u[!0!==G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")})),k(this._addBtn,"click",N.hitch(this,function(){this._referrerUrl.isValid()&&(this._addReferralUrl(this._referrerUrl.get("value").split(/[ ,]+/)),this._referrerUrl.set("value",""))})),k(this._delBtn,"click",N.hitch(this,function(){this._referrers.getSelected().orphan();this._delBtn.set("disabled",
!this._referrers.getSelected().length)})),k(this._referrers,"blur, click",N.hitch(this,function(){this._delBtn.set("disabled",!this._referrers.getSelected().length)})))},_setDisabledAttr:function(G){var H=d.findWidgets(this.domNode).concat(d.findWidgets(this._content));n.forEach(H,function(J){J.set("disabled",G)});u[G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_addReferralUrl:function(G){var H;n.forEach(G,N.hitch(this,function(J){J&&((H=A("option",this._referrers.containerNode).some(function(M){return M.value.toLowerCase()===
J.toLowerCase()}))||this._referrers.containerNode.appendChild(C.create("option",{value:J,innerHTML:J})))}))},isValid:function(){return this._enableLimits.get("checked")&&!this._hitRate.isValid()?E.rateLimiting.errors.invalidHitRate:!0},_setValueAttr:function(G){this.serviceProxyParams=G;this._enableLimits.set("value",null);G&&(G.hitsPerInterval&&(this._hitRate.set("value",G.hitsPerInterval),this._interval.set("value",G.intervalSeconds),this._enableLimits.set("value","true"),this._extractUnits(G.intervalSeconds)),
this._addReferralUrl(G.referrers))},_extractUnits:function(G){var H=this._interval.options,J=parseInt(G,10);G=1;(H=n.filter(H,function(M){return 0===J%parseInt(M.value,10)}))&&H.length&&(G=H[H.length-1].value,this._interval.set("value",G),this._hitCount.set("value",Math.floor(J/parseInt(G,10))))},_getValueAttr:function(){var G={},H=[];A("option",this._referrers.containerNode).forEach(function(J){H.push(J.value)});this._enableLimits.get("checked")&&(G.hitsPerInterval=parseInt(this._hitRate.get("value"),
10),G.intervalSeconds=parseInt(this._hitCount.get("value"),10)*parseInt(this._interval.get("value"),10));H&&H.length&&(G.referrers=H);return G},showModal:function(G){var H=new m,J=new p({}),M=this.item.folderId,K=t.doc.createDocumentFragment(),L=C.place(this.domNode,K),U=C.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons"},L);L=new q({"class":"calcite cancel right btn-two",label:this.i18n.cancel,type:"button"},C.create("button",{},U));U=new q({"class":"calcite primary right",label:this.i18n.ok,
type:"button"},C.create("button",{},U));this.own(k(U,"click",N.hitch(this,function(){this.set("disabled",!0);var ba=esriGeowConfig.restBaseUrl+"content/users/"+this.item.owner+"/"+(M?M+"/":"")+"items/"+this.item.id,V=this.isValid();if(!0!==V)this._showError(V),this.set("disabled",!1);else{var aa=this.get("value");return B.request({url:ba+"/update",content:{serviceProxyParams:y.stringify(aa)}},{usePost:!0}).then(N.hitch(this,function(){this.item.serviceProxyParams=aa;J.hide()}),N.hitch(this,function(ha){this._showError(ha);
this.set("disabled",!1)}))}})),k(L,"click",N.hitch(this,function(){J.hide()})),k(J,"hide",N.hitch(this,function(){J.destroyRecursive();H.resolve(this.item)})));J.set("title",G&&G.title||this.i18n.rateLimitingTitle);J.setContent(K);J.show();return H},_showError:function(G){G=G.error||G||this.i18n.errors.error;G.code=G.messageCode||G.code;G=this.i18n.errors[G.code]||G||this.i18n.errors.error;G.details=G.details&&N.isArray(G.details)&&G.details.length?n.filter(G.details,"return item !\x3d\x3d null"):
null;if(G.details&&G.details.length){var H="\x3cul\x3e";n.forEach(G.details,function(M){H+="\x3cli\x3e"+M+"\x3c/li\x3e"});H+="\x3c/ul\x3e\x3cbr/\x3e";G.message=G.message?"\x3cdiv\x3e"+G.message+"\x3c/div\x3e\x3cbr/\x3e"+H:H}if(G.message&&-1===G.message.indexOf("Request canceled")){G=N.mixin(N.mixin({hideCancel:!0},this.i18n.errors.error),G);var J=new z({});return J.show(G).then(N.hitch(this,function(){J.hide().then(dojo.hitch(this,function(){this.set("disabled",!1)}))}))}}})})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(R,N,n){var t=R.getObject("validate.regexp",!0,n);return t=n.validate.regexp={ipAddress:function(u){u="object"==typeof u?u:{};"boolean"!=typeof u.allowDottedDecimal&&(u.allowDottedDecimal=!0);"boolean"!=typeof u.allowDottedHex&&(u.allowDottedHex=!0);"boolean"!=typeof u.allowDottedOctal&&(u.allowDottedOctal=!0);"boolean"!=typeof u.allowDecimal&&(u.allowDecimal=!0);"boolean"!=typeof u.allowHex&&(u.allowHex=!0);"boolean"!=typeof u.allowIPv6&&(u.allowIPv6=!0);"boolean"!=
typeof u.allowHybrid&&(u.allowHybrid=!0);var h=[];u.allowDottedDecimal&&h.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");u.allowDottedHex&&h.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");u.allowDottedOctal&&h.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");u.allowDecimal&&h.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
u.allowHex&&h.push("0[xX]0*[\\da-fA-F]{1,8}");u.allowIPv6&&h.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");u.allowHybrid&&h.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");u="";0<h.length&&(u="("+h.join("|")+")");return u},host:function(u){u="object"==typeof u?u:{};"boolean"!=typeof u.allowIP&&(u.allowIP=!0);"boolean"!=typeof u.allowLocal&&(u.allowLocal=!1);"boolean"!=typeof u.allowPort&&(u.allowPort=!0);"boolean"!=typeof u.allowNamed&&
(u.allowNamed=!1);var h=u.allowPort?"(\\:\\d+)?":"",f="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.?)";u.allowIP&&(f+="|"+t.ipAddress(u));u.allowLocal&&(f+="|localhost");u.allowNamed&&(f+="|^[^-][a-zA-Z0-9_-]*");return"("+f+")"+h},url:function(u){u="object"==typeof u?u:{};"scheme"in u||(u.scheme=[!0,!1]);return N.buildGroupRE(u.scheme,function(h){return h?"(https?|ftps?)\\://":""})+t.host(u)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(u){u="object"==typeof u?u:{};"boolean"!=typeof u.allowCruft&&(u.allowCruft=!1);u.allowPort=!1;var h="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+t.host(u);u.allowCruft&&(h="\x3c?(mailto\\:)?"+h+"\x3e?");return h},emailAddressList:function(u){u="object"==typeof u?u:{};"string"!=typeof u.listSeparator&&(u.listSeparator="\\s;,");var h=t.emailAddress(u);return"("+h+"\\s*["+u.listSeparator+"]\\s*)*"+h+"\\s*["+u.listSeparator+"]?\\s*"},numberFormat:function(u){u=
"object"==typeof u?u:{};"undefined"==typeof u.format&&(u.format="###-###-####");return N.buildGroupRE(u.format,function(h){return N.escapeString(h,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(u){u="object"==typeof u?u:{};"boolean"!=typeof u.allowTerritories&&(u.allowTerritories=!0);"boolean"!=typeof u.allowMilitary&&(u.allowMilitary=!0);
var h="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";u.allowTerritories&&(h+="|AS|FM|GU|MH|MP|PW|PR|VI");u.allowMilitary&&(h+="|AA|AE|AP");return"("+h+")"}}}})},"arcgisonline/sharing/dijit/dialog/LayerTimeSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/query dojo/on dojo/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Select dijit/form/Button dojo/Deferred arcgisonline/sharing/util ../../../pages/serviceUtil arcgisonline/sharing/dijit/dialog/ConfirmDialog esri/Evented dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){return R("arcgisonline.sharing.dijit.dialog.LayerTimeSettings",[C,B],{baseClass:"esriLayerTimeSettings",postMixInProperties:function(){this.inherited(arguments);this.i18n=N.mixin({},z.common);this.i18n=N.mixin(this.i18n,z.layerTimeSettings);this.portal=this.item&&this.item.portal||{};this._isPortal=p.isPortal()},buildRendering:function(){var D=document.createDocumentFragment();u.create("p",{innerHTML:this.i18n.header},D);this._enableTimeChk=
new e({checked:!1,name:"enableTimeCheckbox"});D.appendChild(this._enableTimeChk.domNode);u.create("label",{"for":"enableTimeCheckbox","class":"esriLeadingMargin1 inline-block trailer-half",innerHTML:this.i18n.enableTimeLbl},D);u.create("br",{},D);u.create("p",{innerHTML:this.i18n.fieldsetLbl,"class":"trailer-half"},D);this._fieldSet=u.create("fieldset",{"class":"esriLeadingMargin2 padding-left-1 trailer-half fieldset-checkbox"},D);this._timeEventsRdio=new a({name:"times",checked:!0},u.create("input",
{},this._fieldSet));u.create("label",{"for":"timeEvents","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeEventsLbl},this._fieldSet);u.create("br",{},this._fieldSet);this._timeEventsDiv=u.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);u.create("label",{"for":"timeEventsSelect","class":"esriFloatLeading timeEvent",innerHTML:this.i18n.timeFieldLbl},this._timeEventsDiv);this._timeEventsSelect=new b({maxHeight:200,name:"timeEventsSelect"},u.create("select",{},this._timeEventsDiv));
u.create("br",{},this._fieldSet);this._timeRangesRdio=new a({name:"times","class":"timeRangeRdio"},u.create("input",{},this._fieldSet));u.create("label",{"for":"timeRanges","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeRangesLbl},this._fieldSet);u.create("br",{},this._fieldSet);this._timeRangesDiv=u.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);u.create("label",{"for":"startTimeSelect","class":"esriFloatLeading timeRange",innerHTML:this.i18n.startTimeLbl},this._timeRangesDiv);
this._startTimeSelect=new b({maxHeight:200,name:"startTimeSelect","class":"timeRange",disabled:!0},u.create("select",{},this._timeRangesDiv));u.create("br",{},this._timeRangesDiv);u.create("label",{"for":"endTimeSelect","class":"esriFloatLeading timeRange leader-half",innerHTML:this.i18n.endTimeLbl},this._timeRangesDiv);this._endTimeSelect=new b({maxHeight:200,name:"endTimeSelect","class":"timeRange",disabled:!0},u.create("select",{},this._timeRangesDiv));u.create("br",{},this._timeRangesDiv);this.inherited(arguments);
this.domNode.appendChild(D)},postCreate:function(){this.timeInfo=this.get("timeInfo");this.fields=this.get("dateFields");this._loadConnects();this._loadLayerFields();this._loadTimeInfo()},_loadConnects:function(){this.own(w(this._timeRangesRdio,"change",N.hitch(this,function(D){n.forEach(l.findWidgets(this._timeRangesDiv),function(F){F.set("disabled",!D)})})),w(this._timeEventsRdio,"change",N.hitch(this,function(D){this.options&&1<this.options.length&&n.forEach(l.findWidgets(this._timeEventsDiv),
function(F){F.set("disabled",!D)})})),w(this._enableTimeChk,"change",N.hitch(this,function(D){var F=this.options&&1<this.options.length;n.forEach(l.findWidgets(this._fieldSet),function(x){D=!F&&-1<x["class"].indexOf("timeRange")?!1:D;x.set("disabled",!D)});this[this._timeRangesRdio.get("checked")?"_timeEventsRdio":"_timeRangesRdio"].onChange(!1)})))},_getValueAttr:function(){return this._enableTimeChk.get("checked")?this._timeEventsRdio.get("checked")?{timeInfo:{startTimeField:this._timeEventsSelect.get("value")}}:
{timeInfo:{startTimeField:this._startTimeSelect.get("value"),endTimeField:this._endTimeSelect.get("value")}}:{timeInfo:this._isPortal?null:{}}},_setDisabledAttr:function(D){n.forEach(l.findWidgets(this.domNode),function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-btn").map(dijit.byNode).forEach(function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-msg")[D?"removeClass":"addClass"]("hide")},_getTimeInfoAttr:function(){var D=this.layer;return this.timeInfo||D.timeInfo||{}},_getDateFieldsAttr:function(){return q.getDateFields(this.layer)},
_loadLayerFields:function(){this.options=n.map(this.fields,N.hitch(this,function(D){return{label:D.alias||D.name,value:D.name}}));this._timeEventsSelect.set("options",this.options);this._timeEventsSelect.set("value",this.options[0].value);this.options&&1<this.options.length&&(this._startTimeSelect.set("options",N.clone(this.options)),this._startTimeSelect.set("value",this.options[0].value),this._endTimeSelect.set("options",N.clone(this.options)),this._endTimeSelect.set("value",this.options[1].value))},
_loadTimeInfo:function(){var D=this.timeInfo||{};this._enableTimeChk.set("checked",D.startTimeField);this._timeEventsSelect.set("value",D.startTimeField);this._startTimeSelect.set("value",D.startTimeField);this._endTimeSelect.set("value",D.endTimeField||this._endTimeSelect.get("value"));this._timeRangesRdio.set("checked",this.timeInfo.startTimeField&&this.timeInfo.endTimeField);this._timeEventsRdio.set("checked",!this.timeInfo.endTimeField)},showModal:function(D){var F=new m,x=new d({style:{width:"450px"}}),
E=t.doc.createDocumentFragment();u.place(this.domNode,E);var G=u.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons right"},E);u.create("span",{"class":"hide margin-right-half js-timeOptions-msg",innerHTML:z.timeSettingsDlg.statusMsg},G);var H=new c({"class":"calcite primary js-timeOptions-btn",label:this.i18n.ok,type:"button"},u.create("button",{},G));G=new c({"class":"calcite cancel js-timeOptions-btn",label:this.i18n.cancel,type:"button"},u.create("button",{},G));this.own(w(G,"click",
N.hitch(this,function(){x.hide()})),w(x,"hide",N.hitch(this,function(){x.destroyRecursive();F.resolve(this.item)})),w(H,"click",N.hitch(this,function(){this.set("disabled",!0);var J=this.get("value"),M={updateDefinition:v.stringify(J)},K=(this.item.adminUrl||this.item.url.replace("/rest/","/rest/admin/"))+"/"+this.layer.id+"/updateDefinition";J.timeInfo&&J.timeInfo.startTimeField&&J.timeInfo.startTimeField===J.timeInfo.endTimeField?(this.set("disabled",!1),this._showError(z.itemProperties.error.sameTimeField)):
p.request({url:K,content:M},{usePost:!0}).then(N.hitch(this,function(L){this.item.set("maxAgeCheck",!0);this.layer=N.mixin(this.layer,J);x.hide();F.resolve(J)}),N.hitch(this,function(L){this.set("disabled",!1);return this._showError(L)}))})));x.set("title",D&&D.title||z.timeSettingsDlg.timeSettingsDlgTitle);x.setContent(E);x.show();return F},_showError:function(D){D=D&&D.error||D||this.i18n.errors.genericError;D.code=D.messageCode||D.code;D=this.i18n.errors[D.code]||D||this.i18n.errors.error;D.details=
D.details&&N.isArray(D.details)&&D.details.length?n.filter(D.details,"return item !\x3d\x3d null"):null;if(D.details&&D.details.length){var F="\x3cul\x3e";n.forEach(D.details,function(E){F+="\x3cli\x3e"+E+"\x3c/li\x3e"});F+="\x3c/ul\x3e\x3cbr/\x3e";D.message=D.message?"\x3cdiv\x3e"+D.message+"\x3c/div\x3e\x3cbr/\x3e"+F:F}if(D.message&&-1===D.message.indexOf("Request canceled")){D=N.mixin(N.mixin({hideCancel:!0},this.i18n.errors.error),D);var x=new y({});return x.show(D).then(N.hitch(this,function(){x.hide().then(dojo.hitch(this,
function(){this.set("disabled",!1)}))}))}}})})},"arcgisonline/sharing/dijit/dialog/UpdateItemDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/CheckBox,dijit/form/Button,dijit/InlineEditBox,dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/pages/pageUtil,arcgisonline/pages/utils/dom,arcgisonline/pages/dijit/UploadProgressBar,arcgisonline/sharing/util,arcgisonline/sharing/geow/Community,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Item,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/dijit/dialog/TagsDlg,dojo/promise/all,dojo/number"],
function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.UpdateItemDlg");R.require("dijit.form.SimpleTextarea");R.require("dijit.form.TextBox");R.require("dijit.form.CheckBox");R.require("dijit.form.Button");R.require("dijit.InlineEditBox");R.require("dijit.Dialog");R.require("dijit._Widget");R.require("dijit._Templated");R.require("arcgisonline.pages.pageUtil");R.require("arcgisonline.pages.utils.dom");R.require("arcgisonline.pages.dijit.UploadProgressBar");R.require("arcgisonline.sharing.util");
R.require("arcgisonline.sharing.geow.Community");R.require("arcgisonline.sharing.geow.Content");R.require("arcgisonline.sharing.geow.Item");R.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");R.require("arcgisonline.sharing.dijit.dialog.TagsDlg");R.require("dojo.promise.all");R.require("dojo.number");R.declare("arcgisonline.sharing.dijit.dialog.UpdateItemDlg",[N._Widget,N._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,
itemAPI:arcgisonline.sharing.geow.Item,pageUtil:arcgisonline.pages.pageUtil,domUtil:arcgisonline.pages.utils.dom,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_updateItemDialog" title\x3d"${i18n.updateItem}" dojoAttachEvent\x3d"hide:clear" execute\x3d"" class\x3d"update-item-dlg"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_errorDiv"\x3e\x3c/div\x3e\r\n    \x3cform dojoAttachPoint\x3d"_updateItemForm" enctype\x3d"multipart/form-data"\x3e\r\n      \x3cdiv dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemFolderInput" type\x3d"hidden" value\x3d"0"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"id" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemIdInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"name" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemNameInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"title" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTitleInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"tags" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTagsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"type" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTypeInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"typeKeywords" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemKeywordsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"description" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateDescriptionInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"snippet" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateSnippetInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"accessInformation" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateAccessInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"licenseInfo" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateLicenseInfoInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"extent" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateExtentInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"overwrite" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateOverwriteInput" type\x3d"hidden" value\x3d"true"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"async" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" dojoAttachPoint\x3d"_updateAsyncInput" value\x3d"true"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv\x3e\x3clabel class\x3d"font-size--1" dojoAttachPoint\x3d"_replaceUpdateVerLabel"\x3e${i18n.replaceUpdatedVersionMsg}\x3c/label\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3clabel class\x3d"esriFloatLeading esriTrailingMargin2" style\x3d"margin-top:6px;" for\x3d"update-item-file"\x3e${i18n.itemLabel}\x3c/label\x3e\r\n        \x3cinput type\x3d"file" dojoAttachPoint\x3d"_updateItemFile" id\x3d"update-item-file" name\x3d"file" size\x3d"40" class\x3d"esriFileInput"\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"overwrite_section" class\x3d"hide" style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3cinput id\x3d"overwriteService" type\x3d"checkbox" name\x3d"overwriteService" dojotype\x3d"dijit.form.CheckBox" checked\x3d"checked" dojoAttachPoint\x3d"_overwriteService"/\x3e\r\n        \x3clabel id\x3d"overwriteServiceLbl" for\x3d"overwriteService"\x3e${i18n.overwriteService} ${i18n.keepFieldsSame}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"update-item-keepdescription" style\x3d"width:100%;display:none;"\x3e\r\n        \x3cdiv style\x3d"padding-bottom:5px; padding-top:2px;"\x3e\r\n          \x3clabel\x3e${i18n.updateItemDescription}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"line-height:23px"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" checked\x3d"checked" dojoAttachPoint\x3d"_useDescKeepRadio" id\x3d"useDescription:keep"/\x3e\r\n          \x3clabel for\x3d"useDescription:keep"\x3e${i18n.keepExistingProperties}\x3c/label\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" dojoAttachPoint\x3d"_useDescUpdateRadio" id\x3d"useDescription:update"/\x3e\r\n          \x3clabel for\x3d"useDescription:update"\x3e${i18n.useUploadedProperties}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-half trailer-half flex"\x3e\r\n        \x3cdiv class\x3d"flex flex-1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_waitingSpan" class\x3d"hide flex-column-justify-center"\x3e${i18n.uploadingItem}\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_uploadProgressBar"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:_handleCancel" dojoAttachPoint\x3d"_cancelBtn" id\x3d"button_update-item-cancel" class\x3d"jevent cancel margin-right-half" type\x3d"cancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton id\x3d"button_update-item" type\x3d"button" dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:uploadItem" class\x3d"primary" dojoAttachPoint\x3d"_updateItemBtn"\x3e${i18n.updateItem}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
item:null,admin:null,i18n:null,_replaceUpdateVerLabel:null,_updateItemDialog:null,_updateItemForm:null,_updateItemBtn:null,_cancelBtn:null,_waitingSpan:null,_useDescUpdateRadio:null,_useDescKeepRadio:null,_updateItemFile:null,_errorDiv:null,_updateItemFolderInput:null,_updateItemIdInput:null,_updateItemNameInput:null,_updateItemTitleInout:null,_updateItemTagsInput:null,_updateItemTypeInput:null,_updateItemKeywordsInput:null,_updateDescriptonInput:null,_updateSnippetInput:null,_updateAccessInput:null,
_updateLicenseInfoInput:null,_updateExtentInput:null,_updateOverwriteInput:null,_updateAsyncInput:null,statics:{_instance:null,getInstance:function(){null===this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.UpdateItemDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").updateItemDlg);R.mixin(this.i18n,{updating:R.i18n.getLocalization("arcgisonline",
"arcgisonline").addItemFrm.updating})},postCreate:function(){},show:function(t,u){var h={Shapefile:1,"File Geodatabase":1,GeoJson:1,CSV:1,"Microsoft Excel":1},f=t&&t.publishParameters&&"address"===t.publishParameters.locationType;this.item=t;u&&null!==this.adminUser&&(this.admin=u);"Layer Package"==t.type&&R.style(R.byId("update-item-keepdescription"),"display","block");"Vector Tile Service"===t.type?(R.attr(this._replaceUpdateVerLabel,"innerHTML",this.i18n.overwriteStyle),this._updateItemDialog.set("title",
this.i18n.updateStyle),this._updateItemBtn.set("label",this.i18n.updateStyle)):(this.itemName=this.item.sourceData&&this.item.sourceData.name||this.item.name,R.attr(this._replaceUpdateVerLabel,"innerHTML",R.string.substitute(this.i18n.replaceUpdatedVersionMsg,[this.itemName])));t&&t.type in h&&t.relatedService?this._overwriteService.set("checked",!1):t&&t.sourceData?(this._updateItemDialog.set("title",this.i18n.updateFeatures),this._updateItemBtn.set("label",this.i18n.updateFeatures),h=R.string.substitute(f?
this.i18n.overwriteServiceWithCreditsMsg:this.i18n.overwriteServiceMsg,[t.title,t.sourceData.name]),R.attr(this._replaceUpdateVerLabel,"innerHTML",h)):this._overwriteService.set("checked",!1);t&&t.sourceData&&(esri.hide(this._overwriteService.domNode),R.attr("overwriteServiceLbl","innerHTML",this.i18n.keepFieldsSame),R.removeClass("overwrite_section","hide"));this._updateItemDialog.show();this._uploadProgressBar=new arcgisonline.pages.dijit.UploadProgressBar({},this._uploadProgressBar);this._uploadProgressBar.startup();
this._uploadProgressBar.hide()},clear:function(){this._updateItemFile.value="";this._useDescKeepRadio.set("checked",!0);this._useDescUpdateRadio.set("checked",!1);this._overwriteService.set("checked",!0)},_handleCancel:function(t){t.preventDefault();this._updateItemDialog.hide()},hide:function(){this._disable(!1);this._updateItemDialog.hide()},uploadItem:function(t){t.preventDefault();if(0===this._updateItemFile.value.length)return arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.errorLabel,
message:this.i18n.error.providePath}),!1;t=this._fetchItem(this.item).then(R.hitch(this,"loadFile"));if(this.item.sourceData||this.item.relatedService&&this._overwriteService.get("checked"))R.attr(this._waitingSpan,"innerHTML",this.i18n.updating),t=t.then(R.hitch(this,"_updateServiceData",this.item.sourceData||this.item)).then(R.hitch(this,"_resetServiceTitle",this.item));return t.then(R.hitch(this,function(u){u&&!u.success&&u.error&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:u.error.message||this.i18n.error.errorWhileUpdate});u&&u.serviceItemId?(this._disable(!1),this._updateItemDialog.hide(),window.location="item.html?id\x3d"+u.serviceItemId+(u.jobId?"\x26jobid\x3d"+u.jobId:"")):R.publish("itemData/update",[""]);return!0}),R.hitch(this,function(u){R.isObject(u)&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,message:u.message||this.i18n.error.errorWhileUpdate});this._disable(!1)}))},_updateServiceData:function(t){var u=
new R.Deferred;this._checkStatus(t,500,R.hitch(this,function(h){var f=esriGeowConfig.restBaseUrl+"content/users/"+h.owner+"/publish",g,k,w={itemid:h.id,filetype:{"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel"}[h.type.toLowerCase()],overwrite:!0,publishParameters:R.json.stringify({name:this.item.title?this.item.title.replace(/ /g,"_"):h.title.replace(/ /g,"_")})};R.attr(this._waitingSpan,"innerHTML",this.i18n.updating);R.promise.all([this._fetchPublishParameters(this.item),
this._fetchServiceInfo(this.item.relatedService||this.item)]).then(R.hitch(this,function(v){g=v[1];(k=v[0])&&"CSV"===h.type?(v=R.mixin(R.mixin({},g.layers&&g.layers[0]),{fields:k.layerInfo.fields}),w.publishParameters=R.mixin(k,{layerInfo:v,name:k.name||h.title.replace(/ /g,"_")})):k&&"Microsoft Excel"===h.type?(w.publishParameters=this._generateExcelOverwritePublishParameters(k,g),g=null):w.publishParameters={name:h.title?h.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};w.publishParameters=
g?R.json.stringify(R.mixin(w.publishParameters,g)):w.publishParameters;return this.util.request({url:f,content:w},{usePost:!0}).then(R.hitch(this,function(C){u.resolve(C&&C.services&&C.services[0]||{serviceItemId:h.id})}),R.hitch(this,function(C){u.reject(C)}))}))}));return u},_generateExcelOverwritePublishParameters:function(t,u){u.name=t.name;u.sourceSR=t.sourceSR;u.targetSR=t.targetSR;for(var h=0;h<u.tables.length;h++)"Review"!=u.tables[h].name&&(u.layers[u.layers.length]=u.tables[h]);for(h=0;h<
u.layers.length;h++)u.layers[h].excelSheetId=t.layers[h].excelSheetId,u.layers[h].locationType=t.layers[h].locationType,u.layers[h].latitudeFieldName=t.layers[h].latitudeFieldName,u.layers[h].longitudeFieldName=t.layers[h].longitudeFieldName,u.layers[h].geocodeServiceUrl=t.layers[h].geocodeServiceUrl,u.layers[h].sourceLocale=t.layers[h].sourceLocale,u.layers[h].sourceCountry=t.layers[h].sourceCountry,u.layers[h].standardizedFieldNames=t.layers[h].standardizedFieldNames,u.layers[h].addressFields=t.layers[h].addressFields;
return JSON.stringify(u)},_resetServiceTitle:function(t,u){var h=new R.Deferred,f=this.util.getUser(),g=t.title||"",k=t.folderId||t.ownerFolder;f=esriGeowConfig.restBaseUrl+"content/users/"+(t.owner||f.username)+"/"+(k?k+"/":"")+"items/"+t.id+"/update";g=-1!==t.typeKeywords.indexOf("Involved Lookup")?{title:g,typeKeywords:t.typeKeywords.toString()+",showUnmatchedAddresses"}:{title:g};this.util.request({url:f,content:g},{usePost:!0}).then(R.hitch(this,function(){h.resolve(u)}),R.hitch(this,function(){h.resolve(u)}));
return h},_fetchServiceInfo:function(t){t=t.url;var u={addToken:(this.util.isHostedService(t)||this.util.isAgolService(t))&&!1!==esriGeowConfig.isMultiTenant},h=new R.Deferred,f;R.promise.all([this.util.request({url:t},u),this.util.request({url:t+"/layers"},u)]).then(R.hitch(this,function(g){var k={},w=g&&1<g.length&&g[1],v=w&&w.layers;w=w&&w.tables;v&&v.length&&(R.forEach(v,function(C){delete C.fields}),k.layers=v);w&&w.length&&(k.tables=w);f=R.mixin(g[0],k);h.resolve(f)}));return h},_fetchPublishParameters:function(t){var u=
esriGeowConfig.restBaseUrl+"content/items/"+t.id+"/info/publishParameters.json";t.publishParameters?(u=new R.Deferred,u.resolve(t.publishParameters)):!t.sourceData||"CSV"!==t.sourceData.type&&"Microsoft Excel"!==t.sourceData.type?(u=new R.Deferred,u.resolve(!1)):u=this.util.request({url:u}).then(R.hitch(this,function(h){return h}));return u},_fetchItem:function(t){if(t.sourceData)var u=this.util.request({url:esriGeowConfig.restBaseUrl+"content/items/"+t.sourceData.id}).then(R.hitch(this,function(h){h.folderId=
h.ownerFolder;return h}));else u=new R.Deferred,u.resolve(t);return u},loadFile:function(t){var u=new R.Deferred,h=this._updateItemFile.value,f=h.lastIndexOf("\\"),g=t.type;-1<f&&(h=h.substring(f+1,h.length));h=h.replace(/ /g,"_");if("Vector Tile Service"!==t.type&&this.itemName!=h)return t=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),t.show({title:this.i18n.errorLabel,message:R.string.substitute(this.i18n.error.sameFileName,[this.itemName])}),this._updateItemFile.value=
"",u.reject(!0),u;if("Vector Tile Service"===t.type){f=/(?:\.([^.]+))?$/;var k=h.replace(/^.*(\\|\/|:)/,"");if("json"!==(h?f.exec(k)[1].toLowerCase():""))return t=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),t.show({title:this.i18n.errorLabel,message:this.i18n.error.invalidStyleFileExtension}),this._updateItemFile.value="",u.reject(!0),u}this._disable(!0);h=!0;"Layer Package"==g&&(h=R.byId("useDescription:keep").checked);this._updateItemNameInput.set("value",this.itemName);
this._updateItemTitleInput.set("value",t.title);this._updateItemTagsInput.set("value",t.tags);this._updateItemTypeInput.set("value",g);this._updateItemKeywordsInput.set("value",t.typeKeywords);this._updateAccessInput.set("value",t.accessInformation);this._updateLicenseInfoInput.set("value",t.licenseInfo);this._updateItemFolderInput.set("value",t.folderId);h?(this._updateDescriptionInput.set("value",t.description),this._updateSnippetInput.set("value",t.snippet),this._updateExtentInput.set("value",
t.extent)):(this._updateDescriptionInput.set("value",""),this._updateSnippetInput.set("value",""),this._updateExtentInput.set("value",""));var w=function(v,C){if(!v.success||"completed"!==v.status&&v.status){var A=this.i18n.error.errorWhileUpdate;v&&v.error&&v.error.message&&(A=v.error.message);-1<A.indexOf("The request size is greater than the max allowed of 1024MB")&&(A=this.i18n.error.exceedFileSizeLimit);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:A});u.reject(!0)}else u.resolve(!0)};g=function(v){this._disable(!1);u.reject(v)};t&&"Vector Tile Service"===t.type?this._updateItemResource(t,this._updateItemForm).then(R.hitch(this,w),R.hitch(this,g)):(this._uploadProgressBar.reset(),this._uploadProgressBar.show(),this.itemAPI.update.call(this.itemAPI,t,this._updateItemForm,this._updateItemFile.files[0]).then(function(v){this._uploadProgressBar.hide();w(v)}.bind(this),g.bind(this)));return u},_updateItemResource:function(t,u){var h=this.util.getUser(),
f=t.folderId||t.ownerFolder;h={url:esriGeowConfig.restBaseUrl+"content/users/"+(t.owner||h.username)+"/"+(f?f+"/":"")+"/items/"+t.id+"/updateResources",form:u,content:{resourcesPrefix:"styles",filename:"root.json"}};R.query("input",u).forEach(R.hitch(this,function(g){g&&"file"!==g.name&&R.attr(g,"name","")}));return this.util.request(h,{usePost:!0}).then(R.hitch(this,function(g){return g}),R.hitch(this,function(g){throw{message:this.i18n.error.invalidStyleFile};}))},_checkStatus:function(t,u,h){this.util.request({url:esriGeowConfig.restBaseUrl+
"content/users/"+t.owner+(t.ownerFolder&&"/"!==t.ownerFolder?"/"+t.ownerFolder:"")+"/items/"+t.id+"/status"}).then(R.hitch(this,function(f){f=f||{status:"failed"};"completed"===f.status?h(t):(u=(u||500)+250,setTimeout(R.hitch(this,function(){this._checkStatus(t,u,h)}),u))}))},_disable:function(t){this._updateItemBtn.set("disabled",t);this._cancelBtn.set("disabled",t);this.domUtil.showHide(this._waitingSpan,t);R.style(this._waitingSpan,"display",t?"inline-block":"none")}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(R,N,n,t){return R("dijit.form.SimpleTextarea",t,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);n("ie")&&this.cols&&
N.add(this.textbox,"dijitTextAreaCols")},filter:function(u){u&&(u=u.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(u){if(this.maxLength){var h=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,"");h=f.length-h;if(0<h){var g=this.textbox;if(g.selectionStart){var k=g.selectionStart,w=0;n("opera")&&(w=(this.textbox.value.substring(0,k).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,k-h-w)+f.substring(k-w);g.setSelectionRange(k-h,k-h)}else this.ownerDocument.selection&&
(g.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-h),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B){b=t("dijit._InlineEditor",[a,b,c],{templateString:B,contextRequire:R,postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit","common",this.lang);N.forEach(["buttonSave","buttonCancel"],function(z){this[z]||(this[z]=this.messages[z])},this)},buildRendering:function(){this.inherited(arguments);var z="string"==typeof this.editor?C.getObject(this.editor)||R(this.editor):this.editor,D=this.sourceStyle,
F="line-height:"+D.lineHeight+";",x=g.getComputedStyle(this.domNode);N.forEach(["Weight","Family","Size","Style"],function(G){x["font"+G]!=D["font"+G]&&(F+="font-"+G+":"+D["font"+G]+";")},this);N.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(G){this.domNode.style[G]=D[G]},this);var E=this.inlineEditBox.width;"100%"==E?(F+="width:100%;",this.domNode.style.display="block"):F+="width:"+(E+(Number(E)==E?"px":""))+";";E=C.delegate(this.inlineEditBox.editorParams,
{style:F,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new z(E,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var z=this.editWidget;this.inlineEditBox.autoSave?this.own(n.after(z,"onChange",C.hitch(this,"_onChange"),!0),A(z,"keydown",C.hitch(this,"_onKeyDown"))):"intermediateChanges"in z&&(z.set("intermediateChanges",
!0),this.own(n.after(z,"onChange",C.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var z=this.editWidget;return String(z.get("displayedValue"in z||"_getDisplayedValueAttr"in z?"displayedValue":
"value"))},_onKeyDown:function(z){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!z.altKey&&!z.ctrlKey&&(z.keyCode==v.ESCAPE?(z.stopPropagation(),z.preventDefault(),this.cancel(!0)):z.keyCode==v.ENTER&&"INPUT"==z.target.tagName&&(z.stopPropagation(),z.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&e.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(e._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){q.selectInputText(this.editWidget.focusNode)}))}});a=t("dijit.InlineEditBox"+(r("dojo-bidi")?"_NoBidi":""),a,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:y,editorWrapper:b,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=r("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(A(this.displayNode,d,C.hitch(this,"_onClick")),A(this.displayNode,"mouseover, focus",C.hitch(this,"_onMouseOver")),A(this.displayNode,"mouseout, blur",C.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=C.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);h.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(z){w.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",z)},_setDisabledAttr:function(z){this.domNode.setAttribute("aria-disabled",z?"true":"false");z?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);h.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",z);this._set("disabled",z)},_onMouseOver:function(){this.disabled||h.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){h.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(z){this.disabled||(z&&(z.stopPropagation(),z.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
u.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var z=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?C.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:g.getComputedStyle(this.displayNode),save:C.hitch(this,"save"),cancel:C.hitch(this,"cancel"),
textDir:this.textDir},z);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var D=this.wrapperWidget;h.add(this.displayNode,"dijitOffScreen");h.remove(D.domNode,"dijitOffScreen");g.set(D.domNode,{visibility:"visible"});u.set(this.displayNode,"tabIndex","-1");var F=D.editWidget,x=this;l(F.onLoadDeferred,C.hitch(D,function(){F.set("displayedValue"in F||"_setDisplayedValueAttr"in F?"displayedValue":"value",x.value);this.defer(function(){D.saveButton&&D.saveButton.set("disabled",
"intermediateChanges"in F);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(z){var D=this.wrapperWidget;g.set(D.domNode,{visibility:"hidden"});h.add(D.domNode,"dijitOffScreen");h.remove(this.displayNode,"dijitOffScreen");u.set(this.displayNode,"tabIndex",this._savedTabIndex);z&&
e.focus(this.displayNode)},save:function(z){if(!this.disabled&&this.editing){this._set("editing",!1);var D=this.wrapperWidget.getValue();this.set("value",D);this._showText(z)}},setValue:function(z){w.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",z)},_setValueAttr:function(z){z=C.trim(z);var D=this.renderAsHtml?z:z.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":D||this.noValueIndicator;this._set("value",z);this._started&&this.defer(function(){this.onChange(z)})},getValue:function(){w.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(z){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(z))}});r("dojo-bidi")&&(a=t("dijit.InlineEditBox",
a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));a._InlineEditor=b;return a})},"arcgisonline/pages/dijit/UploadProgressBar":function(){define("require exports tslib dojo/topic dojo/text!./UploadProgressBar/UploadProgressBar.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../utils/dom ../utils/culture ../../tsutils/declareDecorator".split(" "),function(R,N,n,t,u,h,f,g,k,w,v){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);return function(){function C(A,r){this.templateString=u["default"];this.i18n=h["default"]}C.prototype.startup=function(){this.inherited(arguments);this.own(t["default"].subscribe("item/upload-progress-update",this._onProgressUpdate.bind(this)))};C.prototype.hide=function(){k["default"].hideNode(this.domNode)};C.prototype.show=function(){k["default"].showNode(this.domNode)};C.prototype.reset=
function(){this._uploadPercentLabel.textContent=this._uploadProgressFill.style.width="0%";this._uploadPercentLabel.innerHTML=w["default"].getPercentString(0);this._uploadProgressFill.style.width="0%"};C.prototype._onProgressUpdate=function(A){this._uploadProgressFill.classList[100===A?"add":"remove"]("upload-progress-bar__fill--full");this._uploadPercentLabel.innerHTML=w["default"].getPercentString(A/100);this._uploadProgressFill.style.width=A+"%"};return C=n.__decorate([v["default"](g["default"],
f["default"])],C)}()})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],function(R,N,n,t,u){t=n.__importDefault(t);u=n.__importDefault(u);return function(){function h(){}h.getString=function(f,g,k){var w,v="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),C="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),A=null!==(w=h.getRootLocale(u["default"].locale))&&void 0!==w?w:"en";k?k.number=g:k={number:g};return 1===g||-1<v.indexOf(A)?
t["default"].substitute(f.single,k):1!==g&&-1<C.indexOf(A)?t["default"].substitute(f.multiple,k):t["default"].substitute(f.unknown,k)};h.stripCultureFormat=function(f,g){if((null===f||void 0===f?0:f.length)&&(null===g||void 0===g?0:g.length)){var k=f.indexOf("-"+g);if(-1<k)return f.substring(0,k)}return f};h.getRootLocale=function(f){if(null===f||void 0===f?0:f.length){f=f.split("-")[0];if(null===f||void 0===f?0:f.length)f=f.toLowerCase();return f}return f};h.getLocaleFormat=function(f){if(null===
f||void 0===f?0:f.length)if(f=f.split("-"),1<f.length)return f[1].toLowerCase()};h.getTrialLocale=function(f){var g=["pt-br","pt-pt","zh-cn","zh-hk","zh-tw"];return-1<(null===f||void 0===f?void 0:f.indexOf("-"))&&-1===g.indexOf(f)?this.getRootLocale(f):f};h.getActualCulture=function(f,g){var k,w=null!==(k=null===f||void 0===f?void 0:f.toLowerCase())&&void 0!==k?k:"",v=w.split("-");if(1<v.length){if(k=g.filter(function(C){return C.culture===w}).shift())return w;k=g.filter(function(C){return C.culture===
v[0]}).shift();if(null===k||void 0===k?0:k.cultureFormats){if(k.cultureFormats.filter(function(C){return C.format===v[1]}).shift())return k.culture}else if(k)return k.culture}return f};h.getSelectedFormat=function(f,g){return g.filter(function(k){return k.format===f}).shift()};h.getPercentString=function(f){var g=u["default"].locale.toLowerCase();return"ar"===g?"%"+100*f:f.toLocaleString(g,{style:"percent"})};return h}()})},"arcgisonline/sharing/geow/Item":function(){define("require exports tslib ../../esriGeowConfig ../util dojo/Deferred dojo/dom-form dojo/topic dojo/promise/all esri/request".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(){}v.addItem=function(C,A,r){return v._action(C,A,r,"addItem")};v.update=function(C,A,r){return v._action(C,A,r,"update")};v._action=function(C,A,r,l){if(u["default"].getUser())return l=v._getActionItemUrl(C,l),C=5242880<r.size?v._multiPartAction(l,A,r,C):v._postForm(l,A)};v._multiPartAction=
function(C,A,r,l){var d=new h["default"],e=function(m){d.reject(m)},a=function(m){m.isMultipart=!0;d.resolve(m)},b=function(m){v._commitItem(l,A).then(a,e)},c=function(m){v._cancelItem(l);"Request canceled"!==m.message&&e.call(v,m)};v._startMultipartRequest(C,l.fileName?l.fileName:r.name).then(function(m){m.success?(l.id=m.id,v._addItemParts(l,r).then(b,c)):e.call(v,m.error)},e);return d};v._postForm=function(C,A){return u["default"].request({url:C,form:A,timeout:0},{usePost:!0})};v._startMultipartRequest=
function(C,A){return u["default"].request({url:C,content:{multipart:!0,filename:A,async:!0}},{usePost:!0})};v.generatePart=function(C,A){var r,l,d,e,a,b,c,m,p;return n.__generator(this,function(q){switch(q.label){case 0:r=C.name,l=C.size,d=5242880,e=Math.ceil(l/d),a=0,1E4<e&&(d=Math.ceil(l/1E4),e=Math.ceil(l/d)),q.label=1;case 1:if(!(a<e))return[3,3];b=new FormData;c=a*d;m=C.slice(c,c+d);a++;p={partNum:a,size:m.size};b.append("partNum",String(p.partNum));b.append("streamdata","true");b.append("f",
"json");b.append("token",A);b.append("file",m,r);return[4,{partData:p,formData:b}];case 2:return q.sent(),[3,1];case 3:return[2]}})};v._addItemParts=function(C,A){var r=this,l=A.size,d=new h["default"],e={};this.pendingRequests=[];var a=3;g["default"].subscribe("cancel-item-upload",function(){r.pendingRequests.forEach(function(p){p&&!p.isFulfilled()&&p.cancel()})});var b=v.generatePart(A,u["default"].getToken()),c=!0,m=function(){if(c){var p=[];v.uploadError=!1;for(var q=0;q<a;q++){var y=b.next(),
B=y.value;if(y.done){c=!1;break}p.push(B)}k["default"](p.map(function(z){var D=new h["default"];return v._addPartWithRetries(C,z.partData,z.formData,1,l,e,D)})).then(function(){c||d.resolve();a=v.uploadError?Math.ceil(a/2):Math.min(++a,10);m()},function(z){c=!1;d.reject(z)})}};m();return d};v._addPartWithRetries=function(C,A,r,l,d,e,a){var b=v._getActionItemUrl(C,"addPart");b=w["default"]({url:b,form:r,timeout:0},{returnProgress:!0,disableIdentityLookup:!0}).then(function(c){c.success?a.resolve(c):
a.reject(c.error)},function(c){l++;v.uploadError=!0;"Request canceled"!==c.message&&7>=l?v._addPartWithRetries(C,A,r,l,d,e,a):a.reject(c)},function(c){c.loaded&&"upload"===c.transferType&&(e[A.partNum.toString()]=c.loaded,c=Object.keys(e).reduce(function(m,p){return m+e[p]},0),g["default"].publish("item/upload-progress-update",Math.floor(c/d*100)))});v.pendingRequests.push(b);return a};v._commitItem=function(C,A){var r=v._getActionItemUrl(C,"commit");var l=A instanceof FormData?{title:C.fileName,
type:C.fileType}:n.__assign({},f["default"].toObject(A));return u["default"].request({url:r,content:l},{usePost:!0})};v._cancelItem=function(C){C=v._getActionItemUrl(C,"cancel");return u["default"].request({url:C},{usePost:!0})};v._getUserUrl=function(C){var A=u["default"].getUser();A=A.username||A.email;return t["default"].restBaseUrl+"content/users/"+(C.owner||A)};v._getActionItemUrl=function(C,A){var r=this._getUserUrl(C);C.folderId&&(r=r+"/"+C.folderId);return r="addItem"===A?r+"/addItem":r+"/items/"+
C.id+"/"+A};v.uploadError=!1;return v}()})},"arcgisonline/sharing/dijit/dialog/TagsDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/MultiSelect,dijit/form/SimpleTextarea,arcgisonline/sharing/geow/Content"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.TagsDlg");R.require("dijit._Widget");R.require("dijit._Templated");R.require("dijit.Dialog");R.require("dijit.form.MultiSelect");R.require("dijit.form.SimpleTextarea");
R.require("arcgisonline.sharing.geow.Content");R.declare("arcgisonline.sharing.dijit.dialog.TagsDlg",[N._Widget,N._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_tagsDialog" dojoAttachPoint\x3d"onHide:clear" title\x3d"${i18n.tagDlgTitle}" class\x3d"tagsForm"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_tagsErrorDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentTagsDiv" style\x3d"display:block;"\x3e\r\n\t\t\x3clabel \x3e${i18n.selectTag}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t    \x3cselect dojoAttachPoint\x3d"_tagsSelect" dojoType\x3d"dijit.form.MultiSelect" style\x3d"width:100%;height:150px;"\x3e\x3c/select\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_cancelBtn" dojotype\x3d"dijit.form.Button" class\x3d"cancel" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.cancel}\x3c/div\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_submitBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" type\x3d"submit" dojoAttachEvent\x3d"onClick:getSelectedTags" style\x3d"float:right;"\x3e${i18n.useSelected}\x3c/div\x3e  \r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentNoTagsDiv" style\x3d"display:none;"\x3e\r\n\t\t\x3clabel\x3e${i18n.tagsNotAvailable}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv id\x3d"button_tags-ok" dojoAttachPoint\x3d"_okBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.ok}\x3c/div\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
_tagsDialog:null,_contentTagsDiv:null,_contentNoTagsDiv:null,_tagsSelect:null,i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TagsDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").tagsDlg)},postCreate:function(){},_handleCancelClick:function(t){t.preventDefault();
this._tagsDialog.hide()},clear:function(){this._tagsSelect.reset();R.style(this._contentTagsDiv,"display","none");R.style(this._contentNoTagsDiv,"display","none")},hide:function(){this._tagsDialog.hide()},show:function(t){this.clear();var u=arcgisonline.sharing.util.getUser(),h=esriGeowConfig.restBaseUrl+"community/users/";h=t&&(t.username||t.email)?h+(t.username?t.username:t.email):h+u.username;arcgisonline.sharing.util.getJson(h+"/tags",R.hitch(this,this._handleTagResponse),R.hitch(this,this._handleError));
this._tagsDialog.show()},_handleTagResponse:function(t){0==t.tags.length?R.style(this._contentNoTagsDiv,"display",""):(R.style(this._contentTagsDiv,"display",""),R.empty(this._tagsSelect.domNode),R.forEach(t.tags,function(u){R.create("option",{innerHTML:u.tag,value:u.tag},this._tagsSelect.domNode)},this))},_handleError:function(t){},getSelectedTags:function(t){t.preventDefault();t=[];t=this._tagsSelect.get("value");R.publish("onSelectedTagsUpdate",[t.toString()])}})})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),
function(R,N,n,t,u,h){h=N("dijit.form.MultiSelect"+(t("dojo-bidi")?"_NoBidi":""),h,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(g){this.containerNode.appendChild(g);this.domNode.scrollTop=this.domNode.offsetHeight;g=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=
g},this);this._set("value",this.get("value"))},getSelected:function(){return u("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return R.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(f){t("android")?u("option",this.containerNode).orphan().forEach(function(g){var k=g.ownerDocument.createElement("option");k.value=g.value;k.selected=-1!=R.indexOf(f,g.value);k.text=g.text;k.originalText=
g.originalText;this.containerNode.appendChild(k)},this):u("option",this.containerNode).forEach(function(g){g.selected=-1!=R.indexOf(f,g.value)});this.inherited(arguments)},invertSelection:function(f){var g=[];u("option",this.containerNode).forEach(function(k){k.selected||g.push(k.value)});this._setValueAttr(g,!(!1===f||null==f))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&n.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));
this.inherited(arguments)}});t("dojo-bidi")&&(h=N("dijit.form.MultiSelect",h,{addSelected:function(f){f.getSelected().forEach(function(g){g.text=this.enforceTextDirWithUcc(this.restoreOriginalText(g),g.text)},this);this.inherited(arguments)},_setTextDirAttr:function(f){this.textDir==f&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",f),u("option",this.containerNode).forEach(function(g){this._created||g.value!==g.text||(g.value=g.text);g.text=this.enforceTextDirWithUcc(g,g.originalText||
g.text)},this))}}));return h})},"arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/CheckBox dijit/form/TextBox dijit/form/RadioButton dijit/form/Select ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys ./_CreateItemUtilMixin ./ItemPropertiesDlg dojo/topic esri/IdentityManager esri/lang esri/Evented esri/arcgis/Portal ../../geow/Account ./_PublishTileServiceDlgMixin ../../../esriGeowConfig ../../util ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/serviceUtil ../../../pages/statusUtil ../../../map/core/canUseForPublish esri/map esri/tasks/Geoprocessor esri/dijit/VisibleScaleRangeSlider ../../../pages/isGeographic preact ../../../pages/components/SelectLayerProperties dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y,Q,fa,S,O,I,Z,W,ca){return R("arcgisonline.sharing.dijit.dialog.PublishTilesDlg2",[g,k,w,ba,K],{baseClass:"esriPublishTilesDlg",showFolders:!1,_typeInfo:"mapserver",userFolders:"",templateString:ca,onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},W);this._portalUser=(this._portal=V.portal)&&this._portal.getPortalUser();switch(this.type){case "tiles":this._typeInfo=
"mapserver";break;case "scenes":this._typeInfo="sceneserver";break;case "features":this._typeInfo="featureserver";break;case "vectorTiles":this._typeInfo="vectortileserver";break;case "tiledImagery":case "dynamicImagery":this._typeInfo="imageserver";break;default:this._typeInfo=this.type}},postCreate:function(){this.inherited(arguments);U.getSelf(f.hitch(this,function(T){this._loadConnections();this._portal?this._init():(this._portal=new L.Portal({url:V.restBaseUrl,self:T}),this._portal.on("load",
f.hitch(this,function(){this._connect&&this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){this._restBaseUrl=V.allSSL?this._portal.portalUrl.replace("http:/","https:/"):this._portal.portalUrl;this._contentUrl=this._restBaseUrl+"content";this._publishUrl=this._contentUrl+"/users/"+this._portalUser.username;this.set("message",this.get("message"));this._portal&&!this._portal.isPortal&&(this.cacheStorageInfo.storageFormat="esriMapCacheStorageModeExploded");
this._itemPropertiesDlg.on("load",f.hitch(this,function(){this._loadData().then(f.hitch(this,function(T){this._itemPropertiesDlg.set("focus","title");"sceneserver"===this._typeInfo&&this._itemPropertiesDlg._title.set("disabled",!0);V.self.hasCategorySchema&&(T=[],this.fsItem?T=this.fsItem.categories||T:this._selectedService&&(T=this._selectedService.categories||T),this._itemPropertiesDlg.set("categories",T))}))}))},destroy:function(){t(".dijit",this.contentNode).map(m.byNode).forEach(function(T){T.destroyRecursive?
T.destroyRecursive():T.destroy&&T.destroy();T=null});this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._tagsDijit=this._portalUser=this._portal=null},_loadConnections:function(){this.own(H.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)})),H.subscribe("/esri/disable",f.hitch(this,function(T,P){this.set("disabled",T,P,!0)})),N(this._agoBasemapRadio,"click",f.hitch(this,
function(){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._updateLODs(this.lods)})),N(this._customBasemapRadio,"click",f.hitch(this,function(){t(".visibleScaleRange",this.domNode).addClass("hide");this._isUserDefinedTileInfo=!0;this._customBasemapUrl.set("disabled",!1);this.userDefinedTileInfo&&this._updateLODs(this.userDefinedTileInfo.lods)})),N(this._customBasemapUrl,"keyup",f.hitch(this,function(T){T.keyCode===x.ENTER&&(F.stop(T),this._customBasemapUrl.onChange(this._customBasemapUrl.get("value")))})),
N(this._customBasemapUrl,"change",f.hitch(this,function(T){T&&T.length?(this._customBasemapUrl.set("disabled",!0),this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._fetchTileLayerInfo(T,this._type).then(f.hitch(this,function(P){this.userDefinedTileInfoUrl=T;this.userDefinedTileInfo=P;this._updateLODs(P.lods);this._customBasemapUrl.set("disabled",!1);this.set("disabled",this._buildingVisibleRange)}),f.hitch(this,function(P){this.userDefinedTileInfo=null;this._showError(P)}))):
(this.userDefinedTileInfo=null,t(".visibleScaleRange",this.domNode).addClass("hide"))})),N(this._tilesOnDemand,"click",f.hitch(this,"_visibleScaleRangeChange")),N(this._selectAttributesContainer,"click",this._selectAttributesClick.bind(this)))},_selectAttributesClick:function(){var T=this.fsItem&&this.fsItem.layers||this._selectedServiceLayers,P=this.vtLayerProperties||this.fsItem&&this.fsItem.adminServiceInfo&&this.fsItem.adminServiceInfo.layerProperties||[],X=v.create("div",null,document.body,"last");
I.render(I.h(Z["default"],{layers:T,layerProperties:P,className:"normalize-modal",onCancel:function(){this._selectAttributesBtn.focus();I.render(null,X)}.bind(this),onSubmit:function(da){this.vtLayerProperties=da;this.vectorTilePublishParams=f.mixin(this.vectorTilePublishParams||{},{layerProperties:da});this._selectAttributesBtn.focus();I.render(null,X)}.bind(this)}),X);X.firstChild.classList.add("bring-modal-to-front")},_updateLODs:function(T){(T=T||this.lods)&&this.set("calculatedScales",this._calculateConstraints({layers:[{minScale:T[0].scale,
maxScale:T[T.length-1].scale}]}))},_adjustDefaultLODs:function(T){var P=T.maxScale||0,X=T.minScale||this.lods[0].scale;this.lods=e.filter(this.lods,function(da){return da.scale>=P&&da.scale<=X});return this._updateLODs(this.lods)},_getLayers:function(T){return T&&T.length?e.map(T,function(P){P.layerDefinition&&(P=f.mixin(P,P.layerDefinition),delete P.layerDefinition);return P}):null},_getLayerDefs:function(T){return T&&T.length?e.filter(T,function(P){return P.layerDefinition}).map(function(P){return{id:P.id,
layerDefinition:P.layerDefinition}}):null},_loadData:function(){if("imageserver"===this._typeInfo)return this._loadImageData();var T=new d;"wfs"!==this._type&&"ogcfeatures"!==this._type&&this.fsItem?(this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._selectedService=f.mixin({},this.fsItem),this._fetchFSInfo(this._selectedService).then(f.hitch(this,function(P){this._featureServiceJson=P.serviceInfo;this._selectedLayers=(this._selectedService.itemData=P.itemData)&&P.itemData.layers;
this._spatialReference=this._featureServiceJson&&this._featureServiceJson.spatialReference||{wkid:4326};"scenes"!==this._type||O(this._spatialReference)||(this._spatialReference.wkid?t(".sceneProperties .sceneDataDisplay",this.domNode).removeClass("hide"):(t(".sceneProperties .sceneDataDisplay",this.domNode).addClass("hide"),this._globalWkidRadio.set("checked",!0)));this._itemPropertiesDlg.set("summary",this._selectedService.snippet||"");this._itemPropertiesDlg.set("tags",this._selectedService.tags);
this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this._selectedService.title));this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders);n.set(this._globalWkidRadioLabel,"innerHTML",C.substitute(this.i18n.publishTileServiceDlg.globalWkid,{wkid:"4326"}));n.set(this._localWkidRadioLabel,"innerHTML",C.substitute(this.i18n.publishTileServiceDlg.localWkid,{wkid:""+this._spatialReference.wkid||4326}));this._selectedServiceLayers=P.layers&&P.layers.layers;this.set("calculatedScales",
this._calculateConstraints(P.layers));"tiles"===this._type&&this._checkTilesOnDemandSupport(P.layers);this.set("disabled",this._buildingVisibleRange);this.fsItem.isMultipatchFeatureService&&(t(".sceneProperties .sceneMultipatch",this.domNode).removeClass("hide"),P=this._featureServiceJson&&-1<this._featureServiceJson.capabilities.indexOf("ChangeTracking"),this._enableSceneUpdates.set("disabled",P));"vectorTiles"===this._type&&this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",
!0);T.resolve(this._selectedService)}),f.hitch(this,function(P){this._showError(P);T.reject(P)}))):(this.fsItem&&(this._itemPropertiesDlg.set("summary",this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders)),T.resolve(this.fsItem));return T},_loadImageData:function(){var T=new d;this.fsItem?(this._itemPropertiesDlg.set("summary",
this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders),T.resolve(this.fsItem)):T.reject(Error("Cannot locate image service item"));return T},_getSuggestedTitle:function(T,P){if("features"!==this._type)return P;var X=T&&T.resultData||[],da=this._type.toLowerCase(),ea="Feature Service";P=this.sublayer&&this.sublayer.name&&
P+"_"+this.sublayer.name||P;switch(da){case "wfs":ea="WFS";break;case "ogcfeatures":ea="OGCFeatureService";break;case "scenes":ea="Scene Service";break;case "features":ea="Feature Service";break;default:ea="Feature Service"}X=e.filter(X,function(ja){return ja.type&&ja.type===ea&&-1<ja.title.indexOf(P)});return P+(X.length?"_"+(X.length+1):"_1")},_setMessageAttr:{node:"_message",type:"innerHTML"},_getMessageAttr:function(){if(this.message)return this.message;var T=this._type.toLowerCase(),P=W.publishTileServiceDlg;
switch(T){case "wfs":return P.wfsServiceDetailsDesc;case "ogcfeatures":return P.ogcFeatureServiceDetailsDesc;case "scenes":return P.sceneServiceDetailsDesc;case "features":return P.viewServiceDetailsDesc;case "vectortiles":return P.vectorServiceDetailsDesc;default:return P.serviceDetailsDesc}},_setTypeAttr:function(T){this._type=T;"tiles"===T?t(".tileProperties",this.domNode).removeClass("hide"):"vectorTiles"===T?(t(".vectorTileProperties",this.domNode).removeClass("hide"),ia.showNode(this._tilePropertiesContainer),
ia.hideNode(this._tilesOnDemandContainer),this._customBasemapUrl.set("placeholder",this._customBasemapUrl.get("placeholder").replace("/MapServer","/VectorTileServer"))):"scenes"===T?t(".sceneProperties",this.domNode).removeClass("hide"):"features"===T&&(T=(this.fsItem&&this.fsItem.layers||this._selectedServiceLayers||[]).some(function(P,X){return P&&P.id!==X}))&&(this._preserveIds.set("checked",T),t(".viewProperties",this.domNode).removeClass("hide"))},_checkTilesOnDemandSupport:function(T){var P=
!1;V.tilesOnDemandEnabled&&T&&T.layers&&(P=!e.some(T.layers,function(X){return!1===Y(X,!1)}));b[P?"remove":"add"](this._tilesOnDemandContainer,"hide");this._tilesOnDemand.set("checked",P)},_enableChangeTrackingOnSource:function(){var T=new d,P=this.fsItem,X=P.isMultipatchFeatureService,da=this._featureServiceJson,ea=da&&da.capabilities||"";da=0<ea.indexOf("ChangeTracking");P=P.adminUrl+"/updateDefinition";ea={capabilities:da?ea:ea+",ChangeTracking"};X&&!da&&this._enableSceneUpdates.checked?aa.request({url:P,
content:{async:!0,updateDefinition:JSON.stringify(ea)}},{usePost:!0}).then(function(ja){ja.statusURL?qa.checkAsyncJobStatus(ja.statusURL).then(function(){T.resolve(!0)},function(){T.resolve(!0)}):T.resolve(!0)}):T.resolve(!0);return T},_getBusyMessageAttr:function(){var T=this._type.toLowerCase(),P=W.publishTileServiceDlg;switch(T){case "wfs":return P.publishingWfsService;case "ogcfeatures":return P.publishingOGCFeatureService;case "scenes":return P.publishingSceneService;case "features":return P.publishingViewService;
case "tiledimagery":return W.connectDataset.publishing;case "dynamicimagery":return W.connectDataset.publishing;default:return P.publishingTileService}},_setShowFoldersAttr:function(T){this._showFolders=T},_setItemAttr:function(T){if(!this.fsItem||this.fsItem&&T.url!==this.fsItem.url)this.fsItem=f.mixin({},T),this._created&&this._loadData().then(f.hitch(this,function(P){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._agoBasemapRadio.set("checked",!0);this._itemPropertiesDlg.set("focus",
"title");V.self.hasCategorySchema&&this._itemPropertiesDlg.set("categories",this.fsItem.categories)}))},_setFoldersAttr:function(T){var P=this._portalUser&&this._portalUser.username;this._userFolders=T.map(function(X){X&&X.id===P&&(X=f.mixin(X,{id:"/"}));return X})},_setFocusAttr:function(T){T=t(T,this.domNode);D.focus(T&&T.length?T[0]:this._title.domNode)},_setDisabledAttr:function(T,P,X){this.set("readOnly",T,P,X)},_setReadOnlyAttr:function(T,P,X){t(".dijit",this.domNode).map(m.byNode).forEach(function(da){da.set("disabled",
T)});t("a",this.domNode)[T?"addClass":"removeClass"]("disabledLink");t("label",this.domNode)[T?"addClass":"removeClass"]("disabled");this._itemPropertiesDlg.set("disabled",T);X||(T&&P&&H.publish("/dlg/busyMessage",P),H.publish("/esri/disable",T,P))},_setCalculatedScalesAttr:function(T){this._buildingVisibleRange=!0;var P={constraints:T,minScale:T.minScale,maxScale:T.maxScale||18055.954822},X=this.fsItem&&this.fsItem.url||this._selectedService&&this._selectedService.url,da=this.fsItem&&this.fsItem.layers||
this._selectedServiceLayers,ea=f.clone(this.userDefinedTileInfo&&this.userDefinedTileInfo.lods?this.userDefinedTileInfo.lods:this.tileCacheInfo.lods);"tiles"===this.type?(t(".visibleScaleRange",this.domNode).removeClass("hide"),this._visibleScaleRangeSlider&&(this._visibleScaleRangeSlider.destroyRecursive(),v.empty(this._visibleScaleRangeContainer)),this._visibleScaleRangeChangeHandler&&(this._visibleScaleRangeChangeHandler.remove(),this._visibleScaleRangeChangeHandler=void 0),X?(ia.showNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),ia.activateNode(this._visibleRangeLoader),r(e.map(da,f.hitch(this,function(ja){return ka.getSuggestedScaleRange(X+"/"+ja.id)}))).then(f.hitch(this,function(ja){var la,ma,oa;ja.forEach(f.hitch(this,function(sa,va){sa&&(la=M.isDefined(la)?sa&&sa.minScale>la?sa.minScale:la:sa?sa.minScale:T.minScale,oa=M.isDefined(oa)?sa&&sa.maxScale&&sa.maxScale<oa?sa.maxScale:oa:sa&&sa.maxScale?sa.maxScale:18055.954822,ma=M.isDefined(ma)?sa&&sa.minScale&&sa.minScale<ma?sa.minScale:ma:(sa&&
sa.minScale?sa.minScale:T.minScale)||this.SCALE_MIN)}));this._maxSupportedMinScale=T.minScale||this.SCALE_MIN;this._calculatedMinScale=(this._cacheOnDemandMinScale=ma||la)||T.minScale;P.minScale=this._calculatedMinScale;P.maxScale=oa||P.maxScale;P.minScale>T.minScale&&0<T.minScale&&(P.minScale=T.minScale);P.maxScale>=P.minScale&&0<P.minScale&&(P.maxScale=this._normalizeMaxScale(P.minScale,P.maxScale,ea));this._visibleScaleRangeSlider=new S(P,v.create("div",null,this._visibleScaleRangeContainer));
this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=N(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ia.deactivateNode(this._visibleRangeLoader);ia.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}),f.hitch(this,
function(){this._calculatedMinScale=T.minScale;this._visibleScaleRangeSlider=new S(P,v.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=N(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ia.deactivateNode(this._visibleRangeLoader);ia.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;
this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}))):(this._calculatedMinScale=void 0,this._visibleScaleRangeSlider=new S(P,v.create("div",null,this._visibleScaleRangeContainer)),this._visibleScaleRangeSlider.startup(),this._visibleScaleRangeChangeHandler=N(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange")),this.own(this._visibleScaleRangeChangeHandler),ia.deactivateNode(this._visibleRangeLoader),
ia.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]),this._buildingVisibleRange=!1,this.set("disabled",this._buildingVisibleRange),this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))):(this._buildingVisibleRange=!1,this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))},_visibleScaleRangeChange:function(){var T=this._tilesOnDemand.get("checked");if(this._calculatedMinScale&&this._visibleScaleRangeSlider&&this._visibleScaleRangeSlider._started){var P=
this._visibleScaleRangeSlider.get("minScale");(0===P&&0!==this._calculatedMinScale||P>this._calculatedMinScale)&&T?(ia.showNode(this._increaseScaleWarning),this._increaseScaleWarning.scrollIntoView(!1)):ia.hideNode(this._increaseScaleWarning)}else ia.hideNode(this._increaseScaleWarning)},_getItemAttr:function(){return"wfs"===this._type?this.get("wfsItem"):"ogcfeatures"===this._type?this.get("ogcFeatureItem"):"scenes"===this._type?this.get("sceneItem"):"features"===this._type?this.get("viewItem"):
"vectorTiles"===this._type?this.get("vectorTileItem"):this.get("tileItem")},_getOgcFeatureItemAttr:function(){var T=this._itemPropertiesDlg.get("item"),P={name:T.title.replace(/ /g,"_")};return{item:T,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"OGCFeatureService"},publishParams:P}},_getWfsItemAttr:function(){var T=this._itemPropertiesDlg.get("item");var P=f.mixin({},{name:T.title.replace(/ /g,"_"),wfsProperties:{title:T.title,"abstract":T.snippet,
keyword:T.tags}});return{item:T,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"WFS"},publishParams:P}},_getSceneItemAttr:function(){var T=this._itemPropertiesDlg.get("item"),P=this._globalWkidRadio.get("checked"),X=this._featureServiceJson;var da=f.mixin({},{name:T.title.replace(/ /g,"_")});P||(da=f.mixin(da,{targetSR:X.spatialReference}));return{item:T,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:da,outputType:"sceneService",
buildInitialCache:!1},publishParams:da}},_getTileItemAttr:function(){var T=this._visibleScaleRangeSlider.get("actualMaxScale"),P=this._visibleScaleRangeSlider.get("minScale")||this._maxSupportedMinScale||this.SCALE_MIN,X=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):f.clone(this.tileCacheInfo),da=f.clone(this.cacheStorageInfo),ea={minScale:P,maxScale:T},ja=this._tilesOnDemand.get("checked");var la=this._itemPropertiesDlg.get("item");X.dpi&&!X.preciseDpi&&(X.preciseDpi=X.dpi);for(var ma=
0;ma<X.lods.length;ma++)delete X.lods[ma].label;if(!X.lods.some(function(sa){return sa.scale<=P&&sa.scale>=T},this)){ma=X.lods.filter(function(sa){return sa.scale>=P},this).reverse().shift();var oa=X.lods.filter(function(sa){return sa.scale<=T},this).shift();ma&&(P=ma.scale,ea.minScale=P);oa&&(T=oa.scale,ea.maxScale=T)}X=f.mixin(ea,{name:la.title.replace(/ /g,"_"),tilingSchema:{tileCacheInfo:X,tileImageInfo:this.tileImageInfo,cacheStorageInfo:da}});V.tilesOnDemandEnabled&&(X.cacheOnDemand=ja)&&(X.cacheOnDemandMinScale=
this._cacheOnDemandMinScale,X.capabilities="Map,ChangeTracking");return{item:la,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:X,outputType:"tiles",buildInitialCache:!1},publishParams:X}},_getVectorTileItemAttr:function(){var T=this._featureServiceJson;T=T.layers&&T.layers.length?T.layers[0]:{};var P={minScale:T.minScale||0,maxScale:T.maxScale||0};T=this._itemPropertiesDlg.get("item");var X=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):void 0;P=f.mixin(P,
{name:T.title.replace(/ /g,"_")},this.vectorTilePublishParams);X&&(P.tilingSchema.tileCacheInfo=X);return{item:T,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"vectorTiles",buildInitialCache:!1},publishParams:P}},_getViewItemAttr:function(){var T=this._itemPropertiesDlg.get("item"),P=this._featureServiceJson,X=this._preserveIds.get("checked"),da=this._selectedLayers||[],ea;P=f.mixin({},{name:T.title.replace(/ /g,"_"),isView:!0,sourceSchemaChangesAllowed:!0,
isUpdatableView:!0,spatialReference:P.spatialReference,initialExtent:P.initialExtent,capabilities:"Query",preserveLayerIds:X});this._portal&&this._portal.isPortal&&(ea=this._getDataSourceType(this.fsItem))&&ea.dataSourceType&&(P=f.mixin(P,{options:ea}));X||da.forEach(function(ja,la){ja.id=la});return{item:T,createParams:P}},_validate:function(){var T=new d;this._focusNode=null;var P=this._itemPropertiesDlg._validate();P=P.then(f.hitch(this,"_checkRequired"));P=P.then(f.hitch(this,function(X){T.resolve(X)}),
f.hitch(this,function(X){this._showError(X);T.reject(X)}));return T},_checkRequired:function(){var T=new d;if("tiles"===this._type){if(!this._featureServiceJson)var P=this.i18n.publishWizard.errors.selectedServiceNotExist;this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=t("input",this._customBasemapUrl.domNode)[0],P=this.i18n.publishWizard.errors.customTileBasemapNotSpecified)}"vectorTiles"===this._type&&(this._featureServiceJson||(P=this.i18n.publishWizard.errors.selectedServiceNotExist),
this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=t("input",this._customBasemapUrl.domNode)[0],P=this.i18n.publishWizard.errors.customTileBasemapNotSpecified));if(P)return T.reject(P),T;E.serviceNameAvailable(this._itemPropertiesDlg.get("item"),this._portal).then(f.hitch(this,function(X){X&&X.available?T.resolve(!0):(this._focusNode=t("input",this._itemPropertiesDlg._title.domNode)[0],T.reject(W.addItemFrm.errors.serviceNameExists))}));return T},publishSceneService:function(){return this._enableChangeTrackingOnSource().then(this.publishService.bind(this))},
publishImageService:function(T){var P=new d,X=this.fsItem.url,da=f.hitch(this,function(ea){this._showError(ea);throw Error(ea);});J.getCredential(X).then(function(ea){this._createNewImageServiceItem().then(function(ja){this._publishImageServiceGP(X,ja,ea.token).then(function(la){P.resolve(la)},da)}.bind(this),da)}.bind(this),da);return P},publishService:function(){var T=this.get("item"),P=T.publishContent,X=this._tilesOnDemand.get("checked"),da,ea="scenes"===this.type,ja=new d,la=new d;E.publishItem(f.mixin(T,
{owner:this.fsItem.owner}),P,this._portal).then(f.hitch(this,function(ma){var oa=ma&&ma.publishResult?ma.publishResult[0]:null;oa&&oa.error?(oa.serviceItemId&&E.deleteItem({id:oa.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal),this._showError(oa.error||W.addItemFrm.errors.error),ja.reject()):(E.checkStatus({id:oa.serviceItemId,jobId:oa.jobId},la,500,this._portal),la.then(f.hitch(this,function(sa){E.moveItem({id:sa.id,folderId:this.fsItem.ownerFolder,owner:this.fsItem.owner},T.item.folderId,
this._portal).then(f.hitch(this,function(va){(da=f.mixin(T.item,va,!ea&&this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{}))&&delete da.typeKeywords;E.updateItem(da,this._portal).then(f.hitch(this,function(){this.set("disable",!1);ja.resolve({id:oa.serviceItemId,jobId:oa.jobId,cacheOnDemand:X})}))}))}),f.hitch(this,function(sa){E.deleteItem({id:oa.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal);this._showError(sa)})))}),f.hitch(this,
function(ma){this._showError(ma)}));return ja},createViewService:function(){var T=this.get("item"),P={createParameters:c.stringify(T.createParams),outputType:"featureService",isView:!0},X=this.fsItem&&this.fsItem.serviceInfo||{},da=this.serviceLayers||this.fsItem.layers,ea,ja,la=new d;X=da.map(function(ma){ea=f.mixin({},ma);delete ea.fields;delete ea.indexes;delete ea.relationships;return ea}).map(f.hitch(this,this._addAdminLayerInfo,X));da=e.filter(X||[],f.hitch(this,function(ma){return ma&&"Table"===
ma.type}));X=e.filter(X||[],f.hitch(this,function(ma){return ma&&"Feature Layer"===ma.type}));E.createService(f.mixin(T,{owner:this.fsItem.owner}),P,c.stringify({layers:X,tables:da}),this._portal).then(f.hitch(this,function(ma){return E.moveItem({id:ma&&ma.createResult&&ma.createResult.itemId,owner:this.fsItem.owner},T.item.folderId,this._portal)}),f.hitch(this,function(ma){this._showError(ma);throw Error(ma);})).then(f.hitch(this,function(ma){this._selectedService&&this._selectedService.itemData&&
this._selectedService.itemData.layers&&this.sublayer&&(this._selectedService.itemData.layers=this._selectedService.itemData.layers.filter(function(oa){return oa.id===this.sublayer.id}.bind(this)),this._selectedService.itemData.layers[0]&&(this._selectedService.itemData.layers[0].id=0));ja=f.mixin(T.item,ma,this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{});ja=f.mixin(ja,{folderId:null});delete ja.typeKeywords;delete ja.type;delete ja.wabType;
return E.updateItem(ja,this._portal)})).then(f.hitch(this,function(ma){la.resolve(f.mixin({},ja,ma))}));return la},_addAdminLayerInfo:function(T,P){var X=/(\/(MapServer|FeatureServer)).*/ig,da=this.fsItem.url;X=da&&da.replace(X,"").replace(/^.*\//,"").replace(/\?.*$/,"");return f.mixin(P,{adminLayerInfo:{viewLayerDefinition:{sourceServiceName:X||P.name,sourceLayerId:P.id,sourceLayerFields:"*"}}})},_getDataSourceType:function(T){T=T&&T.adminServiceInfo&&T.adminServiceInfo.adminServiceInfo||{};T=T.database&&
T.database.datasource||{};return{dataSourceType:T.name&&(-1<T.name.indexOf("/nosqlDatabases")?"spatiotemporal":-1<T.name.indexOf("/enterpriseDatabases")?"relational":null)}},showModal:function(T){var P=new d,X,da=this._type,ea=this.dialog=new z({title:"features"===da?this.i18n.itemProperties.publishViewLayer:this.i18n.publishTileServiceDlg.publishTileDialogTitle,style:{height:"auto"}});ea.setContent(this.domNode);ea.show();this.own(N(ea.okButton,"click",f.hitch(this,function(){H.publish("/esri/disable",
!0,this.get("busyMessage"));this._validate().then(f.hitch(this,function(){X="tiledImagery"===da||"dynamicImagery"===da?this.publishImageService():"features"!==da?"scenes"===da?this.publishSceneService():this.publishService():this.createViewService();X.then(f.hitch(this,function(ja){ea.hide().then(f.hitch(this,function(){P.resolve(ja)}))}))}))})),N(ea,"hide",f.hitch(this,function(){ea.destroyRecursive()})));return P},_createNewImageServiceItem:function(){var T=new d,P=this._itemPropertiesDlg.get("item"),
X=P.title.replace(/ /g,"_");X={title:P.title,outputType:"imageService",tags:P.tags,snippet:P.snippet,createParameters:c.stringify("tiledImagery"===this.type?{name:X,capabilities:"Image, TilesOnly"}:{name:X,capabilities:"Image, Metadata, Mensuration",properties:{description:"",isManaged:"true",isCached:"true",colormapToRGB:"false",esriImageServiceSourceType:"esriImageServiceSourceTypeDataset",allowCopy:"true",allowAnalysis:"true",allowFunction:"true"}})};E.createService(f.mixin(P,{owner:this.fsItem.owner}),
X,null,this._portal).then(f.hitch(this,function(da){var ea=da&&da.createResult&&da.createResult.itemId;if(!ea)return T.reject();da.owner=this.fsItem.owner;da.id=ea;da.url=da.createResult.serviceUrl;da.folderId=P.folderId;delete da.createResult;E.moveItem({id:ea,owner:da.owner},P.folderId,this._portal).then(function(){T.resolve(da)})}),f.hitch(this,function(da){T.reject(da)}));return T},_publishImageServiceGP:function(T,P,X){var da=new d,ea=!1,ja="tiledImagery"===this.type,la=f.hitch(this,function(sa){if(!ea){ea=
!0;var va={id:P.id,owner:P.owner,folderId:P.folderId,title:P.title,tags:P.tags,snippet:P.snippet,properties:c.stringify({jobUrl:ma+"/CopyRaster/jobs/"+sa.jobId+"?f\x3djson",jobStatus:"processing",jobId:sa.jobId,jobType:"GPServer"})},za=f.hitch(this,function(){this.set("disable",!1);da.resolve({id:P.id,jobId:sa.jobId})});E.updateItem(va,this._portal).then(za,za)}}),ma=this._portal.helperServices.rasterAnalytics.url,oa=ma+"/CopyRaster";T+=X?"?token\x3d"+X:"";ja={inputRaster:c.stringify(ja?{url:T}:{tiled_url:T}),
outputName:c.stringify({itemId:P.id})};oa=new fa(oa);oa.setUpdateDelay(5E3);oa.submitJob(ja,null,la);oa.onError=f.hitch(this,function(sa){E.deleteItem({id:P.id,folderId:P.folderId},this._portal);da.reject(sa)});return da},_showError:function(T){T=f.mixin(f.mixin({},W.publishWizard.errors.error),T);var P=f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)});this._errorDlg=new z({showCancel:!1,style:{width:"400px",
height:"auto"}});this._errorDlg.own(N(this._errorDlg.closeButtonNode,"click",P));this._errorDlg.show(T).then(P);return!1}})})},"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg":function(){define("esri/lang dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dojox/form/Uploader dijit/registry dijit/form/TextBox dijit/form/RadioButton dijit/ConfirmDialog dijit/focus dgrid/OnDemandGrid dgrid/editor dojo/store/Observable dojo/store/Memory esri/dijit/Tags arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin dijit/form/SimpleTextarea dijit/form/Textarea dijit/form/Select dojo/topic esri/Evented esri/arcgis/Portal arcgisonline/pages/portal/PortalItem arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil arcgisonline/pages/utils/categories arcgisonline/pages/utils/dom arcgisonline/pages/dijit/CategoryPicker arcgisonline/sharing/geow/Account arcgisonline/sharing/util arcgisonline/sharing/geow/Folder esri/geometry/Extent esri/SpatialReference ../../../map/core/sameSpatialReference ../../../map/core/projectExtent dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y,Q,fa,S,O,I,Z,W,ca,T){return N("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg",[k,w,v,J,V],{baseClass:"esriItemPropertiesDlg",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cdiv class\x3d"wabdiv"\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab2DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'checked:true,name:"wabtype"\' value\x3d"2d" /\x3e${i18n.addItemFrm.2d}\x3c/label\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab3DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'name:"wabtype"\' value\x3d"3d" /\x3e${i18n.addItemFrm.3d}\x3c/label\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-half"\x3e\x3c/p\x3e\x3cform id\x3d"_createForm" data-dojo-attach-point\x3d"_form" enctype\x3d"multipart/form-data" action\x3d"" method\x3d"POST"\x3e\x3clabel for\x3d"uploader" class\x3d"file"\x3e${i18n.addLayerFromFileDlg.fileLabel}\x3c/label\x3e\x3cdiv data-dojo-attach-point\x3d"_files" class\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" data-dojo-props\x3d\'label:"Browse", name:"file", showInput:"before"\'\x3e\x3c/div\x3e\x3cbr class\x3d"file" /\x3e\x3cdiv data-dojo-attach-point\x3d"_zip" class\x3d"zip esriLeadingMargin80 hide"\x3e\x3clabel for\x3d"archiveSelect"\x3e${i18n.addItemFrm.itemContents}\x3c/label\x3e\x3cselect data-dojo-attach-point\x3d"_zipContents" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:25%;"\x3e\x3coption value\x3d"shapefile" selected\x3e${i18n.addItemFrm.typeShapefile}\x3c/option\x3e\x3coption value\x3d"filegeodatabase"\x3e${i18n.addItemFrm.itemFileGeodatabase}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-url" class\x3d"url hide trailer-0"\x3e${i18n.publishWizard.urlItemLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-url" class\x3d"required url trailer-half hide" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'disabled:true, name:"url", trim:true, placeHolder:"${i18n.addLayerFromUrlDlg.enterUrl}"\'\x3e\x3c/div\x3e\x3cbr class\x3d"url hide" /\x3e\x3clabel for\x3d"${id}-title" class\x3d"trailer-0"\x3e${i18n.publishWizard.titleLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-title" tabindex\x3d"0" class\x3d"required title trailer-half" data-dojo-attach-point\x3d"_title" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'name:"title", trim:true, placeHolder:"${i18n.publishWizard.titlePlaceHolder}"\'\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-tags" data-dojo-attach-point\x3d"_tagsDijitLbl" class\x3d"tagsLbl leader-0 trailer-0"\x3e${i18n.publishWizard.tagsLbl}\x3cspan class\x3d"screen-readers-only" id\x3d"tags-required"\x3e${i18n.publishWizard.tagsRequired}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"position-relative hide js-tags-mask"\x3e\x3cdiv class\x3d"tags-disabled-mask"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}-tags" class\x3d"trailer-half" data-dojo-attach-point\x3d"_tagsDijit" data-dojo-type\x3d"esri/dijit/Tags" data-dojo-props\x3d"name: \'tags\', width:\'100%\', minWidth:\'100%\', maxWidth:\'100%\'"\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-summary" class\x3d"trailer-0 leader-half"\x3e${i18n.publishWizard.summaryLbl}\x3c/label\x3e\x3ctextarea id\x3d"${id}-summary" tabindex\x3d"0" class\x3d"required snippet trailer-0" maxlength\x3d"250" data-dojo-attach-point\x3d"_summaryDijit" class\x3d"summaryTextBox dijitPlaceHolder" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-props\x3d\'name:"snippet", trim:true, placeHolder:"${i18n.publishWizard.summaryPlaceHolder}", value: "${i18n.publishWizard.summaryPlaceHolder}"\'\x3e\x3c/textarea\x3e\x3cbr /\x3e\x3cdiv class\x3d"hide categories-container"\x3e\x3clabel class\x3d"trailer-0 leader-half" data-dojo-attach-point\x3d"_categoriesLbl" for\x3d"itemPropCategoryPicker"\x3e${i18n.addItemFrm.categories}${i18n.addItemFrm.colon}\x3c/label\x3e\n\x3cdiv class\x3d"categoriesPickerSection" data-dojo-attach-point\x3d"_categoriesContainer" id\x3d"itemPropCategoryPicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-folders" data-dojo-attach-point\x3d"_foldersDijitLbl" class\x3d"folderDropdown trailer-0 leader-half hide" style\x3d"clear:both;"\x3e\x3cspan class\x3d"saveFolderLbl"\x3e${i18n.publishWizard.saveFolderLbl}\x3c/span\x3e\x3cselect id\x3d"${id}-folders" tabindex\x3d"0"  class\x3d"folderDropdownSelect folderDropdown hide" data-dojo-attach-point\x3d"_folders" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:77%;" data-dojo-props\x3d\'maxHeight:"200"\'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/form\x3e\x3c/div\x3e',
onOk:function(){},onCancel:function(){},onLoad:function(){},postMixInProperties:function(){this.inherited(arguments);this._errorDlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance();this.i18n=g.mixin({},T);this._maxFileSize=1E9;this._analyzeTypes={csv:1};this._type=this.typeInfo;var P=b("ESRI_Content");this._selectedFolderId=(P?m.parse(P):{}).folderId||null;this._portalUser=(this._portal=ia.portal)&&(this._portal.portalUser||this._portal.user||this._portal.getPortalUser())},
postCreate:function(){this.inherited(arguments);c.add(this._summaryDijit.domNode,"dijitPlaceHolder");var P=this._files.displayInput;c.add(P,"placeHolder");t.set(P,"value","Select File");this._tagsDijit&&this._tagsDijit._inputTextBox&&this._tagsDijit._inputTextBox.set&&this._tagsDijit._inputTextBox.set("aria-describedby","tags-required");this._tagsDijitLbl&&this._tagsDijit._inputTextBox&&t.set(this._tagsDijitLbl,"for",this._tagsDijit._inputTextBox.id);fa.getSelf(g.hitch(this,function(X){this._loadConnections();
this._portal?this._init():(this._portal=new aa.Portal({url:ia.restBaseUrl,self:X}),this._connect=this._portal.on("load",g.hitch(this,function(da){this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){return l([S.loadUserTags(this._portalUser.username),this._getFolders()]).then(g.hitch(this,function(P){P&&P[0]&&this._tagsDijit.set("knownTags",P[0]);this.item&&this.item.type&&!this.item.declaredClass&&(this.item=new ha(g.mixin(this.item,{portal:this._portal})));
this._tagsDijit.set("value",this.item&&this.item.tags||"");this._summaryDijit.set("value",T.publishWizard.summaryPlaceHolder);this._loadFolders(P[1]&&P[1].folders||[],this._folders);this._supportedType=!this.item||"Web Scene"!==this.item.type&&"Web Map"!==this.item.type?null:this.item.type;this.set("showWAB","wab"!==this._type||this._supportedType?!1:!0);this._supportedType&&this.wab2DRadio.set("checked","Web Map"===this._supportedType);this.onLoad()}))},destroy:function(){u(".dijit",this.contentNode).map(q.byNode).forEach(function(P){P.destroyRecursive?
P.destroyRecursive():P.destroy?P.destroy():P=null});this.inherited(arguments);this._grid&&(this._grid.destroy(),this._grid=null);this._tagsDijit&&(this._tagsDijit.destroyRecursive(),this._tagsDijit=null);this._analyzedFile?M.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(P){this._tagsDijit=this._portalUser=this._portal=this._analyzedFile=null})):this._tagsDijit=this._portalUser=this._portal=null;this._errorDlg&&(this._errorDlg._dialog&&this._errorDlg._dialog.destroyRecursive(),
this._errorDlg.destroyRecursive(),this._errorDlg=null)},startup:function(){this.inherited(arguments);this._initializeCategoryPicker(this.categories||[])},disableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.remove("hide");this._categories&&this._categories.disable()},enableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.add("hide");this._categories&&this._categories.enable()},_initializeCategoryPicker:function(P){if(ia.self.hasCategorySchema){var X=
function(da){this._categories=new Q({categories:P||[],schema:da},C.create("div",null,this._categoriesContainer));this._categories.startup();Y.showNodes(u(".categories-container",this.domNode));this._initializingCategoryPicker=!1}.bind(this);this.item&&this.item.portal&&this.item.portal.getCategories&&this.item.portal.getCategories instanceof Function?(this._initializingCategoryPicker=!0,this.item.portal.getCategories().then(X)):(this._initializingCategoryPicker=!0,S.request({url:ia.restBaseUrl+"portals/self/categorySchema"}).then(function(da){X(da.categorySchema)}.bind(this)))}},
_getWebMapAuthoringInfo:function(){return{authoringApp:"WebMapViewer",authoringAppVersion:S.isPortal()?"10.6":"6.1",version:"2.11"}},addItem:function(){var P=new e,X,da;this._validate().then(g.hitch(this,function(){ba.publish("/esri/disable",!0,T.addItemFrm.addingItem);if(this._analyzedFile)X=this._updateItem().then(g.hitch(this,function(ja){return ja}));else if("webmap"===this._type)X=this._fetchBaseMap().then(g.hitch(this,function(ja){return da=ja})).then(g.hitch(this,"_projectPortalExtent")).then(g.hitch(this,
function(ja){var la=this.get("item");la.text=da?m.stringify(da):la.text;la.extent=ja;return M.addItem(la,this.get("folder"),this._portal)}));else if("dashboard_map"===this._type){var ea=this.get("item");ea.text=A.substitute(ea.text,{mapId:this.item.id});X=M.addItem(ea,this.get("folder"),this._portal)}else X=M.addItem(this.showFile?this.get("form"):this.get("item"),this.get("folder"),this._portal);X.then(g.hitch(this,function(ja){ba.publish("/esri/disable",!1);P.resolve(ja)}),g.hitch(this,function(ja){ba.publish("/esri/disable",
!1);ja&&409===ja.code&&(ja=this.get("item"),ja={title:T.addItemFrm.errors.error.title,message:R.substitute({type:ja.type,title:ja.title},T.addItemFrm.errors.itemExists.message)});P.reject(ja)}))}),g.hitch(this,function(ea){ba.publish("/esri/disable",!1);P.reject(ea)}));return P},_fetchBaseMap:function(){var P=this._portal&&this._portal.defaultBasemap||null,X=this._getWebMapAuthoringInfo(),da,ea,ja,la=function(){ea=a.map(P.baseMapLayers||[],g.hitch(this,function(oa,sa){da=g.clone(oa);da=g.mixin(da,
{opacity:1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,id:"defaultBasemap_"+sa});ja=0===sa?oa.spatialReference||oa.resourceInfo&&oa.resourceInfo.spatialReference:ja;delete da.resourceInfo;return da}));return g.mixin({operationalLayers:[],spatialReference:ja||this._portal&&this.portal.defaultExtent&&this.portal.defaultExtent.spatialReference,baseMap:g.mixin(P,{baseMapLayers:ea})},X)};if(P&&P.id)var ma=aa.PortalUtil.request(this._portal.portalUrl+"content/items/"+P.id+"/data").then(g.hitch(this,
function(oa){return oa}),g.hitch(this,function(oa){return la()}));else P?(ma=new e,ma.resolve(la())):(ma=new e,ma.resolve());return ma},_projectPortalExtent:function(P){var X=new e;P=this._portal&&this._portal.defaultExtent||null;var da=new I(P),ea=new Z({wkid:102100});P&&da.spatialReference.wkid!==ea.wkid?ca(da,ea,g.hitch(this,function(ja){ja[0]?X.resolve(M.getPortalDefaultExtentAsGCS({defaultExtent:ja[0]})):X.resolve(M.getPortalDefaultExtentAsGCS(this._portal))})):X.resolve(M.getPortalDefaultExtentAsGCS(this._portal));
return X},_extent2String:function(P,X){X=X||4;var da=+P.xmin.toFixed(X),ea=+P.ymin.toFixed(X),ja=+P.xmax.toFixed(X),la=+P.ymax.toFixed(X);return isNaN(da)||isNaN(ea)||isNaN(ja)||isNaN(la)?"":da+","+ea+","+ja+","+la},_loadConnections:function(){this.own(ba.subscribe("/esri/disable",g.hitch(this,function(P){this.set("readOnly",P)})),u(".dijitTextArea",this.contentNode).on("focus",g.hitch(this,function(P){P=this._summaryDijit;P.get("value")===T.publishWizard.summaryPlaceHolder&&(c.remove(P.domNode,"dijitPlaceHolder"),
P.set("value",""))})),u(".dijitTextArea",this.contentNode).on("blur",g.hitch(this,function(P){P=this._summaryDijit;""===P.get("value")&&(c.add(P.domNode,"dijitPlaceHolder"),P.set("value",T.publishWizard.summaryPlaceHolder))})),n(this._errorDlg,"hide",g.hitch(this,function(){this._focusNode&&setTimeout(g.hitch(this,function(){D.focus(this._focusNode)}),250)})),n(this._tagsDijitLbl,"click",g.hitch(this,function(P){this._tagsDijit._inputTextBox.focus();u(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),
n(this._tagsDijit.domNode,"focusout",g.hitch(this,function(P){u(".select2-choices",this._tagsDijit.domNode).removeClass("focus")})),n(this._tagsDijit.domNode,"focusin",g.hitch(this,function(P){this._tagsDijit._inputTextBox.focus();u(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),n(this._foldersDijitLbl,"click",g.hitch(this,function(P){this._folders.focus()})))},_setTitleAttr:function(P){return this._title.set("value",P||"")},_getTitleAttr:function(){return this._title.get("value")},
_setShowFileAttr:function(P){P||(u(".file",this.contentNode).style("display","none"),u(".dijitUploader input",this.contentNode).attr("disabled","disabled"),this._files.set("disabled",!0))},_setShowUrlAttr:function(P){P&&(u(".url",this.contentNode).removeClass("hide"),this._url.set("disabled",!1))},_setShowFoldersAttr:function(P){u(".folderDropdown",this.domNode)[P?"removeClass":"addClass"]("hide")},_setFoldersAttr:function(P){this._userFolders=P;this._folders.set("options",a.map(P,"return {label:item.title, value:item.id};"));
this._folders.set("value",this._selectedFolderId||"/")},_setShowWABAttr:function(P){u(".wab",this.domNode)[P?"removeClass":"addClass"]("hide")},_setMessageAttr:{node:"_message",type:"innerHTML"},_setTypeAttr:function(P){t.set(this._type,"value",P)},_setTypeInfoAttr:function(P){this._type=P},_setTagsAttr:function(P){this._tagsDijit.set("value",P||"")},_setCategoriesAttr:function(P){if(ia.self.hasCategorySchema)if(!this._categories||this._initializingCategoryPicker)var X=setInterval(function(){this._categories&&
!this._initializingCategoryPicker&&(clearInterval(X),this._categories.setCategories(P||[],!0))}.bind(this),50);else this._categories.setCategories(P||[],!0)},_setSummaryAttr:function(P){c[P?"remove":"add"](this._summaryDijit.domNode,"dijitPlaceHolder");this._summaryDijit.set("value",P||T.publishWizard.summaryPlaceHolder);this._summaryDijit.resize()},_setBatchGeocodersAttr:function(P){this._geocoders.set("options",P);this._geocoders.set("value",P[0].value,!1);this._batchGeocoders=P;this._selectedGeocoder=
P[0]},_setFocusAttr:function(P){var X=q.byId(this.id+"-"+P);if(X)setTimeout(g.hitch(this,function(){X.focus()}),250);else{var da=u(P,this.domNode);setTimeout(g.hitch(this,function(){D.focus(da&&da.length?da[0]:this._title.domNode)}),250)}},_setDisabledAttr:function(P){this._disable(P)},_setReadOnlyAttr:function(P){u(".dijit",this.domNode).map(q.byNode).forEach(function(X){X.set("readOnly",P)});u(".dijitButtonContents",this._files.domNode).forEach(function(X){t.set(X,"readonly",P);c[P?"add":"remove"](X,
"dijitDisabled dijitTextBoxDisabled")});c[P?"add":"remove"](this._tagsDijit.domNode,"dijitDisabled dijitTextBoxDisabled");u("input",this._tagsDijit.domNode).forEach(function(X){t.set(X,"readonly",P)});u("a",this.contentNode)[P?"addClass":"removeClass"]("disabledLink");u(".dijitSelect .dijitButtonText",this.contentNode)[P?"addClass":"removeClass"]("dijitTextBoxDisabled");this._folders.set("disabled",P);this._summaryDijit.set("disabled",P);u(".dijitUploader input",this.contentNode).attr("readonly",
"readonly")},_getFormAttr:function(){var P=this._checkThumbnailURL(g.mixin({},this.itemInfo[this._type])),X=C.create("div",null,this._form);P=g.mixin(P,{tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==T.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):""});P=this._adjustItemInfo(P);for(var da in P)C.place(C.create("input",{name:da,type:"text",value:P[da],"class":"hide"}),X);return h.byId("_createForm")},_getItemAttr:function(){var P=this._checkThumbnailURL(g.mixin({},
this.itemInfo[this._type]));P=g.mixin(P,{title:this._title.get("value"),tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==T.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):"",folderId:this.get("folder"),wabType:"wab"===this._type?this.get("WABType"):null});P=this._adjustItemInfo(P);ia.self.hasCategorySchema&&this._categories&&(P.categories=this._categories.getCategories(!0));this._supportedType&&(P=g.mixin(P,{webmap:this.item.id}));return P},_adjustItemInfo:function(P){var X=
this._type,da=P.text,ea=this._portal&&this._portal.helperServices||[];ea=ea.defaultElevationLayers?g.clone(ea.defaultElevationLayers):[];if(da&&("webscene"===X||"webscene_portal"===X)&&ea&&ea.length){var ja=JSON.parse(da);ea=ea.map(function(la){la=g.mixin(la,{title:la.title||la.name||"Elevation",id:la.id||la.name||(new Date).getTime()+""});la.name&&delete la.name;return la});ja.baseMap.elevationLayers=ea;ja.ground.layers=ea;P.text=JSON.stringify(ja)}if("dashboard"===X||"dashboard_map"===X)P.typeKeywords=
"ArcGIS Dashboards",ja=JSON.parse(da||"{}"),ja.version=45,P.text=JSON.stringify(ja),delete P.thumbnailURL,P.thumbnailUrl="dashboard"===X?"https://static.arcgis.com/images/dashboards.png":P.thumbnailUrl;return P},_getWABTypeAttr:function(){return this.wab2DRadio.get("checked")?"HTML":"HTML3D"},_getFolderAttr:function(){var P=this._folders.get("value");P=this._portalUser?"/"===P||P===this._portalUser.username?null:P:"/"===P?null:P;return this.showFolders?P:this._selectedFolderId},_getFolders:function(){var P=
new e;this._portalUser.getFolders?this._portalUser.getFolders().then(g.hitch(this,function(X){P.resolve({folders:X})}),g.hitch(this,function(X){P.reject(X)})):O.getFolders(g.hitch(this,function(X){P.resolve(X)}),g.hitch(this,function(X){P.reject(X)}),!1);return P},_getFileInfo:function(P){var X=new e,da=/(?:\.([^.]+))?$/;P=P&&P.length&&P[0]||{};var ea=P.name.replace(/^.*(\\|\/|:)/,"");da=ea?da.exec(ea)[1].toLowerCase():"";var ja=ea?ea.substring(0,ea.lastIndexOf(".")):"";this._isValidFileType(da)||
X.reject(T.addItemFrm.errors.unknownType);window&&window.FileReader&&P.size>this._maxFileSize&&X.reject(T.addItemFrm.errors.fileToLarge);X.resolve(g.mixin(P,{title:ja,fileType:da,origName:ea}));return X},_deleteAnalyzedFile:function(){if(this._analyzedFile)var P=M.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(){this._analyzeResult=this._analyzedFile=null}));else P=new e,P.resolve(!0);return P},_toOptions:function(P,X){var da=[];X&&(P=g.mixin({},T.addItemFrm.notUsed,P));for(var ea in P)da.push({label:P[ea],
value:ea});return da},_addFile:function(){var P=this.get("form");if(P)return P=M.addItem(P,this.get("folder"),this._portal),P.then(g.hitch(this,function(X){ba.publish("/esri/disable",!1);return X}),g.hitch(this,function(X){ba.publish("/esri/disable",!1);this._showError(X)}))},_updateItem:function(){var P=this._analyzedFile,X=this.get("item"),da=!1,ea;for(ea in X)P[ea]&&P[ea]===X[ea]?delete X[ea]:da=!0;da?X=M.updateItem(g.mixin(X,{id:P.id,folderId:P.folderId}),this._portal).then(g.hitch(this,function(ja){return g.mixin(P,
ja)})):(X=new e,X.resolve(P));return X},_getPublishParameters:function(P){var X=this._geocoder||"none";P=this._getDefaultPublishParameters(P);var da=this._analyzeResult&&this._analyzeResult.publishParameters,ea=da&&da.standardizedFieldNames,ja=this._grid&&this._grid.store;if(da)if("addressTypes"===X){var la=0,ma={},oa=ea;ja.query(function(va){"unknown"!==va.locationType&&va.locationType in oa&&(ma[va.locationType]=va.name,la++)});if(1>la)return{error:this.i18n.errors.noAddressFields};P.publishParameters.locationType=
"address";P.publishParameters.addressFields=ma}else if("locationTypes"===X){var sa={locationType:"coordinates",latitudeFieldName:null,longitudeFieldName:null};oa=g.mixin({},this.i18n.addItemFrm[X]);ja.query(function(va){"unknown"!==va.locationType&&va.locationType in oa&&(sa[va.locationType+"FieldName"]=va.name)});if(!sa.latitudeFieldName||!sa.longitudeFieldName)return{error:this.i18n.errors.noLocationFields};g.mixin(P,sa)}else P.publishParameters.locationType="none";return P},_getDefaultPublishParameters:function(P){var X=
P.type.toLowerCase(),da={itemId:P.id,filetype:X},ea=this._analyzeResult&&this._analyzeResult.publishParameters;"tile package"===X&&(da.filetype="tilePackage",da.buildInitialCache=!0);da.publishParameters=g.mixin(ea||{},{name:P.title.replace(/ /g,"_"),maxRecordCount:2E3});ea&&(da.hasStaticData=!0,da.publishParameters.layerInfo=g.mixin(ea.layerInfo||{},{capabilities:"Query"}),da.publishParameters.persistErrorRecordsForReview=!0);return da},_analyze:function(){var P={};ba.publish("/esri/disable",!0,
"Uploading file...");return this._addFile().then(g.hitch(this,function(X){ba.publish("/esri/disable",!0,"Analyzing file...");this._analyzedFile=X;this._portal._isPortal||!this._selectedGeocoder.isWorldGeocodeServer?P.geocodeServiceUrl=encodeURI(this._selectedGeocoder):this._selectedGeocoder.isWorldGeocodeServer&&(P.sourceCountry=this._analyzeResult?this._countries.get("value").toLowerCase():"",P.sourceCountryHint=this._analyzeResult?"":this._sourceCountry);return M.analyzeItem(X,P,this._portal).then(g.hitch(this,
function(da){this._analyzeResult=this._analyzedFile.analyzeResult=da;this._createGrid(da);c.remove(this.geocoding,"hide");ba.publish("/esri/disable",!1);return this._analyzedFile}))}))},_validate:function(){var P=new e;var X=this._checkRequired(this.get("item"));X=X.then(g.hitch(this,"_itemExists",this.get("item")));X=X.then(g.hitch(this,function(da){P.resolve(da)}),g.hitch(this,function(da){this._focusNode&&D.focus(this._focusNode);P.reject(da)}));return P},_isValidFileType:function(P){var X=!0;
this.showFile&&this.validTypes?(this.validTypes=this.validTypes instanceof Array?this.validTypes:[this.validTypes],-1===a.indexOf(this.validTypes,P)&&(X=!1)):this.itemInfo[type.toLowerCase()]||(X=!1);return X},_checkThumbnailURL:function(P){this.item&&this.item.thumbnail&&this.item.thumbnailUrl?P.thumbnailUrl=this.item.thumbnailUrl:(P.thumbnailURL&&(P.thumbnailURL=S.getStaticImagesUrl()+P.thumbnailURL),this._portal.isPortal&&P.thumbnailURL&&0!==P.thumbnailURL.indexOf("http")&&(P.thumbnailURL=window.location.protocol+
"//"+window.location.host+P.thumbnailURL));return P},_isEmpty:function(P){return(this.trim?/^\s*$/:/^$/).test(P)},_disable:function(P){this._folders.set("disabled",P);this._summaryDijit.set("disabled",P);!this.showFiles&&P&&u(".dijitUploader input",this.contentNode).attr("disabled","disabled")},_loadFolders:function(P,X){var da=b("ESRI_Content");da=da?m.parse(da):{};var ea=da.folderId||null;this._selectedFolderId=da.folderId||null;(!P||!P.length||P&&P.length&&P[0].title!==this._portalUser.username)&&
P.unshift({title:this._portalUser.username,id:"/"});X.options=a.map(P,"return {label:item.title, value:item.id};");X.set("value",ea||this._portalUser.username)},_loadCountries:function(P,X){var da=this._portal.getPortalUser(),ea=[];da=(this._portal.region||da.region||portal.ipCntryCode||"world").toLowerCase();da="wo"===da?"world":da;for(var ja in P)ea.push({label:P[ja],value:ja.toLowerCase()});ea=ea.sort(function(la,ma){return la.label<ma.label?-1:la.label>ma.label?1:0});X.set("options",ea);X.set("value",
da,!1);this._sourceCountry=da},_checkRequired:function(){var P=new e,X,da;u(".required",this.contentNode).map(q.byNode).every(g.hitch(this,function(ea){return!c.contains(ea.domNode,"hide")&&this._isEmpty(ea.get("value"))?(da=ea.domNode||ea,this._focusNode=u("input",da)[0],X=g.mixin({},T.publishWizard.errors.error,T.publishWizard.errors.required[ea.get("name")]),!1):!0}));X?P.reject(X):P.resolve(!0);return P},_itemExists:function(P){var X=new e,da=this._type in{mapserver:1,featureserver:1,sceneserver:1,
wfs:1,ogcFeatures:1,vectortileserver:1,imageserver:1},ea="wfs"===this._type||"ogcFeatures"===this._type,ja=ea?/[.@#%&*+=\-\\';,\/|\\":<>()\?]/g.test(P.title):da?/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(P.title):/[<>]/g.test(P.title),la=P.title.match(/^\d/)?!0:!1,ma=this.itemInfo[P.type.toLowerCase()]?this.itemInfo[P.type.toLowerCase()].type:P.type;this._itemExistsCheck(P).then(function(oa){ja||da&&120<P.title.length?(this._focusNode=u("input",this._title.domNode)[0],X.reject(da?T.addItemFrm.errors.invalidServiceTitle:
T.addItemFrm.errors.invalidItemTitle)):ea&&la?X.reject(T.addItemFrm.errors.invalidCharactersStartsWithNumber):oa?(this._focusNode=u("input",this._title.domNode)[0],oa=R.substitute({type:ma,title:P.title},T.addItemFrm.errors.itemExists.message),X.reject({title:T.addItemFrm.errors.error.title,message:oa})):X.resolve(!1)}.bind(this));return X},_itemExistsCheck:function(P){var X=P.title,da=this.get("folder"),ea=this.itemInfo[P.type.toLowerCase()]?this.itemInfo[P.type.toLowerCase()].type:P.type,ja=this._portalUser.username,
la=new dojo.Deferred;S.request({url:ia.restBaseUrl+"search",content:{q:'title:"'+X+'" AND type:"'+ea+'" AND owner:"'+ja+'" AND ownerfolder:"'+(da&&"/"!==da?da:"root")+'"',num:1}}).then(dojo.hitch(this,function(ma){ma&&ma.total?la.resolve(this._isSameTitle(P,ma.results.shift())):la.resolve(!1)}));return la},_isSameTitle:function(P,X){return(P&&P.title)===(X&&X.title)},_showError:function(P){P.messageCode&&"GWM_0011"===P.messageCode&&(P=g.mixin(P,{message:T.common.errors.spamContentItemCreate}));P=
g.mixin(g.mixin({},T.publishWizard.errors.error),P);this._errorDlg.show(P);this._disable(!1);return!1}})})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c){return N("dojox.form.Uploader",[l,r,d,e,a],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:b.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:c,baseClass:"dijitUploader "+r.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();w.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=v.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(m){for(var p=0,q,y=[];q=m[p++];)q&&q.name&&y.push(q.name);this.displayInput.value=y.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(m){},onBegin:function(m){},onProgress:function(m){},onComplete:function(m){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(m){},
upload:function(m){m=m||{};m.uploadType=this.uploadType;this.inherited(arguments)},submit:function(m){m=m?m.tagName?m:this.getForm():this.getForm();m=C.toObject(m);m.uploadType=this.uploadType;this.upload(m)},reset:function(){delete this._files;this._disconnectButton();t.forEach(this._inputs,v.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var m=[];this.supports("multiple")?t.forEach(this._files,function(p,q){m.push({index:q,name:p.name,size:p.size,type:p.type})},
this):t.forEach(this._inputs,function(p,q){p.value&&m.push({index:q,name:p.value.substring(p.value.lastIndexOf("\\")+1),size:0,type:p.value.substring(p.value.lastIndexOf(".")+1)})},this);return m},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(m){},_setDisabledAttr:function(m){this.disabled!=m&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",m?"none":""))},_getButtonStyle:function(m){this.btnSize={w:f.get(m,"width"),h:f.get(m,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var m=this._getFileFieldName();this.focusNode=this.inputNode=v.create("input",{type:"file",name:m,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&w.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(u.connect(this.inputNode,"change",this,function(m){this._files=this.inputNode.files;this.onChange(this.getFileList(m));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(u.connect(this.inputNode,"focus",this,function(){g.add(this.domNode,this.focusedClass)})),this._cons.push(u.connect(this.inputNode,"blur",this,function(){g.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){t.forEach(this._cons,u.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(R,N,n,t,u,h,f,g,k,w){u.add("FormData",function(){return!!window.FormData});u.add("xhr-sendAsBinary",function(){var v=window.XMLHttpRequest&&new window.XMLHttpRequest;return v&&!!v.sendAsBinary});u.add("file-multiple",function(){return!!{"true":1,"false":1}[t.get(document.createElement("input",{type:"file"}),"multiple")]});return h("dojox.form.uploader._Base",[g,k,w],{getForm:function(){if(!this.form)for(var v=this.domNode;v&&v.tagName&&v!==document.body;){if("form"==v.tagName.toLowerCase()){this.form=
v;break}v=v.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(v){f.stop(v);this.submit(this.form)}))},supports:function(v){switch(v){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return u("file-multiple");case "FormData":return u(v);
case "sendAsBinary":return u("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(v){return v.substring(v.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(v){var C=Math.round(v/1024*1E5)/1E5,A=Math.round(v/1048576*1E5)/1E5,r=Math.round(v/1073741824*1E5)/1E5,l=v;1<C&&(l=C.toFixed(1)+" kb");1<A&&(l=A.toFixed(1)+" mb");1<r&&(l=r.toFixed(1)+" gb");return{kb:C,mb:A,gb:r,bytes:v,value:l}}})})},"dojox/form/uploader/_HTML5":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo dojo/request dojo/has".split(" "),
function(R,N,n,t,u,h){return R("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(f){this.upload(f[0])})},_drop:function(f){t.stopEvent(f);this._files=f.dataTransfer.files;this.onChange(this.getFileList())},upload:function(f){this.onBegin(this.getFileList());
this.uploadWithFormData(f)},addDropTarget:function(f,g){g||(this.connect(f,"dragenter",t.stopEvent),this.connect(f,"dragover",t.stopEvent),this.connect(f,"dragleave",t.stopEvent));this.connect(f,"drop","_drop")},uploadWithFormData:function(f){function g(r){C._xhrProgress(r);"load"===r.type&&(C.onComplete(A.response.data),A.response.xhr.removeEventListener("load",g,!1),A.response.xhr.upload.removeEventListener("progress",g,!1),A=null)}if(this.getUrl()){var k=new FormData,w=this._getFileFieldName();
n.forEach(this._files,function(r,l){k.append(w,r)},this);if(f){f.uploadType=this.uploadType;for(var v in f)k.append(v,f[v])}var C=this,A=u(this.getUrl(),{method:"POST",data:k,handleAs:"json",uploadProgress:!0,headers:{Accept:"application/json"}},!0);A.promise.response.otherwise(function(r){C.onError(r)});h("native-xhr2")?(A.response.xhr.addEventListener("load",g,!1),A.response.xhr.upload.addEventListener("progress",g,!1)):A.promise.then(function(r){C.onComplete(r)})}},_xhrProgress:function(f){if(f.lengthComputable){var g=
{bytesLoaded:f.loaded,bytesTotal:f.total,type:f.type,timeStamp:f.timeStamp};"load"==f.type?(g.percent="100%",g.decimal=1):(g.decimal=f.loaded/f.total,g.percent=Math.ceil(f.loaded/f.total*100)+"%");this.onProgress(g)}}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(R,N,n,t,u,h,f){return n("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);
"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(g){var k={};this.getForm();var w=this.getUrl(),v=this;g=g||{};g.uploadType=this.uploadType;var C=N.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);u.forEach(this._inputs,function(A,r){""!==A.value&&(C.appendChild(A),k[A.name]=A.value)},this);if(g)for(nm in g)void 0===k[nm]&&N.create("input",{name:nm,value:g[nm],type:"hidden"},C);f.post(w,{form:C,
handleAs:"json",content:g}).then(function(A){N.destroy(C);if(A.ERROR||A.error)v.onError(A);else v.onComplete(A)},function(A){N.destroy(C);v.onError(A)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),function(R,N,n,t,u,h,f,g,k,w){return u("dojox.form.uploader._Flash",[],{swfPath:h.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),
preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");this.inherited(arguments)},onReady:function(v){},onLoad:function(v){},onFileChange:function(v){},onFileProgress:function(v){},getFlashFileList:function(){return this._files},
flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(v){this.onBegin(this.getFileList());v=v||{};v.returnType="F";v.uploadType=this.uploadType;this.flashMovie.doUpload(v)},_change:function(v){this._files=this._files.concat(v);k.forEach(v,function(C){C.bytesLoaded=0;C.bytesTotal=C.size;this._fileMap[C.name+"_"+C.size]=C},this);this.onChange(this._files);this.onFileChange(v)},_complete:function(v){this._getCustomEvent().type="load";this.onComplete(v)},
_progress:function(v){this._fileMap[v.name+"_"+v.bytesTotal].bytesLoaded=v.bytesLoaded;var C=this._getCustomEvent();this.onFileProgress(v);this.onProgress(C)},_error:function(v){this.onError(v)},_onFlashBlur:function(v){},_getCustomEvent:function(){var v={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},C;for(C in this._fileMap)v.bytesTotal+=this._fileMap[C].bytesTotal,v.bytesLoaded+=this._fileMap[C].bytesLoaded;v.decimal=v.bytesLoaded/v.bytesTotal;v.percent=Math.ceil(v.bytesLoaded/
v.bytesTotal*100)+"%";return v},_connectFlash:function(){this._subs=[];this._cons=[];var v=g.hitch(this,function(C,A){this._subs.push(f.subscribe(this.id+C,this,A))});v("/filesSelected","_change");v("/filesUploaded","_complete");v("/filesProgress","_progress");v("/filesError","_error");v("/filesCanceled","onCancel");v("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&t.set(this.domNode,"tabIndex",this.tabIndex)},
_createFlashUploader:function(){var v=this.btnSize.w,C=this.btnSize.h;if(v){var A=this.getUrl();if(A&&0>A.toLowerCase().indexOf("http")&&0!=A.indexOf("/")){var r=window.location.href.split("/");r.pop();r=r.join("/")+"/";A=r+A}this.inputNode=n.create("div",{className:"dojoxFlashNode"},this.domNode,"first");N.set(this.inputNode,{position:"absolute",top:"-2px",width:v+"px",height:C+"px",opacity:0});v={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():
""),width:v,height:C,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:A,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new w(v,this.inputNode);this.flashObject.onError=
g.hitch(function(l){});this.flashObject.onReady=g.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=g.hitch(this,function(l){this.flashMovie=l;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),
function(R,N,n,t,u,h,f,g,k){function w(d){d=R.delegate(C,d);if(!("path"in d))return null;"id"in d||(d.id="dojox-embed-flash-"+v++);return d}var v=0,C={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};if(u("ie")){var A=function(d){d=w(d);if(!d)return null;var e,a=d.path;if(d.vars){var b=[];for(e in d.vars)b.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(d.vars[e]));d.params.FlashVars=b.join("\x26");delete d.vars}a=
'\x3cobject id\x3d"'+k.escape(String(d.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+k.escape(String(d.width))+'" height\x3d"'+k.escape(String(d.height))+'"'+(d.style?' style\x3d"'+k.escape(String(d.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+k.escape(String(a))+'" /\x3e';if(d.params)for(e in d.params)a+='\x3cparam name\x3d"'+k.escape(e)+'" value\x3d"'+k.escape(String(d.params[e]))+'" /\x3e';return{id:d.id,markup:a+"\x3c/object\x3e"}};var r=function(){for(var d=
10,e=null;!e&&7<d;)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d--)}catch(a){}return e?(d=e.GetVariable("$version").split(" ")[1].split(","),{major:null!=d[0]?parseInt(d[0]):0,minor:null!=d[1]?parseInt(d[1]):0,rev:null!=d[2]?parseInt(d[2]):0}):{major:0,minor:0,rev:0}}();N.addOnWindowUnload(function(){var d=function(){};t("object").reverse().style("display","none").forEach(function(e){for(var a in e)if("FlashVars"!=a&&"function"==typeof e[a])try{e[a]=d}catch(b){}})})}else A=function(d){d=
w(d);if(!d)return null;var e,a=d.path;if(d.vars){var b=[];for(e in d.vars)b.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(d.vars[e]));d.params.flashVars=b.join("\x26");delete d.vars}a='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+k.escape(String(a))+'" id\x3d"'+k.escape(String(d.id))+'" width\x3d"'+k.escape(String(d.width))+'" height\x3d"'+k.escape(String(d.height))+'"'+(d.style?' style\x3d"'+k.escape(String(d.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';
if(d.params)for(e in d.params)a+=" "+k.escape(e)+'\x3d"'+k.escape(String(d.params[e]))+'"';return{id:d.id,markup:a+" /\x3e"}},r=function(){var d=navigator.plugins["Shockwave Flash"];return d&&d.description?(d=d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=d[0]?parseInt(d[0]):0,minor:null!=d[1]?parseInt(d[1]):0,rev:null!=d[2]?parseInt(d[2]):0}):{major:0,minor:0,rev:0}}();var l=function(d,e){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=r.major;this.minimumVersion=d.minimumVersion||9;this.domNode=this.movie=this.id=null;e&&(e=h.byId(e));setTimeout(R.hitch(this,function(){if(d.expressInstall||this.available&&this.available>=this.minimumVersion)if(d&&e)this.init(d,e);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};R.extend(l,{onReady:function(d){},onLoad:function(d){},onError:function(d){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(d,e){this.destroy();e=h.byId(e||this.domNode);if(!e)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var a=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;l.initialized&&(this.id=l.place(d,e),this.domNode=e,setTimeout(R.hitch(this,
function(){this.movie=this.byId(this.id,d.doc);this.onReady(this.movie);this._poller=setInterval(R.hitch(this,function(){try{a=this.movie.PercentLoaded()}catch(b){}if(100==a)this._onload();else if(0==a&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(d){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var d=R.delegate({id:!0,movie:!0,domNode:!0,
onReady:!0,onLoad:!0}),e;for(e in this)d[e]||delete this[e];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(d,e){e=e||document;return e.embeds[d]?e.embeds[d]:e[d]?e[d]:window[d]?window[d]:document[d]?document[d]:null}});R.mixin(l,{minSupported:8,available:r.major,supported:r.major>=r.required,minimumRequired:r.required,version:r,initialized:!1,onInitialize:function(){l.initialized=!0},__ie_markup__:function(d){return A(d)},proxy:function(d,e){n.forEach(e instanceof Array?
e:[e],function(a){this[a]=R.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+n.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},d)}});l.place=function(d,e){var a=A(d);e=h.byId(e);e||(e=g.doc.createElement("div"),e.id=a.id+"-container",g.body().appendChild(e));return a?(e.innerHTML=a.markup,a.id):null};l.onInitialize();
R.setObject("dojox.embed.Flash",l);return l})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(R,N,n){return R("dijit.ConfirmDialog",[N,n],{})})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(R,N,n,t){return R("dijit._ConfirmDialogMixin",N,{actionBarTemplate:t,buttonOk:n.buttonOk,_setButtonOkAttr:{node:"okButton",
attribute:"label"},buttonCancel:n.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"esri/dijit/Tags":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/html dojo/keys dojo/on dojo/query dojo/string dojo/store/Memory dijit/focus dijit/form/TextBox dijit/registry dijit/Tooltip dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard ../kernel ../lang dojo/i18n!../nls/jsapi dojo/NodeList-traverse dojo/NodeList-manipulate dojo/_base/sniff".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F){c=N([p,c,m],{declaredClass:"esri.dijit.Tags",templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',baseClass:"esriTags",_attachmentNode:"",_autocompleteList:"",_grid:"",_store:"",_matchParam:"",_idProperty:"",_gridId:"",_filterId:"",_placeHolder:"",_noDataMsg:"",_maxWidth:"",_minWidth:"",_inputTextBox:"",_gridHasFocus:!1,_metaKeyPressed:!1,_shiftKeyPressed:!1,_CSS_STYLES:{CLASS_SELECTOR:".",ALL_SELECTOR:"\x3e",MULTI:"select2-container select2-container-multi",
CHOICES:"select2-choices",CHOICE:"select2-search-choice",SEARCH_CHOICE_FOCUS:"select2-search-choice-focus",SEARCH_FIELD:"select2-search-field",CLOSE_ICON:"select2-search-choice-close"},values:[],_selRows:[],_CHOICE_SELECTOR:"",_CHOICE_FOCUS:"",_CHOICE_FOCUS_ALL:"",tooltipPosition:[],constructor:function(x){this._idProperty=x.idProperty||"tag";this._maxWidth=x.maxWidth||"auto";this._minWidth=x.minWidth||"auto";this._matchParam=x.matchParam||"first";this.values=[];this._selRows=[];this._CHOICE_ALL_SELECTOR=
this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE+this._CSS_STYLES.ALL_SELECTOR;this._CHOICE_FOCUS=this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.SEARCH_CHOICE_FOCUS;this._CHOICE_FOCUS_ALL=this._CHOICE_FOCUS+this._CSS_STYLES.ALL_SELECTOR},postMixInProperties:function(){this.inherited(arguments);var x=(new Date).getTime();this._tagsId="userTags-"+x;this._gridId="grid-"+x;this._filterId="filter-"+x;this._isIE8=9>k("ie");this.i18n={};n.mixin(this.i18n,F.widgets.tags)},postCreate:function(){if(this._isIE8)this._textTags=
new e({trim:!0,placeHolder:this.i18n.addTags,style:{minWidth:this.minWidth,maxWidth:this.maxWidth}},f.create("div",{id:this._tagsId},this.domNode)),this._textTags.startup(),h.add(this._textTags.domNode,"ie8Style");else{this._attachmentNode=f.create("div",{id:this._tagsId,className:"grid_1"},this.domNode);this._createContainerNode();this._createTagList();this._createDropDownList();this._createInput();var x=n.hitch(this,function(M,K,L){K=this._inputTextBox?this._inputTextBox.get("value")+"":"";if(1>
K.length)return!0;if(!M.tag)return!1;M=(M.tag+"").toLowerCase().match(new RegExp("^"+K.toLowerCase()));return null!==M&&0<M.length?!0:!1}),E=n.hitch(this,function(M,K,L){K=this._inputTextBox?this._inputTextBox.get("value")+"":"";return 1>K.length?!0:M.tag?(M.tag+"").toLowerCase().indexOf(K.toLowerCase())?!0:!1:!1}),G=[{field:this._idProperty}],H=[{attribute:this._idProperty,ascending:!0}];this._store=new l({idProperty:this._idProperty,data:[]});this._grid=new (N([q,y,B]))({store:this._store,showHeader:!1,
noDataMessage:this.i18n.noTagsFound,selectionMode:"extended",allowSelectAll:!0,cellNavigation:!1,columns:G,sort:H,renderRow:this._renderItem},this._dropDownList);this._grid.startup();h.add(this._grid.domNode,"gridHeightLimiter");this._grid.query="first"===this._matchParam?x:E;var J;this.own(this._inputTextBox.watch("value",n.hitch(this,function(M,K,L){J&&(clearTimeout(J),J=null);this._grid.refresh()})));this.own(this._grid.on(".dgrid-row:click",n.hitch(this,function(M){var K="";this._shiftKeyPressed||
this._metaKeyPressed?M.shiftKey||M.metaKey||M.ctrlKey||(K=this._selRows[0],this._createTags(K),this._store.remove(K),this._grid.refresh(),this._resetInputTextBox()):(K=this._grid.row(M).data.tag,this._createTags(K),this._store.remove(K),this._grid.refresh(),this._resetInputTextBox())})));this.own(this._grid.on("dgrid-deselect",n.hitch(this,function(M){this._selRows=[];for(var K in this._grid.selection)this._grid.selection.hasOwnProperty(K)&&this._selRows.push(K)})));this.own(this._grid.on("dgrid-select",
n.hitch(this,function(M){this._selRows=[];for(var K in this._grid.selection)this._grid.selection.hasOwnProperty(K)&&this._selRows.push(K)})));this.own(this.connect(this.domNode,"keydown","_keydownHandler"));window.onkeydown=n.hitch(this,function(M){if(M.shiftKey||M.ctrlKey||224===M.keyCode)this._metaKeyPressed=!0});this.own(this.connect(document,"onkeydown",n.hitch(this,function(M){this._metaKeyPressed=this._shiftKeyPressed=!0})))}},_keydownHandler:function(x){this._clearMessage();if(void 0!==d.curNode.value)var E=
d.curNode.value.length;var G=A(this._CHOICE_FOCUS,t.byId(this.id)),H=A(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,t.byId(this.id)).last();switch(x.keyCode){case v.RIGHT_ARROW:this._navigate(G,E,H,"right");this._hideGrid();break;case v.LEFT_ARROW:this._navigate(G,E,H,"left");this._hideGrid();break;case v.DOWN_ARROW:x.preventDefault();this._unhighlightTag(G);"none"===g.get(this._gridId,"display")&&this._showGrid();this._gridHasFocus||(this._grid.focus(this._setFocusOnFirstRow(this._grid,
0)),this._gridHasFocus=!0);break;case v.UP_ARROW:break;case v.BACKSPACE:if(0===E&&0===A(this._CHOICE_FOCUS_ALL).length&&void 0!==A(this._CHOICE_ALL_SELECTOR)[A(this._CHOICE_ALL_SELECTOR).length-1]){var J=A(this._CHOICE_ALL_SELECTOR)[A(this._CHOICE_ALL_SELECTOR).length-1].title;if(0<A("li",this._attachmentNode).length&&(f.destroy(H[0]),void 0!==J))try{this._store.add({tag:J})}catch(K){}}if(0<A(this._CHOICE_FOCUS_ALL).length&&(J=A(this._CHOICE_FOCUS_ALL).text(),f.destroy(G[0]),void 0!==J))try{this._store.add({tag:J})}catch(K){}this._grid.refresh();
0===E&&this._hideGrid();this._removeTag(J);this._emitRemoved(J);this._emitChanged();this.validate();break;case v.CTRL:this._metaKeyPressed=!0;break;case v.META:this._metaKeyPressed=!0;break;case v.SHIFT:this._shiftKeyPressed=!0;break;case v.ENTER:if(0<E){E=this._stripHTML(d.curNode.value);E=E.split(",");var M=[];R.forEach(E,function(K,L){-1===R.indexOf(M,K)&&M.push(r.trim(K))});R.forEach(M,n.hitch(this,function(K,L){this._isEmpty(K)||this._contains(this.values,K)||this._createTags(K)}))}else{for(E=
0;E<this._selRows.length;E++)this._createTags(this._selRows[E]),this._store.remove(this._selRows[E]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();x.preventDefault();d.focus(t.byId(this._filterId));break;case v.TAB:if(d.curNode.id!==this._filterId||0!==E){if(0<E)E=this._stripHTML(d.curNode.value),E=E.split(","),M=[],R.forEach(E,function(K,L){-1===R.indexOf(M,K)&&M.push(r.trim(K))}),R.forEach(M,n.hitch(this,function(K,L){this._isEmpty(K)||this._contains(this.values,K)||this._createTags(K)}));
else{for(E=0;E<this._selRows.length;E++)this._createTags(this._selRows[E]),this._store.remove(this._selRows[E]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();x.preventDefault();d.focus(t.byId(this._filterId))}break;case v.ESCAPE:this._hideGrid();break;default:-1<E&&("none"===g.get(t.byId(this._gridId),"display")&&this._showGrid(),this._unhighlightTag(G)),this._metaKeyPressed=!1}},_blurHandler:function(x,E,G){if(!this.focused){x=this._stripHTML(this._inputTextBox.value);if(0<
x.length){var H=[];x=x.split(",");R.forEach(x,function(J,M){-1===R.indexOf(H,J)&&H.push(r.trim(J))});R.forEach(H,n.hitch(this,function(J,M){this._isEmpty(J)||this._contains(this.values,J)||this._createTags(J)}));this._resetInputTextBox()}this._hideGrid()}this.validate()},isValid:function(){var x=this.get("value");return this.required?D.isDefined(x)&&0<x.length:!0},validate:function(){this._created&&!this.isValid()?(u.set(this.domNode,"aria-invalid","true"),this._displayMessage(this.i18n.required)):
(u.set(this.domNode,"aria-invalid","false"),this._displayMessage(null))},_clearMessage:function(){this._displayMessage(null)},_displayMessage:function(x){var E=this._isIE8?this._textTags.domNode:t.byId(this._tagsId);x&&this.focused?b.show(x,E):b.hide(E)},_resetInputTextBox:function(){a.byId(this._filterId).set("value","")},_isEmpty:function(x){x=x.replace(/^\s+|\s+$/,"");return 0===x.length?!0:!1},_navigate:function(x,E,G,H){0<x.length&&1>E?("right"===H?this._hightlightTag(x.next()):this._hightlightTag(x.prev()),
this._unhighlightTag(x)):1>E&&this._hightlightTag(G)},_contains:function(x,E){return 0<=R.indexOf(x,E)},_hightlightTag:function(x){x.addClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_unhighlightTag:function(x){x.removeClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_removeTag:function(x){x&&-1!==R.indexOf(this.values,x)&&this.values.splice(R.indexOf(this.values,x),1)},_hideGrid:function(){t.byId(this._gridId)&&g.set(t.byId(this._gridId),"display","none");this._gridHasFocus=!1},_showGrid:function(){g.set(t.byId(this._gridId),
"display","block");var x=g.get(t.byId(this._attachmentNode),"width");g.set(t.byId(this._gridId),"width",x+"px")},_setFocusOnFirstRow:function(x,E){return A(".dgrid-content .dgrid-cell",this._grid.domNode)[E]||A(".dgrid-content .dgrid-row",this._grid.domNode)[E]},_createTags:function(x){A(this._CHOICE_FOCUS,t.byId(this.id)).removeClass("select2-search-choice-focus");var E=f.create("li",null,this._autocompleteList);h.add(E,this._CSS_STYLES.CHOICE);E=f.create("div",{title:x},E);w.set(E,this._htmlEncode(x));
E=f.create("a",{href:"#"},E);h.add(E,this._CSS_STYLES.CLOSE_ICON);C(E,"click",n.hitch(this,function(G){var H=r.trim(G.target.parentElement.textContent);try{this._store.add({tag:H})}catch(J){}this._grid.refresh();this._removeTag(H);this._emitRemoved(H);this._emitChanged();f.destroy(G.target.parentNode.parentNode);G.preventDefault()}));E=a.byId(this._filterId);f.place(E.domNode,this._autocompleteList,"last");this._hideGrid();this.values.push(x);this._emitAdded(x);this._emitChanged()},_emitAdded:function(x){this.emit("tags-add",
{tag:x})},_emitRemoved:function(x){this.emit("tags-remove",{tag:x})},_emitChanged:function(){this.emit("tags-change",{tags:this.get("tags")})},_renderItem:function(x){return f.create("div",{innerHTML:x.tag})},_createContainerNode:function(){this._containerNode=f.create("div",null,this._attachmentNode);h.add(this._containerNode,this._CSS_STYLES.MULTI);g.set(this._containerNode,"maxWidth",this._maxWidth);g.set(this._containerNode,"minWidth",this._minWidth)},_createTagList:function(){this._autocompleteList=
f.create("ul",null,this._containerNode);h.add(this._autocompleteList,this._CSS_STYLES.CHOICES)},_createInput:function(){var x=f.create("li",null,this._autocompleteList,"last");h.add(x,this._CSS_STYLES.SEARCH_FIELD);this._inputTextBox=new e({id:this._filterId,placeHolder:this.i18n.addTags,intermediateChanges:!0,trim:!0,style:{border:"none"}},x);h.add(this._inputTextBox,"inputTextBox");g.set(this._inputTextBox,"width",this._minWidth);(8<k("ie")||4<k("trident"))&&h.add(this._inputTextBox.domNode,"ieStyle");
this.own(d.watch("curNode",n.hitch(this,this._blurHandler)))},_createDropDownList:function(){this._dropDownList=f.create("div",{id:this._gridId},this._containerNode);h.add(this._dropDownList,"dropDownList");g.set(this._dropDownList,"width",this._minWidth)},focus:function(){d.focus(this.domNode);this._isIE8?this._textTags.focus():this._inputTextBox.focus()},reset:function(){this.clearTags()},prepopulate:function(x){R.forEach(x,n.hitch(this,function(E,G){this._createTags(E);this._store.remove(E)}))},
clearTags:function(){var x=A(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,t.byId(this.id)),E=!1,G;0<x.length&&(E=!0,R.forEach(x,n.hitch(this,function(H,J){try{G=A(this._CHOICE_ALL_SELECTOR,t.byId(this.id))[0].title,this._store.add({tag:G})}catch(M){}f.destroy(H);this._emitRemoved(G)})),this.values=[],E&&this._emitChanged())},addStyledTags:function(x,E){h.add(t.byId(E),this._CSS_STYLES.MULTI);var G=f.create("ul",null,t.byId(E));h.add(G,this._CSS_STYLES.CHOICES);g.set(G,"border","none");
R.forEach(x,function(H,J){var M=f.create("li",null,G);g.set(M,"padding","3px 5px 3px 5px");h.add(M,"select2-search-resultSet");M=f.create("div",{title:H},M);w.set(M,H)})},_getUniqueTags:function(x){var E=[],G;R.forEach(x,n.hitch(this,function(H){G=this._stripHTML(H);D.isDefined(G)&&0<G.length&&E.push(G)}));return R.filter(E,n.hitch(this,function(H,J){return R.indexOf(E,H)===J}))},_setValueAttr:function(x){this._setTagsAttr(x)},_getValueAttr:function(){return this._getTagsAttr()},_setTagsAttr:function(x){!x||
x instanceof Array||(x=x.split(","));this._isIE8?this._textTags&&this._textTags.set("value",this._getUniqueTags(x).join(",")):(this.clearTags(),this.prepopulate(x?this._getUniqueTags(x):[]))},_getTagsAttr:function(){return this._isIE8?this._textTags?this._textTags.get("value"):"":this.values?this.values.join(","):""},_setRequiredAttr:function(x){this.required=x},_getRequiredAttr:function(){return this.required},_setMinWidthAttr:function(x){this.minWidth=x},_setMaxWidthAttr:function(x){this.maxWidth=
x},_setKnownTagsAttr:function(x){if(!this._isIE8){var E=[],G;for(G=0;G<x.length;G++)0>R.indexOf(this.values,x[G])&&E.push(x[G]);this._store=new l({idProperty:this._idProperty,data:E});this._grid.set("store",this._store);this._grid.refresh()}},_stripHTML:function(x){return x&&x.replace(/<(?:.|\s)*?>/g,"")},_htmlEncode:function(x){return x?x.replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;"):x}});n.setObject("dijit.Tags",c,z);return c})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(R,N,n,t,u,h,f,g){function k(B){B.preventDefault()}var w={checkbox:1,radio:1,button:1},v=/\bdgrid-cell\b/,C=/\bdgrid-row\b/,A=R("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=t.mixin({},A.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=t.mixin({},A.defaultHeaderKeyMap))},postCreate:function(){function B(F){var x=F.target;return x.type&&(!w[x.type]||32==F.keyCode)}function z(F){function x(){D._focusedHeaderNode&&
(D._focusedHeaderNode.tabIndex=-1);if(D.showHeader){if(E)for(var M=0,K,L=D.headerNode.getElementsByTagName("th");K=L[M];++M){if(G.test(K.className)){D._focusedHeaderNode=J=K;break}}else D._focusedHeaderNode=J=D.headerNode;J&&(J.tabIndex=D.tabIndex)}}var E=D.cellNavigation,G=E?v:C,H=F===D.headerNode,J=F;H?(x(),N.after(D,"renderHeader",x,!0)):N.after(D,"renderArray",function(M){return g.when(M,function(K){var L=D._focusedNode||J;if(G.test(L.className)&&f.contains(F,L))return K;for(var U=0,ba=F.getElementsByTagName("*"),
V;V=ba[U];++U)if(G.test(V.className)){L=D._focusedNode=V;break}L.tabIndex=D.tabIndex;return K})});D._listeners.push(n(F,"mousedown",function(M){B(M)||D._focusOnNode(M.target,H,M)}));D._listeners.push(n(F,"keydown",function(M){if(!M.metaKey&&!M.altKey){var K=D[H?"headerKeyMap":"keyMap"][M.keyCode];K&&!B(M)&&K.call(D,M)}}))}this.inherited(arguments);var D=this;this.tabableHeader&&(z(this.headerNode),this._listeners.push(n(this.headerNode,"dgrid-cellfocusin",function(){D.scrollTo({x:this.scrollLeft})})));
z(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(B){if(!this._focusedNode)return this.inherited(arguments);var z=this,D=document.activeElement===this._focusedNode,F=this[this.cellNavigation?"cell":"row"](this._focusedNode),x=F.row||F,E;B=B.element||B;B===x.element&&((E=this.down(x,!0))&&E.element!==B||(E=this.up(x,!0)),this._removedFocus={active:D,rowId:x.id,columnId:F.column&&F.column.id,siblingId:E&&E.element!==B?E.id:void 0},setTimeout(function(){z._removedFocus&&
z._restoreFocus(x.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(B){var z=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(z);return z},_restoreFocus:function(B){var z=this._removedFocus,D;if((B=(B=B&&this.row(B))&&B.element&&B.id===z.rowId?B:"undefined"!==typeof z.siblingId&&this.row(z.siblingId))&&B.element){if(!B.element.parentNode.parentNode){z.wait=!0;return}"undefined"!==typeof z.columnId&&(D=this.cell(B,z.columnId))&&
D.element&&(B=D);z.active&&0!==B.element.offsetHeight?this._focusOnNode(B,!1,null):(h(B.element,".dgrid-focus"),B.element.tabIndex=this.tabIndex,this._focusedNode=B.element)}delete this._removedFocus},addKeyHandler:function(B,z,D){return N.after(this[D?"headerKeyMap":"keyMap"],B,z,!0)},_ensureRowScroll:function(B){var z=this.getScrollPosition().y;z>B.offsetTop?this.scrollTo({y:B.offsetTop}):z+this.contentNode.offsetHeight<B.offsetTop+B.offsetHeight&&this.scrollTo({y:B.offsetTop-this.contentNode.offsetHeight+
B.offsetHeight})},_ensureColumnScroll:function(B){var z=this.getScrollPosition().x,D=B.offsetLeft;if(z>D)this.scrollTo({x:D});else{var F=this.bodyNode.clientWidth;B=B.offsetWidth;var x=D+B;z+F<x&&this.scrollTo({x:F>B?x-F:D})}},_ensureScroll:function(B,z){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!z&&this._ensureRowScroll(B.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(B.element)},_focusOnNode:function(B,z,D){var F="_focused"+(z?
"Header":"")+"Node",x=this[F],E=this.cellNavigation?"cell":"row",G=this[E](B),H;if(B=G&&G.element){if(this.cellNavigation){var J=B.getElementsByTagName("input");var M=0;for(H=J.length;M<H;M++){var K=J[M];if((-1!=K.tabIndex||"_dgridLastValue"in K)&&!K.disabled){8>u("ie")&&(K.style.position="relative");K.focus();8>u("ie")&&(K.style.position="");var L=!0;break}}}null!==D&&(D=t.mixin({grid:this},D),D.type&&(D.parentType=D.type),D.bubbles||(D.bubbles=!0));x&&(h(x,"!dgrid-focus[!tabIndex]"),8>u("ie")&&
(x.style.position=""),D&&(D[E]=this[E](x),n.emit(x,"dgrid-cellfocusout",D)));x=this[F]=B;D&&(D[E]=G);F=this.cellNavigation?v:C;!L&&F.test(B.className)&&(8>u("ie")&&(B.style.position="relative"),B.tabIndex=this.tabIndex,B.focus());h(B,".dgrid-focus");D&&n.emit(x,"dgrid-cellfocusin",D);this._debouncedEnsureScroll(G,z)}},focusHeader:function(B){this._focusOnNode(B||this._focusedHeaderNode,!0)},focus:function(B){(B=B||this._focusedNode)?this._focusOnNode(B,!1):this.contentNode.focus()}}),r=A.moveFocusVertical=
function(B,z){if(this._focusOnNode&&B.target!==this.contentNode){var D=this.cellNavigation,F=this[D?"cell":"row"](B);F=D&&F.column.id;var x=this.down(this._focusedNode,z,!0);D&&(x=this.cell(x,F));this._focusOnNode(x,!1,B);B.preventDefault()}};R=A.moveFocusUp=function(B){r.call(this,B,-1)};var l=A.moveFocusDown=function(B){r.call(this,B,1)},d=A.moveFocusPageUp=function(B){r.call(this,B,-this.pageSkip)},e=A.moveFocusPageDown=function(B){r.call(this,B,this.pageSkip)},a=A.moveFocusHorizontal=function(B,
z){if(this.cellNavigation&&B.target!==this.contentNode){var D=!this.row(B);this._focusOnNode(this.right(this["_focused"+(D?"Header":"")+"Node"],z),D,B);B.preventDefault()}},b=A.moveFocusLeft=function(B){a.call(this,B,-1)},c=A.moveFocusRight=function(B){a.call(this,B,1)},m=A.moveHeaderFocusEnd=function(B,z){if(this.cellNavigation){var D=this.headerNode.getElementsByTagName("th");this._focusOnNode(D[z?0:D.length-1],!0,B)}B.preventDefault()},p=A.moveHeaderFocusHome=function(B){m.call(this,B,!0)},q=A.moveFocusEnd=
function(B,z){var D=this,F=this.cellNavigation,x=this.contentNode,E=x.scrollTop+(z?0:x.scrollHeight);x=x[z?"firstChild":"lastChild"];var G=-1<x.className.indexOf("dgrid-preload"),H=G?x[(z?"next":"previous")+"Sibling"]:x,J=H.offsetTop+(z?0:H.offsetHeight);if(G){for(;H&&0>H.className.indexOf("dgrid-row");)H=H[(z?"next":"previous")+"Sibling"];if(!H)return}if(!G||1>x.offsetHeight)F&&(H=this.cell(H,this.cell(B).column.id)),this._focusOnNode(H,!1,B);else{u("dom-addeventlistener")||(B=t.mixin({},B));var M=
N.after(this,"renderArray",function(K){M.remove();return g.when(K,function(L){L=L[z?0:L.length-1];F&&(L=D.cell(L,D.cell(B).column.id));D._focusOnNode(L,!1,B)})})}E===J&&B.preventDefault()},y=A.moveFocusHome=function(B){q.call(this,B,!0)};A.defaultKeyMap={32:k,33:d,34:e,35:q,36:y,37:b,38:R,39:c,40:l};A.defaultHeaderKeyMap={32:k,35:m,36:p,37:b,39:c};return A})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(R,N,n){var t=R.NodeList;N.extend(t,{_buildArrayFromCallback:function(u){for(var h=
[],f=0;f<this.length;f++){var g=u.call(this[f],this[f],h);g&&(h=h.concat(g))}return h},_getUniqueAsNodeList:function(u){for(var h=[],f=0,g;g=u[f];f++)1==g.nodeType&&-1==n.indexOf(h,g)&&h.push(g);return this._wrap(h,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(u,h){var f=this._getUniqueAsNodeList(u);f=h?R._filterResult(f,h):f;return f._stash(this)},_getRelatedUniqueNodes:function(u,h){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(h),u)},children:function(u){return this._getRelatedUniqueNodes(u,
function(h,f){return N._toArray(h.childNodes)})},closest:function(u,h){return this._getRelatedUniqueNodes(null,function(f,g){do if(R._filterResult([f],u,h).length)return f;while(f!=h&&(f=f.parentNode)&&1==f.nodeType);return null})},parent:function(u){return this._getRelatedUniqueNodes(u,function(h,f){return h.parentNode})},parents:function(u){return this._getRelatedUniqueNodes(u,function(h,f){for(var g=[];h.parentNode;)h=h.parentNode,g.push(h);return g})},siblings:function(u){return this._getRelatedUniqueNodes(u,
function(h,f){for(var g=[],k=h.parentNode&&h.parentNode.childNodes,w=0;w<k.length;w++)k[w]!=h&&g.push(k[w]);return g})},next:function(u){return this._getRelatedUniqueNodes(u,function(h,f){for(var g=h.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(u){return this._getRelatedUniqueNodes(u,function(h,f){for(var g=[],k=h;k=k.nextSibling;)1==k.nodeType&&g.push(k);return g})},prev:function(u){return this._getRelatedUniqueNodes(u,function(h,f){for(var g=h.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(u){return this._getRelatedUniqueNodes(u,function(h,f){for(var g=[],k=h;k=k.previousSibling;)1==k.nodeType&&g.push(k);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(u,h){return 0!=h%2})},odd:function(){return this.filter(function(u,h){return 0==
h%2})}});return t})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");R.require("dojox.grid.DataGrid");R.declare("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",
type:"Map Document"},msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",
type:"Map Package"},mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",
type:"Image Collection"},photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1,notebook:esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:
!1},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",
typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",
typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},
gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:n.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",
name:"addressFields",select:"addressTypes",editable:"true",type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:n.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',width:"16px",editable:!0,type:n.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(R,N,n,t,u,h,f,g,k){var w=h("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new g(this)},get:function(v,C){if(C&&"_item"==this.field&&!this.fields)return C;if(C&&this.fields){var A=[],r=this.grid.store;N.forEach(this.fields,function(l){A=A.concat(r.getValues(C,l))});return A}return C||"string"!==typeof v?C?this.field?"_item"==this.field?C:this.grid.store.getValue(C,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var v=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,v=!0);this.updating||(this.beginUpdate(),v=!0);if(v){var C=this;this._endUpdateDelay=setTimeout(function(){delete C._endUpdateDelay;C.endUpdate()},this.updateDelay)}}},_onSet:function(v,C,A,r){this._checkUpdateStatus();v=this.getItemIndex(v);-1<v&&this.updateRow(v)},_createItem:function(v,C){var A=this._hasIdentity?this.store.getIdentity(v):t.toJson(this.query)+":idx:"+C+":sort:"+t.toJson(this.getSortProps());
return this._by_idty[A]={idty:A,item:v}},_addItem:function(v,C,A){this._by_idx[C]=this._createItem(v,C);A||this.updateRow(C)},_onNew:function(v,C){this._checkUpdateStatus();var A=this.get("rowCount");this._addingItem=!0;this.updateRowCount(A+1);this._addingItem=!1;this._addItem(v,A);this.showMessage()},_onDelete:function(v){this._checkUpdateStatus();v=this._getItemIndex(v,!0);if(0<=v){this._pages=[];this._eop=this._bop=-1;var C=this._by_idx[v];this._by_idx.splice(v,1);delete this._by_idty[C.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(v)&&(this.selection.deselect(v),this.selection.selected.splice(v,1))},_onRevert:function(){this._refresh()},setStore:function(v,C,A){this._requestsPending(0)||(this._setQuery(C,A),this._setStore(v),this._refresh(!0))},setQuery:function(v,C){this._requestsPending(0)||(this._setQuery(v,C),this._refresh(!0))},setItems:function(v){this.items=v;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(v,C){this.query=v;this.queryOptions=C||this.queryOptions},_setStore:function(v){this.store&&this._store_connects&&N.forEach(this._store_connects,this.disconnect,this);if(this.store=v){v=this.store.getFeatures();var C=[];this._canEdit=!!v["dojo.data.api.Write"]&&!!v["dojo.data.api.Identity"];this._hasIdentity=!!v["dojo.data.api.Identity"];v["dojo.data.api.Notification"]&&!this.items&&(C.push(this.connect(this.store,"onSet","_onSet")),C.push(this.connect(this.store,
"onNew","_onNew")),C.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&C.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=C}},_onFetchBegin:function(v,C){this.scroller&&(this.rowCount!=v&&(C.isRender?(this.scroller.init(v,this.keepRows,this.rowsPerPage),this.rowCount=v,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(v)),v?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(v,C){this.scroller&&(v&&0<v.length&&(N.forEach(v,function(A,r){this._addItem(A,C.start+r,!0)},this),this.updateRows(C.start,v.length),C.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),u("ie")&&k.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[C.start]=
!1)},_onFetchError:function(v,C){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[C.start]=!1;this.onFetchError(v,C)},onFetchError:function(v,C){},_fetch:function(v,C){v=v||0;if(this.store&&!this._pending_requests[v]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[v]=!0;try{if(this.items){var A=this.items,r=this.store;this.rowsPerPage=A.length;
var l={start:v,count:this.rowsPerPage,isRender:C};this._onFetchBegin(A.length,l);var d=0;N.forEach(A,function(a){r.isItemLoaded(a)||d++});if(0===d)this._onFetchComplete(A,l);else{var e=function(a){d--;0===d&&this._onFetchComplete(A,l)};N.forEach(A,function(a){r.isItemLoaded(a)||r.loadItem({item:a,onItem:e,scope:this})},this)}}else this.store.fetch({start:v,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:C,onBegin:n.hitch(this,"_onFetchBegin"),
onComplete:n.hitch(this,"_onFetchComplete"),onError:n.hitch(this,"_onFetchError")})}catch(a){this._onFetchError(a,{start:v,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(v){var C=this._by_idx[v];return!C||C&&!C.item?(this._preparePage(v),null):C.item},getItemIndex:function(v){return this._getItemIndex(v,!1)},_getItemIndex:function(v,C){if(!C&&!this.store.isItem(v))return-1;
for(var A=this._hasIdentity?this.store.getIdentity(v):null,r=0,l=this._by_idx.length;r<l;r++){var d=this._by_idx[r];if(d&&(A&&d.idty==A||d.item===v))return r}return-1},filter:function(v,C){this.query=v;C&&this._clearData();this._fetch()},_getItemAttr:function(v,C){var A=this.getItem(v);return A?this.store.getValue(A,C):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(v){return this._pending_requests[v]},
_rowToPage:function(v){return this.rowsPerPage?Math.floor(v/this.rowsPerPage):v},_pageToRow:function(v){return this.rowsPerPage?this.rowsPerPage*v:v},_preparePage:function(v){(v<this._bop||v>=this._eop)&&!this._addingItem&&(v=this._rowToPage(v),this._needPage(v),this._bop=v*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(v){this._pages[v]||(this._pages[v]=!0,this._requestPage(v))},_requestPage:function(v){v=this._pageToRow(v);0<Math.min(this.rowsPerPage,
this.get("rowCount")-v)&&(this._requests++,this._requestsPending(v)||setTimeout(n.hitch(this,"_fetch",v,!1),1))},getCellName:function(v){return v.field},_refresh:function(v){this._clearData();this._fetch(0,v)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var v=this.getCell(this.getSortIndex());if(v){var C=v.sortDesc,A=!(0<this.sortInfo);return[{attribute:v.field,descending:"undefined"==typeof C?
A:A?!C:C}]}return this.sortFields?this.sortFields:null},styleRowState:function(v){if(this.store&&this.store.getState){for(var C=this.store.getState(v.index),A="",r=0,l=["inflight","error","inserting"],d;d=l[r];r++)if(C[d]){A=" dojoxGridRow-"+d;break}v.customClasses+=A}},onStyleRow:function(v){this.styleRowState(v);this.inherited(arguments)},canEdit:function(v,C){return this._canEdit},_copyAttr:function(v,C){var A=this.getItem(v);return this.store.getValue(A,C)},doStartEdit:function(v,C){this._cache[C]||
(this._cache[C]=this._copyAttr(C,v.field));this.onStartEdit(v,C)},doApplyCellEdit:function(v,C,A){this.store.fetchItemByIdentity({identity:this._by_idx[C].idty,onItem:n.hitch(this,function(r){var l=this.store.getValue(r,A);"number"==typeof l?v=isNaN(v)?v:parseFloat(v):"boolean"==typeof l?v="true"==v?!0:"false"==v?!1:v:l instanceof Date&&(l=new Date(v),v=isNaN(l.getTime())?v:l);this.store.setValue(r,A,v);this.onApplyCellEdit(v,C,A)})})},doCancelEdit:function(v){this._cache[v]&&(this.updateRow(v),delete this._cache[v]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(v,C){this.onApplyEdit(v)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var v=n.hitch(this,function(C){C.length&&(N.forEach(C,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:v}):v(this.selection.getSelected())}}});w.cell_markupFactory=function(v,C,A){var r=n.trim(k.attr(C,"field")||"");r&&(A.field=r);A.field=
A.field||A.name;if(r=n.trim(k.attr(C,"fields")||""))A.fields=r.split(",");v&&v(C,A)};w.markupFactory=function(v,C,A,r){return f.markupFactory(v,C,A,n.partial(w.cell_markupFactory,r))};return w})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(R,N,n){return R("dojox.grid.DataSelection",n,{constructor:function(t){t.keepSelection&&(this.preserver=new N(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var t=
n.prototype.getFirstSelected.call(this);return-1==t?null:this.grid.getItem(t)},getNextSelected:function(t){t=this.grid.getItemIndex(t);t=n.prototype.getNextSelected.call(this,t);return-1==t?null:this.grid.getItem(t)},getSelected:function(){for(var t=[],u=0,h=this.selected.length;u<h;u++)this.selected[u]&&t.push(this.grid.getItem(u));return t},addToSelection:function(t){if("none"!=this.mode){var u=null;u="number"==typeof t||"string"==typeof t?t:this.grid.getItemIndex(t);n.prototype.addToSelection.call(this,
u)}},deselect:function(t){if("none"!=this.mode){var u=null;u="number"==typeof t||"string"==typeof t?t:this.grid.getItemIndex(t);n.prototype.deselect.call(this,u)}},deselectAll:function(t){var u=null;t||"number"==typeof t?(u="number"==typeof t||"string"==typeof t?t:this.grid.getItemIndex(t),n.prototype.deselectAll.call(this,u)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(R,
N,n,t){return R("dojox.grid._SelectionPreserver",null,{constructor:function(u){this.selection=u;var h=this.grid=u.grid;this.reset();this._connects=[N.connect(h,"_setStore",this,"reset"),N.connect(h,"_addItem",this,"_reSelectById"),N.connect(u,"onSelected",n.hitch(this,"_selectById",!0)),N.connect(u,"onDeselected",n.hitch(this,"_selectById",!1)),N.connect(u,"deselectAll",this,"reset")]},destroy:function(){this.reset();t.forEach(this._connects,N.disconnect);delete this._connects},reset:function(){this._selectedById=
{}},_reSelectById:function(u,h){u&&this.grid._hasIdentity&&(this.selection.selected[h]=this._selectedById[this.grid.store.getIdentity(u)])},_selectById:function(u,h){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=h,g=this.grid;if("number"==typeof h||"string"==typeof h)f=(f=g._by_idx[h])&&f.item;f&&(this._selectedById[g.store.getIdentity(f)]=!!u);return f}}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(R,N,n,t){return R("dijit.form.Textarea",[t,n],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);N.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(R,N,n,t,u,h,f){n.add("textarea-needs-help-shrinking",function(){var g=h.body(),k=N.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},g,"last"),w=k.scrollHeight>=k.clientHeight;g.removeChild(k);return w});return R("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(u(g,"focus, resize",t.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",t.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(g){this.inherited(arguments);this.resize()},_estimateHeight:function(){var g=this.textbox;g.rows=(g.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function g(){var d=!1;""===k.value&&(k.value=" ",d=!0);var e=k.scrollHeight;d&&(k.value="");return e}var k=this.textbox;"hidden"==k.style.overflowY&&(k.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(g()||k.offsetHeight){var w=g()+Math.max(k.offsetHeight-k.clientHeight,0),v=w+"px";v!=k.style.height&&(k.style.height=v,k.rows=1);if(n("textarea-needs-help-shrinking")){var C=g(),A=k.style.minHeight,r=4,l=k.scrollTop;k.style.minHeight=v;for(k.style.height="auto";0<w;){k.style.minHeight=
Math.max(w-r,4)+"px";v=g();C-=v;w-=C;if(C<r)break;C=v;r<<=1}k.style.height=w+"px";k.style.minHeight=A;k.scrollTop=l}k.style.overflowY=g()>k.clientHeight?"auto":"hidden";"hidden"==k.style.overflowY&&(k.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"arcgisonline/map/core/sameSpatialReference":function(){define(["esri/lang","arcgisonline/map/utils/contains"],function(R,N){return function(n,t){var u=[102113,102100,3857];return n&&t&&n.wkt==t.wkt&&(n.wkid==t.wkid||R.isDefined(n.latestWkid)&&
n.latestWkid==t.wkid||R.isDefined(t.latestWkid)&&n.wkid==t.latestWkid||R.isDefined(n.latestWkid)&&n.latestWkid==t.latestWkid)||n&&t&&n.wkid&&t.wkid&&N(u,n.wkid)&&N(u,t.wkid)?!0:!1}})},"arcgisonline/sharing/dijit/dialog/_PublishTileServiceDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojo/promise/all,dojo/Deferred,esri/geometry/Extent,arcgisonline/sharing/util"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin");R.require("dojo.promise.all");
R.require("dojo.Deferred");R.require("esri.geometry.Extent");R.require("arcgisonline.sharing.util");R.declare("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin",null,{_util:arcgisonline.sharing.util,SCALE_MIN:5.91657527591555E8,SCALE_MAX:0,tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,
scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},
{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,
scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},tileImageInfo:{format:"PNG32",compressionQuality:0,antialiasing:!0},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128},vectorTilePublishParams:{tilingSchema:{tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:2.95828763795777E8},{level:1,resolution:39135.75848200009,scale:1.47914381897889E8},{level:2,resolution:19567.87924099992,scale:7.3957190948944E7},{level:3,resolution:9783.93962049996,scale:3.6978595474472E7},{level:4,resolution:4891.96981024998,scale:1.8489297737236E7},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,
scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,
resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},
tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}},lods:[{level:0,label:"1:591,657,528",scale:5.91657527591555E8},{level:1,label:"1:295,828,764",scale:2.95828763795777E8},{level:2,label:"1:147,914,382",scale:1.47914381897889E8},{level:3,label:"1:73,957,191",scale:7.3957190948944E7},{level:4,label:"1:36,978,595",scale:3.6978595474472E7},{level:5,label:"1:18,489,298",scale:1.8489297737236E7},
{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,
label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],statusCheckIntervalTime:2500,_fetchFSInfo:function(t){var u=new R.Deferred,h=t&&t.url,f=t?esriGeowConfig.restBaseUrl+"content/items/"+t.id+"/data":null;h&&f?R.promise.all({serviceInfo:this._fetchServiceInfo(h),
layers:this._fetchServiceLayers(h),itemData:this._fetchItemData(f,t)}).then(R.hitch(this,function(g){u.resolve(R.mixin({},g))})):u.reject(this.i18n.publishWizard.errors.noItemUrl||{message:"Item does not specify a url."});return u},_fetchServiceInfo:function(t){return this._util.request({url:t})},_fetchServiceLayers:function(t){return this._util.request({url:t+"/layers"}).then(R.hitch(this,function(u){return{layers:u.layers}}))},_fetchItemData:function(t,u){return this._util.request({url:t}).then(R.hitch(this,
function(h){var f=[],g="features"===this._type,k;R.forEach(h&&h.layers||[],R.hitch(this,function(w,v){w&&(k=R.mixin({},g?{id:w.id}:{id:v,layerUrl:u.url+"/"+w.id,layerItemId:u.id,layerDefinition:w.layerDefinition}),w.popupInfo&&(k=R.mixin(k,{popupInfo:w.popupInfo})),!g&&esri.isDefined(w.showLegend)&&(k=R.mixin(k,{showLegend:w.showLegend})));f.push(k)}));return f&&f.length?R.mixin(h,{layers:f}):null}))},_computeScale:function(t,u){var h={width:esri.config.defaults.map.width,extent:new esri.geometry.Extent(t),
spatialReference:t.spatialReference||u};return esri.geometry.getScale(h)},_fetchTileLayerInfo:function(t,u){var h=new R.Deferred,f=u&&"vectorTiles"===u,g=function(k){return-1<window.location.href.indexOf("https:")&&k&&-1<k.indexOf("http:")};-1<(f?t.indexOf("/VectorTileServer"):t.indexOf("/MapServer"))?this._util.request({url:t,timeout:1E4},{useProxy:g(t),addToken:!1}).then(R.hitch(this,function(k){k&&k.singleFusedMapCache&&k.tileInfo?h.resolve(this._addScaleLabels(k.tileInfo)):k&&f&&k.tileInfo?h.resolve(k.tileInfo):
h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.noTilingSchemeFound})}),R.hitch(this,function(k){h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.mapServiceError})})):h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.badMapServiceUrl});return h},_addScaleLabels:function(t){if(t&&t.lods)return R.forEach(t&&t.lods||[],R.hitch(this,function(u){u.label="1:"+R.number.format(Math.round(u.scale),{pattern:"#,###,###,##0"})})),
t},_calculateConstraints:function(t){var u={minScale:null,maxScale:null},h=function(f){if(!esri.isDefined(u.minScale))u.minScale=f.minScale;else if(f.minScale>u.minScale||0===f.minScale)u.minScale=f.minScale;esri.isDefined(u.maxScale)?f.maxScale<u.maxScale&&(u.maxScale=f.maxScale):u.maxScale=f.maxScale};t?t.layers&&R.forEach(t.layers,h):(u.minScale=this.SCALE_MIN,u.maxScale=this.SCALE_MAX);return u},_normalizeMaxScale:function(t,u,h){if(t<=u&&h){for(u=h.length-1;0<=u;u--)if(t<h[u].scale){var f=u+
2;break}f=f>h.length-1?h.length-1:f;return h[f].scale}return u}})})},"esri/dijit/VisibleScaleRangeSlider":function(){define("../kernel ./_EventedWidget ./_Tooltip ./VisibleScaleRangeSlider/_RecommendedScaleRangeBounds ./VisibleScaleRangeSlider/_SlideEvent ./VisibleScaleRangeSlider/ScaleMenu ./VisibleScaleRangeSlider/ScalePreview ./VisibleScaleRangeSlider/ScaleRanges dijit/form/DropDownButton dijit/popup dojo/_base/array dojo/_base/lang dojo/aspect dojo/debounce dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/string dojox/form/HorizontalRangeSlider dojo/i18n!../nls/jsapi".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y){N=N.createSubclass([n],{declaredClass:"esri.dijit.VisibleScaleRangeSlider",baseClass:"esriVisibleScaleRangeSlider",css:{currentScaleIndicator:"esriCurrentScaleIndicator",currentScaleIndicatorContainer:"esriCurrentScaleIndicatorContainer",scaleIndicator:"esriScaleIndicator",scaleIndicatorContainer:"esriScaleIndicatorContainer"},disabled:!1,map:null,layer:null,region:"en-US",minScale:0,maxScale:0,intermediateChanges:!1,labels:y.widgets.visibleScaleRangeSlider,
_slider:null,_currentScaleIndicator:null,_scalePreview:null,_maxScaleButton:null,_minScaleButton:null,_mapUpdateHandler:null,_scaleRanges:null,_scheduleScaleRangeChangeEmit:null,_getSliderIndexRange:function(B){B=Math.floor(B);return{min:B,max:B+.99999}},_setDisabledAttr:function(B){this._slider.set("disabled",B);this._maxScaleButton.set("disabled",B);this._minScaleButton.set("disabled",B);this._set("disabled",B)},_setMapAttr:function(B){this._set("map",B);this._mapUpdateHandler&&this._mapUpdateHandler.remove();
this._slider.set("disabled",!0);this._ensureMap().then(this._updateFromMap)},_setConstraintsAttr:function(B){this._set("constraints",B);this._setUpSlider({minScale:B.minScale,maxScale:B.maxScale})},_updateFromMap:function(B){var z=B.getMinScale(),D=B.getMaxScale();this._setUpSlider({minScale:z,maxScale:D});this._updateCurrentScaleIndicator();B=B.on("zoom-end",C.hitch(this,this._updateCurrentScaleIndicator));this.own(B);this._mapUpdateHandler=B},_setUpSlider:function(B){var z=B.maxScale;B=B.minScale;
this._slider.set("disabled",this.get("disabled"));this._scaleRanges.set("scaleRangeBounds",{minScale:B,maxScale:z});var D=this._getSliderIndexRange(this._scaleRanges.length-1);this._slider.set("maximum",D.max);this._silentSliderUpdate({maxScale:z,minScale:B})},_ensureMap:function(){return this._untilLoaded(this.map)},_untilLoaded:function(B){var z=new l;if(B)if(B.loaded)z.resolve(B);else B.on("load",function(){z.resolve(B)});else z.reject(Error("could not load resource"));return z.promise},_updateCurrentScaleIndicator:function(){var B=
this._scaleRanges.clampScale(this.map.getScale());B=this._mapScaleToSlider(B)/this._slider.maximum;this.isLeftToRight()||(B=1-B);b.set(this._currentScaleIndicator,{left:100*B+"%"})},_setLayerAttr:function(B){this._set("layer",B);this._ensureScaleRangeProvider().then(this._ensureLayer).then(this._updateMinMaxScaleFromLayer)},_ensureLayer:function(){return this._untilLoaded(this.layer)},_updateMinMaxScaleFromLayer:function(B){this.set({minScale:B.minScale,maxScale:B.maxScale})},_mapSliderToScale:function(B){var z=
this._getSliderIndexRange(B),D=this._scaleRanges.findScaleRangeByIndex(B);return this._mapToRange(B,z.min,z.max,D.minScale,D.maxScale)},_mapToRange:function(B,z,D,F,x){return F+(B-z)*(x-F)/(D-z)},_setRegionAttr:function(B){this._set("region",B);this._scalePreview.set("source",g.getScalePreviewSource(B))},_getMinimumAttr:function(){return this._mapSliderToScale(this._slider.minimum)},_getMaximumAttr:function(){return this._mapSliderToScale(this._slider.maximum)},_getActualMaxScaleAttr:function(){return this._scaleRanges.clampMaxScale(this.maxScale)},
_setMaxScaleAttr:function(B){this._set("maxScale",B);this._ensureScaleRangeProvider().then(C.hitch(this,function(){B=this._scaleRanges.clampMaxScale(B);this._set("maxScale",this._layerConstrainedMaxScale(B));this._silentSliderUpdate({maxScale:B});this._scheduleScaleRangeChangeEmit()}))},_silentSliderUpdate:function(B){var z=B.minScale,D=B.maxScale,F=this._scaleRanges;B=this._slider;void 0!==z&&(z=this._mapScaleToSlider(F.clampMinScale(z)),B.set("value",z,!1,!1));void 0!==D&&(z=this._mapScaleToSlider(F.clampMaxScale(D)),
B.set("value",z,!1,!0))},_mapScaleToSlider:function(B){var z=this._scaleRanges.scaleToRangeIndex(B),D=this._getSliderIndexRange(z);z=this._scaleRanges.findScaleRangeByIndex(z);return this._mapToRange(B,z.minScale,z.maxScale,D.min,D.max)},_getActualMinScaleAttr:function(){return this._scaleRanges.clampMinScale(this.minScale)},_setMinScaleAttr:function(B){this._set("minScale",B);this._ensureScaleRangeProvider().then(C.hitch(this,function(){B=this._scaleRanges.clampMinScale(B);this._set("minScale",this._layerConstrainedMinScale(B));
this._silentSliderUpdate({minScale:B});this._scheduleScaleRangeChangeEmit()}))},_ensureScaleRangeProvider:function(){if(this.map)return this._ensureMap();var B=new l;this.constraints&&B.resolve();return B.promise},_emitScaleRangeChange:function(){this.emit("scale-range-change",{minScale:this.minScale,maxScale:this.maxScale})},_layerConstrainedMinScale:function(B){var z=C.getObject("tileInfo.lods",!1,this.layer)||[];var D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===
this.layer.declaredClass);return 0<z.length&&!D?(z=z[0].scale,D=this._scaleRanges.get("firstRange"),(D=.85<this._mapToRange(B,D.maxScale,D.minScale,0,1))?z:B>z?z:B):this._scaleRanges.beyondMinScale(B)?0:B},_layerConstrainedMaxScale:function(B){var z=C.getObject("tileInfo.lods",!1,this.layer)||[],D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===this.layer.declaredClass);return 0<z.length&&!D?(z=z[z.length-1].scale,B<z?z:B):this._scaleRanges.beyondMaxScale(B)?
0:B},constructor:function(){this._scaleRanges=new (g.createSubclass([t]));this._scheduleScaleRangeChangeEmit=r(C.hitch(this,this._emitScaleRangeChange),0);this._ensureMap=C.hitch(this,this._ensureMap);this._ensureScaleRangeProvider=C.hitch(this,this._ensureScaleRangeProvider);this._ensureLayer=C.hitch(this,this._ensureLayer);this._updateMinMaxScaleFromLayer=C.hitch(this,this._updateMinMaxScaleFromLayer);this._updateFromMap=C.hitch(this,this._updateFromMap)},buildRendering:function(){this.inherited(arguments);
this._initSlider();this._initScalePreview();this._initCurrentScaleIndicator();this._initScaleMenus()},_initSlider:function(){var B=new (q.createSubclass([u]))({baseClass:"esriHorizontalSlider",showButtons:!1,intermediateChanges:this.intermediateChanges,disabled:!0});this._slider=B;B.placeAt(this.domNode);B.startup();this.own(B.on("slide-onmousemove, slidemax-onmousemove",C.hitch(this,function(z){this._updateScalePreview(z.movable.handle)})),B.on("slide-onmovestop, slidemax-onmovestop",C.hitch(this,
function(z){d.contains(z.movable.handle,"dijitSliderThumbHover")||this._closeScalePreview()})),B.on("change",C.hitch(this,function(){var z=Math.round(this._mapSliderToScale(this._getSliderMin())),D=Math.round(this._mapSliderToScale(this._getSliderMax()));this.set({minScale:z,maxScale:D})})),A.after(B,"_setValueAttr",C.hitch(this,this._updateLabelMenus)))},_getSliderMin:function(){return this._slider.get("value")[0]},_getSliderMax:function(){return this._slider.get("value")[1]},_updateLabelMenus:function(){var B=
this._maxScaleButton;this._minScaleButton.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMin()));B.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMax()))},_initScalePreview:function(){var B=new f;B.startup();w.moveOffScreen(B);v.forEach([this._slider._movable.handle,this._slider._movableMax.handle],function(z){z.onmouseenter=C.hitch(this,this._updateScalePreview,z);z.onmouseleave=C.hitch(this,this._closeScalePreview)},this);this.own(B);this._scalePreview=B},_closeScalePreview:function(){w.close(this._scalePreview)},
_updateScalePreview:function(B){if(!this.disabled){var z=this._scalePreview;w.moveOffScreen(z);var D=this._slider,F=B===D.sliderHandle?this._getSliderMin():this._getSliderMax(),x=a.position(B),E=a.position(z.domNode);D=a.position(D.sliderBarContainer);var G=this.isLeftToRight();F=this._scaleRanges.getScalePreviewSpriteBackgroundPosition(F);z.set("backgroundPosition",F);x=x.x-D.x;E=.5*E.w;w.open({parent:this,popup:z,around:B,orient:x<E?G?["above","below"]:["above-alt","below-alt"]:x<D.w-E?["above-centered",
"below-centered"]:G?["above-alt","below-alt"]:["above","below"]})}},_initCurrentScaleIndicator:function(){if(this.map){var B=e.create("div",{className:this.css.scaleIndicatorContainer+" "+this.css.currentScaleIndicatorContainer},this._slider.sliderBarContainer),z=e.create("div",{className:this.css.scaleIndicator+" "+this.css.currentScaleIndicator},B);this._currentScaleIndicator=z;this.createTooltip(z);B=m(z,"mouseover",C.hitch(this,function(){var D=p.substitute(this.labels.currentScaleTooltip,{scaleLabel:this._scaleRanges.getScaleRangeLabel(this._mapScaleToSlider(this.map.getScale()))});
this.findTooltip(z).set("label",D)}));this.own(B)}},_initScaleMenus:function(){var B=new h,z=new h;this.own(B.on("scale-selected",C.hitch(this,function(x){D.closeDropDown();this.set("minScale",x.scale)})));this.own(z.on("scale-selected",C.hitch(this,function(x){F.closeDropDown();this.set("maxScale",x.scale)})));var D=new k({baseClass:"esriScaleMenuButton esriMinScaleMenuButton",dropDown:B,dropDownPosition:["below","above"]});D.toggleDropDown();D.toggleDropDown();var F=new k({baseClass:"esriScaleMenuButton esriMaxScaleMenuButton",
dropDown:z,dropDownPosition:["below","above"]});F.toggleDropDown();F.toggleDropDown();this.own(A.before(D,"openDropDown",C.hitch(this,function(){var x=this._scaleRanges.findScaleRange(this.get("actualMaxScale")).minScale;B.set("options",{label:D.label,scale:{current:this.get("actualMinScale"),map:this._getMapScale(),min:this.get("minimum"),max:x}})})));this.own(A.before(F,"openDropDown",C.hitch(this,function(){var x=this._scaleRanges.findScaleRange(this.get("actualMinScale")).maxScale;z.set("options",
{label:F.label,scale:{current:this.get("actualMaxScale"),map:this._getMapScale(),min:x,max:this.get("maximum")}})})));D.placeAt(this.domNode);F.placeAt(this.domNode);B.startup();z.startup();D.startup();F.startup();this._minScaleButton=D;this._maxScaleButton=F},_getMapScale:function(){return this.map?this.map.getScale():-1},startup:function(){this.inherited(arguments);this.watch("intermediateChanges",function(B,z,D){this._slider.set(B,D)})}});C.setObject("dijit.VisibleScaleRangeSlider",N,R);return N})},
"esri/dijit/_Tooltip":function(){define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(R,N,n,t,u){return n(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments);this._started||N.forEach(this._tooltips,function(h){h.startup()})},destroy:function(){this.inherited(arguments);N.forEach(this._tooltips,function(h){h.destroy()});this._tooltips=null},createTooltips:function(h){N.forEach(h,
function(f){this.createTooltip(f.node,f.label)},this)},createTooltip:function(h,f){var g=this._getConnectId(h);g&&(g="object"===typeof f?t.mixin({},f,{connectId:g}):{connectId:g,label:f},g=new R(g),this._started&&g.startup(),this._tooltips.push(g))},_getConnectId:function(h){var f;if(h){if(t.isArray(h)){var g=[];N.forEach(h,function(k){(f=this._getNode(k))&&g.push(f)});if(0===g.length)return}else if(g=this._getNode(h),!g)return;return g}},_getNode:function(h){return u.byId(h.domNode||h)},findTooltip:function(h){var f=
this._getNode(h),g;if(h){h=this._tooltips;var k=h.length;for(var w=0;w<k;w++){var v=h[w];if(g=t.isArray(v.connectId)?-1<N.indexOf(v.connectId,f):v.connectId===f)return v}}}})})},"esri/dijit/VisibleScaleRangeSlider/_RecommendedScaleRangeBounds":function(){define(["./recommendedScales","dojo/_base/declare"],function(R,N){return N(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._RecommendedScaleRangeBounds",beyondMinScale:function(n){var t=this.get("firstRange"),u=t.minScale;t=R.getRecommendedScale(t.id)||
t.maxScale;return n<=u&&n>t},beyondMaxScale:function(n){var t=this.get("lastRange"),u=t.maxScale;t=R.getRecommendedScale(t.id)||t.minScale;return n<t&&n>=u}})})},"esri/dijit/VisibleScaleRangeSlider/recommendedScales":function(){define(["dojo/_base/lang"],function(R){var N={_recommendedScales:{world:1E8,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,
street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100},getRecommendedScale:function(n){return N._recommendedScales[n]},all:function(){return R.clone(N._recommendedScales)}};return N})},"esri/dijit/VisibleScaleRangeSlider/_SlideEvent":function(){define(["dojo/_base/array","dojo/_base/declare"],function(R,N){return N(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._SlideEvent",_events:["onMouseMove","onFirstMove",{name:"onMoveStop",hookTo:"destroy"}],postCreate:function(){this.inherited(arguments);
this._extendMover(this._movable);this._extendMover(this._movableBar,"rangebar");this._extendMover(this._movableMax,"max")},_extendMover:function(n,t){if(n){var u=n.mover,h={};R.forEach(this._events,function(f){if("object"===typeof f){var g=f.name;var k=f.hookTo}else g=f;var w=u.prototype[g]||function(){};var v="slide"+(t||"")+"-"+g.toLowerCase();var C=function(){w.apply(this,arguments);this.widget.emit(v,{movable:n})};if(k){var A=u.prototype[k];h[k]=function(){A.apply(this,arguments);C.apply(this,
arguments)}}h[g]=C});u.extend(h)}}})})},"esri/dijit/VisibleScaleRangeSlider/ScaleMenu":function(){define("../../kernel ../_EventedWidget ../_Tooltip ./recommendedScales ./ScaleRanges dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/has dojo/keys dojo/number dojo/on dojo/query dojo/string dojox/html/entities dojox/lang/functional/object dojo/i18n!../../nls/jsapi dojo/text!./templates/ScaleMenu.html dijit/form/TextBox".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y){N=g([N,h,f,n],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScaleMenu",templateString:y,baseClass:"esriScaleMenu",labels:q.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",section:"esriSection",content:"esriContent",current:"esriCurrent",input:"esriInput",list:"esriList",item:"esriItem",inline:"esriInline",selectable:"esriSelectable",hidden:"esriHidden"},_elementValueMap:null,_elements:null,_scaleRangeCategories:null,_scaleRanges:null,
_rangeToScaleAndNodeLookup:null,constructor:function(){this._scaleRanges=new u},buildRendering:function(){this.inherited(arguments);this._rangeToScaleAndNodeLookup={map:{scale:null,node:this.dap_mapScaleItem}};var B=this.labels,z=B.featuredScaleLabels,D=t.all(),F=this.css.item+" "+this.css.selectable,x;k.forEach(p.keys(D),function(H){x=z[H];var J=D[H],M=c.substitute(x,{scaleLabel:this._formatScale(J)});M=C.create("li",{innerHTML:M,className:F},this.dap_recommendedScales);this._rangeToScaleAndNodeLookup[H]=
{scale:J,node:M}},this);var E=C.create("span",{innerHTML:B.setTo,className:this.css.inline}),G=C.create("span",{innerHTML:B.selectOne,className:this.css.inline});A.set(this.dap_scaleListHeader,"innerHTML",c.substitute(B.setToSelectOne,{setTo:E.outerHTML,selectOne:G.outerHTML}))},_formatScale:function(B){return"1:"+e.format(B)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,a.selector("."+this.css.item+"."+this.css.selectable,"click"),w.hitch(this,function(B){B=B.target===
this.dap_mapScaleItem?this.options.scale.map:this._parseScale(B.target.innerHTML);this._emitScaleSelected(B)})));this.dap_scaleInput.on("keyDown",w.hitch(this,function(B){B.keyCode===d.ENTER&&this._handleCustomScaleInput()}));this.createTooltip(this.dap_scaleInput,this.labels.customScaleInputTooltip)},_emitScaleSelected:function(B){this.emit("scale-selected",{scale:B})},_handleCustomScaleInput:function(){var B=this._parseScale(this.dap_scaleInput.get("value"));isNaN(B)||this._emitScaleSelected(this._scaleRanges.clampScale(B))},
_parseScale:function(B){B=m.decode(B).replace(/.*\(/,"").replace(/\).*$/,"").replace(/.*1:/,"").replace(/[^0-9.\s]/g,"");return e.parse(B)},_setOptionsAttr:function(B){var z=B.scale,D=this._formatScale(z.current);A.set(this.dap_currentScaleLabel,"innerHTML",B.label);this.dap_scaleInput.set("value",D,!1);D=c.substitute(this.labels.featuredScaleLabels.current,{scaleLabel:this._formatScale(z.map)});this._rangeToScaleAndNodeLookup.map.scale=z.map;A.set(this.dap_mapScaleItem,"innerHTML",D);v.toggle(this.dap_mapScaleItem,
this.css.hidden,-1===z.map);this._scaleRanges.set("scaleRangeBounds",{minScale:z.min,maxScale:z.max});this._hideOutOfScaleRanges();this._set("options",B)},_hideOutOfScaleRanges:function(){var B=b("."+this.css.item+"."+this.css.selectable,this.dap_recommendedScales),z=this._scaleRanges;k.forEach(p.keys(this._rangeToScaleAndNodeLookup),function(D){D=this._rangeToScaleAndNodeLookup[D];v.toggle(D.node,this.css.hidden,!z.contains(D.scale))},this);B=B.every(function(D){return"none"===r.get(D,"display")});
v.toggle(this.dap_recommendedScaleSection,this.css.hidden,B)}});w.setObject("dijit.ScaleMenu",N,R);return N})},"esri/dijit/VisibleScaleRangeSlider/ScaleRanges":function(){define(["./scalePreviewUtil","dojo/_base/array","dojo/_base/declare","dojo/Stateful","dojo/i18n!../../nls/jsapi"],function(R,N,n,t,u){n=n(t,{_scaleRangeStops:[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},
{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"state",minScale:3999999},{id:"states",minScale:6999999},{id:"country",minScale:14999999},{id:"countries",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}],_allRanges:null,_ranges:null,length:0,constructor:function(){this._allRanges=
this.getScaleRanges()},_scaleRangeBoundsSetter:function(h){this._ranges=h=this.getScaleRanges(h.maxScale,h.minScale);this.length=h.length},getScaleRanges:function(h,f){var g=this._scaleRangeStops,k=g.length;h=0<=h?h:0;f=0<f?f:g[k-1].minScale;var w=h;var v=[];for(var C=0;C<k;C++){var A=Math.min(g[C].minScale,f);var r=Math.min(A,f);h<=A&&w<f&&v.push({id:g[C].id,maxScale:Math.max(w,h),minScale:r});w=r+1}v.reverse();return this._ensureValidBoundaryRanges(v)},_ensureValidBoundaryRanges:function(h){var f=
h[0];f.minScale===f.maxScale&&(h.shift(),h[0].minScale+=1);f=h[h.length-1];f.minScale===f.maxScale&&(h.pop(),--h[h.length-1].maxScale);return h},getScalePreviewSpriteBackgroundPosition:function(h){h=this._toFullRangeIndex(h);return R.getScalePreviewSpriteBackgroundPosition(h)},_toFullRangeIndex:function(h){h=this.findScaleRangeByIndex(Math.floor(h));for(var f=this._allRanges,g=f.length,k=0,w=0;w<g;w++)if(f[w].id===h.id){k=w;break}return k},getScaleRangeLabel:function(h){h=this._ranges[this._clampScaleRangeIndex(h)];
return u.widgets.visibleScaleRangeSlider.scaleRangeLabels[h.id]},findScaleRange:function(h){var f=this._ranges;if(h>=f[0].maxScale)return f[0];if(h<=f[f.length-1].minScale)return f[f.length-1];for(var g=0;g<f.length;g++){var k=f[g];if(h>=k.maxScale&&h<=k.minScale){var w=k;break}}return w},findScaleRangeByIndex:function(h){h=this._clampScaleRangeIndex(h);return this._ranges[h]},clampScale:function(h){return Math.min(this.get("minScale"),Math.max(this.get("maxScale"),h))},_minScaleGetter:function(){return this.get("firstRange").minScale},
_maxScaleGetter:function(){return this.get("lastRange").maxScale},_firstRangeGetter:function(){return this._ranges[0]},_lastRangeGetter:function(){var h=this._ranges;return h[h.length-1]},clampMinScale:function(h){return 0===h?this.get("minScale"):this.clampScale(h)},clampMaxScale:function(h){return this.clampScale(h)},_clampScaleRangeIndex:function(h){if(0>=h)return 0;var f=this._ranges.length-1;return h>f?f:Math.floor(h)},scaleToRangeIndex:function(h){return N.indexOf(this._ranges,this.findScaleRange(h))},
contains:function(h){for(var f=this._ranges,g=!1,k,w=0;w<f.length;w++)if(k=f[w],h>=k.maxScale&&h<=k.minScale){g=!0;break}return g}});n.getScalePreviewSource=function(h){return R.getScalePreviewSource(h)};return n})},"esri/dijit/VisibleScaleRangeSlider/scalePreviewUtil":function(){define(["dojo/_base/array","require"],function(R,N){var n={_supportedRegions:"ar-iq ar-kw bg-bg cs-cz da-dk da-gl da-gl de-at de-ch de-de de-li el-gr en-ae en-au en-ca en-ca en-eg en-gb en-hk en-id en-ie en-ie en-il en-in en-iq en-ke en-lu en-mo en-my en-nz en-rw en-sg en-us en-us en-vi en-vi en-wo en-za es-ar es-ar es-bo es-bo es-cl es-cl es-co es-co es-cr es-cr es-es es-gt es-gt es-mx es-mx es-ni es-ni es-pe es-pe es-pr es-pr es-sv es-sv es-ve et-ee fi-fi fi-fi fr-ci fr-fr fr-ma fr-mg fr-ml fr-tn is-is is-is it-it ja-jp ja-jp ko-kr lt-lt lv-lv nl-be nl-nl nl-sr nl-sr nn-no nn-no pl-pl pt-br pt-br pt-pt ro-ro ru-ru sk-sk sv-se sv-se th-th zh-cn zh-tw".split(" "),
_defaultRegion:"en-us",_getSupportedRegion:function(t){t=t?t.toLowerCase():"";return-1<R.indexOf(n._supportedRegions,t)?t:n._defaultRegion},getScalePreviewSource:function(t){t="./images/scalePreview/"+n._getSupportedRegion(t)+".jpg";return"url("+N.toUrl(t)+")"},getScalePreviewSpriteBackgroundPosition:function(t){return"-"+t%5*128+"px -"+128*Math.floor(t/5)+"px"}};return n})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(R,N,n){var t={};
N.mixin(n,{keys:function(u){var h=[],f;for(f in u)f in t||h.push(f);return h},values:function(u){var h=[],f;for(f in u)f in t||h.push(u[f]);return h},filterIn:function(u,h,f){f=f||R.global;h=n.lambda(h);var g={},k;for(k in u)if(!(k in t)){var w=u[k];h.call(f,w,k,u)&&(g[k]=w)}return g},forIn:function(u,h,f){f=f||R.global;h=n.lambda(h);for(var g in u)g in t||h.call(f,u[g],g,u);return f},mapIn:function(u,h,f){f=f||R.global;h=n.lambda(h);var g={},k;for(k in u)k in t||(g[k]=h.call(f,u[k],k,u));return g}});
return n})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(R,N,n){var t=N.getObject("lang.functional",!0,R),u={},h=1<"ab".split(/a*/).length?String.prototype.split:function(k){var w=this.split.call(this,k);(k=k.exec(this))&&0==k.index&&w.unshift("");return w},f=function(k){var w=[],v=h.call(k,/\s*->\s*/m);if(1<v.length)for(;v.length;)k=v.pop(),w=v.pop().split(/\s*,\s*|\s+/m),v.length&&v.push("(function("+w.join(", ")+"){ return ("+k+"); })");
else if(k.match(/\b_\b/))w=["_"];else{v=k.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var C=k.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(v||C)v&&(w.push("$1"),k="$1"+k),C&&(w.push("$2"),k+="$2");else{v=k.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var A={};n.forEach(v,function(r){A.hasOwnProperty(r)||(w.push(r),A[r]=1)})}}return{args:w,body:k}},g=function(k){return k.length?function(){var w=k.length-1,v=t.lambda(k[w]).apply(this,arguments);for(--w;0<=w;--w)v=t.lambda(k[w]).call(this,v);return v}:function(w){return w}};N.mixin(t,{rawLambda:function(k){return f(k)},buildLambda:function(k){k=f(k);return"function("+k.args.join(",")+"){return ("+k.body+");}"},lambda:function(k){if("function"==typeof k)return k;
if(k instanceof Array)return g(k);if(u.hasOwnProperty(k))return u[k];var w=f(k);return u[k]=new Function(w.args,"return ("+w.body+");")},clearLambdaCache:function(){u={}}});return t})},"esri/dijit/VisibleScaleRangeSlider/ScalePreview":function(){define("../../kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has dojo/i18n!../../nls/jsapi dojo/text!./templates/ScalePreview.html".split(" "),function(R,N,n,t,u,h,f,g,k){N=t([n,N],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScalePreview",
baseClass:"esriScalePreview",templateString:k,labels:g.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",thumbnail:"esriThumbnail"},source:null,_setSourceAttr:function(w){this.source!==w&&(this._set("source",w),h.set(this.dap_scalePreviewThumbnail,"backgroundImage",w))},backgroundPosition:null,_setBackgroundPositionAttr:function(w){this.backgroundPosition!==w&&(this._set("backgroundPosition",w),h.set(this.dap_scalePreviewThumbnail,"backgroundPosition",w))}});u.setObject("dijit.ScalePreview",
N,R);return N})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(R,N,n,t){return R("dojox.form.HorizontalRangeSlider",[t,N],{templateString:n})})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){var d=function(b,c){return b-c};w=R("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=n.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(d);var b=this,c=R(e,{constructor:function(){this.widget=b}});this._movableMax=new C(this.sliderHandleMax,{mover:c});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);c=R(a,{constructor:function(){this.widget=b}});this._movableBar=new C(this.progressBar,{mover:c});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var c=b.target===this.sliderHandleMax,m=b.target===this.progressBar,p=N.delegate(k,this.isLeftToRight()?{PREV_ARROW:k.LEFT_ARROW,NEXT_ARROW:k.RIGHT_ARROW}:{PREV_ARROW:k.RIGHT_ARROW,NEXT_ARROW:k.LEFT_ARROW}),q=0,y=!1;switch(b.keyCode){case p.HOME:this._setValueAttr(this.minimum,!0,c);u.stop(b);return;case p.END:this._setValueAttr(this.maximum,!0,c);u.stop(b);return;case p.PREV_ARROW:case p.DOWN_ARROW:y=
!0;case p.NEXT_ARROW:case p.UP_ARROW:q=1;break;case p.PAGE_DOWN:y=!0;case p.PAGE_UP:q=this.pageIncrement;break;default:this.inherited(arguments);return}y&&(q=-q);q&&(m?this._bumpValue([{change:q,useMaxValue:!1},{change:q,useMaxValue:!0}]):this._bumpValue(q,c),u.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(h("ie")||r.focus(this.sliderHandleMax),u.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,
c){var m=N.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,c);this._setValueAttr(m,!0,c)},_getBumpValue:function(b,c){var m=c?1:0,p=f.getComputedStyle(this.sliderBarContainer),q=g.getContentBox(this.sliderBarContainer,p);p=this.discreteValues;m=this.value[m];if(1>=p||Infinity==p)p=q[this._pixelCount];p--;m=this.maximum>this.minimum?(m-this.minimum)*p/(this.maximum-this.minimum)+b:0;0>m&&(m=0);m>p&&(m=p);return m*(this.maximum-
this.minimum)/p+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(h("ie")||r.focus(this.progressBar),u.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){h("ie")||r.focus(this.progressBar);var c=g.position(this.sliderBarContainer,!0),m=g.position(this.progressBar,!0),p=b[this._mousePixelCoord],q=m[this._startingPixelCoord];m=q+m[this._pixelCount];q=this._isReversed()?p<=q:p>=m;p=this._isReversed()?c[this._pixelCount]-p+c[this._startingPixelCoord]:p-c[this._startingPixelCoord];
this._setPixelValue(p,c[this._pixelCount],!0,q);u.stop(b)}},_setPixelValue:function(b,c,m,p){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,c),this._setValueAttr(b,m,p))},_getValueByPixelValue:function(b,c){var m=this.discreteValues;if(1>=m||Infinity==m)m=c;m--;return(this.maximum-this.minimum)*Math.round((0>b?0:c<b?c:b)/(c/m))/m+this.minimum},_setValueAttr:function(b,c,m){var p=N.clone(this.value);N.isArray(b)?p=b:p[m?1:0]=b;this._lastValueReported="";this.valueNode.value=b=p;p.sort(d);
this.sliderHandle.setAttribute("aria-valuenow",p[0]);this.sliderHandleMax.setAttribute("aria-valuenow",p[1]);A.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(c,m)},_printSliderBar:function(b,c){var m=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,p=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,q=m;m>p&&(m=p,p=q);var y=this._isReversed()?100*(1-m):100*m,B=this._isReversed()?100*(1-p):100*p,z=this._isReversed()?
100*(1-p):100*m;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),q=this.slideDuration/10,0!==q){0>q&&(q=0-q);var D={},F={},x={};D[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:y,units:"%"};F[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:B,units:"%"};x[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:z,units:"%"};x[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(p-m),units:"%"};m=t.animateProperty({node:this.sliderHandle.parentNode,duration:q,properties:D});p=t.animateProperty({node:this.sliderHandleMax.parentNode,duration:q,properties:F});q=t.animateProperty({node:this.progressBar,duration:q,properties:x});l.combine([m,p,q]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=y+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
B+"%",this.progressBar.style[this._handleOffsetCoord]=z+"%",this.progressBar.style[this._progressPixelSize]=100*(p-m)+"%"}});var e=R("dijit.form._SliderMoverMax",v,{onMouseMove:function(b){var c=this.widget,m=c._abspos;m||(m=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=N.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());b=b[c._mousePixelCoord]-m[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?m[c._pixelCount]-b:b,m[c._pixelCount],!1,!0)},destroy:function(b){v.prototype.destroy.apply(this,
arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),a=R("dijit.form._SliderBarMover",v,{onMouseMove:function(b){var c=this.widget;if(!c.disabled&&!c.readOnly){var m=c._abspos,p=c._bar,q=c._mouseOffset;m||(m=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=N.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=N.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());p||(p=c._bar=g.position(c.progressBar,!0));q||(q=c._mouseOffset=b[c._mousePixelCoord]-p[c._startingPixelCoord]);
b=b[c._mousePixelCoord]-m[c._startingPixelCoord]-q;pixelValues=[b,b+p[c._pixelCount]];pixelValues.sort(d);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=p[c._pixelCount]);pixelValues[1]>=m[c._pixelCount]&&(pixelValues[1]=m[c._pixelCount],pixelValues[0]=m[c._pixelCount]-p[c._pixelCount]);m=[c._getValueByPixelValue(c._isReversed_?m[c._pixelCount]-pixelValues[0]:pixelValues[0],m[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?m[c._pixelCount]-pixelValues[1]:pixelValues[1],m[c._pixelCount])];
c._setValueAttr(m,!1,!1)}},destroy:function(){v.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return w})},"dojox/fx":function(){define(["./fx/_base"],function(R){return R})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(R,N,n,t,u,h,f,g,k){R=N.getObject("dojox.fx",!0);
N.mixin(R,{anim:n.anim,animateProperty:n.animateProperty,fadeTo:n._fade,fadeIn:n.fadeIn,fadeOut:n.fadeOut,combine:t.combine,chain:t.chain,slideTo:t.slideTo,wipeIn:t.wipeIn,wipeOut:t.wipeOut});R.sizeTo=function(w){var v=w.node=u.byId(w.node),C=w.method||"chain";w.duration||(w.duration=500);"chain"==C&&(w.duration=Math.floor(w.duration/2));var A,r,l,d,e,a=null,b=function(c){return function(){var m=h.getComputedStyle(c),p=m.position,q=m.width,y=m.height;A="absolute"==p?c.offsetTop:parseInt(m.top)||0;
l="absolute"==p?c.offsetLeft:parseInt(m.left)||0;e="auto"==q?0:parseInt(q);a="auto"==y?0:parseInt(y);d=l-Math.floor((w.width-e)/2);r=A-Math.floor((w.height-a)/2);"absolute"!=p&&"relative"!=p&&(m=h.coords(c,!0),A=m.y,l=m.x,c.style.position="absolute",c.style.top=A+"px",c.style.left=l+"px")}}(v);v=n.animateProperty(N.mixin({properties:{height:function(){b();return{end:w.height||0,start:a}},top:function(){return{start:A,end:r}}}},w));C=n.animateProperty(N.mixin({properties:{width:function(){return{start:e,
end:w.width||0}},left:function(){return{start:l,end:d}}}},w));return t["combine"==w.method?"combine":"chain"]([v,C])};R.slideBy=function(w){var v,C,A=function(r){return function(){var l=h.getComputedStyle(r),d=l.position;v="absolute"==d?r.offsetTop:parseInt(l.top)||0;C="absolute"==d?r.offsetLeft:parseInt(l.left)||0;"absolute"!=d&&"relative"!=d&&(l=f.coords(r,!0),v=l.y,C=l.x,r.style.position="absolute",r.style.top=v+"px",r.style.left=C+"px")}}(w.node=u.byId(w.node));A();w=n.animateProperty(N.mixin({properties:{top:v+
(w.top||0),left:C+(w.left||0)}},w));g.connect(w,"beforeBegin",w,A);return w};R.crossFade=function(w){var v=w.nodes[0]=u.byId(w.nodes[0]),C=k.style(v,"opacity"),A=w.nodes[1]=u.byId(w.nodes[1]);k.style(A,"opacity");return t.combine([n[0==C?"fadeIn":"fadeOut"](N.mixin({node:v},w)),n[0==C?"fadeOut":"fadeIn"](N.mixin({node:A},w))])};R.highlight=function(w){var v=w.node=u.byId(w.node);w.duration=w.duration||400;var C=w.color||"#ffff99",A=k.style(v,"backgroundColor");"rgba(0, 0, 0, 0)"==A&&(A="transparent");
w=n.animateProperty(N.mixin({properties:{backgroundColor:{start:C,end:A}}},w));"transparent"==A&&g.connect(w,"onEnd",w,function(){v.style.backgroundColor=A});return w};R.wipeTo=function(w){w.node=u.byId(w.node);var v=w.node,C=v.style,A=w.width?"width":"height",r={};r[A]={start:function(){C.overflow="hidden";if("hidden"==C.visibility||"none"==C.display)return C[A]="1px",C.display="",C.visibility="",1;var l=k.style(v,A);return Math.max(l,1)},end:w[A]};return n.animateProperty(N.mixin({properties:r},
w))};return R})},"arcgisonline/pages/isGeographic":function(){define(["require","exports","tslib","esri/WKIDUnitConversion"],function(R,N,n,t){t=n.__importDefault(t);return function(u){u=u||{};return u.wkid?!t["default"].hasOwnProperty(u.wkid):u.wkt?/^\s*GEOGCS/i.test(u.wkt):!1}})},"arcgisonline/pages/components/SelectLayerProperties":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),function(R,N,n,t,u,h){Object.defineProperty(N,"__esModule",
{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);R=function(f){function g(){var k=null!==f&&f.apply(this,arguments)||this;k.state={active:!0,layerProperties:k.props.layerProperties};k.excludedFieldTypes=["esriFieldTypeOID","esriFieldTypeGlobalID"];k.toggleLayerPropertyField=function(w,v){var C=n.__spreadArray([],k.state.layerProperties),A=h["default"].findIndex(C,function(l){return l.id===w});if(-1<A){var r=C[A];h["default"].includes(r.additionalFields,v)?(r.additionalFields=h["default"].filterOut(r.additionalFields,
[v]),0===r.additionalFields.length&&C.splice(A,1)):r.additionalFields.push(v)}else C.push({id:w,additionalFields:[v]});k.setState({layerProperties:C})};k.save=function(){k.setState({active:!1});k.props.onSubmit(k.state.layerProperties)};k.cancel=function(){k.setState({active:!1,layerProperties:k.props.layerProperties});setTimeout(function(){k.props.onCancel()},400)};return k}n.__extends(g,f);g.prototype.componentWillUnmount=function(){document.documentElement.classList.remove("overflow-hidden")};
g.prototype.render=function(){var k=this,w,v=this.props,C=v.layers,A=v.onSubmit,r=this.state;v=r.active;var l=r.layerProperties;r=this.props.rebuildMode?u["default"].itemProperties.configureAttributes.rebuild:u["default"].itemProperties.configureAttributes.description;var d=this.props.rebuildMode?u["default"].itemProperties.configureAttributes.rebuildCache:u["default"].itemProperties.configureAttributes.select;C=null!==(w=null===C||void 0===C?void 0:C.map(function(e,a){var b,c=e.id,m=e.name,p=e.fields;
p=null!==(b=null===p||void 0===p?void 0:p.map(function(q,y){var B=q.type,z=q.name,D=q.alias,F=(l||[]).some(function(x){return(null===x||void 0===x?void 0:x.id)===c&&-1<x.additionalFields.indexOf(z)});return h["default"].includes(k.excludedFieldTypes,B)?null:t.h("label",{"class":"font-size--2 trailer-0",key:y},t.h("input",{type:"checkbox",checked:F,onChange:function(){return k.toggleLayerPropertyField(c,z)}})," ",D||z)}))&&void 0!==b?b:p;return t.h(t.Fragment,{key:a},t.h("div",{"class":"avenir-demi"},
m),t.h("div",{"class":"margin-left-1"},p))}))&&void 0!==w?w:C;return t.h("calcite-modal",{active:v,"intl-close":u["default"].common.close,role:"dialog","aria-modal":"true",oncalciteModalClose:this.cancel,"disable-outside-close":!0},t.h("h3",{slot:"header","class":"font-size-2 trailer-0"},u["default"].itemProperties.configureAttributes.selectAttributes),t.h("div",{slot:"content","class":"position-relative"},t.h("div",{"class":"trailer-half"},r),C),t.h("calcite-button",{slot:"secondary",width:"full",
appearance:"outline",color:"blue",onClick:function(){return k.cancel()}},u["default"].common.cancel),t.h("calcite-button",{slot:"primary",width:"full",color:"blue",appearance:"solid",onClick:function(){A(l)}},d))};return g}(t.Component);N["default"]=R})},"arcgisonline/sharing/dijit/dialog/CreateAppDlg":function(){define("require esri/declare esri/Evented esri/kernel esri/lang esri/request dojo/_base/lang dojo/_base/window dojo/_base/array dojo/topic dojo/string dojo/query dojo/on dojo/json dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/Deferred dojo/when dojo/io-query dojox/widget/Wizard dojox/widget/WizardPane dijit/Dialog dijit/registry ./ConfirmDialog ./ItemPropertiesDlg ./BrowseItemsDlg ./ConfirmDialog ./_CreateItemUtilMixin ../../../esriGeowConfig ../../../pages/utils/arrays ../../../map/utils/previewInTemplate ../../../map/utils/openMap dijit/_WidgetBase arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V){return N([U,n],{showModal:function(aa){var ha=new m,ia=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ka=aa.isWab,qa="Web Scene"===ia.type,Y=ba.getHomeAppContext(),Q=aa.message,fa,S=new F({title:aa.title||V.itemProperties.createNewApp,buttonOk:V.common.ok,buttonCancel:V.common.cancel,busyMessage:V.addItemFrm.addingItem,style:{width:"550px",height:"auto"}}),O=new x({typeInfo:ka?
"wab":"configapp",message:Q||(ka?V.items.createWABMessage:V.itemProperties.createAppTitle),showFolders:!0,showFile:!1,item:ia});this.item&&(O.set("summary",this.item.isHostedTemplate?"":this.item.snippet),O.set("title",this.item.isHostedTemplate?"":this.item.title),O.set("tags",this.item.isHostedTemplate?[]:this.item.tags),J.self.hasCategorySchema&&O.set("categories",this.item.categories||[]));S.setContent(O.domNode);S.show();O.set("focus","title");this.own(A(S,"ok",f.hitch(this,function(){w.publish("/esri/disable",
!0,V.addItemFrm.addingItem);O._validate().then(f.hitch(this,function(){ka?(ia=f.mixin({},O.get("item")),S.hide().then(f.hitch(this,function(){this.redirectToAppBuilder(ia)}))):(fa=O.get("item"),this.item.isHostedTemplate||(fa=f.mixin(fa,{shareWithWebMap:!0},qa?{webSceneId:this.item.id}:{webMapId:this.item.id})),ba.isPortal()&&ia.url&&0===ia.url.indexOf("/")&&ia.url&&-1===ia.url.indexOf(Y)&&(ia.url=Y+ia.url),H.createTemplatedApplication(fa,ia,this.item.portal,this.item).then(function(I){fa=I;S.hide()}))}),
f.hitch(this,function(I){w.publish("/esri/disable",!1);this._showError(I)}))})),A(S,"hide",function(){ha.resolve(fa)}));return ha},showWizard:function(aa){var ha=new m,ia=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ka=new z({title:V.items.newWebMappingAppTitle,"class":"esriCreateAppDlg"}),qa=this.item&&this.item.portal||aa.portal||{};aa=this.item?M.includes(ia.types,"is-map"):!0;var Y="Web Scene"===ia.type,Q;aa=aa?this.item?"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":
"arcgisonline/sharing/dijit/dialog/PluginConfigurableApps":"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer";var fa=[new E({messageLeft:V.browseItemsDlg.instructionsLeft,messageRight:V.browseItemsDlg.instructionsRight,item:this.item,"class":"esriBrowseItemsDlg"}),new x({message:V.itemProperties.createAppTitle,typeInfo:"configapp",showFolders:!0,showFile:!1,showUrl:!1,item:this.item})],S=f.hitch(this,function(X){w.publish("/esri/disable",X,V.addItemFrm.addingItem);C(".dojoxWizardButtons .dijitButton").map(D.byNode).forEach(function(da){da.set("disabled",
X)})}),O=f.hitch(this,function(X){return X._validate()}),I=w.subscribe("/esri/browseitems/close",f.hitch(this,function(X,da){if("create-app"===X)ca.nextButton.onClick();else"on-view-item"===X?window.open("item.html?id\x3d"+da.id):"download-app"===X?ba.downloadWebMappingApp(da):"preview-app"===X&&K(ia,da)})),Z=f.hitch(this,function(X){X._validate().then(f.hitch(this,function(da){S(!0);da=fa[0].get("selection");var ea=ba.getHomeAppContext(),ja=fa[1].get("item");ba.isPortal()&&da.url&&0===da.url.indexOf("/")&&
da.url&&-1===da.url.indexOf(ea)&&(da.url=ea+da.url);Q=ja;this.item&&!this.item.isHostedTemplate&&(Q=f.mixin(Q,{shareWithWebMap:!0},Y?{webSceneId:this.item.id}:{webMapId:this.item.id}));H.createTemplatedApplication(ja,da,qa,this.item).then(f.hitch(this,function(la){this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label});ka.hide().then(f.hitch(this,function(){setTimeout(function(){window.location=la.configureUrl},400)}))}),f.hitch(this,
function(la){S(!1);this._showError(la)}))}),f.hitch(this,function(da){S(!1);this._showError(da)}))}),W=f.hitch(this,function(X){ka.hide().then(f.hitch(this,function(){ha.resolve(!1)}))}),ca=new y({nextButtonLabel:V.publishWizard.nextButtonLabel,previousButtonLabel:V.publishWizard.previousButtonLabel,doneButtonLabel:V.publishWizard.doneButtonLabel,cancelButtonLabel:V.publishWizard.cancelButtonLabel,"class":"esriCreateApp",hideDisabled:!0,doneFunction:Z,cancelFunction:W}),T=fa[1];fa[0].addPlugin(aa);
var P=A(ka,"hide",f.hitch(this,function(X){P.remove();k.forEach(fa,function(da){da.destroyRecursive();da=null});I.remove();ca.destroyRecursive();ka.destroyRecursive();(X=document.getElementById("create-dropdown"))&&X.focus()}));k.forEach(fa,function(X,da){(new B({content:X.domNode,passFunction:f.partial(O,X),doneFunction:da===fa.length-1?f.partial(Z,X):null})).placeAt(ca)});l.after(ca,"_checkButtons",function(){ca.selectedChildWidget.isFirstChild?ca.nextButton.domNode.style.display="none":ca.selectedChildWidget.isLastChild&&
T.set("focus","title")});C(".dojoxWizardButtons",ca.domNode).addClass("esriFloatTrailing");a.add(ca.nextButton.domNode,["calcite","primary"]);a.add(ca.cancelButton.domNode,["calcite","cancel"]);a.add(ca.previousButton.domNode,["calcite","default btn-back icon-ui-left"]);a.add(ca.doneButton.domNode,["calcite","primary"]);this.item&&(T.set("summary",this.item.isHostedTemplate?"":this.item.snippet),T.set("title",this.item.isHostedTemplate?"":this.item.title),T.set("tags",this.item.isHostedTemplate?"":
this.item.tags),J.self.hasCategorySchema&&T.set("categories",this.item.categories||[]));ca.startup();b.create("span",{"class":"spinner hide",innerHTML:V.common.pleaseWait},C(".dojoxWizardButtons",ca.domNode)[0],"first");ka.setContent(ca.domNode);ka.show().then(function(){ka.closeButtonNode&&(ka.closeButtonNode.tabIndex=0)}.bind(this));document.documentElement.scrollTop=document.body.scrollTop=(document.documentElement.scrollTop||document.body.scrollTop)+1;return ha},showCreateDefaultItem:function(aa){var ha=
new F({title:aa.title||V.common.create,buttonOk:V.common.ok,buttonCancel:V.common.cancel,style:{width:"550px",height:"auto"}}),ia=aa.typeInfo,ka=new x({typeInfo:ia,item:aa.item,message:aa.message,showFolders:!0,showFile:!1,showUrl:aa.showUrl}),qa=null;"dashboard_map"===ia&&aa&&aa.item&&(ka.set("title",aa.item.title),J.self.hasCategorySchema&&ka.set("categories",aa.item.categories||[]));ha.setContent(ka.domNode);ha.show();A(ha,"hide",function(){var fa=document.getElementById("create-dropdown");fa&&
fa.focus()});var Y=A(ha.okButton,"click",f.hitch(this,function(){aa.isWAB?ka._validate().then(f.hitch(this,function(fa){qa=ka.get("item");this.telemetry&&this.label&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label,attribute:ka.wab2DRadio.checked?"2d":"3d"});ha.hide().then(f.hitch(this,function(){setTimeout(function(){this.redirectToAppBuilder(qa)}.bind(this),400)}))}),f.hitch(this,function(fa){this._showError(fa)})):ka.addItem().then(f.hitch(this,
function(fa){ha.hide().then(f.hitch(this,function(){Q.remove();Y.remove();"webmap"===ia?L(fa.id):"webscene"===ia||"webscene_portal"===ia?window.location="./webscene/viewer.html?webscene\x3d"+fa.id:"urbanmodel"===ia?window.location=(J.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+fa.id:"dashboard"===ia||"dashboard_map"===ia?(this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:"dashboard"}),setTimeout(function(){this.redirectToAppBuilder(fa)}.bind(this),
400)):window.location="ipynb"===ia||"notebook"===ia?"notebook/notebook.html?id\x3d"+fa.id:"item.html?id\x3d"+(fa.serviceItemId||fa.id)+(fa.jobId?"\x26jobid\x3d"+fa.jobId:"")}))}),f.hitch(this,function(fa){this._showError(fa)}))}));var Q=A.once(ha.cancelButton,"click",f.hitch(this,function(){Q.remove();Y.remove()}))},redirectToAppBuilder:function(aa){aa.folderId&&"/"!==aa.folderId&&(aa.folder=aa.folderId);var ha={title:aa.title,tags:aa.tags,summary:aa.snippet,folder:aa.folder,appType:aa.wabType},ia=
"Dashboard"===aa.type?"../apps/dashboards/"+aa.id+"#mode\x3dedit":"../apps/webappbuilder/index.html?";J.self.hasCategorySchema&&aa.categories&&aa.categories.length&&f.mixin(ha,{categories:r.stringify(aa.categories)});aa.wabType&&(ha=f.mixin(ha,{appType:aa.wabType,webmap:aa.webmap}),ia+=q.objectToQuery(ha));window.location=ia},_showError:function(aa){aa=f.mixin(f.mixin({},V.publishWizard.errors.error),aa);this._errorDlg=new F({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(aa).then(f.hitch(this,
function(){this._errorDlg.hide()}));return!1}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(R,N,n,t,u,h,f,g){return N("dojox.widget.Wizard",[t,u,h],{templateString:g,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",
cancelFunction:null,hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var k=R.mixin({cancel:f.getLocalization("dijit","common",this.lang).buttonCancel},f.getLocalization("dojox.widget","Wizard",this.lang)),w;for(w in k)this[w+"ButtonLabel"]||(this[w+"ButtonLabel"]=k[w])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(R.isString(this.cancelFunction)&&
(this.cancelFunction=R.getObject(this.cancelFunction)),this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=n.subscribe(this.id+"-selectChild",R.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var k=this.selectedChildWidget,w=k.isLastChild||this.nextButton.get("disabled");this.nextButton.set("disabled",
w);this._setButtonClass(this.nextButton);k.doneFunction?(this.doneButton.domNode.style.display="",w&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(k){k.domNode.style.display=this.hideDisabled&&k.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},
destroy:function(){n.unsubscribe(this._subscription);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){h("dijit-legacy-requires")&&k(0,function(){require(["dijit/layout/StackController"])});n=n("dijit.layout.StackContainer",r,{doLayout:!0,
persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);t.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var l=this.getChildren();R.forEach(l,this._setupChild,this);this.persist?this.selectedChildWidget=C.byId(N(this.id+"_selectedChild")):R.some(l,function(e){e.selected&&(this.selectedChildWidget=e);return e.selected},
this);var d=this.selectedChildWidget;!d&&l[0]&&(d=this.selectedChildWidget=l[0],d.selected=!0);w.publish(this.id+"-startup",{children:l,selected:d,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var l=this.selectedChildWidget;l&&this._showChild(l)}this.inherited(arguments)},_setupChild:function(l){var d=l.domNode,e=u.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",l.domNode,"replace"),a=
l["aria-label"]||l.title||l.label;a&&e.setAttribute("aria-label",a);u.place(d,e);l._wrapper=e;this.inherited(arguments);"none"==d.style.display&&(d.style.display="block");l.domNode.removeAttribute("title")},addChild:function(l,d){this.inherited(arguments);this._started&&(w.publish(this.id+"-addChild",l,d),this.layout(),this.selectedChildWidget||this.selectChild(l))},removeChild:function(l){var d=R.indexOf(this.getChildren(),l);this.inherited(arguments);u.destroy(l._wrapper);delete l._wrapper;this._started&&
w.publish(this.id+"-removeChild",l);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===l&&(this.selectedChildWidget=void 0,this._started)){var e=this.getChildren();e.length&&this.selectChild(e[Math.max(d-1,0)])}this._started&&this.layout()}},selectChild:function(l,d){l=C.byId(l);if(this.selectedChildWidget!=l){var e=this._transition(l,this.selectedChildWidget,d);this._set("selectedChildWidget",l);w.publish(this.id+"-selectChild",l,this._focused);this.persist&&N(this.id+"_selectedChild",
this.selectedChildWidget.id)}return v(e||!0)},_transition:function(l,d){d&&this._hideChild(d);var e=this._showChild(l);l.resize&&(this.doLayout?l.resize(this._containerContentBox||this._contentBox):l.resize());return e},_adjacent:function(l){var d=this.getChildren(),e=R.indexOf(d,this.selectedChildWidget);e+=l?1:d.length-1;return d[e%d.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(l){w.publish(this.id+
"-containerKeyDown",{e:l,page:this})},layout:function(){var l=this.selectedChildWidget;l&&l.resize&&(this.doLayout?l.resize(this._containerContentBox||this._contentBox):l.resize())},_showChild:function(l){var d=this.getChildren();l.isFirstChild=l==d[0];l.isLastChild=l==d[d.length-1];l._set("selected",!0);l._wrapper&&t.replace(l._wrapper,"dijitVisible","dijitHidden");return l._onShow&&l._onShow()||!0},_hideChild:function(l){l._set("selected",!1);l._wrapper&&t.replace(l._wrapper,"dijitHidden","dijitVisible");
l.onHide&&l.onHide()},closeChild:function(l){if(!l.onClose||l.onClose(this,l))this.removeChild(l),l.destroyRecursive()},destroyDescendants:function(l){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;R.forEach(this.getChildren(),function(d){l||this.removeChild(d);d.destroyRecursive(l)},this);this._descendantsBeingDestroyed=!1}});n.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(A,n.ChildWidgetProperties);return n})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dijit/layout/ContentPane"],function(R,N,n){return N("dojox.widget.WizardPane",n,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);R.isString(this.passFunction)&&(this.passFunction=R.getObject(this.passFunction));R.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=R.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},
_checkPass:function(){var t=!0;if(this.passFunction&&R.isFunction(this.passFunction)){var u=this.passFunction();switch(typeof u){case "boolean":t=u;break;case "string":alert(u),t=!1}}return t},done:function(){this.doneFunction&&R.isFunction(this.doneFunction)&&this.doneFunction()}})})},"arcgisonline/sharing/dijit/dialog/BrowseItemsDlg":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/mouse dojo/topic dojo/query dojo/parser dijit/registry dijit/TooltipDialog dijit/popup dojo/promise/all dojo/Deferred dgrid/Grid dgrid/extensions/Pagination dgrid/OnDemandGrid dgrid/Selection dgrid/selector dgrid/Keyboard dgrid/util/mouse dgrid/util/touch put-selector/put dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/arcgis/Portal esri/Evented esri/PluginTarget arcgisonline/sharing/util arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig ./_AppTemplateFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline ../_RefreshMixin ../_Empty dojo/NodeList-dom".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y){var Q=R(null,{idProperty:"id",constructor:function(fa){R.safeMixin(this,fa)},get:function(fa,S){return L.PortalUtil.request(this.portalUrl+"content/items/"+fa,S).then(function(O){return new L.PortalItem(N.mixin(O,{portal:this.portal}))})},getIdentity:function(fa){return fa[this.idProperty]},query:function(fa,S){var O=N.isObject(fa)?fa:{q:fa};if(S&&(O=N.mixin(O,{num:S.count,start:(S.start||0)+
1}),S.sort&&S.sort.length)){var I=S.sort[0];O=N.mixin(O,{sortField:encodeURIComponent("created"===I.attribute?"uploaded":I.attribute),sortOrder:I.descending?"desc":"asc"})}O=this.portal.queryItems(O,!0).then(function(Z){Z.results.total=Z.total;return Z.results});return L.PortalResult(O)}});return R("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg",[J,M,K,ba],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"top-bar clearfix"\x3e\x3cdiv  class\x3d"left instructions"\x3e\x3cspan class\x3d"font-size-0 messageLeft hide" data-dojo-attach-point\x3d"messageNodeLeft"\x3e\x3c/span\x3e\x3ch2 class\x3d"font-size-0 trailer-0 inline-block messageRight"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"messageNodeRight"\x3e\x3c/span\x3e\x3ca data-dojo-attach-point\x3d"helpLink" class\x3d"icon-ui-question icon-ui-flush margin-left-half hide" title\x3d"${i18n.common.learnMoreConfigurableApps}" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}_search"class\x3d"searchBar right"\x3e\x3cinput tabIndex\x3d"0" placeholder\x3d"${i18n.search.searchTitle}" aria-label \x3d"${i18n.search.searchTitle}" class\x3d"esriSearchBox dijitTextBox" type\x3d"search"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gallery"\x3e\x3cdiv class\x3d"gallery-left  quiet-scroll"\x3e\x3cul class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"templates gallery-right"\x3e\x3cp id\x3d"${id}_filterTitle" class\x3d"filter-title hide" data-dojo-attach-point\x3d"filterDescription"\x3e\x3c/p\x3e\x3cdiv id\x3d"${id}_grid"class\x3d"dgrid-autoheight quiet-scroll"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"loader-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv  data-dojo-attach-point\x3d"infoPanel" id\x3d"template-info-panel"\x3e\x3c/div\x3e\x3c/div\x3e',
galleryTemplate:'\x3cdiv style\x3d\'opacity:1;\' class\x3d\'grid-item gallery-view\' tabIndex\x3d"0" aria-label\x3d"${item.title}"\x3e\x3cdiv class\x3d\'grid-item-thumbnail-wrap\'\x3e${item:_formatThumbnail}\x3cp class\x3d"template-overlay" style\x3d"display:none;"\x3e${i18n.browseItemsDlg.selectDetails}\x3c/p\x3e\x3c/div\x3e${item:_formatItemTitle}\x3c/div\x3e',infoPanelTemplate:'\x3cdiv class\x3d"template-info-wrapper"\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"on-next"\x3e${i18n.browseItemsDlg.configure}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
baseClass:"esriBrowseItems",i18n:ka,postCreate:function(){this.inherited(arguments);this._portalUser=(this._portal=ha.portal)&&(this._portal.user||this._portal.getPortalUser());aa.getSelf(N.hitch(this,function(fa){this._canSearchPublic=fa.canSearchPublic;this._currentFilter=N.mixin(this._currentFilter||{},{get:function(S){return N.isArray(this[S])&&1<this[S].length?"("+this[S].join(" OR ")+") ":this[S]?this[S]+" ":""},toString:function(){return{q:this.get("groups")+this.get("tags")+this.get("persistentTypekeywords")+
this.get("typekeywords")+this.get("types")+(this.query||"")+(this.search||"")+' -type:"Attachment"'}}});fa.canSearchPublic=!0;this._portal?this.itemQuery&&this._fetchData():(this._portal=new L.Portal({url:ha.restBaseUrl,self:fa}),this._portal.on("load",N.hitch(this,function(){this.addPlugin(this.plugin).then(N.hitch(this,function(){}))})));d(".templates",this.domNode).addClass("fade");d(".dgrid-footer",this.domNode).addClass("hide")}))},destroy:function(){this.inherited(arguments);this._grid&&this._grid.destroy();
this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove());this._queryTimer&&clearTimeout(this._queryTimer);this._grid=this._portal=null},addPlugin:function(fa){var S=new p;fa?this.inherited(arguments).then(N.hitch(this,function(O){this.galleryTemplate=this.plugIn&&this.plugIn.galleryTemplate||this.galleryTemplate;(this.helpLinkUrl=this.plugIn&&this.plugIn.helpLinkUrl||"")?(g.set(this.helpLink,"href",this.helpLinkUrl),h.remove(this.helpLink,"hide")):h.add(this.helpLink,"hide");
this._fetchData().then(function(){S.resolve(O)})})):S.resolve(!0);return S},_setItemQueryAttr:function(fa){this.itemQuery=fa},_setPluginAttr:function(fa){this.plugin=fa},_setMessageAttr:function(fa){this.set("messageRight",fa)},_setMessageRightAttr:function(fa){g.set(this.messageNodeRight,"innerHTML",fa);h.remove(this.messageNodeRight,"hide")},_setMessageLeftAttr:function(fa){g.set(this.messageNodeLeft,"innerHTML",fa);h.remove(this.messageNodeLeft,"hide")},_setDisabledAttr:function(fa){var S=a.findWidgets(this.domNode).concat(a.findWidgets(this._content));
n.forEach(S,function(O){O.set("disabled",fa)});h[fa?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_setSortAttr:function(fa){this.sortAttribute=fa},_setSortDescendingAttr:function(fa){this.sortDescending=fa},_getSelectionAttr:function(){var fa=this._grid.selection,S;for(S in fa)break;return S&&this._grid.row(S).data},_getInfoPanelTemplateAttr:function(){return this.plugIn&&this.plugIn.infoPanelTemplate||this.infoPanelTemplate},_getGalleryTemplateAttr:function(){return this.plugIn&&
this.plugIn.galleryTemplate||this.galleryTemplate},_validate:function(){return!!this.get("selection")},_clearQueryTimeout:function(){clearTimeout(this._queryTimer);this._queryTimer=null},_clearClosePanelTimeout:function(){clearTimeout(this._panelClosing);this._panelClosing=null;n.forEach(this._panelClickHandles,"item.remove();");A.empty("template-info-panel")},_createGrid:function(){var fa=R([q,y,z,F,qa]),S=new H(new Q({portal:this._portal})),O=this._currentFilter,I=N.hitch(this,function(Z){Z.snippet=
Z.snippet||"";Z.title=Z.title||"";var W=G("div");Z=k.substitute(this.get("galleryTemplate"),{item:Z,i18n:ka},null,this);A.place(Z,W);return W});this._grid=new fa({store:S,query:O.toString(),selectionMode:"single",pagingLinks:2,rowsPerPage:this.plugIn&&this.plugIn.rowsPerPage||8,noDataMessage:k.substitute(Y,{message:ka.emptyStates.noContentAvailable,width:256}),showLoadingMessage:!1,renderRow:I,sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},this.id+"_grid");this._grid.startup();
this.own(w(this.domNode,"click",N.hitch(this,function(Z){C.byId("close-panel")&&C.byId("close-panel").click()})),this._grid.addKeyHandler(13,N.hitch(this,function(Z){Z=Z.target;this._grid.select(Z);Z.click()})),this._grid.addKeyHandler(32,N.hitch(this,function(Z){Z=Z.target;this._grid.select(Z);Z.click()})),this._grid.on(x.enterRow,N.hitch(this,function(Z){!1===h.contains(this.domNode,"showing")&&this._showOverlay(!0,Z)})),this._grid.on(x.leaveRow,N.hitch(this,function(Z){this._showOverlay(!1,Z)})),
this._grid.on(".dgrid-row:click",N.hitch(this,function(Z){if(!1===h.contains(this.domNode,"showing")){Z.preventDefault();u.stop(Z);this._clearClosePanelTimeout();var W=this.get("selection");this._showOverlay(!1,Z);A.place(k.substitute(this.get("infoPanelTemplate"),{item:W,i18n:ka,previewButtonWidth:this._previewButtonWidth(W),hideDownload:this._hideDownload(W)},function(ca){return esri.isDefined(ca)?ca:""},this),this.infoPanel);h.add(this.domNode,"showing");l.publish("/esri/browseitems/showInfoTemplate",
!0);setTimeout(N.hitch(this,function(){d("#template-info-panel *",this.domNode).forEach(function(T){T.tabIndex=0});var ca=this.domNode.querySelector("#create-app");ca&&ca.focus()}),500);this._panelClickHandles=[d(".template-info-showing .thumbnail img",this.domNode).on("error",N.hitch(this,function(ca){g.set(ca.target,"src",W.thumbnailUrl)})),d(".panel-actions .btn").on("click",N.hitch(this,function(ca){ca.preventDefault();u.stop(ca);"close-panel"===ca.target.id?(h.remove(this.domNode,"showing"),
d("#template-info-panel *",this.domNode).forEach(function(T){T.tabIndex=-1}),l.publish("/esri/browseitems/showInfoTemplate",!1),this._panelClosing=setTimeout(N.hitch(this,function(){n.forEach(void 0,"item.remove();")},250))):l.publish("/esri/browseitems/close",ca.target.id,this.get("selection"))})),d("#template-info-panel").on("click",N.hitch(this,function(ca){ca.preventDefault();u.stop(ca)}))]}})),this._grid.on("dgrid-refresh-complete",N.hitch(this,function(Z){d(".templates",this.domNode).removeClass("fade");
d("#loader-wrap",this.domNode).addClass("hide");d(".dgrid-footer",this.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide")})),this._grid.on("refresh",N.hitch(this,function(){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=d(".grid-item-thumb",this._grid.domNode).on("load",N.hitch(this,function(Z){(Z=this._grid.row(Z))&&Z.element&&d(".grid-item",Z.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=d(".grid-item-thumb",this._grid.domNode).on("error",N.hitch(this,function(Z){g.set(Z.target,"src",V.getStaticImagesUrl()+"/desktopapp.png")}))})),w(C.byId(this.id+"_search"),"keyup, input",N.hitch(this,function(Z){Z.preventDefault();this._clearQueryTimeout();this._queryTimer=setTimeout(N.hitch(this,function(){this._currentFilter.search=g.get(Z.target,"value");this._fetchItems(this._currentFilter).then(N.hitch(this,function(){this._clearQueryTimeout()}))}),this.searchKeypressDelay||
450)})),w(C.byId(this.id+"_search"),"search",N.hitch(this,function(Z){this._queryTimer||(Z.preventDefault(),this._currentFilter.search=g.get(Z.target,"value"),this._fetchItems(this._currentFilter))})))},_createFilters:function(){if(this.plugIn&&this.plugIn.filters){var fa=this.plugIn.filters,S=this.plugIn.filterStrings,O=d(".filters",this.domNode)[0];for(I in fa)A.create("li",{"class":"instant"===I?"active":"",innerHTML:"\x3ca id\x3d'"+I+"'  href\x3d'#'\x3e"+S[I].title+"\x3c/a\x3e"},O);var I=N.mixin({},
fa.instant||{});this._currentFilter.tags=n.map(I.tags||[],function(Z){return'tags:"'+Z+'"'});this._currentFilter.typekeywords=[].concat(n.map(I.typekeywords||[],function(Z){return'typekeywords:"'+Z+'"'}));this.plugIn.filters.instant&&(g.set(this.filterDescription,"innerHTML",ka.appTemplateFilters.instant.description),this.filterDescription.classList.remove("hide"));this.own(w(O,"li a:click",N.hitch(this,function(Z){Z.preventDefault();var W=Z.target;d(".active",O).removeClass("active");h.add(W.parentNode,
"active");d(".templates",this.domNode).addClass("fade");setTimeout(N.hitch(this,function(){h["all"===W.id?"add":"remove"](this.filterDescription,"hide");var ca=this._portal.isPortal&&S[W.id].descriptionPortal||S[W.id].description||"";"narrate"===W.id&&this._portal.isPortal&&(ca=ha.baseUrl.replace("/home/","/apps/storymaps/"),ca=k.substitute(S[W.id].descriptionPortal,{linkStart:'\x3ca href\x3d"'+ca+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));g.set(this.filterDescription,"innerHTML",ca)}),225);
Z=N.mixin({},fa[W.id]||{});this._currentFilter.tags=n.map(Z.tags||[],function(ca){return'tags:"'+ca+'"'});this._currentFilter.typekeywords=[].concat(n.map(Z.typekeywords||[],function(ca){return'typekeywords:"'+ca+'"'}));this._fetchItems(this._currentFilter)})));h.add(this.domNode,"filters")}else h.add(this.domNode,"nofilters"+(this.plugIn&&this.plugIn.extraClasses?" "+this.plugIn.extraClasses.join(" "):""))},_showOverlay:function(fa,S){var O=this._grid.row(S);O&&d(".template-overlay",O.element).style("display",
fa?"":"none")},_fetchData:function(){if(this._portal)return this._user=this._portalUser||this._portal&&this._portal.getPortalUser(),this.plugIn&&this.plugIn.fetchData?this.plugIn.fetchData():this._fetchItems(this.itemQuery);var fa=new p;fa.resolve(!1);return fa},_fetchItems:function(fa,S){var O={sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},I=new p;d(".templates",this.domNode).addClass("fade");d(".dgrid-footer",this.domNode).addClass("hide");d("#loader-wrap",this.domNode).removeClass("hide");
setTimeout(N.hitch(this,function(){this._currentFilter=N.mixin(this._currentFilter,fa);this._grid?this._grid.set("query",this._currentFilter.toString(),O):(this._createFilters(),this._createGrid());I.resolve(this._grid)}),60);return I},_formatThumbnail:function(fa){var S=fa.thumbnailUrl||V.getStaticImagesUrl()+"/desktopapp.png";fa.thumbnailUrl=S;return"\x3cimg class\x3d'grid-item-thumb' width\x3d'187px' height\x3d'125px' alt\x3d'' src\x3d'"+S+"'\x3e"},_formatInfoPanelImage:function(fa){var S=fa.screenshots&&
fa.screenshots.length?fa.screenshots[0]:null;return S?fa.itemUrl+"/info/"+S:fa.thumbnailUrl},_formatItemTitle:function(fa){return"\x3ch3 class\x3d'font-size-0 trailer-0'\x3e"+(fa.title||fa.name||"\x3cNo Title\x3e")+"\x3c/h3\x3e"},_hideDownload:function(fa){var S=fa.typeKeywords&&-1<fa.typeKeywords.indexOf("indoors"),O=fa.typeKeywords&&-1<fa.typeKeywords.indexOf("instantApp"),I=fa.typeKeywords&&-1<fa.typeKeywords.indexOf("story"),Z=fa.typeKeywords&&-1<fa.typeKeywords.indexOf("Configurable")&&-1<fa.typeKeywords.indexOf("createAppWithoutMap");
fa="/apps/instant/filtergallery/index.html"===fa.url&&-1<window.location.pathname.indexOf("group.html");var W=ha.self.isPortal;return S||O||fa||W&&Z&&!O&&!S&&!I?"hide":""},_previewButtonWidth:function(fa){return"hide"===this._hideDownload(fa)?"btn-wide":""}})})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){function A(l){l.noDataNode?(w(l.noDataNode,"!"),delete l.noDataNode):l.cleanup();l.contentNode.innerHTML=""}function r(l){if(l.loadingNode)w(l.loadingNode,"!"),delete l.loadingNode;else if(l._oldPageNodes){for(var d in l._oldPageNodes)l.removeRow(l._oldPageNodes[d]);delete l._oldPageNodes;l._oldPageObserver&&(l._oldPageObserver.cancel(),l._numObservers--,delete l._oldPageObserver)}delete l._isLoading}return N("dgrid.extensions.Pagination",R,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:C,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var l=this,d=this.paginationNode=w(this.footerNode,"div.dgrid-pagination"),e=this.paginationStatusNode=w(d,"div.dgrid-status"),a=this.i18nPagination;e.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();e.innerHTML=g.substitute(a.status,{start:1,end:1,total:0});d=this.paginationNavigationNode=
w(d,"div.dgrid-navigation");this.firstLastArrows&&(e=this.paginationFirstNode=w(d,"span.dgrid-first.dgrid-page-link","\u00ab"),e.setAttribute("aria-label",a.gotoFirst),e.tabIndex=0);this.previousNextArrows&&(e=this.paginationPreviousNode=w(d,"span.dgrid-previous.dgrid-page-link","\u2039"),e.setAttribute("aria-label",a.gotoPrev),e.tabIndex=0);this.paginationLinksNode=w(d,"span.dgrid-pagination-links");this.previousNextArrows&&(e=this.paginationNextNode=w(d,"span.dgrid-next.dgrid-page-link","\u203a"),
e.setAttribute("aria-label",a.gotoNext),e.tabIndex=0);this.firstLastArrows&&(e=this.paginationLastNode=w(d,"span.dgrid-last.dgrid-page-link","\u00bb"),e.setAttribute("aria-label",a.gotoLast),e.tabIndex=0);this._listeners.push(h(d,".dgrid-page-link:click,.dgrid-page-link:keydown",function(b){if("keydown"!==b.type||13===b.keyCode)if(b=this.className,!(l._isLoading||-1<b.indexOf("dgrid-page-disabled"))){var c=l._currentPage;var m=Math.ceil(l._total/l.rowsPerPage);this===l.paginationPreviousNode?l.gotoPage(c-
1):this===l.paginationNextNode?l.gotoPage(c+1):this===l.paginationFirstNode?l.gotoPage(1):this===l.paginationLastNode?l.gotoPage(m):"dgrid-page-link"===b&&l.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var l=this.pageSizeOptions,d=this.paginationSizeSelect;if(l&&l.length){if(!d){d=this.paginationSizeSelect=w(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var e=this._paginationSizeChangeHandle=h(d,"change",t.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(e)}for(e=d.options.length=0;e<l.length;e++)w(d,"option",l[e],{value:l[e],selected:this.rowsPerPage===l[e]});this._updateRowsPerPageOption()}else l&&l.length||!d||(w(d,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(l){this.pageSizeOptions=l&&l.sort(function(d,
e){return d-e});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var l=this.rowsPerPage,d=this.pageSizeOptions,e=this.paginationSizeSelect;e&&(0>n.indexOf(d,l)?this._setPageSizeOptions(d.concat([l])):e.value=""+l)},_setRowsPerPage:function(l){this.rowsPerPage=l;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function l(F,x){if(e.pagingTextBox&&F==c&&1<q){var E=w(b,"input.dgrid-page-input[type\x3dtext][value\x3d$]",c);E.setAttribute("aria-label",
a.jumpPage);e._pagingTextBoxHandle=h(E,"change",function(){var H=+this.value;!isNaN(H)&&0<H&&H<=q&&e.gotoPage(+this.value)});B&&"INPUT"===B.tagName&&E.focus()}else{var G=F===c;E=w(b,"span"+(G?".dgrid-page-disabled":"")+".dgrid-page-link",F+(x?" ":""));E.setAttribute("aria-label",a.gotoPage);E.tabIndex=G?-1:0;z===F&&(G?F<q?z++:D.focus():E.focus());G||(D=E)}}function d(F,x){w(F,(x?".":"!")+"dgrid-page-disabled");F.tabIndex=x?-1:0}var e=this,a=this.i18nPagination,b=this.paginationLinksNode,c=this._currentPage,
m=this.pagingLinks,p=this.paginationNavigationNode,q=Math.ceil(this._total/this.rowsPerPage),y=this._pagingTextBoxHandle,B=document.activeElement,z,D;B&&v.contains(this.paginationNavigationNode,B)?"dgrid-page-link"===B.className&&(z=+B.innerHTML):B=null;y&&y.remove();b.innerHTML="";f(".dgrid-first, .dgrid-previous",p).forEach(function(F){d(F,1===c)});f(".dgrid-last, .dgrid-next",p).forEach(function(F){d(F,c>=q)});if(m&&0<q){l(1,!0);p=c-m;for(2<p?w(b,"span.dgrid-page-skip","..."):p=2;p<Math.min(c+
m+1,q);p++)l(p,!0);c+m+1<q&&w(b,"span.dgrid-page-skip","...");1<q&&l(q)}else e.pagingTextBox&&l(c);B&&-1===B.tabIndex&&(m=f("[tabindex\x3d'0']",this.paginationNavigationNode),B===this.paginationPreviousNode||B===this.paginationFirstNode?B=m[0]:m.length&&(B=m[m.length-1]),B&&B.focus())},refresh:function(){var l=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(d){setTimeout(function(){h.emit(l.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:l,results:d})},
0);return d})},_onNotification:function(l){l.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(l,d){var e=this,a=this.inherited(arguments);this._lastCollection=null;d||(this._topLevelRequest&&this._topLevelRequest!==l&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof l.cancel&&(this._topLevelRequest=l),u.when(l,function(){e._topLevelRequest&&delete e._topLevelRequest}));return a},insertRow:function(){var l=this._oldPageNodes,d=this.inherited(arguments);
l&&d===l[d.id]&&delete l[d.id];return d},gotoPage:function(l){var d=this,e=new u;this._trackError(function(){var a=d.rowsPerPage,b=(l-1)*a,c=t.mixin(d.get("queryOptions"),{start:b,count:a}),m=d.contentNode,p;if(d.showLoadingMessage){A(d);var q=d.loadingNode=w(m,"div.dgrid-loading");q.innerHTML=d.loadingMessage}else{d._oldPageNodes=q={};m=m.children;var y=0;for(p=m.length;y<p;y++)q[m[y].id]=m[y];d._oldPageObserver=d.observers.pop()}d._isLoading=!0;var B=d.store.query(d.query,c);u.when(d.renderArray(B,
null,c),function(z){r(d);d.scrollTo({y:0});u.when(B.total,function(D){D||(d.noDataNode&&(w(d.noDataNode,"!"),delete d.noDataNode),d.noDataNode=w(d.contentNode,"div.dgrid-no-data"),d.noDataNode.innerHTML=d.noDataMessage);d.paginationStatusNode.innerHTML=g.substitute(d.i18nPagination.status,{start:Math.min(b+1,D),end:Math.min(D,b+a),total:D});d._total=D;d._currentPage=l;d._rowsOnPage=z.length;d._updateNavigation()});(7>k("ie")||k("ie")&&k("quirks"))&&d.resize();e.resolve(B)},function(z){r(d);e.reject(z)});
return e.promise})||e.reject();return e.promise}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),function(R,N,n,t,u,h,f){n.getObject("dgrid.selector",!0);return dgrid.selector=function(g,k){function w(a){return!l.allowSelect(l.row(a))}function v(a){return function(b){var c=b.rows,m=c.length;b="false";var p;for(p=0;p<m;p++){var q=l.cell(c[p],g.id).element;q&&(q=(q.contents||q).input)&&!q.disabled&&
(q.checked=a,q.setAttribute("aria-checked",a))}if("checkbox"==d.type){c=l.selection;m=!1;for(p in c)if(c[p]!=l.allSelected){m=!0;break}d.indeterminate=m;d.checked=l.allSelected;m?b="mixed":l.allSelected&&(b="true");d.setAttribute("aria-checked",b)}}}function C(a){if("click"==a.type||32==a.keyCode||!h("opera")&&13==a.keyCode||0===a.keyCode){var b=l.row(a);l._selectionTriggerEvent=a;if(b){if(l.allowSelect(b)){var c=l._lastSelected&&l.row(l._lastSelected);"radio"==k?c&&c.id==b.id||(l.clearSelection(),
l.select(b,null,!0),l._lastSelected=b.element):b&&(a.shiftKey?v(!0)({rows:[b]}):c=null,c=a.shiftKey?c:null,l.select(c||b,b,c?void 0:null),l._lastSelected=b.element)}}else f(this,(l.allSelected?"!":".")+"dgrid-select-all"),l[l.allSelected?"clearSelection":"selectAll"]();l._selectionTriggerEvent=null}}function A(){l._hasSelectorInputListener=!0;r.push(l.on(".dgrid-selector:click,.dgrid-selector:keydown",C));var a=l._handleSelect;l._handleSelect=function(m){this.cell(m).column!=g&&a.apply(this,arguments)};
if("function"==typeof g.disabled){var b=l.allowSelect,c=g.disabled;l.allowSelect=function(m){var p=b.call(this,m);return c===w?p:p&&!c.call(g,m.data)}}g.disabled=w;r.push(l.on("dgrid-select",v(!0)));r.push(l.on("dgrid-deselect",v(!1)))}var r=[],l,d;g||(g={});g.type&&(g.selectorType=g.type,R.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));g.selectorType=k=k||g.selectorType||"checkbox";g.sortable=!1;var e="function"==typeof k?k:function(a,b,c){var m=b.parentNode;l._hasSelectorInputListener||
A();var p=g.disabled;f(m&&m.contents?m:b,".dgrid-selector");b=b.input||(b.input=f(b,"input[type\x3d"+k+"]",{tabIndex:isNaN(g.tabIndex)?-1:g.tabIndex,disabled:p&&("function"==typeof p?p.call(g,c):p),checked:a}));b.setAttribute("aria-checked",!!a);return b};u.after(g,"init",function(){l=g.grid});u.after(g,"destroy",function(){N.forEach(r,function(a){a.remove()});l._hasSelectorInputListener=!1});g.renderCell=function(a,b,c,m,p){b=(b=a&&l.row(a))&&l.selection[b.id];e(b,c,a)};g.renderHeaderCell=function(a){var b=
"label"in g?g.label:g.field||"";"radio"!=k&&l.allowSelectAll?e(!1,a,{}):(a.appendChild(document.createTextNode(b)),l._hasSelectorInputListener||A());d=a.lastChild};return g}})},"dgrid/util/mouse":function(){define(["dojo/_base/lang","dojo/on","dojo/dom","dojo/query"],function(R,N,n){function t(h,f){return function(g,k){return N(g,h+":"+f,function(w){if(!n.isDescendant(w.relatedTarget,this))return k.call(this,w)})}}var u={enterRow:t(".dgrid-content .dgrid-row","mouseover"),enterCell:t(".dgrid-content .dgrid-cell",
"mouseover"),enterHeaderCell:t(".dgrid-header .dgrid-cell","mouseover"),leaveRow:t(".dgrid-content .dgrid-row","mouseout"),leaveCell:t(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:t(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:t};R.getObject("dgrid.util.mouse",!0);R.mixin(dgrid.util.mouse,u);return u})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(R,N){function n(u,h,f,g){if(!(1<f.targetTouches.length)){var k=f.changedTouches[0],w=k.screenX,
v=k.screenY;g&&f.preventDefault();var C=R(u,"touchend",function(A){var r=A.changedTouches[0];A.targetTouches.length||(Math.abs(r.screenX-w)<t.tapRadius&&Math.abs(r.screenY-v)<t.tapRadius&&(g&&A.preventDefault(),h.call(this,A)),C.remove())})}}var t={tapRadius:10,dbltapTime:250,selector:function(u,h,f){return function(g,k){var w=h.bubble;w?h=w:!1!==f&&(f=!0);return R(g,h,function(v){var C=v.target;3==C.nodeType&&(C=C.parentNode);for(;!N.matches(C,u,g);)if(C==g||!f||!(C=C.parentNode))return;return k.call(C,
v)})}},countCurrentTouches:function(u,h){if(!("touches"in u))return-1;var f,g,k;for(g=f=0;k=u.touches[f];++f)h.contains(k.target)&&++g;return g},tap:function(u,h){return R(u,"touchstart",function(f){n(u,h,f)})},dbltap:function(u,h){var f,g;return R(u,"touchstart",function(k){f?n(u,function(w){if(f){var v=w.changedTouches[0];Math.abs(v.screenX-f.screenX)<t.tapRadius&&Math.abs(v.screenY-f.screenY)<t.tapRadius&&(g&&clearTimeout(g),f=g=null,h.call(this,w))}},k,!0):n(u,function(w){f=w.changedTouches[0];
g=setTimeout(function(){f=g=null},t.dbltapTime)},k)})}};return t})},"arcgisonline/sharing/dijit/dialog/_AppTemplateFiltersMixin":function(){define(["dojo/_base/declare"],function(){return{rootNodes:{app:{instant:{typekeywords:["instantApp"]},all:{},collect:{typekeywords:["collect"]},compare:{typekeywords:["compare"]},"3dscene":{typekeywords:["3Dscene","twoDthreeD"]},analyze:{typekeywords:["summarize"]},imagery:{typekeywords:["interpret"]},present:{typekeywords:["gallery"]},local:{typekeywords:["local"]},
route:{typekeywords:["route"]},showcase:{typekeywords:["showcase"]}}}}})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(R,N,n,t){function u(h){"object"!==typeof h&&(h=Error(h));h.grid=this;t.emit(this.domNode,"dgrid-error",{grid:this,error:h,cancelable:!0,bubbles:!0})}return R(null,{_trackError:function(h){"string"===typeof h&&(h=N.hitch(this,h));try{var f=h()}catch(g){u.call(this,g)}return n.when(f,N.hitch(this,
function(){t.emit(this.domNode,"refresh",{cancelable:!0,bubbles:!0})}),N.hitch(this,u))}})})},"arcgisonline/map/utils/previewInTemplate":function(){define(["dojo/io-query","esri/lang","esri/request","arcgisonline/sharing/util"],function(R,N,n,t){return function(u,h){n({url:u.itemDataUrl,callbackParamName:"callback"}).promise.always(function(){var f=t.isPortal(),g=h.url,k=g.indexOf("?"),w=-1<k?g.substring(0,k):g;g=-1<k?R.queryToObject(g.substring(k+1)):{};k="Web Scene"===u.type?"webscene":"webmap";
if(f){f=h.url;w=t.parseUrl(f);var v="https:"===window.location.protocol;!1===/^(?:[a-z]+:)?\/\//i.test(f)&&(f=window.location.protocol+"//"+window.location.host+t.getHomeAppContext()+w.path);f=v?t.getSecureUrl(f):t.getHttpUrl(f)}else f=w;g[k]=u.id;window.open(f.replace("/hosted/","/apps/")+"?"+R.objectToQuery(g))})}})},"arcgisonline/map/utils/openMap":function(){define(["dojo/Deferred","dojo/io-query","dojo/_base/lang","./getMapCookie","arcgisonline/sharing/dijit/dialog/OpenMapDlg"],function(R,N,
n,t,u){return function(h,f,g){var k="./webmap/viewer.html?webmap\x3d"+h,w="signin.html?returnUrl\x3d"+encodeURIComponent(k);f="boolean"===typeof f?f:!1;t().then(n.hitch(this,function(v){v&&!0===v.c?u.prototype.statics.getInstance().show(f?w:k,v):document.location=f?w:k}))}})},"arcgisonline/sharing/dijit/dialog/OpenMapDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/_Widget,dijit/_Templated"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.OpenMapDlg");
R.require("dijit.Dialog");R.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");R.require("dijit._Widget");R.require("dijit._Templated");R.declare("arcgisonline.sharing.dijit.dialog.OpenMapDlg",[N._Widget,N._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_dialog" id\x3d"open-map-dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv id\x3d"open-map-dialog-content"\x3e\r\n    \x3cdiv style\x3d"margin-bottom: 10px;"\x3e${i18n.unsavedChangesMsg}\x3c/div\x3e\r\n      \x3ctable class\x3d"table-layout" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv\x3e${i18n.titleLabel}\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-title"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-layersRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-layersLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-layers"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-tablesRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-tablesLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-tables"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n      \x3cdiv style\x3d"margin-top: 10px;"\x3e${i18n.openAnotherMapQtn}\x3c/div\x3e\r\n      \x3cbr /\x3e\r\n      \x3cdiv style\x3d"float: right;" class\x3d"clearfix"\x3e\r\n         \x3cbutton id\x3d"button_open-map-no" class\x3d"action-bar-btn jevent cancel right btn-two" dojoType\x3d"dijit.form.Button"\x3e${i18n.notOpen}\x3c/button\x3e\r\n         \x3cbutton id\x3d"button_open-map-yes" class\x3d"padding-right-half jevent primary right" dojoType\x3d"dijit.form.Button"\x3e${i18n.yesOpen}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
handler:null,newMapUrl:"",i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.OpenMapDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").openMapDlg)},postCreate:function(){this.loadConnections()},show:function(t,u,h,f,g){this.newMapUrl=t;t=document.getElementById("webmap-title-text")&&
document.getElementById("webmap-title-text").innerHTML;R.byId("open-map-dialog-title").innerHTML=t||g||u&&u.t||this.i18n.untitled;var k=[];u?R.forEach(u.operationalLayers,function(A){k.push(A.title)}):h&&R.forEach(h,function(A){"user"!==A.type&&"mapNotes"!==A.type||k.push(A.title)});if(0===k.length)R.style(R.byId("open-map-dialog-layersRow"),"display","none");else{if(1===k.length)R.byId("open-map-dialog-layersLabel").innerHTML=this.i18n.layerLabel,R.byId("open-map-dialog-layers").innerHTML=k[0];else{R.byId("open-map-dialog-layersLabel").innerHTML=
this.i18n.layersLabel;var w="",v="";R.forEach(k,function(A){w+=v+A;v=", "});R.byId("open-map-dialog-layers").innerHTML=w}R.style(R.byId("open-map-dialog-layersRow"),"display","")}var C=[];u?R.forEach(u.tables,function(A){C.push(A.title)}):f&&R.forEach(f,function(A){C.push(A.title)});0===C.length?R.style(R.byId("open-map-dialog-tablesRow"),"display","none"):(1===C.length?(R.byId("open-map-dialog-tablesLabel").innerHTML=this.i18n.tableLabel,R.byId("open-map-dialog-tables").innerHTML=C[0]):(R.byId("open-map-dialog-tablesLabel").innerHTML=
this.i18n.tablesLabel,v=w="",R.forEach(C,function(A){w+=v+A;v=", "}),R.byId("open-map-dialog-tables").innerHTML=w),R.style(R.byId("open-map-dialog-tablesRow"),"display",""));N.byId("open-map-dialog").show()},loadConnections:function(){R.query(".jevent").connect("onclick",function(t){t.preventDefault()});R.query("#button_open-map-no").connect("onclick",function(){N.byId("open-map-dialog").hide()});R.query("#button_open-map-yes").connect("onclick",R.hitch(this,"submitRequest"))},submitRequest:function(t){document.location=
this.newMapUrl},hide:function(){N.byId("open-map-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query dojo/Deferred ./_AppTemplateFiltersMixin arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),function(R,N,n,t,u,h,f,g,k,w){var v=R("arcgisonline.sharing.dijit.dialog.PluginConfigurableAppsViewer",null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
customGroupInfoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary btn-wide" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
filters:N.mixin({},g.rootNodes.app),filterStrings:w.appTemplateFilters,rowsPerPage:100,constructor:function(C){N.mixin(this,C);this.helpLinkUrl=esriGeowConfig.self&&esriGeowConfig.self.isPortal?esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001018"]:"":esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001055"]:"";delete this.filters.present;delete this.filters["3dscene"]},fetchData:function(){var C=[];this.parent._currentFilter.types=
['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this.checkIndoorsCapabilities(this._portal).then(function(A){this.capabilities=A;return this._fetchGroups().then(function(r){n.forEach(r||[],function(l){l&&l.id&&C.push('group:"'+l.id+'"')});return this._fetchGroupItems(C)}.bind(this))}.bind(this))},_fetchGroups:function(){var C=this._portal.templatesGroupQuery||null;return C&&C.split("id:")[1]?this._fetchOrgConfigurableApps():this._fetchEsriConfigurableApps()},
_fetchGroup:function(C,A){this._groups=this._groups||[];return this._groups[C]||this._portal.queryGroups(A,!0).then(N.hitch(this,function(r){r=r.total&&r.results&&r.results[0]||null;return(this._groups[C]=r)||{}}))},_fetchGroupItems:function(C){return this.parent._fetchItems({groups:C})},_updateIndoorsFilters:function(){var C=this.capabilities.indoors,A=this.capabilities.indoorsmaps,r=this.capabilities.indoorsspaces,l=C||r||A;!k.isArcGISEnterpriseOnKubernetes()&&l||this.parent._currentFilter.persistentTypekeywords.push('-typekeywords:"indoors"');
A||C||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Viewer"');r||C||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Space Planner"')},_fetchEsriConfigurableApps:function(){var C=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),A={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[C]||C)+'"'};this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"3Dscene"'];
this._updateIndoorsFilters();return t([this._fetchGroup("esriGallery_"+C,A)]).then(N.hitch(this,function(r){return r||[]}))},_fetchOrgConfigurableApps:function(){var C={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"Web AppBuilder"'];this._updateIndoorsFilters();return t([this._fetchGroup("customGallery",C)]).then(N.hitch(this,
function(A){this.parent.sortDescending=A[0].sortOrder&&"desc"===A[0].sortOrder||!1;this.parent.sortAttribute=A[0].sortField||"asc";return A&&A.length?[A[0]]:[]}))},hasIndoors:function(C){return this.fetchCapabilities(C).then(function(A){return A.some(function(r){return"indoors"===r.id})})},checkIndoorsCapabilities:function(C){return this.fetchCapabilities(C).then(function(A){return A.reduce(function(r,l){r[l.id]=!0;return r},{})})},fetchCapabilities:function(C){var A=new f;k.request({url:esriGeowConfig.restBaseUrl+
"portals/self/subscriptionInfo"}).then(function(r){A.resolve(r&&r.orgCapabilities||[])});return A}});N.mixin(v,{add:function(C,A){if(!C.plugIn){var r=A||{};r.parent=C;C.plugIn=new v(r)}},remove:function(C){C.plugIn&&(C.plugIn.destroy(),delete C.plugIn)}});return v})},"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query ./_AppTemplateFiltersMixin ./PluginConfigurableAppsViewer dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k){var w=R("arcgisonline.sharing.dijit.dialog.Plugin3DConfigurableAppsViewer",[g],{constructor:function(v){this.inherited(arguments);this.filters=null},_fetchEsriConfigurableApps:function(){var v=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),C={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[v]||v)+'"'};this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"',
'typekeywords: "twoDthreeD"'];return t([this._fetchGroup("esriGallery_"+v,C)]).then(N.hitch(this,function(A){return A||[]}))},_fetchOrgConfigurableApps:function(){var v={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"','-typekeywords:"Web AppBuilder"','typekeywords:"WAB3D"','typekeywords: "twoDthreeD"'];return t([this._fetchGroup("customGallery",
v)]).then(N.hitch(this,function(C){this.parent.sortDescending=C[0].sortOrder&&"desc"===C[0].sortOrder||!1;this.parent.sortAttribute=C[0].sortField||"asc";return C&&C.length?[C[0]]:[]}))}});N.mixin(w,{add:function(v,C){if(!v.plugIn){var A=C||{};A.parent=v;v.plugIn=new w(A)}},remove:function(v){v.plugIn&&(v.plugIn.destroy(),delete v.plugIn)}});return w})},"arcgisonline/pages/item/widgets/AdvancedOfflineOptions/AdvancedOfflineOptions":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/_base/lang dojo/string dojo/text!./templates/AdvancedOfflineOptions.html dojo/text!./templates/AdvancedOfflineOptionSearchItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../../sharing/util ../../../../esriGeowConfig ../../../utils/dom ../../../dijit/Overlay ../../../dijit/InfoTooltip ../../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.title=w["default"].itemProperties.advancedOptions.overlayTitle;this.i18n=
w["default"];this.overlayContents=f["default"].substitute(g["default"],{i18n:this.i18n});this._fileNameEdited=!1}b.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");this._editableFeaturesAndAttachmentsOption=this.domNode.querySelector(".js-edit-features-and-attachments");this._editableFeaturesOnlyOption=this.domNode.querySelector(".js-edit-features-only");this._editableFeaturesNoneOption=this.domNode.querySelector(".js-edit-none");this._readonlyFeaturesAndAttachmentsOption=
this.domNode.querySelector(".js-readonly-features-and-attachments");this._readonlyFeaturesOnlyOption=this.domNode.querySelector(".js-readonly-features-only");this._tileWebmapOption=this.domNode.querySelector(".js-tile-webmap");this._tileMobileOption=this.domNode.querySelector(".js-tile-mobile");this._tileMobileFileNameContainer=this.domNode.querySelector(".js-file-name-container");this._tileMobileFilename=this.domNode.querySelector(".js-tile-mobile-file-name");this._fileNameError=this.domNode.querySelector(".js-tile-mobile-file-name-error");
this._tileOrgOption=this.domNode.querySelector(".js-tile-org");this._tileOrgSearchContainer=this.domNode.querySelector(".js-tile-search-container");this._tileOrgSearch=this.domNode.querySelector(".js-tile-search");this._searchResults=this.domNode.querySelector(".js-search-results");this._updateLoader=this.domNode.querySelector(".js-update-loader");this._learnMoreLink=this.domNode.querySelector(".js-learn-more");this._overlay.insertBefore(this.domNode.querySelector(".js-update-loader-container"),this.domNode.querySelector(".overlay-title-bar"));
var c=this.page.portal.helpMap.m["120000899"];this._learnMoreLink.href=this.page.portal.helpBase+(c?c:"");this._overlayActionBar.insertBefore(this._learnMoreLink,this._overlayActionBar.querySelector("nav"));this._attachmentsInfo=new e["default"]({content:this.i18n.itemProperties.advancedOptions.attachmentTooltip},this.domNode.querySelector(".js-attachments-info"));this._packageInfo=new e["default"]({content:this.i18n.itemProperties.advancedOptions.tilePackageTooltip},this.domNode.querySelector(".js-package-info"));
c=(this._itemData=h["default"].clone(this.item.itemData))&&this._itemData.applicationProperties&&this._itemData.applicationProperties.offline||{};this._editableLayers=c.editableLayers;this._readonlyLayers=c.readonlyLayers;this._offlineBasemap=c.offlinebasemap;t["default"].accordion();this._selectOptions();this._addListeners()};b.prototype.close=function(){this.inherited(arguments)};b.prototype._addListeners=function(){var c=this;[].slice.call(this.domNode.querySelectorAll(".js-tile-option")).forEach(function(m){m.addEventListener("change",
function(){l["default"].showHide(c._tileMobileFileNameContainer,c._tileMobileOption.checked);l["default"].showHide(c._tileOrgSearchContainer,c._tileOrgOption.checked)})});this._tileMobileFilename.addEventListener("change",function(){c._fileNameEdited=!0;c._onFilenameKeyup()});this._tileMobileFilename.addEventListener("keyup",this._onFilenameKeyup.bind(this));this._tileOrgSearch.addEventListener("keyup",this._onSearchKeyup.bind(this));this._tileOrgSearch.addEventListener("search",this._onSearchKeyup.bind(this))};
b.prototype._onFilenameKeyup=function(){if(this._fileNameEdited){var c=this._tileMobileFilename.value;this._fileNameError.textContent="";0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)?(this._fileNameError.classList.remove("is-active"),this._tileMobileFilename.classList.remove("input-error")):this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension;0<this._fileNameError.textContent.length&&
(this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"))}};b.prototype._onSearchKeyup=function(){var c=this;A["default"].request({url:r["default"].restBaseUrl+"search",content:{num:16,start:1,sortField:"title",sortOrder:"asc",q:'title:"'+this._tileOrgSearch.value+'" orgid:'+this.page.portal.id+' (type:"Vector Tile Package" OR type:"Raster Tile Package")'}}).then(function(m){c._searchResults.innerHTML="";0<c._tileOrgSearch.value.length&&m.results.forEach(function(p){c._searchResults.insertAdjacentHTML("beforeend",
f["default"].substitute(k["default"],{title:p.title}))})})};b.prototype.handlePrimary=function(){var c=this;if(this._isValid()){var m=this.domNode.querySelector(".js-editable-features:checked");m={applicationProperties:{offline:{editableLayers:{download:m.value,sync:m.dataset.sync},readonlyLayers:{downloadAttachments:this._readonlyFeaturesAndAttachmentsOption.checked}}}};this._tileMobileOption.checked&&(m.applicationProperties.offline.offlinebasemap={referenceBasemapName:this._tileMobileFilename.value});
this._itemData=n.__assign(n.__assign({},this._itemData),m);m={text:JSON.stringify(this._itemData)};this._updateLoader.classList.add("is-active");this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0;this.closeBtn.disabled=!0;this.page.updateItem(m).then(function(p){c.close();p&&p.code&&p.message?u["default"].publish("settings/error",p):u["default"].publish("settings/update")},function(p){c.close();u["default"].publish("settings/error",p)})}};b.prototype._isValidFileExtension=function(c){return/\.(vtpk|tpk|tpkx)$/i.test(c)};
b.prototype._isValid=function(){var c=this._tileMobileFilename.value;this._fileNameEdited=!0;if(this._tileMobileOption.checked&&(this._fileNameError.textContent="",0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)||(this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension),0<this._fileNameError.textContent.length))return this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"),
!1;this._fileNameError.classList.remove("is-active");this._tileMobileFilename.classList.remove("input-error");return!0};b.prototype._selectOptions=function(){this._editableLayers&&"featuresAndAttachments"!==this._editableLayers.download?"features"===this._editableLayers.download?this._editableFeaturesOnlyOption.checked=!0:this._editableFeaturesNoneOption.checked=!0:this._editableFeaturesAndAttachmentsOption.checked=!0;!this._readonlyLayers||this._readonlyLayers.downloadAttachments?this._readonlyFeaturesAndAttachmentsOption.checked=
!0:this._readonlyFeaturesOnlyOption.checked=!0;this._offlineBasemap&&0!==this._offlineBasemap.referenceBasemapName.length?0<this._offlineBasemap.referenceBasemapName.length?(this._tileMobileOption.checked=!0,this._tileMobileFilename.value=this._offlineBasemap.referenceBasemapName,l["default"].showNode(this._tileMobileFileNameContainer)):this._tileOrgOption.checked=!0:this._tileWebmapOption.checked=!0};return b=n.__decorate([a["default"](C["default"],v["default"],d["default"])],b)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=t["default"];this.i18n=u["default"];this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=A["default"];this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};l.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&C["default"].hideNode(this._closeIcon);this._dialog=new k["default"]({id:this.tooltipId,"class":"popover "+this.popoverClass,title:this.title,content:this._popover});0<this.dialogClasses.length&&C["default"].addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className+=" flex flex-align-center",C["default"].showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&(this.iconWrapper.innerHTML=
'\x3ccalcite-icon icon\x3d"'+this.calciteIcon+'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e');this.hideIcon&&C["default"].hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};l.prototype.closePopup=function(){w["default"].close(this._dialog)};l.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};l.prototype.addContentClass=function(d){this._popoverContent.classList.add(d)};l.prototype.show=
function(){C["default"].showNode(this.domNode)};l.prototype.hide=function(){C["default"].hideNode(this.domNode)};l.prototype.getPopover=function(){return this._popover};l.prototype.update=function(d,e){this.infoTextEl.innerHTML=d;this._popoverContent.innerHTML=e};l.prototype._addEventListeners=function(){var d=this;this.own(v["default"](this._closeIcon,function(){w["default"].close(d._dialog);d._infoButton.focus()}),v["default"](this._infoButton,function(e){e.stopPropagation();d.preventInfoButtonEventDefault&&
e.preventDefault();d.disabled||(w["default"].open({popup:d._dialog,orient:d.orient,around:d._infoButton}),C["default"].showNode(d._popover),d._closeIcon.focus())}),h["default"](this._popover,"click",function(e){e.stopPropagation()}),h["default"](document.body,"click",function(e){w["default"].close(d._dialog)}))};return l=n.__decorate([r["default"](g["default"],f["default"])],l)}()})},"arcgisonline/sharing/dijit/dialog/AttachCodeDlg":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/form/Button,dijit/_Widget,dijit/_Templated"],
function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.AttachCodeDlg");R.require("arcgisonline.sharing.util");R.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");R.require("dijit.form.Button");R.require("dijit._Widget");R.require("dijit._Templated");R.declare("arcgisonline.sharing.dijit.dialog.AttachCodeDlg",[N._Widget,N._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"  dojoAttachPoint\x3d"containerNode"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"dialog" title\x3d"${titleLabel}" execute\x3d""\x3e\r\n    \x3ctable class\x3d"table-layout"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cdiv id\x3d"code_upload_message" style\x3d"margin-bottom:10px;"\x3e\r\n\t\t\t        ${messageLabel}\r\n\t\t\t      \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cform dojoAttachPoint\x3d"form" action\x3d"" enctype\x3d"multipart/form-data" method\x3d"post" onSubmit\x3d"return false;"\x3e\r\n\t\t\t        \x3cinput type\x3d"file" name\x3d"file" dojoAttachPoint\x3d"fileInput" size\x3d"50" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"title" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"type" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"typekeywords" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"overwrite" value\x3d"false" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"relationshipType" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"originItemId" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"async" value\x3d"true" /\x3e\r\n\r\n\t\t\t        \x3c!-- this is complicated... need some way of automating this --\x3e\r\n\t\t\t        \x3c!--\x3cdiv id\x3d"add-item-callback" name\x3d"callback.html" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" value\x3d"textarea"\x3e\x3c/div\x3e --\x3e\r\n\t\t\t      \x3c/form\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd style\x3d"padding-top:2em;"\x3e\r\n  \t\t      \x3cbutton dojoAttachPoint\x3d"cancelButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel right" type\x3d"button" dojoAttachEvent\x3d"onClick:_cancelButtonClick"\x3e\r\n  \t\t        ${i18n.cancel}\r\n  \t        \x3c/button\x3e\r\n    \t\t    \x3cbutton dojoAttachPoint\x3d"uploadButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary right"  type\x3d"button" dojoAttachEvent\x3d"onClick:_uploadButtonClick"\x3e\r\n    \t\t      ${i18n.uploadLabel}\r\n    \t\t    \x3c/button\x3e\r\n            \x3cspan id\x3d"code_upload-waiting" class\x3d"esriFloatTrailing" style\x3d"display:none;padding-top:8px;"\x3e\x3c/span\x3e\r\n\t\t        \x3cspan class\x3d"esriFloatLeading error" dojoAttachPoint\x3d"errorLabelNode" style\x3d"padding-top:8px;"\x3e\x3c/span\x3e\r\n\t        \x3c/td\x3e\r\n\t      \x3c/tr\x3e\r\n\t    \x3c/tbody\x3e\r\n\t  \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
dialog:null,fileInput:null,cancelButton:null,uploadButton:null,cancelButton:null,clearFormOnHide:!0,codeAttachment:null,titleLabel:"",messageLabelUpdate:"",messageLabel:"",messageErrorUpdate:"",errorLabelNode:null,type:"Code Attachment",typeKeywords:"Code",item:null,sharing:null,fileName:null,_lastUploaded:null,i18n:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline",
"arcgisonline").attachCodeDlg);this.titleLabel=this.i18n.attachCode;this.messageLabelUpdate=this.i18n.messageLabelUpdateString;this.messageLabel=this.i18n.messageLabelString;this.messageErrorUpdate=this.i18n.messageErrorUpdateString},postCreate:function(){this.fileInput&&R.connect(this.fileInput,"onchange",this,function(){this.errorLabelNode.innerHTML=""})},statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.AttachCodeDlg);return this._instance}},
clear:function(){this.fileInput&&(this.fileInput.value="")},hide:function(){this.dialog&&(this.dialog.hide(),this.clearFormOnHide&&this.clear())},show:function(t){(this.codeAttachment=t)&&this.codeAttachment.name?(this.messageLabelUpdate=R.string.substitute(this.messageLabelUpdate,{fileName:this.codeAttachment.name}),R.byId("code_upload_message").innerHTML=this.messageLabelUpdate,this.dialog.set("title",this.i18n.updateCode)):(R.byId("code_upload_message").innerHTML=this.messageLabel,this.dialog.set("title",
this.i18n.attachCode));this.dialog&&this.dialog.show()},_cancelButtonClick:function(t){this.hide()},_uploadButtonClick:function(t){(t=this.fileInput.value)&&0<t.length&&this.util.endsWith(t,".zip")?(this.uploadButton.set("disabled",!0),this.cancelButton.set("disabled",!0),R.style(R.byId("code_upload-waiting"),"display","inline-block"),this.doUpload()):this.errorLabelNode.innerHTML=this.i18n.fileZipFormat},doUpload:function(){if(null==this.item||null===this.item.id)this.uploadButton.set("disabled",
!1),this.cancelButton.set("disabled",!1),R.style(R.byId("code_upload-waiting"),"display","none");else{var t=this.fileInput.value,u=t.lastIndexOf("\\");-1<u&&(t=t.substring(u+1,t.length));if(this.codeAttachment){var h=this.codeAttachment.name.lastIndexOf(".");u=t.lastIndexOf(".");h=[this.codeAttachment.name.substring(0,h),this.codeAttachment.name.substring(h).toLowerCase()];t=[t.substring(0,u),t.substring(u).toLowerCase()];h[0]!==t[0]||h[1]!==t[1]?(arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateCodeError,
message:R.string.substitute(this.messageErrorUpdate,{fileName:this.codeAttachment.name})}),this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),R.style(R.byId("code_upload-waiting"),"display","none")):this._updateCodeItem()}else this._createCodeItem()}},_createCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.relationshipType.value="WMA2Code";"Mobile Application"===this.item.type&&(this.form.relationshipType.value=
"MobileApp2Code");this.form.originItemId.value=this.item.id;var t=this.fileInput.value,u=t.lastIndexOf("\\");-1<u&&(t=t.substring(u+1,t.length));this.fileName=t;this.form.title.value=t;t=this.form.title.value.lastIndexOf("\\");-1<t&&(this.form.title.value=this.form.title.value.substring(t+1,this.form.title.value.length));t=this.form.title.value.lastIndexOf("/");-1<t&&(this.form.title.value=this.form.title.value.substring(t+1,this.form.title.value.length));this.content.addItem(null,this.form,R.hitch(this,
this._handle_addItem),R.hitch(this,this._handle_addItem))}},_updateCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.overwrite.value="true";var t=this.fileInput.value,u=t.lastIndexOf("\\");-1<u&&(t=t.substring(u+1,t.length));this.fileName=t;this.form.title.value=t;this.content.updateItem(this.codeAttachment,this.form,R.hitch(this,this._handle_addItem),R.hitch(this,this._handle_addItem))}},_handle_addItem:function(t,u){var h=!1;
-1<u.url.indexOf("/status")&&(h=!0);if(!h&&t.success||h&&"completed"===t.status)this._lastUploaded=R.clone(t),this._lastUploaded.title=this._lastUploaded.name=this.form.title.value,this.onUpload(this._lastUploaded);else{h=this.i18n.attachementFailedUpload;t&&t.error&&t.error.message?h=t.error.message:t&&t.statusMessage&&(h=t.statusMessage);var f=this.i18n.cannotAddAttachment;-1<h.indexOf("already exists")?(h=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<h.indexOf("The request size is greater than the max allowed of 1024MB")&&
(h=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:h})}this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);R.style(R.byId("code_upload-waiting"),"display","none")},_handle_updateItem:function(t,u){if(t.success)this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),R.style(R.byId("code_upload-waiting"),"display","none"),this.hide();else{var h=this.i18n.attachementFailedUpload;
t&&t.error&&t.error.message&&(h=t.error.message);var f=this.i18n.cannotAddAttachment;-1<h.indexOf("already exists")?(h=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<h.indexOf("The request size is greater than the max allowed of 1024MB")&&(h=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:h});this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);R.style(R.byId("code_upload-waiting"),
"display","none")}},onUpload:function(t){}})})},"arcgisonline/sharing/dijit/dialog/ManageSceneCache":function(){define("require esri/declare esri/Evented esri/lang esri/request dojo/_base/lang dojo/on dojo/query dojo/topic dijit/a11yclick dojo/string dojo/promise/all dojo/json dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/Dialog ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/GeneralDlg ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/utils/number ../../../pages/serviceUtil ../../../pages/statusUtil ../../../sharing/util ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ManageSceneCache.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F){return N([l,d],{declaredClass:"arcgisonline.sharing.dijit.dialog.ManageSceneCache",basePath:R.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriManageSceneCache",templateString:F,widgetsInTemplate:!0,_serviceStartWait:5E3,postMixInProperties:function(){this.inherited(arguments);this.i18n=h.mixin({},D.common);h.mixin(this.i18n,D.manageSceneCache);h.mixin(this.i18n,{webScene:D.items.webScene,buildingCache:D.itemProperties.buildingCache})},
postCreate:function(){this.inherited(arguments);this._initHandlers()},startup:function(){this.inherited(arguments);var x=B.isPortal();x&&m.hideNode(this._sceneLayerSelectContainer);!x&&this._hasSource()?this._isBuildingSceneLayer()?this._rebuildLayersRadioClick():this._rebuildFullRadioClick():(x&&(m.hideNode(this._optionsContainer),m.showNode(this._portalOptionsContainer),m.checkNode(this._rebuildPortalFullRadio,!0),this._rebuildLayersRadioClick()),m.disableNode(this._rebuildFullRadio),this._rebuildLayersRadioClick())},
_initHandlers:function(){this.own(w(this._rebuildFullRadio,this._rebuildFullRadioClick.bind(this)),w(this._rebuildLayersRadio,this._rebuildLayersRadioClick.bind(this)),w(this._rebuildPartialRadio,this._rebuildLayersRadioClick.bind(this)),w(this._rebuildPortalFullRadio,this._rebuildLayersRadioClick.bind(this)),w(this._rebuildPortalPartialRadio,this._rebuildLayersRadioClick.bind(this)),w(this._rebuildPortalAttributesRadio,this._rebuildLayersRadioClick.bind(this)),w(this._rebuildAttributesRadio,this._rebuildLayersRadioClick.bind(this)),
w(this._rebuildBtn,this._rebuildClick.bind(this)),w(this._cancelBtn,this._cancelClick.bind(this)))},_hasSource:function(){return t.isDefined(this._item.sourceData)},_dialogHidden:function(){this._dialog&&this._dialog.destroyRecursive();this.destroyRecursive()},_fetchSourceItemAdminServiceInfo:function(){return B.request({url:this._featureServiceAdminUrl})},_rebuildFullRadioClick:function(){m.hideNode(this._sceneLayerSelectContainer);m.disableNode(this._rebuildBtn,!1)},_rebuildLayersRadioClick:function(){if(!B.isPortal()&&
this._canShowPartialRebuild){var x=m.isChecked(this._rebuildLayersRadio),E=m.isChecked(this._rebuildPartialRadio);if(x||E)g(".layer-checkbox",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");m.checkNode(G,x&&H);m.disableNode(G,H)}),g(".layer-label",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");G.classList[E&&H?"add":"remove"]("label-disabled")})}B.isPortal()||m.showNode(this._sceneLayerSelectContainer);this._checkBoxClick()},
_displayCreditCost:function(x,E,G){var H=B.isPortal(),J=z.self&&z.self.subscriptionInfo||{},M=(z.self&&z.self.user||{}).availableCredits||J.availableCredits||0;C({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(K){H?E():(this._sourceItem.set("adminServiceInfo",K.adminServiceInfo),q.fetchScenePublishingCredits(this._sourceItem,x).then(function(L){var U=this._fullRebuildInProgress?this.i18n.confirmFullProceed:this.i18n.confirmProceed;confirmMsg="\x3cp\x3e"+[this._fullRebuildInProgress?
this.i18n.confirmFullDesc:this.i18n.confirmDesc,v.substitute(this._fullRebuildInProgress?this.i18n.confirmFullCredits:this.i18n.confirmCredits,{credits:p.format(L),availableCredits:p.format(M)}),U].join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";confirmDlg=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});M<L&&confirmDlg.okButton.set("disabled",!0);confirmDlg.show({title:this.i18n.confirmTitle,message:confirmMsg}).then(function(ba){"onOk"===ba?E():G();confirmDlg.hide()}.bind(this))}.bind(this)))}.bind(this))},
_rebuildClick:function(){m.isChecked(this._rebuildFullRadio)&&this._hasSource()?this._rebuildFullCache():this._rebuildLayers()},_rebuildFullCache:function(){var x=this._item.owner,E=this._item.folderId,G=z.restBaseUrl+"content/users/"+x+"/"+(E&&E!==x?E+"/":"")+"publish";publishRequest={buildInitialCache:!1,itemid:this._item.sourceData.id,filetype:"featureService",publishParameters:A.stringify({name:this._item.name?this._item.name:this._item.title.replace(/ /g,"_"),targetSR:this._item.serviceInfo.layers[0].spatialReference}),
outputType:"sceneService",overwrite:!0};selectedLayers=[];rebuildFullFailure=function(H){c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildFullError});m.deactivateNode(this._caching);m.disableNode(this._rebuildBtn,!1);m.showNodes([this._optionsContainer,this._buttonBar])}.bind(this);this._fullRebuildInProgress=!0;m.disableNode(this._rebuildBtn,!0);g(".layer-checkbox",this.domNode).map(function(H){m.checkNode(H,!0);selectedLayers.push({id:parseInt(H.getAttribute("data-layer-id"),
10)})});this._displayCreditCost(selectedLayers,function(){m.hideNodes([this._optionsContainer,this._buttonBar]);m.activateNode(this._caching);B.request({url:G,content:publishRequest},{usePost:!0}).then(function(H){H&&H.services&&0<H.services.length?(H=H.services.shift(),y.checkAsyncJobStatus(z.restBaseUrl+"content/users/"+x+"/items/"+H.serviceItemId+"/status?jobId\x3d"+H.jobId).then(function(J){setTimeout(function(){this._rebuildLayers();k.publish("manage-scene-cache/republish",J)}.bind(this),this._serviceStartWait)}.bind(this),
rebuildFullFailure)):rebuildFullFailure(H)}.bind(this),rebuildFullFailure)}.bind(this),function(){this._fullRebuildInProgress=!1;m.disableNode(this._rebuildBtn,!1)}.bind(this))},_rebuildLayers:function(){var x=z.self&&z.self.subscriptionInfo||{},E=(z.self&&z.self.user||{}).availableCredits||x.availableCredits||0,G=[],H=B.isPortal(),J,M,K;g(".layer-checkbox",this.domNode).map(function(L){m.isChecked(L)&&G.push({id:parseInt(L.getAttribute("data-layer-id"),10)})});0<G.length&&this._adminUrl&&(m.disableNode(this._rebuildBtn,
!0),C({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(L){if(H)this._submitPortalSceneCacheJob(G).then(function(V){var aa=q.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/jobs/"+V.jobId;V.jobUrl=aa;k.publish("manage-scene-cache/rebuild",V);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(V){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,
message:this.i18n.rebuildError})}.bind(this),function(V){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this));else{this._sourceItem.set("adminServiceInfo",L.adminServiceInfo);L=m.isChecked(this._rebuildPartialRadio);var U=this._rebuildAttributesRadio.checked,ba=this._adminUrl+(U?"/updateAttribute":L?"/updateCache":"/rebuildCache");this._fullRebuildInProgress?B.request({url:ba,content:{layers:G.map(function(V){return V.id},
this).join(",")}},{usePost:!0}).then(function(V){k.publish("manage-scene-cache/rebuild",V);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(V){m.disableNode(this._rebuildBtn,!1);m.deactivateNode(this._caching);m.showNodes([this._optionsContainer,this._buttonBar]);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):(L||U?this._isBuildingSceneLayer()?q.fetchPartialUpdateBuildingScenePublishingCredits(this._sourceItem,this._item,
G):q.fetchPartialUpdateScenePublishingCredits(this._sourceItem,this._item,G):q.fetchScenePublishingCredits(this._sourceItem,G,this._isBuildingSceneLayer())).then(function(V){K=[this.i18n.confirmDesc,v.substitute(this.i18n.confirmCredits,{credits:p.format(V),availableCredits:p.format(E)}),this.i18n.confirmProceed];M="\x3cp\x3e"+K.join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";J=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});E<V&&J.okButton.set("disabled",
!0);J.show({title:this.i18n.confirmTitle,message:M}).then(function(aa){"onOk"===aa?B.request({url:ba,content:{layers:G.map(function(ha){return ha.id},this).join(",")}},{usePost:!0}).then(function(ha){k.publish("manage-scene-cache/rebuild",ha);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ha){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):m.disableNode(this._rebuildBtn,!1);J.hide()}.bind(this))}.bind(this))}}.bind(this)))},
_cancelClick:function(){this._dialog.hide()},_checkBoxClick:function(){var x=g(".layer-checkbox",this.domNode).some(function(E){return m.isChecked(E)});m.disableNode(this._rebuildBtn,!x)},_createLayerListDisplay:function(x,E){var G=r.create("div",{display:"table"},E);x&&0<x.length&&x.forEach(this._createLayerDisplay.bind(this,G))},_createLayerDisplay:function(x,E){var G=E.requiresRebuild&&!0===E.requiresRebuild?"true":"false",H=r.create("div",{display:"table-row"},x),J=r.create("div",{display:"table-cell"},
r.create("div",{display:"table-column"},H));H=r.create("div",{display:"table-cell"},r.create("div",{display:"table-column"},H));var M={id:v.substitute("layer-${id}-checkbox",{id:E.id}),"class":"layer-checkbox",type:"checkbox","data-layer-id":E.id,"data-rebuild-required":G};B.isPortal()&&(M.checked=!0);J=r.create("input",M,J);r.create("label",{"for":v.substitute("layer-${id}-checkbox",{id:E.id}),"class":"layer-label trailer-0",innerHTML:E.name,"data-rebuild-required":G},r.create("span",null,H));this.own(w(J,
this._checkBoxClick.bind(this)))},_getPortalUpdateMode:function(){return m.isChecked(this._rebuildPortalAttributesRadio)?"PARTIAL_UPDATE_ATTRIBUTES":m.isChecked(this._rebuildPortalPartialRadio)?"PARTIAL_UPDATE_NODES":"RECREATE_ALL_NODES"},_submitPortalSceneCacheJob:function(x){var E=1<x.length?x.map(function(H){return{id:H.id}}):{},G=this._getPortalUpdateMode();x=q.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/submitJob";
E={service_url:this._item.url,num_of_caching_service_instances:2,layer:A.stringify(E),update_mode:G,update_extent:"DEFAULT",area_of_interest:A.stringify({displayFieldName:"",geometryType:"esriGeometryPolygon",spatialReference:{wkid:54051,latestWkid:54051},fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID"},{name:"updateGeom_Length",type:"esriFieldTypeDouble",alias:"updateGeom_Length"},{name:"updateGeom_Area",type:"esriFieldTypeDouble",alias:"updateGeom_Area"}],features:[],exceededTransferLimit:!1}),
f:"json",token:this._item.serverToken};return u({url:x,content:E},{usePost:!0})},_isBuildingSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Building")},_isPointSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Point")},_is3DObjectsWithoutUpdateEnabled:function(){return-1<this._item.typeKeywords.indexOf("3DObject")&&!this._hasUpdateEnabled()},_hasUpdateEnabled:function(){return(this._item.serviceInfo.layers||[]).some(function(x){return x&&t.isDefined(x.updateEnabled)&&
!0===x.updateEnabled},this)},show:function(x,E,G){var H=B.isPortal();this._sourceItem=x;this._item=E;this._featureServiceUrl=x.url;this._featureServiceAdminUrl=H?E.url:x.url.replace("/rest/","/rest/admin/");this._adminUrl=E.adminUrl;this._adminServiceInfo=E.serviceInfo||{};this._hostedServer=G;this._canShowPartialRebuild=!H&&!this._isPointSceneLayer()&&!this._is3DObjectsWithoutUpdateEnabled()&&!this._isBuildingSceneLayer();this._dialog=new e({title:this.i18n.title,"class":this.baseClass});H||this._canShowPartialRebuild||
(m.hideNode(this._rebuildPartialContainer),m.hideNode(this._rebuildPartialAttrContainer));this._createLayerListDisplay(this._adminServiceInfo.layers,this._sceneLayerContainer);this._dialog.setContent(this.domNode);this.own(f(this._dialog,"hide",function(){this._dialogHidden()}.bind(this)));!H&&this._isBuildingSceneLayer()&&(m.hideNode(this._rebuildFullContainer),this._rebuildLayersRadio.checked=!0,this._rebuildLayersRadioClick());this._dialog.show()},hide:function(){this._dialog.hide()}})})},"arcgisonline/sharing/dijit/dialog/JobStatusDlg":function(){define("require exports tslib ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/date ../../../pages/utils/dom ../../../pages/utils/number ../../util ./SimpleDlg ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic esri/lang moment/moment dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JobStatusDlg.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);return function(){function m(p){this.templateString=c["default"];
this.i18n=n.__assign(n.__assign({},b["default"].common),b["default"].jobStatusDlg);this.linkToJobStatus=!0;this.STATUS_STARTED="Started";this.STATUS_IN_PROGRESS="InProgress";this.STATUS_FAILED="Failed";this.STATUS_COMPLETED="Completed";this.PORTAL_STATUS_STARTED="esriJobSubmitted";this.PORTAL_STATUS_IN_PROGRESS="esriJobExecuting";this.PORTAL_STATUS_FAILED="esriJobFailed";this.PORTAL_STATUS_COMPLETED="esriJobSucceeded";this.PORTAL_STATUS_CANCELLED="esriJobCancelled";this.PORTAL_STATUS_CANCELLING="esriJobCancelling";
this.PORTAL_STATUS_TIMED_OUT="esriJobTimedOut";this.PORTAL_STATUS_WAITING="esriJobWaiting"}m.prototype.postCreate=function(){this.inherited(arguments);this._initHandlers()};m.prototype.show=function(p,q,y,B,z){this._portal=p;this._portalUser=q;this._jobUrl=y;this._jobInfoUrl=B;this._initUI();this._populateStatus(z);this._dialog.show()};m.prototype.hide=function(){this._dialog.hide()};m.prototype._initUI=function(){var p=this._portal.isPortal;p||f["default"].hideNode(this._cancelJobBtn);this.linkToJobStatus||
(f["default"].hideNode(this._jobIdLinkContainer),f["default"].showNode(this._jobIdText));f["default"].showHide(this._jobAdminDetailsContainer,p&&this._portalUser.isOrgAdmin)};m.prototype._initHandlers=function(){this.own(l["default"](this._closeBtn,this._closeClick.bind(this)),l["default"](this._cancelJobBtn,this._cancelJobClick.bind(this)),d["default"].subscribe("job-status/refresh",this._populateStatus.bind(this)))};m.prototype._cancelJobClick=function(){var p=this,q=this._jobUrl.indexOf("?token\x3d");
q=-1<q?this._jobUrl.substr(0,q)+"/cancel"+this._jobUrl.substr(q):this._jobUrl+"/cancel";f["default"].disableNode(this._cancelJobBtn,!0);k["default"].request({url:q,content:{cancel:!0}},{usePost:!0}).then(function(y){if(!y||(null===y||void 0===y?0:y.code))t["default"].createSpecifiedDialog(w["default"],{title:p.i18n.errorTitle,content:p.i18n.cancelError}).show(),f["default"].disableNode(p._cancelJobBtn,!1)},function(y){t["default"].createSpecifiedDialog(w["default"],{title:p.i18n.errorTitle,content:p.i18n.cancelError}).show();
f["default"].disableNode(p._cancelJobBtn,!1)})};m.prototype._closeClick=function(){this.hide()};m.prototype._getStatusString=function(p){switch(p){case this.STATUS_STARTED:return this.i18n.started;case this.STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.STATUS_COMPLETED:return this.i18n.completed;case this.STATUS_FAILED:return this.i18n.failed;case this.PORTAL_STATUS_STARTED:return this.i18n.started;case this.PORTAL_STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.PORTAL_STATUS_FAILED:return this.i18n.failed;
case this.PORTAL_STATUS_COMPLETED:return this.i18n.completed;case this.PORTAL_STATUS_CANCELLED:return this.i18n.cancelled;case this.PORTAL_STATUS_CANCELLING:return this.i18n.cancelling;case this.PORTAL_STATUS_TIMED_OUT:return this.i18n.timedOut;case this.PORTAL_STATUS_WAITING:return this.i18n.waiting;default:return""}};m.prototype._getDurationString=function(p,q){if(p){var y=e["default"].isDefined(q)?p+q:Date.now(),B=a["default"](y).diff(a["default"](p),"seconds"),z=a["default"](y).diff(a["default"](p),
"minutes");y=a["default"](y).diff(a["default"](p),"hours");var D=void 0,F=void 0;if(60>B)return this.i18n.seconds.replace("${num}",g["default"].format(B));if(60>z)return D=this.i18n.minutes.replace("${num}",g["default"].format(z)),F=this.i18n.seconds.replace("${num}",g["default"].format(B-60*z)),D+" "+F;var x=this.i18n.hours.replace("${num}",g["default"].format(y));D=this.i18n.minutes.replace("${num}",g["default"].format(z-60*y));F=this.i18n.seconds.replace("${num}",g["default"].format(B-60*z));return x+
" "+D+" "+F}return""};m.prototype._getStartDateFromString=function(p){if(p=u["default"].find(null!==p&&void 0!==p?p:[],function(y){return"esriJobMessageTypeInformative"===y.type&&0===y.description.indexOf("Start Time: ")}))try{var q=p.description.substring(13).trim();return(new Date(q)).getTime()}catch(y){}return 0};m.prototype._getEndTimeFromString=function(p){if(p=u["default"].find(null!==p&&void 0!==p?p:[],function(B){return"esriJobMessageTypeInformative"===B.type&&0===B.description.indexOf("Succeeded at ")}))try{var q=
p.description.indexOf(" (Elapsed Time: "),y=p.description.substring(14,q).trim();return(new Date(y)).getTime()}catch(B){}};m.prototype._populateStatus=function(p){var q=this._portal.isPortal,y=this._portalUser.isOrgAdmin;if(p){this._statusInfo.classList.remove("hide");this._statusLoader.classList.remove("is-active");var B=(q?y?p.submittedTime:this._getStartDateFromString(p.messages):p.startTime)||0,z=q?B:1E3*B;B=p.messages?this._getEndTimeFromString(p.messages):void 0;var D=q?y?e["default"].isDefined(p.duration)&&
p.duration||void 0:B?B-z:void 0:e["default"].isDefined(p.totalTime)?1E3*p.totalTime:void 0;B=q&&!y?this._getStatusString(p.jobStatus):this._getStatusString(p.status);var F=h["default"].format(new Date(z),"day-short-month-year-long-time"),x=e["default"].isDefined(D)?h["default"].format(new Date(z+D),"day-short-month-year-long-time"):"";z=this._getDurationString(z,D);D=q&&y?p.machinename:"";y=q&&y?p.username:"";p=q?p.jobId:p.id;this._jobStatus.innerHTML=B;this._jobStartTime.innerHTML=F;this._jobDuration.innerHTML=
z;this._jobEndTime.innerHTML=x;this._jobMachine.innerHTML=D;this._jobUser.innerHTML=y;this._jobIdLink.href=this._jobInfoUrl;this._jobIdLink.innerHTML=p;this._jobIdText.textContent=p;p=u["default"].includes([this.i18n.completed,this.i18n.failed,this.i18n.cancelled,this.i18n.cancelling,this.i18n.timedOut],B);f["default"].disableNode(this._cancelJobBtn,p)}else this._statusInfo.classList.add("hide"),this._statusLoader.classList.add("is-active"),f["default"].disableNode(this._cancelJobBtn,!0)};return m=
n.__decorate([v["default"](A["default"],C["default"],r["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/SimpleDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.SimpleDlg");R.require("dijit.Dialog");R.require("dijit.form.Button");R.require("dijit._Widget");R.require("dijit._Templated");R.declare("arcgisonline.sharing.dijit.dialog.SimpleDlg",[N._Widget,N._Templated],
{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"dialog" title\x3d"${title}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e${!content}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick: hide" class\x3d"primary" type\x3d"button"\x3e${i18n.ok}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()}})})},"arcgisonline/sharing/dijit/AppendData":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/UploadProgressBar ../../pages/utils/arrays ../../pages/utils/clone ../../pages/utils/dom ../../pages/utils/strings ../../sharing/util ./AppendData/FieldTableRow ./AppendData/_canMatchFields ./dialog/ConfirmDialog ./dialog/_CreateItemUtilMixin ../../sharing/geow/Item dijit/_TemplatedMixin dijit/_WidgetBase dojo/on dojo/topic dojo/Deferred dojo/promise/all esri/lang dojo/i18n!../../nls/arcgisonline dojo/text!../../pages/dijit/View/templates/loader.html dojo/text!./AppendData/templates/_appendData.html dojo/text!./AppendData/templates/_table-row.html ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);return function(){function x(E,G){this.templateString=z["default"];this.i18n=y["default"];this.baseClass="appendData";this.dijits=[];this.supportedItemTypes=[{value:"Shapefile",innerHTML:y["default"].addItemFrm.typeShapefile,regex:"(.zip$)",fileType:"shapefile",extension:"zip",appendUploadFormat:"shapefile"},{value:"File Geodatabase",innerHTML:y["default"].addItemFrm.itemFileGeodatabase,
regex:"(.zip$)",fileType:"fileGeodatabase",extension:"zip",appendUploadFormat:"filegdb"},{value:"CSV",regex:"(.csv$)",fileType:"csv",appendUploadFormat:"csv",extension:"csv"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xls"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xlsx"},{value:"GeoJson",regex:"(.geojson$)",fileType:"geojson",appendUploadFormat:"geojson",extension:"geojson"}];
this.supportedFilesRegEx="(.zip$|.csv$|.xls$|.xlsx$|.geojson$)";this.noneField={value:"__none",displayName:y["default"].appendDataDlg.none,name:y["default"].appendDataDlg.none,type:"none"};this.longitudeField={value:"longitude",displayName:y["default"].addItemFrm.locationTypes.longitude,name:"longitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"longitude"};this.latitudeField={value:"latitude",displayName:y["default"].addItemFrm.locationTypes.latitude,
name:"latitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"latitude"};this.sortHandlers=[]}x.prototype.postMixInProperties=function(){var E;this.inherited(arguments);this.serviceUrl=this.item&&this.item.url;this.portal=this.portal||(null===(E=this.item)||void 0===E?void 0:E.portal)||(null===t["default"]||void 0===t["default"]?void 0:t["default"].self)||{};this.user=this.user||this.portalUser||(this.portal.getPortalUser?this.portal.getPortalUser():this.portal.portalUser)||
{};this.serviceLayers=this.layer?g["default"]([this.layer||this.layerInfo]):g["default"](this.layers||[this.layer||this.layerInfo]);this._layerInfo=this.layer||this.layerInfo||this.serviceLayers&&this.serviceLayers.length?this.serviceLayers[0]:null;this.serviceInfo=this.item&&this.item.serviceInfo||{};this.adminServiceInfo=this.item&&this.item.adminServiceInfo||{};this.capabilities=this.portal.isPortal&&!this.item.isSDS?w["default"].stringToArray(this.serviceInfo.capabilities,",",!0):w["default"].stringToArray(this.adminServiceInfo.capabilities||
"",",",!0);this.changeTrackingEnabled=f["default"].includes(this.capabilities,"ChangeTracking");this.syncEnabled=this.serviceInfo.syncEnabled||!1};x.prototype.postCreate=function(){this.inherited(arguments);var E=this.domNode.querySelector(".js-analyze-loader-wrap");E.innerHTML=B["default"].replace("${location}","");this.uploadProgressBar=new h["default"]({});this.uploadProgressBar.startup();this.uploadProgressBar.hide();E.appendChild(this.uploadProgressBar.domNode);this.portal.isPortal&&(this.supportedItemTypes.splice(1,
1),this.step1Bullet4.innerText=y["default"].appendDataDlg.messageStep1Bullet4Portal);this.sortHeader=this.sortHeader.bind(this)};x.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};x.prototype.destroy=function(){var E=this;this.inherited(arguments);c["default"].publish("cancel-item-upload");this.deleteItem().then(function(){E.dijits.forEach(function(G){G.destroy()});E.sortHandlers.forEach(function(G){G.remove()});E.sortHandlers=
[];E.dijits=[]})};x.prototype.show=function(){var E,G,H,J=(null===(E=this.portal.helpMap)||void 0===E?void 0:E.m["120001300"])||"share-maps/manage-hosted-feature-layers.htm#ESRI_SECTION1_E2F5EF6240F246EBA5D238968B63BF97";this.dlg=new r["default"]({title:y["default"].appendDataDlg.title,buttonOkLabel:y["default"].appendDataDlg.uploadBtn,buttonCancelLabel:y["default"].common.cancel,helpLinkInfo:{title:y["default"].appendDataDlg.helpLinkTitle,url:""+this.portal.helpBase+J}});this.dlg.setContent(this.domNode);
this.dlg.show();this.okBtn=null===(G=this.dlg)||void 0===G?void 0:G.okButton;null===(H=this.okBtn)||void 0===H?void 0:H.set("disabled",!0);this.own(b["default"](this.dlg,"ok",this.processStep.bind(this)));return this.dlg};x.prototype.hide=function(){var E;null===(E=this.dlg)||void 0===E?void 0:E.hide();b["default"].emit(this,"hide",{bubbles:!0,cancelable:!0})};x.prototype.processStep=function(){var E=this,G=new m["default"];this.isStep1?this.uploadData().then(this.analyze.bind(this)).then(this.addLayerInfo.bind(this)).then(this.validateLayers.bind(this),
function(H){E.showError(H)}).then(this.showStep2.bind(this),function(H){E.showError(H)}).then(function(H){G.resolve(H)},function(H){E.showStep1()}):this.appendDataLayer().then(function(H){E.done();G.resolve(H)},function(H){E.showStep2();E.showError(H)});return G};x.prototype._setItemAttr=function(E){this.item=E};x.prototype._setReadOnlyAttr=function(E,G){var H=E?"add":"remove";c["default"].publish("/esri/disable",E," ");k["default"].querySelectorAllAsArray(".append-data",this.domNode).forEach(function(J){J.classList[H]("disabled")});
E?this.showLoader(G||this.i18n.common.pleaseWait):this.hideLoader()};x.prototype.setSelectedSourceType=function(){this.selectedSourceType=this.findSupportedType(this.supportedTypes.options[this.supportedTypes.selectedIndex].dataset.fileType)};x.prototype.getFieldMappings=function(){var E=this,G=this.fromField.value,H=this.toField.value,J=this.dijits.map(function(M){return M.field}).filter(function(M){return M.matchField&&"__none"!==M.matchField.value}).map(function(M){return{source:M.matchField&&
M.matchField.name,name:M.name}});this.updateExistingFeatures.checked&&"__none"!==H&&(J=J.filter(function(M){return M.name!==E.fromField.value&&M.name!==E.toField.value}),J.push({source:H,name:G}));return(null===J||void 0===J?0:J.length)?J:null};x.prototype.getAppendFields=function(E){return(((null===E||void 0===E?0:E.length)?E:this.getFieldMappings())||[]).filter(function(G){return null===G||void 0===G?void 0:G.name}).map(function(G){return G.name})};x.prototype.getAppendParams=function(){var E=this.selectedSourceType.appendUploadFormat,
G=this.updateExistingFeatures.checked,H=this.fromField.options[this.fromField.selectedIndex];H=this.findField({name:H.dataset.value,type:H.dataset.type},this.layerFields);var J=this.getSelectedDataLayer(),M=this.getFieldMappings();E={sourceTableName:J.name,fieldMappings:(null===M||void 0===M?0:M.length)?JSON.stringify(M):null,upsert:G,skipUpdates:!1,useGlobalIds:G&&"esriFieldTypeGlobalID"===(null===H||void 0===H?void 0:H.type),skipInserts:G?this.skipInserts.checked:!1,updateGeometry:G?this.updateGeometry.checked:
!0,appendFields:JSON.stringify(this.getAppendFields()),appendItemId:this.uploadedItem.id,appendUploadFormat:E,rollbackOnFailure:!0};!this.selectedSourceType||"csv"!==this.selectedSourceType.fileType&&"excel"!==this.selectedSourceType.fileType||(E=n.__assign(n.__assign({},E),{appendSourceInfo:JSON.stringify(this.getAnalyzeParameters())}));if(null===H||void 0===H?0:H.isUniqueIndex)E.upsertMatchingField=H.name;return E};x.prototype.getSelectedDataLayer=function(){var E=parseInt(this.dataLayersSelect.value,
10);var G=(this.dataLayers||[]).filter(function(H){return H.excelSheetId===E||H.id===E});return(null===G||void 0===G?0:G.length)?G.shift():{}};x.prototype.getSelectedServiceLayer=function(){var E=parseInt(this.serviceLayersSelect.value,10);return this.findLayer(""+E,this.serviceLayers||[])};x.prototype.getFormData=function(){var E=this.fileInput.files[0],G=(null===E||void 0===E?void 0:E.name)||"",H=this.selectedSourceType.value,J=G.substr(0,G.indexOf("."))+"_agotmp"+G.substr(G.indexOf(".")),M=new FormData;
M.append("type",H);M.append("title",J);M.append("file",E,J);this.origFilename=G;this.sourceTitle=J;return M};x.prototype.getAnalyzeParameters=function(){var E=g["default"](this.analyzeResults),G=this.findLocationField("longitude"),H=this.findLocationField("latitude"),J=E.publishParameters.locationType;G=G&&"__none"!==G.value?G.name:E.publishParameters.longitudeFieldName;H=H&&"__none"!==H.value?H.name:E.publishParameters.latitudeFieldName;G&&H?(E.publishParameters.locationType="coordinates",E.publishParameters.latitudeFieldName=
H,E.publishParameters.longitudeFieldName=G):"coordinates"!==J&&(E.publishParameters.locationType="none");return E.publishParameters};x.prototype.addEventListeners=function(){var E=new m["default"];this.own(b["default"](this.showFieldMatchingLink,"click",this.showFieldMatching.bind(this)),b["default"](this.updateExistingFeatures,"change",this.updateExistingFeaturesChange.bind(this)),b["default"](this.fileInput,"change",this.onFileChange.bind(this)),b["default"](this.fromField,"change",this.onFromFieldChange.bind(this)),
b["default"](this.toField,"change",this.onToFieldChange.bind(this)),b["default"](this.serviceLayersSelect,"change",this.onServiceLayerChange.bind(this)),b["default"](this.dataLayersSelect,"change",this.onDataLayerChange.bind(this)),b["default"](this.supportedTypes,"change",this.setSelectedSourceType.bind(this)));E.resolve();return E};x.prototype.sortHeader=function(E){var G=E.target;E=G.dataset.sort;var H=G.classList.contains("is-ascending")||G.classList.contains("is-descending");G=G.dataset.sortOrder;
H&&(G="asc"===G?"desc":"asc");this.sortUpdate({property:E,ascending:"asc"===G})};x.prototype.sortUpdate=function(E){var G=this,H=this.domNode.querySelector(".js-table-rows"),J=this.noneField,M=this.getUIDField(),K=this.updateExistingFeatures.checked,L=this.getSelectedDataLayer(),U=(L.fields||[this.noneField]).sort(function(ia,ka){return ia.name.localeCompare(ka.name)}),ba=this.layerFields,V={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},aa={portal:this.portal,template:D["default"],dataLayerFields:U,
addressFields:L.addressFields};this.currentSort=E=E||this.currentSort;(null===U||void 0===U?0:U.length)&&"__none"!==U[0].value&&U.unshift(J);var ha=E.ascending?"is-ascending":"is-descending";k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ia){ia.classList.remove("is-descending");ia.classList.remove("is-ascending");ia.setAttribute("aria-sort","none")});k["default"].querySelectorAllAsArray(".js-table-sort-header[data-sort\x3d'"+E.property+"']",this.domNode).forEach(function(ia){ia.classList.add(ha);
ia.setAttribute("aria-sort",E.ascending?"ascending":"descending");ia.dataset.sortOrder=E.ascending?"asc":"desc"});this.sortTitle("matchField"===E.property?this.matchFields||[]:this.layerFields||[],E);this.sortHandlers.forEach(function(ia){ia.remove()});this.sortHandlers=[];k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ia){G.sortHandlers.push(b["default"](ia,"click",G.sortHeader.bind(G)))});this.dijits.forEach(function(ia){ia.destroy()});this.dijits=[];
ba.forEach(function(ia){ia.type in V||!ia.editable||K&&ia.name===M.name||(ia=new C["default"](n.__assign(n.__assign({},aa),{field:ia})),ia.startup(),ia.placeAt(H),G.dijits.push(ia))})};x.prototype.sortTitle=function(E,G){return null===E||void 0===E?void 0:E.sort(function(H,J){return G.ascending?H.name.localeCompare(J.name):J.name.localeCompare(H.name)})};x.prototype.showStep1=function(){var E=this,G=new m["default"],H=this.okBtn;this.fillSupportedTypes().then(function(){k["default"].hideNode(E.step2);
k["default"].showNode(E.step1);E.isStep1=!0;null===H||void 0===H?void 0:H.set("label",y["default"].appendDataDlg.uploadBtn);E.set("readOnly",!1);G.resolve(!0)});return G};x.prototype.showStep2=function(){var E=this,G=new m["default"];p["default"]({serviceLayers:this.fillServiceLayers(this.serviceLayers),dataLayers:this.fillDataLayers(this.dataLayers)}).then(function(){var H=E.getSelectedDataLayer(),J=E.getSelectedServiceLayer();E.updateFields(J,H).then(function(){G.resolve(!0)})});return G};x.prototype.updateFields=
function(E,G){var H=this,J=new m["default"],M=this.okBtn,K="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,L=this.selectedFile||this.uploadedItem&&this.uploadedItem.title||this.sourceTitle||"",U=this.syncEnabled||this.changeTrackingEnabled,ba=G&&G.geometryType,V=E&&E.geometryType,aa=V?!0:!1,ha,ia,ka;p["default"]({serviceLayerFields:this.fillServiceLayerFields(E,G),dataLayerFields:this.fillDataLayerFields(E,G),fieldMatching:this.fillFieldMatching(E,G)}).then(function(){k["default"].hideNode(H.step1);
k["default"].showNode(H.step2);if(U){if(V!==ba&&V&&("esriGeometryPoint"!==V||K||ba)){H.showError({message:y["default"].appendDataDlg.noMatchingSelectedLayerType});return}ha=!0}else V===ba?ha=ia=ka=!0:V&&("esriGeometryPoint"!==V||K||ba)?ka=!0:ha=ia=ka=!0;H.domNode.querySelector(".js-updateFeatures-container").classList.add("hide");k["default"].showHideAll(k["default"].querySelectorAllAsArray(".js-updateGeometry",H.domNode),aa);H.updateExistingFeatures.checked=ia||ka||!1;!ia&&ha?k["default"].querySelectorAllAsArray(".js-updateFeatures, .js_attributesOnly",
H.domNode).forEach(function(qa){qa.classList.add("disabled")}):(k["default"].querySelectorAllAsArray(".js-updateFeatures",H.domNode).forEach(function(qa){qa.classList.remove("disabled")}),k["default"].querySelectorAllAsArray(".js-attributesOnly",H.domNode).forEach(function(qa){qa.classList[!ia&&ka?"add":"remove"]("disabled")}));H.updateExistingFeaturesChange();H.updateGeometry.checked=!1;H.skipInserts.checked=!ha&&(ia||ka)||!1;H.toField.value="__none";H.isStep1=!1;H.appendDataLabel.innerHTML=y["default"].appendDataDlg.chooseLayer.replace("${fileName}",
L);null===M||void 0===M?void 0:M.set("label",y["default"].appendDataDlg.applyUpdatesBtn);H.set("readOnly",!1);J.resolve(!0)});return J};x.prototype.updateLayerDataUpdatedDate=function(){var E=this.item,G=this._layerInfo,H=(new Date).getTime();G&&(G.editingInfo=G.editingInfo||{},G.editingInfo.lastEditDate=H,E.layers&&(E=E.layers[G.id],E.editingInfo=E.editingInfo||{},E.editingInfo.lastEditDate=H))};x.prototype.done=function(){var E=this;this.deleteItem().then(function(){E.updateLayerDataUpdatedDate();
c["default"].publish("append/done",{type:"success"});E.set("readOnly",!1);c["default"].publish("alert/show",{type:"success",text:y["default"].appendDataDlg.updateSuccess});E.hide()})};x.prototype.showFieldMatching=function(E){E="true"===this.showFieldMatchingLink.dataset.value;this.showFieldMatchingLink.dataset.value=E?"false":"true";this.showFieldMatchingLink.innerHTML=E?y["default"].appendDataDlg.showFieldMatching:y["default"].appendDataDlg.hideFieldMatching;k["default"].showHide(this.fieldMatching,
!E)};x.prototype.updateExistingFeaturesChange=function(E){var G=this.updateExistingFeatures.checked?"remove":"add";k["default"].querySelectorAllAsArray(".js-updateFeatures-container",this.domNode).forEach(function(H){H.classList[G]("hide")});this.sortUpdate()};x.prototype.onFileChange=function(E){E=this.fileInput.files[0];E=(null===E||void 0===E?void 0:E.name)||"";var G=E.split(".").pop(),H=(new RegExp(this.supportedFilesRegEx,"i")).test(E),J="zip"===(null===G||void 0===G?void 0:G.toLowerCase());
this.selectedSourceType=this.findSupportedType(J?"shapefile":G);this.selectedFile=E;k["default"].showHide(this.zipSelect,H&&J&&!this.portal.isPortal);this.okBtn.set("disabled",!H)};x.prototype.onFromFieldChange=function(E){E=(null===E||void 0===E?void 0:E.target)||{};var G=E.options[E.selectedIndex],H=this.getSelectedDataLayer(),J=this.getSelectedServiceLayer();G={name:G.dataset.value,type:G.dataset.type};var M=this.findField(G,this.layerFields),K=this.findField({name:E.dataset.prevValue,type:E.dataset.prevType},
this.layerFields);this.uidField=G;M.type!==K.type&&this.fillDataLayerFields(J,H);"__none"===M.value&&(this.toField.value="__none");E.dataset.prevValue=E.value;E.dataset.prevType=E.type;this.sortUpdate()};x.prototype.onToFieldChange=function(E){E=(null===E||void 0===E?void 0:E.target)||{};E=E.options[E.selectedIndex];E=this.findField({name:E.dataset.value,type:E.dataset.type},this.layerFields);c["default"].publish("appendData/fieldChanged",E)};x.prototype.onServiceLayerChange=function(){this.showStep2()};
x.prototype.onDataLayerChange=function(){var E=this.getSelectedDataLayer(),G=this.getSelectedServiceLayer();this.updateFields(G,E)};x.prototype.render=function(){var E=new m["default"];p["default"]([this.showStep1()]).then(function(){E.resolve(!0)});return E};x.prototype.showLoader=function(E){var G=this.domNode.querySelector(".analyze-loader-wrap .loader");k["default"].showNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].activateNode(G);if(G=G.querySelector(".loader-text"))G.innerHTML=
E};x.prototype.hideLoader=function(){k["default"].hideNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].deactivateNode(this.domNode.querySelector(".analyze-loader-wrap .loader"))};x.prototype.clearSelect=function(E){if(null===E||void 0===E?0:E.options)for(var G=E.options.length-1;0<=G;G--)E.remove(G)};x.prototype.fillSupportedTypes=function(){var E=this,G=new m["default"],H;this.supportedItemTypes.forEach(function(J){J.innerHTML&&(H=document.createElement("option"),H.dataset.value=
J.value,H.dataset.validate=J.regex||"",H.dataset.fileType=J.fileType,H.dataset.appendUploadFormat=J.appendUploadFormat,H.value=J.value,H.innerHTML=J.innerHTML,E.supportedTypes.add(H))});G.resolve(!0);return G};x.prototype.fillServiceLayers=function(E){var G=this,H,J,M;E=new m["default"];if(null===(J=null===(H=this.serviceLayersSelect)||void 0===H?void 0:H.options)||void 0===J?0:J.length)E.resolve(this.serviceLayers);else{H=this.serviceLayers||[];var K;this.clearSelect(this.serviceLayersSelect);(null===
H||void 0===H?0:H.length)&&H.forEach(function(L){K=document.createElement("option");K.dataset.value=L.id;K.value=L.id;K.innerHTML=L.name;G.serviceLayersSelect.add(K)});k["default"].showHide(this.serviceLayersContainer,1<(null===(M=this.layers)||void 0===M?void 0:M.length));E.resolve(H)}return E};x.prototype.fillDataLayers=function(E){var G=this,H,J=new m["default"];E=E||this.dataLayers||[];this.clearSelect(this.dataLayersSelect);E.forEach(function(K){var L=""+(q["default"].isDefined(K.excelSheetId)?
parseInt(K.excelSheetId,10):parseInt(K.id,10)),U=document.createElement("option");U.dataset.value=L;U.value=L;U.innerHTML=K.name;G.dataLayersSelect.add(U)});if(this.dataLayersSelect.options&&!this.dataLayersSelect.options.length){var M=document.createElement("option");M.dataset.value=this.noneField.value;M.value=this.noneField.value;M.innerHTML=this.noneField.name;this.dataLayersSelect.add(M)}k["default"].showHide(this.dataLayersContainer,1<(null===(H=this.analyzeResultLayers)||void 0===H?void 0:
H.length));this.dataLayers=E;J.resolve(E);return J};x.prototype.fillServiceLayerFields=function(E,G){var H=this,J=new m["default"],M=this.noneField,K=g["default"](E.indexes||[]),L=this.getUIDField(E),U={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},ba=g["default"](E.fields||[]),V;this.clearSelect(this.fromField);K.filter(function(aa){return null===aa||void 0===aa?void 0:aa.isUnique}).forEach(function(aa){var ha;V=(null===(ha=aa.fields)||void 0===ha?void 0:ha.split(","))||[];V.forEach(function(ia){ba.some(function(ka){return ka.name.toLowerCase()===
ia.toLowerCase()?ka.isUniqueIndex=!0:!1})})});"Table"===E.type||!this.selectedSourceType||"excel"!==this.selectedSourceType.fileType&&"csv"!==this.selectedSourceType.fileType||((K=this.findField(this.longitudeField,ba))&&"__none"!==K.value||ba.push(g["default"](this.longitudeField)),(K=this.findField(this.latitudeField,ba))&&"__none"!==K.value||ba.push(g["default"](this.latitudeField)));this.layerFields=g["default"](ba||[]);ba=ba.filter(function(aa){return aa.type&&aa.type in U||aa.isUniqueIndex}).sort(function(aa,
ha){return aa.name.localeCompare(ha.name)});ba.unshift(M);ba.forEach(function(aa){var ha=document.createElement("option");ha.dataset.value=aa.value||aa.name||null;ha.dataset.type=aa.type||null;ha.value=aa.value||aa.name||null;ha.innerHTML=aa.displayName||aa.name;H.fromField.add(ha)});this.fromField.value=(null===L||void 0===L?void 0:L.value)||"__none";this.fromField.dataset.type=(null===L||void 0===L?void 0:L.value)||"__none";this.fromField.dataset.prevValue=this.fromField.value;this.fromField.dataset.prevType=
this.fromField.type;J.resolve(ba);return J};x.prototype.fillDataLayerFields=function(E,G){var H=this,J,M=new m["default"],K=this.noneField,L=G&&G.fields?g["default"](G.fields):[],U=this.getUIDField(E);L=this.filterAllowedFields(L,U).sort(function(ba,V){return ba.name.localeCompare(V.name)});U=this.findField(U,L);this.clearSelect(this.toField);(null===L||void 0===L?0:L.length)&&"__none"!==L[0].value?L.unshift(K):L=[K];L.forEach(function(ba){var V=document.createElement("option");V.dataset.value=ba.value||
ba.name||null;V.dataset.type=ba.type||null;V.value=ba.value||ba.name||null;V.innerHTML=ba.displayName||ba.name;H.toField.add(V)});this.toField.value="__none"!==(null===U||void 0===U?void 0:U.value)?U.name||"__none":"__none";this.toField.disabled="__none"===this.fromField.value||2>(null===(J=this.toField.options)||void 0===J?void 0:J.length);M.resolve(L);return M};x.prototype.filterAllowedFields=function(E,G){var H=E.filter(function(J){return A["default"](G,J)});return(null===H||void 0===H?0:H.length)?
H:[]};x.prototype.fillFieldMatching=function(E,G){var H=new m["default"];this.sortUpdate({property:"title",ascending:!0});H.resolve(!0);return H};x.prototype.addLayerInfo=function(E){var G=new m["default"],H=(null===E||void 0===E?0:E.publishParameters)?g["default"](E.publishParameters):{};E=(H.layers||[H.layerInfo]).map(function(J){var M=J.locationType||H.locationType||null;J.geometryType=J.geometryType||("coordinates"===M?"esriGeometryPoint":null)||null;J.addressFields=J.addressFields||H.addressFields||
("coordinates"===M?{longitudeFieldName:J.longitudeFieldName||H.longitudeFieldName,latitudeFieldName:J.latitudeFieldName||H.latitudeFieldName}:{});return J});G.resolve(E);return G};x.prototype.validateLayers=function(E){var G=new m["default"],H="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,J=this.syncEnabled||this.changeTrackingEnabled?this.layers.filter(function(M){return E.some(function(K){return K.geometryType===M.geometryType||!M.geometryType||"esriGeometryPoint"===
M.geometryType&&!H&&!K.geometryType})}):this.layers;J&&J.length?(this.analyzeResultLayers=g["default"](E),this.dataLayers=g["default"](E),this.serviceLayers=g["default"](J),G.resolve(this.analyzeResults)):G.reject({message:y["default"].appendDataDlg.noMatchingLayerType});return G};x.prototype.getUIDField=function(E){var G=this.uidField||null;if(!G){var H=E.globalIdField;E=(E.fields||[]).filter(function(J){return J.name===H});G=this.uidField=(null===E||void 0===E?0:E.length)?E.shift():this.noneField}return G};
x.prototype.findField=function(E,G){var H=(G||[]).filter(function(J){return J.type===E.type&&J.name.toLowerCase()===E.name.toLowerCase()});return(null===H||void 0===H?0:H.length)?H.shift():this.noneField};x.prototype.findLocationField=function(E){var G=this.dijits.map(function(H){return H.field}).filter(function(H){return H.name.toLowerCase()===E.toLowerCase()&&H.matchField});return(null===G||void 0===G?0:G.length)?G.shift().matchField:null};x.prototype.findLayer=function(E,G){return u["default"].findLayer(E,
G||[])};x.prototype.findSupportedType=function(E){var G=(this.supportedItemTypes||[]).filter(function(H){return H.fileType===E||H.extension.toLowerCase()===E.toLowerCase()});return(null===G||void 0===G?0:G.length)?G.shift():null};x.prototype.uploadData=function(E){var G=this,H;E=E||new m["default"];var J=null===(H=this.item)||void 0===H?void 0:H.owner;H=this.getFormData();var M={owner:J,folderId:void 0,fileName:this.sourceTitle,fileType:this.selectedSourceType.value};this._setReadOnlyAttr(!0,y["default"].appendDataDlg.uploadProgress);
this.uploadProgressBar.reset();this.uploadProgressBar.show();d["default"].addItem(M,H,this.fileInput.files[0]).then(function(K){G.uploadProgressBar.hide();if(K&&K.success){var L={title:M.fileName,type:M.fileType,folderId:""};G.uploadedItem=n.__assign(n.__assign(n.__assign({},K),L),{title:G.sourceTitle});K.isMultipart?(K.statusUrl=d["default"]._getActionItemUrl(M,"status"),G._setReadOnlyAttr(!0,y["default"].addItemFrm.checkingStatus),G.checkStatus(K).then(function(){G.set("readOnly",!1);E.resolve(K)})):
E.resolve(K)}else E.reject(K)},function(K){G.uploadProgressBar.hide();K&&409!==K.code?G.showError(K):G.deleteExistingTempItem(G.sourceTitle).then(function(){G.uploadData(E)},function(L){G.showError(K)})});return E};x.prototype.analyze=function(E){var G=this,H=new m["default"];E=n.__assign({fileType:this.selectedSourceType.fileType},E);this._setReadOnlyAttr(!0,y["default"].appendDataDlg.analyzeProgress);l["default"].analyzeItem(E,{enableGlobalGeocoding:!1},this.portal).then(function(J){G.analyzeResults=
J;H.resolve(J)},function(J){H.reject(J)});return H};x.prototype.appendDataLayer=function(){var E,G=new m["default"],H=this.getSelectedServiceLayer(),J=this.analyzeResults||{},M=(null===(E=J.publishParameters)||void 0===E?void 0:E.locationType)||"none";E=this.serviceUrl+"/"+H.id+"/append";var K=this.getAppendParams(),L=this.findLocationField("longitude")||{},U=this.findLocationField("latitude")||{},ba=this.updateExistingFeatures.checked;if(ba&&("__none"===this.fromField.value||"__none"===this.toField.value))return G.reject({message:y["default"].appendDataDlg.noUIDFieldMapping}),
G;if(!(!J.publishParameters||"csv"!==J.publishParameters.type&&"excel"!==J.publishParameters.type||"esriGeometryPoint"!==H.geometryType||"none"!==M&&"address"!==M||ba&&!K.updateGeometry||"__none"!==L.value&&"__none"!==U.value))return G.reject({message:y["default"].appendDataDlg.noLocationFields}),G;K.fieldMappings?(this._setReadOnlyAttr(!0,y["default"].appendDataDlg.applyProgress),v["default"].request({url:E,content:K},{usePost:!0}).then(this.checkStatus.bind(this),function(V){G.reject(V)}).then(function(V){G.resolve(V)})):
G.reject({message:y["default"].appendDataDlg.noMatchingFields});return G};x.prototype.checkStatus=function(E,G,H){var J=this,M=null===E||void 0===E?void 0:E.statusUrl,K=H||new m["default"],L=G||500;v["default"].request({url:M}).then(function(U){var ba,V;U=U||{status:"completed"};"completed"===(null===(ba=U.status)||void 0===ba?void 0:ba.toLowerCase())?K.resolve(!0):"failed"===(null===(V=U.status)||void 0===V?void 0:V.toLowerCase())||400<U.code||""===U.status?J.showError(U):(L=(L||500)+250,setTimeout(function(){J.checkStatus(E,
L,K)},G))},function(U){J.showError(U)});return K};x.prototype.deleteItem=function(){var E=this,G,H=new m["default"],J=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.uploadedItem?J.deleteItems([this.uploadedItem]).then(function(){E.uploadedItem=null;H.resolve(!0)},function(){E.uploadedItem=null;H.resolve(!0)}):H.resolve(!0);return H};x.prototype.deleteExistingTempItem=function(E){var G,H=new m["default"],J=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.portal.queryItems("title:"+
E).then(function(M){var K;(null===(K=null===M||void 0===M?void 0:M.items)||void 0===K?0:K.length)?J.deleteItems([M.items.shift()]).then(function(){H.resolve(!0)},function(){H.resolve(!0)}):H.resolve(!1)});return H};x.prototype.showError=function(E){var G=this,H=n.__assign(n.__assign({},y["default"].publishWizard.errors.error),E);E=E&&(E.statusMessage||E.message||"");-1<E.indexOf("Invalid Shapefile")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidShapefile.message):
-1<E.indexOf("Invalid File Geodatabase")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidFileGeodatabase.message):-1<E.indexOf("Object reference not set to")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.appendDataDlg.error):-1<E.indexOf("Duplicate field names are not allowed")?H.message=this.i18n.common.errors.duplicateFields:-1<E.indexOf("Must specify data to be analyzed")&&(H.message=this.i18n.appendDataDlg.specifyData);this.errorDlg=
new r["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this.errorDlg.show(H).then(function(){G.set("readOnly",!1);G.errorDlg.hide()});return!1};return x=n.__decorate([F["default"](a["default"],e["default"])],x)}()})},"arcgisonline/sharing/dijit/AppendData/FieldTableRow":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/formatters ./_canMatchFields ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/_table-row.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(e,a){this.i18n=l["default"];this.noneField={value:"__none",name:l["default"].appendDataDlg.none}}d.prototype.postMixInProperties=function(){var e=this;this.inherited(arguments);
Object.keys(u["default"]).forEach(function(a){e[a]=u["default"][a]});this.portal=this.portal||(null===t["default"]||void 0===t["default"]?void 0:t["default"].self)||{};this.portalUser=this.portalUser||this.user||this.portal.portalUser||{};this.templateString=this.template||r["default"];this.displayName=this.field.displayName||this.field.name};d.prototype.postCreate=function(){var e=this,a;this.inherited(arguments);null===(a=this.cssClasses)||void 0===a?void 0:a.forEach(function(b){e.domNode.classList.add(b)})};
d.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};d.prototype.setValue=function(e){e=(null===e||void 0===e?void 0:e.matchField)||e||{name:l["default"].appendDataDlg.none,value:"__none"};this.matchFields.value=e.value;this.field.matchField=e;this.matchFieldValue.innerHTML=e.displayName||e.name;this.matchFieldValue.dataset.value=e.value||e.name;this.matchFieldValue.dataset.type=e.type};d.prototype.render=function(){var e=
this,a=new C["default"];A["default"]([this.createMatchFieldOptions()]).then(function(){var b,c=(null===(b=e.field)||void 0===b?void 0:b.matchField)||e.field;b=c?e.findField(c,e.dataLayerFields):null;e.setValue(b);a.resolve(!0)});return a};d.prototype.addEventListeners=function(){var e=this,a=new C["default"];this.own(w["default"](this.matchFields,"blur",function(b){e.field.value=e.editEnd({evt:b})}),w["default"](this.matchFieldsContainer,"click",function(b){e.editStart({evt:b})}),v["default"].subscribe("appendData/fieldChanged",
function(b){var c,m;"__none"!==b.value&&(null===(m=null===(c=e.field)||void 0===c?void 0:c.matchField)||void 0===m?void 0:m.name)===b.name&&e.setValue()}));a.resolve();return a};d.prototype.editStart=function(e){e=e.evt.target;var a=e.parentElement.querySelector("select"),b=e.dataset.value;b&&"SPAN"===(null===e||void 0===e?void 0:e.tagName)&&(e.classList.add("hide"),a.classList.remove("hide"),a.value=b,a.focus())};d.prototype.editEnd=function(e){e=e.evt.target;var a=e.parentElement.querySelector("span"),
b=e.options[e.selectedIndex].dataset.value,c=this.findField({type:e.options[e.selectedIndex].dataset.type,name:b},this.dataLayerFields);v["default"].publish("appendData/fieldChanged",c);this.setValue(c);e.classList.add("hide");a.classList.remove("hide");return b};d.prototype.findField=function(e,a){var b=this,c=(a||[]).filter(function(m){return e.name.toLowerCase()===m.name.toLowerCase()&&(m.type===e.type||b.findAddressField(m.displayName||m.name))});return(null===c||void 0===c?0:c.length)?c.shift():
this.noneField};d.prototype.findAddressField=function(e){var a=this.addressFields||{},b=Object.keys(a).filter(function(c){return a[c]===e});return(null===b||void 0===b?0:b.length)?b.shift():null};d.prototype.createMatchFieldOptions=function(){var e=this,a=new C["default"];(this.dataLayerFields||[]).forEach(function(b){if("__none"===b.value||h["default"](e.field,b)){var c=document.createElement("option");c.dataset.value=b.value||b.name;c.dataset.type=b.type||null;c.value=b.value||b.name;c.innerHTML=
b.displayName||b.name;e.matchFields.add(c)}});a.resolve(!0);return a};return d=n.__decorate([f["default"](g["default"],k["default"])],d)}()})},"arcgisonline/sharing/dijit/AppendData/_canMatchFields":function(){define(["require","exports"],function(R,N){Object.defineProperty(N,"__esModule",{value:!0});N["default"]=function(n,t){var u,h=(null===n||void 0===n?void 0:n.type)||null,f=(null===t||void 0===t?void 0:t.type)||null,g={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger",
"esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:"esriFieldTypeString esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeDate esriFieldTypeGUID".split(" "),esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID",
"esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"]};return f&&(f===h||-1<(null===(u=g[h])||void 0===u?void 0:u.indexOf(f)))}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceLayer.html dojo/text!../../../img/Archive_no-text.svg dojo/text!../../../img/Replace_no-text.svg dojo/i18n!../../../nls/arcgisonline dojo/string dojo/dom-attr dojo/dom-construct dojo/query arcgisonline/pages/dijit/Overlay ../../utils/dom ../../utils/icons ../../serviceUtil arcgis-components/wrappers/ItemBrowser ../../portal/Portal esri/request arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig arcgisonline/map/core/sameSpatialReference arcgisonline/map/core/sameTilingScheme arcgisonline/map/layer/getServiceInfo ../../portal/PortalItem ../../../sharing/util ../../utils/alerts dojo/Deferred".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);return function(){function F(x,E){this.title=f["default"].replaceLayer.replaceLayer;this.i18n=f["default"];this.icons=r["default"];this.overlayContents=g["default"].substitute(t["default"],{i18n:this.i18n,icons:this.icons});this._showPreviewStylesTab=!0;this._replaceItemInformation=!1;this.isVectorTile=!0;this._currentStep=1;this.cacheTypeKeywords=""}F.prototype.postCreate=function(){var x=this,E;this.inherited(arguments);
this.type=this.item.type;this.isTile=this.item.types.includes("is-tile");this.isVectorTile=this.item.types.includes("is-vectorTile");(this.isCacheContent=this.item.typeKeywords.includes("ExtractedCache"))&&(this.isTile||this.isVectorTile)&&(this.cacheTypeKeywords=' AND typekeywords:("ExtractedCache" AND "Tiled" AND "'+(this.isTile?"Map Service":"Vector Tile Service")+'")');this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:f["default"].replaceLayer.selectReplacementLayer,
mainActionTitle:f["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent","myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(x.isCacheContent?"-":"")+'typekeywords:"Hosted Service"'+x.cacheTypeKeywords+" NOT id:"+x.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",
order:"desc"}}};this.telemetry=null===(E=this.page)||void 0===E?void 0:E.telemetry;this._stepperNextButton=this.domNode.querySelector(".js-stepper-next-btn");this._overlayHelpButton=this.domNode.querySelector(".overlay-help");this._stepperLinks=this.domNode.querySelectorAll(".js-step-link");this._selectLayerButton=this.domNode.querySelector(".js-replace-layer-select");this._changeLayerButton=this.domNode.querySelector(".js-replace-lyr-change-lyr");this._archiveInputContainer=this.domNode.querySelector(".js-replace-lyr-edit-container");
this._currentArchiveName=this.domNode.querySelector(".js-replace-lyr-current-arch-name");this._archiveInputName=this.domNode.querySelector(".js-replace-lyr-edit-name");this._archiveInputSave=this.domNode.querySelector(".js-replace-lyr-edit-save");this._archiveInputEdit=this.domNode.querySelector(".js-replace-lyr-current-arch-btn");this._nameInputError=this.domNode.querySelector(".js-replace-name-input-error");this._nameAvailableError=this.domNode.querySelector(".js-replace-name-available-error");
this._itemInformationSwitch=this.domNode.querySelector(".js-replace-lyr-replace-item-switch");this._changeLayerSummaryButton=this.domNode.querySelector(".js-replace-lyr-change-lyr-summary");this._changeLayerOptionButton=this.domNode.querySelector(".js-replace-lyr-change-option");this._availabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice");this._closeAvailabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice-close");this._radioOptions=v["default"]("input[name\x3djs-replace-lyr-archive-option-radio]",
this.domNode);this._archiveSvg=this.domNode.querySelector(".js-archive_svg");this._replaceSvg=this.domNode.querySelector(".js-replace_svg");this._shownPreviewStylesContent=this.domNode.querySelectorAll(".js-replace-lyr-show-preview-step");this._selectedLayerTitle=this.domNode.querySelectorAll(".js-replace-lyr-selected-lyr-name");this._selectedLayerOwner=this.domNode.querySelectorAll(".js-replace-lyr-selected-owner");this._selectedLayerIcon=this.domNode.querySelectorAll(".js-replace-lyr-selected-icon");
this._selectedLayerType=this.domNode.querySelectorAll(".js-replace-lyr-selected-type");this._currentLayerTitle=this.domNode.querySelector(".js-replace-lyr-current-lyr-name");this._currentLayerOwner=this.domNode.querySelector(".js-replace-lyr-current-owner");this._currentLayerIcon=this.domNode.querySelector(".js-replace-lyr-current-icon");this._currentLayerType=this.domNode.querySelector(".js-replace-lyr-current-type");this._preSelectContainer=this.domNode.querySelector(".pre-select");this._postSelectContainer=
this.domNode.querySelector(".post-select");this._checkStyles=this.domNode.querySelector(".js-replace-lyr-check-styles");this._checkStylesSuccess=this.domNode.querySelector(".js-replace-lyr-check-styles-success");this._checkStylesWarnings=this.domNode.querySelectorAll(".js-replace-lyr-check-styles-warning");this._selectedLayerContainer=this.domNode.querySelector(".js-replace-lyr-selected-layer");this._replaceLayerErrorMessage=this.domNode.querySelector(".js-replace-lyr-error");this._replaceLayerPreviewContainer=
this.domNode.querySelector(".js-replace-lyr-preview-container");this._styleDropdown=this.domNode.querySelector(".js-replace-lyr-style-layer-dropdown");this._replaceSingleStyle=this.domNode.querySelector(".js-replace-lyr-single-style");this._replaceMultipleStyles=this.domNode.querySelector(".js-replace-lyr-multiple-styles");this._replaceSingleStyleLabel=this.domNode.querySelector(".js-replace-lyr-style-layer");this._archiveOptionLayerName=this.domNode.querySelector(".js-replace-lyr-new-layer-name");
this._replaceItemInformationLabel=this.domNode.querySelector(".js-replace-lyr-replace-item-information");this._replaceOptionArchiveLabel=this.domNode.querySelector(".js-replace-lyr-archive-option");this._replaceOptionReplacementLabel=this.domNode.querySelector(".js-replace-lyr-replace-option")};F.prototype.addListeners=function(){var x=this;this._stepperNextButton.addEventListener("click",this.handlePrimary.bind(this),!1);this._overlayHelpButton.addEventListener("click",this.handleHelp.bind(this),
!1);for(var E=0;E<this._stepperLinks.length;E++)this._stepperLinks[E].addEventListener("click",this.onStepClick.bind(this));this._radioOptions.on("change",this.onOptionSelect.bind(this));this._selectLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._changeLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._archiveInputName.addEventListener("input",this.handleArchiveInput.bind(this));this._archiveInputSave.addEventListener("click",this.handleArchiveSave.bind(this));
this._archiveInputEdit.addEventListener("click",this.handleArchiveEdit.bind(this));this._itemInformationSwitch.addEventListener("click",this.handleReplaceItemInformationSwitch.bind(this));this._changeLayerSummaryButton.addEventListener("click",this.handleChangeLayerSummaryClick.bind(this));this._changeLayerOptionButton.addEventListener("click",this.handleChangeOptionSummaryClick.bind(this));this._closeAvailabilityNotice.addEventListener("click",this.handleCloseNotice.bind(this));this._styleDropdown.addEventListener("change",
this.handleLayerDropdownChange.bind(this));this._overlay.addEventListener("transitionend",function(G){"transform"===G.propertyName&&x._selectLayerButton.focus()})};F.prototype.open=function(){this.domNode.classList.add("overlay-stepper");w["default"].place(this.domNode.querySelector(".js-stepper-headers"),this._overlayContentWrapper,"before");w["default"].place(this.domNode.querySelector(".js-step-bars"),this.domNode.querySelector(".js-stepper-headers"),"after");document.body.classList.add("stepper--open");
this.initUI();this.inherited(arguments)};F.prototype.close=function(){this.inherited(arguments);this._itemBrowserContainer&&this._itemBrowserContainer.parentNode.removeChild(this._itemBrowserContainer);document.body.classList.remove("stepper--open")};F.prototype.initUI=function(){for(var x=this,E,G,H=1;4>=H;H++)this["_step"+H]=this.domNode.querySelector(".js-step-"+H),this["_stepHeader"+H]=this.domNode.querySelector(".js-step-header-"+H),this["_stepBar"+H]=this.domNode.querySelector(".js-step-"+H+
"-bar");this._selectedOption=this.getSelectedOption();this._archiveName=this.generateArchiveName();this._currentArchiveName.textContent=this._archiveName;this._archiveInputName.value=this._archiveName;this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);this._archiveSvg&&(this._archiveSvg.innerHTML=g["default"].substitute(u["default"],{i18n:f["default"]}));this._replaceSvg&&(this._replaceSvg.innerHTML=g["default"].substitute(h["default"],{i18n:f["default"]}));A["default"].showNode(this._overlayHelpButton);
c["default"].self.isPortal||A["default"].showNode(this._availabilityNotice);this._relatedStyles=this.item.relatedItems.Service2Style_forward;if(!(0<(null===(E=this._relatedStyles)||void 0===E?void 0:E.length)))this._showPreviewStylesTab=!1,A["default"].hideNodes(this._shownPreviewStylesContent);else if(null===(G=this._relatedStyles)||void 0===G?0:G[0])this._selectedBaseStyle=this._relatedStyles[0],l["default"].checkForResources(this._selectedBaseStyle).then(function(J){x._selectedBaseStyle.hasResources=
J});this.item.serviceInfo||q["default"](this.item.url,null,function(J){x.item.serviceInfo=J});this.createItemBrowser();this.addListeners();this.goToStep(1)};F.prototype.generateArchiveName=function(){function x(K){return 2>String(K).length?"0"+K:K}var E=new Date,G=E.getFullYear(),H=x(E.getMonth()+1),J=x(E.getDate()),M=x(E.getHours());E=x(E.getMinutes());return this.item.title+"_"+(G+"_"+H+"_"+J+"_"+M+"_"+E)};F.prototype.replaceSpacesWithUnderscore=function(x){return x.replace(/\s/g,"_")};F.prototype.createItemBrowser=
function(){var x=this;this._itemBrowserContainer||(this._itemBrowserContainer=document.createElement("div"),A["default"].hideNode(this._itemBrowserContainer),document.body.appendChild(this._itemBrowserContainer),this.portal=new e["default"](c["default"].restBaseUrl),this.portal.signIn().then(function(){x._itemBrowser=new d.ItemBrowserWrapper(x._itemBrowserContainer,{apiVersion:3,portal:x.portal,request:a["default"],initialState:x._itemBrowserConfig})}))};F.prototype.openItemBrowser=function(){var x=
this;this._itemBrowserContainer.querySelector(".mod__overlay-container").addEventListener("animationend",function(){x._itemBrowserContainer.querySelector(".mod__overlay__close").focus({preventScroll:!0})});A["default"].isHidden(this._itemBrowserContainer)?A["default"].showNode(this._itemBrowserContainer):this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.remove("hide")};F.prototype.handleSelectItem=function(x){this._selectedReplacementItem=new y["default"](n.__assign(n.__assign({},
x[0]),{portal:this.portal}));this.initiateCompatibilityCheck();this.closeItemBrowser();for(x=0;x<this._selectedLayerTitle.length;x++)this._selectedLayerTitle[x].innerHTML=this._selectedReplacementItem.title,this._selectedLayerOwner[x].innerHTML=this._selectedReplacementItem.owner,this._selectedLayerOwner[x].href=c["default"].baseUrl+"user.html?user\x3d"+this._selectedReplacementItem.owner,this._selectedLayerIcon[x].src=this._selectedReplacementItem.iconUrl,this._selectedLayerType[x].innerHTML=this.getItemDisplayName(this._selectedReplacementItem)};
F.prototype.initiateCompatibilityCheck=function(){var x=this;this._primaryBtn.disabled=!0;this._preSelectContainer.classList.add("hide");this._postSelectContainer.classList.remove("hide");this._selectedLayerContainer.classList.remove("stepper__content-pane-error");this._replaceLayerErrorMessage.classList.remove("is-active");A["default"].hideNode(this._checkStylesSuccess);A["default"].hideNodes(this._checkStylesWarnings);A["default"].showNode(this._checkStyles);this.item.canUpdate?this.checkLayerCompatibility().then(function(){x.checkForCompatibleStyles(x._selectedReplacementItem)},
function(E){x.handleLayerSelectionError(E)}):(this._selectedLayerContainer.classList.add("stepper__content-pane-error"),this._replaceLayerErrorMessage.innerHTML=f["default"].replaceLayer.error,A["default"].activateNode(this._replaceLayerErrorMessage),A["default"].hideNode(this._checkStylesSuccess),A["default"].hideNode(this._checkStyles))};F.prototype.checkLayerCompatibility=function(){var x=this,E=new D["default"];q["default"](this._selectedReplacementItem.url,null,function(G){-1<x._selectedReplacementItem.url.indexOf("://vectortileservices")?
x._selectedReplacementItem.getRelatedItems(x.isCacheContent?"DataStore2ByRefService":"Service2Service","reverse").then(function(H){var J=f["default"].replaceLayer.error,M=!0,K=m["default"](x.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference),L=x.item.serviceInfo.tileInfo.layerType===G.tileInfo.layerType;0<H.map(function(U){return U.type}).filter(function(U){return"Feature Service"===U}).length?J=f["default"].replaceLayer.tileLayerPackageError:K||L?K?L?M=!1:J=f["default"].replaceLayer.replaceSceneLayer.layerTypeError:
J=f["default"].replaceLayer.differentCoordinateSystem:J=f["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError;M?E.reject(Error(J)):E.resolve()}):x._selectedReplacementItem.getRelatedItems("Service2Service","reverse").then(function(H){var J;x.isTile&&"Feature Service"===(null===(J=H[0])||void 0===J?void 0:J.type)&&E.reject(Error(f["default"].replaceLayer.hostedFeatureLayerError));l["default"].checkForResources(x.item).then(function(M){x.item.hasResources=M});l["default"].checkForResources(x._selectedReplacementItem).then(function(M){x._selectedReplacementItem.hasResources=
M});H=p["default"](x.item.serviceInfo.tileInfo,G.tileInfo);m["default"](x.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference)&&H?E.resolve():E.reject(Error(f["default"].replaceLayer.differentSchemeCombined))})},function(G){x.handleLayerSelectionError(G)});return E};F.prototype.checkForCompatibleStyles=function(x){var E=this,G=""+x.url+(this.isVectorTile&&!x.url.includes("://vectortileservices")?"/resources/styles/root.json":"");x=""+this.item.url+(this.isVectorTile&&!this.item.url.includes("://vectortileservices")?
"/resources/styles/root.json":"");B["default"].request({url:x,content:{f:"json"}}).then(function(H){E._baseItemJson=H;B["default"].request({url:G,content:{f:"json"}}).then(function(J){E._replacementItemJson=J}).then(function(){var J=E._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");!E.isVectorTile||E.compareLayers(E._baseItemJson.layers,E._replacementItemJson.layers)?(A["default"].showNode(E._checkStylesSuccess),A["default"].hideNodes(E._checkStylesWarnings),
A["default"].hideNode(E._checkStyles)):(A["default"].hideNode(E._checkStylesSuccess),A["default"].showNodes(E._checkStylesWarnings),A["default"].hideNode(E._checkStyles),J&&E._changeLayerButton.focus());E._primaryBtn.disabled=!1;J&&E._primaryBtn.focus()})["catch"](function(J){E.handleLayerSelectionError(J)})})};F.prototype.isWebMercator=function(x){return 0<=[102113,102100,3857,3785].indexOf(x)};F.prototype.handleLayerSelectionError=function(x){var E;this._selectedLayerContainer.classList.add("stepper__content-pane-error");
this._replaceLayerErrorMessage.innerHTML=0<(null===(E=x.message)||void 0===E?void 0:E.length)?x.message:"Error";A["default"].activateNode(this._replaceLayerErrorMessage);A["default"].hideNode(this._checkStylesSuccess);A["default"].hideNode(this._checkStyles);this._changeLayerButton.focus()};F.prototype.compareLayers=function(x,E){var G=this,H=x.map(function(M){return G.isVectorTile?M.id:M.name}).sort(),J=E.map(function(M){return G.isVectorTile?M.id:M.name}).sort();return H.every(function(M){return 0<=
J.indexOf(M)})||J.every(function(M){return 0<=H.indexOf(M)})};F.prototype.closeItemBrowser=function(){this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.add("hide");A["default"].isHidden(this._postSelectContainer)?this._selectLayerButton.focus():this._changeLayerButton.focus()};F.prototype.goToStep=function(x){var E=this;A["default"].hideNode(this["_step"+this._currentStep]);this["_stepBar"+this._currentStep]&&A["default"].hideNode(this["_stepBar"+this._currentStep]);
this._currentStep=x;for(var G=x-1;1<=G;G--)this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_stepHeader"+G].classList.add("stepper__step-item--past"),this["_step"+G].parentNode.classList.add("stepper__content--past-step");for(G=x+1;4>=G;G++)this["_stepHeader"+G].classList.remove("stepper__step-item--past"),this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_step"+G].parentNode.classList.remove("stepper__content--past-step");A["default"].showNode(this["_step"+
this._currentStep]);(x=this.domNode.querySelector(".stepper__content--active-step"))&&x.classList.remove("stepper__content--active-step");this["_step"+this._currentStep].parentNode.classList.remove("stepper__content--past-step");this["_step"+this._currentStep].parentNode.classList.add("stepper__content--active-step");this["_stepHeader"+this._currentStep].classList.remove("stepper__step-item--past");this["_stepHeader"+this._currentStep].classList.add("stepper__step-item--active");this["_stepBar"+this._currentStep]?
(A["default"].showNode(this["_stepBar"+this._currentStep]),this.domNode.classList.add("has-step-bar")):this.domNode.classList.remove("has-step-bar");A["default"].hideNode(this.domNode.querySelector(".js-compile-error-icon"));this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);switch(this._currentStep){case 1:this._primaryBtn.disabled=!this._selectedReplacementItem;break;case 2:this.checkServiceNameAvailable(this._archiveName).then(function(H){H.available||(E.handleArchiveNameValidationError("unavailable"),
E.handleArchiveEdit())});this.alignSvgLabels();break;case 3:this.populateRelatedStyles();this._replaceLayerPreviewContainer.src=this.composePreviewPath();break;case 4:this.populateSummary(),this.setPrimaryBtnText(f["default"].replaceLayer.replace)}};F.prototype.populateRelatedStyles=function(){var x=this;if(0!==this._relatedStyles.length)if(1<this._relatedStyles.length){for(;0<this._styleDropdown.options.length;)this._styleDropdown.remove(0);this._relatedStyles.forEach(function(E){E.option=new Option(E.title);
x._styleDropdown.add(E.option);l["default"].checkForResources(E).then(function(G){return E.hasResources=G})});A["default"].hideNode(this._replaceSingleStyle);A["default"].showNode(this._replaceMultipleStyles)}else this._replaceSingleStyleLabel.textContent=this._relatedStyles[0].title,A["default"].showNode(this._replaceSingleStyle),A["default"].hideNode(this._replaceMultipleStyles)};F.prototype.alignSvgLabels=function(){var x,E,G;null===(x=this.domNode.querySelector(".archive-lyr-current-layer-svg"))||
void 0===x?void 0:x.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(E=this.domNode.querySelector(".archive-lyr-archive-svg"))||void 0===E?void 0:E.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(G=this.domNode.querySelector(".replace-lyr-current-layer-svg"))||void 0===G?void 0:G.setAttribute("text-anchor","rtl"===document.dir?"end":"start")};F.prototype.onStepClick=function(x){x=+k["default"].get(x.target,"data-step-num");x<this._currentStep&&this.goToStep(x)};
F.prototype.onOptionSelect=function(){var x=this.getSelectedOptionContainer();this._selectedOption=this.getSelectedOption();for(var E=this.domNode.querySelectorAll(".stepper__radio-item"),G=0;G<E.length;G++)E[G].classList.remove("stepper__radio-item--selected");x.classList.add("stepper__radio-item--selected")};F.prototype.getSelectedOption=function(){var x;this._radioOptions.some(function(E){E.checked&&(x=E.value);return E.checked});return x};F.prototype.getSelectedOptionContainer=function(){var x=
this._radioOptions.filter(function(E){return E.checked})[0];return x?x.parentNode.parentNode:null};F.prototype.handleArchiveEdit=function(){this._primaryBtn.disabled=!0;A["default"].showNode(this._archiveInputContainer);A["default"].hideNode(this._archiveInputEdit);this._archiveInputName.focus()};F.prototype.handleArchiveInput=function(x){A["default"].deactivateNode(this._nameInputError);A["default"].deactivateNode(this._nameAvailableError);var E=/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(x.target.value);
0===x.target.value.length||E?this.handleArchiveNameValidationError(E?"invalid":void 0):this._archiveInputSave.disabled=!1};F.prototype.handleArchiveSave=function(){var x=this,E=this._archiveInputName.value;this.checkServiceNameAvailable(this.replaceSpacesWithUnderscore(E)).then(function(G){G.available?x.saveArchiveName(E):x.handleArchiveNameValidationError("unavailable")})};F.prototype.saveArchiveName=function(x){this._archiveName=x;this._currentArchiveName.textContent=x;A["default"].hideNode(this._archiveInputContainer);
A["default"].showNode(this._archiveInputEdit);this._primaryBtn.disabled=!1};F.prototype.checkServiceNameAvailable=function(x){return B["default"].request({url:c["default"].portal.portalUrl+"portals/"+(c["default"].self&&c["default"].self.user&&(c["default"].self.user.accountId||c["default"].self.user.orgId))+"/isServiceNameAvailable",content:{name:x,type:"Vector Tile Service",f:"json"}})};F.prototype.composePreviewPath=function(){var x=(this._selectedBaseStyle.hasResources?this._selectedBaseStyle.itemUrl:
this._selectedBaseStyle.url)+"/resources/styles/root.json";return c["default"].vectorTileStylePreview+"?vtStyle\x3d"+(this._selectedBaseStyle.viewStyleUrl?this._selectedBaseStyle.viewStyleUrl:x)+"\x26vtLayer\x3d"+(this._selectedReplacementItem.viewUrl?this._selectedReplacementItem.viewUrl:this._selectedReplacementItem.url)+(this.isWebMercator(Number(this.item.serviceInfo.tileInfo.spatialReference.wkid))?"\x26basemap\x3dstreets-vector":"")};F.prototype.handleArchiveNameValidationError=function(x){this._archiveInputSave.disabled=
!0;switch(x){case "invalid":A["default"].activateNode(this._nameInputError);break;case "unavailable":A["default"].activateNode(this._nameAvailableError)}};F.prototype.handleReplaceItemInformationSwitch=function(){this._replaceItemInformation=this._itemInformationSwitch.checked};F.prototype.handleChangeLayerSummaryClick=function(){this.goToStep(1)};F.prototype.handleChangeOptionSummaryClick=function(){this.goToStep(2)};F.prototype.handleLayerDropdownChange=function(){this._selectedBaseStyle=this._relatedStyles.filter(function(x){return x.option.selected})[0];
this._replaceLayerPreviewContainer.src=this.composePreviewPath()};F.prototype.handlePrimary=function(x){var E=this;x.stopPropagation();x.preventDefault();2!==this._currentStep||this._showPreviewStylesTab?4<=this._currentStep?(this.close(),this.replaceLayer().then(function(){var G;null===(G=E.telemetry)||void 0===G?void 0:G.logEvent({category:"archive option",label:"archive"===E._selectedOption?"new layer":"swap"});z["default"].showAlert("success",g["default"].substitute(f["default"].replaceLayer.layerReplaceSuccess,
{srcTitle:"\x3cb\x3e"+E.item.title+"\x3c/b\x3e"}));setTimeout(function(){window.location.reload()},4E3)})["catch"](function(G){z["default"].showAlert("error",G)})):this.goToStep(this._currentStep+1):this.goToStep(4)};F.prototype.handleHelp=function(){var x;window.open(""+c["default"].self.helpBase+((null===(x=c["default"].self.helpMap)||void 0===x?void 0:x.m["120001792"])||""))};F.prototype.handleCloseNotice=function(x){A["default"].hideNode(x.target.parentNode)};F.prototype.setPrimaryBtnText=function(x){this._primaryBtn.innerHTML=
x};F.prototype.getItemDisplayName=function(x){return"Vector Tile Service"===x.type?f["default"].items.tileLayer:x.displayName};F.prototype.populateSummary=function(){this._currentLayerTitle.innerHTML=this.item.title;this._currentLayerOwner.innerHTML=this.item.owner;this._currentLayerOwner.href=c["default"].baseUrl+"user.html?user\x3d"+this.item.owner;this._currentLayerIcon.src=this.item.iconUrl;this._currentLayerType.innerHTML=this.getItemDisplayName(this.item);"archive"===this._selectedOption?(this._archiveOptionLayerName.innerHTML=
this.replaceSpacesWithUnderscore(this._archiveName),A["default"].showNode(this._replaceOptionArchiveLabel),A["default"].hideNode(this._replaceOptionReplacementLabel)):(A["default"].showNode(this._replaceOptionReplacementLabel),A["default"].hideNode(this._replaceOptionArchiveLabel));this._replaceItemInformation?A["default"].showNode(this._replaceItemInformationLabel):A["default"].hideNode(this._replaceItemInformationLabel)};F.prototype.replaceLayer=function(){var x="archive"===this._selectedOption?
{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"}:{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._selectedReplacementItem.title),replaceMetadata:this._replaceItemInformation,f:"json"};return B["default"].request({url:this.portal.portalUrl+
"content/users/"+this.portal.user.username+"/replaceService",content:x},{usePost:!0})};return F=n.__decorate([b["default"](C["default"])],F)}()})},"arcgis-components/wrappers/ItemBrowser":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/_base/kernel ../ItemBrowser/index".split(" "),function(R,N,n,t,u,h){return function(f){function g(w){if(k[w])return k[w].exports;var v=k[w]={i:w,l:!1,exports:{}};return f[w].call(v.exports,v,v.exports,g),v.l=
!0,v.exports}var k={};return g.m=f,g.c=k,g.d=function(w,v,C){g.o(w,v)||Object.defineProperty(w,v,{enumerable:!0,get:C})},g.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},g.t=function(w,v){if((1&v&&(w=g(w)),8&v)||4&v&&"object"==typeof w&&w&&w.__esModule)return w;var C=Object.create(null);if(g.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:w}),2&v&&"string"!=typeof w)for(var A in w)g.d(C,
A,function(r){return w[r]}.bind(null,A));return C},g.n=function(w){var v=w&&w.__esModule?function(){return w["default"]}:function(){return w};return g.d(v,"a",v),v},g.o=function(w,v){return Object.prototype.hasOwnProperty.call(w,v)},g.p="",g(g.s=983)}({0:function(f,g,k){function w(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)}function v(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(m=Object.getOwnPropertySymbols(a);p<m.length;p++)0>b.indexOf(m[p])&&Object.prototype.propertyIsEnumerable.call(a,m[p])&&(c[m[p]]=a[m[p]])}return c}function C(a,b,c,m){var p,q=arguments.length,y=3>q?b:null===m?m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=
Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(p=a[B])&&(y=(3>q?p(y):3<q?p(b,c,y):p(b,c))||y);return 3<q&&y&&Object.defineProperty(b,c,y),y}function A(a,b,c,m){return new (c||(c=Promise))(function(p,q){function y(D){try{z(m.next(D))}catch(F){q(F)}}function B(D){try{z(m["throw"](D))}catch(F){q(F)}}function z(D){var F;D.done?p(D.value):(F=D.value,F instanceof c?F:new c(function(x){x(F)})).then(y,B)}z((m=m.apply(a,b||[])).next())})}function r(a,b){function c(z){return function(D){return function(F){if(m)throw new TypeError("Generator is already executing.");
for(;B;)try{if(m=1,p&&(q=2&F[0]?p["return"]:F[0]?p["throw"]||((q=p["return"])&&q.call(p),0):p.next)&&!(q=q.call(p,F[1])).done)return q;switch(p=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return B.label++,{value:F[1],done:!1};case 5:B.label++;p=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(q=B.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))B.label=F[1];else if(6===F[0]&&B.label<q[1])B.label=
q[1],q=F;else if(q&&B.label<q[2])B.label=q[2],B.ops.push(F);else{q[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(x){F=[6,x],p=0}finally{m=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([z,D])}}var m,p,q,y,B={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function l(a,b){for(var c=0,m=b.length,p=a.length;c<m;c++,p++)a[p]=
b[c];return a}k.d(g,"d",function(){return w});k.d(g,"a",function(){return e});k.d(g,"f",function(){return v});k.d(g,"c",function(){return C});k.d(g,"b",function(){return A});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(c[p]=m[p])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,
c=1,m=arguments.length;c<m;c++)for(var p in b=arguments[c])Object.prototype.hasOwnProperty.call(b,p)&&(a[p]=b[p]);return a}).apply(this,arguments)};Object.create;Object.create},100:function(f,g,k){k.d(g,"g",function(){return C});k.d(g,"k",function(){return A});k.d(g,"j",function(){return r});k.d(g,"h",function(){return l});k.d(g,"i",function(){return d});k.d(g,"c",function(){return e});k.d(g,"b",function(){return a});k.d(g,"f",function(){return b});k.d(g,"e",function(){return c});k.d(g,"d",function(){return m});
k.d(g,"a",function(){return p});k.d(g,"r",function(){return q});k.d(g,"n",function(){return y});k.d(g,"s",function(){return B});k.d(g,"o",function(){return z});k.d(g,"q",function(){return D});k.d(g,"p",function(){return F});k.d(g,"l",function(){return x});k.d(g,"m",function(){return E});var w=k(78),v=k(48),C="SELECT_ITEM",A="TOGGLE_ITEM",r="SELECT_ITEM_SINGLE",l="SELECT_ITEM_ASYNC",d="SELECT_ITEM_ASYNC_FAILED",e="DESELECT_ITEM",a="DESELECT_ALL",b="SELECT_ALL",c="SELECT_ALL_FROM_QUERY_SUCCESS",m="END_BULK_WORKFLOW",
p="CANCEL_BULK_WORKFLOW",q=function(G){return function(H,J){var M=J();if(M.settings.config.asynchronousItemSelect){H({type:l,payload:G});var K=M.settings.config.onSelect([Object(w.b)(G)]);(null==K?0:K.then)&&K.then(function(){M.settings.config.singleItemSelect?H({type:r,payload:G}):H({type:C,payload:G})},function(){H({type:d,payload:G})})}else M.settings.config.singleItemSelect?(H({type:r,payload:G}),M.settings.config.onSelect([Object(w.b)(G)])):(H({type:C,payload:G}),M.settings.config.onSelect([Object(w.b)(G)]))}},
y=function(G,H){var J=H();if(J.settings.config.disableInitiallySelectedItems){J=J.results;var M=J.selectedItems,K=J.initiallySelectedItems;Object.keys(M).map(function(L){return M[L]}).filter(function(L){return!K[L.id]}).forEach(function(L){G({type:e,payload:L})})}else G({type:a})},B=function(G){return{type:A,payload:G}},z=function(G){return function(H,J){var M=J();H({type:e,payload:G});M.settings.config.onDeselect([Object(w.b)(G)])}},D=function(){return function(G,H){var J=H();G({type:b,payload:J.ui.pagination.displayItems})}},
F=function(G){return{type:c,payload:G}},x=function(G,H){var J=null==H?void 0:H();G({type:p});null==J||J.settings.config.onBack()},E=function(G,H){var J=null==H?void 0:H();if(null==J?0:J.settings.config.onBulkAction){var M=J.settings.config.onBulkAction;J=J.results;var K=J.selectedItems,L=J.initiallySelectedItems;J=Object.keys(L).map(function(aa){return L[aa]});var U=Object.keys(K).map(function(aa){return K[aa]}),ba=J.filter(function(aa){return!K[aa.id]}),V=U.filter(function(aa){return!L[aa.id]});
G({type:v.a});G({type:m,payload:V});M({initiallySelectedItems:J,allSelectedItems:U,newlySelectedItems:V,deselectedItems:ba})}}},101:function(f,g,k){k.d(g,"a",function(){return v});k.d(g,"b",function(){return C});var w=k(0),v=function(A){return A?A.urlKey?location.protocol+"//"+A.urlKey+"."+A.customBaseUrl:location.protocol+"//"+A.portalHostname:""},C=function(A){return Object(w.a)(Object(w.a)({},A),{baseUrl:v(A)})}},117:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,
A){var r=Object(w.a),l=Object(w.a)({},A),d=A.type,e=A.typeKeywords?A.typeKeywords:[],a=null==d?void 0:d.toLowerCase(),b=!1,c=!1,m=d=!1;if("ogcfeatureserver"===a)e="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var p=-1<e.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(m=-1<e.indexOf("Table"),b=-1<e.indexOf("Route Layer"),c=-1<e.indexOf("Markup"),e=(d=-1!==e.indexOf("Spatiotemporal"))&&
m?"spatiotemporaltable":m?"table":b?"routelayer":c?"markup":d?"spatiotemporal":p?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?e=p||-1<e.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?e=-1<e.indexOf("Line")?"sceneweblayerline":-1<e.indexOf("3DObject")?"sceneweblayermultipatch":-1<e.indexOf("Point")?"sceneweblayerpoint":-1<e.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<e.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<e.indexOf("Polygon")?"sceneweblayerpolygon":
-1<e.indexOf("Building")?"sceneweblayerbuilding":-1<e.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(d=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),e=d?"elevationlayer":e?"tiledimagerylayer":"imagery"):e="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<e.indexOf("Web Tool")?"tool":"layers"}else e="web map"===
a||"cityengine web scene"===a?"maps":"web scene"===a?-1<e.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==e?void 0:e.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||
"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<e.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<e.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===
a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<e.indexOf("Explorer Mapping Application")||-1<e.indexOf("Document")?
"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":
"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===
a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return r(l,{iconURI:C+"/"+e+"16.png"})})},120:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){var r=
Object(w.a),l=Object(w.a)({},A),d,e,a="notebook"!==(null===(d=A.type)||void 0===d?void 0:d.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(e=A.type)||void 0===e?void 0:e.toLowerCase())&&(a="notebook-code-snippet-thumb.png");e=C.baseUrl+"/home/js/arcgisonline/css/images/"+a;d=(A.thumbnail&&(e=C.restUrl+"/content/items/"+A.id+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),e);return r(l,{thumbURI:d})})},121:function(f,g,k){k.d(g,"a",
function(){return C});var w=k(0);f=k(15);var v=function(A,r){return r.description?r.description.replace(/src=('|")js\/jsapi\/esri\//g,function(l){return"src\x3d"+('"'===l[4]?'"':"'")+A.baseUrl+"/home/js/jsapi/esri/"}):void 0},C=Object(f.a)(function(A,r){return Object(w.a)(Object(w.a)({},r),{patchedDescription:v(A,r)})})},122:function(f,g,k){k.d(g,"a",function(){return A});var w=k(0),v=k(124);f=k(15);var C=k(58),A=Object(f.a)(function(r,l){var d=Object(w.a),e=Object(w.a)({},l),a,b=l.type,c=l.typeKeywords||
[],m=b,p=(null==r?void 0:r.portalUser)||(null==r?void 0:r.user);if("Feature Service"===b||"Feature Collection"===b){if(m=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",p&&Object(C.d)(l,p)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",m=m+" ("+(v.a[c]||v.a[c.split("-")[0]]||v.a.en)+")"}else"Image Service"===b?(a=
-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),m=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?m="Scene Layer":"Scene Package"===b?m="Scene Layer Package":"Stream Service"===b?m="Feature Layer":"Geocoding Service"===b?m="Locator":"Microsoft Powerpoint"===b?m="Microsoft PowerPoint":"OGCFeatureServer"===b?m="OGC Feature Layer":"GeoJson"===b?m="GeoJSON":"Globe Service"===b?m="Globe Layer":"Vector Tile Service"===b?m="Tile Layer":"netCDF"===b?m="NetCDF":
"Map Service"===b?m=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?m=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?m="Big Data File Share":"Web Mapping Application"===b&&(null==c?0:c.includes("configurableApp"))?m="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?m+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||
c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(m+=" (Big Data File Share)"));return d(e,{displayName:m})})},123:function(f,g,k){k.d(g,"a",function(){return C});var w=k(0);f=k(15);var v=function(A,r){var l=[],d=A.typeKeywords?A.typeKeywords:[];return A.contentStatus&&("org_authoritative"===A.contentStatus||"public_authoritative"===A.contentStatus?l.push("authoritative"):"deprecated"===A.contentStatus&&l.push("deprecated")),A.origin&&l.push("collaboration"),A.groupDesignations&&
-1<A.groupDesignations.indexOf("livingatlas")&&l.push("livingAtlas"),-1<d.indexOf("Requires Credits")?l.push("premium"):-1<d.indexOf("Requires Subscription")&&l.push("subscriber"),-1<d.indexOf("Public Data Collection")&&((null==r?void 0:r.portalUser)||(null==r?void 0:r.user))&&l.push("publicDataCollection"),"Solution"===A.type&&-1<A.typeKeywords.indexOf("ArcGIS Solution")&&l.push("solution"),r.isPortal&&"Web Mapping Application"===A.type&&(-1<A.typeKeywords.indexOf("Story Map")&&l.push("retiredStoryMap"),
function(e){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=e.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(A)&&l.push("retiredApp")),l},C=Object(f.a)(function(A,r){return Object(w.a)(Object(w.a)({},r),{badges:v(r,A)})})},124:function(f,g,k){k.d(g,"a",function(){return w});var w={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},126:function(f,g,k){function w(A){var r=Object(v.b)(A.settings.config.customSections,A.parameters.section);return(null==r?0:r.portal)?Object(C.b)(r.portal):A.settings.utils.portal}k.d(g,"a",function(){return w});var v=k(86),C=k(101)},141:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});var w={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},v="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
148:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){var r=Object(w.a),l=Object(w.a)({},A);var d=A.thumbnail?C.restUrl+"/community/users/"+A.username+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+C.credential.token:""):void 0;return r(l,{thumbURI:d})})},15:function(f,g,k){function w(C){return function r(){for(var l=this,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return d.length>=C.length?C.call.apply(C,Object(v.g)([this],d)):function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return r.call.apply(r,Object(v.g)(Object(v.g)([l],d),a))}}}k.d(g,"a",function(){return w});var v=k(0)},150:function(f,g){f.exports=u},16:function(f,g){f.exports=R},162:function(f,g,k){function w(B,z){var D=["",{method:"get",query:z.settings.config.addRequestParameters?Object(A.a)({f:"json",q:Object(l.b)(z),num:B.num?B.num:z.settings.config.resultsPerQuery,sortOrder:z.parameters.sort.order,start:B.start?B.start:1},z.settings.config.addRequestParameters()):
{f:"json",q:Object(l.b)(z),num:B.num?B.num:z.settings.config.resultsPerQuery,sortOrder:z.parameters.sort.order,start:B.start?B.start:1}}];return Object(r.a)(c(z),m(z),p(z),q(z))(D)}function v(B,z){var D=["",{method:"get",query:{f:"json",q:Object(l.a)(B),num:0,countFields:z.join(", "),countSize:200}}];return b(B)(D)}function C(B,z){var D=["",{method:"get",query:{f:"json",q:Object(l.c)(B,z),num:0,countFields:"tags",countSize:200}}];return b(B)(D)}k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});
k.d(g,"c",function(){return C});var A=k(0),r=k(63);f=k(15);var l=k(179),d=k(356),e=k(126),a=k(86),b=function(B){return Object(r.a)(q(B),y(B),p(B))},c=Object(f.a)(function(B,z){var D=z[0],F=z[1],x=B.parameters.sort.field;return"relevance"!==x?[D,Object(A.a)(Object(A.a)({},F),{query:Object(A.a)(Object(A.a)({},F.query),{sortField:x})})]:[D,F]}),m=Object(f.a)(function(B,z){var D=z[0],F=z[1];if(B.parameters.filter.searchMapArea){var x=B.parameters.extent.area;x=x.minx+","+x.miny+","+x.maxx+","+x.maxy;
return[D,Object(A.a)(Object(A.a)({},F),{query:Object(A.a)(Object(A.a)({},F.query),{bbox:x})})]}return[D,F]}),p=Object(f.a)(function(B,z){var D=z[0],F=z[1],x=Object(d.a)(B);return x?[D,Object(A.a)(Object(A.a)({},F),{query:Object(A.a)(Object(A.a)({},F.query),{enriched:x})})]:[D,F]}),q=Object(f.a)(function(B,z){z[0];var D=z[1],F=B.parameters,x=F.section;F=F.filter;var E=Object(e.a)(B),G=E.restUrl+"/search";if("myGroups"===x&&F.group)G=E.restUrl+"/content/groups/"+F.group.id+"/search",F.groupCategories&&
(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.groupCategories.value])));else if("livingAtlas"!==x&&"Living Atlas"!==x||!B.results.livingAtlas.groupId)if(!F.orgCategories||"myOrganization"!==x&&"myContent"!==x){if(x=Object(a.b)(B.settings.config.customSections,x))Object(a.d)(x)&&F.orgCategories&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]))),(x=Object(a.c)(x))&&(G=E.restUrl+"/content/groups/"+x.id+"/search",F.groupCategories&&(G=G+"?categories\x3d"+
encodeURIComponent(JSON.stringify([F.groupCategories.value]))))}else G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]));else G=E.restUrl+"/content/groups/"+B.results.livingAtlas.groupId+"/search",F.livingAtlasCategories?(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasCategories.value])),F.livingAtlasRegion&&(G=G+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])))):F.livingAtlasRegion&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])));
return[G,D]}),y=Object(f.a)(function(B,z){var D=z[0],F=z[1],x=B.parameters.section,E=Object(a.b)(B.settings.config.customSections,x);return"myGroups"===x&&B.parameters.filter.group||("livingAtlas"===x||"Living Atlas"===x)&&B.results.livingAtlas.groupId||E&&Object(a.c)(E)?[D,Object(A.a)(Object(A.a)({},F),{query:Object(A.a)(Object(A.a)({},F.query),{countFields:F.query.countFields?F.query.countFields.replace("categories","groupcategories"):void 0})})]:[D,F]})},170:function(f,g){var k=function(){return this}();
try{k=k||(new Function("return this"))()}catch(w){"object"==typeof window&&(k=window)}f.exports=k},173:function(f,g,k){k.d(g,"a",function(){return r});k.d(g,"c",function(){return l});k.d(g,"b",function(){return d});k.d(g,"d",function(){return e});k.d(g,"h",function(){return a});k.d(g,"i",function(){return b});k.d(g,"j",function(){return c});k.d(g,"e",function(){return m});k.d(g,"g",function(){return p});k.d(g,"f",function(){return q});k.d(g,"l",function(){return y});k.d(g,"k",function(){return z});
k.d(g,"m",function(){return D});f=k(65);var w=k.n(f);f=k(56);var v=k.n(f),C=k(30),A=k(48),r="ADD_TO_FAVORITES",l="ADD_TO_FAVORITES_SUCCESS",d="ADD_TO_FAVORITES_FAIL",e="LOADING_USER_INFO",a="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",c="UPDATE_USER_INFO_FAILED",m="REMOVE_FROM_FAVORITES",p="REMOVE_FROM_FAVORITES_SUCCESS",q="REMOVE_FROM_FAVORITES_FAIL",y=function(){return function(F,x){var E=x(),G=E.parameters.filter.group,H=E.results.user.groupCategories;if("loaded"===E.results.user.status)return G&&
!H[G.id]?F(B(G.id)):(new v.a).resolve();if("failed"===E.results.user.status)return(new v.a).reject();F({type:e});H=E.settings.utils;E=H.request;H=H.portal;return w()([Object(C.r)(E,H).then(function(J){return J.groups.map(function(M){return{id:M.id,title:M.title}})}),Object(C.s)(E,H).then(function(J){return J.folders.map(function(M){return{id:M.id,title:M.title}})}),Object(C.t)(E,H,H.user.favGroupId).then(function(J){return J.items.reduce(function(M,K){return M[K.id]=!0,M},{})})].concat(G?[F(B(G.id))]:
[])).then(function(J){F({type:b,payload:{groups:J[0],folders:J[1],favorites:J[2]}})},function(J){F({type:c})})}},B=function(F){return function(x,E){var G=E().settings.utils;return Object(C.f)(G.request,G.portal,F).then(function(H){x({type:a,payload:{id:F,categorySchema:H.categorySchema}})})}},z=function(F){return function(x,E){var G=E(),H=G.settings.utils.portal,J=H.restUrl+"/content/items/"+F.id+"/share";H={f:"json",everyone:F.access&&"public"===F.access||F.sharing&&F.sharing.access&&"public"===
F.sharing.access,org:F.access&&"org"===F.access||F.sharing&&F.sharing.access&&"org"===F.sharing.access||!1,groups:[H.user.favGroupId],items:[F.id]};x({type:r,payload:F});G.settings.utils.request(J,{method:"post",query:H}).then(function(M){x({type:l,payload:F})},function(M){x({type:d,payload:F})})}},D=function(F){return function(x,E){var G=E(),H=G.settings.utils.portal,J=H.user.favGroupId,M=H.restUrl+"/content/items/"+F.id+"/unshare",K={f:"json",everyone:!1,org:!1,groups:[J],items:[F.id]};x({type:m,
payload:F});G.settings.utils.request(M,{method:"post",query:K}).then(function(L){function U(){x({type:p,payload:F})}"myFavorites"===(G=E()).parameters.section?function V(){G.settings.utils.request(H.restUrl+"/search",{query:{f:"json",q:"(id:"+F.id+") (group:"+J+")"},method:"get"}).then(function(aa){0<aa.data.total?setTimeout(function(){V()},250):(U(),x(Object(A.i)()))},function(aa){U()})}():U()},function(L){x({type:q,payload:F})})}}},179:function(f,g,k){function w(G){return Object(r.a)(l.b,x(G),E(G),
Object(d.a)(G.parameters.filter.orgGroup),Object(e.a)(G.parameters.filter.status,G.settings.utils.portal.user),F(G),Object(a.a)(G.parameters.filter.shared),Object(b.a)(G.parameters.filter.dateCreated),Object(b.b)(G.parameters.filter.dateModified),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,itemTypeFilter:G.parameters.filter.itemType,specialItemQ:G.settings.config.specialItemQ}),Object(m.b)(G.parameters.filter.tags),Object(p.a)(G.parameters.filter.origins))([G.parameters.searchString.current]).join(" ")}
function v(G){return Object(r.a)(l.b,x(G),F(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}))([G.parameters.searchString.current]).join(" ")}function C(G,H){return Object(r.a)(l.b,x(G),F(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}),Object(m.a)(H))([G.parameters.searchString.current]).join(" ")}k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});
k.d(g,"c",function(){return C});var A=k(0),r=k(63),l=k(99),d=k(398),e=k(399),a=k(400),b=k(323),c=k(265),m=k(324),p=k(401);f=k(15);var q=k(5),y=k(180),B=k(141),z=k(126),D=k(86),F=Object(f.a)(function(G,H){var J=G.parameters.filter,M=G.settings.config,K=Object(z.a)(G);switch(G.parameters.section){case "myContent":return K.user?K.user&&J.folder?Object(A.g)(Object(A.g)([],H),['(owner:"'+K.user.username+'") (ownerfolder:'+J.folder.id+")"]):Object(A.g)(Object(A.g)([],H),['(owner:"'+K.user.username+'")']):
H;case "myFavorites":return K.user?Object(A.g)(Object(A.g)([],H),["(group:"+K.user.favGroupId+")"]):H;case "myGroups":if(G.results.user.groups){if(G.parameters.filter.group)return Object(A.g)(Object(A.g)([],H),["(group:"+G.parameters.filter.group.id+")"]);J=G.results.user.groups.map(function(L){return L.id});return Object(A.g)(Object(A.g)([],H),["(group:"+J.join(" OR group:")+")"])}return H;case "myOrganization":return Object(A.g)(Object(A.g)([],H),["(orgid:"+K.id+")"]);case "subscription":return Object(A.g)(Object(A.g)([],
H),["("+G.results.provisionedContent.content.map(function(L){return"id:"+L}).join(" OR ")+")"]);case "all":return H;default:return(J=M.customSections.filter(function(L){return G.parameters.section===L.name})[0])?Object(A.g)(Object(A.g)([],H),[J.baseQuery]):H}}),x=Object(f.a)(function(G,H){var J=G.settings.config.addQueryParameters;try{if(J&&"function"==typeof J)return Object(A.g)(Object(A.g)([],H),[J(G)])}catch(M){}return H}),E=Object(f.a)(function(G,H){var J=Object(D.b)(G.settings.config.customSections,
G.parameters.section);if(J&&!Object(q.b)(G.parameters.filter.customFilter)){var M=Object.keys(G.parameters.filter.customFilter).filter(function(K){return G.parameters.filter.customFilter[K]}).reduce(function(K,L){var U,ba=parseInt(L,10),V=G.parameters.filter.customFilter[ba].value;if(null===(U=null==J?void 0:J.filters)||void 0===U?0:U[ba])if(U=Object(y.a)("children","value",J.filters[ba],V))return Object(A.g)(Object(A.g)([],K),["("+U.q+")"]);return K},[]).join(" AND ");return Object(A.g)(Object(A.g)([],
H),[""+M])}return H})},180:function(f,g,k){function w(m,p){return d("children","value",m,p)}function v(m,p){return e("children","value",m,p)}function C(m,p){return function F(y,B,z,D){var x,E=z[y];return E&&0!==E.length?Object(c.a)(Object(c.a)({},z),((x={})[y]=E.reduce(function(G,H){return-1!==D.indexOf(H[B])&&G.push(F(y,B,H,D)),G},[]),x)):Object(c.a)({},z)}("children","value",m,p)}function A(m){return function(p,q){var y,B=q[p];return B?Object(c.a)(Object(c.a)({},q),((y={})[p]=function F(D){return 0===
D.length?[]:1!==D.length||D[0][p]?1<D.length?D.reduce(function(x,E){var G;return E[p]?(x.push(Object(c.a)(Object(c.a)({},E),((G={})[p]=F(E[p]),G))),x):(x.push(E),x)},[]):F(D[0][p]):D}(B),y)):q}("children",m)}function r(m,p){return a("children",m,p)}function l(m,p){return function D(y,B,z){var F=B[y];F&&F.forEach(function(x){return D(y,x,z)});z(B)}("children",m,p)}function d(m,p,q,y){var B=q[m];return q[p]===y?q:B?B.reduce(function(z,D){return z||d(m,p,D,y)},void 0):void 0}function e(m,p,q,y){if(q=
q[m])return q.reduce(function(B,z){return z[p]===y[0]?1===y.length?z:e(m,p,z,y.slice(1)):B},void 0)}function a(m,p,q){var y;return q(Object(c.a)(Object(c.a)({},p),((y={})[m]=p[m]?p[m].map(function(B){return a(m,B,q)}):void 0,y)))}function b(m,p,q){return a(m,q,function(y){var B=y[p];if(delete y[p],y[m]){var z=y[m];return delete y[m],Object(c.a)(Object(c.a)({},y),{value:B,children:z})}return Object(c.a)(Object(c.a)({},y),{value:B})})}k.d(g,"f",function(){return w});k.d(g,"d",function(){return v});
k.d(g,"i",function(){return C});k.d(g,"e",function(){return A});k.d(g,"h",function(){return r});k.d(g,"g",function(){return l});k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});k.d(g,"c",function(){return b});var c=k(0)},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function w(){throw Error("clearTimeout has not been defined");}function v(q){if(e===setTimeout)return setTimeout(q,0);if((e===k||!e)&&setTimeout)return e=setTimeout,setTimeout(q,0);try{return e(q,
0)}catch(y){try{return e.call(null,q,0)}catch(B){return e.call(this,q,0)}}}function C(){m&&b&&(m=!1,b.length?c=b.concat(c):p=-1,c.length&&A())}function A(){if(!m){var q=v(C);m=!0;for(var y=c.length;y;){b=c;for(c=[];++p<y;)b&&b[p].run();p=-1;y=c.length}b=null;m=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===w||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(z){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(q)}}function r(q,y){this.fun=q;this.array=
y}function l(){}var d=f.exports={};try{var e="function"==typeof setTimeout?setTimeout:k}catch(q){e=k}try{var a="function"==typeof clearTimeout?clearTimeout:w}catch(q){a=w}!0;var b,c=[],m=!1,p=-1;d.nextTick=function(q){var y=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)y[B-1]=arguments[B];c.push(new r(q,y));1!==c.length||m||v(A)};r.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions=
{};d.on=l;d.addListener=l;d.once=l;d.off=l;d.removeListener=l;d.removeAllListeners=l;d.emit=l;d.prependListener=l;d.prependOnceListener=l;d.listeners=function(q){return[]};d.binding=function(q){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(q){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},193:function(f,g,k){function w(A){var r,l;return null!==(r=A.orgId)&&void 0!==r?r:null===(l=A.portal)||void 0===l?void 0:l.id}function v(A){var r;
if(!A)return!1;var l=w(A),d=null===(r=A.portal)||void 0===r?void 0:r.isPortal;return!!l&&!d&&"public_authoritative"===A.contentStatus}function C(A,r,l){return new Promise(function(d){var e=A.map(function(a){return function(b,c,m){var p="https://"+c.portalHostname+"/sharing/rest/portals/"+b;return new Promise(function(q){m(p,{method:"get",query:{f:"json"}}).then(function(y){y=y.data;var B=y.thumbnail,z=(y.allSSL?"https://":"http://")+(y.urlKey||"")+"."+y.customBaseUrl+"/";q({name:y.name,url:z+"home/",
thumbnail:B?z+"sharing/rest/portals/self/resources/"+B:"./images/group-no-image.png",id:b})})})}(a,r,l)});Promise.all(e).then(function(a){d(a.filter(function(b){return b}))})})}k.d(g,"b",function(){return w});k.d(g,"c",function(){return v});k.d(g,"a",function(){return C})},199:function(f,g,k){function w(b,c,m){return b.filter(function(p,q,y){return y.indexOf(p)===q&&!c.hasOwnProperty(p)&&-1===m.indexOf(p)})}k.d(g,"c",function(){return r});k.d(g,"d",function(){return l});k.d(g,"a",function(){return d});
k.d(g,"b",function(){return e});k.d(g,"e",function(){return a});var v=k(0),C=k(193),A=k(309),r="USER_THUMBNAILS_LOAD_START",l="USER_THUMBNAILS_LOAD_SUCCESS",d="ORG_THUMBNAILS_LOAD_START",e="ORG_THUMBNAILS_LOAD_SUCCESS",a=function(b,c){var m=c(),p=m.settings.utils,q=p.request;p=p.portal;var y=m.ui.pagination;m=y.displayItems;var B=y.userThumbnailCache,z=y.pendingUserThumbRequests,D=y.orgThumbnailCache;y=y.pendingOrgThumbRequests;D=w(m.filter(C.c).map(C.b),D,y);m=w(m.map(function(F){return F.owner}),
B,z);if(0!==m.length||0!==D.length)b({type:r,payload:m}),b({type:d,payload:D}),m=Object(A.a)(m,p,q),q=Object(C.a)(D,p,q),Promise.all([m,q]).then(function(F){var x=F[0];F=F[1];x=(null==x?void 0:x.reduce(function(E,G){var H;return Object(v.a)(Object(v.a)({},E),((H={})[G.username]={thumbnail:G.thumbURI||G.thumbnail,username:G.username,fullName:G.fullName,id:G.id},H))},{}))||{};F=(null==F?void 0:F.reduce(function(E,G){var H;return Object(v.a)(Object(v.a)({},E),((H={})[G.id]=G,H))},{}))||{};b({type:l,
payload:x});b({type:e,payload:F})})}},217:function(f,g,k){k.d(g,"a",function(){return e});var w=k(0);f=k(56);var v=k.n(f);f=k(65);var C=k.n(f);f=k(15);var A=k(99),r=k(30),l=k(325),d=k(126),e=Object(f.a)(function(a,b){var c=a.settings.utils.request,m=Object(d.a)(a),p=new v.a,q=b.data.results.filter(function(y){return y.orgId&&!a.results.allOrganizations[y.orgId]}).map(function(y){return y.orgId}).filter(A.e).map(function(y){return Object(r.m)(c,m,y)});return C()(q).then(function(y){p.resolve(Object(w.a)(Object(w.a)({},
b),{data:Object(w.a)(Object(w.a)({},b.data),{organizations:y.reduce(function(B,z){var D;return Object(w.a)(Object(w.a)({},B),((D={})[z.id]=Object(l.a)(z),D))},{})})}))},function(y){p.reject(y)}),p})},227:function(f,g,k){k.d(g,"a",function(){return C});var w=k(0),v=k(101),C=function(A){var r=Object(w.a),l=Object(w.a)({},A),d=Object(v.a)(A);return r(l,{thumbURI:A.thumbnail?d+"/sharing/rest/portals/"+A.id+"/resources/"+A.thumbnail:d+"/home/images/group-no-image.png"})}},228:function(f,g,k){k.d(g,"a",
function(){return C});var w=k(0),v=k(101),C=function(A){return Object(w.a)(Object(w.a)({},A),{orgUrl:Object(v.a)(A)+"/home/index.html"})}},231:function(f,g){f.exports=h},256:function(f,g,k){k.d(g,"a",function(){return A});k.d(g,"b",function(){return r});k.d(g,"c",function(){return l});k.d(g,"d",function(){return d});f=k(56);var w=k.n(f),v=k(30),C=k(78),A="UPDATE_PROVISIONED_CONTENT",r="UPDATE_PROVISIONED_CONTENT_FAILED",l="UPDATE_PROVISIONED_CONTENT_SUCCESS",d=function(){return function(e,a){var b=
a();if("loaded"===b.results.provisionedContent.status)return(new w.a).resolve();if("failed"===b.results.provisionedContent.status)return(new w.a).reject();e({type:A});var c=b.settings.utils,m=c.portal;return Object(v.d)(c.request,m,m.user.username).then(function(p){e({type:l,payload:p.filter(function(q){return-1<b.settings.config.allowedItemTypes.indexOf(q.type)}).map(function(q){return Object(C.a)(m,b.settings.utils.iconDir,q)})})},function(p){e({type:r})})}}},264:function(f,g,k){k.d(g,"a",function(){return d});
k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});var w=k(0);f=k(65);var v=k.n(f);f=k(56);var C=k.n(f),A=k(99),r=k(30);f=k(15);var l=k(86),d="LOADING_CUSTOM_SECTION_INFO",e="UPDATE_CUSTOM_SECTION_SCHEMAS",a="UPDATE_CUSTOM_SECTION_INFO_FAILED",b="UPDATE_CUSTOM_SECTION_GROUPS",c=function(){return function(q,y){function B(F){q({type:a})}var z=y();if("loaded"===z.results.customSections.status)return(new C.a).resolve();if("failed"===
z.results.customSections.status)return(new C.a).reject();q({type:d});var D=Object(A.f)("id",z.settings.config.customSections.filter(l.f).map(l.a).reduce(function(F,x){return Object(w.g)(Object(w.g)([],F),x)},[]));return m(q,y,D).then(function(){return z=y(),v()(D.map(function(F){return p(z,F).then(function(x){return{id:F.id,type:F.type,response:x}})}))},B).then(function(F){return q({type:e,payload:F})},B)}},m=function(q,y,B){var z=y(),D=new C.a;if(0<B.length){z=z.settings.utils;var F=z.request,x=
z.portal;B=B.filter(function(E){return"group"===E.type}).map(function(E){var G=E.id;return Object(r.e)(F,x,E.fetchGroupIdByQuery||"id:"+G).then(function(H){return H.results[0]||{}})});v()(B).then(function(E){var G=y();q({type:b,payload:{currentSection:G.parameters.section,customSections:G.settings.config.customSections,groups:E}});D.resolve()})}else D.resolve();return D},p=Object(f.a)(function(q,y){var B=q.settings.utils,z=B.request;B=B.portal;return y.staticSchema?(z=new C.a,z.resolve({categorySchema:y.staticSchema}),
z.then(function(D){return D})):"group"===y.type?Object(r.f)(z,B,y.id):Object(r.j)(z,B,y.id)})},265:function(f,g,k){function w(r){if(0<r.length){var l=C.a.filter(function(d){return-1===r.indexOf(d)}).filter(function(d){return r.reduce(function(e,a){return-1<d.indexOf(a)||e},!1)});return'((type:"'+r.join('" OR type:"')+'")'+(0<l.length?' AND (-type:"'+l.join('" AND -type:"')+'")':"")+")"}return""}k.d(g,"a",function(){return A});var v=k(0),C=k(141);f=k(15);var A=Object(f.a)(function(r,l,d){var e=l.itemTypeFilter,
a=l.allowedItemTypes;l=l.specialItemQ;return e?0<a.length&&l?Object(v.g)(Object(v.g)([],d),[r[e.value]+" AND ("+l+" OR ("+w(a)+"))"]):0<a.length||l?Object(v.g)(Object(v.g)([],d),[r[e.value]+" AND ("+(l?""+l:""+w(a))+")"]):Object(v.g)(Object(v.g)([],d),[""+r[e.value]]):l?Object(v.g)(Object(v.g)([],d),["("+l+") "+(0<a.length?"OR ("+w(a)+")":"")]):Object(v.g)(Object(v.g)([],d),[w(a)])})},266:function(f,g,k){k.d(g,"a",function(){return A});k.d(g,"b",function(){return r});k.d(g,"c",function(){return l});
k.d(g,"d",function(){return d});f=k(65);var w=k.n(f);f=k(56);var v=k.n(f),C=k(30),A="LOADING_ORG_INFO",r="UPDATE_ORG_INFO",l="UPDATE_ORG_INFO_FAILED",d=function(){return function(e,a){var b=a();if("loaded"===b.results.organization.status)return(new v.a).resolve();if("failed"===b.results.organization.status)return(new v.a).reject();e({type:A});var c=b.settings.utils;b=c.request;c=c.portal;var m=[Object(C.j)(b,c).then(function(p){return p.categorySchema}),Object(C.c)(b,c).then(function(p){return p.data.results})];
return c.isPortal&&m.push(Object(C.o)(b,c).then(function(p){return p.servers})),w()(m).then(function(p){e({type:r,payload:{schema:p[0],groups:p[1],servers:p[2]}})},function(p){e({type:l})})}}},28:function(f,g,k){(function(w,v){f.exports=function(){function C(){var Y=setTimeout;return function(){return Y(A,1)}}function A(){for(var Y=0;Y<D;Y+=2)(0,K[Y])(K[Y+1]),K[Y]=void 0,K[Y+1]=void 0;D=0}function r(Y,Q){var fa=this,S=new this.constructor(d);void 0===S[ha]&&B(S);var O=fa._state;if(O){var I=arguments[O-
1];E(function(){return y(O,S,I,fa._result)})}else p(fa,S,Y,Q);return S}function l(Y){if(Y&&"object"==typeof Y&&Y.constructor===this)return Y;var Q=new this(d);return a(Q,Y),Q}function d(){}function e(Y,Q,fa){Q.constructor===Y.constructor&&fa===r&&Q.constructor.resolve===l?function(S,O){1===O._state?c(S,O._result):2===O._state?m(S,O._result):p(O,void 0,function(I){return a(S,I)},function(I){return m(S,I)})}(Y,Q):void 0===fa?c(Y,Q):"function"==typeof fa?function(S,O,I){E(function(Z){var W=!1,ca=function(T,
P,X,da){try{T.call(P,X,da)}catch(ea){return ea}}(I,O,function(T){W||(W=!0,O!==T?a(Z,T):c(Z,T))},function(T){W||(W=!0,m(Z,T))},Z._label);!W&&ca&&(W=!0,m(Z,ca))},S)}(Y,Q,fa):c(Y,Q)}function a(Y,Q){if(Y===Q)m(Y,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(fa=Q),null===fa||"object"!==S&&"function"!==S)c(Y,Q);else{fa=void 0;try{fa=Q.then}catch(O){return void m(Y,O)}e(Y,Q,fa)}var fa,S}function b(Y){Y._onerror&&Y._onerror(Y._result);q(Y)}function c(Y,Q){void 0===Y._state&&
(Y._result=Q,Y._state=1,0!==Y._subscribers.length&&E(q,Y))}function m(Y,Q){void 0===Y._state&&(Y._state=2,Y._result=Q,E(b,Y))}function p(Y,Q,fa,S){var O=Y._subscribers,I=O.length;Y._onerror=null;O[I]=Q;O[I+1]=fa;O[I+2]=S;0===I&&Y._state&&E(q,Y)}function q(Y){var Q=Y._subscribers,fa=Y._state;if(0!==Q.length){for(var S=void 0,O=void 0,I=Y._result,Z=0;Z<Q.length;Z+=3)S=Q[Z],O=Q[Z+fa],S?y(fa,S,O,I):O(I);Y._subscribers.length=0}}function y(Y,Q,fa,S){var O="function"==typeof fa,I=void 0,Z=void 0,W=!0;if(O){try{I=
fa(S)}catch(ca){W=!1,Z=ca}if(Q===I)return void m(Q,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==Q._state||(O&&W?a(Q,I):!1===W?m(Q,Z):1===Y?c(Q,I):2===Y&&m(Q,I))}function B(Y){Y[ha]=ia++;Y._state=void 0;Y._result=void 0;Y._subscribers=[]}var z=Array.isArray?Array.isArray:function(Y){return"[object Array]"===Object.prototype.toString.call(Y)},D=0,F=void 0,x=void 0,E=function(Y,Q){K[D]=Y;K[D+1]=Q;2===(D+=2)&&(x?x(A):aa())},G="undefined"!=typeof window?window:
void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var J="undefined"==typeof self&&void 0!==w&&"[object process]"==={}.toString.call(w),M="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=Array(1E3),L,U,ba,V,aa=void 0;J?aa=function(){return w.nextTick(A)}:H?(U=0,ba=new H(A),V=document.createTextNode(""),ba.observe(V,{characterData:!0}),aa=function(){V.data=U=++U%2}):M?((L=new MessageChannel).port1.onmessage=A,aa=function(){return L.port2.postMessage(0)}):
aa=void 0===G?function(){try{var Y=Function("return this")().require("vertx");return void 0!==(F=Y.runOnLoop||Y.runOnContext)?function(){F(A)}:C()}catch(Q){return C()}}():C();var ha=Math.random().toString(36).substring(2),ia=0,ka=function(){function Y(Q,fa){this._instanceConstructor=Q;this.promise=new Q(d);this.promise[ha]||B(this.promise);z(fa)?(this.length=fa.length,this._remaining=fa.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,
this._enumerate(fa),0===this._remaining&&c(this.promise,this._result))):m(this.promise,Error("Array Methods must be provided an Array"))}return Y.prototype._enumerate=function(Q){for(var fa=0;void 0===this._state&&fa<Q.length;fa++)this._eachEntry(Q[fa],fa)},Y.prototype._eachEntry=function(Q,fa){var S=this._instanceConstructor,O=S.resolve;if(O===l){var I=O=void 0,Z=!1;try{O=Q.then}catch(W){Z=!0,I=W}O===r&&void 0!==Q._state?this._settledAt(Q._state,fa,Q._result):"function"!=typeof O?(this._remaining--,
this._result[fa]=Q):S===qa?(S=new S(d),Z?m(S,I):e(S,Q,O),this._willSettleAt(S,fa)):this._willSettleAt(new S(function(W){return W(Q)}),fa)}else this._willSettleAt(O(Q),fa)},Y.prototype._settledAt=function(Q,fa,S){var O=this.promise;void 0===O._state&&(this._remaining--,2===Q?m(O,S):this._result[fa]=S);0===this._remaining&&c(O,this._result)},Y.prototype._willSettleAt=function(Q,fa){var S=this;p(Q,void 0,function(O){return S._settledAt(1,fa,O)},function(O){return S._settledAt(2,fa,O)})},Y}(),qa=function(){function Y(Q){this[ha]=
ia++;this._result=this._state=void 0;this._subscribers=[];if(d!==Q){if("function"!=typeof Q)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Y)(function(fa,S){try{S(function(O){a(fa,O)},function(O){m(fa,O)})}catch(O){m(fa,O)}})(this,Q);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return Y.prototype["catch"]=function(Q){return this.then(null,
Q)},Y.prototype["finally"]=function(Q){var fa=this.constructor;return"function"==typeof Q?this.then(function(S){return fa.resolve(Q()).then(function(){return S})},function(S){return fa.resolve(Q()).then(function(){throw S;})}):this.then(Q,Q)},Y}();return qa.prototype.then=r,qa.all=function(Y){return(new ka(this,Y)).promise},qa.race=function(Y){var Q=this;return z(Y)?new Q(function(fa,S){for(var O=Y.length,I=0;I<O;I++)Q.resolve(Y[I]).then(fa,S)}):new Q(function(fa,S){return S(new TypeError("You must pass an array to race."))})},
qa.resolve=l,qa.reject=function(Y){var Q=new this(d);return m(Q,Y),Q},qa._setScheduler=function(Y){x=Y},qa._setAsap=function(Y){E=Y},qa._asap=E,qa.polyfill=function(){var Y=void 0;if(void 0!==v)Y=v;else if("undefined"!=typeof self)Y=self;else try{Y=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var Q=Y.Promise;if(Q){var fa=null;try{fa=Object.prototype.toString.call(Q.resolve())}catch(S){}if("[object Promise]"===fa&&!Q.cast)return}Y.Promise=
qa},qa.Promise=qa,qa}()}).call(this,k(189),k(170))},286:function(f,g,k){k.d(g,"b",function(){return e});k.d(g,"a",function(){return a});k.d(g,"c",function(){return b});var w=k(0);f=k(65);var v=k.n(f);f=k(56);var C=k.n(f),A=k(30),r=k(51),l=k(78),d=k(126),e="UPDATE_FULL_ITEM_DETAILS",a="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(c){return function(m,p){var q=p(),y=Object(d.a)(q),B=q.settings.utils.request,z=[];z.push(Object(A.r)(B,y,c.owner).then(function(F){return Object(r.m)(y,F)},function(F){throw F;
}));var D=y.restUrl+"/content/items/"+c.id;y.user&&c.owner===y.user.username&&(D=y.restUrl+"/content/users/"+y.user.username+"/items/"+c.id);z.push(Object(A.v)(B,D).then(function(F){if(F.item&&F.sharing){var x=new C.a;return Object(A.v)(B,y.restUrl+"/community/groups",{q:"id: "+F.sharing.groups.map(function(E){return'"'+E+'"'}).join(" OR ")}).then(function(E){return x.resolve(Object(w.a)(Object(w.a)({},Object(l.a)(y,q.settings.utils.iconDir,F.item)),{sharing:F.sharing,sharedToGroups:E.results}))},
function(E){return x.reject(E)}),x}return Object(l.a)(y,q.settings.utils.iconDir,F)},function(F){throw c.id;}));v()(z).then(function(F){m({type:e,payload:{item:F[1],owner:F[0]}})},function(F){m({type:a,payload:F})})}}},288:function(f,g,k){k.d(g,"a",function(){return w});k.d(g,"b",function(){return v});var w="CHANGE_SEARCH_SECTION",v=function(C){return function(A,r){var l=r();A({type:w,payload:{newSection:C,customSections:l.settings.config.customSections,customSectionGroupSort:l.results.customSections.groupSort}})}}},
290:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});k.d(g,"d",function(){return C});k.d(g,"c",function(){return A});var w="CHANGE_SORT_ORDER",v="CHANGE_SORT_FIELD",C=function(r){return{type:w,payload:r}},A=function(r){return{type:v,payload:r}}},295:function(f,g,k){k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});k.d(g,"d",function(){return e});var w=k(162),v=k(78),C=k(217),A=k(199),r="CHANGE_PAGE_SUCCESS",l="CHANGE_PAGE_FAIL",
d="CHANGING_PAGE",e=function(a){return function(b,c){var m=c();b({type:d,payload:a});var p=m.settings.utils,q=p.portal,y=p.iconDir;p=m.settings.utils.request;var B=m.settings.config.resultsPerQuery;B=Object(w.b)({num:B,start:(a-1)*B+1},m);p(B[0],B[1]).then(Object(C.a)(m),function(z){return b({type:l,payload:{err:z}})}).then(function(z){b({type:r,payload:{organizations:z.data.organizations,displayItems:z.data.results.map(function(D){return Object(v.a)(q,y,D)}),page:a}});b(A.e)},function(z){return b({type:l,
payload:{err:z}})})}}},30:function(f,g,k){function w(K){return K.reduce(function(L,U){return U&&U.relatedItems?L.concat(U.relatedItems.map(function(ba){return ba})):L},[])}function v(K,L,U){return K(L,{query:Object(r.a)({f:"json"},U)}).then(function(ba){return ba.data})}function C(K,L){void 0===L&&(L=100);for(var U=[],ba=0;ba<Math.ceil(K.length/L);ba++)U.push(K.slice(ba*L,(ba+1)*L));return U.filter(function(V){return 0<V.length})}function A(K){var L=K.itemIds,U=K.request,ba=K.groupIds,V=K.portal.restUrl+
"/content/itemsgroups";return new l.Promise(function(aa,ha){U(V,{method:"get",query:{f:"json",items:L,groups:ba}}).then(function(ia){aa(ia.data)},ha)})}k.d(g,"u",function(){return d});k.d(g,"n",function(){return e});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});k.d(g,"j",function(){return m});k.d(g,"o",function(){return p});k.d(g,"l",function(){return q});k.d(g,"k",function(){return y});k.d(g,"m",function(){return B});k.d(g,"c",function(){return z});
k.d(g,"d",function(){return D});k.d(g,"r",function(){return F});k.d(g,"s",function(){return x});k.d(g,"t",function(){return E});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return J});k.d(g,"v",function(){return v});k.d(g,"a",function(){return C});k.d(g,"i",function(){return A});k.d(g,"b",function(){return M});var r=k(0),l=k(28),d=function(K){return function(L,U){return K({url:L,content:U.query},{usePost:"post"===U.method}).then(function(ba){return{data:ba}})}},
e=function(K,L,U){return v(K,L.restUrl+"/portals/self",{culture:U,"default":!0})},a=function(K,L,U){return v(K,L.restUrl+"/content/items/"+U+"/data")},b=function(K,L,U,ba){return v(K,L.restUrl+"/community/groups",Object(r.a)({q:U},ba))},c=function(K,L,U){return v(K,L.restUrl+"/community/groups/"+U+"/categorySchema")},m=function(K,L,U){return v(K,L.restUrl+"/portals/"+(U||L.id)+"/categorySchema")},p=function(K,L){return v(K,L.restUrl+"/portals/"+L.id+"/servers")},q=function(K,L,U,ba){return K(L.restUrl+
"/portals/"+(U||L.id)+"/collaborationsSummary",ba)},y=function(K,L,U,ba){return K(L.restUrl+"/portals/"+(U||L.id)+"/collaboratedItems",ba)},B=function(K,L,U){return v(K,location.protocol+"//"+L.portalHostname+"/sharing/rest/portals/"+(U||"self"))},z=function(K,L,U){return K(L.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+L.id+" AND access:public",num:100,start:U||1,sortField:"title",sortOrder:"asc"}}).then(function(ba){return ba.data.total>ba.data.start+ba.data.num?z(K,L,ba.data.start+ba.data.num).then(function(V){return Object(r.a)(Object(r.a)({},
V),{data:Object(r.a)(Object(r.a)({},V.data),{results:ba.data.results.concat(V.data.results)})})}):ba})},D=function(K,L,U,ba){return K(L.restUrl+"/community/users/"+U+"/provisionedListings",{query:{f:"json",num:100,start:ba||1}}).then(function(V){var aa=l.Promise.all(V.data.provisionedListings.filter(function(ia){return ia.itemId}).map(function(ia){return(new l.Promise(function(ka,qa){K(L.restUrl+"/content/items/"+ia.itemId,{method:"get",query:{f:"json"}}).then(function(Y){ka(Y.data)},qa)}))["catch"](function(ka){return 0})})),
ha=V.data.provisionedListings.map(function(ia){return v(K,L.restUrl+"/content/items/"+(ia.id||ia.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ka){return ka},function(ka){})});return V.data.total>V.data.start+V.data.num?D(K,L,U,V.data.start+V.data.num).then(function(ia){return l.Promise.all([aa].concat(ha)).then(function(ka){return ka[0].results.concat(w(ka.slice(1))).concat(ia)})}):l.Promise.all([aa].concat(ha)).then(function(ia){return ia[0].filter(function(ka){return void 0!==
ka}).concat(w(ia.slice(1)))})})},F=function(K,L,U){return v(K,L.restUrl+"/community/users/"+(U||L.user.username))},x=function(K,L,U){return v(K,L.restUrl+"/content/users/"+(U||L.user.username),{num:1})},E=function(K,L,U){return v(K,L.restUrl+"/content/groups/"+U)},G=function(K,L,U){return v(K,L.restUrl+"/community/groups",U)},H=function(K,L){return v(K,L.restUrl+"/portals/self/settings")},J=function(K,L){return v(K,L.restUrl+"/portals/self/trustedOrgs",{num:100})},M=function(K,L){return void 0===
L&&(L=","),K.map(function(U){return U.id}).join(L)}},309:function(f,g,k){function w(v,C,A){return Promise.all(v.map(function(r){return function(l,d,e){return new Promise(function(a,b){e(d.restUrl+"/community/users/"+l,{method:"get",query:{f:"json"}}).then(function(c){return a(null==c?void 0:c.data)},b)})}(r,C,A)}))}k.d(g,"a",function(){return w})},323:function(f,g,k){k.d(g,"b",function(){return v});k.d(g,"a",function(){return C});var w=k(0);f=k(15);f=Object(f.a)(function(A,r,l){return r?Object(w.g)(Object(w.g)([],
l),["("+A+":["+(r.start+" TO "+r.end+"])")]):l});var v=f("modified"),C=f("uploaded")},324:function(f,g,k){k.d(g,"b",function(){return v});k.d(g,"a",function(){return C});var w=k(0);f=k(15);var v=Object(f.a)(function(A,r){if(A){var l=Object.keys(A);if(0<l.length)return Object(w.g)(Object(w.g)([],r),["tags:("+l.join(" AND ")+")"])}return r}),C=Object(f.a)(function(A,r){return 2<A.length?Object(w.g)(Object(w.g)([],r),["tags:("+A+"* OR "+A+")"]):r})},325:function(f,g,k){k.d(g,"a",function(){return v});
f=k(63);g=k(101);var w=k(227);k=k(228);var v=Object(f.a)(w.a,k.a,g.b)},326:function(f,g,k){k.d(g,"a",function(){return r});k.d(g,"b",function(){return l});f=k(56);var w=k.n(f),v=k(30),C=k(325),A=k(150),r="UPDATE_PORTAL_SELF",l=function(){return function(d,e){var a=e(),b=a.settings.utils,c=b.portal;b=b.request;var m=c.user&&c.user.culture?c.user.culture:A.locale;return a.settings.utils.self?(new w.a).resolve(a.settings.utils.self):Object(v.n)(b,c,m).then(function(p){p=Object(C.a)(p);return d({type:r,
payload:{self:p,config:a.settings.config}}),p})}}},327:function(f,g,k){k.d(g,"a",function(){return l});k.d(g,"b",function(){return d});k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});var w=k(0),v=k(36);f=k(56);var C=k.n(f),A=k(150),r=k(402),l="LOADING_LIVING_ATLAS_INFO",d="UPDATE_LIVING_ATLAS_INFO",e="FETCH_LIVING_ATLAS_INFO_FAILED",a=function(b){return function(c,m){var p=m();if("loaded"===p.results.livingAtlas.status)return(new C.a).resolve();if("failed"===p.results.livingAtlas.status)return(new C.a).reject();
c({type:l});p=p.settings.utils;var q=p.portal;return Object(r.a)(p.request,q,b,q.user&&q.user.culture?q.user.culture:A.locale).then(function(y){c({type:d,payload:Object(w.a)(Object(w.a)({},y),{schema:y.schema.map(function(B){return"region"===B.title?Object(w.a)(Object(w.a)({},B),{displayName:v.regions}):B})})})},function(y){c({type:e})})}}},328:function(f,g,k){k.d(g,"a",function(){return r});var w=k(30),v=k(49);f=k(65);var C=k.n(f),A=function(l,d,e){l({type:"LOADING_COLLABORATIONS"});var a=[];Object.keys(e).forEach(function(c){a[c]=
[];0<e[c].participants.length&&e[c].participants.forEach(function(m){a[m.value]=[]})});var b=Object.keys(a).map(function(c){c=c.split("__");var m=c[0],p=c[1]?c[1]:"";return Object(w.k)(d.settings.utils.request,d.settings.utils.portal,d.settings.utils.portal.id,{query:""!==p?{collaborationId:m,participantId:p,f:"json"}:{collaborationId:m,f:"json"}}).then(function(q){(q.data.collaboratedItems||q.collaboratedItems).forEach(function(y){if(p){var B=m+"__"+p;e[m].participants.filter(function(z){return z.value===
B})[0].items.push(Object.keys(y)[0])}else e[m].items.push(Object.keys(y)[0])})},function(){return l({type:"LOADING_COLLABORATIONS_FAILED"})})});return C()(b).then(function(){l(Object(v.s)(e));l({type:"LOADING_COLLABORATIONS_SUCCESS",payload:e})})},r=function(l,d){if(l({type:"LOADING_COLLABORATIONS"}),d&&d.parameters&&d.parameters.filter&&d.parameters.filter.origins&&0<Object.keys(d.parameters.filter.origins).length){var e=d.parameters.filter.origins;return l(Object(v.s)(e)),{type:"LOADING_COLLABORATIONS_SUCCESS",
payload:e}}return Object(w.l)(d.settings.utils.request,d.settings.utils.portal,d.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(a){var b=[];a.data&&a.data.collaborations&&a.data.collaborations.forEach(function(c){var m=c.collaborationId,p=c.collaborationName.trim();b[m]={value:m,label:p,addClass:"",childOf:"",selected:!1,participants:[],items:[]};c.participants&&(b[m].participants=c.participants.map(function(q){return 1===(q=Object.keys(q).map(function(y){var B=
q[y].trim();return{value:m+"__"+y,label:B,childOf:m,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?q[0]:q}))});A(l,d,b).then(function(){return l(Object(v.s)(b))},function(){return l({type:"LOADING_COLLABORATIONS_FAILED"})})},function(a){return l({type:"LOADING_COLLABORATIONS_FAILED",payload:a})})}},329:function(f,g,k){function w(v){return"string"==typeof v?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(v):!!v.filters&&-1<v.filters.indexOf("tags")}
k.d(g,"a",function(){return w})},336:function(f,g,k){(function(w,v){function C(pa,ya){return pa.set(ya[0],ya[1]),pa}function A(pa,ya){return pa.add(ya),pa}function r(pa,ya,ua,na){var ra=-1,wa=pa?pa.length:0;for(na&&wa&&(ua=pa[++ra]);++ra<wa;)ua=ya(ua,pa[ra],ra,pa);return ua}function l(pa){var ya=!1;if(null!=pa&&"function"!=typeof pa.toString)try{ya=!!(pa+"")}catch(ua){}return ya}function d(pa){var ya=-1,ua=Array(pa.size);return pa.forEach(function(na,ra){ua[++ya]=[ra,na]}),ua}function e(pa,ya){return function(ua){return pa(ya(ua))}}
function a(pa){var ya=-1,ua=Array(pa.size);return pa.forEach(function(na){ua[++ya]=na}),ua}function b(pa){var ya=-1,ua=pa?pa.length:0;for(this.clear();++ya<ua;){var na=pa[ya];this.set(na[0],na[1])}}function c(pa){var ya=-1,ua=pa?pa.length:0;for(this.clear();++ya<ua;){var na=pa[ya];this.set(na[0],na[1])}}function m(pa){var ya=-1,ua=pa?pa.length:0;for(this.clear();++ya<ua;){var na=pa[ya];this.set(na[0],na[1])}}function p(pa){this.__data__=new c(pa)}function q(pa,ya){var ua=Ea(pa)||function(Fa){return!!Fa&&
"object"==typeof Fa&&M(Fa)&&Z.call(Fa,"callee")&&(!da.call(Fa,"callee")||"[object Arguments]"==W.call(Fa))}(pa)?function(Fa,Da){for(var Ca=-1,Ia=Array(Fa);++Ca<Fa;)Ia[Ca]=Da(Ca);return Ia}(pa.length,String):[],na=ua.length,ra=!!na,wa;for(wa in pa)!ya&&!Z.call(pa,wa)||ra&&("length"==wa||G(wa,na))||ua.push(wa);return ua}function y(pa,ya,ua){var na=pa[ya];Z.call(pa,ya)&&(na===ua||na!=na&&ua!=ua)&&(void 0!==ua||ya in pa)||(pa[ya]=ua)}function B(pa,ya){for(var ua=pa.length;ua--;){var na=pa[ua][0];if(na===
ya||na!=na&&ya!=ya)return ua}return-1}function z(pa,ya,ua,na,ra,wa,Fa){var Da;if(na&&(Da=wa?na(pa,ra,wa,Fa):na(pa)),void 0!==Da)return Da;if(!L(pa))return pa;if(ra=Ea(pa)){if(Da=function(Ga){var Ma=Ga.length,Ha=Ga.constructor(Ma);Ma&&"string"==typeof Ga[0]&&Z.call(Ga,"index")&&(Ha.index=Ga.index,Ha.input=Ga.input);return Ha}(pa),!ya)return function(Ga,Ma){var Ha=-1,Ka=Ga.length;for(Ma||(Ma=Array(Ka));++Ha<Ka;)Ma[Ha]=Ga[Ha];return Ma}(pa,Da)}else{var Ca=xa(pa),Ia="[object Function]"==Ca||"[object GeneratorFunction]"==
Ca;if(ta(pa))return function(Ga,Ma){if(Ma)return Ga.slice();var Ha=new Ga.constructor(Ga.length);return Ga.copy(Ha),Ha}(pa,ya);if("[object Object]"==Ca||"[object Arguments]"==Ca||Ia&&!wa){if(l(pa))return wa?pa:{};if(Da=function(Ga){return"function"!=typeof Ga.constructor||H(Ga)?{}:(Ma=P(Ga),L(Ma)?X(Ma):{});var Ma}(Ia?{}:pa),!ya)return function(Ga,Ma){return F(Ga,Ja(Ga),Ma)}(pa,function(Ga,Ma){return Ga&&F(Ma,U(Ma),Ga)}(Da,pa))}else{if(!ha[Ca])return wa?pa:{};Da=function(Ga,Ma,Ha,Ka){var Na=Ga.constructor;
switch(Ma){case "[object ArrayBuffer]":return D(Ga);case "[object Boolean]":case "[object Date]":return new Na(+Ga);case "[object DataView]":return function(Pa,Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.byteLength)}(Ga,Ka);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Pa,
Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.length)}(Ga,Ka);case "[object Map]":return function(Pa,Ra,Sa){return r(Ra?Sa(d(Pa),!0):d(Pa),C,new Pa.constructor)}(Ga,Ka,Ha);case "[object Number]":case "[object String]":return new Na(Ga);case "[object RegExp]":return function(Pa){var Ra=new Pa.constructor(Pa.source,ba.exec(Pa));return Ra.lastIndex=Pa.lastIndex,Ra}(Ga);case "[object Set]":return function(Pa,Ra,Sa){return r(Ra?Sa(a(Pa),!0):a(Pa),A,new Pa.constructor)}(Ga,
Ka,Ha);case "[object Symbol]":return Qa=Ga,Oa?Object(Oa.call(Qa)):{}}var Qa}(pa,Ca,z,ya)}}Fa||(Fa=new p);if(wa=Fa.get(pa))return wa;if(Fa.set(pa,Da),!ra)var La=ua?function(Ga){var Ma=Ja,Ha=U(Ga);if(!Ea(Ga)){Ga=Ma(Ga);Ma=-1;for(var Ka=Ga.length,Na=Ha.length;++Ma<Ka;)Ha[Na+Ma]=Ga[Ma]}return Ha}(pa):U(pa);return function(Ga,Ma){for(var Ha=-1,Ka=Ga?Ga.length:0;++Ha<Ka&&!1!==Ma(Ga[Ha],Ha,Ga););}(La||pa,function(Ga,Ma){La&&(Ga=pa[Ma=Ga]);y(Da,Ma,z(Ga,ya,ua,na,Ma,pa,Fa))}),Da}function D(pa){var ya=new pa.constructor(pa.byteLength);
return(new T(ya)).set(new T(pa)),ya}function F(pa,ya,ua,na){ua||(ua={});for(var ra=-1,wa=ya.length;++ra<wa;){var Fa=ya[ra],Da=na?na(ua[Fa],pa[Fa],Fa,ua,pa):void 0;y(ua,Fa,void 0===Da?pa[Fa]:Da)}return ua}function x(pa,ya){var ua,na=pa.__data__;return("string"==(ua=typeof ya)||"number"==ua||"symbol"==ua||"boolean"==ua?"__proto__"!==ya:null===ya)?na["string"==typeof ya?"string":"hash"]:na.map}function E(pa,ya){var ua=null==pa?void 0:pa[ya];a:{var na=!(!L(ua)||(ra=ua,O&&O in ra))&&(K(ua)||l(ua)?ca:V).test(J(ua));
break a;var ra}return na?ua:void 0}function G(pa,ya){return!!(ya=null==ya?9007199254740991:ya)&&("number"==typeof pa||aa.test(pa))&&-1<pa&&0==pa%1&&pa<ya}function H(pa){var ya=pa&&pa.constructor;return pa===("function"==typeof ya&&ya.prototype||fa)}function J(pa){if(null!=pa){try{return I.call(pa)}catch(ya){}return pa+""}return""}function M(pa){var ya;if(ya=null!=pa)ya=pa.length,ya="number"==typeof ya&&-1<ya&&0==ya%1&&9007199254740991>=ya;return ya&&!K(pa)}function K(pa){pa=L(pa)?W.call(pa):"";return"[object Function]"==
pa||"[object GeneratorFunction]"==pa}function L(pa){var ya=typeof pa;return!!pa&&("object"==ya||"function"==ya)}function U(pa){if(M(pa))pa=q(pa);else if(H(pa)){var ya=[],ua;for(ua in Object(pa))Z.call(pa,ua)&&"constructor"!=ua&&ya.push(ua);pa=ya}else pa=ja(pa);return pa}var ba=/\w*$/,V=/^\[object .+?Constructor\]$/,aa=/^(?:0|[1-9]\d*)$/,ha={};ha["[object Arguments]"]=ha["[object Array]"]=ha["[object ArrayBuffer]"]=ha["[object DataView]"]=ha["[object Boolean]"]=ha["[object Date]"]=ha["[object Float32Array]"]=
ha["[object Float64Array]"]=ha["[object Int8Array]"]=ha["[object Int16Array]"]=ha["[object Int32Array]"]=ha["[object Map]"]=ha["[object Number]"]=ha["[object Object]"]=ha["[object RegExp]"]=ha["[object Set]"]=ha["[object String]"]=ha["[object Symbol]"]=ha["[object Uint8Array]"]=ha["[object Uint8ClampedArray]"]=ha["[object Uint16Array]"]=ha["[object Uint32Array]"]=!0;ha["[object Error]"]=ha["[object Function]"]=ha["[object WeakMap]"]=!1;var ia="object"==typeof self&&self&&self.Object===Object&&self;
ia="object"==typeof w&&w&&w.Object===Object&&w||ia||Function("return this")();var ka=g&&!g.nodeType&&g,qa=ka&&"object"==typeof v&&v&&!v.nodeType&&v;qa=qa&&qa.exports===ka;var Y;ka=Array.prototype;var Q=Function.prototype,fa=Object.prototype,S=ia["__core-js_shared__"],O=(Y=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",I=Q.toString,Z=fa.hasOwnProperty,W=fa.toString,ca=RegExp("^"+I.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$");qa=qa?ia.Buffer:void 0;Y=ia.Symbol;var T=ia.Uint8Array,P=e(Object.getPrototypeOf,Object),X=Object.create,da=fa.propertyIsEnumerable,ea=ka.splice;ka=Object.getOwnPropertySymbols;qa=qa?qa.isBuffer:void 0;var ja=e(Object.keys,Object);Q=E(ia,"DataView");var la=E(ia,"Map");S=E(ia,"Promise");var ma=E(ia,"Set");ia=E(ia,"WeakMap");var oa=E(Object,"create"),sa=J(Q),va=J(la),za=J(S),Aa=J(ma),Ba=J(ia),Oa=(Y=Y?Y.prototype:void 0)?Y.valueOf:void 0;b.prototype.clear=function(){this.__data__=oa?oa(null):
{}};b.prototype["delete"]=function(pa){return this.has(pa)&&delete this.__data__[pa]};b.prototype.get=function(pa){var ya=this.__data__;return oa?(pa=ya[pa],"__lodash_hash_undefined__"===pa?void 0:pa):Z.call(ya,pa)?ya[pa]:void 0};b.prototype.has=function(pa){var ya=this.__data__;return oa?void 0!==ya[pa]:Z.call(ya,pa)};b.prototype.set=function(pa,ya){return this.__data__[pa]=oa&&void 0===ya?"__lodash_hash_undefined__":ya,this};c.prototype.clear=function(){this.__data__=[]};c.prototype["delete"]=function(pa){var ya=
this.__data__;pa=B(ya,pa);return!(0>pa)&&(pa==ya.length-1?ya.pop():ea.call(ya,pa,1),!0)};c.prototype.get=function(pa){var ya=this.__data__;pa=B(ya,pa);return 0>pa?void 0:ya[pa][1]};c.prototype.has=function(pa){return-1<B(this.__data__,pa)};c.prototype.set=function(pa,ya){var ua=this.__data__,na=B(ua,pa);return 0>na?ua.push([pa,ya]):ua[na][1]=ya,this};m.prototype.clear=function(){this.__data__={hash:new b,map:new (la||c),string:new b}};m.prototype["delete"]=function(pa){return x(this,pa)["delete"](pa)};
m.prototype.get=function(pa){return x(this,pa).get(pa)};m.prototype.has=function(pa){return x(this,pa).has(pa)};m.prototype.set=function(pa,ya){return x(this,pa).set(pa,ya),this};p.prototype.clear=function(){this.__data__=new c};p.prototype["delete"]=function(pa){return this.__data__["delete"](pa)};p.prototype.get=function(pa){return this.__data__.get(pa)};p.prototype.has=function(pa){return this.__data__.has(pa)};p.prototype.set=function(pa,ya){var ua=this.__data__;if(ua instanceof c){ua=ua.__data__;
if(!la||199>ua.length)return ua.push([pa,ya]),this;ua=this.__data__=new m(ua)}return ua.set(pa,ya),this};var Ja=ka?e(ka,Object):function(){return[]},xa=function(pa){return W.call(pa)};(Q&&"[object DataView]"!=xa(new Q(new ArrayBuffer(1)))||la&&"[object Map]"!=xa(new la)||S&&"[object Promise]"!=xa(S.resolve())||ma&&"[object Set]"!=xa(new ma)||ia&&"[object WeakMap]"!=xa(new ia))&&(xa=function(pa){var ya=W.call(pa);if(pa=(pa="[object Object]"==ya?pa.constructor:void 0)?J(pa):void 0)switch(pa){case sa:return"[object DataView]";
case va:return"[object Map]";case za:return"[object Promise]";case Aa:return"[object Set]";case Ba:return"[object WeakMap]"}return ya});var Ea=Array.isArray,ta=qa||function(){return!1};v.exports=function(pa){return z(pa,!0,!0)}}).call(this,k(170),k(366)(f))},356:function(f,g,k){function w(C){var A;C=Object(v.a)(C);return!0===(null===(A=C.portalProperties)||void 0===A?void 0:A.semanticSearchEnabled)||C.portalUser&&!C.portalUser.orgId}k.d(g,"a",function(){return w});var v=k(126)},357:function(f,g,k){k.d(g,
"a",function(){return v});k.d(g,"b",function(){return C});var w=k(286),v="VIEW_ITEM_DETAILS",C=function(A){return function(r){r({type:v,payload:A});r(Object(w.c)(A))}}},36:function(f,g){f.exports=N},366:function(f,g){f.exports=function(k){return k.webpackPolyfill||(k.deprecate=function(){},k.paths=[],k.children||(k.children=[]),Object.defineProperty(k,"loaded",{enumerable:!0,get:function(){return k.l}}),Object.defineProperty(k,"id",{enumerable:!0,get:function(){return k.i}}),k.webpackPolyfill=1),
k}},386:function(f,g,k){(function(w,v){function C(ua,na,ra){switch(ra.length){case 0:return ua.call(na);case 1:return ua.call(na,ra[0]);case 2:return ua.call(na,ra[0],ra[1]);case 3:return ua.call(na,ra[0],ra[1],ra[2])}return ua.apply(na,ra)}function A(ua){var na=-1,ra=null==ua?0:ua.length;for(this.clear();++na<ra;){var wa=ua[na];this.set(wa[0],wa[1])}}function r(ua){var na=-1,ra=null==ua?0:ua.length;for(this.clear();++na<ra;){var wa=ua[na];this.set(wa[0],wa[1])}}function l(ua){var na=-1,ra=null==
ua?0:ua.length;for(this.clear();++na<ra;){var wa=ua[na];this.set(wa[0],wa[1])}}function d(ua){this.size=(this.__data__=new r(ua)).size}function e(ua,na,ra){(void 0===ra||x(ua[na],ra))&&(void 0!==ra||na in ua)||b(ua,na,ra)}function a(ua,na){for(var ra=ua.length;ra--;)if(x(ua[ra][0],na))return ra;return-1}function b(ua,na,ra){"__proto__"==na&&oa?oa(ua,na,{configurable:!0,enumerable:!0,value:ra,writable:!0}):ua[na]=ra}function c(ua){if(null==ua)ua=void 0===ua?"[object Undefined]":"[object Null]";else if(ma&&
ma in Object(ua)){var na=I.call(ua,ma),ra=ua[ma];try{ua[ma]=void 0;var wa=!0}catch(Da){}var Fa=W.call(ua);wa&&(na?ua[ma]=ra:delete ua[ma]);ua=Fa}else ua=W.call(ua);return ua}function m(ua){return M(ua)&&"[object Arguments]"==c(ua)}function p(ua){return!(!J(ua)||Z&&Z in ua)&&(G(ua)?T:U).test(function(na){if(null!=na){try{return O.call(na)}catch(ra){}return na+""}return""}(ua))}function q(ua,na,ra,wa,Fa){ua!==na&&Oa(na,function(Da,Ca){if(Fa||(Fa=new d),J(Da))!function(La,Ga,Ma,Ha,Ka,Na,Qa){var Pa=F(La,
Ma),Ra=F(Ga,Ma),Sa=Qa.get(Ra);if(Sa)return void e(La,Ma,Sa);Ga=Na?Na(Pa,Ra,Ma+"",La,Ga,Qa):void 0;if(Sa=void 0===Ga){var Va=Ea(Ra),Ua=!Va&&ta(Ra),Ta=!Va&&!Ua&&pa(Ra);Ga=Ra;Va||Ua||Ta?Ea(Pa)?Ga=Pa:M(cb=Pa)&&E(cb)?Ga=function(Za,$a){var Ya=-1,bb=Za.length;for($a||($a=Array(bb));++Ya<bb;)$a[Ya]=Za[Ya];return $a}(Pa):Ua?(Sa=!1,Ga=function(Za,$a){if($a)return Za.slice();var Ya=Za.length;Ya=X?X(Ya):new Za.constructor(Ya);return Za.copy(Ya),Ya}(Ra,!0)):Ta?(Sa=!1,Xa=Ra,ab=(Wa=Xa.buffer,db=new Wa.constructor(Wa.byteLength),
(new P(db)).set(new P(Wa)),db),Ga=new Xa.constructor(ab,Xa.byteOffset,Xa.length)):Ga=[]:function(Za){if(!M(Za)||"[object Object]"!=c(Za))return!1;Za=da(Za);if(null===Za)return!0;Za=I.call(Za,"constructor")&&Za.constructor;return"function"==typeof Za&&Za instanceof Za&&O.call(Za)==ca}(Ra)||xa(Ra)?(Ga=Pa,xa(Pa)?Ga=function(Za){var $a=K(Za),Ya=void 0,bb=!Ya;Ya||(Ya={});for(var eb=-1,fb=$a.length;++eb<fb;){var gb=$a[eb],hb=void 0;void 0===hb&&(hb=Za[gb]);if(bb)b(Ya,gb,hb);else{var ib=Ya,jb=ib[gb];I.call(ib,
gb)&&x(jb,hb)&&(void 0!==hb||gb in ib)||b(ib,gb,hb)}}return Ya}(Pa):J(Pa)&&!G(Pa)||(Ga=function(Za){return"function"!=typeof Za.constructor||D(Za)?{}:Ba(da(Za))}(Ra))):Sa=!1}var Xa,ab,Wa,db,cb;Sa&&(Qa.set(Ra,Ga),Ka(Ga,Ra,Ha,Na,Qa),Qa["delete"](Ra));e(La,Ma,Ga)}(ua,na,Ca,ra,q,wa,Fa);else{var Ia=wa?wa(F(ua,Ca),Da,Ca+"",ua,na,Fa):void 0;void 0===Ia&&(Ia=Da);e(ua,Ca,Ia)}},K)}function y(ua,na){var ra,wa=ua.__data__;return("string"==(ra=typeof na)||"number"==ra||"symbol"==ra||"boolean"==ra?"__proto__"!==
na:null===na)?wa["string"==typeof na?"string":"hash"]:wa.map}function B(ua,na){var ra=null==ua?void 0:ua[na];return p(ra)?ra:void 0}function z(ua,na){var ra=typeof ua;return!!(na=null==na?9007199254740991:na)&&("number"==ra||"symbol"!=ra&&ba.test(ua))&&-1<ua&&0==ua%1&&ua<na}function D(ua){var na=ua&&ua.constructor;return ua===("function"==typeof na&&na.prototype||S)}function F(ua,na){if(("constructor"!==na||"function"!=typeof ua[na])&&"__proto__"!=na)return ua[na]}function x(ua,na){return ua===na||
ua!=ua&&na!=na}function E(ua){return null!=ua&&H(ua.length)&&!G(ua)}function G(ua){if(!J(ua))return!1;ua=c(ua);return"[object Function]"==ua||"[object GeneratorFunction]"==ua||"[object AsyncFunction]"==ua||"[object Proxy]"==ua}function H(ua){return"number"==typeof ua&&-1<ua&&0==ua%1&&9007199254740991>=ua}function J(ua){var na=typeof ua;return null!=ua&&("object"==na||"function"==na)}function M(ua){return null!=ua&&"object"==typeof ua}function K(ua){if(E(ua)){var na=Ea(ua),ra=!na&&xa(ua),wa=!na&&!ra&&
ta(ua),Fa=!na&&!ra&&!wa&&pa(ua);if(na=na||ra||wa||Fa){ra=ua.length;for(var Da=String,Ca=-1,Ia=Array(ra);++Ca<ra;)Ia[Ca]=Da(Ca);ra=Ia}else ra=[];Da=ra.length;for(var La in ua)na&&("length"==La||wa&&("offset"==La||"parent"==La)||Fa&&("buffer"==La||"byteLength"==La||"byteOffset"==La)||z(La,Da))||ra.push(La);ua=ra}else if(J(ua)){La=D(ua);Fa=[];for(wa in ua)("constructor"!=wa||!La&&I.call(ua,wa))&&Fa.push(wa);ua=Fa}else{La=[];if(null!=ua)for(Fa in Object(ua))La.push(Fa);ua=La}return ua}function L(ua){return ua}
var U=/^\[object .+?Constructor\]$/,ba=/^(?:0|[1-9]\d*)$/,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0;V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=
V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var aa="object"==typeof w&&w&&w.Object===Object&&w,ha="object"==typeof self&&self&&self.Object===Object&&self;ha=aa||ha||Function("return this")();var ia=g&&!g.nodeType&&g,ka=ia&&"object"==typeof v&&v&&!v.nodeType&&v;aa=(ia=ka&&ka.exports===ia)&&aa.process;a:{try{var qa=ka&&ka.require&&ka.require("util").types||aa&&aa.binding&&aa.binding("util");break a}catch(ua){}qa=void 0}qa=qa&&qa.isTypedArray;
var Y,Q,fa;aa=Array.prototype;var S=Object.prototype;ka=ha["__core-js_shared__"];var O=Function.prototype.toString,I=S.hasOwnProperty,Z=(Y=/[^.]+$/.exec(ka&&ka.keys&&ka.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",W=S.toString,ca=O.call(Object),T=RegExp("^"+O.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y=ia?ha.Buffer:void 0;ia=ha.Symbol;var P=ha.Uint8Array,X=Y?Y.allocUnsafe:void 0,da=(Q=Object.getPrototypeOf,fa=Object,
function(ua){return Q(fa(ua))}),ea=Object.create,ja=S.propertyIsEnumerable,la=aa.splice,ma=ia?ia.toStringTag:void 0,oa=function(){try{var ua=B(Object,"defineProperty");return ua({},"",{}),ua}catch(na){}}();Y=Y?Y.isBuffer:void 0;var sa=Math.max,va=Date.now,za=B(ha,"Map"),Aa=B(Object,"create"),Ba=function(){function ua(){}return function(na){if(!J(na))return{};if(ea)return ea(na);ua.prototype=na;na=new ua;return ua.prototype=void 0,na}}();A.prototype.clear=function(){this.__data__=Aa?Aa(null):{};this.size=
0};A.prototype["delete"]=function(ua){ua=this.has(ua)&&delete this.__data__[ua];return this.size-=ua?1:0,ua};A.prototype.get=function(ua){var na=this.__data__;return Aa?(ua=na[ua],"__lodash_hash_undefined__"===ua?void 0:ua):I.call(na,ua)?na[ua]:void 0};A.prototype.has=function(ua){var na=this.__data__;return Aa?void 0!==na[ua]:I.call(na,ua)};A.prototype.set=function(ua,na){var ra=this.__data__;return this.size+=this.has(ua)?0:1,ra[ua]=Aa&&void 0===na?"__lodash_hash_undefined__":na,this};r.prototype.clear=
function(){this.__data__=[];this.size=0};r.prototype["delete"]=function(ua){var na=this.__data__;ua=a(na,ua);return!(0>ua)&&(ua==na.length-1?na.pop():la.call(na,ua,1),--this.size,!0)};r.prototype.get=function(ua){var na=this.__data__;ua=a(na,ua);return 0>ua?void 0:na[ua][1]};r.prototype.has=function(ua){return-1<a(this.__data__,ua)};r.prototype.set=function(ua,na){var ra=this.__data__,wa=a(ra,ua);return 0>wa?(++this.size,ra.push([ua,na])):ra[wa][1]=na,this};l.prototype.clear=function(){this.size=
0;this.__data__={hash:new A,map:new (za||r),string:new A}};l.prototype["delete"]=function(ua){ua=y(this,ua)["delete"](ua);return this.size-=ua?1:0,ua};l.prototype.get=function(ua){return y(this,ua).get(ua)};l.prototype.has=function(ua){return y(this,ua).has(ua)};l.prototype.set=function(ua,na){var ra=y(this,ua),wa=ra.size;return ra.set(ua,na),this.size+=ra.size==wa?0:1,this};d.prototype.clear=function(){this.__data__=new r;this.size=0};d.prototype["delete"]=function(ua){var na=this.__data__;ua=na["delete"](ua);
return this.size=na.size,ua};d.prototype.get=function(ua){return this.__data__.get(ua)};d.prototype.has=function(ua){return this.__data__.has(ua)};d.prototype.set=function(ua,na){var ra=this.__data__;if(ra instanceof r){var wa=ra.__data__;if(!za||199>wa.length)return wa.push([ua,na]),this.size=++ra.size,this;ra=this.__data__=new l(wa)}return ra.set(ua,na),this.size=ra.size,this};var Oa=function(ua,na,ra){var wa=-1,Fa=Object(ua);ra=ra(ua);for(var Da=ra.length;Da--;){var Ca=ra[++wa];if(!1===na(Fa[Ca],
Ca,Fa))break}return ua},Ja=function(ua){var na=0,ra=0;return function(){var wa=va(),Fa=16-(wa-ra);if(ra=wa,0<Fa){if(800<=++na)return arguments[0]}else na=0;return ua.apply(void 0,arguments)}}(oa?function(ua,na){return oa(ua,"toString",{configurable:!0,enumerable:!1,value:(ra=na,function(){return ra}),writable:!0});var ra}:L),xa=m(function(){return arguments}())?m:function(ua){return M(ua)&&I.call(ua,"callee")&&!ja.call(ua,"callee")},Ea=Array.isArray,ta=Y||function(){return!1},pa=qa?function(ua){return function(na){return ua(na)}}(qa):
function(ua){return M(ua)&&H(ua.length)&&!!V[c(ua)]},ya;ha=(ya=function(ua,na,ra,wa){q(ua,na,ra,wa)},function(ua,na){return Ja(function(ra,wa,Fa){return wa=sa(void 0===wa?ra.length-1:wa,0),function(){for(var Da=arguments,Ca=-1,Ia=sa(Da.length-wa,0),La=Array(Ia);++Ca<Ia;)La[Ca]=Da[wa+Ca];Ca=-1;for(Ia=Array(wa+1);++Ca<wa;)Ia[Ca]=Da[Ca];return Ia[wa]=Fa(La),C(ra,this,Ia)}}(ua,na,L),ua+"")}(function(ua,na){var ra=-1,wa=na.length,Fa=1<wa?na[wa-1]:void 0,Da=2<wa?na[2]:void 0;Fa=3<ya.length&&"function"==
typeof Fa?(wa--,Fa):void 0;var Ca;if(Ca=Da){Ca=na[0];var Ia=na[1];if(J(Da)){var La=typeof Ia;Ca=!!("number"==La?E(Da)&&z(Ia,Da.length):"string"==La&&Ia in Da)&&x(Da[Ia],Ca)}else Ca=!1}Ca&&(Fa=3>wa?void 0:Fa,wa=1);for(ua=Object(ua);++ra<wa;)(Da=na[ra])&&ya(ua,Da,ra,Fa);return ua}));v.exports=ha}).call(this,k(170),k(366)(f))},398:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){return C?Object(w.g)(Object(w.g)([],A),["(group:"+C.id+")"]):A})},399:function(f,
g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A,r){if(C)switch(C.value){case "authoritative":return A&&A.orgId&&!A.portal.isPortal?Object(w.g)(Object(w.g)([],r),["((contentstatus:org_authoritative orgid:"+A.orgId+") OR contentstatus:public_authoritative)"]):A&&A.orgId&&A.portal.isPortal?Object(w.g)(Object(w.g)([],r),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(w.g)(Object(w.g)([],r),["(contentstatus:public_authoritative)"]);
case "deprecated":return Object(w.g)(Object(w.g)([],r),["(contentstatus:deprecated)"])}return r})},400:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){return C?Object(w.g)(Object(w.g)([],A),["(access:"+C.value+")"]):A})},401:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){if(C){var r=function(l){for(var d,e=0,a=Object.keys(l);e<a.length;e++){var b=l[a[e]];if(b.selected){d=b.items;break}b=b.participants.filter(function(c){return c.selected});
if(0<b.length){d=b[0].items;break}}return d}(C);if(r)return r=r.join(" OR "),Object(w.g)(Object(w.g)([],A),["id:("+r+")"])}return A})},402:function(f,g,k){k.d(g,"a",function(){return C});f=k(56);var w=k.n(f),v=k(30),C=function(A,r,l,d){function e(x){B=x.categorySchema[0].source.split(".")[1];Object(v.e)(A,r,l.contentCategorySetsGroupQuery).then(a,q);Object(v.v)(A,r.restUrl+"/portals/regions",{culture:d}).then(m,q)}function a(x){x.results[0]?Object(v.v)(A,r.restUrl+"/content/groups/"+x.results[0].id+
"/search",{q:"typekeywords: "+B}).then(b,q):q("The content category sets group could not be found.")}function b(x){1===x.results.length&&x.results[0]?Object(v.h)(A,r,x.results[0].id).then(c,q):q("The item containing the living atlas categories could not be determined.")}function c(x){z=x.categorySchema[0];l.isPortal&&D?p([z]):D&&p([z,D])}function m(x){D={categories:x.map(function(E){return{displayName:E.localizedName,title:E.region}}).sort(function(E,G){return"wo"===E.title.toLowerCase()?-1:E.displayName.localeCompare(G.displayName)}),
description:"2.0",displayName:"Regions",title:"region"};l.isPortal&&z?p([z]):z&&p([z,D])}function p(x){F.resolve({schema:x,id:y})}function q(x){F.reject(x)}void 0===d&&(d="en");var y,B,z,D,F=new w.a;return Object(v.e)(A,r,l.livingAtlasGroupQuery,(null==r?0:r.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(x){x.results[0]&&x.results[0].id?(y=x.results[0].id,Object(v.f)(A,r,y).then(e,q)):q("The living atlas group could not be found.")},q),F}},409:function(f,g,k){k.d(g,"a",function(){return w});
k.d(g,"b",function(){return v});var w="CHANGE_SEARCH_STRING",v=function(C){return{type:w,payload:C}}},410:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});var w="SHOW_EMPTY_RESULTS",v="CHANGE_RESULT_DISPLAY"},48:function(f,g,k){function w(V,aa,ha){var ia=aa.settings.utils.request,ka=Object(A.b)({},aa);ka=ia(ka[0],ka[1]).then(Object(r.a)(aa),function(fa){return V({type:E,payload:fa})});if(ha){var qa=Object(A.a)(aa,["access","contentstatus","categories"]);qa=ia(qa[0],
qa[1]);ha=aa.settings.config.customSections;var Y=aa.parameters.section;if(Object(y.a)(Y)||Object(q.e)(ha,Y)&&Object(y.a)(Object(q.b)(ha,Y))){var Q=Object(A.c)(aa,aa.ui.tagsFilter.filterString);Q=ia(Q[0],Q[1])}}ia=[ka,qa,Q].filter(function(fa){return fa});l()(ia).then(function(fa){V(function(S,O){var I,Z,W=O[0],ca=O[1],T=O[2],P=Object(B.a)(S),X=S.settings.utils.iconDir;return{type:x,payload:{search:Object(v.a)(Object(v.a)({},W.data),{results:W.data.results.map(function(da){return Object(d.a)(P,X,
da)})}),aggregations:(null===(I=null==ca?void 0:ca.data)||void 0===I?0:I.aggregations)?{counts:Object(v.g)([],ca.data.aggregations.counts).concat((null===(Z=null==T?void 0:T.data)||void 0===Z?0:Z.aggregations)?Object(v.g)([],T.data.aggregations.counts):[]),countInfo:{section:S.parameters.section,group:S.parameters.filter.group,custom:S.settings.config.customSections.filter(function(da){return da.name===S.parameters.section})[0]}}:void 0}}}(aa,fa));V(D.e)},function(fa){return V({type:E,payload:fa})})}
k.d(g,"a",function(){return F});k.d(g,"c",function(){return x});k.d(g,"b",function(){return E});k.d(g,"d",function(){return G});k.d(g,"f",function(){return H});k.d(g,"e",function(){return J});k.d(g,"g",function(){return M});k.d(g,"h",function(){return K});k.d(g,"i",function(){return L});var v=k(0),C=k(100),A=k(162),r=k(217);f=k(65);var l=k.n(f),d=k(78),e=k(326),a=k(327),b=k(173),c=k(266),m=k(328),p=k(264),q=k(86),y=k(329),B=k(126),z=k(256),D=k(199),F="LOADING_CONTENT",x="LOADING_CONTENT_SUCCESS",
E="LOADING_CONTENT_FAILED",G="LOADING_NEXT",H="LOADING_NEXT_SUCCESS",J="LOADING_NEXT_FAILED",M="SUBSCRIPTION_CONTENT_SUCCESS",K=function(V){return function(aa,ha){var ia=ha(),ka=ia.settings.utils.request,qa=ia.parameters.nextQuery.nextStart;aa({type:G});qa=Object(A.b)({num:V,start:qa},ia);ka(qa[0],qa[1]).then(Object(r.a)(ia),function(Y){return aa({type:J,payload:Y})}).then(function(Y){return aa(ba(ia,Y))},function(Y){return aa({type:J,payload:Y})})}},L=function(V){return function(aa,ha){var ia=ha();
aa({type:F});ia.settings.config.clearSelectionBetweenSearches&&aa({type:C.b});aa(U(V))}},U=function(V){return function(aa,ha){var ia=ha(),ka=ia.parameters.section,qa=ia.settings.utils.portal.user,Y=!!qa,Q=ia.settings.utils.portal,fa=Q.isPortal,S=qa&&"org_admin"===qa.role,O=qa&&qa.privileges&&-1<qa.privileges.indexOf("portal:admin:manageCollaborations"),I=qa&&!fa&&qa.orgId&&Q.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Q.subscriptionInfo.type);aa(Object(e.b)()).then(function(Z){"livingAtlas"===
ka||"Living Atlas"===ka?aa(Object(a.d)(Z)).then(function(){return w(aa,ha(),V)},function(){return aa({type:E,payload:"Couldn't load the living atlas info."})}):"myContent"!==ka&&"myGroups"!==ka&&"myFavorites"!==ka&&"subscription"!==ka||!Y?"myOrganization"===ka&&Y?l()([aa(Object(c.d)())].concat(S&&O&&!I?[aa(Object(m.a)(aa,ha()))]:[])).then(function(){return w(aa,ha(),V)},function(){return aa({type:E,payload:"Couldn't load the organization info."})}):Object(q.e)(ia.settings.config.customSections,ka)?
aa(Object(p.e)()).then(function(){return w(aa,ha(),V)},function(){return aa({type:E,payload:"Couldn't load the custom section info."})}):w(aa,ia,V):l()([aa(Object(b.l)())].concat(Y&&qa.orgId?[aa(Object(c.d)())]:[]).concat(S&&O&&!I?[aa(Object(m.a)(aa,ha()))]:[])).then(function(){return"subscription"===ka?aa(Object(z.d)()).then(function(){return aa({type:M,payload:ha().results.provisionedContent.content})},function(){return aa({type:E,payload:"Couldn't load provisioned content info."})}):w(aa,ha(),
V)},function(){return aa({type:E,payload:"Couldn't load the user info."})})})}},ba=function(V,aa){var ha=V.settings.utils.iconDir,ia=Object(B.a)(V);return{type:H,payload:Object(v.a)(Object(v.a)({},aa.data),{results:aa.data.results.map(function(ka){return Object(d.a)(ia,ha,ka)})})}}},49:function(f,g,k){k.d(g,"d",function(){return w});k.d(g,"n",function(){return v});k.d(g,"i",function(){return C});k.d(g,"j",function(){return A});k.d(g,"m",function(){return r});k.d(g,"f",function(){return l});k.d(g,
"h",function(){return d});k.d(g,"l",function(){return e});k.d(g,"c",function(){return a});k.d(g,"p",function(){return b});k.d(g,"g",function(){return c});k.d(g,"e",function(){return m});k.d(g,"q",function(){return p});k.d(g,"k",function(){return q});k.d(g,"o",function(){return y});k.d(g,"r",function(){return B});k.d(g,"b",function(){return z});k.d(g,"a",function(){return D});k.d(g,"u",function(){return F});k.d(g,"E",function(){return x});k.d(g,"y",function(){return E});k.d(g,"D",function(){return G});
k.d(g,"z",function(){return H});k.d(g,"A",function(){return J});k.d(g,"w",function(){return M});k.d(g,"C",function(){return K});k.d(g,"t",function(){return L});k.d(g,"G",function(){return U});k.d(g,"v",function(){return ba});k.d(g,"x",function(){return V});k.d(g,"H",function(){return aa});k.d(g,"B",function(){return ha});k.d(g,"F",function(){return ia});k.d(g,"I",function(){return ka});k.d(g,"s",function(){return qa});var w="UPDATE_CUSTOM_FILTER",v="UPDATE_ORG_GROUP_FILTER",C="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",
A="UPDATE_LIVING_ATLAS_REGION_FILTER",r="UPDATE_ORG_CATEGORIES_FILTER",l="UPDATE_GROUP_CATEGORIES_FILTER",d="UPDATE_ITEM_TYPE_FILTER",e="UPDATE_MODIFIED_FILTER",a="UPDATE_CREATED_FILTER",b="UPDATE_SHARED_FILTER",c="UPDATE_GROUP_FILTER",m="UPDATE_FOLDER_FILTER",p="UPDATE_STATUS_FILTER",q="UPDATE_MAP_AREA_FILTER",y="UPDATE_SEARCH_ORG_FILTER",B="UPDATE_TAGS_FILTER",z="UPDATE_COLLABORATIONS_FILTER",D="CLEAR_ALL_FILTERS",F=function(Y,Q){return{type:w,payload:{index:Y,filter:Q}}},x=function(Y){return{type:v,
payload:Y}},E=function(Y){return{type:d,payload:Y}},G=function(Y){return{type:r,payload:Y}},H=function(Y){return{type:C,payload:Y}},J=function(Y){return{type:A,payload:Y}},M=function(Y){return{type:l,payload:Y}},K=function(Y,Q){return{type:e,payload:{section:Y,modified:Q}}},L=function(Y,Q){return{type:a,payload:{section:Y,created:Q}}},U=function(Y){return{type:b,payload:Y}},ba=function(Y){return{type:m,payload:Y}},V=function(Y){return{type:c,payload:Y}},aa=function(Y){return{type:p,payload:Y}},ha=
function(Y){return{type:q,payload:Y}},ia=function(Y){return{type:y,payload:Y}},ka=function(Y){return{type:B,payload:Y}},qa=function(Y){return{type:z,payload:Y}}},5:function(f,g,k){function w(a){return 0===Object.keys(a).length&&a.constructor===Object}function v(a){return null!=a}function C(a,b){return d.apply(null,arguments)}function A(a,b){return e.apply(null,arguments)}k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});k.d(g,"e",function(){return l});k.d(g,"c",function(){return C});
k.d(g,"d",function(){return A});var r=k(0);f=k(15);var l=Object(f.a)(function(a,b){var c=Object(r.a)({},b);return delete c[a],c}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return c[m]=a(b[m],m,b),c},{})}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return a(b[m],m,b)&&(c[m]=b[m]),c},{})})},51:function(f,g,k){function w(x){return!(!x.urlKey||!x.customBaseUrl)}function v(x){return x.role===m.admin||x.role===m.accountAdmin}function C(x){return Object(y.a)(x.roleId)&&
0<(x.roleId||"").length}function A(x){return!C(x)||C(x)&&-1<(x.privileges||[]).indexOf("portal:admin:viewItems")}function r(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToOrg")}function l(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToGroup")}function d(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToPublic")}function e(x,E){return a(x)||b(x)||E.canSharePublic&&c(x)}function a(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(x){return-1<
(x.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(g,"l",function(){return z});k.d(g,"h",function(){return D});k.d(g,"m",function(){return F});k.d(g,"k",function(){return w});k.d(g,"i",function(){return v});k.d(g,"j",function(){return C});k.d(g,"g",function(){return A});k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});
k.d(g,"f",function(){return c});var m,p=k(63),q=k(148),y=k(5),B=k(58);!function(x){x.user="org_user";x.accountUser="account_user";x.publisher="org_publisher";x.accountPublisher="account_publisher";x.admin="org_admin";x.accountAdmin="account_admin";x.viewer="iAAAAAAAAAAAAAAA";x.dataEditor="iBBBBBBBBBBBBBBB"}(m||(m={}));var z=function(x){var E=x.items;return!!x.user.orgId&&E.every(function(G){return G.isOrgItem})},D=function(x){var E=x.items,G=x.user,H=x.portal;x=E[0];var J=Object(B.c)(x,G),M=C(G),
K=e(G,H);if(M=Object(B.a)(x,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!M)M=!w(H)||l(G)||r(G)||H.canSharePublic&&d(G)||e(G,H);H=M;return!(x.portal.isPortal&&x.owner!==G.username&&-1<x.owner.indexOf("esri_"))&&(J||H||z({items:E,user:G})&&K)},F=function(x,E){return Object(p.a)(Object(q.a)(x))(E)}},56:function(f,g){f.exports=n},58:function(f,g,k){function w(d,e){return(null==d?void 0:d.owner)===e.username}function v(d,e){var a;if(!(a=w(d,e)))if(Object(A.a)(d.isAdmin))a=!!d.isAdmin;
else{a=d.owner;var b="admin"===d.itemControl;a=!(d.portal.isPortal&&!w(d,e)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function C(d,e){return v(d,e)||"update"===d.itemControl}k.d(g,"d",function(){return w});k.d(g,"c",function(){return v});k.d(g,"a",function(){return C});k.d(g,"b",function(){return l});var A=k(5),r=k(51),l=function(d){var e=d.user,a=d.items;d=d.portal;return Object(r.l)({items:a,user:e})&&Object(r.h)({items:a,user:e,
portal:d})&&Object(r.g)(e)&&a[0].itemOwner||e}},63:function(f,g,k){function w(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];return function(A){return v.reduceRight(function(r,l){return l(r)},A)}}k.d(g,"a",function(){return w})},65:function(f,g){f.exports=t},710:function(f,g,k){function w(y,B){var z,D,F=B.settings.utils.telemetry,x={pageName:B.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",
livingAtlas:"living atlas",all:"arcgis online"}[B.parameters.section]||"other"};if(y.type===A.a)return(null==F?void 0:F.getWorkflow("item browser"))&&F.cancelWorkflow("item browser"),void(null==F||F.startWorkflow("item browser",x));var E=null==F?void 0:F.getWorkflow("item browser");if(F&&E)switch(y.type){case r.a:case l.a:F.stepWorkflow("item browser","search",Object(v.a)(Object(v.a)({},x),{details:(null===(z=B.parameters.searchString)||void 0===z?void 0:z.current)||"",attribute:Object(p.a)(B)?"enriched":
void 0,searchQuery:Object(q.b)(B)}));break;case d.a:F.stepWorkflow("item browser","sort",Object(v.a)(Object(v.a)({},x),{details:y.payload}));break;case e.a:F.stepWorkflow("item browser","list"===B.ui.resultPanel.display?"list view":"compact view",Object(v.a)({},x));break;case a.c:F.stepWorkflow("item browser","pagination",Object(v.a)(Object(v.a)({},x),{details:y.payload}));break;case b.e:case b.h:case b.l:case b.c:case b.r:case b.p:F.stepWorkflow("item browser","filter",Object(v.a)(Object(v.a)({},
x),{details:y.type.split("_").join(" ").toLowerCase()}));break;case c.f:F.stepWorkflow("item browser","select all on page",Object(v.a)({},x));break;case m.a:F.stepWorkflow("item browser","card action",Object(v.a)(Object(v.a)({},x),{details:"view item details"}));break;case C.SELECT_ITEM:F.stepWorkflow("item browser","card action",Object(v.a)(Object(v.a)({},x),{details:"add"}));break;case C.DESELECT_ITEM:F.stepWorkflow("item browser","card action",Object(v.a)(Object(v.a)({},x),{details:"remove"}));
break;case c.k:z=B.results.selectedItems[y.payload.id]?"select":"deselect";F.stepWorkflow("item browser","card action",Object(v.a)(Object(v.a)({},x),{details:z}));break;case c.d:F.endWorkflow("item browser",Object(v.a)(Object(v.a)({},x),{count:null===(D=y.payload)||void 0===D?void 0:D.length}));break;case c.a:F.cancelWorkflow("item browser",Object(v.a)({},x))}}k.d(g,"a",function(){return w});var v=k(0),C=k(231),A=k(326),r=k(288),l=k(409),d=k(290),e=k(410),a=k(295),b=k(49),c=k(100),m=k(357),p=k(356),
q=k(179)},78:function(f,g,k){k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});var w=k(63);f=k(5);var v=k(123),C=k(122),A=k(117),r=k(121),l=k(120),d=function(a,b,c){return Object(w.a)(Object(l.a)(a),Object(r.a)(a),Object(A.a)(b),Object(C.a)(a),Object(v.a)(a))(c)},e=Object(w.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},86:function(f,g,k){function w(d){return!(!r(d)&&!l(d))}function v(d,e){return d.filter(function(a){return a.name===
e})[0]}function C(d,e){return!!v(d,e)}k.d(g,"a",function(){return A});k.d(g,"c",function(){return r});k.d(g,"d",function(){return l});k.d(g,"f",function(){return w});k.d(g,"b",function(){return v});k.d(g,"e",function(){return C});f=k(15);var A=function(d){return d.filters?d.filters.filter(function(e){return"object"==typeof e&&("group"===e.type||"org"===e.type)}):[]};f=Object(f.a)(function(d,e){if(e.filters)return e.filters.reduce(function(a,b){return"object"==typeof b&&b.type===d?b:a},void 0)});var r=
f("group"),l=f("org")},983:function(f,g,k){k.r(g);k.d(g,"ItemBrowserWrapper",function(){return c});var w=k(0),v=k(231),C=k.n(v),A=k(16);f=k(386);var r=k.n(f);f=k(336);var l=k.n(f),d=k(30),e=k(117),a=k(100),b=k(710);k.d(g,"changeSearchSection",function(){return v.changeSearchSection});k.d(g,"initialState",function(){return v.initialState});k.d(g,"search",function(){return v.search});k.d(g,"updateExtent",function(){return v.updateExtent});k.d(g,"viewItemDetails",function(){return v.viewItemDetails});
var c=function(){function m(p,q){var y,B;this.options=q;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";p.appendChild(this.renderContainer);var z=l()(v.initialState),D=l()(q.initialState);z=r()(z,D,function(F,x){if(Array.isArray(F)&&x)return x});this.initialState=Object(w.a)(Object(w.a)({},z),{settings:Object(w.a)(Object(w.a)({},
z.settings),{utils:{telemetry:q.telemetry,appName:q.appName,request:4===q.apiVersion?q.request:Object(d.u)(q.request),portal:4===q.apiVersion?q.portal:Object(w.a)(Object(w.a)({},q.portal),{restUrl:q.portal.portalUrl.slice(0,-1),credential:null===(y=q.portal.user)||void 0===y?void 0:y.credential}),iconDir:4===q.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});y=q.middlewares||[];(null===(B=q.telemetry)||void 0===B?0:B.getWorkflow("item browser"))&&
q.telemetry.cancelWorkflow("item browser");this.store=A.applyMiddleware.apply(void 0,Object(w.g)([A.thunk,Object(A.addListener)(b.a),Object(A.addListener)(this.listener)],y))(A.createStore)(v.reducers,this.initialState);this.projector=Object(A.createProjector)(this.store,function(F){return F(C.a,{key:"ib"})},this.renderContainer);this.store.dispatch(Object(v.search)(!0));this.handleInitiallySelectedItemsDfd()}return m.prototype.handleInitiallySelectedItemsDfd=function(){var p=this,q=this.getState().settings,
y=q.config.initiallySelectedItemsDfd,B=q.utils.iconDir;y?y.then(function(z){var D=Object.keys(z).map(function(F){return Object(e.a)(B,Object(w.a)({},z[F]))}).reduce(function(F,x){var E;return Object(w.a)(Object(w.a)({},F),((E={})[x.id]=x,E))},{});p.store.dispatch(Object(a.p)(D))}):this.store.dispatch(Object(a.p)({}))},m.prototype.shimmedRequest=function(p,q){var y,B=Object(w.a)({},q.query);return(null===(y=this.options.portal.user)||void 0===y?void 0:y.credential)&&-1<p.indexOf(this.options.portal.restUrl)&&
(B.token=this.options.portal.user.credential.token),this.options.request({url:p,content:q.query},{usePost:"post"===q.method}).then(function(z){return{data:z}})},m.prototype.dispatch=function(p){var q;null===(q=this.store)||void 0===q||q.dispatch(p)},m.prototype.getState=function(){var p;return(null===(p=this.store)||void 0===p?void 0:p.getState())||this.initialState},m.prototype.listener=function(p,q){var y,B;null===(B=null===(y=this.options)||void 0===y?void 0:y.listener)||void 0===B||B.call(y,p,
q)},m}()},99:function(f,g,k){function w(d,e){if(null==d?0:d.length)for(var a=void 0,b=0;b<d.length;b++)if(e(a=d[b]))return a}function v(d){return d.filter(function(e){return 0<e.length})}function C(d,e,a){var b=[];return e.forEach(function(c){(a?c[a].toLowerCase()===d.toLowerCase():c.toLowerCase()===d.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return A});k.d(g,"f",function(){return r});k.d(g,"c",function(){return w});k.d(g,"b",function(){return v});k.d(g,"a",function(){return l});
k.d(g,"d",function(){return C});f=k(15);var A=function(d,e,a){return a.indexOf(d)===e},r=Object(f.a)(function(d,e){var a={};return e.filter(function(b){return!a[b[d]]&&(a[b[d]]=!0,!0)})}),l=function(d,e){return d.length===e.length&&d.reduce(function(a,b){return a&&-1<e.indexOf(b)},!0)}}})})},"arcgis-components/ItemBrowser/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../Loaders/LoaderBars ../Buttons/SvgButton ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index ../Buttons/IconButton ../Modals/Overlay ../Dropdowns/TextOptionDropdown ../Navigation/TabNav ../Filters/CategoriesFilter/index ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Badges/Retired ../Filters/MapAreaFilter ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../Badges/Solution ../Badges/PublicDataCollection ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y,Q,fa){return function(S){function O(Z){if(I[Z])return I[Z].exports;var W=I[Z]={i:Z,l:!1,exports:{}};return S[Z].call(W.exports,W,W.exports,O),W.l=!0,W.exports}var I={};return O.m=S,O.c=I,O.d=function(Z,W,ca){O.o(Z,W)||Object.defineProperty(Z,W,{enumerable:!0,get:ca})},O.r=function(Z){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"});Object.defineProperty(Z,
"__esModule",{value:!0})},O.t=function(Z,W){if((1&W&&(Z=O(Z)),8&W)||4&W&&"object"==typeof Z&&Z&&Z.__esModule)return Z;var ca=Object.create(null);if(O.r(ca),Object.defineProperty(ca,"default",{enumerable:!0,value:Z}),2&W&&"string"!=typeof Z)for(var T in Z)O.d(ca,T,function(P){return Z[P]}.bind(null,T));return ca},O.n=function(Z){var W=Z&&Z.__esModule?function(){return Z["default"]}:function(){return Z};return O.d(W,"a",W),W},O.o=function(Z,W){return Object.prototype.hasOwnProperty.call(Z,W)},O.p="",
O(O.s=860)}([function(S,O,I){function Z(ja,la){function ma(){this.constructor=ja}if("function"!=typeof la&&null!==la)throw new TypeError("Class extends value "+String(la)+" is not a constructor or null");da(ja,la);ja.prototype=null===la?Object.create(la):(ma.prototype=la.prototype,new ma)}function W(ja,la){var ma={},oa;for(oa in ja)Object.prototype.hasOwnProperty.call(ja,oa)&&0>la.indexOf(oa)&&(ma[oa]=ja[oa]);if(null!=ja&&"function"==typeof Object.getOwnPropertySymbols){var sa=0;for(oa=Object.getOwnPropertySymbols(ja);sa<
oa.length;sa++)0>la.indexOf(oa[sa])&&Object.prototype.propertyIsEnumerable.call(ja,oa[sa])&&(ma[oa[sa]]=ja[oa[sa]])}return ma}function ca(ja,la,ma,oa){var sa,va=arguments.length,za=3>va?la:null===oa?oa=Object.getOwnPropertyDescriptor(la,ma):oa;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)za=Reflect.decorate(ja,la,ma,oa);else for(var Aa=ja.length-1;0<=Aa;Aa--)(sa=ja[Aa])&&(za=(3>va?sa(za):3<va?sa(la,ma,za):sa(la,ma))||za);return 3<va&&za&&Object.defineProperty(la,ma,za),za}function T(ja,
la,ma,oa){return new (ma||(ma=Promise))(function(sa,va){function za(Oa){try{Ba(oa.next(Oa))}catch(Ja){va(Ja)}}function Aa(Oa){try{Ba(oa["throw"](Oa))}catch(Ja){va(Ja)}}function Ba(Oa){var Ja;Oa.done?sa(Oa.value):(Ja=Oa.value,Ja instanceof ma?Ja:new ma(function(xa){xa(Ja)})).then(za,Aa)}Ba((oa=oa.apply(ja,la||[])).next())})}function P(ja,la){function ma(Ba){return function(Oa){return function(Ja){if(oa)throw new TypeError("Generator is already executing.");for(;Aa;)try{if(oa=1,sa&&(va=2&Ja[0]?sa["return"]:
Ja[0]?sa["throw"]||((va=sa["return"])&&va.call(sa),0):sa.next)&&!(va=va.call(sa,Ja[1])).done)return va;switch(sa=0,va&&(Ja=[2&Ja[0],va.value]),Ja[0]){case 0:case 1:va=Ja;break;case 4:return Aa.label++,{value:Ja[1],done:!1};case 5:Aa.label++;sa=Ja[1];Ja=[0];continue;case 7:Ja=Aa.ops.pop();Aa.trys.pop();continue;default:if(!(va=Aa.trys,(va=0<va.length&&va[va.length-1])||6!==Ja[0]&&2!==Ja[0])){Aa=0;continue}if(3===Ja[0]&&(!va||Ja[1]>va[0]&&Ja[1]<va[3]))Aa.label=Ja[1];else if(6===Ja[0]&&Aa.label<va[1])Aa.label=
va[1],va=Ja;else if(va&&Aa.label<va[2])Aa.label=va[2],Aa.ops.push(Ja);else{va[2]&&Aa.ops.pop();Aa.trys.pop();continue}}Ja=la.call(ja,Aa)}catch(xa){Ja=[6,xa],sa=0}finally{oa=va=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ba,Oa])}}var oa,sa,va,za,Aa={label:0,sent:function(){if(1&va[0])throw va[1];return va[1]},trys:[],ops:[]};return za={next:ma(0),"throw":ma(1),"return":ma(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za}function X(ja,la){for(var ma=
0,oa=la.length,sa=ja.length;ma<oa;ma++,sa++)ja[sa]=la[ma];return ja}I.d(O,"d",function(){return Z});I.d(O,"a",function(){return ea});I.d(O,"f",function(){return W});I.d(O,"c",function(){return ca});I.d(O,"b",function(){return T});I.d(O,"e",function(){return P});I.d(O,"g",function(){return X});var da=function(ja,la){return(da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ma,oa){ma.__proto__=oa}||function(ma,oa){for(var sa in oa)Object.prototype.hasOwnProperty.call(oa,sa)&&(ma[sa]=
oa[sa])})(ja,la)},ea=function(){return(ea=Object.assign||function(ja){for(var la,ma=1,oa=arguments.length;ma<oa;ma++)for(var sa in la=arguments[ma])Object.prototype.hasOwnProperty.call(la,sa)&&(ja[sa]=la[sa]);return ja}).apply(this,arguments)};Object.create;Object.create},,,,,function(S,O,I){function Z(ja){return 0===Object.keys(ja).length&&ja.constructor===Object}function W(ja){return null!=ja}function ca(ja,la){return da.apply(null,arguments)}function T(ja,la){return ea.apply(null,arguments)}I.d(O,
"b",function(){return Z});I.d(O,"a",function(){return W});I.d(O,"e",function(){return X});I.d(O,"c",function(){return ca});I.d(O,"d",function(){return T});var P=I(0);S=I(15);var X=Object(S.a)(function(ja,la){var ma=Object(P.a)({},la);return delete ma[ja],ma}),da=Object(S.a)(function(ja,la){return Object.keys(la).reduce(function(ma,oa){return ma[oa]=ja(la[oa],oa,la),ma},{})}),ea=Object(S.a)(function(ja,la){return Object.keys(la).reduce(function(ma,oa){return ja(la[oa],oa,la)&&(ma[oa]=la[oa]),ma},{})})},
,,,,,,,,,function(S,O,I){function Z(ca){return function P(){for(var X=this,da=[],ea=0;ea<arguments.length;ea++)da[ea]=arguments[ea];return da.length>=ca.length?ca.call.apply(ca,Object(W.g)([this],da)):function(){for(var ja=[],la=0;la<arguments.length;la++)ja[la]=arguments[la];return P.call.apply(P,Object(W.g)(Object(W.g)([X],da),ja))}}}I.d(O,"a",function(){return Z});var W=I(0)},function(S,O){S.exports=R},,,,,,,,,,,,function(S,O,I){(function(Z,W){S.exports=function(){function ca(){var Ha=setTimeout;
return function(){return Ha(T,1)}}function T(){for(var Ha=0;Ha<Oa;Ha+=2)(0,na[Ha])(na[Ha+1]),na[Ha]=void 0,na[Ha+1]=void 0;Oa=0}function P(Ha,Ka){var Na=this,Qa=new this.constructor(da);void 0===Qa[Ia]&&Aa(Qa);var Pa=Na._state;if(Pa){var Ra=arguments[Pa-1];Ea(function(){return za(Pa,Qa,Ra,Na._result)})}else sa(Na,Qa,Ha,Ka);return Qa}function X(Ha){if(Ha&&"object"==typeof Ha&&Ha.constructor===this)return Ha;var Ka=new this(da);return ja(Ka,Ha),Ka}function da(){}function ea(Ha,Ka,Na){Ka.constructor===
Ha.constructor&&Na===P&&Ka.constructor.resolve===X?function(Qa,Pa){1===Pa._state?ma(Qa,Pa._result):2===Pa._state?oa(Qa,Pa._result):sa(Pa,void 0,function(Ra){return ja(Qa,Ra)},function(Ra){return oa(Qa,Ra)})}(Ha,Ka):void 0===Na?ma(Ha,Ka):"function"==typeof Na?function(Qa,Pa,Ra){Ea(function(Sa){var Va=!1,Ua=function(Ta,Xa,ab,Wa){try{Ta.call(Xa,ab,Wa)}catch(db){return db}}(Ra,Pa,function(Ta){Va||(Va=!0,Pa!==Ta?ja(Sa,Ta):ma(Sa,Ta))},function(Ta){Va||(Va=!0,oa(Sa,Ta))},Sa._label);!Va&&Ua&&(Va=!0,oa(Sa,
Ua))},Qa)}(Ha,Ka,Na):ma(Ha,Ka)}function ja(Ha,Ka){if(Ha===Ka)oa(Ha,new TypeError("You cannot resolve a promise with itself"));else if(Qa=typeof(Na=Ka),null===Na||"object"!==Qa&&"function"!==Qa)ma(Ha,Ka);else{Na=void 0;try{Na=Ka.then}catch(Pa){return void oa(Ha,Pa)}ea(Ha,Ka,Na)}var Na,Qa}function la(Ha){Ha._onerror&&Ha._onerror(Ha._result);va(Ha)}function ma(Ha,Ka){void 0===Ha._state&&(Ha._result=Ka,Ha._state=1,0!==Ha._subscribers.length&&Ea(va,Ha))}function oa(Ha,Ka){void 0===Ha._state&&(Ha._state=
2,Ha._result=Ka,Ea(la,Ha))}function sa(Ha,Ka,Na,Qa){var Pa=Ha._subscribers,Ra=Pa.length;Ha._onerror=null;Pa[Ra]=Ka;Pa[Ra+1]=Na;Pa[Ra+2]=Qa;0===Ra&&Ha._state&&Ea(va,Ha)}function va(Ha){var Ka=Ha._subscribers,Na=Ha._state;if(0!==Ka.length){for(var Qa=void 0,Pa=void 0,Ra=Ha._result,Sa=0;Sa<Ka.length;Sa+=3)Qa=Ka[Sa],Pa=Ka[Sa+Na],Qa?za(Na,Qa,Pa,Ra):Pa(Ra);Ha._subscribers.length=0}}function za(Ha,Ka,Na,Qa){var Pa="function"==typeof Na,Ra=void 0,Sa=void 0,Va=!0;if(Pa){try{Ra=Na(Qa)}catch(Ua){Va=!1,Sa=Ua}if(Ka===
Ra)return void oa(Ka,new TypeError("A promises callback cannot return that same promise."))}else Ra=Qa;void 0!==Ka._state||(Pa&&Va?ja(Ka,Ra):!1===Va?oa(Ka,Sa):1===Ha?ma(Ka,Ra):2===Ha&&oa(Ka,Ra))}function Aa(Ha){Ha[Ia]=La++;Ha._state=void 0;Ha._result=void 0;Ha._subscribers=[]}var Ba=Array.isArray?Array.isArray:function(Ha){return"[object Array]"===Object.prototype.toString.call(Ha)},Oa=0,Ja=void 0,xa=void 0,Ea=function(Ha,Ka){na[Oa]=Ha;na[Oa+1]=Ka;2===(Oa+=2)&&(xa?xa(T):Ca())},ta="undefined"!=typeof window?
window:void 0,pa=ta||{};pa=pa.MutationObserver||pa.WebKitMutationObserver;var ya="undefined"==typeof self&&void 0!==Z&&"[object process]"==={}.toString.call(Z),ua="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,na=Array(1E3),ra,wa,Fa,Da,Ca=void 0;ya?Ca=function(){return Z.nextTick(T)}:pa?(wa=0,Fa=new pa(T),Da=document.createTextNode(""),Fa.observe(Da,{characterData:!0}),Ca=function(){Da.data=wa=++wa%2}):ua?((ra=new MessageChannel).port1.onmessage=
T,Ca=function(){return ra.port2.postMessage(0)}):Ca=void 0===ta?function(){try{var Ha=Function("return this")().require("vertx");return void 0!==(Ja=Ha.runOnLoop||Ha.runOnContext)?function(){Ja(T)}:ca()}catch(Ka){return ca()}}():ca();var Ia=Math.random().toString(36).substring(2),La=0,Ga=function(){function Ha(Ka,Na){this._instanceConstructor=Ka;this.promise=new Ka(da);this.promise[Ia]||Aa(this.promise);Ba(Na)?(this.length=Na.length,this._remaining=Na.length,this._result=Array(this.length),0===this.length?
ma(this.promise,this._result):(this.length=this.length||0,this._enumerate(Na),0===this._remaining&&ma(this.promise,this._result))):oa(this.promise,Error("Array Methods must be provided an Array"))}return Ha.prototype._enumerate=function(Ka){for(var Na=0;void 0===this._state&&Na<Ka.length;Na++)this._eachEntry(Ka[Na],Na)},Ha.prototype._eachEntry=function(Ka,Na){var Qa=this._instanceConstructor,Pa=Qa.resolve;if(Pa===X){var Ra=Pa=void 0,Sa=!1;try{Pa=Ka.then}catch(Va){Sa=!0,Ra=Va}Pa===P&&void 0!==Ka._state?
this._settledAt(Ka._state,Na,Ka._result):"function"!=typeof Pa?(this._remaining--,this._result[Na]=Ka):Qa===Ma?(Qa=new Qa(da),Sa?oa(Qa,Ra):ea(Qa,Ka,Pa),this._willSettleAt(Qa,Na)):this._willSettleAt(new Qa(function(Va){return Va(Ka)}),Na)}else this._willSettleAt(Pa(Ka),Na)},Ha.prototype._settledAt=function(Ka,Na,Qa){var Pa=this.promise;void 0===Pa._state&&(this._remaining--,2===Ka?oa(Pa,Qa):this._result[Na]=Qa);0===this._remaining&&ma(Pa,this._result)},Ha.prototype._willSettleAt=function(Ka,Na){var Qa=
this;sa(Ka,void 0,function(Pa){return Qa._settledAt(1,Na,Pa)},function(Pa){return Qa._settledAt(2,Na,Pa)})},Ha}(),Ma=function(){function Ha(Ka){this[Ia]=La++;this._result=this._state=void 0;this._subscribers=[];if(da!==Ka){if("function"!=typeof Ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Ha)(function(Na,Qa){try{Qa(function(Pa){ja(Na,Pa)},function(Pa){oa(Na,Pa)})}catch(Pa){oa(Na,Pa)}})(this,Ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Ha.prototype["catch"]=function(Ka){return this.then(null,Ka)},Ha.prototype["finally"]=function(Ka){var Na=this.constructor;return"function"==typeof Ka?this.then(function(Qa){return Na.resolve(Ka()).then(function(){return Qa})},function(Qa){return Na.resolve(Ka()).then(function(){throw Qa;})}):this.then(Ka,Ka)},Ha}();return Ma.prototype.then=P,Ma.all=function(Ha){return(new Ga(this,Ha)).promise},Ma.race=function(Ha){var Ka=this;return Ba(Ha)?new Ka(function(Na,Qa){for(var Pa=Ha.length,Ra=
0;Ra<Pa;Ra++)Ka.resolve(Ha[Ra]).then(Na,Qa)}):new Ka(function(Na,Qa){return Qa(new TypeError("You must pass an array to race."))})},Ma.resolve=X,Ma.reject=function(Ha){var Ka=new this(da);return oa(Ka,Ha),Ka},Ma._setScheduler=function(Ha){xa=Ha},Ma._setAsap=function(Ha){Ea=Ha},Ma._asap=Ea,Ma.polyfill=function(){var Ha=void 0;if(void 0!==W)Ha=W;else if("undefined"!=typeof self)Ha=self;else try{Ha=Function("return this")()}catch(Qa){throw Error("polyfill failed because global object is unavailable in this environment");
}var Ka=Ha.Promise;if(Ka){var Na=null;try{Na=Object.prototype.toString.call(Ka.resolve())}catch(Qa){}if("[object Promise]"===Na&&!Ka.cast)return}Ha.Promise=Ma},Ma.Promise=Ma,Ma}()}).call(this,I(189),I(170))},,function(S,O,I){function Z(na){return na.reduce(function(ra,wa){return wa&&wa.relatedItems?ra.concat(wa.relatedItems.map(function(Fa){return Fa})):ra},[])}function W(na,ra,wa){return na(ra,{query:Object(P.a)({f:"json"},wa)}).then(function(Fa){return Fa.data})}function ca(na,ra){void 0===ra&&
(ra=100);for(var wa=[],Fa=0;Fa<Math.ceil(na.length/ra);Fa++)wa.push(na.slice(Fa*ra,(Fa+1)*ra));return wa.filter(function(Da){return 0<Da.length})}function T(na){var ra=na.itemIds,wa=na.request,Fa=na.groupIds,Da=na.portal.restUrl+"/content/itemsgroups";return new X.Promise(function(Ca,Ia){wa(Da,{method:"get",query:{f:"json",items:ra,groups:Fa}}).then(function(La){Ca(La.data)},Ia)})}I.d(O,"u",function(){return da});I.d(O,"n",function(){return ea});I.d(O,"h",function(){return ja});I.d(O,"e",function(){return la});
I.d(O,"f",function(){return ma});I.d(O,"j",function(){return oa});I.d(O,"o",function(){return sa});I.d(O,"l",function(){return va});I.d(O,"k",function(){return za});I.d(O,"m",function(){return Aa});I.d(O,"c",function(){return Ba});I.d(O,"d",function(){return Oa});I.d(O,"r",function(){return Ja});I.d(O,"s",function(){return xa});I.d(O,"t",function(){return Ea});I.d(O,"g",function(){return ta});I.d(O,"p",function(){return pa});I.d(O,"q",function(){return ya});I.d(O,"v",function(){return W});I.d(O,"a",
function(){return ca});I.d(O,"i",function(){return T});I.d(O,"b",function(){return ua});var P=I(0),X=I(28),da=function(na){return function(ra,wa){return na({url:ra,content:wa.query},{usePost:"post"===wa.method}).then(function(Fa){return{data:Fa}})}},ea=function(na,ra,wa){return W(na,ra.restUrl+"/portals/self",{culture:wa,"default":!0})},ja=function(na,ra,wa){return W(na,ra.restUrl+"/content/items/"+wa+"/data")},la=function(na,ra,wa,Fa){return W(na,ra.restUrl+"/community/groups",Object(P.a)({q:wa},
Fa))},ma=function(na,ra,wa){return W(na,ra.restUrl+"/community/groups/"+wa+"/categorySchema")},oa=function(na,ra,wa){return W(na,ra.restUrl+"/portals/"+(wa||ra.id)+"/categorySchema")},sa=function(na,ra){return W(na,ra.restUrl+"/portals/"+ra.id+"/servers")},va=function(na,ra,wa,Fa){return na(ra.restUrl+"/portals/"+(wa||ra.id)+"/collaborationsSummary",Fa)},za=function(na,ra,wa,Fa){return na(ra.restUrl+"/portals/"+(wa||ra.id)+"/collaboratedItems",Fa)},Aa=function(na,ra,wa){return W(na,location.protocol+
"//"+ra.portalHostname+"/sharing/rest/portals/"+(wa||"self"))},Ba=function(na,ra,wa){return na(ra.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+ra.id+" AND access:public",num:100,start:wa||1,sortField:"title",sortOrder:"asc"}}).then(function(Fa){return Fa.data.total>Fa.data.start+Fa.data.num?Ba(na,ra,Fa.data.start+Fa.data.num).then(function(Da){return Object(P.a)(Object(P.a)({},Da),{data:Object(P.a)(Object(P.a)({},Da.data),{results:Fa.data.results.concat(Da.data.results)})})}):Fa})},Oa=
function(na,ra,wa,Fa){return na(ra.restUrl+"/community/users/"+wa+"/provisionedListings",{query:{f:"json",num:100,start:Fa||1}}).then(function(Da){var Ca=X.Promise.all(Da.data.provisionedListings.filter(function(La){return La.itemId}).map(function(La){return(new X.Promise(function(Ga,Ma){na(ra.restUrl+"/content/items/"+La.itemId,{method:"get",query:{f:"json"}}).then(function(Ha){Ga(Ha.data)},Ma)}))["catch"](function(Ga){return 0})})),Ia=Da.data.provisionedListings.map(function(La){return W(na,ra.restUrl+
"/content/items/"+(La.id||La.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(Ga){return Ga},function(Ga){})});return Da.data.total>Da.data.start+Da.data.num?Oa(na,ra,wa,Da.data.start+Da.data.num).then(function(La){return X.Promise.all([Ca].concat(Ia)).then(function(Ga){return Ga[0].results.concat(Z(Ga.slice(1))).concat(La)})}):X.Promise.all([Ca].concat(Ia)).then(function(La){return La[0].filter(function(Ga){return void 0!==Ga}).concat(Z(La.slice(1)))})})},
Ja=function(na,ra,wa){return W(na,ra.restUrl+"/community/users/"+(wa||ra.user.username))},xa=function(na,ra,wa){return W(na,ra.restUrl+"/content/users/"+(wa||ra.user.username),{num:1})},Ea=function(na,ra,wa){return W(na,ra.restUrl+"/content/groups/"+wa)},ta=function(na,ra,wa){return W(na,ra.restUrl+"/community/groups",wa)},pa=function(na,ra){return W(na,ra.restUrl+"/portals/self/settings")},ya=function(na,ra){return W(na,ra.restUrl+"/portals/self/trustedOrgs",{num:100})},ua=function(na,ra){return void 0===
ra&&(ra=","),na.map(function(wa){return wa.id}).join(ra)}},,,,,,function(S,O){S.exports=N},,,,,,,,,,,,function(S,O,I){function Z(Da,Ca,Ia){var La=Ca.settings.utils.request,Ga=Object(T.b)({},Ca);Ga=La(Ga[0],Ga[1]).then(Object(P.a)(Ca),function(Na){return Da({type:Ea,payload:Na})});if(Ia){var Ma=Object(T.a)(Ca,["access","contentstatus","categories"]);Ma=La(Ma[0],Ma[1]);Ia=Ca.settings.config.customSections;var Ha=Ca.parameters.section;if(Object(za.a)(Ha)||Object(va.e)(Ia,Ha)&&Object(za.a)(Object(va.b)(Ia,
Ha))){var Ka=Object(T.c)(Ca,Ca.ui.tagsFilter.filterString);Ka=La(Ka[0],Ka[1])}}La=[Ga,Ma,Ka].filter(function(Na){return Na});X()(La).then(function(Na){Da(function(Qa,Pa){var Ra,Sa,Va=Pa[0],Ua=Pa[1],Ta=Pa[2],Xa=Object(Aa.a)(Qa),ab=Qa.settings.utils.iconDir;return{type:xa,payload:{search:Object(W.a)(Object(W.a)({},Va.data),{results:Va.data.results.map(function(Wa){return Object(da.a)(Xa,ab,Wa)})}),aggregations:(null===(Ra=null==Ua?void 0:Ua.data)||void 0===Ra?0:Ra.aggregations)?{counts:Object(W.g)([],
Ua.data.aggregations.counts).concat((null===(Sa=null==Ta?void 0:Ta.data)||void 0===Sa?0:Sa.aggregations)?Object(W.g)([],Ta.data.aggregations.counts):[]),countInfo:{section:Qa.parameters.section,group:Qa.parameters.filter.group,custom:Qa.settings.config.customSections.filter(function(Wa){return Wa.name===Qa.parameters.section})[0]}}:void 0}}}(Ca,Na));Da(Oa.e)},function(Na){return Da({type:Ea,payload:Na})})}I.d(O,"a",function(){return Ja});I.d(O,"c",function(){return xa});I.d(O,"b",function(){return Ea});
I.d(O,"d",function(){return ta});I.d(O,"f",function(){return pa});I.d(O,"e",function(){return ya});I.d(O,"g",function(){return ua});I.d(O,"h",function(){return na});I.d(O,"i",function(){return ra});var W=I(0),ca=I(100),T=I(162),P=I(217);S=I(65);var X=I.n(S),da=I(78),ea=I(326),ja=I(327),la=I(173),ma=I(266),oa=I(328),sa=I(264),va=I(86),za=I(329),Aa=I(126),Ba=I(256),Oa=I(199),Ja="LOADING_CONTENT",xa="LOADING_CONTENT_SUCCESS",Ea="LOADING_CONTENT_FAILED",ta="LOADING_NEXT",pa="LOADING_NEXT_SUCCESS",ya=
"LOADING_NEXT_FAILED",ua="SUBSCRIPTION_CONTENT_SUCCESS",na=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.settings.utils.request,Ma=La.parameters.nextQuery.nextStart;Ca({type:ta});Ma=Object(T.b)({num:Da,start:Ma},La);Ga(Ma[0],Ma[1]).then(Object(P.a)(La),function(Ha){return Ca({type:ya,payload:Ha})}).then(function(Ha){return Ca(Fa(La,Ha))},function(Ha){return Ca({type:ya,payload:Ha})})}},ra=function(Da){return function(Ca,Ia){var La=Ia();Ca({type:Ja});La.settings.config.clearSelectionBetweenSearches&&
Ca({type:ca.b});Ca(wa(Da))}},wa=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.parameters.section,Ma=La.settings.utils.portal.user,Ha=!!Ma,Ka=La.settings.utils.portal,Na=Ka.isPortal,Qa=Ma&&"org_admin"===Ma.role,Pa=Ma&&Ma.privileges&&-1<Ma.privileges.indexOf("portal:admin:manageCollaborations"),Ra=Ma&&!Na&&Ma.orgId&&Ka.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ka.subscriptionInfo.type);Ca(Object(ea.b)()).then(function(Sa){"livingAtlas"===Ga||"Living Atlas"===
Ga?Ca(Object(ja.d)(Sa)).then(function(){return Z(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the living atlas info."})}):"myContent"!==Ga&&"myGroups"!==Ga&&"myFavorites"!==Ga&&"subscription"!==Ga||!Ha?"myOrganization"===Ga&&Ha?X()([Ca(Object(ma.d)())].concat(Qa&&Pa&&!Ra?[Ca(Object(oa.a)(Ca,Ia()))]:[])).then(function(){return Z(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the organization info."})}):Object(va.e)(La.settings.config.customSections,Ga)?Ca(Object(sa.e)()).then(function(){return Z(Ca,
Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the custom section info."})}):Z(Ca,La,Da):X()([Ca(Object(la.l)())].concat(Ha&&Ma.orgId?[Ca(Object(ma.d)())]:[]).concat(Qa&&Pa&&!Ra?[Ca(Object(oa.a)(Ca,Ia()))]:[])).then(function(){return"subscription"===Ga?Ca(Object(Ba.d)()).then(function(){return Ca({type:ua,payload:Ia().results.provisionedContent.content})},function(){return Ca({type:Ea,payload:"Couldn't load provisioned content info."})}):Z(Ca,Ia(),Da)},function(){return Ca({type:Ea,
payload:"Couldn't load the user info."})})})}},Fa=function(Da,Ca){var Ia=Da.settings.utils.iconDir,La=Object(Aa.a)(Da);return{type:pa,payload:Object(W.a)(Object(W.a)({},Ca.data),{results:Ca.data.results.map(function(Ga){return Object(da.a)(La,Ia,Ga)})})}}},function(S,O,I){I.d(O,"d",function(){return Z});I.d(O,"n",function(){return W});I.d(O,"i",function(){return ca});I.d(O,"j",function(){return T});I.d(O,"m",function(){return P});I.d(O,"f",function(){return X});I.d(O,"h",function(){return da});I.d(O,
"l",function(){return ea});I.d(O,"c",function(){return ja});I.d(O,"p",function(){return la});I.d(O,"g",function(){return ma});I.d(O,"e",function(){return oa});I.d(O,"q",function(){return sa});I.d(O,"k",function(){return va});I.d(O,"o",function(){return za});I.d(O,"r",function(){return Aa});I.d(O,"b",function(){return Ba});I.d(O,"a",function(){return Oa});I.d(O,"u",function(){return Ja});I.d(O,"E",function(){return xa});I.d(O,"y",function(){return Ea});I.d(O,"D",function(){return ta});I.d(O,"z",function(){return pa});
I.d(O,"A",function(){return ya});I.d(O,"w",function(){return ua});I.d(O,"C",function(){return na});I.d(O,"t",function(){return ra});I.d(O,"G",function(){return wa});I.d(O,"v",function(){return Fa});I.d(O,"x",function(){return Da});I.d(O,"H",function(){return Ca});I.d(O,"B",function(){return Ia});I.d(O,"F",function(){return La});I.d(O,"I",function(){return Ga});I.d(O,"s",function(){return Ma});var Z="UPDATE_CUSTOM_FILTER",W="UPDATE_ORG_GROUP_FILTER",ca="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",T="UPDATE_LIVING_ATLAS_REGION_FILTER",
P="UPDATE_ORG_CATEGORIES_FILTER",X="UPDATE_GROUP_CATEGORIES_FILTER",da="UPDATE_ITEM_TYPE_FILTER",ea="UPDATE_MODIFIED_FILTER",ja="UPDATE_CREATED_FILTER",la="UPDATE_SHARED_FILTER",ma="UPDATE_GROUP_FILTER",oa="UPDATE_FOLDER_FILTER",sa="UPDATE_STATUS_FILTER",va="UPDATE_MAP_AREA_FILTER",za="UPDATE_SEARCH_ORG_FILTER",Aa="UPDATE_TAGS_FILTER",Ba="UPDATE_COLLABORATIONS_FILTER",Oa="CLEAR_ALL_FILTERS",Ja=function(Ha,Ka){return{type:Z,payload:{index:Ha,filter:Ka}}},xa=function(Ha){return{type:W,payload:Ha}},
Ea=function(Ha){return{type:da,payload:Ha}},ta=function(Ha){return{type:P,payload:Ha}},pa=function(Ha){return{type:ca,payload:Ha}},ya=function(Ha){return{type:T,payload:Ha}},ua=function(Ha){return{type:X,payload:Ha}},na=function(Ha,Ka){return{type:ea,payload:{section:Ha,modified:Ka}}},ra=function(Ha,Ka){return{type:ja,payload:{section:Ha,created:Ka}}},wa=function(Ha){return{type:la,payload:Ha}},Fa=function(Ha){return{type:oa,payload:Ha}},Da=function(Ha){return{type:ma,payload:Ha}},Ca=function(Ha){return{type:sa,
payload:Ha}},Ia=function(Ha){return{type:va,payload:Ha}},La=function(Ha){return{type:za,payload:Ha}},Ga=function(Ha){return{type:Aa,payload:Ha}},Ma=function(Ha){return{type:Ba,payload:Ha}}},,function(S,O,I){function Z(xa){return!(!xa.urlKey||!xa.customBaseUrl)}function W(xa){return xa.role===oa.admin||xa.role===oa.accountAdmin}function ca(xa){return Object(za.a)(xa.roleId)&&0<(xa.roleId||"").length}function T(xa){return!ca(xa)||ca(xa)&&-1<(xa.privileges||[]).indexOf("portal:admin:viewItems")}function P(xa){return-1<
(xa.privileges||[]).indexOf("portal:user:shareToOrg")}function X(xa){return-1<(xa.privileges||[]).indexOf("portal:user:shareToGroup")}function da(xa){return-1<(xa.privileges||[]).indexOf("portal:user:shareToPublic")}function ea(xa,Ea){return ja(xa)||la(xa)||Ea.canSharePublic&&ma(xa)}function ja(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToGroup")}function la(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToOrg")}function ma(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToPublic")}
I.d(O,"l",function(){return Ba});I.d(O,"h",function(){return Oa});I.d(O,"m",function(){return Ja});I.d(O,"k",function(){return Z});I.d(O,"i",function(){return W});I.d(O,"j",function(){return ca});I.d(O,"g",function(){return T});I.d(O,"b",function(){return P});I.d(O,"a",function(){return X});I.d(O,"c",function(){return da});I.d(O,"d",function(){return ja});I.d(O,"e",function(){return la});I.d(O,"f",function(){return ma});var oa,sa=I(63),va=I(148),za=I(5),Aa=I(58);!function(xa){xa.user="org_user";xa.accountUser=
"account_user";xa.publisher="org_publisher";xa.accountPublisher="account_publisher";xa.admin="org_admin";xa.accountAdmin="account_admin";xa.viewer="iAAAAAAAAAAAAAAA";xa.dataEditor="iBBBBBBBBBBBBBBB"}(oa||(oa={}));var Ba=function(xa){var Ea=xa.items;return!!xa.user.orgId&&Ea.every(function(ta){return ta.isOrgItem})},Oa=function(xa){var Ea=xa.items,ta=xa.user,pa=xa.portal;xa=Ea[0];var ya=Object(Aa.c)(xa,ta),ua=ca(ta),na=ea(ta,pa);if(ua=Object(Aa.a)(xa,ta)&&-1<(ta.privileges||[]).indexOf("portal:admin:updateItems")&&
!ua)ua=!Z(pa)||X(ta)||P(ta)||pa.canSharePublic&&da(ta)||ea(ta,pa);pa=ua;return!(xa.portal.isPortal&&xa.owner!==ta.username&&-1<xa.owner.indexOf("esri_"))&&(ya||pa||Ba({items:Ea,user:ta})&&na)},Ja=function(xa,Ea){return Object(sa.a)(Object(va.a)(xa))(Ea)}},,,,,function(S,O){S.exports=n},,function(S,O,I){function Z(da,ea){return(null==da?void 0:da.owner)===ea.username}function W(da,ea){var ja;if(!(ja=Z(da,ea)))if(Object(T.a)(da.isAdmin))ja=!!da.isAdmin;else{ja=da.owner;var la="admin"===da.itemControl;
ja=!(da.portal.isPortal&&!Z(da,ea)&&la&&-1<ja.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(ja))&&la}return ja}function ca(da,ea){return W(da,ea)||"update"===da.itemControl}I.d(O,"d",function(){return Z});I.d(O,"c",function(){return W});I.d(O,"a",function(){return ca});I.d(O,"b",function(){return X});var T=I(5),P=I(51),X=function(da){var ea=da.user,ja=da.items;da=da.portal;return Object(P.l)({items:ja,user:ea})&&Object(P.h)({items:ja,user:ea,portal:da})&&Object(P.g)(ea)&&
ja[0].itemOwner||ea}},,,,,function(S,O,I){function Z(){for(var W=[],ca=0;ca<arguments.length;ca++)W[ca]=arguments[ca];return function(T){return W.reduceRight(function(P,X){return X(P)},T)}}I.d(O,"a",function(){return Z})},,function(S,O){S.exports=t},,,,function(S,O){S.exports=u},,function(S,O,I){I.d(O,"a",function(){return Z});var Z="CLEAR_SELECTION_STATE"},,,,,,,function(S,O,I){I.d(O,"a",function(){return da});I.d(O,"b",function(){return ea});var Z=I(63);S=I(5);var W=I(123),ca=I(122),T=I(117),P=
I(121),X=I(120),da=function(ja,la,ma){return Object(Z.a)(Object(X.a)(ja),Object(P.a)(ja),Object(T.a)(la),Object(ca.a)(ja),Object(W.a)(ja))(ma)},ea=Object(Z.a)(Object(S.e)("patchedDescription"),Object(S.e)("thumbURI"),Object(S.e)("iconURI"),Object(S.e)("displayName"),Object(S.e)("badges"))},,,,,,,,function(S,O,I){function Z(da){return!(!P(da)&&!X(da))}function W(da,ea){return da.filter(function(ja){return ja.name===ea})[0]}function ca(da,ea){return!!W(da,ea)}I.d(O,"a",function(){return T});I.d(O,"c",
function(){return P});I.d(O,"d",function(){return X});I.d(O,"f",function(){return Z});I.d(O,"b",function(){return W});I.d(O,"e",function(){return ca});S=I(15);var T=function(da){return da.filters?da.filters.filter(function(ea){return"object"==typeof ea&&("group"===ea.type||"org"===ea.type)}):[]};S=Object(S.a)(function(da,ea){if(ea.filters)return ea.filters.reduce(function(ja,la){return"object"==typeof la&&la.type===da?la:ja},void 0)});var P=S("group"),X=S("org")},,,,function(S,O,I){I.d(O,"a",function(){return Z});
I.d(O,"b",function(){return W});I.d(O,"c",function(){return ca});I.d(O,"d",function(){return T});I.d(O,"e",function(){return P});I.d(O,"h",function(){return X});I.d(O,"i",function(){return da});I.d(O,"j",function(){return ea});I.d(O,"k",function(){return ja});I.d(O,"g",function(){return la});I.d(O,"f",function(){return ma});var Z="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",W="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",ca="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
T="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",P="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",X="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
da="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
ea="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",ja="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",la="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",ma="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
,,,,,,,,function(S,O,I){function Z(da,ea){if(null==da?0:da.length)for(var ja=void 0,la=0;la<da.length;la++)if(ea(ja=da[la]))return ja}function W(da){return da.filter(function(ea){return 0<ea.length})}function ca(da,ea,ja){var la=[];return ea.forEach(function(ma){(ja?ma[ja].toLowerCase()===da.toLowerCase():ma.toLowerCase()===da.toLowerCase())?la.unshift(ma):la.push(ma)}),la}I.d(O,"e",function(){return T});I.d(O,"f",function(){return P});I.d(O,"c",function(){return Z});I.d(O,"b",function(){return W});
I.d(O,"a",function(){return X});I.d(O,"d",function(){return ca});S=I(15);var T=function(da,ea,ja){return ja.indexOf(da)===ea},P=Object(S.a)(function(da,ea){var ja={};return ea.filter(function(la){return!ja[la[da]]&&(ja[la[da]]=!0,!0)})}),X=function(da,ea){return da.length===ea.length&&da.reduce(function(ja,la){return ja&&-1<ea.indexOf(la)},!0)}},function(S,O,I){I.d(O,"g",function(){return ca});I.d(O,"k",function(){return T});I.d(O,"j",function(){return P});I.d(O,"h",function(){return X});I.d(O,"i",
function(){return da});I.d(O,"c",function(){return ea});I.d(O,"b",function(){return ja});I.d(O,"f",function(){return la});I.d(O,"e",function(){return ma});I.d(O,"d",function(){return oa});I.d(O,"a",function(){return sa});I.d(O,"r",function(){return va});I.d(O,"n",function(){return za});I.d(O,"s",function(){return Aa});I.d(O,"o",function(){return Ba});I.d(O,"q",function(){return Oa});I.d(O,"p",function(){return Ja});I.d(O,"l",function(){return xa});I.d(O,"m",function(){return Ea});var Z=I(78),W=I(48),
ca="SELECT_ITEM",T="TOGGLE_ITEM",P="SELECT_ITEM_SINGLE",X="SELECT_ITEM_ASYNC",da="SELECT_ITEM_ASYNC_FAILED",ea="DESELECT_ITEM",ja="DESELECT_ALL",la="SELECT_ALL",ma="SELECT_ALL_FROM_QUERY_SUCCESS",oa="END_BULK_WORKFLOW",sa="CANCEL_BULK_WORKFLOW",va=function(ta){return function(pa,ya){var ua=ya();if(ua.settings.config.asynchronousItemSelect){pa({type:X,payload:ta});var na=ua.settings.config.onSelect([Object(Z.b)(ta)]);(null==na?0:na.then)&&na.then(function(){ua.settings.config.singleItemSelect?pa({type:P,
payload:ta}):pa({type:ca,payload:ta})},function(){pa({type:da,payload:ta})})}else ua.settings.config.singleItemSelect?(pa({type:P,payload:ta}),ua.settings.config.onSelect([Object(Z.b)(ta)])):(pa({type:ca,payload:ta}),ua.settings.config.onSelect([Object(Z.b)(ta)]))}},za=function(ta,pa){var ya=pa();if(ya.settings.config.disableInitiallySelectedItems){ya=ya.results;var ua=ya.selectedItems,na=ya.initiallySelectedItems;Object.keys(ua).map(function(ra){return ua[ra]}).filter(function(ra){return!na[ra.id]}).forEach(function(ra){ta({type:ea,
payload:ra})})}else ta({type:ja})},Aa=function(ta){return{type:T,payload:ta}},Ba=function(ta){return function(pa,ya){var ua=ya();pa({type:ea,payload:ta});ua.settings.config.onDeselect([Object(Z.b)(ta)])}},Oa=function(){return function(ta,pa){var ya=pa();ta({type:la,payload:ya.ui.pagination.displayItems})}},Ja=function(ta){return{type:ma,payload:ta}},xa=function(ta,pa){var ya=null==pa?void 0:pa();ta({type:sa});null==ya||ya.settings.config.onBack()},Ea=function(ta,pa){var ya=null==pa?void 0:pa();if(null==
ya?0:ya.settings.config.onBulkAction){var ua=ya.settings.config.onBulkAction;ya=ya.results;var na=ya.selectedItems,ra=ya.initiallySelectedItems;ya=Object.keys(ra).map(function(Ca){return ra[Ca]});var wa=Object.keys(na).map(function(Ca){return na[Ca]}),Fa=ya.filter(function(Ca){return!na[Ca.id]}),Da=wa.filter(function(Ca){return!ra[Ca.id]});ta({type:W.a});ta({type:oa,payload:Da});ua({initiallySelectedItems:ya,allSelectedItems:wa,newlySelectedItems:Da,deselectedItems:Fa})}}},function(S,O,I){I.d(O,"a",
function(){return W});I.d(O,"b",function(){return ca});var Z=I(0),W=function(T){return T?T.urlKey?location.protocol+"//"+T.urlKey+"."+T.customBaseUrl:location.protocol+"//"+T.portalHostname:""},ca=function(T){return Object(Z.a)(Object(Z.a)({},T),{baseUrl:W(T)})}},,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){var P=Object(Z.a),X=Object(Z.a)({},T),da=T.type,ea=T.typeKeywords?T.typeKeywords:[],ja=null==da?void 0:da.toLowerCase(),la=
!1,ma=!1,oa=da=!1;if("ogcfeatureserver"===ja)ea="featureshosted";else if(0<(null==ja?void 0:ja.indexOf("service"))||"feature collection"===ja||"kml"===ja||"wms"===ja||"wmts"===ja||"wfs"===ja){var sa=-1<ea.indexOf("Hosted Service");"feature service"===ja||"feature collection"===ja||"kml"===ja||"wfs"===ja?(oa=-1<ea.indexOf("Table"),la=-1<ea.indexOf("Route Layer"),ma=-1<ea.indexOf("Markup"),ea=(da=-1!==ea.indexOf("Spatiotemporal"))&&oa?"spatiotemporaltable":oa?"table":la?"routelayer":ma?"markup":da?
"spatiotemporal":sa?"featureshosted":"features"):"map service"===ja||"wms"===ja||"wmts"===ja?ea=sa||-1<ea.indexOf("Tiled")||"wmts"===ja?"maptiles":"mapimages":"scene service"===ja?ea=-1<ea.indexOf("Line")?"sceneweblayerline":-1<ea.indexOf("3DObject")?"sceneweblayermultipatch":-1<ea.indexOf("Point")?"sceneweblayerpoint":-1<ea.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<ea.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<ea.indexOf("Polygon")?"sceneweblayerpolygon":-1<ea.indexOf("Building")?
"sceneweblayerbuilding":-1<ea.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===ja?(da=-1<ea.indexOf("Elevation 3D Layer"),ea=-1<ea.indexOf("Tiled Imagery"),ea=da?"elevationlayer":ea?"tiledimagerylayer":"imagery"):ea="stream service"===ja?"streamlayer":"vector tile service"===ja?"vectortile":"datastore catalog service"===ja?"datastorecollection":"geocoding service"===ja?"geocodeservice":"geoprocessing service"===ja&&-1<ea.indexOf("Web Tool")?"tool":"layers"}else ea="web map"===
ja||"cityengine web scene"===ja?"maps":"web scene"===ja?-1<ea.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===ja&&-1<(null==ea?void 0:ea.indexOf("configurableApp"))?"instantapps":"web mapping application"===ja||"mobile application"===ja||"application"===ja||"operation view"===ja||"desktop application"===ja?"apps":"map document"===ja||"map package"===ja||"published map"===ja||"scene document"===ja||"globe document"===ja||"basemap package"===ja||"mobile basemap package"===
ja||"mobile map package"===ja||"project package"===ja||"project template"===ja||"pro map"===ja||"layout"===ja||"layer"===ja&&-1<ea.indexOf("ArcGIS Pro")||"explorer map"===ja&&-1<ea.indexOf("Explorer Document")?"mapsgray":"service definition"===ja||"csv"===ja||"administrative report"===ja||"shapefile"===ja||"cad drawing"===ja||"geojson"===ja||"360 vr experience"===ja||"netcdf"===ja?"datafiles":"explorer add in"===ja||"desktop add in"===ja||"windows viewer add in"===ja||"windows viewer configuration"===
ja?"appsgray":"arcgis pro add in"===ja||"arcgis pro configuration"===ja?"addindesktop":"rule package"===ja||"file geodatabase"===ja||"csv collection"===ja||"kml collection"===ja||"windows mobile package"===ja||"map template"===ja||"desktop application template"===ja||"arcpad package"===ja||"code sample"===ja||"form"===ja||"document link"===ja||"vector tile package"===ja||"operations dashboard add in"===ja||"rules package"===ja||"image"===ja||"workflow manager package"===ja||"explorer map"===ja&&-1<
ea.indexOf("Explorer Mapping Application")||-1<ea.indexOf("Document")?"datafilesgray":"network analysis service"===ja||"geoprocessing service"===ja||"geodata service"===ja||"geometry service"===ja||"geoprocessing package"===ja||"locator package"===ja||"geoprocessing sample"===ja||"workflow manager service"===ja||"raster function template"===ja||"deep learning package"===ja?"toolsgray":"layer"===ja||"layer package"===ja||"explorer layer"===ja?"layersgray":"scene package"===ja?"scenepackage":"tile package"===
ja?"tilepackage":"storymap"===ja?"storymap":"storymap theme"===ja?"storymaptheme":"web experience"===ja?"experiencebuilder":"web experience template"===ja?"webexperiencetemplate":"task file"===ja?"taskfile":"report template"===ja?"report-template":"statistical data collection"===ja?"statisticaldatacollection":"insights workbook"===ja?"workbook":"insights model"===ja?"insightsmodel":"insights page"===ja?"insightspage":"hub initiative"===ja?"hubinitiative":"hub page"===ja?"hubpage":"hub site application"===
ja?"hubsite":"relational database connection"===ja?"relationaldatabaseconnection":"big data file share"===ja||"data store"===ja?"datastorecollection":"image collection"===ja?"imagecollection":"desktop style"===ja?"desktopstyle":"style"===ja?"style":"dashboard"===ja?"dashboard":"feed"===ja?"feed":"real time analytic"===ja?"realtimeanalytics":"big data analytic"===ja?"bigdataanalytics":"notebook"===ja?"notebook":"notebook code snippets"===ja?"notebookcodesnippets":"maps";return P(X,{iconURI:ca+"/"+
ea+"16.png"})})},,,function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){var P=Object(Z.a),X=Object(Z.a)({},T),da,ea,ja="notebook"!==(null===(da=T.type)||void 0===da?void 0:da.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(ea=T.type)||void 0===ea?void 0:ea.toLowerCase())&&(ja="notebook-code-snippet-thumb.png");ea=ca.baseUrl+"/home/js/arcgisonline/css/images/"+ja;da=(T.thumbnail&&(ea=ca.restUrl+"/content/items/"+
T.id+"/info/"+T.thumbnail+(ca.credential?"?token\x3d"+ca.credential.token:"")),ea);return P(X,{thumbURI:da})})},function(S,O,I){I.d(O,"a",function(){return ca});var Z=I(0);S=I(15);var W=function(T,P){return P.description?P.description.replace(/src=('|")js\/jsapi\/esri\//g,function(X){return"src\x3d"+('"'===X[4]?'"':"'")+T.baseUrl+"/home/js/jsapi/esri/"}):void 0},ca=Object(S.a)(function(T,P){return Object(Z.a)(Object(Z.a)({},P),{patchedDescription:W(T,P)})})},function(S,O,I){I.d(O,"a",function(){return T});
var Z=I(0),W=I(124);S=I(15);var ca=I(58),T=Object(S.a)(function(P,X){var da=Object(Z.a),ea=Object(Z.a)({},X),ja,la=X.type,ma=X.typeKeywords||[],oa=la,sa=(null==P?void 0:P.portalUser)||(null==P?void 0:P.user);if("Feature Service"===la||"Feature Collection"===la){if(oa=-1<ma.indexOf("Table")?"Table":-1<ma.indexOf("Route Layer")?"Route Layer":-1<ma.indexOf("Markup")?"Markup":"Feature Layer",sa&&Object(ca.d)(X,sa)&&-1<(null==ma?void 0:ma.indexOf("Hosted Service")))ma=(null===(ja=null===document||void 0===
document?void 0:document.documentElement)||void 0===ja?void 0:ja.lang)||"en",oa=oa+" ("+(W.a[ma]||W.a[ma.split("-")[0]]||W.a.en)+")"}else"Image Service"===la?(ja=-1<ma.indexOf("Elevation 3D Layer"),ma=-1<ma.indexOf("Tiled Imagery"),oa=ja?"Elevation Layer":ma?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===la?oa="Scene Layer":"Scene Package"===la?oa="Scene Layer Package":"Stream Service"===la?oa="Feature Layer":"Geocoding Service"===la?oa="Locator":"Microsoft Powerpoint"===la?oa="Microsoft PowerPoint":
"OGCFeatureServer"===la?oa="OGC Feature Layer":"GeoJson"===la?oa="GeoJSON":"Globe Service"===la?oa="Globe Layer":"Vector Tile Service"===la?oa="Tile Layer":"netCDF"===la?oa="NetCDF":"Map Service"===la?oa=-1===ma.indexOf("Spatiotemporal")&&(-1<ma.indexOf("Hosted Service")||-1<ma.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":la&&-1<la.toLowerCase().indexOf("add in")?oa=la.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===la?oa="Big Data File Share":"Web Mapping Application"===la&&(null==
ma?0:ma.includes("configurableApp"))?oa="Instant App":"Data Store"===la&&(ma.includes("cloudStore_amazon")||ma.includes("cloudStore_azure")?oa+=" (Cloud)":(ma.includes("fileShare")||ma.includes("hdfs")||ma.includes("hive")||ma.includes("bigDataFileShare")&&ma.includes("dataStore"))&&(oa+=" (Big Data File Share)"));return da(ea,{displayName:oa})})},function(S,O,I){I.d(O,"a",function(){return ca});var Z=I(0);S=I(15);var W=function(T,P){var X=[],da=T.typeKeywords?T.typeKeywords:[];return T.contentStatus&&
("org_authoritative"===T.contentStatus||"public_authoritative"===T.contentStatus?X.push("authoritative"):"deprecated"===T.contentStatus&&X.push("deprecated")),T.origin&&X.push("collaboration"),T.groupDesignations&&-1<T.groupDesignations.indexOf("livingatlas")&&X.push("livingAtlas"),-1<da.indexOf("Requires Credits")?X.push("premium"):-1<da.indexOf("Requires Subscription")&&X.push("subscriber"),-1<da.indexOf("Public Data Collection")&&((null==P?void 0:P.portalUser)||(null==P?void 0:P.user))&&X.push("publicDataCollection"),
"Solution"===T.type&&-1<T.typeKeywords.indexOf("ArcGIS Solution")&&X.push("solution"),P.isPortal&&"Web Mapping Application"===T.type&&(-1<T.typeKeywords.indexOf("Story Map")&&X.push("retiredStoryMap"),function(ea){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(ja){var la,
ma=-1<ja.indexOf(".html");return-1<(null===(la=ea.url)||void 0===la?void 0:la.indexOf("/apps/"+ja+(ma?"":"/")))})}(T)&&X.push("retiredApp")),X},ca=Object(S.a)(function(T,P){return Object(Z.a)(Object(Z.a)({},P),{badges:W(P,T)})})},function(S,O,I){I.d(O,"a",function(){return Z});var Z={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},function(S,O,I){I.d(O,"a",function(){return P});I.d(O,"d",function(){return X});I.d(O,"c",function(){return da});I.d(O,"b",function(){return ea});I.d(O,"f",function(){return ja});I.d(O,"h",function(){return la});I.d(O,"g",function(){return ma});I.d(O,"i",function(){return oa});I.d(O,"e",function(){return sa});I.d(O,"m",function(){return va});I.d(O,"l",function(){return za});I.d(O,"k",
function(){return Aa});I.d(O,"o",function(){return Ba});I.d(O,"j",function(){return Oa});I.d(O,"p",function(){return Ja});I.d(O,"n",function(){return xa});var Z=I(0);S=I(65);var W=I.n(S),ca=I(30),T=I(51),P="CHANGE_PAGE",X="CHANGE_SORT_ORDER",da="CHANGE_SORT_FIELD",ea="CHANGE_SEARCH_STRING",ja="FETCH_RESOURCES",la="FETCH_RESOURCES_SUCCESS",ma="FETCH_RESOURCES_FAILED",oa="UPDATE_ACTIVE_FILTERS",sa="CLEAR_ALL_FILTERS",va=function(Ea){return{type:X,payload:Ea}},za=function(Ea){return{type:da,payload:Ea}},
Aa=function(Ea){return{type:ea,payload:Ea}},Ba=function(){return function(Ea,ta){var pa=ta();if(!1===pa.ui.resourceSectionVisible)Ea({type:ma});else{Ea({type:ja});var ya=Object(ca.v)(pa.request,pa.item.url),ua=Object(ca.r)(pa.request,pa.portal,pa.item.owner);W()([ya,ua]).then(function(na){if("Geoprocessing Service"===pa.item.type&&na[0].tasks&&0<na[0].tasks.length){var ra=na[0].tasks.map(function(wa){return Object(ca.v)(pa.request,pa.item.url+"/"+wa)});W()(ra).then(function(wa){Ea({type:la,payload:{resources:wa.map(function(Fa){return Object(Z.a)({type:"task"},
Fa)}).filter(pa.config.allowed),resourcesPerPage:pa.config.resourcesPerPage,owner:Object(T.m)(pa.portal,na[1]),service:Object(Z.a)({},na[0])}})},function(){Ea({type:ma})})}else"Big Data File Share"===pa.item.type&&na[0].children&&0<na[0].children.length?(ra=na[0].children.map(function(wa){return Object(ca.v)(pa.request,pa.item.url+"/"+wa.name)}),W()(ra).then(function(wa){Ea({type:la,payload:{resources:wa.map(function(Fa,Da){return Object(Z.a)(Object(Z.a)({},na[0].children[Da]),Fa)}).filter(pa.config.allowed),
resourcesPerPage:pa.config.resourcesPerPage,owner:Object(T.m)(pa.portal,na[1]),service:Object(Z.a)({},na[0])}})},function(){Ea({type:ma})})):na[0].layers&&0<na[0].layers.length||na[0].tables&&0<na[0].tables.length?(na[0].layers=na[0].layers.concat(na[0].tables),ra=na[0].layers.map(function(wa){return Object(ca.v)(pa.request,pa.item.url+"/"+wa.id)}),W()(ra).then(function(wa){Ea({type:la,payload:{resources:wa.map(function(Fa,Da){return Object(Z.a)(Object(Z.a)({},na[0].layers[Da]),Fa)}).filter(pa.config.allowed),
resourcesPerPage:pa.config.resourcesPerPage,owner:Object(T.m)(pa.portal,na[1]),service:Object(Z.a)({},na[0])}})},function(){Ea({type:ma})})):Object(ca.v)(pa.request,pa.item.url).then(function(wa){Ea({type:la,payload:{resources:[wa].map(function(Fa){return Object(Z.a)(Object(Z.a)({},pa.item),Fa)}).filter(pa.config.allowed),resourcesPerPage:pa.config.resourcesPerPage,owner:Object(T.m)(pa.portal,na[1]),service:Object(Z.a)({},na[0])}})},function(){Ea({type:ma})})},function(na){Ea({type:ma})})}}},Oa=function(Ea){return{type:P,
payload:Ea}},Ja=function(Ea,ta){return{type:oa,payload:{index:Ea,filter:ta}}},xa=function(){return{type:sa}}},function(S,O,I){function Z(T){var P=Object(W.b)(T.settings.config.customSections,T.parameters.section);return(null==P?0:P.portal)?Object(ca.b)(P.portal):T.settings.utils.portal}I.d(O,"a",function(){return Z});var W=I(86),ca=I(101)},,,,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return Z});I.d(O,"a",function(){return W});var Z={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},W="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){var P=Object(Z.a),X=Object(Z.a)({},T);var da=T.thumbnail?ca.restUrl+"/community/users/"+T.username+"/info/"+T.thumbnail+(ca.credential?"?token\x3d"+ca.credential.token:""):void 0;return P(X,{thumbURI:da})})},,function(S,O){S.exports=h},function(S,O){S.exports=f},,,,,,,,,,,function(S,O,I){function Z(Aa,Ba){var Oa=["",{method:"get",query:Ba.settings.config.addRequestParameters?Object(T.a)({f:"json",
q:Object(X.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1},Ba.settings.config.addRequestParameters()):{f:"json",q:Object(X.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1}}];return Object(P.a)(ma(Ba),oa(Ba),sa(Ba),va(Ba))(Oa)}function W(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(X.a)(Aa),num:0,countFields:Ba.join(", "),countSize:200}}];return la(Aa)(Oa)}
function ca(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(X.c)(Aa,Ba),num:0,countFields:"tags",countSize:200}}];return la(Aa)(Oa)}I.d(O,"b",function(){return Z});I.d(O,"a",function(){return W});I.d(O,"c",function(){return ca});var T=I(0),P=I(63);S=I(15);var X=I(179),da=I(356),ea=I(126),ja=I(86),la=function(Aa){return Object(P.a)(va(Aa),za(Aa),sa(Aa))},ma=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Aa.parameters.sort.field;return"relevance"!==xa?[Oa,Object(T.a)(Object(T.a)({},Ja),
{query:Object(T.a)(Object(T.a)({},Ja.query),{sortField:xa})})]:[Oa,Ja]}),oa=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1];if(Aa.parameters.filter.searchMapArea){var xa=Aa.parameters.extent.area;xa=xa.minx+","+xa.miny+","+xa.maxx+","+xa.maxy;return[Oa,Object(T.a)(Object(T.a)({},Ja),{query:Object(T.a)(Object(T.a)({},Ja.query),{bbox:xa})})]}return[Oa,Ja]}),sa=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Object(da.a)(Aa);return xa?[Oa,Object(T.a)(Object(T.a)({},Ja),{query:Object(T.a)(Object(T.a)({},
Ja.query),{enriched:xa})})]:[Oa,Ja]}),va=Object(S.a)(function(Aa,Ba){Ba[0];var Oa=Ba[1],Ja=Aa.parameters,xa=Ja.section;Ja=Ja.filter;var Ea=Object(ea.a)(Aa),ta=Ea.restUrl+"/search";if("myGroups"===xa&&Ja.group)ta=Ea.restUrl+"/content/groups/"+Ja.group.id+"/search",Ja.groupCategories&&(ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value])));else if("livingAtlas"!==xa&&"Living Atlas"!==xa||!Aa.results.livingAtlas.groupId)if(!Ja.orgCategories||"myOrganization"!==xa&&"myContent"!==
xa){if(xa=Object(ja.b)(Aa.settings.config.customSections,xa))Object(ja.d)(xa)&&Ja.orgCategories&&(ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]))),(xa=Object(ja.c)(xa))&&(ta=Ea.restUrl+"/content/groups/"+xa.id+"/search",Ja.groupCategories&&(ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value]))))}else ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]));else ta=Ea.restUrl+"/content/groups/"+Aa.results.livingAtlas.groupId+
"/search",Ja.livingAtlasCategories?(ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasCategories.value])),Ja.livingAtlasRegion&&(ta=ta+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])))):Ja.livingAtlasRegion&&(ta=ta+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])));return[ta,Oa]}),za=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Aa.parameters.section,Ea=Object(ja.b)(Aa.settings.config.customSections,
xa);return"myGroups"===xa&&Aa.parameters.filter.group||("livingAtlas"===xa||"Living Atlas"===xa)&&Aa.results.livingAtlas.groupId||Ea&&Object(ja.c)(Ea)?[Oa,Object(T.a)(Object(T.a)({},Ja),{query:Object(T.a)(Object(T.a)({},Ja.query),{countFields:Ja.query.countFields?Ja.query.countFields.replace("categories","groupcategories"):void 0})})]:[Oa,Ja]})},,,,,,,,function(S,O){var I=function(){return this}();try{I=I||(new Function("return this"))()}catch(Z){"object"==typeof window&&(I=window)}S.exports=I},,
,function(S,O,I){I.d(O,"a",function(){return P});I.d(O,"c",function(){return X});I.d(O,"b",function(){return da});I.d(O,"d",function(){return ea});I.d(O,"h",function(){return ja});I.d(O,"i",function(){return la});I.d(O,"j",function(){return ma});I.d(O,"e",function(){return oa});I.d(O,"g",function(){return sa});I.d(O,"f",function(){return va});I.d(O,"l",function(){return za});I.d(O,"k",function(){return Ba});I.d(O,"m",function(){return Oa});S=I(65);var Z=I.n(S);S=I(56);var W=I.n(S),ca=I(30),T=I(48),
P="ADD_TO_FAVORITES",X="ADD_TO_FAVORITES_SUCCESS",da="ADD_TO_FAVORITES_FAIL",ea="LOADING_USER_INFO",ja="UPDATE_GROUP_CATEGORIES",la="UPDATE_USER_INFO",ma="UPDATE_USER_INFO_FAILED",oa="REMOVE_FROM_FAVORITES",sa="REMOVE_FROM_FAVORITES_SUCCESS",va="REMOVE_FROM_FAVORITES_FAIL",za=function(){return function(Ja,xa){var Ea=xa(),ta=Ea.parameters.filter.group,pa=Ea.results.user.groupCategories;if("loaded"===Ea.results.user.status)return ta&&!pa[ta.id]?Ja(Aa(ta.id)):(new W.a).resolve();if("failed"===Ea.results.user.status)return(new W.a).reject();
Ja({type:ea});pa=Ea.settings.utils;Ea=pa.request;pa=pa.portal;return Z()([Object(ca.r)(Ea,pa).then(function(ya){return ya.groups.map(function(ua){return{id:ua.id,title:ua.title}})}),Object(ca.s)(Ea,pa).then(function(ya){return ya.folders.map(function(ua){return{id:ua.id,title:ua.title}})}),Object(ca.t)(Ea,pa,pa.user.favGroupId).then(function(ya){return ya.items.reduce(function(ua,na){return ua[na.id]=!0,ua},{})})].concat(ta?[Ja(Aa(ta.id))]:[])).then(function(ya){Ja({type:la,payload:{groups:ya[0],
folders:ya[1],favorites:ya[2]}})},function(ya){Ja({type:ma})})}},Aa=function(Ja){return function(xa,Ea){var ta=Ea().settings.utils;return Object(ca.f)(ta.request,ta.portal,Ja).then(function(pa){xa({type:ja,payload:{id:Ja,categorySchema:pa.categorySchema}})})}},Ba=function(Ja){return function(xa,Ea){var ta=Ea(),pa=ta.settings.utils.portal,ya=pa.restUrl+"/content/items/"+Ja.id+"/share";pa={f:"json",everyone:Ja.access&&"public"===Ja.access||Ja.sharing&&Ja.sharing.access&&"public"===Ja.sharing.access,
org:Ja.access&&"org"===Ja.access||Ja.sharing&&Ja.sharing.access&&"org"===Ja.sharing.access||!1,groups:[pa.user.favGroupId],items:[Ja.id]};xa({type:P,payload:Ja});ta.settings.utils.request(ya,{method:"post",query:pa}).then(function(ua){xa({type:X,payload:Ja})},function(ua){xa({type:da,payload:Ja})})}},Oa=function(Ja){return function(xa,Ea){var ta=Ea(),pa=ta.settings.utils.portal,ya=pa.user.favGroupId,ua=pa.restUrl+"/content/items/"+Ja.id+"/unshare",na={f:"json",everyone:!1,org:!1,groups:[ya],items:[Ja.id]};
xa({type:oa,payload:Ja});ta.settings.utils.request(ua,{method:"post",query:na}).then(function(ra){function wa(){xa({type:sa,payload:Ja})}"myFavorites"===(ta=Ea()).parameters.section?function Da(){ta.settings.utils.request(pa.restUrl+"/search",{query:{f:"json",q:"(id:"+Ja.id+") (group:"+ya+")"},method:"get"}).then(function(Ca){0<Ca.data.total?setTimeout(function(){Da()},250):(wa(),xa(Object(T.i)()))},function(Ca){wa()})}():wa()},function(ra){xa({type:va,payload:Ja})})}}},,,,,function(S,O){S.exports=
g},function(S,O,I){function Z(ta){return Object(P.a)(X.b,xa(ta),Ea(ta),Object(da.a)(ta.parameters.filter.orgGroup),Object(ea.a)(ta.parameters.filter.status,ta.settings.utils.portal.user),Ja(ta),Object(ja.a)(ta.parameters.filter.shared),Object(la.a)(ta.parameters.filter.dateCreated),Object(la.b)(ta.parameters.filter.dateModified),Object(ma.a)(Aa.b,{allowedItemTypes:ta.settings.config.allowedItemTypes,itemTypeFilter:ta.parameters.filter.itemType,specialItemQ:ta.settings.config.specialItemQ}),Object(oa.b)(ta.parameters.filter.tags),
Object(sa.a)(ta.parameters.filter.origins))([ta.parameters.searchString.current]).join(" ")}function W(ta){return Object(P.a)(X.b,xa(ta),Ja(ta),Object(ma.a)(Aa.b,{allowedItemTypes:ta.settings.config.allowedItemTypes,specialItemQ:ta.settings.config.specialItemQ}))([ta.parameters.searchString.current]).join(" ")}function ca(ta,pa){return Object(P.a)(X.b,xa(ta),Ja(ta),Object(ma.a)(Aa.b,{allowedItemTypes:ta.settings.config.allowedItemTypes,specialItemQ:ta.settings.config.specialItemQ}),Object(oa.a)(pa))([ta.parameters.searchString.current]).join(" ")}
I.d(O,"b",function(){return Z});I.d(O,"a",function(){return W});I.d(O,"c",function(){return ca});var T=I(0),P=I(63),X=I(99),da=I(398),ea=I(399),ja=I(400),la=I(323),ma=I(265),oa=I(324),sa=I(401);S=I(15);var va=I(5),za=I(180),Aa=I(141),Ba=I(126),Oa=I(86),Ja=Object(S.a)(function(ta,pa){var ya=ta.parameters.filter,ua=ta.settings.config,na=Object(Ba.a)(ta);switch(ta.parameters.section){case "myContent":return na.user?na.user&&ya.folder?Object(T.g)(Object(T.g)([],pa),['(owner:"'+na.user.username+'") (ownerfolder:'+
ya.folder.id+")"]):Object(T.g)(Object(T.g)([],pa),['(owner:"'+na.user.username+'")']):pa;case "myFavorites":return na.user?Object(T.g)(Object(T.g)([],pa),["(group:"+na.user.favGroupId+")"]):pa;case "myGroups":if(ta.results.user.groups){if(ta.parameters.filter.group)return Object(T.g)(Object(T.g)([],pa),["(group:"+ta.parameters.filter.group.id+")"]);ya=ta.results.user.groups.map(function(ra){return ra.id});return Object(T.g)(Object(T.g)([],pa),["(group:"+ya.join(" OR group:")+")"])}return pa;case "myOrganization":return Object(T.g)(Object(T.g)([],
pa),["(orgid:"+na.id+")"]);case "subscription":return Object(T.g)(Object(T.g)([],pa),["("+ta.results.provisionedContent.content.map(function(ra){return"id:"+ra}).join(" OR ")+")"]);case "all":return pa;default:return(ya=ua.customSections.filter(function(ra){return ta.parameters.section===ra.name})[0])?Object(T.g)(Object(T.g)([],pa),[ya.baseQuery]):pa}}),xa=Object(S.a)(function(ta,pa){var ya=ta.settings.config.addQueryParameters;try{if(ya&&"function"==typeof ya)return Object(T.g)(Object(T.g)([],pa),
[ya(ta)])}catch(ua){}return pa}),Ea=Object(S.a)(function(ta,pa){var ya=Object(Oa.b)(ta.settings.config.customSections,ta.parameters.section);if(ya&&!Object(va.b)(ta.parameters.filter.customFilter)){var ua=Object.keys(ta.parameters.filter.customFilter).filter(function(na){return ta.parameters.filter.customFilter[na]}).reduce(function(na,ra){var wa,Fa=parseInt(ra,10),Da=ta.parameters.filter.customFilter[Fa].value;if(null===(wa=null==ya?void 0:ya.filters)||void 0===wa?0:wa[Fa])if(wa=Object(za.a)("children",
"value",ya.filters[Fa],Da))return Object(T.g)(Object(T.g)([],na),["("+wa.q+")"]);return na},[]).join(" AND ");return Object(T.g)(Object(T.g)([],pa),[""+ua])}return pa})},function(S,O,I){function Z(oa,sa){return da("children","value",oa,sa)}function W(oa,sa){return ea("children","value",oa,sa)}function ca(oa,sa){return function Ja(za,Aa,Ba,Oa){var xa,Ea=Ba[za];return Ea&&0!==Ea.length?Object(ma.a)(Object(ma.a)({},Ba),((xa={})[za]=Ea.reduce(function(ta,pa){return-1!==Oa.indexOf(pa[Aa])&&ta.push(Ja(za,
Aa,pa,Oa)),ta},[]),xa)):Object(ma.a)({},Ba)}("children","value",oa,sa)}function T(oa){return function(sa,va){var za,Aa=va[sa];return Aa?Object(ma.a)(Object(ma.a)({},va),((za={})[sa]=function Ja(Oa){return 0===Oa.length?[]:1!==Oa.length||Oa[0][sa]?1<Oa.length?Oa.reduce(function(xa,Ea){var ta;return Ea[sa]?(xa.push(Object(ma.a)(Object(ma.a)({},Ea),((ta={})[sa]=Ja(Ea[sa]),ta))),xa):(xa.push(Ea),xa)},[]):Ja(Oa[0][sa]):Oa}(Aa),za)):va}("children",oa)}function P(oa,sa){return ja("children",oa,sa)}function X(oa,
sa){return function Oa(za,Aa,Ba){var Ja=Aa[za];Ja&&Ja.forEach(function(xa){return Oa(za,xa,Ba)});Ba(Aa)}("children",oa,sa)}function da(oa,sa,va,za){var Aa=va[oa];return va[sa]===za?va:Aa?Aa.reduce(function(Ba,Oa){return Ba||da(oa,sa,Oa,za)},void 0):void 0}function ea(oa,sa,va,za){if(va=va[oa])return va.reduce(function(Aa,Ba){return Ba[sa]===za[0]?1===za.length?Ba:ea(oa,sa,Ba,za.slice(1)):Aa},void 0)}function ja(oa,sa,va){var za;return va(Object(ma.a)(Object(ma.a)({},sa),((za={})[oa]=sa[oa]?sa[oa].map(function(Aa){return ja(oa,
Aa,va)}):void 0,za)))}function la(oa,sa,va){return ja(oa,va,function(za){var Aa=za[sa];if(delete za[sa],za[oa]){var Ba=za[oa];return delete za[oa],Object(ma.a)(Object(ma.a)({},za),{value:Aa,children:Ba})}return Object(ma.a)(Object(ma.a)({},za),{value:Aa})})}I.d(O,"f",function(){return Z});I.d(O,"d",function(){return W});I.d(O,"i",function(){return ca});I.d(O,"e",function(){return T});I.d(O,"h",function(){return P});I.d(O,"g",function(){return X});I.d(O,"a",function(){return da});I.d(O,"b",function(){return ea});
I.d(O,"c",function(){return la});var ma=I(0)},,function(S,O,I){function Z(X){return Object(P.h)(X,function(da){return da.count&&delete da.count,da})}function W(X,da,ea){if(da)return X.counts.filter(function(ja){return ja.fieldName===ea})[0].fieldValues.forEach(function(ja){var la=ja.count;ja=ja.value.split("/").slice(1);(ja=Object(P.d)(da,ja))&&(ja.count=la)}),da}function ca(X){X=Object(P.c)("categories","title",{title:"root",categories:X});return Object(P.h)(X,function(da){return Object(T.a)(Object(T.a)({},
da),{value:da.value.toLowerCase(),displayName:da.displayName?da.displayName:da.value,tooltip:da.description?da.description:void 0})}).children}I.d(O,"a",function(){return Z});I.d(O,"c",function(){return W});I.d(O,"b",function(){return ca});var T=I(0),P=I(180)},,,,,,,function(S,O){function I(){throw Error("setTimeout has not been defined");}function Z(){throw Error("clearTimeout has not been defined");}function W(va){if(ea===setTimeout)return setTimeout(va,0);if((ea===I||!ea)&&setTimeout)return ea=
setTimeout,setTimeout(va,0);try{return ea(va,0)}catch(za){try{return ea.call(null,va,0)}catch(Aa){return ea.call(this,va,0)}}}function ca(){oa&&la&&(oa=!1,la.length?ma=la.concat(ma):sa=-1,ma.length&&T())}function T(){if(!oa){var va=W(ca);oa=!0;for(var za=ma.length;za;){la=ma;for(ma=[];++sa<za;)la&&la[sa].run();sa=-1;za=ma.length}la=null;oa=!1;(function(Aa){if(ja===clearTimeout)return clearTimeout(Aa);if((ja===Z||!ja)&&clearTimeout)return ja=clearTimeout,clearTimeout(Aa);try{ja(Aa)}catch(Ba){try{return ja.call(null,
Aa)}catch(Oa){return ja.call(this,Aa)}}})(va)}}function P(va,za){this.fun=va;this.array=za}function X(){}var da=S.exports={};try{var ea="function"==typeof setTimeout?setTimeout:I}catch(va){ea=I}try{var ja="function"==typeof clearTimeout?clearTimeout:Z}catch(va){ja=Z}!0;var la,ma=[],oa=!1,sa=-1;da.nextTick=function(va){var za=Array(arguments.length-1);if(1<arguments.length)for(var Aa=1;Aa<arguments.length;Aa++)za[Aa-1]=arguments[Aa];ma.push(new P(va,za));1!==ma.length||oa||W(T)};P.prototype.run=function(){this.fun.apply(null,
this.array)};da.title="browser";da.browser=!0;da.env={};da.argv=[];da.version="";da.versions={};da.on=X;da.addListener=X;da.once=X;da.off=X;da.removeListener=X;da.removeAllListeners=X;da.emit=X;da.prependListener=X;da.prependOnceListener=X;da.listeners=function(va){return[]};da.binding=function(va){throw Error("process.binding is not supported");};da.cwd=function(){return"/"};da.chdir=function(va){throw Error("process.chdir is not supported");};da.umask=function(){return 0}},,,,function(S,O,I){function Z(T){var P,
X;return null!==(P=T.orgId)&&void 0!==P?P:null===(X=T.portal)||void 0===X?void 0:X.id}function W(T){var P;if(!T)return!1;var X=Z(T),da=null===(P=T.portal)||void 0===P?void 0:P.isPortal;return!!X&&!da&&"public_authoritative"===T.contentStatus}function ca(T,P,X){return new Promise(function(da){var ea=T.map(function(ja){return function(la,ma,oa){var sa="https://"+ma.portalHostname+"/sharing/rest/portals/"+la;return new Promise(function(va){oa(sa,{method:"get",query:{f:"json"}}).then(function(za){za=
za.data;var Aa=za.thumbnail,Ba=(za.allSSL?"https://":"http://")+(za.urlKey||"")+"."+za.customBaseUrl+"/";va({name:za.name,url:Ba+"home/",thumbnail:Aa?Ba+"sharing/rest/portals/self/resources/"+Aa:"./images/group-no-image.png",id:la})})})}(ja,P,X)});Promise.all(ea).then(function(ja){da(ja.filter(function(la){return la}))})})}I.d(O,"b",function(){return Z});I.d(O,"c",function(){return W});I.d(O,"a",function(){return ca})},,,,,,function(S,O,I){function Z(la,ma,oa){return la.filter(function(sa,va,za){return za.indexOf(sa)===
va&&!ma.hasOwnProperty(sa)&&-1===oa.indexOf(sa)})}I.d(O,"c",function(){return P});I.d(O,"d",function(){return X});I.d(O,"a",function(){return da});I.d(O,"b",function(){return ea});I.d(O,"e",function(){return ja});var W=I(0),ca=I(193),T=I(309),P="USER_THUMBNAILS_LOAD_START",X="USER_THUMBNAILS_LOAD_SUCCESS",da="ORG_THUMBNAILS_LOAD_START",ea="ORG_THUMBNAILS_LOAD_SUCCESS",ja=function(la,ma){var oa=ma(),sa=oa.settings.utils,va=sa.request;sa=sa.portal;var za=oa.ui.pagination;oa=za.displayItems;var Aa=za.userThumbnailCache,
Ba=za.pendingUserThumbRequests,Oa=za.orgThumbnailCache;za=za.pendingOrgThumbRequests;Oa=Z(oa.filter(ca.c).map(ca.b),Oa,za);oa=Z(oa.map(function(Ja){return Ja.owner}),Aa,Ba);if(0!==oa.length||0!==Oa.length)la({type:P,payload:oa}),la({type:da,payload:Oa}),oa=Object(T.a)(oa,sa,va),va=Object(ca.a)(Oa,sa,va),Promise.all([oa,va]).then(function(Ja){var xa=Ja[0];Ja=Ja[1];xa=(null==xa?void 0:xa.reduce(function(Ea,ta){var pa;return Object(W.a)(Object(W.a)({},Ea),((pa={})[ta.username]={thumbnail:ta.thumbURI||
ta.thumbnail,username:ta.username,fullName:ta.fullName,id:ta.id},pa))},{}))||{};Ja=(null==Ja?void 0:Ja.reduce(function(Ea,ta){var pa;return Object(W.a)(Object(W.a)({},Ea),((pa={})[ta.id]=ta,pa))},{}))||{};la({type:X,payload:xa});la({type:ea,payload:Ja})})}},,,,,,function(S,O){S.exports=k},function(S,O){S.exports=w},,,,,,,,,,function(S,O){S.exports=v},function(S,O,I){I.d(O,"a",function(){return ea});var Z=I(0);S=I(56);var W=I.n(S);S=I(65);var ca=I.n(S);S=I(15);var T=I(99),P=I(30),X=I(325),da=I(126),
ea=Object(S.a)(function(ja,la){var ma=ja.settings.utils.request,oa=Object(da.a)(ja),sa=new W.a,va=la.data.results.filter(function(za){return za.orgId&&!ja.results.allOrganizations[za.orgId]}).map(function(za){return za.orgId}).filter(T.e).map(function(za){return Object(P.m)(ma,oa,za)});return ca()(va).then(function(za){sa.resolve(Object(Z.a)(Object(Z.a)({},la),{data:Object(Z.a)(Object(Z.a)({},la.data),{organizations:za.reduce(function(Aa,Ba){var Oa;return Object(Z.a)(Object(Z.a)({},Aa),((Oa={})[Ba.id]=
Object(X.a)(Ba),Oa))},{})})}))},function(za){sa.reject(za)}),sa})},,,,,,,,,function(S,O,I){I.d(O,"c",function(){return Z});I.d(O,"d",function(){return W});I.d(O,"e",function(){return ca});I.d(O,"b",function(){return T});I.d(O,"f",function(){return P});I.d(O,"g",function(){return X});I.d(O,"a",function(){return da});I.d(O,"h",function(){return ea});I.d(O,"i",function(){return ja});I.d(O,"j",function(){return la});var Z="MAXIMIZE_DLG",W="MINIMIZE_DLG",ca="TOGGLE_EXPANDED_FILTERS",T="CLOSE_FULLSCREEN_BROWSER",
P="TOGGLE_EXPANDED_SORT",X="UPDATE_SUBLAYER_CARD_STATE",da="CLOSE_EXPANDED_SORT",ea=function(){return{type:da}},ja=function(){return{type:ca}},la=function(){return{type:P}}},function(S,O,I){I.d(O,"a",function(){return ca});var Z=I(0),W=I(101),ca=function(T){var P=Object(Z.a),X=Object(Z.a)({},T),da=Object(W.a)(T);return P(X,{thumbURI:T.thumbnail?da+"/sharing/rest/portals/"+T.id+"/resources/"+T.thumbnail:da+"/home/images/group-no-image.png"})}},function(S,O,I){I.d(O,"a",function(){return ca});var Z=
I(0),W=I(101),ca=function(T){return Object(Z.a)(Object(Z.a)({},T),{orgUrl:Object(W.a)(T)+"/home/index.html"})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O){S.exports=C},function(S,O){S.exports=A},function(S,O,I){I.d(O,"a",function(){return T});I.d(O,"b",function(){return P});I.d(O,"c",function(){return X});I.d(O,"d",function(){return da});S=I(56);var Z=I.n(S),W=I(30),ca=I(78),T="UPDATE_PROVISIONED_CONTENT",P="UPDATE_PROVISIONED_CONTENT_FAILED",X="UPDATE_PROVISIONED_CONTENT_SUCCESS",da=function(){return function(ea,
ja){var la=ja();if("loaded"===la.results.provisionedContent.status)return(new Z.a).resolve();if("failed"===la.results.provisionedContent.status)return(new Z.a).reject();ea({type:T});var ma=la.settings.utils,oa=ma.portal;return Object(W.d)(ma.request,oa,oa.user.username).then(function(sa){ea({type:X,payload:sa.filter(function(va){return-1<la.settings.config.allowedItemTypes.indexOf(va.type)}).map(function(va){return Object(ca.a)(oa,la.settings.utils.iconDir,va)})})},function(sa){ea({type:P})})}}},
,,,,,,,function(S,O,I){I.d(O,"a",function(){return da});I.d(O,"c",function(){return ea});I.d(O,"d",function(){return ja});I.d(O,"b",function(){return la});I.d(O,"e",function(){return ma});var Z=I(0);S=I(65);var W=I.n(S);S=I(56);var ca=I.n(S),T=I(99),P=I(30);S=I(15);var X=I(86),da="LOADING_CUSTOM_SECTION_INFO",ea="UPDATE_CUSTOM_SECTION_SCHEMAS",ja="UPDATE_CUSTOM_SECTION_INFO_FAILED",la="UPDATE_CUSTOM_SECTION_GROUPS",ma=function(){return function(va,za){function Aa(Ja){va({type:ja})}var Ba=za();if("loaded"===
Ba.results.customSections.status)return(new ca.a).resolve();if("failed"===Ba.results.customSections.status)return(new ca.a).reject();va({type:da});var Oa=Object(T.f)("id",Ba.settings.config.customSections.filter(X.f).map(X.a).reduce(function(Ja,xa){return Object(Z.g)(Object(Z.g)([],Ja),xa)},[]));return oa(va,za,Oa).then(function(){return Ba=za(),W()(Oa.map(function(Ja){return sa(Ba,Ja).then(function(xa){return{id:Ja.id,type:Ja.type,response:xa}})}))},Aa).then(function(Ja){return va({type:ea,payload:Ja})},
Aa)}},oa=function(va,za,Aa){var Ba=za(),Oa=new ca.a;if(0<Aa.length){Ba=Ba.settings.utils;var Ja=Ba.request,xa=Ba.portal;Aa=Aa.filter(function(Ea){return"group"===Ea.type}).map(function(Ea){var ta=Ea.id;return Object(P.e)(Ja,xa,Ea.fetchGroupIdByQuery||"id:"+ta).then(function(pa){return pa.results[0]||{}})});W()(Aa).then(function(Ea){var ta=za();va({type:la,payload:{currentSection:ta.parameters.section,customSections:ta.settings.config.customSections,groups:Ea}});Oa.resolve()})}else Oa.resolve();return Oa},
sa=Object(S.a)(function(va,za){var Aa=va.settings.utils,Ba=Aa.request;Aa=Aa.portal;return za.staticSchema?(Ba=new ca.a,Ba.resolve({categorySchema:za.staticSchema}),Ba.then(function(Oa){return Oa})):"group"===za.type?Object(P.f)(Ba,Aa,za.id):Object(P.j)(Ba,Aa,za.id)})},function(S,O,I){function Z(P){if(0<P.length){var X=ca.a.filter(function(da){return-1===P.indexOf(da)}).filter(function(da){return P.reduce(function(ea,ja){return-1<da.indexOf(ja)||ea},!1)});return'((type:"'+P.join('" OR type:"')+'")'+
(0<X.length?' AND (-type:"'+X.join('" AND -type:"')+'")':"")+")"}return""}I.d(O,"a",function(){return T});var W=I(0),ca=I(141);S=I(15);var T=Object(S.a)(function(P,X,da){var ea=X.itemTypeFilter,ja=X.allowedItemTypes;X=X.specialItemQ;return ea?0<ja.length&&X?Object(W.g)(Object(W.g)([],da),[P[ea.value]+" AND ("+X+" OR ("+Z(ja)+"))"]):0<ja.length||X?Object(W.g)(Object(W.g)([],da),[P[ea.value]+" AND ("+(X?""+X:""+Z(ja))+")"]):Object(W.g)(Object(W.g)([],da),[""+P[ea.value]]):X?Object(W.g)(Object(W.g)([],
da),["("+X+") "+(0<ja.length?"OR ("+Z(ja)+")":"")]):Object(W.g)(Object(W.g)([],da),[Z(ja)])})},function(S,O,I){I.d(O,"a",function(){return T});I.d(O,"b",function(){return P});I.d(O,"c",function(){return X});I.d(O,"d",function(){return da});S=I(65);var Z=I.n(S);S=I(56);var W=I.n(S),ca=I(30),T="LOADING_ORG_INFO",P="UPDATE_ORG_INFO",X="UPDATE_ORG_INFO_FAILED",da=function(){return function(ea,ja){var la=ja();if("loaded"===la.results.organization.status)return(new W.a).resolve();if("failed"===la.results.organization.status)return(new W.a).reject();
ea({type:T});var ma=la.settings.utils;la=ma.request;ma=ma.portal;var oa=[Object(ca.j)(la,ma).then(function(sa){return sa.categorySchema}),Object(ca.c)(la,ma).then(function(sa){return sa.data.results})];return ma.isPortal&&oa.push(Object(ca.o)(la,ma).then(function(sa){return sa.servers})),Z()(oa).then(function(sa){ea({type:P,payload:{schema:sa[0],groups:sa[1],servers:sa[2]}})},function(sa){ea({type:X})})}}},,,,,,,,,,,,,,,,,,,function(S,O){S.exports=r},function(S,O,I){I.d(O,"b",function(){return ea});
I.d(O,"a",function(){return ja});I.d(O,"c",function(){return la});var Z=I(0);S=I(65);var W=I.n(S);S=I(56);var ca=I.n(S),T=I(30),P=I(51),X=I(78),da=I(126),ea="UPDATE_FULL_ITEM_DETAILS",ja="FETCH_FULL_ITEM_DETAILS_FAILED",la=function(ma){return function(oa,sa){var va=sa(),za=Object(da.a)(va),Aa=va.settings.utils.request,Ba=[];Ba.push(Object(T.r)(Aa,za,ma.owner).then(function(Ja){return Object(P.m)(za,Ja)},function(Ja){throw Ja;}));var Oa=za.restUrl+"/content/items/"+ma.id;za.user&&ma.owner===za.user.username&&
(Oa=za.restUrl+"/content/users/"+za.user.username+"/items/"+ma.id);Ba.push(Object(T.v)(Aa,Oa).then(function(Ja){if(Ja.item&&Ja.sharing){var xa=new ca.a;return Object(T.v)(Aa,za.restUrl+"/community/groups",{q:"id: "+Ja.sharing.groups.map(function(Ea){return'"'+Ea+'"'}).join(" OR ")}).then(function(Ea){return xa.resolve(Object(Z.a)(Object(Z.a)({},Object(X.a)(za,va.settings.utils.iconDir,Ja.item)),{sharing:Ja.sharing,sharedToGroups:Ea.results}))},function(Ea){return xa.reject(Ea)}),xa}return Object(X.a)(za,
va.settings.utils.iconDir,Ja)},function(Ja){throw ma.id;}));W()(Ba).then(function(Ja){oa({type:ea,payload:{item:Ja[1],owner:Ja[0]}})},function(Ja){oa({type:ja,payload:Ja})})}}},,function(S,O,I){I.d(O,"a",function(){return Z});I.d(O,"b",function(){return W});var Z="CHANGE_SEARCH_SECTION",W=function(ca){return function(T,P){var X=P();T({type:Z,payload:{newSection:ca,customSections:X.settings.config.customSections,customSectionGroupSort:X.results.customSections.groupSort}})}}},,function(S,O,I){I.d(O,
"b",function(){return Z});I.d(O,"a",function(){return W});I.d(O,"d",function(){return ca});I.d(O,"c",function(){return T});var Z="CHANGE_SORT_ORDER",W="CHANGE_SORT_FIELD",ca=function(P){return{type:Z,payload:P}},T=function(P){return{type:W,payload:P}}},,,,function(S,O){S.exports=l},function(S,O,I){I.d(O,"b",function(){return P});I.d(O,"a",function(){return X});I.d(O,"c",function(){return da});I.d(O,"d",function(){return ea});var Z=I(162),W=I(78),ca=I(217),T=I(199),P="CHANGE_PAGE_SUCCESS",X="CHANGE_PAGE_FAIL",
da="CHANGING_PAGE",ea=function(ja){return function(la,ma){var oa=ma();la({type:da,payload:ja});var sa=oa.settings.utils,va=sa.portal,za=sa.iconDir;sa=oa.settings.utils.request;var Aa=oa.settings.config.resultsPerQuery;Aa=Object(Z.b)({num:Aa,start:(ja-1)*Aa+1},oa);sa(Aa[0],Aa[1]).then(Object(ca.a)(oa),function(Ba){return la({type:X,payload:{err:Ba}})}).then(function(Ba){la({type:P,payload:{organizations:Ba.data.organizations,displayItems:Ba.data.results.map(function(Oa){return Object(W.a)(va,za,Oa)}),
page:ja}});la(T.e)},function(Ba){return la({type:X,payload:{err:Ba}})})}}},,,,,,,,,,,,function(S,O,I){var Z=I(0);S=I(16);var W=I(90);I=function(ca){function T(){return null!==ca&&ca.apply(this,arguments)||this}return Object(Z.d)(T,ca),T.prototype.render=function(P){return P("div",{"class":"ib-ex-results__item-list"},P("div",{"class":"ib-ex-results__no-items-container"},P("div",{"class":"ib-ex-results__no-items-centered"},P("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},P("path",{fill:"#ccc",
d:W.f})),P("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},T}(S.Component);O.a=I},,function(S,O,I){function Z(W,ca,T){return Promise.all(W.map(function(P){return function(X,da,ea){return new Promise(function(ja,la){ea(da.restUrl+"/community/users/"+X,{method:"get",query:{f:"json"}}).then(function(ma){return ja(null==ma?void 0:ma.data)},la)})}(P,ca,T)}))}I.d(O,"a",function(){return Z})},function(S,O){S.exports=d},,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",
function(){return ca});var Z=I(0);S=I(15);S=Object(S.a)(function(T,P,X){return P?Object(Z.g)(Object(Z.g)([],X),["("+T+":["+(P.start+" TO "+P.end+"])")]):X});var W=S("modified"),ca=S("uploaded")},function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return ca});var Z=I(0);S=I(15);var W=Object(S.a)(function(T,P){if(T){var X=Object.keys(T);if(0<X.length)return Object(Z.g)(Object(Z.g)([],P),["tags:("+X.join(" AND ")+")"])}return P}),ca=Object(S.a)(function(T,P){return 2<T.length?Object(Z.g)(Object(Z.g)([],
P),["tags:("+T+"* OR "+T+")"]):P})},function(S,O,I){I.d(O,"a",function(){return W});S=I(63);O=I(101);var Z=I(227);I=I(228);var W=Object(S.a)(Z.a,I.a,O.b)},function(S,O,I){I.d(O,"a",function(){return P});I.d(O,"b",function(){return X});S=I(56);var Z=I.n(S),W=I(30),ca=I(325),T=I(150),P="UPDATE_PORTAL_SELF",X=function(){return function(da,ea){var ja=ea(),la=ja.settings.utils,ma=la.portal;la=la.request;var oa=ma.user&&ma.user.culture?ma.user.culture:T.locale;return ja.settings.utils.self?(new Z.a).resolve(ja.settings.utils.self):
Object(W.n)(la,ma,oa).then(function(sa){sa=Object(ca.a)(sa);return da({type:P,payload:{self:sa,config:ja.settings.config}}),sa})}}},function(S,O,I){I.d(O,"a",function(){return X});I.d(O,"b",function(){return da});I.d(O,"c",function(){return ea});I.d(O,"d",function(){return ja});var Z=I(0),W=I(36);S=I(56);var ca=I.n(S),T=I(150),P=I(402),X="LOADING_LIVING_ATLAS_INFO",da="UPDATE_LIVING_ATLAS_INFO",ea="FETCH_LIVING_ATLAS_INFO_FAILED",ja=function(la){return function(ma,oa){var sa=oa();if("loaded"===sa.results.livingAtlas.status)return(new ca.a).resolve();
if("failed"===sa.results.livingAtlas.status)return(new ca.a).reject();ma({type:X});sa=sa.settings.utils;var va=sa.portal;return Object(P.a)(sa.request,va,la,va.user&&va.user.culture?va.user.culture:T.locale).then(function(za){ma({type:da,payload:Object(Z.a)(Object(Z.a)({},za),{schema:za.schema.map(function(Aa){return"region"===Aa.title?Object(Z.a)(Object(Z.a)({},Aa),{displayName:W.regions}):Aa})})})},function(za){ma({type:ea})})}}},function(S,O,I){I.d(O,"a",function(){return P});var Z=I(30),W=I(49);
S=I(65);var ca=I.n(S),T=function(X,da,ea){X({type:"LOADING_COLLABORATIONS"});var ja=[];Object.keys(ea).forEach(function(ma){ja[ma]=[];0<ea[ma].participants.length&&ea[ma].participants.forEach(function(oa){ja[oa.value]=[]})});var la=Object.keys(ja).map(function(ma){ma=ma.split("__");var oa=ma[0],sa=ma[1]?ma[1]:"";return Object(Z.k)(da.settings.utils.request,da.settings.utils.portal,da.settings.utils.portal.id,{query:""!==sa?{collaborationId:oa,participantId:sa,f:"json"}:{collaborationId:oa,f:"json"}}).then(function(va){(va.data.collaboratedItems||
va.collaboratedItems).forEach(function(za){if(sa){var Aa=oa+"__"+sa;ea[oa].participants.filter(function(Ba){return Ba.value===Aa})[0].items.push(Object.keys(za)[0])}else ea[oa].items.push(Object.keys(za)[0])})},function(){return X({type:"LOADING_COLLABORATIONS_FAILED"})})});return ca()(la).then(function(){X(Object(W.s)(ea));X({type:"LOADING_COLLABORATIONS_SUCCESS",payload:ea})})},P=function(X,da){if(X({type:"LOADING_COLLABORATIONS"}),da&&da.parameters&&da.parameters.filter&&da.parameters.filter.origins&&
0<Object.keys(da.parameters.filter.origins).length){var ea=da.parameters.filter.origins;return X(Object(W.s)(ea)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:ea}}return Object(Z.l)(da.settings.utils.request,da.settings.utils.portal,da.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(ja){var la=[];ja.data&&ja.data.collaborations&&ja.data.collaborations.forEach(function(ma){var oa=ma.collaborationId,sa=ma.collaborationName.trim();la[oa]={value:oa,label:sa,
addClass:"",childOf:"",selected:!1,participants:[],items:[]};ma.participants&&(la[oa].participants=ma.participants.map(function(va){return 1===(va=Object.keys(va).map(function(za){var Aa=va[za].trim();return{value:oa+"__"+za,label:Aa,childOf:oa,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?va[0]:va}))});T(X,da,la).then(function(){return X(Object(W.s)(la))},function(){return X({type:"LOADING_COLLABORATIONS_FAILED"})})},function(ja){return X({type:"LOADING_COLLABORATIONS_FAILED",
payload:ja})})}},function(S,O,I){function Z(W){return"string"==typeof W?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(W):!!W.filters&&-1<W.filters.indexOf("tags")}I.d(O,"a",function(){return Z})},,,,function(S,O){S.exports=e},,,,,,,,,function(S,O){S.exports=a},,,,,,,,function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(180),T=I(561),P=I(49),X=I(48),da=I(413),ea=I(552),ja=I.n(ea);ea=I(376);var la=I.n(ea);ea=I(553);var ma=I.n(ea);ea=I(554);var oa=I.n(ea);ea=I(555);
var sa=I.n(ea);ea=I(556);var va=I.n(ea);ea=I(557);var za=I.n(ea);ea=I(558);var Aa=I.n(ea);ea=I(559);var Ba=I.n(ea);ea=I(560);var Oa=I.n(ea);ea=I(342);var Ja=I.n(ea),xa=I(562);I=function(Ea){function ta(pa){pa=Ea.call(this,pa)||this;return pa.handleCustomFilterToggle=pa.handleCustomFilterToggle.bind(pa),pa.handleMapAreaToggle=pa.handleMapAreaToggle.bind(pa),pa.handleMapAreaKeyUp=pa.handleMapAreaKeyUp.bind(pa),pa.handleSearchOrgToggle=pa.handleSearchOrgToggle.bind(pa),pa.handleCreatedFilterChange=pa.handleCreatedFilterChange.bind(pa),
pa.handleItemTypeFilterChange=pa.handleItemTypeFilterChange.bind(pa),pa.handleModifiedFilterChange=pa.handleModifiedFilterChange.bind(pa),pa.handleSharedFilterChange=pa.handleSharedFilterChange.bind(pa),pa.handleStatusFilterChange=pa.handleStatusFilterChange.bind(pa),pa.handleFolderFilterChange=pa.handleFolderFilterChange.bind(pa),pa.handleGroupFilterChange=pa.handleGroupFilterChange.bind(pa),pa.handleOrgGroupFilterChange=pa.handleOrgGroupFilterChange.bind(pa),pa.handleTagsFilterChange=pa.handleTagsFilterChange.bind(pa),
pa.handleCollaborationFilterChange=pa.handleCollaborationFilterChange.bind(pa),pa.handleOrgCategorySelect=pa.handleOrgCategorySelect.bind(pa),pa.handleClearOrgCategories=pa.handleClearOrgCategories.bind(pa),pa.handleGroupCategorySelect=pa.handleGroupCategorySelect.bind(pa),pa.handleClearGroupCategories=pa.handleClearGroupCategories.bind(pa),pa.handleLACategorySelect=pa.handleLACategorySelect.bind(pa),pa.handleClearLACategories=pa.handleClearLACategories.bind(pa),pa.handleLARegionSelect=pa.handleLARegionSelect.bind(pa),
pa.handleClearLARegion=pa.handleClearLARegion.bind(pa),pa.handleTagsFilterStringChange=pa.handleTagsFilterStringChange.bind(pa),pa}return Object(Z.d)(ta,Ea),ta.prototype.render=function(pa){var ya=this,ua=this.props.stateTree.settings.config,na=this.props.stateTree.parameters.filter,ra=this.props.stateTree.settings.utils.portal.user,wa=this.props.stateTree.settings.utils.portal,Fa=this.props.stateTree.parameters.section,Da=Object(T.a)(this.props.stateTree),Ca=ua.availableItemTypeFilters.filter(function(Ia){var La=
ya.props.stateTree.results.organization.servers||[];La="livingAtlas"!==Fa&&wa.isPortal&&La.some(function(Ga){return"KnowledgeServer"===Ga.serverFunction});return"knowledgeGraphs"!==Ia||La});ua=ua.enableMapAreaFilter?pa(ja.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?this.props.stateTree.settings.config.mapAreaFilterText:
W.filterPane.mapArea}):null;Da=Da.map(function(Ia,La){switch(Ia){case "group":return pa(Aa.a,{key:"group-filter",onGroupSelect:ya.handleGroupFilterChange,availableGroups:ya.props.stateTree.results.user.groups,groupFilter:ya.props.stateTree.parameters.filter.group});case "folder":var Ga=ya.props.stateTree.results.user.folders,Ma={title:ya.props.stateTree.settings.utils.portal.user.username,id:"root"};return pa(za.a,{key:"folder-filter",onFolderSelect:ya.handleFolderFilterChange,availableFolders:Ga?
Object(Z.g)([Ma],Ga):[Ma],folderFilter:ya.props.stateTree.parameters.filter.folder});case "itemType":return pa(ma.a,{key:"item-type-filter",onItemTypeSelect:ya.handleItemTypeFilterChange,availableItemTypes:Ca,itemTypeFilter:ya.props.stateTree.parameters.filter.itemType});case "orgCategories":if((Ga=ya.props.stateTree.results.organization.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"org-categories-filter",onCategorySelect:ya.handleOrgCategorySelect,onClearCategories:ya.handleClearOrgCategories,
availableCategories:Ga.children[0].children,categoriesFilter:ya.props.stateTree.parameters.filter.orgCategories,title:W.filterPane.categories,prependValue:"/"+Ga.children[0].value+"/"});break;case "livingAtlasCategories":if((Ga=ya.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"la-categories-filter",onCategorySelect:ya.handleLACategorySelect,onClearCategories:ya.handleClearLACategories,availableCategories:Ga.children[0].children,
categoriesFilter:ya.props.stateTree.parameters.filter.livingAtlasCategories,title:Ga.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((Ga=ya.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[1]&&Ga.children[1].children)return pa(Ja.a,{key:"la-region-filter",onCategorySelect:ya.handleLARegionSelect,onClearCategories:ya.handleClearLARegion,availableCategories:Ga.children[1].children,categoriesFilter:ya.props.stateTree.parameters.filter.livingAtlasRegion,
title:Ga.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(na.group&&(Ga=ya.props.stateTree.results.user.groupCategories[na.group.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"group-categories-filter",onCategorySelect:ya.handleGroupCategorySelect,onClearCategories:ya.handleClearGroupCategories,availableCategories:Ga.children[0].children,categoriesFilter:ya.props.stateTree.parameters.filter.groupCategories,title:W.filterPane.groupCategories,
prependValue:"/"+Ga.children[0].value+"/"});break;case "orgGroups":break;case "modified":return pa(oa.a,{key:"modified-filters",onDateModifiedSelect:ya.handleModifiedFilterChange,dateModifiedFilter:ya.props.stateTree.parameters.filter.dateModified,dateModifiedSection:ya.props.stateTree.ui.filters.modifiedSection});case "created":return pa(la.a,{key:"created-filters",onDateCreatedSelect:ya.handleCreatedFilterChange,dateCreatedFilter:ya.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:ya.props.stateTree.ui.filters.createdSection});
case "shared":return pa(sa.a,{counts:ya.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:ya.handleSharedFilterChange,sharedFilter:ya.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:ra&&!ra.orgId});case "status":Ga=ya.props.stateTree.results.counts.contentStatus;Ma=Ga.orgAuthoritative;var Ha=Ga.publicAuthoritative;return pa(va.a,{counts:{authoritative:ra&&ra.orgId?Ma+Ha:Ha,deprecated:Ga.deprecated},key:"status-filters",onStatusSelect:ya.handleStatusFilterChange,
statusFilter:ya.props.stateTree.parameters.filter.status});case "tags":return pa(Ba.a,{availableTags:ya.props.stateTree.ui.tagsFilter.visibleTags,filterString:ya.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:ya.handleTagsFilterStringChange,onTagSelect:ya.handleTagsFilterChange,tagsFilter:ya.props.stateTree.parameters.filter.tags});case "collaboration":Ha=ya.props.stateTree.settings.utils.portal;Ha=ra&&!Ha.isPortal&&ra.orgId&&Ha.subscriptionInfo&&-1<["Trial",
"Trial Press","Trial Developer","Evaluation"].indexOf(Ha.subscriptionInfo.type);var Ka=ra&&"org_admin"===ra.role,Na=ra&&ra.privileges&&-1<ra.privileges.indexOf("portal:admin:manageCollaborations");if(Ka&&Na&&!Ha)return pa(Oa.a,{key:"ib-collaborations-filter",onCollaborationSelect:ya.handleCollaborationFilterChange,collaborationsFilter:ya.props.stateTree.parameters.filter.origins?ya.props.stateTree.parameters.filter.origins:[]});default:if("object"==typeof Ia)if("group"===Ia.type){if((Ga=ya.props.stateTree.results.customSections.groupSchemas[Ia.id])&&
Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(ca.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,pa(Ja.a,{key:"custom-group-categories-filter",onCategorySelect:ya.handleGroupCategorySelect,onClearCategories:ya.handleClearGroupCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:ya.props.stateTree.parameters.filter.groupCategories,title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if("org"===Ia.type){if((Ga=
ya.props.stateTree.results.customSections.orgSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(ca.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,pa(Ja.a,{key:"custom-org-categories-filter",onCategorySelect:ya.handleOrgCategorySelect,onClearCategories:ya.handleClearOrgCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:ya.props.stateTree.parameters.filter.orgCategories,title:Ia.name,prependValue:"/"+
(Ma?Ma.join("/")+"/":"")})}else if(Ia.children)return Ga=ya.props.stateTree.parameters.filter.customFilter[La],pa(xa.a,{key:Ia.displayName+"-filter-accordion",filter:Ia,index:La,onClear:ya.handleCustomFilterToggle,onClick:ya.handleCustomFilterToggle,selectedOption:Ga?Ga.value:void 0})}return null});return ua?[ua,pa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)]:pa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)},ta.prototype.handleCustomFilterToggle=
function(pa,ya,ua){this.props.dispatch(Object(P.u)(pa,ya?{value:ya,text:ua}:void 0));this.props.dispatch(Object(X.i)())},ta.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(P.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(X.i)())},ta.prototype.handleMapAreaKeyUp=function(pa){switch(pa.key){case "Enter":this.handleMapAreaToggle()}},ta.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(P.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(X.i)())},ta.prototype.handleItemTypeFilterChange=function(pa){this.props.dispatch(Object(P.y)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleModifiedFilterChange=function(pa,ya){this.props.dispatch(Object(P.C)(pa,ya));this.props.dispatch(Object(X.i)())},ta.prototype.handleCreatedFilterChange=function(pa,ya){this.props.dispatch(Object(P.t)(pa,ya));this.props.dispatch(Object(X.i)())},ta.prototype.handleSharedFilterChange=function(pa){this.props.dispatch(Object(P.G)(pa));
this.props.dispatch(Object(X.i)())},ta.prototype.handleStatusFilterChange=function(pa){this.props.dispatch(Object(P.H)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleFolderFilterChange=function(pa){this.props.dispatch(Object(P.v)(pa));this.props.dispatch(Object(X.i)(!0))},ta.prototype.handleGroupFilterChange=function(pa){this.props.dispatch(Object(P.x)(pa));this.props.dispatch(Object(X.i)(!0))},ta.prototype.handleOrgGroupFilterChange=function(pa){this.props.dispatch(Object(P.E)(pa));
this.props.dispatch(Object(X.i)())},ta.prototype.handleTagsFilterChange=function(pa){this.props.dispatch(Object(P.I)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleCollaborationFilterChange=function(pa){this.props.dispatch(Object(P.s)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleOrgCategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.orgCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.D)()):this.props.dispatch(Object(P.D)(pa));this.props.dispatch(Object(X.i)())},
ta.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(P.D)());this.props.dispatch(Object(X.i)())},ta.prototype.handleLACategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.livingAtlasCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.z)()):this.props.dispatch(Object(P.z)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleClearLACategories=function(){this.props.dispatch(Object(P.z)());this.props.dispatch(Object(X.i)())},ta.prototype.handleLARegionSelect=
function(pa){var ya=this.props.stateTree.parameters.filter.livingAtlasRegion;ya&&ya.value===pa.value?this.props.dispatch(Object(P.A)()):this.props.dispatch(Object(P.A)(pa));this.props.dispatch(Object(X.i)())},ta.prototype.handleClearLARegion=function(){this.props.dispatch(Object(P.A)());this.props.dispatch(Object(X.i)())},ta.prototype.handleGroupCategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.groupCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.w)()):this.props.dispatch(Object(P.w)(pa));
this.props.dispatch(Object(X.i)())},ta.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(P.w)());this.props.dispatch(Object(X.i)())},ta.prototype.handleTagsFilterStringChange=function(pa){this.props.dispatch(Object(da.e)(pa))},ta}(S.Component);O.a=Object(S.connect)(function(Ea){return{stateTree:Ea}},function(Ea){return{dispatch:Ea}})(I)},,,,,,function(S,O,I){function Z(ca){var T;ca=Object(W.a)(ca);return!0===(null===(T=ca.portalProperties)||void 0===T?void 0:T.semanticSearchEnabled)||
ca.portalUser&&!ca.portalUser.orgId}I.d(O,"a",function(){return Z});var W=I(126)},function(S,O,I){I.d(O,"a",function(){return W});I.d(O,"b",function(){return ca});var Z=I(286),W="VIEW_ITEM_DETAILS",ca=function(T){return function(P){P({type:W,payload:T});P(Object(Z.c)(T))}}},,,,,,function(S,O,I){I.d(O,"b",function(){return Z});I.d(O,"a",function(){return W});I.d(O,"c",function(){return ca});var Z="CLOSING_DETAILS_PANE",W="CLOSE_DETAILS_PANE",ca=function(){return{type:Z}}},,,,,,,,,function(S,O){S.exports=
b},function(S,O){S.exports=c},function(S,O){S.exports=m},function(S,O,I){I.d(O,"a",function(){return P});var Z=I(0),W=I(69);S=I(254);var ca=I.n(S);S=I(16);var T=I(90),P=function(X){function da(ea){var ja=X.call(this,ea)||this;return ja.state.searchTerm=ja.props.currentSearchString||"",ja.debouncedInput=ca()(function(){ja.props.changeSearchString.apply(ja,[ja.state.searchTerm])},400),ja.handleInputChange=ja.handleInputChange.bind(ja),ja.handleClear=ja.handleClear.bind(ja),ja}return Object(Z.d)(da,
X),da.prototype.componentWillReceiveProps=function(ea){ea.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:ea.currentSearchString})},da.prototype.render=function(ea){var ja=this.props,la=ja.title,ma=ja.placeholder;ja=ja.controls;var oa=this.state.searchTerm||"";return ea("div",{"class":"ac-search-area"},ea("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},ea("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),ea("input",{"class":"ac-search-area__input",key:"search-input",title:la,"aria-label":la,type:"search",oninput:this.handleInputChange,value:oa,placeholder:ma,"aria-controls":ja}),oa&&ea("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":W.clearSearch},ea("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},ea("path",{d:T.k,fill:"currentColor"}))))},da.prototype.handleInputChange=function(ea){this.setState({searchTerm:ea.target.value});
this.debouncedInput()},da.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},da}(S.Component)},function(S,O){S.exports=p},,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){return ca?Object(Z.g)(Object(Z.g)([],T),["(group:"+ca.id+")"]):T})},function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T,P){if(ca)switch(ca.value){case "authoritative":return T&&
T.orgId&&!T.portal.isPortal?Object(Z.g)(Object(Z.g)([],P),["((contentstatus:org_authoritative orgid:"+T.orgId+") OR contentstatus:public_authoritative)"]):T&&T.orgId&&T.portal.isPortal?Object(Z.g)(Object(Z.g)([],P),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(Z.g)(Object(Z.g)([],P),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(Z.g)(Object(Z.g)([],P),["(contentstatus:deprecated)"])}return P})},function(S,O,I){I.d(O,"a",function(){return W});
var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){return ca?Object(Z.g)(Object(Z.g)([],T),["(access:"+ca.value+")"]):T})},function(S,O,I){I.d(O,"a",function(){return W});var Z=I(0);S=I(15);var W=Object(S.a)(function(ca,T){if(ca){var P=function(X){for(var da,ea=0,ja=Object.keys(X);ea<ja.length;ea++){var la=X[ja[ea]];if(la.selected){da=la.items;break}la=la.participants.filter(function(ma){return ma.selected});if(0<la.length){da=la[0].items;break}}return da}(ca);if(P)return P=P.join(" OR "),Object(Z.g)(Object(Z.g)([],
T),["id:("+P+")"])}return T})},function(S,O,I){I.d(O,"a",function(){return ca});S=I(56);var Z=I.n(S),W=I(30),ca=function(T,P,X,da){function ea(xa){Aa=xa.categorySchema[0].source.split(".")[1];Object(W.e)(T,P,X.contentCategorySetsGroupQuery).then(ja,va);Object(W.v)(T,P.restUrl+"/portals/regions",{culture:da}).then(oa,va)}function ja(xa){xa.results[0]?Object(W.v)(T,P.restUrl+"/content/groups/"+xa.results[0].id+"/search",{q:"typekeywords: "+Aa}).then(la,va):va("The content category sets group could not be found.")}
function la(xa){1===xa.results.length&&xa.results[0]?Object(W.h)(T,P,xa.results[0].id).then(ma,va):va("The item containing the living atlas categories could not be determined.")}function ma(xa){Ba=xa.categorySchema[0];X.isPortal&&Oa?sa([Ba]):Oa&&sa([Ba,Oa])}function oa(xa){Oa={categories:xa.map(function(Ea){return{displayName:Ea.localizedName,title:Ea.region}}).sort(function(Ea,ta){return"wo"===Ea.title.toLowerCase()?-1:Ea.displayName.localeCompare(ta.displayName)}),description:"2.0",displayName:"Regions",
title:"region"};X.isPortal&&Ba?sa([Ba]):Ba&&sa([Ba,Oa])}function sa(xa){Ja.resolve({schema:xa,id:za})}function va(xa){Ja.reject(xa)}void 0===da&&(da="en");var za,Aa,Ba,Oa,Ja=new Z.a;return Object(W.e)(T,P,X.livingAtlasGroupQuery,(null==P?0:P.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(xa){xa.results[0]&&xa.results[0].id?(za=xa.results[0].id,Object(W.f)(T,P,za).then(ea,va)):va("The living atlas group could not be found.")},va),Ja}},,,,,,,function(S,O,I){I.d(O,"a",function(){return Z});
I.d(O,"b",function(){return W});var Z="CHANGE_SEARCH_STRING",W=function(ca){return{type:Z,payload:ca}}},function(S,O,I){I.d(O,"b",function(){return Z});I.d(O,"a",function(){return W});var Z="SHOW_EMPTY_RESULTS",W="CHANGE_RESULT_DISPLAY"},,,function(S,O,I){I.d(O,"a",function(){return W});I.d(O,"c",function(){return ca});I.d(O,"b",function(){return T});I.d(O,"d",function(){return P});I.d(O,"e",function(){return X});S=I(254);S=I.n(S);var Z=I(162),W="LOADING_TAGS",ca="LOADING_TAGS_SUCCESS",T="LOADING_TAGS_FAILED",
P="UPDATE_TAGS_FILTER_STRING",X=function(ea){return function(ja,la){ja({type:P,payload:ea});2<ea.length&&da(ja,la(),ea)}},da=S()(function(ea,ja,la){ea({type:W});var ma=ja.settings.utils.request;ja=Object(Z.c)(ja,la);ma(ja[0],ja[1]).then(function(oa){ea({type:ca,payload:oa.data})},function(oa){return ea({type:T,payload:oa})})},400)},,function(S,O,I){I.d(O,"a",function(){return ca});I.d(O,"b",function(){return T});I.d(O,"c",function(){return P});S=I(16);O=I(428);var Z=I(453),W=I(461);I=I(478);var ca=
O.b.config,T={parameters:Z.b,settings:O.b,results:W.b,ui:I.b},P=Object(S.combineReducers)({settings:O.a,parameters:Z.a,results:W.a,ui:I.a})},,,function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(49),T=I(48),P=I(566),X=I.n(P),da=I(86),ea=I(5),ja={itemType:Object(ca.y)(),modified:Object(ca.C)(),created:Object(ca.t)(),shared:Object(ca.G)(),folder:Object(ca.v)(),group:Object(ca.x)(),status:Object(ca.H)(),orgGroup:Object(ca.E)()};I=function(la){function ma(oa){oa=la.call(this,oa)||this;return oa.handleRemoveMapAreaFilter=
oa.handleRemoveMapAreaFilter.bind(oa),oa.handleRemoveSearchOrgFilter=oa.handleRemoveSearchOrgFilter.bind(oa),oa.handleRemoveGeneralFilter=oa.handleRemoveGeneralFilter.bind(oa),oa.handleRemoveOrgCategoriesFilter=oa.handleRemoveOrgCategoriesFilter.bind(oa),oa.handleRemoveLACategoriesFilter=oa.handleRemoveLACategoriesFilter.bind(oa),oa.handleRemoveLARegionFilter=oa.handleRemoveLARegionFilter.bind(oa),oa.handleRemoveGroupCategoriesFilter=oa.handleRemoveGroupCategoriesFilter.bind(oa),oa.handleClearAll=
oa.handleClearAll.bind(oa),oa.handleRemoveTagsFilter=oa.handleRemoveTagsFilter.bind(oa),oa.handleRemoveCollaborationFilter=oa.handleRemoveCollaborationFilter.bind(oa),oa.handleRemoveCustomFilter=oa.handleRemoveCustomFilter.bind(oa),oa}return Object(Z.d)(ma,la),ma.prototype.render=function(oa){var sa,va,za=this,Aa=this.props.stateTree.parameters.filter,Ba=[];if(null===(sa=this.props.staticFilters)||void 0===sa||sa.forEach(function(xa){Ba.push({filterId:xa,text:xa,"static":!0})}),Aa.searchOrg&&"all"===
this.props.stateTree.parameters.section&&(null===(va=this.props.stateTree.settings.utils.portal.user)||void 0===va?void 0:va.credential)&&this.props.stateTree.settings.utils.portal.name&&Ba.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),Aa.searchMapArea&&Ba.push({filterId:"searchMapArea",onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:
W.filterChips.mapArea}),Aa.itemType&&Ba.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.type+": "+Aa.itemType.text}),Aa.dateModified&&Ba.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateModified+": "+Aa.dateModified.label}),Aa.dateCreated&&Ba.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateCreated+": "+Aa.dateCreated.label}),Aa.shared&&Ba.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,
text:W.filterChips.access+": "+Aa.shared.text}),Aa.group&&"myGroups"===this.props.stateTree.parameters.section?Ba.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.group.title}):Aa.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&Ba.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.orgGroup.title}),Aa.folder&&"myContent"===this.props.stateTree.parameters.section&&Ba.push({filterId:"folder",
onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.folder+": "+Aa.folder.title}),Aa.status&&Ba.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.status+": "+Aa.status.text}),Aa.orgCategories)sa=Aa.orgCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:W.filterChips.category+": "+sa.text});Aa.livingAtlasCategories&&(sa=Aa.livingAtlasCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveLACategoriesFilter,text:W.filterChips.category+
": "+sa.text}));Aa.groupCategories&&(sa=Aa.groupCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:W.filterChips.category+": "+sa.text}));Aa.livingAtlasRegion&&(sa=Aa.livingAtlasRegion,Ba.push({filterId:sa.value,onRemove:this.handleRemoveLARegionFilter,text:W.filterChips.region+": "+sa.text}));Aa.tags&&Object.keys(Aa.tags).forEach(function(xa){Ba.push({filterId:xa,onRemove:za.handleRemoveTagsFilter,text:W.filterChips.tagged+": "+xa})});if(Aa.origins){var Oa=
Aa.origins;Object.keys(Aa.origins).forEach(function(xa){var Ea;Oa[xa].selected?Ba.push({filterId:Oa[xa].value,onRemove:za.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+Oa[xa].label}):null===(Ea=Oa[xa].participants)||void 0===Ea||Ea.forEach(function(ta){ta.selected&&Ba.push({filterId:ta.value,onRemove:za.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+ta.label})})})}var Ja=Object(da.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);
if(Ja&&!Object(ea.b)(Aa.customFilter)&&Object.keys(Aa.customFilter).filter(function(xa){return Aa.customFilter[xa]}).forEach(function(xa){var Ea,ta=parseInt(xa,10);(null===(Ea=null==Ja?void 0:Ja.filters)||void 0===Ea?0:Ea[ta])&&Ba.push({filterId:""+ta,onRemove:za.handleRemoveCustomFilter,text:Ja.filters[ta].displayName+": "+Aa.customFilter[xa].text})}),0<Ba.length)return oa("div",{key:"active-filter-area","class":"ib__active-filters filter-chip-wrap"},oa(X.a,{key:"item-browser-filter-controller",
filters:Ba,onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},ma.prototype.handleRemoveCustomFilter=function(oa){this.props.dispatch(Object(ca.u)(parseInt(oa.target.value,10)));this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveGeneralFilter=function(oa){this.props.dispatch(ja[oa.target.value]);
this.props.dispatch(Object(T.i)("folder"===oa.target.value))},ma.prototype.handleRemoveMapAreaFilter=function(oa){this.props.dispatch(Object(ca.B)(!1));this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveSearchOrgFilter=function(oa){this.props.dispatch(Object(ca.F)(!1));this.props.dispatch(Object(T.i)())},ma.prototype.handleClearAll=function(){var oa=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:ca.a});this.props.dispatch(Object(T.i)(oa))},ma.prototype.handleRemoveOrgCategoriesFilter=
function(oa){this.props.dispatch(Object(ca.D)());this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveLACategoriesFilter=function(oa){this.props.dispatch(Object(ca.z)());this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveGroupCategoriesFilter=function(oa){this.props.dispatch(Object(ca.w)());this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveLARegionFilter=function(oa){this.props.dispatch(Object(ca.A)());this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveTagsFilter=
function(oa){var sa=this.props.stateTree.parameters.filter.tags;if(null==sa?0:sa[oa.target.value])sa=Object(Z.a)({},sa),delete sa[oa.target.value],0<Object.keys(sa).length?this.props.dispatch(Object(ca.I)(sa)):this.props.dispatch(Object(ca.I)()),this.props.dispatch(Object(T.i)())},ma.prototype.handleRemoveCollaborationFilter=function(oa){this.props.dispatch(Object(ca.s)());this.props.dispatch(Object(T.i)())},ma}(S.Component);O.a=Object(S.connect)(function(la){return{stateTree:la}},function(la){return{dispatch:la}})(I)},
,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return W});S=I(16);var Z=I(451);I=I(452);var W={config:Z.b,utils:I.b};O.a=Object(S.combineReducers)({config:Z.a,utils:I.a})},,,,,,function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return ca});I.d(O,"c",function(){return T});var Z=I(78),W="START_CUSTOM_ACTION",ca="END_CUSTOM_ACTION",T=function(P,X){return function(da,ea){var ja=ea().settings.config.customActions.filter(function(la){return la.name===P})[0];ja&&(ja.asynchronous?(da({type:W,
payload:X}),ja.onAction(Object(Z.b)(X)).then(function(){da({type:ca,payload:X})},function(){da({type:ca,payload:X})})):ja.onAction(Object(Z.b)(X)))}}},,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return da});var Z=I(0);S=I(36);var W=I(100),ca=I(264),T=I(141),P=I(99),X=I(86),da={asynchronousItemSelect:!1,usePrimaryButtonStyle:!0,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:S.itemDetails.addToMap,mainInverseActionTitle:S.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},
onBulkAction:function(){},preSelect:function(){},disableOnSelect:!1,baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",cancelButtonText:"Cancel",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:T.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps experienceApps instantApps sites pages storyMaps mobileApps desktopApps tools analytics locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs csvs reports webTools notebooks tiledImageLayers elevationLayers rasterFunctionTemplates knowledgeGraphs".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{},noItemsFoundText:S.results.noItemsFound,itemSelectionEnabled:!1,disableInitiallySelectedItems:!1};O.a=function(ea,ja){switch(void 0===ea&&(ea=da),ja.type){case ca.b:return Object(P.f)("id",ea.customSections.filter(X.f).map(X.a).reduce(function(la,ma){return Object(Z.g)(Object(Z.g)([],la),ma)},[]).filter(function(la){return"object"==
typeof la&&"group"===la.type})).forEach(function(la,ma){la.id=ja.payload.groups[ma].id;delete la.fetchGroupIdByQuery}),ea;case W.e:return Object(Z.a)(Object(Z.a)({},ea),{itemSelectionEnabled:!0});default:return ea}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(326),ca=I(101),T={iconDir:"",portal:{},request:function(P){return null}};O.a=function(P,X){switch(void 0===P&&(P=T),X.type){case W.a:return Object(Z.a)(Object(Z.a)({},P),{self:X.payload.self});default:return P.portal.portalHostname&&
!P.portal.baseUrl&&(P.portal.baseUrl=Object(ca.a)(P.portal)),P}}},function(S,O,I){I.d(O,"b",function(){return X});S=I(16);var Z=I(454),W=I(456),ca=I(457),T=I(460),P=I(458);I=I(459);var X={extent:Z.b,filter:W.b,nextQuery:ca.b,searchString:P.b,section:I.b,sort:T.b};O.a=Object(S.combineReducers)({extent:Z.a,filter:W.a,nextQuery:ca.a,searchString:P.a,section:I.a,sort:T.a})},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(455),ca={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};
O.a=function(T,P){switch(void 0===T&&(T=ca),P.type){case W.a:return Object(Z.a)(Object(Z.a)({},T),{throttling:!1});case W.b:return{area:P.payload,throttling:!0};default:return T}}},function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return ca});I.d(O,"c",function(){return T});var Z=I(48),W="UPDATE_EXTENT",ca="UNTHROTTLE_EXTENT",T=function(P){return function(X,da){var ea=da();ea.parameters.extent.throttling||(X({type:W,payload:P}),ea.parameters.filter.searchMapArea&&X(Object(Z.i)()),
setTimeout(function(){X({type:ca})},ea.settings.config.mapAreaThrottleTime))}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(49),ca=I(288),T={customFilter:{},searchMapArea:!1};O.a=function(P,X){var da;switch(void 0===P&&(P=T),X.type){case W.a:return{customFilter:{},searchMapArea:!1};case W.n:return Object(Z.a)(Object(Z.a)({},P),{orgGroup:X.payload});case W.j:return Object(Z.a)(Object(Z.a)({},P),{livingAtlasRegion:X.payload});case W.i:return Object(Z.a)(Object(Z.a)({},P),{livingAtlasCategories:X.payload});
case W.m:return Object(Z.a)(Object(Z.a)({},P),{orgCategories:X.payload});case W.f:return Object(Z.a)(Object(Z.a)({},P),{groupCategories:X.payload});case W.h:return Object(Z.a)(Object(Z.a)({},P),{itemType:X.payload});case W.l:return Object(Z.a)(Object(Z.a)({},P),{dateModified:X.payload.modified});case W.c:return Object(Z.a)(Object(Z.a)({},P),{dateCreated:X.payload.created});case W.p:return Object(Z.a)(Object(Z.a)({},P),{shared:X.payload});case W.e:return Object(Z.a)(Object(Z.a)({},P),{folder:X.payload});
case W.g:return Object(Z.a)(Object(Z.a)({},P),{groupCategories:void 0,group:X.payload});case W.q:return Object(Z.a)(Object(Z.a)({},P),{status:X.payload});case W.k:return Object(Z.a)(Object(Z.a)({},P),{searchMapArea:X.payload});case W.o:return Object(Z.a)(Object(Z.a)({},P),{searchOrg:X.payload,orgCategories:void 0});case W.r:return Object(Z.a)(Object(Z.a)({},P),{tags:X.payload});case W.b:return Object(Z.a)(Object(Z.a)({},P),{origins:X.payload});case W.d:return Object(Z.a)(Object(Z.a)({},P),{customFilter:Object(Z.a)(Object(Z.a)({},
P.customFilter),(da={},da[X.payload.index]=X.payload.filter,da))});case ca.a:return{customFilter:{},searchMapArea:!1};default:return P}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(48),ca={nextStart:-1,total:0};O.a=function(T,P){switch(void 0===T&&(T=ca),P.type){case W.a:return Object(Z.a)(Object(Z.a)({},T),{total:0});case W.c:return{nextStart:P.payload.search.nextStart,total:P.payload.search.total};case W.f:return{nextStart:P.payload.nextStart,total:P.payload.total};case W.g:return{nextStart:-1,
total:P.payload.length};default:return T}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(48),ca=I(409),T={current:"",previous:""};O.a=function(P,X){switch(void 0===P&&(P=T),X.type){case W.a:return Object(Z.a)(Object(Z.a)({},P),{previous:P.current});case ca.a:return Object(Z.a)(Object(Z.a)({},P),{current:X.payload});default:return P}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(288),W=I(326),ca="all";O.a=function(T,P){switch(void 0===T&&(T=ca),P.type){case Z.a:return P.payload.newSection;
case W.a:var X=P.payload.config.baseSections,da=P.payload.config.customSections.map(function(ea){return ea.name});return-1<X.indexOf(T)||-1<da.indexOf(T)?T:0<X.length?X[0]:0<da.length?da[0]:"all";default:return T}}},function(S,O,I){I.d(O,"b",function(){return da});var Z=I(0),W=I(290),ca=I(288),T=I(264),P=I(86),X=I(99),da={field:"relevance",order:"desc"},ea={myContent:"modified",myFavorites:"modified",myGroups:"modified",myOrganization:"modified",livingAtlas:"relevance",all:"relevance"},ja={relevance:"desc",
title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};O.a=function(la,ma){switch(void 0===la&&(la=da),ma.type){case W.b:return Object(Z.a)(Object(Z.a)({},la),{order:ma.payload});case W.a:var oa=ma.payload;return{field:oa,order:ja[oa]||la.order};case ca.a:oa=Object(P.b)(ma.payload.customSections,ma.payload.newSection);if(null==oa?0:oa.filters){var sa=oa.filters.filter(function(va){return"object"==typeof va&&"group"===va.type})[0];if(null==sa?0:sa.id)if(sa=ma.payload.customSectionGroupSort[sa.id])return sa}oa=
ea[ma.payload.newSection]||(null==oa?void 0:oa.sortField);return{field:oa||"relevance",order:ja[oa]||"desc"};case T.b:sa=ma.payload;oa=sa.customSections;sa=Object(P.b)(oa,sa.currentSection);if(null==sa?0:sa.filters)if(oa=Object(X.f)("id",oa.filter(P.f).map(P.a).reduce(function(va,za){return Object(Z.g)(Object(Z.g)([],va),za)},[]).filter(function(va){return"object"==typeof va&&"group"===va.type})),sa=sa.filters.filter(function(va){return"object"==typeof va&&"group"===va.type})[0],oa=ma.payload.groups[oa.indexOf(sa)])return{field:oa.sortField||
"relevance",order:oa.sortOrder||"desc"};return la;default:return la}}},function(S,O,I){I.d(O,"b",function(){return va});S=I(16);var Z=I(462),W=I(465),ca=I(466),T=I(467),P=I(468),X=I(469),da=I(471),ea=I(470),ja=I(472),la=I(473),ma=I(474),oa=I(475),sa=I(476);I=I(477);var va={counts:Z.b,displayItems:W.b,livingAtlas:ca.b,loadingItems:T.b,selectedItems:P.b,initiallySelectedItems:X.b,failedItemDetails:ea.b,fullItemDetails:da.b,organization:ja.b,user:la.b,customSections:ma.b,allOrganizations:oa.b,users:sa.b,
provisionedContent:I.b};O.a=Object(S.combineReducers)({counts:Z.a,displayItems:W.a,loadingItems:T.a,selectedItems:P.a,failedItemDetails:ea.a,fullItemDetails:da.a,initiallySelectedItems:X.a,livingAtlas:ca.a,organization:ja.a,user:la.a,customSections:ma.a,allOrganizations:oa.a,users:sa.a,provisionedContent:I.a})},function(S,O,I){I.d(O,"b",function(){return W});S=I(16);var Z=I(463);I=I(464);var W={access:Z.b,contentStatus:I.b};O.a=Object(S.combineReducers)({access:Z.a,contentStatus:I.a})},function(S,
O,I){I.d(O,"b",function(){return W});var Z=I(48),W={org:void 0,"private":void 0,"public":void 0,shared:void 0};O.a=function(ca,T){switch(void 0===ca&&(ca=W),T.type){case Z.c:if(T.payload.aggregations&&T.payload.aggregations.counts){var P=T.payload.aggregations.counts.filter(function(ja){return"access"===ja.fieldName})[0];if(P){var X=P.fieldValues.filter(function(ja){return"org"===ja.value})[0],da=P.fieldValues.filter(function(ja){return"private"===ja.value})[0],ea=P.fieldValues.filter(function(ja){return"public"===
ja.value})[0];P=P.fieldValues.filter(function(ja){return"shared"===ja.value})[0];return{org:X?X.count:void 0,"private":da?da.count:void 0,"public":ea?ea.count:void 0,shared:P?P.count:void 0}}}return ca;default:return ca}}},function(S,O,I){I.d(O,"b",function(){return W});var Z=I(48),W={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};O.a=function(ca,T){switch(void 0===ca&&(ca=W),T.type){case Z.c:if(T.payload.aggregations&&T.payload.aggregations.counts){var P=T.payload.aggregations.counts.filter(function(ea){return"contentstatus"===
ea.fieldName})[0];if(P){var X=P.fieldValues.filter(function(ea){return"org_authoritative"===ea.value})[0],da=P.fieldValues.filter(function(ea){return"public_authoritative"===ea.value})[0];P=P.fieldValues.filter(function(ea){return"deprecated"===ea.value})[0];return{publicAuthoritative:da?da.count:0,orgAuthoritative:X?X.count:0,deprecated:P?P.count:0}}}return ca;default:return ca}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(48),ca=[];O.a=function(T,P){switch(void 0===T&&(T=[]),
P.type){case W.c:return P.payload.search.results;case W.g:return P.payload;case W.f:return Object(Z.g)(Object(Z.g)([],T),P.payload.results);default:return T}}},function(S,O,I){I.d(O,"b",function(){return P});var Z=I(0),W=I(327),ca=I(48),T=I(182),P={categorySchema:void 0,groupId:void 0,status:"initial"};O.a=function(X,da){switch(void 0===X&&(X=P),da.type){case W.a:return Object(Z.a)(Object(Z.a)({},X),{status:"loading"});case W.b:return Object(Z.a)(Object(Z.a)({},X),{categorySchema:{displayName:da.payload.id,
value:da.payload.id,children:Object(T.b)(da.payload.schema)},groupId:da.payload.id,status:"loaded"});case ca.c:return X.categorySchema&&da.payload.aggregations&&da.payload.aggregations.countInfo&&"livingAtlas"===da.payload.aggregations.countInfo.section?Object(Z.a)(Object(Z.a)({},X),{categorySchema:Object(T.c)(da.payload.aggregations,Object(T.a)(X.categorySchema),"groupCategories")}):X;case W.c:return Object(Z.a)(Object(Z.a)({},X),{status:"failed"});default:return X}}},function(S,O,I){I.d(O,"b",function(){return X});
var Z=I(0),W=I(100),ca=I(434),T=I(71),P=I(173),X={};O.a=function(da,ea){var ja,la,ma,oa,sa,va,za,Aa,Ba,Oa,Ja,xa;switch(void 0===da&&(da={}),ea.type){case W.h:return Object(Z.a)(Object(Z.a)({},da),((ja={})[ea.payload.id]=ea.payload,ja));case W.g:return Object(Z.a)(Object(Z.a)({},da),((la={})[ea.payload.id]=void 0,la));case W.j:return Object(Z.a)(Object(Z.a)({},da),((ma={})[ea.payload.id]=void 0,ma));case W.i:return Object(Z.a)(Object(Z.a)({},da),((oa={})[ea.payload.id]=void 0,oa));case ca.b:return Object(Z.a)(Object(Z.a)({},
da),((sa={})[ea.payload.id]=ea.payload,sa));case ca.a:return Object(Z.a)(Object(Z.a)({},da),((va={})[ea.payload.id]=void 0,va));case T.a:return{};case P.a:return Object(Z.a)(Object(Z.a)({},da),((za={})[ea.payload.id]=ea.payload,za));case P.c:return Object(Z.a)(Object(Z.a)({},da),((Aa={})[ea.payload.id]=void 0,Aa));case P.b:return Object(Z.a)(Object(Z.a)({},da),((Ba={})[ea.payload.id]=void 0,Ba));case P.e:return Object(Z.a)(Object(Z.a)({},da),((Oa={})[ea.payload.id]=ea.payload,Oa));case P.g:return Object(Z.a)(Object(Z.a)({},
da),((Ja={})[ea.payload.id]=void 0,Ja));case P.f:return Object(Z.a)(Object(Z.a)({},da),((xa={})[ea.payload.id]=void 0,xa));default:return da}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(100),ca=I(71),T={};O.a=function(P,X){var da;switch(void 0===P&&(P={}),X.type){case W.b:return{};case W.f:return Object(Z.a)(Object(Z.a)({},P),X.payload.reduce(function(la,ma){var oa;return Object(Z.a)(Object(Z.a)({},la),((oa={})[ma.id]=ma,oa))},{}));case W.c:var ea=P;var ja=X.payload.id;ea[ja];
return Object(Z.f)(ea,["symbol"==typeof ja?ja:ja+""]);case W.g:return Object(Z.a)(Object(Z.a)({},P),((ea={})[X.payload.id]=X.payload,ea));case W.k:return P[X.payload.id]?(ea=P,ja=X.payload.id,ea[ja],Object(Z.f)(ea,["symbol"==typeof ja?ja:ja+""])):Object(Z.a)(Object(Z.a)({},P),((ja={})[X.payload.id]=X.payload,ja));case W.j:return(da={})[X.payload.id]=X.payload,da;case W.e:return Object(Z.a)(Object(Z.a)({},P),X.payload);case ca.a:return{};default:return P}}},function(S,O,I){I.d(O,"b",function(){return ca});
var Z=I(0),W=I(100),ca={};O.a=function(T,P){switch(void 0===T&&(T={}),P.type){case W.e:return Object(Z.a)(Object(Z.a)({},T),P.payload);default:return T}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(286),ca=I(357),T={};O.a=function(P,X){var da;switch(void 0===P&&(P=T),X.type){case W.b:return P[X.payload.item.id]?(delete (ea=Object(Z.a)({},P))[X.payload.item.id],ea):P;case ca.a:var ea;return P[X.payload.id]?(delete (ea=Object(Z.a)({},P))[X.payload.id],ea):P;case W.a:return Object(Z.a)(Object(Z.a)({},
P),((da={})[X.payload]=!0,da));default:return P}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(286),ca={};O.a=function(T,P){var X;switch(void 0===T&&(T=ca),P.type){case W.b:return Object(Z.a)(Object(Z.a)({},T),((X={})[P.payload.item.id]=P.payload.item,X));case W.a:return T[P.payload]?(X=Object(Z.a)({},T),delete X[P.payload],X):T;default:return T}}},function(S,O,I){I.d(O,"b",function(){return P});var Z=I(0),W=I(266),ca=I(48),T=I(182),P={categorySchema:void 0,groups:void 0,status:"initial",
servers:[]};O.a=function(X,da){switch(void 0===X&&(X=P),da.type){case W.a:return Object(Z.a)(Object(Z.a)({},X),{status:"loading"});case W.b:return Object(Z.a)(Object(Z.a)({},X),{groups:da.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(T.b)(da.payload.schema)},status:"loaded",servers:da.payload.servers||[]});case ca.c:return X.categorySchema&&da.payload.aggregations&&da.payload.aggregations.countInfo&&("myOrganization"===da.payload.aggregations.countInfo.section||
"myContent"===da.payload.aggregations.countInfo.section||"all"===da.payload.aggregations.countInfo.section)?Object(Z.a)(Object(Z.a)({},X),{categorySchema:Object(T.c)(da.payload.aggregations,Object(T.a)(X.categorySchema),"categories")}):X;case W.c:return Object(Z.a)(Object(Z.a)({},X),{status:"failed"});default:return X}}},function(S,O,I){I.d(O,"b",function(){return P});var Z=I(0),W=I(173),ca=I(48),T=I(182),P={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},status:"initial"};O.a=function(X,
da){var ea,ja,la,ma,oa;switch(void 0===X&&(X=P),da.type){case W.d:return Object(Z.a)(Object(Z.a)({},X),{status:"loading"});case W.i:return Object(Z.a)(Object(Z.a)({},X),{favorites:da.payload.favorites,folders:da.payload.folders,groups:da.payload.groups,status:"loaded"});case W.h:return Object(Z.a)(Object(Z.a)({},X),{groupCategories:Object(Z.a)(Object(Z.a)({},X.groupCategories),(ea={},ea[da.payload.id]={value:da.payload.id,children:Object(T.b)(da.payload.categorySchema)},ea))});case ca.c:return da.payload.aggregations&&
da.payload.aggregations.countInfo&&"myGroups"===da.payload.aggregations.countInfo.section&&da.payload.aggregations.countInfo.group&&(ea=da.payload.aggregations.countInfo.group.id,X.groupCategories[ea])?Object(Z.a)(Object(Z.a)({},X),{groupCategories:Object(Z.a)(Object(Z.a)({},X.groupCategories),(ja={},ja[ea]=Object(T.c)(da.payload.aggregations,Object(T.a)(X.groupCategories[ea]),"groupCategories"),ja))}):X;case W.j:return Object(Z.a)(Object(Z.a)({},X),{status:"failed"});case W.c:return Object(Z.a)(Object(Z.a)({},
X),{favorites:X.favorites?Object(Z.a)(Object(Z.a)({},X.favorites),(la={},la[da.payload.id]=!0,la)):(ma={},ma[da.payload.id]=!0,ma)});case W.g:return Object(Z.a)(Object(Z.a)({},X),{favorites:X.favorites?Object(Z.a)(Object(Z.a)({},X.favorites),(oa={},oa[da.payload.id]=!1,oa)):{}});default:return X}}},function(S,O,I){function Z(da,ea,ja){return ea.filter(function(la){return la.type===da}).reduce(function(la,ma){return la[ma.id]||(la[ma.id]={value:ma.id,children:Object(P.b)(ma.response.categorySchema)}),
la},Object(W.a)({},ja))}I.d(O,"b",function(){return X});var W=I(0),ca=I(264),T=I(48),P=I(182),X={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};O.a=function(da,ea){switch(void 0===da&&(da=X),ea.type){case ca.a:return Object(W.a)(Object(W.a)({},da),{status:"loading"});case ca.b:return Object(W.a)(Object(W.a)({},da),{groupSort:ea.payload.groups.reduce(function(la,ma){return la[ma.id]={field:ma.sortField,order:ma.sortOrder},la},da.groupSort)});case ca.c:return Object(W.a)(Object(W.a)({},
da),{orgSchemas:Z("org",ea.payload,da.orgSchemas),groupSchemas:Z("group",ea.payload,da.groupSchemas),status:"loaded"});case ca.d:return Object(W.a)(Object(W.a)({},da),{status:"failed"});case T.c:if(ea.payload.aggregations){var ja=ea.payload.aggregations.countInfo;if(ja.custom&&ja.custom.filters)return ja.custom.filters.filter(function(la){return"object"==typeof la}).reduce(function(la,ma){var oa,sa;return"group"===ma.type?Object(W.a)(Object(W.a)({},da),{groupSchemas:Object(W.a)(Object(W.a)({},da.groupSchemas),
(oa={},oa[ma.id]=Object(P.c)(ea.payload.aggregations,Object(P.a)(da.groupSchemas[ma.id]),"groupCategories"),oa))}):"org"===ma.type?Object(W.a)(Object(W.a)({},da),{orgSchemas:Object(W.a)(Object(W.a)({},da.orgSchemas),(sa={},sa[ma.id]=Object(P.c)(ea.payload.aggregations,Object(P.a)(da.orgSchemas[ma.id]),"categories"),sa))}):la},da)}return da;default:return da}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(48),ca=I(295),T={};O.a=function(P,X){switch(void 0===P&&(P=T),X.type){case W.c:return Object(Z.a)(Object(Z.a)({},
P),X.payload.search.organizations);case W.f:case ca.b:return Object(Z.a)(Object(Z.a)({},P),X.payload.organizations);default:return P}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(286),ca={};O.a=function(T,P){var X;switch(void 0===T&&(T=ca),P.type){case W.b:return Object(Z.a)(Object(Z.a)({},T),((X={})[P.payload.owner.username]=P.payload.owner,X));default:return T}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(256),ca={content:[],status:"initial"};O.a=function(T,
P){switch(void 0===T&&(T=ca),P.type){case W.a:return Object(Z.a)(Object(Z.a)({},T),{status:"loading"});case W.b:return Object(Z.a)(Object(Z.a)({},T),{status:"failed"});case W.c:return Object(Z.a)(Object(Z.a)({},T),{status:"loaded",content:P.payload});default:return T}}},function(S,O,I){I.d(O,"b",function(){return X});S=I(16);var Z=I(479),W=I(480),ca=I(484),T=I(485),P=I(486);I=I(487);var X={sidePanel:Z.b,expanded:W.b,resultPanel:ca.b,filters:T.b,tagsFilter:P.b,pagination:I.b};O.a=Object(S.combineReducers)({sidePanel:Z.a,
expanded:W.a,resultPanel:ca.a,filters:T.a,tagsFilter:P.a,pagination:I.a})},function(S,O,I){I.d(O,"b",function(){return da});var Z=I(0),W=I(363),ca=I(357),T=I(804),P=I(805),X=I(48),da={closing:!1,type:"hidden"};O.a=function(ea,ja){switch(void 0===ea&&(ea=da),ja.type){case W.b:return Object(Z.a)(Object(Z.a)({},ea),{closing:!0});case W.a:return Object(Z.a)(Object(Z.a)({},ea),{closing:!1,type:"hidden",item:void 0});case ca.a:return Object(Z.a)(Object(Z.a)({},ea),{type:"item",item:ja.payload});case T.a:return Object(Z.a)(Object(Z.a)({},
ea),{type:"filter",item:void 0});case P.a:return Object(Z.a)(Object(Z.a)({},ea),{type:"sort",item:void 0});case X.c:return"item"===ea.type&&ea.item&&!ja.payload.search.results.filter(function(la){return ea.item&&la.id===ea.item.id})[0]?Object(Z.a)(Object(Z.a)({},ea),{closing:!0}):ea;case X.g:return"item"===ea.type&&ea.item&&!ja.payload.filter(function(la){return ea.item&&la.id===ea.item.id})[0]?Object(Z.a)(Object(Z.a)({},ea),{closing:!0}):ea;default:return ea}}},function(S,O,I){I.d(O,"b",function(){return P});
S=I(481);var Z=I(482),W=I(483),ca=I(16),T=I(226),P={filters:S.b,sort:Z.b,sublayerCards:W.b,maximized:!1,closing:!1};O.a=Object(ca.combineReducers)({filters:S.a,sort:Z.a,sublayerCards:W.a,maximized:function(X,da){switch(da.type){case T.c:return!0;case T.d:return!1;default:return X}},closing:function(X,da){switch(da.type){case T.b:return!0;default:return X}}})},function(S,O,I){I.d(O,"b",function(){return W});var Z=I(226),W=!1;O.a=function(ca,T){switch(T.type){case Z.e:return!ca;default:return ca}}},
function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(226),W=I(290),ca=!1;O.a=function(T,P){switch(P.type){case Z.f:return!T;case Z.a:return!1;case W.a:case W.b:return!T;default:return T}}},function(S,O,I){I.d(O,"b",function(){return ca});var Z=I(0),W=I(226),ca={cardStates:{},overlayOpen:!1};O.a=function(T,P){var X;switch(P.type){case W.g:return Object(Z.a)(Object(Z.a)({},T),{cardStates:Object(Z.a)(Object(Z.a)({},T.cardStates),(X={},X[P.payload.item.id]=P.payload,X)),overlayOpen:P.payload.overlay.visible&&
!P.payload.overlay.closing});default:return T}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(48),ca=I(410),T={display:"list",status:"empty"};O.a=function(P,X){switch(void 0===P&&(P=T),X.type){case W.g:case W.c:case W.f:return Object(Z.a)(Object(Z.a)({},P),{status:"success"});case W.b:case W.e:return Object(Z.a)(Object(Z.a)({},P),{status:"failed"});case W.a:return Object(Z.a)(Object(Z.a)({},P),{status:"loading"});case W.d:return Object(Z.a)(Object(Z.a)({},P),{status:"loadingNext"});
case ca.a:return Object(Z.a)(Object(Z.a)({},P),{display:"table"===P.display?"list":"table"});case ca.b:return Object(Z.a)(Object(Z.a)({},P),{status:"empty"});default:return P}}},function(S,O,I){I.d(O,"b",function(){return T});var Z=I(0),W=I(49),ca=I(288),T={};O.a=function(P,X){switch(void 0===P&&(P=T),X.type){case W.a:return{};case W.l:return Object(Z.a)(Object(Z.a)({},P),{modifiedSection:X.payload.section});case W.c:return Object(Z.a)(Object(Z.a)({},P),{createdSection:X.payload.section});case ca.a:return{};
default:return P}}},function(S,O,I){I.d(O,"b",function(){return X});var Z=I(0);S=I(63);var W=I(99),ca=I(288),T=I(413),P=I(48),X={allTags:[],filterString:"",visibleTags:[]};O.a=function(ea,ja){switch(void 0===ea&&(ea=X),ja.type){case ca.a:return Object(Z.a)(Object(Z.a)({},ea),{filterString:""});case T.d:return Object(Z.a)(Object(Z.a)({},ea),{filterString:ja.payload,visibleTags:ea.allTags.filter(function(sa){return 0===ja.payload.length||-1<sa.value.indexOf(ja.payload)})});case T.a:return ea;case T.c:return ja.payload.aggregations&&
(la=ja.payload.aggregations.counts.filter(function(sa){return"tags"===sa.fieldName})[0])?(la=(ma=ea.allTags,oa=la.fieldValues,da(ma.concat(oa))),Object(Z.a)(Object(Z.a)({},ea),{allTags:la,visibleTags:la.filter(function(sa){return 0===ea.filterString.length||-1<sa.value.indexOf(ea.filterString)})})):ea;case T.b:return ea;case P.c:var la;return ja.payload.aggregations&&(la=ja.payload.aggregations.counts.filter(function(sa){return"tags"===sa.fieldName})[0])?(la=da(la.fieldValues),Object(Z.a)(Object(Z.a)({},
ea),{allTags:la,visibleTags:la.filter(function(sa){return 0===ea.filterString.length||-1<sa.value.indexOf(ea.filterString)})})):ea;default:return ea}var ma,oa};O=Object(W.f)("value");var da=Object(S.a)(O,function(ea){return ea.map(function(ja){var la=ja.count;return{value:ja.value.trim(),count:la}})},function(ea){return ea.sort(function(ja,la){return la.count-ja.count})})},function(S,O,I){I.d(O,"b",function(){return P});var Z=I(0),W=I(295),ca=I(48),T=I(199),P={page:1,displayItems:[],userThumbnailCache:{},
pendingUserThumbRequests:[],orgThumbnailCache:{},pendingOrgThumbRequests:[],status:"loading"};O.a=function(X,da){switch(void 0===X&&(X=P),da.type){case W.c:return Object(Z.a)(Object(Z.a)({},X),{status:"loading"});case W.b:return Object(Z.a)(Object(Z.a)({},X),{displayItems:da.payload.displayItems,page:da.payload.page,status:"success"});case W.a:return Object(Z.a)(Object(Z.a)({},X),{status:"failed"});case ca.c:return Object(Z.a)(Object(Z.a)({},X),{displayItems:da.payload.search.results,status:"success",
page:1});case ca.g:return Object(Z.a)(Object(Z.a)({},X),{displayItems:da.payload,status:"success",page:1});case T.c:return Object(Z.a)(Object(Z.a)({},X),{pendingUserThumbRequests:Object(Z.g)(Object(Z.g)([],X.pendingUserThumbRequests),da.payload).filter(function(ea,ja,la){return la.indexOf(ea)===ja})});case T.d:return Object(Z.a)(Object(Z.a)({},X),{userThumbnailCache:Object(Z.a)(Object(Z.a)({},X.userThumbnailCache),da.payload),pendingUserThumbRequests:X.pendingUserThumbRequests.filter(function(ea){return!da.payload[ea]})});
case T.a:return Object(Z.a)(Object(Z.a)({},X),{pendingOrgThumbRequests:Object(Z.g)(Object(Z.g)([],X.pendingOrgThumbRequests),da.payload).filter(function(ea,ja,la){return la.indexOf(ea)===ja})});case T.b:return Object(Z.a)(Object(Z.a)({},X),{orgThumbnailCache:Object(Z.a)(Object(Z.a)({},X.orgThumbnailCache),da.payload),pendingOrgThumbRequests:X.pendingOrgThumbRequests.filter(function(ea){return!da.payload[ea]})});default:return X}}},function(S,O,I){var Z=I(0);S=I(16);var W=I(547),ca=I(548),T=I(571),
P=I(294),X=I.n(P),da=I(100);I=function(ea){function ja(){return null!==ea&&ea.apply(this,arguments)||this}return Object(Z.d)(ja,ea),ja.prototype.render=function(la){var ma=!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen;return la("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},la(X.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:ma,
adjustable:this.props.adjustable,flex:!0},la(W.a,{key:"big-browser-header"}),la(ca.a,{key:"big-browser-body"}),this.props.renderFooter&&la(T.a,{handleSecondaryClick:this.props.handleCancelClick,handlePrimaryClick:this.props.handleSubmitClick,key:"big-browser-footer",primaryText:this.props.submitButtonText,secondaryText:this.props.cancelButtonText})))},ja}(S.Component);O.a=Object(S.connect)(function(ea){return{closing:ea.ui.expanded.closing,filtersVisible:ea.ui.expanded.filters,sortVisible:ea.ui.expanded.sort,
sublayerOverlayOpen:ea.ui.expanded.sublayerCards.overlayOpen,adjustable:"adjustable"===ea.settings.config.layoutMode,renderFooter:!!ea.settings.config.multiSelect,submitButtonText:ea.settings.config.submitButtonText,cancelButtonText:ea.settings.config.cancelButtonText}},function(ea){return{handleSubmitClick:function(){ea(da.m)},handleCancelClick:function(){ea(da.l)}}})(I)},function(S,O){S.exports=q},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){var Z=I(0),W=I(36);S=I(16);
var ca=I(90);I=function(T){function P(X){X=T.call(this,X)||this;return X.handleContract=X.handleContract.bind(X),X.handleClose=X.handleClose.bind(X),X.handleTitleCreate=X.handleTitleCreate.bind(X),X}return Object(Z.d)(P,T),P.prototype.componentWillReceiveProps=function(X){X.page!==this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},P.prototype.render=function(X){return X("header",{"class":"ib__big-header"},X("div",{"class":"ib__big-header-title-section"},X("h3",{"class":"ib__big-header-title",
id:"ib__big-header-title",afterCreate:this.handleTitleCreate},this.props.dialogTitle),X("button",{key:"main-close-btn","class":"mod__overlay__close","aria-label":W.close,onclick:this.handleClose},X("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},X("path",{d:ca.k})))))},P.prototype.handleContract=function(){this.props.onBack()},P.prototype.handleClose=function(){this.props.onBack()},P.prototype.handleTitleCreate=function(X){this.titleNode=
X},P}(S.Component);O.a=Object(S.connect)(function(T){return{dialogTitle:T.settings.config.dialogTitle,onBack:function(){var P,X;null===(X=null===(P=T.settings.config)||void 0===P?void 0:P.onBack)||void 0===X||X.call(P)},page:T.ui.pagination.page}},function(){return{}})(I)},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(551),T=I(563),P=I(567),X=I(550),da=I(372),ea=I.n(da),ja=I(295);da=I(205);var la=I.n(da);da=I(373);var ma=I.n(da),oa=I(350),sa=I(226),va=I(333),za=I(549);I=function(Aa){function Ba(Oa){Oa=
Aa.call(this,Oa)||this;return Oa.handlePageChange=Oa.handlePageChange.bind(Oa),Oa.handleCloseMobileFilters=Oa.handleCloseMobileFilters.bind(Oa),Oa}return Object(Z.d)(Ba,Aa),Ba.prototype.render=function(Oa){var Ja=this,xa=this.props.expandedFiltersActive,Ea={"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--hidden":!xa,"ib__big-filters--visible":xa},ta="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,pa={"ib__big-wrapper":!0,"ib__big-wrapper--faded":ta,"ib__big-wrapper--transparent":ta&&
0===this.props.pageDisplayItems.length},ya=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return Oa("div",{"class":"ib__big-body","aria-labelledby":Object(va.slugifySectionName)(this.props.section),role:"tabpanel"},Oa("div",{"class":"ib-nav-container"},Oa(za.a,{key:"big-browser-section-tabs"}),"subscription"!==this.props.section&&Oa(X.a,{key:"ib__big-search-area"})),Oa("div",{"class":"ib__big-row",afterCreate:function(ua){ua&&!Ja.scrollContainer&&
(Ja.scrollContainer=ua)}},Oa("section",{classes:Ea,key:"fullscreen-filters"},Oa("div",{"class":xa?"":"hide"},Oa("div",{"class":"ib-ex-input__container"},Oa("span",{"class":"ib__big-filter-label"},W.filterPane.filter)),Oa(ca.a,null))),Oa("div",{"class":"ib__big-overlay-filters"},Oa(ma.a,{key:"mobile-filter-wrap",maxHeight:!0,open:xa,onClose:this.handleCloseMobileFilters,title:W.filterPane.filter,footer:Oa("button",{"class":"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},W.viewResults)},
Oa(oa.a,{key:"mobile-filters"}))),Oa("section",{"class":"ib__big-section ib__big-results",key:"results-section"},Oa("div",{classes:pa},Oa("div",{"class":"ib-ex-alert-container hide",key:"ib-ex-alert-container"},Oa("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: 0rem .2rem .1rem;\n                                    "},
Oa("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),Oa("span",{"class":"ib-ex-alert-text"},W.groupAddDisclaimer)),Oa(T.a,{key:"big-browser-input-area"}),Oa(P.a,{key:"big-browser-result-panel"}),1<ya&&"subscription"!==this.props.section&&Oa(ea.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:ya,currentPage:this.props.currentPage,
paginationLimitReached:1E4<this.props.itemTotal})),ta&&Oa("div",{"class":"ib-ex__load-container",key:"ib-ex__load-container"},Oa(la.a,{key:"item-ex-loading"})))))},Ba.prototype.handlePageChange=function(Oa){this.scrollContainer&&(this.scrollContainer.scrollTop=0);this.props.changePage(Oa)},Ba.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},Ba}(S.Component);O.a=Object(S.connect)(function(Aa){return{expandedFiltersActive:Aa.ui.expanded.filters,resultStatus:Aa.ui.resultPanel.status,
paginationStatus:Aa.ui.pagination.status,pageDisplayItems:Aa.ui.pagination.displayItems,currentPage:Aa.ui.pagination.page,itemTotal:Aa.parameters.nextQuery.total,resultsPerQuery:Aa.settings.config.resultsPerQuery,section:Aa.parameters.section}},function(Aa){return{changePage:function(Ba){Aa(Object(ja.d)(Ba))},toggleExpandedFilters:function(){Aa(Object(sa.i)())}}})(I)},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(288),T=I(48),P=I(333),X=I.n(P),da=I(125);I=function(ea){function ja(la){la=ea.call(this,
la)||this;return la.state={options:(la.props.user?la.props.baseSections:la.props.baseSections.filter(function(ma){return"livingAtlas"===ma||"all"===ma})).map(function(ma){return{value:ma,text:W.header.sectionTitles[ma]}}).concat(la.props.customSections.map(function(ma){return{value:ma.name,text:ma.name}}))},la.handleTabSelect=la.handleTabSelect.bind(la),la}return Object(Z.d)(ja,ea),ja.prototype.render=function(la){return la(X.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,
selectedOptionValue:this.props.currentSection,dropdownOnly:!0})},ja.prototype.handleTabSelect=function(la){this.props.changeSearchSection(la);this.props.search(!0)},ja}(S.Component);O.a=Object(S.connect)(function(ea){return{user:ea.settings.utils.portal.user,baseSections:ea.settings.config.baseSections,customSections:ea.settings.config.customSections,currentSection:ea.parameters.section}},function(ea){return{changeSearchSection:function(ja){ea(Object(da.k)(""));ea(Object(ca.b)(ja))},search:function(ja){ea(Object(T.i)(ja))}}})(I)},
function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(285),T=I.n(ca),P=I(226),X=I(290),da=I(409),ea=I(48);ca=I(374);var ja=I.n(ca),la=I(375),ma="relevance title owner created modified numviews".split(" "),oa={myContent:["relevance","modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],
all:["relevance","title","owner","modified","numviews"]};I=function(sa){function va(za){za=sa.call(this,za)||this;return za.handleToggleFilters=za.handleToggleFilters.bind(za),za.handleSearchChange=za.handleSearchChange.bind(za),za.handleSortFieldChange=za.handleSortFieldChange.bind(za),za.handleSortOrderChange=za.handleSortOrderChange.bind(za),za.handleSortClick=za.handleSortClick.bind(za),za.handleSortBlur=za.handleSortBlur.bind(za),za}return Object(Z.d)(va,sa),va.prototype.render=function(za){var Aa=
W.header.sectionTitles[this.props.section];Aa=this.props.searchPlaceholderText?this.props.searchPlaceholderText:W.search+" "+(Aa||this.props.section);var Ba=this.props.section;Ba=oa[Ba]?Object(Z.g)([],oa[Ba]):Object(Z.g)([],ma);return-1===Ba.indexOf(this.props.sortField)&&(this.props.sortField=Ba[0]),za("div",{"class":"ib-ex-search-area__container",key:"search-area"},za(la.a,{key:"ib-ex-search-area-input",title:W.header.search,placeholder:Aa,currentSearchString:this.props.searchString,changeSearchString:this.handleSearchChange}),
za("div",{"class":"ib-ex-search-area__btn-section"},za(ja.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:Ba,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick,handleMenuBlur:this.handleSortBlur}),za(T.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},za("div",{"class":"drp-sort__btn-body"},za("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},za("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),za("span",{"class":"drp-sort__btn-label"},W.filterPane.filter)))))},va.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},va.prototype.handleSearchChange=function(za){this.props.changeSearchString(za);this.props.search(!0)},va.prototype.handleSortFieldChange=function(za){this.props.changeSortField(za);this.props.search()},
va.prototype.handleSortOrderChange=function(za){this.props.changeSortOrder(za);this.props.search()},va.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},va.prototype.handleSortBlur=function(){this.props.closeExpandedSort()},va}(S.Component);O.a=Object(S.connect)(function(sa){return{searchPlaceholderText:sa.settings.config.searchPlaceholderText,section:sa.parameters.section,searchString:sa.parameters.searchString.current,previousSearchString:sa.parameters.searchString.previous,
sortActive:sa.ui.expanded.sort,sortField:sa.parameters.sort.field,sortOrder:sa.parameters.sort.order,expandedFiltersActive:sa.ui.expanded.filters}},function(sa){return{toggleExpandedFilters:function(){sa(Object(P.i)())},toggleExpandedSort:function(){sa(Object(P.j)())},changeSortField:function(va){sa(Object(X.c)(va))},changeSortOrder:function(va){sa(Object(X.d)(va))},changeSearchString:function(va){sa(Object(da.b)(va))},search:function(va){sa(Object(ea.i)(va))},closeExpandedSort:function(){sa(Object(P.h)())}}})(I)},
function(S,O,I){var Z=I(350);O.a=function(W,ca){return ca(Z.a,{key:"big-browser-filters"})}},function(S,O){S.exports=y},function(S,O){S.exports=B},function(S,O){S.exports=z},function(S,O){S.exports=D},function(S,O){S.exports=F},function(S,O){S.exports=x},function(S,O){S.exports=E},function(S,O){S.exports=G},function(S,O){S.exports=H},function(S,O,I){function Z(ca){var T,P=ca.settings.utils.portal.user,X=!P;P=!X&&!P.orgId;if(X||P)if(P)X=function(da){switch(da.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");
case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified created tags".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return W(da)}}(ca);else a:switch(ca.parameters.section){case "livingAtlas":X=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":X=["itemType",
"modified","status"];break a;default:X=W(ca)}else X=function(da){switch(da.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");
case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return W(da)}}(ca);return T=X,function(da,ea){var ja=ea.indexOf("itemType");da&&-1<ja&&ea.splice(ja,1);return ea}(ca.settings.config.disableItemTypeFilters,T)}function W(ca){return ca.settings.config.customSections.reduce(function(T,P){return P.name===ca.parameters.section&&P.filters?P.filters:T},["itemType","modified","shared"])}I.d(O,
"a",function(){return Z})},function(S,O,I){var Z=I(0);S=I(16);var W=I(216),ca=I.n(W);W=I(255);var T=I.n(W);I=function(P){function X(da){da=P.call(this,da)||this;return da.handleClear=da.handleClear.bind(da),da.handleClick=da.handleClick.bind(da),da}return Object(Z.d)(X,P),X.prototype.render=function(da){var ea=this,ja=this.props.filter;return da(T.a,{key:ja.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,title:ja.displayName},da("ul",{"aria-label":ja.displayName,id:ja.displayName+
"-filter-accordion-tree","class":"ftr-custom__tree",role:"tree"},ja.children?ja.children.map(function(la){return da(ca.a,{key:la.value,value:la.value,name:la.displayName,onToggleClick:ea.handleClick,selectedToggle:ea.props.selectedOption,childOptions:la.children})}):null))},X.prototype.handleClear=function(){this.props.onClear(this.props.index)},X.prototype.handleClick=function(da,ea){da===this.props.selectedOption?this.props.onClick(this.props.index,void 0):this.props.onClick(this.props.index,da,
ea)},X}(S.Component);O.a=I},function(S,O,I){var Z=I(0),W=I(36),ca=I(178);S=I(16);var T=I(418),P=I(564),X=I(100);I=function(da){function ea(){return null!==da&&da.apply(this,arguments)||this}return Object(Z.d)(ea,da),ea.prototype.render=function(ja){var la=this,ma=this.props,oa=ma.itemTotal,sa=ma.itemName,va=ma.dropdownItems,za=ma.staticFilters,Aa=ma.handleItemClick,Ba=ma.handleClearAllClick,Oa=ma.handleSelectPageClick,Ja=ma.multiselect,xa=ma.maxSelected,Ea=ma.showSelectAllOnPage,ta=ma.itemsPerPage,
pa=ma.pageNumber;ma=ma.showDeselectTooltip;var ya=1E4<=oa?W.itemLimitReached.replace("${limit}",ca.format(1E4)):ca.format(oa),ua=Math.min((pa-1)*ta+1,oa);oa=Math.min(pa*ta,oa);sa=sa?ya+" "+sa:W.itemTotalInfo.replace("${from}",ua).replace("${to}",oa).replace("${total}",ya).replace("-"," - ");Aa=Ja&&0<va.length&&ja(P.a,{key:"ib-item-dropdown",items:va,maxSelected:xa,handleItemClick:Aa,showDeselectTooltip:ma});va=Ja&&0<va.length&&ja("button",{key:"clear-selection-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--clear-all",
onclick:function(na){la.handleFocus();Ba()}},W.filterPane.clearSelection);Ea=Ea&&ja("button",{key:"select-all-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--select-page",onclick:function(na){la.handleFocus();Oa()}},W.filterPane.selectAll);return ja("div",{"class":"ib-ex-input__container",key:"ib-result-count-container"},ja("div",{"class":"ib-ex-input__container__controls"},ja("span",{key:"input-area-results","class":"ib-ex-input-area__result-count"},sa),Aa,va,Ea),ja(T.a,{staticFilters:za,
key:"ib-ex__active-filters",theme:"dark",showLabel:W.filterPane.filters+":"}))},ea.prototype.handleFocus=function(){window.setTimeout(function(){var ja;null===(ja=document.querySelector(".ib-ex-input__container button"))||void 0===ja||ja.focus()},20)},ea}(S.Component);O.a=Object(S.connect)(function(da){return{itemName:da.settings.config.itemName,itemTotal:da.parameters.nextQuery.total,pageNumber:da.ui.pagination.page,staticFilters:da.settings.config.staticFilters,itemsPerPage:da.settings.config.resultsPerQuery,
dropdownItems:Object.keys(da.results.selectedItems).map(function(ea){return da.results.selectedItems[ea]}).filter(function(ea){return!da.settings.config.disableInitiallySelectedItems||!da.results.initiallySelectedItems[ea.id]}),multiselect:!!da.settings.config.multiSelect,maxSelected:da.settings.config.maxSelected,showDeselectTooltip:da.settings.config.showDeselectTooltip,showSelectAllOnPage:!!da.settings.config.multiSelect&&0<da.parameters.nextQuery.total&&!da.ui.pagination.displayItems.every(function(ea){return da.results.selectedItems[ea.id]})&&
(!da.settings.config.maxSelected||da.ui.pagination.displayItems.filter(function(ea){return!da.results.selectedItems[ea.id]}).length+Object.keys(da.results.selectedItems).length<=da.settings.config.maxSelected)}},function(da){return{handleItemClick:function(ea){da({type:X.c,payload:ea})},handleClearAllClick:function(){da(X.n)},handleSelectPageClick:function(){da(Object(X.q)())}}})(I)},function(S,O,I){var Z=I(0),W=I(36),ca=I(150);S=I(16);var T=I(90),P=I(565),X={open:!1};I=function(da){function ea(){var ja=
null!==da&&da.apply(this,arguments)||this;return ja.state=X,ja.handleBlur=function(la){var ma;(la=la.relatedTarget)&&(null===(ma=ja.dropdown)||void 0===ma?0:ma.contains(la))||ja.setState({open:!1})},ja.handleClick=function(la){var ma,oa;la=la.target;null!==(ma=ja.dropdown)&&void 0!==ma&&ma.contains(la)||((ma=null===(oa=ja.toggleButton)||void 0===oa?void 0:oa.contains(la))?ja.setState({open:!ja.state.open}):ja.state.open&&!ma&&ja.setState({open:!1}))},ja}return Object(Z.d)(ea,da),ea.prototype.render=
function(ja){var la=this,ma=this.props,oa=ma.items,sa=ma.maxSelected,va=ma.showDeselectTooltip;ma=sa?W.itemsSelectedMax:W.itemsSelected;var za=1<oa.length?ma.enPlural:ma.en;"en"!==ca.locale.slice(0,2)&&(za=ma.other);sa=sa?za.replace("${num}",oa.length).replace("${max}",sa):za.replace("${num}",oa.length);return ja("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",la.handleClick)},afterRemoved:function(){document.removeEventListener("click",
la.handleClick);la.setState(X)}},ja("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(Aa){la.toggleButton=Aa},afterRemoved:function(){la.toggleButton=void 0}},ja("span",{"class":"selected-dropdown__toggle-button__text"},sa),ja("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},ja("path",{d:T.a}))),this.state.open&&ja("div",
{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(Aa){la.dropdown=Aa},afterRemoved:function(){la.dropdown=void 0}},ja("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},oa.map(function(Aa){return ja(P.a,{item:Aa,handleCloseClick:la.props.handleItemClick,handleBlur:la.handleBlur,showDeselectTooltip:va,key:Aa.id})}))))},ea}(S.Component);O.a=I},function(S,O,I){var Z=I(0);S=I(16);var W=
I(36),ca=I(90);I=function(T){function P(){return null!==T&&T.apply(this,arguments)||this}return Object(Z.d)(P,T),P.prototype.render=function(X){var da=this.props,ea=da.item,ja=da.handleCloseClick,la=da.handleBlur;da=da.showDeselectTooltip;var ma="selected-"+ea.id,oa="deselect-item-"+ea.id,sa=function(){return X("button",{id:oa,"class":"selected-dropdown__list-item__button",onclick:function(){ja(ea)},"aria-labelledby":ma,"aria-label":W.deselect,onblur:la},X("svg",null,X("path",{d:ca.j})))};return X("li",
{"class":"selected-dropdown__list-item",role:"menuitem",key:ea.id},X("img",{src:ea.iconURI,alt:ea.type,"class":"selected-dropdown__list-item__icon"}),X("span",{"class":"selected-dropdown__list-item__description",id:ma},ea.title),da?X("calcite-tooltip-manager",null,sa(),X("calcite-tooltip",{"reference-element":oa},W.deselect)):sa())},P}(S.Component);O.a=I},function(S,O){S.exports=J},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(569),T=I(568),P=I.n(T).a;I=function(X){function da(){return null!==
X&&X.apply(this,arguments)||this}return Object(Z.d)(da,X),da.prototype.render=function(ea){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?ea("div",{key:"request-error","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},W.results.tooManyGroups))):ea("div",{key:"request-error","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},
ea("span",{"class":"ib-results__message"},W.results.requestError))):this.props.showSubResources?ea(P,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):ea(ca.a,{key:"ib-ex-item-list"})},da}(S.Component);O.a=Object(S.connect)(function(X){return{resultStatus:X.ui.resultPanel.status,pageStatus:X.ui.pagination.status,showSubResources:X.settings.config.showSubResources,tooManyGroups:!(!("myGroups"===X.parameters.section&&X.results.user.groups&&
175<X.results.user.groups.length)||X.parameters.filter.group)}},function(){return{}})(I)},function(S,O){S.exports=M},function(S,O,I){var Z=I(0);S=I(16);var W=I(570),ca=I.n(W),T=I(126),P=I(307);I=function(X){function da(){return null!==X&&X.apply(this,arguments)||this}return Object(Z.d)(da,X),da.prototype.render=function(ea){var ja=this,la=Object(T.a)(this.props.stateTree),ma=this.props.stateTree.ui.pagination.displayItems.map(function(oa){return ea(ca.a,{key:oa.id,item:oa,organization:"public_authoritative"===
oa.contentStatus&&ja.props.stateTree.results.allOrganizations[oa.orgId]?ja.props.stateTree.results.allOrganizations[oa.orgId]:void 0,portal:la,mainAction:ja.props.stateTree.settings.config.onSelect,mainInverseAction:ja.props.stateTree.settings.config.onDeselect,mainActionTitle:ja.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:ja.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:ja.props.stateTree.settings.config.asynchronousItemSelect,usePrimaryButtonStyle:ja.props.stateTree.settings.config.usePrimaryButtonStyle,
isSelected:ja.props.stateTree.settings.config.preSelect,customActions:ja.props.stateTree.settings.config.customActions,sortField:ja.props.stateTree.parameters.sort.field})});return 0<ma.length?ea("div",{key:this.props.key,"class":"ib-ex-results__item-list"},ma):ea(P.a,{key:this.props.key,text:this.props.stateTree.settings.config.noItemsFoundText||""})},da}(S.Component);O.a=Object(S.connect)(function(X){return{stateTree:X}},function(){return{}})(I)},function(S,O){S.exports=K},function(S,O,I){var Z=
I(0);S=function(W){function ca(){return null!==W&&W.apply(this,arguments)||this}return Object(Z.d)(ca,W),ca.prototype.render=function(T){var P=this;return T("footer",{"class":"ib__big-footer"},T("button",{"class":"ib__big-footer-btn ib__big-footer-btn--secondary",onclick:function(){return P.props.handleSecondaryClick()}},this.props.secondaryText),T("button",{"class":"ib__big-footer-btn ib__big-footer-btn--primary",onclick:function(){var X,da;return null===(da=(X=P.props).handlePrimaryClick)||void 0===
da?void 0:da.call(X)}},this.props.primaryText))},ca}(I(16).Component);O.a=S},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(363),T=I(574),P=I(575),X=I(573),da=I(589);I=function(ea){function ja(la){la=ea.call(this,la)||this;return la.handleCloseDetailsPane=la.handleCloseDetailsPane.bind(la),la}return Object(Z.d)(ja,ea),ja.prototype.render=function(la){var ma=this.props.detailsPaneType,oa=this.props.sidePanelType,sa=this.props.closing,va={"ib-side__container--fade-in":!sa,"ib-side__container--fade-out":sa,
"ib-side__container--flyout":"flyout"===ma,"ib-side__container--flyover":"flyover"===ma};ma={"ib-side__content--flyout":"flyout"===ma,"ib-side__content--in-right":!sa&&"flyout"===ma,"ib-side__content--out-left":sa&&"flyout"===ma,"ib-side__content--flyover":"flyover"===ma,"ib-side__content--in-left":!sa&&"flyover"===ma,"ib-side__content--out-right":sa&&"flyover"===ma};if("sort"===oa){var za=la(X.a,{key:"sort-pane"});var Aa=W.sortOptions.sort}else if("filter"===oa)za=la(T.a,{key:"filter-pane"}),Aa=
W.filterPane.filter;else if("item"===oa&&this.props.sidePanelItem)za=la(P.a,{key:this.props.sidePanelItem.id,item:this.props.sidePanelItem});else if("hidden"===oa)return;return la(da.a,{key:"item"===oa&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:oa,containerClasses:va,contentClasses:ma,handleClose:this.handleCloseDetailsPane,i18n:W,type:oa,title:Aa},za)},ja.prototype.componentWillReceiveProps=function(la){var ma=this;!this.props.closing&&la.closing&&("item"===this.props.sidePanelType&&
this.props.sidePanelItem?(la=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&la.focus():"filter"===this.props.sidePanelType?(la=document.getElementById("filter-button"))&&la.focus():"sort"===this.props.sidePanelType&&(la=document.getElementById("sort-button"))&&la.focus(),setTimeout(function(){ma.props.closeDetailsPaneImmediately()},300))},ja.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},ja}(S.Component);O.a=Object(S.connect)(function(ea){return{detailsPaneType:ea.settings.config.detailsPaneType,
sidePanelType:ea.ui.sidePanel.type,sidePanelItem:ea.ui.sidePanel.item}},function(ea){return{closeDetailsPane:function(){ea(Object(ca.c)())},closeDetailsPaneImmediately:function(){ea({type:ca.a})}}})(I)},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(290),T=I(48),P=I(216),X=I.n(P),da="relevance title owner created modified numviews".split(" "),ea={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews",
"owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(ja){function la(ma){ma=ja.call(this,ma)||this;return ma.handleChangeSortField=ma.handleChangeSortField.bind(ma),ma.handleChangeSortAsc=ma.handleChangeSortAsc.bind(ma),ma.handleChangeSortDesc=ma.handleChangeSortDesc.bind(ma),ma}return Object(Z.d)(la,ja),la.prototype.render=function(ma){var oa=
this,sa=this.props.section;sa=(ea[sa]?Object(Z.g)([],ea[sa]):Object(Z.g)([],da)).map(function(Aa){return ma(X.a,{key:Aa,name:W.sortOptions[Aa],value:Aa,selectedToggle:oa.props.sortField,onToggleClick:oa.handleChangeSortField})});var va=this.props.sortField,za=this.props.sortOrder;return ma("div",{id:"sort-pane-container",key:"sort-pane-container","class":"ib-sort-pane__container"},ma("div",{"class":"ib-sort-pane__body"},ma("h3",{id:"sort-options-title","class":"drp-sort__menu-title"},W.sortOptions.sortBy),
ma("ul",{key:"sort-option-section","class":"ib-sort-pane__option-section",role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},sa),"relevance"!==va?ma("div",null,ma("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},W.sortOptions.sortDir),ma("ul",{key:"sort-direction-section","class":"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":za+"-option"},ma(X.a,{key:"sort-asc-toggle",
name:W.sortOptions.ascending[va],value:"asc",onToggleClick:this.handleChangeSortAsc,selectedToggle:za}),ma(X.a,{key:"sort-desc-toggle",name:W.sortOptions.descending[va],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:za}))):null))},la.prototype.handleChangeSortField=function(ma){this.props.changeSortField(ma);this.props.search()},la.prototype.handleChangeSortAsc=function(ma){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},la.prototype.handleChangeSortDesc=
function(ma){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),this.props.search())},la}(S.Component);O.a=Object(S.connect)(function(ja){return{section:ja.parameters.section,sortField:ja.parameters.sort.field,sortOrder:ja.parameters.sort.order}},function(ja){return{changeSortField:function(la){ja(Object(ca.c)(la))},changeSortOrder:function(la){ja(Object(ca.d)(la))},search:function(la){ja(Object(T.i)(la))}}})(I)},function(S,O,I){var Z=I(0);S=I(16);var W=I(350);I=function(ca){function T(){return null!==
ca&&ca.apply(this,arguments)||this}return Object(Z.d)(T,ca),T.prototype.render=function(P){return P("div",{id:"filter-pane-container",key:"filter-pane-container","class":"ib-filter-pane__container"},P(W.a,{key:"filter-options"}))},T}(S.Component);O.a=I},function(S,O,I){var Z=I(0),W=I(36),ca=I(178);S=I(16);var T=I(173),P=I(126),X=I(205),da=I.n(X),ea=I(587);X=I(576);var ja=I.n(X);X=I(577);var la=I.n(X);X=I(578);var ma=I.n(X);X=I(579);var oa=I.n(X);X=I(580);var sa=I.n(X);X=I(581);var va=I.n(X);X=I(582);
var za=I.n(X);X=I(583);var Aa=I.n(X);X=I(584);var Ba=I.n(X);X=I(489);var Oa=I.n(X);X=I(585);var Ja=I.n(X);X=I(206);var xa=I.n(X),Ea=I(586),ta=I(588),pa=I(151);I=function(ya){function ua(na){na=ya.call(this,na)||this;return na.handleItemDetails=na.handleItemDetails.bind(na),na.handleFavorites=na.handleFavorites.bind(na),na}return Object(Z.d)(ua,ya),ua.prototype.render=function(na){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||
this.props.stateTree.results.failedItemDetails[this.props.item.id]))return na(da.a,{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return na("div",{"class":"ib-item-pane__message-container"},na("span",{"class":"ib-results__message"},W.results.requestError));var ra=this.props.stateTree.results.fullItemDetails[this.props.item.id],wa=this.props.stateTree.results.users[ra.owner],Fa=Object(P.a)(this.props.stateTree),Da=ra&&this.props.stateTree.results.loadingItems[ra.id],
Ca={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":Da},Ia=new Date(ra.modified),La=new Date(ra.created),Ga=this.props.stateTree.results.allOrganizations[ra.orgId],Ma="public_authoritative"===ra.contentStatus&&ra.orgId&&Ga,Ha=!("Raster function template"===ra.type&&ra.owner.includes("esri_"));return[na("div",{"class":"ib-item-pane__thumb-container",key:"ib-item-pane__thumb-container"},na("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","class":"ib-item-pane__thumbnail",
style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+ra.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),na(Ea.a,{favorites:this.props.stateTree.results.user.favorites,item:ra,onToggleFavorite:this.handleFavorites})),na("div",{id:"item-pane-container","class":"ib-item-pane__container",
key:ra.id+"-container"},na("div",{classes:Ca},na("div",{key:"item-details"},na("h4",{"class":"ib-item-pane__title"},ra.title,"\u00a0",Ha&&na(xa.a,{key:"view-full-item-details",title:W.viewFullDetails,handleClick:this.handleItemDetails,focusable:!0},na("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},na("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),na("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),
na("span",{key:"item-owner","class":"ib-item-pane__owner-text"},na("img",{src:ra.iconURI,"class":"ib-item-pane__type-icon",title:ra.displayName}),ra.displayName," ",W.itemDetails.by,"\u00a0",na("a",{"class":"ib-item-pane__owner-link",title:Ma?W.itemDetails.viewOrg:W.itemDetails.viewUser,target:"_blank",href:Ma?Ga.orgUrl:Fa.baseUrl+"/home/user.html?user\x3d"+ra.owner},Ma?Ga.name:ra.owner)),na("span",{key:"modified-date","class":"ib-item-pane__modified"},W.itemDetails.lastModified,": "+pa.format(Ia,
{selector:"date",formatLength:"long"})),na("div",{"class":"ib-item-pane__badges"},this.renderBadges(ra,na)),na("div",{"class":"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),na("span",{key:"snippet","class":"ib-item-pane__snippet"},ra.snippet?ra.snippet:W.itemDetails.noSnippet),na("h5",{"class":"ib-item-pane__details"},W.itemDetails.details),ra.patchedDescription?na("span",{key:"item-description",innerHTML:ra.patchedDescription,"class":"ib-item-pane__description"}):na("span",
{key:"item-no-description","class":"ib-item-pane__description"},W.itemDetails.noDescription),na("h5",{"class":"ib-item-pane__terms-of-use"},W.itemDetails.termsOfUse),ra.licenseInfo?na("span",{key:"item-terms-of-use",innerHTML:ra.licenseInfo,"class":"ib-item-pane__license-info"}):na("span",{key:"item-no-terms-of-use","class":"ib-item-pane__license-info"},W.itemDetails.noTermsOfUse),na("h5",{"class":"ib-item-pane__credits"},W.itemDetails.attribution),ra.accessInformation?na("span",{key:"item-access-information",
innerHTML:ra.accessInformation,"class":"ib-item-pane__attribution"}):na("span",{key:"item-no-access-information","class":"ib-item-pane__attribution"},W.itemDetails.noAttribution),Ma?na("p",null,na("h5",{"class":"ib-item-pane__pa-owner"},W.sortOptions.owner),na("div",{"class":"ib-item-pane__pa-org"},na("img",{src:Ga.thumbURI,alt:Ga.name,"class":"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),Ga.name),na("div",{"class":"ib-item-pane__pa-managed"},
na("span",{"class":"ib-item-pane__pa-managed-label"},W.itemDetails.managedBy),na("div",{"class":"ib-item-pane__pa-manager"},wa.thumbURI?na("img",{src:wa.thumbURI,"class":"ib-item-pane__pa-managed-thumb"}):na(ea.a,{"class":"ib-item-pane__pa-managed-thumb"}),ra.owner))):null,na("span",{key:"num-views","class":"ib-item-pane__num-views"},na("strong",null,W.itemDetails.views),": "+ca.format(ra.numViews)),na("span",{key:"created-date","class":"ib-item-pane__num-views"},na("strong",null,W.itemDetails.created),
": "+pa.format(La,{selector:"date",formatLength:"long"})),na(ta.a,{baseUrl:Fa.baseUrl,item:ra}))),Da?na(da.a,{key:"item-pane-loading"}):null)]},ua.prototype.renderBadges=function(na,ra){var wa=this,Fa=this.props.stateTree.settings.utils.portal.user;return na.badges.map(function(Da){switch(Da){case "authoritative":return ra(ja.a,{altOrg:"public_authoritative"===na.contentStatus&&wa.props.stateTree.results.allOrganizations[na.orgId]?wa.props.stateTree.results.allOrganizations[na.orgId].name:void 0});
case "deprecated":return ra(ma.a,null);case "collaboration":return ra(la.a,null);case "livingAtlas":return ra(oa.a,null);case "marketplace":return ra(sa.a,null);case "openData":return ra(va.a,null);case "premium":return ra(za.a,{user:Fa});case "subscriber":return ra(Aa.a,{user:Fa});case "solution":return ra(Ba.a,null);case "publicDataCollection":return ra(Ja.a,null);case "retiredStoryMap":return ra(Oa.a,{isRetiredStoryMap:!0});case "retiredApp":return ra(Oa.a,null)}return null})},ua.prototype.handleItemDetails=
function(){var na=Object(P.a)(this.props.stateTree),ra=this.props.stateTree.ui.sidePanel.item;ra&&window.open(na.baseUrl+"/home/item.html?id\x3d"+ra.id,"_blank")},ua.prototype.handleFavorites=function(){var na=this.props.stateTree.ui.sidePanel.item,ra=this.props.stateTree.results.user.favorites;na&&ra&&ra[na.id]?this.props.removeFromFavorites(na):na&&ra&&!ra[na.id]&&this.props.addToFavorites(na)},ua}(S.Component);O.a=Object(S.connect)(function(ya){return{stateTree:ya}},function(ya){return{addToFavorites:function(ua){ya(Object(T.k)(ua))},
removeFromFavorites:function(ua){ya(Object(T.m)(ua))}}})(I)},function(S,O){S.exports=L},function(S,O){S.exports=U},function(S,O){S.exports=ba},function(S,O){S.exports=V},function(S,O){S.exports=aa},function(S,O){S.exports=ha},function(S,O){S.exports=ia},function(S,O){S.exports=ka},function(S,O){S.exports=qa},function(S,O){S.exports=Y},function(S,O,I){var Z=I(36);O.a=function(W,ca){var T=W.favorites;if(!T)return null;T=T[W.item.id];return ca("button",{onclick:W.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,
"ib-item-pane__favorites-btn--active":T}},ca("span",{"class":"screen-readers-only"},T?Z.itemDetails.isFavorite:Z.itemDetails.notFavorite),ca("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"32",height:"32",viewBox:"0 0 32 32"},ca("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),T?Z.itemDetails.removeFromFavorites:Z.itemDetails.addToFavorites)}},function(S,O,I){O.a=function(Z,W){return W("div",{"class":Z["class"]},W("svg",
{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},W("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(S,O,I){var Z=I(36);O.a=function(W,ca){var T=W.item,P=W.baseUrl,X=Z.itemDetails.shared[T.access?T.access:T.sharing&&T.sharing.access];if(T.sharedToGroups&&0<T.sharedToGroups.length){var da=T.sharedToGroups.map(function(ea){return ca("a",{"class":"ib-item-pane__group-link",href:P+"/home/group.html?owner\x3d"+ea.owner+"\x26title\x3d"+ea.title,key:ea.id,target:"_blank"},ea.title)}).reduce(function(ea,ja,la){return ea[la-1]&&ea.push(", "),ea.push(ja),ea},[]);X="public"===T.access||
"org"===T.access?[X+", ",da]:da}else if("shared"===T.access&&(!T.sharedToGroups||0===T.sharedToGroups.length))return null;return ca("span",{key:"shared-with","class":"ib-item-pane__shared"},ca("strong",null,Z.itemDetails.sharedWith),": ",X)}},function(S,O,I){function Z(T){T.focus()}S=I(206);var W=I.n(S),ca=I(590);O.a=function(T,P){var X=T.key,da=T.containerClasses,ea=T.contentClasses,ja=T.handleClose,la=T.i18n,ma=T.title,oa=T.children,sa=null;return"item"===T.type&&(sa=P(ca.a,{key:"item-details-footer"})),
P("div",{key:"details-pane",classes:da,"aria-expanded":"true"},P("div",{key:"content-container",classes:ea},P("header",{"class":"ib-side-body__header"},P("span",{"class":"ib-side-body__title"},ma),P("div",{"class":"ib-side-body__btn-container"},P(W.a,{afterCreate:Z,focusable:!0,handleClick:ja,key:"side-panel-close-btn",title:la.close},P("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},P("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),
P("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),P("section",{key:X,"class":"ib-side-body__content"},oa),sa))}},function(S,O,I){var Z=I(0);S=I(16);var W=I(100),ca=I(434);I=function(T){function P(X){X=T.call(this,X)||this;return X.handleAddBtnClick=X.handleAddBtnClick.bind(X),X.handleCustomActionClick=X.handleCustomActionClick.bind(X),X}return Object(Z.d)(P,T),P.prototype.render=function(X){var da=this,ea=this.props.stateTree.ui.sidePanel.item,ja=ea&&!!this.props.stateTree.results.selectedItems[ea.id],
la={"ib-item-pane__btn--disabled":ea&&!!this.props.stateTree.results.loadingItems[ea.id]},ma=Object(Z.a)(Object(Z.a)({},la),{"ib-item-pane__btn--active":ja}),oa=this.props.stateTree.settings.config.customActions.filter(function(sa){return sa.allowed(ea||{})});return X("footer",{"class":"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:X("button",{key:"select-btn","class":"ib-item-pane__select-btn",classes:ma,onclick:this.handleAddBtnClick},ja?this.props.stateTree.settings.config.mainInverseActionTitle:
this.props.stateTree.settings.config.mainActionTitle),oa.map(function(sa){return X("button",{key:"usage","class":"ib-item-pane__btn",classes:la,value:sa.name,onclick:da.handleCustomActionClick},sa.name)}))},P.prototype.handleAddBtnClick=function(){var X=this.props.stateTree.ui.sidePanel.item;X&&(this.props.stateTree.results.selectedItems[X.id]?this.props.deselectItem(X):this.props.selectItem(X))},P.prototype.handleCustomActionClick=function(X){var da=this.props.stateTree.ui.sidePanel.item;da&&this.props.customAction(X.target.value,
da)},P}(S.Component);O.a=Object(S.connect)(function(T){return{stateTree:T}},function(T){return{deselectItem:function(P){T(Object(W.o)(P))},selectItem:function(P){T(Object(W.r)(P))},customAction:function(P,X){T(Object(ca.c)(P,X))}}})(I)},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(592),T=I(206),P=I.n(T);I=function(X){function da(){return null!==X&&X.apply(this,arguments)||this}return Object(Z.d)(da,X),da.prototype.render=function(ea){var ja=ea("div",{"class":"ib-header__spacer"});this.props.showBackBtn&&
(ja=ea(P.a,{handleClick:this.props.onBack,key:"main-back-btn",title:W.back,focusable:!0},ea("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},ea("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var la=ea("div",{"class":"ib-header__spacer"});return this.props.showCloseBtn&&(la=ea(P.a,{key:"main-close-btn",title:W.close,focusable:!0,handleClick:this.props.onBack},ea("svg",{role:"img",width:"16",
height:"16",viewBox:"0 0 32 32"},ea("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),ea("div",{classes:{ib__header:!0},key:"header"},ea("div",{key:"section-title-container","class":"ib-header__search-section"},ja,ea(ca.a,{key:"section-dropdown"}),la))},da}(S.Component);O.a=Object(S.connect)(function(X){return{showBackBtn:X.settings.config.showBackBtn,showCloseBtn:X.settings.config.showCloseBtn,onBack:function(){X.settings.config.onBack()}}},function(){return{}})(I)},
function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(288),T=I(48),P=I(310),X=I.n(P);P=I(206);var da=I.n(P);I=function(ea){function ja(la){la=ea.call(this,la)||this;var ma=(la.props.portal.user?la.props.baseSections:la.props.baseSections.filter(function(oa){return"livingAtlas"===oa||"all"===oa})).map(function(oa){return{value:oa,text:W.header.sectionTitles[oa]}});return la.props.customSections.forEach(function(oa){var sa={value:oa.name,text:oa.name};oa.addToFront?ma.splice(0,0,sa):ma.push(sa)}),la.state=
{options:ma},la.handleOptionSelect=la.handleOptionSelect.bind(la),la}return Object(Z.d)(ja,ea),ja.prototype.render=function(la){var ma=this.props.section,oa=W.header.sectionTitles[ma];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?la("h3",{id:"ib-dialog-title","class":"ib-header__dialog-title"},this.props.dialogTitle):la(X.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},la("h3",{key:"search-"+
ma+"-dropdown",id:"section-dropdown-toggle","class":"ib-section-dropdown__toggle"},oa||ma,"\u00a0",la("span",{"class":"btn-svg__button-noevent flex"},la(da.a,{key:"section-dropdown-button"},la("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16"},la("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"}))))))},ja.prototype.handleOptionSelect=function(la){this.props.changeSearchSection(la);this.props.search(!0)},ja}(S.Component);O.a=Object(S.connect)(function(ea){return{baseSections:ea.settings.config.baseSections,
customSections:ea.settings.config.customSections,portal:ea.settings.utils.portal,replaceSectionDropdownWithTitle:!!ea.settings.config.replaceSectionDropdownWithTitle,dialogTitle:ea.settings.config.dialogTitle,section:ea.parameters.section}},function(ea){return{changeSearchSection:function(ja){ea(Object(ca.b)(ja))},search:function(ja){ea(Object(T.i)(ja))}}})(I)},function(S,O,I){var Z=I(0),W=I(36),ca=I(178);S=I(16);var T=I(285),P=I.n(T),X=I(418),da=I(48),ea=I(410),ja=I(409),la=I(363),ma=I(804),oa=I(805);
I=function(sa){function va(za){za=sa.call(this,za)||this;return za.handleSearchChange=za.handleSearchChange.bind(za),za.handleSearchKeyDown=za.handleSearchKeyDown.bind(za),za.handleListClick=za.handleListClick.bind(za),za.handleTableClick=za.handleTableClick.bind(za),za.handleSortClick=za.handleSortClick.bind(za),za.handleFilterClick=za.handleFilterClick.bind(za),za}return Object(Z.d)(va,sa),va.prototype.render=function(za){var Aa=1E4<=this.props.nextTotal?W.itemLimitReached.replace("${limit}",ca.format(1E4)):
ca.format(this.props.nextTotal);Aa="function"==typeof this.props.replacementItemName?this.props.replacementItemName(Aa):this.props.replacementItemName?Aa+" "+this.props.replacementItemName:W.resultCount+": "+Aa;var Ba=W.header.sectionTitles[this.props.section];Ba=this.props.placeholderText?this.props.placeholderText:W.search+" "+(Ba||this.props.section);var Oa={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};return za("div",
null,za("div",{key:"search-input-area","class":"ib__input-area"},"subscription"!==this.props.section?za("div",{key:"search-bar-container","class":"ib-input-area__search-bar"},za("input",{id:"item-browser-search-input","class":"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:Ba,"aria-label":Ba,value:this.props.searchString})):null,za("div",{classes:Oa},za("span",{"class":"ib-input-area__result-count"},Aa),za("div",{"class":"ib-input-area__icon-button-container"},
za(P.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:W.compactView},za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),za(P.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:W.listView},
za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?[za("div",{key:"spacer","class":"ib-input-area__spacer"}),za(P.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?W.close:W.filterPane.filter},za("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},za("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),za(P.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===this.props.sidePanelType?W.close:W.sortOptions.sort},za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:
null))),za(X.a,{key:"active-filters",theme:"dark"}))},va.prototype.handleSearchChange=function(za){this.props.changeSearchString(za.target.value);""===za.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},va.prototype.handleSearchKeyDown=function(za){"Enter"===za.key&&this.props.search(!0)},va.prototype.handleTableClick=function(za){za.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},va.prototype.handleListClick=function(za){za.preventDefault();
"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},va.prototype.handleFilterClick=function(za){za.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},va.prototype.handleSortClick=function(za){za.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},va}(S.Component);O.a=Object(S.connect)(function(sa){return{nextTotal:sa.parameters.nextQuery.total,placeholderText:sa.settings.config.searchPlaceholderText,
previousSearchString:sa.parameters.searchString.previous,replacementItemName:sa.settings.config.itemName,resultPanelType:sa.ui.resultPanel.display,searchString:sa.parameters.searchString.current,sidePanelType:sa.ui.sidePanel.type,section:sa.parameters.section}},function(sa){return{search:function(va){sa(Object(da.i)(va))},changeResultDisplay:function(){sa({type:ea.a})},changeSearchString:function(va){sa(Object(ja.b)(va))},closeDetailsPane:function(){sa(Object(la.c)())},viewFilters:function(){sa(Object(ma.b)())},
viewSort:function(){sa(Object(oa.b)())}}})(I)},function(S,O,I){var Z=I(0),W=I(36);S=I(16);var ca=I(48),T=I(595),P=I(596),X=I(205),da=I.n(X);I=function(ea){function ja(){var la=null!==ea&&ea.apply(this,arguments)||this;return la.handleScroll=function(ma){.99<=(ma.target.scrollTop+ma.target.offsetHeight)/ma.target.scrollHeight&&"loadingNext"!==la.props.resultPanelStatus&&-1!==la.props.nextStart&&la.props.loadMoreContent()},la.handleCreate=function(ma){setTimeout(function(){ma.scrollHeight<=ma.clientHeight&&
"loadingNext"!==la.props.resultPanelStatus&&-1!==la.props.nextStart&&la.props.loadMoreContent(50)},10)},la}return Object(Z.d)(ja,ea),ja.prototype.render=function(la){var ma=this.props,oa=ma.resultPanelStatus,sa=ma.displayItems,va=ma.showSubmitButton,za=ma.resultPanelDisplayType;ma=ma.tooManyGroups;switch(oa){case "success":case "loadingNext":return la(T.a,{key:"item-list-"+za,i18n:W,showSubmitButton:va,results:sa,loadingNext:"loadingNext"===oa,handleScroll:this.handleScroll,handleCreate:this.handleCreate},
la(P.a,{key:"result-items"}));case "loading":return la("div",{key:"loading-items","class":"ib__results"},la(da.a,{key:"item-loader",text:W.results.loadingItems}));case "empty":return la("div",{key:"empty-state","class":"ib__results"},la("div",{"class":"ib-results__message-container"},la("span",{"class":"ib-results__message"},W.results.empty)))}return ma?la("div",{key:"too-many-groups","class":"ib__results"},la("div",{"class":"ib-results__message-container"},la("span",{"class":"ib-results__message"},
W.results.tooManyGroups))):la("div",{key:"request-error","class":"ib__results"},la("div",{"class":"ib-results__message-container"},la("span",{"class":"ib-results__message"},W.results.requestError)))},ja}(S.Component);O.a=Object(S.connect)(function(ea){return{displayItems:ea.results.displayItems,nextStart:ea.parameters.nextQuery.nextStart,showSubmitButton:ea.settings.config.showSubmitButton,resultPanelDisplayType:ea.ui.resultPanel.display,resultPanelStatus:ea.ui.resultPanel.status,tooManyGroups:!(!("myGroups"===
ea.parameters.section&&ea.results.user.groups&&175<ea.results.user.groups.length)||ea.parameters.filter.group)}},function(ea){return{loadMoreContent:function(ja){ea(Object(ca.h)(ja))}}})(I)},function(S,O,I){S=I(205);var Z=I.n(S);O.a=function(W,ca){var T=W.key,P=W.i18n,X=W.loadingNext,da=W.handleScroll,ea=W.handleCreate,ja=W.children;return 0<W.results.length?ca("div",{key:T,"class":"ib-results__item-list",onscroll:da,afterCreate:ea},ja,X?ca("div",{"class":"ib-results__load-container"},ca(Z.a,{key:"more-items-loader"})):
null):ca("div",{key:"no-items-found","class":"ib-results__item-list ib-results__item-list--none"},ca("span",{style:"font-size: 0.9375rem;"},P.results.noItemsFound))}},function(S,O,I){var Z=I(0);S=I(16);var W=I(126),ca=I(363),T=I(357),P=I(100),X=I(434),da=I(597),ea=I.n(da);da=I(598);var ja=I.n(da);I=function(la){function ma(oa){oa=la.call(this,oa)||this;return oa.handleShowItemDetails=oa.handleShowItemDetails.bind(oa),oa.handleSelectionClick=oa.handleSelectionClick.bind(oa),oa.handleCustomActionClick=
oa.handleCustomActionClick.bind(oa),oa.startResizePoll=oa.startResizePoll.bind(oa),oa.resizePoll=oa.resizePoll.bind(oa),oa}return Object(Z.d)(ma,la),ma.prototype.render=function(oa){var sa=this.props.stateTree.results;if(0<sa.displayItems.length)return oa("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(sa.displayItems,oa))},ma.prototype.mapItemsToChildren=function(oa,sa){var va=this;return oa.map(function(za){var Aa=Object(W.a)(va.props.stateTree);
return"list"===va.props.stateTree.ui.resultPanel.display?sa(ea.a,{constrained:va.state.constrained,key:za.id+"-card",item:za,loadingItems:va.props.stateTree.results.loadingItems,selectedItems:va.props.stateTree.results.selectedItems,activeItem:va.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:va.handleShowItemDetails,onSelectionClick:va.handleSelectionClick,customActions:va.props.stateTree.settings.config.customActions,onCustomActionClick:va.handleCustomActionClick,disableMainAction:va.props.stateTree.settings.config.disableMainAction,
sortField:va.props.stateTree.parameters.sort.field,hideEllipses:va.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===za.contentStatus&&va.props.stateTree.results.allOrganizations[za.orgId]?va.props.stateTree.results.allOrganizations[za.orgId]:void 0}):sa(ja.a,{key:za.id+"-cardrow",item:za,loadingItems:va.props.stateTree.results.loadingItems,selectedItems:va.props.stateTree.results.selectedItems,activeItem:va.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:va.handleShowItemDetails,
onSelectionClick:va.handleSelectionClick,customActions:va.props.stateTree.settings.config.customActions,onCustomActionClick:va.handleCustomActionClick,disableMainAction:va.props.stateTree.settings.config.disableMainAction,sortField:va.props.stateTree.parameters.sort.field,hideEllipses:va.props.stateTree.settings.config.hideEllipses})})},ma.prototype.handleShowItemDetails=function(oa){var sa=this.props.stateTree.ui.sidePanel;sa.item&&sa.item.id===oa.id?this.props.closeDetailsPane():this.props.viewItemDetails(oa)},
ma.prototype.handleSelectionClick=function(oa){this.props.stateTree.results.selectedItems[oa.id]?this.props.deselectItem(oa):this.props.selectItem(oa)},ma.prototype.handleCustomActionClick=function(oa,sa){this.props.customAction(oa,sa)},ma.prototype.startResizePoll=function(oa){this.resizePoll(oa)},ma.prototype.resizePoll=function(oa){var sa=this;oa&&0<oa.clientWidth&&(300>oa.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<oa.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),
setTimeout(function(){sa.resizePoll(oa)},250))},ma}(S.Component);O.a=Object(S.connect)(function(la){return{stateTree:la}},function(la){return{closeDetailsPane:function(){la(Object(ca.c)())},viewItemDetails:function(ma){la(Object(T.b)(ma))},deselectItem:function(ma){la(Object(P.o)(ma))},selectItem:function(ma){la(Object(P.r)(ma))},customAction:function(ma,oa){la(Object(X.c)(ma,oa))}}})(I)},function(S,O){S.exports=Q},function(S,O){S.exports=fa},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return Z});I.d(O,"b",function(){return W});var Z="VIEW_FILTERS",W=function(){return{type:Z}}},function(S,O,I){I.d(O,"a",function(){return Z});I.d(O,"b",function(){return W});var Z="VIEW_SORT",W=function(){return{type:Z}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.r(O);var Z=I(0);S=I(16);
var W=I(415);I.d(O,"defaultConfig",function(){return W.a});I.d(O,"reducers",function(){return W.c});I.d(O,"initialState",function(){return W.b});var ca=I(100);I.d(O,"SELECT_ITEM_SINGLE",function(){return ca.j});I.d(O,"SELECT_ITEM",function(){return ca.g});I.d(O,"DESELECT_ITEM",function(){return ca.c});I.d(O,"SELECT_ITEM_ASYNC",function(){return ca.h});I.d(O,"SELECT_ITEM_ASYNC_FAILED",function(){return ca.i});var T=I(48);I.d(O,"search",function(){return T.i});var P=I(455);I.d(O,"updateExtent",function(){return P.c});
var X=I(357);I.d(O,"viewItemDetails",function(){return X.b});var da=I(288);I.d(O,"changeSearchSection",function(){return da.b});var ea=I(591),ja=I(593),la=I(594),ma=I(572),oa=I(488);I=function(sa){function va(){return null!==sa&&sa.apply(this,arguments)||this}return Object(Z.d)(va,sa),va.prototype.render=function(za){var Aa=this.props.layoutMode,Ba={ib__container:!0,"ib__container--expanded":"fullscreen"===Aa,"ib__container--adjustable":"adjustable"===Aa};switch(Aa){case "fullscreen":return za(oa.a,
{key:"big-browser",containerClasses:Ba});case "adjustable":return za("div",null,za(oa.a,{key:"big-browser",containerClasses:Ba}),za("div",{"class":"ib__container--underlay"}));default:return za("div",{id:"item-browser-container",classes:Ba},za(ma.a,{key:"side-panel",closing:this.props.sidePanelClosing}),za(ea.a,{key:"header"}),za(ja.a,{key:"input-area"}),za(la.a,{key:"result-panel"}))}},va}(S.Component);O["default"]=Object(S.connect)(function(sa){return{layoutMode:sa.settings.config.layoutMode,expanded:sa.ui.expanded.maximized,
sidePanelClosing:sa.ui.sidePanel.closing}},function(){return{}})(I)}])})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(R){function N(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return R[t].call(u.exports,u,u.exports,N),u.l=!0,u.exports}var n={};return N.m=R,N.c=n,N.d=function(t,u,h){N.o(t,u)||Object.defineProperty(t,u,{enumerable:!0,get:h})},N.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},N.t=function(t,u){if((1&u&&(t=N(t)),8&u)||4&u&&"object"==typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(N.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&u&&"string"!=typeof t)for(var f in t)N.d(h,f,function(g){return t[g]}.bind(null,f));return h},N.n=function(t){var u=t&&t.__esModule?function(){return t["default"]}:function(){return t};return N.d(u,"a",u),u},N.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,
u)},N.p="",N(N.s=868)}({868:function(R,N,n){n.r(N);N["default"]=function(t,u){var h=t.text;return u("div",{"class":"load-bars__container",key:t.key},u("div",{"class":"load-bars__bars"}),h?u("span",{"class":"load-bars__text"},h):null)}}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,
n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,
g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=830)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l=
{},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);
else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");
for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=
a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=
r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,
l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=R},830:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(g){g=h.call(this,g)||this;return g.handleClick=g.handleClick.bind(g),g}return Object(u.d)(f,h),f.prototype.render=function(g){var k=this.props,w=k.label,v=k.labelDirection,C=k.key,A=k.title;return g("button",Object(u.a)({afterCreate:k.afterCreate,
key:C,id:C,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":w,"btn-svg__button--tooltip-left":"left"===v,"btn-svg__button--tooltip-right":"right"===v,"btn-svg__button--tooltip-top":"top"===v},onmousedown:this.preventFocus,onclick:this.handleClick},w?{"aria-label":w}:{title:A},{tabindex:!k.focusable&&"-1",value:k.value}),g("div",{"class":"btn-svg__button-content"},this.props.children))},f.prototype.preventFocus=function(g){g.preventDefault()},f.prototype.handleClick=function(g){this.props.handleClick&&
g.target&&(g.target.value=this.props.value,this.props.handleClick(g))},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",
h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=831)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=
0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||
(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;
switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=
[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});
t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};
Object.create;Object.create},16:function(N,n){N.exports=R},831:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(g){g=h.call(this,g)||this;return g.handleToggleClick=g.handleToggleClick.bind(g),g}return Object(u.d)(f,h),f.prototype.render=function(g){var k=this.props,w=k.name,v=k.childOptions,C=k.prependValue,A=k.infoTooltip;C=C?""+C+this.props.value:this.props.value;k=!!(k.selectedToggle===C||v&&this.childSelectedRecursive(v,C));var r={"btn-toggle__item":!0,"btn-toggle__item--active":k,
"btn-toggle__item--flex":!!A},l={"btn-toggle__button":!0,"btn-toggle__button--active":k},d=null;return v&&(d=g("ul",{"class":"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(g))),g("li",{key:C,classes:r,role:"treeitem","aria-selected":k?"true":void 0,"aria-expanded":v?k?"true":"false":void 0},g("button",{key:C,classes:l,value:C,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":k?"true":void 0,"aria-label":w,onblur:this.props.handleBlur,
tabindex:"0"},g("span",{"class":"btn-toggle__text",key:"text"},w),this.props.count?g("span",{"class":"btn-toggle__count",key:"count"},"\u00a0","("+this.props.count+")"):null),!!A&&g("calcite-tooltip-manager",{"class":"btn-toggle__item-tooltip"},g("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",color:"neutral",scale:"s",round:!0},g("calcite-icon",{scale:"s",icon:"information"})),g("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},
A)),k?d:null)},f.prototype.preventDefault=function(g){g.preventDefault()},f.prototype.mapChildrenToToggles=function(g){var k=this,w=this.props,v=w.childOptions,C=w.selectedToggle,A=w.onToggleClick,r=w.useFullPathAsValue,l=(w=w.prependValue)?""+w+this.props.value:this.props.value;return v?v.map(function(d){return g(f,{count:d.count,key:d.value,name:d.displayName,value:r?l+"/"+d.value:d.value,showTooltip:k.props.showTooltip,tooltip:d.tooltip,selectedToggle:C,childOptions:d.children,onToggleClick:A,
useFullPathAsValue:r})}):null},f.prototype.childSelectedRecursive=function(g,k){var w=this,v=this.props,C=v.selectedToggle;return v.useFullPathAsValue?g.reduce(function(A,r){return!!(C===k+"/"+r.value||r.children&&w.childSelectedRecursive(r.children,k+"/"+r.value))||A},!1):g.reduce(function(A,r){return!!(C===r.value||r.children&&w.childSelectedRecursive(r.children,w.props.value))||A},!1)},f.prototype.handleToggleClick=function(g){g.preventDefault();this.props.onToggleClick(this.props.prependValue?
""+this.props.prependValue+this.props.value:this.props.value,this.props.name)},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=835)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,
e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?
a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=
1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&
m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,
"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<
e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,t){n.exports=R},339:function(n,t,u){u.d(t,"a",function(){return h});var h=function(f){return function(g){13===g.keyCode&&f(g)}}},525:function(n,t){n.exports=N},835:function(n,t,u){u.r(t);var h=u(0),f=u(525);n=u(18);var g=u(339);u=function(k){function w(v){var C=k.call(this,v)||this;return C.handleDropdownKeyDown=Object(g.a)(C.handleDropdownClick.bind(C)),
C.state={active:!!v.startActive},C.handleDropdownClick=C.handleDropdownClick.bind(C),C.handleClear=C.handleClear.bind(C),C}return Object(h.d)(w,k),w.prototype.render=function(v){var C={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},A={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},r=null;return this.props.clearable&&(r=v("button",{"class":"drp-accordion__clear-btn",onclick:this.handleClear},f.clear)),v("div",{key:this.props.key,
classes:{"drp-accordion__section":!0},role:"tablist"},v("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":""+this.state.active},v("div",{"class":"drp-accordion__wrapper"},v("span",{classes:A},v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32",
role:"img"},v("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),v("span",null,this.props.title)),r),this.state.active?v("div",{classes:C},this.props.children):null)},w.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},w.prototype.handleClear=function(v){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";v.stopPropagation();this.props.onClear()},w}(n.Component);t["default"]=u}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==
typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=829)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=
typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}
function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;
p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;
e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&
a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=R},829:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(){return null!==
h&&h.apply(this,arguments)||this}return Object(u.d)(f,h),f.prototype.render=function(g){var k=this.props,w=k.active,v=k.label,C=k.labelDirection,A=k.key,r=k.ariaControls;return g("button",Object(u.a)({id:A,key:A+"-container",classes:{"btn-icon__button":!0,"btn-icon__button--center":k.center,"btn-icon__button--tooltip":v,"btn-icon__button--tooltip-left":"left"===C,"btn-icon__button--tooltip-right":"right"===C,"btn-icon__button--tooltip-top":"top"===C,"btn-icon__button--active":w},"aria-label":v,onmousedown:this.preventFocus,
onclick:this.props.handleClick,tabindex:this.props.tabindex?""+this.props.tabindex:"0"},r?{"aria-controls":r,"aria-expanded":w?"true":"false"}:{"aria-checked":w},{title:k.title}),this.props.children)},f.prototype.preventFocus=function(g){g.preventDefault()},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/Modals/Overlay":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,
h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),
2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=874)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=
null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}
function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-
1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==
typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,
e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=R},312:function(N,n,t){function u(g){return f[g.vnodeSelector]&&(!g.properties||!g.properties.disabled&&-1!==g.properties.tabindex)||g.properties&&g.properties.tabindex&&-1<parseInt(g.properties.tabindex,10)}var h=
t(0),f={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};N=function(g){function k(w){w=g.call(this,w)||this;return w.registerFirstFocusable=w.registerFirstFocusable.bind(w),w.registerLastFocusable=w.registerLastFocusable.bind(w),w.handleFocusChange=w.handleFocusChange.bind(w),w}return Object(h.d)(k,g),k.prototype.render=function(){var w=this.findFirstFocusable(this.props.children),v=this.findLastFocusable(this.props.children);return w&&v&&(w.properties?w.properties.afterCreate=this.registerFirstFocusable:
w.properties={afterCreate:this.registerFirstFocusable},v.properties?v.properties.afterCreate=this.registerLastFocusable:v.properties={afterCreate:this.registerLastFocusable}),this.props.children},k.prototype.findFirstFocusable=function(w){if(w)for(var v=0;v<w.length;v++){var C=w[v];if(u(C)||C.children&&(C=this.findFirstFocusable(C.children)))return C}},k.prototype.findLastFocusable=function(w){if(w)for(var v=w.length-1;0<=v;v--){var C=w[v];if(u(C)||C.children&&(C=this.findLastFocusable(C.children)))return C}},
k.prototype.registerFirstFocusable=function(w){this.firstFocusableElement&&this.firstFocusableElement!==w&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);w.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=w;setTimeout(function(){w&&w.focus()},10)},k.prototype.registerLastFocusable=function(w){this.lastFocusableElement&&this.lastFocusableElement!==w&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=
w;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},k.prototype.handleFocusChange=function(w){"Tab"!==w.key&&9!==w.keyCode||(w.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),w.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),w.preventDefault()))},k}(t(16).Component);n.a=N},874:function(N,n,t){t.r(n);var u=t(0);
N=t(16);var h=t(312);t=function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Object(u.d)(g,f),g.prototype.componentWillReceiveProps=function(k){!1!==this.props.scrollable&&!1===k.scrollable&&(k=document.getElementsByClassName("mod__overlay-container"),k[0]&&(k[0].scrollTop=0))},g.prototype.render=function(k){return k(h.a,{key:"overlay-focus-trap"},k("div",{classes:{"mod__overlay-container":!0,"mod__overlay-container--adjustable":this.props.adjustable,"mod__overlay-container--closing":this.props.closing,
"mod__overlay-container--no-scroll":!1===this.props.scrollable,"mod__overlay-container--slide-left":"left"===this.props.slide,"mod__overlay-container--slide-right":"right"===this.props.slide,"mod__overlay-container--size-small":"small"===this.props.size||"large"===this.props.size,"mod__overlay-container--size-large":"large"===this.props.size,"mod__overlay-container--flex":this.props.flex},key:this.props.key},this.props.children))},g}(N.Component);n["default"]=t}})})},"arcgis-components/Dropdowns/TextOptionDropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&
f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=840)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}
function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};
case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},367:function(n,t){n.exports=N},840:function(n,
t,u){u.r(t);var h=u(0);n=u(16);var f=u(367),g=u.n(f);u=function(k){function w(v){v=k.call(this,v)||this;return v.state={optionElements:[],numOptions:-1,active:!1},v.navId=v.props.key+"-option-dropdown",v.handleOptionBlur=v.handleOptionBlur.bind(v),v.handleOptionClick=v.handleOptionClick.bind(v),v.mapOptionsToButtons=v.mapOptionsToButtons.bind(v),v.registerOptionElement=v.registerOptionElement.bind(v),v.handleOptionKeyDown=v.handleOptionKeyDown.bind(v),v.handleButtonKeyDown=v.handleButtonKeyDown.bind(v),
v}return Object(h.d)(w,k),w.prototype.render=function(v){var C=this,A={"drp-text-option__menu--left":!this.props.justify||"left"===this.props.justify,"drp-text-option__menu--right":"right"===this.props.justify};if(this.props.children&&this.props.children[0])return v(g.a,{key:this.props.key+"-dropdown-base",handleButtonKeyDown:this.handleButtonKeyDown,active:this.state.active,onToggle:function(){C.setState({active:!C.state.active})}},this.props.children[0],v("nav",{id:this.navId,"class":"drp-text-option__menu",
classes:A,style:"\n                        background-color: white;\n                        z-index: 9999999;\n                        margin: 0px;\n                        display: block;\n                        pointer-events: all;\n                        box-shadow: 0 0 16px 0 rgba(0,0,0,0.2);\n                        border: 0;\n                    ",role:"listbox","aria-activedescendant":this.props.selectedOptionValue+"-option"},this.mapOptionsToButtons(v)))},w.prototype.mapOptionsToButtons=
function(v){var C=this;return this.props.options.map(function(A,r){return v("button",{id:A.value+"-option",classes:{"drp-text-option__link":!0,"drp-text-option__link--active":A.value===C.props.selectedOptionValue},key:A.value,onclick:C.handleOptionClick,onkeydown:C.handleOptionKeyDown,value:A.value,dataIndex:r,afterCreate:C.registerOptionElement,role:"option","aria-selected":""+(A.value===C.props.selectedOptionValue),onblur:C.handleOptionBlur},A.text)})},w.prototype.handleOptionBlur=function(v){var C;
(null===(C=document.querySelector("#"+this.navId))||void 0===C?0:C.contains(v.relatedTarget))||this.setState({active:!1})},w.prototype.handleOptionClick=function(v){this.setState({active:!1});this.props.onSelect(v.target.value)},w.prototype.registerOptionElement=function(v){var C;this.setState({optionElements:Object(h.a)(Object(h.a)({},this.state.optionElements),(C={},C[v.dataIndex]=v,C)),numOptions:this.state.numOptions+1})},w.prototype.handleButtonKeyDown=function(v){v.keyCode&&40===v.keyCode&&
this.state.optionElements[0]&&this.state.optionElements[0].focus()},w.prototype.handleOptionKeyDown=function(v){var C=v.target.dataIndex;switch(v.keyCode){case 40:this.state.optionElements[C+1]?this.state.optionElements[C+1].focus():this.state.optionElements[0]&&this.state.optionElements[0].focus();break;case 38:this.state.optionElements[C-1]?this.state.optionElements[C-1].focus():this.state.optionElements[this.state.numOptions]&&this.state.optionElements[this.state.numOptions].focus()}},w}(n.Component);
t["default"]=u}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,
"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=
837)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>
r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}
function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});
t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=
R},837:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(g){g=h.call(this,g)||this;return g.state={active:!1},g.handleBtnClick=g.handleBtnClick.bind(g),g.handleDropdownClick=g.handleDropdownClick.bind(g),g.handleButtonKeyDown=g.handleButtonKeyDown.bind(g),g.registerCloseHandler=g.registerCloseHandler.bind(g),g.close=g.close.bind(g),g}return Object(u.d)(f,h),f.prototype.render=function(g){var k=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&
this.props.children[1]){var w=this.props.children[0],v=k?this.props.children[1]:null;k=k?g("div",{key:"open-dropdown-hook",id:this.props.key+"-hook",afterCreate:this.registerCloseHandler,style:"display: none;"}):null;return g("div",{"class":"drp-basic__container",onclick:this.handleDropdownClick},k,g("span",{id:this.props.key,"class":"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},w),v)}},f.prototype.componentWillReceiveProps=
function(g){!0===this.props.active&&!1===g.active&&document.body.removeEventListener("click",this.close)},f.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},f.prototype.handleBtnClick=function(g){g.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},
f.prototype.handleDropdownClick=function(g){g.stopPropagation();this.setState({active:!this.state.active})},f.prototype.handleButtonKeyDown=function(g){13===g.keyCode||32===g.keyCode?(g.preventDefault(),this.handleBtnClick(g)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(g)},f.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/Navigation/TabNav":function(){define(["../Component",
"../Buttons/SvgButton","../Dropdowns/TextOptionDropdown"],function(R,N,n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return t[f].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},
u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},u.p="",u(u.s=876)}({0:function(t,u,h){function f(l,
d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");A(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,
a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}function p(y){try{q(a["throw"](y))}catch(B){c(B)}}
function q(y){var B;y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return p.label++,{value:B[1],done:!1};
case 5:p.label++;b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,
sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});h.d(u,"g",function(){return C});var A=function(l,
d){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},16:function(t,u){t.exports=R},206:function(t,u){t.exports=N},310:function(t,
u){t.exports=n},876:function(t,u,h){h.r(u);h.d(u,"slugifySectionName",function(){return v});var f=h(0);t=h(16);var g=h(310),k=h.n(g);g=h(206);var w=h.n(g),v=function(C){return"nav-tabnav-"+C.replace(" ","-").toLowerCase()};h=function(C){function A(r){r=C.call(this,r)||this;return r.optionElements=[],r.handleBtnClick=r.handleBtnClick.bind(r),r.handleMobileClick=r.handleMobileClick.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return Object(f.d)(A,C),A.prototype.render=function(r){var l=this;if(!(1>=
this.props.options.length)){var d=this.props.options.map(function(a,b){var c=a.value,m=a.text,p=l.props.selectedOptionValue===c;return r("button",{key:c,classes:{"nav-tabnav__btn":!0,"nav-tabnav__btn--active":p},value:c,onclick:l.handleBtnClick,id:v(c),"aria-selected":p.toString(),role:"tab",afterCreate:function(q){q&&(l.optionElements[b]=q)}},m)}),e=this.props.options.filter(function(a){return a.value===l.props.selectedOptionValue})[0].text;return r("nav",{"class":"nav-tabnav__nav",role:"tablist",
"aria-labelledby":"ib__big-header-title",onkeydown:this.handleKeyDown},this.props.dropdownOnly?"":d,r("div",{classes:{"nav-tabnav__mobile-menu":!0,"nav-tabnav__mobile-menu--always-available":this.props.dropdownOnly}},r(k.a,{key:"ib-ex__section-dropdown",options:this.props.options,onSelect:this.handleMobileClick,selectedOptionValue:this.props.selectedOptionValue},r("h3",{key:"search-"+e+"-dropdown",id:"section-dropdown-toggle","class":"nav-tabnav__section-dropdown-title"},r("span",{"class":"nav-tabnav__section-dropdown-text"},
e),r("span",{"class":"btn-svg__button-noevent"},r(w.a,{key:"section-dropdown-button"},r("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 16 16",fill:"#323232"},r("path",{d:"M8 11.207l-4-4V5.793l4 4 4-4v1.414z"}))))))))}},A.prototype.handleBtnClick=function(r){r.target.value!==this.props.selectedOptionValue&&this.props.onSelect(r.target.value)},A.prototype.handleKeyDown=function(r){r=r.keyCode;var l=this.optionElements,d=l.indexOf(document.activeElement);if((39===r||37===r)&&0<=d){var e=l[d+1]||
l[0];l=l[d-1]||l[l.length-1];(r=39===r?e:l)&&r.focus()}},A.prototype.handleMobileClick=function(r){r!==this.props.selectedOptionValue&&this.props.onSelect(r)},A}(t.Component);u["default"]=h}})})},"arcgis-components/Filters/CategoriesFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle"],function(R,N,n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return t[f].call(g.exports,g,g.exports,u),
g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=
typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},u.p="",u(u.s=841)}({0:function(t,u,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");A(l,d);l.prototype=null===d?Object.create(d):
(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}function p(y){try{q(a["throw"](y))}catch(B){c(B)}}function q(y){var B;y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");
for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return p.label++,{value:B[1],done:!1};case 5:p.label++;b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=
c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=
d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});h.d(u,"g",function(){return C});var A=function(l,d){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,
e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(t,u){t.exports=N},165:function(t,u){t.exports=n},18:function(t,u){t.exports=R},841:function(t,u,h){h.r(u);var f=h(0);t=h(18);var g=h(131),k=h.n(g);g=h(165);var w=h.n(g);h=function(v){function C(A){A=v.call(this,A)||this;return A.mapCategoriesToToggles=A.mapCategoriesToToggles.bind(A),A.handleToggleClick=A.handleToggleClick.bind(A),
A.handleClearFilter=A.handleClearFilter.bind(A),A}return Object(f.d)(C,v),C.prototype.render=function(A){return A(k.a,{key:this.props.key,title:this.props.title,clearable:!!this.props.categoriesFilter,onClear:this.handleClearFilter,startActive:this.props.startActive},A("ul",{"aria-label":this.props.title,"class":"ftr-categories__tree",role:"tree"},this.mapCategoriesToToggles(A)))},C.prototype.mapCategoriesToToggles=function(A){var r=this;return this.props.availableCategories.map(function(l){return A(w.a,
{count:l.count,key:l.value,name:l.displayName,value:l.value,selectedToggle:r.props.categoriesFilter?r.props.categoriesFilter.value:void 0,childOptions:l.children,onToggleClick:r.handleToggleClick,useFullPathAsValue:!0,prependValue:r.props.prependValue,showTooltip:r.props.showTooltips,tooltip:l.tooltip})})},C.prototype.handleToggleClick=function(A,r){this.props.onCategorySelect({value:A,text:r})},C.prototype.handleClearFilter=function(){this.props.onClearCategories()},C}(t.Component);u["default"]=
h}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component","dojo/i18n!../../Navigation/Pager/nls/resources"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=875)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}
function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});
u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,t){n.exports=
R},343:function(n,t){n.exports=N},875:function(n,t,u){u.r(t);var h=u(0),f=u(343);n=function(g){function k(w){w=g.call(this,w)||this;return w.handleNext=w.handleNext.bind(w),w.handlePrevious=w.handlePrevious.bind(w),w.handlePageBtn=w.handlePageBtn.bind(w),w}return Object(h.d)(k,g),k.prototype.render=function(w){var v=this,C=this.props,A=C.numPages,r=C.currentPage;C=C.paginationLimitReached;var l=Array.apply(null,{length:A}).map(function(a,b){var c=r===b+1;return w("button",{classes:{"nav-pager__btn":!0,
"nav-pager__page-btn--active":c,"nav-pager__page-btn--inactive":!c},id:"page-"+(b+1)+"-button",title:f.page+" "+(b+1),onclick:function(){v.handlePageBtn(b+1)},role:"link",tabindex:"0",key:"page-"+(b+1)+"-button"},""+(b+1))}).reduce(function(a,b,c,m){return 0===c||c===A-1||c===r-1||c===r-2||c===r||1===c&&4===r||c===A-2&&r===A-3||4>=c&&5>r?a.push(b):(c===r-3||c===r+1||5===c&&5>r)&&a.push(w("span",{"class":"nav-pager__dots",key:"dots-"+c},"...")),a},[]),d={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=
r},e={"nav-pager__btn":!0,"nav-pager__btn--disabled":r>=A};return 1<A?w("nav",{"class":"nav-pager__container",key:"pager"},r===A&&C&&w("div",{"class":"nav-pager__limit-container",key:"pagination-limit-container"},w("div",{"class":"nav-pager__limit-inner"},w("p",{"class":"nav-pager__limit-text"},f.paginationLimit))),w("button",{classes:d,id:"previous",title:f.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,tabindex:1>=r?"-1":"0"},f.previous),w("div",{"class":"nav-pager__page-btn-container"},
l),w("button",{classes:e,id:"next",title:f.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:r>=A?"-1":"0"},f.next)):w("span",null)},k.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},k.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},k.prototype.handlePageBtn=function(w){this.props.onPageChange(w)},k}(u(18).Component);t["default"]=n}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component",
"../Buttons/SvgButton"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&
(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=873)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}
function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};
case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},206:function(n,t){n.exports=N},312:function(n,
t,u){function h(k){return g[k.vnodeSelector]&&(!k.properties||!k.properties.disabled&&-1!==k.properties.tabindex)||k.properties&&k.properties.tabindex&&-1<parseInt(k.properties.tabindex,10)}var f=u(0),g={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};n=function(k){function w(v){v=k.call(this,v)||this;return v.registerFirstFocusable=v.registerFirstFocusable.bind(v),v.registerLastFocusable=v.registerLastFocusable.bind(v),v.handleFocusChange=v.handleFocusChange.bind(v),v}return Object(f.d)(w,
k),w.prototype.render=function(){var v=this.findFirstFocusable(this.props.children),C=this.findLastFocusable(this.props.children);return v&&C&&(v.properties?v.properties.afterCreate=this.registerFirstFocusable:v.properties={afterCreate:this.registerFirstFocusable},C.properties?C.properties.afterCreate=this.registerLastFocusable:C.properties={afterCreate:this.registerLastFocusable}),this.props.children},w.prototype.findFirstFocusable=function(v){if(v)for(var C=0;C<v.length;C++){var A=v[C];if(h(A)||
A.children&&(A=this.findFirstFocusable(A.children)))return A}},w.prototype.findLastFocusable=function(v){if(v)for(var C=v.length-1;0<=C;C--){var A=v[C];if(h(A)||A.children&&(A=this.findLastFocusable(A.children)))return A}},w.prototype.registerFirstFocusable=function(v){this.firstFocusableElement&&this.firstFocusableElement!==v&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);v.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=v;setTimeout(function(){v&&
v.focus()},10)},w.prototype.registerLastFocusable=function(v){this.lastFocusableElement&&this.lastFocusableElement!==v&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=v;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},w.prototype.handleFocusChange=function(v){"Tab"!==v.key&&9!==v.keyCode||(v.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
v.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),v.preventDefault()))},w}(u(16).Component);t.a=n},873:function(n,t,u){u.r(t);var h=u(0);n=u(16);var f=u(206),g=u.n(f),k=u(312);u=function(w){function v(C){C=w.call(this,C)||this;return C.state={closing:!1,open:C.props.open},C.handleClose=C.handleClose.bind(C),C}return Object(h.d)(v,w),v.prototype.componentWillReceiveProps=function(C){var A=this;this.props.open===C.open||
this.state.closing||(C.open?(this.setState({open:C.open}),setTimeout(function(){var r=document.getElementById(A.props.key+"close");r&&r.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){A.setState({open:!1,closing:!1})},200)))},v.prototype.render=function(C){return C(k.a,{key:"mobile-wrap-focus-trap"},C("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},C("div",{classes:{"mod__mob-wrap-body":!0,
"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},C("div",{"class":"mod__mob-wrap-header"},C("span",{"class":"mod__mob-wrap-title"},this.props.title),C(g.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},C("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},C("path",{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),
C("div",{"class":"mod__mob-wrap-content"},this.props.children),this.props.footer?C("div",{"class":"mod__mob-wrap-footer"},this.props.footer):null)))},v.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},v}(n.Component);t["default"]=u}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(R,N,n,t,u,h){return function(f){function g(w){if(k[w])return k[w].exports;var v=k[w]={i:w,l:!1,exports:{}};return f[w].call(v.exports,v,v.exports,g),v.l=!0,v.exports}var k={};return g.m=f,g.c=k,g.d=function(w,v,C){g.o(w,v)||Object.defineProperty(w,v,{enumerable:!0,get:C})},g.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},g.t=function(w,v){if((1&v&&(w=g(w)),8&v)||4&
v&&"object"==typeof w&&w&&w.__esModule)return w;var C=Object.create(null);if(g.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:w}),2&v&&"string"!=typeof w)for(var A in w)g.d(C,A,function(r){return w[r]}.bind(null,A));return C},g.n=function(w){var v=w&&w.__esModule?function(){return w["default"]}:function(){return w};return g.d(v,"a",v),v},g.o=function(w,v){return Object.prototype.hasOwnProperty.call(w,v)},g.p="",g(g.s=839)}({0:function(f,g,k){function w(a,b){function c(){this.constructor=
a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function v(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(m=Object.getOwnPropertySymbols(a);p<m.length;p++)0>b.indexOf(m[p])&&Object.prototype.propertyIsEnumerable.call(a,m[p])&&
(c[m[p]]=a[m[p]])}return c}function C(a,b,c,m){var p,q=arguments.length,y=3>q?b:null===m?m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(p=a[B])&&(y=(3>q?p(y):3<q?p(b,c,y):p(b,c))||y);return 3<q&&y&&Object.defineProperty(b,c,y),y}function A(a,b,c,m){return new (c||(c=Promise))(function(p,q){function y(D){try{z(m.next(D))}catch(F){q(F)}}function B(D){try{z(m["throw"](D))}catch(F){q(F)}}
function z(D){var F;D.done?p(D.value):(F=D.value,F instanceof c?F:new c(function(x){x(F)})).then(y,B)}z((m=m.apply(a,b||[])).next())})}function r(a,b){function c(z){return function(D){return function(F){if(m)throw new TypeError("Generator is already executing.");for(;B;)try{if(m=1,p&&(q=2&F[0]?p["return"]:F[0]?p["throw"]||((q=p["return"])&&q.call(p),0):p.next)&&!(q=q.call(p,F[1])).done)return q;switch(p=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return B.label++,{value:F[1],done:!1};
case 5:B.label++;p=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(q=B.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))B.label=F[1];else if(6===F[0]&&B.label<q[1])B.label=q[1],q=F;else if(q&&B.label<q[2])B.label=q[2],B.ops.push(F);else{q[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(x){F=[6,x],p=0}finally{m=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([z,D])}}var m,p,q,y,B={label:0,
sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function l(a,b){for(var c=0,m=b.length,p=a.length;c<m;c++,p++)a[p]=b[c];return a}k.d(g,"d",function(){return w});k.d(g,"a",function(){return e});k.d(g,"f",function(){return v});k.d(g,"c",function(){return C});k.d(g,"b",function(){return A});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,
b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(c[p]=m[p])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,c=1,m=arguments.length;c<m;c++)for(var p in b=arguments[c])Object.prototype.hasOwnProperty.call(b,p)&&(a[p]=b[p]);return a}).apply(this,arguments)};Object.create;Object.create},165:function(f,g){f.exports=N},18:function(f,g){f.exports=R},273:function(f,
g){f.exports=n},299:function(f,g){f.exports=t},348:function(f,g){f.exports=u},368:function(f,g){f.exports=h},839:function(f,g,k){k.r(g);var w=k(0),v=k(299);f=k(18);var C=k(348),A=k.n(C);C=k(165);var r=k.n(C);C=k(273);var l=k.n(C);C=k(368);var d=k.n(C);k=function(e){function a(b){var c=e.call(this,b)||this;return c.handleToggleBlur=function(m){var p,q,y;(null===(p=document.querySelector("#dropdown-sort-menu-container"))||void 0===p?0:p.contains(m.relatedTarget))||null===(y=(q=c.props).handleMenuBlur)||
void 0===y||y.call(q)},c.handleSortClick=c.handleSortClick.bind(c),c.handleFieldChange=c.handleFieldChange.bind(c),c.handleOrderChange=c.handleOrderChange.bind(c),c.handleMobileWrapClose=c.handleMobileWrapClose.bind(c),c}return Object(w.d)(a,e),a.prototype.render=function(b){var c=this,m=[b("div",{"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title"},v.sortBy),this.props.availableFields.map(function(p){return b(r.a,{key:p,name:v[p],value:p,onToggleClick:c.handleFieldChange,
selectedToggle:c.props.field,handleBlur:c.handleToggleBlur})})),"relevance"!==this.props.field?b("div",{key:this.props.field,"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},v.sortDir),b(r.a,{key:"ascending-toggle",name:v.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),b(r.a,{key:"descending-toggle",name:v.descending[this.props.field],value:"desc",
onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[b(A.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
b("span",{"class":"drp-sort__btn-label"},v[this.props.field]))),b(d.a,{key:"sort-mobile-wrap",title:v.sort,open:this.props.active,onClose:this.handleMobileWrapClose},m)]:b(l.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},b(A.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),b("span",{"class":"drp-sort__btn-label"},v[this.props.field]))),b("div",{"class":"drp-sort__menu-container",id:"dropdown-sort-menu-container"},m))},a.prototype.stub=function(){},a.prototype.handleSortClick=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a.prototype.handleFieldChange=function(b){var c,m;b===
this.props.field||null!==(m=null===(c=this.props)||void 0===c?void 0:c.onFieldChange)&&void 0!==m&&m.call(c,b)},a.prototype.handleOrderChange=function(b){var c,m;b===this.props.order||null!==(m=null===(c=this.props)||void 0===c?void 0:c.onOrderChange)&&void 0!==m&&m.call(c,b)},a.prototype.handleMobileWrapClose=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a}(f.Component);g["default"]=k}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&
f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=836)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}
function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};
case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},367:function(n,t){n.exports=N},836:function(n,
t,u){u.r(t);var h=u(0);n=u(16);var f=u(367),g=u.n(f);u=function(k){function w(v){v=k.call(this,v)||this;return v.state={active:!!v.props.active&&v.props.active,closing:!1},v.handleDrpClick=v.handleDrpClick.bind(v),v}return Object(h.d)(w,k),w.prototype.render=function(v){var C={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&this.props.children[1])return v(g.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,
tabindex:this.props.tabindex},this.props.children[0],v("div",{classes:C},this.props.children[1]))},w.prototype.componentWillReceiveProps=function(v){!1===v.active&&!0===this.props.active&&this.close()},w.prototype.close=function(v){var C=this;this.setState({closing:!0});setTimeout(function(){C.setState({active:!1,closing:!1});C.props.onToggle&&v&&C.props.onToggle()},200)},w.prototype.handleDrpClick=function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&
this.props.onToggle())},w}(n.Component);t["default"]=u}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,
k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,
v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=843)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a=
{},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);
else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=
m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},18:function(u,h){u.exports=R},370:function(u,h){u.exports=n},446:function(u,h){u.exports=t},843:function(u,h,f){f.r(h);var g=f(0),k=f(446);u=f(18);var w=f(131),v=f.n(w);w=f(370);var C=f.n(w);f=function(A){function r(l){l=A.call(this,l)||this;return l.handleDateRangeSelect=l.handleDateRangeSelect.bind(l),
l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,A),r.prototype.render=function(l){return l(v.a,{key:"created-filter-accordion",title:k.dateCreated,clearable:!!this.props.dateCreatedFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.dateCreated,"class":"ftr-created__tree",role:"tree"},l(C.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0})))},
r.prototype.handleDateRangeSelect=function(l,d){this.props.onDateCreatedSelect(l,d)},r.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},r}(u.Component);h["default"]=f}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(R,N,n,t,u){return function(h){function f(k){if(g[k])return g[k].exports;
var w=g[k]={i:k,l:!1,exports:{}};return h[k].call(w.exports,w,w.exports,f),w.l=!0,w.exports}var g={};return f.m=h,f.c=g,f.d=function(k,w,v){f.o(k,w)||Object.defineProperty(k,w,{enumerable:!0,get:v})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,w){if((1&w&&(k=f(k)),8&w)||4&w&&"object"==typeof k&&k&&k.__esModule)return k;var v=Object.create(null);if(f.r(v),
Object.defineProperty(v,"default",{enumerable:!0,value:k}),2&w&&"string"!=typeof k)for(var C in k)f.d(v,C,function(A){return k[A]}.bind(null,C));return v},f.n=function(k){var w=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(w,"a",w),w},f.o=function(k,w){return Object.prototype.hasOwnProperty.call(k,w)},f.p="",f(f.s=833)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function w(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function v(e,a,b,c){var m,p=arguments.length,q=3>p?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(e,a,b,c);else for(var y=e.length-1;0<=y;y--)(m=e[y])&&(q=(3>p?m(q):3<p?m(a,b,q):m(a,b))||q);return 3<p&&q&&Object.defineProperty(a,b,q),q}function C(e,a,b,c){return new (b||(b=Promise))(function(m,p){function q(z){try{B(c.next(z))}catch(D){p(D)}}function y(z){try{B(c["throw"](z))}catch(D){p(D)}}function B(z){var D;z.done?m(z.value):(D=z.value,D instanceof b?D:new b(function(F){F(D)})).then(q,
y)}B((c=c.apply(e,a||[])).next())})}function A(e,a){function b(B){return function(z){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;y;)try{if(c=1,m&&(p=2&D[0]?m["return"]:D[0]?m["throw"]||((p=m["return"])&&p.call(m),0):m.next)&&!(p=p.call(m,D[1])).done)return p;switch(m=0,p&&(D=[2&D[0],p.value]),D[0]){case 0:case 1:p=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;m=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(p=
y.trys,(p=0<p.length&&p[p.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!p||D[1]>p[0]&&D[1]<p[3]))y.label=D[1];else if(6===D[0]&&y.label<p[1])y.label=p[1],p=D;else if(p&&y.label<p[2])y.label=p[2],y.ops.push(D);else{p[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(e,y)}catch(F){D=[6,F],m=0}finally{c=p=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,z])}}var c,m,p,q,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return w});g.d(f,"c",function(){return v});g.d(f,"b",function(){return C});g.d(f,"e",function(){return A});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},151:function(h,f){h.exports=N},165:function(h,f){h.exports=n},18:function(h,f){h.exports=R},225:function(h,f){h.exports=t},425:function(h,f,g){var k=g(0),w=g(225),v=g(151);
f.a=function(C,A){var r=new Date,l=r.getTime();r.setHours(0,0,0,0);r=r.getTime();switch(C){case "today":return{start:r,end:l,label:w.today};case "yesterday":return{start:r-864E5,end:r,label:w.yesterday};case "last7Days":return{start:l-6048E5,end:l,label:w.last7Days};case "last30Days":return{start:l-2592E6,end:l,label:w.last30Days};case "custom":if(A)return l=v.format(new Date(A.start),{selector:"date",formatLength:"short"}),r=v.format(new Date(A.end),{selector:"date",formatLength:"short"}),Object(k.a)(Object(k.a)({},
A),{label:l+"\u2014"+r})}}},442:function(h,f){h.exports=u},523:function(h,f,g){var k=g(0);h=g(18);var w=g(165),v=g.n(w);g=function(C){function A(r){return C.call(this,r)||this}return Object(k.d)(A,C),A.prototype.render=function(r){var l=this;return this.props.options.map(function(d){return r(v.a,{key:d.value,name:d.displayName,value:d.value,selectedToggle:l.props.selectedOption,childOptions:d.childOptions,onToggleClick:l.props.handleOptionClick})})},A}(h.Component);f.a=g},833:function(h,f,g){g.r(f);
var k=g(0),w=g(225);h=g(18);var v=g(442),C=g.n(v),A=g(523),r=g(425);g=function(l){function d(e){var a=l.call(this,e)||this;return a.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===e.selectedOption&&e.range?new Date(e.range.start):void 0,customEnd:"custom"===e.selectedOption&&e.range?new Date(e.range.end):void 0,customRange:"custom"===e.selectedOption&&e.range?e.range:void 0,options:[{value:"today",displayName:w.today},{value:"yesterday",displayName:w.yesterday},
{value:"last7Days",displayName:w.last7Days},{value:"last30Days",displayName:w.last30Days},{value:"custom",displayName:w.custom}]},a.handleFromDateChange=a.handleFromDateChange.bind(a),a.handleToDateChange=a.handleToDateChange.bind(a),a.handleOptionClick=a.handleOptionClick.bind(a),a}return Object(k.d)(d,l),d.prototype.render=function(e){var a,b={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},
c=new Date;if(this.props.preventFutureDate){var m=this.state.customEnd;(!m||m>c)&&(m=c);m={max:m}}else this.state.customEnd&&(m={max:this.state.customEnd});return(this.state.customStart||this.props.preventFutureDate)&&(a=Object(k.a)(Object(k.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:c})),e("div",null,e(A.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),
e("div",{classes:b},e("label",{"aria-label":w.from},w.from,e("div",{"class":"date-selector__pick-wrapper"},e(C.a,{key:"from-picker-"+this.state.uid,onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:m}))),e("label",{"aria-label":w.to},w.to,e("div",{"class":"date-selector__pick-wrapper"},e(C.a,{key:"to-picker-"+this.state.uid,onDateChange:this.handleToDateChange,value:this.state.customEnd,constraints:a})))))},d.prototype.handleFromDateChange=function(e){this.state.customEnd?
(this.setState({customStart:e,customRange:{start:e.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(r.a)("custom",this.state.customRange))):this.setState({customStart:e})},d.prototype.handleToDateChange=function(e){this.state.customStart?(this.setState({customEnd:e,customRange:{start:this.state.customStart.getTime(),end:e.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(r.a)("custom",this.state.customRange))):this.setState({customEnd:e})},
d.prototype.handleOptionClick=function(e){this.props.selectedOption===e?this.props.onDateRangeSelect():this.props.onDateRangeSelect(e,Object(r.a)(e,this.state.customRange))},d}(h.Component);f["default"]=g}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=
n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,
k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=834)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d=
{},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);
else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");
for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=
b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=
l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,
d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},524:function(n,t){n.exports=N},834:function(n,t,u){u.r(t);var h=u(0);n=u(16);var f=u(524),g=u.n(f);u=function(k){function w(v){v=k.call(this,v)||this;return v.processDijit=v.processDijit.bind(v),v.createDijit=v.createDijit.bind(v),v.handleDateChange=v.handleDateChange.bind(v),v}return Object(h.d)(w,
k),w.prototype.render=function(v){return v("div",{key:this.props.key,id:this.props.key,"class":"margin-right-1",afterCreate:this.processDijit})},w.prototype.componentWillReceiveProps=function(v){v.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(h.a)({},v.constraints))},w.prototype.processDijit=function(v){this.state.dijit&&this.state.dijit.destroy();v=this.createDijit(v);v.on("change",this.handleDateChange);this.setState({dijit:v})},
w.prototype.createDijit=function(v){return new g.a({value:this.props.value,constraints:Object(h.a)({},this.props.constraints)},v)},w.prototype.handleDateChange=function(v){this.props.onDateChange(v)},w}(n.Component);t["default"]=u}})})},"arcgis-components/Badges/Retired":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,
f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,
k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=824)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},824:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){var w=g.isRetiredStoryMap?h.tooltips.retiredStoryMap:h.tooltips.retiredApp;return k(f.a,{backgroundColor:"#efe397",
textColor:"#786d1c",key:"retired-badge",size:g.size,text:h.retired,title:w,tooltip:g.tooltip?w:void 0,tooltipDirection:g.tooltipDirection},k("path",{fill:"#786d1c",d:"M14.78 14.645L8.255 1.52a.938.938 0 0 0-.84-.52.938.938 0 0 0-.84.522L.092 14.647A.938.938 0 0 0 .932 16h13.009a.937.937 0 0 0 .838-1.355zm-.724.49a.137.137 0 0 1-.115.065H.933a.137.137 0 0 1-.116-.063.139.139 0 0 1-.008-.135L7.293 1.876a.14.14 0 0 1 .123-.076.138.138 0 0 1 .125.077l6.521 13.124a.138.138 0 0 1-.006.135zM7.495 11.5a.988.988 0 0 1 1 .976v.048a1 1 0 0 1-2 0v-.048a.988.988 0 0 1 1-.976zM7.018 6h.977v4h-.977z"}))}}})})},
"arcgis-components/Badges/Badge":function(){define(function(){return function(R){function N(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return R[t].call(u.exports,u,u.exports,N),u.l=!0,u.exports}var n={};return N.m=R,N.c=n,N.d=function(t,u,h){N.o(t,u)||Object.defineProperty(t,u,{enumerable:!0,get:h})},N.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},N.t=
function(t,u){if((1&u&&(t=N(t)),8&u)||4&u&&"object"==typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(N.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&u&&"string"!=typeof t)for(var f in t)N.d(h,f,function(g){return t[g]}.bind(null,f));return h},N.n=function(t){var u=t&&t.__esModule?function(){return t["default"]}:function(){return t};return N.d(u,"a",u),u},N.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,u)},N.p="",N(N.s=813)}({813:function(R,N,n){n.r(N);
N["default"]=function(t,u){var h=t.key,f=t.size,g=t.text,k=t.title,w=t.tooltip,v=t.tooltipDirection,C=t.backgroundColor,A=t.textColor,r=t.children;v={"qual-badge__container":!0,"qual-badge__container--small":"small"===f,"qual-badge__container--tooltip":w,"qual-badge__container--tooltip-left":"left"===v,"qual-badge__container--tooltip-top":"top"===v,"qual-badge__container--tooltip-right":"right"===v,"tooltip-bottom":!v||"bottom"===v,"tooltip-left":"left"===v,"tooltip-top":"top"===v,"tooltip-right":"right"===
v};return"small"===f?u("span",{key:h+"-small",classes:v,"class":"qual-badge__container--small","aria-label":w,style:"background-color: "+C+"; color: "+A+";",title:w?void 0:k},r):u("span",{key:h+"-regular",classes:v,"class":"qual-badge__container--regular","aria-label":w,style:"background-color: "+C+"; color: "+A+";",title:k},u("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 16 16"},r),u("span",{"class":"qual-badge__text"},g))}}})})},"arcgis-components/Filters/MapAreaFilter":function(){define(["../Buttons/ToggleSwitch"],
function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==
typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=852)}({528:function(N,n){N.exports=R},852:function(N,n,t){t.r(n);N=t(528);var u=
t.n(N);n["default"]=function(h,f){return f(u.a,{key:"map-area-filter",label:h.text,handleToggleClick:h.handleMapAreaToggle,handleKeyUp:h.handleMapAreaKeyUp,value:h.searchMapArea})}}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,
h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=
u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=832)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,
d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?
e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=
1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,
"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<
d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=R},832:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Object(u.d)(f,h),f.prototype.render=function(g){var k=this.props,w=k.handleToggleClick,v=k.handleKeyUp,C=k.value,A=k.id;return g("label",{"class":"btn-toggle-switch__toggle",key:A||"toggle-switch"},g("span",
{"class":"btn-toggle-switch__label"},k.label),g("input",{id:A+"-input",type:"checkbox","class":"btn-toggle-switch__input",onchange:w,onkeyup:v,checked:C}),g("span",{id:A+"-switch","class":"btn-toggle-switch__switch"}))},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/Filters/ItemTypeFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/ItemTypeFilter/nls/resources"],function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;
var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),
Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=846)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+
" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?
b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,
q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=
q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),
"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},165:function(u,h){u.exports=n},18:function(u,h){u.exports=R},180:function(u,h,f){function g(b,c){return r("children","value",b,c)}function k(b,
c){return l("children","value",b,c)}function w(b,c){return function z(p,q,y,B){var D,F=y[p];return F&&0!==F.length?Object(a.a)(Object(a.a)({},y),((D={})[p]=F.reduce(function(x,E){return-1!==B.indexOf(E[q])&&x.push(z(p,q,E,B)),x},[]),D)):Object(a.a)({},y)}("children","value",b,c)}function v(b){return function(c,m){var p,q=m[c];return q?Object(a.a)(Object(a.a)({},m),((p={})[c]=function z(B){return 0===B.length?[]:1!==B.length||B[0][c]?1<B.length?B.reduce(function(D,F){var x;return F[c]?(D.push(Object(a.a)(Object(a.a)({},
F),((x={})[c]=z(F[c]),x))),D):(D.push(F),D)},[]):z(B[0][c]):B}(q),p)):m}("children",b)}function C(b,c){return d("children",b,c)}function A(b,c){return function B(p,q,y){var z=q[p];z&&z.forEach(function(D){return B(p,D,y)});y(q)}("children",b,c)}function r(b,c,m,p){var q=m[b];return m[c]===p?m:q?q.reduce(function(y,B){return y||r(b,c,B,p)},void 0):void 0}function l(b,c,m,p){if(m=m[b])return m.reduce(function(q,y){return y[c]===p[0]?1===p.length?y:l(b,c,y,p.slice(1)):q},void 0)}function d(b,c,m){var p;
return m(Object(a.a)(Object(a.a)({},c),((p={})[b]=c[b]?c[b].map(function(q){return d(b,q,m)}):void 0,p)))}function e(b,c,m){return d(b,m,function(p){var q=p[c];if(delete p[c],p[b]){var y=p[b];return delete p[b],Object(a.a)(Object(a.a)({},p),{value:q,children:y})}return Object(a.a)(Object(a.a)({},p),{value:q})})}f.d(h,"f",function(){return g});f.d(h,"d",function(){return k});f.d(h,"i",function(){return w});f.d(h,"e",function(){return v});f.d(h,"h",function(){return C});f.d(h,"g",function(){return A});
f.d(h,"a",function(){return r});f.d(h,"b",function(){return l});f.d(h,"c",function(){return e});var a=f(0)},397:function(u,h){u.exports=t},447:function(u,h,f){u=f(397);h.a=[{value:"maps",displayName:"Maps",children:[{value:"webMaps",displayName:"Web maps"},{value:"mapFiles",displayName:"Map files"}]},{value:"layers",displayName:"Layers",children:[{value:"featureLayers",displayName:"Feature layers"},{value:"tileLayers",displayName:"Tile layers"},{value:"mapImageLayers",displayName:"Map image layers"},
{value:"imageryLayers",displayName:"Imagery layers"},{value:"tiledImageLayers",displayName:"Tiled imagery layers"},{value:"elevationLayers",displayName:"Elevation layers"},{value:"sceneLayers",displayName:"Scene layers"},{value:"tables",displayName:"Tables"},{value:"layerFiles",displayName:"Layer files"},{value:"bigDataFileShares",displayName:"Big data file shares"}]},{value:"scenes",displayName:"Scenes"},{value:"apps",displayName:"Apps",children:[{value:"webApps",displayName:"Web apps"},{value:"experienceApps",
displayName:"Experience Builder"},{value:"instantApps",displayName:"Instant Apps"},{value:"sites",displayName:"Sites"},{value:"pages",displayName:"Pages"},{value:"storyMaps",displayName:"StoryMaps"},{value:"mobileApps",displayName:"Mobile apps"},{value:"desktopApps",displayName:"Desktop apps"}]},{value:"tools",displayName:"Tools",children:[{value:"locators",displayName:"Locators"},{value:"geodatabaseAccess",displayName:"Geodatabase access"},{value:"geometricOperations",displayName:"Geometric operations"},
{value:"geoprocessingTasks",displayName:"Geoprocessing tasks"},{value:"networkAnalysis",displayName:"Network analysis"},{value:"webTools",displayName:u.filters.webTools},{value:"rasterFunctionTemplates",displayName:"Raster function templates"},{value:"deepLearningPackages",displayName:"Deep learning packages"},{value:"analytics",displayName:"Analytics"}]},{value:"files",displayName:"Files",children:[{value:"documents",displayName:"Documents"},{value:"images",displayName:"Images"},{value:"pdfs",displayName:"PDFs"},
{value:"csvs",displayName:"CSVs"},{value:"reports",displayName:"Administrative reports"},{value:"rasterFunctionTemplates",displayName:"Raster function templates"}]},{value:"notebooks",displayName:"Notebooks"},{value:"knowledgeGraphs",displayName:"Knowledge graphs"}]},846:function(u,h,f){f.r(h);var g=f(0),k=f(397);u=f(18);var w=f(131),v=f.n(w);w=f(165);var C=f.n(w),A=f(447),r=f(180);f=function(l){function d(e){var a=l.call(this,e)||this;return a.state={availableFilters:Object(r.e)(Object(r.i)({value:"##itemTypeOptionsRoot",
children:A.a},e.availableItemTypes)).children},a.mapItemTypesToToggles=a.mapItemTypesToToggles.bind(a),a.handleToggleClick=a.handleToggleClick.bind(a),a.handleClearFilter=a.handleClearFilter.bind(a),a}return Object(g.d)(d,l),d.prototype.render=function(e){return e(v.a,{key:"item-type-accordion",title:k.itemType,clearable:!!this.props.itemTypeFilter,onClear:this.handleClearFilter},e("ul",{"aria-label":k.itemType,"class":"ftr-item-type__tree",role:"tree"},this.mapItemTypesToToggles(e)))},d.prototype.mapItemTypesToToggles=
function(e){var a=this;return Object(r.e)(Object(r.i)({value:"##itemTypeOptionsRoot",children:A.a},this.props.availableItemTypes)).children.map(function(b){return e(C.a,{key:b.value,name:b.displayName,value:b.value,selectedToggle:a.props.itemTypeFilter?a.props.itemTypeFilter.value:void 0,childOptions:b.children,onToggleClick:a.handleToggleClick})})},d.prototype.handleToggleClick=function(e,a){var b=this.props.itemTypeFilter;b&&b.value===e?this.props.onItemTypeSelect():this.props.onItemTypeSelect({value:e,
text:a})},d.prototype.handleClearFilter=function(){this.props.onItemTypeSelect()},d}(u.Component);h["default"]=f}})})},"arcgis-components/Filters/ModifiedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/ModifiedFilter/nls/resources"],function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),
k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=
typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=847)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):
(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=
m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},18:function(u,h){u.exports=R},370:function(u,h){u.exports=n},448:function(u,h){u.exports=t},847:function(u,h,f){f.r(h);var g=f(0),k=f(448);u=f(18);var w=f(131),v=f.n(w);w=f(370);var C=f.n(w);f=function(A){function r(l){l=A.call(this,l)||this;return l.handleDateRangeSelect=l.handleDateRangeSelect.bind(l),
l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,A),r.prototype.render=function(l){return l(v.a,{key:"modified-filter-accordion",title:k.dateModified,clearable:!!this.props.dateModifiedFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.dateModified,"class":"ftr-modified__tree",role:"tree"},l(C.a,{key:"date-range-selector",selectedOption:this.props.dateModifiedSection,range:this.props.dateModifiedFilter,onDateRangeSelect:this.handleDateRangeSelect})))},r.prototype.handleDateRangeSelect=
function(l,d){this.props.onDateModifiedSelect(l,d)},r.prototype.handleClearFilter=function(){this.props.onDateModifiedSelect()},r}(u.Component);h["default"]=f}})})},"arcgis-components/Filters/SharedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/SharedFilter/nls/resources"],function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,
k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),
2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=848)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=
null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}
function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-
1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==
typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},165:function(u,h){u.exports=n},18:function(u,h){u.exports=R},340:function(u,h){u.exports=t},848:function(u,h,f){f.r(h);var g=f(0),k=f(340);u=f(18);var w=f(131),v=f.n(w);w=f(165);var C=f.n(w);f=function(A){function r(l){l=
A.call(this,l)||this;return l.state={options:[{value:"public",displayName:k.options["public"]},{value:"org",displayName:k.options.org},{value:"shared",displayName:k.options.shared},{value:"private",displayName:k.options["private"]}]},l.mapOptionsToToggles=l.mapOptionsToToggles.bind(l),l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,A),r.prototype.render=function(l){return l(v.a,{key:"shared-accordion",title:k.shared,clearable:!!this.props.sharedFilter,
onClear:this.handleClearFilter},l("ul",{"class":"ftr-shared__tree",role:"tree","aria-label":k.shared},this.mapOptionsToToggles(l)))},r.prototype.mapOptionsToToggles=function(l){var d=this,e=this.state.options;return this.props.hideOrgGroupFilters&&(e=[this.state.options[0],this.state.options[3]]),e.map(function(a){return l(C.a,{count:d.props.counts[a.value],key:a.value,name:a.displayName,value:a.value,selectedToggle:d.props.sharedFilter?d.props.sharedFilter.value:void 0,childOptions:a.childOptions,
onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e=this.props.sharedFilter;e&&e.value===l?this.props.onSharedSelect():this.props.onSharedSelect({value:l,text:d})},r.prototype.handleClearFilter=function(){this.props.onSharedSelect()},r}(u.Component);h["default"]=f}})})},"arcgis-components/Filters/StatusFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/StatusFilter/nls/resources"],
function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&
"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=849)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=
d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&
(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}
function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};
case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,
sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,
e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},165:function(u,h){u.exports=n},18:function(u,
h){u.exports=R},407:function(u,h){u.exports=t},849:function(u,h,f){f.r(h);var g=f(0),k=f(407);u=f(18);var w=f(131),v=f.n(w);w=f(165);var C=f.n(w);f=function(A){function r(l){l=A.call(this,l)||this;return l.state={options:[{value:"authoritative",displayName:k.options.authoritative},{value:"deprecated",displayName:k.options.deprecated}]},l.mapOptionsToToggles=l.mapOptionsToToggles.bind(l),l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,
A),r.prototype.render=function(l){return l(v.a,{key:"status-accordion",title:k.status,clearable:!!this.props.statusFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.status,"class":"ftr-status__tree",role:"tree"},this.mapOptionsToToggles(l)))},r.prototype.mapOptionsToToggles=function(l){var d=this;return this.state.options.map(function(e){return l(C.a,{key:e.value,name:e.displayName,value:e.value,selectedToggle:d.props.statusFilter?d.props.statusFilter.value:void 0,childOptions:e.childOptions,
onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e=this.props.statusFilter;e&&e.value===l?this.props.onStatusSelect():this.props.onStatusSelect({value:l,text:d})},r.prototype.handleClearFilter=function(){this.props.onStatusSelect()},r}(u.Component);h["default"]=f}})})},"arcgis-components/Filters/FolderFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/FolderFilter/nls/resources"],function(R,N,
n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return t[f].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},u.p="",u(u.s=844)}({0:function(t,u,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");A(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}
function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}function p(y){try{q(a["throw"](y))}catch(B){c(B)}}function q(y){var B;
y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return p.label++,{value:B[1],done:!1};case 5:p.label++;
b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});h.d(u,"g",function(){return C});var A=function(l,d){return(A=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(t,u){t.exports=N},18:function(t,u){t.exports=R},339:function(t,u,h){h.d(u,"a",
function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},358:function(t,u){t.exports=n},844:function(t,u,h){h.r(u);var f=h(0),g=h(358);t=h(18);var k=h(131),w=h.n(k),v=h(339);h=function(C){function A(r){r=C.call(this,r)||this;return r.handleToggleKeyDown=Object(v.a)(r.handleToggleFilter.bind(r)),r.handleClearKeyDown=Object(v.a)(r.handleClearFilter.bind(r)),r.state={filterString:""},r.handleFilterStringChange=r.handleFilterStringChange.bind(r),r.handleToggleFilter=r.handleToggleFilter.bind(r),
r.handleClearFilter=r.handleClearFilter.bind(r),r.mapFoldersToLinks=r.mapFoldersToLinks.bind(r),r}return Object(f.d)(A,C),A.prototype.render=function(r){return r(w.a,{key:"folder-accordion",title:g.folders,clearable:!!this.props.folderFilter,onClear:this.handleClearFilter,padding:!1},r("div",{"class":"ftr-folder__input-area"},r("input",{"class":"ftr-folder__input",type:"search",placeholder:g.filterFolders,"aria-label":g.filterFolders,oninput:this.handleFilterStringChange,value:this.state.filterString})),
r("ul",{"class":"ftr-folder__list"},this.mapFoldersToLinks(r)))},A.prototype.handleFilterStringChange=function(r){this.setState({filterString:r.target.value})},A.prototype.handleToggleFilter=function(r){var l=r.target.dataset;r=l.id;l=l.title;this.props.folderFilter&&this.props.folderFilter.id===r||this.props.onFolderSelect({id:r,title:l})},A.prototype.handleClearFilter=function(){this.props.folderFilter&&this.props.onFolderSelect()},A.prototype.preventCloseDropdown=function(r){r.stopPropagation()},
A.prototype.mapFoldersToLinks=function(r){var l=this,d={"ftr-folder__link":!0,"ftr-folder__link--active":!this.props.folderFilter};return this.props.availableFolders?[r("li",{"class":"ftr-folder__item",key:"all-user-content"},r("a",{classes:d,"data-id":"all-folder-content","data-title":g.allFolders,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},this.props.folderFilter?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})):
r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})),g.allFolders))].concat(this.props.availableFolders.filter(function(e){return-1!==e.title.toLowerCase().indexOf(l.state.filterString.toLowerCase())}).map(function(e){var a,b=Object(f.a)(Object(f.a)({},d),{"ftr-folder__link--active":l.props.folderFilter&&
l.props.folderFilter.id===e.id,"ftr-folder__link--home":"root"===e.id});return a="root"===e.id?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z"})):l.props.folderFilter&&l.props.folderFilter.id===e.id?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})):
r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})),r("li",{"class":"ftr-folder__item",key:e.id},r("a",{classes:b,"data-id":e.id,"data-title":e.title,onclick:l.handleToggleFilter,onkeydown:l.handleToggleKeyDown,tabindex:"0"},a,r("span",{"class":"ftr-folder__title"},e.title)))})):null},A}(t.Component);u["default"]=h}})})},"arcgis-components/Filters/GroupFilter/index":function(){define(["../../Component",
"../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/GroupFilter/nls/resources"],function(R,N,n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return t[f].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,
"__esModule",{value:!0})},u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},u.p="",u(u.s=
845)}({0:function(t,u,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");A(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>
d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}
function p(y){try{q(a["throw"](y))}catch(B){c(B)}}function q(y){var B;y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=
B;break;case 4:return p.label++,{value:B[1],done:!1};case 5:p.label++;b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});
h.d(u,"g",function(){return C});var A=function(l,d){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(t,u){t.exports=
N},18:function(t,u){t.exports=R},339:function(t,u,h){h.d(u,"a",function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},359:function(t,u){t.exports=n},845:function(t,u,h){h.r(u);var f=h(0),g=h(359);t=h(18);var k=h(131),w=h.n(k),v=h(339);h=function(C){function A(r){r=C.call(this,r)||this;return r.handleToggleKeyDown=Object(v.a)(r.handleToggleFilter.bind(r)),r.handleClearKeyDown=Object(v.a)(r.handleClearFilter.bind(r)),r.state={filterString:""},r.handleToggleFilter=r.handleToggleFilter.bind(r),
r.handleClearFilter=r.handleClearFilter.bind(r),r.mapGroupsToLinks=r.mapGroupsToLinks.bind(r),r}return Object(f.d)(A,C),A.prototype.render=function(r){var l=this;return r(w.a,{key:"group-accordion",title:this.props.title||g.groups,clearable:!!this.props.groupFilter,onClear:this.handleClearFilter,padding:!1},r("div",{"class":"ftr-group__input-area"},r("input",{"class":"ftr-group__input",type:"search",placeholder:g.filterGroups,"aria-label":g.filterGroups,oninput:function(d){l.setState({filterString:d.target.value})},
value:this.state.filterString})),r("ul",{"class":"ftr-group__list"},this.mapGroupsToLinks(r)))},A.prototype.handleToggleFilter=function(r){var l=r.id;r=r.title;this.props.groupFilter&&this.props.groupFilter.id===l||this.props.onGroupSelect({id:l,title:r})},A.prototype.handleClearFilter=function(){this.props.groupFilter&&this.props.onGroupSelect()},A.prototype.preventCloseDropdown=function(r){r.stopPropagation()},A.prototype.mapGroupsToLinks=function(r){var l=this;if(!this.props.availableGroups)return null;
var d={"ftr-group__link":!0,"ftr-group__link--active":!this.props.groupFilter};return[r("li",{"class":"ftr-group__item",key:"all-user-groups"},r("a",{classes:d,"data-id":"all-group-content","data-title":g.allGroups,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
r("span",{"class":"ftr-group__link__text"},g.allGroups)))].concat(this.props.availableGroups.filter(function(e){return-1!==e.title.toLowerCase().indexOf(l.state.filterString.toLowerCase())}).map(function(e){var a,b=Object(f.a)(Object(f.a)({},d),{"ftr-group__link--active":(null===(a=l.props.groupFilter)||void 0===a?void 0:a.id)===e.id});return r("li",{"class":"ftr-group__item",key:e.id},r("a",{classes:b,onclick:function(){l.handleToggleFilter(e)},onkeydown:l.handleToggleKeyDown,tabindex:"0"},r("svg",
{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
r("span",{"class":"ftr-group__link__text"},e.title)))}))},A}(t.Component);u["default"]=h}})})},"arcgis-components/Filters/TagsFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/TagsFilter/nls/resources","../../Buttons/CheckToggle"],function(R,N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=
function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,
v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=850)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a=
{},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);
else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=
m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},18:function(u,h){u.exports=R},360:function(u,h){u.exports=n},371:function(u,h){u.exports=t},850:function(u,h,f){f.r(h);var g=f(0),k=f(360);u=f(18);var w=f(131),v=f.n(w);w=f(371);var C=f.n(w);f=function(A){function r(l){l=A.call(this,l)||this;return l.handleFilterStringChange=l.handleFilterStringChange.bind(l),
l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,A),r.prototype.render=function(l){return l(v.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.tags,clearable:!!this.props.tagsFilter,onClear:this.handleClearFilter,padding:!1},l("div",{"class":"ftr-tags__input-area"},l("input",{"class":"ftr-tags__input",type:"search",placeholder:k.filterTags,"aria-label":k.filterTags,oninput:this.handleFilterStringChange,
value:this.props.filterString})),l("ul",{"class":"ftr-tags__tree",role:"tree","aria-label":k.tags},0<this.props.availableTags.length?this.mapTagsToToggles(l):l("p",{"class":"ftr-tags__none"},k.noTags)))},r.prototype.mapTagsToToggles=function(l){var d=this;return this.props.availableTags.map(function(e){return l(C.a,{key:e.value,name:e.value,value:e.value,selectedToggles:d.props.tagsFilter?d.props.tagsFilter:void 0,onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e,
a=this.props.tagsFilter;if(a&&a[l]){var b=Object(g.a)({},a);delete b[l];0<Object.keys(b).length?this.props.onTagSelect(b):this.props.onTagSelect()}else a?this.props.onTagSelect(Object(g.a)(Object(g.a)({},a),((b={})[l]=!0,b))):this.props.onTagSelect(((e={})[l]=!0,e))},r.prototype.handleFilterStringChange=function(l){l.preventDefault();this.props.onFilterStringChange(l.target.value)},r.prototype.handleClearFilter=function(){this.props.tagsFilter&&this.props.onTagSelect()},r}(u.Component);h["default"]=
f}})})},"arcgis-components/Buttons/CheckToggle":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,
"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=
827)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>
r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}
function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});
t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=
R},827:function(N,n,t){function u(g,k,w,v,C){return w?w.map(function(A){return g(f,{key:A.value,name:A.displayName,value:k+"/"+A.value,selectedToggles:C,childOptions:A.children,onToggleClick:v})}):null}t.r(n);var h=t(0),f=function(g){function k(w){w=g.call(this,w)||this;return w.handleToggleClick=w.handleToggleClick.bind(w),w}return Object(h.d)(k,g),k.prototype.render=function(w){var v=this.props,C=v.name,A=v.value,r=v.selectedToggles,l=v.childOptions,d=v.onToggleClick;v=v.showChildren;var e=!(!r||
!r[A]),a={"btn-check-toggle__item":!0,"btn-check-toggle__item--active":e},b={"btn-check-toggle__button":!0,"btn-check-toggle__button--active":e},c=null;return l&&(c=w("ul",{"class":"btn-check-toggle__sub-list"},u(w,A,l,d,r))),w("li",{key:A,classes:a},w("button",{id:"toggle-"+A,key:A,classes:b,value:A,onmousedown:this.preventDefault,onclick:this.handleToggleClick,tabindex:"0"},w("span",{"class":"btn-check-toggle__text",key:"text"},C),this.props.count?w("span",{"class":"btn-check-toggle__count",key:"count"},
"\u00a0","("+this.props.count+")"):null),v||e?c:null)},k.prototype.preventDefault=function(w){w.preventDefault()},k.prototype.handleToggleClick=function(w){w.preventDefault();this.props.onToggleClick(this.props.value,this.props.name)},k}(t(16).Component);n["default"]=f}})})},"arcgis-components/Filters/CollaborationFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/CheckToggle","dojo/i18n!../../Filters/CollaborationFilter/nls/resources"],function(R,
N,n,t){return function(u){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return u[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=u,h.c=f,h.d=function(g,k,w){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:w})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&
g&&g.__esModule)return g;var w=Object.create(null);if(h.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var v in g)h.d(w,v,function(C){return g[C]}.bind(null,v));return w},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=851)}({0:function(u,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}
function w(d,e,a,b){var c,m=arguments.length,p=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,e,a,b);else for(var q=d.length-1;0<=q;q--)(c=d[q])&&(p=(3>m?c(p):3<m?c(e,a,p):c(e,a))||p);return 3<m&&p&&Object.defineProperty(e,a,p),p}function v(d,e,a,b){return new (a||(a=Promise))(function(c,m){function p(B){try{y(b.next(B))}catch(z){m(z)}}function q(B){try{y(b["throw"](B))}catch(z){m(z)}}function y(B){var z;
B.done?c(B.value):(z=B.value,z instanceof a?z:new a(function(D){D(z)})).then(p,q)}y((b=b.apply(d,e||[])).next())})}function C(d,e){function a(y){return function(B){return function(z){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,c&&(m=2&z[0]?c["return"]:z[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,z[1])).done)return m;switch(c=0,m&&(z=[2&z[0],m.value]),z[0]){case 0:case 1:m=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++;
c=z[1];z=[0];continue;case 7:z=q.ops.pop();q.trys.pop();continue;default:if(!(m=q.trys,(m=0<m.length&&m[m.length-1])||6!==z[0]&&2!==z[0])){q=0;continue}if(3===z[0]&&(!m||z[1]>m[0]&&z[1]<m[3]))q.label=z[1];else if(6===z[0]&&q.label<m[1])q.label=m[1],m=z;else if(m&&q.label<m[2])q.label=m[2],q.ops.push(z);else{m[2]&&q.ops.pop();q.trys.pop();continue}}z=e.call(d,q)}catch(D){z=[6,D],c=0}finally{b=m=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([y,B])}}var b,c,m,p,q={label:0,sent:function(){if(1&
m[0])throw m[1];return m[1]},trys:[],ops:[]};return p={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function A(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return w});f.d(h,"b",function(){return v});f.d(h,"e",function(){return C});f.d(h,"g",function(){return A});var r=function(d,e){return(r=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(u,h){u.exports=N},18:function(u,h){u.exports=R},371:function(u,h){u.exports=
n},427:function(u,h){u.exports=t},851:function(u,h,f){f.r(h);var g=f(0),k=f(427);u=f(18);var w=f(131),v=f.n(w);w=f(371);var C=f.n(w);f=function(A){function r(l){l=A.call(this,l)||this;return l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,A),r.prototype.render=function(l){return l(v.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.collaboration,clearable:this.getSelected(),onClear:this.handleClearFilter},
l("ul",{"class":"ftr-collaborations__tree",role:"tree","aria-label":k.collaborations},0<Object.keys(this.props.collaborationsFilter).length?this.mapCollaborationsToToggles(l):l("p",{"class":"ftr-collaborations__none"},k.noCollaborations)))},r.prototype.getSelected=function(){var l=this.props.collaborationsFilter;return Object.keys(this.props.collaborationsFilter).some(function(d){var e;return!!l[d].selected||(null===(e=l[d].participants)||void 0===e?void 0:e.some(function(a){return!!a.selected}))})},
r.prototype.mapCollaborationsToToggles=function(l){var d=this;this.props.collaborationsFilter.sort(function(b,c){return b.label<c.label?-1:b.label>c.label?1:0});var e=this.props.collaborationsFilter,a=Object.keys(this.props.collaborationsFilter).map(function(b){var c,m=((c={})[b]=e[b].selected,c);c=e[b].participants?e[b].participants.map(function(p){var q;return m=Object(g.a)(Object(g.a)({},m),((q={})[b+"/"+p.value]=p.selected,q)),{value:p.value,displayName:p.label,onToggleClick:d.handleToggleClick,
selectedToggles:m}}):[];return l(C.a,{key:e[b].value,name:e[b].label,value:e[b].value,childOptions:c,selectedToggles:m,onToggleClick:d.handleToggleClick,showChildren:!0})});return a.sort(function(b,c){if(b.children[0].children[0].text&&c.children[0].children[0].text){var m=b.children[0].children[0].text.toLowerCase(),p=c.children[0].children[0].text.toLowerCase();if(m<p)return-1;if(m>p)return 1}return 0}),a},r.prototype.handleToggleClick=function(l,d){var e=this.props.collaborationsFilter;if(e){if(e[l])e[l].selected||
Object.keys(e).forEach(function(b){return e[b].selected=!1}),Object.keys(e).forEach(function(b){e[b].participants.forEach(function(c){c.selected=!1})}),e[l].selected=!e[l].selected;else{var a=l.split("/")[1];Object.keys(e).forEach(function(b){e[b].selected=!1;e[b].participants.forEach(function(c){c.value===a?c.selected=!c.selected:c.selected=!1})})}this.props.onCollaborationSelect(e)}},r.prototype.handleFilterStringChange=function(l){},r.prototype.handleClearFilter=function(){if(this.props.collaborationsFilter){var l=
this.props.collaborationsFilter;Object.keys(l).forEach(function(d){l[d].selected=!1;l[d].participants.forEach(function(e){return e.selected=!1})});this.props.onCollaborationSelect(l)}},r}(u.Component);h["default"]=f}})})},"arcgis-components/Dropdowns/FilterController/index":function(){define(["../../Component","../../Buttons/FilterChip/index","dojo/i18n!../../Dropdowns/FilterController/nls/resources"],function(R,N,n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,
exports:{}};return t[f].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,
"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},u.p="",u(u.s=838)}({0:function(t,u,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");
A(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,
e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}function p(y){try{q(a["throw"](y))}catch(B){c(B)}}function q(y){var B;y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,
d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return p.label++,{value:B[1],done:!1};case 5:p.label++;b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&
c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},
"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});h.d(u,"g",function(){return C});var A=function(l,d){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,
a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},18:function(t,u){t.exports=R},426:function(t,u){t.exports=N},443:function(t,u){t.exports=n},838:function(t,u,h){function f(C){C.preventDefault()}h.r(u);var g=h(0),k=h(443);t=h(18);var w=
h(426),v=h.n(w);h=function(C){function A(r){r=C.call(this,r)||this;return r.toggleFilterDisplay=r.toggleFilterDisplay.bind(r),r.state={open:!!r.props.startOpen},r}return Object(g.d)(A,C),A.prototype.render=function(r){var l,d=Object(g.g)([],this.props.filters),e={"filter-controller__expand-btn":!0,"filter-controller__expand-btn--active":this.state.open,"filter-controller__expand-btn--dark":"light"===this.props.theme},a={"filter-controller__container":!0,"filter-controller__container--light":"light"===
this.props.theme},b={"filter-controller__chip-container":!0,"margin-right-half":!0,"filter-controller__chip-container--full-width":"full-width"===this.props.mode},c="light"===this.props.theme?"dark":"light";1<this.props.filters.length&&(l=r("button",{key:"filter-controller-toggle-btn",classes:e,onclick:this.toggleFilterDisplay,onmousedown:f},(this.state.open?"-":"+")+" "+(this.props.filters.length-1)));if(e=d.shift())return this.state.open?r("div",{classes:a},r("span",{"class":"filter-controller__label margin-right-half"},
this.props.showLabel),r("div",{classes:b},r(v.a,{filterId:e.filterId,handleRemoveFilter:e.onRemove,key:e.filterId,text:e.text,theme:c,"static":e["static"]}),d.map(function(m){return r(v.a,{filterId:m.filterId,handleRemoveFilter:m.onRemove,key:m.filterId,text:m.text,theme:c,"static":m["static"]})}),l,this.clearableFilters(Object(g.g)([e],d))?r("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null)):r("div",{classes:a},r("span",{"class":"filter-controller__label"},
this.props.showLabel),r("div",{classes:b},r(v.a,{filterId:e.filterId,handleRemoveFilter:e.onRemove,key:e.filterId,text:e.text,theme:c,"static":e["static"]}),l,this.clearableFilters(Object(g.g)([e],d))?r("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null))},A.prototype.toggleFilterDisplay=function(){this.setState({open:!this.state.open})},A.prototype.clearableFilters=function(r){return r.some(function(l){return!l["static"]})},A}(t.Component);u["default"]=
h}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=828)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}
function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});
u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,t){n.exports=
R},522:function(n,t){n.exports=N},828:function(n,t,u){u.r(t);var h=u(0),f=u(522);n=function(g){function k(){return null!==g&&g.apply(this,arguments)||this}return Object(h.d)(k,g),k.prototype.render=function(w){var v=this.props,C=v.filterId,A=v.handleRemoveFilter;v=v.text;return w("span",{id:"filter-chip-"+v,classes:{"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme},key:v},v,this.props["static"]?null:w("button",{"aria-label":f.clear+": "+v,value:C,id:"filter-chip-x-"+
v,"class":"btn-ftr-chip__remove",onclick:A},w("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
w("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},k}(u(18).Component);t["default"]=n}})})},"arcgis-components/Management/LazyLoader":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,
h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=
u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=871)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,
d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?
e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=
1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,
"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<
d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=R},871:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Object(u.d)(f,h),f.prototype.componentDidConnect=function(){var g=this;try{var k=window.require.on("error",function(w){throw Error("Could not lazy-load the '"+g.props.path+"' component. The 'arcgis-components' submodule MUST be registered as 'arcgis-components' in dojoConfig packages in order for lazy component loading to function properly.");
});window.require(["arcgis-components/"+this.props.path],function(w){k.remove();g.setState({Cmp:w["default"]})})}catch(w){this.props.onFail&&this.props.onFail(w)}},f.prototype.render=function(g){return this.state.Cmp?g(this.state.Cmp,Object(u.a)({},this.props.componentProps)):this.props.children&&this.props.children[0]?this.props.children[0]:g("div")},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/ItemCards/AnalysisCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale dojo/number ../../Badges/Retired ../../Loaders/LoaderIcon ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e){return function(a){function b(m){if(c[m])return c[m].exports;var p=c[m]={i:m,l:!1,exports:{}};return a[m].call(p.exports,p,p.exports,b),p.l=!0,p.exports}var c={};return b.m=a,b.c=c,b.d=function(m,p,q){b.o(m,p)||Object.defineProperty(m,p,{enumerable:!0,get:q})},b.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},b.t=function(m,p){if((1&
p&&(m=b(m)),8&p)||4&p&&"object"==typeof m&&m&&m.__esModule)return m;var q=Object.create(null);if(b.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:m}),2&p&&"string"!=typeof m)for(var y in m)b.d(q,y,function(B){return m[B]}.bind(null,y));return q},b.n=function(m){var p=m&&m.__esModule?function(){return m["default"]}:function(){return m};return b.d(p,"a",p),p},b.o=function(m,p){return Object.prototype.hasOwnProperty.call(m,p)},b.p="",b(b.s=862)}({0:function(a,b,c){function m(x,E){function G(){this.constructor=
x}if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");D(x,E);x.prototype=null===E?Object.create(E):(G.prototype=E.prototype,new G)}function p(x,E){var G={},H;for(H in x)Object.prototype.hasOwnProperty.call(x,H)&&0>E.indexOf(H)&&(G[H]=x[H]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(H=Object.getOwnPropertySymbols(x);J<H.length;J++)0>E.indexOf(H[J])&&Object.prototype.propertyIsEnumerable.call(x,H[J])&&
(G[H[J]]=x[H[J]])}return G}function q(x,E,G,H){var J,M=arguments.length,K=3>M?E:null===H?H=Object.getOwnPropertyDescriptor(E,G):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(x,E,G,H);else for(var L=x.length-1;0<=L;L--)(J=x[L])&&(K=(3>M?J(K):3<M?J(E,G,K):J(E,G))||K);return 3<M&&K&&Object.defineProperty(E,G,K),K}function y(x,E,G,H){return new (G||(G=Promise))(function(J,M){function K(ba){try{U(H.next(ba))}catch(V){M(V)}}function L(ba){try{U(H["throw"](ba))}catch(V){M(V)}}
function U(ba){var V;ba.done?J(ba.value):(V=ba.value,V instanceof G?V:new G(function(aa){aa(V)})).then(K,L)}U((H=H.apply(x,E||[])).next())})}function B(x,E){function G(U){return function(ba){return function(V){if(H)throw new TypeError("Generator is already executing.");for(;L;)try{if(H=1,J&&(M=2&V[0]?J["return"]:V[0]?J["throw"]||((M=J["return"])&&M.call(J),0):J.next)&&!(M=M.call(J,V[1])).done)return M;switch(J=0,M&&(V=[2&V[0],M.value]),V[0]){case 0:case 1:M=V;break;case 4:return L.label++,{value:V[1],
done:!1};case 5:L.label++;J=V[1];V=[0];continue;case 7:V=L.ops.pop();L.trys.pop();continue;default:if(!(M=L.trys,(M=0<M.length&&M[M.length-1])||6!==V[0]&&2!==V[0])){L=0;continue}if(3===V[0]&&(!M||V[1]>M[0]&&V[1]<M[3]))L.label=V[1];else if(6===V[0]&&L.label<M[1])L.label=M[1],M=V;else if(M&&L.label<M[2])L.label=M[2],L.ops.push(V);else{M[2]&&L.ops.pop();L.trys.pop();continue}}V=E.call(x,L)}catch(aa){V=[6,aa],J=0}finally{H=M=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([U,ba])}}var H,
J,M,K,L={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return K={next:G(0),"throw":G(1),"return":G(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K}function z(x,E){for(var G=0,H=E.length,J=x.length;G<H;G++,J++)x[J]=E[G];return x}c.d(b,"d",function(){return m});c.d(b,"a",function(){return F});c.d(b,"f",function(){return p});c.d(b,"c",function(){return q});c.d(b,"b",function(){return y});c.d(b,"e",function(){return B});c.d(b,"g",function(){return z});
var D=function(x,E){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(G[J]=H[J])})(x,E)},F=function(){return(F=Object.assign||function(x){for(var E,G=1,H=arguments.length;G<H;G++)for(var J in E=arguments[G])Object.prototype.hasOwnProperty.call(E,J)&&(x[J]=E[J]);return x}).apply(this,arguments)};Object.create;Object.create},112:function(a,b){a.exports=N},117:function(a,b,c){c.d(b,"a",
function(){return p});var m=c(0);a=c(15);var p=Object(a.a)(function(q,y){var B=Object(m.a),z=Object(m.a)({},y),D=y.type,F=y.typeKeywords?y.typeKeywords:[],x=null==D?void 0:D.toLowerCase(),E=!1,G=!1,H=D=!1;if("ogcfeatureserver"===x)F="featureshosted";else if(0<(null==x?void 0:x.indexOf("service"))||"feature collection"===x||"kml"===x||"wms"===x||"wmts"===x||"wfs"===x){var J=-1<F.indexOf("Hosted Service");"feature service"===x||"feature collection"===x||"kml"===x||"wfs"===x?(H=-1<F.indexOf("Table"),
E=-1<F.indexOf("Route Layer"),G=-1<F.indexOf("Markup"),F=(D=-1!==F.indexOf("Spatiotemporal"))&&H?"spatiotemporaltable":H?"table":E?"routelayer":G?"markup":D?"spatiotemporal":J?"featureshosted":"features"):"map service"===x||"wms"===x||"wmts"===x?F=J||-1<F.indexOf("Tiled")||"wmts"===x?"maptiles":"mapimages":"scene service"===x?F=-1<F.indexOf("Line")?"sceneweblayerline":-1<F.indexOf("3DObject")?"sceneweblayermultipatch":-1<F.indexOf("Point")?"sceneweblayerpoint":-1<F.indexOf("IntegratedMesh")?"sceneweblayermesh":
-1<F.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<F.indexOf("Polygon")?"sceneweblayerpolygon":-1<F.indexOf("Building")?"sceneweblayerbuilding":-1<F.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===x?(D=-1<F.indexOf("Elevation 3D Layer"),F=-1<F.indexOf("Tiled Imagery"),F=D?"elevationlayer":F?"tiledimagerylayer":"imagery"):F="stream service"===x?"streamlayer":"vector tile service"===x?"vectortile":"datastore catalog service"===x?"datastorecollection":"geocoding service"===
x?"geocodeservice":"geoprocessing service"===x&&-1<F.indexOf("Web Tool")?"tool":"layers"}else F="web map"===x||"cityengine web scene"===x?"maps":"web scene"===x?-1<F.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===x&&-1<(null==F?void 0:F.indexOf("configurableApp"))?"instantapps":"web mapping application"===x||"mobile application"===x||"application"===x||"operation view"===x||"desktop application"===x?"apps":"map document"===x||"map package"===x||"published map"===
x||"scene document"===x||"globe document"===x||"basemap package"===x||"mobile basemap package"===x||"mobile map package"===x||"project package"===x||"project template"===x||"pro map"===x||"layout"===x||"layer"===x&&-1<F.indexOf("ArcGIS Pro")||"explorer map"===x&&-1<F.indexOf("Explorer Document")?"mapsgray":"service definition"===x||"csv"===x||"administrative report"===x||"shapefile"===x||"cad drawing"===x||"geojson"===x||"360 vr experience"===x||"netcdf"===x?"datafiles":"explorer add in"===x||"desktop add in"===
x||"windows viewer add in"===x||"windows viewer configuration"===x?"appsgray":"arcgis pro add in"===x||"arcgis pro configuration"===x?"addindesktop":"rule package"===x||"file geodatabase"===x||"csv collection"===x||"kml collection"===x||"windows mobile package"===x||"map template"===x||"desktop application template"===x||"arcpad package"===x||"code sample"===x||"form"===x||"document link"===x||"vector tile package"===x||"operations dashboard add in"===x||"rules package"===x||"image"===x||"workflow manager package"===
x||"explorer map"===x&&-1<F.indexOf("Explorer Mapping Application")||-1<F.indexOf("Document")?"datafilesgray":"network analysis service"===x||"geoprocessing service"===x||"geodata service"===x||"geometry service"===x||"geoprocessing package"===x||"locator package"===x||"geoprocessing sample"===x||"workflow manager service"===x||"raster function template"===x||"deep learning package"===x?"toolsgray":"layer"===x||"layer package"===x||"explorer layer"===x?"layersgray":"scene package"===x?"scenepackage":
"tile package"===x?"tilepackage":"storymap"===x?"storymap":"storymap theme"===x?"storymaptheme":"web experience"===x?"experiencebuilder":"web experience template"===x?"webexperiencetemplate":"task file"===x?"taskfile":"report template"===x?"report-template":"statistical data collection"===x?"statisticaldatacollection":"insights workbook"===x?"workbook":"insights model"===x?"insightsmodel":"insights page"===x?"insightspage":"hub initiative"===x?"hubinitiative":"hub page"===x?"hubpage":"hub site application"===
x?"hubsite":"relational database connection"===x?"relationaldatabaseconnection":"big data file share"===x||"data store"===x?"datastorecollection":"image collection"===x?"imagecollection":"desktop style"===x?"desktopstyle":"style"===x?"style":"dashboard"===x?"dashboard":"feed"===x?"feed":"real time analytic"===x?"realtimeanalytics":"big data analytic"===x?"bigdataanalytics":"notebook"===x?"notebook":"notebook code snippets"===x?"notebookcodesnippets":"maps";return B(z,{iconURI:q+"/"+F+"16.png"})})},
120:function(a,b,c){c.d(b,"a",function(){return p});var m=c(0);a=c(15);var p=Object(a.a)(function(q,y){var B=Object(m.a),z=Object(m.a)({},y),D,F,x="notebook"!==(null===(D=y.type)||void 0===D?void 0:D.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(F=y.type)||void 0===F?void 0:F.toLowerCase())&&(x="notebook-code-snippet-thumb.png");F=q.baseUrl+"/home/js/arcgisonline/css/images/"+x;D=(y.thumbnail&&(F=q.restUrl+"/content/items/"+y.id+"/info/"+y.thumbnail+(q.credential?
"?token\x3d"+q.credential.token:"")),F);return B(z,{thumbURI:D})})},121:function(a,b,c){c.d(b,"a",function(){return q});var m=c(0);a=c(15);var p=function(y,B){return B.description?B.description.replace(/src=('|")js\/jsapi\/esri\//g,function(z){return"src\x3d"+('"'===z[4]?'"':"'")+y.baseUrl+"/home/js/jsapi/esri/"}):void 0},q=Object(a.a)(function(y,B){return Object(m.a)(Object(m.a)({},B),{patchedDescription:p(y,B)})})},122:function(a,b,c){c.d(b,"a",function(){return y});var m=c(0),p=c(124);a=c(15);
var q=c(58),y=Object(a.a)(function(B,z){var D=Object(m.a),F=Object(m.a)({},z),x,E=z.type,G=z.typeKeywords||[],H=E,J=(null==B?void 0:B.portalUser)||(null==B?void 0:B.user);if("Feature Service"===E||"Feature Collection"===E){if(H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer",J&&Object(q.d)(z,J)&&-1<(null==G?void 0:G.indexOf("Hosted Service")))G=(null===(x=null===document||void 0===document?void 0:document.documentElement)||void 0===
x?void 0:x.lang)||"en",H=H+" ("+(p.a[G]||p.a[G.split("-")[0]]||p.a.en)+")"}else"Image Service"===E?(x=-1<G.indexOf("Elevation 3D Layer"),G=-1<G.indexOf("Tiled Imagery"),H=x?"Elevation Layer":G?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===E?H="Scene Layer":"Scene Package"===E?H="Scene Layer Package":"Stream Service"===E?H="Feature Layer":"Geocoding Service"===E?H="Locator":"Microsoft Powerpoint"===E?H="Microsoft PowerPoint":"OGCFeatureServer"===E?H="OGC Feature Layer":"GeoJson"===E?H="GeoJSON":
"Globe Service"===E?H="Globe Layer":"Vector Tile Service"===E?H="Tile Layer":"netCDF"===E?H="NetCDF":"Map Service"===E?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":E&&-1<E.toLowerCase().indexOf("add in")?H=E.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===E?H="Big Data File Share":"Web Mapping Application"===E&&(null==G?0:G.includes("configurableApp"))?H="Instant App":"Data Store"===E&&(G.includes("cloudStore_amazon")||
G.includes("cloudStore_azure")?H+=" (Cloud)":(G.includes("fileShare")||G.includes("hdfs")||G.includes("hive")||G.includes("bigDataFileShare")&&G.includes("dataStore"))&&(H+=" (Big Data File Share)"));return D(F,{displayName:H})})},123:function(a,b,c){c.d(b,"a",function(){return q});var m=c(0);a=c(15);var p=function(y,B){var z=[],D=y.typeKeywords?y.typeKeywords:[];return y.contentStatus&&("org_authoritative"===y.contentStatus||"public_authoritative"===y.contentStatus?z.push("authoritative"):"deprecated"===
y.contentStatus&&z.push("deprecated")),y.origin&&z.push("collaboration"),y.groupDesignations&&-1<y.groupDesignations.indexOf("livingatlas")&&z.push("livingAtlas"),-1<D.indexOf("Requires Credits")?z.push("premium"):-1<D.indexOf("Requires Subscription")&&z.push("subscriber"),-1<D.indexOf("Public Data Collection")&&((null==B?void 0:B.portalUser)||(null==B?void 0:B.user))&&z.push("publicDataCollection"),"Solution"===y.type&&-1<y.typeKeywords.indexOf("ArcGIS Solution")&&z.push("solution"),B.isPortal&&
"Web Mapping Application"===y.type&&(-1<y.typeKeywords.indexOf("Story Map")&&z.push("retiredStoryMap"),function(F){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(x){var E,
G=-1<x.indexOf(".html");return-1<(null===(E=F.url)||void 0===E?void 0:E.indexOf("/apps/"+x+(G?"":"/")))})}(y)&&z.push("retiredApp")),z},q=Object(a.a)(function(y,B){return Object(m.a)(Object(m.a)({},B),{badges:p(B,y)})})},124:function(a,b,c){c.d(b,"a",function(){return m});var m={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},148:function(a,b,c){c.d(b,"a",function(){return p});var m=c(0);a=c(15);var p=Object(a.a)(function(q,y){var B=Object(m.a),z=Object(m.a)({},y);var D=y.thumbnail?q.restUrl+"/community/users/"+y.username+"/info/"+y.thumbnail+(q.credential?"?token\x3d"+q.credential.token:""):void 0;return B(z,{thumbURI:D})})},15:function(a,b,c){function m(q){return function B(){for(var z=this,D=[],F=0;F<arguments.length;F++)D[F]=
arguments[F];return D.length>=q.length?q.call.apply(q,Object(p.g)([this],D)):function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];return B.call.apply(B,Object(p.g)(Object(p.g)([z],D),x))}}}c.d(b,"a",function(){return m});var p=c(0)},151:function(a,b){a.exports=n},178:function(a,b){a.exports=t},18:function(a,b){a.exports=R},233:function(a,b){a.exports=u},250:function(a,b){a.exports=h},273:function(a,b){a.exports=f},274:function(a,b){a.exports=g},275:function(a,b){a.exports=k},276:function(a,
b){a.exports=w},277:function(a,b){a.exports=v},278:function(a,b){a.exports=C},279:function(a,b){a.exports=A},280:function(a,b){a.exports=r},281:function(a,b){a.exports=l},282:function(a,b){a.exports=d},311:function(a,b){a.exports=e},5:function(a,b,c){function m(x){return 0===Object.keys(x).length&&x.constructor===Object}function p(x){return null!=x}function q(x,E){return D.apply(null,arguments)}function y(x,E){return F.apply(null,arguments)}c.d(b,"b",function(){return m});c.d(b,"a",function(){return p});
c.d(b,"e",function(){return z});c.d(b,"c",function(){return q});c.d(b,"d",function(){return y});var B=c(0);a=c(15);var z=Object(a.a)(function(x,E){var G=Object(B.a)({},E);return delete G[x],G}),D=Object(a.a)(function(x,E){return Object.keys(E).reduce(function(G,H){return G[H]=x(E[H],H,E),G},{})}),F=Object(a.a)(function(x,E){return Object.keys(E).reduce(function(G,H){return x(E[H],H,E)&&(G[H]=E[H]),G},{})})},51:function(a,b,c){function m(aa){return!(!aa.urlKey||!aa.customBaseUrl)}function p(aa){return aa.role===
H.admin||aa.role===H.accountAdmin}function q(aa){return Object(K.a)(aa.roleId)&&0<(aa.roleId||"").length}function y(aa){return!q(aa)||q(aa)&&-1<(aa.privileges||[]).indexOf("portal:admin:viewItems")}function B(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToOrg")}function z(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToGroup")}function D(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToPublic")}function F(aa,ha){return x(aa)||E(aa)||ha.canSharePublic&&G(aa)}
function x(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToGroup")}function E(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToPublic")}c.d(b,"l",function(){return U});c.d(b,"h",function(){return ba});c.d(b,"m",function(){return V});c.d(b,"k",function(){return m});c.d(b,"i",function(){return p});c.d(b,"j",function(){return q});c.d(b,"g",function(){return y});c.d(b,"b",function(){return B});c.d(b,
"a",function(){return z});c.d(b,"c",function(){return D});c.d(b,"d",function(){return x});c.d(b,"e",function(){return E});c.d(b,"f",function(){return G});var H,J=c(63),M=c(148),K=c(5),L=c(58);!function(aa){aa.user="org_user";aa.accountUser="account_user";aa.publisher="org_publisher";aa.accountPublisher="account_publisher";aa.admin="org_admin";aa.accountAdmin="account_admin";aa.viewer="iAAAAAAAAAAAAAAA";aa.dataEditor="iBBBBBBBBBBBBBBB"}(H||(H={}));var U=function(aa){var ha=aa.items;return!!aa.user.orgId&&
ha.every(function(ia){return ia.isOrgItem})},ba=function(aa){var ha=aa.items,ia=aa.user,ka=aa.portal;aa=ha[0];var qa=Object(L.c)(aa,ia),Y=q(ia),Q=F(ia,ka);if(Y=Object(L.a)(aa,ia)&&-1<(ia.privileges||[]).indexOf("portal:admin:updateItems")&&!Y)Y=!m(ka)||z(ia)||B(ia)||ka.canSharePublic&&D(ia)||F(ia,ka);ka=Y;return!(aa.portal.isPortal&&aa.owner!==ia.username&&-1<aa.owner.indexOf("esri_"))&&(qa||ka||U({items:ha,user:ia})&&Q)},V=function(aa,ha){return Object(J.a)(Object(M.a)(aa))(ha)}},58:function(a,b,
c){function m(D,F){return(null==D?void 0:D.owner)===F.username}function p(D,F){var x;if(!(x=m(D,F)))if(Object(y.a)(D.isAdmin))x=!!D.isAdmin;else{x=D.owner;var E="admin"===D.itemControl;x=!(D.portal.isPortal&&!m(D,F)&&E&&-1<x.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(x))&&E}return x}function q(D,F){return p(D,F)||"update"===D.itemControl}c.d(b,"d",function(){return m});c.d(b,"c",function(){return p});c.d(b,"a",function(){return q});c.d(b,"b",function(){return z});
var y=c(5),B=c(51),z=function(D){var F=D.user,x=D.items;D=D.portal;return Object(B.l)({items:x,user:F})&&Object(B.h)({items:x,user:F,portal:D})&&Object(B.g)(F)&&x[0].itemOwner||F}},63:function(a,b,c){function m(){for(var p=[],q=0;q<arguments.length;q++)p[q]=arguments[q];return function(y){return p.reduceRight(function(B,z){return z(B)},y)}}c.d(b,"a",function(){return m})},78:function(a,b,c){c.d(b,"a",function(){return D});c.d(b,"b",function(){return F});var m=c(63);a=c(5);var p=c(123),q=c(122),y=
c(117),B=c(121),z=c(120),D=function(x,E,G){return Object(m.a)(Object(z.a)(x),Object(B.a)(x),Object(y.a)(E),Object(q.a)(x),Object(p.a)(x))(G)},F=Object(m.a)(Object(a.e)("patchedDescription"),Object(a.e)("thumbURI"),Object(a.e)("iconURI"),Object(a.e)("displayName"),Object(a.e)("badges"))},862:function(a,b,c){c.r(b);var m=c(0),p=c(112);a=c(18);var q=c(151),y=c(178),B=c(250),z=c.n(B);B=c(274);var D=c.n(B);B=c(275);var F=c.n(B);B=c(276);var x=c.n(B);B=c(277);var E=c.n(B);B=c(278);var G=c.n(B);B=c(279);
var H=c.n(B);B=c(280);var J=c.n(B);B=c(281);var M=c.n(B);B=c(311);var K=c.n(B);B=c(282);var L=c.n(B);B=c(233);var U=c.n(B);B=c(273);var ba=c.n(B),V=c(78);c=function(aa){function ha(ia){var ka=aa.call(this,ia)||this;return ka.state={customActionsOpen:!1,inversedAction:ia.isSelected&&ia.isSelected(Object(V.b)(ka.props.item)),isLoading:!1},ka.handleActionDropdownToggle=ka.handleActionDropdownToggle.bind(ka),ka.handleCustomActionClick=ka.handleCustomActionClick.bind(ka),ka.handleMainActionClick=ka["handleMainActionClick"+
(ka.props.loadOnMainAction?"Async":"")].bind(ka),ka}return Object(m.d)(ha,aa),ha.prototype.render=function(ia){var ka,qa=this,Y=this.props,Q=Y.item;Y=Y.sortField;var fa=this.props.customActions?this.props.customActions.filter(function(Z){return Z.allowed(qa.props.item)}):[],S={"card-ac__container":!0,"card-ac__container-inverse-action":this.state.inversedAction,"card-mc__fader":this.props.loadOnMainAction,"card-mc__fader--loading":this.state.isLoading},O={"card-ac__custom-actions":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,
"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle},I={"card-ac__custom-action-btn":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle};return ka="numviews"===Y?p.viewCount+": "+y.format(Q.numViews):"avgrating"===Y?p.rating+": "+Q.avgRating.toFixed(2):"created"===Y?p.created+": "+q.format(new Date(Q.created),{selector:"date",formatLength:"short"}):p.updated+": "+q.format(new Date(Q.modified),{selector:"date",formatLength:"short"}),
ia("div",{classes:S,key:this.props.key},ia("div",{"class":"card-ac__details-container"},ia("div",{"class":"card-ac__thumb-container"},ia("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-ac__thumbnail",style:"\n                                background-image: url("+Q.thumbURI+");\n                            "})),ia("div",{"class":"card-ac__details"},ia("h4",{"class":"card-ac__title"},Q.title),ia("div",{"class":"card-ac__info-row"},ia("div",
{"class":"card-ac__icon-title-container"},ia("img",{src:Q.iconURI,"class":"content-search-item-icon",alt:""}),ia("span",{"class":"card-ac__author-text"},Q.displayName+" "+p.by,ia("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?p.viewOrg:p.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+Q.owner,target:"_blank"}," "+(this.props.organization?this.props.organization.name:Q.owner)))),
ia("span",{"class":"card-ac__info-bullet","aria-hidden":"true"},"\u2022"),ia("span",{"class":"card-ac__info-string"},ka)),ia("p",{"class":"card-ac__snippet"},ia("span",{"class":"card-ac__snippet-text"},Q.snippet," "),ia("a",{"class":"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+Q.id,target:"_blank"},p.viewItem,ia("svg",{role:"img",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},ia("path",{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),
ia("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),ia("div",{"class":"card-ac__sub-container"},ia("div",{"class":"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(ia)),ia("div",{"class":"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(ia,!0)),ia("div",{"class":"card-ac__action-container card-ac__sub-group"},ia("div",{"class":"card-ac__no-wrap"},this.renderMainActionButton(ia),0<fa.length?ia(ba.a,
{key:Q.id+"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},ia("span",{classes:O,title:p.actions},ia("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},ia("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),ia("div",null,fa.map(function(Z,W){return ia("button",{key:Z.name,"class":I,value:W,onclick:qa.handleCustomActionClick},Z.name)}))):null))))},ha.prototype.renderLoaderIcon=function(ia){return this.props.loadOnMainAction&&
this.state.isLoading?ia(z.a,{color:"#ffffff"}):null},ha.prototype.renderMainActionButton=function(ia){return ia("button",{"class":"card-ac__btn "+(this.props.usePrimaryButtonStyle?"card-ac__primary-btn":"card-ac__secondary-btn"),onclick:this.handleMainActionClick.bind(this,this.state.inversedAction?"Inverse":"")},this.renderLoaderIcon(ia),this.props[this.state.inversedAction?"mainInverseActionTitle":"mainActionTitle"])},ha.prototype.renderBadges=function(ia,ka){var qa=this,Y=ka?"small":"regular";
return this.props.item.badges.map(function(Q){switch(Q){case "authoritative":return ia(D.a,{size:Y,altOrg:qa.props.organization?qa.props.organization.name:void 0});case "deprecated":return ia(x.a,{size:Y});case "collaboration":return ia(F.a,{size:Y});case "livingAtlas":return ia(E.a,{size:Y});case "marketplace":return ia(G.a,{size:Y});case "openData":return ia(H.a,{size:Y});case "premium":return ia(J.a,{size:Y,user:qa.props.portal.user});case "subscriber":return ia(M.a,{size:Y,user:qa.props.portal.user});
case "solution":return ia(K.a,{size:Y});case "publicDataCollection":return ia(L.a,{size:Y});case "retiredStoryMap":return ia(U.a,{size:Y,isRetiredStoryMap:!0});case "retiredApp":return ia(U.a,{size:Y})}return null})},ha.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},ha.prototype.handleMainActionClick=function(ia){this.props.mainAction([Object(V.b)(this.props.item)])},ha.prototype.handleCustomActionClick=function(ia){this.setState({customActionsOpen:!this.state.customActionsOpen});
this.props.customActions&&this.props.customActions[ia.target.value]&&this.props.customActions[ia.target.value].onAction(Object(V.b)(this.props.item))},ha}(a.Component);b["default"]=c}})})},"arcgis-components/Loaders/LoaderIcon":function(){define(function(){return function(R){function N(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return R[t].call(u.exports,u,u.exports,N),u.l=!0,u.exports}var n={};return N.m=R,N.c=n,N.d=function(t,u,h){N.o(t,u)||Object.defineProperty(t,u,{enumerable:!0,
get:h})},N.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},N.t=function(t,u){if((1&u&&(t=N(t)),8&u)||4&u&&"object"==typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(N.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&u&&"string"!=typeof t)for(var f in t)N.d(h,f,function(g){return t[g]}.bind(null,f));return h},N.n=function(t){var u=t&&t.__esModule?
function(){return t["default"]}:function(){return t};return N.d(u,"a",u),u},N.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,u)},N.p="",N(N.s=869)}({869:function(R,N,n){n.r(N);N["default"]=function(t,u){return u("div",{key:t.key||"loader-icon","class":"load-icon__icon"},u("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                fill: currentColor;\n                pointer-events: none;\n                display: inline-block;\n                width: 1em;\n                height: 1em;\n                vertical-align: -0.15em;\n                color: "+
(t.color||"#0079c1")+";\n                transition-property: transform;\n                transition-duration: 0.5s;\n                animation-name: rotate;\n                animation-duration: 1s;\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                transform-origin: 50% 50%;\n            "},u("path",{d:"M16 8A8 8 0 1 1 7 .07v.909a7.1 7.1 0 1 0 2 0v-.91A7.996 7.996 0 0 1 16 8z"})))}}})})},"arcgis-components/Badges/Authoritative":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=812)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=
R},812:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){var w=g.altOrg;return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"authoritative-badge",size:g.size,text:h.authoritative,title:w?h.tooltips.altAuthoritative+" "+w:h.tooltips.authoritative,tooltip:g.tooltip?h.tooltips.authoritative:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),
k("g",{fill:"#2B622B"},k("path",{d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zm0 15a7 7 0 1 1 7-7 7.008 7.008 0 0 1-7 7z"}),k("path",{d:"M11.834 5.146l-5.646 5.647-2.334-2.334a.5.5 0 0 0-.708.707l3.042 3.041 6.353-6.353a.5.5 0 1 0-.707-.707z"}))))}}})})},"arcgis-components/Badges/Collaboration":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,
f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),
2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=815)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},815:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",
key:"collaboration-badge",size:g.size,text:h.collaboration,title:h.tooltips.collaboration,tooltip:g.tooltip?h.tooltips.collaboration:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("g",{fill:"#196FA6"},k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),
k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))))}}})})},"arcgis-components/Badges/Deprecated":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=816)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},816:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#F3DED7",textColor:"#8C2907",key:"deprecated-badge",size:g.size,text:h.deprecated,title:h.tooltips.deprecated,tooltip:g.tooltip?h.tooltips.deprecated:
void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#8C2907",d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zM1 8a6.99 6.99 0 0 1 11.577-5.284l-9.861 9.861A6.964 6.964 0 0 1 1 8zm7 7a6.964 6.964 0 0 1-4.577-1.716l9.861-9.861A6.99 6.99 0 0 1 8 15z"})))}}})})},"arcgis-components/Badges/LivingAtlas":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],
function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==
typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=817)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},817:function(n,
t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"living-atlas-badge",size:g.size,text:h.livingAtlas,title:h.tooltips.livingAtlas,tooltip:g.tooltip?h.tooltips.livingAtlas:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("rect",{width:"16",height:"16",fill:"none"}),k("rect",{width:"16",height:"16",fill:"none"}),k("g",
null,k("path",{d:"M14.75342,4.57031a.50021.50021,0,0,0-.84277-.53906,5.85956,5.85956,0,0,1-1.04541,1.12939A27.86114,27.86114,0,0,1,8.5,8.19922a27.48671,27.48671,0,0,1-4.81445,2.26172,5.9062,5.9062,0,0,1-1.50049.34033.5.5,0,0,0,.022.99951L2.23,11.80029a6.51338,6.51338,0,0,0,1.46027-.30341A5.97993,5.97993,0,0,0,7.5,13.30646V15H5a.5.5,0,0,0,0,1h6a.5.5,0,0,0,0-1H8.5V13.301a5.95318,5.95318,0,0,0,5.25336-7.601A6.38549,6.38549,0,0,0,14.75342,4.57031ZM10.5,11.66357A4.99888,4.99888,0,0,1,4.75793,11.129,30.77175,30.77175,0,0,0,9,9.06543a30.80143,30.80143,0,0,0,3.9082-2.642A5.00026,5.00026,0,0,1,10.5,11.66357Z",
fill:"#196fa6"}),k("path",{d:"M7.06836,2.41943a5.00709,5.00709,0,0,1,4.71045,1.63867.50023.50023,0,1,0,.75684-.6543A6.01019,6.01019,0,0,0,6.88184,1.437a.5.5,0,0,0,.18652.98242Z",fill:"#196fa6"}),k("path",{d:"M2.80176,9.63281a.50023.50023,0,0,0,.47217-.66406A4.98907,4.98907,0,0,1,5.08917,3.29163l.22772.39441a.50008.50008,0,0,0,.86621-.5l-1-1.73193a.50008.50008,0,0,0-.86621.5l.27222.47144A5.988,5.988,0,0,0,2.32959,9.29688.49991.49991,0,0,0,2.80176,9.63281Z",fill:"#196fa6"}))))}}})})},"arcgis-components/Badges/Marketplace":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=818)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=
R},818:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"marketplace-badge",size:g.size,text:h.marketplace,title:h.tooltips.marketplace,tooltip:g.tooltip?h.tooltips.marketplace:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"#196FA6",d:"M15.939 13L12.832 3h-3.65L8.033 6.68 6.811 3H3.16L.054 13H4.13l.96-3.21L6.192 13h3.594l1.104-3.17.993 3.17h4.056zM3.386 12H1.41l2.486-8h1.881l-2.391 8zm2.196-3.856l.893-2.983 1.048 3.156-.895 2.871-1.046-3.044zM9.075 12H7.422l2.496-8h1.943l-2.786 8zm3.409-6.749L14.583 12h-1.966l-1.176-3.755 1.043-2.994z"})))}}})})},
"arcgis-components/Badges/OpenData":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=819)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},819:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"open-data-badge",size:g.size,text:h.openData,title:h.tooltips.openData,tooltip:g.tooltip?h.tooltips.openData:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",
d:"M0 0h16v16H0z"}),k("g",{fill:"#196fa6"},k("path",{d:"M8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.628 8.628 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2 5 1.056 5 2-2.138 2-5 2zM13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.968 11.968 0 0 0 5 .984.5.5 0 0 0 0-1A10.146 10.146 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5z"}))))}}})})},
"arcgis-components/Badges/Premium":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=820)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},820:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){var w=g.user;w=w?w.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"premium-badge",size:g.size,text:h.premium,title:h.tooltips["premium"+w],tooltip:g.tooltip?h.tooltips["premium"+w]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",
viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{d:"M8.05 15.5a.497.497 0 0 1-.25-.067C.6 11.275 1.542 2.038 1.552 1.944a.5.5 0 0 1 .259-.382.507.507 0 0 1 .463-.009 5.15 5.15 0 0 0 5.459-.94.5.5 0 0 1 .64.006c1.817 1.54 3.601 1.844 5.457.932a.5.5 0 0 1 .718.394 16.944 16.944 0 0 1-.344 4.965.5.5 0 1 1-.978-.211 16.952 16.952 0 0 0 .367-3.962 5.57 5.57 0 0 1-5.55-1.098A6.178 6.178 0 0 1 2.51 2.706c-.057 2.086.231 8.651 5.79 11.86a.5.5 0 0 1-.25.934z",
fill:"#196fa6"}),k("path",{d:"M12 15.5a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4zm0-7a3 3 0 1 0 3 3 3.003 3.003 0 0 0-3-3z",fill:"#196fa6"})))}}})})},"arcgis-components/Badges/Subscriber":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=821)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},821:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){var w=g.user;w=w?w.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"subscriber-badge",size:g.size,text:h.subscriber,title:h.tooltips["subscriber"+
w],tooltip:g.tooltip?h.tooltips["subscriber"+w]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{d:"M8.05371,15.5H8.0498a.49939.49939,0,0,1-.25-.06689C.59961,11.27539,1.542,2.0376,1.55225,1.94434A.49966.49966,0,0,1,1.811,1.56152a.50721.50721,0,0,1,.46338-.0083A5.15007,5.15007,0,0,0,7.73291.61328a.51762.51762,0,0,1,.6377,0,5.14642,5.14642,0,0,0,5.4585.93994.50711.50711,0,0,1,.46338.0083.49966.49966,0,0,1,.25879.38281c.01025.09326.95264,9.33105-6.24756,13.48877A.49939.49939,0,0,1,8.05371,15.5Zm0-.5h0ZM2.50977,2.70557c-.05615,2.05469.22266,8.45508,5.542,11.71387,5.31934-3.25879,5.59814-9.65967,5.542-11.71387a6.17691,6.17691,0,0,1-5.542-1.07324A6.18289,6.18289,0,0,1,2.50977,2.70557Z",
fill:"#196fa6"})))}}})})},"arcgis-components/Badges/PublicDataCollection":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=823)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=R},823:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#efe397",textColor:"#786d1c",key:"public-data-collection-badge",size:g.size,text:h.publicDataCollection,title:h.tooltips.publicDataCollection,tooltip:g.tooltip?h.tooltips.publicDataCollection:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#786d1c",d:"M15.721 4.007a.965.965 0 0 0-.03-1.385l-1.413-1.414a.965.965 0 0 0-1.385-.03L2.841 11.23l-1.756 4.097a.371.371 0 0 0 .488.487L5.67 14.06l8.607-8.609zM2.624 14.276l.554-1.294.74.74zm2.338-.924L3.55 11.937l8.007-8.008 1.414 1.415zm8.716-8.716l-1.414-1.414 1.09-1.09a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .434z"})))}}})})},"arcgis-components/Badges/Solution":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=822)}({130:function(n,t){n.exports=N},73:function(n,t){n.exports=
R},822:function(n,t,u){u.r(t);var h=u(73);n=u(130);var f=u.n(n);t["default"]=function(g,k){return k(f.a,{backgroundColor:"#e2deee",textColor:"#312b43",key:"solution-badge",size:g.size,text:h.solution,title:h.tooltips.solution,tooltip:g.tooltip?h.tooltips.solution:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},k("path",{fill:"#312b43",d:"M29.963 7.672a1.586 1.586 0 0 0-1.584-1.585h-5.274a.187.187 0 0 1-.188-.187V3.977A2 2 0 0 0 20.825 2h-9.672A2.095 2.095 0 0 0 9.06 4.093V5.9a.187.187 0 0 1-.187.187H3.598a1.586 1.586 0 0 0-1.584 1.585v4.016a.281.281 0 0 0 .281.28H4.9l.014-.013V9.153a.177.177 0 0 1 .177-.177h21.46a.456.456 0 0 1 .449.45v13.742A1.832 1.832 0 0 1 25.168 25h-8.892a.568.568 0 0 1-.534-.373 3.98 3.98 0 0 0-7.6.373H5.657a.757.757 0 0 1-.757-.757v-3.055A.188.188 0 0 0 4.714 21H2.028l-.014.014v4.58a2.35 2.35 0 0 0 2.347 2.346h4.161a3.963 3.963 0 0 0 6.8.256.569.569 0 0 1 .475-.256h12.065a2.102 2.102 0 0 0 2.101-2.101zM21 5.625a.375.375 0 0 1-.375.375h-9.25A.375.375 0 0 1 11 5.625V4.45a.456.456 0 0 1 .45-.45h9.1a.456.456 0 0 1 .45.45zM12 28a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}),
k("path",{"class":"cls-1",d:"M13.273 17.994a.57.57 0 0 1 .479.262A3.73 3.73 0 0 0 17 20a3.74 3.74 0 0 0 3.403-2.006h3.41a.188.188 0 0 0 .187-.188v-2.589a.187.187 0 0 0-.188-.188H20.8A3.8 3.8 0 0 0 17 12a4.058 4.058 0 0 0-3.69 2.647.568.568 0 0 1-.537.383H1.093a.094.094 0 0 0-.093.093V17.9a.094.094 0 0 0 .094.094zM17 13.9a2.1 2.1 0 1 1-2.1 2.1 2.1 2.1 0 0 1 2.1-2.1z"})))}}})})},"arcgis-components/ItemCards/MiniCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../../Badges/Retired ../../Buttons/SvgButton ../../Loaders/LoaderIcon ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution ../../Dropdowns/TextOptionDropdown".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){return function(c){function m(q){if(p[q])return p[q].exports;var y=p[q]={i:q,l:!1,exports:{}};return c[q].call(y.exports,y,y.exports,m),y.l=!0,y.exports}var p={};return m.m=c,m.c=p,m.d=function(q,y,B){m.o(q,y)||Object.defineProperty(q,y,{enumerable:!0,get:B})},m.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"});Object.defineProperty(q,"__esModule",{value:!0})},m.t=function(q,y){if((1&
y&&(q=m(q)),8&y)||4&y&&"object"==typeof q&&q&&q.__esModule)return q;var B=Object.create(null);if(m.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:q}),2&y&&"string"!=typeof q)for(var z in q)m.d(B,z,function(D){return q[D]}.bind(null,z));return B},m.n=function(q){var y=q&&q.__esModule?function(){return q["default"]}:function(){return q};return m.d(y,"a",y),y},m.o=function(q,y){return Object.prototype.hasOwnProperty.call(q,y)},m.p="",m(m.s=863)}({0:function(c,m,p){function q(G,H){function J(){this.constructor=
G}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");x(G,H);G.prototype=null===H?Object.create(H):(J.prototype=H.prototype,new J)}function y(G,H){var J={},M;for(M in G)Object.prototype.hasOwnProperty.call(G,M)&&0>H.indexOf(M)&&(J[M]=G[M]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(M=Object.getOwnPropertySymbols(G);K<M.length;K++)0>H.indexOf(M[K])&&Object.prototype.propertyIsEnumerable.call(G,M[K])&&
(J[M[K]]=G[M[K]])}return J}function B(G,H,J,M){var K,L=arguments.length,U=3>L?H:null===M?M=Object.getOwnPropertyDescriptor(H,J):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(G,H,J,M);else for(var ba=G.length-1;0<=ba;ba--)(K=G[ba])&&(U=(3>L?K(U):3<L?K(H,J,U):K(H,J))||U);return 3<L&&U&&Object.defineProperty(H,J,U),U}function z(G,H,J,M){return new (J||(J=Promise))(function(K,L){function U(aa){try{V(M.next(aa))}catch(ha){L(ha)}}function ba(aa){try{V(M["throw"](aa))}catch(ha){L(ha)}}
function V(aa){var ha;aa.done?K(aa.value):(ha=aa.value,ha instanceof J?ha:new J(function(ia){ia(ha)})).then(U,ba)}V((M=M.apply(G,H||[])).next())})}function D(G,H){function J(V){return function(aa){return function(ha){if(M)throw new TypeError("Generator is already executing.");for(;ba;)try{if(M=1,K&&(L=2&ha[0]?K["return"]:ha[0]?K["throw"]||((L=K["return"])&&L.call(K),0):K.next)&&!(L=L.call(K,ha[1])).done)return L;switch(K=0,L&&(ha=[2&ha[0],L.value]),ha[0]){case 0:case 1:L=ha;break;case 4:return ba.label++,
{value:ha[1],done:!1};case 5:ba.label++;K=ha[1];ha=[0];continue;case 7:ha=ba.ops.pop();ba.trys.pop();continue;default:if(!(L=ba.trys,(L=0<L.length&&L[L.length-1])||6!==ha[0]&&2!==ha[0])){ba=0;continue}if(3===ha[0]&&(!L||ha[1]>L[0]&&ha[1]<L[3]))ba.label=ha[1];else if(6===ha[0]&&ba.label<L[1])ba.label=L[1],L=ha;else if(L&&ba.label<L[2])ba.label=L[2],ba.ops.push(ha);else{L[2]&&ba.ops.pop();ba.trys.pop();continue}}ha=H.call(G,ba)}catch(ia){ha=[6,ia],K=0}finally{M=L=0}if(5&ha[0])throw ha[1];return{value:ha[0]?
ha[1]:void 0,done:!0}}([V,aa])}}var M,K,L,U,ba={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return U={next:J(0),"throw":J(1),"return":J(2)},"function"==typeof Symbol&&(U[Symbol.iterator]=function(){return this}),U}function F(G,H){for(var J=0,M=H.length,K=G.length;J<M;J++,K++)G[K]=H[J];return G}p.d(m,"d",function(){return q});p.d(m,"a",function(){return E});p.d(m,"f",function(){return y});p.d(m,"c",function(){return B});p.d(m,"b",function(){return z});p.d(m,"e",function(){return D});
p.d(m,"g",function(){return F});var x=function(G,H){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,M){J.__proto__=M}||function(J,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(J[K]=M[K])})(G,H)},E=function(){return(E=Object.assign||function(G){for(var H,J=1,M=arguments.length;J<M;J++)for(var K in H=arguments[J])Object.prototype.hasOwnProperty.call(H,K)&&(G[K]=H[K]);return G}).apply(this,arguments)};Object.create;Object.create},112:function(c,m){c.exports=
N},150:function(c,m){c.exports=n},151:function(c,m){c.exports=t},178:function(c,m){c.exports=u},18:function(c,m){c.exports=R},233:function(c,m){c.exports=h},239:function(c,m){c.exports=f},250:function(c,m){c.exports=g},274:function(c,m){c.exports=k},275:function(c,m){c.exports=w},276:function(c,m){c.exports=v},277:function(c,m){c.exports=C},278:function(c,m){c.exports=A},279:function(c,m){c.exports=r},280:function(c,m){c.exports=l},281:function(c,m){c.exports=d},282:function(c,m){c.exports=e},311:function(c,
m){c.exports=a},378:function(c,m){c.exports=b},600:function(c,m,p){function q(F){F.stopPropagation()}var y=p(0);c=p(18);var B=p(151),z=p(150),D=p(178);p=function(F){function x(){return null!==F&&F.apply(this,arguments)||this}return Object(y.d)(x,F),x.prototype.formatDate=function(E){return""+B.format(new Date(E),{selector:"date",formatLength:"short",locale:z.locale})},x.prototype.render=function(E){var G,H=this.props,J=H.active,M=H.classes,K=(H.handleShowItemDetails,H.item),L=H.iconUrl,U=H.userUrl,
ba=(H.portal,H.sortField);H=H.i18n;return G="numviews"===ba?H.viewCount+": "+D.format(K.numViews):"avgrating"===ba?H.rating+": "+K.avgRating.toFixed(2):"created"===ba?H.created+": "+this.formatDate(K.created):H.updated+": "+this.formatDate(K.modified),E("header",{classes:M},E("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-mc__thumbnail",style:"\n                        background-image: url("+this.props.thumbURI+");\n                    "}),
E("div",{"class":"card-mc__title-container"},E("button",{id:"item-"+K.id+"-card-title","class":"card-mc__title",title:J?H.hideItem:H.viewItem,tabindex:"0"},K.title),E("div",{"class":"card-mc__author-row"},E("img",{src:L,"class":"content-search-item-icon",title:K.displayName}),E("span",{"class":"card-mc__author-text"},H.by,E("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?H.viewOrg:H.viewProfile,href:this.props.organization?this.props.organization.orgUrl:
U,target:"_blank",onclick:q}," "+(this.props.organization?this.props.organization.name:K.owner)))),E("p",{"class":"card-mc__info"},G)))},x}(c.Component);m.a=p},601:function(c,m,p){c=p(378);var q=p.n(c);c=p(239);var y=p.n(c);c=p(250);var B=p.n(c);m.a=function(z,D){var F=z.selected,x=z.handleSelectionClick,E=z.handleIconActionClick,G=z.handleCustomActionClick,H=z.availableMiscActions,J=z.availableIconActions,M=z.loading,K=z.children,L=z.id,U=z.hideEllipses,ba=z.i18n,V=null;z.disableMainAction||(V=M?
D(B.a,null):D(y.a,{focusable:!0,handleClick:x,key:L+"-selection-btn",title:F?ba.remove:ba.add},D("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},D("g",{id:"16px",stroke:"none","stroke-width":"1"},D("g",null,D("g",null,D("polygon",F?{points:"3 7 12 7 12 8 3 8"}:{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),D("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));
F=J.map(function(aa){return D(y.a,{focusable:!0,handleClick:E,key:L+"-"+aa.text,title:aa.text,value:aa.value},D("div",{"class":"card-mc__custom-icon-container",innerHTML:aa.icon}))});return D("div",{id:"item-"+L+"-action-row","class":"content-search-item-action-row card-mc__action-row"},K,D("div",{key:"action-container","class":"card-mc__action-container"},D(y.a,{key:L+"-spacer"},D("svg",{height:"16px",width:"0px"})),V,F,0<H.length&&!U?D(q.a,{key:L+"-actions",options:H,onSelect:G,selectedOptionValue:void 0,
justify:"right"},D(y.a,{focusable:!1,key:L+"-action-btn",title:ba.actions},D("svg",{role:"img",width:"16px",height:"16px",style:"transform: translate(0, -2px);"},D("g",{stroke:"none","stroke-width":"1"},D("g",null,D("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))}},863:function(c,m,p){p.r(m);var q=p(0),y=p(112);c=p(18);var B=p(600),z=p(601),D=p(274),F=p.n(D);D=p(275);var x=p.n(D);D=p(276);var E=p.n(D);D=p(277);var G=p.n(D);D=p(278);var H=
p.n(D);D=p(279);var J=p.n(D);D=p(280);var M=p.n(D);D=p(281);var K=p.n(D);D=p(311);var L=p.n(D);D=p(282);var U=p.n(D);D=p(233);var ba=p.n(D);p=function(V){function aa(ha){ha=V.call(this,ha)||this;return ha.handleShowItemDetails=ha.handleShowItemDetails.bind(ha),ha.handleSelectionClick=ha.handleSelectionClick.bind(ha),ha.handleCustomActionClick=ha.handleCustomActionClick.bind(ha),ha.handleIconActionClick=ha.handleIconActionClick.bind(ha),ha}return Object(q.d)(aa,V),aa.prototype.render=function(ha){var ia=
this,ka=!!this.props.selectedItems[this.props.item.id],qa=!!this.props.loadingItems[this.props.item.id],Y=!(!this.props.activeItem||this.props.activeItem.id!==this.props.item.id),Q=this.props.customActions.filter(function(S){return S.allowed(ia.props.item)}).map(function(S){return{value:S.name,text:S.name,icon:S.icon}}),fa=Q.filter(function(S){return S.icon});Q=Q.filter(function(S){return!S.icon});return ha("section",{key:this.props.item.id,classes:{"card-mc__container":!0,"card-mc__container--selected":ka,
"card-mc__container--active":Y}},ha("div",{classes:{"card-mc__fader":!0,"card-mc__fader--loading":qa},onclick:this.handleShowItemDetails},ha(B.a,{active:Y,classes:{"card-mc__header":!0,"card-mc__header--constrained":!!this.props.constrained},handleShowItemDetails:this.handleShowItemDetails,i18n:y,iconUrl:this.props.item.iconURI,item:this.props.item,key:"mini-card-header",portal:this.props.portal,sortField:this.props.sortField,thumbURI:this.props.item.thumbURI,userUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+
this.props.item.owner,organization:this.props.organization}),ha(z.a,{selected:ka,handleSelectionClick:this.handleSelectionClick,loading:qa,id:this.props.item.id,i18n:y,availableMiscActions:Q,availableIconActions:fa,handleIconActionClick:this.handleIconActionClick,handleCustomActionClick:this.handleCustomActionClick,disableMainAction:this.props.disableMainAction,hideEllipses:this.props.hideEllipses},ha("div",{key:"badges"},this.renderBadges(ha)))))},aa.prototype.renderBadges=function(ha){var ia=this;
return this.props.item.badges.map(function(ka){switch(ka){case "authoritative":return ha(F.a,{size:"small",altOrg:ia.props.organization?ia.props.organization.name:void 0});case "deprecated":return ha(E.a,{size:"small"});case "collaboration":return ha(x.a,{size:"small"});case "livingAtlas":return ha(G.a,{size:"small"});case "marketplace":return ha(H.a,{size:"small"});case "openData":return ha(J.a,{size:"small"});case "premium":return ha(M.a,{size:"small",user:ia.props.portal.user});case "subscriber":return ha(K.a,
{size:"small",user:ia.props.portal.user});case "publicDataCollection":return ha(U.a,{size:"small"});case "solution":return ha(L.a,{size:"small"});case "retiredStoryMap":return ha(ba.a,{size:"small",isRetiredStoryMap:!0});case "retiredApp":return ha(ba.a,{size:"small"})}return null})},aa.prototype.handleShowItemDetails=function(ha){this.props.onShowItemDetails(this.props.item)},aa.prototype.handleSelectionClick=function(ha){ha.stopPropagation();this.props.onSelectionClick(this.props.item)},aa.prototype.handleIconActionClick=
function(ha){ha.stopPropagation();ha.target.value&&this.props.onCustomActionClick(ha.target.value,this.props.item)},aa.prototype.handleCustomActionClick=function(ha){this.props.onCustomActionClick(ha,this.props.item)},aa}(c.Component);m["default"]=p}})})},"arcgis-components/ItemCards/MiniCardRow/index":function(){define(["../../Component","dojo/i18n!../../ItemCards/nls/resources","../../Buttons/SvgButton","../../Loaders/LoaderIcon","../../Dropdowns/TextOptionDropdown"],function(R,N,n,t,u){return function(h){function f(k){if(g[k])return g[k].exports;
var w=g[k]={i:k,l:!1,exports:{}};return h[k].call(w.exports,w,w.exports,f),w.l=!0,w.exports}var g={};return f.m=h,f.c=g,f.d=function(k,w,v){f.o(k,w)||Object.defineProperty(k,w,{enumerable:!0,get:v})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,w){if((1&w&&(k=f(k)),8&w)||4&w&&"object"==typeof k&&k&&k.__esModule)return k;var v=Object.create(null);if(f.r(v),
Object.defineProperty(v,"default",{enumerable:!0,value:k}),2&w&&"string"!=typeof k)for(var C in k)f.d(v,C,function(A){return k[A]}.bind(null,C));return v},f.n=function(k){var w=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(w,"a",w),w},f.o=function(k,w){return Object.prototype.hasOwnProperty.call(k,w)},f.p="",f(f.s=864)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function w(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function v(e,a,b,c){var m,p=arguments.length,q=3>p?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(e,a,b,c);else for(var y=e.length-1;0<=y;y--)(m=e[y])&&(q=(3>p?m(q):3<p?m(a,b,q):m(a,b))||q);return 3<p&&q&&Object.defineProperty(a,b,q),q}function C(e,a,b,c){return new (b||(b=Promise))(function(m,p){function q(z){try{B(c.next(z))}catch(D){p(D)}}function y(z){try{B(c["throw"](z))}catch(D){p(D)}}function B(z){var D;z.done?m(z.value):(D=z.value,D instanceof b?D:new b(function(F){F(D)})).then(q,
y)}B((c=c.apply(e,a||[])).next())})}function A(e,a){function b(B){return function(z){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;y;)try{if(c=1,m&&(p=2&D[0]?m["return"]:D[0]?m["throw"]||((p=m["return"])&&p.call(m),0):m.next)&&!(p=p.call(m,D[1])).done)return p;switch(m=0,p&&(D=[2&D[0],p.value]),D[0]){case 0:case 1:p=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;m=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(p=
y.trys,(p=0<p.length&&p[p.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!p||D[1]>p[0]&&D[1]<p[3]))y.label=D[1];else if(6===D[0]&&y.label<p[1])y.label=p[1],p=D;else if(p&&y.label<p[2])y.label=p[2],y.ops.push(D);else{p[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(e,y)}catch(F){D=[6,F],m=0}finally{c=p=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,z])}}var c,m,p,q,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return w});g.d(f,"c",function(){return v});g.d(f,"b",function(){return C});g.d(f,"e",function(){return A});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},112:function(h,f){h.exports=N},18:function(h,f){h.exports=R},239:function(h,f){h.exports=n},250:function(h,f){h.exports=t},378:function(h,f){h.exports=u},864:function(h,
f,g){g.r(f);var k=g(0),w=g(112);h=g(18);var v=g(378),C=g.n(v);v=g(239);var A=g.n(v);v=g(250);var r=g.n(v);g=function(l){function d(e){e=l.call(this,e)||this;return e.handleShowItemDetails=e.handleShowItemDetails.bind(e),e.handleSelectionClick=e.handleSelectionClick.bind(e),e.handleIconActionClick=e.handleIconActionClick.bind(e),e.handleCustomActionClick=e.handleCustomActionClick.bind(e),e}return Object(k.d)(d,l),d.prototype.render=function(e){var a,b=this,c=!!this.props.selectedItems[this.props.item.id],
m=!!this.props.loadingItems[this.props.item.id],p=this.props.activeItem&&this.props.activeItem.id===this.props.item.id,q=this.props.customActions.filter(function(B){return B.allowed(b.props.item)}).map(function(B){return{value:B.name,text:B.name,icon:B.icon}}),y=q.filter(function(B){return!!B.icon});q=q.filter(function(B){return!B.icon});this.props.disableMainAction||(a=m?e(r.a,null):e(A.a,{focusable:!0,handleClick:this.handleSelectionClick,key:this.props.item.id+"-selection-btn",title:c?w.remove:
w.add},e("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},e("g",{stroke:"none","stroke-width":"1"},c?e("g",{id:"minus-circled-1px-16"},e("g",null,e("polygon",{points:"3 7 12 7 12 8 3 8"}),e("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"}))):e("g",{id:"plus-circled-1px-16"},e("g",null,
e("polygon",{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),e("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));m=y.map(function(B){return e(A.a,{focusable:!0,handleClick:b.handleIconActionClick,key:b.props.item.id+"-"+B.text,title:B.text,value:B.value},
e("div",{"class":"card-mcr__custom-icon-container",innerHTML:B.icon}))});return e("div",{key:this.props.item.id,classes:{"card-mcr__container":!0,"card-mcr__container--selected":c,"card-mcr__container--active":p},onclick:this.handleShowItemDetails},e("img",{src:this.props.item.iconURI,"class":"card-mcr__item-icon",title:this.props.item.displayName,alt:""}),e("button",{id:"item-"+this.props.item.id+"-card-title","class":"card-mcr__item-title",title:p?w.hideItem:w.viewItem,tabindex:"0"},this.props.item.title),
e("div",{"class":"card-mcr__spacer"}),e("div",{"class":"card-mcr__action-container"},a,m,0<q.length&&!this.props.hideEllipses?e(C.a,{key:this.props.item.id+"-actions",options:q,onSelect:this.handleCustomActionClick,selectedOptionValue:void 0,justify:"right"},e(A.a,{key:this.props.item.id+"-action-btn",focusable:!1,title:w.actions},e("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},e("g",{stroke:"none","stroke-width":"1"},e("g",{id:"ellipses-1px-16"},
e("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))},d.prototype.handleShowItemDetails=function(e){this.props.onShowItemDetails(this.props.item)},d.prototype.handleSelectionClick=function(e){e.stopPropagation();this.props.onSelectionClick(this.props.item)},d.prototype.handleIconActionClick=function(e){e.stopPropagation();e.target.value&&this.props.onCustomActionClick(e.target.value,this.props.item)},d.prototype.handleCustomActionClick=
function(e){this.props.onCustomActionClick(e,this.props.item)},d}(h.Component);f["default"]=g}})})},"arcgisonline/map/core/sameTilingScheme":function(){define([],function(){return function(R,N){for(var n=!1,t=!1,u=0;u<R.lods.length;u++){var h=R.lods[u].scale;R.dpi!==N.dpi&&(h=R.lods[u].scale/R.dpi);for(var f=0;f<N.lods.length;f++){var g=N.lods[f].scale;R.dpi!==N.dpi&&(g=N.lods[f].scale/N.dpi);if(.01>Math.abs(g-h)/g)if(n){t=!0;break}else n=!0;if(g<h)break}if(t)break}return t||n&&(1===R.lods.length||
1===N.lods.length)?!0:!1}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceSceneLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceSceneLayer.html dojo/i18n!../../../nls/arcgisonline dojo/string ../../utils/dom ../../../sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/map/core/sameSpatialReference arcgisonline/map/layer/getServiceInfo ./ReplaceLayer dojo/Deferred arcgisonline/esriGeowConfig".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=
n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.overlayContents=h["default"].substitute(t["default"],{i18n:this.i18n,icons:this.icons})}l.prototype.initUI=function(){var d,e;this.inherited(arguments);this.layerType=null!==(e=null===(d=this.item.serviceInfo.layers)||
void 0===d?void 0:d[0].layerType)&&void 0!==e?e:this.item.serviceInfo.layerType;this._showPreviewStylesTab=!1;f["default"].hideNodes(this._shownPreviewStylesContent)};l.prototype.createItemBrowser=function(){var d=this;this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:u["default"].replaceLayer.selectReplacementLayer,mainActionTitle:u["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent",
"myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(d.isCacheContent?'typekeywords:"ExtractedCache" -':"")+'typekeywords:"Hosted Service" NOT id:'+d.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}};this.inherited(arguments)};l.prototype.checkLayerCompatibility=function(){var d=this,e=new A["default"];if(this.isTile)this.inherited(arguments).then(function(){e.resolve()},
function(m){d.handleLayerSelectionError(m)});else{var a=this.isCacheContent,b=u["default"].replaceLayer.error,c=!0;v["default"](this._selectedReplacementItem.url,null,function(m){d._selectedReplacementItem.getRelatedItems(a?"DataStore2ByRefService":"Service2Service","reverse").then(function(p){var q;if(null===(q=d.item.serviceInfo.layers)||void 0===q?0:q[0]){q=w["default"](d.item.serviceInfo.layers[0].spatialReference,m.layers[0].spatialReference);var y=d.layerType===m.layers[0].layerType;p=0>=p.length;
a||p?q||y?q?a||y?c=!1:b=u["default"].replaceLayer.replaceSceneLayer.layerTypeError:b=u["default"].replaceLayer.differentCoordinateSystem:b=u["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError:b=u["default"].replaceLayer.replaceSceneLayer.sceneLayerPackageError;c?e.reject(Error(b)):e.resolve()}else e.resolve()})},function(m){d.handleLayerSelectionError(m)})}return e};l.prototype.checkForCompatibleStyles=function(d){d=this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");
f["default"].showNode(this._checkStylesSuccess);f["default"].hideNodes(this._checkStylesWarnings);f["default"].hideNode(this._checkStyles);this._primaryBtn.disabled=!1;d&&this._primaryBtn.focus()};l.prototype.handleHelp=function(){var d;window.open(""+r["default"].self.helpBase+((null===(d=r["default"].self.helpMap)||void 0===d?void 0:d.m["120001916"])||""))};l.prototype.replaceLayer=function(){var d={toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),
replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"};return g["default"].request({url:this.portal.portalUrl+"content/users/"+this.portal.user.username+"/replaceService",content:d},{usePost:!0})};return l=n.__decorate([k["default"](C["default"])],l)}()})},"arcgisonline/sharing/dijit/dialog/OverwriteFromCloud":function(){define("require exports tslib esri/Evented dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/Deferred ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dijit/_WidgetsInTemplateMixin dojo/_base/lang esri/lang arcgisonline/pages/portal/cloudProvider/BoxConnect arcgisonline/pages/portal/cloudProvider/DropBoxConnect arcgisonline/pages/portal/cloudProvider/GoogleConnect arcgisonline/pages/portal/cloudProvider/OneDriveConnect ../../../sharing/dijit/dialog/ConfirmDialog ./_CreateItemUtilMixin dojo/text!arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function p(){this.templateString=
m["default"]}p.prototype.postMixInProperties=function(){this.inherited(arguments);A["default"].mixin(this,{isBatch:this.items&&1<this.items.length});this.i18n=A["default"].mixin({},v["default"])};p.prototype.startup=function(q,y,B){var z;this.inherited(arguments);this.portal=q;this.cloudProviderInfo=y;this.originalItemToOverwrite=B;this.addItem=null;this.currentCloudProvider="";this.cloudConnect={googleConnect:null,dropBoxConnect:null,oneDriveConnect:null,boxConnect:null,none:null};this.cloudDriveText=
"";this.publishInfo=null;switch(null===(z=this.cloudProviderInfo)||void 0===z?void 0:z.cloudProvider){case "boxConnect":this.currentCloudProvider="boxConnect";this.cloudConnect[this.currentCloudProvider]=new l["default"];this.cloudDriveText="Box";break;case "dropBoxConnect":this.currentCloudProvider="dropBoxConnect";this.cloudConnect[this.currentCloudProvider]=new d["default"];this.cloudDriveText="Dropbox";break;case "oneDriveConnect":this.currentCloudProvider="oneDriveConnect";this.cloudConnect[this.currentCloudProvider]=
new a["default"];this.cloudDriveText="OneDrive";break;case "googleConnect":this.currentCloudProvider="googleConnect";this.cloudConnect[this.currentCloudProvider]=new e["default"];this.cloudDriveText="Google Drive";break;default:this.currentCloudProvider="none",this.cloudDriveText=v["default"].overwriteFromGeoJSON.sourceGeoJSON}return this.initUI()};p.prototype.showModal=function(){var q=this,y=new k["default"],B=v["default"].overwriteFromCloudDlg.overwriteCloudButton+this.cloudDriveText;"none"===
this.currentCloudProvider&&(B=v["default"].updateItemDlg.updateFeatures);this.dlg=new b["default"]({title:v["default"].overwriteFromCloudDlg.originalDialogTitle+this.cloudDriveText,style:{width:"500px",height:"auto"},buttonOkLabel:B});B="";var z=this.cloudProviderInfo.mimeType;switch(z){case "google-apps":case "googlesheets":B=v["default"].overwriteFromCloudDlg.cloudFileTypeGoogleSheets;this.cloudProviderInfo.mimeType="googlesheets";break;case "csv":B=v["default"].overwriteFromCloudDlg.cloudFileTypeCsv;
break;case "excel":case "spreadsheetml":B=v["default"].overwriteFromCloudDlg.cloudFileTypeExcel;break;case "shapeFile":B=v["default"].overwriteFromCloudDlg.cloudFileTypeShapefile;break;case "fgdb":B=v["default"].overwriteFromCloudDlg.cloudFileTypeFgdb;break;case "geojson":B=v["default"].overwriteFromCloudDlg.cloudFileTypeGeoJson;break;default:B=v["default"].overwriteFromCloudDlg.cloudFileTypeExcel}"none"===this.currentCloudProvider&&z.includes("geojson")?(B=r["default"].substitute({title:this.originalItemToOverwrite.title},
v["default"].overwriteFromGeoJSON.description),u["default"](".overwriteInfoNote",this.domNode).addClass("hide")):B=r["default"].substitute({title:this.originalItemToOverwrite.title,fileType:B,cloudDrive:this.cloudDriveText},v["default"].overwriteFromCloudDlg.overwriteInfoText);u["default"](".overwriteInfoText",this.domNode).attr("innerHTML",B);this.dlg.setContent(this.domNode);this.dlg.show();this.own(h["default"](this.dlg,"ok",function(){q.set("readOnly",!0);var D="";q.loaderHelper(!0,v["default"].overwriteFromCloudDlg.defaultLoading);
"none"!==q.currentCloudProvider?(q.cloudConnect[q.currentCloudProvider].GetTokenViaOauth("https://"+q.portal.portalHostname).then(function(F){D="googleConnect"===q.cloudProviderInfo.cloudProvider?["google-apps","googlesheets"].includes(z)?"https://www.googleapis.com/drive/v3/files/"+q.cloudProviderInfo.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://www.googleapis.com/drive/v3/files/"+q.cloudProviderInfo.id+
'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"dropBoxConnect"===q.cloudProviderInfo.cloudProvider?'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'","Dropbox-API-Arg":"{\\"path\\":\\"'+q.cloudProviderInfo.id+'\\"}"}':"oneDriveConnect"===q.cloudProviderInfo.cloudProvider?"https://graph.microsoft.com/v1.0/me/drive/items/"+q.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://api.box.com/2.0/files/"+
q.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}';q.overwriteItem(D)}),function(F){"popupBlocked"===F?q.showError(v["default"].overwriteFromCloudDlg.errors.popupIssue):"InvalidToken"===F||"windowClosed"===F?q.loaderHelper(!1,null):q.showError(F)}):q.overwriteItem(q.cloudProviderInfo.url)}));h["default"](this.dlg,"cancel",function(){q.set("readOnly",!0);q.onCancel()});return y};p.prototype.onCancel=function(){this.dlg&&this.dlg.destroyRecursive()};p.prototype.overwriteItem=
function(q){var y=this;this.loaderHelper(!0,v["default"].overwriteFromCloudDlg.addingItem);this.addExternalItem(q,this.originalItemToOverwrite.title,this.cloudProviderInfo.mimeType).then(function(){y.publishInfo={itemId:y.addItem.id,filetype:y.getNameForMimeType(y.cloudProviderInfo.mimeType,"publish")};y.getPublishParametersForOverwrite().then(function(B){y.publishInfo.item=y.addItem;y.publishInfo.publishParameters=B;y.publishInfo.overwrite=!0;y.publishInfo.deleteSourceItemUponCompletion=!0;y.loaderHelper(!0,
v["default"].overwriteFromCloudDlg.overwriting);y.publishExternalItem().then(function(z){y.updateTypeKeyword(z).then(function(){window.location.href="item.html?id\x3d"+z[0].serviceItemId+"\x26jobid\x3d"+z[0].jobId})})})});(function(B){y.showError(v["default"].overwriteFromCloudDlg.errors.addItemCheckStatusIssue,!0)})};p.prototype.initUI=function(){return new k["default"]};p.prototype.addExternalItem=function(q,y,B){var z=this,D=new k["default"];q={dataUrl:q,async:!0,type:this.getNameForMimeType(B,
"addItemType"),typeKeywords:this.getNameForMimeType(B,"addItemKeywords"),Title:y,filename:y};var F=this.portal;c["default"].addItem(q,this.originalItemToOverwrite.folderId,F).then(function(x){z.addItem=x;c["default"].checkStatus(z.addItem,D,null,F,function(E){D.resolve(E)})});(function(x){z.showError(x);D.reject(x)});return D};p.prototype.getPublishParametersForOverwrite=function(){var q=this,y=new k["default"];c["default"].getPublishParametersForOverwrite(this.originalItemToOverwrite,this.getNameForMimeType(this.cloudProviderInfo.mimeType,
"addItem")).then(function(B){y.resolve(B)});(function(B){q.showError(B);y.reject(B)});return y};p.prototype.publishExternalItem=function(){var q=this,y=new k["default"];c["default"].publishItem(this.publishInfo.item,this.publishInfo,this.portal).then(function(B){y.resolve(B.publishResult)});(function(B){q.showError(B);y.reject(B)});return y};p.prototype.getNameForMimeType=function(q,y){var B="";return B=-1!==y.indexOf("addItem")?-1!==q.indexOf("csv")?"CSV":-1!==q.indexOf("excel")?"Microsoft Excel":
-1!==q.indexOf("shapeFile")?"Shapefile":-1!==q.indexOf("fgdb")?"File Geodatabase":-1!==q.indexOf("geojson")?"GeoJson":-1!==q.indexOf("sheets")?"Microsoft Excel":"CSV":-1!==q.indexOf("csv")?"csv":-1!==q.indexOf("excel")?"excel":-1!==q.indexOf("shapeFile")?"shapefile":-1!==q.indexOf("fgdb")?"fileGeodatabase":-1!==q.indexOf("geojson")?"geojson":-1!==q.indexOf("sheets")?"excel":"csv"};p.prototype.updateTypeKeyword=function(q){var y=this,B=new k["default"],z=this.portal,D=this.originalItemToOverwrite.folderId,
F="Cloud Drive",x=JSON.parse(this.publishInfo.publishParameters);if("address"===x.locationType||x.layers[0]&&"address"===x.layers[0].locationType)F+=",showUnmatchedAddresses,Involved Lookup";else if("none"===x.locationType||x.layers[0]&&"none"===x.layers[0].locationType)F+=",Table";c["default"].updateItem({folderId:D,id:q[0].serviceItemId,typeKeywords:F},z).then(function(){B.resolve()});(function(E){y.showError(E);B.reject(E)});return B};p.prototype.showError=function(q,y){var B=this,z=A["default"].mixin(A["default"].mixin({},
v["default"].overwriteFromCloudDlg.errors.error),q);this._errorDlg=new b["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(z).then(function(){B.set("readOnly",!1);B._errorDlg.hide()});y||null!=this.addItem&&c["default"].deleteItem(this.addItem,this.portal);this.loaderHelper(!1,null);return!1};p.prototype.loaderHelper=function(q,y){var B=y?y:"Loading...";!0===q?(this.showHideDiv(".loader",!0),u["default"](".loader-text",this.domNode).attr("innerHTML",B),u["default"](".overwriteDialog",
this.domNode).style("opacity","0.5"),u["default"](".overwriteDialog",this.domNode).style("pointer-events","none"),this.dlg.okButton.set("disabled",!0),this.dlg.cancelButton.set("disabled",!0)):(u["default"](".loader-text",this.domNode).attr("innerHTML",B),this.showHideDiv(".loader",!1),u["default"](".overwriteDialog",this.domNode).style("opacity","1"),u["default"](".overwriteDialog",this.domNode).style("pointer-events","auto"),this.dlg.okButton.set("disabled",!1),this.dlg.cancelButton.set("disabled",
!1))};p.prototype.showHideDiv=function(q,y){!0===y?u["default"](q).removeClass("hide"):u["default"](q).addClass("hide")};return p=n.__decorate([w["default"](g["default"],f["default"],C["default"],t["default"])],p)}()})},"arcgisonline/pages/portal/cloudProvider/BoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(R,N,n,t,u,h,f,g){t=n.__importDefault(t);u=n.__importDefault(u);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(w){this.boxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(w){var v=this,C=new f["default"],A=w+"/home/cloudDriveOauth-callback2.html";this._oauthSignIn("https://account.box.com/api/oauth2/authorize?redirect_uri\x3d"+A+"\x26response_type\x3dcode\x26client_id\x3d"+t["default"].boxClientId+"\x26locale\x3d"+g["default"].locale,w).then(function(r){v._getTokenValue(r,
"code").then(function(l){v._makeExternalRequests("POST","https://api.box.com/oauth2/token","grant_type\x3dauthorization_code\x26code\x3d"+l+"\x26client_id\x3d"+t["default"].boxClientId+"\x26client_secret\x3d"+t["default"].boxClientSecret+"\x26redirect_uri\x3d"+A).then(function(d){v.boxToken=d.access_token;C.resolve(d.access_token)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(w){var v=this,C=new f["default"],A=null===w||void 0===w?void 0:w.searchText,
r=null===w||void 0===w?void 0:w.dropdownFilter;w=null===w||void 0===w?void 0:w.previousOrNext;var l="Bearer "+this.boxToken;w||(this.allPages=[]);var d="https://api.box.com/2.0/search?fields\x3did,name\x26type\x3dfile\x26limit\x3d10";d=A?d+("\x26query\x3d"+A):d+"\x26query\x3dcsv xls";d="all"!==r&&r?"csv"===r?d+"\x26file_extensions\x3dcsv":"excel"===r?d+"\x26file_extensions\x3dxls,xlsx":d+"\x26file_extensions\x3dcsv,xls,xlsx":d+"\x26file_extensions\x3dcsv,xls,xlsx";w&&"next"===w&&(d+="\x26offset\x3d"+
this.allPages[this.allPages.length-1].NextToken);w&&"previous"===w&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d+="\x26offset\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,l,"application/json").then(function(e){var a={files:[],next:e.total_count>e.limit+e.offset?!0:!1,previous:1<=v.allPages.length?!0:!1};v.allPages.push({Next:a.next,Previous:a.previous,NextToken:e.total_count>e.limit+e.offset?e.limit+
e.offset:!1});for(var b=0;b<e.entries.length;b++){var c=e.entries[b];a.files.push({id:c.id,name:c.name,mimeType:-1!==c.name.indexOf("csv")?"csv":"excel",downloadUrl:"https://api.box.com/2.0/files/"+c.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+v.boxToken+'"}'})}C.resolve(a)},function(e){C.reject(e)});return C};return k=n.__decorate([h["default"](u["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/CommonCloudProvider":function(){define("require exports tslib ../../../tsutils/declareDecorator dojo/Deferred dojo/Stateful".split(" "),
function(R,N,n,t,u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(g){}f.prototype.postscript=function(){};f.prototype._oauthSignIn=function(g,k){var w=new u["default"],v=k+"/home/cloudDriveOauth-callback.html?cloudUrl\x3d"+(g+"\x26currentSourceUrl\x3d"+(window.location.protocol+"//"+window.location.hostname)+"\x26portalHostName\x3d"+k),C=document.createElement("iframe");C.src=v;C.className="hide";document.body.appendChild(C);v=window.addEventListener?
"addEventListener":"attachEvent";(0,window[v])("attachEvent"===v?"onmessage":"message",function(A){A.origin===k&&("popupBlocked"!==A.data&&"windowClosed"!==A.data||w.reject(A.data),w.resolve(A.data))},!1);return w};f.prototype._getTokenValue=function(g,k){var w=new u["default"];k=k.replace(/[[]/,"[").replace(/[]]/,"]");var v=(new RegExp("[?\x26#]"+k+"\x3d([^\x26#]*)")).exec(g);null==v?w.reject("InvalidToken"):w.resolve(v[1]);return w};f.prototype._makeExternalRequests=function(g,k,w,v,C){var A=new u["default"],
r=new XMLHttpRequest;r.open(g,k,!1);v&&r.setRequestHeader("Authorization",v);C&&r.setRequestHeader("Content-type",C);w?r.send(w):r.send();g=JSON.parse(r.responseText);400<=r.status&&A.reject(JSON.parse(r.responseText));A.resolve(g);return A};return f=n.__decorate([t["default"](h["default"])],f)}()})},"arcgisonline/pages/portal/cloudProvider/DropBoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(R,N,n,t,u,h,f,g){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(w){this.dropBoxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(w){var v=this,C=new f["default"],A="dropbox"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://www.dropbox.com/oauth2/authorize?redirect_uri\x3d"+(w+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
t["default"].dropboxClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+A,w).then(function(r){v._getTokenValue(r,"state").then(function(l){A!==l&&C.reject("invalidState");v._getTokenValue(r,"access_token").then(function(d){v.dropBoxToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(w){var v=this,C=new f["default"],A=null===w||void 0===w?void 0:w.searchText,r=null===w||void 0===w?void 0:w.dropdownFilter,l=null===w||void 0===
w?void 0:w.previousOrNext;w="Bearer "+this.dropBoxToken;l||(this.allPages=[]);var d="";A=A?" "+A:"";var e=0;l&&"next"===l&&(e=this.allPages[this.allPages.length-1].NextToken);l&&"previous"===l&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e=this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());l="";"csv"===r?(l='{"path":"","query":"'+A+' csv","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="csv"):"excel"===r?(l='{"path":"","query":"'+A+' xls","mode": "filename_and_content","max_results":10,"start":'+
e+"}",d="excel"):"shapeFile"===r?(l='{"path":"","query":"'+A+' .zip","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="shapeFile"):"fgdb"===r?(l='{"path":"","query":"'+A+' .zip","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="fgdb"):"geoJson"===r?(l='{"path":"","query":"'+A+' .geojson","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="geojson"):(l='{"path":"","query":"'+A+' csv","mode": "filename_and_content","max_results":10,"start":'+e+"}",d=
"csv");this._makeExternalRequests("POST","https://api.dropboxapi.com/2/files/search",l,w,"application/json").then(function(a){var b={files:[],next:a.more?!0:!1,previous:1<=v.allPages.length?!0:!1};v.allPages.push({Next:b.next,Previous:b.previous,NextToken:a.more?a.start:null});for(var c=0;c<a.matches.length;c++){var m=a.matches[c];"file"===m.metadata[".tag"]&&b.files.push({id:m.metadata.id,name:m.metadata.name,mimeType:d,downloadUrl:'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+
v.dropBoxToken+'","Dropbox-API-Arg":"{\\"path\\":\\"'+m.metadata.id+'\\"}"}'})}C.resolve(b)},function(a){C.reject(a)});return C};return k=n.__decorate([h["default"](u["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/GoogleConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(R,N,n,t,u,h,f,g){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(w){this.googleToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(w){var v=this,C=new f["default"],A="google"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://accounts.google.com/o/oauth2/v2/auth?scope\x3dhttps://www.googleapis.com/auth/drive.readonly\x26redirect_uri\x3d"+(w+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+t["default"].googleClientId+
"\x26hl\x3d"+g["default"].locale+"\x26state\x3d"+A,w).then(function(r){v._getTokenValue(r,"state").then(function(l){A!==l&&C.reject("invalidState");v._getTokenValue(r,"access_token").then(function(d){v.googleToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(w){var v=this,C=new f["default"],A=null===w||void 0===w?void 0:w.searchText,r=null===w||void 0===w?void 0:w.dropdownFilter;w=null===w||void 0===w?void 0:w.previousOrNext;w||
(this.allPages=[]);var l="",d="https://www.googleapis.com/drive/v3/files?access_token\x3d"+this.googleToken+"\x26pageSize\x3d10\x26q\x3d";A&&(d+="name contains '"+A+"'and");"csv"===r?(d+='(mimeType\x3d"text/csv")',l="csv"):"excel"===r?(d+='(mimeType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"ormimeType\x3d"application/vnd.ms-excel")',l="excel"):"shapeFile"===r?(d+='(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',l="shapeFile"):"fgdb"===r?(d+=
'(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',l="fgdb"):"geoJson"===r?(d+='(name contains "json" or name contains "geojson")and(mimeType\x3d"application/octet-stream"ormimeType\x3d"application/json")',l="geojson"):"sheets"===r?(d+='(mimeType\x3d"application/vnd.google-apps.spreadsheet")',l="googlesheets"):(d+='(mimeType\x3d"text/csv")',l="csv");w&&"next"===w&&(d+="\x26pageToken\x3d"+this.allPages[this.allPages.length-1].NextToken);w&&"previous"===w&&2<=this.allPages.length&&
(this.allPages.pop(),1<this.allPages.length&&(d+="\x26pageToken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,null,"application/json").then(function(e){var a={files:[],next:e.nextPageToken?!0:!1,previous:1<=v.allPages.length?!0:!1};v.allPages.push({Next:a.next,Previous:a.previous,NextToken:e.nextPageToken?e.nextPageToken:null});for(var b=0;b<e.files.length;b++){var c=e.files[b];a.files.push({id:c.id,name:c.name,mimeType:l,downloadUrl:-1!==
c.mimeType.indexOf("google-apps")?"https://www.googleapis.com/drive/v3/files/"+c.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+v.googleToken+'"}':"https://www.googleapis.com/drive/v3/files/"+c.id+'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+v.googleToken+'"}'})}C.resolve(a)},function(e){C.reject(e)});return C};return k=n.__decorate([h["default"](u["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/OneDriveConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(R,N,n,t,u,h,f,g){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(w){this.oneDriveToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(w){var v=this,C=new f["default"],A="onedrive"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope\x3dfiles.read\x26redirect_uri\x3d"+(w+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
t["default"].oneDriveClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+A,w).then(function(r){v._getTokenValue(r,"state").then(function(l){A!==l&&C.reject("invalidState");v._getTokenValue(r,"access_token").then(function(d){v.oneDriveToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(w){var v=this,C=new f["default"],A=null===w||void 0===w?void 0:w.searchText,r=null===w||void 0===w?void 0:w.dropdownFilter;w=null===w||void 0===
w?void 0:w.previousOrNext;var l="Bearer "+this.oneDriveToken;w||(this.allPages=[]);var d="",e="https://graph.microsoft.com/v1.0/me/drive/root/search(q\x3d'";A&&(e+=A+" ");"csv"===r?(e+=".csv",d="csv"):"excel"===r?(e+=".xls",d="excel"):"shapeFile"===r?(e+=".zip",d="shapeFile"):"fgdb"===r?(e+=".zip",d="fgdb"):"geoJson"===r?(e+=".geojson .json",d="geojson"):(e+=".csv",d="csv");e+="')?select\x3dname,id,file\x26top\x3d10";w&&"next"===w&&(e+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-1].NextToken);
w&&"previous"===w&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,l,"application/json").then(function(a){var b={files:[],next:a["@odata.nextLink"]?!0:!1,previous:1<=v.allPages.length?!0:!1},c={Next:b.next,Previous:b.previous,NextToken:a["@odata.nextLink"]?v._getNextTokenFromUrl(a["@odata.nextLink"],"skiptoken"):null};v.allPages.push(c);for(c=
0;c<a.value.length;c++){var m=a.value[c];m.file&&("fgdb"!==d&&"shapeFile"!==d||"application/zip"===m.file.mimeType)&&b.files.push({id:m.id,name:m.name,mimeType:d,downloadUrl:"https://graph.microsoft.com/v1.0/me/drive/items/"+m.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+v.oneDriveToken+'"}'})}C.resolve(b)},function(a){C.reject(a)});return C};k.prototype._getNextTokenFromUrl=function(w,v){v=v.replace(/[[]/,"[").replace(/[]]/,"]");var C=(new RegExp("[?\x26#$]"+v+"\x3d([^\x26#]*)")).exec(w);
return null===C?"":C[1]};return k=n.__decorate([h["default"](u["default"])],k)}()})},"arcgisonline/pages/item/widgets/_metadata":function(){define("require exports tslib dojo/_base/lang dojo/Deferred esri/lang dojo/topic ../../../esriGeowConfig ../../../sharing/util ../../utils/arrays ../../statusUtil dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/utils/metadata".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);
g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return{_isLoading:!1,_gxeContext:null,_editor:null,_gxeAdaptor:null,_portalItemContext:null,_portalItemAdaptor:null,_formats:{formatDefault:"default",formatArcGIS:"arcgis",formatFGDC:"fgdc",formatINSPIRE:"inspire",formatISO19139:"iso19139",formatISO1913932:"iso19139-3.2",formatISO19115:"iso19115"},configureGeocoders:function(r,l){for(var d=r?t["default"].clone(r):[],e=0;e<d.length;e++){var a=
d[e];if(k["default"].isEsriWorldGeocoder(a)){a.suggest=!0;a.name=C["default"].common.esriWorldGeocoder;a.singleLineFieldName="SingleLine";h["default"].isDefined(a.placefinding)||(a.placefinding=!0);h["default"].isDefined(a.batch)||(a.batch=!0);break}}d=d.filter(function(b){return(null===b||void 0===b?void 0:b.placefinding)&&(null===b||void 0===b?void 0:b.singleLineFieldName)});0<d.length&&(l.arcgisGeocoder=!1,l.geocoders=d)},openLayerEditor:function(r,l){var d=this,e,a,b=new u["default"],c=k["default"].getToken(),
m=g["default"].self,p=0<(null===(e=m.metadataFormats)||void 0===e?void 0:e.length)?t["default"].clone(m.metadataFormats):null,q=(null===(a=m.helperServices)||void 0===a?0:a.geocode)?t["default"].clone(m.helperServices.geocode):[],y=w["default"].find(r.layers||[],function(B){return B.id.toString()===l.toString()});if(null===y||void 0===y?0:y.layerMetadataUrl)y.rawMetadataUrl=y.layerMetadataUrl.split("?")[0];else if(null===y||void 0===y?0:y.url)y.rawMetadataUrl=y.url.split("?")[0]+"/metadata";this._isLoading?
b.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require(["esri/dijit/metadata/context/GxeContext","esri/dijit/metadata/context/GxeAdaptor","esri/dijit/metadata/editor/EditorDialog","esri/dijit/metadata/editor/Editor","dojo/domReady!"],function(B,z,D){var F=C["default"].itemProperties.metadataISO1913932,x={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],arcgisMode:!0,defaultArcGISStyle:null,basemapUrl:null,basemap:null,getOriginalXml:void 0},
E={getAllowDeleteMetadata:function(){return!0},getAllowEditMetadata:function(){return!0},getOriginalXml:void 0,deleteMetadata:function(){var H=new u["default"];k["default"].request({url:y.rawMetadataUrl+"/update/",content:{metadata:"",metadataUploadFormat:"xml"}},{usePost:!0}).then(function(J){(null===J||void 0===J?0:J.statusUrl)?v["default"].checkAsyncJobStatus(J.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{deleted:!0});H.resolve()},function(){f["default"].publish("metadata/layerEditor/updated",
{deleted:!0});H.resolve()}):(H.resolve(),f["default"].publish("metadata/layerEditor/updated",{deleted:!0}))},function(J){return H.resolve()});return H},saveXml:function(H,J){var M=new u["default"];k["default"].request({url:y.rawMetadataUrl+"/update/",content:{metadata:J,metadataUploadFormat:"xml"}},{usePost:!0}).then(function(K){(null===K||void 0===K?0:K.statusUrl)?v["default"].checkAsyncJobStatus(K.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});M.resolve()},
function(){setTimeout(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});M.resolve()},3E3)}):(f["default"].publish("metadata/layerEditor/updated",{changed:!0}),M.resolve())},function(K){return M.resolve()});return M},viewHtml:function(){var H=c?"\x26token\x3d"+c:"",J=new u["default"];H="?format\x3ddefault\x26f\x3dhtml"+H;(null===y||void 0===y?0:y.rawMetadataUrl)?k["default"].openPage(y.rawMetadataUrl+H,!1):k["default"].openPage(y.url.split("?")[0]+"/metadata"+H,!1);J.resolve();
return J}},G=function(){d._editor=new D({title:y.name,gxeAdaptor:d._gxeAdaptor,gxeContext:d._gxeContext});d._editor.show();d._isLoading=!1;b.resolve(d._editor)};if(0<(null===p||void 0===p?void 0:p.length))switch(p[0]){case d._formats.formatFGDC:F=C["default"].itemProperties.metadataFGDC;break;case d._formats.formatINSPIRE:F=C["default"].itemProperties.metadataINSPIRE;break;case d._formats.formatISO19139:F=C["default"].itemProperties.metadataISO19139;break;case d._formats.formatISO19115:F=C["default"].itemProperties.metadataISO19115}x.defaultArcGISStyle=
F;g["default"].extentService?x.basemapUrl=g["default"].extentService:x.basemap="hybrid";d.configureGeocoders(q,x);d._gxeContext=new B(x);(null===y||void 0===y?0:y.hasMetadata)?A.retrieveArcGISXml(y.rawMetadataUrl).then(function(H){E.getOriginalXml=function(){return H};d._gxeAdaptor=new z(E);G()},function(H){E.getOriginalXml=function(){return null};d._gxeAdaptor=new z(E);G()}):(E.getOriginalXml=function(){return null},d._gxeAdaptor=new z(E),G())});(function(B){b.reject()})}),function(B){b.reject()});
return b},openEditor:function(r){var l=this,d,e,a=new u["default"],b=g["default"].self,c=0<(null===(d=b.metadataFormats)||void 0===d?void 0:d.length)?t["default"].clone(b.metadataFormats):null,m=(null===(e=b.helperServices)||void 0===e?0:e.geocode)?t["default"].clone(b.helperServices.geocode):[];this._isLoading?a.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require("esri/dijit/metadata/context/GxeContext esri/dijit/metadata/arcgis/portal/PortalItemContext esri/dijit/metadata/arcgis/portal/PortalItemAdaptor esri/dijit/metadata/editor/EditorDialog esri/dijit/metadata/editor/Editor dojo/domReady!".split(" "),
function(p,q,y,B){var z=C["default"].itemProperties.metadataISO1913932,D={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],defaultArcGISStyle:"",basemapUrl:"",basemap:""};if(0<(null===c||void 0===c?void 0:c.length)){var F=c[0];switch(F){case l._formats.formatFGDC:z=C["default"].itemProperties.metadataFGDC;break;case l._formats.formatINSPIRE:z=C["default"].itemProperties.metadataINSPIRE;break;case l._formats.formatISO19139:z=C["default"].itemProperties.metadataISO19139;break;case l._formats.formatISO19115:z=
C["default"].itemProperties.metadataISO19115}}D.defaultArcGISStyle=z;g["default"].extentService?D.basemapUrl=g["default"].extentService:D.basemap="hybrid";l.configureGeocoders(m,D);l._gxeContext=new p(D);l._portalItemContext=new q({isForPortalItemPage:!0,allowEditMetadata:!0,allowPushToItem:!0,autoPullItem:!0,portalItem:r,portal:b,restBaseUrl:g["default"].restBaseUrl,token:k["default"].getToken(),originalXml:null});l._portalItemAdaptor=new y({portalItemContext:l._portalItemContext,viewHtml:function(){var x=
new u["default"],E=r.itemUrl+"/info/metadata/metadata.xml",G=k["default"].getUser();k["default"].openPage(E+"?format\x3ddefault\x26output\x3dhtml"+((null===G||void 0===G?0:G.token)?"\x26token\x3d"+G.token:""),!1);x.resolve();return x}});w["default"].includes(r.typeKeywords,"Metadata")?l._portalItemAdaptor.readXml("text").then(function(x){l._portalItemContext.originalXml=A.cleanXml(x);l._editor=new B({title:r.title,gxeAdaptor:l._portalItemAdaptor,gxeContext:l._gxeContext});l._editor.show();l._isLoading=
!1;a.resolve(l._editor)}):(l._editor=new B({title:r.title,gxeAdaptor:l._portalItemAdaptor,gxeContext:l._gxeContext}),l._editor.show(),l._isLoading=!1,a.resolve(l._editor))});(function(p){a.reject()})}),function(p){a.reject()});return a}}})},"arcgisonline/pages/utils/metadata":function(){define("require exports tslib dojo/_base/Deferred ../../sharing/util esri/request dojo/i18n!../../nls/arcgisonline".split(" "),function(R,N,n,t,u,h,f){function g(b){var c;return b?"1.0"===(null===(c=b.querySelector("metadata \x3e Esri \x3e ArcGISFormat"))||
void 0===c?void 0:c.textContent):!1}function k(b){return"string"!==typeof b?null:null!==b?0===b.length?null:b.trim():b}function w(b){var c=document.createElement("textarea");c.innerHTML=b;return c.value}function v(b){var c=document.createElement("textarea");c.textContent=b;return c.innerHTML}function C(b,c){var m=b.querySelector(c);return w((null===m||void 0===m?void 0:m.innerHTML)||"")}function A(b,c,m){if(!g(b))return b;var p=b.querySelector("metadata");p=p.querySelector("dataIdInfo")||p.appendChild(b.createElement("dataIdInfo"));
var q=p.querySelector("idCitation")||p.appendChild(b.createElement("idCitation"));p=c===e.title?q:p;(p.querySelector(c)||p.appendChild(b.createElement(c))).textContent=w(m);return b}function r(b,c,m,p,q){var y=new t;q=(new XMLSerializer).serializeToString(c);p&&(q='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e'+q);u["default"].request({url:b,content:{metadataUploadFormat:"xml",metadata:q}},{usePost:!0}).then(function(B){return l(B.statusUrl,m)},function(B){return y.reject(B)}).then(function(B){return y.resolve(c)},
function(B){return y.reject(B)});return y}function l(b,c){var m=new t,p,q=0,y=setInterval(function(){q++;h["default"]({url:b,content:{token:c,f:"json"}}).then(function(B){p=((null===B||void 0===B?void 0:B.status)||"failed").toLowerCase();B=B||{status:"Failed"};if("completed"===p)clearInterval(y),m.resolve(B);else if("failed"===p||400<B.code)clearInterval(y),m.reject(B)},function(B){if("Invalid JSON primitive: ."!==(null===B||void 0===B?void 0:B.message)||10<q)clearInterval(y),m.reject(B)})},1E3);
return m}function d(b){return("0"+(b||0)).slice(-2)}Object.defineProperty(N,"__esModule",{value:!0});N.createLayerXML=N.updateLayerXML=N.updateLayerXMLProperty=N.parseEsriXML=N.setXMLTagValue=N.getXMLTagValue=N.encodeHTMLEntities=N.decodeHTMLEntities=N.cleanXml=N.isValidArcGISMetadata=N.retrieveArcGISXml=void 0;u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);N.retrieveArcGISXml=function(b,c){var m=new t,p=u["default"].getUser(),q=null===p||void 0===p?void 0:p.token,y={f:"xml"};
!c&&p&&(y.token=q);c&&c.token&&(y.token=c.token);h["default"]({url:b,content:y,handleAs:"text",preventCache:!0},{usePost:!0}).then(function(B){return m.resolve(k(B))},function(B){m.resolve(null)});return m};N.isValidArcGISMetadata=g;N.cleanXml=k;N.decodeHTMLEntities=w;N.encodeHTMLEntities=v;N.getXMLTagValue=C;N.setXMLTagValue=A;N.parseEsriXML=function(b){var c={};if(!b)return c;c=[].slice.call(b.querySelectorAll(e.keywords)).map(function(m){return m.textContent}).reduce(function(m,p){return m.concat(p.split(/\n/))},
[]);return{title:C(b,e.title),"abstract":C(b,e["abstract"]),summary:C(b,e.summary),credits:C(b,e.credits),use:C(b,e.use),keywords:c}};N.updateLayerXMLProperty=function(b){var c=b.url,m=b.token;b=A(b.xml,e[b.prop],v(b.value));return r(c,b,m)};N.updateLayerXML=r;N.createLayerXML=function(b){var c=b.url,m=b.portal,p=b.prop,q=b.layer,y=b.value;b=b.token;var B=new Date,z=B.getFullYear(),D=d(B.getMonth()+1),F=d(B.getDate()),x=d(B.getHours()),E=d(B.getMinutes());B=d(B.getSeconds());var G=(m=null===(G=null===
m||void 0===m?void 0:m.metadataFormats)||void 0===G?void 0:G[0])&&a[m]?"\x3cArcGISstyle\x3e"+a[m]+"\x3c/ArcGISstyle\x3e":"";q='\n    \x3cmetadata xml:lang\x3d"en"\x3e\n      \x3cEsri\x3e\n        \x3cCreaDate\x3e'+z+D+F+"\x3c/CreaDate\x3e\n        \x3cCreaTime\x3e"+x+E+B+"00\x3c/CreaTime\x3e\n        \x3cArcGISFormat\x3e1.0\x3c/ArcGISFormat\x3e\n        \x3cModDate\x3e"+z+D+F+"\x3c/ModDate\x3e\n        \x3cModTime\x3e"+x+E+B+"00\x3c/ModTime\x3e\n        "+G+"\n      \x3c/Esri\x3e\n      \x3cdataIdInfo\x3e\n        \x3cidCitation\x3e\n          \x3cresTitle\x3e"+
q.name+'\x3c/resTitle\x3e\n        \x3c/idCitation\x3e\n      \x3c/dataIdInfo\x3e\n      \x3cmdDateSt Sync\x3d"TRUE"\x3e'+z+D+F+"\x3c/mdDateSt\x3e\n    \x3c/metadata\x3e\n  ";q=(new DOMParser).parseFromString(q,"text/xml");q.querySelector("dataIdInfo").appendChild(q.createElement(e[p]));p=A(q,e[p],v(y));return r(c,p,b,!0)};var e;(function(b){b.title="resTitle";b["abstract"]="idAbs";b.summary="idPurp";b.credits="idCredit";b.use="resConst Consts useLimit";b.keywords="searchKeys keyword"})(e||(e={}));
var a={arcgis:f["default"].myOrganization.itemDetailsTab.formats.arcgis,fgdc:f["default"].myOrganization.itemDetailsTab.formats.fgdc,inspire:f["default"].myOrganization.itemDetailsTab.formats.inspire,iso19139:f["default"].myOrganization.itemDetailsTab.formats.iso19139,"iso19139-3.2":f["default"].myOrganization.itemDetailsTab.formats.iso1913932,iso19115:f["default"].myOrganization.itemDetailsTab.formats.iso19115}})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../utils/dom dojo/dom-construct dojo/topic dojo/string dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./httpsResultIssue.html dojo/text!./httpsResultUpdated.html dojo/text!./httpsResultUnchanged.html dojo/text!./httpsUpdate.html ../../../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.templateString=e["default"];this.WEB_SCENE="Web Scene"}b.prototype.postMixInProperties=
function(){this.inherited(arguments);this.i18n=A["default"]};b.prototype.startup=function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.isWebScene=this.item.type===this.WEB_SCENE;this.updateHttpsDesc.innerHTML=this.i18n.itemProperties[this.isWebScene?"updateSceneLayersToHTTPSDesc":"updateLayersToHTTPSDesc"];this.own(k["default"](this.okBtn,this.okClick.bind(this)),k["default"](this.doneBtn,this.doneClick.bind(this)),k["default"](this.cancelBtn,this.cancelClick.bind(this)),
k["default"](this.toggleIssues,this.issuesToggled.bind(this)),k["default"](this.toggleUpdated,this.updatedToggled.bind(this)),k["default"](this.toggleUnchanged,this.unchangedToggled.bind(this)))};b.prototype.filterForIssues=function(c){return c.filter(function(m){return"failure"===m.layerUrlChange||m.layerRenderingFailures||m.layerQueryUrlFailures||m.itemAccess&&("failure"===m.itemUrlChange||m.itemRenderingFailures||m.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(m){return("success"===
m.layerUrlChange||m.layerRenderingChanged||m.layerQueryUrlChanged)&&!m.layerRenderingFailures&&!m.layerQueryUrlFailures||m.itemAccess&&("success"===m.itemUrlChange||m.itemRenderingChanged||m.itemQueryUrlChanged)&&!m.itemRenderingFailures&&!m.itemQueryUrlFailures})};b.prototype.filterForUnchanged=function(c){return c.filter(function(m){return"none"===m.layerUrlChange&&!m.layerRenderingChanged&&!m.layerRenderingFailures&&!m.layerQueryUrlChanged&&!m.layerQueryUrlFailures&&(!m.itemAccess||m.itemAccess&&
"none"===m.itemUrlChange&&!m.itemRenderingChanged&&!m.itemRenderingFailures&&!m.itemQueryUrlChanged&&!m.itemQueryUrlFailures)})};b.prototype.writeOutIssues=function(c){var m=this;c.length?(this.issuesTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersWithIssues,{n:c.length}),h["default"].empty(this.issues),c.forEach(function(p){p.message="";if("failure"===p.layerUrlChange||p.layerQueryUrlFailures||p.itemQueryUrlFailures)p.message=m.i18n.itemProperties.layerMessages.httpsNotSupported;
else if(p.layerRenderingFailures||p.itemAccess&&p.itemRenderingFailures)p.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"sceneSymbolHttpsNotSupported":"symbolHttpsNotSupported"];h["default"].place(g["default"].substitute(r["default"],p),m.issues,"last")}),u["default"].showNode(this.layersWithIssues)):u["default"].hideNode(this.layersWithIssues)};b.prototype.writeOutUpdated=function(c){var m=this;c.length?(this.updatedTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersUpdated,
{n:c.length}),h["default"].empty(this.updated),c.forEach(function(p){p.message="";"success"===p.layerUrlChange||p.layerRenderingChanged||p.layerQueryUrlChanged?(p.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInScene":"updatedInMap"],p.itemAccess&&("success"===p.itemUrlChange||p.itemRenderingChanged||p.itemQueryUrlChanged)&&(p.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"])):p.itemAccess&&("success"===p.itemUrlChange||p.itemRenderingChanged||
p.itemQueryUrlChanged)?p.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"]:p.layerRenderingChanged&&(p.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInScene":"updatedInMap"]);h["default"].place(g["default"].substitute(l["default"],p),m.updated,"last")}),u["default"].showNode(this.layersUpdated)):u["default"].hideNode(this.layersUpdated)};b.prototype.writeOutUnchanged=function(c){var m=this;c.length?(this.unchangedTitle.innerHTML=
g["default"].substitute(this.i18n.itemProperties.layersUnchanged,{n:c.length}),h["default"].empty(this.unchanged),c.forEach(function(p){p.message="";h["default"].place(g["default"].substitute(d["default"],p),m.unchanged,"last")}),u["default"].showNode(this.layersUnchanged)):u["default"].hideNode(this.layersUnchanged)};b.prototype.okClick=function(){var c=this;u["default"].hideNode(this.updateHttpsDesc);u["default"].showNode(this.updateHttpsLoading);u["default"].disableNode(this.okBtn,!0);t["default"].switchToHTTPS(this.item.itemData,
this.item).then(function(m){var p=c.filterForIssues(m.layers),q=c.filterForUpdated(m.layers),y=c.filterForUnchanged(m.layers);u["default"].hideNode(c.updateHttpsLoading);C["default"].isDefined(m.configChange)&&"failure"===m.configChange?u["default"].showNode(c.unexpectedError):(c.writeOutIssues(p),c.writeOutUpdated(q),c.writeOutUnchanged(y),p.length?c.issuesToggled():q.length?c.updatedToggled():y.length&&c.unchangedToggled(),p.length||q.length||!y.length?u["default"].showNode(c.updateHttpsResults):
u["default"].showNode(c.noChangesMade));u["default"].hideNode(c.okBtn);u["default"].hideNode(c.cancelBtn);u["default"].showNode(c.doneBtn);f["default"].publish("item-data/change")},function(m){u["default"].hideNode(c.updateHttpsLoading);u["default"].showNode(c.unexpectedError);u["default"].hideNode(c.okBtn);u["default"].hideNode(c.cancelBtn);u["default"].showNode(c.doneBtn)})};b.prototype.cancelClick=function(){f["default"].publish("update-to-https/cancel")};b.prototype.doneClick=function(){f["default"].publish("update-to-https/done")};
b.prototype.toggleSection=function(c,m){u["default"].showHide(m,c.classList.contains("icon-ui-right"));c.classList.toggle("icon-ui-right");c.classList.toggle("icon-ui-down")};b.prototype.issuesToggled=function(){this.toggleSection(this.toggleIssues,this.issues)};b.prototype.updatedToggled=function(){this.toggleSection(this.toggleUpdated,this.updated)};b.prototype.unchangedToggled=function(){this.toggleSection(this.toggleUnchanged,this.unchanged)};return b=n.__decorate([a["default"](w["default"],v["default"])],
b)}()})},"arcgisonline/map/core/urlUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/dom dojo/dom-construct dojo/json dojo/Deferred dojo/DeferredList esri/request esri/lang esri/layers/VectorTileLayer esri/layers/CSVLayer esri/layers/KMLLayer esri/layers/GeoRSSLayer esri/layers/WebTiledLayer esri/layers/WMSLayer esri/layers/WFSLayer esri/layers/WMTSLayer".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){function b(W,ca){var T=new f;W._ssl&&delete W._ssl;var P=
esriGeowConfig.restBaseUrl+"content/users/"+ca.owner;P+=ca.ownerFolder?"/"+ca.ownerFolder:"";P+="/items/"+ca.id+"/update";var X={text:h.stringify(W),f:"json"},da={usePost:!0};"http:"===window.location.protocol&&-1<P.indexOf("https://")&&(da.useProxy=!0);k({url:P,content:X,load:function(ea){T.resolve()},error:function(ea){T.reject(ea)}},da);return T}function c(W){var ca=W.configLayer,T=W.from,P=W.to,X=W.type,da=W.checkRenderer,ea=new f;switch(ca.layerType||ca.type){case "ArcGISFeatureLayer":case void 0:if(ca.url)return m(W);
if(da)return p(W);ea.resolve({type:"notTested",msg:"No URL"});break;case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":return m(W);case "VectorTileLayer":return q(W);case "CSV":return y(W);case "GeoRSS":return B(W);case "KML":return z(W);case "WebTiledLayer":return ca.wmtsInfo?
D(W):F(W);case "WFS":return x(W);case "WMS":return E(W);case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":da={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",layerId:ca.id,type:"layer"},ca.portalUrl&&(T=ca.portalUrl.replace(T,P),T!==ca.portalUrl?(ca.portalUrl=T,N.mixin(da,{msg:"Portal URL switched to "+P+".",code:"layer_001"})):N.mixin(da,{msg:"Portal URL is already "+P+".",code:"layer_002"})),ea.resolve(da);case "OpenStreetMap":da={url:"",origUrl:"",msg:"Layer has no URL.",
code:"layer_003",layerId:ca.id,type:"layer"},ea.resolve(da);default:if("table"===X)return m(W);ea.resolve({type:"notTested",msg:"Unknown type"})}return ea}function m(W){var ca=W.configLayer,T=W.from,P=W.to,X=W.checkRenderer,da=new f,ea=ca.url,ja=ca.url.replace(T,P),la={url:ea,origUrl:ea,layerId:ca.id,type:"layer"};if(ea===ja)return N.mixin(la,{url:ja,msg:"Layer URL is already "+P+".",code:"layer_002"}),X?G(ca,W,la).then(function(sa){J(ca,sa).then(function(va){ba(W,va).then(function(za){da.resolve(za)})})}):
G(ca,W,la).then(function(sa){ba(W,sa).then(function(va){da.resolve(va)})}),da;if("http://"===T&&"https://"===P&&-1===ea.indexOf("sampleserver")&&(-1<ea.indexOf(".arcgis.com")||-1<ea.indexOf(".arcgisonline.com")))return ca.url=ja,N.mixin(la,{url:ja,msg:"Layer URL switched to "+P+".",code:"layer_001"}),X?G(ca,W,la).then(function(sa){J(ca,sa).then(function(va){ba(W,va).then(function(za){da.resolve(za)})})}):G(ca,W,la).then(function(sa){ba(W,sa).then(function(va){da.resolve(va)})}),da;var ma=1,oa=setInterval(function(){esri.id.isBusy()&&
3>ma?ma++:(esri.id.isBusy()&&esri.id.dialog.destroy(),N.mixin(la,{msg:"Timeout",code:"layer_021"}),G(ca,W,la).then(function(sa){ba(W,sa).then(function(va){da.reject(va)})}),clearInterval(oa),delete oa)},2E4);T=ja+(-1<ja.indexOf("?")?"\x26f\x3djson":"?f\x3djson");k({url:T,callbackParamName:"callback",load:function(sa,va){oa&&(clearTimeout(oa),ca.url=ja,N.mixin(la,{url:ja,msg:"Layer URL switched to "+P+".",code:"layer_001"}),X?G(ca,W,la).then(function(za){J(ca,za).then(function(Aa){ba(W,Aa).then(function(Ba){da.resolve(Ba)})})}):
G(ca,W,la).then(function(za){ba(W,za).then(function(Aa){da.resolve(Aa)})}))},error:function(sa){oa&&(clearTimeout(oa),esri.id.isBusy()?sa&&sa.message&&-1<sa.message.toLowerCase().indexOf("aborted")?(N.mixin(la,{msg:"Aborted the Sign-In process.",code:"layer_012"}),G(ca,W,la).then(function(va){ba(W,va).then(function(za){da.reject(za)})})):(N.mixin(la,{msg:sa.message,code:"layer_010"}),G(ca,W,la).then(function(va){ba(W,va).then(function(za){da.reject(za)})})):(N.mixin(la,{msg:sa.message,code:"layer_010"}),
G(ca,W,la).then(function(va){ba(W,va).then(function(za){da.reject(za)})})))}});return da}function p(W){var ca=W.configLayer,T=new f,P={url:"",origUrl:"",layerId:ca.id,msg:"Layer has no URL.",code:"layer_003",type:"layer",renderers:[],symbols:[]};if(ca.featureCollection)if(ca.featureCollection.layers){var X=[];R.forEach(ca.featureCollection.layers,function(da,ea){if(da.layerDefinition&&da.layerDefinition.drawingInfo&&da.layerDefinition.drawingInfo.renderer){var ja=new f;K(ca,da.layerDefinition.drawingInfo.renderer).then(N.hitch(this,
function(la,ma){ca.featureCollection.layers[la].layerDefinition.drawingInfo.renderer=ma.renderer;ja.resolve(ma)},ea));X.push(ja)}da.featureSet&&da.featureSet.features&&da.featureSet.features.length&&da.featureSet.features[0].symbol&&R.forEach(da.featureSet.features,function(la){var ma=new f;L(ca,la.symbol).then(N.hitch(this,function(oa,sa){P.symbols=[sa];ma.resolve(P)},ea));X.push(ma)})});X.length?(new g(X)).addCallback(function(da){var ea=[],ja=[];R.forEach(da,function(la){"renderer"===la[1].type?
ea.push(la[1]):"symbol"===la[1].type&&ja.push(la[1])});N.mixin(P,{renderers:ea.length?ea:[],symbols:ja.length?ja:[]});ba(W,P).then(function(la){T.resolve(la)})}):ba(W,P).then(function(da){T.resolve(da)})}else ba(W,P).then(function(da){T.resolve(da)});else ba(W,P).then(function(da){T.resolve(da)});return T}function q(W){var ca=W.configLayer,T=W.from,P=W.to,X=new f,da=ca.styleUrl;if(!ca.styleUrl&&ca.itemId){var ea=esriGeowConfig.restBaseUrl+"content/items/"+ca.itemId+"/resources";if(!esriGeowConfig.self.isPortal){var ja=
ea.indexOf("://"),la=ea.indexOf("/",ja+3);ea=ea.substring(0,ja+3)+esriGeowConfig.self.portalHostname+ea.substring(la)}ca.styleUrl=ea+"/styles/root.json"}var ma=ca.styleUrl.replace(T,P);T=new v(ma);n.connect(T,"onLoad",N.hitch(this,function(){var oa={url:ma,origUrl:da,layerId:ca.id,type:"layer"};ca.styleUrl===ma?N.mixin(oa,{msg:"Layer URL is already "+P+".",code:"layer_002"}):(ca.styleUrl=ma,N.mixin(oa,{msg:"Layer URL switched to "+P+".",code:"layer_001"}));ba(W,oa).then(function(sa){X.resolve(sa)})}));
n.connect(T,"onError",N.hitch(this,function(oa){ba(W,{url:ca.styleUrl,origUrl:ca.styleUrl,layerId:ca.id,msg:oa.message,code:"layer_010",type:"layer"}).then(function(sa){X.reject(sa)})}));return X}function y(W){var ca=W.configLayer,T=W.from,P=W.to,X=W.checkRenderer,da=new f,ea=ca.url.replace(T,P),ja=ca.url;if(ja===ea)return W={url:ea,origUrl:ja,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},X?J(ca,W).then(function(la){da.resolve(la)}):da.resolve(W),da;W=new C(ea,{columnDelimiter:ca.columnDelimiter,
latitudeFieldName:ca.locationInfo.latitudeFieldName,longitudeFieldName:ca.locationInfo.longitudeFieldName});n.connect(W,"onLoad",N.hitch(this,function(){ca.url=ea;var la={url:ea,origUrl:ja,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};X?J(ca,la).then(function(ma){da.resolve(ma)}):da.resolve(la)}));n.connect(W,"onError",N.hitch(this,function(la){da.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:la.message,code:"layer_010",type:"layer"})}));return da}function B(W){var ca=
W.configLayer,T=W.from,P=W.to,X=W.checkRenderer,da=new f,ea=ca.url.replace(T,P),ja=ca.url;if(ja===ea){var la={url:ea,origUrl:ja,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"};X&&ca.pointSymbol?L(ca,ca.pointSymbol).then(function(ma){la.symbols=[ma];da.resolve(la)}):da.resolve(la);return da}W=new r(ea);n.connect(W,"onLoad",N.hitch(this,function(){ca.url=ea;var ma={url:ea,origUrl:ja,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};X&&ca.pointSymbol?
L(ca,ca.pointSymbol).then(function(oa){ma.symbols=[oa];da.resolve(ma)}):da.resolve(ma)}));n.connect(W,"onError",N.hitch(this,function(ma){da.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:ma.message,code:"layer_010",type:"layer"})}));return da}function z(W){var ca=W.configLayer,T=W.from,P=W.to,X=new f,da=ca.url.replace(T,P),ea=ca.url;if(ea===da)return X.resolve({url:da,origUrl:ea,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),X;T=da;P=arcgisonline.sharing.util.getUser();
var ja=esriGeowConfig.self.urlKey?esriGeowConfig.self.customBaseUrl:esriGeowConfig.self.portalHostname,la=T.indexOf(ja);P&&ca.itemId&&-1<la&&(T="https://"+esriGeowConfig.self.portalHostname+T.substring(la+ja.length));P&&(-1<T.indexOf(esriGeowConfig.self.portalHostname)||-1<T.indexOf(ja))&&(P=arcgisonline.sharing.util.getToken())&&(T+="?token\x3d"+P);T=new A(T);n.connect(T,"onLoad",N.hitch(this,function(){ca.url=da;var ma={url:da,origUrl:ea,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",
type:"layer"};ca.itemId?(W.checkRenderer=!1,ba(W,ma).then(function(oa){X.resolve(oa)})):X.resolve(ma)}));n.connect(T,"onError",N.hitch(this,function(ma){X.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:ma.message,code:"layer_010",type:"layer"})}));return X}function D(W){var ca=W.configLayer,T=W.from;W=W.to;var P=new f,X={};ca.wmtsInfo.customParameters&&(X.customParameters=ca.wmtsInfo.customParameters);ca.wmtsInfo.customLayerParameters&&(X.customLayerParameters=ca.wmtsInfo.customLayerParameters);
var da=ca.wmtsInfo.url.replace(T,W),ea=ca.wmtsInfo.url;if(ea===da)return P.resolve({url:da,origUrl:ea,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ja=function(){var oa=!1;R.forEach(layerObj.layers,function(sa){sa.identifier===ca.wmtsInfo.layerIdentifier&&R.forEach(sa.tileMatrixSetInfos,function(va){if(va.tileMatrixSet===ca.wmtsInfo.tileMatrixSet){oa=!0;layerObj.copyright&&"none"!==layerObj.copyright.toLowerCase()&&(ca.copyright=layerObj.copyright,180<layerObj.copyright.length&&
(ca.copyright=layerObj.copyright.substring(0,180)+"..."));var za=-1<R.indexOf(sa.formats,"image/png")?"image/png":sa.formats[0];ca.templateUrl=layerObj.getTileUrlTemplate({identifier:sa.identifier,tileMatrixSet:va.tileMatrixSet,format:za});-1<ca.templateUrl.indexOf("http://")&&S(da,ca.templateUrl)&&(ca.templateUrl=ca.templateUrl.replace("http://","https://"));-1<ca.templateUrl.indexOf("http://")?P.reject({url:ca.wmtsInfo.url,origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:"WTMS does not return https URLs.",
code:"layer_013",type:"layer"}):(ca.wmtsInfo.url=da,P.resolve({url:da,origUrl:ea,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))}})});oa||P.reject({url:ca.wmtsInfo.url,origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:"WMTS is missing layer or tileMatrixSet.",code:"wmts_011",type:"layer"})};layerObj=new a(da,X);var la=n.connect(layerObj,"onError",function(oa){n.disconnect(la);n.disconnect(ma);X.serviceMode="KVP";layerObj=new a(da,X);n.connect(layerObj,"onError",function(sa){P.reject({url:ca.wmtsInfo.url,
origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:sa.message,code:"layer_010",type:"layer"})});n.connect(layerObj,"onLoad",N.hitch(this,function(){ja()}))}),ma=n.connect(layerObj,"onLoad",N.hitch(this,function(){n.disconnect(la);n.disconnect(ma);ja()}));return P}function F(W){var ca=W.configLayer,T=W.from;W=W.to;var P=new f,X=ca.templateUrl.replace(T,W),da=ca.templateUrl;if(da===X)return P.resolve({url:X,origUrl:da,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ea=setTimeout(N.hitch(this,
function(){clearTimeout(ea);ea=null;P.reject({url:ca.templateUrl,origUrl:ca.templateUrl,layerId:ca.id,msg:"WebTiledLayer timeout error.",code:"WTL_012",type:"layer"})}),1E4);T=X;ca.subDomains&&ca.subDomains.length&&(T=T.replace("{subDomain}",ca.subDomains[0]));T=T.replace("{level}",0).replace("{row}",0).replace("{col}",0);k({url:T,load:function(ja,la){ea&&(clearTimeout(ea),ca.templateUrl=X,P.resolve({url:X,origUrl:da,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))},
error:function(ja){ea&&(clearTimeout(ea),P.reject({url:ca.templateUrl,origUrl:ca.templateUrl,layerId:ca.id,msg:"WebTiledLayer access error.",code:"WTL_011",type:"layer"}))}});return P}function x(W){var ca=W.config.spatialReference,T=W.configLayer,P=W.from,X=W.to,da=W.checkRenderer,ea=new f,ja=T.url.replace(P,X),la=T.url;if(la===ja)return W={url:ja,origUrl:la,layerId:T.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},da?J(T,W).then(function(sa){ea.resolve(sa)}):ea.resolve(W),ea;
var ma=new e;n.connect(ma,"onError",N.hitch(this,function(sa){ea.reject({url:T.url,origUrl:T.url,layerId:T.id,msg:sa.message,code:"layer_010",type:"layer"})}));var oa={url:ja,version:T.wfsInfo.version,customParameters:T.wfsInfo.customParameters};ma.initialize(oa,function(sa){for(var va,za=0;za<sa.length;za++)if(sa[za].name===T.wfsInfo.name){va=sa[za];break}va?(oa={layerName:T.wfsInfo.name,visible:T.defaultVisibility,maxFeatures:T.wfsInfo.maxFeatures?T.wfsInfo.maxFeatures:3E3,swapXY:T.wfsInfo.swapXY,
geometryType:T.layerDefinition?T.layerDefinition.geometryType:null,wkid:T.layerDefinition?T.layerDefinition.spatialReference.wkid:T.wfsInfo.supportedSpatialReferences?T.wfsInfo.supportedSpatialReferences[0]:4326,mode:"snapshot"},ma.selectLayer(oa,function(Aa){T.wfsInfo.wfsNamespace=ma.layerNamespace;T.wfsInfo.featureUrl=ma.getFeatureUrl;-1<T.wfsInfo.wfsNamespace.indexOf("http://")||-1<T.wfsInfo.featureUrl.indexOf("http://")?ea.reject({url:T.url,origUrl:T.url,layerId:T.id,msg:"WFS does not return https URLs.",
code:"WFS_012",type:"layer"}):(T.wfsInfo.supportedSpatialReferences=va.spatialReferences,-1===R.indexOf([3857,102100],ca.wkid)&&4326!==ca.wkid&&-1===R.indexOf(ma.spatialReferences,ca.wkid)?ea.reject({url:T.url,origUrl:T.url,layerId:T.id,msg:"WFS does not contain map spatial reference.",code:"WFS_013",type:"layer"}):(T.url=ja,Aa={url:ja,origUrl:la,layerId:T.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"},da?J(T,Aa).then(function(Ba){ea.resolve(Ba)}):ea.resolve(Aa)))})):ea.reject({url:T.url,
origUrl:T.url,layerId:T.id,msg:"WFS does not contain layer.",code:"WFS_011",type:"layer"})});return ea}function E(W){var ca=W.configLayer,T=W.from;W=W.to;var P=new f,X=ca.url.replace(T,W),da=ca.url;if(da===X)return P.resolve({url:X,origUrl:da,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ea=new d(X,{visibleLayers:ca.visibleLayers,customLayerParameters:ca.customLayerParameters,customParameters:ca.customParameters});n.connect(ea,"onLoad",N.hitch(this,function(){-1<
ea.getMapURL.indexOf("http://")&&S(X,ea.getMapURL)&&(ea.getMapURL=ea.getMapURL.replace("http://","https://"));-1<ea.getFeatureInfoURL.indexOf("http://")&&S(X,ea.getFeatureInfoURL)&&(ea.getFeatureInfoURL=ea.getFeatureInfoURL.replace("http://","https://"));-1<ea.copyright.indexOf("http://")&&S(X,ea.copyright)&&(ea.copyright=ea.copyright.replace("http://","https://"));if(-1<ea.getMapURL.indexOf("http://")||-1<ea.getFeatureInfoURL.indexOf("http://"))P.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return https URLs.",
code:"WMS_011",type:"layer"});else if(-1<ea.getMapURL.indexOf("https://localhost/")||-1<ea.getFeatureInfoURL.indexOf("https://localhost/"))P.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return valid https URLs.",code:"WMS_012",type:"layer"});else{for(var ja=[],la=0;la<ca.layers.length;la++){var ma=N.clone(ca.layers[la]),oa=function(Aa,Ba){R.forEach(Aa,function(Oa){Oa.subLayers&&0<Oa.subLayers.length?oa(Oa.subLayers,Ba):Ba.push(Oa)},this)};if(ea.layerInfos){var sa=[];oa(ea.layerInfos,
sa);ea.layerInfos=sa}sa=!1;for(var va=0;va<ea.layerInfos.length;va++){var za=ea.layerInfos[va];if(ma.name===za.name)if(sa=!0,ma.legendURL&&za.legendURL){if(ma.legendURL=za.legendURL,-1<ma.legendURL.indexOf("http://")&&S(X,ma.legendURL)&&(ma.legendURL=ma.legendURL.replace("http://","https://")),-1<ma.legendURL.indexOf("http://")){P.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});return}}else ma.legendURL=za.legendURL}if(!sa){P.reject({url:ca.url,
origUrl:ca.url,layerId:ca.id,msg:"WMS layer is missing.",code:"WMS_013",type:"layer"});return}ja.push(ma)}ca.url=X;ca.mapUrl=ea.getMapURL;ca.featureInfoUrl=ea.getFeatureInfoURL;ca.copyright=ea.copyright;ca.layers=ja;P.resolve({url:X,origUrl:da,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"})}}));n.connect(ea,"onError",N.hitch(this,function(ja){P.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:ja.message,code:"layer_010",type:"layer"})}));return P}function G(W,ca,
T){var P=new f,X=[];W.layers&&R.forEach(W.layers,function(ea,ja){if(ea.layerUrl){var la=new f;m({configLayer:{url:ea.layerUrl,id:W.id+"_"+ja},from:ca.from,to:ca.to,checkRenderer:!1}).then(N.hitch(this,function(ma,oa){ma.layerUrl=oa.url;la.resolve(oa)},ea),function(ma){la.resolve(ma)});X.push(la)}});if(X.length){var da=[];(new g(X)).addCallback(function(ea){R.forEach(ea,function(ja){da.push(ja[1])});T.queryLayers=da;P.resolve(T)})}else P.resolve(T);return P}function H(W,ca,T,P){var X=new f,da=[];T.layers&&
R.forEach(T.layers,function(ja,la){if(ja.layerUrl){var ma=new f;m({configLayer:{url:ja.layerUrl,id:W.id+"_item_"+la},from:ca.from,to:ca.to,checkRenderer:!1}).then(N.hitch(this,function(oa){ja.layerUrl=oa.url;ma.resolve(oa)}),function(oa){ma.resolve(oa)});da.push(ma)}});if(da.length){var ea=[];(new g(da)).addCallback(function(ja){R.forEach(ja,function(la){ea.push(la[1])});P.item.queryLayers=ea;X.resolve(P)})}else X.resolve(P);return X}function J(W,ca){var T=new f,P=[];if(W.layerDefinition&&W.layerDefinition.drawingInfo&&
W.layerDefinition.drawingInfo.renderer){var X=new f;K(W,W.layerDefinition.drawingInfo.renderer).then(N.hitch(this,function(ea,ja){ea.layerDefinition.drawingInfo.renderer=ja.renderer;X.resolve(ja)},W),function(ea){X.resolve(ea)});P.push(X)}W.layers&&R.forEach(W.layers,function(ea){if(ea.layerDefinition&&ea.layerDefinition.drawingInfo&&ea.layerDefinition.drawingInfo.renderer){var ja=new f;K(W,ea.layerDefinition.drawingInfo.renderer).then(N.hitch(this,function(la,ma){la.layerDefinition.drawingInfo.renderer=
ma.renderer;ja.resolve(ma)},ea),function(la){ja.resolve(la)});P.push(ja)}});if(P.length){var da=[];(new g(P)).addCallback(function(ea){R.forEach(ea,function(ja){da.push(ja[1])});ca.renderers=da;T.resolve(ca)})}else T.resolve(ca);return T}function M(W,ca,T){var P=new f,X=[];ca.layers&&R.forEach(ca.layers,function(ea){if(ea.layerDefinition&&ea.layerDefinition.drawingInfo&&ea.layerDefinition.drawingInfo.renderer){var ja=new f;K(W,ea.layerDefinition.drawingInfo.renderer).then(N.hitch(this,function(la){ea.layerDefinition.drawingInfo.renderer=
la.renderer;ja.resolve(la)}),function(la){ja.resolve(la)});X.push(ja)}});if(X.length){var da=[];(new g(X)).addCallback(function(ea){R.forEach(ea,function(ja){da.push(ja[1])});T.item.renderers=da;P.resolve(T)})}else P.resolve(T);return P}function K(W,ca){for(var T=new f,P=[],X=h.stringify(ca),da=X.indexOf("http://");-1<da;){var ea=X.indexOf('"',da+1);ea=X.substring(da,ea);P.push(U(W,ea));da=X.indexOf("http://",da+1)}P.length?(new g(P)).addCallback(function(ja){var la=[];R.forEach(ja,function(ma){var oa=
ma[1];la.push(oa);!0===ma[0]&&(X=X.replace(oa.origUrl,oa.url))});T.resolve({renderer:h.parse(X),origRenderer:ca,layerId:W.id,type:"renderer",symbols:la})}):T.resolve({renderer:ca,origRenderer:ca,layerId:W.id,type:"renderer",symbols:[]});return T}function L(W,ca){var T=new f;ca?ca.url?U(W,ca.url).then(function(P){ca.url=P.url;T.resolve(P)},function(P){T.resolve(P)}):T.resolve({url:"",origUrl:"",layerId:W.id,msg:"Symbol has no URL.",code:"sym_003",type:"symbol"}):T.resolve({url:"",origUrl:"",layerId:W.id,
msg:"No symbol.",code:"sym_005",type:"symbol"});return T}function U(W,ca){var T=new f,P=ca;if(ca.startsWith("https://"))return T.resolve({url:ca,origUrl:P,layerId:W.id,msg:"symbol URL already https",code:"sym_002",type:"symbol"}),T;if(ca.startsWith("http://")){if(ca=ca.replace("http://","https://"),-1<ca.indexOf(esriGeowConfig.self.portalHostname))return T.resolve({url:ca,origUrl:P,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"}),T}else return T.resolve({url:ca,origUrl:P,
layerId:W.id,msg:"symbol URL is relative path",code:"sym_004",type:"symbol"}),T;this.cachedImages=this.cachedImages||[];for(var X,da=0;da<this.cachedImages.length;da++)if(this.cachedImages[da].url===ca){X=this.cachedImages[da];if("success"===X.status)T.resolve({url:ca,origUrl:P,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"});else if("error"===X.status)T.reject({url:P,origUrl:P,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"});else if("inProgress"===
X.status)var ea=setInterval(N.hitch(this,function(oa){"success"===oa.status?(clearInterval(ea),T.resolve({url:ca,origUrl:P,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})):"error"===oa.status&&(clearInterval(ea),T.reject({url:P,origUrl:P,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"}))},X),1E3);return T}X||(X={url:ca,status:"inProgress"},this.cachedImages.push(X));t.byId("imageTesterDiv")||u.create("div",{id:"imageTesterDiv",style:"position:absolute;top:-1000px;left:-1000px"},
document.body);var ja=Math.random()+"_testImage";u.create("img",{id:ja+"_testImage"},t.byId("imageTesterDiv"));var la=n.connect(t.byId(ja+"_testImage"),"onload",N.hitch(this,function(){n.disconnect(la);clearTimeout(ma);u.destroy(ja+"_testImage");X.status="success";T.resolve({url:ca,origUrl:P,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})})),ma=setTimeout(N.hitch(this,function(){n.disconnect(la);u.destroy(ja+"_testImage");clearTimeout(ma);X.status="error";T.reject({url:P,
origUrl:P,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"})}),5E3);t.byId(ja+"_testImage").src=ca;return T}function ba(W,ca){var T=W.configLayer,P=W.from,X=W.to,da=W.checkedItemsList,ea=new f;if(T.itemId&&!ca.item)if(da[T.itemId])if("inProgress"===da[T.itemId].status)var ja=setInterval(N.hitch(this,function(la,ma){"inProgress"!==da[la.itemId].status&&(clearInterval(ja),ma.itemAccess=da[la.itemId].refObj.itemAccess,ma.item=da[la.itemId].refObj.item,ea.resolve(ma))},
T,ca),1E3);else ca.itemAccess=da[T.itemId].refObj.itemAccess,ca.item=da[T.itemId].refObj.item,ea.resolve(ca);else da[T.itemId]={status:"inProgress",refObj:ca},aa(T.itemId).then(function(la){ca.itemAccess=!0;var ma={};if(la&&la.url){ca.item={url:la.url,origUrl:la.url,type:"layer"};if(O(ca.origUrl,la.url)&&!O(ca.origUrl,ca.url))N.mixin(ca.item,{url:ca.url,msg:ca.msg,code:ca.code}),ma.url=la.url.replace(P,X);else if(O(ca.origUrl,la.url)&&O(ca.origUrl,ca.url))N.mixin(ca.item,{msg:ca.msg,code:ca.code});
else if(O(ca.url,la.url))N.mixin(ca.item,{msg:"Layer URL is already "+X+".",code:"layer_002"});else if(!O(ca.origUrl,la.url)&&!O(ca.url,la.url))if(-1<R.indexOf("CSV GeoRSS KML WebTiledLayer WFS WMS".split(" "),T.layerType||T.type))da[T.itemId].status="done",ea.resolve(ca);else{var oa=N.clone(T);delete oa.itemId;T.url?oa.url=la.url:T.styleUrl&&(oa.styleUrl=la.url);var sa=N.clone(W);sa.configLayer=oa;c(sa).then(function(va){ma.url=va.url;ca.item=va;V(W,la,ca,ma).then(function(za){da[T.itemId].status=
"done";ea.resolve(za)})},function(va){ca.item=va;V(W,la,ca,ma).then(function(za){da[T.itemId].status="done";ea.resolve(za)})});return}V(W,la,ca,ma).then(function(va){da[T.itemId].status="done";ea.resolve(va)})}else la?(ca.item={url:"",origUrl:"",type:"layer"},V(W,la,ca,ma).then(function(va){da[T.itemId].status="done";ea.resolve(va)})):(ca.itemAccess=!1,da[T.itemId].status="done",ea.resolve(ca))},function(la){ca.itemAccess=!1;da[T.itemId].status="done";ea.resolve(ca)});else ea.resolve(ca);return ea}
function V(W,ca,T,P){var X=W.configLayer,da=W.checkRenderer,ea=new f;ha(ca.id).then(function(ja){if(ja&&"Feature Collection"===ca.type)if(da&&ja.layers){var la=N.clone(X);delete la.itemId;la.featureCollection={layers:ja.layers};p({configLayer:la,from:"http://",to:"https://",checkRenderer:da,type:null}).then(function(oa){N.mixin(T.item,oa);P.text=h.stringify(ja);ia(ca,P).then(function(sa){ea.resolve(T)},function(){N.mixin(T.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(T)})},function(oa){ea.resolve(T)})}else ea.resolve(T);
else if(ja&&ja.layers){var ma=!1;H(X,W,ja,T).then(function(oa){oa.item.queryLayers&&R.forEach(oa.item.queryLayers,function(sa){sa.url!==sa.origUrl&&(ma=!0)});da?M(X,ja,oa).then(function(sa){sa.item.renderers&&!ma?R.forEach(sa.item.renderers,function(va){va.renderer!==va.origRenderer&&(ma=!0)}):sa.item.symbols&&!ma&&R.forEach(sa.item.symbols,function(va){va.url!==va.origUrl&&(ma=!0)});ma&&(P.text=h.stringify(ja));ia(ca,P).then(function(va){ea.resolve(sa)},function(){N.mixin(sa.item,{msg:"Item update failure.",
code:"layer_020"});ea.resolve(sa)})}):(ma&&(P.text=h.stringify(ja)),ia(ca,P).then(function(sa){ea.resolve(oa)},function(){N.mixin(oa.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(oa)}))})}else ia(ca,P).then(function(oa){ea.resolve(T)},function(){N.mixin(T.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(T)})},function(){ia(ca,P).then(function(ja){ea.resolve(T)},function(){N.mixin(T.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(T)})});return ea}function aa(W){var ca=
new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+W,content:{f:"json"},callbackParamName:"callback",load:function(T,P){"update"===T.itemControl||"admin"===T.itemControl?ca.resolve(T):ca.reject(Error("No write access"))},error:function(T){ca.reject(T)}});return ca}function ha(W){var ca=new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+W+"/data",content:{f:"json"},callbackParamName:"callback",load:function(T,P){T&&delete T._ssl;Z();ca.resolve(T)},error:function(T){ca.reject()}});return ca}
function ia(W,ca){var T=new f;if(arcgisonline.isEmpty(ca))T.resolve({});else{Z();var P=esriGeowConfig.restBaseUrl+"content/users/"+W.owner;P+=W.ownerFolder?"/"+W.ownerFolder:"";P+="/items/"+W.id+"/update";if("noSave"===Z())T.resolve({});else{var X={usePost:!0};"http:"===window.location.protocol&&-1<P.indexOf("https://")&&(X.useProxy=!0);k({url:P,content:dojo.mixin(ca,{f:"json"}),callbackParamName:"callback",load:function(da,ea){T.resolve(da)},error:function(da){T.reject(da)}},X)}}return T}function ka(){var W=
new f,ca=[];esriGeowConfig.self.isPortal?k({url:esriGeowConfig.restBaseUrl+"portals/self/servers",content:{f:"json"},callbackParamName:"callback",load:function(T,P){T.servers&&(arcgisonline.sharing.util.setFederatedServers(T.servers||[]),dojo.forEach(T.servers,function(X){X.url&&ca.push(X.url.substring(X.url.indexOf("//")))}));W.resolve(ca)},error:function(T){W.resolve(ca)}}):W.resolve(ca);return W}function qa(W,ca){var T,P;for(T=0;T<W.operationalLayers.length;T++){if(W.operationalLayers[T].id===
ca)return W.operationalLayers[T];if("GroupLayer"===W.operationalLayers[T].layerType){var X=W.operationalLayers[T].layers;for(P=0;P<X.length;P++)if(X[P].id===ca)return X[P]}}if(W.baseMap.baseMapLayers)for(T=0;T<W.baseMap.baseMapLayers.length;T++){if(W.baseMap.baseMapLayers[T].id===ca)return W.baseMap.baseMapLayers[T];if("GroupLayer"===W.baseMap.baseMapLayers[T].layerType)for(X=W.baseMap.baseMapLayers[T].layers,P=0;P<X.length;P++)if(X[P].id===ca)return X[P]}if(W.baseMap.elevationLayers)for(T=0;T<W.baseMap.elevationLayers.length;T++)if(W.baseMap.elevationLayers[T].id===
ca)return W.baseMap.elevationLayers[T];if(W.ground&&W.ground.layers)for(T=0;T<W.ground.layers.length;T++)if(W.ground.layers[T].id===ca)return W.ground.layers[T];if(W.tables)for(T=0;T<W.tables.length;T++)if(W.tables[T].id===ca)return W.tables[T];if(W.presentation&&W.presentation.slides)for(P=0;P<W.presentation.slides.length;P++){var da=W.presentation.slides[P];if(da.baseMap&&da.baseMap.baseMapLayers)for(T=0;T<da.baseMap.baseMapLayers.length;T++){if(da.baseMap.baseMapLayers[T].id===ca)return da.baseMap.baseMapLayers[T];
if("GroupLayer"===da.baseMap.baseMapLayers[T].layerType)for(X=da.baseMap.baseMapLayers[T].layers,P=0;P<X.length;P++)if(X[P].id===ca)return X[P]}}}function Y(W,ca){switch(W.layerType||W.type){case "ArcGISFeatureLayer":case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":case void 0:return!W.url||
-1<W.url.indexOf("://services")&&(-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com"))||(-1<W.url.indexOf("://tiles")||-1<W.url.indexOf("://utility"))&&-1<W.url.indexOf(".arcgis.com")?null:fa(W.url);case "VectorTileLayer":return!W.styleUrl||-1<W.styleUrl.indexOf(esriGeowConfig.self.portalHostname)||-1<W.styleUrl.indexOf(esriGeowConfig.self.customBaseUrl)||-1<W.styleUrl.indexOf("/items/")||-1<W.styleUrl.indexOf("://tiles")&&-1<W.url.indexOf(".arcgis.com")?null:fa(W.styleUrl);case "CSV":case "GeoRSS":case "KML":case "WebTiledLayer":case "WFS":case "WMS":case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":case "OpenStreetMap":return null;
default:return"table"===ca?-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com")?null:fa(W.url):null}}function Q(W){var ca=[];R.forEach(W.operationalLayers,function(T){"GroupLayer"===T.layerType?R.forEach(T.layers,function(P){ca.push({layer:P,type:"operationalLayers.groupLayer"})}):ca.push({layer:T,type:"operationalLayers"})});W.baseMap&&(R.forEach(W.baseMap.baseMapLayers,function(T){"GroupLayer"===T.layerType?R.forEach(T.layers,function(P){ca.push({layer:P,type:"baseMapLayers.groupLayer"})}):
(T.title=T.title||W.baseMap.title,ca.push({layer:T,type:"baseMapLayers"}))}),R.forEach(W.baseMap.elevationLayers,function(T){T.title=T.title||W.baseMap.title;ca.push({layer:T,type:"elevationLayers"})}));W.ground&&R.forEach(W.ground.layers,function(T){T.title=T.title||W.baseMap.title;ca.push({layer:T,type:"ground"})});R.forEach(W.tables,function(T){ca.push({layer:T,type:"tables"})});W.presentation&&W.presentation.slides&&R.forEach(W.presentation.slides,function(T){T.baseMap&&T.baseMap.baseMapLayers&&
R.forEach(T.baseMap.baseMapLayers,function(P){"GroupLayer"===P.layerType?R.forEach(P.layers,function(X){ca.push({layer:X,type:"slides.baseMapLayers.groupLayer"})}):(P.title=P.title||T.baseMap.title,ca.push({layer:P,type:"slides.baseMapLayers"}))})});return ca}function fa(W){W=I(W);var ca=W.protocol+"://"+W.domain;W.port&&(ca+=":"+W.port);return ca+="/"+W.instance}function S(W,ca){var T=I(W),P=I(ca);return T.domain===P.domain?!0:!1}function O(W,ca){if(W&&ca){var T=W.toLowerCase().indexOf("/featureserver/");
-1<T&&(W=W.substring(0,T+14));T=ca.toLowerCase().indexOf("/featureserver/");-1<T&&(ca=ca.substring(0,T+14));T=W.toLowerCase().indexOf("/mapserver/");-1<T&&(W=W.substring(0,T+10));T=ca.toLowerCase().indexOf("/mapserver/");-1<T&&(ca=ca.substring(0,T+10));T=W.toLowerCase().indexOf("/sceneserver/");-1<T&&(W=W.substring(0,T+12));T=ca.toLowerCase().indexOf("/sceneserver/");-1<T&&(ca=ca.substring(0,T+12));if(W===ca)return!0}return!1}function I(W){var ca={};if(!W||!W.length)return ca;var T=W.indexOf("://");
ca.protocol=W.substr(0,T);W=W.substr(T+3,W.length);T=W.indexOf("/");T=-1===T?W.length-1:T;ca.domain=W.substr(0,T);-1<ca.domain.indexOf(":")&&(ca.port=ca.domain.substr(ca.domain.indexOf(":")+1),ca.domain=ca.domain.substr(0,ca.domain.indexOf(":")));ca.path=-1===T||T+1===W.length?null:W.substr(T+1,W.length);ca.instance=ca.path.split("/")[0];W=ca.domain.split(".");switch(W.length){case 2:ca.subdomain=null;ca.host=W[0];ca.tld=W[1];break;case 3:ca.subdomain=W[0];ca.host=W[1];ca.tld=W[2];break;case 4:ca.subdomain=
W[0],ca.host=W[1],ca.tld=W[2]+"."+W[3]}ca.host&&ca.tld&&(ca.parentDomain=ca.host+"."+ca.tld);return ca}function Z(){var W=arcgisonline.sharing.util.urlToObject(document.URL);W.query=W.query||{};return W.query.debug}return{getUniqueDomains:function(W){var ca,T,P=[],X=[],da=new f,ea=function(ma,oa,sa,va,za){if(!(ma.url&&-1<ma.url.indexOf(esriGeowConfig.self.portalHostname)||ma.styleUrl&&-1<ma.styleUrl.indexOf(esriGeowConfig.self.portalHostname))){var Aa=!1;R.forEach(va,function(Ba){if(ma.url&&-1<ma.url.indexOf(Ba)||
ma.styleUrl&&-1<ma.styleUrl.indexOf(Ba))Aa=!0});!Aa&&(ca=Y(ma,za))&&(-1<oa.indexOf(ca)?(T=oa.indexOf(ca),sa[T].layers.push({id:ma.id,title:ma.title})):(oa.push(ca),sa.push({domain:ca,layers:[{id:ma.id,title:ma.title}]})))}},ja=function(ma,oa){return ma.title.toLowerCase()<oa.title.toLowerCase()?-1:1},la=function(ma,oa){ma.layers=ma.layers.sort(ja);oa.layers=oa.layers.sort(ja);return ma.domain.toLowerCase()<oa.domain.toLowerCase()?-1:1};ka().then(function(ma){var oa=Q(W);R.forEach(oa,function(sa){ea(sa.layer,
P,X,ma,"tables"===sa.type?"table":null)});X=X.sort(la);da.resolve(X)});return da},switchToHTTPS:function(W,ca){Z();var T=new f,P=N.clone(W),X={from:"http://",to:"https://",checkRenderer:!0,type:null,checkedItemsList:{}},da=[],ea=[],ja=Q(W);R.forEach(ja,function(la){var ma={config:W,configLayer:la.layer};"tables"===la.type&&(ma.type="table");N.mixin(ma,X);ea.push(la.layer.id);da.push(c(ma))});da.length?(new g(da)).addCallback(function(la){var ma=[];R.forEach(la,function(oa){Z();oa=oa[1];if("notTested"!==
oa.type){var sa=qa(W,oa.layerId),va={id:oa.layerId,title:sa.title};-1<R.indexOf(["layer_001"],oa.code)?va.layerUrlChange="success":-1<R.indexOf(["layer_002","layer_003"],oa.code)?va.layerUrlChange="none":va.layerUrlChange="failure";oa.queryLayers&&(va.layerQueryUrlChanged=!1,va.layerQueryUrlFailures=!1,R.forEach(oa.queryLayers,function(za){-1<R.indexOf(["layer_001"],za.code)?va.layerQueryUrlChanged=!0:-1<R.indexOf(["layer_002","layer_003"],za.code)||(va.layerQueryUrlFailures=!0)}));if(oa.renderers||
oa.symbols)va.layerRenderingChanged=!1,va.layerRenderingFailures=!1,R.forEach(oa.renderers,function(za){R.forEach(za.symbols,function(Aa){-1<R.indexOf(["sym_010"],Aa.code)&&(va.layerRenderingFailures=!0);-1<R.indexOf(["sym_001"],Aa.code)&&(va.layerRenderingChanged=!0)})}),R.forEach(oa.symbols,function(za){-1<R.indexOf(["sym_010"],za.code)&&(va.layerRenderingFailures=!0);-1<R.indexOf(["sym_001"],za.code)&&(va.layerRenderingChanged=!0)});sa.itemId&&(va.itemAccess=oa.itemAccess)&&(-1<R.indexOf(["layer_001"],
oa.item.code)?va.itemUrlChange="success":-1<R.indexOf(["layer_020"],oa.item.code)?(va.itemUrlChange="success",va.itemAccess=!1):-1<R.indexOf(["layer_002","layer_003"],oa.item.code)?va.itemUrlChange="none":va.itemUrlChange="failure",oa.item.queryLayers&&(va.itemQueryUrlChanged=!1,va.itemQueryUrlFailures=!1,R.forEach(oa.item.queryLayers,function(za){-1<R.indexOf(["layer_001"],za.code)?va.itemQueryUrlChanged=!0:-1<R.indexOf(["layer_002","layer_003"],za.code)||(va.itemQueryUrlFailures=!0)})),oa.item.renderers||
oa.item.symbols)&&(va.itemRenderingChanged=!1,va.itemRenderingFailures=!1,R.forEach(oa.item.renderers,function(za){R.forEach(za.symbols,function(Aa){-1<R.indexOf(["sym_010"],Aa.code)&&(va.itemRenderingFailures=!0);-1<R.indexOf(["sym_001"],Aa.code)&&(va.itemRenderingChanged=!0)})}),R.forEach(oa.item.symbols,function(za){-1<R.indexOf(["sym_010"],za.code)&&(va.itemRenderingFailures=!0);-1<R.indexOf(["sym_001"],za.code)&&(va.itemRenderingChanged=!0)}));ma.push(va)}});W.presentation&&W.presentation.slides&&
R.forEach(W.presentation.slides,function(oa){oa.baseMap&&oa.baseMap.baseMapLayers&&R.forEach(oa.baseMap.baseMapLayers,function(sa,va){if(-1<R.indexOf(ea,sa.id)){var za=qa(W,sa.id);oa.baseMap.baseMapLayers[va]=za}})});Z();la=h.stringify(P)===h.stringify(W);Z();la||"noSave"===Z()?T.resolve({layers:ma,configChange:"none"}):b(W,ca).then(function(){T.resolve({layers:ma,configChange:"success"})},function(oa){T.resolve({layers:ma,configChange:"failure"})})}):T.resolve({layers:[]});return T},switchDomain:function(W,
ca,T,P){var X=new f,da=[];if(!(W&&ca&&T&&P))return X.resolve({layers:[]}),X;var ea=N.clone(W),ja={from:T,to:P,type:null,checkedItemsList:{}};T=Q(W);R.forEach(T,function(la){var ma={configLayer:la.layer};"tables"===la.type&&(ma.type="table");N.mixin(ma,ja);Y(ma.configLayer,ma.type)===ma.from&&da.push(c(ma))});da.length?(new g(da)).addCallback(function(la){var ma=[];R.forEach(la,function(oa){Z();oa=oa[1];var sa=qa(W,oa.layerId),va={id:oa.layerId,title:sa.title};-1<R.indexOf(["layer_001"],oa.code)?va.layerUrlChange=
"success":-1<R.indexOf(["layer_002","layer_003"],oa.code)?va.layerUrlChange="none":va.layerUrlChange="failure";sa.itemId&&(va.itemAccess=oa.itemAccess)&&(-1<R.indexOf(["layer_001"],oa.item.code)?va.itemUrlChange="success":-1<R.indexOf(["layer_020"],oa.item.code)?(va.itemUrlChange="success",va.itemAccess=!1):-1<R.indexOf(["layer_002","layer_003"],oa.item.code)?va.itemUrlChange="none":va.itemUrlChange="failure");ma.push(va)});Z();la=h.stringify(ea)===h.stringify(W);Z();la||"noSave"===Z()?X.resolve({layers:ma,
configChange:"none"}):b(W,ca).then(function(){X.resolve({layers:ma,configChange:"success"})},function(oa){X.resolve({layers:ma,configChange:"failure"})})}):X.resolve({layers:[]});return X}}})},"esri/layers/VectorTileLayer":function(){(function(){var R=function(){try{var n=window.WebGLRenderingContext}catch(k){n=!1}try{for(var t=document.createElement("canvas"),u=["webgl","experimental-webgl","webkit-3d","moz-webgl"],h=null,f=0;f<u.length;++f){try{h=t.getContext(u[f])}catch(k){}if(h)break}var g=h}catch(k){g=
!1}return n&&g?!0:!1}(),N=["dojo/_base/lang","dojo/has","dojo/Deferred","../sniff","./layer"];R&&N.push("./VectorTileLayerImpl");define(N,function(n,t,u,h,f,g){t=g?g:f.createSubclass({declaredClass:"esri.layers.VectorTileLayer",constructor:function(){var k=new u;k.reject(Error("esri.layers.VectorTileLayer is not supported"));k.promise.otherwise(n.hitch(this,function(w){this._errorHandler(w)}))}});t.ACCESS_TOKEN=null;t.supported=function(){return R};n.setObject("layers.VectorTileLayer",t,h);return t})})()},
"esri/layers/CSVLayer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(R,N,n,t,u,h,f,g,k){N=N(f,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(w,v){this.url=w;v=n.mixin({},v);this.columnDelimiter=v.columnDelimiter;this.latitudeFieldName=v.latitudeFieldName;
this.longitudeFieldName=v.longitudeFieldName;var C=v.layerDefinition;C||(C={fields:v.fields||[],geometryType:"esriGeometryPoint",copyrightText:v.copyright},v.fields&&R.forEach(v.fields,function(A){A.type=this._fieldTypeMap[A.type||"String"];A.alias||(A.alias=A.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:C,outFields:v.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=n.hitch(this,this._projectFeatures);this._addFeatures=n.hitch(this,this._addFeatures);this._initCSVLayer(v)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_isWebGLCompatible:function(){return!1},_setMap:function(w){var v=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);
this._csvFC=null;return v},_initCSVLayer:function(w){var v=this;h.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(C){!v._buildCsvFcParam.locationInfo||v.latitudeFieldName&&v.longitudeFieldName||(v.latitudeFieldName=v._buildCsvFcParam.locationInfo.latitudeFieldName,v.longitudeFieldName=v._buildCsvFcParam.locationInfo.longitudeFieldName);v._csvFC=C;var A=C.layerDefinition;A.extent=v._getFCExtent(C);w.outFields||(w.outFields=["*"]);w.timeInfo&&(A.timeInfo=w.timeInfo);v._initFeatureLayer({layerDefinition:A},
w)}).otherwise(this._errorHandler)},_loadFeatures:function(){h.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(w){return h.projectFeatureCollection(w,this._map.spatialReference)},_addFeatures:function(w){w=new k(w.featureSet);this.applyEdits(w.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(w){if(w&&w.featureSet&&w.featureSet.features){w=w.featureSet.features;var v=w.length;
if(1<v){var C=w[0].geometry;var A=new g(C.x,C.y,C.x,C.y);for(--v;0<v;v--)C=w[v].geometry,A.xmin=Math.min(A.xmin,C.x),A.ymin=Math.min(A.ymin,C.y),A.xmax=Math.max(A.xmax,C.x),A.ymax=Math.max(A.ymax,C.y);0>=A.getWidth()&&0>=A.getHeight()&&(A=null)}}return A}});n.setObject("layers.CSVLayer",N,u);return N})},"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){function A(p){var q=0,y="";N.forEach([","," ",";","|","\t"],function(B){var z=p.split(B).length;z>q&&(q=z,y=B)});return y}function r(p,q){if(!p||"[object Date]"!==Object.prototype.toString.call(p)||isNaN(p.getTime()))return!1;var y=!0;if(t("chrome")&&/\d+\W*$/.test(q)){if(q.match(/[^0-9a-zA-Z\s]/))return!1;var B=q.match(/[a-zA-Z]{2,}/);if(B){y=!1;for(var z=0,D=B.length,F=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!y&&
z<=D&&!(y=!F.test(B[z]));)z++;y=!y}}return y}function l(p,q,y){var B=p.indexOf("\n");B=R.trim(p.substr(0,B));var z=q.columnDelimiter;z||(z=A(B));var D=new h({data:p,separator:z});D.fetch({onComplete:function(F,x){var E=0,G={layerDefinition:q.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},H=G.layerDefinition.objectIdField,J=G.layerDefinition.fields;H||N.some(J,function(Y){return"esriFieldTypeOID"===Y.type?(H=Y.name,!0):!1})||(J.push({name:"__OBJECTID",alias:"__OBJECTID",
type:"esriFieldTypeOID",editable:!1}),H="__OBJECTID");var M=D._attributes,K=[],L=[];N.forEach(J,function(Y){"esriFieldTypeDate"===Y.type?K.push(Y.name):("esriFieldTypeDouble"===Y.type||"esriFieldTypeInteger"===Y.type)&&L.push(Y.name)});if(q.locationInfo&&"coordinates"===q.locationInfo.locationType){var U=q.locationInfo.latitudeFieldName;var ba=q.locationInfo.longitudeFieldName}else N.forEach(M,function(Y){var Q=N.indexOf(b,Y.toLowerCase());-1!==Q&&(U=Y);Q=N.indexOf(c,Y.toLowerCase());-1!==Q&&(ba=
Y)}),U&&ba&&(q.locationInfo={locationType:"coordinates",latitudeFieldName:U,longitudeFieldName:ba});if(U&&ba){-1===N.indexOf(L,U)&&L.push(U);-1===N.indexOf(L,ba)&&L.push(ba);if(R.isArray(q.outFields)&&-1===N.indexOf(q.outFields,"*"))var V=q.outFields;N.forEach(M,function(Y){N.some(J,function(Q){return Y===Q.name})||J.push({name:Y,alias:Y,type:Y===U||Y===ba?"esriFieldTypeDouble":"esriFieldTypeString"})});M=0;var aa=F.length;for(M;M<aa;M++){var ha=F[M],ia=D.getAttributes(ha),ka={};N.forEach(ia,function(Y){if(Y&&
(Y===U||Y===ba||!V||-1<N.indexOf(V,Y))){var Q=Y;0===Y.length&&N.forEach(J,function(S,O){S.name==="attribute_"+(O-1)&&(Y="attribute_"+(O-1))});if(-1<N.indexOf(K,Y)){Q=D.getValue(ha,Q);var fa=new Date(Q);ka[Y]=r(fa,Q)?fa.getTime():null}else-1<N.indexOf(L,Y)?(fa=u.parse(D.getValue(ha,Q)),Y!==U&&Y!==ba||!(isNaN(fa)||181<Math.abs(fa))||(fa=parseFloat(D.getValue(ha,Q))),isNaN(fa)?ka[Y]=null:ka[Y]=fa):ka[Y]=D.getValue(ha,Q)}});ka[H]=E;E++;ia=ka[U];var qa=ka[ba];null==qa||null==ia||isNaN(ia)||isNaN(qa)||
(V&&-1===N.indexOf(V,U)&&delete ka[U],V&&-1===N.indexOf(V,ba)&&delete ka[ba],G.featureSet.features.push({geometry:{x:qa,y:ia,spatialReference:{wkid:4326}},attributes:ka}))}G.layerDefinition.name="csv";y&&y(G)}else setTimeout(function(){},1),y&&y(null,Error("File does not seem to contain fields with point coordinates."))},onError:function(F){y&&y(null,F)}});return!0}function d(p,q,y,B,z,D){0===p.length&&z(null);var F=v.getGeometryType(q),x=[];N.forEach(p,function(E){E=new F(E);E.spatialReference=y;
x.push(E)},this);q=[102113,102100,3857];y.wkid&&4326===y.wkid&&B.wkid&&-1<N.indexOf(q,B.wkid)?(N.forEach(x,function(E){E.xmin?(E.xmin=Math.max(E.xmin,-180),E.xmax=Math.min(E.xmax,180),E.ymin=Math.max(E.ymin,-89.99),E.ymax=Math.min(E.ymax,89.99)):E.rings?N.forEach(E.rings,function(G){N.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):E.paths?N.forEach(E.paths,function(G){N.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);
H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):E.x&&(E.x=Math.min(Math.max(E.x,-180),180),E.y=Math.min(Math.max(E.y,-89.99),89.99))},this),p=[],N.forEach(x,function(E){E=C.geographicToWebMercator(E);102100!==B.wkid&&(E.spatialReference=B);p.push(E.toJson())},this),z(p)):null!==y.wkid&&-1<N.indexOf(q,y.wkid)&&null!==B.wkid&&4326===B.wkid?(p=[],N.forEach(x,function(E){p.push(C.webMercatorToGeographic(E).toJson())},this),z(p)):(q=function(E,G){E&&E.length===p.length?(p=[],N.forEach(E,function(H){H&&
(H.rings&&0<H.rings.length&&0<H.rings[0].length&&0<H.rings[0][0].length&&!isNaN(H.rings[0][0][0])&&!isNaN(H.rings[0][0][1])||H.paths&&0<H.paths.length&&0<H.paths[0].length&&0<H.paths[0][0].length&&!isNaN(H.paths[0][0][0])&&!isNaN(H.paths[0][0][1])||H.xmin&&!isNaN(H.xmin)&&H.ymin&&!isNaN(H.ymin)||H.x&&!isNaN(H.x)&&H.y&&!isNaN(H.y))?p.push(H.toJson()):p.push(null)},this),z(p)):D(E,G)},g.defaults.geometryService?g.defaults.geometryService.project(x,B,R.hitch(this,q),D):z(null))}function e(p,q){var y=
[102113,102100,3857];return p&&q&&p.wkid===q.wkid&&p.wkt===q.wkt||p&&q&&p.wkid&&q.wkid&&-1<N.indexOf(y,p.wkid)&&-1<N.indexOf(y,q.wkid)?!0:!1}function a(p,q,y,B){if(p.featureSet&&0!==p.featureSet.features.length)if(e(y,q))B(p);else{var z=function(E){var G=[];N.forEach(p.featureSet.features,function(H,J){E[J]&&(H.geometry=E[J],G.push(H))},this);B(p)},D=function(E,G){B(p)},F=function(E,G){d(x,p.featureSet.geometryType,q,y,R.hitch(this,z),R.hitch(this,D))};if(p.featureSet.features&&0<p.featureSet.features.length){var x=
[];N.forEach(p.featureSet.features,function(E){if(E.geometry.toJson)x.push(E.geometry);else{var G=v.getGeometryType(p.featureSet.geometryType);x.push(new G(E.geometry))}});q.toJson||(q=new w(q));y.toJson||(y=new w(y));d(x,p.featureSet.geometryType,q,y,R.hitch(this,z),R.hitch(this,F))}else B(p)}}var b="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),c="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),m={latFieldStrings:b,longFieldStrings:c,
buildCSVFeatureCollection:function(p){var q=new n,y=function(z,D){D?q.errback(D):q.callback(z)},B={url:p.url,handleAs:"text",load:function(z){l(z,p,R.hitch(this,y))},error:function(z){q.errback(z)}};-1<p.url.indexOf("arcgis.com")&&-1<p.url.indexOf("/content/items")&&-1<p.url.indexOf("/data")&&(B.headers={"Content-Type":""});k(B,{usePost:!1});return q},projectFeatureCollection:function(p,q,y){var B=new n;y||(y=new w({wkid:4326}));a(p,y,q,R.hitch(this,function(z){B.callback(z)}));return B},generateDefaultPopupInfo:function(p){var q=
{esriFieldTypeDouble:1,esriFieldTypeSingle:1},y={esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},B={esriFieldTypeDate:1},z=null;p=N.map(p.layerDefinition.fields,R.hitch(this,function(D){"NAME"===D.name.toUpperCase()&&(z=D.name);var F="esriFieldTypeOID"!==D.type&&"esriFieldTypeGlobalID"!==D.type&&"esriFieldTypeGeometry"!==D.type,x=null;if(F){var E=D.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+E+",")||-1<E.indexOf("area")||
-1<E.indexOf("length")||-1<E.indexOf("shape")||-1<E.indexOf("perimeter")||-1<E.indexOf("objectid")||E.indexOf("_")===E.length-1||E.indexOf("_i")===E.length-2&&1<E.length)F=!1;D.type in y?x={places:0,digitSeparator:!0}:D.type in q?x={places:2,digitSeparator:!0}:D.type in B&&(x={dateFormat:"shortDateShortTime"})}return R.mixin({},{fieldName:D.name,label:D.alias,isEditable:!0,tooltip:"",visible:F,format:x,stringFieldOption:"textbox"})}));return{title:z?"{"+z+"}":"",fieldInfos:p,description:null,showAttachments:!1,
mediaInfos:[]}},_getSeparator:A,_isValidDate:r,_processCsvData:l,_projectGeometries:d,_sameSpatialReference:e,_projectFeatureSet:a};R.setObject("arcgis.csv",m,f);return m})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(R,N,n,t,u,h){N=N("dojox.data.CsvStore",null,{constructor:function(f){this._attributes=[];this._attributeIndexes={};this._dataArray=[];this._arrayOfAllItems=
[];this._loadFinished=!1;f.url&&(this.url=f.url);this._csvData=f.data;f.label?this.label=f.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=f.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in f&&(this.separator=f.separator);"urlPreventCache"in f&&(this.urlPreventCache=f.urlPreventCache?!0:!1)},
url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(f){if(!this.isItem(f))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(f){f=this.getIdentity(f);this.identifier&&(f=this._idMap[f]);return f},getValue:function(f,g,k){this._assertIsItem(f);var w=k;if("string"===typeof g)g=this._attributeIndexes[g],null!=g&&(w=this._dataArray[this._getIndex(f)][g]||k);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
return w},getValues:function(f,g){var k=this.getValue(f,g);return k?[k]:[]},getAttributes:function(f){this._assertIsItem(f);var g=[];f=this._dataArray[this._getIndex(f)];for(var k=0;k<f.length;k++)""!==f[k]&&g.push(this._attributes[k]);return g},hasAttribute:function(f,g){this._assertIsItem(f);if("string"===typeof g){var k=this._attributeIndexes[g],w=this._dataArray[this._getIndex(f)];return"undefined"!==typeof k&&k<w.length&&""!==w[k]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
},containsValue:function(f,g,k){var w=void 0;"string"===typeof k&&(w=u.patternToRegExp(k,!1));return this._containsValue(f,g,k,w)},_containsValue:function(f,g,k,w){f=this.getValues(f,g);for(g=0;g<f.length;++g){var v=f[g];if("string"===typeof v&&w)return null!==v.match(w);if(k===v)return!0}return!1},isItem:function(f){if(f&&f[this._storeProp]===this)if(f=f[this._idProp],this.identifier){if(this._dataArray[this._idMap[f]])return!0}else if(0<=f&&f<this._dataArray.length)return!0;return!1},isItemLoaded:function(f){return this.isItem(f)},
loadItem:function(f){},getFeatures:function(){return this._features},getLabel:function(f){if(this.label&&this.isItem(f))return this.getValue(f,this.label)},getLabelAttributes:function(f){return this.label?[this.label]:null},_fetchItems:function(f,g,k){var w=this,v=function(l,d){var e=null;if(l.query){var a;e=[];var b=l.queryOptions?l.queryOptions.ignoreCase:!1,c={};for(a in l.query){var m=l.query[a];"string"===typeof m&&(c[a]=u.patternToRegExp(m,b))}for(b=0;b<d.length;++b){var p=!0,q=d[b];for(a in l.query)m=
l.query[a],w._containsValue(q,a,m,c[a])||(p=!1);p&&e.push(q)}}else e=d.slice(0,d.length);g(e,l)};if(this._loadFinished)v(f,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:f,filter:v});else{this._loadInProgress=!0;var C=n.get({url:w.url,handleAs:"text",preventCache:w.urlPreventCache});C.addCallback(function(l){try{w._processData(l),v(f,w._arrayOfAllItems),w._handleQueuedFetches()}catch(d){k(d,f)}});C.addErrback(function(l){w._loadInProgress=!1;if(k)k(l,
f);else throw l;});var A=null;f.abort&&(A=f.abort);f.abort=function(){var l=C;l&&-1===l.fired&&(l.cancel(),l=null);A&&A.call(f)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,v(f,this._arrayOfAllItems)}catch(l){k(l,f)}else{var r=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");if(k)k(r,f);else throw r;}},close:function(f){},_getArrayOfArraysFromCsvFileContents:function(f){if(R.isString(f)){var g=RegExp("^\\s+","g"),k=
RegExp("\\s+$","g"),w=RegExp('""',"g"),v=[],C=this._splitLines(f);for(f=0;f<C.length;++f){var A=C[f];if(0<A.length){A=A.split(this.separator);for(var r=0;r<A.length;){var l=A[r].replace(g,""),d=l.replace(k,""),e=d.charAt(0),a=d.charAt(d.length-1),b=d.charAt(d.length-2),c=d.charAt(d.length-3);if(2===d.length&&'""'==d)A[r]="";else if('"'==e&&('"'!=a||'"'==a&&'"'==b&&'"'!=c)){if(r+1===A.length)return;A[r]=l+this.separator+A[r+1];A.splice(r+1,1)}else'"'==e&&'"'==a&&(d=d.slice(1,d.length-1),d=d.replace(w,
'"')),A[r]=d,r+=1}v.push(A)}}this._attributes=v.shift();for(f=0;f<this._attributes.length;f++)this._attributeIndexes[this._attributes[f]]=f;this._dataArray=v}},_splitLines:function(f){var g=[],k,w="",v=!1;for(k=0;k<f.length;k++){var C=f.charAt(k);switch(C){case '"':v=!v;w+=C;break;case "\r":v?w+=C:(g.push(w),w="",k<f.length-1&&"\n"==f.charAt(k+1)&&k++);break;case "\n":v?w+=C:(g.push(w),w="");break;default:w+=C}}""!==w&&g.push(w);return g},_processData:function(f){this._getArrayOfArraysFromCsvFileContents(f);
this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(f=0;f<this._dataArray.length;f++){var g=f;this.identifier&&(g=this._dataArray[f][this._attributeIndexes[this.identifier]],this._idMap[g]=f);this._arrayOfAllItems.push(this._createItemFromIdentity(g))}this._loadFinished=!0;this._loadInProgress=!1},_createItemFromIdentity:function(f){var g={};g[this._storeProp]=
this;g[this._idProp]=f;return g},getIdentity:function(f){return this.isItem(f)?f[this._idProp]:null},fetchItemByIdentity:function(f){var g=f.scope?f.scope:t.global;if(this._loadFinished){var k=this._createItemFromIdentity(f.identity);this.isItem(k)||(k=null);f.onItem&&f.onItem.call(g,k)}else{var w=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:f}):(this._loadInProgress=!0,k=n.get({url:w.url,handleAs:"text"}),k.addCallback(function(v){try{w._processData(v);var C=w._createItemFromIdentity(f.identity);
w.isItem(C)||(C=null);f.onItem&&f.onItem.call(g,C);w._handleQueuedFetches()}catch(A){f.onError&&f.onError.call(g,A)}}),k.addErrback(function(v){this._loadInProgress=!1;f.onError&&f.onError.call(g,v)}));else if(this._csvData)try{w._processData(w._csvData),w._csvData=null,k=w._createItemFromIdentity(f.identity),w.isItem(k)||(k=null),f.onItem&&f.onItem.call(g,k)}catch(v){f.onError&&f.onError.call(g,v)}}},getIdentityAttributes:function(f){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<
this._queuedFetches.length){for(var f=0;f<this._queuedFetches.length;f++){var g=this._queuedFetches[f],k=g.filter,w=g.args;k?k(w,this._arrayOfAllItems):this.fetchItemByIdentity(g.args)}this._queuedFetches=[]}}});R.extend(N,h);return N})},"esri/layers/KMLLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/sniff dojo/io-query dojo/dom-construct dojo/dom-style ../kernel ../config ../lang ../request ../urlUtils ../SpatialReference ../geometry/webMercatorUtils ../dijit/PopupTemplate ./layer ./KMLFolder ./KMLGroundOverlay ./MapImageLayer ./FeatureLayer".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q){var y=N([b],{declaredClass:"esri.layers.KMLLayer",serviceUrl:l.getProtocolForWebResource()+"//utility.arcgis.com/sharing/kml",constructor:function(B,z){this._url=l.urlToObject(this.url=B);this._outSR=z&&z.outSR||new d({wkid:4326});this._options=t.mixin({},z);C.defaults.kmlService&&(this.serviceUrl=C.defaults.kmlService);var D=this.linkInfo=z&&z.linkInfo;D&&(this.visible=!!D.visibility,this._waitingForMap=!!D.viewFormat);(!D||D&&D.visibility&&
!this._waitingForMap)&&this._parseKml();this.refresh=t.hitch(this,this.refresh);this.registerConnectEvents("esri.layers.KMLLayer",!0)},getFeature:function(B){if(B){var z=B.type,D=B.id,F;switch(z){case "esriGeometryPoint":case "esriGeometryPolyline":case "esriGeometryPolygon":(B=this["_"+z])&&(F=t.getObject("_mode._featureMap."+D,!1,B));break;case "GroundOverlay":if(B=this._groundLyr){var x=B.getImages();z=x.length;for(B=0;B<z;B++)if(x[B].id===D){F=x[B];break}}break;case "NetworkLink":u.some(this._links,
function(E){return E.linkInfo&&E.linkInfo.id===D?(F=E,!0):!1});break;case "Folder":for(z=(x=this.folders)?x.length:0,B=0;B<z;B++)if(x[B].id===D){F=x[B];break}}return F}},getLayers:function(){var B=[];this._groundLyr&&B.push(this._groundLyr);this._fLayers&&(B=B.concat(this._fLayers));this._links&&u.forEach(this._links,function(z){z.declaredClass&&B.push(z)});return B},setFolderVisibility:function(B,z){B&&(this._fireUpdateStart(),(B.visible=z)&&(z=this._areLocalAncestorsVisible(B)),this._setState(B,
z),this._fireUpdateEnd())},_eventMap:{"network-link-error":["error"]},onRefresh:function(){},onOpacityChange:function(){},onNetworkLinkError:function(){},_parseKml:function(B){var z=this;this._fireUpdateStart();this._io=r({url:this.serviceUrl,content:{url:this._url.path+this._getQueryParameters(B),model:"simple",folders:"",refresh:this.loaded?!0:void 0,outSR:h.toJson(this._outSR.toJson())},callbackParamName:"callback",load:function(D){z._io=null;z._initLayer(D)},error:function(D){z._io=null;D=t.mixin(Error(),
D);D.message="Unable to load KML: "+(D.message||"");z._fireUpdateEnd(D);z._errorHandler(D)}})},_initLayer:function(B){if(this.loaded){var z=[];u.forEach(this.folders,function(J){J.visible&&z.push(J.id)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale;this._options.opacity=this.opacity;this._removeInternalLayers()}this.name=B.name;this.description=B.description;this.snippet=B.snippet;this.visibility=B.visibility;this.featureInfos=B.featureInfos;var D,F=this.folders=B.folders,
x=[];if(F){var E=F.length;for(D=0;D<E;D++){var G=F[D]=new c(F[D]);-1===G.parentFolderId&&x.push(G)}}F=this._links=B.networkLinks;E=F?F.length:0;for(D=0;D<E;D++)if(!F[D].viewRefreshMode||-1===F[D].viewRefreshMode.toLowerCase().indexOf("onregion")){var H=t.mixin({},this._options);H.linkInfo=F[D];H.id&&(H.id=H.id+"_"+D);G=F[D]=new y(F[D].href,H);G._parentLayer=this;G._parentFolderId=this._getLinkParentId(G.linkInfo.id);G._linkErrorHandle=G.on("error,network-link-error",t.hitch(G,function(J){this._parentLayer.onNetworkLinkError(J.error)}))}if((F=
B.groundOverlays)&&0<F.length)for(H=t.mixin({},this._options),H.id&&(H.id+="_mapImage"),G=this._groundLyr=new p(H),E=F.length,D=0;D<E;D++)G.addImage(new m(F[D]));(B=t.getObject("featureCollection.layers",!1,B))&&0<B.length&&(this._fLayers=[],u.forEach(B,function(J,M){var K=t.getObject("featureSet.features",!1,J);K&&0<K.length&&(H=t.mixin({outFields:["*"],infoTemplate:J.popupInfo?new a(J.popupInfo):null,editable:!1},this._options),H.id&&(H.id=H.id+"_"+M),H.webgl=!1,J.layerDefinition.capabilities="Query,Data",
K=new q(J,H),K.geometryType&&(this["_"+K.geometryType]=K),this._fLayers.push(K))},this),0===this._fLayers.length&&delete this._fLayers);if(!this.loaded)for(E=x.length,D=0;D<E;D++)G=x[D],this._setState(G,G.visible);this._fireUpdateEnd();this.loaded?(this._addInternalLayers(),u.forEach(this.folders,function(J){-1<u.indexOf(z,J.id)?this.setFolderVisibility(J,!0):this.setFolderVisibility(J,!1)},this),this.onRefresh()):(this.loaded=!0,this.onLoad(this))},_addInternalLayers:function(){var B=this._map;this._fireUpdateStart();
this._links&&u.forEach(this._links,function(x){x.declaredClass&&(B.addLayer(x),x._waitingForMap&&(x._waitingForMap=null,x.visible?x._parseKml(B):x._wMap=B))});var z=B.spatialReference,D=this._outSR;if(!z.equals(D))if(z.isWebMercator()&&4326===D.wkid)var F=e.geographicToWebMercator;else if(D.isWebMercator()&&4326===z.wkid)F=e.webMercatorToGeographic;else return;this._groundLyr&&(F&&u.forEach(this._groundLyr.getImages(),function(x){x.extent=F(x.extent)}),B.addLayer(this._groundLyr));(z=this._fLayers)&&
0<z.length&&u.forEach(z,function(x){if(F){var E=x.graphics,G,H,J=E?E.length:0;for(G=0;G<J;G++)(H=E[G].geometry)&&E[G].setGeometry(F(H))}B.addLayer(x)});this.onVisibilityChange(this.visible)},_removeInternalLayers:function(){var B=this._map;this._links&&u.forEach(this._links,function(z){z.declaredClass&&z._io&&z._io.cancel();z._linkErrorHandle&&(z._linkErrorHandle.remove(),z._linkErrorHandle=null)});B&&u.forEach(this.getLayers(),B.removeLayer,B)},_setState:function(B,z){var D=B.featureInfos,F,x,E=
D?D.length:0,G=z?"show":"hide",H=z?"_resume":"_suspend";for(x=0;x<E;x++){var J=D[x];if(F=this.getFeature(J))if("Folder"===J.type)this._setState(F,z&&F.visible);else if("NetworkLink"===J.type)this._setInternalVisibility(F,z);else if(F[H])F[H]();else F[G]()}},_areLocalAncestorsVisible:function(B){var z=B.parentFolderId;for(B=B.visible;B&&-1!==z;)z=this.getFeature({type:"Folder",id:z}),B=B&&z.visible,z=z.parentFolderId;return B},_setInternalVisibility:function(B,z){var D=B._parentLayer,F=B._parentFolderId;
for(z=z&&B.visible;z&&D;)z=z&&D.visible,-1<F&&(z=z&&D._areLocalAncestorsVisible(D.getFeature({type:"Folder",id:F}))),F=D._parentFolderId,D=D._parentLayer;this._setIntState(B,z)},_setIntState:function(B,z){B&&u.forEach(B.getLayers(),function(D){D.linkInfo?B._setIntState(D,z&&D.visible&&B._areLocalAncestorsVisible(B.getFeature({type:"Folder",id:D._parentFolderId}))):D.setVisibility(z)})},_getLinkParentId:function(B){var z=-1;this.folders&&u.some(this.folders,function(D){return D.networkLinkIds&&-1!==
u.indexOf(D.networkLinkIds,B)?(z=D.id,!0):!1});return z},_checkAutoRefresh:function(){var B=this.linkInfo;if(B)if(this.visible){if(this.loaded&&this._map){var z=B.refreshMode,D=B.refreshInterval,F=B.viewRefreshMode;B=B.viewRefreshTime;z&&-1!==z.toLowerCase().indexOf("oninterval")&&0<D&&(this._stopAutoRefresh(),this._timeoutHandle=setTimeout(this.refresh,1E3*D));F&&-1!==F.toLowerCase().indexOf("onstop")&&0<B&&!this._extChgHandle&&(this._extChgHandle=n.connect(this._map,"onExtentChange",this,this._extentChanged))}}else this._stopAutoRefresh(),
n.disconnect(this._extChgHandle),delete this._extChgHandle},_stopAutoRefresh:function(){clearTimeout(this._timeoutHandle);this._timeoutHandle=null},_getQueryParameters:function(B){B=B||this._map;var z={},D=this.linkInfo,F=B&&B.extent;if(this._url.query){t.mixin(z,this._url.query);var x=!!this._url.query.token}v.id&&!x&&(x=v.id.findCredential(this._url.path))&&(z.token=x.token);if(D){x=D.viewFormat;var E=D.httpQuery;D=D.viewBoundScale;if(F&&x){var G=F,H=F,J=F.spatialReference;J&&(J.isWebMercator()?
G=e.webMercatorToGeographic(F):4326===J.wkid&&(H=e.geographicToWebMercator(F)));F=G.getCenter();H=Math.max(H.getWidth(),H.getHeight());D&&(G=G.expand(D));x=x.replace(/\[bboxWest\]/ig,G.xmin).replace(/\[bboxEast\]/ig,G.xmax).replace(/\[bboxSouth\]/ig,G.ymin).replace(/\[bboxNorth\]/ig,G.ymax).replace(/\[lookatLon\]/ig,F.x).replace(/\[lookatLat\]/ig,F.y).replace(/\[lookatRange\]/ig,H).replace(/\[lookatTilt\]/ig,0).replace(/\[lookatHeading\]/ig,0).replace(/\[lookatTerrainLon\]/ig,F.x).replace(/\[lookatTerrainLat\]/ig,
F.y).replace(/\[lookatTerrainAlt\]/ig,0).replace(/\[cameraLon\]/ig,F.x).replace(/\[cameraLat\]/ig,F.y).replace(/\[cameraAlt\]/ig,H).replace(/\[horizFov\]/ig,60).replace(/\[vertFov\]/ig,60).replace(/\[horizPixels\]/ig,B.width).replace(/\[vertPixels\]/ig,B.height).replace(/\[terrainEnabled\]/ig,0);t.mixin(z,g.queryToObject(x))}E&&(E=E.replace(/\[clientVersion\]/ig,v.version).replace(/\[kmlVersion\]/ig,2.2).replace(/\[clientName\]/ig,"ArcGIS API for JavaScript").replace(/\[language\]/ig,R.locale),t.mixin(z,
g.queryToObject(E)))}B=[];for(var M in z)A.isDefined(z[M])&&B.push(M+"\x3d"+z[M]);return(B=B.join("\x26"))?"?"+B:""},setScaleRange:function(B,z){this.inherited(arguments);u.forEach(this.getLayers(),function(D){D.setScaleRange(B,z)})},setOpacity:function(B){this.opacity!=B&&(u.forEach(this.getLayers(),function(z){z.setOpacity(B)}),this.opacity=B,this.onOpacityChange(B))},_setMap:function(B,z){this.inherited(arguments);this._map=B;var D=this._div=k.create("div",null,z);w.set(D,"position","absolute");
this._addInternalLayers();this.evaluateSuspension();return D},_unsetMap:function(B,z){this._io&&this._io.cancel();this._stopAutoRefresh();n.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var D=this._div;D&&(z.removeChild(D),k.destroy(D));this._wMap=this._div=null;this.inherited(arguments)},onVisibilityChange:function(B){this.loaded?(this._fireUpdateStart(),this._setInternalVisibility(this,B),this._checkAutoRefresh(),this._fireUpdateEnd()):this.linkInfo&&B&&(this._waitingForMap||
this._parseKml(this._wMap))},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._parseKml()},getFeatureCollection:function(B){var z,D=[];(B=this.getFeature({type:"Folder",id:B}))&&(z=u.map(B.featureInfos,function(F){if("esriGeometryPoint"===F.type||"esriGeometryPolyline"===F.type||"esriGeometryPolygon"===F.type)return F.id},this))&&0<z.length&&u.forEach(this._fLayers,function(F){var x;var E=F.toJson();E.featureSet.features&&0<E.featureSet.features.length&&(x=u.filter(E.featureSet.features,
function(G){if(-1!==u.indexOf(z,G.attributes[F.objectIdField]))return G},this));x&&0<x.length&&(E.featureSet.features=x,D.push(E))},this);return D},getFeatureCount:function(B){B=this.getFeature({type:"Folder",id:B});var z={points:0,polylines:0,polygons:0};B&&u.forEach(B.featureInfos,function(D){"esriGeometryPoint"===D.type&&(z.points+=1);"esriGeometryPolyline"===D.type&&(z.polylines+=1);"esriGeometryPolygon"===D.type&&(z.polygons+=1)});return z},_extentChanged:function(){this._stopAutoRefresh();this._timeoutHandle=
setTimeout(this.refresh,1E3*this.linkInfo.viewRefreshTime)}});t.setObject("layers.KMLLayer",y,v);return y})},"esri/layers/KMLFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(R,N,n,t,u){R=R(null,{declaredClass:"esri.layers.KMLFolder",constructor:function(h){N.mixin(this,h);u.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});N.setObject("layers.KMLFolder",R,t);return R})},"esri/layers/KMLGroundOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./MapImage".split(" "),
function(R,N,n,t,u,h){R=R([h],{declaredClass:"esri.layers.KMLGroundOverlay",constructor:function(f){u.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});N.setObject("layers.KMLGroundOverlay",R,t);return R})},"esri/layers/GeoRSSLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(R,N,n,t,u,h,f,g,k){R=R([k],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:g.getProtocolForWebResource()+
"//utility.arcgis.com/sharing/rss",constructor:function(w,v){this._url=g.urlToObject(this.url=w);h.defaults.geoRSSService&&(this.serviceUrl=h.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=f({url:this.serviceUrl,content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?n.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(w){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});N.setObject("layers.GeoRSSLayer",
R,u);return R})},"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){R=R([A],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(d,e){this.pointSymbol=
e&&e.pointSymbol;this.polylineSymbol=e&&e.polylineSymbol;this.polygonSymbol=e&&e.polygonSymbol;this._outSR=e&&(e.outSpatialReference||e.outSR)||new k({wkid:4326});this._options=n.mixin({},e)},parse:function(){},getFeatureLayers:function(){var d=[];this._fLayers&&(d=d.concat(this._fLayers));return d},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(d){var e=this;this._fireUpdateStart();
d=this.parse(d);d.addCallback(function(a){e._io=null;e._initLayer(a)});d.addErrback(function(a){e._io=null;a=n.mixin(Error(),a);a.message="Unable to load resource: "+e.url+" "+(a.message||"");e._fireUpdateEnd(a);e.onError(a)})},_initLayer:function(d){this.loaded&&this._removeInternalLayers();this.name=d.name;this.description=d.description;this.snippet=d.snippet;this.featureInfos=d.featureInfos;this.fullExtent=this.initialExtent=new w(d.lookAtExtent);this.copyright=d.author||d.copyright;var e;(d=n.getObject("featureCollection.layers",
!1,d))&&0<d.length&&(this._fLayers=[],t.forEach(d,function(a,b){var c=n.getObject("featureSet.features",!1,a);c&&0<c.length&&(e=n.mixin({outFields:["*"],infoTemplate:a.popupInfo?new l(a.popupInfo):null,editable:!1},this._options),e.id&&(e.id=e.id+"_"+b),e.webgl=!1,a.layerDefinition.capabilities="Query,Data",c=new r(a,e),c.geometryType&&(this["_"+c.geometryType]=c),this._fLayers.push(c))},this),0===this._fLayers.length&&delete this._fLayers);this.items=[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),
this.pointSymbol&&(d=new C(this.pointSymbol),this._esriGeometryPoint.setRenderer(d)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(d=new C(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(d)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(d=new C(this.polygonSymbol),this._esriGeometryPolygon.setRenderer(d)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),
this.onRefresh())},_addInternalLayers:function(){var d=this._map;this._fireUpdateStart();var e=d.spatialReference,a=this._outSR;if(e.wkid)var b=e._isWebMercator()&&a._isWebMercator()||e.wkid===a.wkid;else if(e.wkt)b=e.wkt===a.wkt;else return;if(!b)if(e._isWebMercator()&&4326===a.wkid)this._converter=v.geographicToWebMercator;else if(a._isWebMercator()&&4326===e.wkid)this._converter=v.webMercatorToGeographic;else return;(e=this._fLayers)&&0<e.length&&t.forEach(e,function(c){if(this._converter){var m=
c.graphics,p,q,y=m?m.length:0;for(p=0;p<y;p++)(q=m[p].geometry)&&m[p].setGeometry(this._converter(q))}d.addLayer(c)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var d=this._map;d&&t.forEach(this.getFeatureLayers(),d.removeLayer,d)},setScaleRange:function(d,e){this.inherited(arguments);t.forEach(this.getFeatureLayers(),function(a){a.setScaleRange(d,e)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(d){this.opacity!=
d&&(t.forEach(this.getFeatureLayers(),function(e){e.setOpacity(d)}),this.opacity=this._options.opacity=d,this.onOpacityChange(d))},onVisibilityChange:function(d){this._fireUpdateStart();t.forEach(this.getFeatureLayers(),function(e){e.setVisibility(d)});this._fireUpdateEnd()},_setMap:function(d,e){this.inherited(arguments);this._map=d;var a=this._div=u.create("div",null,e);h.set(a,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return a},_unsetMap:function(d,e){this._io&&
this._io.cancel();N.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var a=this._div;a&&(e.removeChild(a),u.destroy(a));this._div=null;this.inherited(arguments)}});n.setObject("layers._ServiceGeneratedFeatureCollection",R,g);return R})},"esri/layers/WebTiledLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/url dojo/sniff dojo/string ../config ../kernel ../request ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){function l(d,e){var a=[];if(d&&e&&(e.customLayerParameters||e.customParameters)){var b=N.clone(e.customParameters||{});N.mixin(b,e.customLayerParameters||{});var c=w.urlToObject(d);for(var m in c.query)b.hasOwnProperty(m)||a.push(m+"\x3d"+c.query[m]);d=c.path+(a.length?"?"+a.join("\x26"):"")}return d}R=R(A,{declaredClass:"esri.layers.WebTiledLayer",constructor:function(d,e){e||(e={});this.urlTemplate=d=l(d,e.wmtsInfo);var a=new C(-2.0037508342787E7,-2.003750834278E7,
2.003750834278E7,2.0037508342787E7,new v({wkid:102100})),b=new C(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new v({wkid:102100}));this.initialExtent=e.initialExtent||a;this.fullExtent=e.fullExtent||b;this.tileInfo=e.tileInfo?e.tileInfo:new r({dpi:96,rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},
{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,
scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,
scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147},{level:23,resolution:.01866138385297604,scale:70.5310735}]});this.spatialReference=new v(this.tileInfo.spatialReference.toJson());this.copyright=e.copyright||"";var c=new t(d);a=c.scheme+"://"+c.authority+"/";this.urlPath=d.substring(a.length);this.tileServers=e.tileServers||[];-1===c.authority.indexOf("{subDomain}")&&
this.tileServers.push(a);if(e.subDomains&&0<e.subDomains.length&&1<c.authority.split(".").length){this.subDomains=e.subDomains;var m;n.forEach(e.subDomains,function(B){-1<c.authority.indexOf("${subDomain}")?m=c.scheme+"://"+h.substitute(c.authority,{subDomain:B})+"/":-1<c.authority.indexOf("{subDomain}")&&(m=c.scheme+"://"+c.authority.replace(/\{subDomain\}/gi,B)+"/");this.tileServers.push(m)},this)}this.tileServers=n.map(this.tileServers,function(B){"/"!==B.charAt(B.length-1)&&(B+="/");return B});
this._levelToLevelValue=[];var p=0;n.forEach(this.tileInfo.lods,function(B,z){this._levelToLevelValue[B.level]=B.levelValue||B.level;0===z&&(p=this._levelToLevelValue[B.level])},this);this._wmtsInfo=e.wmtsInfo;var q=N.hitch(this,function(){this.loaded=!0;this.onLoad(this)});if(u("chrome")){a=this.getTileUrl(p,0,0);b=f.defaults.io;var y="with-credentials"===b.useCors?w.canUseXhr(a,!0):-1;(b=-1<y?b.corsEnabledServers[y]:null)&&b.withCredentials?k({url:a,handleAs:"arraybuffer"}).addBoth(function(){q()}):
q()}else q()},getTileUrl:function(d,e,a){d=this._levelToLevelValue[d];var b=this.tileServers[e%this.tileServers.length]+h.substitute(this.urlPath,{level:d,z:d,col:a,x:a,row:e,y:e});b=b.replace(/\{level\}/gi,d).replace(/\{row\}/gi,e).replace(/\{col\}/gi,a).replace(/\{z\}/gi,d).replace(/\{x\}/gi,a).replace(/\{y\}/gi,e);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return w.addProxy(b)},_appendCustomLayerParameters:function(d){var e;if(this._wmtsInfo&&(this._wmtsInfo.customLayerParameters||
this._wmtsInfo.customParameters)){var a=N.clone(this._wmtsInfo.customParameters||{});N.mixin(a,this._wmtsInfo.customLayerParameters||{});for(e in a)d+=(-1===d.indexOf("?")?"?":"\x26")+e+"\x3d"+encodeURIComponent(a[e])}return d}});N.setObject("layers.WebTiledLayer",R,g);return R})},"esri/layers/WMSLayer":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff ../config ../graphic ../kernel ../request ../urlUtils ../dijit/PopupTemplate ../SpatialReference ../geometry/Extent ../geometry/Point ./DynamicMapServiceLayer ./WMSLayerInfo dojo/query".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e){n=n([d],{declaredClass:"esri.layers.WMSLayer",_CRS_TO_EPSG:{84:4326,83:4269,27:4267},_REVERSED_LAT_LONG_RANGES:[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],
[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],_WEB_MERCATOR:[102100,3857,102113,900913],_WORLD_MERCATOR:[3395,54004],allExtents:[],version:null,constructor:function(a,b){var c=v.urlToObject(a);c.query&&(c.query.version||c.query.Version||c.query.VERSION)&&
(this.version=c.query.version||c.query.Version||c.query.VERSION);this.url=a=this._stripParameters(a,"version service request bbox format height width layers srs crs styles transparent bgcolor exceptions time elevation sld wfs".split(" "));this._url=v.urlToObject(a);this._getCapabilitiesURL=a;this._initLayer=t.hitch(this,this._initLayer);this._parseCapabilities=t.hitch(this,this._parseCapabilities);this._getCapabilitiesError=t.hitch(this,this._getCapabilitiesError);b?(this.customParameters=b.customParameters,
this.customLayerParameters=b.customLayerParameters,this.imageFormat=this._getImageFormat(b.format),this.imageTransparency=!1!==b.transparent,this.visibleLayers=b.visibleLayers?b.visibleLayers:[],this.version=b.version||this.version,b.resourceInfo?this._readResourceInfo(b.resourceInfo):this._getCapabilities()):(this.imageFormat="image/png",this.imageTransparency=!0,this.visibleLayers=[],this._getCapabilities());this._blankImageURL=R.toUrl("../images/pixel.png");this.extentProcessor=this._createExtentProcessor(0);
this._createChildLayer()},setVisibleLayers:function(a){this.visibleLayers=(a=this._checkVisibleLayersList(a))?a:[];this.refresh(!0)},setImageFormat:function(a){this.imageFormat=this._getImageFormat(a);this.refresh(!0)},setImageTransparency:function(a){this.imageTransparency=a;this.refresh(!0)},setCustomParameters:function(a,b){this.customParameters=a;this.customLayerParameters=b;this.refresh(!0)},refresh:function(){this._refreshTS=Date.now();this.inherited(arguments);this._childLayer&&this._childLayer.refresh.apply(this._childLayer,
arguments)},getImageUrl:function(a,b,c,m){if(this.visibleLayers&&0!==this.visibleLayers.length){a=this._getImageParams(a,b,c);a=this._mixinCustomLayerParameters(a);b=this.getMapURL;var p;b+=-1===b.indexOf("?")?"?":"";for(p in a)a.hasOwnProperty(p)&&(b+="?"===b.substring(b.length-1,b.length)?"":"\x26",b+=p+"\x3d"+a[p]);b=this.addTimestampToURL(b);m(v.addProxy(b))}else m(this._blankImageURL)},_setMap:function(a,b,c){var m=this.inherited(arguments);a.wrapAround180?this._childLayer&&(this.suspended&&
this._childLayer.suspend(),this._childLayer._setMap(a,m)):this._childLayer=this.extentProcessor=null;return m},_unsetMap:function(a,b){this._childLayer&&this._childLayer._unsetMap(a,this._div);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._childLayer&&this._childLayer.suspend()},onResume:function(){this.inherited(arguments);this._childLayer&&this._childLayer.resume()},_createChildLayer:function(){this._childLayer=new d(null,{extentProcessor:this._createExtentProcessor(1)});
this._childLayer._isChildLayer=!0;this._childLayer.getImageUrl=t.hitch(this,this.getImageUrl);this._childLayer.loaded=!0},_createExtentProcessor:function(a){return t.hitch(this,this._extentProcessor,a)},_extentProcessor:function(a,b){var c=b.extent,m=b.width,p=0;if(c){var q=c.getWidth()/m,y=c.bisect();c=y.extents;var B=c[a];B&&(m=y.marginLeft/q,p=0===a?m:m+c[0].getWidth()/q,m=Math.ceil(B.getWidth()/q),p=Math.ceil(p));c=B}return{extent:c,width:m,marginLeft:p}},_getImageParams:function(a,b,c){var m=
a.spatialReference.wkid;-1===u.indexOf(this.spatialReferences,m)&&a.spatialReference.latestWkid&&(m=a.spatialReference.latestWkid);if(u.some(this._WEB_MERCATOR,function(z){return z==m})){var p=u.filter(this.spatialReferences,function(z){return u.some(this._WEB_MERCATOR,function(D){return D==z})},this);0===p.length&&(p=u.filter(this.spatialReferences,function(z){return u.some(this._WORLD_MERCATOR,function(D){return D==z})},this));m=0<p.length?p[0]:this._WEB_MERCATOR[1]}this.spatialReferences=u.filter(this.spatialReferences,
function(z){return z!==m});this.spatialReferences.unshift(m);p=a.xmin;var q=a.xmax,y=a.ymin;a=a.ymax;var B={SERVICE:"WMS",REQUEST:"GetMap"};B.FORMAT=this.imageFormat;B.TRANSPARENT=this.imageTransparency?"TRUE":"FALSE";B.STYLES="";B.VERSION=this.version;B.LAYERS=this.visibleLayers?this.visibleLayers.toString():null;B.WIDTH=b;B.HEIGHT=c;this.maxWidth<b&&(B.WIDTH=this.maxWidth);this.maxHeight<c&&(B.HEIGHT=this.maxHeight);b=m?m:NaN;isNaN(b)||("1.3.0"==this.version?B.CRS="EPSG:"+b:B.SRS="EPSG:"+b);"1.3.0"==
this.version&&this._useLatLong(b)?B.BBOX=y+","+p+","+a+","+q:B.BBOX=p+","+y+","+q+","+a;return B},_initLayer:function(a,b){this.spatialReference=new A(this.extent.spatialReference);this.initialExtent=new r(this.extent);this.fullExtent=new r(this.extent);this.visibleLayers=this._checkVisibleLayersList(this.visibleLayers);var c=t.hitch(this,function(){this.loaded=!0;this.onLoad(this);var q=this._loadCallback;q&&(delete this._loadCallback,q(this))});if(h("chrome")){var m=f.defaults.io,p="with-credentials"===
m.useCors?v.canUseXhr(this.getMapURL,!0):-1;(m=-1<p?m.corsEnabledServers[p]:null)&&m.withCredentials?w({url:this.getMapURL,handleAs:"text",content:{SERVICE:"WMS",REQUEST:"GetMap"}}).addBoth(function(){c()}):c()}else c()},_readResourceInfo:function(a){a.extent?a.layerInfos?(this.extent=a.extent,this.allExtents[0]=a.extent,this.layerInfos=a.layerInfos,this.description=a.description?a.description:"",this.copyright=a.copyright?a.copyright:"",this.title=a.title?a.title:"",this.getMapURL=a.getMapURL?a.getMapURL:
this._getCapabilitiesURL,this.getFeatureInfoURL=a.getFeatureInfoURL,this.featureInfoFormat=a.featureInfoFormat,this.version=a.version?a.version:"1.3.0",this.maxWidth=a.maxWidth?a.maxWidth:5E3,this.maxHeight=a.maxHeight?a.maxHeight:5E3,this.spatialReferences=a.spatialReferences?a.spatialReferences:[],this.imageFormat=this._getImageFormat(a.format),this.setScaleRange(a.minScale,a.maxScale),this.customLayerParameters=a.customLayerParameters||this.customLayerParameters,this.customParameters=a.customParameters||
this.customParameters,this._initLayer()):this._errorHandler(Error("esri.layers.WMSLayer: unable to find the 'layerInfos' property in resourceInfo")):this._errorHandler(Error("esri.layers.WMSLayer: Unable to find the 'extent' property in resourceInfo."))},_getCapabilities:function(a){var b=this._url.query?this._url.query:{};b.SERVICE="WMS";b.REQUEST="GetCapabilities";this.version&&(b.VERSION=this.version);b=this._mixinCustomParameters(b);var c=this._url.path+"?",m;for(m in b)b.hasOwnProperty(m)&&(c+=
"?"==c.substring(c.length-1,c.length)?"":"\x26",c+=m+"\x3d"+b[m]);w({url:c,handleAs:a||"xml",headers:{"Content-Type":null},load:this._parseCapabilities,error:this._getCapabilitiesError},{usePost:!1})},_parseCapabilities:function(a,b){if(a){if("text"===b.handleAs){try{var c=(new DOMParser).parseFromString(a,"application/xml")}catch(x){}c&&!c.getElementsByTagName("parsererror").length||this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (XML Parse error.)"))}else c=
a;var m=this;this.version=this._getAttributeValue("WMS_Capabilities","version",c,null);this.version||(this.version=this._getAttributeValue("WMT_MS_Capabilities","version",c,"1.3.0"));var p=this._getTag("Service",c);this.title=this._getTagValue("Title",p,"");this.title||(this.title=this._getTagValue("Name",p,""));this.copyright=this._getTagValue("AccessConstraints",p,"");this.description=this._getTagValue("Abstract",p,"");this.maxWidth=parseInt(this._getTagValue("MaxWidth",p,5E3),10);this.maxHeight=
parseInt(this._getTagValue("MaxHeight",p,5E3),10);if(p=this._getTag("Layer",c)){var q=this._getLayerInfo(p),y=0,B=null;p=this._getTag("Capability",c);u.forEach(p.childNodes,function(x){"Layer"==x.nodeName&&(0===y?B=x:(1===y&&q.name&&(q.name="",q.subLayers=[],q.subLayers.push(this._getLayerInfo(B))),q.subLayers.push(this._getLayerInfo(x))),y++)},this);if(q&&(this.layerInfos=q.subLayers,this.layerInfos&&0!==this.layerInfos.length||(this.layerInfos=[q]),this.extent=q.extent,this.extent||(q.extent=new r(this.layerInfos[0].extent.toJson()),
this.extent=q.extent),this.allExtents=q.allExtents,this.allExtents&&this.allExtents.length||(q.allExtents=[],u.forEach(this.layerInfos[0].allExtents,function(x,E){x&&(q.allExtents[E]=new r(x.toJson()))}),this.allExtents=q.allExtents),this.spatialReferences=q.spatialReferences,!this.spatialReferences.length&&0<this.layerInfos.length)){var z=function(x){var E;for(E=0;E<x.subLayers.length;E++){var G=x.subLayers[E],H=G.spatialReferences;!H.length&&G.subLayers&&0<G.subLayers.length&&(H=z(G));if(H.length)return H}return[]};
for(p=0;p<this.layerInfos.length;p++){var D=this.layerInfos[p];this.spatialReferences=this.layerInfos[0].spatialReferences;!this.spatialReferences.length&&D.subLayers&&0<D.subLayers.length&&(this.spatialReferences=z(D));if(this.spatialReferences.length)break}}p=function(x){return(x=N.query("DCPType",m._getTag(x,c)))&&0<x.length&&(x=N.query("HTTP",x[0]))&&0<x.length&&(x=N.query("Get",x[0]))&&0<x.length&&(x=m._getAttributeValue("OnlineResource","xlink:href",x[0],null))?(x.indexOf("\x26")===x.length-
1&&(x=x.substring(0,x.length-1)),m._stripParameters(x,["service","request"])):null};D=function(x){var E=[];0===N.query("Operation",c).length?u.forEach(N.query("Format",m._getTag(x,c)),function(G){E.push(G.text?G.text:G.textContent)}):(u.forEach(N.query("Operation",c),function(G){G.getAttribute("name")===x&&u.forEach(N.query("Format",G),function(H){E.push(H.text?H.text:H.textContent)})}),E.length||u.forEach(N.query("Format",m._getTag(x,c)),function(G){E.push(G.text?G.text:G.textContent)}));return E};
this.getMapURL=p("GetMap")||this._getCapabilitiesURL;this.getMapFormats=D("GetMap");this.getMapFormats.length&&!u.some(this.getMapFormats,function(x){return-1<x.indexOf(this.imageFormat)},this)&&(this.imageFormat=this.getMapFormats[0]);if(this.getFeatureInfoURL=p("GetFeatureInfo"))this.getFeatureInfoFormats=D("GetFeatureInfo"),-1<u.indexOf(this.getFeatureInfoFormats,"text/html")?this.featureInfoFormat="text/html":-1<u.indexOf(this.getFeatureInfoFormats,"text/plain")&&(this.featureInfoFormat="text/plain");
if(!this.featureInfoFormat){var F=function(x){if(x&&(x.queryable=!1,x.subLayers))for(var E=0;E<x.subLayers.length;E++)F(x.subLayers[E])};F(q)}this._initLayer()}else this._errorHandler(Error("esri.layers.WMSLayer: Response does not contain any layers."))}else"xml"===b.handleAs?this._getCapabilities("text"):this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (Response is null.)"))},_getCapabilitiesError:function(a){a&&a.message&&(a.message="GetCapabilities request for "+
this._getCapabilitiesURL+" failed. ("+a.message+")");this._errorHandler(a)},_getLayerInfo:function(a){if(!a)return null;var b=new e;b.name="";b.title="";b.description="";b.allExtents=[];b.spatialReferences=[];b.queryable="1"===a.getAttribute("queryable");b.subLayers=[];var c=this._getTag("LatLonBoundingBox",a);c&&(b.allExtents[0]=this._getExtent(c,4326));var m=this._getTag("EX_GeographicBoundingBox",a);if(m){var p=new r(0,0,0,0,new A({wkid:4326}));p.xmin=parseFloat(this._getTagValue("westBoundLongitude",
m,0));p.ymin=parseFloat(this._getTagValue("southBoundLatitude",m,0));p.xmax=parseFloat(this._getTagValue("eastBoundLongitude",m,0));p.ymax=parseFloat(this._getTagValue("northBoundLatitude",m,0));b.allExtents[0]=p}c||m||(p=new r(-180,-90,180,90,new A({wkid:4326})),b.allExtents[0]=p);b.extent=b.allExtents[0];var q=-1<u.indexOf(["1.0.0","1.1.0","1.1.1"],this.version)?"SRS":"CRS";u.forEach(a.childNodes,function(y){if("Name"==y.nodeName)b.name=(y.text?y.text:y.textContent)||"";else if("Title"==y.nodeName)b.title=
(y.text?y.text:y.textContent)||"";else if("Abstract"==y.nodeName)b.description=(y.text?y.text:y.textContent)||"";else if("BoundingBox"==y.nodeName){var B=y.getAttribute(q);B&&0===B.indexOf("EPSG:")?(B=parseInt(B.substring(5),10),0===B||isNaN(B)||(y="1.3.0"==this.version?this._getExtent(y,B,this._useLatLong(B)):this._getExtent(y,B),b.allExtents[B]=y,b.extent||(b.extent=y))):B&&0===B.indexOf("CRS:")?(B=parseInt(B.substring(4),10),0===B||isNaN(B)||(this._CRS_TO_EPSG[B]&&(B=this._CRS_TO_EPSG[B]),b.allExtents[B]=
this._getExtent(y,B))):(B=parseInt(B,10),0===B||isNaN(B)||(b.allExtents[B]=this._getExtent(y,B)))}else if(y.nodeName==q)y=(y.text?y.text:y.textContent).split(" "),u.forEach(y,function(z){z=-1<z.indexOf(":")?parseInt(z.split(":")[1],10):parseInt(z,10);0===z||isNaN(z)||(this._CRS_TO_EPSG[z]&&(z=this._CRS_TO_EPSG[z]),-1==u.indexOf(b.spatialReferences,z)&&b.spatialReferences.push(z))},this);else if("Style"!=y.nodeName||b.legendURL)"Layer"===y.nodeName&&b.subLayers.push(this._getLayerInfo(y));else if(y=
this._getTag("LegendURL",y))if(y=this._getTag("OnlineResource",y))b.legendURL=y.getAttribute("xlink:href")},this);b.title=b.title||b.name;return b},_getImageFormat:function(a){switch(a?a.toLowerCase():""){case "jpg":return"image/jpeg";case "bmp":return"image/bmp";case "gif":return"image/gif";case "svg":return"image/svg+xml";default:return"image/png"}},getImageFormat:function(){switch(this.imageFormat?this.imageFormat.toLowerCase():""){case "image/jpeg":return"jpg";case "image/bmp":return"bmp";case "image/gif":return"gif";
case "image/svg+xml":return"svg";default:return"png"}},_getExtent:function(a,b,c){if(a){var m=new r;var p=parseFloat(a.getAttribute("minx")),q=parseFloat(a.getAttribute("miny")),y=parseFloat(a.getAttribute("maxx"));a=parseFloat(a.getAttribute("maxy"));c?(m.xmin=isNaN(q)?-1*Number.MAX_VALUE:q,m.ymin=isNaN(p)?-1*Number.MAX_VALUE:p,m.xmax=isNaN(a)?Number.MAX_VALUE:a,m.ymax=isNaN(y)?Number.MAX_VALUE:y):(m.xmin=isNaN(p)?-1*Number.MAX_VALUE:p,m.ymin=isNaN(q)?-1*Number.MAX_VALUE:q,m.xmax=isNaN(y)?Number.MAX_VALUE:
y,m.ymax=isNaN(a)?Number.MAX_VALUE:a);m.spatialReference=new A({wkid:b})}return m},_useLatLong:function(a){var b;for(b=0;b<this._REVERSED_LAT_LONG_RANGES.length;b++){var c=this._REVERSED_LAT_LONG_RANGES[b];if(a>=c[0]&&a<=c[1]){var m=!0;break}}return m},_getTag:function(a,b){var c=N.query(a,b);return c&&0<c.length?c[0]:null},_getTagValue:function(a,b,c){return(a=N.query(a,b))&&0<a.length?a[0].text?a[0].text:a[0].textContent:c},_getAttributeValue:function(a,b,c,m){return(a=N.query(a,c))&&0<a.length?
a[0].getAttribute(b):m},_checkVisibleLayersList:function(a){if(a&&0<a.length&&this.layerInfos&&0<this.layerInfos.length&&"number"==typeof a[0]){var b=[];u.forEach(a,function(c){c<this.layerInfos.length&&b.push(this.layerInfos[c].name)},this);a=b}return a},_stripParameters:function(a,b){var c=v.urlToObject(a),m,p=[];for(m in c.query)c.query.hasOwnProperty(m)&&-1===u.indexOf(b,m.toLowerCase())&&p.push(m+"\x3d"+c.query[m]);return c.path+(p.length?"?"+p.join("\x26"):"")},_getPopupGraphic:function(a,b){var c=
this.visibleLayers;if(!c||0===c.length)return null;var m=this._popupGraphic;m||(m=new C({title:this.title||""}),m.setContent(function(D){var F=document.createElement("div");if(D=D&&D.attributes&&D.attributes.QUERY_URL)F.style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;",F.innerHTML='\x3ciframe sandbox src\x3d"'+D+'" width\x3d"250" height\x3d"147" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" style\x3d"position:absolute;top:0;left:0;width:100%;height:100%;border:0;background:url(\''+
R.toUrl("../dijit/images/loading-throb.gif")+"') transparent center no-repeat;\" onload\x3d\"(event.target || event.srcElement).style.background \x3d 'none';\"\x3e\x3c/iframe\x3e";return F}),m=this._popupGraphic=new g(null,null,{},m),m._layer=this);var p=function(D){var F=[];if(D&&(D.queryable&&D.showPopup&&D.name&&F.push(D.name),D.subLayers))for(var x=0;x<D.subLayers.length;x++){var E=p(D.subLayers[x]);E.length&&(F=F.concat(E))}return F},q=p({subLayers:this.layerInfos});q=u.filter(q,function(D){return-1<
u.indexOf(c,D)});if(q.length){var y=this.getFeatureInfoURL,B=this._getImageParams(a.extent,a.width,a.height);B=this._mixinCustomLayerParameters(B);B.REQUEST="GetFeatureInfo";B.INFO_FORMAT=this.featureInfoFormat;B.QUERY_LAYERS=q.join();B.FEATURE_COUNT=25;"1.3.0"===this.version?(B.I=Math.round(b.x),B.J=Math.round(b.y)):(B.X=Math.round(b.x),B.Y=Math.round(b.y));y+=-1===y.indexOf("?")?"?":"";for(var z in B)B.hasOwnProperty(z)&&(y+="?"===y.substring(y.length-1,y.length)?"":"\x26",y+=z+"\x3d"+B[z]);m.attributes.QUERY_URL=
y;return m}return null},_mixinCustomParameters:function(a){if(this.customParameters)for(var b in this.customParameters)a[b]=encodeURIComponent(this.customParameters[b]);return a},_mixinCustomLayerParameters:function(a){if(this.customLayerParameters||this.customParameters){var b=t.clone(this.customParameters||{});t.mixin(b,this.customLayerParameters||{});for(var c in b)"styles"===c.toLowerCase()&&delete a.STYLES,a[c]=encodeURIComponent(b[c])}return a}});t.setObject("layers.WMSLayer",n,k);return n})},
"esri/layers/WMSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel"],function(R,N,n,t,u){R=R(null,{declaredClass:"esri.layers.WMSLayerInfo",name:null,title:null,description:null,extent:null,legendURL:null,subLayers:[],allExtents:[],spatialReferences:[],queryable:!1,showPopup:!1,constructor:function(h){h&&(this.name=h.name,this.title=h.title,this.description=h.description,this.extent=h.extent,this.legendURL=h.legendURL,this.subLayers=h.subLayers?
h.subLayers:[],this.allExtents=h.allExtents?h.allExtents:[],this.spatialReferences=h.spatialReferences?h.spatialReferences:[],this.queryable=!!h.queryable,this.showPopup=!!h.showPopup)},clone:function(){var h={name:this.name,title:this.title,description:this.description,legendURL:this.legendURL};this.extent&&(h.extent=this.extent.getExtent());h.subLayers=[];n.forEach(this.subLayers,function(g){h.subLayers.push(g.clone())});h.allExtents=[];for(f in this.allExtents){var f=parseInt(f,10);isNaN(f)||(h.allExtents[f]=
this.allExtents[f].getExtent())}h.spatialReferences=[];n.forEach(this.spatialReferences,function(g){h.spatialReferences.push(g)});h.queryable=this.queryable;h.showPopup=this.showPopup;return h}});N.setObject("layers.WMSLayerInfo",R,u);return R})},"esri/layers/WFSLayer":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/on ../request ../kernel ../graphic ../renderers/jsonUtils ../symbols/jsonUtils ../Color ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent ../geometry/Point ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ./LabelClass ./GraphicsLayer".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B){R=R([B],{declaredClass:"esri.layers.WFSLayer",constructor:function(z){this.geometryType=this.describeFeatureTypeUrl=this.getFeatureUrl=this.layerNamespace="";this.fields=[];this.spatialReferences=[];this.fullExtent=null;this.visible=!0;this.renderer=null;this.id="WFSLayer";this._url="";this._version="1.1.0";this._layerName="";this._nsLayerNames={};this._layerDefinedGeometryType="esriGeometryComplex";this._wkid=3857;this._mode="snapshot";
this._maxFeatures=100;this._inverseResponse=this._inverseFilter=!1;this._nsGeometryFieldName=this._getFeatureRequest=this._nsFields="";this._graphicArray=[];this._gmlNS="http://www.opengis.net/gml";this._layerEventHandlers=[];this.customParameters=this._describeFeatureTypeCallback=this._getCapabilitiesCallback=null;this.showLabels=!0;this.labelingInfo=null;z&&(z.id&&(this.id=z.id),this.showLabels=null!==z.showLabels?z.showLabels:!0);this.onError=n.hitch(this,this.onError);this._errorSupport=n.hitch(this,
this._errorSupport);this._parseGml=n.hitch(this,this._parseGml);this._getCapabilities=n.hitch(this,this._getCapabilities);this._getCapabilitiesResponse=n.hitch(this,this._getCapabilitiesResponse);this._describeFeatureTypeResponse=n.hitch(this,this._describeFeatureTypeResponse);this._pointSymbol=new r(r.STYLE_CIRCLE,6,new l(l.STYLE_SOLID,new A([0,255,0]),1),new A([255,0,0]));this._lineSymbol=new l(l.STYLE_SOLID,new A([0,255,0]),3);this._polygonSymbol=new d(d.STYLE_SOLID,new l(l.STYLE_SOLID,new A([255,
0,0]),2),new A([255,255,0,.25]));this.loaded=!1;this._isProjectedOk=!0},initialize:function(z,D){z.id&&(this.id=z.id);z.url&&(this._url=z.url);z.version&&(this._version=z.version);this.customParameters=z.customParameters;this._getCapabilities(D)},selectLayer:function(z,D){this._layerName=z.layerName;this._wkid=z.wkid;this._mode=z.mode;this._maxFeatures=z.maxFeatures;this._inverseResponse=z.swapXY;this._inverseFilter=z.swapXYFilter;this.geometryType=z.geometryType;this._describeFeatureType(D);this.loaded=
!0},toJson:function(){var z={};z.id=this.id;z.url=this._url;z.version=this._version;z.mode="snapshot"===this._mode?0:1;z.name=this._layerName;z.geometryType=this.geometryType;z.wkid=this._wkid;z.maxFeatures=this._maxFeatures;z.swapXY=this._inverseResponse;z.swapXYFilter=this._inverseFilter;z.pointSymbol=this._pointSymbol.toJson();z.lineSymbol=this._lineSymbol.toJson();z.polygonSymbol=this._polygonSymbol.toJson();z.showLabels=this.showLabels;this.labelingInfo&&(z.labelingInfo=t.map(this.labelingInfo,
function(D){return D.toJson()}));this.customParameters&&(z.customParameters=this.customParameters);return z},fromJson:function(z,D){z.id&&(this.id=z.id);z.url&&(this._url=z.url);z.version&&(this._version=z.version);z.mode&&(this._mode=0===z.mode?"snapshot":"onDemand");z.name&&(this._layerName=z.name);z.geometryType&&(this.geometryType=z.geometryType);z.wkid&&(this._wkid=z.wkid);z.maxFeatures&&(this._maxFeatures=z.maxFeatures);z.swapXY&&(this._inverseResponse=z.swapXY);z.swapXYFilter&&(this._inverseFilter=
z.swapXYFilter);z.pointSymbol&&(this._pointSymbol=C.fromJson(z.pointSymbol));z.lineSymbol&&(this._lineSymbol=C.fromJson(z.lineSymbol));z.polygonSymbol&&(this._polygonSymbol=C.fromJson(z.polygonSymbol));this.showLabels=null!=z.showLabels?z.showLabels:!0;z.labelingInfo&&(this.labelingInfo=t.map(z.labelingInfo,function(F){return new y(F)}));this.customParameters=z.customParameters;this._getCapabilities(D);this.loaded=!0},setPointSymbol:function(z){this._pointSymbol=z},setLineSymbol:function(z){this._lineSymbol=
z},setPolygonSymbol:function(z){this._polygonSymbol=z},_setMap:function(z){this._map=z;var D=this.inherited(arguments);this._map&&(this._layerEventHandlers.push(this._map.on("extent-change",n.hitch(this,"refresh"))),this._layerEventHandlers.push(this.on("visibility-change",n.hitch(this,"_visibilityChange"))));this._getFeature();this.refresh();return D},_unsetMap:function(){for(var z=0;z<this._layerEventHandlers.length;z++)u.disconnect(this._layerEventHandlers[z]);this.refresh();this.inherited(arguments)},
refresh:function(){this.clear();this.redraw();"ondemand"===this._mode.toLowerCase()&&this._fireUpdateStart()},redraw:function(){if(this.visible)for(var z=0;z<this._graphicArray.length;z++){var D=this._graphicArray[z],F=D.geometry,x=null;"point"===F.type?x=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"multipoint"===F.type?x=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"polyline"===F.type?x=this.renderer?this.renderer.getSymbol(D):this._lineSymbol:"polygon"===F.type&&(x=
this.renderer?this.renderer.getSymbol(D):this._polygonSymbol);D.setSymbol(x);this.add(D)}},_visibilityChange:function(z){this.visible=z.visible;this.redraw()},onUpdateStart:function(){this._getFeature()},onUpdateEnd:function(){this.clear();this.redraw()},setLabelingInfo:function(z){z?(this.labelingInfo=z,this._fixLabelExpr()):delete this.labelingInfo;this.onLabelingInfoChange()},onLabelingInfoChange:function(){},_fixLabelExpr:function(){var z=/\[([^\[\]]+)\]/ig,D,F=this,x=function(E,G){var H=F._getField(G,
!0);return"["+(H&&H.name||G)+"]"};t.forEach(this.labelingInfo,function(E){if(D=E.labelExpression)E.labelExpression=D.replace(z,x)})},_getField:function(z,D){var F=this.fields;if(!F||0===F.length)return null;var x;D&&(z=z.toLowerCase());t.some(F,function(E){var G=!1;(G=D?E&&E.name.toLowerCase()===z?!0:!1:E&&E.name===z?!0:!1)&&(x=E);return G});return x},setCustomParameters:function(z){this.customParameters=z;this._getFeature();this.refresh()},_getCapabilities:function(z){this._getCapabilitiesCallback=
z;z=n.trim(this._url);if(""===z)this.onError("WFSLayer: url is invalid");else if("1.0.0"!==this._version&&"1.1.0"!==this._version&&"2.0.0"!==this._version)this.onError("WFSLayer: version is invalid");else if(""!==z){var D=z.indexOf("?");D=this._checkForUrlInUrl(z,D);D="?"===z.charAt(z.length-1)?"":-1===D?"?":"\x26";z=z+D+"service\x3dWFS\x26request\x3dGetCapabilities\x26version\x3d"+this._version;z=this._appendCustomParameters(z);g({url:z,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._getCapabilitiesResponse,
this._errorSupport)}},_errorSupport:function(z){this.onError(z)},_getCapabilitiesResponse:function(z){var D,F,x,E=new DOMParser;try{var G=E.parseFromString(z,"text/xml"),H=this._readExceptionReport(G,z);if(H)this.onError("WFSLayer: getCapabilities - returns exception: "+H);else{var J=G.documentElement.attributes.getNamedItem("version");if(J){this._version=J.value;var M="2.0.0"===this._version?"http://www.opengis.net/wfs/2.0":"http://www.opengis.net/wfs";if("2.0.0"===this._version){var K=G.getElementsByTagNameNS("http://www.opengis.net/ows/1.1",
"Operation");for(D=0;D<K.length;D++){if((x=K[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===x.value){var L=K[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Get");this.describeFeatureTypeUrl=L[0].attributes.getNamedItem("xlink:href").value}if(x&&"GetFeature"===x.value){var U=K[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Post");this.getFeatureUrl=U[0].attributes.getNamedItem("xlink:href").value}}}else if("1.1.0"===this._version)for(K=G.getElementsByTagNameNS("http://www.opengis.net/ows",
"Operation"),D=0;D<K.length;D++)(x=K[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===x.value&&(L=K[D].getElementsByTagNameNS("http://www.opengis.net/ows","Get"),this.describeFeatureTypeUrl=L[0].attributes.getNamedItem("xlink:href").value),x&&"GetFeature"===x.value&&(U=K[D].getElementsByTagNameNS("http://www.opengis.net/ows","Post"))&&U.length&&(this.getFeatureUrl=U[0].attributes.getNamedItem("xlink:href").value);else if("1.0.0"===this._version){var ba=G.getElementsByTagNameNS(M,"DescribeFeatureType");
if(!ba||!ba.length){this.onError("WFSLayer: getCapabilities - no describeFeatureType info");return}L=ba[0].getElementsByTagNameNS(M,"Get");this.describeFeatureTypeUrl=L[0].attributes.getNamedItem("onlineResource").value;var V=G.getElementsByTagNameNS(M,"GetFeature");if(!V||!V.length){this.onError("WFSLayer: getCapabilities - no GetFeature info");return}(U=V[0].getElementsByTagNameNS(M,"Post"))&&U.length&&(this.getFeatureUrl=U[0].attributes.getNamedItem("onlineResource").value)}this._nsLayerNames=
{};z=[];var aa=G.getElementsByTagNameNS(M,"FeatureTypeList");for(D=0;D<aa.length;D++){var ha=aa[D].getElementsByTagNameNS(M,"FeatureType");for(F=0;F<ha.length;F++){var ia=ha[F],ka=ia.getElementsByTagNameNS(M,"Name")[0],qa=ka.textContent,Y=qa.indexOf(":"),Q=qa.substring(0,Y),fa=qa.substring(Y+1),S=ka.lookupNamespaceURI(Q);null===S&&(S=ka.lookupNamespaceURI(null));this._nsLayerNames[fa]={prefix:Q,namespace:S};var O=ia.getElementsByTagNameNS(M,"Title"),I=0<O.length?O[0].textContent:"";""===I&&(I=fa);
this.spatialReferences=this._readFactoryCodes(this._version,ia);var Z=this._readDefaultBBOX(this._version,ia);z.push({name:fa,title:I,spatialReferences:this.spatialReferences,extent:Z})}}this._describeFeatureType();var W=this._getCapabilitiesCallback;W&&W(z)}else this.onError("WFSLayer: getCapabilities - document not recognized.")}}catch(ca){this.onError("WFSLayer: getCapabilities - parsing error")}},_readFactoryCodes:function(z,D){var F,x=[];if("2.0.0"===z||"1.1.0"===z){var E=D.getElementsByTagNameNS("*",
"DefaultSRS");this._addCodeList(x,E[0]);E=D.getElementsByTagNameNS("*","DefaultCRS");this._addCodeList(x,E[0]);E=D.getElementsByTagNameNS("*","OtherSRS");for(F=0;F<E.length;F++)this._addCodeList(x,E[F]);E=D.getElementsByTagNameNS("*","OtherCRS");for(F=0;F<E.length;F++)this._addCodeList(x,E[F])}else"1.0.0"===z&&(E=D.getElementsByTagNameNS("*","SRS"),this._addCodeList(x,E[0]));for(E=!1;0<x.length;){4326===x[0]&&(E=!0);break}E||x.push(4326);return x},_addCodeList:function(z,D){if(D){var F=D.textContent.match(/\d+/g);
0<F.length&&(F=parseInt(F[F.length-1],10),84===F&&(F=4326),z.push(F))}},_readDefaultBBOX:function(z,D){if("2.0.0"===z||"1.1.0"===z){var F=D.getElementsByTagNameNS("*","WGS84BoundingBox");if(!F[0]||!F[0].attributes)return[];var x=F[0].getElementsByTagNameNS("*","LowerCorner");var E=F[0].getElementsByTagNameNS("*","UpperCorner");if(0>=x.length||0>=E.length)return[];var G=x[0].textContent;F=G.indexOf(" ");x=G.substring(0,F);G=G.substring(F+1);F=E[0].textContent;var H=F.indexOf(" ");E=F.substring(0,H);
F=F.substring(H+1)}else if("1.0.0"===z){F=D.getElementsByTagNameNS("*","LatLongBoundingBox");if(!F[0]||!F[0].attributes)return[];x=F[0].attributes.getNamedItem("minx").value;G=F[0].attributes.getNamedItem("miny").value;E=F[0].attributes.getNamedItem("maxx").value;F=F[0].attributes.getNamedItem("maxy").value}x=parseFloat(x,10);G=parseFloat(G,10);E=parseFloat(E,10);F=parseFloat(F,10);return[x,G,E,F]},_describeFeatureType:function(z){if(""!==this._layerName)if(""===this.describeFeatureTypeUrl)this.onError("WFSLayer: invalid describeFeatureType url");
else if(""===this._wkid)this.onError("WFSLayer: invalid wkid");else if("snapshot"!==this._mode&&"onDemand"!==this._mode)this.onError("WFSLayer: invalid mode");else if(""===this._maxFeatures||0>this._maxFeatures||1E6<this._maxFeatures)this.onError("WFSLayer: invalid maxFeatures");else if(this._describeFeatureTypeCallback=z,z=n.trim(this.describeFeatureTypeUrl),""!==z){var D=z.indexOf("?");D=this._checkForUrlInUrl(z,D);var F="?"===z.charAt(z.length-1)?"":-1===D?"?":"\x26",x=this._nsLayerNames[this._layerName];
if(void 0===x)this.onError("WFSLayer: invalid layerName");else D=x.prefix,x=x.namespace,z=z+F+"service\x3dWFS\x26request\x3dDescribeFeatureType\x26version\x3d"+this._version,z+="\x26typeName\x3d",""!==D&&(z+=D+":"),z+=encodeURIComponent(this._layerName),""!==D&&(z+="\x26namespace\x3dxmlns("+D+"\x3d"+encodeURIComponent(x)+")"),z=this._appendCustomParameters(z),g({url:z,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._describeFeatureTypeResponse,this._errorSupport)}},_describeFeatureTypeResponse:function(z){var D=
(new DOMParser).parseFromString(z,"text/xml");if(z=this._readExceptionReport(D,z))this.onError("WFSLayer: DescribeFeatureType - returns exception: "+z);else{this.fields=[];z=D.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","schema");for(D=0;D<z.length;D++){var F=this._readAllFields(z[D]);null!==F&&(this._layerDefinedGeometryType=F[0],this.fields=F[1])}this.geometryType&&""!==this.geometryType||(this.geometryType=this._layerDefinedGeometryType);for(D=0;D<this.fields.length;D++)z=this.fields[D],
"esriFieldTypeGeometry"===z.type&&(this._nsGeometryFieldName=z.name);this.layerNamespace=this._nsLayerNames[this._layerName].namespace;if(0===this.fields.length)this.onError("WFSLayer: DescribeFeatureType - can't get fields");else this._getFeature(),(D=this._describeFeatureTypeCallback)&&D(this.fields)}},_readAllFields:function(z){for(var D=z.childNodes,F=0;F<D.length;F++){var x=D[F];if("element"===x.localName){var E=x.attributes;if(E.name.value===this._layerName)return(D=E.type)?(x=D.value,D=x.indexOf(":"),
x=x.substring(D+1),this._readFieldsFromGlobalComplextType(z,x)):this._readFieldsFromLocalComplextType(x)}}return null},_readFieldsFromGlobalComplextType:function(z,D){for(var F=z.childNodes,x=0;x<F.length;x++){var E=F[x];if("complexType"===E.localName&&E.attributes.name.value===D)return this._readFieldsFromLocalComplextType(E)}return null},_readFieldsFromLocalComplextType:function(z){for(var D=[],F="esriGeometryComplex",x=z.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","element"),E=0;E<
x.length;E++){var G=x[E],H="",J=G.attributes.getNamedItem("name");J&&(H=J.value);if(""!==H){var M=z="",K=G.attributes.getNamedItem("type");J="unknown";if(null!==K){M=K.value;var L=M.indexOf(":");z=M.substring(0,L);M=M.substring(L+1);J=K.lookupNamespaceURI(z);null===J&&(J=K.lookupNamespaceURI(null))}if(""===M){G=G.childNodes;for(var U=0;U<G.length;U++)if(z=G[U],"simpleType"===z.localName){z=z.childNodes;for(U=0;U<z.length;U++)if(node2=z[U],"restriction"===node2.localName){K=node2.attributes.getNamedItem("base");
M=K.value;L=M.indexOf(":");z=M.substring(0,L);M=M.substring(L+1);break}if(""!==M)break}}G="Unknown";switch(M){case "integer":case "nonPositiveInteger":case "negativeInteger":case "long":case "int":case "short":case "byte":case "nonNegativeInteger":case "unsignedLong":case "unsignedInt":case "unsignedShort":case "unsignedByte":case "positiveInteger":G="esriFieldTypeInteger";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "float":case "double":case "decimal":G="esriFieldTypeDouble";D.push({name:H,
alias:H,type:G,wfsNamespace:J});break;case "boolean":case "string":case "gYearMonth":case "gYear":case "gMonthDay":case "gDay":case "gMonth":case "anyURI":case "QName":case "NOTATION":case "normalizedString":case "token":case "language":case "IDREFS":case "ENTITIES":case "NMTOKEN":case "NMTOKENS":case "Name":case "NCName":case "ID":case "IDREF":case "ENTITY":G="esriFieldTypeString";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "duration":case "dateTime":case "time":case "date":G="esriFieldTypeDate";
D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "PointPropertyType":case "MultiPointPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPoint";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "MultiCurvePropertyType":case "MultiLineStringPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolyline";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "MultiSurfacePropertyType":case "MultiPolygonPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolygon";D.push({name:H,
alias:H,type:G,wfsNamespace:J});break;case "GeometryPropertyType":case "MultiGeometryPropertyType":G="esriFieldTypeGeometry",F="esriGeometryComplex",D.push({name:H,alias:H,type:G,wfsNamespace:J})}}}return[F,D]},_getFeature:function(){var z="\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3cGetFeature \n xmlns:xsi\x3d'http://www.w3.org/2001/XMLSchema-instance'\n xmlns:gml\x3d'http://www.opengis.net/gml'\n xmlns:ogc\x3d'http://www.opengis.net/ogc'\n xmlns:wfs\x3d'http://www.opengis.net/wfs'\n";
z="2.0.0"===this._version?z+" xmlns\x3d'http://www.opengis.net/wfs/2.0'\n":z+" xmlns\x3d'http://www.opengis.net/wfs'\n";var D=this._nsLayerNames[this._layerName];if(void 0===D)this.onError("WFSLayer: invalid layerName");else{var F=D.prefix;D=D.namespace;if("ondemand"===this._mode.toLowerCase()&&""===this._nsGeometryFieldName)this.onError("WFSLayer: GetFeature - can't use 'onDemand' mode as geometryFieldName is unknown.");else if(z+=" xmlns:"+F+"\x3d'"+D+"'\n",z="2.0.0"===this._version?z+(" version\x3d'"+
this._version+"' service\x3d'WFS' count\x3d'"+this._maxFeatures+"'\x3e\n"):z+(" version\x3d'"+this._version+"' service\x3d'WFS' maxFeatures\x3d'"+this._maxFeatures+"'\x3e\n"),z="2.0.0"===this._version?z+(" \x3cQuery typeNames\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"):z+(" \x3cwfs:Query typeName\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"),"ondemand"===this._mode.toLowerCase()&&(z=z+"  \x3cogc:Filter xmlns:ogc\x3d'http://www.opengis.net/ogc'\x3e\n   \x3cogc:BBOX\x3e\n    \x3cogc:PropertyName\x3e"+
(F+":"+this._nsGeometryFieldName+"\x3c/ogc:PropertyName\x3e\n"),z+="    \x3cgml:Box srsName\x3d'EPSG:"+this._wkid+"'\x3e\n",z=this._inverseFilter?z+"      \x3cgml:coordinates\x3e{ymin},{xmin} {ymax},{xmax}\x3c/gml:coordinates\x3e\n":z+"      \x3cgml:coordinates\x3e{xmin},{ymin} {xmax},{ymax}\x3c/gml:coordinates\x3e\n",z+="    \x3c/gml:Box\x3e\n   \x3c/ogc:BBOX\x3e\n  \x3c/ogc:Filter\x3e\n"),z="2.0.0"===this._version?z+" \x3c/Query\x3e\n":z+" \x3c/wfs:Query\x3e\n",this._getFeatureRequest=z+"\x3c/GetFeature\x3e\n",
""===this.getFeatureUrl)this.onError("WFSLayer: getFeature - server doesn't support POST method.");else if(""!==this._getFeatureRequest&&this._map&&null!==this._map.spatialReference.wkid){z=this._getFeatureRequest;if("ondemand"===this._mode.toLowerCase()){z=this._map.extent.xmin;F=this._map.extent.ymin;D=this._map.extent.xmax;var x=this._map.extent.ymax,E={},G=this._map.spatialReference,H=new e(this._wkid);this._projectFromSRToSR(G,H,z,F,E)&&(z=E.x,F=E.y);this._projectFromSRToSR(G,H,D,x,E)&&(D=E.x,
x=E.y);z=this._getFeatureRequest.replace(/{xmin}/,z).replace(/{ymin}/,F).replace(/{xmax}/,D).replace(/{ymax}/,x)}F=this._appendCustomParameters(this.getFeatureUrl);g({url:F,handleAs:"text",headers:{"Content-Type":"text/xml"},postData:z},{usePost:!0}).then(this._parseGml,this._errorSupport)}}},_parseGml:function(z){if(this._map&&this._map.spatialReference&&this._map.spatialReference.wkid){var D=(new DOMParser).parseFromString(z,"text/xml");if(z=this._readExceptionReport(D,z))this.onError("WFSLayer: GetFeature - returns exception: "+
z);else this._gmlNS="2.0.0"===this._version?"http://www.opengis.net/gml/3.2":"http://www.opengis.net/gml",""===this._wkid&&(this._wkid=this._map.spatialReference.wkid),this._graphicArray=this._readFeatureMembers(D,this._wkid,2,this._nsLayerNames[this._layerName].namespace,this._layerName),this.fullExtent=this._createFullExtent(this._graphicArray),this.onLabelingInfoChange(),"ondemand"===this._mode.toLowerCase()?this._fireUpdateEnd():this.refresh()}},_limit4326:function(z){for(var D=0;D<z.length;D++){var F=
z[D].geometry;4326===F.spatialReference.wkid&&(F.x=this._limit4326X(F.x),F.y=this._limit4326Y(F.y))}},_limit4326X:function(z){180<=z&&(z=179.99);-180>=z&&(z=-179.99);return z},_limit4326Y:function(z){90<=z&&(z=89.99);-90>=z&&(z=-89.99);return z},_createFullExtent:function(z){for(var D=null,F=0;F<z.length;F++){var x=z[F].geometry,E=null;(E="point"===x.geometryType?new b(x.x,x.y,x.x,x.y,x.spatialReference):x.getExtent())&&(D=null===D?E:D.union(E))}return D},_readExceptionReport:function(z,D){return 0<
z.getElementsByTagNameNS("*","ExceptionReport").length||0<z.getElementsByTagNameNS("*","ServiceExceptionReport").length?D:""},_readFeatureMembers:function(z,D,F,x,E){var G=this._readWkidFromNode(z);-1!=G&&(D=G);G=this._readSrsDimension(z);0!==G&&(F=G);var H=[];var J=z.getElementsByTagNameNS("*","featureMembers");for(G=0;G<J.length;G++){var M=J[G];var K=M.getElementsByTagNameNS(x,E);0===K.length&&(K=M.getElementsByTagNameNS(null,E));0===K.length&&(K=M.getElementsByTagNameNS("*",E));for(M=0;M<K.length;M++)this._readLayer(H,
K[M],D,F)}J=z.getElementsByTagNameNS("*","featureMember");for(G=0;G<J.length;G++)for(M=J[G],K=M.getElementsByTagNameNS(x,E),0===K.length&&(K=M.getElementsByTagNameNS(null,E)),0===K.length&&(K=M.getElementsByTagNameNS("*",E)),M=0;M<K.length;M++)this._readLayer(H,K[M],D,F);J=z.getElementsByTagNameNS("*","member");for(G=0;G<J.length;G++)for(M=J[G],K=M.getElementsByTagNameNS(x,E),0===K.length&&(K=M.getElementsByTagNameNS(null,E)),0===K.length&&(K=M.getElementsByTagNameNS("*",E)),M=0;M<K.length;M++)this._readLayer(H,
K[M],D,F);return H},_readLayer:function(z,D,F,x){var E=this._readSrsDimension(D);0!==E&&(x=E);var G=D.childNodes,H="",J=null;for(D=0;D<G.length;D++){var M=G[D];if(1==M.nodeType&&(E=M.localName,"boundedBy"!==E)){M=this._readGeometry(M,F,x);if(!this._isProjectedOk){this._isProjectedOk=!0;break}if(null!==M&&(J=M,H=E,"point"!==J.geometryType||"esriGeometryPolygon"!==this.geometryType&&"esriGeometryPolyline"!==this.geometryType))break}}if(J){F={};for(D=0;D<G.length;D++)if(M=G[D],E=M.localName,x=M.textContent,
E!==H)for(M=0;M<this.fields.length;M++){var K=this.fields[M];K.name==E&&(F[E]="esriFieldTypeDouble"===K.type?parseFloat(x,10):"esriFieldTypeInteger"===K.type?parseInt(x,10):x.trim())}this._convertWFSGeometryToGraphicObjects(z,J,F)}},_convertWFSGeometryToGraphicObjects:function(z,D,F){if("point"===D.geometryType&&("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType)){var x=new w;D=new c(D);x.setGeometry(D);x.setAttributes(F);z.push(x)}else if("multipoint"===D.geometryType&&
("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType))x=new w,D=new m(D),x.setGeometry(D),x.setAttributes(F),z.push(x);else if("polyline"===D.geometryType&&("esriGeometryPolyline"===this.geometryType||"esriGeometryComplex"===this.geometryType))x=new w,D=new p(D),x.setGeometry(D),x.setAttributes(F),z.push(x);else if("polygon"===D.geometryType&&("esriGeometryPolygon"===this.geometryType||"esriGeometryComplex"===this.geometryType))x=new w,D=new q(D),x.setGeometry(D),x.setAttributes(F),
z.push(x);else if("multigeometry"===D.geometryType)for(x=0;x<D.length;x++)this._convertWFSGeometryToGraphicObjects(z,D[x],F)},_readGeometry:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);var E=z.getElementsByTagNameNS(this._gmlNS,"MultiSurface");if(1<=E.length)for(x=0;x<E.length;)return this._readMultiSurface(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"MultiCurve");if(1<=E.length){var G=[];for(x=0;x<E.length;x++){var H=this._readMultiCurve(E[x],
D,F);for(z=0;z<H.length;z++)G.push(H[z])}return{geometryType:"polyline",paths:G,spatialReference:{wkid:this._map.spatialReference.wkid}}}E=z.getElementsByTagNameNS(this._gmlNS,"MultiGeometry");for(x=0;x<E.length;)return this._readMultiGeometry(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"Geometry");for(x=0;x<E.length;)return this._readGeometry(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"GeometryCollection");for(x=0;x<E.length;)return this._readGeometryCollection(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,
"Surface");for(x=0;x<E.length;)return this._readSurface(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"Curve");for(x=0;x<E.length;)return this._readCurve(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"MultiPolygon");for(x=0;x<E.length;)return this._readMultiPolygon(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"Polygon");for(x=0;x<E.length;)return this._readPolygon(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"MultiLineString");for(x=0;x<E.length;)return this._readMultiLineString(E[x],
D,F);E=z.getElementsByTagNameNS(this._gmlNS,"LineString");for(x=0;x<E.length;){D=this._readLineString(E[x],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};x=[];for(z=0;z<D.length;z++)x.push(D[z]);F.paths.push(x);return F}E=z.getElementsByTagNameNS(this._gmlNS,"LinearRing");for(x=0;x<E.length;)return this._readLinearRing(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"Box");if(1<=E.length)for(x=0;x<E.length;)return this._readBox(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,
"Envelope");for(x=0;x<E.length;)return this._readEnvelope(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"MultiPoint");if(1<=E.length)for(x=0;x<E.length;)return this._readMultiPoint(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"Point");for(x=0;x<E.length;)return this._readPoint(E[x],D,F);return null},_readGeometryCollection:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};
var E=z.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(z=0;z<E.length;z++){var G=this._readGeometryMember(E[z],D,F);x.push(G)}return x},_readMultiGeometry:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(z=0;z<E.length;z++){var G=this._readGeometryMember(E[z],D,F);x.push(G)}return x},
_readSurface:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);var E=[];E.geometryType="multigeometry";E.spatialReference={wkid:this._map.spatialReference.wkid};var G=z.getElementsByTagNameNS(this._gmlNS,"Point");for(x=0;x<G.length;x++)E.push(this._readPoint(G[x],D,F));G=z.getElementsByTagNameNS(this._gmlNS,"patches");for(x=0;x<G.length;x++){z=this._readPatches(G[x],D,F);for(var H=0;H<z.length;H++)E.push(z[H])}return E},_readMultiSurface:function(z,
D,F){var x;var E=this._readWkidFromNode(z);-1!=E&&(D=E);E=this._readSrsDimension(z);0!==E&&(F=E);var G=[];G.geometryType="multigeometry";G.spatialReference={wkid:this._map.spatialReference.wkid};var H=z.getElementsByTagNameNS(this._gmlNS,"surfaceMember");for(E=0;E<H.length;E++){var J=this._readSurfaceMember(H[E],D,F);for(x=0;x<J.length;x++)G.push(J[x])}H=z.getElementsByTagNameNS(this._gmlNS,"surfaceMembers");for(E=0;E<H.length;E++)for(z=this._readSurfaceMembers(H[E],D,F),x=0;x<z.length;x++)G.push(z[x]);
return G},_readCurve:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var E=z.getElementsByTagNameNS(this._gmlNS,"segments");for(z=0;z<E.length;z++)for(var G=this._readSegments(E[z],D,F),H=0;H<G.length;H++)x.paths.push(G[H]);return x},_readSegments:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];
x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"LineStringSegment");for(z=0;z<E.length;z++){var G=this._readLineStringSegment(E[z],D,F);x.push(G)}return x},_readLineStringSegment:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"posList");0<z.length;)return this._readPosList(z[0],D,F)},_readMultiCurve:function(z,D,F){var x;
var E=this._readWkidFromNode(z);-1!=E&&(D=E);E=this._readSrsDimension(z);0!==E&&(F=E);var G=[];G.spatialReference={wkid:this._map.spatialReference.wkid};var H=z.getElementsByTagNameNS(this._gmlNS,"curveMember");for(E=0;E<H.length;E++){var J=this._readCurveMember(H[E],D,F);for(x=0;x<J.length;x++)G.push(J[x])}H=z.getElementsByTagNameNS(this._gmlNS,"curveMembers");for(E=0;E<H.length;E++)for(J=this._readCurveMembers(H[E],D,F),x=0;x<J.length;x++)G.push(J[x]);return G},_readGeometryMember:function(z,D,
F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);var E=z.getElementsByTagNameNS(this._gmlNS,"Point");for(x=0;x<E.length;)return this._readPoint(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"LineString");for(x=0;x<E.length;){D=this._readLineString(E[x],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};x=[];for(z=0;z<D.length;z++)x.push(D[z]);F.paths.push(x);return F}E=z.getElementsByTagNameNS(this._gmlNS,"Polygon");
for(x=0;x<E.length;)return this._readPolygon(E[x],D,F);return null},_readSurfaceMember:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"Polygon");for(z=0;z<E.length;z++){var G=this._readPolygon(E[z],D,F);x.push(G)}return x},_readSurfaceMembers:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);
0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"Polygon");for(z=0;z<E.length;z++){var G=this._readPolygon(E[z],D,F);x.push(G)}return x},_readCurveMember:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"LineString");
for(z=0;z<E.length;z++){var G=this._readLineString(E[z],D,F);x.push(G)}return x},_readCurveMembers:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"LineString");for(z=0;z<E.length;z++){var G=this._readLineString(E[z],D,F);x.push(G)}return x},_readBox:function(z,D,F){var x,E,G,H,J=this._readWkidFromNode(z);-1!=
J&&(D=J);J=this._readSrsDimension(z);0!==J&&(F=J);J={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var M=z.getElementsByTagNameNS(this._gmlNS,"coordinates");for(x=0;x<M.length;x++)if(E=this._readCoordinates(M[x],D,F)){if(1<=E.length){var K=G=E[0][0];var L=H=E[0][1]}1<=E.length&&(G=E[1][0],H=E[1][1]);J.rings.push([[K,L],[K,H],[G,H],[G,L],[K,L]]);return J}M=z.getElementsByTagNameNS(this._gmlNS,"coord");return 2<=M.length?((z=this._readCoord(M[0],D,F))&&1<=
z.length&&(K=G=z[0][0],L=H=z[0][1]),(D=this._readCoord(M[1],D,F))&&1<=D.length&&(G=D[0][0],H=D[0][1]),J.rings.push([[K,L],[K,H],[G,H],[G,L],[K,L]]),J):null},_readEnvelope:function(z,D,F){var x,E;var G=this._readWkidFromNode(z);-1!=G&&(D=G);G=this._readSrsDimension(z);0!==G&&(F=G);var H=z.getElementsByTagNameNS(this._gmlNS,"lowerCorner");for(G=0;G<H.length;G++){var J=this._readCoordinates(H[G],D,F);J&&(x=J[0])}H=z.getElementsByTagNameNS(this._gmlNS,"upperCorner");for(G=0;G<H.length;G++)(z=this._readCoordinates(H[G],
D,F))&&(E=z[0]);return x&&E?{geometryType:"polygon",rings:[[[x[0],x[1]],[x[0],E[1]],[E[0],E[1]],[E[0],x[1]],[x[0],x[1]]]],spatialReference:{wkid:this._map.spatialReference.wkid}}:null},_readPolygon:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);var E={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var G=z.getElementsByTagNameNS(this._gmlNS,"outerBoundaryIs");for(x=0;x<G.length;x++){var H=this._readOuterBoundaryIs(G[x],
D,F);E.rings.push(H)}G=z.getElementsByTagNameNS(this._gmlNS,"innerBoundaryIs");for(x=0;x<G.length;x++)H=this._readInnerBoundaryIs(G[x],D,F),E.rings.push(H);G=z.getElementsByTagNameNS(this._gmlNS,"exterior");for(x=0;x<G.length;x++)H=this._readExterior(G[x],D,F),E.rings.push(H);G=z.getElementsByTagNameNS(this._gmlNS,"interior");for(x=0;x<G.length;x++)H=this._readInterior(G[x],D,F),E.rings.push(H);return E},_readPolygonMember:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);
0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"Polygon");0<z.length;)return this._readPolygon(z[0],D,F);return null},_readMultiPolygon:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x=[];x.geometryType="multigeometry";x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"polygonMember");for(z=0;z<E.length;z++){var G=this._readPolygonMember(E[z],D,F);x.push(G)}return x},_readOuterBoundaryIs:function(z,
D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<z.length;)return this._readLinearRing(z[0],D,F);return null},_readInnerBoundaryIs:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<z.length;)return this._readLinearRing(z[0],D,F);return null},_readExterior:function(z,D,F){var x=this._readWkidFromNode(z);
-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<z.length;)return this._readLinearRing(z[0],D,F);return null},_readInterior:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<z.length;)return this._readLinearRing(z[0],D,F);return null},_readPatches:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);
0!==x&&(F=x);x=[];x.spatialReference={wkid:this._map.spatialReference.wkid};var E=z.getElementsByTagNameNS(this._gmlNS,"PolygonPatch");for(z=0;z<E.length;z++)x.push(this._readPolygon(E[z],D,F));return x},_readLineString:function(z,D,F){var x,E;var G=this._readWkidFromNode(z);-1!=G&&(D=G);G=this._readSrsDimension(z);0!==G&&(F=G);var H=[];H.spatialReference={wkid:this._map.spatialReference.wkid};var J=z.getElementsByTagNameNS(this._gmlNS,"coordinates");for(G=0;G<J.length;G++)if(E=this._readCoordinates(J[G],
D,F))for(x=0;x<E.length;x++){var M=E[x];H.push(M)}J=z.getElementsByTagNameNS(this._gmlNS,"coord");for(G=0;G<J.length;G++)if(E=this._readCoord(J[G],D,F))for(x=0;x<E.length;x++)M=E[x],H.push(M);J=z.getElementsByTagNameNS(this._gmlNS,"posList");for(G=0;G<J.length;G++)if(E=this._readPosList(J[G],D,F))for(x=0;x<E.length;x++)M=E[x],H.push(M);return H},_readLineStringMember:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,
"LineString");0<z.length;)return this._readLineString(z[0],D,F);return null},_readMultiLineString:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var E=z.getElementsByTagNameNS(this._gmlNS,"lineStringMember");for(z=0;z<E.length;z++){var G=this._readLineStringMember(E[z],D,F);G&&x.paths.push(G)}return 1<=x.paths.length?x:null},_readPoint:function(z,D,F){var x;
var E=this._readWkidFromNode(z);-1!=E&&(D=E);E=this._readSrsDimension(z);0!==E&&(F=E);var G=z.getElementsByTagNameNS(this._gmlNS,"coordinates");for(E=0;E<G.length;E++)if(x=this._readCoordinates(G[E],D,F))return{geometryType:"point",x:x[0][0],y:x[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};G=z.getElementsByTagNameNS(this._gmlNS,"pos");for(E=0;E<G.length;E++)if((x=this._readPos(G[E],D,F))&&0<x.length)return{geometryType:"point",x:x[0][0],y:x[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};
G=z.getElementsByTagNameNS(this._gmlNS,"coord");for(E=0;E<G.length;E++)if(z=this._readCoord(G[E],D,F))return{geometryType:"point",x:z[0][0],y:z[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};return null},_readPointMember:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);for(z=z.getElementsByTagNameNS(this._gmlNS,"Point");0<z.length;)return this._readPoint(z[0],D,F);return null},_readMultiPoint:function(z,D,F){var x=this._readWkidFromNode(z);
-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);x={geometryType:"multipoint",points:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var E=z.getElementsByTagNameNS(this._gmlNS,"pointMember");for(z=0;z<E.length;z++){var G=this._readPointMember(E[z],D,F);G&&x.points.push([G.x,G.y])}return 1<=x.points.length?x:null},_readLinearRing:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);var E=z.getElementsByTagNameNS(this._gmlNS,"coordinates");
for(x=0;x<E.length;)return this._readCoordinates(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"posList");for(x=0;x<E.length;)return this._readCoordinates(E[x],D,F);E=z.getElementsByTagNameNS(this._gmlNS,"pos");for(x=0;x<E.length;)return this._readPos(E[x],D,F)},_readCoordinatesBody:function(z,D,F){var x=new e(z);D=D.trim();var E=[];E.spatialReference={wkid:this._map.spatialReference.wkid};z=this._isReverse(z,this.version);if(D)if(2===F){if((D=D.match(/[0123456789.\-\+eE]+/g))&&2<=D.length)for(F=
0;F<D.length;F+=2){var G=parseFloat(D[F]);var H=parseFloat(D[F+1]);if(z){var J=H;H=G;G=J}J={};this._projectFromSRToSR(x,this._map.spatialReference,G,H,J)&&(G=J.x,H=J.y);E.push([G,H])}}else if(3===F&&(D=D.match(/[0123456789.\-\+eE]+/g))&&3<=D.length)for(F=0;F<D.length;F+=3)G=parseFloat(D[F]),H=parseFloat(D[F+1]),z&&(J=H,H=G,G=J),J={},this._projectFromSRToSR(x,this._map.spatialReference,G,H,J)&&(G=J.x,H=J.y),E.push([G,H]);return E},_readCoord:function(z,D,F){var x,E=this._readWkidFromNode(z);-1!=E&&
(D=E);E=new e(D);var G=this._readSrsDimension(z);0!==G&&(F=G);var H=this._isReverse(D,this.version),J=[];J.spatialReference={wkid:this._map.spatialReference.wkid};G=0;var M=z.getElementsByTagNameNS(this._gmlNS,"X");for(x=0;x<M.length;){G=this._readFloat(M[x],D,F);break}var K=0;M=z.getElementsByTagNameNS(this._gmlNS,"Y");for(x=0;x<M.length;){K=this._readFloat(M[x],D,F);break}H&&(z=K,K=G,G=z);z={};this._projectFromSRToSR(E,this._map.spatialReference,G,K,z)&&(G=z.x,K=z.y);J.push(H?[K,G]:[G,K]);return J},
_readCoordinates:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);return this._readCoordinatesBody(D,z.textContent,F)},_readPos:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);return this._readCoordinatesBody(D,z.textContent,F)},_readPosList:function(z,D,F){var x=this._readWkidFromNode(z);-1!=x&&(D=x);x=this._readSrsDimension(z);0!==x&&(F=x);return this._readCoordinatesBody(D,z.textContent,F)},
_projectFromSRToSR:function(z,D,F,x,E){if(a.canProject(z,D))return z=new c(F,x,z),D=a.project(z,D),E.x=D.x,E.y=D.y,!0;E.x=F;E.y=x;return this._isProjectedOk=!1},_readFloat:function(z){return(z=z.textContent)?parseFloat(z):0},_readSrsDimension:function(z){return z.attributes&&(z=z.attributes.getNamedItem("srsDimension"))?parseInt(z.value,10):0},_readWkidFromNode:function(z){return z.attributes&&(z=z.attributes.getNamedItem("srsName"))&&(z=z.value.match(/\d+/g))&&0<z.length?(z=parseInt(z[z.length-1],
10),84===z&&(z=4326),parseInt(z,10)):-1},_isReverse:function(z,D){return this._inverseResponse},_appendCustomParameters:function(z){if(this.customParameters)for(var D in this.customParameters)z+=(-1===z.indexOf("?")?"?":"\x26")+D+"\x3d"+encodeURIComponent(this.customParameters[D]);return z},_checkForUrlInUrl:function(z,D){var F=z.toLowerCase().lastIndexOf("http");-1<D&&F>D&&(-1<z.indexOf("?",F)||-1!==z.indexOf("\x26",F)||(D=-1));return D}});n.setObject("layers.WFSLayer",R,k);return R})},"esri/layers/WMTSLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff dojox/xml/parser ../kernel ../lang ../request ../urlUtils ../WKIDUnitConversion ../SpatialReference ../geometry/Point ../geometry/Extent ../geometry/webMercatorUtils ./TiledMapServiceLayer ./TileInfo ./WMTSLayerInfo dojo/query".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){N=N([d],{declaredClass:"esri.layers.WMTSLayer",copyright:null,extent:null,tileUrl:null,spatialReference:null,tileInfo:null,constructor:function(b,c){this.version="1.0.0";this.tileUrl=this._url=b;this.serviceMode="RESTful";this._parseCapabilities=n.hitch(this,this._parseCapabilities);this._getCapabilitiesError=n.hitch(this,this._getCapabilitiesError);this._formatDictionary={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png",
"image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""};c||(c={});if(c.serviceMode)if("KVP"===c.serviceMode||"RESTful"===c.serviceMode)this.serviceMode=c.serviceMode;else return;this.customParameters=c.customParameters;this.customLayerParameters=c.customLayerParameters;this.layerInfo=new a;c.layerInfo&&(this.layerInfo=c.layerInfo,this._identifier=c.layerInfo.identifier,this._tileMatrixSetId=c.layerInfo.tileMatrixSet,
c.layerInfo.format&&(this.format="image/"+c.layerInfo.format),this._style=c.layerInfo.style,this.title=c.layerInfo.title,this._dimension=c.layerInfo.dimension,this._dimension2=c.layerInfo.dimension2);c.resourceInfo?(this.version=c.resourceInfo.version,c.resourceInfo.getTileUrl&&(this._url=this.tileUrl=c.resourceInfo.getTileUrl),this.copyright=c.resourceInfo.copyright,this.layerInfos=c.resourceInfo.layerInfos,this.customParameters=c.resourceInfo.customParameters||this.customParameters,this.customLayerParameters=
c.resourceInfo.customLayerParameters||this.customLayerParameters,this._parseResourceInfo(),this.loaded=!0,this.onLoad(this)):this._getCapabilities()},setActiveLayer:function(b){this.setVisibleLayer(b)},setVisibleLayer:function(b){this._setActiveLayer(b);this.refresh(!0)},setCustomParameters:function(b,c){this.customParameters=b;this.customLayerParameters=c;this.refresh(!0)},getTileUrl:function(b,c,m){b=this._levelToLevelValue[b];b=this.resourceUrls&&0<this.resourceUrls.length?this.resourceUrls[c%
this.resourceUrls.length].template.replace(/\{Style\}/gi,this._style).replace(/\{TileMatrixSet\}/gi,this._tileMatrixSetId).replace(/\{TileMatrix\}/gi,b).replace(/\{TileRow\}/gi,c).replace(/\{TileCol\}/gi,m).replace(/\{dimensionValue\}/gi,this._dimension).replace(/\{dimensionValue2\}/gi,this._dimension2):this.UrlTemplate.replace(/\{level\}/gi,b).replace(/\{row\}/gi,c).replace(/\{col\}/gi,m);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return w.addProxy(b)},getTileUrlTemplate:function(b){var c=
b.identifier,m=b.tileMatrixSet,p=b.format,q=b.style,y=b.dimension,B=b.dimension2;c?b=t.filter(this.layers,function(D){return D.identifier===c})[0]:(b=this.layers[0],c=this.layers[0].identifier);if(b){if(!p)p=b.formats[0];else if(!(-1===p.indexOf("image/")&&-1<t.indexOf(b.formats,p))&&(-1===p.indexOf("image/")&&(p="image/"+p),-1===t.indexOf(b.formats,p))){this.onError(Error("The layer doesn't support the format of "+p));return}if(!q)q=b.styles[0];else if(-1===t.indexOf(b.styles,q)){this.onError(Error("The layer doesn't support the style of "+
q));return}if(!y&&b.dimensions)y=b.dimensions[0];else if(-1===t.indexOf(b.dimensions,y)){this.onError(Error("The layer doesn't support the dimension of "+y));return}if(!B&&b.dimensions2)B=b.dimensions2[0];else if(-1===t.indexOf(b.dimensions2,B)){this.onError(Error("The layer doesn't support the dimension of "+B));return}if(m){var z=t.filter(b.tileMatrixSetInfos,function(D){return D.tileMatrixSet===m})[0];if(!z){this.onError(Error("The tileMatrixSetId "+m+" is not supported by the layer of "+c));return}}else(z=
t.filter(b.tileMatrixSetInfos,function(D){return"GoogleMapsCompatible"===D.tileMatrixSet})[0])||(z=b.tileMatrixSetInfos[0]),m=z.tileMatrixSet;return this._getTileUrlTemplate(c,m,p,q,y,B)}this.onError(Error("couldn't find the layer "+c))},_getTileUrlTemplate:function(b,c,m,p,q,y){b||(b=this._identifier);c||(c=this._tileMatrixSetId);m||(m=this.format);p||""===p||(p=this._style);if(this.resourceUrls&&0<this.resourceUrls.length){var B=this.resourceUrls[0].template;B.indexOf(".xxx")===B.length-4&&(B=B.slice(0,
B.length-4));B=B.replace(/\{Style\}/gi,p);B=B.replace(/\{TileMatrixSet\}/gi,c);B=B.replace(/\{TileMatrix\}/gi,"{level}");B=B.replace(/\{TileRow\}/gi,"{row}");B=B.replace(/\{TileCol\}/gi,"{col}");B=B.replace(/\{dimensionValue\}/gi,q);return B=B.replace(/\{dimensionValue2\}/gi,y)}"KVP"===this.serviceMode?B=this._url+"SERVICE\x3dWMTS\x26VERSION\x3d"+this.version+"\x26REQUEST\x3dGetTile\x26LAYER\x3d"+b+"\x26STYLE\x3d"+p+"\x26FORMAT\x3d"+m+"\x26TILEMATRIXSET\x3d"+c+"\x26TILEMATRIX\x3d{level}\x26TILEROW\x3d{row}\x26TILECOL\x3d{col}":
"RESTful"===this.serviceMode&&(q="",this._formatDictionary[m.toLowerCase()]&&(q=this._formatDictionary[m.toLowerCase()]),B=this._url+b+"/"+p+"/"+c+"/{level}/{row}/{col}"+q);return B},_parseResourceInfo:function(){var b=this.layerInfos,c;"KVP"===this.serviceMode&&(this._url+=-1<this._url.indexOf("?")?"":"?");for(c=0;c<b.length;c++)if(!(this._identifier&&b[c].identifier!==this._identifier||this.title&&b[c].title!==this.title||this._tileMatrixSetId&&b[c].tileMatrixSet!==this._tileMatrixSetId||this.format&&
"image/"+b[c].format!==this.format||this._style&&b[c].style!==this._style)){n.mixin(this,{description:b[c].description,tileInfo:b[c].tileInfo,spatialReference:b[c].tileInfo.spatialReference,fullExtent:b[c].fullExtent,initialExtent:b[c].initialExtent,_identifier:b[c].identifier,_tileMatrixSetId:b[c].tileMatrixSet,format:"image/"+b[c].format,_style:b[c].style});break}for(c=0;c<b.length;c++){var m=b[c].tileInfo;96!==m.dpi&&(t.forEach(m.lods,function(p){p.scale=96*p.scale/m.dpi}),m.dpi=96);t.forEach(m.lods,
function(p){p.resolution=this._getResolution(m.spatialReference.wkid,90.71428571428571*p.scale/96,b[c].tileMatrixSet)},this)}this._setActiveLayer();this.UrlTemplate=this._getTileUrlTemplate();this._levelToLevelValue=[];t.forEach(this.tileInfo.lods,function(p){this._levelToLevelValue[p.level]=p.levelValue?p.levelValue:p.level},this)},_getCapabilities:function(){var b;"KVP"===this.serviceMode?b=-1<this._url.indexOf("?")?this._url+"\x26request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:
this._url+"?request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:"RESTful"===this.serviceMode&&(b=this._url+"/"+this.version+"/WMTSCapabilities.xml");b=this._appendCustomParameters(b);k({url:b,handleAs:"text",load:this._parseCapabilities,error:this._getCapabilitiesError})},_parseCapabilities:function(b){b=b.replace(/ows:/gi,"");b=h.parse(b);var c=R.query("Contents",b)[0];if(c){var m=R.query("OperationsMetadata",b)[0],p=R.query("[name\x3d'GetTile']",m)[0];m=this._url;p=R.query("Get",
p);var q,y=!1;for(q=0;q<p.length;q++){var B=R.query("Constraint",p[q])[0];if(!B||this._getTagWithChildTagValue("AllowedValues","Value",this.serviceMode,B)){m=p[q].attributes[0].nodeValue;y=!0;break}else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","RESTful",B))var z=p[q].attributes[0].nodeValue;else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","KVP",B))var D=p[q].attributes[0].nodeValue}y||("KVP"===this.serviceMode&&z?(m=z,this.serviceMode="RESTful"):"RESTful"===this.serviceMode&&
D&&(m=D,this.serviceMode="KVP"));-1===m.indexOf("/1.0.0/")&&"RESTful"===this.serviceMode&&(m+="/");"KVP"===this.serviceMode&&(m+=-1<m.indexOf("?")?"":"?");this._url=m;this.copyright=this._getTagValues("Capabilities\x3eServiceIdentification\x3eAccessConstraints",b)[0];z=R.query("Layer",c);var F,x=[];this.layers=[];t.forEach(z,function(E){F=this._getTagValues("Identifier",E)[0];x.push(F);this.layers.push(this._getWMTSLayerInfo(F,E,c))},this);this._setActiveLayer();this.loaded=!0;this.onLoad(this)}else this.onError(Error("The WMTS capabilities XML is not valid"))},
_setActiveLayer:function(b){b||(b={});b.identifier&&(this._identifier=b.identifier);b.tileMatrixSet&&(this._tileMatrixSetId=b.tileMatrixSet);b.format&&(this.format=b.format);b.style&&(this._style=b.style);b.dimension&&(this._dimension=b.dimension);b.dimension2&&(this._dimension2=b.dimension2);if(this.layers)if(this._identifier?b=t.filter(this.layers,function(m){return m.identifier===this._identifier},this)[0]:(b=this.layers[0],this._identifier=this.layers[0].identifier),b){if(this.format){if(-1===
this.format.indexOf("image/")&&(this.format="image/"+this.format),-1===t.indexOf(b.formats,this.format)){this.onError(Error("The layer doesn't support the format of "+this.format));return}}else this.format=b.formats[0],-1===this.format.indexOf("image/")&&(this.format="image/"+this.format);if(!this._style)this._style=b.styles[0];else if(-1===t.indexOf(b.styles,this._style)){this.onError(Error("The layer doesn't support the style of "+this._style));return}if(!this._dimension&&b.dimensions)this._dimension=
b.dimensions[0];else if(-1===t.indexOf(b.dimensions,this._dimension)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension));return}if(!this._dimension2&&b.dimensions2)this._dimension2=b.dimensions2[0];else if(-1===t.indexOf(b.dimensions2,this._dimension2)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension2));return}if(this._tileMatrixSetId){var c=t.filter(b.tileMatrixSetInfos,function(m){return m.tileMatrixSet===this._tileMatrixSetId},this)[0];
if(!c){this.onError(Error("The tileMatrixSetId "+this._tileMatrixSetId+" is not supported by the layer of "+this._identifier));return}}else(c=t.filter(b.tileMatrixSetInfos,function(m){return"GoogleMapsCompatible"===m.tileMatrixSet})[0])||(c=b.tileMatrixSetInfos[0]),this._tileMatrixSetId=c.tileMatrixSet;this.description=b.description;this.title=b.title;this.spatialReference=c.tileInfo.spatialReference;this.tileInfo=c.tileInfo;this._levelToLevelValue=[];t.forEach(this.tileInfo.lods,function(m){this._levelToLevelValue[m.level]=
m.levelValue?m.levelValue:m.level},this);102100===this.spatialReference.wkid||102113===this.spatialReference.wkid?this.fullExtent=this.initialExtent=l.geographicToWebMercator(b.gcsExtent):4326===this.spatialReference.wkid?this.fullExtent=this.initialExtent=b.gcsExtent:(this.fullExtent=c.fullExtent,this.initialExtent=c.initialExtent);this.resourceUrls=b.resourceUrls;this.UrlTemplate=this._getTileUrlTemplate();this.layerInfo={identifier:this._identifier,tileMatrixSet:this._tileMatrixSetId,format:this.format,
style:this._style,fullExtent:this.fullExtent,initialExtent:this.initialExtent,tileInfo:this.tileInfo,title:this.title,description:this.description}}else this.onError(Error("couldn't find the layer "+this._identifier))},_getWMTSLayerInfo:function(b,c,m){var p=this._getTagValues("Abstract",c)[0],q=this._getTagValues("Title",c)[0],y=R.query("WGS84BoundingBox",c)[0],B=y?this._getTagValues("LowerCorner",y)[0].split(" "):["-180","-90"],z=y?this._getTagValues("UpperCorner",y)[0].split(" "):["180","90"];
y=parseFloat(B[0]);B=parseFloat(B[1]);var D=parseFloat(z[0]);z=parseFloat(z[1]);y=new r(y,B,D,z,new C({wkid:4326}));z=this._getTagValues("Identifier",R.query("Style",c)[0]);var F=this._getTagValues("Identifier",R.query("Dimension",c)[0]),x=this._getTagValues("Default",R.query("Dimension",c)[0])||this._getTagValues("Value",R.query("Dimension",c)[0]),E=1<R.query("Dimension",c).length?this._getTagValues("Identifier",R.query("Dimension",c)[1]):[],G=1<R.query("Dimension",c).length?this._getTagValues("Default",
R.query("Dimension",c)[1])||this._getTagValues("Value",R.query("Dimension",c)[1]):[];B=this._getTagValues("Format",c);m=this._getLayerMatrixInfos(c,m);b={identifier:b,tileMatrixSetInfos:m,formats:B,styles:z,title:q,description:p,gcsExtent:y,dimensions:x,dimensions2:G};c=R.query("ResourceURL",c);var H=[],J;t.forEach(c,function(M){J=M.getAttribute("template");if(F&&x&&F[0]&&x[0])if(-1<J.indexOf("{"+F+"}"))J=J.replace("{"+F+"}","{dimensionValue}");else{var K=J.toLowerCase().indexOf("{"+F[0].toLowerCase()+
"}");-1<K&&(J=J.substring(0,K)+"{dimensionValue}"+J.substring(K+F[0].length+2))}E&&G&&E[0]&&G[0]&&(-1<J.indexOf("{"+E+"}")?J=J.replace("{"+E+"}","{dimensionValue2}"):(K=J.toLowerCase().indexOf("{"+E[0].toLowerCase()+"}"),-1<K&&(J=J.substring(0,K)+"{dimensionValue2}"+J.substring(K+E[0].length+2))));H.push({template:J,format:M.getAttribute("format"),resourceType:M.getAttribute("resourceType")})});H&&0<H.length&&(b.resourceUrls=H);return b},_getLayerMatrixInfos:function(b,c){var m=[],p=this._getTagValues("TileMatrixSet",
b);if(p&&0!==p.length)return t.forEach(p,function(q){q=this._getLayerMatrixInfo(q,b,c);m.push(q)},this),m},_getLayerMatrixInfo:function(b,c,m){var p=[];c=this._getTagWithChildTagValue("TileMatrixSetLink","TileMatrixSet",b,c);var q=this._getTagValues("TileMatrix",c),y=this._getTagWithChildTagValue("TileMatrixSet","Identifier",b,m),B=this._getTagValues("SupportedCRS",y)[0];var z=parseInt(B.split(":").pop(),10);if(900913==z||3857==z)z=102100;if(-1<B.toLowerCase().indexOf("crs84")||-1<B.toLowerCase().indexOf("crs:84")){z=
4326;var D=!0}else if(-1<B.toLowerCase().indexOf("crs83")||-1<B.toLowerCase().indexOf("crs:83"))z=4269,D=!0;else if(-1<B.toLowerCase().indexOf("crs27")||-1<B.toLowerCase().indexOf("crs:27"))z=4267,D=!0;var F=new C({wkid:z}),x=R.query("TileMatrix",y)[0];m=parseInt(this._getTagValues("TileWidth",x)[0],10);c=parseInt(this._getTagValues("TileHeight",x)[0],10);var E=this._getTagValues("TopLeftCorner",x)[0].split(" ");var G=E[0],H=E[1];1<G.split("E").length&&(E=G.split("E"),G=E[0]*Math.pow(10,E[1]));1<
H.split("E").length&&(E=H.split("E"),H=E[0]*Math.pow(10,E[1]));G=parseFloat(G);H=parseFloat(H);var J=D&&4326===z&&90===G&&-180===H;for(E=0;E<this._flippingAxisForWkids.length;E++)if(B.split(":").pop()>=this._flippingAxisForWkids[E][0]&&B.split(":").pop()<=this._flippingAxisForWkids[E][1]||4326===z&&(!D||J)){4326===z&&90<G&&(G="90");var M=new A(H,G,F);break}E===this._flippingAxisForWkids.length&&(M=new A(G,H,F));if(0===q.length)for(q=R.query("TileMatrix",y),E=0;E<q.length;E++)D=this._getLodFromTileMatrix(q[E],
z,E,b),p.push(D);else for(E=0;E<q.length;E++)D=this._getTagWithChildTagValue("TileMatrix","Identifier",q[E],y),D=this._getLodFromTileMatrix(D,z,E,b),p.push(D);z=R.query("BoundingBox",y)[0];if(z){var K=this._getTagValues("LowerCorner",z)[0].split(" ");var L=this._getTagValues("UpperCorner",z)[0].split(" ")}K&&1<K.length&&L&&1<L.length?(x=parseFloat(K[0]),z=parseFloat(K[1]),K=parseFloat(L[0]),L=parseFloat(L[1])):(K=this._getTagValues("MatrixWidth",x)[0],z=this._getTagValues("MatrixHeight",x)[0],x=M.x,
L=M.y,K=x+K*c*p[0].resolution,z=L-z*m*p[0].resolution);L=K=new r(x,z,K,L,F);M=new e({dpi:96,spatialReference:F,format:this.format,rows:m,cols:c,origin:M,lods:p});return{tileMatrixSet:b,fullExtent:L,initialExtent:K,tileInfo:M}},_getCapabilitiesError:function(b){this.onError(b)},_getLodFromTileMatrix:function(b,c,m,p){var q=this._getTagValues("Identifier",b)[0];b=this._getTagValues("ScaleDenominator",b)[0];1<b.split("E").length?(b=b.split("E"),b=b[0]*Math.pow(10,b[1])):b=parseFloat(b);c=this._getResolution(c,
b,p);return{level:m,levelValue:q,scale:1.058267716535433*b,resolution:c}},_getResolution:function(b,c,m){b=g.isDefined(v[b])?v.values[v[b]]:"default028mm"===m?6370997*Math.PI/180:6378137*Math.PI/180;return 7*c/25E3/b},_getTag:function(b,c){var m=R.query(b,c);return m&&0<m.length?m[0]:null},_getTagValues:function(b,c){var m=[],p=b.split("\x3e"),q;var y=R.query(p[0],c)[0];if(1<p.length){for(q=1;q<p.length-1;q++)y=R.query(p[q],y)[0];p=R.query(p[p.length-1],y)}else p=R.query(p[0],c);p&&0<p.length&&t.forEach(p,
function(B){9>u("ie")?m.push(B.childNodes.length?B.childNodes[0].nodeValue:""):m.push(B.textContent)});return m},_getAttributeValues:function(b,c,m){b=R.query(b,m);var p=[];b&&0<b.length&&t.forEach(b,function(q){p.push(q.getAttribute(c))});return p},_getTagWithChildTagValue:function(b,c,m,p){p=p.childNodes;var q;for(q=0;q<p.length;q++)if(-1<p[q].nodeName.indexOf(b)){if(9>u("ie")){if(g.isDefined(R.query(c,p[q])[0]))var y=R.query(c,p[q])[0].childNodes[0].nodeValue}else g.isDefined(R.query(c,p[q])[0])&&
(y=R.query(c,p[q])[0].textContent);if(y===m||m.split(":")&&y===m.split(":")[1])return p[q]}},_appendCustomParameters:function(b){var c;if(this.customParameters)for(c in this.customParameters)b+=(-1===b.indexOf("?")?"?":"\x26")+c+"\x3d"+encodeURIComponent(this.customParameters[c]);return b},_appendCustomLayerParameters:function(b){var c;if(this.customLayerParameters||this.customParameters){var m=n.clone(this.customParameters||{});n.mixin(m,this.customLayerParameters||{});for(c in m)b+=(-1===b.indexOf("?")?
"?":"\x26")+c+"\x3d"+encodeURIComponent(m[c])}return b},_flippingAxisForWkids:[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,
5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,
3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],
[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]]});n.setObject("layers.WMTSLayer",N,f);return N})},"esri/layers/WMTSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(R,N,n,t){R=R(null,{declaredClass:"esri.layers.WMTSLayerInfo",identifier:null,tileMatrixSet:null,format:null,style:null,tileInfo:null,title:null,fullExtent:null,initialExtent:null,description:null,dimension:null,constructor:function(u){u&&(this.title=u.title,this.tileMatrixSet=
u.tileMatrixSet,this.format=u.format,this.style=u.style,this.tileInfo=u.tileInfo,this.fullExtent=u.fullExtent,this.initialExtent=u.initialExtent,this.identifier=u.identifier,this.description=u.description,this.dimension=u.dimension)}});N.setObject("layers.WMTSLayerInfo",R,t);return R})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../pageUtil ../../../../utils/dom ../../../../utils/strings ../../../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick dojo/dom-construct dojo/on dojo/string dojo/topic esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./domainUpdate.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.templateString=a["default"];this.i18n=e["default"]}b.prototype.startup=
function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.initHandlers();this.initDomains()};b.prototype.initHandlers=function(){this.own(v["default"](this.doneBtn,this.doneClick.bind(this)),A["default"](this.domainSelect,"change",this.selectedDomainChange.bind(this)),v["default"](this.replaceDomainBtn,this.replaceDomainClick.bind(this)),u["default"].registerKeystrokeHandler(this.domainReplace,this.replaceDomainChange.bind(this)),l["default"].subscribe("item-data/change-complete",
this.itemDataChange.bind(this)))};b.prototype.initDomains=function(){var c=this,m=this.domainSelect.value,p=!1;t["default"].getUniqueDomains(this.item.itemData).then(function(q){C["default"].empty(c.domainSelect);q.forEach(function(y){var B={value:y.domain,innerHTML:y.domain};!c.autoSelectReplacementValue||y.domain!==c.autoSelectReplacementValue&&y.domain!==m||(p=B.selected=!0,c.autoSelectReplacementValue=void 0);C["default"].create("option",B,c.domainSelect)});c.domainSelect.options&&c.domainSelect.options.length?
(p||(h["default"].selectOption(c.domainSelect.options,c.domainSelect.options[0].value),c.lastSelectedDomain=c.domainSelect.options[0].value),c.selectedDomainChange()):(h["default"].hideNodes([c.updateDomainDesc,c.updateDomainContainer,c.replaceDomainLoading,c.replaceDomainFailure,c.layerDetailsContainer]),C["default"].empty(c.replaceDomainSuccess),c.replaceDomainSuccess.innerHTML=c.i18n.itemProperties.noLayersToUpdateDomain,h["default"].showNode(c.replaceDomainSuccess))})};b.prototype.filterForIssues=
function(c){return c.filter(function(m){return"failure"===m.layerUrlChange||m.layerRenderingFailures||m.layerQueryUrlFailures||m.itemAccess&&("failure"===m.itemUrlChange||m.itemRenderingFailures||m.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(m){return("success"===m.layerUrlChange||m.layerRenderingChanged||m.layerQueryUrlChanged)&&!m.layerRenderingFailures&&!m.layerQueryUrlFailures||m.itemAccess&&("success"===m.itemUrlChange||m.itemRenderingChanged||m.itemQueryUrlChanged)&&
!m.itemRenderingFailures&&!m.itemQueryUrlFailures})};b.prototype.containsInvalidProtocol=function(c){return-1===(null===c||void 0===c?void 0:c.indexOf("://"))&&!(f["default"].startsWith(c,"http://")||f["default"].startsWith(c,"https://"))};b.prototype.ensureProtocol=function(c){return this.containsInvalidProtocol(c)?"http://"+c:c};b.prototype.validateDomain=function(c){var m=this.domainSelect.value,p=!!m,q=RegExp("/","g"),y=!0;c?(this.containsInvalidProtocol(c)&&(y=!1),p&&(m.match(q)||[]).length!==
(c.match(q)||[]).length&&(y=!1)):y=!1;return y};b.prototype.doneClick=function(){l["default"].publish("update-domain/done")};b.prototype.setInputError=function(c){this.domainReplace.classList.add("input-error");this.domainReplaceError.classList.add("is-active");this.domainReplaceError.classList.remove("hide")};b.prototype.clearInputError=function(){this.domainReplace.classList.remove("input-error");this.domainReplaceError.classList.remove("is-active");this.domainReplaceError.classList.add("hide")};
b.prototype.selectedDomainChange=function(){var c=this,m=this.domainSelect.value,p=!!m,q="",y;t["default"].getUniqueDomains(this.item.itemData).then(function(B){c.refreshingDomains?c.refreshingDomains=void 0:m!==c.lastSelectedDomain&&(h["default"].hideNode(c.replaceDomainFailure),h["default"].hideNode(c.replaceDomainSuccess));if(p){if(y=B.filter(function(z){return z.domain===m}))y=y.shift(),c.domainReplace.value=y.domain,c.lastSelectedDomain=y.domain,y.layers.forEach(function(z){q+=z.title+"\x3cbr\x3e"}),
c.layerDetails.innerHTML=q;c.clearInputError();h["default"].showHide(c.layerDetailsContainer,y);c.domainReplace.focus()}else h["default"].hideNode(c.layerDetailsContainer);c.replaceDomainChange()})};b.prototype.replaceDomainClick=function(){var c=this,m=this.domainSelect.value,p=this.ensureProtocol(this.domainReplace.value.trim());this.clearInputError();this.validateDomain(p)?(h["default"].hideNodes([this.layerDetailsContainer,this.replaceDomainFailure,this.replaceDomainSuccess]),h["default"].showNode(this.replaceDomainLoading),
t["default"].switchDomain(this.item.itemData,this.item,m,p).then(function(q){h["default"].hideNode(c.replaceDomainLoading);var y=c.filterForIssues(q.layers),B=c.filterForUpdated(q.layers);d["default"].isDefined(q.configChange)&&"failure"===q.configChange?(c.replaceDomainFailureMessage.innerHTML=c.i18n.itemProperties.errorUpdateHTTPS,h["default"].showNode(c.replaceDomainFailure)):y.length?(c.replaceDomainFailureMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.someLayerDomainsFailed,
{domainName:p,n:y.length}),h["default"].showNode(c.replaceDomainFailure),B.length&&(c.replaceDomainSuccessMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.someLayerDomainsUpdated,{domainName:p,n:B.length}),h["default"].showNode(c.replaceDomainSuccess))):(c.replaceDomainSuccessMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.domainUpdateSuccess,{domainName:p}),h["default"].showNode(c.replaceDomainSuccess));c.autoSelectReplacementValue=p;c.domainReplace.value="";c.refreshingDomains=
!0;c.replaceDomainChange();l["default"].publish("item-data/change")},function(q){c.setInputError(q)})):this.setInputError()};b.prototype.replaceDomainChange=function(){var c=this.domainReplace.value.trim(),m=this.domainSelect.value;m=m&&c&&0<c.length&&c!==m;h["default"].disableNode(this.replaceDomainBtn,!m||m&&!this.validateDomain(c));this.clearInputError()};b.prototype.itemDataChange=function(c){"type-options/map"===c.source&&(this.item.itemData=c.itemData,this.initDomains())};return b=n.__decorate([g["default"](k["default"],
w["default"])],b)}()})},"arcgis-components/wrappers/Share":function(){define(["../Component","dojo/i18n!../Share/nls/resources","../Share/index"],function(R,N,n){return function(t){function u(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return t[f].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var h={};return u.m=t,u.c=h,u.d=function(f,g,k){u.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},u.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,g){if((1&g&&(f=u(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(u.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var w in f)u.d(k,w,function(v){return f[v]}.bind(null,w));return k},u.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return u.d(g,"a",g),g},u.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,
g)},u.p="",u(u.s=985)}({0:function(t,u,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");A(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<
a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var p=l.length-1;0<=p;p--)(b=l[p])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function w(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(y){try{q(a.next(y))}catch(B){c(B)}}
function p(y){try{q(a["throw"](y))}catch(B){c(B)}}function q(y){var B;y.done?b(y.value):(B=y.value,B instanceof e?B:new e(function(z){z(B)})).then(m,p)}q((a=a.apply(l,d||[])).next())})}function v(l,d){function e(q){return function(y){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=
B;break;case 4:return p.label++,{value:B[1],done:!1};case 5:p.label++;b=B[1];B=[0];continue;case 7:B=p.ops.pop();p.trys.pop();continue;default:if(!(c=p.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){p=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))p.label=B[1];else if(6===B[0]&&p.label<c[1])p.label=c[1],c=B;else if(c&&p.label<c[2])p.label=c[2],p.ops.push(B);else{c[2]&&p.ops.pop();p.trys.pop();continue}}B=d.call(l,p)}catch(z){B=[6,z],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([q,y])}}var a,b,c,m,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(u,"d",function(){return f});h.d(u,"a",function(){return r});h.d(u,"f",function(){return g});h.d(u,"c",function(){return k});h.d(u,"b",function(){return w});h.d(u,"e",function(){return v});
h.d(u,"g",function(){return C});var A=function(l,d){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},101:function(t,u,h){h.d(u,"a",
function(){return g});h.d(u,"b",function(){return k});var f=h(0),g=function(w){return w?w.urlKey?location.protocol+"//"+w.urlKey+"."+w.customBaseUrl:location.protocol+"//"+w.portalHostname:""},k=function(w){return Object(f.a)(Object(f.a)({},w),{baseUrl:g(w)})}},117:function(t,u,h){h.d(u,"a",function(){return g});var f=h(0);t=h(15);var g=Object(t.a)(function(k,w){var v=Object(f.a),C=Object(f.a)({},w),A=w.type,r=w.typeKeywords?w.typeKeywords:[],l=null==A?void 0:A.toLowerCase(),d=!1,e=!1,a=A=!1;if("ogcfeatureserver"===
l)r="featureshosted";else if(0<(null==l?void 0:l.indexOf("service"))||"feature collection"===l||"kml"===l||"wms"===l||"wmts"===l||"wfs"===l){var b=-1<r.indexOf("Hosted Service");"feature service"===l||"feature collection"===l||"kml"===l||"wfs"===l?(a=-1<r.indexOf("Table"),d=-1<r.indexOf("Route Layer"),e=-1<r.indexOf("Markup"),r=(A=-1!==r.indexOf("Spatiotemporal"))&&a?"spatiotemporaltable":a?"table":d?"routelayer":e?"markup":A?"spatiotemporal":b?"featureshosted":"features"):"map service"===l||"wms"===
l||"wmts"===l?r=b||-1<r.indexOf("Tiled")||"wmts"===l?"maptiles":"mapimages":"scene service"===l?r=-1<r.indexOf("Line")?"sceneweblayerline":-1<r.indexOf("3DObject")?"sceneweblayermultipatch":-1<r.indexOf("Point")?"sceneweblayerpoint":-1<r.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<r.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<r.indexOf("Polygon")?"sceneweblayerpolygon":-1<r.indexOf("Building")?"sceneweblayerbuilding":-1<r.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===
l?(A=-1<r.indexOf("Elevation 3D Layer"),r=-1<r.indexOf("Tiled Imagery"),r=A?"elevationlayer":r?"tiledimagerylayer":"imagery"):r="stream service"===l?"streamlayer":"vector tile service"===l?"vectortile":"datastore catalog service"===l?"datastorecollection":"geocoding service"===l?"geocodeservice":"geoprocessing service"===l&&-1<r.indexOf("Web Tool")?"tool":"layers"}else r="web map"===l||"cityengine web scene"===l?"maps":"web scene"===l?-1<r.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":
"web mapping application"===l&&-1<(null==r?void 0:r.indexOf("configurableApp"))?"instantapps":"web mapping application"===l||"mobile application"===l||"application"===l||"operation view"===l||"desktop application"===l?"apps":"map document"===l||"map package"===l||"published map"===l||"scene document"===l||"globe document"===l||"basemap package"===l||"mobile basemap package"===l||"mobile map package"===l||"project package"===l||"project template"===l||"pro map"===l||"layout"===l||"layer"===l&&-1<r.indexOf("ArcGIS Pro")||
"explorer map"===l&&-1<r.indexOf("Explorer Document")?"mapsgray":"service definition"===l||"csv"===l||"administrative report"===l||"shapefile"===l||"cad drawing"===l||"geojson"===l||"360 vr experience"===l||"netcdf"===l?"datafiles":"explorer add in"===l||"desktop add in"===l||"windows viewer add in"===l||"windows viewer configuration"===l?"appsgray":"arcgis pro add in"===l||"arcgis pro configuration"===l?"addindesktop":"rule package"===l||"file geodatabase"===l||"csv collection"===l||"kml collection"===
l||"windows mobile package"===l||"map template"===l||"desktop application template"===l||"arcpad package"===l||"code sample"===l||"form"===l||"document link"===l||"vector tile package"===l||"operations dashboard add in"===l||"rules package"===l||"image"===l||"workflow manager package"===l||"explorer map"===l&&-1<r.indexOf("Explorer Mapping Application")||-1<r.indexOf("Document")?"datafilesgray":"network analysis service"===l||"geoprocessing service"===l||"geodata service"===l||"geometry service"===
l||"geoprocessing package"===l||"locator package"===l||"geoprocessing sample"===l||"workflow manager service"===l||"raster function template"===l||"deep learning package"===l?"toolsgray":"layer"===l||"layer package"===l||"explorer layer"===l?"layersgray":"scene package"===l?"scenepackage":"tile package"===l?"tilepackage":"storymap"===l?"storymap":"storymap theme"===l?"storymaptheme":"web experience"===l?"experiencebuilder":"web experience template"===l?"webexperiencetemplate":"task file"===l?"taskfile":
"report template"===l?"report-template":"statistical data collection"===l?"statisticaldatacollection":"insights workbook"===l?"workbook":"insights model"===l?"insightsmodel":"insights page"===l?"insightspage":"hub initiative"===l?"hubinitiative":"hub page"===l?"hubpage":"hub site application"===l?"hubsite":"relational database connection"===l?"relationaldatabaseconnection":"big data file share"===l||"data store"===l?"datastorecollection":"image collection"===l?"imagecollection":"desktop style"===
l?"desktopstyle":"style"===l?"style":"dashboard"===l?"dashboard":"feed"===l?"feed":"real time analytic"===l?"realtimeanalytics":"big data analytic"===l?"bigdataanalytics":"notebook"===l?"notebook":"notebook code snippets"===l?"notebookcodesnippets":"maps";return v(C,{iconURI:k+"/"+r+"16.png"})})},120:function(t,u,h){h.d(u,"a",function(){return g});var f=h(0);t=h(15);var g=Object(t.a)(function(k,w){var v=Object(f.a),C=Object(f.a)({},w),A,r,l="notebook"!==(null===(A=w.type)||void 0===A?void 0:A.toLowerCase())?
"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(r=w.type)||void 0===r?void 0:r.toLowerCase())&&(l="notebook-code-snippet-thumb.png");r=k.baseUrl+"/home/js/arcgisonline/css/images/"+l;A=(w.thumbnail&&(r=k.restUrl+"/content/items/"+w.id+"/info/"+w.thumbnail+(k.credential?"?token\x3d"+k.credential.token:"")),r);return v(C,{thumbURI:A})})},121:function(t,u,h){h.d(u,"a",function(){return k});var f=h(0);t=h(15);var g=function(w,v){return v.description?v.description.replace(/src=('|")js\/jsapi\/esri\//g,
function(C){return"src\x3d"+('"'===C[4]?'"':"'")+w.baseUrl+"/home/js/jsapi/esri/"}):void 0},k=Object(t.a)(function(w,v){return Object(f.a)(Object(f.a)({},v),{patchedDescription:g(w,v)})})},122:function(t,u,h){h.d(u,"a",function(){return w});var f=h(0),g=h(124);t=h(15);var k=h(58),w=Object(t.a)(function(v,C){var A=Object(f.a),r=Object(f.a)({},C),l,d=C.type,e=C.typeKeywords||[],a=d,b=(null==v?void 0:v.portalUser)||(null==v?void 0:v.user);if("Feature Service"===d||"Feature Collection"===d){if(a=-1<e.indexOf("Table")?
"Table":-1<e.indexOf("Route Layer")?"Route Layer":-1<e.indexOf("Markup")?"Markup":"Feature Layer",b&&Object(k.d)(C,b)&&-1<(null==e?void 0:e.indexOf("Hosted Service")))e=(null===(l=null===document||void 0===document?void 0:document.documentElement)||void 0===l?void 0:l.lang)||"en",a=a+" ("+(g.a[e]||g.a[e.split("-")[0]]||g.a.en)+")"}else"Image Service"===d?(l=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),a=l?"Elevation Layer":e?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===
d?a="Scene Layer":"Scene Package"===d?a="Scene Layer Package":"Stream Service"===d?a="Feature Layer":"Geocoding Service"===d?a="Locator":"Microsoft Powerpoint"===d?a="Microsoft PowerPoint":"OGCFeatureServer"===d?a="OGC Feature Layer":"GeoJson"===d?a="GeoJSON":"Globe Service"===d?a="Globe Layer":"Vector Tile Service"===d?a="Tile Layer":"netCDF"===d?a="NetCDF":"Map Service"===d?a=-1===e.indexOf("Spatiotemporal")&&(-1<e.indexOf("Hosted Service")||-1<e.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":
d&&-1<d.toLowerCase().indexOf("add in")?a=d.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===d?a="Big Data File Share":"Web Mapping Application"===d&&(null==e?0:e.includes("configurableApp"))?a="Instant App":"Data Store"===d&&(e.includes("cloudStore_amazon")||e.includes("cloudStore_azure")?a+=" (Cloud)":(e.includes("fileShare")||e.includes("hdfs")||e.includes("hive")||e.includes("bigDataFileShare")&&e.includes("dataStore"))&&(a+=" (Big Data File Share)"));return A(r,{displayName:a})})},
123:function(t,u,h){h.d(u,"a",function(){return k});var f=h(0);t=h(15);var g=function(w,v){var C=[],A=w.typeKeywords?w.typeKeywords:[];return w.contentStatus&&("org_authoritative"===w.contentStatus||"public_authoritative"===w.contentStatus?C.push("authoritative"):"deprecated"===w.contentStatus&&C.push("deprecated")),w.origin&&C.push("collaboration"),w.groupDesignations&&-1<w.groupDesignations.indexOf("livingatlas")&&C.push("livingAtlas"),-1<A.indexOf("Requires Credits")?C.push("premium"):-1<A.indexOf("Requires Subscription")&&
C.push("subscriber"),-1<A.indexOf("Public Data Collection")&&((null==v?void 0:v.portalUser)||(null==v?void 0:v.user))&&C.push("publicDataCollection"),"Solution"===w.type&&-1<w.typeKeywords.indexOf("ArcGIS Solution")&&C.push("solution"),v.isPortal&&"Web Mapping Application"===w.type&&(-1<w.typeKeywords.indexOf("Story Map")&&C.push("retiredStoryMap"),function(r){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(l){var d,
e=-1<l.indexOf(".html");return-1<(null===(d=r.url)||void 0===d?void 0:d.indexOf("/apps/"+l+(e?"":"/")))})}(w)&&C.push("retiredApp")),C},k=Object(t.a)(function(w,v){return Object(f.a)(Object(f.a)({},v),{badges:g(v,w)})})},124:function(t,u,h){h.d(u,"a",function(){return f});var f={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(t,u,h){h.d(u,"a",function(){return g});h.d(u,"b",function(){return k});var f=h(0);t=h(15);var g=function(w,v){var C;return v.thumbnail&&(C=w.restUrl+"/community/groups/"+v.id+"/info/"+v.thumbnail+(w.credential?"?token\x3d"+w.credential.token:"")),C},k=Object(t.a)(function(w,v){return Object(f.a)(Object(f.a)({},v),{thumbURI:g(w,v)})})},137:function(t,u,h){h.d(u,"a",function(){return f});
h.d(u,"d",function(){return w});h.d(u,"c",function(){return v});h.d(u,"e",function(){return C});h.d(u,"f",function(){return A});var f,g=h(0),k=h(25);!function(r){r.LOADING="loading";r.LOADED="loaded";r.FAILED="failed"}(f||(f={}));var w=function(r){var l=r.selectedGroups,d=r.selectorItems;return 0===d.length?Object.keys(l).map(function(e){return l[e].group}):Object.keys(l).filter(function(e){return C(l[e],d)}).map(function(e){return l[e].group})},v=function(r){var l=r.initialSelectedGroups,d=r.selectedGroups,
e=Object.keys(d).map(function(a){return d[a].group.id});return Object.keys(l).map(function(a){return l[a].group.id}).filter(function(a){return 0>e.indexOf(a)}).map(function(a){return l[a].group})},C=function(r,l){return!r.selectedByIds||r.selectedByIds.length===l.length},A={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};u.b=function(r,l){switch(void 0===r&&(r=A),l.type){case k.a.DESELECT_GROUPS:return Object(g.a)(Object(g.a)({},
r),{selectedGroups:l.payload.reduce(function(a,b){var c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},r.selectedGroups)});case k.a.REVERT_GROUPS:return l.payload?Object(g.a)(Object(g.a)({},r),{selectedGroups:l.payload.reduce(function(a,b){var c;if(r.initialSelectedGroups[b.id])return Object(g.a)(Object(g.a)({},a),((c={})[b.id]=r.initialSelectedGroups[b.id],c));c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},r.selectedGroups)}):Object(g.a)(Object(g.a)({},r),{selectedGroups:Object(g.a)({},
r.initialSelectedGroups)});case k.a.SELECT_GROUPS:var d=r.selectorItems.map(function(a){return a.id});return Object(g.a)(Object(g.a)({},r),{selectedGroups:l.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=Object(g.a)({selectedByIds:d},b),c))},r.selectedGroups)});case k.a.SET_INITIAL_GROUPS:var e=l.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=b,c))},{});return Object(g.a)(Object(g.a)({},r),{selectedGroups:e,
initialSelectedGroups:Object(g.a)({},e)});case k.a.SET_SELECTOR_ITEMS:return Object(g.a)(Object(g.a)({},r),{selectorItems:l.payload});case k.a.CLEAR_SELECTION:return Object(g.a)(Object(g.a)({},r),{selectedGroups:{}});case k.a.LOADING_GROUPS:return Object(g.a)(Object(g.a)({},r),{status:f.LOADING});case k.a.LOAD_GROUPS_SUCCESS:return Object(g.a)(Object(g.a)({},r),{displayGroups:l.payload.results,total:l.payload.total,status:f.LOADED});case k.a.LOAD_GROUPS_FAIL:return Object(g.a)(Object(g.a)({},r),{displayGroups:[],
status:f.FAILED});case k.a.SET_HAS_GROUPS:return Object(g.a)(Object(g.a)({},r),{hasGroups:l.payload});default:return r}}},139:function(t,u,h){function f(L,U){var ba=U(),V=ba.utilities.request,aa=ba.resources;ba=aa.selectedOptions;var ha=aa.selectedOptionsDirty;aa=Object(c.b)(aa.items);ba=ha&&ba["public"]===ba.total;L(F(y.a.LOADING));0<aa.length&&ba?Object(c.a)({items:aa,request:V}).then(function(ia){ia.length?(ia=ia.some(function(ka){return-1===ka.typeKeywords.indexOf("Public Data Collection")}),
L(z(ia?y.c.PUBLIC_DATA_COLLECTION_DISABLED:y.c.PUBLIC_DATA_COLLECTION_ENABLED))):L(g)})["catch"](function(){L(g)}):L(g)}function g(L,U){var ba=U(),V=ba.utilities,aa=V.portal,ha=V.request,ia=V.onComplete;V=ba.resources;var ka=V.items,qa=V.selectedOptions,Y=V.portalUser;V=ba.gbState.groups;ba=V.selectedGroups;V=V.initialSelectedGroups;var Q=Object(d.d)({selectedGroups:ba,selectorItems:ka});ba=Object(d.c)({initialSelectedGroups:V,selectedGroups:ba});var fa=[];Object(e.h)({items:ka,groups:ba,portalUser:Y,
restUrl:aa.restUrl,request:ha}).then(function(){return Object(e.g)({items:ka,groups:Q,portalUser:Y,request:ha,restUrl:aa.restUrl,selectedOptions:qa})})["catch"](function(S){S.results?fa=fa.concat(Object(m.a)(S.results,ka)):S.message&&fa.push({error:S})}).then(function(){return L(E)}).then(function(){var S=U().resources,O=S.items,I=S.dependentItems,Z=I.needGroupSharingUpdate,W=I.notEditable,ca=I.premium,T=I.needPubliclyEditableWarning,P=I.needEditableWarning,X=I.needDataCollectionEnabled,da=I.needGroupDependentApplicationWarning,
ea=I.needBDFSDatastoreUpdate,ja=S.selectedOptions,la=(S=S.selectedOptionsDirty)&&ja["public"]===ja.total;0!==I.needShareLevelUpdate.length||0!==Z.length||0!==W.length||0!==ca.length||0!==T.length||0!==P.length||0!==X.length||0!==da.length&&la||0!==ea.length||0!==Object(e.c)(O,ja,S).length?L({type:C.SET_CURRENT_VIEW,payload:y.a.DEPENDENT_ITEM_CONFIRMATION}):ia(0<fa.length?{errors:fa,selectedOptions:ja}:{selectedOptions:ja})})["catch"](console.error)}function k(L){return L.filter(function(U){return-1===
U.typeKeywords.indexOf("bigDataFileShare")})}function w(L,U){var ba=U(),V=ba.utilities,aa=V.portal,ha=V.request,ia=V.onComplete;V=ba.resources;var ka=V.dependentItems,qa=ka.needBDFSDatastoreUpdate,Y=ka.needShareLevelUpdate,Q=ka.needGroupSharingUpdate,fa=ka.needEditableWarning,S=V.selectedOptions;V=V.portalUser;ka=ba.gbState.groups;ba=ka.selectedGroups;var O=ka.selectorItems;if(0!==qa.length||0!==Y.length||0!==Q.length||0!==fa.length){ka=Object(e.g)({items:k(qa),groups:[],portalUser:V,request:ha,restUrl:aa.restUrl,
selectedOptions:S});var I=Object(e.g)({items:Object(A.g)(Object(A.g)([],k(Y)),fa),groups:[],portalUser:V,request:ha,restUrl:aa.restUrl,selectedOptions:S});aa=Object(e.g)({items:Q,groups:Object(d.d)({selectedGroups:ba,selectorItems:O}),portalUser:V,request:ha,restUrl:aa.restUrl,selectedOptions:S,ignoreShareLevel:!0});a.Promise.all([ka,I,aa]).then(function(){var Z=Object(A.g)(Object(A.g)(Object(A.g)(Object(A.g)([],qa),Y),Q),fa),W=Z.map(function(ca){return ca.id});Z=Z.filter(function(ca,T){return W.indexOf(ca.id)===
T});ia({dependentItems:Z,selectedOptions:S})})["catch"](function(Z){throw Z;})}else ia({selectedOptions:S})}function v(L,U){switch(U().resources.currentMiniDlg){case y.c.OPEN_GROUP_BROWSER:L(B(y.b["public"]));L(F(y.a.GROUP_BROWSER));break;case y.c.REVERT_SHARE_LEVEL:L({type:C.SET_INITIAL_SHARE_LEVEL});L(Object(l.c)());break;case y.c.REVERT_GROUPS:L(B(y.b["public"]));L(Object(l.c)());break;case y.c.EDITABLE_LAYERS:L(g);break;case y.c.SET_SHARE_TO_PRIVATE:L(B(y.b["private"]));L(Object(l.a)());break;
case y.c.PUBLIC_DATA_COLLECTION_DISABLED:L(F(y.a.SHARE));break;case y.c.PUBLIC_DATA_COLLECTION_ENABLED:L(g)}L({type:C.SET_MINI_DIALOG,payload:y.c.NONE})}h.d(u,"a",function(){return C});h.d(u,"k",function(){return z});h.d(u,"g",function(){return D});h.d(u,"j",function(){return F});h.d(u,"d",function(){return f});h.d(u,"i",function(){return w});h.d(u,"h",function(){return v});h.d(u,"c",function(){return H});h.d(u,"b",function(){return J});h.d(u,"e",function(){return M});h.d(u,"f",function(){return K});
var C,A=h(0),r=h(177),l=h(144),d=h(137),e=h(61),a=h(28),b=h(335),c=h(194),m=h(379),p=h(51),q=h(58),y=h(26);!function(L){L.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";L.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";L.SET_CURRENT_VIEW="SET_CURRENT_VIEW";L.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";L.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";L.SET_MINI_DIALOG="SET_MINI_DIALOG";L.SET_SHARE_MODE="SET_SHARE_MODE";L.SET_USER_TYPE="SET_USER_TYPE";L.SET_HELP_MAP="SET_HELP_MAP"}(C||(C={}));var B=function(L){return{type:C.SET_SELECTED_SHARE_LEVEL,
payload:L}},z=function(L){return{type:C.SET_MINI_DIALOG,payload:L}},D=function(){return function(L,U){var ba=U(),V=ba.utilities,aa=V.portal,ha=V.request;V=ba.resources.items;ba=x(ba);var ia=aa.urlKey||aa.isPortal?y.e.ORG:y.e.PUBLIC;L({type:C.SET_INITIAL_SHARE_LEVEL});L({type:C.SET_SHARE_MODE,payload:ba});L({type:C.SET_USER_TYPE,payload:ia});L(Object(r.a)({selectorItems:V,anySelectorItemsPrivate:0<U().resources.selectedOptions[y.b["private"]],shareMode:ba,userType:ia})).then(function(){return Object(e.a)(aa,
ha)}).then(function(ka){L({type:C.SET_HELP_MAP,payload:ka});L(F(y.a.SHARE))})}},F=function(L){return function(U){U({type:C.SET_CURRENT_VIEW,payload:L})}},x=function(L){var U=L.resources,ba=U.items;U=U.portalUser;L=L.utilities.portal;var V=ba[0];if(Object(q.d)(V,U))return y.d.DEFAULT;V=!V.orgId||V.orgId===U.orgId;return Object(p.h)({items:ba,user:U,portal:L})&&V?y.d.ADMIN:y.d.GROUP},E=function(L,U){var ba=U(),V=ba.resources,aa=V.selectedOptions,ha=ba.utilities,ia=ha.portal,ka=ha.request,qa=ha.iconDir;
ba=ba.gbState.groups;var Y=ba.selectedGroups,Q=ba.selectorItems;V=V.items.map(function(fa){return Object(b.b)({item:fa,portal:ia,request:ka,iconDir:qa})});return a.Promise.all(V).then(function(fa){return G({dependentItems:fa,selectedGroups:Y,selectorItems:Q,selectedOptions:aa,request:ka,portal:ia})}).then(function(fa){L({type:C.SET_DEPENDENT_ITEMS,payload:fa})})},G=function(L){var U=L.dependentItems,ba=L.selectedGroups,V=L.selectorItems,aa=L.selectedOptions,ha=L.request,ia=L.portal;return new a.Promise(function(ka,
qa){var Y=Object(e.b)(U).filter(function(S){return S}),Q=Y.map(function(S){return S.id}),fa=Y.filter(function(S,O){return Q.indexOf(S.id)===O});a.Promise.all(fa.map(function(S){return Object(b.a)({item:S,selectedOptions:aa,selectedGroups:Object(d.d)({selectedGroups:ba,selectorItems:V}),request:ha,portal:ia})})).then(function(S){var O=[],I=[],Z=[],W=[],ca=[],T=[],P=[],X=[],da=[],ea=!Object(e.e)(aa)&&Object(e.d)(aa)===y.b["public"];S.forEach(function(ja,la){var ma=fa[la];if(ja.premium)W.push(ma);else if(ja.groupDependentApplication)X.push(ma);
else{if(!ja.bdfsDatastore)return ea&&ja.editable&&Object(c.c)(ma)&&ma.isUpdateLayer?ma.access===y.b["public"]?void T.push(ma):-1<ma.typeKeywords.indexOf("Public Data Collection")?void ca.push(ma):void P.push(ma):void((ja.needsShareLevelUpdate||ja.needsGroupSharingUpdate)&&(ja.editable?(ja.needsShareLevelUpdate&&I.push(ma),ja.needsGroupSharingUpdate&&O.push(ma)):Z.push(ma)));da.push(ma)}});ka({needGroupSharingUpdate:O,needShareLevelUpdate:I,notEditable:Z,premium:W,needPubliclyEditableWarning:T,needEditableWarning:ca,
needDataCollectionEnabled:P,needGroupDependentApplicationWarning:X,needBDFSDatastoreUpdate:da})})["catch"](function(S){throw S;})})},H=function(L,U){var ba=U(),V=ba.gbState.groups.initialSelectedGroups,aa=ba.resources.selectedOptions;ba.config.userType===y.e.PUBLIC&&0<aa["private"]&&0<Object.keys(V).length?L(z(y.c.REVERT_GROUPS)):L(Object(l.c)())},J=function(L,U){var ba=U(),V=ba.resources,aa=V.portalUser;V=V.selectedOptions;Object(p.k)(ba.utilities.portal)||Object(p.a)(aa)||!Object(e.e)(V)&&Object(e.d)(V)!==
y.b["private"]?L(F(y.a.GROUP_BROWSER)):L(z(y.c.OPEN_GROUP_BROWSER))},M=function(L,U){var ba=U(),V=ba.resources,aa=V.portalUser;V=V.items;var ha=ba.gbState.groups.selectedGroups;Object(p.k)(ba.utilities.portal)||Object(p.b)(aa)||!Object(c.d)({items:V,groupDatas:Object.keys(ha).map(function(ia){return ha[ia]})})?L({type:C.SET_INITIAL_SHARE_LEVEL}):L(z(y.c.REVERT_SHARE_LEVEL))},K=function(L){return function(U,ba){var V=ba(),aa=V.resources.portalUser,ha=V.gbState.groups.selectedGroups;!Object(p.k)(V.utilities.portal)&&
!Object(p.b)(aa)&&L===y.b["private"]&&0<Object.keys(ha).length?U(z(y.c.SET_SHARE_TO_PRIVATE)):U(B(L))}}},144:function(t,u,h){h.d(u,"d",function(){return v});h.d(u,"e",function(){return C});h.d(u,"b",function(){return A});h.d(u,"c",function(){return r});h.d(u,"a",function(){return l});h.d(u,"f",function(){return d});var f=h(0),g=h(181),k=h(163),w=h(68),v=function(e){return 1<e.length&&Object(k.a)(),{type:w.a.SELECT_GROUPS,payload:e.map(function(a){return{group:Object(g.c)(a)}})}},C=function(e){return{type:w.a.SET_INITIAL_GROUPS,
payload:e.map(function(a){return Object(f.a)(Object(f.a)({},a),{group:Object(g.c)(a.group)})})}},A=function(e){return 1<e.length&&Object(k.b)(),{type:w.a.DESELECT_GROUPS,payload:e}},r=function(e){return{type:w.a.REVERT_GROUPS,payload:e}},l=function(){return Object(k.c)(),{type:w.a.CLEAR_SELECTION}},d=function(e){return{type:w.a.SET_SELECTOR_ITEMS,payload:e}}},148:function(t,u,h){h.d(u,"a",function(){return g});var f=h(0);t=h(15);var g=Object(t.a)(function(k,w){var v=Object(f.a),C=Object(f.a)({},w);
var A=w.thumbnail?k.restUrl+"/community/users/"+w.username+"/info/"+w.thumbnail+(k.credential?"?token\x3d"+k.credential.token:""):void 0;return v(C,{thumbURI:A})})},15:function(t,u,h){function f(k){return function v(){for(var C=this,A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];return A.length>=k.length?k.call.apply(k,Object(g.g)([this],A)):function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return v.call.apply(v,Object(g.g)(Object(g.g)([C],A),l))}}}h.d(u,"a",function(){return f});
var g=h(0)},159:function(t,u,h){h.d(u,"b",function(){return e});h.d(u,"a",function(){return b});var f=h(0),g=h(181),k=h(30),w=h(163),v=h(54),C=h(68),A=h(28),r=h(61),l=h(38),d=h(26),e=function(D,F){a(F()).then(function(x){var E=F();E=Object(v.b)(E)?E:E.gbState;var G=E.utils;E.ui.focus.focusSelectAll&&Object(w.c)();D({type:C.a.LOAD_GROUPS_SUCCESS,payload:Object(f.a)(Object(f.a)({},x),{results:x.results.map(function(H){return Object(g.b)(G.portal,H)})})})})["catch"](function(x){var E=F();(Object(v.b)(E)?
E:E.gbState).ui.focus.focusSelectAll&&Object(w.c)();D({type:C.a.LOAD_GROUPS_FAIL,payload:x})})},a=function(D){D=Object(v.b)(D)?D:D.gbState;var F=D.utils,x=F.request,E=F.portal,G=D.config;F=G.groupsPerPage;var H=G.withinShare,J=(G.withinAppConfig,D.parameters);G=J.filter;J=J.sort;var M=D.ui.page.currentPageNumber,K={q:z(D),num:F,sortField:J.field,sortOrder:J.order,start:(M-1)*F+1};return H&&(K.searchUserAccess="groupMember",K.searchUserName=G.currentUsername),G.designationFilter!==l.b.orgSettings||
p(E)?new A.Promise(function(L,U){Object(k.g)(x,E,K).then(L,U)}):new A.Promise(function(L){L({query:K.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},b=function(D){var F=D.user;D=D.state;D=Object(v.b)(D)?D:D.gbState;var x=D.utils,E=x.request,G=x.portal;D=Object(f.a)(Object(f.a)({},D),{parameters:Object(f.a)(Object(f.a)({},D.parameters),{filter:Object(f.a)(Object(f.a)({},D.parameters.filter),{currentUsername:F.username})})});var H={q:z(D),num:100,searchUserAccess:"groupMember",searchUserName:F.username};
return(new A.Promise(function(J,M){return Object(k.g)(E,G,H).then(function(K){if(-1!==K.nextStart){var L=Math.ceil(K.total/100)-1,U=[K.results];K=function(V){U.push(new A.Promise(function(aa,ha){var ia=100*(V+1)+1;Object(k.g)(E,G,Object(f.a)(Object(f.a)({},H),{start:ia})).then(function(ka){aa(ka.results)},ha)}))};for(var ba=0;ba<L;ba++)K(ba);A.Promise.all(U).then(function(V){J(Object(r.b)(V))})}else J(K.results)},M)}))["catch"](function(J){throw J;})},c=function(D){var F,x=D.shareMode,E=D.currentUsername,
G=D.portalUser;D=D.userGroups;var H=[];switch(D&&D.forEach(function(J){var M,K=null===(M=J.userMembership)||void 0===M?void 0:M.memberType;!J.isViewOnly||"owner"!==K&&"admin"!==K||H.push(J.id)}),H.length&&(F="(isviewonly:false OR "+H.join(" OR ")+")"),x){case d.d.DEFAULT:return F||"(owner:"+E+" OR isviewonly:false)";case d.d.GROUP:return"owner:"+E+" -capabilities:updateitemcontrol";case d.d.ADMIN:return G.username===E?"(isviewonly:false OR owner:"+G.username+") -capabilities:updateitemcontrol":"(owner:"+
E+" OR isviewonly:false)";default:return""}},m=function(D,F){0!==(null==D?void 0:D.indexOf("id:"))||-1<F.indexOf(D)||F.push(D)},p=function(D){var F,x,E,G,H,J=[],M=[D.featuredItemsGroupQuery,D.basemapGalleryGroupQuery,D.templatesGroupQuery,D["2DStylesGroupQuery"],D.stylesGroupQuery,D.analysisLayersGroupQuery,D.galleryTemplatesGroupQuery];if(D.hasModernHomePageEnabled){var K=(null===(x=null===(F=D.homePageConfig)||void 0===F?void 0:F.content)||void 0===x?void 0:x.filter(function(L){return"gallery"===
L.type&&!!L.groupId}))||[];0<K.length&&K.forEach(function(L){m("id:"+L.groupId,J)})}else M.push(D.homePageFeaturedContent);return M.forEach(function(L){m(L,J)}),null===(E=D.featuredGroups)||void 0===E||E.forEach(function(L){(L=L.id)&&m("id:"+L,J)}),null===(H=null===(G=D.userDefaults)||void 0===G?void 0:G.groups)||void 0===H||H.forEach(function(L){m("id:"+L,J)}),0<J.length?"("+J.join(" OR ")+")":""},q=function(D){var F=D.portal;switch(D.designationFilter){case l.b.openData:return"isopendata:true";
case l.b.updateGroups:return"capabilities:updateitemcontrol";case l.b.distributed:return"capabilities:distributed";case l.b.administrative:return"isleavingdisallowed:true";case l.b.orgSettings:return p(F)||"";default:return""}},y=function(D){var F=D.portal,x=D.username,E=D.currentUsername,G=D.userType,H=D.withinAppConfig;x=D.shareMode===d.d.ADMIN&&E||x;H=F.isPortal&&H?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(D.ownerFilter){case l.d.itemOwner:return"owner:"+
x+" "+H;case l.d.inOrg:return"-owner:"+x+" orgid:"+F.id+" "+H;case l.d.outsideOrg:return G===d.e.PUBLIC?"-owner:"+x+" "+H:"(orgid: [0 TO \\{]) -orgid:"+F.id+" "+H;default:return H}},B=function(D){return D?"created: ["+(F=D).start+" TO "+F.end+"]":"";var F},z=function(D){var F=D.utils,x=F.portal;F=F.portalUser;var E=D.config,G=E.shareMode,H=E.userType,J=E.withinAppConfig,M=E.hasIndoorsSpaces;D=D.parameters.filter;var K=D.designationFilter,L=D.membershipFilter,U=D.dateCreatedFilter,ba=D.currentUsername,
V=D.ownerFilter;return[E.baseQ+" "+D.searchString,c({shareMode:G,currentUsername:ba,portalUser:F,userGroups:E.userGroups}),M?"-capabilities:distributed":q({designationFilter:K,portal:x}),M?"membershipaccess:org":L?"anyOrg"===L?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+L:"",B(U),y({ownerFilter:V,portal:x,username:F.username,currentUsername:ba,shareMode:G,userType:H,withinAppConfig:J})].filter(function(aa){return aa}).join(" ").trim()}},16:function(t,u){t.exports=R},
163:function(t,u,h){function f(){w("gb__select-all-input")}function g(){w("gb__clear-selection-btn")}function k(){setTimeout(function(){var v=document.querySelector(".gcard-gcc__container");v&&(v=v.querySelector(".btn-2018check__input"))&&v.focus()},50)}function w(v){setTimeout(function(){var C=document.querySelector("#"+v);C&&C.focus()},50)}h.d(u,"c",function(){return f});h.d(u,"a",function(){return g});h.d(u,"b",function(){return k})},170:function(t,u){var h=function(){return this}();try{h=h||(new Function("return this"))()}catch(f){"object"==
typeof window&&(h=window)}t.exports=h},175:function(t,u,h){var f;h.d(u,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(t,u,h){h.d(u,"a",function(){return m});var f=h(0),g=h(54),k=h(144),w=h(159),v=h(313),C=h(314),A=h(186),r=h(30),l=h(28),d=h(25),e=h(61),a=h(68),b=h(192),c=h(58),m=function(q){return function(y,B){var z=B(),D=(Object(g.b)(z)?z:z.gbState).utils,F=D.portal;D=D.portalUser;if(!(q&&q.selectorItems&&0<q.selectorItems.length))return y(w.b),l.Promise.resolve();
var x=q.selectorItems,E=q.userType;y({type:d.a.SET_SHARE_MODE,payload:q.shareMode});y({type:d.a.SET_USER_TYPE,payload:E});y(Object(k.f)(x));F=Object(c.b)({user:D,items:x,portal:F});var G=D.username===F.username?[D]:[D,F];return 1<G.length&&!q.anySelectorItemsPrivate&&y({type:d.a.ENABLE_USER_TOGGLE}),y(Object(A.c)(G)),y(Object(A.h)(F.username)),void 0===z.config.hasTrustedOrgs&&y(v.a),Object(C.a)(B()).then(function(H){return H&&y({type:b.a.USER_DETAILS_LOADED,payload:H.groups}),y(w.b),l.Promise.all(G.map(function(J){return Object(w.a)({user:J,
state:B()})})).then(function(J){J=Object(e.b)(J);var M=J.map(function(K){return K.id});J=J.filter(function(K,L){return M.indexOf(K.id)===L});return y(p(J))})})}},p=function(q){return function(y,B){return new l.Promise(function(z,D){var F=B();F=Object(g.b)(F)?F:F.gbState;var x=F.utils,E=x.portal,G=x.request,H=Object(r.b)(F.groups.selectorItems);F=Object(r.a)(q).map(function(J){return Object(r.i)({itemIds:H,groupIds:Object(r.b)(J),portal:E,request:G})});l.Promise.all(F).then(function(J){var M=J.reduce(function(L,
U){return Object(f.a)(Object(f.a)({},L),U)},{}),K=Object.keys(M);J=q.filter(function(L){return 0<=K.indexOf(L.id)}).map(function(L){return{group:L,selectedByIds:M[L.id].items.map(function(U){return U.itemId})}});y({type:a.a.SET_HAS_GROUPS,payload:0<q.length});y(Object(k.e)(J));z()})["catch"](D)})}}},181:function(t,u,h){h.d(u,"b",function(){return w});h.d(u,"c",function(){return v});h.d(u,"a",function(){return C});var f=h(63);t=h(5);var g=h(99),k=h(128),w=function(A,r){return Object(f.a)(Object(k.b)(A))(r)},
v=Object(f.a)(Object(t.e)("thumbURI")),C=function(A){var r=A.initialSelectedByIds;return!Object(g.a)(A.selectedBy.map(function(l){return l.id}),r)}},186:function(t,u,h){h.d(u,"b",function(){return g});h.d(u,"g",function(){return k});h.d(u,"h",function(){return w});h.d(u,"e",function(){return v});h.d(u,"f",function(){return C});h.d(u,"d",function(){return A});h.d(u,"c",function(){return r});h.d(u,"a",function(){return l});var f=h(83),g=function(d){return{type:f.a.SET_SEARCH_STRING,payload:d}},k=function(d){return{type:f.a.UPDATE_OWNER_FILTER,
payload:d}},w=function(d){return{type:f.a.UPDATE_USERNAME_FILTER,payload:d}},v=function(d){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:d}},C=function(d){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:d}},A=function(d){return{type:f.a.UPDATE_CREATED_ON_FILTER,payload:{section:d.section,created:d.created}}},r=function(d){return{type:f.a.SET_USERS,payload:d}},l=function(d){return{type:f.a.CLEAR_FILTERS,payload:d}}},189:function(t,u){function h(){throw Error("setTimeout has not been defined");
}function f(){throw Error("clearTimeout has not been defined");}function g(c){if(r===setTimeout)return setTimeout(c,0);if((r===h||!r)&&setTimeout)return r=setTimeout,setTimeout(c,0);try{return r(c,0)}catch(m){try{return r.call(null,c,0)}catch(p){return r.call(this,c,0)}}}function k(){a&&d&&(a=!1,d.length?e=d.concat(e):b=-1,e.length&&w())}function w(){if(!a){var c=g(k);a=!0;for(var m=e.length;m;){d=e;for(e=[];++b<m;)d&&d[b].run();b=-1;m=e.length}d=null;a=!1;(function(p){if(l===clearTimeout)return clearTimeout(p);
if((l===f||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(p);try{l(p)}catch(q){try{return l.call(null,p)}catch(y){return l.call(this,p)}}})(c)}}function v(c,m){this.fun=c;this.array=m}function C(){}var A=t.exports={};try{var r="function"==typeof setTimeout?setTimeout:h}catch(c){r=h}try{var l="function"==typeof clearTimeout?clearTimeout:f}catch(c){l=f}!0;var d,e=[],a=!1,b=-1;A.nextTick=function(c){var m=Array(arguments.length-1);if(1<arguments.length)for(var p=1;p<arguments.length;p++)m[p-1]=
arguments[p];e.push(new v(c,m));1!==e.length||a||g(w)};v.prototype.run=function(){this.fun.apply(null,this.array)};A.title="browser";A.browser=!0;A.env={};A.argv=[];A.version="";A.versions={};A.on=C;A.addListener=C;A.once=C;A.off=C;A.removeListener=C;A.removeAllListeners=C;A.emit=C;A.prependListener=C;A.prependOnceListener=C;A.listeners=function(c){return[]};A.binding=function(c){throw Error("process.binding is not supported");};A.cwd=function(){return"/"};A.chdir=function(c){throw Error("process.chdir is not supported");
};A.umask=function(){return 0}},192:function(t,u,h){var f;h.d(u,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(t,u,h){function f(l){return"Feature Service"===l.type&&-1<l.typeKeywords.indexOf("Hosted Service")}function g(l){return l.filter(function(d){return d.access!==C.b["public"]&&f(d)})}function k(l){var d=l.request;l=l.items.map(function(e){return function(a,b){return new w.Promise(function(c){f(a)?Object(v.v)(b,a.url+"/layers").then(function(m){m=m.layers;
c((null==m?void 0:m.reduce(function(p,q){return p||q&&-1<q.capabilities.indexOf("Editing")},!1))&&a)},function(){return c(!1)}):c(!1)})}(e,d)});return w.Promise.all(l).then(function(e){return e.filter(function(a){return a})})}h.d(u,"d",function(){return A});h.d(u,"c",function(){return f});h.d(u,"b",function(){return g});h.d(u,"a",function(){return k});var w=h(28),v=h(30),C=h(26),A=function(l){var d=l.groupDatas;return l.items.filter(function(e){e=e.access?e.access:e.sharing&&e.sharing.access;return e===
C.b["private"]||e===C.b.shared}).reduce(function(e,a){return e||r({item:a,groupDatas:d})},!1)},r=function(l){var d=l.item;return l.groupDatas.reduce(function(e,a){return e||!!a.selectedByIds&&0<=a.selectedByIds.indexOf(d.id)},!1)}},204:function(t,u,h){var f;h.d(u,"a",function(){return f});(function(g){g.SET_PAGE="SET_PAGE";g.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";g.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},207:function(t,u,h){h.d(u,"b",function(){return k});var f=h(0),g=
h(25),k={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};u.a=function(w,v){switch(void 0===w&&(w=k),v.type){case g.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},w),{enableUserToggle:!0});case g.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},w),{shareMode:v.payload});case g.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},w),{userType:v.payload});case g.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},
w),{hasTrustedOrgs:0<v.payload.length});case g.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},w),{userGroups:v.payload});case g.a.SET_SELECTOR_ITEMS:var C=!!v.payload.find(function(A){var r;return-1<(null===(r=null==A?void 0:A.typeKeywords)||void 0===r?void 0:r.indexOf("EditExtensionIndoorsSpaces"))});return Object(f.a)(Object(f.a)({},w),{hasIndoorsSpaces:C});default:return w}}},208:function(t,u,h){h.d(u,"b",function(){return g});t=h(16);var f=h(209);h=h(38);var g={sort:f.b,filter:h.f};u.a=
Object(t.combineReducers)({sort:f.a,filter:h.e})},209:function(t,u,h){h.d(u,"b",function(){return k});var f=h(0),g=h(25),k={field:"title",order:"asc"},w={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};u.a=function(v,C){switch(void 0===v&&(v=k),C.type){case g.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},v),{field:C.payload,order:w[C.payload]});case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},v),{order:C.payload});default:return v}}},
210:function(t,u,h){h.d(u,"b",function(){return w});t=h(16);var f=h(211),g=h(212),k=h(213);h=h(214);var w={page:f.b,sort:g.b,focus:k.b,filter:h.b};u.a=Object(t.combineReducers)({page:f.a,sort:g.a,focus:k.a,filter:h.a})},211:function(t,u,h){h.d(u,"b",function(){return k});var f=h(0),g=h(25),k={currentPageNumber:1};u.a=function(w,v){switch(void 0===w&&(w=k),v.type){case g.a.CLEAR_FILTERS:case g.a.UPDATE_USERNAME_FILTER:case g.a.UPDATE_OWNER_FILTER:case g.a.UPDATE_CREATED_ON_FILTER:case g.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},
w),{currentPageNumber:1});case g.a.SET_PAGE:return Object(f.a)(Object(f.a)({},w),{currentPageNumber:v.payload});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},w),{currentPageNumber:v.payload.num>v.payload.total?1:Math.ceil(v.payload.start/v.payload.num)});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},w),{currentPageNumber:1});default:return w}}},212:function(t,u,h){h.d(u,"b",function(){return g});var f=h(25),g=!1;u.a=function(k,w){switch(void 0===k&&(k=g),w.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!k;
default:return k}}},213:function(t,u,h){h.d(u,"b",function(){return k});var f=h(0),g=h(25),k={focusSelectAll:!1};u.a=function(w,v){switch(v.type){case g.a.LOAD_GROUPS_FAIL:case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},w),{focusSelectAll:!1});case g.a.CHANGE_SORT_FIELD:case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},w),{focusSelectAll:!0});default:return w}}},214:function(t,u,h){h.d(u,"b",function(){return w});var f=h(0),g=h(25),k=h(38),w={expanded:!1};u.a=function(v,
C){switch(C.type){case g.a.CLEAR_FILTERS:switch(C.payload){case void 0:case k.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},v),{dateCreatedSelectedSection:void 0});default:return v}case g.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},v),{expanded:!v.expanded});case g.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},v),{dateCreatedSelectedSection:C.payload.section});default:return v}}},215:function(t,u,h){h.d(u,"b",function(){return g});var f=h(101),g={portal:{},portalUser:{},
request:function(k){return null}};u.a=function(k,w){return void 0===k&&(k=g),w.type,k.portal.portalHostname&&!k.portal.baseUrl&&(k.portal.baseUrl=Object(f.a)(k.portal)),k}},25:function(t,u,h){h.d(u,"a",function(){return v});var f;t=h(0);u=h(204);var g=h(68),k=h(175),w=h(83);h=h(192);!function(C){C.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";C.SET_SHARE_MODE="SET_SHARE_MODE";C.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var v=Object(t.a)(Object(t.a)(Object(t.a)(Object(t.a)(Object(t.a)(Object(t.a)({},u.a),
g.a),w.a),f),k.a),h.a)},26:function(t,u,h){var f,g,k,w,v;h.d(u,"b",function(){return f});h.d(u,"a",function(){return g});h.d(u,"c",function(){return k});h.d(u,"e",function(){return w});h.d(u,"d",function(){return v});(function(C){C.org="org";C["private"]="private";C["public"]="public";C.shared="shared"})(f||(f={}));(function(C){C.LOADING="LOADING";C.SHARE="SHARE";C.GROUP_BROWSER="GROUP_BROWSER";C.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(g||(g={}));(function(C){C.SET_SHARE_TO_PRIVATE=
"SET_SHARE_TO_PRIVATE";C.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";C.REVERT_GROUPS="REVERT_GROUPS";C.EDITABLE_LAYERS="EDITABLE_LAYERS";C.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";C.NONE="NONE";C.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";C.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(k||(k={}));(function(C){C.ORG="ORG";C.PUBLIC="PUBLIC"})(w||(w={}));(function(C){C.DEFAULT="DEFAULT";C.ADMIN="ADMIN";C.GROUP="GROUP"})(v||(v={}))},28:function(t,u,h){(function(f,
g){t.exports=function(){function k(){var ia=setTimeout;return function(){return ia(w,1)}}function w(){for(var ia=0;ia<y;ia+=2)(0,H[ia])(H[ia+1]),H[ia]=void 0,H[ia+1]=void 0;y=0}function v(ia,ka){var qa=this,Y=new this.constructor(A);void 0===Y[ba]&&p(Y);var Q=qa._state;if(Q){var fa=arguments[Q-1];D(function(){return m(Q,Y,fa,qa._result)})}else b(qa,Y,ia,ka);return Y}function C(ia){if(ia&&"object"==typeof ia&&ia.constructor===this)return ia;var ka=new this(A);return l(ka,ia),ka}function A(){}function r(ia,
ka,qa){ka.constructor===ia.constructor&&qa===v&&ka.constructor.resolve===C?function(Y,Q){1===Q._state?e(Y,Q._result):2===Q._state?a(Y,Q._result):b(Q,void 0,function(fa){return l(Y,fa)},function(fa){return a(Y,fa)})}(ia,ka):void 0===qa?e(ia,ka):"function"==typeof qa?function(Y,Q,fa){D(function(S){var O=!1,I=function(Z,W,ca,T){try{Z.call(W,ca,T)}catch(P){return P}}(fa,Q,function(Z){O||(O=!0,Q!==Z?l(S,Z):e(S,Z))},function(Z){O||(O=!0,a(S,Z))},S._label);!O&&I&&(O=!0,a(S,I))},Y)}(ia,ka,qa):e(ia,ka)}function l(ia,
ka){if(ia===ka)a(ia,new TypeError("You cannot resolve a promise with itself"));else if(Y=typeof(qa=ka),null===qa||"object"!==Y&&"function"!==Y)e(ia,ka);else{qa=void 0;try{qa=ka.then}catch(Q){return void a(ia,Q)}r(ia,ka,qa)}var qa,Y}function d(ia){ia._onerror&&ia._onerror(ia._result);c(ia)}function e(ia,ka){void 0===ia._state&&(ia._result=ka,ia._state=1,0!==ia._subscribers.length&&D(c,ia))}function a(ia,ka){void 0===ia._state&&(ia._state=2,ia._result=ka,D(d,ia))}function b(ia,ka,qa,Y){var Q=ia._subscribers,
fa=Q.length;ia._onerror=null;Q[fa]=ka;Q[fa+1]=qa;Q[fa+2]=Y;0===fa&&ia._state&&D(c,ia)}function c(ia){var ka=ia._subscribers,qa=ia._state;if(0!==ka.length){for(var Y=void 0,Q=void 0,fa=ia._result,S=0;S<ka.length;S+=3)Y=ka[S],Q=ka[S+qa],Y?m(qa,Y,Q,fa):Q(fa);ia._subscribers.length=0}}function m(ia,ka,qa,Y){var Q="function"==typeof qa,fa=void 0,S=void 0,O=!0;if(Q){try{fa=qa(Y)}catch(I){O=!1,S=I}if(ka===fa)return void a(ka,new TypeError("A promises callback cannot return that same promise."))}else fa=
Y;void 0!==ka._state||(Q&&O?l(ka,fa):!1===O?a(ka,S):1===ia?e(ka,fa):2===ia&&a(ka,fa))}function p(ia){ia[ba]=V++;ia._state=void 0;ia._result=void 0;ia._subscribers=[]}var q=Array.isArray?Array.isArray:function(ia){return"[object Array]"===Object.prototype.toString.call(ia)},y=0,B=void 0,z=void 0,D=function(ia,ka){H[y]=ia;H[y+1]=ka;2===(y+=2)&&(z?z(w):U())},F="undefined"!=typeof window?window:void 0,x=F||{};x=x.MutationObserver||x.WebKitMutationObserver;var E="undefined"==typeof self&&void 0!==f&&"[object process]"===
{}.toString.call(f),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=Array(1E3),J,M,K,L,U=void 0;E?U=function(){return f.nextTick(w)}:x?(M=0,K=new x(w),L=document.createTextNode(""),K.observe(L,{characterData:!0}),U=function(){L.data=M=++M%2}):G?((J=new MessageChannel).port1.onmessage=w,U=function(){return J.port2.postMessage(0)}):U=void 0===F?function(){try{var ia=Function("return this")().require("vertx");return void 0!==(B=ia.runOnLoop||
ia.runOnContext)?function(){B(w)}:k()}catch(ka){return k()}}():k();var ba=Math.random().toString(36).substring(2),V=0,aa=function(){function ia(ka,qa){this._instanceConstructor=ka;this.promise=new ka(A);this.promise[ba]||p(this.promise);q(qa)?(this.length=qa.length,this._remaining=qa.length,this._result=Array(this.length),0===this.length?e(this.promise,this._result):(this.length=this.length||0,this._enumerate(qa),0===this._remaining&&e(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}
return ia.prototype._enumerate=function(ka){for(var qa=0;void 0===this._state&&qa<ka.length;qa++)this._eachEntry(ka[qa],qa)},ia.prototype._eachEntry=function(ka,qa){var Y=this._instanceConstructor,Q=Y.resolve;if(Q===C){var fa=Q=void 0,S=!1;try{Q=ka.then}catch(O){S=!0,fa=O}Q===v&&void 0!==ka._state?this._settledAt(ka._state,qa,ka._result):"function"!=typeof Q?(this._remaining--,this._result[qa]=ka):Y===ha?(Y=new Y(A),S?a(Y,fa):r(Y,ka,Q),this._willSettleAt(Y,qa)):this._willSettleAt(new Y(function(O){return O(ka)}),
qa)}else this._willSettleAt(Q(ka),qa)},ia.prototype._settledAt=function(ka,qa,Y){var Q=this.promise;void 0===Q._state&&(this._remaining--,2===ka?a(Q,Y):this._result[qa]=Y);0===this._remaining&&e(Q,this._result)},ia.prototype._willSettleAt=function(ka,qa){var Y=this;b(ka,void 0,function(Q){return Y._settledAt(1,qa,Q)},function(Q){return Y._settledAt(2,qa,Q)})},ia}(),ha=function(){function ia(ka){this[ba]=V++;this._result=this._state=void 0;this._subscribers=[];if(A!==ka){if("function"!=typeof ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(this instanceof ia)(function(qa,Y){try{Y(function(Q){l(qa,Q)},function(Q){a(qa,Q)})}catch(Q){a(qa,Q)}})(this,ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ia.prototype["catch"]=function(ka){return this.then(null,ka)},ia.prototype["finally"]=function(ka){var qa=this.constructor;return"function"==typeof ka?this.then(function(Y){return qa.resolve(ka()).then(function(){return Y})},function(Y){return qa.resolve(ka()).then(function(){throw Y;
})}):this.then(ka,ka)},ia}();return ha.prototype.then=v,ha.all=function(ia){return(new aa(this,ia)).promise},ha.race=function(ia){var ka=this;return q(ia)?new ka(function(qa,Y){for(var Q=ia.length,fa=0;fa<Q;fa++)ka.resolve(ia[fa]).then(qa,Y)}):new ka(function(qa,Y){return Y(new TypeError("You must pass an array to race."))})},ha.resolve=C,ha.reject=function(ia){var ka=new this(A);return a(ka,ia),ka},ha._setScheduler=function(ia){z=ia},ha._setAsap=function(ia){D=ia},ha._asap=D,ha.polyfill=function(){var ia=
void 0;if(void 0!==g)ia=g;else if("undefined"!=typeof self)ia=self;else try{ia=Function("return this")()}catch(Y){throw Error("polyfill failed because global object is unavailable in this environment");}var ka=ia.Promise;if(ka){var qa=null;try{qa=Object.prototype.toString.call(ka.resolve())}catch(Y){}if("[object Promise]"===qa&&!ka.cast)return}ia.Promise=ha},ha.Promise=ha,ha}()}).call(this,h(189),h(170))},30:function(t,u,h){function f(H){return H.reduce(function(J,M){return M&&M.relatedItems?J.concat(M.relatedItems.map(function(K){return K})):
J},[])}function g(H,J,M){return H(J,{query:Object(v.a)({f:"json"},M)}).then(function(K){return K.data})}function k(H,J){void 0===J&&(J=100);for(var M=[],K=0;K<Math.ceil(H.length/J);K++)M.push(H.slice(K*J,(K+1)*J));return M.filter(function(L){return 0<L.length})}function w(H){var J=H.itemIds,M=H.request,K=H.groupIds,L=H.portal.restUrl+"/content/itemsgroups";return new C.Promise(function(U,ba){M(L,{method:"get",query:{f:"json",items:J,groups:K}}).then(function(V){U(V.data)},ba)})}h.d(u,"u",function(){return A});
h.d(u,"n",function(){return r});h.d(u,"h",function(){return l});h.d(u,"e",function(){return d});h.d(u,"f",function(){return e});h.d(u,"j",function(){return a});h.d(u,"o",function(){return b});h.d(u,"l",function(){return c});h.d(u,"k",function(){return m});h.d(u,"m",function(){return p});h.d(u,"c",function(){return q});h.d(u,"d",function(){return y});h.d(u,"r",function(){return B});h.d(u,"s",function(){return z});h.d(u,"t",function(){return D});h.d(u,"g",function(){return F});h.d(u,"p",function(){return x});
h.d(u,"q",function(){return E});h.d(u,"v",function(){return g});h.d(u,"a",function(){return k});h.d(u,"i",function(){return w});h.d(u,"b",function(){return G});var v=h(0),C=h(28),A=function(H){return function(J,M){return H({url:J,content:M.query},{usePost:"post"===M.method}).then(function(K){return{data:K}})}},r=function(H,J,M){return g(H,J.restUrl+"/portals/self",{culture:M,"default":!0})},l=function(H,J,M){return g(H,J.restUrl+"/content/items/"+M+"/data")},d=function(H,J,M,K){return g(H,J.restUrl+
"/community/groups",Object(v.a)({q:M},K))},e=function(H,J,M){return g(H,J.restUrl+"/community/groups/"+M+"/categorySchema")},a=function(H,J,M){return g(H,J.restUrl+"/portals/"+(M||J.id)+"/categorySchema")},b=function(H,J){return g(H,J.restUrl+"/portals/"+J.id+"/servers")},c=function(H,J,M,K){return H(J.restUrl+"/portals/"+(M||J.id)+"/collaborationsSummary",K)},m=function(H,J,M,K){return H(J.restUrl+"/portals/"+(M||J.id)+"/collaboratedItems",K)},p=function(H,J,M){return g(H,location.protocol+"//"+
J.portalHostname+"/sharing/rest/portals/"+(M||"self"))},q=function(H,J,M){return H(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:M||1,sortField:"title",sortOrder:"asc"}}).then(function(K){return K.data.total>K.data.start+K.data.num?q(H,J,K.data.start+K.data.num).then(function(L){return Object(v.a)(Object(v.a)({},L),{data:Object(v.a)(Object(v.a)({},L.data),{results:K.data.results.concat(L.data.results)})})}):K})},y=function(H,J,M,K){return H(J.restUrl+
"/community/users/"+M+"/provisionedListings",{query:{f:"json",num:100,start:K||1}}).then(function(L){var U=C.Promise.all(L.data.provisionedListings.filter(function(V){return V.itemId}).map(function(V){return(new C.Promise(function(aa,ha){H(J.restUrl+"/content/items/"+V.itemId,{method:"get",query:{f:"json"}}).then(function(ia){aa(ia.data)},ha)}))["catch"](function(aa){return 0})})),ba=L.data.provisionedListings.map(function(V){return g(H,J.restUrl+"/content/items/"+(V.id||V.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(aa){return aa},
function(aa){})});return L.data.total>L.data.start+L.data.num?y(H,J,M,L.data.start+L.data.num).then(function(V){return C.Promise.all([U].concat(ba)).then(function(aa){return aa[0].results.concat(f(aa.slice(1))).concat(V)})}):C.Promise.all([U].concat(ba)).then(function(V){return V[0].filter(function(aa){return void 0!==aa}).concat(f(V.slice(1)))})})},B=function(H,J,M){return g(H,J.restUrl+"/community/users/"+(M||J.user.username))},z=function(H,J,M){return g(H,J.restUrl+"/content/users/"+(M||J.user.username),
{num:1})},D=function(H,J,M){return g(H,J.restUrl+"/content/groups/"+M)},F=function(H,J,M){return g(H,J.restUrl+"/community/groups",M)},x=function(H,J){return g(H,J.restUrl+"/portals/self/settings")},E=function(H,J){return g(H,J.restUrl+"/portals/self/trustedOrgs",{num:100})},G=function(H,J){return void 0===J&&(J=","),H.map(function(M){return M.id}).join(J)}},313:function(t,u,h){h.d(u,"a",function(){return w});var f=h(30),g=h(54),k=h(175),w=function(v,C){var A=C();A=(Object(g.b)(A)?A:A.gbState).utils;
Object(f.q)(A.request,A.portal).then(function(r){var l;r=(null===(l=null==r?void 0:r.trustedOrgs)||void 0===l?void 0:l.filter(function(d){return-1<d.from.established&&-1<d.to.established}))||[];v({type:k.a.TRUSTED_ORGS_LOADED,payload:r})},function(){v({type:k.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(t,u,h){h.d(u,"a",function(){return w});var f=h(30),g=h(54),k=h(28),w=function(v){v=(Object(g.b)(v)?v:v.gbState).utils;var C=v.request,A=v.portal,r=v.portalUser;return new k.Promise(function(l,
d){Object(f.r)(C,A,r.username).then(function(e){l(e)},function(){l()})})}},335:function(t,u,h){h.d(u,"b",function(){return r});h.d(u,"a",function(){return y});var f=h(0),g=h(28),k=h(30),w=h(78),v=h(61),C=h(194),A=h(26),r=function(D){if(D.depth&&4<D.depth)return g.Promise.resolve([]);switch(D.depth=D.depth?D.depth+1:1,D.item.type){case "Web Map":case "Web Scene":return m(D);case "Web Mapping Application":return d(D);case "Big Data File Share":return e(D);case "Data Store":return a(D);default:return g.Promise.resolve([])}},
l=function(D){var F=D.item,x=D.request,E=D.portal,G=D.iconDir;return F.itemId?new g.Promise(function(H){Object(k.v)(x,E.restUrl+"/content/items/"+F.itemId).then(function(J){0<Object(C.b)([J]).length?Object(C.a)({items:[J],request:x}).then(function(M){J.isUpdateLayer=0<M.length;H(Object(w.a)(E,G,J))},function(){return H(Object(w.a)(E,G,J))}):H(Object(w.a)(E,G,J))},function(){return H(null)})}):g.Promise.resolve(null)},d=function(D){var F=D.item,x=D.request,E=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(x,
E.restUrl+"/content/items/"+F.id+"/data").then(function(J){J||H([]);var M=function(K){var L,U,ba,V,aa,ha,ia,ka,qa,Y,Q=(null===(L=null==K?void 0:K.map)||void 0===L?0:L.itemId)?[K.map.itemId]:[];L=null!==(V=null===(ba=null===(U=K.values)||void 0===U?void 0:U.itemCollection)||void 0===ba?void 0:ba.map(function(fa){return fa.id}))&&void 0!==V?V:[];U=null!==(ia=null===(ha=null===(aa=K.values)||void 0===aa?void 0:aa.webmap)||void 0===ha?void 0:ha.split(","))&&void 0!==ia?ia:[];K=null!==(Y=null===(qa=null===
(ka=K.values)||void 0===ka?void 0:ka.webscene)||void 0===qa?void 0:qa.split(","))&&void 0!==Y?Y:[];return Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],Q),L),U),K)}(J).map(function(K){return l({item:{itemId:K},request:x,portal:E,iconDir:G})});g.Promise.all(M).then(function(K){var L=K.filter(function(U){return U});K=L.map(function(U){return r({item:U,request:x,portal:E,iconDir:G})});g.Promise.all(K).then(function(U){var ba;U=Object(f.g)(Object(f.g)([],L),Object(v.b)(U));(null===(ba=J.values)||
void 0===ba?0:ba.group)&&(F.itemData=J,U.push(F));H(U)})})})})},e=function(D){var F=D.item,x=D.request,E=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(x,E.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(J){if(-1<J.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<J.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(k.v)(x,E.restUrl+"/content/items/"+J.relatedItems[0].id+"/relatedItems",
{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(K){K.relatedItems.push(J.relatedItems[0]);K=b(K.relatedItems,x,E,G);g.Promise.all(K).then(function(L){H(L)})});else{var M=b(J.relatedItems,x,E,G);g.Promise.all(M).then(function(K){H(K)})}})})},a=function(D){var F=D.item,x=D.request,E=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(x,E.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(J){J=
b(J.relatedItems,x,E,G);g.Promise.all(J).then(function(M){H(M)})})})},b=function(D,F,x,E){return D.map(function(G){return c(G,F,x,E)})},c=function(D,F,x,E){return new g.Promise(function(G){Object(k.v)(F,x.restUrl+"/content/items/"+D.id).then(function(H){G(Object(w.a)(x,E,H))})})},m=function(D){var F=D.item,x=D.request,E=D.portal,G=D.iconDir;return new g.Promise(function(H){return function(J){var M=J.portal,K=J.item,L=J.request;return new g.Promise(function(U){if(K.itemData){var ba=K.itemData,V=ba.operationalLayers,
aa=ba.baseMap,ha=ba.tables;ba=ba.ground;return U(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],(null==aa?void 0:aa.baseMapLayers)||[]),(null==ba?void 0:ba.layers)||[]),V||[]),ha||[]))}return Object(k.v)(L,M.restUrl+"/content/items/"+K.id+"/data").then(function(ia){var ka=ia.baseMap,qa=ia.tables,Y=ia.ground;return U(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],ia.operationalLayers||[]),(null==ka?void 0:ka.baseMapLayers)||[]),(null==Y?void 0:Y.layers)||[]),qa||[]))},function(){return U([])})})}({request:x,
item:F,portal:E}).then(function(J){g.Promise.all(p(J).map(function(M){return l({item:M,request:x,portal:E,iconDir:G})})).then(H)})})},p=function(D){return D.reduce(function(F,x){return(null==x?0:x.itemId)?F.concat(x):(null==x?0:x.layers)&&"GroupLayer"===x.layerType?F.concat(x.layers):F},[])},q={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},y=function(D){var F=D.item,x=D.selectedOptions,E=D.selectedGroups,G=D.request;D=D.portal;
return B({item:F,selectedOptions:x})?g.Promise.resolve(Object(f.a)(Object(f.a)({},q),{editable:!1,premium:!0})):z({item:F,selectedGroups:E,request:G,portal:D,selectedOptions:x}).then(function(H){var J=H.needsGroupSharingUpdate,M;if(!(M=H.needsShareLevelUpdate)){var K,L=!0;Object(v.e)(x)&&(L=!1);M=Object(v.d)(x);M!==A.b["private"]&&M!==A.b.shared||(L=!1);var U=F.access||(null===(K=F.sharing)||void 0===K?void 0:K.access);M=(U===A.b["public"]&&(L=!1),U===M&&(L=!1),M===A.b["private"]&&(U===A.b.shared&&
(L=!1),U===A.b.org&&(L=!1)),L)}return{needsGroupSharingUpdate:J,needsShareLevelUpdate:M,editable:H.editable,premium:!1,groupDependentApplication:H.groupDependentApplication,bdfsDatastore:H.bdfsDatastore}})},B=function(D){var F=D.selectedOptions;D=D.item;return Object(v.e)(F)?!1:Object(v.d)(F)===A.b["public"]?(F=D.typeKeywords,-1<D.owner.toLowerCase().indexOf("esri")&&(-1<(null==F?void 0:F.indexOf("Requires Credits"))||-1<(null==F?void 0:F.indexOf("Requires Subscription")))):!1},z=function(D){var F=
D.item,x=D.selectedGroups,E=D.selectedOptions,G=D.request,H=D.portal;return new g.Promise(function(J,M){var K,L;"Web Mapping Application"===F.type&&(null===(L=null===(K=F.itemData)||void 0===K?void 0:K.values)||void 0===L?0:L.group)?J(Object(f.a)(Object(f.a)({},q),{groupDependentApplication:!0})):"Data Store"!==F.type?Object(k.v)(G,H.restUrl+"/content/users/"+F.owner+(F.ownerFolder?"/"+F.ownerFolder:"")+"/items/"+(F.itemId||F.id)).then(function(U){var ba,V=U.item.itemControl,aa=U.sharing.groups;U=
F.access||(null===(ba=F.sharing)||void 0===ba?void 0:ba.access);Object(v.f)(F)&&E.total===E["public"]?J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1})):V&&"admin"!==V&&"update"!==V?J(Object(f.a)(Object(f.a)({},q),{editable:!1})):U!==A.b["public"]?x.length>aa.length?J(Object(f.a)(Object(f.a)({},q),{needsGroupSharingUpdate:!0})):(ba=x.some(function(ha){return 0>aa.indexOf(ha.id)}),J(Object(f.a)(Object(f.a)({},q),{needsGroupSharingUpdate:ba}))):J(Object(f.a)({},q))},function(U){Object(k.v)(G,
H.restUrl+"/content/items/"+(F.itemId||F.id)).then(function(ba){ba=ba.access;ba===A.b["public"]||ba===A.b.org&&E.total===E.org+E["private"]?J(Object(f.a)(Object(f.a)({},q),{editable:!1})):J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1}))},function(ba){J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1}))})}):J(Object(f.a)(Object(f.a)({},q),{bdfsDatastore:!0}))})}},336:function(t,u,h){(function(f,g){function k(xa,Ea){return xa.set(Ea[0],Ea[1]),xa}function w(xa,
Ea){return xa.add(Ea),xa}function v(xa,Ea,ta,pa){var ya=-1,ua=xa?xa.length:0;for(pa&&ua&&(ta=xa[++ya]);++ya<ua;)ta=Ea(ta,xa[ya],ya,xa);return ta}function C(xa){var Ea=!1;if(null!=xa&&"function"!=typeof xa.toString)try{Ea=!!(xa+"")}catch(ta){}return Ea}function A(xa){var Ea=-1,ta=Array(xa.size);return xa.forEach(function(pa,ya){ta[++Ea]=[ya,pa]}),ta}function r(xa,Ea){return function(ta){return xa(Ea(ta))}}function l(xa){var Ea=-1,ta=Array(xa.size);return xa.forEach(function(pa){ta[++Ea]=pa}),ta}function d(xa){var Ea=
-1,ta=xa?xa.length:0;for(this.clear();++Ea<ta;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function e(xa){var Ea=-1,ta=xa?xa.length:0;for(this.clear();++Ea<ta;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function a(xa){var Ea=-1,ta=xa?xa.length:0;for(this.clear();++Ea<ta;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function b(xa){this.__data__=new e(xa)}function c(xa,Ea){var ta=Oa(xa)||function(na){return!!na&&"object"==typeof na&&G(na)&&S.call(na,"callee")&&(!T.call(na,"callee")||"[object Arguments]"==O.call(na))}(xa)?
function(na,ra){for(var wa=-1,Fa=Array(na);++wa<na;)Fa[wa]=ra(wa);return Fa}(xa.length,String):[],pa=ta.length,ya=!!pa,ua;for(ua in xa)!Ea&&!S.call(xa,ua)||ya&&("length"==ua||F(ua,pa))||ta.push(ua);return ta}function m(xa,Ea,ta){var pa=xa[Ea];S.call(xa,Ea)&&(pa===ta||pa!=pa&&ta!=ta)&&(void 0!==ta||Ea in xa)||(xa[Ea]=ta)}function p(xa,Ea){for(var ta=xa.length;ta--;){var pa=xa[ta][0];if(pa===Ea||pa!=pa&&Ea!=Ea)return ta}return-1}function q(xa,Ea,ta,pa,ya,ua,na){var ra;if(pa&&(ra=ua?pa(xa,ya,ua,na):
pa(xa)),void 0!==ra)return ra;if(!J(xa))return xa;if(ya=Oa(xa)){if(ra=function(Ca){var Ia=Ca.length,La=Ca.constructor(Ia);Ia&&"string"==typeof Ca[0]&&S.call(Ca,"index")&&(La.index=Ca.index,La.input=Ca.input);return La}(xa),!Ea)return function(Ca,Ia){var La=-1,Ga=Ca.length;for(Ia||(Ia=Array(Ga));++La<Ga;)Ia[La]=Ca[La];return Ia}(xa,ra)}else{var wa=Ba(xa),Fa="[object Function]"==wa||"[object GeneratorFunction]"==wa;if(Ja(xa))return function(Ca,Ia){if(Ia)return Ca.slice();var La=new Ca.constructor(Ca.length);
return Ca.copy(La),La}(xa,Ea);if("[object Object]"==wa||"[object Arguments]"==wa||Fa&&!ua){if(C(xa))return ua?xa:{};if(ra=function(Ca){return"function"!=typeof Ca.constructor||x(Ca)?{}:(Ia=W(Ca),J(Ia)?ca(Ia):{});var Ia}(Fa?{}:xa),!Ea)return function(Ca,Ia){return B(Ca,Aa(Ca),Ia)}(xa,function(Ca,Ia){return Ca&&B(Ia,M(Ia),Ca)}(ra,xa))}else{if(!ba[wa])return ua?xa:{};ra=function(Ca,Ia,La,Ga){var Ma=Ca.constructor;switch(Ia){case "[object ArrayBuffer]":return y(Ca);case "[object Boolean]":case "[object Date]":return new Ma(+Ca);
case "[object DataView]":return function(Ka,Na){var Qa=Na?y(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,Ka.byteLength)}(Ca,Ga);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Ka,Na){var Qa=Na?y(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,
Ka.length)}(Ca,Ga);case "[object Map]":return function(Ka,Na,Qa){return v(Na?Qa(A(Ka),!0):A(Ka),k,new Ka.constructor)}(Ca,Ga,La);case "[object Number]":case "[object String]":return new Ma(Ca);case "[object RegExp]":return function(Ka){var Na=new Ka.constructor(Ka.source,K.exec(Ka));return Na.lastIndex=Ka.lastIndex,Na}(Ca);case "[object Set]":return function(Ka,Na,Qa){return v(Na?Qa(l(Ka),!0):l(Ka),w,new Ka.constructor)}(Ca,Ga,La);case "[object Symbol]":return Ha=Ca,za?Object(za.call(Ha)):{}}var Ha}(xa,
wa,q,Ea)}}na||(na=new b);if(ua=na.get(xa))return ua;if(na.set(xa,ra),!ya)var Da=ta?function(Ca){var Ia=Aa,La=M(Ca);if(!Oa(Ca)){Ca=Ia(Ca);Ia=-1;for(var Ga=Ca.length,Ma=La.length;++Ia<Ga;)La[Ma+Ia]=Ca[Ia]}return La}(xa):M(xa);return function(Ca,Ia){for(var La=-1,Ga=Ca?Ca.length:0;++La<Ga&&!1!==Ia(Ca[La],La,Ca););}(Da||xa,function(Ca,Ia){Da&&(Ca=xa[Ia=Ca]);m(ra,Ia,q(Ca,Ea,ta,pa,Ia,xa,na))}),ra}function y(xa){var Ea=new xa.constructor(xa.byteLength);return(new Z(Ea)).set(new Z(xa)),Ea}function B(xa,Ea,
ta,pa){ta||(ta={});for(var ya=-1,ua=Ea.length;++ya<ua;){var na=Ea[ya],ra=pa?pa(ta[na],xa[na],na,ta,xa):void 0;m(ta,na,void 0===ra?xa[na]:ra)}return ta}function z(xa,Ea){var ta,pa=xa.__data__;return("string"==(ta=typeof Ea)||"number"==ta||"symbol"==ta||"boolean"==ta?"__proto__"!==Ea:null===Ea)?pa["string"==typeof Ea?"string":"hash"]:pa.map}function D(xa,Ea){var ta=null==xa?void 0:xa[Ea];a:{var pa=!(!J(ta)||(ya=ta,Q&&Q in ya))&&(H(ta)||C(ta)?I:L).test(E(ta));break a;var ya}return pa?ta:void 0}function F(xa,
Ea){return!!(Ea=null==Ea?9007199254740991:Ea)&&("number"==typeof xa||U.test(xa))&&-1<xa&&0==xa%1&&xa<Ea}function x(xa){var Ea=xa&&xa.constructor;return xa===("function"==typeof Ea&&Ea.prototype||qa)}function E(xa){if(null!=xa){try{return fa.call(xa)}catch(Ea){}return xa+""}return""}function G(xa){var Ea;if(Ea=null!=xa)Ea=xa.length,Ea="number"==typeof Ea&&-1<Ea&&0==Ea%1&&9007199254740991>=Ea;return Ea&&!H(xa)}function H(xa){xa=J(xa)?O.call(xa):"";return"[object Function]"==xa||"[object GeneratorFunction]"==
xa}function J(xa){var Ea=typeof xa;return!!xa&&("object"==Ea||"function"==Ea)}function M(xa){if(G(xa))xa=c(xa);else if(x(xa)){var Ea=[],ta;for(ta in Object(xa))S.call(xa,ta)&&"constructor"!=ta&&Ea.push(ta);xa=Ea}else xa=X(xa);return xa}var K=/\w*$/,L=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,ba={};ba["[object Arguments]"]=ba["[object Array]"]=ba["[object ArrayBuffer]"]=ba["[object DataView]"]=ba["[object Boolean]"]=ba["[object Date]"]=ba["[object Float32Array]"]=ba["[object Float64Array]"]=
ba["[object Int8Array]"]=ba["[object Int16Array]"]=ba["[object Int32Array]"]=ba["[object Map]"]=ba["[object Number]"]=ba["[object Object]"]=ba["[object RegExp]"]=ba["[object Set]"]=ba["[object String]"]=ba["[object Symbol]"]=ba["[object Uint8Array]"]=ba["[object Uint8ClampedArray]"]=ba["[object Uint16Array]"]=ba["[object Uint32Array]"]=!0;ba["[object Error]"]=ba["[object Function]"]=ba["[object WeakMap]"]=!1;var V="object"==typeof self&&self&&self.Object===Object&&self;V="object"==typeof f&&f&&f.Object===
Object&&f||V||Function("return this")();var aa=u&&!u.nodeType&&u,ha=aa&&"object"==typeof g&&g&&!g.nodeType&&g;ha=ha&&ha.exports===aa;var ia;aa=Array.prototype;var ka=Function.prototype,qa=Object.prototype,Y=V["__core-js_shared__"],Q=(ia=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",fa=ka.toString,S=qa.hasOwnProperty,O=qa.toString,I=RegExp("^"+fa.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ha=
ha?V.Buffer:void 0;ia=V.Symbol;var Z=V.Uint8Array,W=r(Object.getPrototypeOf,Object),ca=Object.create,T=qa.propertyIsEnumerable,P=aa.splice;aa=Object.getOwnPropertySymbols;ha=ha?ha.isBuffer:void 0;var X=r(Object.keys,Object);ka=D(V,"DataView");var da=D(V,"Map");Y=D(V,"Promise");var ea=D(V,"Set");V=D(V,"WeakMap");var ja=D(Object,"create"),la=E(ka),ma=E(da),oa=E(Y),sa=E(ea),va=E(V),za=(ia=ia?ia.prototype:void 0)?ia.valueOf:void 0;d.prototype.clear=function(){this.__data__=ja?ja(null):{}};d.prototype["delete"]=
function(xa){return this.has(xa)&&delete this.__data__[xa]};d.prototype.get=function(xa){var Ea=this.__data__;return ja?(xa=Ea[xa],"__lodash_hash_undefined__"===xa?void 0:xa):S.call(Ea,xa)?Ea[xa]:void 0};d.prototype.has=function(xa){var Ea=this.__data__;return ja?void 0!==Ea[xa]:S.call(Ea,xa)};d.prototype.set=function(xa,Ea){return this.__data__[xa]=ja&&void 0===Ea?"__lodash_hash_undefined__":Ea,this};e.prototype.clear=function(){this.__data__=[]};e.prototype["delete"]=function(xa){var Ea=this.__data__;
xa=p(Ea,xa);return!(0>xa)&&(xa==Ea.length-1?Ea.pop():P.call(Ea,xa,1),!0)};e.prototype.get=function(xa){var Ea=this.__data__;xa=p(Ea,xa);return 0>xa?void 0:Ea[xa][1]};e.prototype.has=function(xa){return-1<p(this.__data__,xa)};e.prototype.set=function(xa,Ea){var ta=this.__data__,pa=p(ta,xa);return 0>pa?ta.push([xa,Ea]):ta[pa][1]=Ea,this};a.prototype.clear=function(){this.__data__={hash:new d,map:new (da||e),string:new d}};a.prototype["delete"]=function(xa){return z(this,xa)["delete"](xa)};a.prototype.get=
function(xa){return z(this,xa).get(xa)};a.prototype.has=function(xa){return z(this,xa).has(xa)};a.prototype.set=function(xa,Ea){return z(this,xa).set(xa,Ea),this};b.prototype.clear=function(){this.__data__=new e};b.prototype["delete"]=function(xa){return this.__data__["delete"](xa)};b.prototype.get=function(xa){return this.__data__.get(xa)};b.prototype.has=function(xa){return this.__data__.has(xa)};b.prototype.set=function(xa,Ea){var ta=this.__data__;if(ta instanceof e){ta=ta.__data__;if(!da||199>
ta.length)return ta.push([xa,Ea]),this;ta=this.__data__=new a(ta)}return ta.set(xa,Ea),this};var Aa=aa?r(aa,Object):function(){return[]},Ba=function(xa){return O.call(xa)};(ka&&"[object DataView]"!=Ba(new ka(new ArrayBuffer(1)))||da&&"[object Map]"!=Ba(new da)||Y&&"[object Promise]"!=Ba(Y.resolve())||ea&&"[object Set]"!=Ba(new ea)||V&&"[object WeakMap]"!=Ba(new V))&&(Ba=function(xa){var Ea=O.call(xa);if(xa=(xa="[object Object]"==Ea?xa.constructor:void 0)?E(xa):void 0)switch(xa){case la:return"[object DataView]";
case ma:return"[object Map]";case oa:return"[object Promise]";case sa:return"[object Set]";case va:return"[object WeakMap]"}return Ea});var Oa=Array.isArray,Ja=ha||function(){return!1};g.exports=function(xa){return q(xa,!0,!0)}}).call(this,h(170),h(366)(t))},354:function(t,u){t.exports=n},366:function(t,u){t.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,
"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},379:function(t,u,h){function f(w,v){var C=w.filter(function(A){var r;return!A.success&&500===(null===(r=null==A?void 0:A.error)||void 0===r?void 0:r.code)}).map(function(A){var r=Object(k.c)(v,function(l){return l.id===A.itemId});return(null==r?void 0:r.title)||A.itemId});return w.map(function(A){A.error=A.error||{};var r=A.error,l=r.messageCode;r=r.code;return l&&g.errors[l]&&(A.error.message=g.errors[l]),r&&g.errors[r]&&(A.error.message=
g.errors[r]),(500===l||500===r&&C)&&(A.error.details=C,A.error.message=g.errors[500]+" "+(null==C?void 0:C.join(", "))),A}).filter(function(A){return!A.success})}h.d(u,"a",function(){return f});var g=h(39),k=h(99)},38:function(t,u,h){h.d(u,"b",function(){return f});h.d(u,"d",function(){return k});h.d(u,"c",function(){return w});h.d(u,"a",function(){return v});h.d(u,"f",function(){return r});var f,g,k,w,v,C=h(0),A=h(25);!function(l){l.openData="openData";l.updateGroups="updateGroups";l.distributed=
"distributed";l.administrative="administrative";l.orgSettings="orgSettings"}(f||(f={}));(g||(g={})).owner="owner";(function(l){l.itemOwner="itemOwner";l.inOrg="inOrg";l.outsideOrg="outsideOrg"})(k||(k={}));(function(l){l.myOrg="org";l.partnered="collaboration";l.anyOrg="anyOrg"})(w||(w={}));(function(l){l.USER="USER";l.OWNER="OWNER";l.DESIGNATION="DESIGNATION";l.DATE_CREATED="DATE_CREATED";l.MEMBERSHIP="MEMBERSHIP"})(v||(v={}));var r={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};
u.e=function(l,d){switch(void 0===l&&(l=r),d.type){case A.a.CLEAR_FILTERS:switch(d.payload){case v.DESIGNATION:return Object(C.a)(Object(C.a)({},l),{designationFilter:void 0});case v.DATE_CREATED:return Object(C.a)(Object(C.a)({},l),{dateCreatedFilter:void 0});case v.OWNER:return Object(C.a)(Object(C.a)({},l),{ownerFilter:void 0});case v.USER:return l;case v.MEMBERSHIP:return Object(C.a)(Object(C.a)({},l),{membershipFilter:void 0});default:return Object(C.a)(Object(C.a)({},l),{designationFilter:void 0,
dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case A.a.UPDATE_OWNER_FILTER:return Object(C.a)(Object(C.a)({},l),{ownerFilter:d.payload===l.ownerFilter?void 0:d.payload});case A.a.UPDATE_USERNAME_FILTER:return Object(C.a)(Object(C.a)({},l),{currentUsername:d.payload});case A.a.UPDATE_CREATED_ON_FILTER:return Object(C.a)(Object(C.a)({},l),{dateCreatedFilter:d.payload.created});case A.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(C.a)(Object(C.a)({},l),{designationFilter:d.payload===
l.designationFilter?void 0:d.payload});case A.a.UPDATE_MEMBERSHIP_FILTER:return Object(C.a)(Object(C.a)({},l),{membershipFilter:d.payload===l.membershipFilter?void 0:d.payload});case A.a.SET_USERS:return Object(C.a)(Object(C.a)({},l),{allUsers:d.payload.reduce(function(e,a){var b;return Object(C.a)(Object(C.a)({},e),((b={})[a.username]=a,b))},{})});case A.a.SET_SEARCH_STRING:return Object(C.a)(Object(C.a)({},l),{searchString:d.payload});default:return l}}},386:function(t,u,h){(function(f,g){function k(ta,
pa,ya){switch(ya.length){case 0:return ta.call(pa);case 1:return ta.call(pa,ya[0]);case 2:return ta.call(pa,ya[0],ya[1]);case 3:return ta.call(pa,ya[0],ya[1],ya[2])}return ta.apply(pa,ya)}function w(ta){var pa=-1,ya=null==ta?0:ta.length;for(this.clear();++pa<ya;){var ua=ta[pa];this.set(ua[0],ua[1])}}function v(ta){var pa=-1,ya=null==ta?0:ta.length;for(this.clear();++pa<ya;){var ua=ta[pa];this.set(ua[0],ua[1])}}function C(ta){var pa=-1,ya=null==ta?0:ta.length;for(this.clear();++pa<ya;){var ua=ta[pa];
this.set(ua[0],ua[1])}}function A(ta){this.size=(this.__data__=new v(ta)).size}function r(ta,pa,ya){(void 0===ya||z(ta[pa],ya))&&(void 0!==ya||pa in ta)||d(ta,pa,ya)}function l(ta,pa){for(var ya=ta.length;ya--;)if(z(ta[ya][0],pa))return ya;return-1}function d(ta,pa,ya){"__proto__"==pa&&ja?ja(ta,pa,{configurable:!0,enumerable:!0,value:ya,writable:!0}):ta[pa]=ya}function e(ta){if(null==ta)ta=void 0===ta?"[object Undefined]":"[object Null]";else if(ea&&ea in Object(ta)){var pa=fa.call(ta,ea),ya=ta[ea];
try{ta[ea]=void 0;var ua=!0}catch(ra){}var na=O.call(ta);ua&&(pa?ta[ea]=ya:delete ta[ea]);ta=na}else ta=O.call(ta);return ta}function a(ta){return G(ta)&&"[object Arguments]"==e(ta)}function b(ta){return!(!E(ta)||S&&S in ta)&&(F(ta)?Z:M).test(function(pa){if(null!=pa){try{return Q.call(pa)}catch(ya){}return pa+""}return""}(ta))}function c(ta,pa,ya,ua,na){ta!==pa&&za(pa,function(ra,wa){if(na||(na=new A),E(ra))!function(Da,Ca,Ia,La,Ga,Ma,Ha){var Ka=B(Da,Ia),Na=B(Ca,Ia),Qa=Ha.get(Na);if(Qa)return void r(Da,
Ia,Qa);Ca=Ma?Ma(Ka,Na,Ia+"",Da,Ca,Ha):void 0;if(Qa=void 0===Ca){var Pa=Oa(Na),Ra=!Pa&&Ja(Na),Sa=!Pa&&!Ra&&xa(Na);Ca=Na;Pa||Ra||Sa?Oa(Ka)?Ca=Ka:G(ab=Ka)&&D(ab)?Ca=function(Wa,db){var cb=-1,Za=Wa.length;for(db||(db=Array(Za));++cb<Za;)db[cb]=Wa[cb];return db}(Ka):Ra?(Qa=!1,Ca=function(Wa,db){if(db)return Wa.slice();var cb=Wa.length;cb=ca?ca(cb):new Wa.constructor(cb);return Wa.copy(cb),cb}(Na,!0)):Sa?(Qa=!1,Va=Na,Ua=(Ta=Va.buffer,Xa=new Ta.constructor(Ta.byteLength),(new W(Xa)).set(new W(Ta)),Xa),Ca=
new Va.constructor(Ua,Va.byteOffset,Va.length)):Ca=[]:function(Wa){if(!G(Wa)||"[object Object]"!=e(Wa))return!1;Wa=T(Wa);if(null===Wa)return!0;Wa=fa.call(Wa,"constructor")&&Wa.constructor;return"function"==typeof Wa&&Wa instanceof Wa&&Q.call(Wa)==I}(Na)||Ba(Na)?(Ca=Ka,Ba(Ka)?Ca=function(Wa){var db=H(Wa),cb=void 0,Za=!cb;cb||(cb={});for(var $a=-1,Ya=db.length;++$a<Ya;){var bb=db[$a],eb=void 0;void 0===eb&&(eb=Wa[bb]);if(Za)d(cb,bb,eb);else{var fb=cb,gb=fb[bb];fa.call(fb,bb)&&z(gb,eb)&&(void 0!==eb||
bb in fb)||d(fb,bb,eb)}}return cb}(Ka):E(Ka)&&!F(Ka)||(Ca=function(Wa){return"function"!=typeof Wa.constructor||y(Wa)?{}:va(T(Wa))}(Na))):Qa=!1}var Va,Ua,Ta,Xa,ab;Qa&&(Ha.set(Na,Ca),Ga(Ca,Na,La,Ma,Ha),Ha["delete"](Na));r(Da,Ia,Ca)}(ta,pa,wa,ya,c,ua,na);else{var Fa=ua?ua(B(ta,wa),ra,wa+"",ta,pa,na):void 0;void 0===Fa&&(Fa=ra);r(ta,wa,Fa)}},H)}function m(ta,pa){var ya,ua=ta.__data__;return("string"==(ya=typeof pa)||"number"==ya||"symbol"==ya||"boolean"==ya?"__proto__"!==pa:null===pa)?ua["string"==typeof pa?
"string":"hash"]:ua.map}function p(ta,pa){var ya=null==ta?void 0:ta[pa];return b(ya)?ya:void 0}function q(ta,pa){var ya=typeof ta;return!!(pa=null==pa?9007199254740991:pa)&&("number"==ya||"symbol"!=ya&&K.test(ta))&&-1<ta&&0==ta%1&&ta<pa}function y(ta){var pa=ta&&ta.constructor;return ta===("function"==typeof pa&&pa.prototype||Y)}function B(ta,pa){if(("constructor"!==pa||"function"!=typeof ta[pa])&&"__proto__"!=pa)return ta[pa]}function z(ta,pa){return ta===pa||ta!=ta&&pa!=pa}function D(ta){return null!=
ta&&x(ta.length)&&!F(ta)}function F(ta){if(!E(ta))return!1;ta=e(ta);return"[object Function]"==ta||"[object GeneratorFunction]"==ta||"[object AsyncFunction]"==ta||"[object Proxy]"==ta}function x(ta){return"number"==typeof ta&&-1<ta&&0==ta%1&&9007199254740991>=ta}function E(ta){var pa=typeof ta;return null!=ta&&("object"==pa||"function"==pa)}function G(ta){return null!=ta&&"object"==typeof ta}function H(ta){if(D(ta)){var pa=Oa(ta),ya=!pa&&Ba(ta),ua=!pa&&!ya&&Ja(ta),na=!pa&&!ya&&!ua&&xa(ta);if(pa=pa||
ya||ua||na){ya=ta.length;for(var ra=String,wa=-1,Fa=Array(ya);++wa<ya;)Fa[wa]=ra(wa);ya=Fa}else ya=[];ra=ya.length;for(var Da in ta)pa&&("length"==Da||ua&&("offset"==Da||"parent"==Da)||na&&("buffer"==Da||"byteLength"==Da||"byteOffset"==Da)||q(Da,ra))||ya.push(Da);ta=ya}else if(E(ta)){Da=y(ta);na=[];for(ua in ta)("constructor"!=ua||!Da&&fa.call(ta,ua))&&na.push(ua);ta=na}else{Da=[];if(null!=ta)for(na in Object(ta))Da.push(na);ta=Da}return ta}function J(ta){return ta}var M=/^\[object .+?Constructor\]$/,
K=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0;L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=
L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1;var U="object"==typeof f&&f&&f.Object===Object&&f,ba="object"==typeof self&&self&&self.Object===Object&&self;ba=U||ba||Function("return this")();var V=u&&!u.nodeType&&u,aa=V&&"object"==typeof g&&g&&!g.nodeType&&g;U=(V=aa&&aa.exports===V)&&U.process;a:{try{var ha=aa&&aa.require&&aa.require("util").types||U&&U.binding&&U.binding("util");break a}catch(ta){}ha=void 0}ha=ha&&ha.isTypedArray;var ia,ka,qa;U=Array.prototype;
var Y=Object.prototype;aa=ba["__core-js_shared__"];var Q=Function.prototype.toString,fa=Y.hasOwnProperty,S=(ia=/[^.]+$/.exec(aa&&aa.keys&&aa.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",O=Y.toString,I=Q.call(Object),Z=RegExp("^"+Q.call(fa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ia=V?ba.Buffer:void 0;V=ba.Symbol;var W=ba.Uint8Array,ca=ia?ia.allocUnsafe:void 0,T=(ka=Object.getPrototypeOf,qa=Object,function(ta){return ka(qa(ta))}),
P=Object.create,X=Y.propertyIsEnumerable,da=U.splice,ea=V?V.toStringTag:void 0,ja=function(){try{var ta=p(Object,"defineProperty");return ta({},"",{}),ta}catch(pa){}}();ia=ia?ia.isBuffer:void 0;var la=Math.max,ma=Date.now,oa=p(ba,"Map"),sa=p(Object,"create"),va=function(){function ta(){}return function(pa){if(!E(pa))return{};if(P)return P(pa);ta.prototype=pa;pa=new ta;return ta.prototype=void 0,pa}}();w.prototype.clear=function(){this.__data__=sa?sa(null):{};this.size=0};w.prototype["delete"]=function(ta){ta=
this.has(ta)&&delete this.__data__[ta];return this.size-=ta?1:0,ta};w.prototype.get=function(ta){var pa=this.__data__;return sa?(ta=pa[ta],"__lodash_hash_undefined__"===ta?void 0:ta):fa.call(pa,ta)?pa[ta]:void 0};w.prototype.has=function(ta){var pa=this.__data__;return sa?void 0!==pa[ta]:fa.call(pa,ta)};w.prototype.set=function(ta,pa){var ya=this.__data__;return this.size+=this.has(ta)?0:1,ya[ta]=sa&&void 0===pa?"__lodash_hash_undefined__":pa,this};v.prototype.clear=function(){this.__data__=[];this.size=
0};v.prototype["delete"]=function(ta){var pa=this.__data__;ta=l(pa,ta);return!(0>ta)&&(ta==pa.length-1?pa.pop():da.call(pa,ta,1),--this.size,!0)};v.prototype.get=function(ta){var pa=this.__data__;ta=l(pa,ta);return 0>ta?void 0:pa[ta][1]};v.prototype.has=function(ta){return-1<l(this.__data__,ta)};v.prototype.set=function(ta,pa){var ya=this.__data__,ua=l(ya,ta);return 0>ua?(++this.size,ya.push([ta,pa])):ya[ua][1]=pa,this};C.prototype.clear=function(){this.size=0;this.__data__={hash:new w,map:new (oa||
v),string:new w}};C.prototype["delete"]=function(ta){ta=m(this,ta)["delete"](ta);return this.size-=ta?1:0,ta};C.prototype.get=function(ta){return m(this,ta).get(ta)};C.prototype.has=function(ta){return m(this,ta).has(ta)};C.prototype.set=function(ta,pa){var ya=m(this,ta),ua=ya.size;return ya.set(ta,pa),this.size+=ya.size==ua?0:1,this};A.prototype.clear=function(){this.__data__=new v;this.size=0};A.prototype["delete"]=function(ta){var pa=this.__data__;ta=pa["delete"](ta);return this.size=pa.size,ta};
A.prototype.get=function(ta){return this.__data__.get(ta)};A.prototype.has=function(ta){return this.__data__.has(ta)};A.prototype.set=function(ta,pa){var ya=this.__data__;if(ya instanceof v){var ua=ya.__data__;if(!oa||199>ua.length)return ua.push([ta,pa]),this.size=++ya.size,this;ya=this.__data__=new C(ua)}return ya.set(ta,pa),this.size=ya.size,this};var za=function(ta,pa,ya){var ua=-1,na=Object(ta);ya=ya(ta);for(var ra=ya.length;ra--;){var wa=ya[++ua];if(!1===pa(na[wa],wa,na))break}return ta},Aa=
function(ta){var pa=0,ya=0;return function(){var ua=ma(),na=16-(ua-ya);if(ya=ua,0<na){if(800<=++pa)return arguments[0]}else pa=0;return ta.apply(void 0,arguments)}}(ja?function(ta,pa){return ja(ta,"toString",{configurable:!0,enumerable:!1,value:(ya=pa,function(){return ya}),writable:!0});var ya}:J),Ba=a(function(){return arguments}())?a:function(ta){return G(ta)&&fa.call(ta,"callee")&&!X.call(ta,"callee")},Oa=Array.isArray,Ja=ia||function(){return!1},xa=ha?function(ta){return function(pa){return ta(pa)}}(ha):
function(ta){return G(ta)&&x(ta.length)&&!!L[e(ta)]},Ea;ba=(Ea=function(ta,pa,ya,ua){c(ta,pa,ya,ua)},function(ta,pa){return Aa(function(ya,ua,na){return ua=la(void 0===ua?ya.length-1:ua,0),function(){for(var ra=arguments,wa=-1,Fa=la(ra.length-ua,0),Da=Array(Fa);++wa<Fa;)Da[wa]=ra[ua+wa];wa=-1;for(Fa=Array(ua+1);++wa<ua;)Fa[wa]=ra[wa];return Fa[ua]=na(Da),k(ya,this,Fa)}}(ta,pa,J),ta+"")}(function(ta,pa){var ya=-1,ua=pa.length,na=1<ua?pa[ua-1]:void 0,ra=2<ua?pa[2]:void 0;na=3<Ea.length&&"function"==
typeof na?(ua--,na):void 0;var wa;if(wa=ra){wa=pa[0];var Fa=pa[1];if(E(ra)){var Da=typeof Fa;wa=!!("number"==Da?D(ra)&&q(Fa,ra.length):"string"==Da&&Fa in ra)&&z(ra[Fa],wa)}else wa=!1}wa&&(na=3>ua?void 0:na,ua=1);for(ta=Object(ta);++ya<ua;)(ra=pa[ya])&&Ea(ta,ra,ya,na);return ta}));g.exports=ba}).call(this,h(170),h(366)(t))},39:function(t,u){t.exports=N},5:function(t,u,h){function f(l){return 0===Object.keys(l).length&&l.constructor===Object}function g(l){return null!=l}function k(l,d){return A.apply(null,
arguments)}function w(l,d){return r.apply(null,arguments)}h.d(u,"b",function(){return f});h.d(u,"a",function(){return g});h.d(u,"e",function(){return C});h.d(u,"c",function(){return k});h.d(u,"d",function(){return w});var v=h(0);t=h(15);var C=Object(t.a)(function(l,d){var e=Object(v.a)({},d);return delete e[l],e}),A=Object(t.a)(function(l,d){return Object.keys(d).reduce(function(e,a){return e[a]=l(d[a],a,d),e},{})}),r=Object(t.a)(function(l,d){return Object.keys(d).reduce(function(e,a){return l(d[a],
a,d)&&(e[a]=d[a]),e},{})})},51:function(t,u,h){function f(z){return!(!z.urlKey||!z.customBaseUrl)}function g(z){return z.role===a.admin||z.role===a.accountAdmin}function k(z){return Object(m.a)(z.roleId)&&0<(z.roleId||"").length}function w(z){return!k(z)||k(z)&&-1<(z.privileges||[]).indexOf("portal:admin:viewItems")}function v(z){return-1<(z.privileges||[]).indexOf("portal:user:shareToOrg")}function C(z){return-1<(z.privileges||[]).indexOf("portal:user:shareToGroup")}function A(z){return-1<(z.privileges||
[]).indexOf("portal:user:shareToPublic")}function r(z,D){return l(z)||d(z)||D.canSharePublic&&e(z)}function l(z){return-1<(z.privileges||[]).indexOf("portal:admin:shareToGroup")}function d(z){return-1<(z.privileges||[]).indexOf("portal:admin:shareToOrg")}function e(z){return-1<(z.privileges||[]).indexOf("portal:admin:shareToPublic")}h.d(u,"l",function(){return q});h.d(u,"h",function(){return y});h.d(u,"m",function(){return B});h.d(u,"k",function(){return f});h.d(u,"i",function(){return g});h.d(u,
"j",function(){return k});h.d(u,"g",function(){return w});h.d(u,"b",function(){return v});h.d(u,"a",function(){return C});h.d(u,"c",function(){return A});h.d(u,"d",function(){return l});h.d(u,"e",function(){return d});h.d(u,"f",function(){return e});var a,b=h(63),c=h(148),m=h(5),p=h(58);!function(z){z.user="org_user";z.accountUser="account_user";z.publisher="org_publisher";z.accountPublisher="account_publisher";z.admin="org_admin";z.accountAdmin="account_admin";z.viewer="iAAAAAAAAAAAAAAA";z.dataEditor=
"iBBBBBBBBBBBBBBB"}(a||(a={}));var q=function(z){var D=z.items;return!!z.user.orgId&&D.every(function(F){return F.isOrgItem})},y=function(z){var D=z.items,F=z.user,x=z.portal;z=D[0];var E=Object(p.c)(z,F),G=k(F),H=r(F,x);if(G=Object(p.a)(z,F)&&-1<(F.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(x)||C(F)||v(F)||x.canSharePublic&&A(F)||r(F,x);x=G;return!(z.portal.isPortal&&z.owner!==F.username&&-1<z.owner.indexOf("esri_"))&&(E||x||q({items:D,user:F})&&H)},B=function(z,D){return Object(b.a)(Object(c.a)(z))(D)}},
54:function(t,u,h){h.d(u,"b",function(){return w});h.d(u,"a",function(){return v});h.d(u,"c",function(){return C});t=h(16);u=h(215);var f=h(208),g=h(137),k=h(210);h=h(207);var w=function(A){return!A.gbState},v={config:h.b,parameters:f.b,groups:g.f,ui:k.b,utils:u.b},C=Object(t.combineReducers)({config:h.a,parameters:f.a,groups:g.b,ui:k.a,utils:u.a})},58:function(t,u,h){function f(A,r){return(null==A?void 0:A.owner)===r.username}function g(A,r){var l;if(!(l=f(A,r)))if(Object(w.a)(A.isAdmin))l=!!A.isAdmin;
else{l=A.owner;var d="admin"===A.itemControl;l=!(A.portal.isPortal&&!f(A,r)&&d&&-1<l.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(l))&&d}return l}function k(A,r){return g(A,r)||"update"===A.itemControl}h.d(u,"d",function(){return f});h.d(u,"c",function(){return g});h.d(u,"a",function(){return k});h.d(u,"b",function(){return C});var w=h(5),v=h(51),C=function(A){var r=A.user,l=A.items;A=A.portal;return Object(v.l)({items:l,user:r})&&Object(v.h)({items:l,user:r,
portal:A})&&Object(v.g)(r)&&l[0].itemOwner||r}},61:function(t,u,h){function f(y){var B=y.groupIds,z=y.shareLevelOptions,D=y.restUrl,F=y.request,x=y.unshare;return C.Promise.all(y.items.map(function(E,G){return new C.Promise(function(H,J){F(D+"/content/items/"+(E.itemId||E.id)+"/"+(x?"unshare":"share"),{method:"post",query:Object(w.a)({f:"json",groups:B,confirmItemControl:!0},z||{})}).then(H,J)})}))["catch"](function(E){throw E;})}function g(y,B){return new C.Promise(function(z,D){var F,x=null===(F=
y.helpMap)||void 0===F?void 0:F.m;x?z(x):B(y.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(E){var G;z(null===(G=E.data.helpMap)||void 0===G?void 0:G.m)},D)})}h.d(u,"h",function(){return r});h.d(u,"g",function(){return l});h.d(u,"b",function(){return d});h.d(u,"e",function(){return e});h.d(u,"d",function(){return a});h.d(u,"f",function(){return p});h.d(u,"c",function(){return q});h.d(u,"a",function(){return g});var k,w=h(0),v=h(30),C=h(28);t=h(26);var A=h(58),r=function(y){var B=
y.items,z=y.groups,D=y.restUrl,F=y.request,x=y.portalUser;if(0===B.length)return C.Promise.resolve();var E=Object(v.b)(z);return B.every(function(G){return Object(A.d)(G,x)})?new C.Promise(function(G,H){if(!z||0===z.length)return G();var J={f:"json",items:Object(v.b)(B),groups:E};F(D+"/content/users/"+x.username+"/unshareItems",{method:"post",query:J}).then(G,H)}):f({items:B,groupIds:E,restUrl:D,request:F,unshare:!0})},l=function(y){var B=y.items,z=y.groups,D=y.restUrl,F=y.request,x=y.portalUser,
E=y.selectedOptions;y=y.ignoreShareLevel;if(0===B.length)return C.Promise.resolve();if(!y&&!E)throw"Selected options must be provided unless share level is ignored.";var G=Object(v.b)(z),H=y?{}:b(E);return B.every(function(J){return Object(A.d)(J,x)})?new C.Promise(function(J,M){F(D+"/content/users/"+x.username+"/shareItems",{method:"post",query:Object(w.a)({f:"json",items:Object(v.b)(B),groups:G,confirmItemControl:!0},H)}).then(function(K){K=K.data;K.results.every(function(L){return L.success})?
J():M(K)},M)}):f({items:B,groupIds:G,shareLevelOptions:H,restUrl:D,request:F})},d=function(y){return y.reduce(function(B,z){return Object(w.g)(Object(w.g)([],B),z)},[])},e=function(y){return 1<Object.keys(y).filter(function(B){return"total"!==B&&0<y[B]}).length},a=function(y){return Object.keys(y).filter(function(B){return"total"!==B}).reduce(function(B,z){return y[z]===y.total?z:B})},b=function(y){return e(y)?{}:c[a(y)]},c=((k={})[t.b["public"]]={org:!1,everyone:!0},k[t.b.org]={org:!0,everyone:!1},
k[t.b["private"]]={org:!1,everyone:!1},k[t.b.shared]={org:!1,everyone:!1},k),m="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),p=function(y){var B,z,D=y.typeKeywords,F=y.type;F=m.some(function(E){return-1<D.indexOf(E)})&&"Real Time Analytic"!==F&&"Big Data Analytic"!==F;var x=!(null===(B=null==y?void 0:y.portal)||void 0===B?0:B.isPortal)&&"Image Service"===
y.type&&-1<(null===(z=y.url)||void 0===z?void 0:z.indexOf("://iservices"))&&-1<y.url.indexOf("arcgis.com");y="Knowledge Graph"===y.type;return F||x||y},q=function(y,B,z){return z&&B["public"]===B.total?y.filter(function(D){return-1<D.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(t,u,h){function f(){for(var g=[],k=0;k<arguments.length;k++)g[k]=arguments[k];return function(w){return g.reduceRight(function(v,C){return C(v)},w)}}h.d(u,"a",function(){return f})},68:function(t,u,h){var f;
h.d(u,"a",function(){return f});(function(g){g.LOADING_GROUPS="LOADING_GROUPS";g.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";g.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";g.SELECT_GROUPS="SELECT_GROUPS";g.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";g.DESELECT_GROUPS="DESELECT_GROUPS";g.REVERT_GROUPS="REVERT_GROUPS";g.CLEAR_SELECTION="CLEAR_SELECTION";g.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";g.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},78:function(t,u,h){h.d(u,"a",function(){return A});h.d(u,"b",function(){return r});
var f=h(63);t=h(5);var g=h(123),k=h(122),w=h(117),v=h(121),C=h(120),A=function(l,d,e){return Object(f.a)(Object(C.a)(l),Object(v.a)(l),Object(w.a)(d),Object(k.a)(l),Object(g.a)(l))(e)},r=Object(f.a)(Object(t.e)("patchedDescription"),Object(t.e)("thumbURI"),Object(t.e)("iconURI"),Object(t.e)("displayName"),Object(t.e)("badges"))},83:function(t,u,h){var f;h.d(u,"a",function(){return f});(function(g){g.SET_SEARCH_STRING="SET_SEARCH_STRING";g.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";g.CHANGE_SORT_FIELD=
"CHANGE_SORT_FIELD";g.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";g.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";g.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";g.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";g.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";g.SET_USERS="SET_USERS";g.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},985:function(t,u,h){h.r(u);h.d(u,"ShareWrapper",function(){return d});var f=h(0),g=h(354),k=h.n(g),w=h(16),v=h(30);t=h(386);var C=h.n(t);t=
h(336);var A=h.n(t),r=h(139),l=h(61);h.d(u,"unshareItems",function(){return l.h});h.d(u,"shareItems",function(){return l.g});h.d(u,"getShimmedRequest",function(){return v.u});h.d(u,"initialState",function(){return g.initialState});var d=function(){function e(a,b){this.options=b;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.id="share-wrapper";a.appendChild(this.renderContainer);var c=A()(g.initialState),m=A()(b.initialState);c=C()(c,
m,function(B,z){if(Array.isArray(B)&&z)return z});m=b.initialState&&b.initialState.resources&&b.initialState.resources.items;var p=4===b.apiVersion?b.request:Object(v.u)(b.request),q=4===b.apiVersion?b.portal:Object(f.a)(Object(f.a)({},b.portal),{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&b.portal.user.credential?b.portal.user.credential:void 0}),y=4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons");this.initialState=
Object(f.a)(Object(f.a)({},c),{resources:Object(f.a)(Object(f.a)({},c.resources),{portalUser:b.portalUser,items:m}),utilities:Object(f.a)(Object(f.a)({},c.utilities),{request:p,portal:q,iconDir:y}),gbState:Object(f.a)(Object(f.a)({},c.gbState),{utils:Object(f.a)(Object(f.a)({},c.gbState.utils),{request:p,portal:q,portalUser:b.portalUser}),config:Object(f.a)(Object(f.a)({},c.gbState.config),{groupsPerPage:c.config.groupsPerPage,withinShare:!0,enableFiltering:!0,hasTrustedOrgs:c.config.hasTrustedOrgs})})});
this.store=Object(w.applyMiddleware)(w.thunk,Object(w.addListener)(this.listener))(w.createStore)(g.reducers,this.initialState);this.dispatch(Object(r.g)());this.projector=Object(w.createProjector)(this.store,function(B){return B(k.a,{key:"share"})},this.renderContainer)}return e.prototype.remove=function(){document&&document.documentElement&&document.documentElement.classList.remove("overflow-hidden");this.renderContainer&&this.renderContainer.parentElement&&this.renderContainer.parentElement.removeChild(this.renderContainer)},
e.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},e.prototype.getState=function(){return this.store?this.store.getState():this.initialState},e.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},e}()},99:function(t,u,h){function f(A,r){if(null==A?0:A.length)for(var l=void 0,d=0;d<A.length;d++)if(r(l=A[d]))return l}function g(A){return A.filter(function(r){return 0<r.length})}function k(A,r,l){var d=[];return r.forEach(function(e){(l?e[l].toLowerCase()===
A.toLowerCase():e.toLowerCase()===A.toLowerCase())?d.unshift(e):d.push(e)}),d}h.d(u,"e",function(){return w});h.d(u,"f",function(){return v});h.d(u,"c",function(){return f});h.d(u,"b",function(){return g});h.d(u,"a",function(){return C});h.d(u,"d",function(){return k});t=h(15);var w=function(A,r,l){return l.indexOf(A)===r},v=Object(t.a)(function(A,r){var l={};return r.filter(function(d){return!l[d[A]]&&(l[d[A]]=!0,!0)})}),C=function(A,r){return A.length===r.length&&A.reduce(function(l,d){return l&&
-1<r.indexOf(d)},!0)}}})})},"arcgis-components/Share/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/i18n!../Share/nls/resources ../Loaders/LoaderBars ../GroupBrowser/index ../Modals/Overlay".split(" "),function(R,N,n,t,u,h){return function(f){function g(w){if(k[w])return k[w].exports;var v=k[w]={i:w,l:!1,exports:{}};return f[w].call(v.exports,v,v.exports,g),v.l=!0,v.exports}var k={};return g.m=f,g.c=k,g.d=function(w,v,C){g.o(w,v)||Object.defineProperty(w,v,{enumerable:!0,
get:C})},g.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},g.t=function(w,v){if((1&v&&(w=g(w)),8&v)||4&v&&"object"==typeof w&&w&&w.__esModule)return w;var C=Object.create(null);if(g.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:w}),2&v&&"string"!=typeof w)for(var A in w)g.d(C,A,function(r){return w[r]}.bind(null,A));return C},g.n=function(w){var v=w&&w.__esModule?
function(){return w["default"]}:function(){return w};return g.d(v,"a",v),v},g.o=function(w,v){return Object.prototype.hasOwnProperty.call(w,v)},g.p="",g(g.s=877)}({0:function(f,g,k){function w(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function v(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,
m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(m=Object.getOwnPropertySymbols(a);p<m.length;p++)0>b.indexOf(m[p])&&Object.prototype.propertyIsEnumerable.call(a,m[p])&&(c[m[p]]=a[m[p]])}return c}function C(a,b,c,m){var p,q=arguments.length,y=3>q?b:null===m?m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(p=a[B])&&(y=(3>q?
p(y):3<q?p(b,c,y):p(b,c))||y);return 3<q&&y&&Object.defineProperty(b,c,y),y}function A(a,b,c,m){return new (c||(c=Promise))(function(p,q){function y(D){try{z(m.next(D))}catch(F){q(F)}}function B(D){try{z(m["throw"](D))}catch(F){q(F)}}function z(D){var F;D.done?p(D.value):(F=D.value,F instanceof c?F:new c(function(x){x(F)})).then(y,B)}z((m=m.apply(a,b||[])).next())})}function r(a,b){function c(z){return function(D){return function(F){if(m)throw new TypeError("Generator is already executing.");for(;B;)try{if(m=
1,p&&(q=2&F[0]?p["return"]:F[0]?p["throw"]||((q=p["return"])&&q.call(p),0):p.next)&&!(q=q.call(p,F[1])).done)return q;switch(p=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return B.label++,{value:F[1],done:!1};case 5:B.label++;p=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(q=B.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))B.label=F[1];else if(6===F[0]&&B.label<q[1])B.label=q[1],q=F;else if(q&&
B.label<q[2])B.label=q[2],B.ops.push(F);else{q[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(x){F=[6,x],p=0}finally{m=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([z,D])}}var m,p,q,y,B={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function l(a,b){for(var c=0,m=b.length,p=a.length;c<m;c++,p++)a[p]=b[c];return a}k.d(g,
"d",function(){return w});k.d(g,"a",function(){return e});k.d(g,"f",function(){return v});k.d(g,"c",function(){return C});k.d(g,"b",function(){return A});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(c[p]=m[p])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,c=1,m=arguments.length;c<
m;c++)for(var p in b=arguments[c])Object.prototype.hasOwnProperty.call(b,p)&&(a[p]=b[p]);return a}).apply(this,arguments)};Object.create;Object.create},101:function(f,g,k){k.d(g,"a",function(){return v});k.d(g,"b",function(){return C});var w=k(0),v=function(A){return A?A.urlKey?location.protocol+"//"+A.urlKey+"."+A.customBaseUrl:location.protocol+"//"+A.portalHostname:""},C=function(A){return Object(w.a)(Object(w.a)({},A),{baseUrl:v(A)})}},117:function(f,g,k){k.d(g,"a",function(){return v});var w=
k(0);f=k(15);var v=Object(f.a)(function(C,A){var r=Object(w.a),l=Object(w.a)({},A),d=A.type,e=A.typeKeywords?A.typeKeywords:[],a=null==d?void 0:d.toLowerCase(),b=!1,c=!1,m=d=!1;if("ogcfeatureserver"===a)e="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var p=-1<e.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(m=-1<e.indexOf("Table"),b=-1<e.indexOf("Route Layer"),
c=-1<e.indexOf("Markup"),e=(d=-1!==e.indexOf("Spatiotemporal"))&&m?"spatiotemporaltable":m?"table":b?"routelayer":c?"markup":d?"spatiotemporal":p?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?e=p||-1<e.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?e=-1<e.indexOf("Line")?"sceneweblayerline":-1<e.indexOf("3DObject")?"sceneweblayermultipatch":-1<e.indexOf("Point")?"sceneweblayerpoint":-1<e.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<e.indexOf("PointCloud")?
"sceneweblayerpointcloud":-1<e.indexOf("Polygon")?"sceneweblayerpolygon":-1<e.indexOf("Building")?"sceneweblayerbuilding":-1<e.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(d=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),e=d?"elevationlayer":e?"tiledimagerylayer":"imagery"):e="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===
a&&-1<e.indexOf("Web Tool")?"tool":"layers"}else e="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<e.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==e?void 0:e.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===
a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<e.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<e.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===
a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===
a&&-1<e.indexOf("Explorer Mapping Application")||-1<e.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===
a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":
"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return r(l,{iconURI:C+"/"+e+"16.png"})})},120:function(f,
g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){var r=Object(w.a),l=Object(w.a)({},A),d,e,a="notebook"!==(null===(d=A.type)||void 0===d?void 0:d.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(e=A.type)||void 0===e?void 0:e.toLowerCase())&&(a="notebook-code-snippet-thumb.png");e=C.baseUrl+"/home/js/arcgisonline/css/images/"+a;d=(A.thumbnail&&(e=C.restUrl+"/content/items/"+A.id+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+
C.credential.token:"")),e);return r(l,{thumbURI:d})})},121:function(f,g,k){k.d(g,"a",function(){return C});var w=k(0);f=k(15);var v=function(A,r){return r.description?r.description.replace(/src=('|")js\/jsapi\/esri\//g,function(l){return"src\x3d"+('"'===l[4]?'"':"'")+A.baseUrl+"/home/js/jsapi/esri/"}):void 0},C=Object(f.a)(function(A,r){return Object(w.a)(Object(w.a)({},r),{patchedDescription:v(A,r)})})},122:function(f,g,k){k.d(g,"a",function(){return A});var w=k(0),v=k(124);f=k(15);var C=k(58),A=
Object(f.a)(function(r,l){var d=Object(w.a),e=Object(w.a)({},l),a,b=l.type,c=l.typeKeywords||[],m=b,p=(null==r?void 0:r.portalUser)||(null==r?void 0:r.user);if("Feature Service"===b||"Feature Collection"===b){if(m=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",p&&Object(C.d)(l,p)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:
a.lang)||"en",m=m+" ("+(v.a[c]||v.a[c.split("-")[0]]||v.a.en)+")"}else"Image Service"===b?(a=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),m=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?m="Scene Layer":"Scene Package"===b?m="Scene Layer Package":"Stream Service"===b?m="Feature Layer":"Geocoding Service"===b?m="Locator":"Microsoft Powerpoint"===b?m="Microsoft PowerPoint":"OGCFeatureServer"===b?m="OGC Feature Layer":"GeoJson"===b?m="GeoJSON":
"Globe Service"===b?m="Globe Layer":"Vector Tile Service"===b?m="Tile Layer":"netCDF"===b?m="NetCDF":"Map Service"===b?m=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?m=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?m="Big Data File Share":"Web Mapping Application"===b&&(null==c?0:c.includes("configurableApp"))?m="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||
c.includes("cloudStore_azure")?m+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(m+=" (Big Data File Share)"));return d(e,{displayName:m})})},123:function(f,g,k){k.d(g,"a",function(){return C});var w=k(0);f=k(15);var v=function(A,r){var l=[],d=A.typeKeywords?A.typeKeywords:[];return A.contentStatus&&("org_authoritative"===A.contentStatus||"public_authoritative"===A.contentStatus?l.push("authoritative"):"deprecated"===
A.contentStatus&&l.push("deprecated")),A.origin&&l.push("collaboration"),A.groupDesignations&&-1<A.groupDesignations.indexOf("livingatlas")&&l.push("livingAtlas"),-1<d.indexOf("Requires Credits")?l.push("premium"):-1<d.indexOf("Requires Subscription")&&l.push("subscriber"),-1<d.indexOf("Public Data Collection")&&((null==r?void 0:r.portalUser)||(null==r?void 0:r.user))&&l.push("publicDataCollection"),"Solution"===A.type&&-1<A.typeKeywords.indexOf("ArcGIS Solution")&&l.push("solution"),r.isPortal&&
"Web Mapping Application"===A.type&&(-1<A.typeKeywords.indexOf("Story Map")&&l.push("retiredStoryMap"),function(e){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=e.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(A)&&l.push("retiredApp")),l},C=Object(f.a)(function(A,r){return Object(w.a)(Object(w.a)({},r),{badges:v(r,A)})})},124:function(f,g,k){k.d(g,"a",function(){return w});var w={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(f,g,k){k.d(g,"a",function(){return v});k.d(g,"b",function(){return C});var w=k(0);f=k(15);var v=function(A,r){var l;return r.thumbnail&&(l=A.restUrl+"/community/groups/"+r.id+"/info/"+r.thumbnail+(A.credential?"?token\x3d"+A.credential.token:"")),l},C=Object(f.a)(function(A,r){return Object(w.a)(Object(w.a)({},r),{thumbURI:v(A,r)})})},137:function(f,g,k){k.d(g,"a",function(){return w});
k.d(g,"d",function(){return A});k.d(g,"c",function(){return r});k.d(g,"e",function(){return l});k.d(g,"f",function(){return d});var w,v=k(0),C=k(25);!function(e){e.LOADING="loading";e.LOADED="loaded";e.FAILED="failed"}(w||(w={}));var A=function(e){var a=e.selectedGroups,b=e.selectorItems;return 0===b.length?Object.keys(a).map(function(c){return a[c].group}):Object.keys(a).filter(function(c){return l(a[c],b)}).map(function(c){return a[c].group})},r=function(e){var a=e.initialSelectedGroups,b=e.selectedGroups,
c=Object.keys(b).map(function(m){return b[m].group.id});return Object.keys(a).map(function(m){return a[m].group.id}).filter(function(m){return 0>c.indexOf(m)}).map(function(m){return a[m].group})},l=function(e,a){return!e.selectedByIds||e.selectedByIds.length===a.length},d={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:w.LOADING,total:0,hasGroups:!0};g.b=function(e,a){switch(void 0===e&&(e=d),a.type){case C.a.DESELECT_GROUPS:return Object(v.a)(Object(v.a)({},
e),{selectedGroups:a.payload.reduce(function(m,p){var q=p.id;m[q];return Object(v.f)(m,["symbol"==typeof q?q:q+""])},e.selectedGroups)});case C.a.REVERT_GROUPS:return a.payload?Object(v.a)(Object(v.a)({},e),{selectedGroups:a.payload.reduce(function(m,p){var q;if(e.initialSelectedGroups[p.id])return Object(v.a)(Object(v.a)({},m),((q={})[p.id]=e.initialSelectedGroups[p.id],q));q=p.id;m[q];return Object(v.f)(m,["symbol"==typeof q?q:q+""])},e.selectedGroups)}):Object(v.a)(Object(v.a)({},e),{selectedGroups:Object(v.a)({},
e.initialSelectedGroups)});case C.a.SELECT_GROUPS:var b=e.selectorItems.map(function(m){return m.id});return Object(v.a)(Object(v.a)({},e),{selectedGroups:a.payload.reduce(function(m,p){var q;return Object(v.a)(Object(v.a)({},m),((q={})[p.group.id]=Object(v.a)({selectedByIds:b},p),q))},e.selectedGroups)});case C.a.SET_INITIAL_GROUPS:var c=a.payload.reduce(function(m,p){var q;return Object(v.a)(Object(v.a)({},m),((q={})[p.group.id]=p,q))},{});return Object(v.a)(Object(v.a)({},e),{selectedGroups:c,
initialSelectedGroups:Object(v.a)({},c)});case C.a.SET_SELECTOR_ITEMS:return Object(v.a)(Object(v.a)({},e),{selectorItems:a.payload});case C.a.CLEAR_SELECTION:return Object(v.a)(Object(v.a)({},e),{selectedGroups:{}});case C.a.LOADING_GROUPS:return Object(v.a)(Object(v.a)({},e),{status:w.LOADING});case C.a.LOAD_GROUPS_SUCCESS:return Object(v.a)(Object(v.a)({},e),{displayGroups:a.payload.results,total:a.payload.total,status:w.LOADED});case C.a.LOAD_GROUPS_FAIL:return Object(v.a)(Object(v.a)({},e),{displayGroups:[],
status:w.FAILED});case C.a.SET_HAS_GROUPS:return Object(v.a)(Object(v.a)({},e),{hasGroups:a.payload});default:return e}}},139:function(f,g,k){function w(V,aa){var ha=aa(),ia=ha.utilities.request,ka=ha.resources;ha=ka.selectedOptions;var qa=ka.selectedOptionsDirty;ka=Object(q.b)(ka.items);ha=qa&&ha["public"]===ha.total;V(G(D.a.LOADING));0<ka.length&&ha?Object(q.a)({items:ka,request:ia}).then(function(Y){Y.length?(Y=Y.some(function(Q){return-1===Q.typeKeywords.indexOf("Public Data Collection")}),V(x(Y?
D.c.PUBLIC_DATA_COLLECTION_DISABLED:D.c.PUBLIC_DATA_COLLECTION_ENABLED))):V(v)})["catch"](function(){V(v)}):V(v)}function v(V,aa){var ha=aa(),ia=ha.utilities,ka=ia.portal,qa=ia.request,Y=ia.onComplete;ia=ha.resources;var Q=ia.items,fa=ia.selectedOptions,S=ia.portalUser;ia=ha.gbState.groups;ha=ia.selectedGroups;ia=ia.initialSelectedGroups;var O=Object(b.d)({selectedGroups:ha,selectorItems:Q});ha=Object(b.c)({initialSelectedGroups:ia,selectedGroups:ha});var I=[];Object(c.h)({items:Q,groups:ha,portalUser:S,
restUrl:ka.restUrl,request:qa}).then(function(){return Object(c.g)({items:Q,groups:O,portalUser:S,request:qa,restUrl:ka.restUrl,selectedOptions:fa})})["catch"](function(Z){Z.results?I=I.concat(Object(y.a)(Z.results,Q)):Z.message&&I.push({error:Z})}).then(function(){return V(J)}).then(function(){var Z=aa().resources,W=Z.items,ca=Z.dependentItems,T=ca.needGroupSharingUpdate,P=ca.notEditable,X=ca.premium,da=ca.needPubliclyEditableWarning,ea=ca.needEditableWarning,ja=ca.needDataCollectionEnabled,la=ca.needGroupDependentApplicationWarning,
ma=ca.needBDFSDatastoreUpdate,oa=Z.selectedOptions,sa=(Z=Z.selectedOptionsDirty)&&oa["public"]===oa.total;0!==ca.needShareLevelUpdate.length||0!==T.length||0!==P.length||0!==X.length||0!==da.length||0!==ea.length||0!==ja.length||0!==la.length&&sa||0!==ma.length||0!==Object(c.c)(W,oa,Z).length?V({type:l.SET_CURRENT_VIEW,payload:D.a.DEPENDENT_ITEM_CONFIRMATION}):Y(0<I.length?{errors:I,selectedOptions:oa}:{selectedOptions:oa})})["catch"](console.error)}function C(V){return V.filter(function(aa){return-1===
aa.typeKeywords.indexOf("bigDataFileShare")})}function A(V,aa){var ha=aa(),ia=ha.utilities,ka=ia.portal,qa=ia.request,Y=ia.onComplete;ia=ha.resources;var Q=ia.dependentItems,fa=Q.needBDFSDatastoreUpdate,S=Q.needShareLevelUpdate,O=Q.needGroupSharingUpdate,I=Q.needEditableWarning,Z=ia.selectedOptions;ia=ia.portalUser;Q=ha.gbState.groups;ha=Q.selectedGroups;var W=Q.selectorItems;if(0!==fa.length||0!==S.length||0!==O.length||0!==I.length){Q=Object(c.g)({items:C(fa),groups:[],portalUser:ia,request:qa,
restUrl:ka.restUrl,selectedOptions:Z});var ca=Object(c.g)({items:Object(d.g)(Object(d.g)([],C(S)),I),groups:[],portalUser:ia,request:qa,restUrl:ka.restUrl,selectedOptions:Z});ka=Object(c.g)({items:O,groups:Object(b.d)({selectedGroups:ha,selectorItems:W}),portalUser:ia,request:qa,restUrl:ka.restUrl,selectedOptions:Z,ignoreShareLevel:!0});m.Promise.all([Q,ca,ka]).then(function(){var T=Object(d.g)(Object(d.g)(Object(d.g)(Object(d.g)([],fa),S),O),I),P=T.map(function(X){return X.id});T=T.filter(function(X,
da){return P.indexOf(X.id)===da});Y({dependentItems:T,selectedOptions:Z})})["catch"](function(T){throw T;})}else Y({selectedOptions:Z})}function r(V,aa){switch(aa().resources.currentMiniDlg){case D.c.OPEN_GROUP_BROWSER:V(F(D.b["public"]));V(G(D.a.GROUP_BROWSER));break;case D.c.REVERT_SHARE_LEVEL:V({type:l.SET_INITIAL_SHARE_LEVEL});V(Object(a.c)());break;case D.c.REVERT_GROUPS:V(F(D.b["public"]));V(Object(a.c)());break;case D.c.EDITABLE_LAYERS:V(v);break;case D.c.SET_SHARE_TO_PRIVATE:V(F(D.b["private"]));
V(Object(a.a)());break;case D.c.PUBLIC_DATA_COLLECTION_DISABLED:V(G(D.a.SHARE));break;case D.c.PUBLIC_DATA_COLLECTION_ENABLED:V(v)}V({type:l.SET_MINI_DIALOG,payload:D.c.NONE})}k.d(g,"a",function(){return l});k.d(g,"k",function(){return x});k.d(g,"g",function(){return E});k.d(g,"j",function(){return G});k.d(g,"d",function(){return w});k.d(g,"i",function(){return A});k.d(g,"h",function(){return r});k.d(g,"c",function(){return K});k.d(g,"b",function(){return L});k.d(g,"e",function(){return U});k.d(g,
"f",function(){return ba});var l,d=k(0),e=k(177),a=k(144),b=k(137),c=k(61),m=k(28),p=k(335),q=k(194),y=k(379),B=k(51),z=k(58),D=k(26);!function(V){V.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";V.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";V.SET_CURRENT_VIEW="SET_CURRENT_VIEW";V.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";V.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";V.SET_MINI_DIALOG="SET_MINI_DIALOG";V.SET_SHARE_MODE="SET_SHARE_MODE";V.SET_USER_TYPE="SET_USER_TYPE";V.SET_HELP_MAP="SET_HELP_MAP"}(l||
(l={}));var F=function(V){return{type:l.SET_SELECTED_SHARE_LEVEL,payload:V}},x=function(V){return{type:l.SET_MINI_DIALOG,payload:V}},E=function(){return function(V,aa){var ha=aa(),ia=ha.utilities,ka=ia.portal,qa=ia.request;ia=ha.resources.items;ha=H(ha);var Y=ka.urlKey||ka.isPortal?D.e.ORG:D.e.PUBLIC;V({type:l.SET_INITIAL_SHARE_LEVEL});V({type:l.SET_SHARE_MODE,payload:ha});V({type:l.SET_USER_TYPE,payload:Y});V(Object(e.a)({selectorItems:ia,anySelectorItemsPrivate:0<aa().resources.selectedOptions[D.b["private"]],
shareMode:ha,userType:Y})).then(function(){return Object(c.a)(ka,qa)}).then(function(Q){V({type:l.SET_HELP_MAP,payload:Q});V(G(D.a.SHARE))})}},G=function(V){return function(aa){aa({type:l.SET_CURRENT_VIEW,payload:V})}},H=function(V){var aa=V.resources,ha=aa.items;aa=aa.portalUser;V=V.utilities.portal;var ia=ha[0];if(Object(z.d)(ia,aa))return D.d.DEFAULT;ia=!ia.orgId||ia.orgId===aa.orgId;return Object(B.h)({items:ha,user:aa,portal:V})&&ia?D.d.ADMIN:D.d.GROUP},J=function(V,aa){var ha=aa(),ia=ha.resources,
ka=ia.selectedOptions,qa=ha.utilities,Y=qa.portal,Q=qa.request,fa=qa.iconDir;ha=ha.gbState.groups;var S=ha.selectedGroups,O=ha.selectorItems;ia=ia.items.map(function(I){return Object(p.b)({item:I,portal:Y,request:Q,iconDir:fa})});return m.Promise.all(ia).then(function(I){return M({dependentItems:I,selectedGroups:S,selectorItems:O,selectedOptions:ka,request:Q,portal:Y})}).then(function(I){V({type:l.SET_DEPENDENT_ITEMS,payload:I})})},M=function(V){var aa=V.dependentItems,ha=V.selectedGroups,ia=V.selectorItems,
ka=V.selectedOptions,qa=V.request,Y=V.portal;return new m.Promise(function(Q,fa){var S=Object(c.b)(aa).filter(function(Z){return Z}),O=S.map(function(Z){return Z.id}),I=S.filter(function(Z,W){return O.indexOf(Z.id)===W});m.Promise.all(I.map(function(Z){return Object(p.a)({item:Z,selectedOptions:ka,selectedGroups:Object(b.d)({selectedGroups:ha,selectorItems:ia}),request:qa,portal:Y})})).then(function(Z){var W=[],ca=[],T=[],P=[],X=[],da=[],ea=[],ja=[],la=[],ma=!Object(c.e)(ka)&&Object(c.d)(ka)===D.b["public"];
Z.forEach(function(oa,sa){var va=I[sa];if(oa.premium)P.push(va);else if(oa.groupDependentApplication)ja.push(va);else{if(!oa.bdfsDatastore)return ma&&oa.editable&&Object(q.c)(va)&&va.isUpdateLayer?va.access===D.b["public"]?void da.push(va):-1<va.typeKeywords.indexOf("Public Data Collection")?void X.push(va):void ea.push(va):void((oa.needsShareLevelUpdate||oa.needsGroupSharingUpdate)&&(oa.editable?(oa.needsShareLevelUpdate&&ca.push(va),oa.needsGroupSharingUpdate&&W.push(va)):T.push(va)));la.push(va)}});
Q({needGroupSharingUpdate:W,needShareLevelUpdate:ca,notEditable:T,premium:P,needPubliclyEditableWarning:da,needEditableWarning:X,needDataCollectionEnabled:ea,needGroupDependentApplicationWarning:ja,needBDFSDatastoreUpdate:la})})["catch"](function(Z){throw Z;})})},K=function(V,aa){var ha=aa(),ia=ha.gbState.groups.initialSelectedGroups,ka=ha.resources.selectedOptions;ha.config.userType===D.e.PUBLIC&&0<ka["private"]&&0<Object.keys(ia).length?V(x(D.c.REVERT_GROUPS)):V(Object(a.c)())},L=function(V,aa){var ha=
aa(),ia=ha.resources,ka=ia.portalUser;ia=ia.selectedOptions;Object(B.k)(ha.utilities.portal)||Object(B.a)(ka)||!Object(c.e)(ia)&&Object(c.d)(ia)!==D.b["private"]?V(G(D.a.GROUP_BROWSER)):V(x(D.c.OPEN_GROUP_BROWSER))},U=function(V,aa){var ha=aa(),ia=ha.resources,ka=ia.portalUser;ia=ia.items;var qa=ha.gbState.groups.selectedGroups;Object(B.k)(ha.utilities.portal)||Object(B.b)(ka)||!Object(q.d)({items:ia,groupDatas:Object.keys(qa).map(function(Y){return qa[Y]})})?V({type:l.SET_INITIAL_SHARE_LEVEL}):V(x(D.c.REVERT_SHARE_LEVEL))},
ba=function(V){return function(aa,ha){var ia=ha(),ka=ia.resources.portalUser,qa=ia.gbState.groups.selectedGroups;!Object(B.k)(ia.utilities.portal)&&!Object(B.b)(ka)&&V===D.b["private"]&&0<Object.keys(qa).length?aa(x(D.c.SET_SHARE_TO_PRIVATE)):aa(F(V))}}},144:function(f,g,k){k.d(g,"d",function(){return r});k.d(g,"e",function(){return l});k.d(g,"b",function(){return d});k.d(g,"c",function(){return e});k.d(g,"a",function(){return a});k.d(g,"f",function(){return b});var w=k(0),v=k(181),C=k(163),A=k(68),
r=function(c){return 1<c.length&&Object(C.a)(),{type:A.a.SELECT_GROUPS,payload:c.map(function(m){return{group:Object(v.c)(m)}})}},l=function(c){return{type:A.a.SET_INITIAL_GROUPS,payload:c.map(function(m){return Object(w.a)(Object(w.a)({},m),{group:Object(v.c)(m.group)})})}},d=function(c){return 1<c.length&&Object(C.b)(),{type:A.a.DESELECT_GROUPS,payload:c}},e=function(c){return{type:A.a.REVERT_GROUPS,payload:c}},a=function(){return Object(C.c)(),{type:A.a.CLEAR_SELECTION}},b=function(c){return{type:A.a.SET_SELECTOR_ITEMS,
payload:c}}},148:function(f,g,k){k.d(g,"a",function(){return v});var w=k(0);f=k(15);var v=Object(f.a)(function(C,A){var r=Object(w.a),l=Object(w.a)({},A);var d=A.thumbnail?C.restUrl+"/community/users/"+A.username+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+C.credential.token:""):void 0;return r(l,{thumbURI:d})})},15:function(f,g,k){function w(C){return function r(){for(var l=this,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return d.length>=C.length?C.call.apply(C,Object(v.g)([this],d)):
function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return r.call.apply(r,Object(v.g)(Object(v.g)([l],d),a))}}}k.d(g,"a",function(){return w});var v=k(0)},159:function(f,g,k){k.d(g,"b",function(){return c});k.d(g,"a",function(){return p});var w=k(0),v=k(181),C=k(30),A=k(163),r=k(54),l=k(68),d=k(28),e=k(61),a=k(38),b=k(26),c=function(E,G){m(G()).then(function(H){var J=G();J=Object(r.b)(J)?J:J.gbState;var M=J.utils;J.ui.focus.focusSelectAll&&Object(A.c)();E({type:l.a.LOAD_GROUPS_SUCCESS,
payload:Object(w.a)(Object(w.a)({},H),{results:H.results.map(function(K){return Object(v.b)(M.portal,K)})})})})["catch"](function(H){var J=G();(Object(r.b)(J)?J:J.gbState).ui.focus.focusSelectAll&&Object(A.c)();E({type:l.a.LOAD_GROUPS_FAIL,payload:H})})},m=function(E){E=Object(r.b)(E)?E:E.gbState;var G=E.utils,H=G.request,J=G.portal,M=E.config;G=M.groupsPerPage;var K=M.withinShare,L=(M.withinAppConfig,E.parameters);M=L.filter;L=L.sort;var U=E.ui.page.currentPageNumber,ba={q:x(E),num:G,sortField:L.field,
sortOrder:L.order,start:(U-1)*G+1};return K&&(ba.searchUserAccess="groupMember",ba.searchUserName=M.currentUsername),M.designationFilter!==a.b.orgSettings||B(J)?new d.Promise(function(V,aa){Object(C.g)(H,J,ba).then(V,aa)}):new d.Promise(function(V){V({query:ba.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},p=function(E){var G=E.user;E=E.state;E=Object(r.b)(E)?E:E.gbState;var H=E.utils,J=H.request,M=H.portal;E=Object(w.a)(Object(w.a)({},E),{parameters:Object(w.a)(Object(w.a)({},E.parameters),
{filter:Object(w.a)(Object(w.a)({},E.parameters.filter),{currentUsername:G.username})})});var K={q:x(E),num:100,searchUserAccess:"groupMember",searchUserName:G.username};return(new d.Promise(function(L,U){return Object(C.g)(J,M,K).then(function(ba){if(-1!==ba.nextStart){var V=Math.ceil(ba.total/100)-1,aa=[ba.results];ba=function(ia){aa.push(new d.Promise(function(ka,qa){var Y=100*(ia+1)+1;Object(C.g)(J,M,Object(w.a)(Object(w.a)({},K),{start:Y})).then(function(Q){ka(Q.results)},qa)}))};for(var ha=
0;ha<V;ha++)ba(ha);d.Promise.all(aa).then(function(ia){L(Object(e.b)(ia))})}else L(ba.results)},U)}))["catch"](function(L){throw L;})},q=function(E){var G,H=E.shareMode,J=E.currentUsername,M=E.portalUser;E=E.userGroups;var K=[];switch(E&&E.forEach(function(L){var U,ba=null===(U=L.userMembership)||void 0===U?void 0:U.memberType;!L.isViewOnly||"owner"!==ba&&"admin"!==ba||K.push(L.id)}),K.length&&(G="(isviewonly:false OR "+K.join(" OR ")+")"),H){case b.d.DEFAULT:return G||"(owner:"+J+" OR isviewonly:false)";
case b.d.GROUP:return"owner:"+J+" -capabilities:updateitemcontrol";case b.d.ADMIN:return M.username===J?"(isviewonly:false OR owner:"+M.username+") -capabilities:updateitemcontrol":"(owner:"+J+" OR isviewonly:false)";default:return""}},y=function(E,G){0!==(null==E?void 0:E.indexOf("id:"))||-1<G.indexOf(E)||G.push(E)},B=function(E){var G,H,J,M,K,L=[],U=[E.featuredItemsGroupQuery,E.basemapGalleryGroupQuery,E.templatesGroupQuery,E["2DStylesGroupQuery"],E.stylesGroupQuery,E.analysisLayersGroupQuery,E.galleryTemplatesGroupQuery];
if(E.hasModernHomePageEnabled){var ba=(null===(H=null===(G=E.homePageConfig)||void 0===G?void 0:G.content)||void 0===H?void 0:H.filter(function(V){return"gallery"===V.type&&!!V.groupId}))||[];0<ba.length&&ba.forEach(function(V){y("id:"+V.groupId,L)})}else U.push(E.homePageFeaturedContent);return U.forEach(function(V){y(V,L)}),null===(J=E.featuredGroups)||void 0===J||J.forEach(function(V){(V=V.id)&&y("id:"+V,L)}),null===(K=null===(M=E.userDefaults)||void 0===M?void 0:M.groups)||void 0===K||K.forEach(function(V){y("id:"+
V,L)}),0<L.length?"("+L.join(" OR ")+")":""},z=function(E){var G=E.portal;switch(E.designationFilter){case a.b.openData:return"isopendata:true";case a.b.updateGroups:return"capabilities:updateitemcontrol";case a.b.distributed:return"capabilities:distributed";case a.b.administrative:return"isleavingdisallowed:true";case a.b.orgSettings:return B(G)||"";default:return""}},D=function(E){var G=E.portal,H=E.username,J=E.currentUsername,M=E.userType,K=E.withinAppConfig;H=E.shareMode===b.d.ADMIN&&J||H;K=
G.isPortal&&K?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(E.ownerFilter){case a.d.itemOwner:return"owner:"+H+" "+K;case a.d.inOrg:return"-owner:"+H+" orgid:"+G.id+" "+K;case a.d.outsideOrg:return M===b.e.PUBLIC?"-owner:"+H+" "+K:"(orgid: [0 TO \\{]) -orgid:"+G.id+" "+K;default:return K}},F=function(E){return E?"created: ["+(G=E).start+" TO "+G.end+"]":"";var G},x=function(E){var G=E.utils,H=G.portal;G=G.portalUser;var J=E.config,M=J.shareMode,K=J.userType,L=
J.withinAppConfig,U=J.hasIndoorsSpaces;E=E.parameters.filter;var ba=E.designationFilter,V=E.membershipFilter,aa=E.dateCreatedFilter,ha=E.currentUsername,ia=E.ownerFilter;return[J.baseQ+" "+E.searchString,q({shareMode:M,currentUsername:ha,portalUser:G,userGroups:J.userGroups}),U?"-capabilities:distributed":z({designationFilter:ba,portal:H}),U?"membershipaccess:org":V?"anyOrg"===V?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+V:"",F(aa),D({ownerFilter:ia,portal:H,username:G.username,
currentUsername:ha,shareMode:M,userType:K,withinAppConfig:L})].filter(function(ka){return ka}).join(" ").trim()}},16:function(f,g){f.exports=R},163:function(f,g,k){function w(){A("gb__select-all-input")}function v(){A("gb__clear-selection-btn")}function C(){setTimeout(function(){var r=document.querySelector(".gcard-gcc__container");r&&(r=r.querySelector(".btn-2018check__input"))&&r.focus()},50)}function A(r){setTimeout(function(){var l=document.querySelector("#"+r);l&&l.focus()},50)}k.d(g,"c",function(){return w});
k.d(g,"a",function(){return v});k.d(g,"b",function(){return C})},170:function(f,g){var k=function(){return this}();try{k=k||(new Function("return this"))()}catch(w){"object"==typeof window&&(k=window)}f.exports=k},175:function(f,g,k){var w;k.d(g,"a",function(){return w});(w||(w={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(f,g,k){k.d(g,"a",function(){return y});var w=k(0),v=k(54),C=k(144),A=k(159),r=k(313),l=k(314),d=k(186),e=k(30),a=k(28),b=k(25),c=k(61),m=k(68),p=k(192),q=k(58),y=
function(z){return function(D,F){var x=F(),E=(Object(v.b)(x)?x:x.gbState).utils,G=E.portal;E=E.portalUser;if(!(z&&z.selectorItems&&0<z.selectorItems.length))return D(A.b),a.Promise.resolve();var H=z.selectorItems,J=z.userType;D({type:b.a.SET_SHARE_MODE,payload:z.shareMode});D({type:b.a.SET_USER_TYPE,payload:J});D(Object(C.f)(H));G=Object(q.b)({user:E,items:H,portal:G});var M=E.username===G.username?[E]:[E,G];return 1<M.length&&!z.anySelectorItemsPrivate&&D({type:b.a.ENABLE_USER_TOGGLE}),D(Object(d.c)(M)),
D(Object(d.h)(G.username)),void 0===x.config.hasTrustedOrgs&&D(r.a),Object(l.a)(F()).then(function(K){return K&&D({type:p.a.USER_DETAILS_LOADED,payload:K.groups}),D(A.b),a.Promise.all(M.map(function(L){return Object(A.a)({user:L,state:F()})})).then(function(L){L=Object(c.b)(L);var U=L.map(function(ba){return ba.id});L=L.filter(function(ba,V){return U.indexOf(ba.id)===V});return D(B(L))})})}},B=function(z){return function(D,F){return new a.Promise(function(x,E){var G=F();G=Object(v.b)(G)?G:G.gbState;
var H=G.utils,J=H.portal,M=H.request,K=Object(e.b)(G.groups.selectorItems);G=Object(e.a)(z).map(function(L){return Object(e.i)({itemIds:K,groupIds:Object(e.b)(L),portal:J,request:M})});a.Promise.all(G).then(function(L){var U=L.reduce(function(V,aa){return Object(w.a)(Object(w.a)({},V),aa)},{}),ba=Object.keys(U);L=z.filter(function(V){return 0<=ba.indexOf(V.id)}).map(function(V){return{group:V,selectedByIds:U[V.id].items.map(function(aa){return aa.itemId})}});D({type:m.a.SET_HAS_GROUPS,payload:0<z.length});
D(Object(C.e)(L));x()})["catch"](E)})}}},181:function(f,g,k){k.d(g,"b",function(){return A});k.d(g,"c",function(){return r});k.d(g,"a",function(){return l});var w=k(63);f=k(5);var v=k(99),C=k(128),A=function(d,e){return Object(w.a)(Object(C.b)(d))(e)},r=Object(w.a)(Object(f.e)("thumbURI")),l=function(d){var e=d.initialSelectedByIds;return!Object(v.a)(d.selectedBy.map(function(a){return a.id}),e)}},186:function(f,g,k){k.d(g,"b",function(){return v});k.d(g,"g",function(){return C});k.d(g,"h",function(){return A});
k.d(g,"e",function(){return r});k.d(g,"f",function(){return l});k.d(g,"d",function(){return d});k.d(g,"c",function(){return e});k.d(g,"a",function(){return a});var w=k(83),v=function(b){return{type:w.a.SET_SEARCH_STRING,payload:b}},C=function(b){return{type:w.a.UPDATE_OWNER_FILTER,payload:b}},A=function(b){return{type:w.a.UPDATE_USERNAME_FILTER,payload:b}},r=function(b){return{type:w.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:b}},l=function(b){return{type:w.a.UPDATE_MEMBERSHIP_FILTER,payload:b}},d=
function(b){return{type:w.a.UPDATE_CREATED_ON_FILTER,payload:{section:b.section,created:b.created}}},e=function(b){return{type:w.a.SET_USERS,payload:b}},a=function(b){return{type:w.a.CLEAR_FILTERS,payload:b}}},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function w(){throw Error("clearTimeout has not been defined");}function v(q){if(e===setTimeout)return setTimeout(q,0);if((e===k||!e)&&setTimeout)return e=setTimeout,setTimeout(q,0);try{return e(q,0)}catch(y){try{return e.call(null,
q,0)}catch(B){return e.call(this,q,0)}}}function C(){m&&b&&(m=!1,b.length?c=b.concat(c):p=-1,c.length&&A())}function A(){if(!m){var q=v(C);m=!0;for(var y=c.length;y;){b=c;for(c=[];++p<y;)b&&b[p].run();p=-1;y=c.length}b=null;m=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===w||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(z){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(q)}}function r(q,y){this.fun=q;this.array=y}function l(){}var d=f.exports=
{};try{var e="function"==typeof setTimeout?setTimeout:k}catch(q){e=k}try{var a="function"==typeof clearTimeout?clearTimeout:w}catch(q){a=w}!0;var b,c=[],m=!1,p=-1;d.nextTick=function(q){var y=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)y[B-1]=arguments[B];c.push(new r(q,y));1!==c.length||m||v(A)};r.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=l;d.addListener=l;d.once=
l;d.off=l;d.removeListener=l;d.removeAllListeners=l;d.emit=l;d.prependListener=l;d.prependOnceListener=l;d.listeners=function(q){return[]};d.binding=function(q){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(q){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},192:function(f,g,k){var w;k.d(g,"a",function(){return w});(w||(w={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(f,g,k){function w(a){return"Feature Service"===
a.type&&-1<a.typeKeywords.indexOf("Hosted Service")}function v(a){return a.filter(function(b){return b.access!==l.b["public"]&&w(b)})}function C(a){var b=a.request;a=a.items.map(function(c){return function(m,p){return new A.Promise(function(q){w(m)?Object(r.v)(p,m.url+"/layers").then(function(y){y=y.layers;q((null==y?void 0:y.reduce(function(B,z){return B||z&&-1<z.capabilities.indexOf("Editing")},!1))&&m)},function(){return q(!1)}):q(!1)})}(c,b)});return A.Promise.all(a).then(function(c){return c.filter(function(m){return m})})}
k.d(g,"d",function(){return d});k.d(g,"c",function(){return w});k.d(g,"b",function(){return v});k.d(g,"a",function(){return C});var A=k(28),r=k(30),l=k(26),d=function(a){var b=a.groupDatas;return a.items.filter(function(c){c=c.access?c.access:c.sharing&&c.sharing.access;return c===l.b["private"]||c===l.b.shared}).reduce(function(c,m){return c||e({item:m,groupDatas:b})},!1)},e=function(a){var b=a.item;return a.groupDatas.reduce(function(c,m){return c||!!m.selectedByIds&&0<=m.selectedByIds.indexOf(b.id)},
!1)}},204:function(f,g,k){var w;k.d(g,"a",function(){return w});(function(v){v.SET_PAGE="SET_PAGE";v.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";v.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(w||(w={}))},205:function(f,g){f.exports=t},207:function(f,g,k){k.d(g,"b",function(){return C});var w=k(0),v=k(25),C={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};g.a=function(A,r){switch(void 0===A&&(A=
C),r.type){case v.a.ENABLE_USER_TOGGLE:return Object(w.a)(Object(w.a)({},A),{enableUserToggle:!0});case v.a.SET_SHARE_MODE:return Object(w.a)(Object(w.a)({},A),{shareMode:r.payload});case v.a.SET_USER_TYPE:return Object(w.a)(Object(w.a)({},A),{userType:r.payload});case v.a.TRUSTED_ORGS_LOADED:return Object(w.a)(Object(w.a)({},A),{hasTrustedOrgs:0<r.payload.length});case v.a.USER_DETAILS_LOADED:return Object(w.a)(Object(w.a)({},A),{userGroups:r.payload});case v.a.SET_SELECTOR_ITEMS:var l=!!r.payload.find(function(d){var e;
return-1<(null===(e=null==d?void 0:d.typeKeywords)||void 0===e?void 0:e.indexOf("EditExtensionIndoorsSpaces"))});return Object(w.a)(Object(w.a)({},A),{hasIndoorsSpaces:l});default:return A}}},208:function(f,g,k){k.d(g,"b",function(){return v});f=k(16);var w=k(209);k=k(38);var v={sort:w.b,filter:k.f};g.a=Object(f.combineReducers)({sort:w.a,filter:k.e})},209:function(f,g,k){k.d(g,"b",function(){return C});var w=k(0),v=k(25),C={field:"title",order:"asc"},A={relevance:"desc",title:"asc",created:"desc",
owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};g.a=function(r,l){switch(void 0===r&&(r=C),l.type){case v.a.CHANGE_SORT_FIELD:return Object(w.a)(Object(w.a)({},r),{field:l.payload,order:A[l.payload]});case v.a.CHANGE_SORT_ORDER:return Object(w.a)(Object(w.a)({},r),{order:l.payload});default:return r}}},210:function(f,g,k){k.d(g,"b",function(){return A});f=k(16);var w=k(211),v=k(212),C=k(213);k=k(214);var A={page:w.b,sort:v.b,focus:C.b,filter:k.b};g.a=Object(f.combineReducers)({page:w.a,
sort:v.a,focus:C.a,filter:k.a})},211:function(f,g,k){k.d(g,"b",function(){return C});var w=k(0),v=k(25),C={currentPageNumber:1};g.a=function(A,r){switch(void 0===A&&(A=C),r.type){case v.a.CLEAR_FILTERS:case v.a.UPDATE_USERNAME_FILTER:case v.a.UPDATE_OWNER_FILTER:case v.a.UPDATE_CREATED_ON_FILTER:case v.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(w.a)(Object(w.a)({},A),{currentPageNumber:1});case v.a.SET_PAGE:return Object(w.a)(Object(w.a)({},A),{currentPageNumber:r.payload});case v.a.LOAD_GROUPS_SUCCESS:return Object(w.a)(Object(w.a)({},
A),{currentPageNumber:r.payload.num>r.payload.total?1:Math.ceil(r.payload.start/r.payload.num)});case v.a.LOAD_GROUPS_FAIL:return Object(w.a)(Object(w.a)({},A),{currentPageNumber:1});default:return A}}},212:function(f,g,k){k.d(g,"b",function(){return v});var w=k(25),v=!1;g.a=function(C,A){switch(void 0===C&&(C=v),A.type){case w.a.CHANGE_SORT_FIELD:case w.a.CHANGE_SORT_ORDER:case w.a.TOGGLE_SORT_DROPDOWN:return!C;default:return C}}},213:function(f,g,k){k.d(g,"b",function(){return C});var w=k(0),v=
k(25),C={focusSelectAll:!1};g.a=function(A,r){switch(r.type){case v.a.LOAD_GROUPS_FAIL:case v.a.LOAD_GROUPS_SUCCESS:return Object(w.a)(Object(w.a)({},A),{focusSelectAll:!1});case v.a.CHANGE_SORT_FIELD:case v.a.CHANGE_SORT_ORDER:return Object(w.a)(Object(w.a)({},A),{focusSelectAll:!0});default:return A}}},214:function(f,g,k){k.d(g,"b",function(){return A});var w=k(0),v=k(25),C=k(38),A={expanded:!1};g.a=function(r,l){switch(l.type){case v.a.CLEAR_FILTERS:switch(l.payload){case void 0:case C.a.DATE_CREATED:return Object(w.a)(Object(w.a)({},
r),{dateCreatedSelectedSection:void 0});default:return r}case v.a.TOGGLE_EXPANDED_FILTERS:return Object(w.a)(Object(w.a)({},r),{expanded:!r.expanded});case v.a.UPDATE_CREATED_ON_FILTER:return Object(w.a)(Object(w.a)({},r),{dateCreatedSelectedSection:l.payload.section});default:return r}}},215:function(f,g,k){k.d(g,"b",function(){return v});var w=k(101),v={portal:{},portalUser:{},request:function(C){return null}};g.a=function(C,A){return void 0===C&&(C=v),A.type,C.portal.portalHostname&&!C.portal.baseUrl&&
(C.portal.baseUrl=Object(w.a)(C.portal)),C}},249:function(f,g,k){var w=k(128);g.a=function(v,C){var A=v.group,r=v.stacked,l=v.portal;r={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!A.thumbURI,"gcard-thumbnail--stacked":void 0!==r&&r,"gcard-thumbnail--transparent":v.transparent};if(A.thumbnail&&!A.thumbURI&&l&&(A.thumbURI=Object(w.a)(l,A)),A.thumbURI)return C("img",{src:A.thumbURI,classes:r,alt:A.title});l=!(!A.title.charAt(0)||!A.title.charAt(0).match(/^\w+$/));return C("div",
{key:"group-thumbnail-"+A.id,classes:r},C("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},C("path",{fill:"#"+A.id.substr(A.id.length-6),d:"M0 0h65v65H0z"}),C("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),l?C("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},A.title.slice(0,1).toUpperCase()):C("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(f,g,k){k.d(g,"a",function(){return r});var w;f=k(0);g=k(204);var v=k(68),C=k(175),A=k(83);k=k(192);!function(l){l.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";l.SET_SHARE_MODE="SET_SHARE_MODE";l.SET_USER_TYPE="SET_USER_TYPE"}(w||(w={}));var r=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},g.a),v.a),A.a),w),C.a),k.a)},258:function(f,g){f.exports=u},26:function(f,g,k){var w,v,C,A,r;k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});k.d(g,"c",function(){return C});
k.d(g,"e",function(){return A});k.d(g,"d",function(){return r});(function(l){l.org="org";l["private"]="private";l["public"]="public";l.shared="shared"})(w||(w={}));(function(l){l.LOADING="LOADING";l.SHARE="SHARE";l.GROUP_BROWSER="GROUP_BROWSER";l.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(v||(v={}));(function(l){l.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";l.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";l.REVERT_GROUPS="REVERT_GROUPS";l.EDITABLE_LAYERS="EDITABLE_LAYERS";l.OPEN_GROUP_BROWSER=
"OPEN_GROUP_BROWSER";l.NONE="NONE";l.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";l.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(C||(C={}));(function(l){l.ORG="ORG";l.PUBLIC="PUBLIC"})(A||(A={}));(function(l){l.DEFAULT="DEFAULT";l.ADMIN="ADMIN";l.GROUP="GROUP"})(r||(r={}))},28:function(f,g,k){(function(w,v){f.exports=function(){function C(){var Y=setTimeout;return function(){return Y(A,1)}}function A(){for(var Y=0;Y<D;Y+=2)(0,K[Y])(K[Y+1]),K[Y]=void 0,K[Y+
1]=void 0;D=0}function r(Y,Q){var fa=this,S=new this.constructor(d);void 0===S[ha]&&B(S);var O=fa._state;if(O){var I=arguments[O-1];E(function(){return y(O,S,I,fa._result)})}else p(fa,S,Y,Q);return S}function l(Y){if(Y&&"object"==typeof Y&&Y.constructor===this)return Y;var Q=new this(d);return a(Q,Y),Q}function d(){}function e(Y,Q,fa){Q.constructor===Y.constructor&&fa===r&&Q.constructor.resolve===l?function(S,O){1===O._state?c(S,O._result):2===O._state?m(S,O._result):p(O,void 0,function(I){return a(S,
I)},function(I){return m(S,I)})}(Y,Q):void 0===fa?c(Y,Q):"function"==typeof fa?function(S,O,I){E(function(Z){var W=!1,ca=function(T,P,X,da){try{T.call(P,X,da)}catch(ea){return ea}}(I,O,function(T){W||(W=!0,O!==T?a(Z,T):c(Z,T))},function(T){W||(W=!0,m(Z,T))},Z._label);!W&&ca&&(W=!0,m(Z,ca))},S)}(Y,Q,fa):c(Y,Q)}function a(Y,Q){if(Y===Q)m(Y,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(fa=Q),null===fa||"object"!==S&&"function"!==S)c(Y,Q);else{fa=void 0;try{fa=Q.then}catch(O){return void m(Y,
O)}e(Y,Q,fa)}var fa,S}function b(Y){Y._onerror&&Y._onerror(Y._result);q(Y)}function c(Y,Q){void 0===Y._state&&(Y._result=Q,Y._state=1,0!==Y._subscribers.length&&E(q,Y))}function m(Y,Q){void 0===Y._state&&(Y._state=2,Y._result=Q,E(b,Y))}function p(Y,Q,fa,S){var O=Y._subscribers,I=O.length;Y._onerror=null;O[I]=Q;O[I+1]=fa;O[I+2]=S;0===I&&Y._state&&E(q,Y)}function q(Y){var Q=Y._subscribers,fa=Y._state;if(0!==Q.length){for(var S=void 0,O=void 0,I=Y._result,Z=0;Z<Q.length;Z+=3)S=Q[Z],O=Q[Z+fa],S?y(fa,
S,O,I):O(I);Y._subscribers.length=0}}function y(Y,Q,fa,S){var O="function"==typeof fa,I=void 0,Z=void 0,W=!0;if(O){try{I=fa(S)}catch(ca){W=!1,Z=ca}if(Q===I)return void m(Q,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==Q._state||(O&&W?a(Q,I):!1===W?m(Q,Z):1===Y?c(Q,I):2===Y&&m(Q,I))}function B(Y){Y[ha]=ia++;Y._state=void 0;Y._result=void 0;Y._subscribers=[]}var z=Array.isArray?Array.isArray:function(Y){return"[object Array]"===Object.prototype.toString.call(Y)},
D=0,F=void 0,x=void 0,E=function(Y,Q){K[D]=Y;K[D+1]=Q;2===(D+=2)&&(x?x(A):aa())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var J="undefined"==typeof self&&void 0!==w&&"[object process]"==={}.toString.call(w),M="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=Array(1E3),L,U,ba,V,aa=void 0;J?aa=function(){return w.nextTick(A)}:H?(U=0,ba=new H(A),V=document.createTextNode(""),ba.observe(V,
{characterData:!0}),aa=function(){V.data=U=++U%2}):M?((L=new MessageChannel).port1.onmessage=A,aa=function(){return L.port2.postMessage(0)}):aa=void 0===G?function(){try{var Y=Function("return this")().require("vertx");return void 0!==(F=Y.runOnLoop||Y.runOnContext)?function(){F(A)}:C()}catch(Q){return C()}}():C();var ha=Math.random().toString(36).substring(2),ia=0,ka=function(){function Y(Q,fa){this._instanceConstructor=Q;this.promise=new Q(d);this.promise[ha]||B(this.promise);z(fa)?(this.length=
fa.length,this._remaining=fa.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(fa),0===this._remaining&&c(this.promise,this._result))):m(this.promise,Error("Array Methods must be provided an Array"))}return Y.prototype._enumerate=function(Q){for(var fa=0;void 0===this._state&&fa<Q.length;fa++)this._eachEntry(Q[fa],fa)},Y.prototype._eachEntry=function(Q,fa){var S=this._instanceConstructor,O=S.resolve;if(O===l){var I=O=void 0,
Z=!1;try{O=Q.then}catch(W){Z=!0,I=W}O===r&&void 0!==Q._state?this._settledAt(Q._state,fa,Q._result):"function"!=typeof O?(this._remaining--,this._result[fa]=Q):S===qa?(S=new S(d),Z?m(S,I):e(S,Q,O),this._willSettleAt(S,fa)):this._willSettleAt(new S(function(W){return W(Q)}),fa)}else this._willSettleAt(O(Q),fa)},Y.prototype._settledAt=function(Q,fa,S){var O=this.promise;void 0===O._state&&(this._remaining--,2===Q?m(O,S):this._result[fa]=S);0===this._remaining&&c(O,this._result)},Y.prototype._willSettleAt=
function(Q,fa){var S=this;p(Q,void 0,function(O){return S._settledAt(1,fa,O)},function(O){return S._settledAt(2,fa,O)})},Y}(),qa=function(){function Y(Q){this[ha]=ia++;this._result=this._state=void 0;this._subscribers=[];if(d!==Q){if("function"!=typeof Q)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Y)(function(fa,S){try{S(function(O){a(fa,O)},function(O){m(fa,O)})}catch(O){m(fa,O)}})(this,Q);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Y.prototype["catch"]=function(Q){return this.then(null,Q)},Y.prototype["finally"]=function(Q){var fa=this.constructor;return"function"==typeof Q?this.then(function(S){return fa.resolve(Q()).then(function(){return S})},function(S){return fa.resolve(Q()).then(function(){throw S;})}):this.then(Q,Q)},Y}();return qa.prototype.then=r,qa.all=function(Y){return(new ka(this,Y)).promise},qa.race=function(Y){var Q=this;return z(Y)?new Q(function(fa,S){for(var O=Y.length,I=0;I<O;I++)Q.resolve(Y[I]).then(fa,
S)}):new Q(function(fa,S){return S(new TypeError("You must pass an array to race."))})},qa.resolve=l,qa.reject=function(Y){var Q=new this(d);return m(Q,Y),Q},qa._setScheduler=function(Y){x=Y},qa._setAsap=function(Y){E=Y},qa._asap=E,qa.polyfill=function(){var Y=void 0;if(void 0!==v)Y=v;else if("undefined"!=typeof self)Y=self;else try{Y=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var Q=Y.Promise;if(Q){var fa=null;try{fa=
Object.prototype.toString.call(Q.resolve())}catch(S){}if("[object Promise]"===fa&&!Q.cast)return}Y.Promise=qa},qa.Promise=qa,qa}()}).call(this,k(189),k(170))},291:function(f,g,k){var w=k(0);f=k(16);var v=k(634);k=function(C){function A(){return null!==C&&C.apply(this,arguments)||this}return Object(w.d)(A,C),A.prototype.render=function(r){var l=this.props,d=l.items,e=l.text,a=l.title,b=l.portal;l=l.error;return 0<d.length&&r("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":l}},
r("h4",{"class":"dependent-items__title"},a.replace("${num}",d.length.toString())),e&&r("p",{"class":"dependent-items__count"},e),r("ul",{"class":"dependent-items__list"},d.map(function(c){return r(v.a,{key:c.id,item:c,portal:b})})))},A}(f.Component);g.a=k},294:function(f,g){f.exports=h},30:function(f,g,k){function w(K){return K.reduce(function(L,U){return U&&U.relatedItems?L.concat(U.relatedItems.map(function(ba){return ba})):L},[])}function v(K,L,U){return K(L,{query:Object(r.a)({f:"json"},U)}).then(function(ba){return ba.data})}
function C(K,L){void 0===L&&(L=100);for(var U=[],ba=0;ba<Math.ceil(K.length/L);ba++)U.push(K.slice(ba*L,(ba+1)*L));return U.filter(function(V){return 0<V.length})}function A(K){var L=K.itemIds,U=K.request,ba=K.groupIds,V=K.portal.restUrl+"/content/itemsgroups";return new l.Promise(function(aa,ha){U(V,{method:"get",query:{f:"json",items:L,groups:ba}}).then(function(ia){aa(ia.data)},ha)})}k.d(g,"u",function(){return d});k.d(g,"n",function(){return e});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});
k.d(g,"f",function(){return c});k.d(g,"j",function(){return m});k.d(g,"o",function(){return p});k.d(g,"l",function(){return q});k.d(g,"k",function(){return y});k.d(g,"m",function(){return B});k.d(g,"c",function(){return z});k.d(g,"d",function(){return D});k.d(g,"r",function(){return F});k.d(g,"s",function(){return x});k.d(g,"t",function(){return E});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return J});k.d(g,"v",function(){return v});k.d(g,"a",function(){return C});
k.d(g,"i",function(){return A});k.d(g,"b",function(){return M});var r=k(0),l=k(28),d=function(K){return function(L,U){return K({url:L,content:U.query},{usePost:"post"===U.method}).then(function(ba){return{data:ba}})}},e=function(K,L,U){return v(K,L.restUrl+"/portals/self",{culture:U,"default":!0})},a=function(K,L,U){return v(K,L.restUrl+"/content/items/"+U+"/data")},b=function(K,L,U,ba){return v(K,L.restUrl+"/community/groups",Object(r.a)({q:U},ba))},c=function(K,L,U){return v(K,L.restUrl+"/community/groups/"+
U+"/categorySchema")},m=function(K,L,U){return v(K,L.restUrl+"/portals/"+(U||L.id)+"/categorySchema")},p=function(K,L){return v(K,L.restUrl+"/portals/"+L.id+"/servers")},q=function(K,L,U,ba){return K(L.restUrl+"/portals/"+(U||L.id)+"/collaborationsSummary",ba)},y=function(K,L,U,ba){return K(L.restUrl+"/portals/"+(U||L.id)+"/collaboratedItems",ba)},B=function(K,L,U){return v(K,location.protocol+"//"+L.portalHostname+"/sharing/rest/portals/"+(U||"self"))},z=function(K,L,U){return K(L.restUrl+"/community/groups",
{query:{f:"json",q:"orgid:"+L.id+" AND access:public",num:100,start:U||1,sortField:"title",sortOrder:"asc"}}).then(function(ba){return ba.data.total>ba.data.start+ba.data.num?z(K,L,ba.data.start+ba.data.num).then(function(V){return Object(r.a)(Object(r.a)({},V),{data:Object(r.a)(Object(r.a)({},V.data),{results:ba.data.results.concat(V.data.results)})})}):ba})},D=function(K,L,U,ba){return K(L.restUrl+"/community/users/"+U+"/provisionedListings",{query:{f:"json",num:100,start:ba||1}}).then(function(V){var aa=
l.Promise.all(V.data.provisionedListings.filter(function(ia){return ia.itemId}).map(function(ia){return(new l.Promise(function(ka,qa){K(L.restUrl+"/content/items/"+ia.itemId,{method:"get",query:{f:"json"}}).then(function(Y){ka(Y.data)},qa)}))["catch"](function(ka){return 0})})),ha=V.data.provisionedListings.map(function(ia){return v(K,L.restUrl+"/content/items/"+(ia.id||ia.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ka){return ka},function(ka){})});
return V.data.total>V.data.start+V.data.num?D(K,L,U,V.data.start+V.data.num).then(function(ia){return l.Promise.all([aa].concat(ha)).then(function(ka){return ka[0].results.concat(w(ka.slice(1))).concat(ia)})}):l.Promise.all([aa].concat(ha)).then(function(ia){return ia[0].filter(function(ka){return void 0!==ka}).concat(w(ia.slice(1)))})})},F=function(K,L,U){return v(K,L.restUrl+"/community/users/"+(U||L.user.username))},x=function(K,L,U){return v(K,L.restUrl+"/content/users/"+(U||L.user.username),
{num:1})},E=function(K,L,U){return v(K,L.restUrl+"/content/groups/"+U)},G=function(K,L,U){return v(K,L.restUrl+"/community/groups",U)},H=function(K,L){return v(K,L.restUrl+"/portals/self/settings")},J=function(K,L){return v(K,L.restUrl+"/portals/self/trustedOrgs",{num:100})},M=function(K,L){return void 0===L&&(L=","),K.map(function(U){return U.id}).join(L)}},312:function(f,g,k){function w(A){return C[A.vnodeSelector]&&(!A.properties||!A.properties.disabled&&-1!==A.properties.tabindex)||A.properties&&
A.properties.tabindex&&-1<parseInt(A.properties.tabindex,10)}var v=k(0),C={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};f=function(A){function r(l){l=A.call(this,l)||this;return l.registerFirstFocusable=l.registerFirstFocusable.bind(l),l.registerLastFocusable=l.registerLastFocusable.bind(l),l.handleFocusChange=l.handleFocusChange.bind(l),l}return Object(v.d)(r,A),r.prototype.render=function(){var l=this.findFirstFocusable(this.props.children),d=this.findLastFocusable(this.props.children);
return l&&d&&(l.properties?l.properties.afterCreate=this.registerFirstFocusable:l.properties={afterCreate:this.registerFirstFocusable},d.properties?d.properties.afterCreate=this.registerLastFocusable:d.properties={afterCreate:this.registerLastFocusable}),this.props.children},r.prototype.findFirstFocusable=function(l){if(l)for(var d=0;d<l.length;d++){var e=l[d];if(w(e)||e.children&&(e=this.findFirstFocusable(e.children)))return e}},r.prototype.findLastFocusable=function(l){if(l)for(var d=l.length-
1;0<=d;d--){var e=l[d];if(w(e)||e.children&&(e=this.findLastFocusable(e.children)))return e}},r.prototype.registerFirstFocusable=function(l){this.firstFocusableElement&&this.firstFocusableElement!==l&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);l.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=l;setTimeout(function(){l&&l.focus()},10)},r.prototype.registerLastFocusable=function(l){this.lastFocusableElement&&this.lastFocusableElement!==
l&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=l;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},r.prototype.handleFocusChange=function(l){"Tab"!==l.key&&9!==l.keyCode||(l.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),l.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),
l.preventDefault()))},r}(k(16).Component);g.a=f},313:function(f,g,k){k.d(g,"a",function(){return A});var w=k(30),v=k(54),C=k(175),A=function(r,l){var d=l();d=(Object(v.b)(d)?d:d.gbState).utils;Object(w.q)(d.request,d.portal).then(function(e){var a;e=(null===(a=null==e?void 0:e.trustedOrgs)||void 0===a?void 0:a.filter(function(b){return-1<b.from.established&&-1<b.to.established}))||[];r({type:C.a.TRUSTED_ORGS_LOADED,payload:e})},function(){r({type:C.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(f,
g,k){k.d(g,"a",function(){return A});var w=k(30),v=k(54),C=k(28),A=function(r){r=(Object(v.b)(r)?r:r.gbState).utils;var l=r.request,d=r.portal,e=r.portalUser;return new C.Promise(function(a,b){Object(w.r)(l,d,e.username).then(function(c){a(c)},function(){a()})})}},320:function(f,g,k){var w=k(0),v=k(36),C=k(39);f=k(16);var A=k(90);k=function(r){function l(){return null!==r&&r.apply(this,arguments)||this}return Object(w.d)(l,r),l.prototype.render=function(d){var e=this.props,a=e.onCancel,b=e.title,
c=e.onBack;return d("div",{"class":"share-dlg__container-header",key:"share-view-header"},d("h2",{key:"share-view-header-title",id:"modal-title","class":"share-dlg__title"},e.back?d("button",{key:"share-dlg-header-back","class":"share-dlg__back",onclick:c,"aria-label":C.backToShare},d("svg",{viewbox:"0 0 24 24",role:"img"},d("path",{d:A.b})),b):b),d("button",{"class":"mod__overlay__close","aria-label":v.close,onclick:a},d("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",
viewBox:"0 0 24 24",fill:"currentColor"},d("path",{d:A.k}))))},l}(f.Component);g.a=k},335:function(f,g,k){k.d(g,"b",function(){return e});k.d(g,"a",function(){return D});var w=k(0),v=k(28),C=k(30),A=k(78),r=k(61),l=k(194),d=k(26),e=function(E){if(E.depth&&4<E.depth)return v.Promise.resolve([]);switch(E.depth=E.depth?E.depth+1:1,E.item.type){case "Web Map":case "Web Scene":return y(E);case "Web Mapping Application":return b(E);case "Big Data File Share":return c(E);case "Data Store":return m(E);default:return v.Promise.resolve([])}},
a=function(E){var G=E.item,H=E.request,J=E.portal,M=E.iconDir;return G.itemId?new v.Promise(function(K){Object(C.v)(H,J.restUrl+"/content/items/"+G.itemId).then(function(L){0<Object(l.b)([L]).length?Object(l.a)({items:[L],request:H}).then(function(U){L.isUpdateLayer=0<U.length;K(Object(A.a)(J,M,L))},function(){return K(Object(A.a)(J,M,L))}):K(Object(A.a)(J,M,L))},function(){return K(null)})}):v.Promise.resolve(null)},b=function(E){var G=E.item,H=E.request,J=E.portal,M=E.iconDir;return new v.Promise(function(K){Object(C.v)(H,
J.restUrl+"/content/items/"+G.id+"/data").then(function(L){L||K([]);var U=function(ba){var V,aa,ha,ia,ka,qa,Y,Q,fa,S,O=(null===(V=null==ba?void 0:ba.map)||void 0===V?0:V.itemId)?[ba.map.itemId]:[];V=null!==(ia=null===(ha=null===(aa=ba.values)||void 0===aa?void 0:aa.itemCollection)||void 0===ha?void 0:ha.map(function(I){return I.id}))&&void 0!==ia?ia:[];aa=null!==(Y=null===(qa=null===(ka=ba.values)||void 0===ka?void 0:ka.webmap)||void 0===qa?void 0:qa.split(","))&&void 0!==Y?Y:[];ba=null!==(S=null===
(fa=null===(Q=ba.values)||void 0===Q?void 0:Q.webscene)||void 0===fa?void 0:fa.split(","))&&void 0!==S?S:[];return Object(w.g)(Object(w.g)(Object(w.g)(Object(w.g)([],O),V),aa),ba)}(L).map(function(ba){return a({item:{itemId:ba},request:H,portal:J,iconDir:M})});v.Promise.all(U).then(function(ba){var V=ba.filter(function(aa){return aa});ba=V.map(function(aa){return e({item:aa,request:H,portal:J,iconDir:M})});v.Promise.all(ba).then(function(aa){var ha;aa=Object(w.g)(Object(w.g)([],V),Object(r.b)(aa));
(null===(ha=L.values)||void 0===ha?0:ha.group)&&(G.itemData=L,aa.push(G));K(aa)})})})})},c=function(E){var G=E.item,H=E.request,J=E.portal,M=E.iconDir;return new v.Promise(function(K){Object(C.v)(H,J.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(L){if(-1<L.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<L.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(C.v)(H,J.restUrl+"/content/items/"+
L.relatedItems[0].id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(ba){ba.relatedItems.push(L.relatedItems[0]);ba=p(ba.relatedItems,H,J,M);v.Promise.all(ba).then(function(V){K(V)})});else{var U=p(L.relatedItems,H,J,M);v.Promise.all(U).then(function(ba){K(ba)})}})})},m=function(E){var G=E.item,H=E.request,J=E.portal,M=E.iconDir;return new v.Promise(function(K){Object(C.v)(H,J.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",
direction:"reverse"}).then(function(L){L=p(L.relatedItems,H,J,M);v.Promise.all(L).then(function(U){K(U)})})})},p=function(E,G,H,J){return E.map(function(M){return q(M,G,H,J)})},q=function(E,G,H,J){return new v.Promise(function(M){Object(C.v)(G,H.restUrl+"/content/items/"+E.id).then(function(K){M(Object(A.a)(H,J,K))})})},y=function(E){var G=E.item,H=E.request,J=E.portal,M=E.iconDir;return new v.Promise(function(K){return function(L){var U=L.portal,ba=L.item,V=L.request;return new v.Promise(function(aa){if(ba.itemData){var ha=
ba.itemData,ia=ha.operationalLayers,ka=ha.baseMap,qa=ha.tables;ha=ha.ground;return aa(Object(w.g)(Object(w.g)(Object(w.g)(Object(w.g)([],(null==ka?void 0:ka.baseMapLayers)||[]),(null==ha?void 0:ha.layers)||[]),ia||[]),qa||[]))}return Object(C.v)(V,U.restUrl+"/content/items/"+ba.id+"/data").then(function(Y){var Q=Y.baseMap,fa=Y.tables,S=Y.ground;return aa(Object(w.g)(Object(w.g)(Object(w.g)(Object(w.g)([],Y.operationalLayers||[]),(null==Q?void 0:Q.baseMapLayers)||[]),(null==S?void 0:S.layers)||[]),
fa||[]))},function(){return aa([])})})}({request:H,item:G,portal:J}).then(function(L){v.Promise.all(B(L).map(function(U){return a({item:U,request:H,portal:J,iconDir:M})})).then(K)})})},B=function(E){return E.reduce(function(G,H){return(null==H?0:H.itemId)?G.concat(H):(null==H?0:H.layers)&&"GroupLayer"===H.layerType?G.concat(H.layers):G},[])},z={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},D=function(E){var G=E.item,H=E.selectedOptions,
J=E.selectedGroups,M=E.request;E=E.portal;return F({item:G,selectedOptions:H})?v.Promise.resolve(Object(w.a)(Object(w.a)({},z),{editable:!1,premium:!0})):x({item:G,selectedGroups:J,request:M,portal:E,selectedOptions:H}).then(function(K){var L=K.needsGroupSharingUpdate,U;if(!(U=K.needsShareLevelUpdate)){var ba,V=!0;Object(r.e)(H)&&(V=!1);U=Object(r.d)(H);U!==d.b["private"]&&U!==d.b.shared||(V=!1);var aa=G.access||(null===(ba=G.sharing)||void 0===ba?void 0:ba.access);U=(aa===d.b["public"]&&(V=!1),aa===
U&&(V=!1),U===d.b["private"]&&(aa===d.b.shared&&(V=!1),aa===d.b.org&&(V=!1)),V)}return{needsGroupSharingUpdate:L,needsShareLevelUpdate:U,editable:K.editable,premium:!1,groupDependentApplication:K.groupDependentApplication,bdfsDatastore:K.bdfsDatastore}})},F=function(E){var G=E.selectedOptions;E=E.item;return Object(r.e)(G)?!1:Object(r.d)(G)===d.b["public"]?(G=E.typeKeywords,-1<E.owner.toLowerCase().indexOf("esri")&&(-1<(null==G?void 0:G.indexOf("Requires Credits"))||-1<(null==G?void 0:G.indexOf("Requires Subscription")))):
!1},x=function(E){var G=E.item,H=E.selectedGroups,J=E.selectedOptions,M=E.request,K=E.portal;return new v.Promise(function(L,U){var ba,V;"Web Mapping Application"===G.type&&(null===(V=null===(ba=G.itemData)||void 0===ba?void 0:ba.values)||void 0===V?0:V.group)?L(Object(w.a)(Object(w.a)({},z),{groupDependentApplication:!0})):"Data Store"!==G.type?Object(C.v)(M,K.restUrl+"/content/users/"+G.owner+(G.ownerFolder?"/"+G.ownerFolder:"")+"/items/"+(G.itemId||G.id)).then(function(aa){var ha,ia=aa.item.itemControl,
ka=aa.sharing.groups;aa=G.access||(null===(ha=G.sharing)||void 0===ha?void 0:ha.access);Object(r.f)(G)&&J.total===J["public"]?L(Object(w.a)(Object(w.a)({},z),{needsShareLevelUpdate:!0,editable:!1})):ia&&"admin"!==ia&&"update"!==ia?L(Object(w.a)(Object(w.a)({},z),{editable:!1})):aa!==d.b["public"]?H.length>ka.length?L(Object(w.a)(Object(w.a)({},z),{needsGroupSharingUpdate:!0})):(ha=H.some(function(qa){return 0>ka.indexOf(qa.id)}),L(Object(w.a)(Object(w.a)({},z),{needsGroupSharingUpdate:ha}))):L(Object(w.a)({},
z))},function(aa){Object(C.v)(M,K.restUrl+"/content/items/"+(G.itemId||G.id)).then(function(ha){ha=ha.access;ha===d.b["public"]||ha===d.b.org&&J.total===J.org+J["private"]?L(Object(w.a)(Object(w.a)({},z),{editable:!1})):L(Object(w.a)(Object(w.a)({},z),{needsShareLevelUpdate:!0,editable:!1}))},function(ha){L(Object(w.a)(Object(w.a)({},z),{needsShareLevelUpdate:!0,editable:!1}))})}):L(Object(w.a)(Object(w.a)({},z),{bdfsDatastore:!0}))})}},36:function(f,g){f.exports=N},379:function(f,g,k){function w(A,
r){var l=A.filter(function(d){var e;return!d.success&&500===(null===(e=null==d?void 0:d.error)||void 0===e?void 0:e.code)}).map(function(d){var e=Object(C.c)(r,function(a){return a.id===d.itemId});return(null==e?void 0:e.title)||d.itemId});return A.map(function(d){d.error=d.error||{};var e=d.error,a=e.messageCode;e=e.code;return a&&v.errors[a]&&(d.error.message=v.errors[a]),e&&v.errors[e]&&(d.error.message=v.errors[e]),(500===a||500===e&&l)&&(d.error.details=l,d.error.message=v.errors[500]+" "+(null==
l?void 0:l.join(", "))),d}).filter(function(d){return!d.success})}k.d(g,"a",function(){return w});var v=k(39),C=k(99)},38:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"d",function(){return C});k.d(g,"c",function(){return A});k.d(g,"a",function(){return r});k.d(g,"f",function(){return e});var w,v,C,A,r,l=k(0),d=k(25);!function(a){a.openData="openData";a.updateGroups="updateGroups";a.distributed="distributed";a.administrative="administrative";a.orgSettings="orgSettings"}(w||(w={}));(v||(v=
{})).owner="owner";(function(a){a.itemOwner="itemOwner";a.inOrg="inOrg";a.outsideOrg="outsideOrg"})(C||(C={}));(function(a){a.myOrg="org";a.partnered="collaboration";a.anyOrg="anyOrg"})(A||(A={}));(function(a){a.USER="USER";a.OWNER="OWNER";a.DESIGNATION="DESIGNATION";a.DATE_CREATED="DATE_CREATED";a.MEMBERSHIP="MEMBERSHIP"})(r||(r={}));var e={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};g.e=function(a,b){switch(void 0===a&&(a=e),b.type){case d.a.CLEAR_FILTERS:switch(b.payload){case r.DESIGNATION:return Object(l.a)(Object(l.a)({},
a),{designationFilter:void 0});case r.DATE_CREATED:return Object(l.a)(Object(l.a)({},a),{dateCreatedFilter:void 0});case r.OWNER:return Object(l.a)(Object(l.a)({},a),{ownerFilter:void 0});case r.USER:return a;case r.MEMBERSHIP:return Object(l.a)(Object(l.a)({},a),{membershipFilter:void 0});default:return Object(l.a)(Object(l.a)({},a),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case d.a.UPDATE_OWNER_FILTER:return Object(l.a)(Object(l.a)({},a),{ownerFilter:b.payload===
a.ownerFilter?void 0:b.payload});case d.a.UPDATE_USERNAME_FILTER:return Object(l.a)(Object(l.a)({},a),{currentUsername:b.payload});case d.a.UPDATE_CREATED_ON_FILTER:return Object(l.a)(Object(l.a)({},a),{dateCreatedFilter:b.payload.created});case d.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(l.a)(Object(l.a)({},a),{designationFilter:b.payload===a.designationFilter?void 0:b.payload});case d.a.UPDATE_MEMBERSHIP_FILTER:return Object(l.a)(Object(l.a)({},a),{membershipFilter:b.payload===a.membershipFilter?
void 0:b.payload});case d.a.SET_USERS:return Object(l.a)(Object(l.a)({},a),{allUsers:b.payload.reduce(function(c,m){var p;return Object(l.a)(Object(l.a)({},c),((p={})[m.username]=m,p))},{})});case d.a.SET_SEARCH_STRING:return Object(l.a)(Object(l.a)({},a),{searchString:b.payload});default:return a}}},39:function(f,g){f.exports=n},422:function(f,g,k){var w,v=k(0);f=k(39);var C=k(16),A=k(629),r=k(139),l=k(26);k=function(e){function a(){var b=null!==e&&e.apply(this,arguments)||this;return b.handleKeyUp=
function(c){"Escape"===c.key&&b.props.handleSecondaryClick()},b}return Object(v.d)(a,e),a.prototype.render=function(b){var c=this,m=this.props,p=m.handleSecondaryClick,q=m.handlePrimaryClick,y=m.text;if(m.dialogExists&&y)return b("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",c.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",c.handleKeyUp)}},b(A.a,{key:"share-mini-dlg__component",isError:null==y?void 0:y.isError,render:function(){return b("div",
{key:"share-mini-dlg","class":"share-mini-dlg"},b("h2",{"class":"share-mini-dlg__title"},y.title),b("p",{"class":"share-mini-dlg__body"},y.body),b("div",{"class":"share-mini-dlg__buttons"},y.secondaryButton&&b("button",{appearance:"outline",onclick:p,id:"share-mini-dlg-secondary","class":"share-dlg__button--secondary share-mini-dlg__cancel-button"},y.secondaryButton),b("button",{onclick:q,id:"share-mini-dlg-primary","class":"share-dlg__button--primary share-mini-dlg__remove-button"},y.primaryButton)))}}))},
a}(C.Component);g.a=Object(C.connect)(function(e){e=e.resources.currentMiniDlg;return{text:d[e],dialogExists:e!==l.c.NONE}},function(e){return{handleSecondaryClick:function(){e(Object(r.k)(l.c.NONE));e(Object(r.j)(l.a.SHARE))},handlePrimaryClick:function(){e(r.h)}}})(k);var d=((w={})[l.c.OPEN_GROUP_BROWSER]={title:f.MiniDlg.changeShareLevelTitle,body:f.MiniDlg.changeShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},w[l.c.SET_SHARE_TO_PRIVATE]={title:f.MiniDlg.setShareToPrivateTitle,
body:f.MiniDlg.setShareToPrivateBody,primaryButton:f.update,secondaryButton:f.cancel},w[l.c.REVERT_SHARE_LEVEL]={title:f.MiniDlg.revertShareLevelTitle,body:f.MiniDlg.revertShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},w[l.c.REVERT_GROUPS]={title:f.MiniDlg.revertGroupsTitle,body:f.MiniDlg.revertGroupsBody,primaryButton:f.update,secondaryButton:f.cancel},w[l.c.EDITABLE_LAYERS]={title:f.MiniDlg.editableLayersTitle,body:f.MiniDlg.editableLayersBody,primaryButton:f.update,secondaryButton:f.cancel,
isError:!0},w[l.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:f.MiniDlg.publicDataCollectionEnabledTitle,body:f.MiniDlg.publicDataCollectionEnabledBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},w[l.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:f.MiniDlg.publicDataCollectionDisabledTitle,body:f.MiniDlg.publicDataCollectionDisabledBody,primaryButton:f.ok,isError:!0},w)},440:function(f,g,k){k.d(g,"a",function(){return C});k.d(g,"b",function(){return A});f=k(495);g=k(496);var w=k(54),v=k(497);
k=k(16);w.a.ui.filter.expanded=860<window.innerWidth;var C={resources:f.b,utilities:g.b,gbState:w.a,config:v.b},A=Object(k.combineReducers)({resources:f.a,utilities:g.a,gbState:w.c,config:v.a})},495:function(f,g,k){function w(e){var a=Object(C.a)(Object(C.a)({},l),{total:e.length});return e.forEach(function(b){switch(b.access?b.access:b.sharing&&b.sharing.access){case r.b["public"]:a[r.b["public"]]++;break;case r.b.org:a[r.b.org]++;break;case r.b.shared:case r.b["private"]:a[r.b["private"]]++}}),
a}k.d(g,"b",function(){return d});var v,C=k(0),A=k(139),r=k(26),l=((v={total:0})[r.b["private"]]=0,v[r.b.org]=0,v[r.b["public"]]=0,v),d={items:[],portalUser:{},selectedOptions:Object(C.a)({},l),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[],needBDFSDatastoreUpdate:[]},currentMiniDlg:r.c.NONE,isLoading:!1};g.a=
function(e,a){var b;switch(void 0===e&&(e=d),a.type){case A.a.SET_HELP_MAP:return Object(C.a)(Object(C.a)({},e),{helpMap:a.payload});case A.a.SET_SELECTED_SHARE_LEVEL:var c=e.selectedOptions.total,m=Object(C.a)(Object(C.a)(Object(C.a)({},l),((b={})[a.payload]=c,b)),{total:c}),p=w(e.items);b=!Object.keys(m).reduce(function(q,y){return q&&m[y]===p[y]},!0);return Object(C.a)(Object(C.a)({},e),{selectedOptions:m,selectedOptionsDirty:b});case A.a.SET_INITIAL_SHARE_LEVEL:return Object(C.a)(Object(C.a)({},
e),{selectedOptions:w(e.items),selectedOptionsDirty:!1});case A.a.SET_DEPENDENT_ITEMS:return Object(C.a)(Object(C.a)({},e),{dependentItems:a.payload});case A.a.SET_MINI_DIALOG:return Object(C.a)(Object(C.a)({},e),{currentMiniDlg:a.payload});default:return e}}},496:function(f,g,k){k.d(g,"b",function(){return w});var w={onCancel:function(){return null},onComplete:function(){return null},request:function(v){return null},portal:{},iconDir:""};g.a=function(v,C){return void 0===v&&(v=w),C.type,v}},497:function(f,
g,k){k.d(g,"b",function(){return C});var w=k(0),v=k(139);f=k(26);var C={groupsPerPage:10,currentView:f.a.LOADING,shareMode:f.d.DEFAULT,userType:f.e.ORG};g.a=function(A,r){switch(void 0===A&&(A=C),r.type){case v.a.SET_CURRENT_VIEW:return Object(w.a)(Object(w.a)({},A),{currentView:r.payload});case v.a.SET_SHARE_MODE:return Object(w.a)(Object(w.a)({},A),{shareMode:r.payload});case v.a.SET_USER_TYPE:return Object(w.a)(Object(w.a)({},A),{userType:r.payload});default:return A}}},5:function(f,g,k){function w(a){return 0===
Object.keys(a).length&&a.constructor===Object}function v(a){return null!=a}function C(a,b){return d.apply(null,arguments)}function A(a,b){return e.apply(null,arguments)}k.d(g,"b",function(){return w});k.d(g,"a",function(){return v});k.d(g,"e",function(){return l});k.d(g,"c",function(){return C});k.d(g,"d",function(){return A});var r=k(0);f=k(15);var l=Object(f.a)(function(a,b){var c=Object(r.a)({},b);return delete c[a],c}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return c[m]=
a(b[m],m,b),c},{})}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return a(b[m],m,b)&&(c[m]=b[m]),c},{})})},51:function(f,g,k){function w(x){return!(!x.urlKey||!x.customBaseUrl)}function v(x){return x.role===m.admin||x.role===m.accountAdmin}function C(x){return Object(y.a)(x.roleId)&&0<(x.roleId||"").length}function A(x){return!C(x)||C(x)&&-1<(x.privileges||[]).indexOf("portal:admin:viewItems")}function r(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToOrg")}function l(x){return-1<
(x.privileges||[]).indexOf("portal:user:shareToGroup")}function d(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToPublic")}function e(x,E){return a(x)||b(x)||E.canSharePublic&&c(x)}function a(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(g,"l",function(){return z});k.d(g,"h",function(){return D});k.d(g,"m",
function(){return F});k.d(g,"k",function(){return w});k.d(g,"i",function(){return v});k.d(g,"j",function(){return C});k.d(g,"g",function(){return A});k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});var m,p=k(63),q=k(148),y=k(5),B=k(58);!function(x){x.user="org_user";x.accountUser="account_user";x.publisher="org_publisher";x.accountPublisher="account_publisher";
x.admin="org_admin";x.accountAdmin="account_admin";x.viewer="iAAAAAAAAAAAAAAA";x.dataEditor="iBBBBBBBBBBBBBBB"}(m||(m={}));var z=function(x){var E=x.items;return!!x.user.orgId&&E.every(function(G){return G.isOrgItem})},D=function(x){var E=x.items,G=x.user,H=x.portal;x=E[0];var J=Object(B.c)(x,G),M=C(G),K=e(G,H);if(M=Object(B.a)(x,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!M)M=!w(H)||l(G)||r(G)||H.canSharePublic&&d(G)||e(G,H);H=M;return!(x.portal.isPortal&&x.owner!==G.username&&
-1<x.owner.indexOf("esri_"))&&(J||H||z({items:E,user:G})&&K)},F=function(x,E){return Object(p.a)(Object(q.a)(x))(E)}},54:function(f,g,k){k.d(g,"b",function(){return A});k.d(g,"a",function(){return r});k.d(g,"c",function(){return l});f=k(16);g=k(215);var w=k(208),v=k(137),C=k(210);k=k(207);var A=function(d){return!d.gbState},r={config:k.b,parameters:w.b,groups:v.f,ui:C.b,utils:g.b},l=Object(f.combineReducers)({config:k.a,parameters:w.a,groups:v.b,ui:C.a,utils:g.a})},58:function(f,g,k){function w(d,
e){return(null==d?void 0:d.owner)===e.username}function v(d,e){var a;if(!(a=w(d,e)))if(Object(A.a)(d.isAdmin))a=!!d.isAdmin;else{a=d.owner;var b="admin"===d.itemControl;a=!(d.portal.isPortal&&!w(d,e)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function C(d,e){return v(d,e)||"update"===d.itemControl}k.d(g,"d",function(){return w});k.d(g,"c",function(){return v});k.d(g,"a",function(){return C});k.d(g,"b",function(){return l});var A=
k(5),r=k(51),l=function(d){var e=d.user,a=d.items;d=d.portal;return Object(r.l)({items:a,user:e})&&Object(r.h)({items:a,user:e,portal:d})&&Object(r.g)(e)&&a[0].itemOwner||e}},61:function(f,g,k){function w(D){var F=D.groupIds,x=D.shareLevelOptions,E=D.restUrl,G=D.request,H=D.unshare;return l.Promise.all(D.items.map(function(J,M){return new l.Promise(function(K,L){G(E+"/content/items/"+(J.itemId||J.id)+"/"+(H?"unshare":"share"),{method:"post",query:Object(A.a)({f:"json",groups:F,confirmItemControl:!0},
x||{})}).then(K,L)})}))["catch"](function(J){throw J;})}function v(D,F){return new l.Promise(function(x,E){var G,H=null===(G=D.helpMap)||void 0===G?void 0:G.m;H?x(H):F(D.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(J){var M;x(null===(M=J.data.helpMap)||void 0===M?void 0:M.m)},E)})}k.d(g,"h",function(){return e});k.d(g,"g",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});k.d(g,"d",function(){return m});k.d(g,"f",function(){return B});
k.d(g,"c",function(){return z});k.d(g,"a",function(){return v});var C,A=k(0),r=k(30),l=k(28);f=k(26);var d=k(58),e=function(D){var F=D.items,x=D.groups,E=D.restUrl,G=D.request,H=D.portalUser;if(0===F.length)return l.Promise.resolve();var J=Object(r.b)(x);return F.every(function(M){return Object(d.d)(M,H)})?new l.Promise(function(M,K){if(!x||0===x.length)return M();var L={f:"json",items:Object(r.b)(F),groups:J};G(E+"/content/users/"+H.username+"/unshareItems",{method:"post",query:L}).then(M,K)}):w({items:F,
groupIds:J,restUrl:E,request:G,unshare:!0})},a=function(D){var F=D.items,x=D.groups,E=D.restUrl,G=D.request,H=D.portalUser,J=D.selectedOptions;D=D.ignoreShareLevel;if(0===F.length)return l.Promise.resolve();if(!D&&!J)throw"Selected options must be provided unless share level is ignored.";var M=Object(r.b)(x),K=D?{}:p(J);return F.every(function(L){return Object(d.d)(L,H)})?new l.Promise(function(L,U){G(E+"/content/users/"+H.username+"/shareItems",{method:"post",query:Object(A.a)({f:"json",items:Object(r.b)(F),
groups:M,confirmItemControl:!0},K)}).then(function(ba){ba=ba.data;ba.results.every(function(V){return V.success})?L():U(ba)},U)}):w({items:F,groupIds:M,shareLevelOptions:K,restUrl:E,request:G})},b=function(D){return D.reduce(function(F,x){return Object(A.g)(Object(A.g)([],F),x)},[])},c=function(D){return 1<Object.keys(D).filter(function(F){return"total"!==F&&0<D[F]}).length},m=function(D){return Object.keys(D).filter(function(F){return"total"!==F}).reduce(function(F,x){return D[x]===D.total?x:F})},
p=function(D){return c(D)?{}:q[m(D)]},q=((C={})[f.b["public"]]={org:!1,everyone:!0},C[f.b.org]={org:!0,everyone:!1},C[f.b["private"]]={org:!1,everyone:!1},C[f.b.shared]={org:!1,everyone:!1},C),y="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),B=function(D){var F,x,E=D.typeKeywords,G=D.type;G=y.some(function(J){return-1<E.indexOf(J)})&&"Real Time Analytic"!==
G&&"Big Data Analytic"!==G;var H=!(null===(F=null==D?void 0:D.portal)||void 0===F?0:F.isPortal)&&"Image Service"===D.type&&-1<(null===(x=D.url)||void 0===x?void 0:x.indexOf("://iservices"))&&-1<D.url.indexOf("arcgis.com");D="Knowledge Graph"===D.type;return G||H||D},z=function(D,F,x){return x&&F["public"]===F.total?D.filter(function(E){return-1<E.typeKeywords.indexOf("DeveloperBasemap")}):[]}},623:function(f,g,k){k.d(g,"a",function(){return A});var w;f=k(624);g=k(631);var v=k(632),C=k(630);k=k(26);
var A=((w={})[k.a.SHARE]=f.a,w[k.a.LOADING]=C.a,w[k.a.GROUP_BROWSER]=g.a,w[k.a.DEPENDENT_ITEM_CONFIRMATION]=v.a,w)},624:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(320),A=k(625),r=k(139),l=k(422),d=k(26);k=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return Object(w.d)(a,e),a.prototype.render=function(b){var c=this.props,m=c.miniDialogOpen,p=c.onCancel,q=c.attemptToSaveShareState;return[b(C.a,{key:"share-dlg-header",onCancel:p,title:v.share}),b("div",{key:"share-view-content",
"class":"share-dlg__contents"},b(A.a,{key:"share-dialog"}),b(l.a,{key:"share-mini-dlg"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:m,onclick:function(){q()}},v.save),b("button",{"class":"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:m,onclick:p},v.cancel))]},a}(f.Component);g.a=Object(f.connect)(function(e){return{miniDialogOpen:e.resources.currentMiniDlg!==
d.c.NONE,onCancel:e.utilities.onCancel}},function(e){return{attemptToSaveShareState:function(){e(r.d)}}})(k)},625:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(90),A=k(626),r=k(628),l=k(139);k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(w.d)(e,d),e.prototype.render=function(a){var b=this.props,c=b.portal,m=b.resetShareLevel;b=b.selectedOptionsDirty;return a("div",{"class":"share-level__wrap",key:"share-level__wrap"},a("div",{"class":"share-dlg__header",
key:"share-dlg__header"},a("h3",{id:"share-options-title","class":"share-options__title"},v.ShareDialog.setSharingLevel),b&&a("button",{onclick:m,"class":"btn-svg share-options__reset share-dlg__btn-svg"},a("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:C.g})),v.ShareOptions.revert)),a(A.a,{key:"share-options"}),a("hr",{"class":"share-dlg__divider"}),a(r.a,{key:"share-groups-section",portal:c}))},e}(f.Component);g.a=Object(f.connect)(function(d){return{portal:d.utilities.portal,
selectedOptionsDirty:d.resources.selectedOptionsDirty}},function(d){return{resetShareLevel:function(){d(l.e)}}})(k)},626:function(f,g,k){var w,v=k(0),C=k(39);f=k(16);var A=k(26),r=k(627),l=k(139),d=k(51),e=k(61);k=function(p){function q(){return null!==p&&p.apply(this,arguments)||this}return Object(v.d)(q,p),q.prototype.render=function(y){var B=this.props,z=B.handleOptionClick,D=B.selectedOptions,F=B.availableShareLevels,x=B.showOptions,E=B.userType,G=B.possibleShareLevels,H=B.items;return y("fieldset",
{"class":"share-options"},x&&G.map(function(J){var M=A.b[J];J=Object(e.f)(H[0])?C.ShareDialog.sharingLimitedItemDisclaimer:C.ShareDialog.cannotShareToLevelDisclaimer;return y(r.a,{key:M,level:M,handleLevelClick:function(){z(M)},disabledText:J,total:D.total,count:D[M],userType:E,disabled:-1===F.indexOf(M)})}),x&&F.length<G.length&&!Object(e.f)(H[0])&&y("p",{key:"share-options__disclaimer--limited","class":"share-options__disclaimer"},C.ShareDialog.sharingLimitedDisclaimer),!x&&y("p",{key:"share-options__disclaimer--none",
"class":"share-options__disclaimer"},C.ShareDialog.noShareDisclaimer))},q}(f.Component);g.a=Object(f.connect)(function(p){var q=p.resources,y=q.portalUser,B=q.items;q=q.selectedOptions;var z=p.config,D=z.userType,F={user:y,items:B,userType:D};z=z.shareMode!==A.d.GROUP;p=c({portal:p.utilities.portal,portalUser:y,selectedOptions:q,userType:D});return{selectedOptions:q,showOptions:z,userType:D,availableShareLevels:p.filter(function(x){return m[x](F)}),possibleShareLevels:p,items:B}},function(p){return{handleOptionClick:function(q){p(Object(l.f)(q))}}})(k);
var a=function(p,q){return q.every(function(y){return y.owner===p.username})},b=function(p,q){return q.every(function(y){return y.owner===p.username||y.portal.id===(null==p?void 0:p.orgId)})},c=function(p){var q=p.portal,y=p.portalUser,B=p.selectedOptions;return p.userType===A.e.PUBLIC?[A.b["private"],A.b["public"]]:q.canSharePublic||0!==B["public"]||Object(d.i)(y)?[A.b["private"],A.b.org,A.b["public"]]:[A.b["private"],A.b.org]},m=((w={})[A.b["private"]]=function(p){return!0},w[A.b.org]=function(p){var q=
p.user,y=p.items;if(p.userType===A.e.PUBLIC)return!1;p=a(q,y);var B=b(q,y);y=Object(d.i)(q)&&!Object(d.j)(q)&&b(q,y);return Object(d.b)(q)&&(p||y)||Object(d.e)(q)&&B},w[A.b["public"]]=function(p){var q=p.user,y=p.items;p=p.userType;if(1===y.length&&Object(e.f)(y[0]))return!1;var B=a(q,y);y=b(q,y);var z=Object(d.i)(q)&&!Object(d.j)(q)&&y;return p===A.e.PUBLIC||Object(d.c)(q)&&(B||z)||Object(d.f)(q)&&y},w)},627:function(f,g,k){var w,v,C=k(0),A=k(39);f=k(16);var r=k(90),l=k(26);k=function(b){function c(){return null!==
b&&b.apply(this,arguments)||this}return Object(C.d)(c,b),c.prototype.render=function(m){var p=this.props,q=p.level,y=p.count,B=p.total,z=p.handleLevelClick,D=p.disabled,F=p.disabledText,x=a[q],E=x.description;x=x.title;p.userType===l.e.PUBLIC&&q===l.b["public"]&&(E=A.ShareDialog.everyoneDescriptionPublic);p=y===B;var G=0<y&&!p,H=d(A.ShareOptions[q],y,B);y=d(A.ShareOptions.numItems,y,B);return m("label",{key:x,id:"share-level-"+q,classes:{"share-options__label":!0,"share-options__label--selected":p,
"share-options__label--indeterminate":G,"share-options__label--disabled":D},"aria-label":D&&F?F:void 0},m("input",{type:"radio",name:"sharing-type",key:x,"class":"share-options__input",checked:p,disabled:D,indeterminate:G,onclick:function(J){J.preventDefault();D||z()}}),m("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",role:"img"},m("path",{d:e[q]})),m("span",{"class":"share-options__content"},m("h4",{"class":"share-options__header"},
x,G&&m("span",{"class":"share-options__indeterminate-text","aria-label":D?void 0:H},m("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},m("path",{d:r.d})),m("span",null,y))),m("p",{"class":"share-options__description"},E)))},c}(f.Component);g.a=k;var d=function(b,
c,m){return void 0===b&&(b=""),b.replace("${num}",""+c).replace("${total}",""+m)},e=((w={})[l.b["public"]]=r.c,w[l.b.org]=r.e,w[l.b["private"]]=r.h,w[l.b.shared]=r.h,w),a=((v={})[l.b["private"]]={title:A.ShareDialog.owner,description:A.ShareDialog.ownerDescription},v[l.b.shared]={title:A.ShareDialog.owner,description:A.ShareDialog.ownerDescription},v[l.b.org]={title:A.ShareDialog.organization,description:A.ShareDialog.organizationDescription},v[l.b["public"]]={title:A.ShareDialog.everyone,description:A.ShareDialog.everyoneDescription},
v)},628:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(249),A=k(90),r=k(139),l=k(51),d=k(181),e=k(68);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Object(w.d)(b,a),b.prototype.render=function(c){var m=this.props,p=m.selectedGroupsDatas,q=m.portal,y=m.handleRemoveGroupsClick,B=m.handleRevertGroupsClick,z=m.handleEditGroupSharingClick,D=m.groupSharingMixed,F=m.hasGroups,x=m.groupsDirty,E=m.canShareItemToGroup;m=m.selectorItemsLength;return c("div",{"class":"share-groups"},
c("h3",{"class":"share-groups__header"},v.groups.setGroupSharing,E&&0<p.length&&!x&&c("button",{"class":"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:y,"aria-haspopup":"true"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:A.k})),v.groups.remove),x&&c("button",{onclick:B,"class":"btn-svg share-options__reset share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",
height:"16",viewBox:"0 0 24 24"},c("path",{d:A.g})),v.ShareOptions.revert)),c("div",{"class":"share-groups__body"},0<p.length?this.getGroupIcons({needsWarning:D,groupDatas:p,portal:q,selectorItemsLength:m,tsx:c}):c("p",{"class":"share-groups__empty"},F?v.groups.noneYet:v.groups.noGroupsToShare),F&&E&&c("button",{onclick:z,id:"edit-group-sharing-button","class":"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",
height:"16",viewBox:"0 0 24 24"},c("path",{d:A.i})),v.groups.editGroupSharing)))},b.prototype.getGroupIcons=function(c){var m=c.groupDatas,p=c.portal,q=c.tsx,y=c.needsWarning,B=c.selectorItemsLength;c=Math.max(m.length-3,0);return q("div",null,q("div",{key:"group-thumbnails","class":"share-groups__thumbnails"},m.slice(0,3).map(function(z){return q(C.a,{transparent:z.selectedByIds&&z.selectedByIds.length!==B,group:z.group,stacked:!0,portal:p})}),0<c&&q("span",{"class":"share-groups__plus"},"+"+c)),
y&&q("p",{"class":"share-groups__empty"},v.groups.mixedGroupSharing))},b}(f.Component);g.a=Object(f.connect)(function(a){var b,c,m=a.utilities.portal,p=a.resources.portalUser,q=a.gbState.groups,y=q.selectedGroups,B=q.initialSelectedGroups;a=q.selectorItems;q=q.hasGroups;var z=Object.keys(y).map(function(x){return y[x]}).sort(function(x,E){return x.selectedByIds&&E.selectedByIds?E.selectedByIds.length-x.selectedByIds.length:0}),D=z[z.length-1];D=(D&&D.selectedByIds&&D.selectedByIds.length||0)<(a&&
a.length||0);m=!Object(l.k)(m)||Object(l.a)(p)||Object(l.d)(p)&&(b=p.username,c=p.orgId,Object.keys(y).every(function(x){x=y[x].group;var E=c&&c===(null==x?void 0:x.orgId);return b===(null==x?void 0:x.owner)||E}));p=Object.keys(y).length;var F=Object.keys(B);p=F.length!==p||F.reduce(function(x,E){return x||!y[E]||Object(d.a)({selectedBy:(y[E].selectedByIds||[]).map(function(G){return{id:G}}),initialSelectedByIds:B[E].selectedByIds||[]})},!1);return{selectedGroupsDatas:z,groupSharingMixed:D,hasGroups:q,
canShareItemToGroup:m,selectorItemsLength:a.length,groupsDirty:p}},function(a){return{handleRemoveGroupsClick:function(){a({type:e.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){a(r.c)},handleEditGroupSharingClick:function(){a(r.b)}}})(k)},629:function(f,g,k){var w=k(312);g.a=function(v,C){var A=v.render;return C("div",{"class":"mini-dlg__wrapper",key:"mini-dlg__wrapper"},C("div",{classes:{"mini-dlg":!0,"min-dlg--error":!!v.isError}},C(w.a,{key:"mini-dlg-trap"},A())),C("div",{"class":"mini-dlg__scrim"}))}},
63:function(f,g,k){function w(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];return function(A){return v.reduceRight(function(r,l){return l(r)},A)}}k.d(g,"a",function(){return w})},630:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(320),A=k(205),r=k.n(A),l=k(422);k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(w.d)(e,d),e.prototype.render=function(a){return[a(C.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:v.share}),
a("div",{key:"loading-view-content","class":"share-dlg__contents share-loader__container"},a(r.a,{key:"share-loader",text:v.loading}),a(l.a,{key:"share-mini-dlg"})),a("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},a("button",{"class":"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},v.update),a("button",{"class":"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},v.cancel))]},
e}(f.Component);g.a=Object(f.connect)(function(d){return{handleCancelClick:d.utilities.onCancel}},function(d){return{}})(k)},631:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(139),A=k(258),r=k.n(A),l=k(320),d=k(26);k=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return Object(w.d)(a,e),a.prototype.render=function(b){return[b(l.a,{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:v.groupSharing}),b("div",{key:"group-browser-view-content-gb",
"class":"share-dlg__contents share-dlg__contents--wide"},b(r.a,{key:"share-group-browser"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},v.ok))]},a}(f.Component);g.a=Object(f.connect)(function(e){return{onCancel:e.utilities.onCancel}},function(e){return{closeGroupBrowser:function(){e(Object(C.j)(d.a.SHARE))}}})(k)},632:function(f,
g,k){var w=k(0),v=k(39);f=k(16);var C=k(320),A=k(633),r=k(139);k=function(l){function d(e){e=l.call(this,e)||this;return e.state={loading:!1},e}return Object(w.d)(d,l),d.prototype.render=function(e){var a=this,b=this.props,c=b.handlePrimaryClick,m=b.handleCancelClick;b=b.updatable;var p=this.state.loading;return[e(C.a,{key:"share-dlg-header-loading",onCancel:m,title:v.DependentItems.updateSharing}),e("div",{key:"dependent-item-view-content","class":"share-dlg__contents"},e(A.a,{key:"dependent-items"})),
e("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},e("button",{"class":"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:p,onclick:function(){a.setState({loading:!0});c()}},b?v.update:v.ok),b&&e("button",{"class":"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",onclick:m},v.cancel))]},d}(f.Component);g.a=Object(f.connect)(function(l){var d=l.utilities;l=l.resources;var e=l.dependentItems,a=e.needShareLevelUpdate,
b=e.needGroupSharingUpdate,c=e.needEditableWarning,m=l.selectedOptions;return{updatable:0<Object(w.g)(Object(w.g)(Object(w.g)(Object(w.g)([],e.needBDFSDatastoreUpdate),a),b),c).length,handleCancelClick:function(){d.onComplete({selectedOptions:m})}}},function(l){return{handlePrimaryClick:function(){l(r.i)}}})(k)},633:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(291),A=k(61);k=function(r){function l(){return null!==r&&r.apply(this,arguments)||this}return Object(w.d)(l,r),l.prototype.render=function(d){var e=
this.props,a=e.dependentItems,b=a.needGroupSharingUpdate,c=a.notEditable,m=a.premium,p=a.needEditableWarning,q=a.needPubliclyEditableWarning,y=a.needDataCollectionEnabled,B=a.needGroupDependentApplicationWarning,z=a.needBDFSDatastoreUpdate,D=e.portal,F=e.items,x=e.helpMap;e=e.authenticatedItems;a=Object(w.g)(Object(w.g)([],a.needShareLevelUpdate),b);var E=a.map(function(G){return G.id});a=a.filter(function(G,H){return E.indexOf(G.id)===H});b=1===F.length&&"Web Map"===F[0].type;F=v.DependentItems[b?
"premiumItemsWebMap":"premiumItems"];x=x&&d("a",{href:""+D.helpBase+x[120001307]},v.DependentItems[b?"premiumTextMap":"premiumText"]);return d("div",{"class":"dependent-items-confirmation",key:"dependent-items-confirmation"},d(C.a,{key:"need-editable-warning-list",items:p,title:v.DependentItems.needEditableTitle,text:v.DependentItems.needEditableText,portal:D,error:!0}),d(C.a,{key:"need-editable-warning-public-list",items:q,title:v.DependentItems.needPubliclyEditableTitle,text:v.DependentItems.needPubliclyEditableText,
portal:D,error:!0}),d(C.a,{key:"authenticated-items-warning",items:e,title:v.DependentItems.authenticatedItemsTitle,text:v.DependentItems.authenticatedItemsText,portal:D,error:!0}),d(C.a,{key:"need-data-collection-endabled-list",items:y,title:v.DependentItems.needDataCollectionEnabledTitle,text:v.DependentItems.needDataCollectionEnabledText,portal:D,error:!0}),d(C.a,{key:"group-dependent",items:B,title:v.DependentItems.groupDependentApplicationTitle,text:v.DependentItems.groupDependentApplicationText,
portal:D,error:!0}),d(C.a,{key:"needs-update-list",items:a,title:v.DependentItems.updateItemsCount,text:v.DependentItems.confirmationDescription,portal:D}),d(C.a,{key:"premium-items-list",items:m,title:F,text:x,portal:D}),d(C.a,{key:"not-editable-list",items:c,title:v.DependentItems.uneditableItemsCount,portal:D}),d(C.a,{key:"bdfs-datastore-dependent",items:z,title:v.DependentItems.updateItemsCount,text:v.DependentItems.needBDFSDatastoreUpdateText,portal:D,error:!0}))},l}(f.Component);g.a=Object(f.connect)(function(r){var l=
r.resources,d=l.items,e=l.helpMap;r=r.utilities.portal;return{dependentItems:l.dependentItems,authenticatedItems:Object(A.c)(d,l.selectedOptions,l.selectedOptionsDirty),portal:r,helpMap:e,items:d}},function(){return{}})(k)},634:function(f,g,k){var w=k(0),v=k(39);f=k(16);var C=k(101);k=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return Object(w.d)(r,A),r.prototype.render=function(l){var d=this.props,e=d.item;d=d.portal;var a=e.name||e.title,b=Object(C.a)(d)+"/home/item.html?id\x3d"+
e.id;return l("li",{key:e.id,"class":"dependent-item"},l("h3",{"class":"dependent-item__title"},d?l("a",{href:b,target:"_blank",rel:"noreferrer"},a):l("span",null,a)),l("span",{"class":"dependent-item__details"},e.iconURI&&l("img",{"class":"dependent-item__icon",src:e.iconURI}),l("p",{"class":"dependent-item__description"},v.DependentItems.itemDescription.replace("${type}",e.displayName||e.type).replace("${owner}",e.owner?e.owner:""))))},r}(f.Component);g.a=k},68:function(f,g,k){var w;k.d(g,"a",function(){return w});
(function(v){v.LOADING_GROUPS="LOADING_GROUPS";v.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";v.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";v.SELECT_GROUPS="SELECT_GROUPS";v.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";v.DESELECT_GROUPS="DESELECT_GROUPS";v.REVERT_GROUPS="REVERT_GROUPS";v.CLEAR_SELECTION="CLEAR_SELECTION";v.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";v.SET_HAS_GROUPS="SET_HAS_GROUPS"})(w||(w={}))},78:function(f,g,k){k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});var w=k(63);f=k(5);var v=
k(123),C=k(122),A=k(117),r=k(121),l=k(120),d=function(a,b,c){return Object(w.a)(Object(l.a)(a),Object(r.a)(a),Object(A.a)(b),Object(C.a)(a),Object(v.a)(a))(c)},e=Object(w.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},83:function(f,g,k){var w;k.d(g,"a",function(){return w});(function(v){v.SET_SEARCH_STRING="SET_SEARCH_STRING";v.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";v.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";v.UPDATE_USERNAME_FILTER=
"UPDATE_USERNAME_FILTER";v.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";v.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";v.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";v.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";v.SET_USERS="SET_USERS";v.CLEAR_FILTERS="CLEAR_FILTERS"})(w||(w={}))},877:function(f,g,k){k.r(g);var w=k(0);f=k(16);var v=k(440);k.d(g,"reducers",function(){return v.b});k.d(g,"initialState",function(){return v.a});var C=k(623),A=k(294),r=k.n(A),l=k(26);
k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(w.d)(e,d),e.prototype.render=function(a){var b=this.props.currentView;return a("div",{key:"share-container","class":"share-dlg__container"},a(r.a,{key:"sharing-overlay",scrollable:!0,size:b===l.a.GROUP_BROWSER?"large":"small"},a(C.a[b],{key:b})))},e}(f.Component);g["default"]=Object(f.connect)(function(d){return{currentView:d.config.currentView}},function(d){return{}})(k)},90:function(f,g,k){k.d(g,"a",function(){return w});
k.d(g,"b",function(){return v});k.d(g,"c",function(){return C});k.d(g,"d",function(){return A});k.d(g,"e",function(){return r});k.d(g,"h",function(){return l});k.d(g,"i",function(){return d});k.d(g,"j",function(){return e});k.d(g,"k",function(){return a});k.d(g,"g",function(){return b});k.d(g,"f",function(){return c});var w="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",v="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",C="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
A="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",r="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",l="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
d="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
e="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",a="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",b="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",c="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(f,g,k){function w(d,e){if(null==d?0:d.length)for(var a=void 0,b=0;b<d.length;b++)if(e(a=d[b]))return a}function v(d){return d.filter(function(e){return 0<e.length})}function C(d,e,a){var b=[];return e.forEach(function(c){(a?c[a].toLowerCase()===d.toLowerCase():c.toLowerCase()===d.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return A});k.d(g,"f",function(){return r});k.d(g,"c",function(){return w});k.d(g,"b",function(){return v});k.d(g,"a",function(){return l});k.d(g,
"d",function(){return C});f=k(15);var A=function(d,e,a){return a.indexOf(d)===e},r=Object(f.a)(function(d,e){var a={};return e.filter(function(b){return!a[b[d]]&&(a[b[d]]=!0,!0)})}),l=function(d,e){return d.length===e.length&&d.reduce(function(a,b){return a&&-1<e.indexOf(b)},!0)}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d){return function(e){function a(c){if(b[c])return b[c].exports;var m=b[c]={i:c,l:!1,exports:{}};return e[c].call(m.exports,m,m.exports,a),m.l=!0,m.exports}var b={};return a.m=e,a.c=b,a.d=function(c,m,p){a.o(c,m)||Object.defineProperty(c,m,{enumerable:!0,get:p})},a.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,m){if((1&
m&&(c=a(c)),8&m)||4&m&&"object"==typeof c&&c&&c.__esModule)return c;var p=Object.create(null);if(a.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:c}),2&m&&"string"!=typeof c)for(var q in c)a.d(p,q,function(y){return c[y]}.bind(null,q));return p},a.n=function(c){var m=c&&c.__esModule?function(){return c["default"]}:function(){return c};return a.d(m,"a",m),m},a.o=function(c,m){return Object.prototype.hasOwnProperty.call(c,m)},a.p="",a(a.s=855)}({0:function(e,a,b){function c(F,x){function E(){this.constructor=
F}if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");z(F,x);F.prototype=null===x?Object.create(x):(E.prototype=x.prototype,new E)}function m(F,x){var E={},G;for(G in F)Object.prototype.hasOwnProperty.call(F,G)&&0>x.indexOf(G)&&(E[G]=F[G]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(G=Object.getOwnPropertySymbols(F);H<G.length;H++)0>x.indexOf(G[H])&&Object.prototype.propertyIsEnumerable.call(F,G[H])&&
(E[G[H]]=F[G[H]])}return E}function p(F,x,E,G){var H,J=arguments.length,M=3>J?x:null===G?G=Object.getOwnPropertyDescriptor(x,E):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(F,x,E,G);else for(var K=F.length-1;0<=K;K--)(H=F[K])&&(M=(3>J?H(M):3<J?H(x,E,M):H(x,E))||M);return 3<J&&M&&Object.defineProperty(x,E,M),M}function q(F,x,E,G){return new (E||(E=Promise))(function(H,J){function M(U){try{L(G.next(U))}catch(ba){J(ba)}}function K(U){try{L(G["throw"](U))}catch(ba){J(ba)}}
function L(U){var ba;U.done?H(U.value):(ba=U.value,ba instanceof E?ba:new E(function(V){V(ba)})).then(M,K)}L((G=G.apply(F,x||[])).next())})}function y(F,x){function E(L){return function(U){return function(ba){if(G)throw new TypeError("Generator is already executing.");for(;K;)try{if(G=1,H&&(J=2&ba[0]?H["return"]:ba[0]?H["throw"]||((J=H["return"])&&J.call(H),0):H.next)&&!(J=J.call(H,ba[1])).done)return J;switch(H=0,J&&(ba=[2&ba[0],J.value]),ba[0]){case 0:case 1:J=ba;break;case 4:return K.label++,{value:ba[1],
done:!1};case 5:K.label++;H=ba[1];ba=[0];continue;case 7:ba=K.ops.pop();K.trys.pop();continue;default:if(!(J=K.trys,(J=0<J.length&&J[J.length-1])||6!==ba[0]&&2!==ba[0])){K=0;continue}if(3===ba[0]&&(!J||ba[1]>J[0]&&ba[1]<J[3]))K.label=ba[1];else if(6===ba[0]&&K.label<J[1])K.label=J[1],J=ba;else if(J&&K.label<J[2])K.label=J[2],K.ops.push(ba);else{J[2]&&K.ops.pop();K.trys.pop();continue}}ba=x.call(F,K)}catch(V){ba=[6,V],H=0}finally{G=J=0}if(5&ba[0])throw ba[1];return{value:ba[0]?ba[1]:void 0,done:!0}}([L,
U])}}var G,H,J,M,K={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return M={next:E(0),"throw":E(1),"return":E(2)},"function"==typeof Symbol&&(M[Symbol.iterator]=function(){return this}),M}function B(F,x){for(var E=0,G=x.length,H=F.length;E<G;E++,H++)F[H]=x[E];return F}b.d(a,"d",function(){return c});b.d(a,"a",function(){return D});b.d(a,"f",function(){return m});b.d(a,"c",function(){return p});b.d(a,"b",function(){return q});b.d(a,"e",function(){return y});b.d(a,"g",function(){return B});
var z=function(F,x){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,G){E.__proto__=G}||function(E,G){for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(E[H]=G[H])})(F,x)},D=function(){return(D=Object.assign||function(F){for(var x,E=1,G=arguments.length;E<G;E++)for(var H in x=arguments[E])Object.prototype.hasOwnProperty.call(x,H)&&(F[H]=x[H]);return F}).apply(this,arguments)};Object.create;Object.create},101:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",
function(){return p});var c=b(0),m=function(q){return q?q.urlKey?location.protocol+"//"+q.urlKey+"."+q.customBaseUrl:location.protocol+"//"+q.portalHostname:""},p=function(q){return Object(c.a)(Object(c.a)({},q),{baseUrl:m(q)})}},1019:function(e,a,b){b.d(a,"a",function(){return m});var c=b(204),m=function(){return{type:c.a.TOGGLE_SORT_DROPDOWN}}},128:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",function(){return p});var c=b(0);e=b(15);var m=function(q,y){var B;return y.thumbnail&&(B=
q.restUrl+"/community/groups/"+y.id+"/info/"+y.thumbnail+(q.credential?"?token\x3d"+q.credential.token:"")),B},p=Object(e.a)(function(q,y){return Object(c.a)(Object(c.a)({},y),{thumbURI:m(q,y)})})},137:function(e,a,b){b.d(a,"a",function(){return c});b.d(a,"d",function(){return q});b.d(a,"c",function(){return y});b.d(a,"e",function(){return B});b.d(a,"f",function(){return z});var c,m=b(0),p=b(25);!function(D){D.LOADING="loading";D.LOADED="loaded";D.FAILED="failed"}(c||(c={}));var q=function(D){var F=
D.selectedGroups,x=D.selectorItems;return 0===x.length?Object.keys(F).map(function(E){return F[E].group}):Object.keys(F).filter(function(E){return B(F[E],x)}).map(function(E){return F[E].group})},y=function(D){var F=D.initialSelectedGroups,x=D.selectedGroups,E=Object.keys(x).map(function(G){return x[G].group.id});return Object.keys(F).map(function(G){return F[G].group.id}).filter(function(G){return 0>E.indexOf(G)}).map(function(G){return F[G].group})},B=function(D,F){return!D.selectedByIds||D.selectedByIds.length===
F.length},z={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:c.LOADING,total:0,hasGroups:!0};a.b=function(D,F){switch(void 0===D&&(D=z),F.type){case p.a.DESELECT_GROUPS:return Object(m.a)(Object(m.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J=H.id;G[J];return Object(m.f)(G,["symbol"==typeof J?J:J+""])},D.selectedGroups)});case p.a.REVERT_GROUPS:return F.payload?Object(m.a)(Object(m.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J;if(D.initialSelectedGroups[H.id])return Object(m.a)(Object(m.a)({},
G),((J={})[H.id]=D.initialSelectedGroups[H.id],J));J=H.id;G[J];return Object(m.f)(G,["symbol"==typeof J?J:J+""])},D.selectedGroups)}):Object(m.a)(Object(m.a)({},D),{selectedGroups:Object(m.a)({},D.initialSelectedGroups)});case p.a.SELECT_GROUPS:var x=D.selectorItems.map(function(G){return G.id});return Object(m.a)(Object(m.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J;return Object(m.a)(Object(m.a)({},G),((J={})[H.group.id]=Object(m.a)({selectedByIds:x},H),J))},D.selectedGroups)});
case p.a.SET_INITIAL_GROUPS:var E=F.payload.reduce(function(G,H){var J;return Object(m.a)(Object(m.a)({},G),((J={})[H.group.id]=H,J))},{});return Object(m.a)(Object(m.a)({},D),{selectedGroups:E,initialSelectedGroups:Object(m.a)({},E)});case p.a.SET_SELECTOR_ITEMS:return Object(m.a)(Object(m.a)({},D),{selectorItems:F.payload});case p.a.CLEAR_SELECTION:return Object(m.a)(Object(m.a)({},D),{selectedGroups:{}});case p.a.LOADING_GROUPS:return Object(m.a)(Object(m.a)({},D),{status:c.LOADING});case p.a.LOAD_GROUPS_SUCCESS:return Object(m.a)(Object(m.a)({},
D),{displayGroups:F.payload.results,total:F.payload.total,status:c.LOADED});case p.a.LOAD_GROUPS_FAIL:return Object(m.a)(Object(m.a)({},D),{displayGroups:[],status:c.FAILED});case p.a.SET_HAS_GROUPS:return Object(m.a)(Object(m.a)({},D),{hasGroups:F.payload});default:return D}}},144:function(e,a,b){b.d(a,"d",function(){return y});b.d(a,"e",function(){return B});b.d(a,"b",function(){return z});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});b.d(a,"f",function(){return x});var c=b(0),
m=b(181),p=b(163),q=b(68),y=function(E){return 1<E.length&&Object(p.a)(),{type:q.a.SELECT_GROUPS,payload:E.map(function(G){return{group:Object(m.c)(G)}})}},B=function(E){return{type:q.a.SET_INITIAL_GROUPS,payload:E.map(function(G){return Object(c.a)(Object(c.a)({},G),{group:Object(m.c)(G.group)})})}},z=function(E){return 1<E.length&&Object(p.b)(),{type:q.a.DESELECT_GROUPS,payload:E}},D=function(E){return{type:q.a.REVERT_GROUPS,payload:E}},F=function(){return Object(p.c)(),{type:q.a.CLEAR_SELECTION}},
x=function(E){return{type:q.a.SET_SELECTOR_ITEMS,payload:E}}},148:function(e,a,b){b.d(a,"a",function(){return m});var c=b(0);e=b(15);var m=Object(e.a)(function(p,q){var y=Object(c.a),B=Object(c.a)({},q);var z=q.thumbnail?p.restUrl+"/community/users/"+q.username+"/info/"+q.thumbnail+(p.credential?"?token\x3d"+p.credential.token:""):void 0;return y(B,{thumbURI:z})})},15:function(e,a,b){function c(p){return function y(){for(var B=this,z=[],D=0;D<arguments.length;D++)z[D]=arguments[D];return z.length>=
p.length?p.call.apply(p,Object(m.g)([this],z)):function(){for(var F=[],x=0;x<arguments.length;x++)F[x]=arguments[x];return y.call.apply(y,Object(m.g)(Object(m.g)([B],z),F))}}}b.d(a,"a",function(){return c});var m=b(0)},150:function(e,a){e.exports=n},159:function(e,a,b){b.d(a,"b",function(){return E});b.d(a,"a",function(){return H});var c=b(0),m=b(181),p=b(30),q=b(163),y=b(54),B=b(68),z=b(28),D=b(61),F=b(38),x=b(26),E=function(aa,ha){G(ha()).then(function(ia){var ka=ha();ka=Object(y.b)(ka)?ka:ka.gbState;
var qa=ka.utils;ka.ui.focus.focusSelectAll&&Object(q.c)();aa({type:B.a.LOAD_GROUPS_SUCCESS,payload:Object(c.a)(Object(c.a)({},ia),{results:ia.results.map(function(Y){return Object(m.b)(qa.portal,Y)})})})})["catch"](function(ia){var ka=ha();(Object(y.b)(ka)?ka:ka.gbState).ui.focus.focusSelectAll&&Object(q.c)();aa({type:B.a.LOAD_GROUPS_FAIL,payload:ia})})},G=function(aa){aa=Object(y.b)(aa)?aa:aa.gbState;var ha=aa.utils,ia=ha.request,ka=ha.portal,qa=aa.config;ha=qa.groupsPerPage;var Y=qa.withinShare,
Q=(qa.withinAppConfig,aa.parameters);qa=Q.filter;Q=Q.sort;var fa=aa.ui.page.currentPageNumber,S={q:V(aa),num:ha,sortField:Q.field,sortOrder:Q.order,start:(fa-1)*ha+1};return Y&&(S.searchUserAccess="groupMember",S.searchUserName=qa.currentUsername),qa.designationFilter!==F.b.orgSettings||K(ka)?new z.Promise(function(O,I){Object(p.g)(ia,ka,S).then(O,I)}):new z.Promise(function(O){O({query:S.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},H=function(aa){var ha=aa.user;aa=aa.state;aa=Object(y.b)(aa)?
aa:aa.gbState;var ia=aa.utils,ka=ia.request,qa=ia.portal;aa=Object(c.a)(Object(c.a)({},aa),{parameters:Object(c.a)(Object(c.a)({},aa.parameters),{filter:Object(c.a)(Object(c.a)({},aa.parameters.filter),{currentUsername:ha.username})})});var Y={q:V(aa),num:100,searchUserAccess:"groupMember",searchUserName:ha.username};return(new z.Promise(function(Q,fa){return Object(p.g)(ka,qa,Y).then(function(S){if(-1!==S.nextStart){var O=Math.ceil(S.total/100)-1,I=[S.results];S=function(W){I.push(new z.Promise(function(ca,
T){var P=100*(W+1)+1;Object(p.g)(ka,qa,Object(c.a)(Object(c.a)({},Y),{start:P})).then(function(X){ca(X.results)},T)}))};for(var Z=0;Z<O;Z++)S(Z);z.Promise.all(I).then(function(W){Q(Object(D.b)(W))})}else Q(S.results)},fa)}))["catch"](function(Q){throw Q;})},J=function(aa){var ha,ia=aa.shareMode,ka=aa.currentUsername,qa=aa.portalUser;aa=aa.userGroups;var Y=[];switch(aa&&aa.forEach(function(Q){var fa,S=null===(fa=Q.userMembership)||void 0===fa?void 0:fa.memberType;!Q.isViewOnly||"owner"!==S&&"admin"!==
S||Y.push(Q.id)}),Y.length&&(ha="(isviewonly:false OR "+Y.join(" OR ")+")"),ia){case x.d.DEFAULT:return ha||"(owner:"+ka+" OR isviewonly:false)";case x.d.GROUP:return"owner:"+ka+" -capabilities:updateitemcontrol";case x.d.ADMIN:return qa.username===ka?"(isviewonly:false OR owner:"+qa.username+") -capabilities:updateitemcontrol":"(owner:"+ka+" OR isviewonly:false)";default:return""}},M=function(aa,ha){0!==(null==aa?void 0:aa.indexOf("id:"))||-1<ha.indexOf(aa)||ha.push(aa)},K=function(aa){var ha,ia,
ka,qa,Y,Q=[],fa=[aa.featuredItemsGroupQuery,aa.basemapGalleryGroupQuery,aa.templatesGroupQuery,aa["2DStylesGroupQuery"],aa.stylesGroupQuery,aa.analysisLayersGroupQuery,aa.galleryTemplatesGroupQuery];if(aa.hasModernHomePageEnabled){var S=(null===(ia=null===(ha=aa.homePageConfig)||void 0===ha?void 0:ha.content)||void 0===ia?void 0:ia.filter(function(O){return"gallery"===O.type&&!!O.groupId}))||[];0<S.length&&S.forEach(function(O){M("id:"+O.groupId,Q)})}else fa.push(aa.homePageFeaturedContent);return fa.forEach(function(O){M(O,
Q)}),null===(ka=aa.featuredGroups)||void 0===ka||ka.forEach(function(O){(O=O.id)&&M("id:"+O,Q)}),null===(Y=null===(qa=aa.userDefaults)||void 0===qa?void 0:qa.groups)||void 0===Y||Y.forEach(function(O){M("id:"+O,Q)}),0<Q.length?"("+Q.join(" OR ")+")":""},L=function(aa){var ha=aa.portal;switch(aa.designationFilter){case F.b.openData:return"isopendata:true";case F.b.updateGroups:return"capabilities:updateitemcontrol";case F.b.distributed:return"capabilities:distributed";case F.b.administrative:return"isleavingdisallowed:true";
case F.b.orgSettings:return K(ha)||"";default:return""}},U=function(aa){var ha=aa.portal,ia=aa.username,ka=aa.currentUsername,qa=aa.userType,Y=aa.withinAppConfig;ia=aa.shareMode===x.d.ADMIN&&ka||ia;Y=ha.isPortal&&Y?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(aa.ownerFilter){case F.d.itemOwner:return"owner:"+ia+" "+Y;case F.d.inOrg:return"-owner:"+ia+" orgid:"+ha.id+" "+Y;case F.d.outsideOrg:return qa===x.e.PUBLIC?"-owner:"+ia+" "+Y:"(orgid: [0 TO \\{]) -orgid:"+
ha.id+" "+Y;default:return Y}},ba=function(aa){return aa?"created: ["+(ha=aa).start+" TO "+ha.end+"]":"";var ha},V=function(aa){var ha=aa.utils,ia=ha.portal;ha=ha.portalUser;var ka=aa.config,qa=ka.shareMode,Y=ka.userType,Q=ka.withinAppConfig,fa=ka.hasIndoorsSpaces;aa=aa.parameters.filter;var S=aa.designationFilter,O=aa.membershipFilter,I=aa.dateCreatedFilter,Z=aa.currentUsername,W=aa.ownerFilter;return[ka.baseQ+" "+aa.searchString,J({shareMode:qa,currentUsername:Z,portalUser:ha,userGroups:ka.userGroups}),
fa?"-capabilities:distributed":L({designationFilter:S,portal:ia}),fa?"membershipaccess:org":O?"anyOrg"===O?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+O:"",ba(I),U({ownerFilter:W,portal:ia,username:ha.username,currentUsername:Z,shareMode:qa,userType:Y,withinAppConfig:Q})].filter(function(ca){return ca}).join(" ").trim()}},16:function(e,a){e.exports=R},163:function(e,a,b){function c(){q("gb__select-all-input")}function m(){q("gb__clear-selection-btn")}function p(){setTimeout(function(){var y=
document.querySelector(".gcard-gcc__container");y&&(y=y.querySelector(".btn-2018check__input"))&&y.focus()},50)}function q(y){setTimeout(function(){var B=document.querySelector("#"+y);B&&B.focus()},50)}b.d(a,"c",function(){return c});b.d(a,"a",function(){return m});b.d(a,"b",function(){return p})},170:function(e,a){var b=function(){return this}();try{b=b||(new Function("return this"))()}catch(c){"object"==typeof window&&(b=window)}e.exports=b},175:function(e,a,b){var c;b.d(a,"a",function(){return c});
(c||(c={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},181:function(e,a,b){b.d(a,"b",function(){return q});b.d(a,"c",function(){return y});b.d(a,"a",function(){return B});var c=b(63);e=b(5);var m=b(99),p=b(128),q=function(z,D){return Object(c.a)(Object(p.b)(z))(D)},y=Object(c.a)(Object(e.e)("thumbURI")),B=function(z){var D=z.initialSelectedByIds;return!Object(m.a)(z.selectedBy.map(function(F){return F.id}),D)}},186:function(e,a,b){b.d(a,"b",function(){return m});b.d(a,"g",function(){return p});b.d(a,
"h",function(){return q});b.d(a,"e",function(){return y});b.d(a,"f",function(){return B});b.d(a,"d",function(){return z});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});var c=b(83),m=function(x){return{type:c.a.SET_SEARCH_STRING,payload:x}},p=function(x){return{type:c.a.UPDATE_OWNER_FILTER,payload:x}},q=function(x){return{type:c.a.UPDATE_USERNAME_FILTER,payload:x}},y=function(x){return{type:c.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:x}},B=function(x){return{type:c.a.UPDATE_MEMBERSHIP_FILTER,
payload:x}},z=function(x){return{type:c.a.UPDATE_CREATED_ON_FILTER,payload:{section:x.section,created:x.created}}},D=function(x){return{type:c.a.SET_USERS,payload:x}},F=function(x){return{type:c.a.CLEAR_FILTERS,payload:x}}},189:function(e,a){function b(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function m(J){if(D===setTimeout)return setTimeout(J,0);if((D===b||!D)&&setTimeout)return D=setTimeout,setTimeout(J,0);try{return D(J,0)}catch(M){try{return D.call(null,
J,0)}catch(K){return D.call(this,J,0)}}}function p(){G&&x&&(G=!1,x.length?E=x.concat(E):H=-1,E.length&&q())}function q(){if(!G){var J=m(p);G=!0;for(var M=E.length;M;){x=E;for(E=[];++H<M;)x&&x[H].run();H=-1;M=E.length}x=null;G=!1;(function(K){if(F===clearTimeout)return clearTimeout(K);if((F===c||!F)&&clearTimeout)return F=clearTimeout,clearTimeout(K);try{F(K)}catch(L){try{return F.call(null,K)}catch(U){return F.call(this,K)}}})(J)}}function y(J,M){this.fun=J;this.array=M}function B(){}var z=e.exports=
{};try{var D="function"==typeof setTimeout?setTimeout:b}catch(J){D=b}try{var F="function"==typeof clearTimeout?clearTimeout:c}catch(J){F=c}!0;var x,E=[],G=!1,H=-1;z.nextTick=function(J){var M=Array(arguments.length-1);if(1<arguments.length)for(var K=1;K<arguments.length;K++)M[K-1]=arguments[K];E.push(new y(J,M));1!==E.length||G||m(q)};y.prototype.run=function(){this.fun.apply(null,this.array)};z.title="browser";z.browser=!0;z.env={};z.argv=[];z.version="";z.versions={};z.on=B;z.addListener=B;z.once=
B;z.off=B;z.removeListener=B;z.removeAllListeners=B;z.emit=B;z.prependListener=B;z.prependOnceListener=B;z.listeners=function(J){return[]};z.binding=function(J){throw Error("process.binding is not supported");};z.cwd=function(){return"/"};z.chdir=function(J){throw Error("process.chdir is not supported");};z.umask=function(){return 0}},192:function(e,a,b){var c;b.d(a,"a",function(){return c});(c||(c={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.SET_PAGE=
"SET_PAGE";m.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";m.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(c||(c={}))},205:function(e,a){e.exports=t},207:function(e,a,b){b.d(a,"b",function(){return p});var c=b(0),m=b(25),p={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};a.a=function(q,y){switch(void 0===q&&(q=p),y.type){case m.a.ENABLE_USER_TOGGLE:return Object(c.a)(Object(c.a)({},q),{enableUserToggle:!0});
case m.a.SET_SHARE_MODE:return Object(c.a)(Object(c.a)({},q),{shareMode:y.payload});case m.a.SET_USER_TYPE:return Object(c.a)(Object(c.a)({},q),{userType:y.payload});case m.a.TRUSTED_ORGS_LOADED:return Object(c.a)(Object(c.a)({},q),{hasTrustedOrgs:0<y.payload.length});case m.a.USER_DETAILS_LOADED:return Object(c.a)(Object(c.a)({},q),{userGroups:y.payload});case m.a.SET_SELECTOR_ITEMS:var B=!!y.payload.find(function(z){var D;return-1<(null===(D=null==z?void 0:z.typeKeywords)||void 0===D?void 0:D.indexOf("EditExtensionIndoorsSpaces"))});
return Object(c.a)(Object(c.a)({},q),{hasIndoorsSpaces:B});default:return q}}},208:function(e,a,b){b.d(a,"b",function(){return m});e=b(16);var c=b(209);b=b(38);var m={sort:c.b,filter:b.f};a.a=Object(e.combineReducers)({sort:c.a,filter:b.e})},209:function(e,a,b){b.d(a,"b",function(){return p});var c=b(0),m=b(25),p={field:"title",order:"asc"},q={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};a.a=function(y,B){switch(void 0===y&&(y=p),B.type){case m.a.CHANGE_SORT_FIELD:return Object(c.a)(Object(c.a)({},
y),{field:B.payload,order:q[B.payload]});case m.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},y),{order:B.payload});default:return y}}},210:function(e,a,b){b.d(a,"b",function(){return q});e=b(16);var c=b(211),m=b(212),p=b(213);b=b(214);var q={page:c.b,sort:m.b,focus:p.b,filter:b.b};a.a=Object(e.combineReducers)({page:c.a,sort:m.a,focus:p.a,filter:b.a})},211:function(e,a,b){b.d(a,"b",function(){return p});var c=b(0),m=b(25),p={currentPageNumber:1};a.a=function(q,y){switch(void 0===q&&(q=p),
y.type){case m.a.CLEAR_FILTERS:case m.a.UPDATE_USERNAME_FILTER:case m.a.UPDATE_OWNER_FILTER:case m.a.UPDATE_CREATED_ON_FILTER:case m.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(c.a)(Object(c.a)({},q),{currentPageNumber:1});case m.a.SET_PAGE:return Object(c.a)(Object(c.a)({},q),{currentPageNumber:y.payload});case m.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},q),{currentPageNumber:y.payload.num>y.payload.total?1:Math.ceil(y.payload.start/y.payload.num)});case m.a.LOAD_GROUPS_FAIL:return Object(c.a)(Object(c.a)({},
q),{currentPageNumber:1});default:return q}}},212:function(e,a,b){b.d(a,"b",function(){return m});var c=b(25),m=!1;a.a=function(p,q){switch(void 0===p&&(p=m),q.type){case c.a.CHANGE_SORT_FIELD:case c.a.CHANGE_SORT_ORDER:case c.a.TOGGLE_SORT_DROPDOWN:return!p;default:return p}}},213:function(e,a,b){b.d(a,"b",function(){return p});var c=b(0),m=b(25),p={focusSelectAll:!1};a.a=function(q,y){switch(y.type){case m.a.LOAD_GROUPS_FAIL:case m.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},q),{focusSelectAll:!1});
case m.a.CHANGE_SORT_FIELD:case m.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},q),{focusSelectAll:!0});default:return q}}},214:function(e,a,b){b.d(a,"b",function(){return q});var c=b(0),m=b(25),p=b(38),q={expanded:!1};a.a=function(y,B){switch(B.type){case m.a.CLEAR_FILTERS:switch(B.payload){case void 0:case p.a.DATE_CREATED:return Object(c.a)(Object(c.a)({},y),{dateCreatedSelectedSection:void 0});default:return y}case m.a.TOGGLE_EXPANDED_FILTERS:return Object(c.a)(Object(c.a)({},y),{expanded:!y.expanded});
case m.a.UPDATE_CREATED_ON_FILTER:return Object(c.a)(Object(c.a)({},y),{dateCreatedSelectedSection:B.payload.section});default:return y}}},215:function(e,a,b){b.d(a,"b",function(){return m});var c=b(101),m={portal:{},portalUser:{},request:function(p){return null}};a.a=function(p,q){return void 0===p&&(p=m),q.type,p.portal.portalHostname&&!p.portal.baseUrl&&(p.portal.baseUrl=Object(c.a)(p.portal)),p}},216:function(e,a){e.exports=u},226:function(e,a,b){b.d(a,"c",function(){return c});b.d(a,"d",function(){return m});
b.d(a,"e",function(){return p});b.d(a,"b",function(){return q});b.d(a,"f",function(){return y});b.d(a,"g",function(){return B});b.d(a,"a",function(){return z});b.d(a,"h",function(){return D});b.d(a,"i",function(){return F});b.d(a,"j",function(){return x});var c="MAXIMIZE_DLG",m="MINIMIZE_DLG",p="TOGGLE_EXPANDED_FILTERS",q="CLOSE_FULLSCREEN_BROWSER",y="TOGGLE_EXPANDED_SORT",B="UPDATE_SUBLAYER_CARD_STATE",z="CLOSE_EXPANDED_SORT",D=function(){return{type:z}},F=function(){return{type:p}},x=function(){return{type:y}}},
249:function(e,a,b){var c=b(128);a.a=function(m,p){var q=m.group,y=m.stacked,B=m.portal;y={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!q.thumbURI,"gcard-thumbnail--stacked":void 0!==y&&y,"gcard-thumbnail--transparent":m.transparent};if(q.thumbnail&&!q.thumbURI&&B&&(q.thumbURI=Object(c.a)(B,q)),q.thumbURI)return p("img",{src:q.thumbURI,classes:y,alt:q.title});B=!(!q.title.charAt(0)||!q.title.charAt(0).match(/^\w+$/));return p("div",{key:"group-thumbnail-"+q.id,classes:y},p("svg",
{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},p("path",{fill:"#"+q.id.substr(q.id.length-6),d:"M0 0h65v65H0z"}),p("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),B?p("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},q.title.slice(0,1).toUpperCase()):p("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(e,a,b){b.d(a,"a",function(){return y});var c;e=b(0);a=b(204);var m=b(68),p=b(175),q=b(83);b=b(192);!function(B){B.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";B.SET_SHARE_MODE="SET_SHARE_MODE";B.SET_USER_TYPE="SET_USER_TYPE"}(c||(c={}));var y=Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)({},a.a),m.a),q.a),c),p.a),b.a)},254:function(e,a){e.exports=h},255:function(e,a){e.exports=f},26:function(e,a,b){var c,m,p,q,y;b.d(a,"b",function(){return c});b.d(a,"a",function(){return m});
b.d(a,"c",function(){return p});b.d(a,"e",function(){return q});b.d(a,"d",function(){return y});(function(B){B.org="org";B["private"]="private";B["public"]="public";B.shared="shared"})(c||(c={}));(function(B){B.LOADING="LOADING";B.SHARE="SHARE";B.GROUP_BROWSER="GROUP_BROWSER";B.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(m||(m={}));(function(B){B.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";B.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";B.REVERT_GROUPS="REVERT_GROUPS";B.EDITABLE_LAYERS=
"EDITABLE_LAYERS";B.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";B.NONE="NONE";B.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";B.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(p||(p={}));(function(B){B.ORG="ORG";B.PUBLIC="PUBLIC"})(q||(q={}));(function(B){B.DEFAULT="DEFAULT";B.ADMIN="ADMIN";B.GROUP="GROUP"})(y||(y={}))},28:function(e,a,b){(function(c,m){e.exports=function(){function p(){var P=setTimeout;return function(){return P(q,1)}}function q(){for(var P=0;P<
U;P+=2)(0,Y[P])(Y[P+1]),Y[P]=void 0,Y[P+1]=void 0;U=0}function y(P,X){var da=this,ea=new this.constructor(z);void 0===ea[Z]&&K(ea);var ja=da._state;if(ja){var la=arguments[ja-1];aa(function(){return M(ja,ea,la,da._result)})}else H(da,ea,P,X);return ea}function B(P){if(P&&"object"==typeof P&&P.constructor===this)return P;var X=new this(z);return F(X,P),X}function z(){}function D(P,X,da){X.constructor===P.constructor&&da===y&&X.constructor.resolve===B?function(ea,ja){1===ja._state?E(ea,ja._result):
2===ja._state?G(ea,ja._result):H(ja,void 0,function(la){return F(ea,la)},function(la){return G(ea,la)})}(P,X):void 0===da?E(P,X):"function"==typeof da?function(ea,ja,la){aa(function(ma){var oa=!1,sa=function(va,za,Aa,Ba){try{va.call(za,Aa,Ba)}catch(Oa){return Oa}}(la,ja,function(va){oa||(oa=!0,ja!==va?F(ma,va):E(ma,va))},function(va){oa||(oa=!0,G(ma,va))},ma._label);!oa&&sa&&(oa=!0,G(ma,sa))},ea)}(P,X,da):E(P,X)}function F(P,X){if(P===X)G(P,new TypeError("You cannot resolve a promise with itself"));
else if(ea=typeof(da=X),null===da||"object"!==ea&&"function"!==ea)E(P,X);else{da=void 0;try{da=X.then}catch(ja){return void G(P,ja)}D(P,X,da)}var da,ea}function x(P){P._onerror&&P._onerror(P._result);J(P)}function E(P,X){void 0===P._state&&(P._result=X,P._state=1,0!==P._subscribers.length&&aa(J,P))}function G(P,X){void 0===P._state&&(P._state=2,P._result=X,aa(x,P))}function H(P,X,da,ea){var ja=P._subscribers,la=ja.length;P._onerror=null;ja[la]=X;ja[la+1]=da;ja[la+2]=ea;0===la&&P._state&&aa(J,P)}function J(P){var X=
P._subscribers,da=P._state;if(0!==X.length){for(var ea=void 0,ja=void 0,la=P._result,ma=0;ma<X.length;ma+=3)ea=X[ma],ja=X[ma+da],ea?M(da,ea,ja,la):ja(la);P._subscribers.length=0}}function M(P,X,da,ea){var ja="function"==typeof da,la=void 0,ma=void 0,oa=!0;if(ja){try{la=da(ea)}catch(sa){oa=!1,ma=sa}if(X===la)return void G(X,new TypeError("A promises callback cannot return that same promise."))}else la=ea;void 0!==X._state||(ja&&oa?F(X,la):!1===oa?G(X,ma):1===P?E(X,la):2===P&&G(X,la))}function K(P){P[Z]=
W++;P._state=void 0;P._result=void 0;P._subscribers=[]}var L=Array.isArray?Array.isArray:function(P){return"[object Array]"===Object.prototype.toString.call(P)},U=0,ba=void 0,V=void 0,aa=function(P,X){Y[U]=P;Y[U+1]=X;2===(U+=2)&&(V?V(q):I())},ha="undefined"!=typeof window?window:void 0,ia=ha||{};ia=ia.MutationObserver||ia.WebKitMutationObserver;var ka="undefined"==typeof self&&void 0!==c&&"[object process]"==={}.toString.call(c),qa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&
"undefined"!=typeof MessageChannel,Y=Array(1E3),Q,fa,S,O,I=void 0;ka?I=function(){return c.nextTick(q)}:ia?(fa=0,S=new ia(q),O=document.createTextNode(""),S.observe(O,{characterData:!0}),I=function(){O.data=fa=++fa%2}):qa?((Q=new MessageChannel).port1.onmessage=q,I=function(){return Q.port2.postMessage(0)}):I=void 0===ha?function(){try{var P=Function("return this")().require("vertx");return void 0!==(ba=P.runOnLoop||P.runOnContext)?function(){ba(q)}:p()}catch(X){return p()}}():p();var Z=Math.random().toString(36).substring(2),
W=0,ca=function(){function P(X,da){this._instanceConstructor=X;this.promise=new X(z);this.promise[Z]||K(this.promise);L(da)?(this.length=da.length,this._remaining=da.length,this._result=Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(da),0===this._remaining&&E(this.promise,this._result))):G(this.promise,Error("Array Methods must be provided an Array"))}return P.prototype._enumerate=function(X){for(var da=0;void 0===this._state&&da<X.length;da++)this._eachEntry(X[da],
da)},P.prototype._eachEntry=function(X,da){var ea=this._instanceConstructor,ja=ea.resolve;if(ja===B){var la=ja=void 0,ma=!1;try{ja=X.then}catch(oa){ma=!0,la=oa}ja===y&&void 0!==X._state?this._settledAt(X._state,da,X._result):"function"!=typeof ja?(this._remaining--,this._result[da]=X):ea===T?(ea=new ea(z),ma?G(ea,la):D(ea,X,ja),this._willSettleAt(ea,da)):this._willSettleAt(new ea(function(oa){return oa(X)}),da)}else this._willSettleAt(ja(X),da)},P.prototype._settledAt=function(X,da,ea){var ja=this.promise;
void 0===ja._state&&(this._remaining--,2===X?G(ja,ea):this._result[da]=ea);0===this._remaining&&E(ja,this._result)},P.prototype._willSettleAt=function(X,da){var ea=this;H(X,void 0,function(ja){return ea._settledAt(1,da,ja)},function(ja){return ea._settledAt(2,da,ja)})},P}(),T=function(){function P(X){this[Z]=W++;this._result=this._state=void 0;this._subscribers=[];if(z!==X){if("function"!=typeof X)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(this instanceof P)(function(da,ea){try{ea(function(ja){F(da,ja)},function(ja){G(da,ja)})}catch(ja){G(da,ja)}})(this,X);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return P.prototype["catch"]=function(X){return this.then(null,X)},P.prototype["finally"]=function(X){var da=this.constructor;return"function"==typeof X?this.then(function(ea){return da.resolve(X()).then(function(){return ea})},function(ea){return da.resolve(X()).then(function(){throw ea;
})}):this.then(X,X)},P}();return T.prototype.then=y,T.all=function(P){return(new ca(this,P)).promise},T.race=function(P){var X=this;return L(P)?new X(function(da,ea){for(var ja=P.length,la=0;la<ja;la++)X.resolve(P[la]).then(da,ea)}):new X(function(da,ea){return ea(new TypeError("You must pass an array to race."))})},T.resolve=B,T.reject=function(P){var X=new this(z);return G(X,P),X},T._setScheduler=function(P){V=P},T._setAsap=function(P){aa=P},T._asap=aa,T.polyfill=function(){var P=void 0;if(void 0!==
m)P=m;else if("undefined"!=typeof self)P=self;else try{P=Function("return this")()}catch(ea){throw Error("polyfill failed because global object is unavailable in this environment");}var X=P.Promise;if(X){var da=null;try{da=Object.prototype.toString.call(X.resolve())}catch(ea){}if("[object Promise]"===da&&!X.cast)return}P.Promise=T},T.Promise=T,T}()}).call(this,b(189),b(170))},284:function(e,a){e.exports=g},285:function(e,a){e.exports=k},30:function(e,a,b){function c(Y){return Y.reduce(function(Q,
fa){return fa&&fa.relatedItems?Q.concat(fa.relatedItems.map(function(S){return S})):Q},[])}function m(Y,Q,fa){return Y(Q,{query:Object(y.a)({f:"json"},fa)}).then(function(S){return S.data})}function p(Y,Q){void 0===Q&&(Q=100);for(var fa=[],S=0;S<Math.ceil(Y.length/Q);S++)fa.push(Y.slice(S*Q,(S+1)*Q));return fa.filter(function(O){return 0<O.length})}function q(Y){var Q=Y.itemIds,fa=Y.request,S=Y.groupIds,O=Y.portal.restUrl+"/content/itemsgroups";return new B.Promise(function(I,Z){fa(O,{method:"get",
query:{f:"json",items:Q,groups:S}}).then(function(W){I(W.data)},Z)})}b.d(a,"u",function(){return z});b.d(a,"n",function(){return D});b.d(a,"h",function(){return F});b.d(a,"e",function(){return x});b.d(a,"f",function(){return E});b.d(a,"j",function(){return G});b.d(a,"o",function(){return H});b.d(a,"l",function(){return J});b.d(a,"k",function(){return M});b.d(a,"m",function(){return K});b.d(a,"c",function(){return L});b.d(a,"d",function(){return U});b.d(a,"r",function(){return ba});b.d(a,"s",function(){return V});
b.d(a,"t",function(){return aa});b.d(a,"g",function(){return ha});b.d(a,"p",function(){return ia});b.d(a,"q",function(){return ka});b.d(a,"v",function(){return m});b.d(a,"a",function(){return p});b.d(a,"i",function(){return q});b.d(a,"b",function(){return qa});var y=b(0),B=b(28),z=function(Y){return function(Q,fa){return Y({url:Q,content:fa.query},{usePost:"post"===fa.method}).then(function(S){return{data:S}})}},D=function(Y,Q,fa){return m(Y,Q.restUrl+"/portals/self",{culture:fa,"default":!0})},F=
function(Y,Q,fa){return m(Y,Q.restUrl+"/content/items/"+fa+"/data")},x=function(Y,Q,fa,S){return m(Y,Q.restUrl+"/community/groups",Object(y.a)({q:fa},S))},E=function(Y,Q,fa){return m(Y,Q.restUrl+"/community/groups/"+fa+"/categorySchema")},G=function(Y,Q,fa){return m(Y,Q.restUrl+"/portals/"+(fa||Q.id)+"/categorySchema")},H=function(Y,Q){return m(Y,Q.restUrl+"/portals/"+Q.id+"/servers")},J=function(Y,Q,fa,S){return Y(Q.restUrl+"/portals/"+(fa||Q.id)+"/collaborationsSummary",S)},M=function(Y,Q,fa,S){return Y(Q.restUrl+
"/portals/"+(fa||Q.id)+"/collaboratedItems",S)},K=function(Y,Q,fa){return m(Y,location.protocol+"//"+Q.portalHostname+"/sharing/rest/portals/"+(fa||"self"))},L=function(Y,Q,fa){return Y(Q.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+Q.id+" AND access:public",num:100,start:fa||1,sortField:"title",sortOrder:"asc"}}).then(function(S){return S.data.total>S.data.start+S.data.num?L(Y,Q,S.data.start+S.data.num).then(function(O){return Object(y.a)(Object(y.a)({},O),{data:Object(y.a)(Object(y.a)({},
O.data),{results:S.data.results.concat(O.data.results)})})}):S})},U=function(Y,Q,fa,S){return Y(Q.restUrl+"/community/users/"+fa+"/provisionedListings",{query:{f:"json",num:100,start:S||1}}).then(function(O){var I=B.Promise.all(O.data.provisionedListings.filter(function(W){return W.itemId}).map(function(W){return(new B.Promise(function(ca,T){Y(Q.restUrl+"/content/items/"+W.itemId,{method:"get",query:{f:"json"}}).then(function(P){ca(P.data)},T)}))["catch"](function(ca){return 0})})),Z=O.data.provisionedListings.map(function(W){return m(Y,
Q.restUrl+"/content/items/"+(W.id||W.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ca){return ca},function(ca){})});return O.data.total>O.data.start+O.data.num?U(Y,Q,fa,O.data.start+O.data.num).then(function(W){return B.Promise.all([I].concat(Z)).then(function(ca){return ca[0].results.concat(c(ca.slice(1))).concat(W)})}):B.Promise.all([I].concat(Z)).then(function(W){return W[0].filter(function(ca){return void 0!==ca}).concat(c(W.slice(1)))})})},
ba=function(Y,Q,fa){return m(Y,Q.restUrl+"/community/users/"+(fa||Q.user.username))},V=function(Y,Q,fa){return m(Y,Q.restUrl+"/content/users/"+(fa||Q.user.username),{num:1})},aa=function(Y,Q,fa){return m(Y,Q.restUrl+"/content/groups/"+fa)},ha=function(Y,Q,fa){return m(Y,Q.restUrl+"/community/groups",fa)},ia=function(Y,Q){return m(Y,Q.restUrl+"/portals/self/settings")},ka=function(Y,Q){return m(Y,Q.restUrl+"/portals/self/trustedOrgs",{num:100})},qa=function(Y,Q){return void 0===Q&&(Q=","),Y.map(function(fa){return fa.id}).join(Q)}},
307:function(e,a,b){var c=b(0);e=b(16);var m=b(90);b=function(p){function q(){return null!==p&&p.apply(this,arguments)||this}return Object(c.d)(q,p),q.prototype.render=function(y){return y("div",{"class":"ib-ex-results__item-list"},y("div",{"class":"ib-ex-results__no-items-container"},y("div",{"class":"ib-ex-results__no-items-centered"},y("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},y("path",{fill:"#ccc",d:m.f})),y("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},q}(e.Component);
a.a=b},372:function(e,a){e.exports=w},373:function(e,a){e.exports=v},374:function(e,a){e.exports=C},375:function(e,a,b){b.d(a,"a",function(){return y});var c=b(0),m=b(69);e=b(254);var p=b.n(e);e=b(16);var q=b(90),y=function(B){function z(D){var F=B.call(this,D)||this;return F.state.searchTerm=F.props.currentSearchString||"",F.debouncedInput=p()(function(){F.props.changeSearchString.apply(F,[F.state.searchTerm])},400),F.handleInputChange=F.handleInputChange.bind(F),F.handleClear=F.handleClear.bind(F),
F}return Object(c.d)(z,B),z.prototype.componentWillReceiveProps=function(D){D.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:D.currentSearchString})},z.prototype.render=function(D){var F=this.props,x=F.title,E=F.placeholder;F=F.controls;var G=this.state.searchTerm||"";return D("div",{"class":"ac-search-area"},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},D("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),D("input",{"class":"ac-search-area__input",key:"search-input",title:x,"aria-label":x,type:"search",oninput:this.handleInputChange,value:G,placeholder:E,"aria-controls":F}),G&&D("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":m.clearSearch},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},D("path",{d:q.k,fill:"currentColor"}))))},z.prototype.handleInputChange=function(D){this.setState({searchTerm:D.target.value});
this.debouncedInput()},z.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},z}(e.Component)},376:function(e,a){e.exports=A},38:function(e,a,b){b.d(a,"b",function(){return c});b.d(a,"d",function(){return p});b.d(a,"c",function(){return q});b.d(a,"a",function(){return y});b.d(a,"f",function(){return D});var c,m,p,q,y,B=b(0),z=b(25);!function(F){F.openData="openData";F.updateGroups="updateGroups";F.distributed="distributed";F.administrative="administrative";
F.orgSettings="orgSettings"}(c||(c={}));(m||(m={})).owner="owner";(function(F){F.itemOwner="itemOwner";F.inOrg="inOrg";F.outsideOrg="outsideOrg"})(p||(p={}));(function(F){F.myOrg="org";F.partnered="collaboration";F.anyOrg="anyOrg"})(q||(q={}));(function(F){F.USER="USER";F.OWNER="OWNER";F.DESIGNATION="DESIGNATION";F.DATE_CREATED="DATE_CREATED";F.MEMBERSHIP="MEMBERSHIP"})(y||(y={}));var D={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};a.e=function(F,x){switch(void 0===F&&(F=D),
x.type){case z.a.CLEAR_FILTERS:switch(x.payload){case y.DESIGNATION:return Object(B.a)(Object(B.a)({},F),{designationFilter:void 0});case y.DATE_CREATED:return Object(B.a)(Object(B.a)({},F),{dateCreatedFilter:void 0});case y.OWNER:return Object(B.a)(Object(B.a)({},F),{ownerFilter:void 0});case y.USER:return F;case y.MEMBERSHIP:return Object(B.a)(Object(B.a)({},F),{membershipFilter:void 0});default:return Object(B.a)(Object(B.a)({},F),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,
ownerFilter:void 0})}case z.a.UPDATE_OWNER_FILTER:return Object(B.a)(Object(B.a)({},F),{ownerFilter:x.payload===F.ownerFilter?void 0:x.payload});case z.a.UPDATE_USERNAME_FILTER:return Object(B.a)(Object(B.a)({},F),{currentUsername:x.payload});case z.a.UPDATE_CREATED_ON_FILTER:return Object(B.a)(Object(B.a)({},F),{dateCreatedFilter:x.payload.created});case z.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(B.a)(Object(B.a)({},F),{designationFilter:x.payload===F.designationFilter?void 0:x.payload});
case z.a.UPDATE_MEMBERSHIP_FILTER:return Object(B.a)(Object(B.a)({},F),{membershipFilter:x.payload===F.membershipFilter?void 0:x.payload});case z.a.SET_USERS:return Object(B.a)(Object(B.a)({},F),{allUsers:x.payload.reduce(function(E,G){var H;return Object(B.a)(Object(B.a)({},E),((H={})[G.username]=G,H))},{})});case z.a.SET_SEARCH_STRING:return Object(B.a)(Object(B.a)({},F),{searchString:x.payload});default:return F}}},416:function(e,a,b){var c,m=b(0);e=b(16);var p=b(54),q=b(535),y=b(38),B=b(532),
z=b(534),D=b(533),F=b(536),x=b(26);b=function(G){function H(){return null!==G&&G.apply(this,arguments)||this}return Object(m.d)(H,G),H.prototype.render=function(J){return this.props.availableFilters.map(function(M){return J(E[M],{key:"gb-filter-"+M})})},H}(e.Component);var E=((c={})[y.a.DATE_CREATED]=B.a,c[y.a.OWNER]=D.a,c[y.a.DESIGNATION]=z.a,c[y.a.USER]=q.a,c[y.a.MEMBERSHIP]=F.a,c);a.a=Object(e.connect)(function(G){var H=Object(p.b)(G)?G:G.gbState,J=H.utils;G=J.portalUser.username;var M=J.portal,
K=H.config,L=K.shareMode;J=K.enableUserToggle;H=H.parameters.filter.currentUsername;if(K.withinAppConfig)return{availableFilters:[y.a.OWNER]};if(K.userType===x.e.PUBLIC)switch(L){case x.d.DEFAULT:return{availableFilters:[y.a.OWNER,y.a.DATE_CREATED]};case x.d.GROUP:return{availableFilters:[y.a.DATE_CREATED]}}switch(L){case x.d.DEFAULT:return{availableFilters:Object(m.g)(Object(m.g)([y.a.OWNER],M.isPortal?[]:[y.a.MEMBERSHIP]),[y.a.DESIGNATION,y.a.DATE_CREATED])};case x.d.GROUP:return{availableFilters:[y.a.DESIGNATION,
y.a.DATE_CREATED]};case x.d.ADMIN:return G=J&&G===H?[]:[y.a.OWNER],{availableFilters:Object(m.g)(Object(m.g)(Object(m.g)([],J?[y.a.USER]:[]),G),[y.a.DESIGNATION,y.a.DATE_CREATED])};default:return{availableFilters:[]}}},function(G){return{}})(b)},449:function(e,a){e.exports=r},5:function(e,a,b){function c(F){return 0===Object.keys(F).length&&F.constructor===Object}function m(F){return null!=F}function p(F,x){return z.apply(null,arguments)}function q(F,x){return D.apply(null,arguments)}b.d(a,"b",function(){return c});
b.d(a,"a",function(){return m});b.d(a,"e",function(){return B});b.d(a,"c",function(){return p});b.d(a,"d",function(){return q});var y=b(0);e=b(15);var B=Object(e.a)(function(F,x){var E=Object(y.a)({},x);return delete E[F],E}),z=Object(e.a)(function(F,x){return Object.keys(x).reduce(function(E,G){return E[G]=F(x[G],G,x),E},{})}),D=Object(e.a)(function(F,x){return Object.keys(x).reduce(function(E,G){return F(x[G],G,x)&&(E[G]=x[G]),E},{})})},51:function(e,a,b){function c(V){return!(!V.urlKey||!V.customBaseUrl)}
function m(V){return V.role===G.admin||V.role===G.accountAdmin}function p(V){return Object(M.a)(V.roleId)&&0<(V.roleId||"").length}function q(V){return!p(V)||p(V)&&-1<(V.privileges||[]).indexOf("portal:admin:viewItems")}function y(V){return-1<(V.privileges||[]).indexOf("portal:user:shareToOrg")}function B(V){return-1<(V.privileges||[]).indexOf("portal:user:shareToGroup")}function z(V){return-1<(V.privileges||[]).indexOf("portal:user:shareToPublic")}function D(V,aa){return F(V)||x(V)||aa.canSharePublic&&
E(V)}function F(V){return-1<(V.privileges||[]).indexOf("portal:admin:shareToGroup")}function x(V){return-1<(V.privileges||[]).indexOf("portal:admin:shareToOrg")}function E(V){return-1<(V.privileges||[]).indexOf("portal:admin:shareToPublic")}b.d(a,"l",function(){return L});b.d(a,"h",function(){return U});b.d(a,"m",function(){return ba});b.d(a,"k",function(){return c});b.d(a,"i",function(){return m});b.d(a,"j",function(){return p});b.d(a,"g",function(){return q});b.d(a,"b",function(){return y});b.d(a,
"a",function(){return B});b.d(a,"c",function(){return z});b.d(a,"d",function(){return F});b.d(a,"e",function(){return x});b.d(a,"f",function(){return E});var G,H=b(63),J=b(148),M=b(5),K=b(58);!function(V){V.user="org_user";V.accountUser="account_user";V.publisher="org_publisher";V.accountPublisher="account_publisher";V.admin="org_admin";V.accountAdmin="account_admin";V.viewer="iAAAAAAAAAAAAAAA";V.dataEditor="iBBBBBBBBBBBBBBB"}(G||(G={}));var L=function(V){var aa=V.items;return!!V.user.orgId&&aa.every(function(ha){return ha.isOrgItem})},
U=function(V){var aa=V.items,ha=V.user,ia=V.portal;V=aa[0];var ka=Object(K.c)(V,ha),qa=p(ha),Y=D(ha,ia);if(qa=Object(K.a)(V,ha)&&-1<(ha.privileges||[]).indexOf("portal:admin:updateItems")&&!qa)qa=!c(ia)||B(ha)||y(ha)||ia.canSharePublic&&z(ha)||D(ha,ia);ia=qa;return!(V.portal.isPortal&&V.owner!==ha.username&&-1<V.owner.indexOf("esri_"))&&(ka||ia||L({items:aa,user:ha})&&Y)},ba=function(V,aa){return Object(H.a)(Object(J.a)(V))(aa)}},530:function(e,a,b){var c=b(0),m=b(69),p=b(284);e=b(16);var q=b(186),
y=b(802),B=b(803),z=b(1019),D=b(54),F=b(374),x=b.n(F),E=b(25);F=b(285);var G=b.n(F),H=b(375);b=function(J){function M(K){K=J.call(this,K)||this;return K.handleInputChange=K.handleInputChange.bind(K),K.handleSortFieldChange=K.handleSortFieldChange.bind(K),K.handleSortOrderChange=K.handleSortOrderChange.bind(K),K.handleSortClick=K.handleSortClick.bind(K),K}return Object(c.d)(M,J),M.prototype.render=function(K){var L=p.substitute(this.props.userFileringEnabled?m.searchGroupsForUser:m.searchGroups,{user:this.props.currentUser});
return K("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},K(H.a,{key:"groupbrowser-search-area-input",title:L,placeholder:L,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&K("div",{"class":"gb-search-area__btn-section"},K(x.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,
availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&K(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},K("div",{"class":"drp-sort__btn-body"},K("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},K("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),
K("span",{"class":"drp-sort__btn-label"},m.filter))))},M.prototype.handleInputChange=function(K){this.props.changeSearchString(K);this.props.updateDisplayGroups()},M.prototype.handleSortFieldChange=function(K){this.props.changeSortField(K);this.props.updateDisplayGroups()},M.prototype.handleSortOrderChange=function(K){this.props.changeSortOrder(K);this.props.updateDisplayGroups()},M.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},M}(e.Component);a.a=Object(e.connect)(function(J){var M=
Object(D.b)(J)?J:J.gbState,K=M.ui,L=M.parameters;M=M.config;return{currentSearchString:L.filter.searchString,sortActive:K.sort,sortField:L.sort.field,sortOrder:L.sort.order,filteringEnabled:M.enableFiltering,filtersOpen:K.filter.expanded,isWithinShare:!Object(D.b)(J),userFileringEnabled:M.enableUserToggle,currentUser:L.filter.currentUsername}},function(J){return{changeSearchString:function(M){return J(Object(q.b)(M))},changeSortField:function(M){return J(Object(y.a)(M))},changeSortOrder:function(M){return J(Object(y.b)(M))},
updateDisplayGroups:function(){J(Object(B.a)(1))},toggleSortDropdown:function(){return J(Object(z.a)())},toggleFilterSidebar:function(){J({type:E.a.TOGGLE_EXPANDED_FILTERS})}}})(b)},531:function(e,a,b){var c=b(0),m=b(69);e=b(16);var p=b(54),q=b(416);b=function(y){function B(){return null!==y&&y.apply(this,arguments)||this}return Object(c.d)(B,y),B.prototype.render=function(z){var D=this.props.filterOpen;return z("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,
"ib__big-filters--visible":D,"ib__big-filters--hidden":!D}},z("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!D}},z("h3",{"class":"ib__big-filter-label"},m.filters),z(q.a,{key:"group-browser-filters"})))},B}(e.Component);a.a=Object(e.connect)(function(y){return{filterOpen:(Object(p.b)(y)?y:y.gbState).ui.filter.expanded}},function(y){return{}})(b)},532:function(e,a,b){e=b(16);var c=b(376);c=b.n(c);var m=b(54),p=b(186),q=b(159);a.a=Object(e.connect)(function(y){y=
Object(m.b)(y)?y:y.gbState;return{dateCreatedFilter:y.parameters.filter.dateCreatedFilter,dateCreatedSection:y.ui.filter.dateCreatedSelectedSection}},function(y){return{onDateCreatedSelect:function(B,z){y(Object(p.d)({section:B,created:z}));y(q.b)}}})(c.a)},533:function(e,a,b){var c=b(0),m=b(69);e=b(16);var p=b(54),q=b(186),y=b(159),B=b(38),z=b(255),D=b.n(z);z=b(216);var F=b.n(z),x=b(26);b=function(E){function G(){return null!==E&&E.apply(this,arguments)||this}return Object(c.d)(G,E),G.prototype.render=
function(H){var J=this.props,M=J.currentFilter,K=J.handleOwnerClick,L=J.username,U=J.userType,ba=J.portal,V=J.hasIndoorsSpaces;return H(D.a,{key:"group-owner-filter-accordion",title:m.owner,clearable:!!M,onClear:function(){K(M)},startActive:!0},H("ul",{"class":"ib-filter-pane__list"},Object.keys(B.d).map(function(aa){if(!(aa===B.d.inOrg&&U===x.e.PUBLIC||aa===B.d.outsideOrg&&(ba.isPortal||V))){var ha=m.ownerTitles[aa];aa===B.d.itemOwner?ha=L:aa===B.d.outsideOrg&&U===x.e.PUBLIC&&(ha=m.ownerTitles.someOneElse);
var ia=B.d[aa];return H(F.a,{key:ia,name:ha,value:ia,selectedToggle:M,onToggleClick:function(){K(ia)}})}})))},G}(e.Component);a.a=Object(e.connect)(function(E){var G=Object(p.b)(E)?E:E.gbState;E=G.utils;var H=E.portalUser.username,J=G.parameters.filter,M=J.currentUsername;G=G.config;return{currentFilter:J.ownerFilter,portal:E.portal,username:G.shareMode===x.d.ADMIN?M:H,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(E){return{handleOwnerClick:function(G){E(Object(q.g)(G));E(y.b)}}})(b)},
534:function(e,a,b){var c=b(0),m=b(69);e=b(16);var p=b(54),q=b(186),y=b(159),B=b(38),z=b(255),D=b.n(z);z=b(216);var F=b.n(z),x=b(26);b=function(E){function G(){return null!==E&&E.apply(this,arguments)||this}return Object(c.d)(G,E),G.prototype.render=function(H){var J=this.props,M=J.currentFilter,K=J.handleDesignationClick,L=J.showSharedUpdate,U=J.portal,ba=J.hasIndoorsSpaces;return H(D.a,{key:"group-designation-filter-accordion",title:m.designation,clearable:!!M,onClear:function(){K(M)}},H("ul",{"class":"ib-filter-pane__list"},
Object.keys(B.b).filter(function(V){return!(V===B.b.updateGroups&&!L)&&(V!==B.b.openData||!U.isPortal)&&(V!==B.b.distributed||!ba)}).map(function(V){var aa=B.b[V];return H(F.a,{key:aa,name:m.designationFilterTitles[V],value:aa,selectedToggle:M,onToggleClick:function(){K(aa)},infoTooltip:"orgSettings"===aa?m.orgSettingsTooltip:void 0})})))},G}(e.Component);a.a=Object(e.connect)(function(E){var G=Object(p.b)(E)?E:E.gbState;E=G.utils;var H=E.portalUser.username,J=G.config,M=J.shareMode;G=G.parameters.filter;
var K=G.currentUsername;return{currentFilter:G.designationFilter,portal:E.portal,hasIndoorsSpaces:J.hasIndoorsSpaces,showSharedUpdate:(!J.enableUserToggle||H!==K)&&M!==x.d.GROUP}},function(E){return{handleDesignationClick:function(G){E(Object(q.e)(G));E(y.b)}}})(b)},535:function(e,a,b){var c=b(0),m=b(69);e=b(16);var p=b(54),q=b(186),y=b(159),B=b(255),z=b.n(B);B=b(216);var D=b.n(B);b=function(F){function x(){return null!==F&&F.apply(this,arguments)||this}return Object(c.d)(x,F),x.prototype.render=
function(E){var G=this.props,H=G.currentUsername,J=G.portalUsername,M=G.handleUserClick;return E(z.a,{key:"user-toggle-filter-accordion",title:m.viewGroupsFor,clearable:!1,startActive:!0},E("ul",{"class":"ib-filter-pane__list"},G.allUsernames.map(function(K){var L=K===H;return E(D.a,{key:K,name:J===K?K+" "+m.me:K,value:K,selectedToggle:H,onToggleClick:function(){L||M(K)}})})))},x}(e.Component);a.a=Object(e.connect)(function(F){F=Object(p.b)(F)?F:F.gbState;var x=F.parameters.filter,E=F.utils.portal.portalUser.username;
return{currentUsername:x.currentUsername,portalUsername:E,allUsernames:Object.keys(x.allUsers).sort(function(G){return G===E?1:-1})}},function(F){return{handleUserClick:function(x){F(Object(q.a)());F(Object(q.h)(x));F(y.b)}}})(b)},536:function(e,a,b){var c=b(0),m=b(69);e=b(16);var p=b(54),q=b(186),y=b(159),B=b(255),z=b.n(B);B=b(216);var D=b.n(B),F=b(38);b=function(x){function E(){return null!==x&&x.apply(this,arguments)||this}return Object(c.d)(E,x),E.prototype.render=function(G){var H=this.props,
J=H.currentFilter,M=H.hasTrustedOrgs,K=H.handleMembershipClick;if(!H.hasIndoorsSpaces)return G(z.a,{key:"group-membership-filter-accordion",title:m.membership,clearable:!!J,onClear:function(){K(J)},flex:!0},G("ul",{"class":"ib-filter-pane__list"},Object.keys(F.c).filter(function(L){return M||"partnered"!==L}).map(function(L){var U=F.c[L];return G(D.a,{key:U,name:m.membershipFilterTitles[L],value:U,selectedToggle:J,onToggleClick:function(){K(U)}})})))},E}(e.Component);a.a=Object(e.connect)(function(x){x=
Object(p.b)(x)?x:x.gbState;var E=x.config;return{currentFilter:x.parameters.filter.membershipFilter,hasTrustedOrgs:E.hasTrustedOrgs,hasIndoorsSpaces:E.hasIndoorsSpaces}},function(x){return{handleMembershipClick:function(E){x(Object(q.f)(E));x(y.b)}}})(b)},537:function(e,a,b){var c=b(0);e=b(16);var m=b(205),p=b.n(m),q=b(542),y=b(538),B=b(144),z=b(54),D=b(137);b=function(F){function x(){var E=null!==F&&F.apply(this,arguments)||this;return E.handleGroupCheck=function(G){if(E.props.enableSingleSelection){var H=
Object.keys(E.props.selectedGroups).map(function(J){return E.props.selectedGroups[J].group});E.props.deselectGroups(H)}E.props.selectGroups([G])},E.handleGroupUncheck=function(G){E.props.deselectGroups([G])},E.handleGroupRevert=function(G){E.props.revertGroups([G])},E}return Object(c.d)(x,F),x.prototype.render=function(E){var G=this.props,H=G.selectorItems,J=G.displayGroups,M=G.selectedGroups,K=G.sortField,L=G.initialSelectedGroups,U=G.portal,ba=G.shouldDisable,V=G.disabledText,aa=G.noFilters;G=G.status===
D.a.LOADING;var ha={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return E("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?E(p.a,{key:"group-browser-loader-bars"}):null,E("section",{classes:ha,key:"group-browser-section-totals"},E(y.a,{key:"group-browser-totals"})),E("section",{classes:ha,key:"group-browser-section-groups"},E(q.a,{key:"groups-area",selectorItems:H,displayGroups:J,selectedGroups:M,sortField:K,
handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:L,portal:U,noFilters:aa,shouldDisable:ba,disabledText:V})))},x}(e.Component);a.a=Object(e.connect)(function(F){F=Object(z.b)(F)?F:F.gbState;var x=F.groups,E=F.config,G=F.parameters,H=G.filter,J=H.ownerFilter,M=H.designationFilter,K=H.dateCreatedFilter;return{status:x.status,displayGroups:x.displayGroups,selectedGroups:x.selectedGroups,sortField:G.sort.field,
noFilters:!(H.searchString||M||K||J),portal:F.utils.portal,selectorItems:x.selectorItems,initialSelectedGroups:x.initialSelectedGroups,shouldDisable:E.shouldDisable,disabledText:E.disabledText,enableSingleSelection:E.enableSingleSelection}},function(F){return{selectGroups:function(x){return F(Object(B.d)(x))},deselectGroups:function(x){return F(Object(B.b)(x))},revertGroups:function(x){return F(Object(B.c)(x))}}})(b)},538:function(e,a,b){var c=b(0),m=b(69),p=b(150);e=b(16);var q=b(144),y=b(539),B=
b(54),z=b(137),D=b(541);b=function(F){function x(){var E=null!==F&&F.apply(this,arguments)||this;return E.handleSelectAll=function(){E.props.selectGroups(E.props.displayGroups)},E.handleDeselectAll=function(){E.props.deselectGroups(E.props.displayGroups)},E.handleClearSelection=function(){E.props.clearAll()},E}return Object(c.d)(x,F),x.prototype.render=function(E){var G=this,H=this.props,J=H.displayGroups,M=H.selectedGroups,K=H.selectorItems,L=H.portal,U=H.isWithinShare,ba=H.enableSingleSelection;
H=function(ha){var ia=ha.fullySelectedGroups,ka=ha.displayGroups.map(function(qa){return qa.id});return ia.filter(function(qa){return 0<=ka.indexOf(qa.id)})}({fullySelectedGroups:H.fullySelectedGroups,displayGroups:J});J=J.length===H.length;H=Object.keys(M).map(function(ha){return M[ha]});var V="en"===p.locale.slice(0,2),aa=(V?m.pageRange.en:m.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);V=(V?m.total.en:m.total.other).replace("${total}",
this.props.totalItems);return E("div",{"class":"gb-total-area__wrap",key:"gb-total-area__wrap"},E("div",{"class":"gb-total-area__container",key:"gb-total-area-checked"},0<H.length&&E(y.a,{key:"selected-groups-dropdown",groups:H,items:K,handleGroupClick:function(ha){G.props.deselectGroups([ha])},portal:L}),0<H.length&&E("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn","class":"gb-total-area__btn-link",onclick:this.handleClearSelection},m.clearSelection),0===H.length&&E("span",{"class":"gb-total-area__description"},
aa,E("span",{"class":"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},V)),U||ba?null:J?E("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleDeselectAll},m.deselectAllOnPage):E("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleSelectAll},m.selectAllOnPage)),E(D.a,{key:"gb-filter-chips"}))},x}(e.Component);a.a=Object(e.connect)(function(F){var x=
Object(B.b)(F)?F:F.gbState,E=x.groups,G=E.total,H=E.selectedGroups,J=E.selectorItems,M=x.config,K=M.groupsPerPage;M=M.enableSingleSelection;var L=x.utils.portal,U=x.ui.page.currentPageNumber,ba=0===G?0:K*(U-1)+1;K=G<K*U?G:K*U;return{displayGroups:E.displayGroups,fullySelectedGroups:Object(z.d)(x.groups),selectedGroups:H,selectorItems:J,startNum:ba,endNum:K,totalItems:G,portal:L,isWithinShare:!Object(B.b)(F),enableSingleSelection:M}},function(F){return{selectGroups:function(x){return F(Object(q.d)(x))},
deselectGroups:function(x){return F(Object(q.b)(x))},clearAll:function(){return F(Object(q.a)())}}})(b)},539:function(e,a,b){var c=b(0),m=b(69),p=b(150);e=b(16);var q=b(90),y=b(540),B={open:!1};b=function(z){function D(){var F=null!==z&&z.apply(this,arguments)||this;return F.state=B,F.handleClick=function(x){x=x.target;F.dropdown&&F.dropdown.contains(x)||((x=F.toggleButton&&F.toggleButton.contains(x))?F.setState({open:!F.state.open}):F.state.open&&!x&&F.setState({open:!1}))},F}return Object(c.d)(D,
z),D.prototype.render=function(F){var x=this,E=this.props,G=E.groups,H=E.handleGroupClick,J=E.items,M=E.portal;E=1<G.length?m.groupsSelected.enPlural:m.groupsSelected.en;"en"!==p.locale.slice(0,2)&&(E=m.groupsSelected.other);E=E.replace("${num}",G.length);var K=J.some(function(L){return!!L.username});return F("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",x.handleClick)},afterRemoved:function(){document.removeEventListener("click",
x.handleClick);x.setState(B)}},F("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(L){x.toggleButton=L},afterRemoved:function(){x.toggleButton=void 0}},F("span",{"class":"selected-dropdown__toggle-button__text"},E),F("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},F("path",{d:q.a}))),this.state.open&&F("div",{"class":"selected-dropdown__list__container",
key:"selected-dropdown__list__container",afterCreate:function(L){x.dropdown=L},afterRemoved:function(){x.dropdown=void 0}},F("h3",{"class":"selected-dropdown__list__title"},m.selectedGroups),F("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},G.map(function(L){return F(y.a,{selectedGroupData:L,itemTotal:J.length,handleCloseClick:H,key:L.group.id,portal:M,isMemberSelector:K})}))))},D}(e.Component);a.a=b},54:function(e,a,b){b.d(a,"b",function(){return q});
b.d(a,"a",function(){return y});b.d(a,"c",function(){return B});e=b(16);a=b(215);var c=b(208),m=b(137),p=b(210);b=b(207);var q=function(z){return!z.gbState},y={config:b.b,parameters:c.b,groups:m.f,ui:p.b,utils:a.b},B=Object(e.combineReducers)({config:b.a,parameters:c.a,groups:m.b,ui:p.a,utils:a.a})},540:function(e,a,b){var c=b(0),m=b(69),p=b(150);e=b(16);var q=b(249),y=b(90);b=function(B){function z(){return null!==B&&B.apply(this,arguments)||this}return Object(c.d)(z,B),z.prototype.render=function(D){var F=
this.props,x=F.selectedGroupData,E=F.handleCloseClick,G=F.itemTotal,H=F.portal,J=x.group;x=x.selectedByIds&&x.selectedByIds.length;F=F.isMemberSelector?m.membersSelected:m.itemsSelected;F="en"===p.locale.slice(0,2)?F.en.replace("${num}",x).replace("${total}",G):F.other.replace("${num}",x).replace("${total}",G);var M=m.deselectGroup.replace("${name}",J.title);return D("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:J.id},D(q.a,{group:J,stacked:!0,portal:H}),D("span",{"class":"selected-dropdown__list-item__description"},
J.title,x!==G&&D("span",{"class":"selected-dropdown__list-item__count"},F)),D("button",{"class":"selected-dropdown__list-item__button",onclick:function(){E(J)},"aria-label":M},D("svg",null,D("path",{d:y.j}))))},z}(e.Component);a.a=b},541:function(e,a,b){var c=b(0),m=b(69),p=b(284);e=b(16);var q=b(54),y=b(38),B=b(449),z=b.n(B),D=b(186),F=b(159),x=b(26);b=function(G){function H(){var J=null!==G&&G.apply(this,arguments)||this;return J.state={filterOpen:!1},J}return Object(c.d)(H,G),H.prototype.render=
function(J){var M=this,K=this.props,L=K.activeFilters,U=K.handleClearAllFilters,ba=K.handleClearFilter,V=this.state.filterOpen;if(0!==L.length)return J("div",{"class":"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},J("div",{"class":"filter-controller__container",key:"filter-controller__container"},J("span",{"class":"filter-controller__label"},m.filters,":"),J("div",{"class":"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},V?L.map(function(aa){return J(z.a,
{filterId:aa.type,handleRemoveFilter:function(ha){ba(aa.type)},key:aa.type,text:aa.text})}):J(z.a,{filterId:L[0].type,handleRemoveFilter:function(aa){ba(L[0].type)},key:L[0].type,text:L[0].text}),1<L.length&&J("button",{onclick:function(){return M.setState({filterOpen:!V})},key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":V}},(V?"- ":"+ ")+(L.length-1)),J("button",{"class":"filter-controller__clear-btn",onclick:U},m.clearAll))))},
H}(e.Component);a.a=Object(e.connect)(function(G){G=Object(q.b)(G)?G:G.gbState;return{activeFilters:E({filterState:G.parameters.filter,username:G.utils.portalUser.username,isPublic:G.config.userType===x.e.PUBLIC})}},function(G){return{handleClearAllFilters:function(){G(Object(D.a)());G(F.b)},handleClearFilter:function(H){G(Object(D.a)(H));G(F.b)}}})(b);var E=function(G){var H=G.filterState,J=H.designationFilter,M=H.ownerFilter,K=H.dateCreatedFilter,L=H.membershipFilter;H=G.username;G=G.isPublic;var U=
[];J&&U.push({text:p.substitute(m.filterChips.designation,{designation:m.designationFilterTitles[J]}),type:y.a.DESIGNATION});M&&(J=M===y.d.itemOwner&&H||m.ownerTitles[M],M===y.d.outsideOrg&&G&&(J=m.ownerTitles.someOneElse),U.push({text:p.substitute(m.filterChips.owner,{owner:J}),type:y.a.OWNER}));if(K&&U.push({text:p.substitute(m.filterChips.created,{created:K.label}),type:y.a.DATE_CREATED}),L){var ba="";Object.keys(y.c).some(function(V){return y.c[V]===L&&(ba=V),ba});U.push({text:p.substitute(m.filterChips.membership,
{membership:m.membershipFilterTitles[ba]}),type:y.a.MEMBERSHIP})}return U}},542:function(e,a,b){var c=b(69);e=b(543);var m=b.n(e);e=b(544);var p=b.n(e),q=b(307),y=b(137);a.a=function(B,z){var D=B.displayGroups,F=B.handleGroupCheck,x=B.handleGroupUncheck,E=B.selectedGroups,G=B.sortField,H=B.portal,J=B.selectorItems,M=B.initialSelectedGroups,K=B.handleGroupRevert,L=B.shouldDisable,U=B.noFilters,ba=B.disabledText;return 0===D.length?z(q.a,{key:"no-group-results",text:U?c.noGroupsAvailable:c.noGroupsFound}):
D.map(function(V){var aa=E[V.id],ha=aa&&Object(y.e)(aa,J);if(0===J.length)return z(m.a,{checked:ha,group:V,key:V.id,sortField:G,onCheckGroup:F,onUncheckGroup:x,portal:H,shouldDisable:L,disabledText:ba});var ia=M[V.id],ka=!!(aa&&!ha&&aa.selectedByIds&&0<aa.selectedByIds.length);ia=ia&&ia.selectedByIds||[];var qa=aa&&aa.selectedByIds||[];aa=J.filter(function(Y){return-1<qa.indexOf(Y.id)});return z(p.a,{group:V,checked:ha,indeterminate:ka,initialSelectedByIds:ia,selectedBy:aa,allSelectorItemIds:J.map(function(Y){return Y.id}),
key:V.id,sortField:G,onCheckGroup:F,onUncheckGroup:x,onRevertGroup:K,portal:H,shouldDisable:L,disabledText:"",selectors:J})})}},543:function(e,a){e.exports=l},544:function(e,a){e.exports=d},58:function(e,a,b){function c(z,D){return(null==z?void 0:z.owner)===D.username}function m(z,D){var F;if(!(F=c(z,D)))if(Object(q.a)(z.isAdmin))F=!!z.isAdmin;else{F=z.owner;var x="admin"===z.itemControl;F=!(z.portal.isPortal&&!c(z,D)&&x&&-1<F.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(F))&&
x}return F}function p(z,D){return m(z,D)||"update"===z.itemControl}b.d(a,"d",function(){return c});b.d(a,"c",function(){return m});b.d(a,"a",function(){return p});b.d(a,"b",function(){return B});var q=b(5),y=b(51),B=function(z){var D=z.user,F=z.items;z=z.portal;return Object(y.l)({items:F,user:D})&&Object(y.h)({items:F,user:D,portal:z})&&Object(y.g)(D)&&F[0].itemOwner||D}},61:function(e,a,b){function c(U){var ba=U.groupIds,V=U.shareLevelOptions,aa=U.restUrl,ha=U.request,ia=U.unshare;return B.Promise.all(U.items.map(function(ka,
qa){return new B.Promise(function(Y,Q){ha(aa+"/content/items/"+(ka.itemId||ka.id)+"/"+(ia?"unshare":"share"),{method:"post",query:Object(q.a)({f:"json",groups:ba,confirmItemControl:!0},V||{})}).then(Y,Q)})}))["catch"](function(ka){throw ka;})}function m(U,ba){return new B.Promise(function(V,aa){var ha,ia=null===(ha=U.helpMap)||void 0===ha?void 0:ha.m;ia?V(ia):ba(U.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(ka){var qa;V(null===(qa=ka.data.helpMap)||void 0===qa?void 0:
qa.m)},aa)})}b.d(a,"h",function(){return D});b.d(a,"g",function(){return F});b.d(a,"b",function(){return x});b.d(a,"e",function(){return E});b.d(a,"d",function(){return G});b.d(a,"f",function(){return K});b.d(a,"c",function(){return L});b.d(a,"a",function(){return m});var p,q=b(0),y=b(30),B=b(28);e=b(26);var z=b(58),D=function(U){var ba=U.items,V=U.groups,aa=U.restUrl,ha=U.request,ia=U.portalUser;if(0===ba.length)return B.Promise.resolve();var ka=Object(y.b)(V);return ba.every(function(qa){return Object(z.d)(qa,
ia)})?new B.Promise(function(qa,Y){if(!V||0===V.length)return qa();var Q={f:"json",items:Object(y.b)(ba),groups:ka};ha(aa+"/content/users/"+ia.username+"/unshareItems",{method:"post",query:Q}).then(qa,Y)}):c({items:ba,groupIds:ka,restUrl:aa,request:ha,unshare:!0})},F=function(U){var ba=U.items,V=U.groups,aa=U.restUrl,ha=U.request,ia=U.portalUser,ka=U.selectedOptions;U=U.ignoreShareLevel;if(0===ba.length)return B.Promise.resolve();if(!U&&!ka)throw"Selected options must be provided unless share level is ignored.";
var qa=Object(y.b)(V),Y=U?{}:H(ka);return ba.every(function(Q){return Object(z.d)(Q,ia)})?new B.Promise(function(Q,fa){ha(aa+"/content/users/"+ia.username+"/shareItems",{method:"post",query:Object(q.a)({f:"json",items:Object(y.b)(ba),groups:qa,confirmItemControl:!0},Y)}).then(function(S){S=S.data;S.results.every(function(O){return O.success})?Q():fa(S)},fa)}):c({items:ba,groupIds:qa,shareLevelOptions:Y,restUrl:aa,request:ha})},x=function(U){return U.reduce(function(ba,V){return Object(q.g)(Object(q.g)([],
ba),V)},[])},E=function(U){return 1<Object.keys(U).filter(function(ba){return"total"!==ba&&0<U[ba]}).length},G=function(U){return Object.keys(U).filter(function(ba){return"total"!==ba}).reduce(function(ba,V){return U[V]===U.total?V:ba})},H=function(U){return E(U)?{}:J[G(U)]},J=((p={})[e.b["public"]]={org:!1,everyone:!0},p[e.b.org]={org:!0,everyone:!1},p[e.b["private"]]={org:!1,everyone:!1},p[e.b.shared]={org:!1,everyone:!1},p),M="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),
K=function(U){var ba,V,aa=U.typeKeywords,ha=U.type;ha=M.some(function(ka){return-1<aa.indexOf(ka)})&&"Real Time Analytic"!==ha&&"Big Data Analytic"!==ha;var ia=!(null===(ba=null==U?void 0:U.portal)||void 0===ba?0:ba.isPortal)&&"Image Service"===U.type&&-1<(null===(V=U.url)||void 0===V?void 0:V.indexOf("://iservices"))&&-1<U.url.indexOf("arcgis.com");U="Knowledge Graph"===U.type;return ha||ia||U},L=function(U,ba,V){return V&&ba["public"]===ba.total?U.filter(function(aa){return-1<aa.typeKeywords.indexOf("DeveloperBasemap")}):
[]}},63:function(e,a,b){function c(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];return function(q){return m.reduceRight(function(y,B){return B(y)},q)}}b.d(a,"a",function(){return c})},68:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.LOADING_GROUPS="LOADING_GROUPS";m.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";m.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";m.SELECT_GROUPS="SELECT_GROUPS";m.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";m.DESELECT_GROUPS="DESELECT_GROUPS";m.REVERT_GROUPS=
"REVERT_GROUPS";m.CLEAR_SELECTION="CLEAR_SELECTION";m.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";m.SET_HAS_GROUPS="SET_HAS_GROUPS"})(c||(c={}))},69:function(e,a){e.exports=N},802:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",function(){return p});var c=b(83),m=function(q){return{type:c.a.CHANGE_SORT_FIELD,payload:q}},p=function(q){return{type:c.a.CHANGE_SORT_ORDER,payload:q}}},803:function(e,a,b){b.d(a,"a",function(){return p});var c=b(159),m=b(204),p=function(q){return function(y,B){y({type:m.a.SET_PAGE,
payload:q});y(c.b)}}},83:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.SET_SEARCH_STRING="SET_SEARCH_STRING";m.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";m.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";m.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";m.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";m.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";m.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";m.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";m.SET_USERS="SET_USERS";
m.CLEAR_FILTERS="CLEAR_FILTERS"})(c||(c={}))},855:function(e,a,b){b.r(a);var c=b(0),m=b(69);e=b(16);var p=b(54);b.d(a,"reducers",function(){return p.c});b.d(a,"initialState",function(){return p.a});var q=b(144);b.d(a,"deselectGroups",function(){return q.b});b.d(a,"selectGroups",function(){return q.d});var y=b(159);b.d(a,"search",function(){return y.b});var B=b(803),z=b(372),D=b.n(z),F=b(530),x=b(531),E=b(537);z=b(373);var G=b.n(z),H=b(416),J=b(226);b=function(M){function K(){var L=null!==M&&M.apply(this,
arguments)||this;return L.handlePageChange=function(U){var ba;L.props.setPageAndUpdateGroups(U);(null===(ba=L.el)||void 0===ba?0:ba.parentElement)&&(L.el.parentElement.scrollTop=0)},L}return Object(c.d)(K,M),K.prototype.render=function(L){var U=this,ba=this.props,V=ba.currentTotal,aa=ba.groupsPerPage,ha=ba.currentPage,ia=ba.filtersOpen;ba=ba.toggleFilters;return L("div",{"class":"group-browser__container",afterCreate:function(ka){ka&&!U.el&&(U.el=ka)}},L(F.a,{key:"group-browser-search-area"}),L("div",
{"class":"ib__big-row"},L(x.a,{key:"group-browser-filter-sidebar"}),L(E.a,{key:"group-browser-results-panel"})),L(D.a,{key:"group-browse-pager",numPages:aa>V?1:Math.ceil(V/aa),currentPage:ha,onPageChange:this.handlePageChange}),L("div",{"class":"ib__big-overlay-filters"},L(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:ia,onClose:ba,title:m.filters},L(H.a,{key:"mobile-filters"}))))},K}(e.Component);a["default"]=Object(e.connect)(function(M){M=Object(p.b)(M)?M:M.gbState;var K=M.ui;return{currentPage:K.page.currentPageNumber,
groupsPerPage:M.config.groupsPerPage,currentTotal:M.groups.total,filtersOpen:K.filter.expanded}},function(M){return{setPageAndUpdateGroups:function(K){M(Object(B.a)(K))},toggleFilters:function(){M(Object(J.i)())}}})(b)},90:function(e,a,b){b.d(a,"a",function(){return c});b.d(a,"b",function(){return m});b.d(a,"c",function(){return p});b.d(a,"d",function(){return q});b.d(a,"e",function(){return y});b.d(a,"h",function(){return B});b.d(a,"i",function(){return z});b.d(a,"j",function(){return D});b.d(a,
"k",function(){return F});b.d(a,"g",function(){return x});b.d(a,"f",function(){return E});var c="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",m="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",p="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
q="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",y="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",B="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
z="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
D="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",F="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",x="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",E="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(e,a,b){function c(z,D){if(null==z?0:z.length)for(var F=void 0,x=0;x<z.length;x++)if(D(F=z[x]))return F}function m(z){return z.filter(function(D){return 0<D.length})}function p(z,D,F){var x=[];return D.forEach(function(E){(F?E[F].toLowerCase()===z.toLowerCase():E.toLowerCase()===z.toLowerCase())?x.unshift(E):x.push(E)}),x}b.d(a,"e",function(){return q});b.d(a,"f",function(){return y});b.d(a,"c",function(){return c});b.d(a,"b",function(){return m});b.d(a,"a",function(){return B});b.d(a,
"d",function(){return p});e=b(15);var q=function(z,D,F){return F.indexOf(z)===D},y=Object(e.a)(function(z,D){var F={};return D.filter(function(x){return!F[x[z]]&&(F[x[z]]=!0,!0)})}),B=function(z,D){return z.length===D.length&&z.reduce(function(F,x){return F&&-1<D.indexOf(x)},!0)}}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],
function(R,N,n,t,u){return function(h){function f(k){if(g[k])return g[k].exports;var w=g[k]={i:k,l:!1,exports:{}};return h[k].call(w.exports,w,w.exports,f),w.l=!0,w.exports}var g={};return f.m=h,f.c=g,f.d=function(k,w,v){f.o(k,w)||Object.defineProperty(k,w,{enumerable:!0,get:v})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,w){if((1&w&&(k=f(k)),8&w)||4&w&&
"object"==typeof k&&k&&k.__esModule)return k;var v=Object.create(null);if(f.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:k}),2&w&&"string"!=typeof k)for(var C in k)f.d(v,C,function(A){return k[A]}.bind(null,C));return v},f.n=function(k){var w=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(w,"a",w),w},f.o=function(k,w){return Object.prototype.hasOwnProperty.call(k,w)},f.p="",f(f.s=856)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=
e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function w(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&
(b[c[m]]=e[c[m]])}return b}function v(e,a,b,c){var m,p=arguments.length,q=3>p?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(e,a,b,c);else for(var y=e.length-1;0<=y;y--)(m=e[y])&&(q=(3>p?m(q):3<p?m(a,b,q):m(a,b))||q);return 3<p&&q&&Object.defineProperty(a,b,q),q}function C(e,a,b,c){return new (b||(b=Promise))(function(m,p){function q(z){try{B(c.next(z))}catch(D){p(D)}}function y(z){try{B(c["throw"](z))}catch(D){p(D)}}
function B(z){var D;z.done?m(z.value):(D=z.value,D instanceof b?D:new b(function(F){F(D)})).then(q,y)}B((c=c.apply(e,a||[])).next())})}function A(e,a){function b(B){return function(z){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;y;)try{if(c=1,m&&(p=2&D[0]?m["return"]:D[0]?m["throw"]||((p=m["return"])&&p.call(m),0):m.next)&&!(p=p.call(m,D[1])).done)return p;switch(m=0,p&&(D=[2&D[0],p.value]),D[0]){case 0:case 1:p=D;break;case 4:return y.label++,{value:D[1],done:!1};
case 5:y.label++;m=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(p=y.trys,(p=0<p.length&&p[p.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!p||D[1]>p[0]&&D[1]<p[3]))y.label=D[1];else if(6===D[0]&&y.label<p[1])y.label=p[1],p=D;else if(p&&y.label<p[2])y.label=p[2],y.ops.push(D);else{p[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(e,y)}catch(F){D=[6,F],m=0}finally{c=p=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,z])}}var c,m,p,q,y={label:0,
sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return w});g.d(f,"c",function(){return v});g.d(f,"b",function(){return C});g.d(f,"e",function(){return A});g.d(f,"g",function(){return r});var l=function(e,
a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},128:function(h,f,g){g.d(f,"a",function(){return w});g.d(f,"b",function(){return v});
var k=g(0);h=g(15);var w=function(C,A){var r;return A.thumbnail&&(r=C.restUrl+"/community/groups/"+A.id+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),r},v=Object(h.a)(function(C,A){return Object(k.a)(Object(k.a)({},A),{thumbURI:w(C,A)})})},15:function(h,f,g){function k(v){return function A(){for(var r=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return l.length>=v.length?v.call.apply(v,Object(w.g)([this],l)):function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=
arguments[a];return A.call.apply(A,Object(w.g)(Object(w.g)([r],l),e))}}}g.d(f,"a",function(){return k});var w=g(0)},151:function(h,f){h.exports=N},18:function(h,f){h.exports=R},249:function(h,f,g){var k=g(128);f.a=function(w,v){var C=w.group,A=w.stacked,r=w.portal;A={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!C.thumbURI,"gcard-thumbnail--stacked":void 0!==A&&A,"gcard-thumbnail--transparent":w.transparent};if(C.thumbnail&&!C.thumbURI&&r&&(C.thumbURI=Object(k.a)(r,C)),C.thumbURI)return v("img",
{src:C.thumbURI,classes:A,alt:C.title});r=!(!C.title.charAt(0)||!C.title.charAt(0).match(/^\w+$/));return v("div",{key:"group-thumbnail-"+C.id,classes:A},v("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},v("path",{fill:"#"+C.id.substr(C.id.length-6),d:"M0 0h65v65H0z"}),v("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),r?v("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},C.title.slice(0,1).toUpperCase()):v("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(h,f){h.exports=n},377:function(h,f){h.exports=t},450:function(h,f){h.exports=u},856:function(h,f,g){g.r(f);var k=g(0),w=g(450),v=g(151);h=g(18);var C=g(249),A=g(308),r=g.n(A);A=g(377);var l=g.n(A);g=function(d){function e(){var a=null!==d&&d.apply(this,arguments)||this;return a.handleCheckClick=function(){var b,c;null!==(c=(b=a.props).shouldDisable)&&void 0!==c&&c.call(b,a.props.group)||(b=a.props.checked?a.props.onUncheckGroup:a.props.onCheckGroup)&&b(a.props.group)},a}return Object(k.d)(e,
d),e.prototype.render=function(a){var b=this.props,c=b.checked,m=b.group,p=b.portal,q=b.key,y=b.shouldDisable;b=m.owner;var B=m.title,z=this.props,D=z.group;var F=D.created;D=D.modified;F=(z=z.sortField)&&"created"===z?w.created+": "+v.format(new Date(F),{selector:"date",formatLength:"medium"}):w.modified+": "+v.format(new Date(0<D?D:F),{selector:"date",formatLength:"medium"});z=(y=!(null==y||!y(this.props.group)))&&this.props.disabledText;return a("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":this.props.checked,
"gcard-gcc__container--disabled":y},key:q,onclick:this.handleCheckClick},a(r.a,{key:"gcard-gcc__checkbox-"+m.id,checked:c,onChange:this.handleCheckClick,title:B}),a(C.a,{group:this.props.group,portal:this.props.portal}),a("div",{"class":"gcard-gcc__flex"},a("div",{"class":"gcard-gcc__title-owner"},a("span",{"class":"gcard-gcc__title"},B),a("a",{href:p.baseUrl+"/home/user.html?user\x3d"+b,"class":"gcard-gcc__owner",target:"_blank"},b),a("span",{"class":"gcard-gcc__small-info"},F),z?a("div",{"class":"gcard-gcc__disabled-text"},
a("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),a("span",{"class":"margin-left-quarter font-size--2"},this.props.disabledText)):null),a("div",{"class":"gcard-gcc__info"},a("span",null,F))),a(l.a,{key:"gcard-gcc__toggle-"+m.id,id:"gcard-toggle-"+m.id,value:c,handleToggleClick:this.handleCheckClick,
label:""}))},e}(h.Component);f["default"]=g}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,
h)},n.p="",n(n.s=825)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(A);e<
d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}
function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});
t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};Object.create;Object.create},16:function(N,n){N.exports=
R},825:function(N,n,t){t.r(n);var u=t(0);N=function(h){function f(g){g=h.call(this,g)||this;return g.handleCheckChange=g.handleCheckChange.bind(g),g}return Object(u.d)(f,h),f.prototype.render=function(g){var k=Object(u.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),w={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},v=this.props.large?
"20":"16";return g("span",{classes:k,key:this.props.key},g("input",{type:"checkbox",checked:this.props.checked,classes:{"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},indeterminate:this.props.indeterminate,onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,"aria-label":this.props.title,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),g("span",{classes:w},this.props.checked?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",
width:v,height:v,viewBox:"0 0 16 16"},g("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:v,height:v,viewBox:"0 0 16 16"},g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},f.prototype.handleCheckChange=function(g){var k,w;g.stopPropagation();g.preventDefault();this.props.disabled||null!==(w=null===(k=this.props)||void 0===k?void 0:k.onChange)&&void 0!==w&&
w.call(k,!this.props.checked)},f}(t(16).Component);n["default"]=N}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox","../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(R,N,n,t,u){return function(h){function f(k){if(g[k])return g[k].exports;var w=g[k]={i:k,l:!1,exports:{}};return h[k].call(w.exports,w,w.exports,f),w.l=!0,w.exports}var g=
{};return f.m=h,f.c=g,f.d=function(k,w,v){f.o(k,w)||Object.defineProperty(k,w,{enumerable:!0,get:v})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,w){if((1&w&&(k=f(k)),8&w)||4&w&&"object"==typeof k&&k&&k.__esModule)return k;var v=Object.create(null);if(f.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:k}),2&w&&"string"!=typeof k)for(var C in k)f.d(v,
C,function(A){return k[A]}.bind(null,C));return v},f.n=function(k){var w=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(w,"a",w),w},f.o=function(k,w){return Object.prototype.hasOwnProperty.call(k,w)},f.p="",f(f.s=857)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}function w(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function v(e,a,b,c){var m,p=arguments.length,q=3>p?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=
Reflect.decorate(e,a,b,c);else for(var y=e.length-1;0<=y;y--)(m=e[y])&&(q=(3>p?m(q):3<p?m(a,b,q):m(a,b))||q);return 3<p&&q&&Object.defineProperty(a,b,q),q}function C(e,a,b,c){return new (b||(b=Promise))(function(m,p){function q(z){try{B(c.next(z))}catch(D){p(D)}}function y(z){try{B(c["throw"](z))}catch(D){p(D)}}function B(z){var D;z.done?m(z.value):(D=z.value,D instanceof b?D:new b(function(F){F(D)})).then(q,y)}B((c=c.apply(e,a||[])).next())})}function A(e,a){function b(B){return function(z){return function(D){if(c)throw new TypeError("Generator is already executing.");
for(;y;)try{if(c=1,m&&(p=2&D[0]?m["return"]:D[0]?m["throw"]||((p=m["return"])&&p.call(m),0):m.next)&&!(p=p.call(m,D[1])).done)return p;switch(m=0,p&&(D=[2&D[0],p.value]),D[0]){case 0:case 1:p=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;m=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(p=y.trys,(p=0<p.length&&p[p.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!p||D[1]>p[0]&&D[1]<p[3]))y.label=D[1];else if(6===D[0]&&y.label<p[1])y.label=
p[1],p=D;else if(p&&y.label<p[2])y.label=p[2],y.ops.push(D);else{p[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(e,y)}catch(F){D=[6,F],m=0}finally{c=p=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,z])}}var c,m,p,q,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=
a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return w});g.d(f,"c",function(){return v});g.d(f,"b",function(){return C});g.d(f,"e",function(){return A});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,
b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},128:function(h,f,g){g.d(f,"a",function(){return w});g.d(f,"b",function(){return v});var k=g(0);h=g(15);var w=function(C,A){var r;return A.thumbnail&&(r=C.restUrl+"/community/groups/"+A.id+"/info/"+A.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),r},v=Object(h.a)(function(C,A){return Object(k.a)(Object(k.a)({},
A),{thumbURI:w(C,A)})})},15:function(h,f,g){function k(v){return function A(){for(var r=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return l.length>=v.length?v.call.apply(v,Object(w.g)([this],l)):function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return A.call.apply(A,Object(w.g)(Object(w.g)([r],l),e))}}}g.d(f,"a",function(){return k});var w=g(0)},18:function(h,f){h.exports=R},181:function(h,f,g){g.d(f,"b",function(){return C});g.d(f,"c",function(){return A});g.d(f,"a",
function(){return r});var k=g(63);h=g(5);var w=g(99),v=g(128),C=function(l,d){return Object(k.a)(Object(v.b)(l))(d)},A=Object(k.a)(Object(h.e)("thumbURI")),r=function(l){var d=l.initialSelectedByIds;return!Object(w.a)(l.selectedBy.map(function(e){return e.id}),d)}},249:function(h,f,g){var k=g(128);f.a=function(w,v){var C=w.group,A=w.stacked,r=w.portal;A={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!C.thumbURI,"gcard-thumbnail--stacked":void 0!==A&&A,"gcard-thumbnail--transparent":w.transparent};
if(C.thumbnail&&!C.thumbURI&&r&&(C.thumbURI=Object(k.a)(r,C)),C.thumbURI)return v("img",{src:C.thumbURI,classes:A,alt:C.title});r=!(!C.title.charAt(0)||!C.title.charAt(0).match(/^\w+$/));return v("div",{key:"group-thumbnail-"+C.id,classes:A},v("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},v("path",{fill:"#"+C.id.substr(C.id.length-6),d:"M0 0h65v65H0z"}),v("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),r?v("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?
"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},C.title.slice(0,1).toUpperCase()):v("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(h,f){h.exports=N},349:function(h,f){h.exports=n},377:function(h,f){h.exports=t},408:function(h,f){h.exports=u},5:function(h,f,g){function k(e){return 0===Object.keys(e).length&&e.constructor===Object}function w(e){return null!=e}function v(e,a){return l.apply(null,arguments)}function C(e,a){return d.apply(null,arguments)}g.d(f,"b",function(){return k});g.d(f,"a",function(){return w});g.d(f,"e",function(){return r});g.d(f,"c",function(){return v});g.d(f,"d",function(){return C});var A=
g(0);h=g(15);var r=Object(h.a)(function(e,a){var b=Object(A.a)({},a);return delete b[e],b}),l=Object(h.a)(function(e,a){return Object.keys(a).reduce(function(b,c){return b[c]=e(a[c],c,a),b},{})}),d=Object(h.a)(function(e,a){return Object.keys(a).reduce(function(b,c){return e(a[c],c,a)&&(b[c]=a[c]),b},{})})},63:function(h,f,g){function k(){for(var w=[],v=0;v<arguments.length;v++)w[v]=arguments[v];return function(C){return w.reduceRight(function(A,r){return r(A)},C)}}g.d(f,"a",function(){return k})},
857:function(h,f,g){g.r(f);var k=g(0),w=g(408);h=g(18);var v=g(249),C=g(308),A=g.n(C);C=g(377);var r=g.n(C),l=g(349),d=g.n(l),e=g(181);g=function(b){function c(){var m=null!==b&&b.apply(this,arguments)||this;return m.handleAssignedLinkClick=function(p){p.stopPropagation()},m.handleCheckClick=function(){var p,q;null!==(q=(p=m.props).shouldDisable)&&void 0!==q&&q.call(p,m.props.group)||(p=m.props.checked?m.props.onUncheckGroup:m.props.onCheckGroup,null==p||p(m.props.group))},m}return Object(k.d)(c,
b),c.prototype.render=function(m){var p=this,q=this.props,y=q.checked,B=q.group,z=q.indeterminate,D=q.key,F=q.selectedBy,x=q.initialSelectedByIds,E=q.portal,G=q.shouldDisable,H=q.disabledText;q=q.selectors;var J=B.title,M=B.id+"-badge",K=a(this.props,m);G=!(null==G||!G(B));var L=Object(l.getBadgeTypes)(B,E).map(function(ba){return M+"-"+ba}).join(" "),U=null==q?void 0:q.some(function(ba){return!!ba.username});return m("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":y,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:D,onclick:this.handleCheckClick},m(A.a,{key:"gcard-gcc__checkbox-"+B.id,checked:y,indeterminate:z,onChange:this.handleCheckClick,title:J,describedBy:L}),m(v.a,{group:B,portal:E}),m("span",{key:"gcard-gcc__title","class":"gcard-gcc__title"},m("div",null,J),!!q&&U&&z&&m("div",{id:"partial-assigned-container-"+B.id},m("calcite-popover-manager",null,m("calcite-link",{id:"partial-assigned-"+B.id,onclick:this.handleAssignedLinkClick},w.membersAssigned.replace("${num}",
F.length).replace("${total}",q.length))),m("calcite-popover",{"reference-element":"partial-assigned-"+B.id},m("ul",{"class":"padding-right-1"},F.map(function(ba){return m("li",{key:ba.username},ba.username)}))))),m(d.a,{group:B,portal:E,key:"group-badges",id:M}),m("div",{key:"gcard-gcc__details","class":"gcard-gcc__details"},K,Object(e.a)({selectedBy:F,initialSelectedByIds:x})?m("button",{key:"gcard-gcc__revert-button","class":"gcard-gcc__revert-button",onclick:function(ba){var V,aa;ba.stopPropagation();
null===(aa=(V=p.props).onRevertGroup)||void 0===aa||aa.call(V,B)}},w.revert):null),G&&m("div",{"class":"gcard-gcc__disabled-text",key:"disabled-text"},m("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},m("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),m("span",{"class":"margin-left-quarter font-size--2"},H)),m(r.a,{key:"gcard-gcc__toggle-"+
B.id,id:"gcard-toggle-"+B.id,value:y,handleToggleClick:this.handleCheckClick,label:""}))},c}(h.Component);f["default"]=g;var a=function(b,c){var m=b.selectedBy,p=b.allSelectorItemIds,q=b.initialSelectedByIds;return 0===p.length||1===p.length||0===q.length&&0===m.length?null:c("span",{key:"gcard-gcc__share-text","class":"gcard-gcc__share-text",innerHTML:(Object(e.a)({selectedBy:m,initialSelectedByIds:q})?w.willBeShared:w.alreadyShared).replace("${num}",m.length).replace("${total}",p.length)})}},99:function(h,
f,g){function k(l,d){if(null==l?0:l.length)for(var e=void 0,a=0;a<l.length;a++)if(d(e=l[a]))return e}function w(l){return l.filter(function(d){return 0<d.length})}function v(l,d,e){var a=[];return d.forEach(function(b){(e?b[e].toLowerCase()===l.toLowerCase():b.toLowerCase()===l.toLowerCase())?a.unshift(b):a.push(b)}),a}g.d(f,"e",function(){return C});g.d(f,"f",function(){return A});g.d(f,"c",function(){return k});g.d(f,"b",function(){return w});g.d(f,"a",function(){return r});g.d(f,"d",function(){return v});
h=g(15);var C=function(l,d,e){return e.indexOf(l)===d},A=Object(h.a)(function(l,d){var e={};return d.filter(function(a){return!e[a[l]]&&(e[a[l]]=!0,!0)})}),r=function(l,d){return l.length===d.length&&l.reduce(function(e,a){return e&&-1<d.indexOf(a)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,
t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=
typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=853)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):
(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");
for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=
b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=
l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,
d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=R},200:function(n,t,u){var h,f;u.d(t,"b",function(){return f});u.d(t,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f=
{}));var g=((h={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
h[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",h[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
h[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",h[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
h[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",h[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
h)},529:function(n,t){n.exports=N},853:function(n,t,u){function h(v,C){var A=[];return v.capabilities&&-1<v.capabilities.indexOf("updateitemcontrol")&&A.push(w.b.sharedUpdate),v.isOpenData&&A.push(w.b.openData),(v.collaborationInfo&&v.collaborationInfo.collaborationId||v.capabilities&&-1<v.capabilities.indexOf("distributed"))&&A.push(w.b.collaboration),C.homePageFeaturedContent&&C.homePageFeaturedContent==="id:"+v.id&&A.push(w.b.featuredContent),C.featuredItemsGroupQuery&&C.featuredItemsGroupQuery===
"id:"+v.id&&A.push(w.b.gallery),v.membershipAccess||A.push(w.b.anyOrg),"collaboration"===v.membershipAccess&&A.push(w.b.partnered),A}u.r(t);u.d(t,"getBadgeTypes",function(){return h});var f=u(0);n=u(16);var g=u(529),k=u.n(g),w=u(200);u=function(v){function C(){return null!==v&&v.apply(this,arguments)||this}return Object(f.d)(C,v),C.prototype.render=function(A){var r=this.props,l=r.id;r=h(r.group,r.portal);return A("div",{"class":"group-badges"},r.map(function(d){return A(k.a,{badgeType:d,key:d,id:l})}))},
C}(n.Component);t["default"]=u}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},t.p="",t(t.s=854)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}
function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});
u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,t){n.exports=
R},200:function(n,t,u){var h,f;u.d(t,"b",function(){return f});u.d(t,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f={}));var g=((h={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
h[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",h[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
h[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",h[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
h[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",h[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
h)},341:function(n,t){n.exports=N},854:function(n,t,u){u.r(t);var h=u(0);n=u(16);var f=u(200),g=u(341);u=function(k){function w(){return null!==k&&k.apply(this,arguments)||this}return Object(h.d)(w,k),w.prototype.render=function(v){var C,A=this.props,r=A.badgeType;A=A.id;var l=r===f.b.sharedUpdate?"#ab3c16":"#005e95";return A&&(C=A+"-"+r),v("button",{"class":"group-badge","aria-label":g[r]+": "+g.tooltips[r]},v("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:l,key:"group-badge-icon"},r!==f.b.anyOrg&&r!==f.b.collaboration&&v("path",{d:f.a[r]}),r===f.b.anyOrg&&v("g",null,v("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),v("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),v("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),v("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
r===f.b.collaboration&&v("g",null,v("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),v("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),v("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),v("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),v("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),v("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
v("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
v("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),v("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),v("span",{"class":"group-badge__title",key:"group-badge-title"},g[r]),v("span",{"class":"group-badge__description",key:"group-badge-description"},g.tooltips[r]),v("span",{"class":"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:C},g[r],": ",g.tooltips[r]))},w}(n.Component);t["default"]=u}})})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){Object.defineProperty(N,"__esModule",{value:!0});g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);R=r["default"].uploadLogo;var l=A["default"].GroupWidget.thumbnailDlg,d={title:R.name,drag:R.dragDrop,size:R.bestSize,browse:R.browse,save:r["default"].common.save,cancel:r["default"].common.cancel,fileError:R.validImageRequired,saveError:R.imageEditError,zoom:R.zoom,chooseDiff:R.chooseDiff,
or:l.or,fromMap:l.createFromMap,fromMapDescription:l.createFromMapSub};r=function(e){function a(){K&&document.documentElement.classList.add("overflow-hidden")}var b=e.texts,c=e.height,m=e.zoomToFull,p=e.onSave,q=e.onCancel,y=e.onDelete,B=e.hideSize,z=e.existingImage,D=e.isRound,F=e.fillBackground,x=e.maxSize,E=e.hasDelete,G=e.allowFromMap,H=e.aspectRatio,J=e.contentClass,M=e.itemId,K=e.fromOverlay,L=e.noEdit;e=n.__assign(n.__assign({},d),b);c=u.useReducer(f.reducer,{previewSrc:"",imageScale:1,imageWidth:0,
imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:e,hideSize:B,saving:!1,deleting:!1,saveData:void 0,aspectRatio:H||1,height:c,isRound:D,fillBackground:F,maxSize:x,zoomToFull:m,allowFromMap:G,itemId:M,noEdit:L});var U=c[0],ba=c[1];c=u.useMemo(function(){return{state:U,dispatch:ba}},[U]);m=u.useRef(null);B=u.useRef(null);
D=e.title;F=e.save;x=e.cancel;var V=e.fileError;e=e.chooseDiff;u.useEffect(function(){var ka=function(qa){"new_thumb"!==qa.data.dataType||U.previewSrc===qa.data.dataUrl||U.saving||(ba(f.setImageFromMap(qa.data.dataUrl)),window.parent.removeEventListener("message",ka))};window.parent.addEventListener("message",ka)},[]);u.useEffect(function(){U.fromMapLoaded&&ba(f.initSave())},[U.fromMapLoaded]);u.useEffect(function(){U.saveData&&(p(U.saveData),a())},[U.saveData]);u.useEffect(function(){U.saving&&L&&
ba(f.updateSaveData({blob:v.dataURIToBlob(U.previewSrc),base64:U.previewSrc,format:U.imageFormat}))},[U.saving,L]);u.useEffect(function(){z&&ba(f.editExistingImage(z))},[z]);G=function(){return"edit"===U.currentStep};var aa=function(){return"fromMap"===U.currentStep};H="rtl"===document.documentElement.getAttribute("dir");M=function(){ba(f.changeImage())};var ha=function(){ba(f.initDelete());y()},ia=function(){q();a()};B.current&&(B.current.loading=U.saving);m.current&&(m.current.loading=U.deleting);
return t.h(h.StoreContext.Provider,{value:c},t.h("calcite-modal",{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:ia,intlClose:A["default"].common.close},t.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":D,"class":"font-size-2 trailer-0"},D),t.h("div",{slot:"content","class":""+(J||"")},t.h("div",{"class":"panel content-node padding-trailer-1 "+(aa()?"":"org-settings__upload-logo-dlg-content")},
"upload"===U.currentStep&&t.h(g["default"],null),G()&&t.h(k["default"],null),aa()&&t.h(w["default"],null))),(G()||aa())&&!E&&t.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:U.saving,onClick:M,"icon-flip-rtl":H?"start":""},e),G()&&U.editingExisting&&void 0!==y&&t.h("calcite-button",{ref:m,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:U.saving,onClick:ha},b["delete"]),!E&&t.h("calcite-button",{slot:"secondary",
disabled:U.saving,color:"blue",appearance:"outline",width:"full",onClick:ia},x),E&&G()&&t.h("calcite-button",{slot:"secondary",disabled:U.saving||U.deleting,color:"blue",appearance:"outline",width:"full",onClick:M},b.changePhoto),t.h("calcite-button",{ref:B,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){aa()?window.postMessage("thumbnail_create","*"):!L&&"edit"!==U.currentStep||!U.previewSrc?C["default"].showAlert("error",V):ba(f.initSave())},disabled:U.deleting},F)))};
r.defaultProps={height:412>window.innerWidth?200:300,texts:d,aspectRatio:1};N["default"]=r})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(R,N,n,t){Object.defineProperty(N,"__esModule",{value:!0});N.useStoreContext=N.StoreContext=void 0;N.StoreContext=n.createContext({});N.useStoreContext=function(){return t.useContext(N.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require",
"exports","tslib"],function(R,N,n){Object.defineProperty(N,"__esModule",{value:!0});N.reducer=N.setImageFromMap=N.showFromMapStep=N.editExistingImage=N.updatePreviewImage=N.imageLoaded=N.updateZoomScale=N.updateManuallySettingZoom=N.updateImagePosition=N.updateSrcAndFileName=N.updatePreviewSrc=N.updateSaveData=N.initDelete=N.initSave=N.changeImage=N.SET_IMAGE_FROM_MAP=N.SHOW_FROM_MAP_STEP=N.IMAGE_LOADED=N.EDIT_EXISTING_IMAGE=N.UPDATE_PREVIEW_IMAGE=N.UPDATE_SRC_AND_FILE_NAME=N.UPDATE_ZOOM_SCALE=N.UPDATE_MANUALLY_SETTING_ZOOM=
N.UPDATE_IMAGE_POSITION=N.UPDATE_PREVIEW_SRC=N.UPDATE_SAVE_DATA=N.INIT_DELETE=N.INIT_SAVE=N.CHANGE_IMAGE=void 0;N.CHANGE_IMAGE="CHANGE_IMAGE";N.INIT_SAVE="INIT_SAVE";N.INIT_DELETE="INIT_DELETE";N.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";N.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";N.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";N.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";N.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";N.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";N.UPDATE_PREVIEW_IMAGE=
"UPDATE_PREVIEW_IMAGE";N.EDIT_EXISTING_IMAGE="EDIT_EXISTING_IMAGE";N.IMAGE_LOADED="IMAGE_LOADED";N.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";N.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";N.changeImage=function(){return{type:N.CHANGE_IMAGE}};N.initSave=function(){return{type:N.INIT_SAVE}};N.initDelete=function(){return{type:N.INIT_DELETE}};N.updateSaveData=function(t){return{type:N.UPDATE_SAVE_DATA,payload:t}};N.updatePreviewSrc=function(t){return{type:N.UPDATE_PREVIEW_SRC,payload:t}};N.updateSrcAndFileName=
function(t){return{type:N.UPDATE_SRC_AND_FILE_NAME,payload:t}};N.updateImagePosition=function(t){return{type:N.UPDATE_IMAGE_POSITION,payload:t}};N.updateManuallySettingZoom=function(t){return{type:N.UPDATE_MANUALLY_SETTING_ZOOM,payload:t}};N.updateZoomScale=function(t){return{type:N.UPDATE_ZOOM_SCALE,payload:t}};N.imageLoaded=function(t){return{type:N.IMAGE_LOADED,payload:t}};N.updatePreviewImage=function(t){return{type:N.UPDATE_PREVIEW_IMAGE,payload:t}};N.editExistingImage=function(t){return{type:N.EDIT_EXISTING_IMAGE,
payload:t}};N.showFromMapStep=function(){return{type:N.SHOW_FROM_MAP_STEP}};N.setImageFromMap=function(t){return{type:N.SET_IMAGE_FROM_MAP,payload:t}};N.reducer=function(t,u){var h=u.payload;switch(u.type){case N.CHANGE_IMAGE:return n.__assign(n.__assign({},t),{currentStep:"upload",editingExisting:!1,previewSrc:""});case N.INIT_SAVE:return n.__assign(n.__assign({},t),{saving:!0});case N.INIT_DELETE:return n.__assign(n.__assign({},t),{deleting:!0});case N.UPDATE_SAVE_DATA:return n.__assign(n.__assign({},
t),{saveData:n.__assign(n.__assign({},h),{fileName:t.fileName,isModified:t.isModified})});case N.UPDATE_PREVIEW_SRC:return n.__assign(n.__assign({},t),{previewSrc:h,imageScale:1,currentStep:"edit"});case N.UPDATE_SRC_AND_FILE_NAME:return n.__assign(n.__assign({},t),{previewSrc:h.previewSrc,fileName:h.fileName,imageScale:1,currentStep:t.noEdit?"upload":"edit"});case N.UPDATE_PREVIEW_IMAGE:return n.__assign(n.__assign({},t),{previewImage:h});case N.UPDATE_IMAGE_POSITION:var f=n.__assign({},t);void 0!==
h.imageTop&&(f.imageTop=h.imageTop);void 0!==h.imageLeft&&(f.imageLeft=h.imageLeft);return n.__assign(n.__assign({},f),{isModified:!0});case N.UPDATE_MANUALLY_SETTING_ZOOM:return n.__assign(n.__assign({},t),{manuallySettingZoom:h});case N.EDIT_EXISTING_IMAGE:return n.__assign(n.__assign({},t),{editingExisting:!0,previewSrc:h,currentStep:"edit",loadingImage:!0});case N.UPDATE_ZOOM_SCALE:return n.__assign(n.__assign({},t),{imageScale:h.imageScale,zoomValue:h.zoomValue,isModified:!0});case N.IMAGE_LOADED:f=
t.height;var g=t.zoomToFull,k=t.aspectRatio,w={};if(t.editingExisting)g=h.width,w={imageWidth:g,imageHeight:g,imageScale:f/g,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:h};else{var v=1===k?f:f*k,C=h.clientWidth,A=h.clientHeight;w="fromMap"===t.currentStep;w={imageWidth:C,imageHeight:A,imageTop:f/2-A/2,imageLeft:f*k/2-C/2,currentStep:w?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:h,fromMapLoaded:w};g&&(h=v/(C>A?C:A),w=n.__assign(n.__assign({},w),{imageScale:h,
manuallySettingZoom:!0,zoomValue:""+(50+Math.log(h)/Math.log(1.1)),isModified:!0}))}h=n.__assign(n.__assign({},t),w);return h;case N.SHOW_FROM_MAP_STEP:return n.__assign(n.__assign({},t),{currentStep:"fromMap"});case N.SET_IMAGE_FROM_MAP:return n.__assign(n.__assign({},t),{previewSrc:h,imageScale:1});default:return n.__assign({},t)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(R,N,n,t,u,h,f,g){var k=this;Object.defineProperty(N,"__esModule",{value:!0});g=n.__importDefault(g);N["default"]=function(){var w=h.useStoreContext(),v=w.state,C=w.dispatch,A=v.texts;w=v.hideSize;var r=v.allowFromMap,l=u.useRef(null),d=u.useRef(null);u.useEffect(function(){l.current&&l.current.focus()},[l.current]);var e=function(c){c.preventDefault()},a=function(c){var m=d.current;if(m.value||c){var p=c||m.files[0];p&&((null===p||void 0===p?0:p.name)&&/\.(gif|jpg|jpeg|png)$/i.test(p.name)?
(c=new FileReader,c.onload=function(q){return n.__awaiter(k,void 0,void 0,function(){return n.__generator(this,function(y){C(f.updateSrcAndFileName({previewSrc:q.target.result,fileName:p.name||(null===m||void 0===m?void 0:m.value)||""}));return[2]})})},c.readAsDataURL(p)):g["default"].showAlert("error",A.fileError))}},b=function(){C(f.showFromMapStep())};return t.h("div",{"class":"text-center",onDragOver:e,onDragEnter:e,onDrop:function(c){c.preventDefault();a(c.dataTransfer.files[0])},"aria-label":A.drag},
t.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},t.h("calcite-icon",{icon:"upload"})),t.h("div",{"class":"trailer-0"},t.h("div",{"class":"font-size-1","aria-label":A.drag},A.drag),!w&&t.h("div",{"aria-label":A.size},A.size)),t.h("button",{ref:l,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){d.current.click()},onKeyDown:function(c){13===c.keyCode&&(c.preventDefault(),d.current.click())},"aria-label":A.browse},t.h("div",{"class":"flex flex-align-center"},
(!v.noEdit||!v.fileName)&&t.h(t.Fragment,null,t.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",A.browse),v.noEdit&&v.fileName&&t.h(t.Fragment,null,v.fileName," ",t.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),t.h("input",{ref:d,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){a()}}),r&&t.h("div",{tabIndex:0,onClick:b},t.h("p",{"class":"text-center leader-1 trailer-half"},t.h("b",
{"class":"horizontal-lines"},t.h("span",null,A.or))),t.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},t.h("p",{"class":"trailer-0"},t.h("span",{"class":"flex-center font-size-1"},t.h("div",{"class":"flex flex-align-center"},t.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",A.fromMap)),t.h("span",{"class":"display-block font-size--2"},A.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(R,N,n,t,u,h,f,g,k,w){Object.defineProperty(N,"__esModule",{value:!0});h=n.__importDefault(h);f=n.__importDefault(f);w=n.__importDefault(w);N["default"]=function(){var v=g.useStoreContext(),C=v.state,A=v.dispatch,r=C.texts,l=u.useRef(null),d=u.useRef(null),e=C.height*C.aspectRatio;v=C.height+60+"px";var a={width:e+60+"px",height:v};e={width:e+"px",height:C.height+"px"};var b={transform:"scale("+C.imageScale+")",top:C.imageTop+"px",left:C.imageLeft+"px",transformOrigin:C.transformOrigin.x+
"% "+C.transformOrigin.y+"%"};u.useEffect(function(){l.current&&l.current.focus()},[l.current]);u.useEffect(function(){d.current&&A(k.updatePreviewImage(d.current))},[d.current]);var c=function(){A(k.imageLoaded(d.current))},m=function(){w["default"].showAlert("error",r.fileError);A(k.changeImage())},p=function(q){C.manuallySettingZoom?A(k.updateManuallySettingZoom(!1)):A(k.updateZoomScale({imageScale:Math.pow(1.1,q.target.value-50),zoomValue:q.target.value}))};return t.h("div",{"class":"edit-thumb-display",
onWheel:function(q){q.preventDefault();q=0<q.deltaY?1*C.imageScale/1.1:1.1*C.imageScale;A(k.updateZoomScale({imageScale:q,zoomValue:""+(50+Math.log(q)/Math.log(1.1))}))}},t.h(f["default"],{imageContainer:l.current}),t.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:v}},t.h(h["default"],{onDrag:function(q){A(k.updateImagePosition({imageTop:C.imageTop+q.top,imageLeft:C.imageLeft+q.left}))},style:a},t.h("div",{ref:l,"class":"crop-thumb-clear",tabIndex:0,style:e,onKeyDown:function(q){var y=
!1;switch(q.key){case "ArrowUp":A(k.updateImagePosition({imageTop:C.imageTop-1}));y=!0;break;case "ArrowDown":A(k.updateImagePosition({imageTop:C.imageTop+1}));y=!0;break;case "ArrowLeft":A(k.updateImagePosition({imageLeft:C.imageLeft-1}));y=!0;break;case "ArrowRight":A(k.updateImagePosition({imageLeft:C.imageLeft+1})),y=!0}y&&q.preventDefault()}},C.previewSrc&&t.h("img",{ref:d,src:C.previewSrc,alt:"","class":"preview-image "+(C.loadingImage?"visibility-hidden":""),style:b,onLoad:c,onError:m})))),
"edit"===C.currentStep&&t.h("label",{htmlFor:"","class":"trailer-half leader-half"},r.zoom,t.h("input",{type:"range",value:C.zoomValue,onInput:p,onChange:p,"aria-label":r.zoom}),t.h("span",{"class":"clearfix"},t.h("span",{"class":"left inline-block leader-half"},t.h("calcite-icon",{icon:"image",scale:"s"})),t.h("span",{"class":"right"},t.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(R,N,n,t){Object.defineProperty(N,"__esModule",{value:!0});N["default"]=function(u){var h=u.style,f=u.onDrag;u=u.children;var g=t.useState(!1),k=g[0],w=g[1];g=t.useState(void 0);var v=g[0],C=g[1];g=function(){w(!0)};var A=function(l){var d=l.touches,e=l.clientX,a=l.clientY;if(void 0===e||void 0===a){if(null===d||void 0===d||!d.length)return;e=d[0].clientX;a=d[0].clientY}k&&(v?(d=v.top,l=v.left,a-=d,e-=l,f({top:a,left:e}),C({top:d+a,left:l+e})):C({top:a,left:e}))},r=function(){w(!1);
C(void 0)};return n.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:h,onMouseDown:g,onTouchStart:g,onMouseMove:A,onTouchMove:A,onMouseUp:r,onTouchEnd:r,onMouseOut:r},u)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(R,N,n,t,u,h,f,g,k){var w=this;Object.defineProperty(N,"__esModule",{value:!0});k=n.__importDefault(k);
N["default"]=function(v){var C=v.imageContainer;v=h.useStoreContext();var A=v.state,r=v.dispatch,l=A.texts,d=u.useRef(null),e=function(c){var m=c.image,p=c.context,q=c.selectionX,y=c.selectionY,B=c.selectionWidth,z=c.selectionHeight,D=c.canvasWidth,F=c.canvasHeight,x=c.minWidth,E=c.minHeight,G=c.drawDimensions,H=c.scaleFactor;c=d.current;c.width=D<x?x:D*H;c.height=F<E?E:F*H;A.maxSize&&(c.width>A.maxSize&&(c.width=A.maxSize),c.height>A.maxSize&&(c.height=A.maxSize));D=G.left*c.width;F=G.top*c.height;
x=G.width*c.width;G=G.height*c.height;!A.isRound&&A.fillBackground&&(p.fillStyle="#efefef",p.fillRect(0,0,c.width,c.height));p.drawImage(m,q,y,B,z,D,F,x,G);A.isRound&&(p.globalCompositeOperation="destination-in",p.beginPath(),p.arc(c.width/2,c.height/2,c.height/2,0,2*Math.PI),p.closePath(),p.fill());m=c.toDataURL("image/png");p=g.dataURIToBlob(m);return{base64:m,blob:p}},a=function(){return new Promise(function(c,m){var p=new Image;-1<A.previewSrc.indexOf("arcgis.com")&&(p.crossOrigin="Anonymous");
p.onload=function(){if(.01>Math.abs(A.aspectRatio-p.width/p.height)&&!A.isModified)c({blob:g.dataURIToBlob(A.previewSrc),base64:A.previewSrc,format:A.imageFormat});else{var q=A.height*A.aspectRatio,y=A.height;var B=A.previewImage.getBoundingClientRect();var z=C.getBoundingClientRect();var D=(z.left-B.left)/B.width;var F=(z.right-B.left)/B.width;var x=(z.top-B.top)/B.height;B=(z.bottom-B.top)/B.height;z=0>D?0:D;var E=0>x?0:x,G=1<F?1:F,H=1<B?1:B,J=A.previewImage.getBoundingClientRect();var M=C.getBoundingClientRect();
M={left:(0<J.left-M.left?J.left-M.left:0)/M.width,top:(0<J.top-M.top?J.top-M.top:0)/M.height,width:((J.right>M.right?M.right:J.right)-(J.left<M.left?M.left:J.left))/M.width,height:((J.bottom>M.bottom?M.bottom:J.bottom)-(J.top<M.top?M.top:J.top))/M.height};J=d.current.getContext("2d");D={image:p,context:J,selectionX:z*A.imageWidth,selectionY:E*A.imageHeight,selectionWidth:G*A.imageWidth-z*A.imageWidth,selectionHeight:H*A.imageHeight-E*A.imageHeight,canvasWidth:F*A.imageWidth-D*A.imageWidth,canvasHeight:B*
A.imageHeight-x*A.imageHeight,minWidth:q,minHeight:y,drawDimensions:M,scaleFactor:1};try{var K=e(n.__assign({},D));if(1E7<K.blob.size||0===K.blob.size)J.clearRect(0,0,d.current.width,d.current.height),K=e(n.__assign(n.__assign({},D),{scaleFactor:1600/p.width}))}catch(L){"NS_ERROR_FAILURE"!==L.name?k["default"].showAlert("error",l.saveError):(J.clearRect(0,0,d.current.width,d.current.height),K=e(n.__assign(n.__assign({},D),{scaleFactor:1600/p.width})))}c({blob:null===K||void 0===K?void 0:K.blob,base64:null===
K||void 0===K?void 0:K.base64,format:A.imageFormat})}};p.onerror=function(){k["default"].showAlert("error",l.fileError)};p.src=A.previewSrc})},b=function(){return n.__awaiter(w,void 0,void 0,function(){var c;return n.__generator(this,function(m){switch(m.label){case 0:return[4,a()];case 1:return c=m.sent(),r(f.updateSaveData(n.__assign({},c))),[2]}})})};u.useEffect(function(){A.saving&&b()},[A.saving]);return t.h("canvas",{ref:d,"class":"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require",
"exports"],function(R,N){Object.defineProperty(N,"__esModule",{value:!0});N.dataURIToBlob=void 0;N.dataURIToBlob=function(n){var t=atob(n.split(",")[1]);n=n.split(",")[0].split(":")[1].split(";")[0];for(var u=new ArrayBuffer(t.length),h=new Uint8Array(u),f=0;f<t.length;f++)h[f]=t.charCodeAt(f);return new Blob([u],{type:n})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(R,N,n,t,u,h,f,g){Object.defineProperty(N,"__esModule",{value:!0});h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);N["default"]=function(){var k=u.useStoreContext().state;k=(f["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+k.itemId;if(g["default"].isPortal()){var w=f["default"].self.portalHostname.replace(/^[^\/]*/,"");k=k.replace("/apps/",w+"/apps/");k+="\x26extentService\x3d"+encodeURI(f["default"].extentService)}return t.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},t.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:k,width:"600",height:"399"}),t.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},t.h(h["default"],null)))}})},"arcgisonline/pages/components/UpdateViewModal":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline preact preact/hooks preact/compat arcgisonline/esriGeowConfig".split(" "),function(R,N,n,t,
u,h,f,g){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);g=n.__importDefault(g);N["default"]=function(k){var w=k.title,v=k.active,C=k.itemId,A=k.hasDerivative,r=k.onClose,l=function(d){if(null!==d&&void 0!==d&&d.data){var e=JSON.parse(d.data);d=e.type;e=e.value;"create"===d&&(null===e||void 0===e?0:e.id)?(window.location.href="item.html?id\x3d"+(null===e||void 0===e?void 0:e.id),r()):"update"!==d&&"close"!==d||!e||r()}};h.useEffect(function(){window.addEventListener("message",
l);return function(){window.removeEventListener("message",l)}},[]);k=""+g["default"].createViewUrl+C+(A?"\x26hasDerivative\x3dtrue":"");return u.h(u.Fragment,null,f.createPortal(u.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-lablledby":"update-view-modal-title",active:v,oncalciteModalClose:r,intlClose:t["default"].common.close,fullscreen:!0,noPadding:!0},u.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"update-view-modal-title"},w),u.h("div",{slot:"content","class":"flex manage-areas"},
v&&u.h("iframe",{"class":"flex-1 manage-areas__iframe",src:k}))),document.body))}})},"arcgisonline/pages/group/widgets/_settings":function(){define("require exports tslib preact dojo/topic dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/lang ../../../sharing/dijit/dialog/SubscriptionStatusDlg ../../dijit/_CheckReadonlyMixin arcgisonline/tsutils/declareDecorator ../../pageUtil ../../utils/alerts ../../utils/dom ../../utils/channels ../../utils/arrays ../_GroupActions arcgisonline/esriGeowConfig arcgisonline/pages/components/Collaborations/collab-service dojo/text!./templates/_settings.html dojo/Evented dojo/dom-construct arcgisonline/pages/group/widgets/CreateGroup/Membership arcgisonline/pages/group/widgets/CreateGroup/GroupDesignations arcgisonline/pages/components/Group/DeleteProtection arcgisonline/pages/components/Group/ContentSettings".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);R=function(){function F(x,E){this.templateString=m["default"];this.trustedOrgs=[];this.canDeleteButNotAdmin=!1;this.handleDeleteProtectionChange=this.handleDeleteProtectionChange.bind(this);this.handleDeleteGroup=this.handleDeleteGroup.bind(this);this.handleContentSettingChange=this.handleContentSettingChange.bind(this)}F.prototype.postCreate=function(){this.inherited(arguments)};F.prototype.startup=
function(){var x=this,E=new h["default"];this.inherited(arguments);this.own(u["default"].subscribe("group-settings/error",function(G){return x.handleSaveError("generalOptions",G)}),u["default"].subscribe("group/update",function(G){var H=G.params,J=G.successMessage,M=G.errorCallback;x.page._updateGroup(H).then(function(){var K=Object.keys(H)[0];x.group[K]=H[K];r["default"].showAlert("success",J);"membershipAccess"in H&&d.broadcastGroupSettingsUpdate()},function(K){x.handleSaveError("generalOptions",
K);null===M||void 0===M?void 0:M()})}));this.getCollaborations().then(function(){return x.initUI()}).then(function(){x.page.hideLoader();E.resolve()});return E};F.prototype.destroy=function(){this.inherited(arguments);this.disableGlobalErrorHandler(!1);this.destroyDialogs()};F.prototype.initUI=function(){var x=this,E,G=new h["default"],H=this.portalUser.orgId&&this.portalUser.isOrgAdmin,J=this.group._canDeleteGroup(this.portalUser,this.page),M=this.group._isGroupAdmin(this.portalUser);this.canDeleteButNotAdmin=
J&&!M;this.renderDeleteProtection();this.renderContentSettings();M=this.group.groupOwner||{};J=this.portalUser.userRole;M=this.portalUser.isOrgAdmin&&this.portalUser.orgId===M.orgId||(null===J||void 0===J?void 0:J.canShareGroupToPublic())&&this.portal.canSharePublic;H={portal:this.portal,portalUser:this.portalUser,isAdmin:H,isPublicUser:!this.portalUser.orgId,canSharePublic:M,canShareToOrg:H||(null===(E=this.portalUser.userRole)||void 0===E?void 0:E.canShareGroupToOrg()),group:this.group};var K=new y["default"](n.__assign(n.__assign({},
H),{page:this.page,hasTrustedOrgs:0<this.trustedOrgs.length}),this.domNode.querySelector(".js-membership"));K.loaded&&(K.disableOptionsByDesignations(this.group),this.canDeleteButNotAdmin&&K.disableOptions());this.own(K.on("loaded",function(){K.disableOptionsByDesignations(x.group);x.canDeleteButNotAdmin&&K.disableOptions()}));K.domNode.className="panel panel-white trailer-1";K.domNode.querySelector("h2").className="font-size-1 avenir-bold trailer-1";(null===J||void 0===J?0:J.canAddExternalMembersToGroup())||
K.disableMembershipOptions(["collaboration","anyOrg"]);E=new B["default"](H,this.domNode.querySelector(".js-designations"));H=E.domNode.classList.contains("hide");E.domNode.className="panel panel-white trailer-1 "+(H?"hide":"");E.domNode.querySelector("h2").className="font-size-1 avenir-bold trailer-1";this.portal.id||l["default"].hideNode(E.domNode);this.canDeleteButNotAdmin&&E.disabledOpenData();this.disableGlobalErrorHandler(!0);this.initHandlers();G.resolve(!0);return G};F.prototype.getCollaborations=
function(){var x=this,E=new h["default"];if(!this.portal.canHavePartnerCollab())return E.resolve(),E;c["default"].getCollaborations().then(function(G){var H;x.trustedOrgs=(null===(H=null===G||void 0===G?void 0:G.trustedOrgs)||void 0===H?void 0:H.filter(function(J){return-1<J.from.established&&-1<J.to.established}))||[];E.resolve()},function(){E.resolve()});return E};F.prototype.handleContentSettingChange=function(x,E){var G=this;this.page._updateGroup(x).then(function(){var H=Object.keys(x)[0];G.group[H]=
"displaySettings"===H?JSON.parse(x[H]):x[H];r["default"].showAlert("success",E);G.renderContentSettings()},function(H){G.handleSaveError("generalOptions",H)})};F.prototype.renderDeleteProtection=function(){var x=this.group.isPartOfCollaboration||!this.group.isOwner&&!this.group.isAdmin||this.canDeleteButNotAdmin,E=!this.group._canDeleteGroup(this.portalUser,this.page)||!!this.group["protected"];t.render(t.h(z["default"],{group:this.group,onChange:this.handleDeleteProtectionChange,onDelete:this.handleDeleteGroup,
disabledSwitch:x,disableDelete:E}),this.deleteWrapper)};F.prototype.renderContentSettings=function(){t.render(t.h(D["default"],{group:this.group,onChange:this.handleContentSettingChange,disableSort:this.canDeleteButNotAdmin,disableTypeOptions:this.canDeleteButNotAdmin}),this.contentWrapper)};F.prototype.handleDeleteProtectionChange=function(x){this.group["protected"]=x;this.renderDeleteProtection()};F.prototype.initHandlers=function(){A["default"].registerItemActions(this,this.domNode,a["default"],
this.page,this.actionGuard.bind(this))};F.prototype.handleDeleteGroup=function(){a["default"].deleteGroup({page:this.page})};F.prototype.actionGuard=function(x){return-1===["deleteGroup"].indexOf(x)?!1:this.checkReadonly(this.portal)};F.prototype.disableGlobalErrorHandler=function(x){this.page.toggleErrors(x)};F.prototype.destroyDialogs=function(){this.subscriptionStatusDlg&&(this.subscriptionStatusDlg.subscriptionStatusDlg.destroyRecursive(),this.subscriptionStatusDlg.destroyRecursive())};F.prototype.createOptionsDiv=
function(x){return q["default"].create("div",null,x)};F.prototype.alertUpdateSuccess=function(){r["default"].showAlert("success",this.i18n.GroupWidget.updatingGroupSuccessful)};F.prototype.alertError=function(x){r["default"].showAlert("error",x)};F.prototype.allValidationPassed=function(x){return x.every(function(E){return!0===(null===E||void 0===E?void 0:E.validates)})};F.prototype.compileInvalidMessages=function(x){var E="";x.forEach(function(G){G.validates||(E+=(0<E.length?"\x3cbr\x3e":"")+G.message)});
return E};F.prototype.compileSaveResults=function(x){var E=this,G={errors:[],changed:{},toChange:{}};x.forEach(function(H){H.code&&H.message&&G.errors.push(E.i18n.GroupWidget.error.saveUnsuccessful);G.changed=n.__assign(n.__assign({},G.changed),H.changed||{});for(var J in H.toChange)H.toChange.hasOwnProperty(J)&&k["default"].isDefined(H.toChange[J])&&(G.toChange[J]=H.toChange[J])});return G};F.prototype.handleUpdateResult=function(x,E){var G=this;(null===E||void 0===E?0:E.code)&&(null===E||void 0===
E?0:E.message)?this.handleSaveError(x,E):("generalOptions"===x&&this.page._processGroup(this.page.group).then(function(){G.page.set("attributeCssClasses",G.page.group);G.page.set("bodyCssClasses",G.page.group)}),this.alertUpdateSuccess())};F.prototype.handleSaveError=function(x,E){var G,H,J=["SB_0001","SB_0002","SB_0003","SB_0004"],M=["SB_0005","SB_0006","SB_0007"];(null===E||void 0===E?0:E.messageCode)&&e["default"].includes(J,E.messageCode)?(this.subscriptionStatusDlg=new w["default"],this.subscriptionStatusDlg.show(b["default"]["this"].subscriptionInfo)):
(null===E||void 0===E?0:E.messageCode)&&e["default"].includes(M,E.messageCode)?(this.subscriptionStatusDlg=new w["default"],this.subscriptionStatusDlg.showOther(E.messageCode)):"COM_0047"===(null===E||void 0===E?void 0:E.messageCode)&&-1<(null===(G=null===E||void 0===E?void 0:E.details[0])||void 0===G?void 0:G.indexOf("open data"))?this.alertError(this.i18n.GroupWidget.error.cantEnableOpenData):"COM_0047"===(null===E||void 0===E?void 0:E.messageCode)&&(null===(H=null===E||void 0===E?void 0:E.message)||
void 0===H?0:H.indexOf("modify group"))?this.alertError(this.i18n.GroupWidget.error.cantModifyGroup):"COM_0061"===(null===E||void 0===E?void 0:E.messageCode)?this.alertError(this.i18n.GroupWidget.error.removeUsersBeforeLinking):"COM_0011"===(null===E||void 0===E?void 0:E.messageCode)?this.alertError(this.i18n.GroupWidget.error.cantUpdateGroup):"COM_1203"===(null===E||void 0===E?void 0:E.messageCode)?this.alertError(this.i18n.GroupWidget.orgMembershipError):"COM_1204"===(null===E||void 0===E?void 0:
E.messageCode)?this.alertError(this.i18n.GroupWidget.partnerMembershipError):this.alertError((null===E||void 0===E?void 0:E.message)||this.i18n.GroupWidget.error.saveUnsuccessful)};return F=n.__decorate([C["default"](g["default"],f["default"],p["default"],v["default"])],F)}();N["default"]=R})},"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline ../pageUtil arcgisonline/sharing/dijit/dialog/GeneralDlg".split(" "),function(R,N,n,t,
u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(){}f.prototype.checkReadonly=function(g){g||(g=this.portal);return(null===g||void 0===g?0:g.isPortal)&&g.isReadOnly?(u["default"].createSpecifiedDialog(h["default"]).show({title:t["default"].common.errorTitle,message:t["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};f.prototype.memberActionGuard=function(g,k){return-1<["manageItems","viewGroups","viewProfile"].indexOf(g)?!1:this.checkReadonly(k)};
return f}()})},"arcgisonline/pages/utils/channels":function(){define(["require","exports"],function(R,N){function n(g){u[g]=u[g]||new BroadcastChannel(g);return u[g]}Object.defineProperty(N,"__esModule",{value:!0});N.handleGroupSettingsUpdate=N.broadcastGroupSettingsUpdate=N.handleItemSettingsUpdate=N.broadcastItemSettingsUpdate=void 0;var t;(function(g){g.ITEM_SETTINGS_UPDATE="ITEM_SETTINGS_UPDATE";g.GROUP_SETTINGS_UPDATE="GROUP_SETTINGS_UPDATE"})(t||(t={}));var u={},h={},f=function(g,k){if("BroadcastChannel"in
self){var w=n(g);h[g]=h[g]||[];h[g].push(k);w.onmessage||(w.onmessage=function(v){h[g].forEach(function(C){return C(v.data)})})}};N.broadcastItemSettingsUpdate=function(g){"BroadcastChannel"in self&&n(t.ITEM_SETTINGS_UPDATE).postMessage(g)};N.handleItemSettingsUpdate=function(g){return f(t.ITEM_SETTINGS_UPDATE,g)};N.broadcastGroupSettingsUpdate=function(){"BroadcastChannel"in self&&n(t.GROUP_SETTINGS_UPDATE).postMessage(!0)};N.handleGroupSettingsUpdate=function(g){return f(t.GROUP_SETTINGS_UPDATE,
g)}})},"arcgisonline/pages/group/_GroupActions":function(){define("require exports tslib preact ../../esriGeowConfig ../pageUtil ../utils/alerts ../utils/arrays ../dijit/ChangeOwner ./widgets/InviteMembers ./widgets/UpdateGroupRoleOverlay ../components/ImageUploadModal/ImageUploadModal ../../sharing/util ../../sharing/dijit/dialog/SimpleDlg ../../sharing/dijit/dialog/ConfirmDialog ../../sharing/dijit/dialog/DeleteWarningDlg ../organization/widgets/ProfilePopup ../../sharing/dijit/dialog/thumbnailDialogs/CreateGroupThumbnailDlg ../../sharing/dijit/dialog/ShareGroupDlg ../../sharing/dijit/dialog/MembershipRequestsDlg ../../sharing/dijit/dialog/JoinGroupDlg ../../sharing/dijit/dialog/InvitationsDlg dojo/on dojo/dom-attr dojo/topic dojo/dom-style dojo/string esri/arcgis/Portal dojo/i18n!../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x){u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);return function(){function E(){}E.createWebApp=function(G){var H=G.page;G=H.portal.getPortalUser();H=H.group;var J=H.isOwner?null:H.groupOwner,M=new b["default"];M.show(H,G,J,H.isAdmin,"createWebApp");q["default"].once(M._shareGroupDialog,"hide",function(){M._shareGroupDialog.destroyRecursive();M.destroyRecursive()})};E.embed=function(G){var H=G.page;G=H.portal.getPortalUser();
H=H.group;var J=H.isOwner?null:H.groupOwner,M=new b["default"];M.show(H,G,J,H.isAdmin,"embed");q["default"].once(M._shareGroupDialog,"hide",function(){M._shareGroupDialog.destroyRecursive();M.destroyRecursive()})};E.shareSocial=function(G){var H=G.evt.target;A["default"]._checkShare(G.page.group);(null===H||void 0===H?0:H.href)&&window.open(y["default"].get(H,"href"))};E.reassignGroup=function(G){var H=G.page;G=H.portal;var J=H.group;H=G.getPortalUser();H={owner:J.owner,user:H,group:J,portal:G};G.isPortal&&
"enterprise"===J.provider&&J.providerGroupName&&(H.provider=J.provider,H.groupId=J.id);J.isSharedOwnership&&(H.filterPrivileges=["portal:admin:createUpdateCapableGroup"]);G=new k["default"](H);G.open();G.on("close",function(M){M&&M.newOwner&&setTimeout(function(){window.location.href="group.html?id\x3d"+J.id},400)})};E.inviteUsers=function(G){var H=G.page,J=H.group;G=new w["default"]({group:J,portal:H.portal,user:G.user,closeOnScrimClick:!1});G.open();q["default"].once(G,"close",function(){H._processGroup(J)})};
E.membershipRequests=function(G){G=G.page.group;h["default"].createSpecifiedDialog(c["default"]).show(G.id)};E.joinGroup=function(G){var H=G.page,J=H.group;if(G.user)if(J.autoJoin)J.join().then(function(){H._processGroup(J);B["default"].publish("alert/show",{type:"success",text:D["default"].substitute(x["default"].GroupWidget.youAreNowMember,{name:J.title})})},function(K){K=K.messageCode;var L=x["default"].GroupWidget.error.cantJoin;if(K){var U=x["default"].GroupWidget.error.join,ba=U.maxGroups,V=
U.maxMembers;U=U.settingChanged;"COM_1220"===K?L=ba:"ORG_3103"===K?L=V.external:"COM_1068"===K&&(L=U)}M=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].common.errorTitle,content:L});z["default"].set(M._content,"max-width","500px");M.show()});else{var M=h["default"].createSpecifiedDialog(m["default"]);J.isAdmin?M.show(J.id,J.leavingDisallowed,function(){H._processGroup(J)}):M.show(J.id,J.leavingDisallowed)}else A["default"].requireAuthentication()};E.leaveGroup=function(G){var H=
G.page.group,J=new l["default"]({buttonOkLabel:x["default"].GroupWidget.leaveGroup,buttonCancelLabel:x["default"].common.cancel});J.show({title:x["default"].GroupWidget.leaveGroup,message:x["default"].GroupWidget.leaveGroupConfirm}).then(function(M){"onOk"===M&&H.leave().then(function(){J.hide().then(function(){window.location.href="groups.html"})})})};E.deleteGroup=function(G){var H,J=G.page;G=G.page.portal.isPortal;var M=null!==(H=J.portalUser)&&void 0!==H?H:{},K=J.group;if(A["default"].groupUsedInOrgSettings(K.id))h["default"].createSpecifiedDialog(r["default"],
{title:x["default"].common.notice,content:x["default"].GroupWidget.error[G?"deleteUsedInPortalSettings":"deleteUsedInOrgSettings"]}).show();else if(K._canDeleteGroup(M)){var L=h["default"].createSpecifiedDialog(d["default"]);L.showMsg(x["default"].deleteWarningDlg.confirmDeleteGroup,function(){A["default"].request({url:u["default"].restBaseUrl+"community/groups/"+K.id+"/delete"},{usePost:!0}).then(function(){L.hide();window.location.href=u["default"].baseUrl+"groups.html"},function(U){L.hide();h["default"].createSpecifiedDialog(r["default"],
{title:x["default"].common.errorTitle,content:x["default"].GroupWidget.error.removeItemsBeforeDelete}).show()})},!0)}else L=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].GroupWidget.deleteGroup,content:x["default"].GroupWidget.permissionToDelete}),L.show()};E.profilePopup=function(G){var H=this,J=G.page,M=G.evt,K=J.group;(G=G.profile||K.owner||(G.user?G.user.username||G.user:null))&&!this.popup&&(this.popup=new e["default"]({username:G,opener:M.target,portal:J.portal}),this.popup.open(),
q["default"].once(this.popup,"close",function(){H.popup=void 0}))};E.thumbnail=function(G){function H(){t.render(null,M)}var J=G.page.group,M=document.getElementById("group-thumbnail-modal");M||(M=document.createElement("div"),M.id="group-thumbnail-modal",document.body.appendChild(M));t.render(t.h(C["default"],{texts:{title:x["default"].GroupWidget.uploadThumbnail,size:x["default"].GroupWidget.thumbnailDlg.sizeSpecGroup},onSave:function(K){return n.__awaiter(this,void 0,void 0,function(){var L,U,
ba,V;return n.__generator(this,function(aa){switch(aa.label){case 0:L=new FormData,U="thumbnail"+(new Date).getTime()+"."+K.format,L.append("thumbnail",K.blob,U),L.append("f","json"),aa.label=1;case 1:return aa.trys.push([1,3,,4]),[4,A["default"].request({url:u["default"].restBaseUrl+"community/groups/"+G.page.group.id+"/update",form:L,timeout:12E4},{usePost:!0})];case 2:return aa.sent(),ba=F["default"].PortalUtil.formatUrl(J.url+"/info/"+U),ba=-1<(null===ba||void 0===ba?void 0:ba.indexOf("?token\x3d"))?
ba+"\x26ts\x3d"+(new Date).getTime():ba?ba+"?ts\x3d"+(new Date).getTime():J.thumbnailUrl,J.set("thumbnailUrl",ba),H(),[3,4];case 3:return V=aa.sent(),f["default"].showAlert("error",V.message||x["default"].publishWizard.errors.error.message),H(),[3,4];case 4:return[2]}})})},onCancel:H,height:233,zoomToFull:!0,fillBackground:!0}),M)};E.createGroupThumbnail=function(G){G=a["default"]({item:{}});G.startup();G.showModal()};E.updateUserRole=function(G){var H=G.page,J=H.group.id;G=H.tabDijit._selectionInView;
var M=G.map(function(aa){return aa.username});G.some(function(aa){return aa.orgId!==aa.portal.id&&aa.isCoordinator});var K=1===M.length,L=[],U,ba,V=new v["default"]({users:H.tabDijit._selectionInView});V.open();q["default"].once(V,"save",function(aa){var ha=aa.selectedRole;h["default"].sendAllResources(u["default"].restBaseUrl+"community/groups/"+J+"/updateUsers",25,M,function(ia){var ka={};ka[ha]=ia.join(",");return ka}).then(function(ia){var ka=!(!ia||!ia.length),qa=ka?{}:ia;ka&&(qa.success=ia.every(function(Y){return!0===
Y.success}),ia.forEach(function(Y){!qa.results&&Y.results&&(qa.results=[]);qa.results=qa.results.concat(Y.results);Y.code&&!qa.code&&(qa.code=Y.code);Y.message&&!qa.message&&qa.message}));qa.results?(qa.results.forEach(function(Y){Y.success||(L.push(Y.username),K&&Y.error&&("COM_1095"===Y.error.messageCode?U=x["default"].GroupWidget.error.insufficientPrivilegesForAdmin:"COM_1098"===Y.error.messageCode?U=D["default"].substitute(x["default"].GroupWidget.error.notPartOfOrg,{name:M[0]}):"COM_10981"===
Y.error.messageCode&&(U=x["default"].GroupWidget.error.updateRoleSuspended.replace("[name]",M[0]))))}),0<L.length?(ba=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].common.notice,content:K&&U?U:D["default"].substitute(x["default"].GroupWidget.error.unableToUpdateUserGroupRole,{userList:L.join(", ")})}),z["default"].set(ba._content,"max-width","500px"),ba.show()):B["default"].publish("alert/show",{type:"success",text:1<M.length?x["default"].GroupWidget.groupRolesUpdated:x["default"].GroupWidget.groupRoleUpdated})):
qa.code&&(ba=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].common.errorTitle,content:x["default"].GroupWidget.error.unableToUpdateUserRole}),z["default"].set(ba._content,"max-width","500px"),ba.show());(function(){var Y;return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(Q){switch(Q.label){case 0:if(!((null===(Y=H.portalUser)||void 0===Y?0:Y.username)&&-1<M.indexOf(H.portalUser.username)))return[3,2];H.group=void 0;return[4,H._fetchGroup()];case 1:Q.sent(),
Q.label=2;case 2:return[4,H._refreshMembers()];case 3:return Q.sent(),H.tabDijit._refreshMembers(),[2]}})})})()},function(ia){ba=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].common.errorTitle,content:x["default"].GroupWidget.error.unableToUpdateUserRole});z["default"].set(ba._content,"max-width","500px");ba.show()});V.close()})};E.removeUsers=function(G){var H=G.page,J=H.group.id,M=H.tabDijit._selectionInView.map(function(L){return L.username});G=1===M.length?D["default"].substitute(x["default"].groupGeow.removeUserMsg,
{username:M[0]}):x["default"].groupGeow.removeUsersMsg;var K;h["default"].createSpecifiedDialog(d["default"]).showMsgTitleButton(G,x["default"].groupGeow.removeAccess,x["default"].groupGeow.remove,function(){h["default"].sendAllResources(u["default"].restBaseUrl+"community/groups/"+J+"/removeUsers",25,M,function(L){return{users:L.join(",")}}).then(function(L){var U,ba;L=null!==(ba=null===(U=null===L||void 0===L?void 0:L.shift)||void 0===U?void 0:U.call(L))&&void 0!==ba?ba:L;U=H.tabDijit._selectionInView.filter(function(aa){return!g["default"].includes(L.notAdded,
aa.username)});B["default"].publish("memberlist/refresh",{removedMembers:U});var V=B["default"].subscribe("memberlist/refreshComplete",function(){V.remove();H._refreshMembers().then(function(){H.tabDijit._refreshMembers()});L.notRemoved.length||B["default"].publish("alert/show",{type:"success",text:1<M.length?x["default"].GroupWidget.removedUsers:x["default"].GroupWidget.removedUser})});0<(null===L||void 0===L?void 0:L.notRemoved.length)&&(K=h["default"].createSpecifiedDialog(r["default"],{title:x["default"].common.notice,
message:D["default"].substitute(x["default"].GroupWidget.error.unableToRemoveUsers,{userList:L.notRemoved.join(", ")})}),K.show())})})};E.openInvitations=function(G){var H=G.page;G=H.invitations;var J=H.groupsUser,M=H.portal.getPortalUser(),K=new p["default"];q["default"].once(K._dialog,"hide",function(){K._dialog.destroyRecursive();K.destroyRecursive();B["default"].publish("items/refresh");H._refreshInvitations()});H.isAdminView&&H.groupsUser?K.show(G,J):K.show(G,M)};return E}()})},"arcgisonline/pages/group/widgets/InviteMembers":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/debounce dojo/dom-construct dojo/promise/all dojo/_base/Deferred dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/culture ../../utils/arrays ../../../esriGeowConfig ../../../sharing/util esri/request ../../dijit/Alert ../../dijit/Checkbox ./InviteMemberRow ../../dijit/Overlay ../../dijit/MemberBrowser ../../dijit/OverlayConfirm ../../dijit/MemberThumb ../../../tsutils/declareDecorator dojo/text!./templates/members/invite.html dojo/text!./templates/members/invite-loader.html dojo/text!./templates/members/invite-error.html dojo/text!./templates/members/invite-error-row.html ../../../sharing/dijit/_LevelAwareMixin".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);return function(){function G(H,J){this.title=t["default"].GroupWidget.inviteUsers;this.i18n=t["default"];this.constrain=!0;this.overlayContents=k["default"].substitute(z["default"],{i18n:t["default"]});this._addDirect=!0;this._hasOutsideMembers=!1;this._invitees=[];this._progress={total:0,current:0,increment:0};this.PER_PAGE=
25;this.SELECTION_LIMIT=500}G.prototype.postMixInProperties=function(){this.inherited(arguments);this._addDirect=this.user.isOrgUser};G.prototype.postCreate=function(){this.inherited(arguments);this.domNode.classList.add("invite-group-users");this._cancelBtn=this.domNode.querySelector(".js-overlay-cancel");this._saveBtn=this.domNode.querySelector(".js-overlay-primary");this._saveBtn.innerHTML=this._addDirect?t["default"].GroupWidget.addToGroup:t["default"].GroupWidget.inviteUsers;this.group.isGroupOwnerOrgMember()&&
this.getMaxExternalOrgsNum()};G.prototype.open=function(){var H=this,J,M,K;this.inherited(arguments);var L="-group:"+this.group.id+" ",U=this.user.isOrgAdmin,ba=this.group.isSharedOwnership;if(ba){var V=this.LICENSE_LEVELS,aa=this.SYSTEM_ROLES;L+="-level:"+V.ONE+" -level:"+V.ONE_PLUS_EDIT+" -role:"+aa.VIEWER+" -role:"+aa.DATA_EDITOR+" "}V=this.portal.canSearchPublic||U;aa=!U&&this.portal.isPortal;var ha="org"===this.group.membershipAccess||!(null===(J=this.user.userRole)||void 0===J?0:J.canAddExternalMembersToGroup())||
!this.group.isGroupOwnerOrgMember()&&"collaboration"===this.group.membershipAccess;this._memberBrowser=new p["default"]({group:this.group,baseQuery:L,hideFilters:aa,outsideOrgFilter:this.user.isOrgUser&&V,outsideOrgFilterDisable:ha,outsideOrgFilterDisableText:"org"===this.group.membershipAccess?t["default"].GroupWidget.allowOutside:"",showCategoryFilter:U||(null===(M=this.user.userRole)||void 0===M?void 0:M.canViewOrgUsers()),userTypeFilter:U&&!ba,roleFilter:U,roleFilterExclude:this._isValidRole.bind(this),
myGroupsFilter:!0,groupsFilter:!0,portal:this.portal,row:c["default"],user:this.user,showSelected:!0,showExactMatchedUser:!0,excludeCurrentUser:"none"!==(null===(K=this.group.userMembership)||void 0===K?void 0:K.memberType),selectionLimit:this.SELECTION_LIMIT,overlay:!0,emptyText:t["default"].GroupWidget.noMembersInvite,showCollabOrgsFilter:this.group.allowExternalMembers()},this.domNode.querySelector(".js-group-invite-browser"));this._initAddDirectCheckbox();this._memberBrowser.on("member-browser/trusted-orgs",
function(ia){0<ia.trustedOrgs.length&&(H._addDirectCheckbox.domNode.querySelector(".js-checkbox-label-text ").textContent=t["default"].GroupWidget.noConfirmationWithCoords)});this._addListeners()};G.prototype.close=function(){this.inherited(arguments)};G.prototype._addListeners=function(){this.user.isOrgUser&&this.own(this._addDirectCheckbox.on("change",this._updateAddDirect.bind(this)),this._memberBrowser.on("outsideOrgChange",this._handleOutsideOrgChange.bind(this)));this.own(this._memberBrowser.on("selectUpdate",
u["default"](this._selectUpdate.bind(this),30)));this._cancelBtn.addEventListener("click",this.close.bind(this));this._saveBtn.addEventListener("click",this._onSaveClick.bind(this))};G.prototype._selectUpdate=function(H){var J=this,M,K;this._selected=H;this._invitees=H.map(function(aa){return aa.username});0<H.length&&this._mustSelect&&(this._mustSelect.destroy(),this._mustSelect=null);if(this.user.isOrgUser){var L=this._memberBrowser.coordinators,U=this._memberBrowser.collabOrgs.filter(function(aa){return"suspended"===
aa.to.state}).some(function(aa){return H.some(function(ha){return ha.orgId===aa.to.orgId})}),ba=null===(K=null===(M=this.group)||void 0===M?void 0:M.userMembership)||void 0===K?void 0:K.memberType,V="owner"===ba||"admin"===ba||this.user.isOrgAdmin;(this._hasOutsideMembers=!!r["default"].find(H,function(aa){return!V||U||!L.some(function(ha){return ha.username===aa.username})&&(!aa.orgUrl||aa.orgUrl!==J.user.orgUrl)}))?(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable()):this._addDirectCheckbox.enable();
H.some(function(aa){return L.some(function(ha){return ha.username===aa.username})})&&!this._hasOutsideMembers&&this._addDirectCheckbox.setChecked(!0)}};G.prototype._updateAddDirect=function(H){this._saveBtn.innerHTML=t["default"].GroupWidget[H?"addToGroup":"inviteUsers"];this._addDirect=H;this._memberBrowser.showExactMatchedUser=!H};G.prototype._handleOutsideOrgChange=function(H){H&&!this._hasOutsideMembers?this._addDirectCheckbox.enable():(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable())};
G.prototype._onSaveClick=function(){var H=this;this._mustSelect&&(this._mustSelect.destroy(),this._mustSelect=null);if(0===this._invitees.length)this._mustSelect=new a["default"]({type:"error",text:t["default"].GroupWidget.mustSelect},h["default"].create("div",null,document.body));else{var J=Math.ceil(this._invitees.length/this.PER_PAGE),M=this._initLoader(J),K=r["default"].batch(this._invitees,25).map(function(L){return H._sendInvites(L.join(","),M.domNode)});1<J&&M.show();f["default"](K).then(function(L){var U=
[].concat.apply([],L.map(function(V){return V.notAdded})),ba=L.reduce(function(V,aa){var ha=aa.notAddedDetails||[];return n.__spreadArray(n.__spreadArray([],V),ha)},[]);H._addDirect&&0<U.length?(M.hide(),setTimeout(function(){return H._showErrorSummary(U,ba)},350)):H._showSuccess()},function(L){M.hide();setTimeout(function(){return H._showError(L)},350)})}};G.prototype._isValidRole=function(H){if(this.group.isSharedOwnership){var J=H.privileges||[];H=H.id||"";var M=-1<J.indexOf("portal:user:createItem");
J=-1<J.indexOf("portal:user:joinGroup");return-1<["org_publisher","org_admin","org_user"].indexOf(H)||M&&J}return!0};G.prototype._initAddDirectCheckbox=function(){if(this.user.isOrgUser){var H=document.createElement("div");this._overlayActionBar.insertBefore(H,this._overlayActionBar.querySelector("nav"));this._addDirectCheckbox=new b["default"]({label:t["default"].GroupWidget.noConfirmation,labelClass:"font-size--1 left trailer-0 leader-quarter tablet-hide",modifiers:["white"],isChecked:!0},H)}};
G.prototype._initLoader=function(H){this._progress={total:this._invitees.length,increment:100/H,current:0};H=t["default"].GroupWidget.progress[this._addDirect?"add":"invite"];H=new q["default"]({title:H.title,description:k["default"].substitute(D["default"],H),showClose:!1,showActions:!1,cssClasses:"full-width text-constrain"});this._overlay.appendChild(H.domNode);return H};G.prototype._sendInvites=function(H,J){var M=this,K,L=this._addDirect?"addUsers":"invite",U=new g["default"];e["default"]({url:l["default"].restBaseUrl+
"/community/groups/"+this.group.id+"/"+L,content:{users:H,token:null===(K=this.user.credential)||void 0===K?void 0:K.token,f:"json"}},{usePost:!0}).then(function(ba){M._addDirect||ba.success||M._successfulInvites.concat(H.split(","));M._incrementProgress(ba,J);return U.resolve(ba)},function(ba){return U.reject(ba)});return U};G.prototype._incrementProgress=function(H,J){this._progress.current+=this._progress.increment;var M=""+Math.floor(this._progress.current);J.querySelector(".js-progress-bar").setAttribute("aria-valuenow",
M);J.querySelector(".js-progress-bar-fill").setAttribute("style","width: "+this._progress.current+"%");J.querySelector(".js-progress-bar-percentage").innerHTML=M+"%"};G.prototype._showSuccess=function(){var H=A["default"].getString(t["default"].GroupWidget[this._addDirect?"addedToGroup":"invitedToGroup"],this._invitees.length);new a["default"]({type:"success",text:H},h["default"].create("div",null,document.body));this.close();this._addDirect?w["default"].publish("memberlist/refresh",{addedMembers:this._invitees}):
w["default"].publish("memberlist/refresh")};G.prototype._showErrorSummary=function(H,J){var M=this,K=t["default"].GroupWidget.partialError[this._addDirect?"add":"invite"],L=[];J.forEach(function(aa){if(aa=aa.error)aa=aa.messageCode,-1===L.indexOf(aa)&&L.push(aa)});if(this._addDirect&&1===L.length){var U=t["default"].GroupWidget.partialError,ba=U.privilege;U=U.maxGroups;switch(L[0]){case "COM_1207":K=ba;break;case "COM_1220":K=U}}K=new q["default"]({title:K.title,description:k["default"].substitute(F["default"],
{errorStrings:K}),showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});this._overlay.appendChild(K.domNode);var V=K.domNode.querySelector(".js-notadded");H.forEach(function(aa,ha,ia){var ka=r["default"].find(M._selected,function(qa){return qa.username===aa});ka&&(ha=n.__assign(n.__assign({border:ha===ia.length-1?"":"border-bottom-clear"},ka),{fullName:ka.fullName||""}),ha=h["default"].place(k["default"].substitute(x["default"],ha),V),new y["default"]({member:ka,cssClasses:"member-browser-row-thumbnail margin-right-half"},
ha.querySelector(".js-member-thumbnail")))});w["default"].publish("memberlist/refresh");K.show().then(function(){return M.close()})};G.prototype._showError=function(H){var J,M,K,L;this._successfulInvites&&0<this._successfulInvites.length&&this._memberBrowser.deselectMembers(this._successfulInvites);var U=t["default"].GroupWidget.partialInviteError,ba=(null===(M=null===(J=this.portal)||void 0===J?void 0:J.helpMap)||void 0===M?void 0:M.m)||(null===(L=null===(K=l["default"].self)||void 0===K?void 0:
K.helpMap)||void 0===L?void 0:L.m)||{};M=k["default"].substitute(U.text,{helpUrl:""+l["default"].self.helpBase+(ba["120001872"]||"reference/troubleshoot.htm#ESRI_QUESTIONANSWERS_893AC5EF1A3C48C0A7E3B2CC14CC5C25")});J=U.title;"ORG_3103"===H.messageCode?(H="",this._addDirect?(H=t["default"].GroupWidget.partialError,U=H.maxExternalOrgs,H=H.maxExternalOrgsNum,U=this.maxOrgsPerGroup?H:U,H=U.text,J=U.title):(H=t["default"].GroupWidget.partialInviteError,U=H.maxExternalOrgs,H=H.maxExternalOrgsNum,H=this.maxOrgsPerGroup?
H:U,J=t["default"].GroupWidget.partialInviteError.title),M=this.maxOrgsPerGroup?k["default"].substitute(H,{number:this.maxOrgsPerGroup}):H):"COM_1049"===H.messageCode&&(U=t["default"].GroupWidget.partialInviteError,J=U.title,M=U.privilegeError);var V=new q["default"]({title:J,description:'\x3cp class\x3d"trailer-half leader-quarter font-size--1"\x3e'+M+"\x3c/p\x3e",showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});this._overlay.appendChild(V.domNode);if(U=V.domNode.querySelector("a"))U.setAttribute("target",
"_blank"),U.setAttribute("rel","noopener noreferrer");V.show().then(function(){return V.hide()})};G.prototype.getMaxExternalOrgsNum=function(){var H=this;d["default"].request({url:l["default"].restBaseUrl+"portals/self/limits",content:{limitsType:"Groups",limitName:"MaxExternalMemberOrgsInGroup"}}).then(function(J){H.maxOrgsPerGroup=null===J||void 0===J?void 0:J.limitValue})};return G=n.__decorate([B["default"](C["default"],v["default"],E["default"],m["default"])],G)}()})},"arcgisonline/pages/dijit/Checkbox":function(){define("require exports tslib dojo/text!./Checkbox/templates/Checkbox.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(C,A){this.templateString=t["default"];this.i18n=u["default"];this.disabled=this.isMixed=this.isChecked=!1;this.labelClass=this.selectLabel=this.deselectLabel=this.label="";this.modifiers=[];this._modifierClasses=this._checked=""}v.prototype.postMixInProperties=function(){this.inherited(arguments);
this.uid=k["default"]();this._checked=this.isChecked?"checked":"";this.hideLabelClass=this.hideLabel?"visually-hidden":"";this._modifierClasses=this.modifiers.map(function(C){return"checkbox-custom--"+C}).join(" ")};v.prototype.postCreate=function(){this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.isMixed&&(this._checkbox.indeterminate=!0);this.tooltip&&this.domNode.classList.add("tooltip");this._checkbox.addEventListener("change",
this.clickHandler.bind(this));this.domNode.addEventListener("click",function(C){return C.stopPropagation()});this._setAriaLabel()};v.prototype.getChecked=function(){return this._checkbox.checked};v.prototype.setChecked=function(C,A){this._checkbox.checked=C;this._setAriaLabel();A||this.emit("change",this._checkbox.checked)};v.prototype.enable=function(C){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("checkbox-custom--disabled");this.domNode.classList.remove("tooltip");this.domNode.removeAttribute("aria-label")};
v.prototype.disable=function(C){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("checkbox-custom--disabled");C&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",C))};v.prototype.hover=function(){this._checkbox.classList.add("checkbox-custom--hover")};v.prototype.blur=function(){this._checkbox.classList.remove("checkbox-custom--hover")};v.prototype.clickHandler=function(C){this._setAriaLabel();this.emit("change",this._checkbox.checked)};v.prototype._setAriaLabel=
function(){if(this.deselectLabel&&this.selectLabel){var C=this._checkbox.checked?this.deselectLabel:this.selectLabel;this.domNode.querySelector(".js-checkbox-label-text").innerHTML=C}};return v=n.__decorate([w["default"](g["default"],f["default"],h["default"])],v)}()})},"arcgisonline/pages/group/widgets/InviteMemberRow":function(){define("require exports tslib dojo/string dojo/i18n!../../../nls/arcgisonline ../../dijit/MemberBrowser/MemberBrowserRow dojo/text!./templates/members/invite-user-row.html ../../utils/icons ../../utils/dom ../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(C,A){this.i18n=u["default"];this.templateString=f["default"];this.icons=g["default"]}v.prototype.postMixInProperties=function(){this.inherited(arguments);this.rowSelectLabel=t["default"].substitute(u["default"].memberBrowser.inviteToGroup,{name:this.member.fullName})};v.prototype.postCreate=
function(){this.member.orgName&&(this.collabOrgNameEl.textContent=this.member.orgName,k["default"].showNode(this.collabOrgBadge));k["default"].showHide(this.collabOrgBadgeIcon,this.member.isCoordinator);this.member.isCoordinator&&(this.collabOrgBadge.classList.add("tooltip"),this.collabOrgBadge.setAttribute("aria-label",u["default"].GroupWidget.collabContact))};return v=n.__decorate([w["default"](h["default"])],v)}()})},"arcgisonline/pages/dijit/MemberBrowser/MemberBrowserRow":function(){define("require exports tslib dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./templates/MemberBrowserRow.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb ../Checkbox ../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(){this.templateString=g["default"];this.i18n=k["default"];this.rowSelectLabel=k["default"].myOrganization.membersTab.selectMember;this.disabledText="";this._topicPrefix="MEMBER_BROWSER/"}
l.prototype.postMixInProperties=function(){this.inherited(arguments);this._activeClass=this.selected?"is-active":""};l.prototype.startup=function(){return this._initUI()};l.prototype.destroy=function(){this.inherited(arguments)};l.prototype._initUI=function(){var d=this;this._createMemberThumbnail();this._memberCheckbox=new A["default"]({selectLabel:k["default"].myOrganization.membersTab.selectMember,deselectLabel:k["default"].myOrganization.membersTab.deselectMember,labelClass:"trailer-0",hideLabel:!0,
modifiers:["white"],isChecked:this.selected},this.domNode.querySelector(".js-member-browser-row-checkbox"));this.own(h["default"](this._memberCheckbox,"change",function(e){d[e?"select":"deselect"]()}),h["default"](this.domNode,"click",function(){return d.toggleSelected()}),h["default"](this.domNode,"mouseover",function(e){return!d.disabled&&d._memberCheckbox.hover()}),h["default"](this.domNode,"mouseout",function(e){return d._memberCheckbox.blur()}),f["default"].subscribe(this._topicPrefix+"view/items/deselect",
function(e){(null===e||void 0===e?void 0:e.id)===d.member.id&&(d.deselect(),d._memberCheckbox.setChecked(d.selected,!0))}));this.disabled&&this.disable(this.disabledText);return(new t["default"]).resolve()};l.prototype._createMemberThumbnail=function(){this._memberThumb=new C["default"]({member:this.member,cssClasses:"member-browser-row-thumbnail margin-right-half flex-0"},this.domNode.querySelector(".js-member-browser-row-thumbnail"))};l.prototype.toggleSelected=function(d){this.selected?this.deselect(d):
this.select(d);this._memberCheckbox.setChecked(this.selected,!0)};l.prototype.isSelected=function(){return this.selected};l.prototype.disable=function(d){this.domNode.classList.add("member-browser-row--disabled");this._memberCheckbox.disable();this.disabled=!0;d&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",d))};l.prototype.enable=function(){this.domNode.classList.remove("member-browser-row--disabled");this._memberCheckbox.enable();this.disabled=!1;this.domNode.classList.remove("tooltip");
this.domNode.removeAttribute("aria-label")};l.prototype.select=function(d){this.disabled||(this.selected=!0,this.domNode.classList.add("is-active"),d||this.emit("select",this.member));return this.member};l.prototype.deselect=function(d){this.selected=!1;this.domNode.classList.remove("is-active");d||this.emit("deselect",this.member)};return l=n.__decorate([r["default"](v["default"],w["default"],u["default"])],l)}()})},"arcgisonline/pages/dijit/MemberBrowser":function(){define("require exports tslib calcite-web/js/calcite-web esri/lang dojo/promise/all dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./MemberBrowser/templates/MemberBrowser.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ../portal/PortalUser ../pageUtil ../utils/culture ../utils/arrays ../utils/dom ./Pagination ./ControlBar ./FilterStatus ./ToggleSwitch ./FilterSingleWithSearch ./FilterOrganizationGroups ./FilterCollabOrgs/FilterCollabOrgs ./FilterCategoryWrapper ./SelectedMembers arcgisonline/pages/utils/icons arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/components/MemberCategories/api ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Roles ../../sharing/geow/Licenses ../../sharing/dijit/_LevelAwareMixin ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);
p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);return function(){function V(aa,ha){this.templateString=v["default"];this.i18n=C["default"];this.icons=E["default"];this.row=this.group=
null;this.hideFilters=this.actions=!1;this.appsFilter=null;this.outsideOrgFilterDisable=this.outsideOrgFilter=!1;this.outsideOrgFilterDisableText="";this.roleFilter=this.userTypeFilter=this.showCategoryFilter=!1;this.roleFilterExclude=function(){return!0};this.showExactMatchedUser=this.showSelected=this.myGroupsFilter=this.groupsFilter=!1;this.selected=[];this.selectionLimit=null;this.baseQuery="";this.excludeCurrentUser=!1;this.emptyText=C["default"].emptyStates.noMembersYet;this.showCollabOrgsFilter=
this.overlay=!1;this.limitText="";this._page={start:1,num:60,total:0,nextStart:-1};this._sortOptions=[{property:"fullname",label:this.i18n.GroupWidget.name,ascending:!0,active:!0},{property:"username",label:this.i18n.myOrganization.membersTab.username,ascending:!0,active:!1}];this._sort={property:"fullname",label:this.i18n.myOrganization.currentGrid.fullName,ascending:!0};this._selectionLimitText="";this._initialLoad=!1;this._onlyOrg=!0;this._searchTerm="";this._topicPrefix="MEMBER_BROWSER/";this._filterState=
{};this._filters={userLicenseType:{param:"userLicenseType",chipText:C["default"].myOrganization.filterChips.userType+" ",topic:this._topicPrefix,options:{}},role:{param:"role",chipText:C["default"].myOrganization.filterChips.role+" ",topic:this._topicPrefix,options:{}},group:{param:"group",chipText:C["default"].myOrganization.filterChips.group+" ",topic:this._topicPrefix,options:{}},orgGroup:{param:"orgGroup",chipText:C["default"].myOrganization.filterChips.group+" ",topic:this._topicPrefix,options:{}},
app:{param:"app",chipText:C["default"].myOrganization.filterChips.app+" ",topic:this._topicPrefix,options:{}}};this.collabOrgs=[];this.coordinators=[];this.coordinatorsOnly=!1;this.partnerCoordinators=[];this.numPerPage=60;this.isAdmin=!1}V.prototype.postMixInProperties=function(){this.inherited(arguments);this._onlyOrg=this.user.isOrgUser;this.selectionLimit&&(this._selectionLimitText=this.limitText||a["default"].getString(C["default"].GroupWidget.selectionLimit,this.selectionLimit));this._renderMembers=
A["default"](this._renderMembers.bind(this),10)};V.prototype.postCreate=function(){this.inherited(arguments);this._initUI()};V.prototype.destroy=function(){this.inherited(arguments)};V.prototype.deselectMembers=function(aa){this.selected=this.selected.filter(function(ha){return-1===aa.indexOf(ha.username)});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};V.prototype._initUI=function(){var aa=this,ha;this._loader=this.domNode.querySelector(".js-loader");
this._gridMemberCount=this.domNode.querySelector(".js-grid-member-count");this._grid=this.domNode.querySelector(".js-members-list");this._noResults=this.domNode.querySelector(".js-no-results");this._selectPageBtn=this.domNode.querySelector(".js-select-page");this._deselectPageBtn=this.domNode.querySelector(".js-deselect-page");this._deselectBtn=this.domNode.querySelector(".js-deselect");this._searchForResults=this.domNode.querySelector(".js-search-for-results");this._pagination=new m["default"](n.__assign(n.__assign({},
this._page),{topic:this._topicPrefix,pageSizeLabel:C["default"].contentPage.paginationPerPageMembers}),this.domNode.querySelector(".js-pagination"));this._filterStatus=new q["default"]({dontUpdateQueryParams:!0,topic:this._topicPrefix},this.domNode.querySelector(".js-filter-status"));w["default"].publish(this._topicPrefix+"sort/update",n.__assign({},this._sort));this._initFilters().then(function(Y){var Q=aa._filtersContainer.querySelector(".accordion-section");Q&&Q.classList.add("is-active");Q=!aa.user.isOrgUser&&
!Y||aa.hideFilters;Q={search:{placeholder:aa.i18n.GroupWidget.searchUsers,searchTerm:""},sort:aa._sortOptions,filterContainer:aa.domNode.querySelector(".js-filters-panel"),viewContainer:aa.domNode.querySelector(".js-grid"),actions:aa.actions,collapsed:Q,noFilters:Q,topic:aa._topicPrefix,absolute:!1,insideOverlay:!1};var fa=aa.domNode.querySelector(".js-control-bar");aa.overlay&&(document.querySelector(".js-overlay-content").classList.add("overlay-content--with-control-bar"),fa=document.querySelector(".js-overlay-control-bar"),
Q.absolute=!0,Q.insideOverlay=!0);aa._controlBar=new p["default"](Q,fa);aa.showSelected&&(aa._selectedMembers=new x["default"]({members:aa.selected,showSections:!1,emitViewEvents:!0,floated:!1,topic:aa._topicPrefix,buttonClasses:"assign-licenses__members-dropdown--no-margin",allowRemovingAll:!0},aa.domNode.querySelector(".js-selected-members")),aa._selectedMembers.update(aa.selected),aa._showHideSelect());aa._renderMembers(!0);aa._addListeners();aa.domNode.querySelector(".js-wrapper-loader").classList.remove("is-active");
aa.user.isOrgUser||(aa._onlyOrgUpdate(!0),aa._searchForResults.classList.remove("hide"));Y&&t["default"].accordion()});if(this.group&&this.portal.id&&!this.portal.isPortal){var ia=null===(ha=this.group)||void 0===ha?void 0:ha.membershipAccess;ha=this.domNode.querySelector(".js-membership-notice");var ka=this.domNode.querySelector(".js-membership-text"),qa=this.i18n.createGroupOverlay.memberOptions;ka.textContent="org"===ia?qa.org:"collaboration"===ia?qa.collab:qa.external;c["default"].showNode(ha);
this.domNode.querySelector(".js-filters-title").classList.add("member-browser__filters-title")}};V.prototype._initFilters=function(){var aa=this,ha=new f["default"];this._filtersContainer=this.domNode.querySelector(".js-member-filters");var ia=this.user.userRole,ka=ia.isAdmin(),qa=(this.isAdmin=ka)||ia.canViewOrgUsers(),Y=ka||ia.canViewUsers(),Q=ka||ia.canManageLicenses();ia=new K["default"];ka=new L["default"];h["default"]({roles:this.roleFilter?ia.getAllRoles(!0):(new f["default"]).resolve(!0),
myGroups:this.myGroupsFilter?this._getUserGroups():(new f["default"]).resolve(!0),licenseTypes:this.userTypeFilter&&Q?ka.getLicenseTypes():(new f["default"]).resolve(!0),collaborations:this.showCollabOrgsFilter&&this.portal.canHavePartnerCollab()?G["default"].getCollaborations():null,coordinators:this.user.userRole.canGetCoordinators()&&this.portal.canHavePartnerCollab()?G["default"].getAllCoordinators():null,categories:this.showCategoryFilter&&qa?M["default"].request({url:J["default"].restBaseUrl+
"portals/self/memberCategorySchema"}):null}).then(function(fa){var S,O,I,Z;aa.showCategoryFilter&&0<(null===(O=null===(S=fa.categories)||void 0===S?void 0:S.memberCategorySchema)||void 0===O?void 0:O.length)&&aa.initCategoriesFilter(fa.categories.memberCategorySchema);aa.appsFilter&&Q&&aa._initAppFilter();aa.userTypeFilter&&Y&&Q&&(aa._userLicenseTypes=fa.licenseTypes.userLicenseTypes,aa._initUserLicenseTypeFilter(aa._userLicenseTypes));aa.roleFilter&&Y&&aa._initRoleFilter(fa.roles);aa.groupsFilter&&
Y&&aa._initGroupFilter();aa.showCollabOrgsFilter&&(null===(Z=null===(I=fa.collaborations)||void 0===I?void 0:I.trustedOrgs)||void 0===Z?0:Z.length)&&(aa.collabOrgs=fa.collaborations.trustedOrgs.filter(function(W){return-1<W.from.established&&-1<W.to.established}),aa.emit("member-browser/trusted-orgs",{trustedOrgs:aa.collabOrgs}),aa.coordinators=fa.coordinators||[],aa.partnerCoordinators=aa.coordinators.filter(function(W){return W.orgId!==aa.portal.id}),aa.collabOrgs.filter(function(W){return"active"===
W.to.state}).length&&(aa.coordinatorsOnly=!0,aa.initCollabOrgsFilter()));aa.myGroupsFilter&&0<fa.myGroups.length&&aa._initMyGroupFilter(fa.myGroups);aa.outsideOrgFilter&&aa._initOrgFilter();ha.resolve(!0)},function(){ha.resolve(!1)});return ha};V.prototype._addListeners=function(){t["default"].dropdown();this.own(w["default"].subscribe(this._topicPrefix+"search/update",this._searchUpdate.bind(this)),w["default"].subscribe(this._topicPrefix+"filter/update",this._filterUpdate.bind(this)),w["default"].subscribe(this._topicPrefix+
"filter/clear",this._filterClear.bind(this)),w["default"].subscribe(this._topicPrefix+"filter/remove",this._filterRemove.bind(this)),w["default"].subscribe(this._topicPrefix+"sort/update",this._sortUpdate.bind(this)),w["default"].subscribe(this._topicPrefix+"pagination/page",this._paginationPage.bind(this)),k["default"](this._selectPageBtn,"click",this._selectPage.bind(this)),k["default"](this._deselectPageBtn,"click",this._deselectPage.bind(this)),k["default"](this._deselectBtn,"click",this._clearSelection.bind(this)));
this._outsideOrgToggle&&this.own(this._outsideOrgToggle.on("change",this._onlyOrgUpdate.bind(this)));this.showSelected&&this.own(w["default"].subscribe(this._topicPrefix+"view/items/deselect",this._selectedMembersRemove.bind(this)))};V.prototype._onlyOrgUpdate=function(aa){this._onlyOrg=!aa;w["default"].publish(this._topicPrefix+"filter/clear",!0);var ha=this._onlyOrg&&this.user.isOrgUser;c["default"].showHide(this._selectPageBtn,this._onlyOrg&&this.user.isOrgUser);[this._roleFilter,this._organizationGroupsFilter,
this._userTypeFilter,this._appFilter,this.categoryFilter].filter(function(ia){return ia}).forEach(function(ia){return c["default"].showHide(ia.domNode,ha)});this.emit("outsideOrgChange",this._onlyOrg);this.collabOrgsFilter&&c["default"].showHide(this.collabOrgsFilter.domNode,!this._onlyOrg);this._renderMembers()};V.prototype._paginationPage=function(aa){this._page=n.__assign({},aa);this.numPerPage=this._pagination.num;this._renderMembers()};V.prototype._sortUpdate=function(aa){var ha=aa.property,
ia=aa.ascending;aa=aa.label;this._page.start=1;this._sort={property:ha,ascending:ia,label:aa};this._renderMembers()};V.prototype._filterRemove=function(aa){delete this._filterState[aa.param];this._renderMembers()};V.prototype._filterClear=function(){this._page.start=1;this._filterState={};this._renderMembers()};V.prototype._filterUpdate=function(aa){this._page.start=1;this._filterState[aa.param]=aa.selected;this._renderMembers()};V.prototype._searchUpdate=function(aa){this._searchTerm=aa;this._page.start=
1;this._renderMembers()};V.prototype._getMembers=function(){var aa=this;return M["default"].request({url:this._getUrl(),content:this._getParams()}).then(function(ha){aa._page={total:ha.total,start:ha.start,num:ha.num,nextStart:ha.nextStart};aa._pagination.render(aa._page);aa._updateGridMemberCount(ha.total);return ha.results},function(ha){return 0})};V.prototype._getExactUser=function(aa){var ha=this,ia,ka,qa,Y,Q=new f["default"],fa=aa.some(function(O){return O.username.toLowerCase()===ha._searchTerm.trim().toLowerCase()}),
S=null===(qa=null===(ka=null===(ia=this.group)||void 0===ia?void 0:ia.members)||void 0===ka?void 0:ka.users)||void 0===qa?void 0:qa.some(function(O){return O.username.toLowerCase()===ha._searchTerm.trim().toLowerCase()});ia="collaboration"===(null===(Y=this.group)||void 0===Y?void 0:Y.membershipAccess);!(0<this._searchTerm.trim().length)||fa||S||1!==this._page.start||!this.showExactMatchedUser||ia||this._onlyOrg&&!this.portal.isPortal?Q.resolve({members:aa}):M["default"].request({url:J["default"].restBaseUrl+
"/community/users/"+this._searchTerm}).then(function(O){!O.username||O.firstName||O.fullName||O.lastName||(O.fullName=O.username,O.firstName=O.username);Q.resolve({members:aa,user:O})},function(O){Q.resolve({members:aa})});return Q};V.prototype._updateGridMemberCount=function(aa){var ha=this._pagination.getCurrentPageObj();this._gridMemberCount.textContent=e["default"].getPageRangeString({start:0===aa?0:ha.start,end:ha.end,total:ha.total})};V.prototype._getUrl=function(){return this._onlyOrg&&this.user.isOrgUser?
J["default"].restBaseUrl+"/portals/self/users/search":J["default"].restBaseUrl+"/community/users"};V.prototype._getParams=function(){var aa=this,ha,ia,ka,qa,Y,Q,fa=this._searchTerm;fa=fa?"("+fa+")":"";var S=Object.keys(this._filters).filter(function(W){return aa._filterState[W]&&"categories"!==W}).reduce(function(W,ca){return W+" "+aa._filterState[ca][0].q},""),O=this.user.isOrgUser?"+(orgid: [0 TO \\{])":"-(orgid: [0 TO \\{])";O=this._onlyOrg?"":O;var I=this._filterState.collabOrg?"orgid:"+this._filterState.collabOrg[0].value:
"",Z="";(null===(ha=this.group)||void 0===ha||!ha.isSharedOwnership)&&"collaboration"!==(null===(ia=this.group)||void 0===ia?void 0:ia.membershipAccess)||this._onlyOrg||I||(ha=this.collabOrgs.filter(function(W){return"active"===W.to.state}).map(function(W){return W.to.orgId}),Z="(orgid:"+this.portal.id+" "+(ha.length?" OR orgid:"+ha.join(" OR orgid:"):"")+")");ha=(J["default"].systemUsers||[]).reduce(function(W,ca){return W+" -username: "+ca},"");ia=this.excludeCurrentUser?'-username:"'+this.user.username+
'"':"";fa=n.__assign({sortField:this._sort.property,sortOrder:this._sort.ascending?"asc":"desc",q:(this._onlyOrg&&(null===(ka=this.portal)||void 0===ka?0:ka.id)?"(orgid:"+this.portal.id+")":"")+" "+this.baseQuery+" "+fa+" "+S+" "+(Z||I||O)+" "+ha+" "+ia},this._page);this.coordinatorsOnly&&0<this.coordinators.length&&!this._onlyOrg&&(fa.filter="(username:"+this.coordinators.map(function(W){return W.username}).join(" OR username:")+")");if(null===(qa=this._filterState.categories)||void 0===qa?0:qa[0])ka=
this._filterState.categories[0].value,fa.categories="_none_"===ka?"null":JSON.stringify([ka]);this.showCollabOrgsFilter&&this.collabOrgs.length&&(null===(Y=this.user.userRole)||void 0===Y?0:Y.canManageCollaborationGroupMembers())&&(null===(Q=this.user.userRole)||void 0===Q?0:Q.canViewOrgUsers())&&(fa.searchUserAccess="includeTrustedOrgs");return fa};V.prototype._renderMembers=function(aa){var ha=this,ia;if(this._filterState.collabOrg){var ka=this._filterState.collabOrg[0].value;var qa=this.collabOrgs.filter(function(Q){return Q.to.orgId===
ka})[0];var Y="suspended"===(null===qa||void 0===qa?void 0:qa.to.state)}Y&&"collaboration"===(null===(ia=this.group)||void 0===ia?void 0:ia.membershipAccess)?(c["default"].hideNodes([this.domNode.querySelector(".js-grid"),this._searchForResults]),this.domNode.querySelector(".js-suspended-text").textContent=this.i18n.GroupWidget.suspendedCollabResults.replace("${orgName}",null===qa||void 0===qa?void 0:qa.to.name),c["default"].showNode(this.domNode.querySelector(".js-suspended-collab")),c["default"].hideNode(this._pagination.domNode)):
(c["default"].showNode(this.domNode.querySelector(".js-grid")),c["default"].hideNode(this.domNode.querySelector(".js-suspended-collab")),this._noResults.classList.add("hide"),this._grid.classList.add("hide"),this._pagination.hide(),(this._rows||[]).forEach(function(Q){return Q.destroy()}),ia=!this._onlyOrg&&!this._searchTerm&&0===Object.keys(this._filterState).length&&!this.coordinatorsOnly,c["default"].showHide(this._searchForResults,ia),ia?(this._fadeIn(),860<=window.innerWidth&&this._controlBar.focus(),
c["default"].hideNode(this._grid),c["default"].hideNode(this._gridMemberCount)):(aa||this._loader.classList.add("is-active"),this._page.num=this.numPerPage,this._getMembers().then(this._getExactUser.bind(this)).then(function(Q){var fa;ha.user.userRole.canGetCoordinators()&&ha.portal.canHavePartnerCollab()&&(null===(fa=ha.collabOrgsFilter)||void 0===fa?void 0:fa.showCoordinatorsToggle());fa=Q.members;Q=Q.user;var S=M["default"].getToken(),O=0<Object.keys(ha._filterState).length,I=ha.domNode.querySelector(".js-count-and-status");
ha._rows=[];ha._grid.innerHTML="";ha._loader.classList.remove("is-active");if(Q&&!O&&!ha.coordinatorsOnly){fa.push(Q);ha._pagination.hide();var Z=ha._pagination.getCurrentPageObj();ha._gridMemberCount.textContent=e["default"].getPageRangeString({start:Z.start,end:fa.length,total:Z.total+1})}if(0===fa.length){ha._noResults.innerHTML=ha.emptyText;if(O||ha._searchTerm)ha._noResults.innerHTML=C["default"].GroupWidget.noMembers;c["default"].hideNode(ha._selectPageBtn);ha._noResults.classList.remove("hide");
ha._fadeIn()}else{c["default"].showNode(ha._selectPageBtn);ha._rows=fa.map(function(W){if(ha._onlyOrg)var ca=new d["default"](n.__assign(n.__assign({},W),{portal:ha.portal}));else ca=n.__assign(n.__assign({},W),{thumbnailUrl:""}),W.thumbnail&&(ca.thumbnailUrl=J["default"].restBaseUrl+"/community/users/"+W.username+"/info/"+W.thumbnail+"?token\x3d"+S);var T=!!b["default"].find(ha.selected,function(da){return da.username===W.username}),P=!T&&u["default"].isDefined(ha.selectionLimit)&&ha.selected.length>=
ha.selectionLimit,X=ha.coordinators.filter(function(da){return da.username===ca.username})[0];ca.isCoordinator=!!X;X&&(ca.orgName=X.orgName||"");T=new ha.row({member:ca,container:ha,portal:ha.portal,selected:T,disabled:P,disabledText:ha._selectionLimitText});T.on("select",ha._selectMember.bind(ha));T.on("deselect",ha._deselectMember.bind(ha));return T});h["default"](ha._rows.map(function(W){return W.startup()})).then(function(){return c["default"].appendChildren(ha._rows.map(function(W){return W.domNode}),
ha._grid)});ha._fadeIn();c["default"].showNode(ha._grid);if(O||0<fa.length)c["default"].showNode(ha._gridMemberCount),ha._pagination.render(ha._page);O||Q||!(0<fa.length)||ha.selected&&0!==ha.selected.length||c["default"].showNode(I)}ha._showHideSelect()},function(Q){return 0})))};V.prototype._fadeIn=function(){if(!this._initialLoad){var aa=this.domNode.querySelector(".js-member-browser-wrapper");aa.classList.remove("hide");aa.classList.add("animate-fade-in");this._initialLoad=!0}};V.prototype._showHideSelect=
function(){var aa=this,ha,ia,ka=0<this.selected.length,qa=this.selectionLimit&&this.selected.length>=this.selectionLimit;c["default"].showHide(this.domNode.querySelector(".js-show-on-select"),ka);c["default"].showHide(this.domNode.querySelector(".js-count-and-status"),!ka);var Y=!(null===(ha=this._rows)||void 0===ha||!ha.length);ha=ka&&Y&&this._rows.every(function(Q){return Q.selected});Y=!ha&&!qa&&Y;c["default"].showHide(this._deselectPageBtn,ha);c["default"].showHide(this._selectPageBtn,Y);this.selectionLimit&&
((this._rows||[]).forEach(function(Q){Q[qa&&!Q.isSelected()?"disable":"enable"](aa._selectionLimitText)}),ha=this._selectPageBtn.parentNode,ka=(null===(ia=this._rows)||void 0===ia?void 0:ia.length)||0,this.selected.length+ka>this.selectionLimit&&Y?(ha.classList.add("tooltip"),ha.classList.add("tooltip-bottom-right"),ha.setAttribute("aria-label",this._selectionLimitText),this._selectPageBtn.disabled=!0):(ha.classList.remove("tooltip"),ha.classList.remove("tooltip-bottom-right"),ha.removeAttribute("aria-label"),
this._selectPageBtn.removeAttribute("disabled")))};V.prototype._selectMember=function(aa){this.selected.push(aa);this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};V.prototype._deselectMember=function(aa){this.selected=this.selected.filter(function(ha){return ha.username!==aa.username});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};V.prototype._selectedMembersRemove=function(aa){this._deselectMember(aa)};
V.prototype._selectPage=function(){this._rows.forEach(function(aa){return!aa.selected&&aa.toggleSelected()});this._showHideSelect()};V.prototype._deselectPage=function(){this._rows.forEach(function(aa){return aa.selected&&aa.toggleSelected()});this._showHideSelect()};V.prototype._clearSelection=function(){this._rows.forEach(function(aa){return aa.selected&&aa.toggleSelected(!0)});this.selected=[];this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};
V.prototype._getUserGroups=function(){var aa=this;return M["default"].request({url:this.portal.url+"community/users/"+this.user.username}).then(function(ha){return(ha.groups||[]).filter(function(ia){return!aa.group||aa.group.id!==ia.id}).sort(function(ia,ka){var qa="owner"===ia.userMembership.memberType?1:-1,Y="owner"===ka.userMembership.memberType?1:-1,Q=ia.title.toLowerCase(),fa=ka.title.toLowerCase();return qa!==Y?Y-qa:Q>fa?1:Q<fa?-1:0})},function(){return[]})};V.prototype._initOrgFilter=function(){var aa;
M["default"].isPortal()||(this._outsideOrgToggle=new y["default"]({label:"collaboration"===(null===(aa=this.group)||void 0===aa?void 0:aa.membershipAccess)?C["default"].searchResults.includePartner:C["default"].searchResults.searchAGOL,labelPosition:"left",labelClasses:"trailer-half font-size--1",isChecked:!this._onlyOrg,disabled:this.outsideOrgFilterDisable,tooltip:this.outsideOrgFilterDisableText,tooltipClass:this.outsideOrgFilterDisableText?"tooltip tooltip-multiline":""},this.domNode.querySelector(".js-outside-org-toggle")))};
V.prototype._initAppFilter=function(){var aa=this,ha=document.createElement("section");this._filtersContainer.appendChild(ha);this.appsFilter.forEach(function(ia){aa._filters.app.options[ia.id]={value:ia.id,q:"app:"+ia.id,label:ia.name}});this._appFilter=new B["default"]({title:this.i18n.myOrganization.manageLicenseMembers.app,searchText:this.i18n.myOrganization.manageLicenseMembers.app,filterParameter:this._filters.app,active:!1},ha)};V.prototype._initGroupFilter=function(){var aa=document.createElement("section");
this._filtersContainer.appendChild(aa);this._organizationGroupsFilter=new z["default"]({portal:this.portal,filterParameter:this._filters.orgGroup,active:!1},aa)};V.prototype._initMyGroupFilter=function(aa){var ha=this,ia=document.createElement("section");this._filtersContainer.appendChild(ia);aa.forEach(function(ka){ha._filters.group.options[ka.id]={value:ka.id,q:"group:"+ka.id,label:ka.title}});this._groupFilter=new B["default"]({title:this.i18n.GroupWidget.myGroups,searchText:this.i18n.GroupWidget.searchMyGroups,
filterParameter:this._filters.group,filterCssClasses:"filter--wrap",topic:this._topicPrefix,active:!1},ia)};V.prototype.initCollabOrgsFilter=function(){var aa=this;if(this.collabOrgs.length){var ha={};this.collabOrgs.sort(function(ia,ka){var qa=ia.to.name,Y=ka.to.name;return qa>Y?1:qa<Y?-1:0}).forEach(function(ia,ka){var qa=ia.to,Y=qa.orgId,Q=qa.name;ha[ia.to.orgId]={value:Y,q:"collabOrg:"+Y,label:"suspended"===qa.state?Q+" ("+aa.i18n.searchFilters.suspended+")":Q}});this.collabOrgsFilter=new D["default"]({filterParameter:{param:"collabOrg",
chipText:this.i18n.searchFilters.collabChipText,topicPrefix:this._topicPrefix,options:ha}});this.own(this.collabOrgsFilter.on("coordinators-only",function(ia){aa.coordinatorsOnly=ia.checked;aa._renderMembers()}));this._filtersContainer.insertBefore(this.collabOrgsFilter.domNode,this._filtersContainer.lastChild);this.collabOrgsFilter.hide()}};V.prototype.initCategoriesFilter=function(aa){return n.__awaiter(this,void 0,void 0,function(){var ha,ia=this;return n.__generator(this,function(ka){ha=document.createElement("section");
this._filtersContainer.appendChild(ha);this.categoryFilter=new F["default"]({props:{portal:this.portal,user:this.portal.portalUser,filterContainer:this._filtersContainer,disableEdit:!this.isAdmin,categories:aa,isMemberCategories:!0,topicPrefix:this._topicPrefix}},ha);this.own(w["default"].subscribe("member-categories-and-count/update",function(qa){ia.categoryFilter.updateCategories(qa.categories);ia.updateCategoriesCount()}));return[2]})})};V.prototype.updateCategoriesCount=function(){return n.__awaiter(this,
void 0,void 0,function(){var aa;return n.__generator(this,function(ha){switch(ha.label){case 0:return[4,H.getMemberCategoriesCount(this.portal)];case 1:return aa=ha.sent(),this.categoryFilter.updateCategorizedMembers(aa),[2]}})})};V.prototype._initUserLicenseTypeFilter=function(aa){var ha=this,ia=document.createElement("section");this._filtersContainer.appendChild(ia);aa.forEach(function(ka){ha._filters.userLicenseType.options[ka.id]={value:ka.id,q:"userlicensetype:"+ka.id,label:ka.name}});this._userTypeFilter=
new B["default"]({title:this.i18n.myOrganization.membersTab.licenseType,searchText:this.i18n.myOrganization.membersTab.filterUserTypes,filterParameter:this._filters.userLicenseType,active:!1},ia)};V.prototype._initRoleFilter=function(aa){var ha=this;this._roles=aa.map(function(ia){ia.id===ha.SYSTEM_ROLES.VIEWER&&(ia.name=ha.i18n.myOrganization.formatters.roleViewer);ia.id===ha.SYSTEM_ROLES.DATA_EDITOR&&(ia.name=ha.i18n.myOrganization.formatters.roleViewerEdit);ia.id===ha.SYSTEM_ROLES.FACILITATOR&&
(ia.name=ha.i18n.myOrganization.formatters.roleFacilitator);return ia}).concat([{id:"org_publisher",name:C["default"].myOrganization.formatters.rolePublisher},{id:"org_admin",name:C["default"].myOrganization.formatters.roleAdmin},{id:"org_user",name:C["default"].myOrganization.formatters.roleUser}]).filter(this.roleFilterExclude).sort(function(ia,ka){var qa=ia.name.toLowerCase(),Y=ka.name.toLowerCase();return qa>Y?1:qa<Y?-1:0});this._roles.forEach(function(ia){ha._filters.role.options[ia.id]={value:ia.id,
q:"role:"+ia.id,label:ia.name}});aa=document.createElement("section");this._filtersContainer.appendChild(aa);this._roleFilter=new B["default"]({title:this.i18n.myOrganization.membersTab.role,searchText:this.i18n.myOrganization.membersTab.filterRoles,filterParameter:this._filters.role,active:!1},aa)};return V=n.__decorate([ba["default"](l["default"],r["default"],U["default"],g["default"])],V)}()})},"arcgisonline/pages/dijit/Pagination":function(){define("require exports tslib dojo/on dojo/topic dojo/query dojo/string dojo/dom-attr dojo/dom-class dojo/_base/event dijit/_TemplatedMixin dijit/_WidgetBase calcite-web/js/calcite-web ../pageUtil ../utils/dom ../utils/icons dojo/text!./Pagination/templates/Number.html dojo/text!./Pagination/templates/Ellipsis.html dojo/text!./Pagination/templates/Pagination.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function p(q,y){this.templateString=
b["default"];this.pageSizeLabel=c["default"].contentPage.paginationPerPage;this.i18n=c["default"];this.icons=d["default"];this.smallestPageSize=this.num=20;this.topic=""}p.prototype.postCreate=function(){this.inherited(arguments);this._addEventListeners();this.hideDropdown&&l["default"].hideNode(this._pageDropdown)};p.prototype.render=function(q){this.total=q.total;this.start=q.start;this.nextStart=q.nextStart;this.end=-1===this.nextStart?this.total:this.nextStart-1;this.currentPage=(this.start-1)/
this.num+1;this.pages=Math.ceil(this.total/this.num);this._updateUI()};p.prototype._addEventListeners=function(){var q=this;this.own(t["default"](this.next,"click",function(y){w["default"].stop(y);q.nextPage()}),t["default"](this.pageLinks,"click",function(y){var B;w["default"].stop(y);y=g["default"].get(y.target,"data-page");null===(B=q.telemetry)||void 0===B?void 0:B.logEvent({pageUrl:window.location.href,category:"Change page",action:y});q.selectPage(y)}),t["default"](this.previous,"click",function(y){w["default"].stop(y);
q.previousPage()}),h["default"](".js-page-num-link",this.domNode).on("click",function(y){y=y.target.getAttribute("data-num");q.updateNum(y)}))};p.prototype._updateUI=function(){var q=this.currentPage,y=Math.min(this.pages,Math.floor(1E4/this.num)),B=h["default"](".js-btn-previous",this.domNode),z=h["default"](".js-btn-next",this.domNode);h["default"](".js-btn",this.domNode).addClass("btn-transparent");1===q?B.addClass("btn-disabled").attr("tabindex",-1):B.removeClass("btn-disabled").removeAttr("tabindex");
-1===this.nextStart||1E4<this.nextStart+this.num?z.addClass("btn-disabled").attr("tabindex",-1):z.removeClass("btn-disabled").removeAttr("tabindex");this._pageNumLabel.innerHTML=f["default"].substitute(this.pageSizeLabel,{num:this.num});h["default"](".js-page-num-link",this.domNode).removeClass("is-active");h["default"](".js-page-num-link[data-num\x3d'"+this.num+"']",this.domNode).addClass("is-active");if(1<y){z=Math.max(4,q);var D=12<y&&y<z+3;B=[];if(6>y)for(z=1;z<=y;z++)B.push(z);else{if(4<q)B.push(1,
"..."),D||B.push(q-1,q);else for(var F=1;F<=q;F++)B.push(F);if(4>q&&4<y)for(F=q+1;4>=F;F++)B.push(F);if(D)for(z=y-3;z<=y;z++)B.push(z);else if(2<y-z)B.push(z+1,"...",y);else for(z+=1;z<=y;z++)B.push(z)}this.pageLinks.innerHTML='\x3cul class\x3d"clear-list-style flex-center"\x3e'+B.reduce(function(x,E){var G=E===q;return x+f["default"].substitute("..."===E?a["default"]:e["default"],{pageNum:E,"is-active":G?"no-pointer pagination-btn--active":"btn-transparent pagination-btn--inactive",label:f["default"].substitute(G?
c["default"].contentPage.paginationActive:c["default"].contentPage.paginationLink,{pageNum:E}),current:G?"aria-current\x3d'true' tabindex\x3d'-1'":""})},"")+"\x3c/ul\x3e";k["default"].remove(this.domNode,"hide");k["default"].remove(this.navigation,"hide")}else this.total>this.smallestPageSize?(k["default"].add(this.navigation,"hide"),k["default"].remove(this.domNode,"hide")):k["default"].add(this.domNode,"hide");h["default"](".js-over-limit",this.domNode).removeClass("is-active");1E4<=this.total&&
1E4<=this.start+this.num&&h["default"](".js-over-limit",this.domNode).addClass("is-active")};p.prototype.setInitialProperties=function(q){this.start=q.start||this.start;this.num=q.num||this.num;this._updateUI()};p.prototype.selectPage=function(q){this.currentPage=parseInt(q||1,10);this.start=(this.currentPage-1)*this.num+1;this.nextStart=this.start+this.num>this.total?-1:this.start+this.num;this.end=-1===this.nextStart?this.total:this.nextStart-1;this._updateUI();this.topic||r["default"].updateQueryParams({start:this.start,
num:this.num});u["default"].publish(this.topic+"pagination/page",this.getCurrentPageObj())};p.prototype.nextPage=function(){var q;this.currentPage=Math.min(this.currentPage+1,this.pages);null===(q=this.telemetry)||void 0===q?void 0:q.logEvent({pageUrl:window.location.href,category:"Change page",action:"Next"});this.selectPage(this.currentPage)};p.prototype.previousPage=function(){var q;this.currentPage=Math.max(this.currentPage-1,1);null===(q=this.telemetry)||void 0===q?void 0:q.logEvent({pageUrl:window.location.href,
category:"Change page",action:"Prev"});this.selectPage(this.currentPage)};p.prototype.updateNum=function(q){var y,B=parseInt(q,10);B!==this.num&&(this.num=B,this.pages=Math.ceil(this.total/this.num),null===(y=this.telemetry)||void 0===y?void 0:y.logEvent({pageUrl:window.location.href,category:"Row count per page",action:q}),this.selectPage(1),A["default"].bus.emit("dropdown:close"))};p.prototype.getCurrentPageObj=function(){return{num:this.num,total:this.total,start:this.start,end:this.end,nextStart:this.nextStart,
currentPage:this.currentPage,pages:this.pages}};p.prototype.hide=function(){this.domNode.classList.add("hide")};p.prototype.show=function(){this.domNode.classList.remove("hide")};return p=n.__decorate([m["default"](C["default"],v["default"])],p)}()})},"arcgisonline/pages/dijit/ControlBar":function(){define("require exports tslib calcite-web/js/calcite-web dojo/debounce dojo/dom-construct dojo/string dojo/topic dojo/on dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ./SearchInput ../components/ViewToggle ../components/SortDropdown ../components/Refresh ../organization/widgets/SearchDropdown ../pageUtil ../utils/icons ../utils/productGlyphs dojo/text!./ControlBar/templates/ControlBar.html dojo/text!./ControlBar/templates/Filters.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator preact preact/compat".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=
n.__importDefault(q);y=n.__importDefault(y);return function(){function D(F,x){this.templateString=m["default"];this.i18n=q["default"];this.icons=b["default"];this.productGlyphs=c["default"];this.showOnResize=!0;this.mobileBreakPoint=860;this.screenWidth=1080;this.telemetryOptions=this.telemetry=void 0;this.collapsed=!1;this.hideMobileActions=!0;this.refresh=!1;this.refreshLabel="";this.dontUpdateQueryParams=!1}D.prototype.postMixInProperties=function(){this.inherited(arguments);this.showFilters=this.showFilters.bind(this);
this.hideFilters=this.hideFilters.bind(this);this.searchActionClass=this.actions?"control-bar__search--has-actions":"";this.filterActiveClass=this.collapsed?"":"is-active";this.hideFilterClass=this.noFilters?"hide":"";this.hideActionClass=this.hideMobileActions?"control-bar--hide-mobile-actions":"";this.positionAbsoluteClass=this.absolute?"control-bar--absolute":"";this.search.cssTheme="control-bar__search-input flex-1";this.queryParams=a["default"].getQueryParams();this.hideRightClass=this.filterContainer||
this.views||this.sort?"":"control-bar--hide-right";this.marginClass=this.noMargin?"control-bar--no-margin":""};D.prototype.postCreate=function(){var F=this,x,E,G,H,J;this.inherited(arguments);if(this.filterContainer){var M=h["default"].toDom(f["default"].substitute(p["default"],{i18n:q["default"],icons:b["default"]})),K=this.filterContainer.parentNode;K.insertBefore(M,this.filterContainer);K.querySelector(".js-filters-insert").appendChild(this.filterContainer);this.filtersWrap=K.querySelector(".js-filters-mobile-wrap");
this.filtersWrapParent=K;("false"===this.queryParams.showFilters||this.noFilters||this.collapsed)&&this.filtersWrap.classList.add("is-collapsed")}this.search&&(this.searchDropdown&&(this.search.searchBy=null!==(x=this.queryParams.searchBy)&&void 0!==x?x:"fullname"),this.search.topic=this.topic,this.telemetry&&(null===(E=this.telemetryOptions)||void 0===E?0:E.search)&&(this.search.telemetry=this.telemetry),this._searchInput=new A["default"](this.search,this.domNode.querySelector(".js-control-bar-search")));
this.views&&(this.views.topic=this.topic,this.telemetry&&(null===(G=this.telemetryOptions)||void 0===G?0:G.viewToggle)&&(this.views.telemetry=this.telemetry),this._viewToggle=B.render(B.h(r["default"],n.__assign({},this.views)),this.domNode.querySelector(".js-control-bar-view-dropdown")));this.refresh&&(x=this.domNode.querySelector(".js-control-bar-refresh"),x.classList.remove("hide"),B.render(B.h(d["default"],{topic:this.topic,label:this.refreshLabel}),x));this.sort&&(x={options:this.sort,topic:this.topic,
telemetry:this.telemetry&&(null===(H=this.telemetryOptions)||void 0===H?0:H.sortOrderToggle)?this.telemetry:null},this._sortDropdown=B.render(B.h(l["default"],n.__assign({},x)),this.domNode.querySelector(".js-control-bar-sort-dropdown")));this.searchDropdown&&(this._searchDropdown=new e["default"]({},this.domNode.querySelector(".js-control-bar-search-dropdown")));this.actions?this.domNode.querySelector(".js-control-bar-actions").innerHTML=f["default"].substitute(this.actions,{i18n:q["default"],icons:b["default"],
productGlyphs:c["default"]}):h["default"].destroy(this.domNode.querySelector(".js-control-bar-actions"));this.noFilters&&(null===(J=this.filterContainer)||void 0===J?void 0:J.parentNode.removeChild(this.filterContainer));if(this.sticky)var L=setInterval(function(){var U;0<(null===(U=F.domNode)||void 0===U?void 0:U.clientHeight)&&(clearInterval(L),F.initStickyInterface())},100);this.filtersWrap&&("false"===this.queryParams.showFilters?(this.hideFilters(),this.showOnResize=!1):this.resizeHandler(),
window.innerWidth<this.mobileBreakPoint&&this.insideOverlay&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap));this.domNode.querySelector(".js-toggle-filters").setAttribute("aria-expanded",this.collapsed?"false":"true");this.own(w["default"](".js-toggle-filters",this.domNode).on("click",function(){return F.toggleFilters()}),k["default"](window,"resize",u["default"](function(){return F.resizeHandler()},30)),w["default"](".js-collapse-filters-button",this.filtersWrap).on("click",
function(){return F.hideFilters()}),g["default"].subscribe(this.topic+"search/error",this.showSearchError.bind(this)),g["default"].subscribe(this.topic+"search/update",this.hideSearchError.bind(this)))};D.prototype.destroy=function(){this.domNode&&(this.sort&&z.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-sort-dropdown")),this.views&&z.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-view-dropdown")));this.inherited(arguments)};D.prototype.setSearchValue=function(F){g["default"].publish("search/setValue",
F,!0);this._searchInput.setValue(F,!0)};D.prototype.getSearchValue=function(){return this._searchInput.getValue()};D.prototype.toggleFilters=function(){var F,x;if(null===(F=this.telemetryOptions)||void 0===F?0:F.filterToggle)null===(x=this.telemetry)||void 0===x?void 0:x.logEvent({category:"Control Bar Filter Toggle",action:this.collapsed?"show":"hide",pageUrl:window.location.href});this.collapsed?this.showFilters():this.hideFilters();this.screenWidth>this.mobileBreakPoint&&(this.showOnResize=!this.collapsed)};
D.prototype.showFilters=function(){var F=window.document.documentElement;this.collapsed=!1;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!0});this.filtersWrap&&this.filtersWrap.classList.remove("is-collapsed");var x=this.domNode.querySelector(".js-toggle-filters");x.classList.add("is-active");x.setAttribute("aria-expanded","true");this.screenWidth<this.mobileBreakPoint&&F.classList.add("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.hideFilters=
function(){var F=window.document.documentElement;this.collapsed=!0;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!1});this.filtersWrap&&this.filtersWrap.classList.add("is-collapsed");var x=this.domNode.querySelector(".js-toggle-filters");x.classList.remove("is-active");x.setAttribute("aria-expanded","false");F.classList.remove("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.resizeHandler=function(){var F=window.innerWidth,x=window.document.documentElement;
!this.collapsed&&900<=this.screenWidth&&900>F&&this.hideFilters();this.showOnResize&&this.collapsed&&900>this.screenWidth&&900<=F&&this.showFilters();(720>this.screenWidth&&720<=F||720<=this.screenWidth&&720>F)&&g["default"].publish("view/refresh");this._searchInput&&480<=this.screenWidth&&480>F&&g["default"].publish("search/setPlaceholder",q["default"].common.search);this._searchInput&&480>this.screenWidth&&480<=F&&this._searchInput.setPlaceholder();F>this.mobileBreakPoint&&x.classList.remove("filters-open");
this.moveFilters(F);this.screenWidth=F};D.prototype.setPlaceholder=function(F){this._searchInput.setPlaceholder(F)};D.prototype.focus=function(){var F;null===(F=this._searchInput)||void 0===F?void 0:F.focus()};D.prototype.initStickyInterface=function(){window.scrollTo(0,0);t["default"].sticky();this._scrollingSideMenu=this.filterContainer.querySelector(".js-scrolling-side-menu");this._scrollingMenusStart=this.domNode.getBoundingClientRect().top;this._scrollingOptionsMenuPlaceHolder=h["default"].create("div",
{"class":"js-scrolling-top-menu-placeholder hide",style:"height:\n          "+(this.domNode.clientHeight+Number(getComputedStyle(this.domNode)["margin-bottom"].split("px")[0]))+"px;"},this.domNode,"before");this.own(t["default"].bus.on("scrolling:at",this.stickyCallback?this._handlePageScrollWithCallback.bind(this):this.handlePageScroll.bind(this)))};D.prototype.showSearchError=function(F,x){var E;(null===(E=this._searchInput)||void 0===E?void 0:E.id)===x&&(E=this.domNode.querySelector(".js-control-bar-search-error"),
E.innerHTML=F,E.classList.add("is-active"),this.domNode.querySelector("js-control-bar-search-wrap").classList.add("ontrol-bar__search--error"))};D.prototype.hideSearchError=function(F){this._searchInput&&this._searchInput.id===F&&(F=this.domNode.querySelector(".js-control-bar-search-error"),F.innerHTML="",F.classList.remove("is-active"),this.domNode.querySelector(".js-control-bar-search-wrap").classList.remove("control-bar__search--error"))};D.prototype._handlePageScrollWithCallback=function(F,x){this.handlePageScroll();
this.stickyCallback(F,x)};D.prototype.handlePageScroll=function(){var F=document.documentElement,x=this.domNode.clientHeight;(window.pageYOffset||F.scrollTop)>=this._scrollingMenusStart?(this._scrollingOptionsMenuPlaceHolder.classList.remove("hide"),this.domNode.classList.add("fixed-to"),window.innerWidth>this.mobileBreakPoint?(this._scrollingSideMenu.classList.add("fixed-to"),this._scrollingSideMenu.style.top=x+"px"):this._scrollingSideMenu.style.top="0"):(this._scrollingOptionsMenuPlaceHolder.classList.add("hide"),
this.domNode.classList.remove("fixed-to"),this._scrollingSideMenu.classList.remove("fixed-to"),this._scrollingSideMenu.style.top="0")};D.prototype.moveFilters=function(F){this.insideOverlay&&this.filtersWrap&&(this.screenWidth<this.mobileBreakPoint&&F>=this.mobileBreakPoint&&h["default"].place(this.filtersWrap,this.filtersWrapParent,"first"),this.screenWidth>=this.mobileBreakPoint&&F<this.mobileBreakPoint&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap))};return D=
n.__decorate([y["default"](C["default"],v["default"])],D)}()})},"arcgisonline/pages/dijit/SearchInput":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/debounce dojo/dom-class dojo/on dojo/i18n!../../nls/arcgisonline dojo/text!./SearchInput/SearchInput.html dijit/_TemplatedMixin dijit/_WidgetBase esri/libs/sanitizer/Sanitizer ../utils/icons ../utils/dom ../utils/strings".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d){t=n.__importDefault(t);u=n.__importDefault(u);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(a,b){var c=this;this.templateString=w["default"];this.i18n=k["default"];this.icons=r["default"];this.queryParam=this.cssTheme=this.searchTerm="";this.hasSearchBy=!1;this.topic=this.searchBy="";this.dontDebounce=!1;this.sanitizer=
new A["default"];this.searchStarted=this.cancelDebounce=!1;this._searchWithDebounce=h["default"](function(m){c.cancelDebounce||c._search(m);c.cancelDebounce=!1},1E3)}e.prototype.postMixInProperties=function(){this.inherited(arguments);this.searchTerm=this.params.searchTerm||"";this.cssTheme=this.cssTheme||"";this.queryParam=this.params.queryParam||"searchTerm";this.searchBy=this.params.searchBy||"";this.topic=this.params.topic||"";this.params.validateInput&&(this.validateInput=this.params.validateInput.bind(this));
this.params.generateErrorMessage&&(this.generateErrorMessage=this.params.generateErrorMessage.bind(this))};e.prototype.postCreate=function(){var a=this;this.inherited(arguments);this.searchInput.value=this.searchTerm;l["default"].showHide(this.clearBtn,!!this.searchTerm);this.clearBtn.innerHTML=r["default"].getIconWithTitle("x","16",k["default"].manageLicenses.clearLabel,this.id+"_clear_btn");this.own(g["default"](this.searchInput,"input",function(b){l["default"].showHide(a.clearBtn,!!a.searchInput.value);
b=b.target.value;(2<b.length||0===b.length)&&b!==a.searchTerm&&(a.searchTerm=b,u["default"].publish(a.topic+"search/wait",a.sanitizer.sanitize(b),a.queryParam),a._testAndSearch(b,!!b))}),g["default"](this.searchInput,"focus",function(b){f["default"].add(b.target.parentNode,"control-bar__search--active");a.searchInput.value&&l["default"].showNode(a.clearBtn);u["default"].publish("search/focus",a.searchTerm)}),g["default"](this.searchInput,"blur",function(b){f["default"].remove(b.target.parentNode,
"control-bar__search--active");a.searchStarted=!1}),g["default"](this.searchInput,"keydown",function(b){13===b.keyCode&&a._testAndSearch(b.target.value,!1)}),g["default"](this.clearBtn,"click",function(){a.searchInput.value="";l["default"].hideNode(a.clearBtn);a.searchTerm="";u["default"].publish(a.topic+"search/wait","",a.queryParam);a._testAndSearch("",!1);a.searchInput.focus()}),u["default"].subscribe("membersSearchBy/update",function(b){a.hasSearchBy&&(a.searchBy=b)}))};e.prototype.focus=function(){this.searchInput.focus()};
e.prototype.setValue=function(a,b){this.searchTerm=a;this.searchInput.value=a;l["default"].showHide(this.clearBtn,!!this.searchTerm);b||(u["default"].publish(this.topic+"search/wait",this.sanitizer.sanitize(a),this.queryParam),this._testAndSearch(a,!1))};e.prototype.getValue=function(){return this.searchInput.value};e.prototype.setPlaceholder=function(a,b){a=a||this.placeholder;b||(this.placeholder=a);this.searchInput.placeholder=a;this.searchInput.setAttribute("aria-label",a)};e.prototype.validateInput=
function(a,b){return!0};e.prototype.generateErrorMessage=function(a,b){return k["default"].controlBar.invalidSyntax};e.prototype._testAndSearch=function(a,b){void 0===b&&(b=!0);this.validateInput(a,this.searchBy)?(this.cancelDebounce=!1,b&&!this.dontDebounce?this._searchWithDebounce(a):(this._search(a),this.cancelDebounce=!0)):u["default"].publish(this.topic+"search/error",this.generateErrorMessage(a,this.searchBy),this.id)};e.prototype._search=function(a){var b,c=this.sanitizer.sanitize(a);c=d["default"].escapeQuestionMarks(c);
u["default"].publish(this.topic+"search/update",c,this.searchBy,this.id);null===(b=this.telemetry)||void 0===b?void 0:b.logEvent({category:"Search",action:this.searchStarted?"update":"start",label:a,pageUrl:window.location.href});this.searchStarted=!0};return e=n.__decorate([t["default"](C["default"],v["default"])],e)}()})},"arcgisonline/pages/components/ViewToggle":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic arcgisonline/pages/pageUtil calcite-web/js/calcite-web".split(" "),
function(R,N,n,t,u,h,f,g){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);R=function(k){function w(){var v=null!==k&&k.apply(this,arguments)||this;v.domNodeRef=t.createRef();v.toggleView=function(C){var A;C.stopPropagation();C=C.target.dataset.view;v.updateUI(C);null===(A=v.props.telemetry)||void 0===A?void 0:A.logEvent({category:"Control Bar View Selector",action:C,pageUrl:window.location.href});g["default"].bus.emit("dropdown:close")};
v.closeMenu=function(){var C;g["default"].bus.emit("dropdown:close");(null===(C=v.domNodeRef.current)||void 0===C?void 0:C.querySelector(".js-toggle-view-dropdown")).focus()};v.updateUI=function(C){v.setState({activeView:C});v.props.topic||f["default"].updateQueryParams({view:C});h["default"].publish(v.props.topic+"view/toggle",C)};return v}n.__extends(w,k);w.prototype.componentDidMount=function(){this.updateUI(this.props.activeView)};w.prototype.handleToggle=function(v){if(this.domNodeRef.current){var C=
this.domNodeRef.current;setTimeout(function(){if(C.classList.contains("is-active")){var A=C.querySelectorAll(".js-view-option")[0];null===A||void 0===A?void 0:A.focus()}},0)}};w.prototype.render=function(){var v=this,C=this.state.activeView,A=this.props.views;return t.h("div",{"class":"control-bar__action control-bar__action--view js-dropdown flex",ref:this.domNodeRef},t.h("button",{"class":"control-bar__btn\r\n          flex flex-align-center js-dropdown-toggle js-toggle-view-dropdown","aria-label":u["default"].viewToggle.selectView,
"aria-haspopup":"true","aria-controls":"viewmenu",onClick:function(r){return v.handleToggle(r)}},t.h("calcite-icon",{"class":"margin-right-quarter icon-inline",icon:C,scale:"s"}),t.h("span",{"class":"control-bar__btn-text"},u["default"].viewToggle[C])),t.h("div",{"class":"control-bar__overlay"}),t.h("div",{"class":"control-bar__dropdown-menu dropdown-menu",role:"menu",id:"viewmenu","aria-labelledby":"viewmenutitle"},t.h("h3",{"class":"control-bar__dropdown-menu__title",id:"viewmenutitle"},u["default"].viewToggle.view,
t.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":u["default"].common.close},t.h("calcite-icon",{"class":"icon-inline incon-inline--on-left",icon:"x",scale:"m"}))),t.h("nav",null,A.map(function(r){return t.h("button",{"class":"js-view-option dropdown-link control-bar__dropdown-item "+(r===C?"is-active":""),"data-view":r,role:"menuitem",onClick:v.toggleView},t.h("calcite-icon",{"class":"icon-inline",icon:r,scale:"s",flipRtl:!0}),t.h("span",
{"class":"control-bar__dropdown-item__label"},u["default"].viewToggle[r]))}),t.h("div",{"tab-index":"0","class":"js-focus-fence",onClick:this.closeMenu}))))};w.defaultProps={activeView:"grid",views:["table","list","grid"],topic:""};return w}(t.Component);N["default"]=R})},"arcgisonline/pages/components/SortDropdown":function(){define("require exports tslib preact ../utils/arrays dojo/i18n!../../nls/arcgisonline dojo/topic ../pageUtil calcite-web/js/calcite-web".split(" "),function(R,N,n,t,u,h,f,g,
k){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);var w={title:{asc:"alphabetical",desc:"reverseAlphabetical"},owner:{asc:"alphabetical",desc:"reverseAlphabetical"},modified:{asc:"leastRecent",desc:"mostRecent"},added:{asc:"leastRecent",desc:"mostRecent"},numviews:{asc:"leastToMost",desc:"mostToLeast"},relevance:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},lastlogin:{asc:"leastRecent",
desc:"mostRecent"},name:{asc:"alphabetical",desc:"reverseAlphabetical"},fullname:{asc:"alphabetical",desc:"reverseAlphabetical"},joined:{asc:"leastRecent",desc:"mostRecent"},level:{asc:"alphabetical",desc:"reverseAlphabetical"},role:{asc:"alphabetical",desc:"reverseAlphabetical"},created:{asc:"leastRecent",desc:"mostRecent"},email:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldAlias:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldName:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldType:{asc:"alphabetical",
desc:"reverseAlphabetical"},defaultFSOrder:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},mfaenabled:{asc:"ascending",desc:"descending"},membertype:{asc:"alphabetical",desc:"reverseAlphabetical"},username:{asc:"alphabetical",desc:"reverseAlphabetical"},layerName:{asc:"alphabetical",desc:"reverseAlphabetical"},layerType:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetName:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetPath:{asc:"alphabetical",desc:"reverseAlphabetical"},machine:{asc:"alphabetical",
desc:"reverseAlphabetical"},containerId:{asc:"alphabetical",desc:"reverseAlphabetical"},runtimeName:{asc:"alphabetical",desc:"reverseAlphabetical"},version:{asc:"alphabetical",desc:"reverseAlphabetical"},avgrating:{asc:"highestRated",desc:"highestRated",disabled:!0},custom:{asc:"mostRecent",desc:"leastRecent",disabled:!0},type:{asc:"alphabetical",desc:"reverseAlphabetical"}};R=function(v){function C(){var A=null!==v&&v.apply(this,arguments)||this;A.domNodeRef=t.createRef();A.state={ascending:!0,property:"",
label:"",sortEnabled:!0,disabled:!1,showOnlyRelevance:!1};A.sortDisable=function(){A.setState({showOnlyRelevance:!0})};A.sortEnable=function(){A.setState({showOnlyRelevance:!1})};A.handleSortOptionClick=function(r){var l;f["default"].publish(A.props.topic+"sort/update",r);null===(l=A.props.telemetry)||void 0===l?void 0:l.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};A.handleSortClick=function(r){var l;f["default"].publish(A.props.topic+"sort/update",
n.__assign(n.__assign({},A.state),{ascending:r}));null===(l=A.props.telemetry)||void 0===l?void 0:l.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};A.handleToggle=function(){if(A.domNodeRef.current){var r=A.domNodeRef.current;if(!r.classList.contains("is-active")){var l=r.querySelectorAll(".control-bar__dropdown-item")[0];l&&setTimeout(function(){l.focus()})}}};A.sortUpdate=function(r){var l,d=A.props,e=d.dontUpdateQueryParams;d=d.topic;var a=
r.ascending,b=r.property;r=r.label;A.state.sortEnabled||k["default"].bus.emit("dropdown:close");A.setState({ascending:a,property:b,label:r,ascendingLabel:h["default"].gallery[w[b].asc],descendingLabel:h["default"].gallery[w[b].desc],disabled:!(null===(l=w[b])||void 0===l||!l.disabled)});e||d||g["default"].updateQueryParams({sortOrder:a?"asc":"desc",sortField:b})};return A}n.__extends(C,v);C.prototype.componentDidMount=function(){var A=this,r=u["default"].find(this.props.options,function(d){return d.active}),
l=w[r.property];this.setState(n.__assign(n.__assign({},r),{ascendingLabel:h["default"].gallery[l.asc],descendingLabel:h["default"].gallery[l.desc],disabled:null===l||void 0===l?void 0:l.disabled}));this.sortUpdateHandler=f["default"].subscribe(this.props.topic+"sort/update",function(d){return A.sortUpdate(d)});this.sortDisableHandler=f["default"].subscribe(this.props.topic+"sort/disable",function(){return A.sortDisable()});this.sortEnableHandler=f["default"].subscribe(this.props.topic+"sort/enable",
function(){return A.sortEnable()})};C.prototype.componentWillUnmount=function(){[this.sortDisableHandler,this.sortEnableHandler,this.sortUpdateHandler].forEach(function(A){A.remove()})};C.prototype.render=function(){var A=this,r=this.state,l=r.label,d=r.ascendingLabel,e=r.descendingLabel,a=r.ascending,b=r.property,c=r.showOnlyRelevance;r=r.disabled;var m=this.props.options;return t.h("div",{"class":"control-bar__action control-bar__sort-dropdown js-dropdown",ref:this.domNodeRef},t.h("button",{"class":"control-bar__btn flex flex-align-center js-toggle-sort-dropdown js-dropdown-toggle js-toggle-btn",
"aria-label":h["default"].gallery.changeSortDirection,"aria-haspopup":"true","aria-controls":"sortmenu",onClick:function(){return A.handleToggle()}},t.h("calcite-icon",{"class":"margin-right-quarter",icon:"sort-descending",scale:"s"}),t.h("span",{"class":"control-bar__btn-text js-sort-label"},l)),t.h("div",{"class":"control-bar__overlay"}),t.h("div",{"class":"control-bar__dropdown-menu dropdown-menu js-control-bar-sort-dropdown",role:"menu",id:"sortmenu","aria-labelledby":"sortmenutitle"},t.h("h3",
{"class":"control-bar__dropdown-menu__title",id:"sortmenutitle"},h["default"].gallery.sortBy,t.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":"${i18n.common.close}"},t.h("calcite-icon",{icon:"x",scale:"m"}))),t.h("nav",{"class":"js-sort-options"},m.map(function(p){return t.h("button",{"class":"js-sort-option control-bar__dropdown-item dropdown-link padding-right-1 "+(b===p.property?"is-active":"")+"\n                  "+("relevance"===
p.property&&c?"hide":""),"data-property":b,"data-order":"${sortOrder}",role:"menuitem",onClick:function(){return A.handleSortOptionClick(p)}},t.h("span",{"class":"control-bar__dropdown-item__label"},p.label))})),t.h("div",{"class":"js-sort-direction-section leader-half "+(r?"hide":"")},t.h("h3",{"class":"control-bar__dropdown-menu__title"},h["default"].gallery.sortDirection),t.h("nav",{"class":"js-sort-direction-options"},t.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+
(a?"is-active":""),"data-value":"asc",role:"menuitem",onClick:function(){return A.handleSortClick(!0)}},t.h("span",{"class":"control-bar__dropdown-item__label js-ascending-label"},d)),t.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+(a?"":"is-active"),"data-value":"desc",role:"menuitem",onClick:function(){return A.handleSortClick(!1)}},t.h("span",{"class":"control-bar__dropdown-item__label js-descending-label"},e))))))};C.defaultProps={topic:""};
return C}(t.Component);N["default"]=R})},"arcgisonline/pages/components/Refresh":function(){define(["require","exports","tslib","dojo/topic","preact"],function(R,N,n,t,u){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);R=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}n.__extends(f,h);f.prototype.onRefresh=function(){t["default"].publish(this.props.topic+"refresh")};f.prototype.render=function(){var g=this;return u.h("div",null,u.h("calcite-button",
{label:this.props.label,onClick:function(){return g.onRefresh()},appearance:"transparent",color:"neutral",iconStart:"refresh",scale:"s"}))};f.defaultProps={topic:"",label:""};return f}(u.Component);N["default"]=R})},"arcgisonline/pages/organization/widgets/SearchDropdown":function(){define("require exports tslib ../../utils/icons ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/query dojo/dom-class dojo/topic dojo/text!./templates/members/SearchDropdown.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString=v["default"];this.i18n=C["default"];this.icons=t["default"]}A.prototype.setSelection=function(r){var l=g["default"]("[data-property*\x3d"+r+"]",this.domNode);0<l.length&&(k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active"),l.addClass("is-active"),this._searchLabel.innerHTML=l.innerHTML(),w["default"].publish("membersSearchBy/update",r))};A.prototype.postCreate=function(){this._searchLabel.innerHTML=this.i18n.myOrganization.membersTab.fullName;this._addEventListeners()};A.prototype._addEventListeners=function(){this.own(g["default"](".js-search-dropdown-property").on("click",this._optionSelect.bind(this)))};A.prototype._optionSelect=function(r){r.preventDefault();k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active");k["default"].add(r.target,"is-active");var l=r.target.getAttribute("data-property");this._searchLabel.innerHTML=r.target.textContent;w["default"].publish("membersSearchBy/update",l)};return A=n.__decorate([u["default"](f["default"],h["default"])],A)}()})},"arcgisonline/pages/utils/productGlyphs":function(){define(["require","exports"],function(R,N){var n={dashboard:{path:"M25.819 28H23.18a.181.181 0 0 1-.181-.181V13.18a.181.181 0 0 1 .181-.181h2.638a.181.181 0 0 1 .181.181V27.82a.181.181 0 0 1-.181.181zM21 27.816v-9.631a.184.184 0 0 0-.184-.185h-2.631a.184.184 0 0 0-.185.184v9.631a.184.184 0 0 0 .184.185h2.631a.184.184 0 0 0 .185-.184zm9.82.184a.18.18 0 0 0 .18-.18v-7.64a.18.18 0 0 0-.18-.18h-2.64a.18.18 0 0 0-.18.18v7.64a.18.18 0 0 0 .18.18zM7 9.267v10.475c.706.033 3.538-1.718 4.274-4.7.679-2.751 3.485-2.864 4.443-2.94 1.766-.14 3.588-.607 4.566-2.798A.216.216 0 0 0 20.085 9H7.267A.267.267 0 0 0 7 9.267zm18.997-1.053A4.411 4.411 0 0 0 21.63 4H2.684A.684.684 0 0 0 2 4.684V21.81A3.19 3.19 0 0 0 5.19 25h9.565a.245.245 0 0 0 .245-.245v-2.362a.393.393 0 0 0-.393-.393H6.38A1.385 1.385 0 0 1 5 20.619V7.349A.348.348 0 0 1 5.348 7h16.324A1.346 1.346 0 0 1 23 8.363v1.28a.357.357 0 0 0 .357.357h2.599a.046.046 0 0 0 .046-.046z",
fill:"#ee9e01"},experienceBuilder:{path:"M30.85 12.82l-2.85 5v7.44A1.78 1.78 0 0 1 26.22 27H25V7.75a.76.76 0 0 0-.75-.75H12V1.31a.28.28 0 0 1 .42-.25L17.51 4h8.71A1.78 1.78 0 0 1 28 5.78v4.42l2.54 1.47a.83.83 0 0 1 .31 1.15zM12 18h8v-6h-8zm7.62 5H7.75a.76.76 0 0 1-.75-.75V4H5.78A1.78 1.78 0 0 0 4 5.78V13l-2.89 5a.85.85 0 0 0 .31 1.15L4 20.59v4.61A1.78 1.78 0 0 0 5.78 27h8.62l5.18 3a.28.28 0 0 0 .42-.24v-6.39a.38.38 0 0 0-.38-.37z",fill:"#09b8ca"},geoBIM:{path:"M17.802 21.398l6.2 2.557-5.14 2.133a.772.772 0 0 1-1.06-.717zM9.311 7.868a.604.604 0 0 1-.003-1.122L16 4.169l8.12 3.148-8.119 3.184zm-3.5 1.541l8.387 3.413v12.554a.772.772 0 0 1-1.06.717l-6.297-2.736a1.639 1.639 0 0 1-1.03-1.521zM3.844 6.03a1.316 1.316 0 0 0-.827 1.22v17.395a1.316 1.316 0 0 0 .827 1.221L16 30.888l12.983-5.317v-2.423l-7.156-3.023 7.156-2.963v-1.95l-5.101-2.2-3.867 1.516L24 16.123l-6.199 2.505v-5.711l.073-.122 11.108-4.487v-1.95l-12.47-5.047a1.384 1.384 0 0 0-1.027 0z",
fill:"#11ad1d"},notebooks:{path:"M2.941 25A.906.906 0 0 1 2 24.135v-.271A.906.906 0 0 1 2.941 23h3.118a.906.906 0 0 1 .941.864v.271a.906.906 0 0 1-.941.865zm3.118-8A.906.906 0 0 0 7 16.135v-.271A.906.906 0 0 0 6.059 15H2.941a.906.906 0 0 0-.941.864v.271a.906.906 0 0 0 .941.865zm0-8A.906.906 0 0 0 7 8.135v-.271A.906.906 0 0 0 6.059 7H2.941A.906.906 0 0 0 2 7.864v.271A.906.906 0 0 0 2.941 9zm9.44 16h-3.726a.773.773 0 0 1-.773-.774V6.171A.172.172 0 0 1 11.172 6H15.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H5.342A1.345 1.345 0 0 0 4 4.343V5h2.059A2.904 2.904 0 0 1 9 7.858v.277A2.907 2.907 0 0 1 6.059 11H4v2h2.059A2.907 2.907 0 0 1 9 15.864v.271A2.907 2.907 0 0 1 6.059 19H4v2h2.059A2.907 2.907 0 0 1 9 23.864v.271A2.907 2.907 0 0 1 6.059 27H4v1.405a.595.595 0 0 0 .595.595H15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM20 3.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5.5v18a.5.5 0 0 1-.5.5h-4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-25a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.499.5z",
fill:"#6e6e6e"},online:{path:"M25.479 23.504a.231.231 0 0 1 .204 0l3.933 1.939a.12.12 0 0 1 0 .216l-8.273 4.078a.822.822 0 0 1-.727 0l-8.274-4.078a.12.12 0 0 1 0-.216l3.933-1.94a.231.231 0 0 1 .205 0l4.206 2.075a.663.663 0 0 0 .587 0zM12.342 18.6a.12.12 0 0 0 0 .215l8.344 4.112a.663.663 0 0 0 .586 0l8.344-4.112a.12.12 0 0 0 0-.215l-8.534-4.208a.231.231 0 0 0-.205 0zm-2.438-6.434C7.397 6.051 15.42 2.655 18.687 7.96a.185.185 0 0 0 .236.07c3.545-1.654 6.604.885 5.75 4.528a.278.278 0 0 0 .146.312l6.048 2.982a.093.093 0 0 0 .132-.1 7.18 7.18 0 0 0-2.683-4.454.185.185 0 0 1-.068-.13A7.287 7.287 0 0 0 20.1 4.43a.185.185 0 0 1-.143-.047C14.775-.32 6.919 2.959 6.302 10.003a.185.185 0 0 1-.102.15c-9.865 4.91-4.46 18.472 5.924 12.182-9.26 1.228-8.848-9.392-2.22-10.169z",
fill:"#5763f8"},sites:{path:"M2.656 29A.656.656 0 0 1 2 28.344V6.185A3.189 3.189 0 0 1 5.185 3H29.72a.281.281 0 0 1 .281.281v22.53A3.194 3.194 0 0 1 26.81 29zm2.838-3h21.211a.295.295 0 0 0 .296-.295V13.494a.493.493 0 0 0-.493-.494H5v12.506a.494.494 0 0 0 .494.494zM23 9.91a.09.09 0 0 0 .09.09h3.82a.09.09 0 0 0 .09-.09V6.026A.026.026 0 0 0 26.974 6h-3.948a.026.026 0 0 0-.026.026zM6.633 6A1.597 1.597 0 0 0 5 7.595V10h14.523A.477.477 0 0 0 20 9.523V6.477A.477.477 0 0 0 19.523 6zM16 22v-5h7v5zm-7-2v-3h3v3z",
fill:"#7842ed"},storyMaps:{path:"M25.5 0C23.015 0 21 .953 21 3.433v8.517a1.467 1.467 0 0 0 .43 1.038l3.837 3.827a.33.33 0 0 0 .466 0l3.836-3.827A1.467 1.467 0 0 0 30 11.95V3.433C30 .953 27.985 0 25.5 0zm0 8.1a2.6 2.6 0 1 1 2.6-2.599A2.599 2.599 0 0 1 25.5 8.1zm-7.856.453c.294-.153.312-.457.312-.788v-2.31a.104.104 0 0 0-.129-.1 6.128 6.128 0 0 0-2.248 1.19.14.14 0 0 1-.167.008c-3.437-2.283-8.543-1.52-12.131-.988-.432.064-1.762.34-2.164.424A.146.146 0 0 0 1 6.133V26.69a.147.147 0 0 0 .05.11.134.134 0 0 0 .116.035A36.394 36.394 0 0 1 9.5 25.781c3.283.054 4.403.96 4.967 1.513l.915.897a.164.164 0 0 0 .23 0l.916-.897a5.98 5.98 0 0 1 3.972-1.47 25.341 25.341 0 0 1 5.715.516c.718.109 1.46.22 2.186.312l1.251.16a.308.308 0 0 0 .348-.305v-7.375a.161.161 0 0 0-.303-.077l-.107.2a7.218 7.218 0 0 1-6.902 3.766 10.455 10.455 0 0 0-5.688.796V9.454a.89.89 0 0 1 .332-.693 2.058 2.058 0 0 1 .312-.208zM14 23.817c-3.071-1.38-5.998-.808-9.447-.293l-.253.036a.263.263 0 0 1-.3-.259V8.525a.098.098 0 0 1 .084-.097l.804-.115c2.518-.372 6.303-1.048 8.708.515a.89.89 0 0 1 .404.746z",
fill:"#4fbaa9"},webAppBuilder:{path:"M15.044 19.974a.188.188 0 0 1-.192-.001l-3.762-2.35a.188.188 0 0 1-.09-.16v-4.098a.188.188 0 0 1 .096-.163l3.761-2.178a.188.188 0 0 1 .182-.001l3.863 2.179a.188.188 0 0 1 .098.165v4.095a.187.187 0 0 1-.092.161zm15.13-1.04a.052.052 0 0 0 .099.022 8.048 8.048 0 0 0 .67-3.147 7.155 7.155 0 0 0-3.507-6.213L17.59 3.768a4.054 4.054 0 0 0-1.968-.627 3.95 3.95 0 0 0-1.894.485c-.607.334-1.132.67-1.278.754a2.951 2.951 0 0 0-1.39 2.506v1.078a.2.2 0 0 0 .307.167l1.365-.87a4.988 4.988 0 0 1 2.319-.792 4.62 4.62 0 0 1 2.219.792s8.442 5.017 9.392 5.576a7.045 7.045 0 0 1 3.513 6.084zM9.546 23.55l.947-.547a.2.2 0 0 0 0-.345l-1.369-.79a4.326 4.326 0 0 1-2.13-3.842V7.286a7.16 7.16 0 0 1 3.63-6.083l.081-.05a.025.025 0 0 0-.012-.045l-.25-.005a8.333 8.333 0 0 0-3.887.994A7.102 7.102 0 0 0 3.069 8.31v10.786a3.96 3.96 0 0 0 1.89 3.362c.894.545 1.605.974 1.81 1.092a2.787 2.787 0 0 0 2.777 0zm4.383 6.37l9.997-5.773a3.959 3.959 0 0 0 1.967-3.32c.021-.929.034-1.604.034-1.806a2.786 2.786 0 0 0-1.39-2.406l-1.123-.57a.2.2 0 0 0-.289.177v1.604a4.45 4.45 0 0 1-2.218 3.842l-3.708 2.14a3.366 3.366 0 0 1-.256.135L11.6 27.128a6.427 6.427 0 0 1-3.343.938 7.137 7.137 0 0 1-3.513-1.038c-.09-.052-.38-.226-.797-.479a.094.094 0 0 0-.134.12 7.182 7.182 0 0 0 2.942 3.25 7.241 7.241 0 0 0 3.587 1.028 7.243 7.243 0 0 0 3.587-1.028z",
fill:"#09b8ca"},urban:{path:"M32 14l-4 .003a1 1 0 0 0-1 1V21a1 1 0 0 1-1 1h-2V5.451l-7.598-3.335A1 1 0 0 0 15 3.03V25a1 1 0 0 1-1 1h-2V11.24h-.02L7.5 9l-4.48 2.24H3V20H0v4h5a1 1 0 0 0 1-1V12.717L7.5 12l1.5.717V28a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6.094l3 1.317V24a2 2 0 0 0 2 2h5.02A1.977 1.977 0 0 0 30 24.024V17h2z",fill:"#3DB8FF"},instant:{path:"M11.206 4.805v-1.38a2.231 2.231 0 0 1 2.23-2.231h13.168a2.231 2.231 0 0 1 2.231 2.23v11.15a2.231 2.231 0 0 1-2.23 2.231h-1.398V5.555a.75.75 0 0 0-.75-.75zM30.94 27.204l-5.447-4.41a.211.211 0 0 0-.344.164v2.225H8.197a1.344 1.344 0 0 1-1.344-1.344V11.665a.75.75 0 0 1 .75-.75h9.872a.75.75 0 0 1 .75.75l-.003 7.534a2.422 2.422 0 0 1-.798 1.796l-.945.855h4.3a1.075 1.075 0 0 0 1.074-1.075v-10.54a2.231 2.231 0 0 0-2.23-2.23H5.354a2.148 2.148 0 0 0-2.13 2.23v16.507a2.231 2.231 0 0 0 2.23 2.231l19.695-.003v2.725a.211.211 0 0 0 .344.164l5.447-4.41a.158.158 0 0 0 0-.245z",
fill:"#83a238"}},t=[];Object.keys(n).forEach(function(u){t[u]='\x3csvg viewBox\x3d"0 0 32 32" width\x3d"32" height\x3d"32" fill\x3d"'+n[u].fill+'"\x3e\x3cpath d\x3d"'+n[u].path+'"/\x3e\x3c/svg\x3e'});return t})},"arcgisonline/pages/dijit/FilterStatus":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterStatus/templates/FilterStatus.html dojo/text!./FilterStatus/templates/FilterChip.html dojo/i18n!../../nls/arcgisonline ../pageUtil ../utils/icons ../utils/arrays".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function c(m,p){this.templateString=r["default"];this.i18n=d["default"];
this._state={}}c.prototype.postMixInProperties=function(){var m=this,p;this.inherited(arguments);this._state={};this._dontUpdateQueryParams=this.params.dontUpdateQueryParams;this._topic=null!==(p=this.params.topic)&&void 0!==p?p:"";b["default"].toArray(u["default"].clone(this.params)).forEach(function(q){var y;0<(null===(y=q.selected)||void 0===y?void 0:y.length)&&(m._state[q.param]=q)})};c.prototype.postCreate=function(){this.inherited(arguments);b["default"].toArray(this._state).forEach(u["default"].hitch(this,
this._update));this._addEventListeners()};c.prototype.destroy=function(){this.inherited(arguments);this._state={}};c.prototype._addEventListeners=function(){this.own(g["default"](this.clearAll,"click",u["default"].hitch(this,this._clearHandler)),g["default"](this.filterChips,"click",u["default"].hitch(this,this._clickHandler)),w["default"].subscribe(this._topic+"filter/remove",u["default"].hitch(this,this._remove)),w["default"].subscribe(this._topic+"filter/update",u["default"].hitch(this,this._update)),
w["default"].subscribe(this._topic+"filter/clear",u["default"].hitch(this,this._clear)))};c.prototype._clear=function(){this.filterChips.innerHTML="";h["default"].add(this.filterChipWrap,"hide");var m=[];b["default"].toArray(this._state).forEach(function(p){m.push(p.param)});this._state={};this._topic||e["default"].removeQueryParams(m);this._updateMoreChip()};c.prototype._clearHandler=function(m){w["default"].publish(this._topic+"filter/clear",m)};c.prototype._remove=function(m){var p=this;k["default"](".js-filter-chip[data-filter\x3d'"+
m.param+"']",this.filterChips).forEach(f["default"].destroy);if(m.partial){var q=this._state[m.param];q.selected=q.selected.filter(function(y){return y.value!==m.value}).filter(function(y,B,z){return z.indexOf(y)===B});1>q.selected.length?delete this._state[m.param]:q.selected.forEach(function(y){y=v["default"].substitute(l["default"],{filter:q,i18n:d["default"],selected:y,icons:a["default"]});f["default"].place(y,p.filterChips)})}else delete this._state[m.param];1>Object.keys(this._state).length&&
h["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._removeQueryString(m);this._updateMoreChip()};c.prototype._updateMoreChip=function(){var m=this,p=-1;Object.keys(this._state).forEach(function(y){m._state[y].selected&&(p+=m._state[y].selected.length)});var q=this.filterChips.querySelector(".js-more-chip");q&&this.filterChips.removeChild(q);0<p&&(q=document.createElement("span"),q.className="filter-chip filter-chip__more js-more-chip",this.filterChips.appendChild(q),q.textContent=
"+ "+p)};c.prototype._update=function(m){var p=this;h["default"].remove(this.filterChipWrap,"hide");this._state[m.param]=m;k["default"](".js-filter-chip[data-filter\x3d'"+m.param+"']",this.filterChips).forEach(f["default"].destroy);m.selected&&(m.selected.forEach(function(q){var y=document.createElement("div");!q.label&&q.simpleLabel&&(q.label=q.simpleLabel);y.innerHTML=q.label;q.simpleLabel=y.textContent||y.innerText||"";q=v["default"].substitute(l["default"],{filter:m,i18n:d["default"],selected:q,
icons:a["default"]});f["default"].place(q,p.filterChips)}),0===m.selected.length&&(delete this._state[m.param],this._topic||e["default"].removeQueryParams([m.param])));this._updateMoreChip();1>Object.keys(this._state).length&&h["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._topic||this._updateQueryString()};c.prototype._updateQueryString=function(){var m={};b["default"].toArray(this._state).forEach(function(p){m[p.param]=p.selected&&p.selected.map(function(q){"custom"===
q.value&&q.to&&q.from?(m[p.param+"_to"]=q.to.valueOf(),m[p.param+"_from"]=q.from.valueOf()):(delete m[p.param+"_to"],delete m[p.param+"_from"]);if(p.isCategory)return JSON.stringify([q.value]);"bbox"===p.param&&(m.bboxLabel=q.label,m.srSort="true");return q.value}).join(",")||""},this);"bbox"in m&&(m.sortField="bbox");this._topic||e["default"].updateQueryParams(m)};c.prototype._removeQueryString=function(m){var p=e["default"].getQueryParams(),q=[];m.isCategory||"categories"===m.param?p[m.param]=[]:
"bbox"===m.param?(p[m.param]=[],q.push("srSort","bboxLabel","sortField")):(p[m.param]&&(p[m.param]=p[m.param].split(",").filter(function(y){return y!==m.value}).join(",")),e["default"].updateQueryParams(p));p=p[m.param];1>(null===p||void 0===p?void 0:p.length)&&(q.push(m.param),"custom"===m.value&&(q.push(m.param+"_to"),q.push(m.param+"_from")));e["default"].removeQueryParams(q)};c.prototype._clickHandler=function(m){if(h["default"].contains(m.target,"js-filter-chip-remove")){m.preventDefault();var p=
m.target.getAttribute("data-filter"),q=m.target.getAttribute("data-value");w["default"].publish(this._topic+"filter/remove",{param:p,value:q,partial:1<this._state[p].selected.length,lastFilter:1===Object.keys(this._state).length,evt:m})}};return c=n.__decorate([t["default"](C["default"],A["default"])],c)}()})},"arcgisonline/pages/dijit/ToggleSwitch":function(){define("require exports tslib dojo/text!./ToggleSwitch/templates/ToggleSwitch.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../utils/dom ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);return function(){function C(A,r){this.templateString=t["default"];this.i18n=u["default"];this.label="";this.labelPosition="right";this.labelClasses="";this.direction="left";this.isChecked=!1;this.tooltipLabel=this.tooltipClass="";this.disabled=!1;this.hasTooltip=""}C.prototype.postMixInProperties=
function(){this.inherited(arguments);"left"===this.labelPosition&&(this.direction="right");this.uid=k["default"]();this.tooltip&&(this.hasTooltip="toggle-switch--tooltip",this.tooltipClass=this.tooltipClass||"tooltip tooltip-multiline")};C.prototype.postCreate=function(){var A=this;this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.label||w["default"].hideNode(this._label);this.tooltip&&this._label.setAttribute("aria-label",this.tooltip);
this._checkbox.addEventListener("change",function(r){A.emit("change",A._checkbox.checked)});this._checkbox.addEventListener("keyup",function(r){13===r.keyCode&&(r.stopPropagation(),A._checkbox.checked=!A._checkbox.checked,A.emit("change",A._checkbox.checked))});this.trackId&&(this.toggleTrack.id=this.trackId)};C.prototype.hide=function(){w["default"].hideNode(this.domNode)};C.prototype.show=function(){w["default"].showNode(this.domNode)};C.prototype.checked=function(){return this._checkbox.checked};
C.prototype.setChecked=function(A,r){this._checkbox.checked=A;r||this.emit("change",this._checkbox.checked)};C.prototype.enable=function(){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("toggle-switch--disabled");this.disabled=!1};C.prototype.disable=function(){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("toggle-switch--disabled");this.disabled=!0};C.prototype.focus=function(){this._checkbox.focus()};C.prototype.check=function(){this.setChecked(!0,
!0)};C.prototype.uncheck=function(){this.setChecked(!1,!0)};C.prototype.showSwitch=function(){w["default"].showNode(this.toggleTrack);w["default"].showNode(this._checkbox)};C.prototype.hideSwitch=function(){w["default"].hideNode(this.toggleTrack);w["default"].hideNode(this._checkbox)};C.prototype.showLoader=function(){this.loader.active=!0;w["default"].showNode(this.loaderContainer);this.hideSwitch()};C.prototype.hideLoader=function(){this.loader.active=!1;w["default"].hideNode(this.loaderContainer);
this.showSwitch()};return C=n.__decorate([v["default"](g["default"],f["default"],h["default"])],C)}()})},"arcgisonline/pages/dijit/FilterSingleWithSearch":function(){define("require exports tslib dojo/text!./FilterSingleWithSearch/templates/FilterSingleWithSearch.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ./FilterDate ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString=t["default"];this.i18n=u["default"];this.icons=v["default"];this.cssClasses=this.searchText="";this.filterCssClasses="filter--ellipse";this.type="single";this.active=!0;this.activeClass="is-active";this.topic=""}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||
(this.activeClass="")};A.prototype.postCreate=function(){this.inherited(arguments);this.domNode.removeAttribute("title");if("date"===this.type){var r=document.createElement("ul");this._filterList.className="filters--accordion--content";this._filterList.appendChild(r);this._filter=new k["default"](n.__assign(n.__assign({},this.filterParameter),{topicPrefix:this.topic}),r)}else this._filter=new g["default"](n.__assign(n.__assign({},this.filterParameter),{topicPrefix:this.topic}),this._filterList);this._searchInput.addEventListener("input",
this._onSearchInput.bind(this));"single"===this.type&&15<Object.keys(this.filterParameter.options).length&&w["default"].showNode(this._searchContainer)};A.prototype._onSearchInput=function(){var r=this,l=this._filter.domNode.querySelectorAll(".filter-tree-item"),d=this._searchInput.value.toLowerCase();[].forEach.call(l,function(e){var a=r.filterParameter.options[e.dataset.value];void 0!==a&&-1!==a.label.toLowerCase().indexOf(d)?w["default"].showNode(e):w["default"].hideNode(e)})};A.prototype.select=
function(r,l,d){"date"===this.type?this._filter.select(r,l,d):this._filter.select(r)};A.prototype.getState=function(){return this._filter.getState()};return A=n.__decorate([C["default"](f["default"],h["default"])],A)}()})},"arcgisonline/pages/dijit/FilterSingle":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dijit/_WidgetBase dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic esri/Evented dojo/i18n!../../nls/arcgisonline dojo/text!./FilterSingle/templates/FilterSingle.html dojo/text!./FilterSingle/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.summedAggregationProperties={}}b.prototype.postMixInProperties=function(){var c;
this.inherited(arguments);this._state=g["default"].clone(this.params);this.topicPrefix=null!==(c=this._state.topic||this._state.topicPrefix)&&void 0!==c?c:""};b.prototype.postCreate=function(){this._updateUI();this._attachEvents()};b.prototype.destroy=function(){this._clear();this.inherited(arguments)};b.prototype._attachEvents=function(){var c=v["default"](".js-filter-link",this.domNode),m=v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(m.on("click",this._removeFilter.bind(this)),
c.on("click",this._clickHandler.bind(this)),A["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),A["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),A["default"].subscribe(this.topicPrefix+"aggregations/update",this._updateCounts.bind(this)))};b.prototype.select=function(c){this._state.options[c]&&(this._clear(),this._state.options[c].active=!0,v["default"](".js-filter-item[data-value\x3d'"+c+"']",this.domNode).addClass("is-active"),v["default"](".js-filter-item[data-value\x3d'"+
c+"']",this.domNode).attr("aria-current","true"),this._setSelected(),A["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype.getState=function(){return this._state};b.prototype._clear=function(){t["default"].toArray(this._state.options).forEach(function(c){return c.active=!1});v["default"](".js-filter-item",this.domNode).removeClass("is-active");v["default"](".js-filter-item",this.domNode).removeAttr("aria-current");v["default"](".js-filter-link",this.domNode).attr("aria-selected",
!1);v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};b.prototype._remove=function(c){var m;if(c.param===this._state.param){var p=this._state.options[c.value];p&&(p.active=!1);this._setSelected();c=v["default"](".js-filter-item[data-value\x3d'"+c.value+"']",this.domNode);c.removeClass("is-active");c.removeAttr("aria-current");null===(m=c[0])||void 0===m?void 0:m.querySelector(".js-filter-link").setAttribute("aria-selected","false")}};b.prototype._updateUI=
function(){var c,m=t["default"].toArray(this._state.options).reduce(this._renderList.bind(this),"");this.domNode.innerHTML=C["default"].substitute(d["default"],{list:m});if(m=v["default"](".accordion-title",v["default"](this.domNode).closest(".accordion-section").shift())[0]){var p=0<(null===(c=this._state.selected)||void 0===c?void 0:c.length)?"":"hide";w["default"].place(C["default"].substitute(a["default"],{i18n:l["default"],hide:p,param:this._state.param}),m)}};b.prototype._renderList=function(c,
m,p,q){m.label=m.label.replace(/"/g,"\x26quot;");p=m.active?"is-active":"";q=this.param;p=n.__assign(n.__assign({},g["default"].clone(m)),{param:q,selected:p});p=C["default"].substitute(e["default"],p);m.aggregationFields&&(this.summedAggregationProperties[m.value]=m.aggregationFields);return c+p};b.prototype._setSelected=function(){var c=[];t["default"].toArray(this._state.options).forEach(function(p){p.active&&c.push(p)});this._state.selected=0<c.length?c:!1;var m=v["default"](".js-clear-filter[data-filter-param\x3d'"+
this._state.param+"']");this._state.selected?m.removeClass("hide"):m.addClass("hide")};b.prototype._clickHandler=function(c){f["default"].stop(c);var m=c.target.parentNode,p=k["default"].contains(m,"is-active"),q=c.target.getAttribute("data-value");p?A["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:c.target.getAttribute("data-value")}):(t["default"].toArray(this._state.options).forEach(function(y){return y.active=y.value===q}),v["default"](".js-filter-item",this.domNode).removeClass("is-active"),
v["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),k["default"].add(m,"is-active"),m.setAttribute("aria-current",!0),c.target.setAttribute("aria-selected",!0),this._setSelected(),A["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype._removeFilter=function(c){var m;c.stopPropagation();0<(null===(m=this._state.selected)||void 0===m?void 0:m.length)&&A["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
b.prototype._getCountForFieldValue=function(c,m){var p=t["default"].find(c,function(q){return q.value===m});return(null===p||void 0===p?void 0:p.count)||0};b.prototype._updateCounts=function(c){var m=this;c.fieldName===this.param&&(v["default"](".js-filter-link-count",this.domNode).innerHTML(""),c.fieldValues.forEach(function(p){var q=m.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+p.value+"']");q&&(q.innerHTML="("+p.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(p){var q=
m.summedAggregationProperties[p].reduce(function(y,B){return y+m._getCountForFieldValue(c.fieldValues,B)},0);(p=m.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+p+"']"))&&q&&(p.innerHTML="("+q+")")}))};return b=n.__decorate([u["default"](h["default"],r["default"])],b)}()})},"arcgisonline/pages/dijit/FilterDate":function(){define("require exports tslib ../utils/clone ../utils/date ../utils/dom ../utils/arrays ../utils/formatters ../utils/validation ../../tsutils/declareDecorator dojo/on dojo/_base/event dojo/topic dojo/string dojox/uuid/generateRandomUuid dijit/_WidgetBase dijit/_TemplatedMixin moment/moment dojo/i18n!../../nls/arcgisonline dojo/text!./FilterDate/templates/FilterDate.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function p(q,y){this.templateString=
c["default"];this.constraintToToday=!0;this.showNever=!1;this.topicPrefix="";this.constrainWidthOnError=!1;this.fullDate=g["default"].fullDate;this.i18n=b["default"]}p.prototype.postMixInProperties=function(){this.uid=l["default"]();var q=this.generateRange.bind(this);this.state=t["default"](this.params);this.state.param=this.state.param||"modified";this.state.options=this.state.options||{today:{label:b["default"].filters.today,value:"today",from:a["default"]().startOf("day"),to:a["default"]().endOf("day"),
q:q(a["default"]().startOf("day"),a["default"]().endOf("day"))},yesterday:{label:b["default"].filters.yesterday,value:"yesterday",from:a["default"]().subtract(1,"days").startOf("day"),to:a["default"]().subtract(1,"days").endOf("day"),q:q(a["default"]().subtract(1,"days").startOf("day"),a["default"]().subtract(1,"days").endOf("day"))},last7Days:{label:b["default"].filters.last7Days,value:"last7Days",from:a["default"]().subtract(7,"days").startOf("day"),to:a["default"]().endOf("day"),q:q(a["default"]().subtract(7,
"days").startOf("day"),a["default"]().endOf("day"))},last30Days:{label:b["default"].filters.last30Days,value:"last30Days",from:a["default"]().subtract(30,"days").startOf("day"),to:a["default"]().endOf("day"),q:q(a["default"]().subtract(30,"days").startOf("day"),a["default"]().endOf("day"))},custom:{label:b["default"].filters.customRange,value:"custom"}};this.state.selected=this.state.selected||[];this.constrainWidthOnError=this.state.constrainWidthOnError};p.prototype.postCreate=function(){this.inherited(arguments);
this.initUI();this.addEventListeners();this.showNever&&(this.state.options.never={label:b["default"].filters.never,value:"never",from:-1,to:-1,q:this.state.param+":[-1 TO -1]"},h["default"].showNode(this.neverOption))};p.prototype.getState=function(){return this.state};p.prototype.destroy=function(){this.clear();this.inherited(arguments)};p.prototype.select=function(q,y,B){if(this.state.options[q]){this.clear();var z=this.state.options[q];z.active=!0;y&&B&&(z.from=a["default"](parseInt(y,10)),z.to=
a["default"](parseInt(B,10)),z.q=this.generateRange(z.from,z.to),z.label=r["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(z.from.valueOf()),end:this.formatDate(z.to.valueOf())}));this.state.selected=[z];h["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+q+'"]'),function(D){D.classList.add("is-active");D.setAttribute("aria-current","true")});"custom"===z.value&&z.from&&z.to&&(this.customStart.valueAsDate=new Date(z.from.valueOf()),
this.customEnd.valueAsDate=new Date(z.to.valueOf()),this.domNode.querySelector(".js-custom-date-select").classList.remove("hide"));this.update();this.showHideClearButton()}};p.prototype.generateRange=function(q,y){return q&&y?this.state.param+":["+q.valueOf()+" TO "+y.valueOf()+"]":""};p.prototype.clear=function(){this.state.selected=!1;f["default"].toArray(this.state.options).forEach(function(q){q.active=!1});this.domNode&&(h["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),
function(q){q.classList.remove("is-active");q.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"),this.showHideClearButton())};p.prototype.remove=function(q){q.param===this.state.param&&(this.state.selected=!1,this.state.options[q.value].active=!1,h["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+q.value+'"]'),function(y){y.classList.remove("is-active");y.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"));
this.showHideClearButton()};p.prototype.initUI=function(){var q;if(this.constraintToToday){var y=new Date;this.customStart.maxAsDate=y;this.customEnd.maxAsDate=y}this.minDate&&(this.customEnd.minAsDate=new Date(this.minDate));if(y=this.domNode.closest(".accordion-section").querySelector(".accordion-title")){var B=0<(null===(q=this.state.selected)||void 0===q?void 0:q.length)?"":"hide";y.insertAdjacentHTML("beforeend",r["default"].substitute(m["default"],{i18n:b["default"],hide:B,param:this.state.param}))}};
p.prototype.addEventListeners=function(){var q=this,y=this.domNode.querySelectorAll(".js-filter-link"),B=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');this.clickHandler=this.clickHandler.bind(this);h["default"].forEachNode(y,function(z){q.own(v["default"](z,"click",q.clickHandler))});this.own(v["default"](B,"click",this.removeFilter.bind(this)),v["default"](this.customStart,"calciteDatePickerChange",this.changeCustomStart.bind(this)),v["default"](this.customEnd,
"calciteDatePickerChange",this.changeCustomEnd.bind(this)),A["default"].subscribe(this.topicPrefix+"filter/remove",this.remove.bind(this)),A["default"].subscribe(this.topicPrefix+"filter/clear",this.clear.bind(this)))};p.prototype.clickHandler=function(q){C["default"].stop(q);var y=q.target.parentNode,B=y.classList.contains("is-active");q=q.target.getAttribute("data-value");var z=this.domNode.querySelector(".js-custom-date-select"),D=this.state.options[q];B?(A["default"].publish(this.topicPrefix+
"filter/remove",{param:this.state.param,value:q}),D.active=!1,this.state.selected=!1):(this.state.selected=[D],D.active=!0,h["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),function(F){F.classList.remove("is-active");F.removeAttribute("aria-current")}),y.classList.add("is-active"),y.setAttribute("aria-current",!0),"custom"===q?(z.classList.remove("hide"),y=this.state.options.custom,y.from&&y.to&&(y.q=this.generateRange(y.from,y.to),this.update())):(z.classList.add("hide"),
this.update()));this.showHideClearButton()};p.prototype.resetIfNullCustom=function(){this.customStart.value||this.customEnd.value||(this.state.options.custom.from=void 0,this.state.options.custom.to=void 0,this.removeFilter())};p.prototype.changeCustomStart=function(q){if(null!==q&&void 0!==q&&q.detail){var y=this.state.options.custom;y.from=a["default"](q.detail).startOf("day");this.dateInputsValid()&&(this.customEnd.minAsDate=q.detail,y.to&&(y.q=this.generateRange(y.from,y.to),y.label=r["default"].substitute(b["default"].filters.dateRange,
{start:this.formatDate(y.from.valueOf()),end:this.formatDate(y.to.valueOf())}),this.update()))}else this.resetIfNullCustom()};p.prototype.dateInputsValid=function(){var q=this.state.options.custom,y=q.from;q=q.to;if(y&&q){if(q.valueOf()<y.valueOf())return k["default"].setInvalidState(this.customStart,this.customStartError,this.i18n.filters.startDateBefore),this.constrainWidthOnError&&this.customStart.classList.add("input-error__constrain-width"),!1;if(y.valueOf()>q.valueOf())return k["default"].setInvalidState(this.customEnd,
this.customEndError,this.i18n.filters.endDateAfter),this.constrainWidthOnError&&this.customEnd.classList.add("input-error__constrain-width"),!1}k["default"].clearState([this.customStart,this.customStartError,this.customEnd,this.customEndError]);this.constrainWidthOnError&&(this.customStart.classList.remove("input-error__constrain-width"),this.customEnd.classList.remove("input-error__constrain-width"));return!0};p.prototype.changeCustomEnd=function(q){var y;if(null!==q&&void 0!==q&&q.detail){var B=
this.state.options.custom;B.to=a["default"](q.detail).endOf("day");this.dateInputsValid()&&(this.customStart.maxAsDate=q.detail,B.from&&(B.q=this.generateRange(B.from,B.to),B.label=r["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(B.from.valueOf()),end:this.formatDate(null===(y=B.to)||void 0===y?void 0:y.valueOf())}),this.update()))}else this.resetIfNullCustom()};p.prototype.update=function(){A["default"].publish(this.topicPrefix+"filter/update",this.state);this.showHideClearButton()};
p.prototype.removeFilter=function(q){var y;q&&q.stopPropagation();0<(null===(y=this.state.selected)||void 0===y?void 0:y.length)&&A["default"].publish(this.topicPrefix+"filter/remove",{param:this.state.param,value:this.state.selected[0].value});this.showHideClearButton()};p.prototype.showHideClearButton=function(){var q,y=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');0<(null===(q=this.state.selected)||void 0===q?void 0:q.length)?y.classList.remove("hide"):
y.classList.add("hide")};p.prototype.formatDate=function(q){return u["default"].format(new Date(q),"short-date")};return p=n.__decorate([w["default"](d["default"],e["default"])],p)}()})},"arcgisonline/pages/dijit/FilterOrganizationGroups":function(){define("require exports tslib dojo/text!./FilterOrganizationGroups/templates/FilterOrganizationGroups.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ../utils/dom ../utils/icons ../pageUtil ../../sharing/util ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=t["default"];this.i18n=u["default"];this.icons=v["default"];this.cssClasses=this.searchText="";this.active=!0;this.activeClass="is-active";this.GROUPS_MAX=500;
this.title=this.i18n.myOrganization.membersTab.organizationsGroups;this.searchText=this.i18n.myOrganization.inviteMembers.searchGroups}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||(this.activeClass="")};l.prototype.postCreate=function(){var d=this;this.inherited(arguments);this.domNode.removeAttribute("title");this._getOrgGroupCount().then(function(e){e>d.GROUPS_MAX?(d._noResults.innerHTML=u["default"].GroupsWidget.noOrgGroupsMatch,d._searchInput.addEventListener("input",
h["default"](d._onServerSearch.bind(d),500)),d._searchContainer.classList.remove("hide")):d._getAllOrgGroups().then(d._constructFilterSingle.bind(d)).then(function(){d._noResults.innerHTML=u["default"].GroupsWidget.noOrgGroupsYet;d._searchInput.addEventListener("input",d._onClientSearch.bind(d));d._searchContainer.classList.remove("hide")})})};l.prototype._getParams=function(){var d="orgid:"+this.portal.id;this.portal.isPortal&&(d+=' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"');
return{q:d,start:1,num:100,sortField:"title",sortOrder:"asc"}};l.prototype._getOrgGroupCount=function(){var d=this._getParams();d.num=1;return this._getOrgGroups(d).then(function(e){return e.total})};l.prototype._getOrgGroups=function(d){return A["default"].request({url:this.portal.url+"community/groups",content:d})};l.prototype._getAllOrgGroups=function(){var d=this._getParams();return C["default"].fetchAllResources(this.portal.url+"community/groups",d)};l.prototype._constructFilterSingle=function(d){var e=
this,a,b;Object.keys(this.filterParameter.options).forEach(function(m){delete e.filterParameter.options[m]});var c=0<d.length;c&&d.forEach(function(m){e.filterParameter.options[m.id]={value:m.id,q:"group:"+m.id,label:m.title}});w["default"].showHide(this._noResults,!c);null===(b=null===(a=this._filterList)||void 0===a?void 0:a.destroy)||void 0===b?void 0:b.call(a);d=document.createElement("div");this._filterListWrap.appendChild(d);this._filterList=new k["default"](n.__assign({},this.filterParameter),
d);return!0};l.prototype._onClientSearch=function(){var d=this,e=this._filterList.domNode.querySelectorAll(".filter-tree-item"),a=this._searchInput.value.toLowerCase();[].forEach.call(e,function(b){var c=d.filterParameter.options[b.dataset.value];void 0!==c&&-1!==c.label.toLowerCase().indexOf(a)?w["default"].showNode(b):w["default"].hideNode(b)})};l.prototype._onServerSearch=function(){var d=this,e=this._searchInput.value.toLowerCase(),a=this._getParams();a.q=a.q+" "+e;this._getOrgGroups(a).then(function(b){return d._constructFilterSingle(b.results)})};
l.prototype.select=function(d){this._filterList.select(d)};return l=n.__decorate([r["default"](g["default"],f["default"])],l)}()})},"arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs":function(){define("require exports tslib esri/Evented dojo/text!./FilterCollabOrgs.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../FilterSingle ../ToggleSwitch ../InfoTooltip ../../utils/icons ../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(R,N,
n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=u["default"];this.i18n=h["default"];this.icons=C["default"];this.filterCssClasses="filter--ellipse"}l.prototype.postCreate=function(){var d=this;this.inherited(arguments);
var e=n.__assign({},this.i18n.searchFilters);this.filter=new k["default"](n.__assign({},this.filterParameter),this.filterList);var a=new w["default"]({label:e.collabContacts,labelPosition:"left",trackId:"collab-contacts-toggle",baseClass:"trailer-0",isChecked:!0},this.domNode.querySelector(".js-collab-contacts-toggle"));a.labelWrapper.classList.add("text-ellipsis");a.labelWrapper.setAttribute("title",e.collabContacts);this.own(a.on("change",function(b){d.emit("coordinators-only",{checked:b})}));e=
new v["default"]({title:"",content:e.collabContactsTooltip,buttonAriaLabel:e.collabContactsTooltipAria,baseClass:"org-overview__feature-toolip margin-left-quarter",orient:["below-centered","above-centered"]});e.addContentClass("text-center");a._label.appendChild(e.domNode);a._label.className+=" flex flex-align-center";a.domNode.className+=" flex flex-align-center flex-row-reverse"};l.prototype.getState=function(){return this.filter.getState()};l.prototype.show=function(){A["default"].showNode(this.domNode)};
l.prototype.hide=function(){A["default"].hideNode(this.domNode)};l.prototype.showCoordinatorsToggle=function(){A["default"].showNode(this.coordsToggleContainer)};l.prototype.hideCoordinatorsToggle=function(){A["default"].hideNode(this.coordsToggleContainer)};return l=n.__decorate([r["default"](g["default"],f["default"],t["default"])],l)}()})},"arcgisonline/pages/dijit/FilterCategoryWrapper":function(){define("require exports tslib dijit/_WidgetBase dijit/_TemplatedMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterCategory/templates/FilterCategoryWrapper.html ./FilterCategory ../utils/icons ../components/MemberCategories/api ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);v=n.__importDefault(v);R=function(){function C(A,r){this.templateString=f["default"];this.icons=k["default"];this.i18n=h["default"]}C.prototype.postCreate=function(){this.inherited(arguments);this.render()};C.prototype.updateCategories=function(A){this.filterCategory.updateCategories(A,
!1)};C.prototype.updateCategorizedMembers=function(A){this.filterCategory.updateCategorizedMembers(A)};C.prototype.render=function(){return n.__awaiter(this,void 0,void 0,function(){var A;return n.__generator(this,function(r){switch(r.label){case 0:return this.filterCategory=new g["default"](this.props,this.domNode.querySelector(".js-filter-category")),[4,w.getMemberCategoriesCount(this.props.portal)];case 1:return A=r.sent(),this.filterCategory.updateCategorizedMembers(A),[2]}})})};return C=n.__decorate([v["default"](t["default"],
u["default"])],C)}();N["default"]=R})},"arcgisonline/pages/dijit/FilterCategory":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dojo/text!./FilterCategory/templates/FilterCategory.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/text!./FilterCategory/templates/Category.html dojo/text!./FilterCategory/templates/Uncategorized.html dojo/text!./FilterCategory/templates/CategoryGroup.html dojo/text!./FilterCategory/templates/EditSchemaButton.html dojo/i18n!../../nls/arcgisonline ../utils/categories ../utils/icons ./_CheckReadonlyMixin ./CategoryEdit ../components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal arcgisonline/telemetry preact".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);return function(){function E(G,H){this.templateString=d["default"];this.topicPrefix="";this.isMemberCategories=!1;this.i18n=p["default"];this.icons=y["default"];this._chipText=p["default"].contentCategories.chipText;this._selected=[];this.isMemberCategoriesOpen=!1;this._param=this.group?"groupCategories":"categories";this.closeCategoriesModal=this.closeCategoriesModal.bind(this)}
E.prototype.postMixInProperties=function(){this.inherited(arguments);this._chipText=this.chipText||this._chipText;this._param=this.param||this._param;this.contentCategoriesStrings=u["default"].mixin({},this.i18n.contentCategories,this.group?this.i18n.groupCategories:{});this.noCategoriesText=this.isMemberCategories?this.i18n.memberCategories.noCategories:this.contentCategoriesStrings.noCategoriesYet;this.filterDescription=this.isMemberCategories?this.i18n.memberCategories.filterDescription:this.contentCategoriesStrings.whyCategories;
this.setupText=this.isMemberCategories?this.i18n.memberCategories.setupCategories:this.contentCategoriesStrings.setUpCategories};E.prototype.postCreate=function(){this.telemetry=F["default"].init(this.portal,!0);this.categories=this.categories||this.group&&u["default"].clone(this.group.categorySchema)||u["default"].clone(this.portal.categories);this.rootNode=this.rootNode||q["default"].getRootNode(this.categories);"/Trending"===this.rootNode&&(this.rootNode="/Categories");var G=this.domNode.parentElement.parentElement.querySelector(".accordion-title");
f["default"].place(v["default"].substitute(m["default"],{i18n:p["default"],contentCategoriesStrings:this.contentCategoriesStrings,icons:y["default"]}),G);f["default"].place(v["default"].substitute(e["default"],{i18n:p["default"],hide:"hide",param:"category",icons:y["default"]}),G);this._clearButton=G.querySelector(".js-clear-filter");this._editCategoriesButton=G.querySelector(".js-edit-categories");this._setPermissions();this.updateCategories(this.categories,!0);this._addEventListeners()};E.prototype.destroy=
function(){this.inherited(arguments)};E.prototype._setPermissions=function(){var G,H,J,M,K=!this.user,L=!K&&!this.user.isOrgUser,U=!K&&this.user.userRole||{},ba=(null===(G=this.group)||void 0===G?void 0:G.groupOwner)||{};G=!K&&U.isAdmin();var V=!K&&U.isCustom();ba=!L&&ba.orgId&&this.user.orgId===ba.orgId;ba=!K&&this.group&&(this.group.isOwner||this.group.isManager||ba&&U.canUpdateOrgGroups());var aa=!K&&!L&&(G||V&&U.canUpdateItemCategories());K=!K&&!L&&(G||V&&U.canUpdateMemberCategories());K=(!this.group&&
aa||this.group&&ba||this.isMemberCategories&&K)&&!this.disableEdit;L=0<(null===(H=this.categories)||void 0===H?void 0:H.length)&&0<(null===(M=null===(J=this.categories[0])||void 0===J?void 0:J.categories)||void 0===M?void 0:M.length);H=k["default"](this.domNode).closest(".js-filter-category-container");J=k["default"](".js-no-categories-action",this.domNode);M=k["default"](".js-category-filter",this.domNode);M.addClass("hide");J.addClass("hide");h["default"].add(this._editCategoriesButton,"hide");
!L&&K&&J.removeClass("hide");L&&(M.removeClass("hide"),this._setClearVisibility(),h["default"][K?"remove":"add"](this._editCategoriesButton,"hide"));K||L||!H||H.addClass("hide")};E.prototype._addEventListeners=function(){var G=this;this.own(C["default"](this._clearButton,"click",this.deselectAll.bind(this)),C["default"](this._editCategoriesButton,"click",this._editCategories.bind(this)),k["default"](".js-setup-categories",this.domNode).on("click",this._editCategories.bind(this)),k["default"](".js-category-filter",
this.domNode).on("click",function(H){h["default"].contains(H.target,"js-filter-tree-link")&&G._clickHandler(H)}),w["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),w["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),w["default"].subscribe("categorySchema/updated",this.updateCategories.bind(this)),w["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};E.prototype.updateCategories=function(G,H){this.categories=G||[];0<this.categories.length&&
G[0].categories&&(this.domNode.querySelector(".js-category-root").innerHTML=this._categoriesToDom(n.__spreadArray([],G[0].categories),"",!0),this._addTooltips(),this.showUncategorized||this.isMemberCategories?this._addUncategorized():this.domNode.querySelector(".js-uncategorized").classList.add("hide"));this._setPermissions();H||this.deselectAll()};E.prototype.select=function(G,H){var J=this;(u["default"].isArray(G)?G:[G]).map(function(M){return M.replace(/\/[^\/]*\//,"/")}).forEach(function(M){var K=
M.split("/").filter(function(L){return"/"!==L&&""!==L});K.forEach(function(L,U){var ba=K.slice(0,U+1).join("/");k["default"](".js-filter-tree-item[data-category-path\x3d'/"+ba+"']",J.domNode).addClass("is-active")})});this._updateState(H)};E.prototype.deselectAll=function(G){G&&G.stopPropagation();this._clear();w["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||p["default"].contentCategories.chipText,param:this._param||"categories",selected:[],isCategory:!0})};E.prototype.closeCategoriesModal=
function(){x.render(null,this.domNode);this.isMemberCategoriesOpen=!1;this.categories.length?this._editCategoriesButton.focus():this.domNode.querySelector(".js-setup-categories").focus()};E.prototype._editCategories=function(G){G.stopPropagation();this.checkReadonly()||(this.isMemberCategories?(this.isMemberCategoriesOpen=!0,this.renderMemberCategoriesModal()):(G={user:this.portalUser,portal:this.portal,rootNode:this.rootNode},this.group&&(G.group=u["default"].mixin({},this.group)),this._categoryEdit=
new z["default"](G,f["default"].place(f["default"].create("div"),document.body,"last")),this._categoryEdit.open()))};E.prototype.renderMemberCategoriesModal=function(){x.render(x.h(D["default"],{active:!0,memberCategories:this.categories,categoryCount:this.categoryCount,telemetry:this.telemetry,onClose:this.closeCategoriesModal}),this.domNode)};E.prototype._categoriesToDom=function(G,H,J){var M=this;return(null===G||void 0===G?0:G.length)?(G=G.reduce(function(K,L){var U,ba,V=H+"/"+(L.title||L.name),
aa=V.toLowerCase(),ha=(null===(U=L.categories)||void 0===U?0:U.length)?M._categoriesToDom(L.categories,V):"";U=(null===(ba=L.categories)||void 0===ba?0:ba.length)?"is-parent":"";ba=L.isActive?"is-active":"";var ia=(L.description||"").replace(/"/g,"\x26quot;");return K+v["default"].substitute(a["default"],{isActive:ba,isParent:U,title:L.displayName||L.title||L.name,description:ia,children:ha,path:V,normalizedPath:aa,icons:y["default"]})},""),J?G:v["default"].substitute(c["default"],{categories:G,icons:y["default"]})):
""};E.prototype._addTooltips=function(){k["default"](".js-filter-tree-link",this.domNode).forEach(function(G){var H=G.getAttribute("data-category-description");0<(null===H||void 0===H?void 0:H.length)&&new l["default"]({connectId:G,label:"\x3cspan class\x3d'text-constrain-narrow display-block text-left padding-left-quarter padding-right-quarter'\x3e"+H+"\x3c/span\x3e"})})};E.prototype._addUncategorized=function(){this.isMemberCategories&&(p["default"].contentCategories.uncategorized=p["default"].memberCategories.noAssigned);
this.domNode.querySelector(".js-uncategorized").innerHTML=v["default"].substitute(b["default"],{i18n:p["default"]});this.own(k["default"](".js-filter-tree-link-uncategorized",this.domNode).on("click",this._toggleUncategorizedFilter.bind(this)))};E.prototype._clickHandler=function(G){G.preventDefault();G=G.target.parentElement;var H=h["default"].contains(G,"is-active"),J=h["default"].contains(G,"is-parent"),M=0<k["default"](G.parentElement).closest(".js-filter-tree-item").length,K=[G],L=G;if(M)for(;h["default"].contains(L.parentElement.parentElement,
"js-filter-tree-item");)L=L.parentElement.parentElement,K.push(L);H?(K.forEach(function(U){h["default"].remove(U,"is-active")}),k["default"](G).removeClass("is-active"),k["default"](".js-filter-tree-item.is-active",G).removeClass("is-active")):(k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),K.forEach(function(U){h["default"].add(U,"is-active")}),J&&(G=K.reduce(function(U,ba){return U+ba.offsetTop},0),this.domNode.parentElement.scrollTop=G));this._updateState()};E.prototype._toggleUncategorizedFilter=
function(G){G.preventDefault();(this.uncategorizedSelected=!this.uncategorizedSelected)?(k["default"](".js-filter-tree-item.is-active",this.domNode).removeClass("is-active"),this.domNode.querySelector(".js-filter-tree-item-uncategorized").classList.add("is-active"),this._selected=[],w["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||p["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,selected:[{active:!0,value:"_none_",
label:p["default"].contentCategories.uncategorized,q:"categories:none",simpleLabel:p["default"].contentCategories.uncategorized}],rootNode:this.rootNode})):this.deselectAll();this._setClearVisibility()};E.prototype._updateState=function(G){var H=this,J=this._param||"categories";this._selected=k["default"](".js-filter-tree-item.is-active",this.domNode).map(function(M){var K=M.getAttribute("data-category-name");M=M.getAttribute("data-category-path");return{active:!0,value:H.rootNode+M,label:K,q:v["default"].substitute('${paramName}:( "${categoryPath}")',
{paramName:J,categoryPath:H.rootNode+M})}});k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this.uncategorizedSelected=!1;w["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||p["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,isLoading:G,selected:0<this._selected.length&&[this._selected[this._selected.length-1]]||[],rootNode:this.rootNode});this._setClearVisibility();this._updateAria()};
E.prototype._setClearVisibility=function(){h["default"][0<this._selected.length||this.uncategorizedSelected?"remove":"add"](this._clearButton,"hide")};E.prototype._clear=function(){k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this._selected=[];this.uncategorizedSelected=!1;this._updateState(!0);this._setClearVisibility()};E.prototype._remove=function(G){G.param===this._param&&this._clear()};
E.prototype._updateCounts=function(G){var H=this;if("groupCategories"===G.fieldName&&this.group||!this.group&&"categories"===G.fieldName){k["default"](".js-category-count",this.domNode).forEach(function(M){return M.innerHTML=""});var J=new RegExp(this.rootNode.toLowerCase()+"/");G.fieldValues.filter(function(M){return M.value.toLowerCase()!==H.rootNode.toLowerCase()}).map(function(M){return{value:M.value.replace(J,"/"),count:M.count}}).forEach(function(M){try{var K=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
M.value+'"]');K&&(K.innerHTML="("+M.count+")")}catch(L){}})}};E.prototype.updateCategorizedMembers=function(G){var H=this;this.categoryCount=G;k["default"](".js-category-count",this.domNode).innerHTML("");Object.keys(G).forEach(function(J){var M=J.replace(/\/categories\//,"/");try{var K=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+M.toLowerCase()+'"]');K&&(K.innerHTML="("+G[J]+")")}catch(L){}});this.isMemberCategoriesOpen&&this.renderMemberCategoriesModal()};E.prototype._updateAria=
function(){k["default"](".js-filter-tree-item",this.domNode).forEach(function(G){return G.setAttribute("aria-expanded",h["default"].contains(G,"is-active"))})};return E=n.__decorate([t["default"](A["default"],r["default"],B["default"],g["default"])],E)}()})},"arcgisonline/pages/dijit/CategoryEdit":function(){define("require exports tslib dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/categories ../utils/alerts ../utils/formatters ../utils/icons ../utils/getLivingAtlasCategorySet ./Overlay ../portal/Portal ../../esriGeowConfig dojo/text!./CategoryEdit/templates/CategoryEdit.html dojo/text!./CategoryEdit/templates/Node.html dojo/text!./CategoryEdit/templates/Group.html dojo/text!./CategoryEdit/templates/_count.html dojo/text!./CategoryEdit/templates/_standard.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);return function(){function E(G,H){this.title=F["default"].contentCategories.configureCategories;this.overlayContents=k["default"].substitute(q["default"],{i18n:F["default"]},null,e["default"]);this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;this.i18n=F["default"];this.constrain=!0;this.showActionBar=this.isCreate=
!1}E.prototype.postMixInProperties=function(){this.inherited(arguments);this.categories=this.group&&t["default"].clone(this.group.categorySchema)||t["default"].clone(this.portal.categories);this.rootNode=l["default"].getRootNode(this.categories);if(!this.portal.queryItems){var G=this.portal.id;this.portal=new m["default"](t["default"].clone(this.portal));this.portal.id=G}"//"===this.portal.url.slice(-2)&&(this.portal.url=this.portal.url.slice(0,this.portal.url.length-1));this.group&&(this.i18n.contentCategories=
t["default"].mixin(this.i18n.contentCategories,this.i18n.groupCategories));this.overlayContents=k["default"].substitute(q["default"],{i18n:F["default"]},null,e["default"]);if(!this.categories||1>this.categories.length)this.showActionBar=this.isCreate=!0,this.title=F["default"].contentCategories.setUpCategories,this.categories=[{title:"Categories",categories:[]}]};E.prototype.postCreate=function(){var G=this,H,J;this.inherited(arguments);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);this.updateSubmit();this.isCreate?(f["default"]({livingAtlas:b["default"](this.portal,"LivingAtlas"),iso:b["default"](this.portal,"ISO"),inspire:b["default"](this.portal,"Inspire")}).then(function(K){G.standardSets={livingAtlas:K.livingAtlas[0],iso:K.iso[0],inspire:K.inspire[0]};G.buildStandardSets()}),this.domNode.querySelector(".js-category-setup-explanation").classList.remove("hide"),this.domNode.querySelector(".js-category-edit-explanation").classList.add("hide"),
this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)):(this.domNode.querySelector(".js-content-loading").classList.remove("is-active"),this.domNode.querySelector(".js-category-wrapper").classList.remove("hide"),g["default"](".js-category-edit-li",this.domNode).addClass("is-open"));this.addCategoryListeners();this.drag=A["default"]([].slice.call(this.domNode.querySelectorAll(".js-category-group")),
{moves:function(K,L,U){return U.classList.contains("js-toggle-item")||U.classList.contains("js-category-edit-item")},accepts:function(K,L,U,ba){return L===U}});this.drag.on("drop",function(K){K.classList.contains("is-editing")||(G.updateState(),G.updateSchema().then(function(L){}))});this.updateCounts();var M=(null===(J=null===(H=this.portal)||void 0===H?void 0:H.portalUser)||void 0===J?void 0:J.userRole)||p["default"].userRole||{};this.domNode.classList[this.group||M.canUpdateOrgItems()?"add":"remove"]("can-renameDeleteFromSchema")};
E.prototype.destroy=function(){this.inherited(arguments)};E.prototype.close=function(G){this.isCreate&&(this.cleanUp(!0),this.hasCategories()&&!G&&(this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain,this.setUnsaved(!0)));w["default"].publish("category-edit/close");this.inherited(arguments)};E.prototype.handleCancel=function(){w["default"].publish("category-edit/cancel");this.inherited(arguments)};E.prototype.handlePrimary=function(){this.submit()};E.prototype.addCategoryListeners=
function(){var G=this,H=function(J,M,K){K.target.classList.contains(J)&&M.bind(G)(K)};this.own(g["default"](this.domNode).on("click",function(J){H("js-toggle-item",G.toggleOpen,J);H("js-add-sibling",G.addCategory,J);H("js-category-edit-button",G.editNode,J);H("js-category-cancel-edit",G.cancelEditNode,J);H("js-edit-confirm",G.confirmEdit,J);H("js-cancel-edit",G.cancelEdit,J);H("js-category-edit-submit",G.saveEdit,J);H("js-category-delete-button",G.initiateDelete,J);H("js-cancel-delete",G.cancelDelete,
J);H("js-delete-confirm",G.confirmDelete,J)}),g["default"](this.domNode).on("input",function(J){H("js-category-item-input",G.validateInput,J)}))};E.prototype.buildStandardSets=function(){var G=this,H=this.domNode.querySelector(".js-standard-categories-nav");Object.keys(this.standardSets).forEach(function(J){var M,K,L=G.standardSets[J],U=L.title;L=L.snippet;var ba=(null===(M=G.portal.helpMap)||void 0===M?void 0:M.m)||(null===(K=p["default"].self.helpMap)||void 0===K?void 0:K.m)||{};M={inspire:"reference/content-categories.htm#CATEGORY_INSPIRE",
iso:"reference/content-categories.htm#CATEGORY_ISO",livingAtlas:"reference/content-categories.htm#CATEGORY_ARCGIS"};K={inspire:ba["120001582"]||"",iso:ba["120001581"]||"",livingAtlas:ba["120001580"]||""};u["default"].place(k["default"].substitute(D["default"],{key:J,title:U,description:L,i18n:F["default"],helpBase:G.portal.helpBase||"https://doc.arcgis.com/en/arcgis-online/",helpLink:G.portal.isPortal?K[J]:M[J]}),H)});this.own(g["default"](".js-category-setup-option",this.domNode).on("click",this.toggleStandard.bind(this)),
g["default"](".js-category-setup-option",this.domNode).on("keyup",function(J){"Enter"!==J.key&&"Space"!==J.key||G.toggleStandard(J)}));g["default"](".js-content-loading",this.domNode).removeClass("is-active");g["default"](".js-category-wrapper",this.domNode).removeClass("hide")};E.prototype.toggleStandard=function(G){if(G.target.classList.contains("js-category-setup-option")){var H=G.target.getAttribute("data-category-set"),J=this.domNode.querySelector(".js-category-setup-option.is-active").getAttribute("data-category-set"),
M=!0;g["default"](".js-category-setup-option",this.domNode).removeClass("is-active");G.target.classList.add("is-active");if(J===H)return!1;"custom"===J&&"custom"!==H&&(this.customBackup=n.__spreadArray([],this.categories[0].categories).filter(function(K){return""!==K.title}));"custom"===H&&"custom"!==J&&(this.categories[0].categories=n.__spreadArray([],this.customBackup));"custom"!==H&&(this.categories[0].categories=this.standardSets[H].categorySchema[0].categories);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);"custom"!==H||this.hasCategories()||(this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),this.domNode.querySelector(".js-category-item-input").focus(),M=!1);this.updateState();this.updateSubmit();this.setUnsaved(M)}};E.prototype.toggleOpen=function(G){G.preventDefault();G=G.target.parentNode;var H=G.classList.contains("is-open");G.classList[H?"remove":"add"]("is-open")};E.prototype.addCategory=function(G){this.cleanUp();if(0===
this.domNode.querySelectorAll(".js-category-edit-li.is-editing").length){var H=G.target.parentNode;G=G.target.getAttribute("data-category-path")||"";var J=2>(G.match(RegExp("/","g"))||[]).length?"is-parent":"",M={path:G,categories:"",i18n:F["default"],isOpen:"is-open",ariaText:F["default"].contentCategories.addSub,icons:a["default"]};J={isOpen:"is-open",children:J?k["default"].substitute(B["default"],M,null,e["default"]):"",title:"",path:G,i18n:F["default"],isParent:J,saveText:this.isCreate?F["default"].contentCategories.add:
F["default"].common.save,icons:a["default"]};H=Array.prototype.slice.call(H.children).filter(function(K){return K.classList.contains("js-add-sibling")}).shift();M=document.createElement("div");M.innerHTML=k["default"].substitute(y["default"],J,null,e["default"]);J=M.querySelector(".js-category-edit-li");u["default"].place(J,H,"before");G||H.setAttribute("aria-label",F["default"].contentCategories.addCat);J.classList.add("is-editing");J.querySelector(".js-category-item-input").focus();this.updateSubmit()}};
E.prototype.editNode=function(G){G.preventDefault();this.cleanUp();var H=g["default"](G.target).closest(".js-category-edit-item").shift();G=g["default"](G.target).closest(".js-category-edit-li").shift();H.classList.add("is-editing");G.classList.add("is-editing");H.querySelector(".js-category-edit-submit").disabled=!0;H=H.querySelector(".js-category-item-input");H.focus();H.select();this.updateSubmit()};E.prototype.cancelEditNode=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-item").shift();
G=g["default"](G.target).closest(".js-category-edit-li").shift();var J=H.getAttribute("data-current-category"),M=H.querySelector(".js-category-item-input-error"),K=H.querySelector(".js-category-item-input");J?(H.classList.remove("is-editing"),G.classList.remove("is-editing"),K.value=J,K.classList.remove("input-error"),M.classList.remove("is-active")):this.hasCategories()||!this.isCreate||1<g["default"](".js-category-edit-li.is-editing",this.domNode).length?u["default"].destroy(H.parentNode):(K.value=
"",K.classList.remove("input-error"),M.classList.remove("is-active"),K.focus(),G.querySelector(".js-category-edit-submit").setAttribute("disabled","true"));this.updateSubmit()};E.prototype.saveEdit=function(G){var H=this;G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-item").shift(),M=J.parentNode,K=J.getAttribute("data-current-category"),L=M.getAttribute("data-category-path"),U=J.querySelector(".js-category-item-input").value;G=M.querySelector(".js-category-group \x3e .js-add-sibling");
if(K){var ba=L.split("/");ba.pop();ba.push(U);var V=ba.join("/");G&&G.setAttribute("data-category-path",V);this.isCreate?(M.querySelector(".js-category-edit-title").innerHTML=U,J.classList.remove("is-editing"),M.classList.remove("is-editing"),M.setAttribute("data-category-path",V),J.setAttribute("data-current-category",U),g["default"](".js-category-edit-li",M).forEach(function(aa){var ha=aa.getAttribute("data-category-path").replace(L,V);aa.setAttribute("data-category-path",ha)}),this.updateState(),
this.updateSchema().then(function(){},function(aa){return 0})):this.searchCategoryItems({category:L,num:1}).then(function(aa){if(0<aa.total){var ha=M.querySelector(".js-category-edit-warning"),ia=ha.querySelector(".js-edit-confirm"),ka=F["default"].contentCategories[1===aa.total?"categoryInUseEditSingle":"categoryInUseEditPlural"];J.classList.add("category-edit-item__disabled");J.classList.remove("is-editing");M.classList.remove("is-editing");var qa=k["default"].substitute(z["default"],{path:V,num:aa.total});
M.querySelector(".js-category-edit-title").innerHTML=U+qa;M.querySelector(".js-category-in-use-edit-explanation").innerHTML=k["default"].substitute(ka,{number:aa.total,category:K,newCategory:U});ha.classList.remove("hide");ia.setAttribute("data-category-path",L);ia.setAttribute("data-category",K);ia.setAttribute("data-new-category",U);ia.setAttribute("data-new-category-path",V);ia.focus()}else M.querySelector(".js-category-edit-title").innerHTML=U,J.classList.remove("is-editing"),M.classList.remove("is-editing"),
M.setAttribute("data-category-path",V),J.setAttribute("data-current-category",U),g["default"](".js-category-edit-li",M).forEach(function(Y){var Q=Y.getAttribute("data-category-path").replace(L,V);Y.setAttribute("data-category-path",Q)}),H.updateState(),H.updateSchema().then(function(){},function(Y){return 0})})}else(ba=L+"/"+U,G&&(G.setAttribute("data-category-path",ba),G.setAttribute("aria-label",k["default"].substitute(F["default"].contentCategories.addSubCategoryOf,{category:U}))),J.setAttribute("data-current-category",
U),J.querySelector(".js-category-edit-title").innerHTML=U,M.setAttribute("data-category-path",ba),M.classList.remove("is-editing"),this.isCreate&&J.classList.remove("is-editing"),this.updateState(),this.isCreate)?this.cleaningUp||K||(this.setUnsaved(!0),J.querySelector(".js-category-edit-submit").innerHTML=F["default"].contentCategories.update,(G=(G=M.parentNode)&&G.children&&G.children[G.children.length-1])&&this.addCategory({target:G})):this.updateSchema().then(function(){},function(aa){return 0})};
E.prototype.confirmEdit=function(G){var H=this,J=g["default"](G.target).closest(".js-category-edit-li").shift(),M=G.target.getAttribute("data-category-path"),K=G.target.getAttribute("data-new-category"),L=G.target.getAttribute("data-new-category-path"),U=J.querySelector(".js-category-edit-item");G=J.querySelector(".js-category-edit-warning");var ba=J.querySelector(".js-category-loader"),V=J.querySelector(".js-category-loader-bar"),aa=J.querySelector(".js-loading-message");G.classList.add("hide");
J.setAttribute("data-category-path",L);U.setAttribute("data-current-category",K);g["default"](".js-category-edit-li",J).forEach(function(ha){var ia=ha.getAttribute("data-category-path").replace(M,L);ha.querySelector(".js-category-count").setAttribute("data-category-path",ia);ha.setAttribute("data-category-path",ia)});ba.classList.remove("hide");aa.innerHTML="";V.style.width="0%";this.searchCategoryItems({category:M,num:1}).then(function(ha){ha={length:ha.total,oldCategory:M,newCategory:L,loader:ba};
H.enableButtons(!1);H.bulkEditCategory(ha).then(function(ia){H.updateState();H.updateSchema().then(function(ka){ba.classList.add("hide");U.classList.remove("category-edit-item__disabled");H.enableButtons(!0);w["default"].publish("items/refresh",{forcedDelay:2E3});w["default"].publish("view/deselectAll")},function(ka){})})})};E.prototype.cancelEdit=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-li").shift();G=this.rootNode.toLowerCase()+H.getAttribute("data-category-path");
var J=H.querySelector(".js-category-edit-item"),M=J.getAttribute("data-current-category"),K=H.querySelector(".js-category-edit-warning"),L=J.querySelector(".js-category-edit-title"),U=J.querySelector(".js-category-item-input");H=(H=H.querySelector(".js-category-count"))&&H.innerHTML||"";U.value=M;K.classList.add("hide");J.classList.remove("category-edit-item__disabled");L.innerHTML="\n      "+M+'\n      \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"'+G+'"\x3e\n        '+
H+"\n      \x3c/span\x3e\n    ";this.updateSubmit()};E.prototype.initiateDelete=function(G){var H=this;this.cleanUp();G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-item"),M=g["default"](G.target).closest(".js-category-edit-li").shift(),K=M.getAttribute("data-category-path");J.addClass("category-edit-item__disabled");this.isCreate?this.deleteCategory(K):this.searchCategoryItems({category:K,num:1}).then(function(L){if(0<L.total){var U=M.querySelector(".js-category-edit-delete-warning");
U.classList.remove("hide");var ba=F["default"].contentCategories[1===L.total?"categoryInUseDeleteSingle":"categoryInUseDeletePlural"];M.querySelector(".js-category-in-use-explanation").innerHTML=k["default"].substitute(ba,{number:L.total});U.querySelector(".js-delete-confirm").focus()}else H.deleteCategory(K)},function(L){return 0})};E.prototype.cancelDelete=function(G){G=g["default"](G.target).closest(".js-category-edit-li").shift();var H=G.querySelector(".js-category-edit-delete-warning");G.querySelector(".js-category-edit-item").classList.remove("category-edit-item__disabled");
H.classList.add("hide")};E.prototype.confirmDelete=function(G){var H=this;G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-li").shift(),M=J.getAttribute("data-category-path");G=J.querySelector(".js-category-edit-delete-warning");var K=J.querySelector(".js-category-loader"),L=J.querySelector(".js-category-loader-bar");J=J.querySelector(".js-loading-message");G.classList.add("hide");K.classList.remove("hide");J.innerHTML="";L.style.width="0%";this.searchCategoryItems({category:M,
num:1}).then(function(U){U={length:U.total,oldCategory:M,loader:K};H.enableButtons(!1);H.bulkEditCategory(U).then(function(ba){H.deleteCategory(M);H.enableButtons(!0);w["default"].publish("items/refresh",{forcedDelay:2E3});w["default"].publish("view/deselectAll");setTimeout(function(){H.updateCounts()},1200)})})};E.prototype.validateInput=function(G){var H,J,M=l["default"].getSchemaOrder(this.categories).__total,K=g["default"](G.target).closest(".js-category-edit-li").shift(),L=g["default"](K.parentNode).closest(".js-category-edit-li").shift(),
U=(null===L||void 0===L?void 0:L.getAttribute("data-category-path"))||"/";L=(null===K||void 0===K?void 0:K.getAttribute("data-category-path")).replace(U,"");var ba=null===(J=null===(H=G.target)||void 0===H?void 0:H.value)||void 0===J?void 0:J.trim();J=g["default"](G.target).closest(".js-category-group").shift();var V=g["default"](G.target).closest(".js-category-edit-form").shift();H=V.querySelector(".js-category-item-input-error");V=V.querySelector(".js-category-edit-submit");var aa=g["default"](G.target).closest(".js-category-edit-item").shift();
aa=""!==(null===aa||void 0===aa?void 0:aa.getAttribute("data-current-category"));J=J&&[].slice.call(J.children).filter(function(ha){return ha.classList.contains("category-editor-item")}).filter(function(ha){return ha!==K}).map(function(ha){return ha.getAttribute("data-category-path").replace(U,"").toLowerCase().split("/").pop()});200<M&&!aa?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooMany,H.classList.add("is-active"),V.disabled=!0):0===ba.length?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),V.disabled=!0):0<this.checkCharacters(ba).length?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(F["default"].contentCategories.errors.charsNotAllowed,{chars:this.checkCharacters(ba).join(" ")}),H.classList.add("is-active"),V.disabled=!0):100<ba.length?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooLong,H.classList.add("is-active"),V.disabled=!0):ba===L?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),V.disabled=!0):-1<J.indexOf(ba.toLowerCase())?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(F["default"].contentCategories.errors.alreadyExists,{name:ba}),H.classList.add("is-active"),V.disabled=!0):(G.target.classList.remove("input-error"),H.classList.remove("is-active"),V.disabled=!1);this.updateSubmit()};E.prototype.checkCharacters=function(G){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(H){return-1<G.indexOf(H)}).map(function(H){return"\x3ccode\x3e"+
H+"\x3c/code\x3e"})};E.prototype.bulkEditCategory=function(G){var H=this,J=G.loader,M=G.length,K=G.oldCategory,L=G.newCategory;G=Math.floor(M/100)+1;var U=[],ba=J.querySelector(".js-category-loader-bar"),V=J.querySelector(".js-loading-message"),aa=50/M,ha=0,ia=0;ba.style.width="0%";V.innerHTML="";this.setUnsaved(!0);for(var ka=w["default"].subscribe("categorySchema/loading",function(Y,Q){"update"===Q&&(ia+=Y,ia>M&&(ia=M),V.innerHTML=k["default"].substitute(F["default"].contentCategories.updatingProgress,
{current:ia,total:M}));ha+=Y*aa;ba.style.width=ha+"%"}),qa=0;qa<G;qa++)U.push({category:K,start:100*qa,num:100,loader:J});J=U.map(function(Y){return H.searchCategoryItems(Y)});return f["default"](J).then(function(Y){return Y.map(function(Q){return Q.results.map(function(fa){var S={},O=H.transformCategories(K,L,fa.categories);S[fa.id]=H.group?O:{categories:O};return S})})}).then(function(Y){Y=Y.map(function(Q){return H.updateItems(Q)});return f["default"](Y)}).then(function(Y){ka.remove();H.setUnsaved(!1);
H.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;return Y})};E.prototype.transformCategories=function(G,H,J){return H?J.map(function(M){return M.replace(G,H)}):J.filter(function(M){return 0>M.indexOf(G)})};E.prototype.deleteCategory=function(G){var H=this;g["default"](".js-category-edit-li",this.domNode).forEach(function(J){var M=J.getAttribute("data-category-path");M!==G&&encodeURIComponent(M)!==encodeURIComponent(G)||u["default"].destroy(J)});this.updateState();1!==
this.categories.length||0!==this.categories[0].categories.length||this.isCreate?(this.setUnsaved(!0),this.updateSchema().then(function(){},function(J){return 0})):this.deleteCategorySchema().then(function(J){H.setUnsaved(!1);w["default"].publish("categorySchema/updated",null,!!H.group);H.close()},function(J){J&&J.messageCode&&"GWM_0021"===J.messageCode&&d["default"].showAlert("error",J.message)})};E.prototype.updateState=function(){this.categories[0].categories=this.domToCategories(this.domNode.querySelector(".js-category-group"));
this.drag&&(this.drag.containers=[].slice.call(this.domNode.querySelectorAll(".js-category-group")));this.updateSubmit()};E.prototype.updateSubmit=function(){if(this.isCreate){var G=this.hasCategories();G||(G=0<Array.prototype.slice.call(this.domNode.querySelectorAll(".js-category-edit-li.is-editing")).filter(function(H){return!H.querySelector(".js-category-edit-submit").disabled}).length);this._primaryBtn.disabled=!G;this.cleaningUp||this.setUnsaved(G)}};E.prototype.domToCategories=function(G){var H=
this,J=[];Array.prototype.slice.call(G.children).filter(function(M){return M.classList.contains("category-editor-item")}).forEach(function(M){var K={title:M.querySelector(".js-category-edit-item").getAttribute("data-current-category").trim(),isOpen:M.classList.contains("is-open")};0<M.querySelectorAll(".js-category-group").length&&(K.categories=H.domToCategories(M.querySelector(".js-category-group")));J.push(K)});return J};E.prototype.categoriesToDom=function(G,H){var J=this;H=H||"";var M=(G||[]).reduce(function(K,
L){L.title=L.title.trim();var U=L.displayName?L.displayName:L.title,ba=H?H+"/"+L.title:"/"+L.title,V=3>(ba.match(RegExp("/","g"))||[]).length?"is-parent":"",aa={path:ba,categories:"",i18n:F["default"],ariaText:F["default"].contentCategories.addSub};aa=V?k["default"].substitute(B["default"],aa,null,e["default"]):"";aa=L.categories&&V?J.categoriesToDom(L.categories,ba):aa;return K+k["default"].substitute(y["default"],{isOpen:L.isOpen&&V?"is-open":"",icons:a["default"],title:U,path:ba,isParent:V,children:aa,
i18n:F["default"],saveText:J.isCreate?F["default"].contentCategories.update:F["default"].common.save},null,e["default"])},"");return k["default"].substitute(B["default"],{i18n:F["default"],path:H||"",categories:M,ariaText:H?F["default"].contentCategories.addSub:F["default"].contentCategories.addCat},null,e["default"])};E.prototype.updateSchema=function(G){var H=this;this.categories[0].categories=this.categories[0].categories.map(l["default"].cleanSchema);var J=this.group&&this.portal.portalUrl+"community/groups/"+
this.group.id,M=(this.portal.portalUrl||this.portal.url)+"portals/"+this.portal.id;J={url:(this.group?J:M)+"/assignCategorySchema",content:{categorySchema:JSON.stringify({categorySchema:this.categories})}};if(!this.isCreate||G)return this.setUnsaved(),r["default"].request(J,{usePost:!0}).then(function(K){K.success&&(d["default"].showAlert("success",F["default"].contentCategories.success),w["default"].publish("categorySchema/updated",H.categories,!!H.group),w["default"].publish("category-edit/save-success"));
K.error&&d["default"].showAlert("error",K.error.details[0]);return K},function(K){d["default"].showAlert("error",K.message)});G=new h["default"];G.resolve(!0);return G};E.prototype.enableButtons=function(G){g["default"](".js-category-edit-actions",this.domNode)[G?"removeClass":"addClass"]("visually-hidden")};E.prototype.hasCategories=function(){var G,H,J;return 0<(null===(J=null===(H=null===(G=this.categories)||void 0===G?void 0:G[0])||void 0===H?void 0:H.categories)||void 0===J?void 0:J.length)&&
0<this.categories[0].categories.filter(function(M){return""!==M.title}).length};E.prototype.searchCategoryItems=function(G){var H=G.category,J=G.start;J=void 0===J?0:J;G=G.num;var M=void 0===G?100:G;G="orgid: "+this.portal.id;H=JSON.stringify([this.rootNode+(void 0===H?"":H)]);H={start:J,num:M,categories:this.group?H:encodeURIComponent(H)};this.token&&(H.token=this.token.slice(7,this.token.length));if(this.group)return r["default"].request({url:this.portal.url+"content/groups/"+this.group.id+"/search",
content:H}).then(function(K){w["default"].publish("categorySchema/loading",K.results&&K.results.length||0);K.results=K.results.map(function(L){return l["default"].simplifyItemObject(L,!0)});return K},function(K){});H.q=G;return this.portal.queryItems(H).then(function(K){var L;w["default"].publish("categorySchema/loading",(null===(L=K.results)||void 0===L?void 0:L.length)||0);K.results=K.results.map(function(U){return l["default"].simplifyItemObject(U)});return K},function(K){return 0})};E.prototype.updateCounts=
function(){var G=this,H={portal:this.portal};this.group&&(H.group=this.group);l["default"].getCounts(H).then(function(J){if(G.domNode){g["default"](".js-category-count",G.domNode).forEach(function(K){return K.innerHTML=""});var M=new RegExp(G.rootNode.toLowerCase()+"/");J.filter(function(K){return K.value.toLowerCase()!==G.rootNode.toLowerCase()}).map(function(K){return{value:K.value.replace(M,"/"),count:K.count}}).forEach(function(K){if(K.value&&0<K.value.length)try{var L=G.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
K.value+'"]');L&&(L.innerHTML="("+K.count+")")}catch(U){}})}},function(J){return 0})};E.prototype.updateItems=function(G){return r["default"].request({url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(G)}},{usePost:!0}).then(function(H){w["default"].publish("categorySchema/loading",G.length||0,"update");return H},function(H){"GWM_0021"===(null===H||void 0===H?void 0:H.messageCode)&&d["default"].showAlert("error",H.message)})};
E.prototype.deleteCategorySchema=function(){return r["default"].request({url:""+this.portal.url+(this.group?"community/groups/"+this.group.id:"portals/"+this.portal.id)+"/deleteCategorySchema"},{usePost:!0})};E.prototype.submit=function(){var G=this,H,J,M;this.isCreate&&(this.cleanUp(!0),0<(null===(M=null===(J=null===(H=this.categories)||void 0===H?void 0:H[0])||void 0===J?void 0:J.categories)||void 0===M?void 0:M.length)?this.updateSchema(!0).then(function(K){G.setUnsaved(!1);G.close(!0);d["default"].showAlert("success",
F["default"].contentCategories.success);w["default"].publish("categorySchema/updated",G.categories,!!G.group)},function(K){return 0}):(d["default"].showAlert("error",F["default"].contentCategories.errors.schemaEmpty),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)))};E.prototype.cleanUp=function(G){this.cleaningUp=!0;g["default"](".js-category-edit-li.is-editing",this.domNode).forEach(function(H){var J=
H.querySelector(".js-category-edit-submit"),M=H.querySelector(".js-category-item-input"),K=M.classList.contains("input-error")&&G;H=H.querySelector(".js-category-cancel-edit");(""===M.value||K?H:J).click()});this.updateState();this.cleaningUp=!1};return E=n.__decorate([x["default"](C["default"],v["default"],c["default"])],E)}()})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ./CategoryNode ./AddCategoryButton ../helpers ../api arcgisonline/pages/utils/alerts arcgisonline/pages/utils/timeout arcgisonline/pages/utils/a11y dragula/dragula dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e){function a(m){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(p){return-1<m.indexOf(p)}).map(function(p){return"\x3ccode\x3e"+p+"\x3c/code\x3e"})}function b(m,p,q){return m=m.map(function(y){var B;if(-1<y.path.indexOf(p)){if(null===(B=y.categories)||void 0===B?0:B.length)y.categories=b(y.categories,p,q);return n.__assign(n.__assign({},y),{path:y.path.replace(p,q)})}return n.__assign({},y)})}var c=this;Object.defineProperty(N,"__esModule",{value:!0});
f=n.__importDefault(f);g=n.__importDefault(g);v=n.__importDefault(v);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);N["default"]=function(m){var p=m.active,q=m.telemetry,y=m.onClose,B=m.memberCategories,z=m.categoryCount,D=n.__assign(n.__assign(n.__assign({},l["default"].common),l["default"].contentCategories),l["default"].memberCategories.modal);m=u.useState((null===B||void 0===B?0:B.length)?k.updateMemberCount(k.convertToCategoryData(B),
z):[{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}]);var F=m[0],x=m[1];m=u.useState(null);var E=m[0],G=m[1];B=u.useState((null===B||void 0===B?0:B.length)?JSON.stringify(B):'[{"title":"Categories"}]');var H=B[0],J=B[1];B=u.useState(!1);m=B[0];var M=B[1],K=u.useRef(null),L=u.useRef(null),U=u.useRef(null),ba=function(la){return n.__awaiter(c,void 0,void 0,function(){return n.__generator(this,function(ma){switch(ma.label){case 0:return[4,
w.saveCategorizedMembers(la)];case 1:return ma.sent(),[4,C.timeout(300)];case 2:return ma.sent(),[2]}})})},V=function(la,ma){return n.__awaiter(c,void 0,void 0,function(){var oa,sa;return n.__generator(this,function(va){switch(va.label){case 0:return[4,w.searchUsersWithCategory(la)];case 1:return oa=va.sent(),sa=k.updateCategorizedMembers(oa,la,ma),[4,ba(sa)];case 2:return va.sent(),[2]}})})},aa=function(la,ma,oa){oa=n.__assign(n.__assign({},oa),{path:oa.path.replace(la,ma)});oa.categories&&(oa.categories=
oa.categories.map(function(sa){return aa(la,ma,sa)}));return oa},ha=function(la,ma,oa){return n.__awaiter(c,void 0,void 0,function(){var sa,va,za,Aa,Ba,Oa,Ja;return n.__generator(this,function(xa){switch(xa.label){case 0:return sa=JSON.parse(la.dataset.data),va=sa.path,za=ma.dataset.path,Aa=za+"/"+sa.title,Ba=aa(va,Aa,sa),la.dataset.data=JSON.stringify(Ba),Oa=Array.from(ma.childNodes).filter(function(Ea){return Ea.classList.contains("member-category")&&Ea.dataset.data}).map(function(Ea){return JSON.parse(Ea.dataset.data)}),
ma===oa?[3,2]:[4,V(va,Aa)];case 1:xa.sent(),xa.label=2;case 2:return Ja={},Object.keys(z).forEach(function(Ea){Ea===va.toLowerCase()?Ja[Aa.toLowerCase()]=z[Ea]:Ja[Ea]=z[Ea]}),x(function(Ea){Ea=n.__spreadArray([],Ea);if(ma!==oa){var ta=oa.dataset.path;Ea=k.removeCategoryFromSrc(ta,va,Ea);Oa=k.removeCategoryFromSrc(ta,va,Oa)}Ea=k.reorderCategories(Aa,Oa,Ea);return Ea=k.updateMemberCount(Ea,Ja)}),[2]}})})},ia=function(la,ma,oa){A["default"].postToLiveRegion(k.getNodePositionText(la,d["default"].reorder["new"]));
ha(la,ma,oa)},ka=function(la,ma){var oa=!la.sorting;oa&&A["default"].postToLiveRegion(d["default"].reorder.started+" "+k.getNodePositionText(ma,d["default"].reorder.current));x(function(sa){return k.clearEditOrAddProperties(k.toggleSorting(la.path,oa,sa))})},qa=function(){return[].slice.call(K.current.querySelectorAll(".member-categories-list"))};u.useEffect(function(){if(K.current&&!E){var la=r["default"](qa(),{moves:function(ma,oa,sa){return sa.classList.contains("category-edit-item__drag-handle")||
sa.classList.contains("category-edit-item__drag-icon")},accepts:function(ma,oa,sa,va){va=k.getCategoryLevel(oa.dataset.path);var za=k.getDraggedLevel(ma);return!(sa!==oa&&k.isDuplicateTitle(oa,ma))&&!(sa!==oa&&3<va+za)&&!ma.contains(oa)&&!oa.classList.contains("member-category__sub-placeholder")&&!oa.classList.contains("member-categories-list--deepest")}});la.on("drop",ha);G(la)}},[K]);u.useEffect(function(){L.current&&L.current.setFocus("close-button")},[L]);var Y=function(la){return n.__awaiter(c,
void 0,void 0,function(){var ma,oa,sa;return n.__generator(this,function(va){switch(va.label){case 0:return(ma=!(null===(oa=la[0].categories)||void 0===oa?0:oa.length))?[4,w.deleteMemberCategoriesSchema()]:[3,2];case 1:return va.sent(),[3,4];case 2:return null===q||void 0===q?void 0:q.logEvent({category:"member category",action:"config schema",count:null===(sa=la[0].categories)||void 0===sa?void 0:sa.length,size:k.getCategoryCount(la)}),[4,w.saveMemberCategories(la)];case 3:va.sent(),va.label=4;case 4:return e["default"].publish("member-categories-and-count/update",
{categories:ma?[]:la}),v["default"].showAlert("success",D.saveSuccess),ma&&(e["default"].publish("member-categories/delete-all"),x([{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}])),[2]}})})};u.useEffect(function(){E&&G(function(oa){oa.containers=qa();return oa});var la=k.removeExtraProperties(k.removeEmptyCategories(F)),ma=JSON.stringify(la);H!==ma&&(J(ma),Y(la))},[F]);u.useEffect(function(){x(function(la){return k.updateMemberCount(la,
z)})},[z]);var Q=function(la,ma,oa){return!la.trim().length||!!fa(la,ma)||la.trim()===oa},fa=function(la,ma){if(200<k.getCategoryCount(F))return D.errors.tooMany;var oa=a(la);if(0<oa.length)return oa=oa.join(" "),D.errors.charsNotAllowed.replace("${chars}",oa);if(k.getSiblings(ma,F).some(function(sa){return sa.title===la.trim()}))return D.errors.alreadyExists.replace("${name}",la)},S=function(la,ma,oa){return oa.map(function(sa){var va;if(ma===sa.path)return n.__assign(n.__assign({},sa),{errorMessage:fa(la,
ma),saveDisabled:Q(la,ma,sa.title)});if(null===(va=sa.categories)||void 0===va?0:va.length)sa.categories=S(la,ma,sa.categories);return n.__assign({},sa)})},O=function(la,ma){x(function(oa){return n.__spreadArray([],S(la,ma,oa))})},I=function(la,ma,oa,sa,va){void 0===sa&&(sa=0);void 0===va&&(va="Categories");var za=k.getCategoryLevel(ma);return oa.map(function(Aa){var Ba;if(za===sa)return ma===Aa.path&&(Aa=n.__assign(n.__assign({},Aa),{categories:b(Aa.categories,Aa.path+"/",va+"/"+la+"/"),title:la,
path:va+"/"+la,isEditing:!1})),n.__assign({},Aa);if(null===(Ba=Aa.categories)||void 0===Ba?0:Ba.length)Aa.categories=I(la,ma,Aa.categories,sa+1,Aa.path);return n.__assign({},Aa)})},Z=function(la,ma,oa){return n.__awaiter(c,void 0,void 0,function(){var sa;return n.__generator(this,function(va){switch(va.label){case 0:if(!oa)return[3,2];sa=k.getParentPath(ma);return[4,V(ma,sa+"/"+la)];case 1:va.sent(),va.label=2;case 2:return x(function(za){za=n.__spreadArray([],za);za=oa?k.updateFinishEditing(ma,!0,
za):k.updateFinishAdding(k.getParentPath(ma),!0,za);za=I(la,ma,za);za[0].finishAdding&&window.setTimeout(function(){U.current.focus()},100);return za}),M(!1),[2]}})})},W=1===F[0].categories.length&&!F[0].categories[0].title,ca=function(la){M(!1);W||(la.title?x(function(ma){return k.updateFinishEditing(la.path,!0,k.updateIsEditing(la.path,!1,k.removeEmptyCategories(ma)))}):x(function(ma){ma=k.updateFinishAdding(k.getParentPath(la.path),!0,k.removeEmptyCategories(ma));ma[0].finishAdding&&U.current.focus();
return ma}))},T=function(la){M(!0);x(function(ma){return k.clearEditOrAddProperties(k.updateIsEditing(la.path,!0,k.removeEmptyCategories(ma)))})},P=function(la){W||(M(!0),x(function(ma){ma=k.removeEmptyCategories(ma);ma=k.addCategory(la,ma);ma=k.clearEditOrAddProperties(ma);return n.__spreadArray([],ma)}))},X=function(la){return n.__awaiter(c,void 0,void 0,function(){var ma,oa;return n.__generator(this,function(sa){switch(sa.label){case 0:return W?[2]:[4,w.searchUsersWithCategory(la.path)];case 1:return ma=
sa.sent(),oa=k.removeCategoriesFromMembers(ma,la.path),[4,ba(oa)];case 2:return sa.sent(),x(function(va){va=k.updateFinishAdding(k.getParentPath(la.path),!0,k.removeCategory(la.path,va));va[0].finishAdding&&U.current.focus();return va}),[2]}})})},da=function(la){x(function(ma){return k.toggleCollapsed(la,ma)})},ea=1===F[0].categories.length,ja=ea&&!F[0].categories[0].title;return t.h(t.Fragment,null,p&&h.createPortal(t.h("calcite-modal",{role:"dialog","aria-modal":"true",scale:"l",width:1460,noPadding:!0,
active:p,backgroundColor:"grey",oncalciteModalClose:y,"aria-labelledby":"member-categories-modal-title",ref:L,intlClose:D.close,disableOutsideClose:!0},t.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-categories-modal-title"},D.configureTitle),t.h("div",{slot:"content",ref:K},t.h("div",{"class":"member-categories__edit-mask "+(m?"":"hide")}),t.h("div",{"class":"column-14 post-1 leader-1 trailer-1 member-categories__content"},t.h("div",{"class":"category-editor-group category-editor-group--spaced member-categories__root-container",
role:"application"},t.h("ul",{id:"root-member-category-list",role:"group","class":"member-categories-list","data-path":"/Categories"},F[0].categories.map(function(la,ma){return t.h(f["default"],{key:la.path+"-"+ma,data:la,isParent:!0,isEditing:ea||!la.title,noCategoryYet:ja,onChange:O,onSave:Z,onEdit:T,onCancel:ca,onDelete:X,onAddSubCategory:P,onCollapsedToggle:da,onPositionChange:ia,onSortingToggle:ka})}),t.h(g["default"],{buttonRef:U,level:1,onClick:function(){return P("/Categories")},disabled:ea&&
!F[0].categories[0].title})))),t.h("div",{"class":"column-8 leader-1 padding-leader-half margin-right-1"},t.h("p",{"class":"font-size--1"},D.editDescription)))),document.body))}})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryNode":function(){define("require exports tslib preact preact/hooks ./AddCategoryButton ../helpers ./CategoryConfirm arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline dojo/string".split(" "),function(R,N,n,t,u,h,f,g,k,
w,v){Object.defineProperty(N,"__esModule",{value:!0});h=n.__importDefault(h);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);var C=function(A){var r,l,d=A.data,e=A.isParent,a=A.noCategoryYet,b=A.onEdit,c=A.onCancel,m=A.onChange,p=A.onSave,q=A.onDelete,y=A.onAddSubCategory,B=A.onCollapsedToggle,z=A.onPositionChange,D=A.onSortingToggle;A=n.__assign(n.__assign(n.__assign(n.__assign({},w["default"].common),w["default"].orgHomePageSetup.content),w["default"].contentCategories),
w["default"].memberCategories.modal);var F="category-editor-"+k["default"].hyphenate(d.title)+"-input",x=u.useState(d.title),E=x[0],G=x[1];x=u.useState(!1);var H=x[0],J=x[1];x=u.useState(!1);var M=x[0],K=x[1],L=u.useRef(null),U=u.useRef(null),ba=u.useRef(null),V=u.useRef(null),aa=u.useRef(null),ha=u.useRef(null);u.useEffect(function(){d.sorting&&ba.current&&ba.current.focus()},[ba,d.sorting]);u.useEffect(function(){if(d.isEditing){var O=U.current;O.focus();O.select();O.scrollIntoView({block:"center"})}},
[d.isEditing]);u.useEffect(function(){V.current&&d.finishAdding&&setTimeout(function(){V.current.focus()},100)},[V,d.finishAdding]);u.useEffect(function(){aa.current&&d.finishEditing&&aa.current.focus()},[aa,d.finishEditing]);var ia=function(){var O=E.trim();d.title!==O&&0<d.memberCount?K(!0):p(O,d.path,0<d.title.length)};x=d.isEditing&&!M?"is-editing":"";var ka=function(){J(!1);ha.current.focus()},qa=function(){J(!1);q(d)},Y=d.memberCount?1===d.memberCount?A.inUseDeleteSingle:A.inUseDeletePlural.replace("${number}",
""+d.memberCount):"",Q;H&&d.memberCount&&(Q=t.h(g["default"],{message:Y,confirmText:A.deleteCategory,isRed:!0,onCancel:ka,onConfirm:qa}));H=d.memberCount?1===d.memberCount?v["default"].substitute(A.inUseEditSingle,{category:d.title,newCategory:E}):v["default"].substitute(A.inUseEditPlural,{number:d.memberCount,category:d.title,newCategory:E}):"";var fa=function(O){return!!O&&!O.classList.contains("member-category-node__placeholder")&&!O.classList.contains("member-category__add-sibling")};M&&d.memberCount&&
(Q=t.h(g["default"],{message:H,confirmText:A["continue"],onConfirm:function(){K(!1);p(E,d.path,0<d.title.length)},onCancel:function(){K(!1);c(d)}}));H={__html:d.errorMessage};ka=(ka="rtl"===document.documentElement.dir)&&d.collapsed?"chevron-left":!ka&&d.collapsed?"chevron-right":"chevron-down";qa=f.getCategoryLevel(d.path);Y=3<=qa;var S=0<(null===(r=d.categories)||void 0===r?void 0:r.length)||3>f.getCategoryLevel(d.path);r=""+(M?E:d.title)+(d.memberCount?" ("+d.memberCount+")":"");M="rtl"===document.documentElement.dir;
return t.h("li",{ref:L,"class":"member-category "+(d.collapsed?"":"is-open")+" "+(e?"is-parent":"")+" "+(d.hidden?"hide":"")+" "+x+" member-category--level-"+qa+" js-member-category-node",role:"treeitem","data-title":d.title,"data-path":d.path,"data-data":JSON.stringify(d)},t.h("span",{"class":"member-category-edit-item"},t.h("div",{"class":"flex flex-align-center member-category-edit-item__info "+(d.sorting?"member-category-edit-item__info--sorting":"")},t.h("div",{ref:ba,"class":"category-edit-item__drag-handle flex-center tooltip tooltip-bottom-"+
(M?"right":"left"),tabIndex:0,onKeyDown:function(O){var I=L.current;if(" "===O.key||"Enter"===O.key){var Z=!0;D(d,L.current)}else if("ArrowDown"===O.key&&d.sorting)fa(I.nextElementSibling)&&(Z=!0,I.nextElementSibling.insertAdjacentElement("afterend",I),I=I.parentElement,z(L.current,I,I));else if("ArrowUp"===O.key&&d.sorting)fa(I.previousElementSibling)&&(Z=!0,I.parentElement.insertBefore(I,I.previousElementSibling),I=I.parentElement,z(L.current,I,I));else if("ArrowRight"===O.key&&d.sorting){var W=
I.previousElementSibling,ca=I.parentElement;if(fa(W)){W=W.querySelector(".member-categories-list");var T=f.getCategoryLevel(W.dataset.path),P=f.getDraggedLevel(I);3>=T+P&&fa(W)&&!f.isDuplicateTitle(W,I)&&!W.classList.contains("member-categories-list--deepest")&&(Z=!0,W.appendChild(I),z(L.current,W,ca))}}else"ArrowLeft"===O.key&&d.sorting&&(ca=I.parentElement,W=ca.closest("li.member-category"),T=null===W||void 0===W?void 0:W.parentElement,fa(W)&&fa(T)&&!f.isDuplicateTitle(T,I)&&"root-member-category-list"!==
W.id&&(W.insertAdjacentElement("afterend",I),Z=!0,z(L.current,T,ca)));Z&&O.preventDefault()},onBlur:function(){d.sorting&&D(d,L.current)},"aria-label":A.reorder},t.h("calcite-icon",{"class":"category-edit-item__drag-icon",icon:"drag",scale:"s"})),t.h("button",{"class":"btn-link btn-link-darker-gray member-category__toggle-btn tooltip "+(Y?"hide":""),onClick:function(){e&&B(d.path)},"aria-label":""+(d.collapsed?A.expand:A.collapse)},t.h("calcite-icon",{icon:ka,scale:"s"})),t.h("div",{"class":"member-category-edit-item__title"},
r),t.h("div",{"class":"flex-1"}),t.h("button",{"class":"tooltip category-edit-item--action member-category-edit-item__edit-btn margin-right-1","aria-label":A.editCategory,onClick:function(){G(d.title);b(d)},ref:aa},t.h("calcite-icon",{icon:"pencil",scale:"s"})),t.h("button",{ref:ha,"class":"tooltip category-edit-item--action member-category-edit-item__delete-btn margin-right-1","aria-label":A.deleteCategory,onClick:function(){0<d.memberCount?J(!0):q(d)}},t.h("calcite-icon",{icon:"trash",scale:"s"}))),
t.h("form",{"class":"member-category-edit-item__form member-category__form flex",onSubmit:function(O){return O.preventDefault()}},t.h("label",{"class":"flex-1 overflow-visible trailer-0","for":F},t.h("span",{"class":"screen-readers-only"},A.categoryName),t.h("input",{id:F,ref:U,type:"text",value:E,"class":"category-edit-form__input member-category__form-input "+(d.errorMessage?"input-error":""),onInput:function(O){O=O.target.value;m(O,d.path);G(O)},onKeyDown:function(O){"Enter"!==O.key||d.saveDisabled||
(O.preventDefault(),ia())},autoComplete:"off",maxLength:100}),t.h("div",{"class":"input-error-message "+(d.errorMessage?"is-active":""),dangerouslySetInnerHTML:H})),t.h("span",{"class":"member-category-edit-item__form-actions"},t.h("button",{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action category-edit-form__action--green",type:"button","aria-label":A.save,onClick:ia,disabled:d.saveDisabled},t.h("calcite-icon",{icon:"check"})),t.h("button",
{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action",onClick:function(){a?U.current.focus():(c(d),aa.current.focus())},"aria-label":A.cancel,type:"button",disabled:a},t.h("calcite-icon",{icon:"x"}))))),Q,t.h("div",{"class":"category-editor-group category-editor-group--spaced member-category__spacer "+(d.collapsed?"hide":"")},t.h("ul",{id:"member-category-sub-list-"+d.path,role:"group","class":"member-categories-list "+(Y?"member-categories-list--deepest":
""),"data-path":""+d.path},S&&(null===(l=d.categories)||void 0===l?void 0:l.map(function(O,I){var Z=f.getCategoryLevel(d.path);return t.h(C,{key:O.path+"-"+I,data:O,isParent:3>Z,isEditing:!O.title,noCategoryYet:a,onChange:m,onSave:p,onEdit:b,onCancel:c,onDelete:q,onAddSubCategory:y,onCollapsedToggle:B,onPositionChange:z,onSortingToggle:D})})),t.h("li",{"class":"member-category member-category-node__placeholder "+(Y?"member-category-node__placeholder--deepest":"")},t.h("ul",{role:"group","class":"category-editor-group category-editor-group--spaced member-category__sub-placeholder "+
(Y||!d.title?"member-category__sub-placeholder--deepest":"")}))),d.title&&2>=f.getCategoryLevel(d.path)&&t.h(h["default"],{buttonRef:V,onClick:function(){return y(d.path)}})),d.collapsed&&t.h("div",{"class":"collapsed-member-category__placeholder"}))};N["default"]=C})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/AddCategoryButton":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(R,N,n,t,u){Object.defineProperty(N,
"__esModule",{value:!0});u=n.__importDefault(u);N["default"]=function(h){var f=h.level,g=h.onClick;return t.h("button",{ref:h.buttonRef,"class":"member-category__add-sibling tooltip tooltip-right","aria-label":u["default"].contentCategories.addCat,onClick:function(){return g(f)},disabled:h.disabled},t.h("calcite-icon",{icon:"plus-circle"}))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require","exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],
function(R,N,n,t,u){function h(L){L=L.filter(function(U){return U.title}).map(function(U){return n.__assign({},U)});L.forEach(function(U){var ba;if(null===(ba=U.categories)||void 0===ba?0:ba.length)U.categories=h(U.categories)});return L}function f(L,U,ba){return ba.map(function(V){var aa;return V.path===L?n.__assign(n.__assign({},V),{finishAdding:U}):(null===(aa=V.categories)||void 0===aa?0:aa.length)?n.__assign(n.__assign({},V),{finishAdding:!1,categories:f(L,U,V.categories)}):n.__assign(n.__assign({},
V),{finishAdding:!1})})}function g(L,U,ba){return ba.map(function(V){var aa;return V.path===L?n.__assign(n.__assign({},V),{finishEditing:U,errorMessage:""}):(null===(aa=V.categories)||void 0===aa?0:aa.length)?n.__assign(n.__assign({},V),{finishEditing:!1,errorMessage:"",categories:g(L,U,V.categories)}):n.__assign(n.__assign({},V),{finishEditing:!1,errorMessage:""})})}function k(L){return L.map(function(U){var ba;U=n.__assign(n.__assign({},U),{finishAdding:!1,finishEditing:!1});if(null===(ba=U.categories)||
void 0===ba?0:ba.length)U=n.__assign(n.__assign({},U),{categories:k(U.categories)});return U})}function w(L,U,ba,V){void 0===V&&(V=!1);ba=ba.map(function(aa){var ha;if(aa.path&&aa.path===L&&!V)return V=!0,n.__assign(n.__assign({},aa),{isEditing:U,saveDisabled:!0});(null===(ha=aa.categories)||void 0===ha?0:ha.length)&&!V&&(aa.categories=w(L,U,aa.categories,V));return n.__assign({},aa)});return n.__spreadArray([],ba)}function v(L,U,ba){return ba.map(function(V){var aa=n.__spreadArray([],V.categories||
[]);aa.length&&(aa=v(L,U,aa));return V.path&&V.path===L?n.__assign(n.__assign({},V),{sorting:U,categories:aa}):n.__assign(n.__assign({},V),{sorting:!1,categories:aa})})}function C(L){return L.categories.map(function(U){var ba;if(null===(ba=U.categories)||void 0===ba?0:ba.length)U.categories=C(U);return n.__assign(n.__assign({},U),{selected:!1,indeterminate:!1})})}function A(L){var U;return!(null===(U=L.categories)||void 0===U||!U.length)&&L.categories.some(function(ba){var V;return ba.selected||ba.indeterminate||
!(null===(V=ba.categories)||void 0===V||!V.length)&&A(ba)})}function r(L,U){return U.map(function(ba){var V;ba=n.__assign({},ba);if(null===(V=ba.categories)||void 0===V?0:V.length)ba.categories=r(L,ba.categories);-1<L.indexOf(ba.path)&&(ba.indeterminate=A(ba));return ba})}function l(L,U,ba,V){void 0===ba&&(ba=!1);void 0===V&&(V=[]);var aa=!L.selected;return U.map(function(ha){var ia,ka;if(ha.path&&ha.path===L.path&&!ba)return ba=!0,!aa&&(null===(ia=ha.categories)||void 0===ia?0:ia.length)&&(ha.categories=
C(ha)),aa?n.__assign(n.__assign({},ha),{selected:aa,indeterminate:!1}):n.__assign(n.__assign({},ha),{selected:aa});(null===(ka=ha.categories)||void 0===ka?0:ka.length)&&!ba&&(-1<L.path.indexOf(ha.path)&&ha.path!==N.rootTitle&&(ha=n.__assign(n.__assign({},ha),{selected:aa}),aa?ha.indeterminate=!1:V.push(ha.path)),ha.categories=l(L,ha.categories,ba,V));return n.__assign({},ha)})}function d(L){return-1<L.indexOf(N.rootTitle)?L:""+N.rootTitle+L}function e(L,U){void 0===U&&(U=[]);L.forEach(function(ba){var V;
if(ba.selected||ba.indeterminate)null!==(V=ba.categories)&&void 0!==V&&V.some(function(aa){return aa.selected||aa.indeterminate})?e(ba.categories,U):ba.selected&&U.push(ba.path)});return U}function a(L,U){void 0===U&&(U=[]);L.forEach(function(ba){var V;ba.indeterminate&&U.push(ba.path);(null===(V=ba.categories)||void 0===V?0:V.length)&&a(ba.categories,U)});return U}function b(L,U){var ba=t["default"].getSchemaOrder(U);return n.__spreadArray([],L).sort(function(V,aa){return ba[V]-ba[aa]})}function c(L,
U){return U.map(function(ba){var V,aa=L.filter(function(ha){var ia;return null===(ia=ha.categories)||void 0===ia?void 0:ia.some(function(ka){var qa;return d(ka)===ba.path||(null===(qa=ba.categories)||void 0===qa?void 0:qa.length)&&-1<d(ka).indexOf(ba.path)})});aa.length?aa.length===L.length?ba=n.__assign(n.__assign({},ba),{selected:!0,indeterminate:!1}):aa.length<L.length&&(ba=n.__assign(n.__assign({},ba),{selected:!1,indeterminate:!0})):ba=n.__assign(n.__assign({},ba),{selected:!1,indeterminate:!1});
if(null===(V=ba.categories)||void 0===V?0:V.length)ba.categories=c(L,ba.categories);return n.__assign({},ba)})}function m(L){return L.map(function(U){var ba,V={title:U.title};if(null===(ba=U.categories)||void 0===ba?0:ba.length)V.categories=m(U.categories);return V})}function p(L,U){void 0===U&&(U="");return L.map(function(ba){var V,aa=(U?U+"/":"/")+ba.title;return{title:ba.title,path:aa,categories:(null===(V=ba.categories)||void 0===V?0:V.length)?p(ba.categories,aa):[]}})}function q(L,U){return U?
L.map(function(ba){var V,aa=n.__assign({},ba);ba=ba.path.toLowerCase();aa.memberCount=U[ba]||0;if(null===(V=aa.categories)||void 0===V?0:V.length)aa.categories=q(aa.categories,U);return aa}):L}function y(L,U){void 0===U&&(U=1);var ba=L.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node");return ba?(U++,y(ba,U)):U}function B(L,U){return U.map(function(ba){if(ba.path===L){var V={title:"",categories:[],isEditing:!0,path:ba.path+"/",saveDisabled:!0};
return n.__assign(n.__assign({},ba),{categories:n.__spreadArray(n.__spreadArray([],ba.categories),[V])})}return-1<L.indexOf(ba.path)&&(null===(V=ba.categories)||void 0===V?0:V.length)?n.__assign(n.__assign({},ba),{categories:B(L,ba.categories)}):n.__assign({},ba)})}function z(L,U){return U.map(function(ba){var V;if(L===ba.path)return n.__assign(n.__assign({},ba),{collapsed:!ba.collapsed});if(null===(V=ba.categories)||void 0===V?0:V.length)ba.categories=z(L,ba.categories);return n.__assign({},ba)})}
function D(L,U){var ba=L.substring(0,L.lastIndexOf("/")),V=[];U.some(function(aa){if(aa.path===ba)return V=aa.categories.filter(function(ha){return ha.path!==L}),!0;if(-1<L.indexOf(aa.path+"/"))return V=D(L,aa.categories),!0});return V}function F(L){return L.substring(0,L.lastIndexOf("/"))}function x(L,U,ba){return ba.map(function(V){var aa;V.path===L?V.categories=V.categories.filter(function(ha){return ha.path!==U}):-1<U.indexOf(V.path)&&(null===(aa=V.categories)||void 0===aa?0:aa.length)&&(V.categories=
x(L,U,V.categories));return n.__assign({},V)})}function E(L,U,ba){var V=L.substring(0,L.lastIndexOf("/"));return ba.map(function(aa){var ha;aa.path===V?aa.categories=U:-1<L.indexOf(V)&&(null===(ha=aa.categories)||void 0===ha?0:ha.length)&&(aa.categories=E(L,U,aa.categories));return n.__assign({},aa)})}function G(L,U){var ba=F(L);U.some(function(V){if(V.path===ba)return V.categories=V.categories.filter(function(aa){return aa.path!==L}),!0;if(-1<L.indexOf(V.path+"/"))return V.categories=G(L,V.categories),
!0});return n.__spreadArray([],U)}function H(L,U){return U.map(function(ba){var V;if(null===(V=ba.categories)||void 0===V?0:V.length)ba.categories=H(L,ba.categories);return n.__assign(n.__assign({},ba),{searchTerm:L,hidden:!M(L,ba)})})}function J(L,U){return U.map(function(ba){return n.__assign(n.__assign({},ba),{categories:n.__spreadArray([],ba.categories||[])})}).filter(function(ba){var V,aa,ha=-1<ba.path.search(new RegExp(L,"i"));if(null===(V=ba.categories)||void 0===V?0:V.length)ba.categories=
J(L,ba.categories);return ha||0<(null===(aa=ba.categories)||void 0===aa?void 0:aa.length)})}function M(L,U){var ba;return-1<U.title.search(new RegExp(L,"i"))||!L?!0:(null===(ba=U.categories)||void 0===ba?0:ba.length)?U.categories.some(function(V){return M(L,V)}):!1}function K(L,U){void 0===U&&(U=0);L.forEach(function(ba){var V;"/Categories"!==ba.path&&U++;if(null===(V=ba.categories)||void 0===V?0:V.length)U=K(ba.categories,U)});return U}Object.defineProperty(N,"__esModule",{value:!0});N.getCategoryCount=
N.matchSearchTerm=N.filterCategoriesBySearchTerm=N.searchCategories=N.removeCategory=N.reorderCategories=N.removeCategoryFromSrc=N.getParentPath=N.getSiblings=N.toggleCollapsed=N.removeCategoriesFromMembers=N.updateCategorizedMembers=N.addCategory=N.getDraggedLevel=N.isDuplicateTitle=N.getCategoryLevel=N.updateMemberCount=N.convertToCategoryData=N.removeExtraProperties=N.updateSelectedFromMembers=N.updateMembersFromSelected=N.sortCategoryPaths=N.getPartialPath=N.getFullPath=N.toggleSelected=N.fixDeselectedParents=
N.getNodePositionText=N.toggleSorting=N.updateIsEditing=N.clearEditOrAddProperties=N.updateFinishEditing=N.updateFinishAdding=N.removeEmptyCategories=N.rootTitle=void 0;t=n.__importDefault(t);u=n.__importDefault(u);N.rootTitle="/Categories";N.removeEmptyCategories=h;N.updateFinishAdding=f;N.updateFinishEditing=g;N.clearEditOrAddProperties=k;N.updateIsEditing=w;N.toggleSorting=v;N.getNodePositionText=function(L,U){var ba=Array.from(L.parentElement.children).filter(function(aa){return!aa.classList.contains("member-category-node__placeholder")&&
!aa.classList.contains("member-category__add-sibling")}),V=ba.length;ba=ba.findIndex(function(aa){return aa===L})+1;return u["default"].substitute(U,{n:ba,total:V})};N.fixDeselectedParents=r;N.toggleSelected=l;N.getFullPath=d;N.getPartialPath=function(L){return L.replace(new RegExp(N.rootTitle+"/"),"/")};N.sortCategoryPaths=b;N.updateMembersFromSelected=function(L,U){var ba=e(U[0].categories),V=a(U[0].categories);return L.map(function(aa){aa.categories||(aa.categories=[]);aa.categories=aa.categories.filter(function(ha){return-1<
ba.indexOf(ha)||-1<V.indexOf(ha)});ba.forEach(function(ha){var ia=aa.categories.some(function(ka){return-1<ka.indexOf(ha)});-1!==aa.categories.indexOf(ha)||ia||aa.categories.push(ha)});return n.__assign(n.__assign({},aa),{categories:b(aa.categories,U)})})};N.updateSelectedFromMembers=c;N.removeExtraProperties=m;N.convertToCategoryData=p;N.updateMemberCount=q;N.getCategoryLevel=function(L){return L.match(/\//g).length-1};N.isDuplicateTitle=function(L,U){var ba=U.dataset.title,V=!1;L.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(aa){aa.dataset.title===
ba&&(V=!0)});return V};N.getDraggedLevel=y;N.addCategory=B;N.updateCategorizedMembers=function(L,U,ba){Object.keys(L).forEach(function(V){var aa=[];L[V].map(function(ha){return ha.replace(U,ba)}).forEach(function(ha){if(!aa.find(function(ka){return-1<ka.indexOf(ha)})){var ia=aa.findIndex(function(ka){return-1<ha.indexOf(ka)});-1<ia?aa.splice(ia,1,ha):aa.push(ha)}});L[V]=aa});return n.__assign({},L)};N.removeCategoriesFromMembers=function(L,U){Object.keys(L).forEach(function(ba){L[ba]=L[ba].filter(function(V){V=
d(V);return V!==U&&-1===V.indexOf(U)})});return n.__assign({},L)};N.toggleCollapsed=z;N.getSiblings=D;N.getParentPath=F;N.removeCategoryFromSrc=x;N.reorderCategories=E;N.removeCategory=G;N.searchCategories=H;N.filterCategoriesBySearchTerm=J;N.matchSearchTerm=M;N.getCategoryCount=K})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryConfirm":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../../nls/arcgisonline".split(" "),function(R,
N,n,t,u,h,f){Object.defineProperty(N,"__esModule",{value:!0});f=n.__importDefault(f);N["default"]=function(g){var k=g.message,w=g.confirmText,v=g.isRed,C=g.onConfirm,A=g.onCancel;g=n.__assign(n.__assign({},f["default"].common),f["default"].contentCategories);var r=u.useRef(null);u.useEffect(function(){r.current&&r.current.setFocus()},[r]);return t.h(t.Fragment,null,h.createPortal(t.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"member-category-confirm",active:!0,intlClose:g.close,
oncalciteModalClose:function(){return A()}},t.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-category-confirm"},g.categoryInUse),t.h("div",{slot:"content"},t.h("p",{"class":"font-size--1 trailer-half"},k)),t.h("calcite-button",{slot:"secondary",width:"full",appearance:"outline",color:"blue",onClick:function(){return A()}},g.cancel),t.h("calcite-button",{ref:r,slot:"primary",width:"full",color:v?"red":"blue",appearance:"solid",onClick:function(){return C()}},w)),document.body))}})},
"arcgisonline/pages/components/MemberCategories/api":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/pageUtil".split(" "),function(R,N,n,t,u,h){Object.defineProperty(N,"__esModule",{value:!0});N.getMemberCategoriesCount=N.saveCategorizedMembers=N.searchUsersWithCategory=N.deleteMemberCategoriesSchema=N.getMemberCategories=N.saveMemberCategories=void 0;t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);var f=t["default"].restBaseUrl+
"portals/self";N.saveMemberCategories=function(g){return n.__awaiter(this,void 0,void 0,function(){var k;return n.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),k={memberCategorySchema:g},[4,u["default"].request({url:f+"/assignMemberCategorySchema",content:{memberCategorySchema:JSON.stringify(k)}},{usePost:!0})];case 1:return w.sent(),[2,!0];case 2:return w.sent(),[2,!1];case 3:return[2]}})})};N.getMemberCategories=function(){return n.__awaiter(this,void 0,void 0,
function(){var g;return n.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,u["default"].request({url:f+"/memberCategorySchema"})];case 1:return g=k.sent(),[2,(null===g||void 0===g?void 0:g.memberCategorySchema)||[]];case 2:return k.sent(),[2,[]];case 3:return[2]}})})};N.deleteMemberCategoriesSchema=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,u["default"].request({url:t["default"].restBaseUrl+
"portals/self/deleteMemberCategorySchema"},{usePost:!0})];case 1:return g.sent(),[2,!0];case 2:return g.sent(),[2,!1];case 3:return[2]}})})};N.searchUsersWithCategory=function(g){return n.__awaiter(this,void 0,void 0,function(){var k,w;return n.__generator(this,function(v){switch(v.label){case 0:k={},v.label=1;case 1:return v.trys.push([1,3,,4]),[4,h["default"].fetchAllResources(f+"/users/search",{categories:g})];case 2:return w=v.sent(),(null===w||void 0===w?0:w.length)&&w.forEach(function(C){k[C.username]=
C.categories}),[3,4];case 3:return v.sent(),[3,4];case 4:return[2,k]}})})};N.saveCategorizedMembers=function(g){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,Promise.all(Object.keys(g).map(function(w){return u["default"].request({url:t["default"].restBaseUrl+"community/users/"+w+"/update",content:{categories:JSON.stringify(g[w])}},{usePost:!0})}))];case 1:return k.sent(),[2,!0];case 2:return k.sent(),[2,
!1];case 3:return[2]}})})};N.getMemberCategoriesCount=function(g){var k,w;return n.__awaiter(this,void 0,void 0,function(){var v,C;return n.__generator(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,u["default"].request({url:f+"/users/search",content:{q:"orgid:"+g.id,countFields:"categories",countSize:200,num:0}})];case 1:return v=A.sent(),C=(null===(w=null===(k=null===v||void 0===v?void 0:v.aggregations)||void 0===k?void 0:k.counts[0])||void 0===w?void 0:w.fieldValues)||
[],[2,C.reduce(function(r,l){"/categories"!==l.value&&(r[l.value]=l.count);return r},{})];case 2:return A.sent(),[3,3];case 3:return[2]}})})}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],function(R,N){Object.defineProperty(N,"__esModule",{value:!0});N.timeout=void 0;N.timeout=function(n){return new Promise(function(t){return setTimeout(t,n)})}})},"arcgisonline/pages/dijit/SelectedMembers":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/query dojo/topic dojo/text!./SelectedMembers/templates/SelectedMembers.html dojo/i18n!../../nls/arcgisonline dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/culture ../utils/dom ./AssignLicenses/MembersSelectedSection ./AssignLicenses/MembersSelectedRow ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);return function(){function a(b,c){this.templateString=g["default"];this.i18n=k["default"];this.floated=!0;this.buttonClasses="";this.allowRemovingAll=
!1;this.topic="";this._membersSectionsMap={};this._directionClass="right";this._sectionsClass="";this._rows=[]}a.prototype.postMixInProperties=function(){this.inherited(arguments);this._directionClass=this.alignLeft?"left":"right";this._sectionsClass=this.showSections?"":"max-height";this.floated||(this._directionClass="")};a.prototype.postCreate=function(){this.inherited(arguments);this._render();t["default"].dropdown();this._addListeners()};a.prototype.update=function(b){var c=this;this._updateDelay&&
clearTimeout(this._updateDelay);this._updateDelay=window.setTimeout(function(){c.members=b;w["default"].empty(c._selectedMembersPanel);Object.keys(c._membersSectionsMap).forEach(function(m){c._membersSectionsMap[m].section.destroy()});c._membersSectionsMap={};c._render()},10)};a.prototype.remove=function(b){var c=this;this.members=this.members.filter(function(m,p){var q;m.id===b.id&&(null===(q=c._rows[p])||void 0===q?void 0:q.destroy(),c._rows=c._rows.splice(p,1));return m.id!==b.id});this._updateMembersSelectedLabel()};
a.prototype.add=function(b){this.members.push(b);b=new d["default"]({member:b,topic:this.topic});this._selectedMembersPanel.appendChild(b.domNode);this._rows.push(b);this._updateMembersSelectedLabel()};a.prototype._render=function(){var b=this;this._updateMembersSelectedLabel();this.showSections?(this.members.forEach(function(c){var m=b._membersSectionsMap[c.licenseType.id];m?m.members.push(c):b._membersSectionsMap[c.licenseType.id]={licenseType:c.licenseType,members:[c]}}),Object.keys(this._membersSectionsMap).forEach(function(c){var m=
new l["default"](b._membersSectionsMap[c]);b._selectedMembersPanel.appendChild(m.domNode);b._membersSectionsMap[c].section=m})):(this._rows.forEach(function(c){return c.destroy()}),this.members.forEach(function(c){c=new d["default"]({member:c,topic:b.topic});b._selectedMembersPanel.appendChild(c.domNode);b._rows.push(c)}));this._adjustRemoveVisibility()};a.prototype._addListeners=function(){var b=this;this.own(f["default"].subscribe(this.topic+"selected-members-row/remove",this._onMembersRemove.bind(this)),
u["default"](this.toggleBtn,"click",function(){var c;b.domNode.classList.contains("is-active")&&(null===(c=b.telemetry)||void 0===c?void 0:c.logEvent({category:"Selection dropdown",action:"Show"}))}))};a.prototype._onMembersRemove=function(b){var c;null===(c=this.telemetry)||void 0===c?void 0:c.logEvent({category:"Selection dropdown",action:"Remove"});if(1<this.members.length&&!this.emitViewEvents){var m;this.members.forEach(function(p,q){p===b&&(m=q)});this.members.splice(m,1);this._membersSectionsMap[b.licenseType.id]?
this._membersSectionsMap[b.licenseType.id].section.removeMember(b):this._rows.forEach(function(p){p.member===b&&p.destroy()});this._updateMembersSelectedLabel();this._adjustRemoveVisibility();f["default"].publish(this.topic+"selected-members/remove")}else f["default"].publish(this.topic+"view/items/deselect",b)};a.prototype._updateMembersSelectedLabel=function(){this._membersSelectedLabel.textContent=A["default"].getString(this.i18n.myOrganization.manageLicenses.membersSelected,this.members.length)};
a.prototype._adjustRemoveVisibility=function(){1!==this.members.length||this.allowRemovingAll?r["default"].showNodes(h["default"](".member-selected-row__close-btn",this.domNode)):r["default"].hideNodes(h["default"](".member-selected-row__close-btn",this.domNode))};return a=n.__decorate([e["default"](C["default"],v["default"])],a)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedSection":function(){define("require exports tslib ./MembersSelectedRow ../../../tsutils/declareDecorator dojo/string dojo/text!./templates/MembersSelectedSection.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(C,A){this.templateString=f["default"];this.i18n=g["default"];this._rows=[]}v.prototype.postCreate=function(){var C=this;this.inherited(arguments);this._licenseTypesLabel.textContent=h["default"].substitute(this.i18n.myOrganization.manageLicenses.havingLicenseTypes,{licenseTypeName:this.licenseType.name});
this.members.forEach(function(A){A=new t["default"]({member:A});C._list.appendChild(A.domNode);C._rows.push(A)})};v.prototype.removeMember=function(C){this._rows.forEach(function(A){A.member===C&&A.destroy()});this._rows=this._rows.filter(function(A){return A.member!==C});0===this._rows.length&&this.destroy()};return v=n.__decorate([u["default"](w["default"],k["default"])],v)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedRow":function(){define("require exports tslib dojo/topic dojo/text!./templates/MembersSelectedRow.html dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb ../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function w(v,C){this.templateString=u["default"];this.topic=""}w.prototype.postCreate=function(){this.inherited(arguments);this._memberThumb=new g["default"]({member:this.member,cssClasses:"assign-licenses__member-thumb margin-right-1"},this._memberThumb);this._removeBtn.addEventListener("click",this._onRemoveClick.bind(this))};
w.prototype._onRemoveClick=function(v){v.stopPropagation();t["default"].publish(this.topic+"selected-members-row/remove",this.member)};return w=n.__decorate([k["default"](f["default"],h["default"])],w)}()})},"arcgisonline/pages/group/widgets/UpdateGroupRoleOverlay":function(){define("require exports tslib preact esri/Evented dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/dijit/Overlay arcgisonline/pages/components/Group/GroupRoleSelect arcgisonline/tsutils/declareDecorator".split(" "),function(R,
N,n,t,u,h,f,g,k){u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function w(v,C){this.title=h["default"].GroupWidget.updateGroupRole;this.i18n=h["default"];this.overlayContents='\x3cdiv class\x3d"js-update-group-role__content padding-1"\x3e\x3c/div\x3e';this.maxWidth=600;this.constrain=!0;this.closeOnScrimClick=!1;this.users=[];this.selectedRole="admins";this.disableManagerRole=!1;this.handleChange=this.handleChange.bind(this)}
w.prototype.postMixInProperties=function(){this.inherited(arguments);1===this.users.length&&(this.title=h["default"].GroupWidget.updateRoleOverlay.oneUserTitle.replace("${fullname}",this.users[0].fullName))};w.prototype.handleChange=function(v){this.selectedRole=v;this.renderSelect()};w.prototype.renderSelect=function(){t.render(t.h(g["default"],{value:this.selectedRole,disableManager:this.disableManagerRole,onChange:this.handleChange}),this.domNode.querySelector(".js-update-group-role__content"))};
w.prototype.handlePrimary=function(){this.emit("save",{selectedRole:this.selectedRole})};w.prototype.open=function(){this.users.every(function(v){return"Member"===v.role})&&(this.selectedRole="users");this.renderSelect();this.inherited(arguments)};return w=n.__decorate([k["default"](f["default"],u["default"])],w)}()})},"arcgisonline/pages/components/Group/GroupRoleSelect":function(){define("require exports tslib preact ./GroupRoleOption dojo/i18n!../../../nls/arcgisonline".split(" "),function(R,N,
n,t,u,h){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);N["default"]=function(f){var g=f.value,k=f.onChange;f=f.disableManager;var w=n.__assign({},h["default"].GroupWidget.updateRoleOverlay);return t.h("div",null,f&&t.h("p",null,w.managerDisabled),t.h(u["default"],{id:"manager-group-role",inputName:"manager-group-role",title:w.manager,description:w.managerDesc,value:"admins",onSelect:k,selected:"admins"===g,disabled:f}),t.h(u["default"],{id:"member-group-role",
inputName:"member-group-role",title:w.member,description:w.memberDesc,value:"users",selected:"users"===g,onSelect:k}))}})},"arcgisonline/pages/components/Group/GroupRoleOption":function(){define(["require","exports","preact"],function(R,N,n){Object.defineProperty(N,"__esModule",{value:!0});N["default"]=function(t){var u=t.id,h=t.title,f=t.description,g=t.value,k=t.onSelect,w=t.selected,v=t.disabled;return n.h("label",{"for":u,"class":"flex flex-align-center group-role-option trailer-0 "+(w?"group-role-option--selected":
"")+" "+(v?"group-role-option--disabled":""),onClick:function(){v||k(g)}},n.h("input",{type:"radio",id:u,name:t.inputName,checked:w,"class":"flex-0"}),n.h("div",{"class":"margin-left-1"},n.h("div",{"class":"avenir-bold"},h),n.h("p",{"class":"font-size--1 trailer-0"},f)))}})},"arcgisonline/sharing/dijit/dialog/thumbnailDialogs/CreateGroupThumbnailDlg":function(){define(["require","../ThumbnailDlg","esri/arcgis/Portal","dojo/topic"],function(R,N,n,t){return function(u){u=new N(u);(function(){this.suggestedSize=
this.i18n.GroupWidget.thumbnailDlg.sizeSpecGroup;this.aspectRatio=1;this.height=233;this.thumbnailSpecificationMsg=this.i18n.GroupWidget.thumbnailSpecification;this._handleImageData=function(h){t.publish("thumbnail/change",h);this._dlg.hide()};this.skipToEditor=function(h){this._validate(h)}}).call(u);return u}})},"arcgisonline/sharing/dijit/dialog/ThumbnailDlg":function(){define("require exports tslib esri/Evented dojo/_base/lang dojo/topic dojo/on dojo/dom-class dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ConfirmDialog ../../../pages/utils/dom ../../../pages/utils/icons ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ThumbnailDlg.html ../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){function c(m){var p=atob(m.split(",")[1]);m=m.split(",")[0].split(":")[1].split(";")[0];for(var q=new ArrayBuffer(p.length),y=new Uint8Array(q),B=0;B<p.length;B++)y[B]=p.charCodeAt(B);return new Blob([q],{type:m})}t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);
l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function m(){this.i18n=e["default"];this.baseClass="esriThumbnailDlg";this.templateString=a["default"];this.icons=l["default"];this.imgScale=1;this.imgDragging=!1;this.imgLeft=this.imgTop=0;this.prevLeft=this.prevTop=null;this.transformOrigin=[50,50];this.height=233;this.aspectRatio=1;this.imageHasBeenManipulated=!1;this.imageFormat="png"}m.prototype.postMixInProperties=
function(){var p;this.inherited(arguments);(null===(p=this.item)||void 0===p?0:p.portal)&&u["default"].mixin(this,{portal:this.item.portal,portalUser:this.item.portal.getPortalUser()})};m.prototype.startup=function(){this.inherited(arguments);return this._initUI()};m.prototype.showModal=function(){var p=this,q=new k["default"],y=new A["default"]({title:this.i18n.itemProperties.uploadThumbnail,buttonOk:this.i18n.common.ok,buttonCancel:this.i18n.common.cancel,busyMessage:this.i18n.addItemFrm.pleaseWait,
style:{width:"475px",height:"auto"}});this._dlg=y;y.setContent(this.domNode);y.show();y.actionBarNode.setAttribute("style","padding: 6px !important;");g["default"].add(this._dlg.okButton.domNode,"dlg-element-hide");this._difImageLink=document.createElement("button");this._difImageLink.innerHTML=l["default"].inline[d["default"].isRightToLeft?"chevron-right":"chevron-left"]["16"]+e["default"].GroupWidget.thumbnailDlg.difImage;this._difImageLink.className="btn-link inline-block font-size--2 left leader-quarter dlg-element-hide";
y.actionBarNode.appendChild(this._difImageLink);this.own(f["default"](this._difImageLink,"click",this._hideImageScale.bind(this)),f["default"](y,"ok",function(){p._getCanvasImage().then(p._handleImageData.bind(p),p._showError.bind(p))}),f["default"](y,"hide",function(){return q.resolve(p.item)}));return q};m.prototype._initUI=function(){var p=new k["default"];this._setSuggestedSize();this._initHandlers();p.resolve(!1);return p};m.prototype._setSuggestedSize=function(){this.suggestedSize&&(this._sizeSuggestion.textContent=
this.suggestedSize)};m.prototype._initHandlers=function(){this.own(f["default"](this._fileInput,"change",this._handleFileInputChange.bind(this)),f["default"](this._dragDropNode,"dragover",this._handleImageDragOver.bind(this)),f["default"](this._dragDropNode,"dragenter",this._handleImageDragOver.bind(this)),f["default"](this._dragDropNode,"drop",this._handleImageDrop.bind(this)),f["default"](this._zoomSlider,"input",this._handleZoomSliderChange.bind(this)),f["default"](this._zoomSlider,"change",this._handleZoomSliderChange.bind(this)),
f["default"](this._thumbTranslucentContainer,"mousedown",this._handleImageMouseDown.bind(this)),f["default"](this._thumbTranslucentContainer,"touchstart",this._handleImageMouseDown.bind(this)),f["default"](this._thumbTranslucentContainer,"mouseup",this._handleImageMouseUp.bind(this)),f["default"](this._thumbTranslucentContainer,"touchend",this._handleImageMouseUp.bind(this)),f["default"](this._thumbTranslucentContainer,"mouseout",this._handleImageMouseOut.bind(this)),f["default"](this._thumbTranslucentContainer,
"mousemove",this._handleImageMouseMove.bind(this)),f["default"](this._thumbTranslucentContainer,"touchmove",this._handleImageMouseMove.bind(this)),f["default"](this._cropNode,"wheel",this._handleImageWheel.bind(this)),f["default"](this._previewImage,"load",this._handleInputImageSize.bind(this)))};m.prototype._handleFileInputChange=function(p){this._validate(this._fileInput.files[0])};m.prototype._handleImageDragOver=function(p){p.preventDefault()};m.prototype._handleImageDrop=function(p){p.preventDefault();
p.dataTransfer.files[0]&&this._validate(p.dataTransfer.files[0])};m.prototype._handleZoomSliderChange=function(p){this.imgScale=Math.pow(1.1,p.target.value-50);this._updatePreviewImage()};m.prototype._handleImageMouseDown=function(p){p.preventDefault();this.imgDragging=!0};m.prototype._handleImageMouseUp=function(p){this.imgDragging=!1;this.prevLeft=this.prevTop=null};m.prototype._handleImageMouseOut=function(p){this.imgDragging=!1;this.prevLeft=this.prevTop=null};m.prototype._handleImageMouseMove=
function(p){if(this.imgDragging)if(this.prevTop&&this.prevLeft){var q=p.clientY-this.prevTop,y=p.clientX-this.prevLeft;this.imgTop+=p.clientY-this.prevTop;this.imgLeft+=p.clientX-this.prevLeft;this._updatePreviewImage();this.prevTop+=q;this.prevLeft+=y}else this.prevTop=p.clientY,this.prevLeft=p.clientX};m.prototype._handleImageWheel=function(p){this.imgScale=0<p.deltaY?1*this.imgScale/1.1:1.1*this.imgScale;this._updatePreviewImage();this._zoomSlider.value=""+(50+Math.log(this.imgScale)/Math.log(1.1));
this._getImageExtent();p.preventDefault()};m.prototype._handleInputImageSize=function(){var p=this._previewImage.naturalWidth/this._previewImage.naturalHeight,q=this.aspectRatio*this.height,y=this.height;p<this.aspectRatio?(this._previewImage.style.width=q+"px",this._previewImage.style.height=q/p+"px",this._previewImage.width=q,this._previewImage.height=q/p,this.imgTop=-(this._previewImage.height-y)/2,this._previewImage.style.top=this.imgTop+"px",this.imgLeft=0,this._previewImage.style.left="0px"):
(this._previewImage.style.height=y+"px",this._previewImage.style.width=y*p+"px",this._previewImage.height=y,this._previewImage.width=y*p,this.imgLeft=-(this._previewImage.width-q)/2,this._previewImage.style.left=this.imgLeft+"px",this.imgTop=0,this._previewImage.style.top="0px")};m.prototype._validate=function(p){var q=this,y=null===p||void 0===p?void 0:p.name;if(y)if(/\.(gif|jpg|jpeg|png)$/i.test(y))y=new FileReader,y.onload=function(B){q.imgFile=B.target.result;q._previewImage.setAttribute("src",
q.imgFile)},y.readAsDataURL(p),this._displayImageScale();else return this._fileInput.value="",this._showError({title:this.i18n.itemProperties.error.error,message:this.i18n.itemProperties.error.badImageType})};m.prototype._setReadOnlyAttr=function(p){h["default"].publish("/esri/disable",p);this._fileInput.readOnly=p};m.prototype._showError=function(p){var q=this,y;p=u["default"].mixin(u["default"].mixin({},e["default"].publishWizard.errors.error),p);-1<(null===(y=p.message)||void 0===y?void 0:y.toLowerCase().indexOf("timeout exceeded"))&&
(p.message=this.i18n.common.errors.timedOut);this._errorDlg=new A["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(p).then(function(){q.set("readOnly",!1);q._errorDlg.hide()});return!1};m.prototype._displayImageScale=function(){r["default"].hideNode(this._dragDropNode);r["default"].showNode(this._cropNode);g["default"].remove(this._difImageLink,"dlg-element-hide");g["default"].remove(this._dlg.okButton.domNode,"dlg-element-hide");g["default"].add(this._difImageLink,
"dlg-element-show");g["default"].add(this._dlg.okButton.domNode,"dlg-element-show");this._thumbTransparentContainer.style.height=this.height+"px";this._thumbTransparentContainer.style.width=this.height*this.aspectRatio+"px";this._thumbTranslucentContainer.style.height=this.height+60+"px";this._thumbTranslucentContainer.style.width=this.height*this.aspectRatio+60+"px";this._cropThumbContainer.style.height=this.height+60+"px";this.imageHasBeenManipulated=!1;this.imageFormat="png"};m.prototype._hideImageScale=
function(){this._fileInput.value=null;r["default"].showNode(this._dragDropNode);r["default"].hideNode(this._cropNode);g["default"].remove(this._difImageLink,"dlg-element-show");g["default"].remove(this._dlg.okButton.domNode,"dlg-element-show");g["default"].add(this._difImageLink,"dlg-element-hide");g["default"].add(this._dlg.okButton.domNode,"dlg-element-hide")};m.prototype._updatePreviewImage=function(){this._previewImage.setAttribute("style","\n        transform: scale("+this.imgScale+");\n        top: "+
this.imgTop+"px;\n        left: "+this.imgLeft+"px;\n        transform-origin: "+this.transformOrigin[0]+"% "+this.transformOrigin[1]+"%;\n      ");this.imageHasBeenManipulated=!0};m.prototype._getImageExtent=function(){var p=this._previewImage.getBoundingClientRect(),q=this._thumbTransparentContainer.getBoundingClientRect();return{left:(q.left-p.left)/p.width,top:(q.top-p.top)/p.height,right:(q.right-p.left)/p.width,bottom:(q.bottom-p.top)/p.height}};m.prototype._getDrawDimensions=function(){var p=
this._previewImage.getBoundingClientRect(),q=this._thumbTransparentContainer.getBoundingClientRect();return{left:(0<p.left-q.left?p.left-q.left:0)/q.width,top:(0<p.top-q.top?p.top-q.top:0)/q.height,width:((p.right>q.right?q.right:p.right)-(p.left<q.left?q.left:p.left))/q.width,height:((p.bottom>q.bottom?q.bottom:p.bottom)-(p.top<q.top?q.top:p.top))/q.height}};m.prototype._getCanvasImage=function(){var p=this,q=new k["default"],y=new Image;y.onload=function(){p._properAspectRatio(y)&&p._withinSizeLimits(y)&&
!p.imageHasBeenManipulated?(p.imageFormat=p.imgFile.split(";")[0].split("/")[1],q.resolve(p._getRawImageData())):q.resolve(p._getScaledImageData(y))};y.src=this.imgFile;return q};m.prototype._getRawImageData=function(){return{blob:c(this.imgFile),base64:this.imgFile,format:this.imageFormat}};m.prototype._getScaledImageData=function(p){var q=this._canvasNode.getContext("2d"),y={scaleFactor:1,ctx:q,img:p,node:this._canvasNode};try{var B=this.drawImage.bind(this)(y);var z=B.blob;var D=B.base64;if(1E7<
z.size||0===z.size)q.clearRect(0,0,this._canvasNode.width,this._canvasNode.height),B=this.drawImage.bind(this)(n.__assign(n.__assign({},y),{scaleFactor:1600/p.width})),z=B.blob,D=B.base64}catch(F){"NS_ERROR_FAILURE"===F.name?(q.clearRect(0,0,this._canvasNode.width,this._canvasNode.height),B=this.drawImage.bind(this)(n.__assign(n.__assign({},y),{scaleFactor:1600/p.width})),z=B.blob,D=B.base64):this._showError(F)}return{blob:z,base64:D,format:this.imageFormat}};m.prototype.drawImage=function(p){var q=
p.scaleFactor,y=p.ctx,B=p.img;p=p.node;var z=this.height*this.aspectRatio,D=this.height,F=this._getImageExtent(),x=0>F.left?0:F.left,E=0>F.top?0:F.top,G=1<F.right?1:F.right,H=1<F.bottom?1:F.bottom,J=this._getDrawDimensions(),M=x*B.width,K=E*B.height;x=G*B.width-x*B.width;E=H*B.height-E*B.height;H=F.right*B.width-F.left*B.width;F=F.bottom*B.height-F.top*B.height;p.width=H<z?z:H*q;p.height=F<D?D:F*q;q=J.left*p.width;z=J.top*p.height;D=J.width*p.width;J=J.height*p.height;y.fillStyle="#efefef";y.fillRect(0,
0,p.width,p.height);y.drawImage(B,M,K,x,E,q,z,D,J);y=p.toDataURL("image/png");return{base64:y,blob:c(y)}};m.prototype._properAspectRatio=function(p){return.01>Math.abs(1-this.aspectRatio/(p.width/p.height))};m.prototype._withinSizeLimits=function(p){return 1600>p.width&&133<=p.height};return m=n.__decorate([b["default"](w["default"],v["default"],C["default"],t["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/ShareGroupDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/CheckBox,dijit/form/RadioButton,dijit/form/SimpleTextarea,dijit/form/Textarea,dijit/form/TextBox,dijit/layout/StackContainer,dojo/data/ObjectStore,dojo/store/Memory,arcgisonline/sharing/dijit/ComboBox,arcgisonline/sharing/dijit/GroupTemplatesGrid,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/geow/Account,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Community,arcgisonline/sharing/util,esri/dijit/Tags,arcgisonline/sharing/dijit/dialog/BrowseItemsDlg,arcgisonline/sharing/dijit/dialog/PluginGroupTemplates,arcgisonline/sharing/dijit/dialog/ConfirmDialog,arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg,arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin"],
function(R,N,n){R.provide("arcgisonline.sharing.dijit.dialog.ShareGroupDlg");R.require("dijit._Widget");R.require("dijit._Templated");R.require("dijit.Dialog");R.require("dijit.form.CheckBox");R.require("dijit.form.RadioButton");R.require("dijit.form.SimpleTextarea");R.require("dijit.form.Textarea");R.require("dijit.form.TextBox");R.require("dijit.layout.StackContainer");R.require("dojo.data.ObjectStore");R.require("dojo.store.Memory");R.require("arcgisonline.sharing.dijit.ComboBox");R.require("arcgisonline.sharing.dijit.GroupTemplatesGrid");
R.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");R.require("arcgisonline.sharing.geow.Account");R.require("arcgisonline.sharing.geow.Content");R.require("arcgisonline.sharing.geow.Community");R.require("arcgisonline.sharing.util");R.require("esri.dijit.Tags");R.require("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg");R.require("arcgisonline.sharing.dijit.dialog.PluginGroupTemplates");R.require("arcgisonline.sharing.dijit.dialog.ConfirmDialog");R.require("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg");
R.require("arcgisonline.sharing.dijit.dialog._CreateItemUtilMixin");R.declare("arcgisonline.sharing.dijit.dialog.ShareGroupDlg",[N._Widget,N._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit.Dialog" data-dojo-attach-point\x3d"_shareGroupDialog" id\x3d"share-group-dialog" title\x3d"${i18n.share}"\x3e\r\n        \x3cdiv data-dojo-type\x3d"dijit.layout.StackContainer" id\x3d"share-group-stack" data-dojo-attach-point\x3d"_stackContainer" class\x3d"shareGroupDialog"\x3e\r\n            \x3c!-- all options --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackAllOptions" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_shareGroupNotice"\x3e${i18n.shareGroup}\x3c/div\x3e\r\n                \x3cdiv style\x3d"padding-top:1.5em;"\x3e\r\n                    \x3clabel style\x3d"font-weight:bold;" class\x3d"trailer-0" for\x3d"shareGroupUrlInput"\x3e${i18n.linkToGroup}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"clearfix esriLeadingPadding05" style\x3d"clear:both; height:30px;"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left" style\x3d"padding-top:10px; width:320px;"\x3e\r\n                        \x3cdiv data-dojo-attach-point\x3d"_shareGroupUrl" data-dojo-type\x3d"dijit.form.Textarea" data-dojo-props\x3d"id: \'shareGroupUrlInput\'" style\x3d"width:270px; color:#000;"\x3e\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"socialNetworkLinks" style\x3d"padding-top:10px;" class\x3d"socialNetworkBadges esriFloatLeading left"\x3e\r\n                        \x3cdiv class\x3d"esriItemLinks"\x3e\r\n                            \x3c!-- use table because of RTL + IE --\x3e\r\n                            \x3ctable class\x3d"table-no-table"\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd style\x3d"width:24px;"\x3e\r\n                                \x3ca id\x3d"facebookLink" class\x3d"icon-social-facebook" href\x3d"#" aria-label\x3d"${i18n.shareFacebook}" target\x3d"_blank"\x3e\x3cspan class\x3d"facebookBadge dijitInline"\x3e\x3c/span\x3e\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd\x3e\r\n                                \x3ca id\x3d"facebookLink2" title\x3d"${i18n.shareFacebook}" target\x3d"_blank"\x3e${i18n.facebook}\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd style\x3d"width:25px;"\x3e\r\n                                \x26nbsp;\r\n                            \x3c/td\x3e\x3ctd style\x3d"width:24px;"\x3e\r\n                                \x3ca id\x3d"twitterLink" class\x3d"icon-social-twitter" href\x3d"#" aria-label\x3d"${i18n.shareTwitter}" target\x3d"_blank"\x3e\x3cspan class\x3d"twitterBadge dijitInline"\x3e\x3c/span\x3e\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd\x3e\r\n                                \x3ca id\x3d"twitterLink2" title\x3d"${i18n.shareTwitter}" target\x3d"_blank"\x3e${i18n.twitter}\x3c/a\x3e\r\n                            \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv style\x3d"clear:both; padding-top:15px;"\x3e\x3clabel style\x3d"font-weight:bold;" class\x3d"trailer-half"\x3e${i18n.embedGroup}\x3c/label\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"clearfix trailer-2"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingPadding05" style\x3d"clear:both;"\x3e\r\n                        \x3cbutton class\x3d"cancel" id\x3d"button-share-group-embed" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onEmbed"\x3e${i18n.embedInWebsite}\x3c/button\x3e\r\n                        \x3cbutton class\x3d"cancel if-licensed" id\x3d"button-share-group-application" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplication"\x3e${i18n.makeWebApp}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer"\x3e\r\n                    \x3cbutton class\x3d"calcite primary right" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- embed option --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackEmbed" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3c!--\x3cdiv\x3e\x3clabel style\x3d"font-weight:bold; text-decoration:underline;"\x3e${i18n.embedInWebsite}\x3c/label\x3e\x3c/div\x3e--\x3e\r\n\r\n                \x3cdiv style\x3d"padding-top:15px;"\x3e${i18n.embedGroupInWebsite}\x3c/div\x3e\r\n\r\n                \x3cdiv style\x3d"padding-bottom:5px; padding-top:15px;"\x3e\r\n                    \x3clabel for\x3d"share-group-embed" style\x3d"font-weight:bold;" class\x3d"trailer-0"\x3e${i18n.copyPaste}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_shareGroupEmbed" id\x3d"share-group-embed" data-dojo-type\x3d"dijit.form.Textarea" style\x3d"width:98%; min-height:100px; max-height:100px;"\x3e\x3c/div\x3e\r\n\r\n                \x3cdiv id\x3d"share-group-groupsize" style\x3d"padding-top:20px; line-height:18px;"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize1"\x3e\x3clabel for\x3d"groupSize:one" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" data-dojo-attach-point\x3d"_groupSizeOne" id\x3d"groupSize:one" checked/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize2"\x3e\x3clabel for\x3d"groupSize:two" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:two"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize3"\x3e\x3clabel for\x3d"groupSize:three" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:three"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize4"\x3e\x3clabel for\x3d"groupSize:four" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:four"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize5"\x3e\x3clabel for\x3d"groupSize:five" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:five"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize6"\x3e\x3clabel for\x3d"groupSize:six" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:six"/\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3cdiv style\x3d"clear:both; padding-top:15px;" class\x3d"trailer-2"\x3e\r\n                    \x3ctable border\x3d"0" style\x3d"width:100%;" class\x3d"table-plain"\x3e\r\n                        \x3ctbody\x3e\r\n                        \x3ctr\x3e\r\n                            \x3ctd style\x3d"vertical-align:top;"\x3e${i18n.displayWebMaps}\x3c/td\x3e\r\n                            \x3ctd style\x3d"vertical-align:top;"\x3e\r\n                                \x3cdiv\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:over" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_displayWebMapsOver" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick" checked /\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:over"\x3e${i18n.displayOverEmbeddedGallery}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"leader-1"\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:predefined" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick"/\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:predefined"\x3e${i18n.displayInPredefinedApp}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                    \x3cdiv class\x3d"inline-block margin-left-half"\x3e\r\n                                        \x3cdiv style\x3d"margin-left:20px; line-height:18px;" id\x3d"sharePredefinedApp" data-dojo-attach-point\x3d"_sharePredefinedApp" data-dojo-attach-event\x3d"onChange:onPreconfiguredAppChange" data-dojo-type\x3d"arcgisonline.sharing.dijit.ComboBox"\x3e\x3c/div\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"leader-1"\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:configured" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick"/\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:configured"\x3e${i18n.displayInConfiguredApp}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                    \x3cdiv class\x3d"inline-block margin-left-half"\x3e\r\n                                        \x3cdiv style\x3d"margin-left:20px; padding-left:5px;" data-dojo-attach-point\x3d"_shareConfiguredApp" data-dojo-attach-event\x3d"onChange:onConfiguredAppChange,onKeyPress:onConfiguredAppKeyPress" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                            \x3c/td\x3e\r\n                        \x3c/tr\x3e\r\n                        \x3c/tbody\x3e\r\n                    \x3c/table\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer"\x3e\r\n                    \x3cdiv class\x3d"right"\x3e\r\n                        \x3cbutton class\x3d"calcite primary" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option gallery  --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationGallery" class\x3d"share-map-stack-stack"\x3e\r\n                \x3cdiv id\x3d"share-map-application-gallery-box"\x3e\r\n                    \x3cdiv id\x3d"gallery-grid"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n                    \x3cbutton class\x3d"calcite cancel" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.cancel}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option publish  --\x3e\r\n            \x3cdiv id\x3d"share-group-application-publish" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationPublish" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_itemProperties"\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer full-width padding-right-0 clearfix"\x3e\r\n                    \x3cbutton id\x3d"publish-back-button" class\x3d"calcite default clear left" type\x3d"button" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onApplicationPublishBack"\x3e${i18n.back}\x3c/button\x3e\r\n                    \x3cdiv class\x3d"right"\x3e\r\n                        \x3cbutton id\x3d"publish-group-button" class\x3d"calcite primary" type\x3d"button" data-dojo-type\x3d"dijit.form.Button"\x3e${i18n.done}\x3c/button\x3e\r\n                        \x3cbutton id\x3d"publish-cancel-button" class\x3d"calcite cancel" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.cancel}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option help  --\x3e\r\n            \x3cdiv id\x3d"share-map-application-help" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationHelp" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3c!--\x3cdiv\x3e\x3clabel style\x3d"font-weight:bold; text-decoration:underline; "\x3e${i18n.makeWebApp}\x3c/label\x3e\x3c/div\x3e--\x3e\r\n                \x3cdiv style\x3d"padding-top:15px;"\x3e\x3clabel\x3e${i18n.followSteps}\x3c/label\x3e\x3c/div\x3e\r\n                \x3cdiv style\x3d"padding-top:0;" class\x3d"trailer-2"\x3e\r\n                    \x3cul\x3e\r\n                        \x3cli\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.unzipFile}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.unzipFileInstructions}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                        \x3cli style\x3d"margin-top:10px;"\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.deployTheApp}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.copyAppToWeb}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                        \x3cli style\x3d"margin-top:10px;"\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.configureTheApp}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.makeAppChanges}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                    \x3c/ul\x3e\r\n                    \x3cdiv style\x3d"padding-top:10px;"\x3e\r\n                        \x3cspan id\x3d"share-group-groupId"\x3e${i18n.yourGroupId} \x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n                    \x3cbutton class\x3d"calcite default clear" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplicationHelpBack"\x3e${i18n.back}\x3c/button\x3e\r\n                    \x3cbutton class\x3d"calcite primary right" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n        \x3cbutton class\x3d"calcite default cancel" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplicationHelpBack"\x3e${i18n.back}\x3c/button\x3e\r\n        \x3cbutton class\x3d"calcite primary" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
account:arcgisonline.sharing.geow.Account,content:arcgisonline.sharing.geow.Content,community:arcgisonline.sharing.geow.Community,createItemUtil:arcgisonline.sharing.dijit.dialog._CreateItemUtilMixin,util:arcgisonline.sharing.util,group:null,i18n:null,init:!1,shortenedUrl:null,allItemNames:null,templatesGroupId:null,_user:null,_groupUser:null,_isAdmin:!1,_isPublishing:!1,_folders:null,_folderStore:null,_selectedTemplate:null,_stackContainer:null,_stackAllOptions:null,_stackEmbed:null,_stackApplicationGallery:null,
_stackApplicationPublish:null,_stackApplicationPublishHelp:null,_stackApplicationHelp:null,_templateStore:null,iframeSrc:'\x3ciframe title\x3d"${title}" scrolling\x3d"no" frameborder\x3d"0" src\x3d"${host}/webmap/embedGallery.html?displayapps\x3d${displayApps}\x26displayinline\x3d${displayInline}\x26group\x3d${groupId}${templateUrl}" style\x3d"width:${galleryWidth}px; height:${galleryHeight}px"\x3e\x3c/iframe\x3e',displayApps:!0,displayInline:!1,galleryWidth:960,galleryHeight:238,displayWebMapsMode:"over",
predefinedUrl:"",configuredUrl:"",publishViewItemButtonHandler:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareGroupDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").shareGroupDlg);R.mixin(this.i18n,{GroupWidget:R.i18n.getLocalization("arcgisonline",
"arcgisonline").GroupWidget});this.i18n.browseItemsDlg=R.i18n.getLocalization("arcgisonline","arcgisonline").browseItemsDlg},postCreate:function(){this.init||(this.loadConnections(),this.init=!0,this._setupItemPropertiesDlg(),this._stackContainer.selectChild(this._stackEmbed))},destroy:function(){this.inherited(arguments)},show:function(t,u,h,f,g){this.group=t;this._user=u;this._groupUser=h;this._isAdmin=f;this._roleCanCreateItem=(this._isCustomRole=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom())&&
esriGeowConfig.userRole.canCreateItem();this._roleCanShareGroupToPublic=this._isCustomRole&&esriGeowConfig.userRole.canShareGroupToPublic();this._initialStack=g;this.clear();"createWebApp"===g?(N.byId("share-group-dialog").set("title",this.i18n.GroupWidget.createWebApp),this._stackContainer.selectChild(this._stackApplicationGallery)):"embed"===g?(N.byId("share-group-dialog").set("title",this.i18n.GroupWidget.embed),this._stackContainer.selectChild(this._stackEmbed)):this._stackContainer.selectChild(this._stackAllOptions);
R.style("share-group-dialog","visibility","hidden");N.byId("share-group-dialog").show();this._shareGroupDialog.resize();R.style("share-group-dialog","top","70px");R.style("share-group-dialog","visibility","visible");this.updateDlgComponents()},_setupItemPropertiesDlg:function(){this._itemPropDlg||this.getUserItemTitles(R.hitch(this,function(){this._itemPropDlg=new arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg({typeInfo:"configapp",existingItems:this.allItemNames,showFolders:!0,showFile:!1,item:R.mixin({},
this._webAppItemCard)},R.create("div",{},this._itemProperties));this._itemPropDlg.startup()}))},updateDlgComponents:function(){"public"!==this.group.access&&(R.attr(this._shareGroupNotice,"innerHTML",this.i18n.shareGroup+" "+this.i18n.privateGroup),N.byId("button-share-group-embed").set("disabled",!0));this._isCustomRole&&(this._roleCanCreateItem||(N.byId("button-share-group-application").set("disabled",!0),N.byId("publish-group-button").set("disabled",!0)),this._roleCanShareGroupToPublic||N.byId("button-share-group-embed").set("disabled",
!0));this._user||R.style(N.byId("button-share-group-application").domNode,"display","none");var t=esri.urlToObject(window.location.href).path+"?id\x3d"+this.group.id;esriGeowConfig.self&&esriGeowConfig.self.customBaseUrl&&-1<t.indexOf(esriGeowConfig.self.customBaseUrl)&&(t=esriGeowConfig.baseUrl+"group.html?id\x3d"+this.group.id);if("public"===this.group.access&&!this.util.isPortal()){var u=t.indexOf("://"),h=t.indexOf("/",u+3);t=t.substring(0,u+3)+esriGeowConfig.self.portalHostname+t.substring(h)}esriGeowConfig.showSocialMediaLinks&&
esriGeowConfig.bitlyUrl&&0<esriGeowConfig.bitlyUrl.length?(R.style(this._shareGroupUrl,"width","270px"),this.useShortenedUrl(t)):(this._shareGroupUrl.set("value",t),this._shareGroupUrl.focus(),R.style(this._shareGroupUrl,"width","450px"));u=esriGeowConfig.userRole||{};u=!u.id||u.canShareGroupToPublic();this.util.canShowSocialMediaLinks()&&u?(u=arcgisonline.sharing.util.socialNetworkTitle(this.group.title),R.connect(R.byId("facebookLink"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,
"Facebook")),R.connect(R.byId("facebookLink2"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook")),R.connect(R.byId("twitterLink"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter")),R.connect(R.byId("twitterLink2"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter")),R.byId("facebookLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+u+"\x26n\x3dfb\x26u\x3d"+t),R.byId("facebookLink2").href=
esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+u+"\x26n\x3dfb\x26u\x3d"+t),R.byId("twitterLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+u+"\x26n\x3dtw\x26u\x3d"+t),R.byId("twitterLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+u+"\x26n\x3dtw\x26u\x3d"+t)):R.style(R.byId("socialNetworkLinks"),"display","none");this.onGroupSizeClick({target:{id:"groupSize:one"}});esriGeowConfig.self&&esriGeowConfig.self.templatesGroupQuery&&(t=esriGeowConfig.self.templatesGroupQuery,
this.templatesGroupId||this.community.searchGroups(encodeURIComponent(t),R.hitch(this,"handleGetTemplatesGroupId"),R.hitch(this,"handleGetTemplatesGroupId")));R.attr(R.byId("share-group-groupId"),"innerHTML",this.i18n.yourGroupId+" "+this.group.id)},handleGetTemplatesGroupId:function(t){t&&1===t.total&&(this.templatesGroupId=t.results[0].id,this.content.search(esriGeowConfig.restBaseUrl+"search",{q:"group:"+this.templatesGroupId+' AND type:"Web Mapping Application"',sortField:"title",num:"50"},R.hitch(this,
this.handleTemplates),R.hitch(this,this.handleTemplates)))},handleTemplates:function(t){t&&0<t.total&&(t=t.results,this._templateStore=new R.store.Memory({data:t,idProperty:"title"}),this._sharePredefinedApp.set("store",new R.data.ObjectStore({objectStore:this._templateStore})),this._sharePredefinedApp.set("searchAttr","title"),this._sharePredefinedApp.set("labelType","html"),this._sharePredefinedApp.set("labelFunc",this.templateLabelFunc),this._sharePredefinedApp.set("value",t[0].title),this.predefinedUrl=
t[0].url)},templateLabelFunc:function(t,u){var h=u.getValue(t,"id"),f=u.getValue(t,"title"),g=u.getValue(t,"thumbnail"),k=arcgisonline.sharing.util.getToken();g=g?esriGeowConfig.restBaseUrl+"content/items/"+h+"/info/"+g+(k?"?token\x3d"+k:""):arcgisonline.sharing.util.relativeToExplicitUrl("images/transparent.gif");return["\x3cdiv style\x3d'width:100px; height:100px; padding:0.5em; display:inline;' id\x3d'galleryNode_"+h+"'\x3e\x3cimg style\x3d'width:90px; height:60px; vertical-align:middle;' src\x3d'"+
g+"' alt\x3d'"+f+"' title\x3d'"+f+"'/\x3e\x3cbr/\x3e\x3cspan class\x3d'esriLeadingMargin05' style\x3d'width:90px; max-width:90px; white-space:normal !important;'\x3e"+f+"\x3c/span\x3e\x3c/div\x3e"]},useShortenedUrl:function(t){if(this.shortenedUrl)this._shareGroupUrl.set("value",this.shortenedUrl);else{var u=arcgisonline.sharing.util.getUser();if(u&&"public"===this.group.access&&esriGeowConfig.self.id===u.accountId&&"public"!==esriGeowConfig.self.access){u=t.indexOf("://");var h=t.indexOf("/",u+3);
t=t.substring(0,u+3)+esriGeowConfig.self.portalHostname+t.substring(h)}this.util.shortenUrl(t,R.hitch(this,function(f){this.shortenedUrl=f;var g=this.util.socialNetworkTitle(this.group.title);this._shareGroupUrl.set("value",f);this._shareGroupUrl.focus();R.connect(R.byId("facebookLink"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook"));R.connect(R.byId("facebookLink2"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook"));R.connect(R.byId("twitterLink"),
"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter"));R.connect(R.byId("twitterLink2"),"onclick",R.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter"));R.byId("facebookLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dfb\x26u\x3d"+t);R.byId("facebookLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dfb\x26u\x3d"+t);R.byId("twitterLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+
g+"\x26n\x3dtw\x26u\x3d"+t);R.byId("twitterLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dtw\x26u\x3d"+t)}),R.hitch(this,function(f,g){this._shareGroupUrl.set("value",t);this._shareGroupUrl.focus();R.style(R.byId("socialNetworkLinks"),"display","none");R.style(R.byId("share-map-url"),"width","450px")}))}},getUserItemTitles:function(t){var u=arcgisonline.sharing.util.getUser();null!=u&&arcgisonline.sharing.util.getJsonWithContent(esriGeowConfig.restBaseUrl+"search",
{num:100,q:'type:"Web Mapping Application" itemtype:text owner:"'+u.username+'"'},R.hitch(this,function(h){this.allItemNames=R.map(h.results,R.hitch(this,function(f){return f.title}));t()}),R.hitch(this,function(h){this.showError({title:this.i18n.errorTitle,message:esri.substitute({message:h.message},this.i18n.searchMapsFailed)});t()}))},clear:function(){this._isPublishing=!1;this.displayInline=this.displayApps=!0;this.galleryWidth=960;this.galleryHeight=238;this.displayWebMapsMode="over";this.configuredUrl=
this.predefinedUrl="";R.attr(this._shareGroupNotice,"innerHTML",this.i18n.shareGroup);R.attr(this._shareGroupUrl,"value","");R.attr(R.byId("facebookLink"),"href","#");R.attr(R.byId("facebookLink2"),"href","#");R.attr(R.byId("twitterLink"),"href","#");R.attr(R.byId("twitterLink2"),"href","#");this._shareGroupEmbed.set("value","");this._groupSizeOne.set("checked",!0);this._displayWebMapsOver.set("checked",!0);this._sharePredefinedApp.set("disabled",!0);this._shareConfiguredApp.set("disabled",!0);this._shareConfiguredApp.set("value",
"");this._shareConfiguredApp.set("placeholder",this.i18n.enterURLToApp);N.byId("publish-group-button").set("disabled",!1);N.byId("publish-group-button").set("label",this.i18n.done);R.attr(R.byId("share-group-groupId"),"innerHTML",this.i18n.yourGroupId+" ")},onEmbed:function(){N.byId("button-share-group-embed").get("disabled")||(this._stackContainer.selectChild(this._stackEmbed),N.byId("share-group-dialog").set("title",this.i18n.embedInWebsite))},onApplication:function(){if(!N.byId("button-share-group-application").get("disabled")){this._stackContainer.selectChild(this._stackApplicationGallery);
N.byId("share-group-dialog").set("title",this.i18n.makeNewWebApp);var t=N.byId("templatesGallery");t&&t._groupDoesntExist&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.notice,message:this.i18n.groupDoesntExist})}},onApplicationBack:function(t){t.preventDefault();this._stackContainer.selectChild(this._stackAllOptions);N.byId("share-group-dialog").set("title",this.i18n.share)},onApplicationHelpBack:function(){this._stackContainer.selectChild(this._stackApplicationGallery)},
onApplicationPublishBack:function(){this._isPublishing||(this._stackContainer.back(),N.byId("share-group-dialog").set("title",this.i18n.GroupWidget.createWebApp))},onTempPublishHelp:function(){this._stackContainer.selectChild(this._stackApplicationPublishHelp)},onTempHelp:function(){this._stackContainer.selectChild(this._stackApplicationHelp)},loadConnections:function(){N.byId("templatesGallery");R.connect(this._stackApplicationGallery,"onShow",R.hitch(this,function(){this._browseItemsDlg||(this._browseItemsDlg=
new arcgisonline.sharing.dijit.dialog.BrowseItemsDlg({message:this.i18n.selectTemplate,"class":"esriBrowseItemsDlg"},R.create("div",{},R.byId("gallery-grid"))),this._browseItemsDlg.startup(),this._browseItemsDlg.addPlugin("arcgisonline/sharing/dijit/dialog/PluginGroupTemplates"),this._browseItemstopicHandle=R.subscribe("/esri/browseitems/close",R.hitch(this,function(t,u){if("create-app"===t)this.onCreateApp(u);else if("preview-app"===t)this.onPreviewApp(u);else if("download-app"===t)this.onDownload(u)})))}));
R.connect(N.byId("publish-group-button"),"onClick",this,"publishWebApp");R.connect(this._shareGroupEmbed,"onKeyPress",R.hitch(this,this.doNothing));R.mixin(N.byId("share-group-dialog"),{onCancel:R.hitch(this,function(){this.hide()})})},onCreateApp:function(t){this._user?this.content.getItemData(t.id,R.hitch(this,function(u){this._selectedTemplate=R.mixin(t,{data:u});this._itemPropDlg.set("title",this._selectedTemplate.title);this._stackContainer.selectChild(this._stackApplicationPublish)})):window.location=
esriGeowConfig.baseUrl+"signin.html?error\x3d403\x26returnUrl\x3d"+encodeURIComponent(window.location)},onPreviewApp:function(t){var u=esriGeowConfig.restBaseUrl+"content/items/"+t.id+"/data",h=this.util.getToken();esri.request({url:u+(h?"?token\x3d"+h:""),callbackParamName:"callback"});u=arcgisonline.sharing.util.getHomeAppContext();arcgisonline.sharing.util.isPortal()&&t.url&&0===t.url.indexOf("/")&&t.url&&-1===t.url.indexOf(u)&&(t.url=u+t.url);window.open(t.url+"?group\x3d"+this.group.id)},onDownload:function(t){var u=
N.byId("share-group-stack");arcgisonline.sharing.util.downloadWebMappingApp(t);u.selectChild(this._stackApplicationHelp)},publishWebApp:function(t){t.preventDefault();var u=this._selectedTemplate,h=this._itemPropDlg,f=arcgisonline.sharing.util.getHomeAppContext(),g=R.mixin(this._itemPropDlg.get("item"),{groupId:this.group.id}),k=R.hitch(this,function(w){this._itemPropDlg.set("readOnly",w);R.query(".share-map-application-publish-config-back").style("color",w?"#999":"#21759B");N.byId("publish-group-button").set("disabled",
w);N.byId("publish-group-button").set("label",w?this.i18n.savingAndPublishing:this.i18n.done)});k(!0);h._validate().then(R.hitch(this,function(w){arcgisonline.sharing.util.isPortal()&&u.url&&0===u.url.indexOf("/")&&u.url&&-1===u.url.indexOf(f)&&(u.url=f+u.url);this.createItemUtil.createTemplatedApplication(g,this._selectedTemplate,h._portal).then(R.hitch(this,function(v){window.location=v.configureUrl}),R.hitch(this,function(v){k(!1);var C=this.i18n.errorAddingItem;v&&v.message&&(C=v.message);C={title:this.i18n.errorTitle,
message:esri.substitute({title:u.title,message:C},this.i18n.savingApplicationFailed)};409===v.code&&(C.message=esri.substitute({title:u.title},this.i18n.applicationAlreadyExists));this.showError(C)}))}),R.hitch(this,function(w){k(!1);this.showError(w)}))},showError:function(t){(this._dlg||(this._dlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance())).show({title:t.title,message:t.message})},onPreconfiguredAppChange:function(t){t=this._sharePredefinedApp.get("value");var u=
!1;this._sharePredefinedApp.get("store").query({title:t}).forEach(R.hitch(this,function(h){u||(this.predefinedUrl=h.url,this.buildIFrameSrc(),u=!0)}))},onConfiguredAppChange:function(t){this.configuredUrl=this._shareConfiguredApp.get("value");this.buildIFrameSrc()},onConfiguredAppKeyPress:function(t){t.keyCode==R.keys.ENTER&&(R.stopEvent(t),this.onConfiguredAppChange(t));this.buildIFrameSrc()},doNothing:function(t){},onGroupSizeClick:function(t){t&&t.target&&("groupSize:one"===t.target.id?(this.galleryWidth=
720,this.galleryHeight=687):"groupSize:two"===t.target.id?(this.galleryWidth=720,this.galleryHeight=460):"groupSize:three"===t.target.id?(this.galleryWidth=720,this.galleryHeight=238):"groupSize:four"===t.target.id?(this.galleryWidth=960,this.galleryHeight=687):"groupSize:five"===t.target.id?(this.galleryWidth=960,this.galleryHeight=460):"groupSize:six"===t.target.id&&(this.galleryWidth=960,this.galleryHeight=238),this.buildIFrameSrc())},buildIFrameSrc:function(){var t="",u=!1===esriGeowConfig.isMultiTenant,
h=location.protocol+"//"+esriGeowConfig.portalHostname;"predefined"===this.displayWebMapsMode?this.predefinedUrl&&0<this.predefinedUrl.length?(this.predefinedUrl=0===this.predefinedUrl.indexOf("http")||0===this.predefinedUrl.indexOf("//")?this.predefinedUrl:h+this.predefinedUrl,this._user&&this._user.accountId&&!u&&(this.predefinedUrl=this.predefinedUrl.replace("/hosted/","/apps/")),t="\x26templateurl\x3d"+encodeURIComponent(this.predefinedUrl)):this.displayInline=!0:"configured"===this.displayWebMapsMode&&
(this.configuredUrl&&0<this.configuredUrl.length?(t="\x26templateurl\x3d"+encodeURIComponent(this.configuredUrl),this.displayInline=!1):this.displayInline=!0);t=esri.substitute({displayApps:this.displayApps,displayInline:this.displayInline,galleryWidth:this.galleryWidth,galleryHeight:this.galleryHeight,groupId:this.group.id,title:this.group.title,host:esriGeowConfig.baseUrl.substring(0,esriGeowConfig.baseUrl.length-1),templateUrl:t},this.iframeSrc);this._shareGroupEmbed.set("value",t)},onDisplayWebMapsClick:function(t){"displayWebMaps:over"===
t.target.id?(this.displayWebMapsMode="over",this.displayInline=!0,this._sharePredefinedApp.set("disabled",!0),this._shareConfiguredApp.set("disabled",!0),this.buildIFrameSrc()):"displayWebMaps:predefined"===t.target.id?(this.displayWebMapsMode="predefined",this.displayInline=!1,this._sharePredefinedApp.set("disabled",!1),this._shareConfiguredApp.set("disabled",!0),this.buildIFrameSrc()):"displayWebMaps:configured"===t.target.id&&(this.displayWebMapsMode="configured",this.displayInline=!1,this._sharePredefinedApp.set("disabled",
!0),this._shareConfiguredApp.set("disabled",!1),this.buildIFrameSrc())},onClose:function(){this.hide();this._selectedTemplate=null;this._browseItemsDlg&&(this._browseItemsDlg.destroy(),this._browseItemsDlg=null,this._browseItemstopicHandle.remove())},hide:function(){N.byId("share-group-dialog").hide();9>R.isIE&&this._stackContainer.selectChild(this._stackAllOptions)}})})},"dojo/data/ObjectStore":function(){define("../_base/lang ../Evented ../_base/declare ../_base/Deferred ../promise/all ../_base/array ../_base/connect ../regexp".split(" "),
function(R,N,n,t,u,h,f,g){function k(w){return"*"==w?".*":"?"==w?".":w}return n("dojo.data.ObjectStore",[N],{objectStore:null,constructor:function(w){this._dirtyObjects=[];w.labelAttribute&&(w.labelProperty=w.labelAttribute);R.mixin(this,w)},labelProperty:"label",getValue:function(w,v,C){return"function"===typeof w.get?w.get(v):v in w?w[v]:C},getValues:function(w,v){var C=this.getValue(w,v);return C instanceof Array?C:void 0===C?[]:[C]},getAttributes:function(w){var v=[],C;for(C in w)!w.hasOwnProperty(C)||
"_"==C.charAt(0)&&"_"==C.charAt(1)||v.push(C);return v},hasAttribute:function(w,v){return v in w},containsValue:function(w,v,C){return-1<h.indexOf(this.getValues(w,v),C)},isItem:function(w){return"object"==typeof w&&w&&!(w instanceof Date)},isItemLoaded:function(w){return w&&"function"!==typeof w.load},loadItem:function(w){var v;"function"===typeof w.item.load?t.when(w.item.load(),function(C){v=C;var A=C instanceof Error?w.onError:w.onItem;A&&A.call(w.scope,C)}):w.onItem&&w.onItem.call(w.scope,w.item);
return v},close:function(w){return w&&w.abort&&w.abort()},fetch:function(w){function v(a){w.onError&&w.onError.call(A,a,w)}w=R.delegate(w,w&&w.queryOptions);var C=this,A=w.scope||C,r=w.query;if("object"==typeof r){r=R.delegate(r);for(var l in r){var d=r[l];"string"==typeof d&&(r[l]=RegExp("^"+g.escapeString(d,"*?\\").replace(/\\.|\*|\?/g,k)+"$",w.ignoreCase?"mi":"m"),r[l].toString=function(a){return function(){return a}}(d))}}var e=this.objectStore.query(r,w);t.when(e.total,function(a){t.when(e,function(b){w.onBegin&&
w.onBegin.call(A,a||b.length,w);if(w.onItem)for(var c=0;c<b.length;c++)w.onItem.call(A,b[c],w);w.onComplete&&w.onComplete.call(A,w.onItem?null:b,w);return b},v)},v);w.abort=function(){e.cancel&&e.cancel()};e.observe&&(this.observing&&this.observing.cancel(),this.observing=e.observe(function(a,b,c){if(-1==h.indexOf(C._dirtyObjects,a))if(-1==b)C.onNew(a);else if(-1==c)C.onDelete(a);else for(var m in a)if(m!=C.objectStore.idProperty)C.onSet(a,m,null,a[m])},!0));this.onFetch(e);w.store=this;return w},
getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(w){if(this.isItem(w))return this.getValue(w,this.labelProperty)},getLabelAttributes:function(w){return[this.labelProperty]},getIdentity:function(w){return this.objectStore.getIdentity?this.objectStore.getIdentity(w):w[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(w){return[this.objectStore.idProperty]},
fetchItemByIdentity:function(w){var v;t.when(this.objectStore.get(w.identity),function(C){v=C;w.onItem.call(w.scope,C)},function(C){w.onError.call(w.scope,C)});return v},newItem:function(w,v){if(v){var C=this.getValue(v.parent,v.attribute,[]);C=C.concat([w]);w.__parent=C;this.setValue(v.parent,v.attribute,C)}this._dirtyObjects.push({object:w,save:!0});this.onNew(w);return w},deleteItem:function(w){this.changing(w,!0);this.onDelete(w)},setValue:function(w,v,C){var A=w[v];this.changing(w);w[v]=C;this.onSet(w,
v,A,C)},setValues:function(w,v,C){if(!R.isArray(C))throw Error("setValues expects to be passed an Array object as its value");this.setValue(w,v,C)},unsetAttribute:function(w,v){this.changing(w);var C=w[v];delete w[v];this.onSet(w,v,C,void 0)},changing:function(w,v){w.__isDirty=!0;for(var C=0;C<this._dirtyObjects.length;C++){var A=this._dirtyObjects[C];if(w==A.object){v&&(A.object=!1,this._saveNotNeeded||(A.save=!0));return}}A=w instanceof Array?[]:{};for(C in w)w.hasOwnProperty(C)&&(A[C]=w[C]);this._dirtyObjects.push({object:!v&&
w,old:A,save:!this._saveNotNeeded})},save:function(w){w=w||{};var v=[],C=[],A=this,r=this._dirtyObjects;try{f.connect(w,"onError",function(){if(!1!==w.revertOnError){var m=r;r=C;A.revert();A._dirtyObjects=m}else A._dirtyObjects=r.concat(C)});var l;this.objectStore.transaction&&(l=this.objectStore.transaction());for(var d=0;d<r.length;d++){var e=r[d],a=e.object,b=e.old;delete a.__isDirty;if(a){var c=this.objectStore.put(a,{overwrite:!!b});v.push(c)}else"undefined"!=typeof b&&(c=this.objectStore.remove(this.getIdentity(b)),
v.push(c));C.push(e);r.splice(d--,1)}u(v).then(function(m){w.onComplete&&w.onComplete.call(w.scope,m)},function(m){w.onError&&w.onError.call(w.scope,m)});l&&l.commit()}catch(m){w.onError.call(w.scope,value)}},revert:function(){for(var w=this._dirtyObjects,v=w.length;0<v;){v--;var C=w[v],A=C.object;C=C.old;if(A&&C){for(var r in C)C.hasOwnProperty(r)&&A[r]!==C[r]&&(this.onSet(A,r,A[r],C[r]),A[r]=C[r]);for(r in A)C.hasOwnProperty(r)||(this.onSet(A,r,A[r]),delete A[r])}else if(C)this.onNew(C);else this.onDelete(A);
delete (A||C).__isDirty;w.splice(v,1)}},isDirty:function(w){return w?w.__isDirty:!!this._dirtyObjects.length},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(w){}})})},"arcgisonline/sharing/dijit/GroupTemplatesGrid":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Community,arcgisonline/sharing/dijit/Gallery,arcgisonline/sharing/dijit/views,arcgisonline/sharing/util,dojo/mouse"],function(R,N,n){R.provide("arcgisonline.sharing.dijit.GroupTemplatesGrid");
R.require("arcgisonline.sharing.geow.Content");R.require("arcgisonline.sharing.geow.Community");R.require("arcgisonline.sharing.dijit.Gallery");R.require("arcgisonline.sharing.dijit.views");R.require("arcgisonline.sharing.util");R.require("dojo.mouse");R.declare("arcgisonline.sharing.dijit.GroupTemplatesGrid",[N._Widget,N._Templated],{templateString:"\x3cdiv dojoAttachPoint\x3d'containerNode'\x3e\x3c/div\x3e",i18n:null,sortField:null,sortOrder:null,showThumbnail:!0,templatesGroupId:null,groupQuery:null,
galleryNodes:4,textMenus:[],_views:arcgisonline.sharing.dijit.views,_util:arcgisonline.sharing.util,_gallery:null,_galleryPane:null,_detailsPane:null,_detailsTextPane:null,_detailsIconPane:null,_detailsTimer:null,onPublish:function(){},onPreview:function(){},_getTemplates:function(){var t={q:"group:"+this.templatesGroupId+' AND type:"Web Mapping Application"',sortField:this.sortField,num:"50"};this.sortOrder&&(t.sortOrder=this.sortOrder);arcgisonline.sharing.geow.Content.search(esriGeowConfig.restBaseUrl+
"search",t,R.hitch(this,this._handleTemplatesResponse),R.hitch(this,this._handleTemplatesResponse))},refresh:function(){this._getTemplates()},postMixInProperties:function(){this.inherited(arguments);this.i18n=R.i18n.getLocalization("arcgisonline","arcgisonline").common;R.mixin(this.i18n,R.i18n.getLocalization("arcgisonline","arcgisonline").templatesGridWidget)},postCreate:function(){this._gallery=new arcgisonline.sharing.dijit.Gallery({id:this.id+"_Gallery",nodesPerPage:this.galleryNodes,showNodeLabels:!0,
showToolTip:!1,noResultsMessage:"\x3cp class\x3d'esriItemLinks'\x3e\x3cspan\x3e"+this.i18n.noItemsToDisplay+"\x3c/span\x3e\x3c/p\x3e"},R.create("div",null,this.domNode));this._user=arcgisonline.sharing.util.getUser();var t=this;R.mixin(this._gallery,{_buildNodeLayout:function(u,h){var f=R.create("div",{id:"galleryNode_"+u.id,"class":this.nodeClass,style:"position:relative;"});R.addClass(f,h?"large":"small");if(this.showNodeLabels){var g=R.create("div",{"class":"galleryLabelContainer"},f),k=u.title||
"";R.create("span",{innerHTML:k,alt:k,title:k},g)}g=void 0!==esriGeowConfig.isMultiTenant&&null!==esriGeowConfig.isMultiTenant&&!1===esriGeowConfig.isMultiTenant;var w=u.url;w=0===w.indexOf("http")||0===w.indexOf("//")?w:window.location.protocol+"//"+window.location.host+w;t&&t._user&&t._user.accountId?w=g?t._getPortalPreviewUrl(u,w):w.replace("/hosted/","/apps/"):t&&g&&(w=t._getPortalPreviewUrl(u,w));g=R.create("a",{href:"JavaScript:void(0);"},f);R.create("img",{"class":this.thumbClass,src:u.thumbnail?
this._getThumbailUrl(u):arcgisonline.sharing.util.relativeToExplicitUrl("images/transparent.gif")},g);R.create("br",null,f);k=R.create("div",{"class":"linksDiv"},f);k=R.create("div",{"class":"esriItemLinks"},k);var v=R.create("div",{"class":"esriFloatLeading"},k),C=R.create("a",{href:"JavaScript:void(0);",style:"text-decoration: none;"},v);R.connect(C,"onclick",R.hitch(this,function(l){l.preventDefault();l.stopPropagation()}));R.create("span",{innerHTML:this.i18n.publish},C);R.create("div",{"class":"dijitReset dijitInline esriArrows"},
C);arcgisonline.sharing.geow.Content.getApplicationCode(u,R.hitch(this,function(l){var d=R.filter(l.relatedItems&&0<l.relatedItems.length?l.relatedItems:[l],function(e){return null!==e.url});d&&d.length?(l=d[0],R.query(".toolbar .codeAttachment").style("display","none")):l=l.relatedItems&&0<l.relatedItems.length?l.relatedItems[0]:l;d=[];d.push({label:this.i18n.publish,onClick:R.hitch(t,"onPublish",{url:u.url,id:u.id})});l.id&&d.push({label:this.i18n.download,onClick:R.hitch(t,"onDownload",l.url||
esriGeowConfig.restBaseUrl+"content/items/"+l.id+"/data",l.url?!0:!1)});d.push({label:this.i18n.preview,onClick:R.hitch(t,"onPreview",{url:w,id:l.id})});l=new arcgisonline.sharing.dijit.TextMenu({triggerNode:C,labelNode:C,textMenuItems:d});t.textMenus.push(l)}));R.create("span",{innerHTML:"\x26nbsp;",style:"width:0;"},k);k=u.snippet||"";145<k.length&&(k=k.substring(0,140)+"...");k=R.create("div",{id:"tooltip"+u.id,className:"templatesGridTooltip",innerHTML:'\x3cp class\x3d"title ellipsis"\x3e'+u.title+
"\x3c/p\x3e\x3cp\x3e"+k+"\x3c/p\x3e"},f,"first");var A=function(l){(l=R.byId(l))&&R.style(l,{opacity:0,display:"none"})},r=function(l,d){var e=R.byId(l);esri.show(e);var a=R.coords(e),b=R.coords(R.byId(d).parentNode);a.w+a.x>b.w+b.x&&(R.style(e,"left","auto"),R.style(e,"right",R.isIE?"10px":"0"));R.fadeIn({node:e}).play();R.forEach(t.textMenus,function(c){c.hide()})};/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?R.connect(g,"onclick",function(){var l=
R.byId("tooltip"+u.id);l&&"block"===R.getStyle(l,"display")?A("tooltip"+u.id):r("tooltip"+u.id,"galleryNode_"+u.id);R.query(".templatesGridTooltip").forEach(function(d){d.id!=="tooltip"+u.id&&A(d.id)})}):(R.connect(g,R.mouse.enter,function(){R.query(".templatesGridTooltip").forEach(function(l){A(l.id)});r("tooltip"+u.id,"galleryNode_"+u.id)}),R.connect(k,R.mouse.leave,function(){A("tooltip"+u.id)}));return f}});this._gallery.startup()},_getPortalPreviewUrl:function(t,u){var h=arcgisonline.sharing.util.parseUrl(u);
"/"===t.url.substring(0,1)&&-1<esriGeowConfig.baseUrl.indexOf(h.host)&&(u=window.location.protocol+"//"+window.location.host+arcgisonline.sharing.util.getHomeAppContext()+t.url);return u="https:"===window.location.protocol?arcgisonline.sharing.util.getSecureUrl(u):arcgisonline.sharing.util.getHttpUrl(u)},onDownload:function(t,u,h){h.preventDefault();u?window.open(t):window.location=t},_setGroupQueryAttr:function(t){(this.groupQuery=t)&&0<this.groupQuery.length&&arcgisonline.sharing.geow.Community.searchGroups(this.groupQuery,
R.hitch(this,this._handleGetGroup),R.hitch(this,this._handleGetGroup))},_setGroupIdAttr:function(t){null!==t&&0!==t.length&&(this.pageCount=0,this.templatesGroupId=t,this._getTemplates())},_handleTemplatesResponse:function(t){for(var u,h=[],f=0;f<t.results.length;f++)u=t.results[f],u.url&&h.push(u);R.attr(this._gallery,"items",h)},_handleGetGroup:function(t,u){this._groupDoesntExist=!1;t&&1==t.total?(this.templatesGroupId=t.results[0].id,t.results[0].sortField&&(this.sortField=t.results[0].sortField),
t.results[0].sortOrder&&(this.sortOrder=t.results[0].sortOrder),this._setGroupIdAttr(t.results[0].id)):t&&1<t.total||(this._groupDoesntExist=!0)},nextPage:function(){this._gallery.nextPage()},prevPage:function(){this._gallery.prevPage()},doNothing:function(t){t.preventDefault();t.stopPropagation()}})})},"arcgisonline/sharing/dijit/dialog/PluginGroupTemplates":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/promise/all"],function(R,N,n,t){var u=R("arcgisonline.sharing.dijit.dialog.PluginGroupTemplates",
null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
constructor:function(h){N.mixin(this,h)},fetchData:function(){var h=[];this.parent._currentFilter.types=['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this._fetchEsriGroupTemplates().then(N.hitch(this,function(f){n.forEach(f||[],function(g){g&&g.id&&h.push('group:"'+g.id+'"')});return this._fetchGroupItems(h)}))},_fetchGroup:function(h,f){this._groups=this._groups||[];return this._groups[h]||this._portal.queryGroups(f,!0).then(N.hitch(this,
function(g){g=g.total&&g.results&&g.results[0]||null;return(this._groups[h]=g)||{}}))},_fetchGroupItems:function(h){return this.parent._fetchItems({groups:h})},_fetchEsriGroupTemplates:function(){return t([this._fetchGroup("esriGallery",this._portal.galleryTemplatesGroupQuery||null)]).then(N.hitch(this,function(h){return h||[]}))}});N.mixin(u,{add:function(h,f){if(!h.plugIn){var g=f||{};g.parent=h;h.plugIn=new u(g)}},remove:function(h){h.plugIn&&(h.plugIn.destroy(),delete h.plugIn)}});return u})},
"arcgisonline/sharing/dijit/dialog/MembershipRequestsDlg":function(){define("require esri/declare esri/Evented dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic dojo/store/Memory dijit/a11yclick dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../../esriGeowConfig ../../../pages/utils/icons ../../../pages/utils/date ../../util ../Grid ./GeneralDlg dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/MembershipRequestsDlg.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){var D=N("arcgisonline.sharing.dijit.dialog.MembershipRequestsDlg",[d,e,a,n],{baseClass:"esriMembershipRequestsDlg",widgetsInTemplate:!0,templateString:z,groupId:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=t.mixin({},B.common);t.mixin(this.i18n,B.membershipRequestsDlg);t.mixin(this.i18n,B.groupMembershipRequestsGrid);t.mixin(this.i18n,{error:B.inviteUsersDlg.error})},postCreate:function(){this.loadConnections()},
loadConnections:function(){this.own(k(".jevent").on("click",function(F){F.preventDefault()}),A(this._closeBtn,t.hitch(this,function(){this._dialog.hide()})),v.subscribe("onApplicationAccept",t.hitch(this,"onApplicationApprove")),v.subscribe("onApplicationDecline",t.hitch(this,"onApplicationDecline")))},show:function(F){this.groupId=F;this.clearStore();this.requestApplications();this._dialog.show()},approveApplication:function(F,x){var E=p.getUser(),G=this._requestsGrid._grid.store;E&&p.request({url:b.restBaseUrl+
"community/groups/"+this.groupId+"/applications/"+x+"/accept"},{usePost:!0}).then(t.hitch(this,function(){G.remove(F.id);v.publish("onApplicationAccept",{})}),t.hitch(this,function(){var H=new y;h.once(H._dialog,"hide",function(){H._dialog.destroyRecursive();H.destroyRecursive()});H.show({title:this.i18n.errorTitle,message:w.substitute(this.i18n.error.unableToAddPrivs,{user:x})});G.remove(F.id);v.publish("onApplicationAccept",{})}))},declineApplication:function(F,x){var E=p.getUser(),G=this._requestsGrid._grid.store;
E&&p.request({url:b.restBaseUrl+"community/groups/"+this.groupId+"/applications/"+x+"/decline"},{usePost:!0}).then(t.hitch(this,function(){G.remove(F.id);v.publish("onApplicationDecline",{})}))},onApplicationApprove:function(){0===this._requestsGrid._grid.store.query().length?this.hide():this.refresh()},onApplicationDecline:function(){0===this._requestsGrid._grid.store.query().length?this.hide():this.refresh()},requestApplications:function(){var F=this._requestsGrid._grid.store;return p.request({url:b.restBaseUrl+
"community/groups/"+this.groupId+"/applications"}).then(t.hitch(this,function(x){x.applications&&(u.forEach(x.applications,function(E,G){E.id=G;F.put(E)}),this.refresh())}))},clearStore:function(){this._requestsGrid||this.createGrid();var F=this._requestsGrid&&this._requestsGrid._grid&&this._requestsGrid._grid.store||void 0;F&&u.forEach(t.clone(F.query()),function(x){F.remove(x.id)})},createGrid:function(){this._requestsGrid=new q({id:"requestsGrid",columns:this.getRequestGridColumns(),noDataMessage:this.i18n.noMembershipRequests,
showLoadingMessage:!1,showHeader:!1,showFooter:!1,selectionMode:"none",rowsPerPage:5,className:"requests-grid",store:new C({idProperty:"id",label:"fullname",data:[]}),sort:[{attribute:"received",descending:!1}]},this._requestsGridContainer);this._requestsGrid.startup();k(".dgrid-status").forEach(function(F){F.tabIndex=-1;f.add(F,"left")})},getRequestGridColumns:function(){return{fullname:{label:" ",sortable:!1,formatter:t.hitch(this,function(F){return F})},username:{label:" ",sortable:!1,formatter:t.hitch(this,
function(F){return F})},received:{label:" ",sortable:!1,formatter:t.hitch(this,function(F){F=new Date(parseFloat(F));return m.format(F,"long-date")})},yourResponse:{label:" ",sortable:!1,renderCell:t.hitch(this,function(F){var x=F.username,E=g.create("div",{className:"esriFloatTrailing"}),G=g.create("button",{innerHTML:"\x3cspan class\x3d'text-green'\x3e"+c.inline.check["16"]+"\x3c/span\x3e"+this.i18n.approve,className:"btn-link btn-link-off-black clickable margin-right-1"},E),H=g.create("button",
{innerHTML:"\x3cspan class\x3d'text-red'\x3e"+c.inline["minus-circle"]["16"]+"\x3c/span\x3e"+this.i18n.decline,className:"btn-link btn-link-off-black clickable"},E);this.own(A(G,t.hitch(this,"approveApplication",F,x)),A(H,t.hitch(this,"declineApplication",F,x)));return E})}}},hide:function(){this._dialog.hide()},refresh:function(){if(this._requestsGrid._grid&&this._requestsGrid._grid._started){var F=this._requestsGrid._grid._currentPage||1,x=this._requestsGrid._grid.store?this._requestsGrid._grid.store.query().length:
0;h.once(this._requestsGrid._grid,"dgrid-refresh-complete",function(E){E.grid._currentPage!==F&&0<x&&E.grid.gotoPage(F)});this._requestsGrid._grid.resize();this._requestsGrid._grid.refresh()}}});D.prototype.statics={getInstance:function(){this._instance||(this._instance=new D);return this._instance}};return D})},"arcgisonline/sharing/dijit/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dojo/_base/array dojo/on dojo/aspect dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dgrid/Grid dgrid/extensions/Pagination dgrid/extensions/DijitRegistry dgrid/OnDemandGrid dgrid/extensions/ColumnResizer dgrid/Keyboard ./_RefreshMixin ./Rating dojo/query dojo/dom-class dojo/dom-style dojo/when dojo/store/Memory dgrid/Selection dgrid/selector dojo/store/Observable put-selector/put dgrid/util/mouse dgrid/util/touch arcgisonline/sharing/util ../../pages/utils/date ../../pages/utils/keys arcgisonline/sharing/geow/Content dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba){esri.i18nBundle=ba;return R("arcgisonline.sharing.dijit.Grid",[f],{postMixInProperties:function(){this.inherited(arguments);this._util=M;this._content=U;this._supportedViews=["gallery","details","table"];this._favorites={};this._portalUser=this._util.getUser();this._galleryTemplate=this._galleryTemplate||"\x3cdiv style\x3d'opacity:0;' class\x3d'grid-item gallery-view'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e${item:_formatItemTypeIcon}\x3c/div\x3e";
this._detailsTemplate=this._detailsTemplate||'\x3cdiv style\x3d\'opacity:0;\' class\x3d\'grid-item detail-view\'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e${item:_formatItemTypeIcon}\x3cp class\x3d"grid-item-type"\x3e${item:_formatType}\x3c/p\x3e\x3cp class\x3d"grid-item-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cspan class\x3d"openItem" id\x3d"openItem"\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.gallery.details}\x3c/a\x3e\x3c/div\x3e';
this._itemPopupTemplate=this._itemPopupTemplate||'\x3cdiv class\x3d"grid-item-hover"\x3e\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cspan id\x3d\'openItem\'\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.details}\x3c/a\x3e\x3cp class\x3d"item-hover-type"\x3e${item:_formatItemTypeIcon}${item:_formatType} by\x26nbsp;${item.owner:_formatOwnerLink}\x3c/p\x3e\x3cp class\x3d"item-hover-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
this._renderers=N.mixin(this._renderers||{},{gallery:N.hitch(this,function(V){V.snippet=V.snippet||"";var aa=G("div"),ha=new (R([f,w,v],{templateString:n.substitute(this._galleryTemplate,{item:V,i18n:ba.gallery},null,this)}));V.widget=ha;aa.appendChild(ha.domNode);return aa}),details:N.hitch(this,function(V){V.snippet=V.snippet||"";var aa=G("div"),ha=new (R([f,w,v],{templateString:n.substitute(this._detailsTemplate,{item:V,i18n:ba},null,this)})),ia=new C({label:ba.gallery.open,className:"btn calcite primary",
dropDown:this._getOpenInMenu(V)},q(".openItem",aa)[0]);V.widget=ha;aa.appendChild(ha.domNode);q(".openItem",aa).replaceWith(ia.domNode);0===ia.dropDown.getChildren().length&&ia.set("disabled",!0);return aa}),table:function(){return G("div",l.prototype.renderRow.apply(this,arguments))}})},buildRendering:function(){this.inherited(arguments);var V=R([l,e,d,b,F,m]),aa=this.columns||{title:{label:"title"},type:{label:"type"},modified:{label:"last modified"},access:{label:"sharing"}};this._view=this.view||
"table";this._query=this.query;this._sort=this.sort||[{attribute:"title",descending:!1}];this._queryOptions=this.queryOptions||{sort:this.sort};this._store=this.store||new D({data:[]});this._rowsPerPage=this.rowsPerPage||9;this._pagingLinks=this.pagingLinks?this.pagingLinks:3;this._showHeader=this.showHeader||!1;this._selectionMode=this.selectionMode||"extended";this._useTouchScroll=this.useTouchScroll||!1;this._grid=new V({columns:aa,renderRow:this._renderers[this._view],noDataMessage:this.noDataMessage||
"",showHeader:this._showHeader,store:this._store,query:this._query,showLoadingMessage:!1,firstLastArrows:this._pagingLinks,previousNextArrows:this._pagingLinks,rowsPerPage:this._rowsPerPage,pagingLinks:this._pagingLinks,allowSelectAll:!0,selectionMode:this._selectionMode,sort:this._sort},this.domNode);this._grid.startup()},postCreate:function(){this.inherited(arguments);this.own(this._grid.on("refresh",N.hitch(this,function(){this._grid.showFooter=this._grid._total>this._grid.rowsPerPage;this._onGridRefresh()})),
h.before(this._grid,"removeRow",N.hitch(this,function(V){V&&(V=this._grid.row(V),(V=(V.data||V).widget)&&V.destroyRecursive())})),this._grid.on(".fav-icon a:click",N.hitch(this,function(V){V.preventDefault();var aa=this._grid.row(V),ha=V.target.parentNode.parentNode.parentNode,ia=y.contains(V.target.parentNode,"fav-off");V=this._content[ia?"addToFavorites":"removeFromFavorites"](aa.data).then(N.hitch(this,function(){this._favorites[aa.data.id].id=ia?aa.data.id:!1}));q(".fav-on",ha).style({display:ia?
"":"none"});q(".fav-off",ha).style({display:ia?"none":""});setTimeout(N.hitch(this,function(){q(".fav-on",ha).style({width:ia?"200px":"24px"});q(".fav-off",ha).style({width:ia?"24px":"200px"});setTimeout(N.hitch(this,function(){q(".fav-on, .fav-off").style({width:"24px"})}),2500)}),50);V.then(N.hitch(this,function(){}))})),this._grid.on(".fav-icon a:mouseout",N.hitch(this,function(V){B.set(V.target.parentNode,{width:"24px"})})));!esri.isTouchEnabled||"gallery"!==this._view&&"details"!==this._view?
"gallery"!==this._view&&"details"!==this._view||this.own(this._grid.on(H.enterRow,N.hitch(this,function(V){if(V.relatedTarget&&!1===y.contains(V.relatedTarget,"dijitMenu")&&!1===y.contains(V.relatedTarget,"dijitReset")){var aa=this._grid.row(V),ha=q("img",aa.element)[0];clearTimeout(this._showPopupTimeout);ha&&(this._showPopupTimeout=setTimeout(N.hitch(this,function(){this._portalUser?this._isFavorite(aa.data.id).then(N.hitch(this,function(ia){this._showPopup(aa.data,ha.parentNode)})):this._showPopup(aa.data,
ha)}),400))}})),this._grid.on(H.leaveRow,N.hitch(this,function(V){V.relatedTarget&&!1===y.contains(V.relatedTarget,"dijitTooltipDialog")&&!1===y.contains(V.relatedTarget,"dijitTooltipConnector")&&(clearTimeout(this._showPopupTimeout),clearTimeout(this._closePopupTimeout),this._closePopupTimeout=setTimeout(N.hitch(this,function(){q(".fav-on, .fav-off",this.domNode).style("display","none").style("width","24px");this._closePopup()}),10))}))):this.own(this._grid.on(J.selector(".dgrid-content .dgrid-row",
J.tap),N.hitch(this,function(V){V.preventDefault();var aa=this._grid.row(V);this._portalUser?this._isFavorite(aa.data.id).then(N.hitch(this,function(ha){this._showPopup(aa.data,q("img",aa.element)[0].parentNode)})):this._showPopup(aa.data,q("img",aa.element)[0])})),this._grid.on(".dgrid-row:click",N.hitch(this,function(V){V.preventDefault();var aa=this._grid.row(V);this._portalUser?this._isFavorite(aa.data.id).then(N.hitch(this,function(ha){this._showPopup(aa.data,q("img",aa.element)[0].parentNode)})):
this._showPopup(aa.data,q("img",aa.element)[0])})))},_onGridRefresh:function(V){this.emit("onRefresh",{currentPage:this._grid._currentPage});this._pagingLinks&&(q(".dgrid-navigation",this._grid.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide"),q(".dgrid-pagination",this._grid.domNode)[0===this._grid._total?"addClass":"removeClass"]("hide"))},_getGridAttr:function(){return this._grid},_showPopup:function(V,aa){"details"===this._view?this._portalUser&&this._isFavorite(V.id).then(N.hitch(this,
function(ha){q(".fav-on",aa.parentNode).style("display",ha.id?"":"none");q(".fav-off",aa.parentNode).style("display",ha.id?"none":"")})):"gallery"===this._view&&V.id&&V.id!==this._popupId&&(this._portalUser&&this._isFavorite(V.id).then(N.hitch(this,function(ha){q(".fav-on",aa.parentNode).style("display",ha.id?"":"none");q(".fav-off",aa.parentNode).style("display",ha.id?"none":"")})),this._closePopup(),this._popupId=V.id,this._tooltip=new g({onMouseLeave:N.hitch(this,"_closePopup"),content:new (R([f,
w,v],{templateString:n.substitute(this._itemPopupTemplate,{item:V,i18n:ba.gallery},null,this)}))}),k.open({popup:this._tooltip,around:aa,orient:["after-centered","before-centered"]}),this._popupButton=new C({label:ba.gallery.open,className:"calcite btn small primary",dropDown:this._getOpenInMenu(V)}),q("#openItem").replaceWith(this._popupButton.domNode),0===this._popupButton.dropDown.getChildren().length&&this._popupButton.set("disabled",!0))},_closePopup:function(V){V&&V.relatedTarget&&(!0===y.contains(V.relatedTarget,
"dijitBackgroundIframe")||!0===y.contains(V.relatedTarget,"dijitMenu")||!0===y.contains(V.relatedTarget,"dijitReset"))||!this._tooltip||(k.close(this._tooltip),this._popupConnect&&this._popupConnect.remove(),this._popupButton&&this._popupButton.destroyRecursive(),this._tooltip.destroyRecursive(),this._popupId=this._tooltip=null)},_isFavorite:function(V){return z(this._favorites[V]||this._searchItems('(group:"'+this._portalUser.favGroupId+'" AND id:"'+V+'")').then(N.hitch(this,function(aa){this._favorites[V]=
aa.results[0]||{id:!1};return this._favorites[V]})))},_searchItems:function(V){return this._util.request({url:esriGeowConfig.restBaseUrl+"search",content:{q:V,f:"json"}})},refresh:function(){this._grid&&(this._grid.set("query",this._query,this._queryOptions),q(".dgrid-row",this._grid.domNode).attr("tabindex","0"),this.own(u(this._grid.domNode.querySelector(".dgrid-content"),"keyup",function(V){var aa=V.target;aa.classList.contains("dgrid-row")&&V.keyCode===L.ENTER&&("single"===this._grid.selectionMode&&
this._grid.clearSelection(),this._grid.select(aa))}.bind(this))))},gotoPage:function(V){this._grid.query=this._query;this._grid.queryOptions=this._queryOptions;this._grid._sort=this._queryOptions.sort;this._grid.gotoPage(V)},_formatItemTitle:function(V){return V.title||V.name||""},_formatType:function(V){return this._content.changeTypename({type:V.type,typeKeywords:V.typeKeywords},!1)||V.type},_formatLargeThumbnail:function(V){return V?"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+V+"'\x3e":
"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+this._util.getStaticImagesUrl()+"/desktopapp.png'\x3e"},_getDefaultThumbnail:function(V){var aa=this._util.getStaticImagesUrl();return"web mapping application"==V?aa+"/webapp.png":"mobile application"==V?aa+"/mobileapp.png":"workforce project"===V?aa+"/workforceproject.png":"hub initiative"===V?aa+"/hubinitiative.png":"hub page"===V?aa+"/hubpage.png":"hub site application"===V?aa+"/hubsite.png":"dashboard"===V?aa+"/opsdashboard.png":"geoprocessing service"===
V&&esriGeowConfig.self&&esriGeowConfig.self.isPortal?aa+"/webtool.png":"web scene"===V||"scene service"===V?aa+"/scene.png":"ortho mapping project"===V?aa+"/orthomappingproject.png":"ortho mapping template"===V?aa+"/orthomappingtemplate.png":aa+"/desktopapp.png"},_formatThumbnail:function(V){var aa=V.thumbnailUrl||this._getDefaultThumbnail(V.type&&V.type.toLowerCase()),ha=this._util.getHomePageGalleryLinkInfo(V),ia=-1<dojo.indexOf(V.typeKeywords,"Web AppBuilder for ArcGIS");ia=esriGeowConfig.self&&
esriGeowConfig.self.isPortal&&ia||"Application"===V.type||"Web Mapping Application"===V.type&&!ia||"Mobile Application"===V.type||"Document Link"===V.type;var ka="Application"===V.type||"Web Mapping Application"===V.type||"Mobile Application"===V.type||"Document Link"===V.type||"CityEngine Web Scene"===V.type||"Dashboard"===V.type;V='\x3ca href\x3d"'+(esri.isTouchEnabled?"#":ia?V.url||"item.html?id\x3d"+V.id:ha&&ha.href&&ha.href.replace(/"/g,"'")||"item.html?id\x3d"+V.id)+'" target\x3d"'+(ka?"_blank":
"")+'"\x3e\x3cimg class\x3d"grid-item-thumb" alt\x3d"" src\x3d"'+aa+'" /\x3e\x3c/a\x3e';aa=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom();aa=!aa||aa&&esriGeowConfig.userRole.canShareItemToGroup();ha='\x3cdiv class\x3d"gallery-img"\x3e\x3cdiv class\x3d"fav-icon"\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-on" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-on"\x3e\x3c/div\x3e\x3cp id\x3d"addString"\x3e'+ba.gallery.addFavorite+'\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-off" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-off"\x3e\x3c/div\x3e\x3cp id\x3d"remString"\x3e'+
ba.gallery.removeFavorite+"\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e"+V+"\x3c/div\x3e";return aa&&this._portalUser?ha:V},_formatItemTypeIcon:function(V){return"\x3cimg class\x3d'grid-item-icon' alt\x3d'' src\x3d'"+this._content._getItemIconUrl(V)+"'\x3e"},_formatPremiumContentIcon:function(V){var aa=V.isPremiumContent,ha=V.getTypeInfo(),ia=esriGeowConfig.self&&esriGeowConfig.self.isPortal?"portal":"";V=-1<t.indexOf(V.typeKeywords,"Requires Credits");return aa?'\x3cp class\x3d"grid-item-type" title\x3d"'+
(V?ba.common["premiumcontentcreditstitle"+ia]:ba.common["premiumcontenttitle"+ia])+"\"\x3e\x3cimg class\x3d'grid-premium-icon' alt\x3d'' src\x3d'"+ha.premiumIconUrl+"'\x3e"+(V?ba.common.premiumcontent:ba.common.subscriptioncontent)+"\x3c/p\x3e":""},_formatDate:function(V){!1===V instanceof Date&&(V=new Date(V));return V?K.format(V,"long-month-year"):""},_formatOwnerLink:function(V){return'\x3ca href\x3d"user.html?user\x3d'+V+'"\x3e'+V+"\x3c/a\x3e"},_getOpenInMenu:function(V){V=this._util.getItemOpenLinkObjects(V);
var aa;var ha=new A({autoFocus:!0,_destroyOnRemove:!0,showTitle:!1});t.forEach(V,function(ia){aa=new r({label:ia.label,onClick:function(){ia.onClick()}});ha.addChild(aa)});ha.startup();return ha},_setViewAttr:function(V){this._view=V=-1===t.indexOf(this._supportedViews,V)?this._view:V;this._grid&&(this._grid.renderRow=this._renderers[V],G(this._grid.domNode,"!table!gallery!details."+V),this._grid.set("showHeader","table"===this._view))},_setStoreAttr:function(V){this._store=V},_setQueryAttr:function(V,
aa){this._query=V||this._query;this._queryOptions=aa||this._queryOptions},_setItemsAttr:function(V){(this._store=this._store||new E(new D({data:V,identifier:"id",label:"id"})),this._store.setData)?this._store.setData(V):this._store=new E(new D({data:V}));this.set("store",this._store);this.set("view",this._view)}})})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(R,N,n){return R("dgrid.extensions.DijitRegistry",null,{minSize:0,
maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){n.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var t=n.getEnclosingWidget(this.domNode.parentNode);t&&t.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);n.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},
resize:function(t){t&&N.setMarginBox(this.domNode,t);this.inherited(arguments)},_set:function(t,u){this[t]=u},watch:function(){},getParent:function(){return n.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(R,N,n,t,u,h,f,g,k){function w(l){for(var d=
l.length,e=d,a=l[0].length,b=Array(d);d--;)b[d]=Array(a);var c={};for(d=0;d<e;d++)for(var m=b[d],p=l[d],q=0,y=0;q<a;q++){var B=p[y];if("undefined"==typeof m[q]){m[q]=B.id;if(B.rowSpan&&1<B.rowSpan){var z=b;for(var D=B.rowSpan,F=d,x=q,E=B.id,G=1;G<D;G++)z[F+G][x]=E}if(0<d&&B.colSpan&&1<B.colSpan)for(z=1;z<B.colSpan;z++)if(m[++q]=B.id,B.rowSpan&&1<B.rowSpan){D=b;F=B.rowSpan;x=d;E=q;G=B.id;for(var H=1;H<F;H++)D[x+H][E]=G}c[B.id]=l[0][q].id;y++}}return c}function v(l,d,e,a,b){if(!(0>=e)){var c=l.columns[d];
if(c){var m={grid:l,columnId:d,width:e,bubbles:!0,cancelable:!0};a&&(m.parentType=a);if(!l._resizedColumns||N.emit(l.headerNode,"dgrid-columnresize",m))return"auto"===e?delete c.width:(c.width=e,e+="px"),(a=l._columnSizes[d])?a.set("width",e):a=g.addCssRule("#"+g.escapeCssIdentifier(l.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(d,"-"),"width: "+e+";"),l._columnSizes[d]=a,!1!==b&&l.resize(),!0}}}var C,A=0,r={create:function(){C=k("div.dgrid-column-resizer")},destroy:function(){k(C,"!");C=null},
show:function(l){l=h.position(l.domNode,!0);C.style.top=l.y+"px";C.style.height=l.h+"px";k(document.body,C)},move:function(l){C.style.left=l+"px"},hide:function(){C.parentNode.removeChild(C)}};return R("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);A++||r.create()},destroy:function(){this.inherited(arguments);for(var l in this._columnSizes)this._columnSizes[l].remove();--A||r.destroy()},
resizeColumnWidth:function(l,d){return v(this,l,d)},configStructure:function(){var l=this._oldColumnSizes=t.mixin({},this._columnSizes),d;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(d in l)d in this._columnSizes||l[d].remove();delete this._oldColumnSizes},_configColumn:function(l){this.inherited(arguments);var d=l.id,e;"width"in l&&((e=this._oldColumnSizes[d])?e.set("width",l.width+"px"):e=g.addCssRule("#"+g.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(d,
"-"),"width: "+l.width+"px;"),this._columnSizes[d]=e)},renderHeader:function(){this.inherited(arguments);var l=this;if(this.columnSets&&this.columnSets.length)for(var d=this.columnSets.length;d--;)var e=t.mixin(e||{},w(this.columnSets[d]));else this.subRows&&1<this.subRows.length&&(e=w(this.subRows));d=n(".dgrid-cell",l.headerNode);for(var a=d.length;a--;){var b=d[a],c=b.columnId,m=l.columns[c],p=b.childNodes;if(m&&!1!==m.resizable){m=k("div.dgrid-resize-header-container");for(b.contents=m;0<p.length;)k(m,
p[0]);k(b,m,"div.dgrid-resize-handle.resizeNode-"+g.escapeCssIdentifier(c,"-")).columnId=e&&e[c]||c}}l.mouseMoveListen||(N(l.headerNode,".dgrid-resize-handle:mousedown"+(f("touch")?",.dgrid-resize-handle:touchstart":""),function(q){l._resizeMouseDown(q,this);l.mouseMoveListen.resume();l.mouseUpListen.resume()}),l._listeners.push(l.mouseMoveListen=N.pausable(document,"mousemove"+(f("touch")?",touchmove":""),g.throttleDelayed(function(q){l._updateResizerPosition(q)}))),l._listeners.push(l.mouseUpListen=
N.pausable(document,"mouseup"+(f("touch")?",touchend":""),function(q){l._resizeMouseUp(q);l.mouseMoveListen.pause();l.mouseUpListen.pause()})),l.mouseMoveListen.pause(),l.mouseUpListen.pause())},_resizeMouseDown:function(l,d){l.preventDefault();u.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(l);this._targetCell=n(".dgrid-column-"+g.escapeCssIdentifier(d.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(l);r.show(this)},_resizeMouseUp:function(l){var d=this._columnSizes,
e;this.adjustLastColumn&&(e=this.headerNode.clientWidth-1);if(!this._resizedColumns){var a=n(".dgrid-cell",this.headerNode);this.columnSets&&this.columnSets.length?a=a.filter(function(B){return"0"==B.columnId.split("-")[0]&&!(B.columnId in d)}):this.subRows&&1<this.subRows.length&&(a=a.filter(function(B){return"0"==B.columnId.charAt(0)&&!(B.columnId in d)}));var b=a.map(function(B){return B.offsetWidth});a.forEach(function(B,z){v(this,B.columnId,b[z],null,!1)},this);this._resizedColumns=!0}u.setSelectable(this.domNode,
!0);a=this._targetCell;var c=this._getResizeMouseLocation(l)-this._startX,m=a.offsetWidth+c,p=this._getResizedColumnWidths(),q=p.totalWidth;p=p.lastColId;var y=n(".dgrid-column-"+g.escapeCssIdentifier(p,"-"),this.headerNode)[0].offsetWidth;m<this.minWidth&&(m=this.minWidth);v(this,a.columnId,m,l.type)&&a.columnId!=p&&this.adjustLastColumn&&(q+c<e?v(this,p,"auto",l.type):y-c<=this.minWidth&&v(this,p,this.minWidth,l.type));r.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(l){if(this._targetCell){l=
this._getResizeMouseLocation(l);var d=this._targetCell.offsetWidth,e=l;d+(l-this._startX)<this.minWidth&&(e=this._startX-(d-this.minWidth));r.move(e)}},_getResizeMouseLocation:function(l){var d=0;l.pageX?d=l.pageX:l.clientX&&(d=l.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return d},_getResizedColumnWidths:function(){var l=0,d=n((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),e=d.length;if(!e)return{};for(var a=d[e-1].columnId;e--;)l+=
d[e].offsetWidth;return{totalWidth:l,lastColId:a}}})})},"arcgisonline/sharing/dijit/Rating":function(){define("dojo/_base/declare dojox/form/Rating dojo/dom-attr dojo/dom-construct dojo/string ../../pages/utils/icons dojo/i18n!../../nls/arcgisonline".split(" "),function(R,N,n,t,u,h,f){return R([N],{constructor:function(g){R.safeMixin(this,g)},postCreate:function(){this.inherited(arguments);var g=u.substitute(f.common.ratingMsg2,{stars:this.params.value});n.set(this.domNode,"aria-label",g);n.set(this.domNode,
"tabindex",0);[].slice.call(this.domNode.querySelectorAll(".dojoxRatingInput")).forEach(function(k){t.place(h["star-f"]["16"],k,"after");t.place(h.star["16"],k,"after")})},_onMouse:function(){this.get("disabled")||this.inherited(arguments)},onStarClick:function(){this.get("disabled")||this.inherited(arguments)},_setValueAttr:function(g){g=Math.round(g);this.inherited(arguments)}})})},"dojox/form/Rating":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/mouse dojo/on dojo/string dojo/query dijit/form/_FormWidget".split(" "),
function(R,N,n,t,u,h,f,g,k){return R("dojox.form.Rating",k,{templateString:null,numStars:3,value:0,buildRendering:function(w){for(var v='\x3clabel class\x3d"dojoxRatingStar dijitInline ${hidden}"\x3e\x3cspan class\x3d"dojoxRatingLabel"\x3e${value} stars\x3c/span\x3e\x3cinput type\x3d"radio" name\x3d"rating-'+Math.random().toString(36).substring(2)+'" value\x3d"${value}" dojoAttachPoint\x3d"focusNode" class\x3d"dojoxRatingInput"\x3e\x3c/label\x3e',C='\x3cdiv dojoAttachPoint\x3d"domNode" class\x3d"dojoxRating dijitInline"\x3e\x3cdiv data-dojo-attach-point\x3d"list"\x3e'+
f.substitute(v,{value:0,hidden:"dojoxRatingHidden"})+"${stars}\x3c/div\x3e\x3c/div\x3e",A="",r=0;r<this.numStars;r++)A+=f.substitute(v,{value:r+1,hidden:""});this.templateString=f.substitute(C,{stars:A});this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);this.own(h(this.list,h.selector(".dojoxRatingStar","mouseover"),N.hitch(this,"_onMouse")),h(this.list,h.selector(".dojoxRatingStar","click"),N.hitch(this,"_onClick")),h(this.list,h.selector(".dojoxRatingInput",
"change"),N.hitch(this,"onStarChange")),h(this.list,u.leave,N.hitch(this,function(){this._renderStars(this.value)})))},_onMouse:function(w){var v=+n.get(w.target.querySelector("input"),"value");this._renderStars(v,!0);this.onMouseOver(w,v)},_onClick:function(w){if("LABEL"===w.target.tagName){var v=+n.get(w.target.querySelector("input"),"value");w.target.value=v;this.onStarClick(w,v);v==this.value&&(w.preventDefault(),this.onStarChange(w))}},_renderStars:function(w,v){g(".dojoxRatingStar",this.domNode).forEach(function(C,
A){A>w?(t.remove(C,"dojoxRatingStarHover"),t.remove(C,"dojoxRatingStarChecked")):(t.remove(C,"dojoxRatingStar"+(v?"Checked":"Hover")),t.add(C,"dojoxRatingStar"+(v?"Hover":"Checked")))})},onStarChange:function(w){w=+n.get(w.target,"value");this.setAttribute("value",w==this.value?0:w);this._renderStars(this.value);this.onChange(this.value)},onStarClick:function(w,v){},onMouseOver:function(){},setAttribute:function(w,v){this.set(w,v)},_setValueAttr:function(w){this._set("value",w);this._renderStars(w);
var v=g("input[type\x3dradio]",this.domNode)[w];v&&(v.checked=!0);this.onChange(w)}})})},"arcgisonline/sharing/dijit/dialog/JoinGroupDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dijit/a11yclick dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../util ../../../pages/utils/dom dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JoinGroupDlg.html".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,
r,l){var d=N("arcgisonline.sharing.dijit.dialog.JoinGroupDlg",[k,w,v],{declaredClass:"arcgisonline.sharing.dijit.dialog.JoinGroupDlg",basePath:R.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:l,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin(r.common,r.joinGroupDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},show:function(e,a,b){this.groupId=e;this.leavingDisallowed=a;b&&(this.successHandler=b);this.leavingDisallowed&&
A.showNode(this._administrativeGroup);this._dialog.show()},hide:function(e){e&&e.preventDefault();this._dialog.hide()},_loadConnections:function(){this.own(h(this._okBtn,n.hitch(this,"_submitRequest")),h(this._cancelBtn,n.hitch(this,"hide")))},_submitRequest:function(e){e&&e.preventDefault();var a=C.request({url:esriGeowConfig.restBaseUrl+"community/groups/"+this.groupId+"/join"},{usePost:!0}).then(dojo.hitch(this,function(b,c){this.hide();this.successHandler&&this.successHandler(b,c)}),dojo.hitch(this,
function(b){if(!a.canceled){var c=b.message;b.messageCode&&"COM_1082"===b.messageCode?c=this.i18n.levelOneSharedUpdateCapabilities:-1<c.indexOf("You have already applied to join this group.")?c=this.i18n.alreadyRequested+"\x3cbr\x3e"+this.i18n.applicationConsidered:-1<c.indexOf("Unable to apply to join group:")?c=this.i18n.cannotAccept:-1<c.indexOf(" is by invitation only.")&&(c=this.i18n.byInviteOnly);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.joinGroupError,
message:c})}this.hide()}))}});d.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new d);return this._instance}};return d})},"arcgisonline/sharing/dijit/dialog/InvitationsDlg":function(){define("require esri/declare esri/Evented dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/on dojo/query dojo/string dojo/topic dijit/a11yclick dojo/promise/all dojo/store/Memory dijit/Tooltip dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../util ../../../pages/pageUtil ../../../pages/utils/date ../../../pages/utils/formatters ../../../pages/utils/icons ../Grid ./ConfirmDialog ./GeneralDlg dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/InvitationsDlg.html dojo/text!./templates/InvitationsDlgGroup.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E){var G=N("arcgisonline.sharing.dijit.dialog.InvitationsDlg",[e,a,b,n],{basePath:R.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriInvitationsDlg",widgetsInTemplate:!0,templateString:x,invitations:null,groupsUser:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=t.mixin({},F.common);t.mixin(this.i18n,F.invitationsDlg);t.mixin(this.i18n,F.invitationsGrid)},postCreate:function(){this.loadConnections()},
show:function(H,J){this.clearStore();J&&(J.username||J.email)&&(this.groupsUser=J);this.invitations=H;this.getGroupInfos();this._dialog.show()},update:function(H){this.clearStore();this.invitations=H;this.getGroupInfos();this._dialog.show()},getGroupInfos:function(){var H=c.getUser(),J=[];if(null!==H){var M=this.groupsUser&&this.groupsUser.username?this.groupsUser.username:this.groupsUser&&this.groupsUser.email?this.groupsUser.email:H.username;for(H=0;H<this.invitations.length;H++)J.push(c.request({url:esriGeowConfig.restBaseUrl+
"community/users/"+M+"/invitations/"+this.invitations[H].groupId}));C(J).then(function(K){u.forEach(K,function(U,ba){this.invitations[ba].fromUsername=U.fromUsername.username;this.invitations[ba].fromUserFullname=U.fromUsername.fullname;this.invitations[ba].groupTitle=U.group.title;this.invitations[ba].groupOwner=U.group.owner;this.invitations[ba].groupIsPrivate="private"===U.group.access;this.invitations[ba].groupAccess=U.group.access;this.invitations[ba].groupDescription=U.group.description;this.invitations[ba].groupThumbnail=
U.group.thumbnail;this.invitations[ba].leavingDisallowed=U.group.leavingDisallowed;this.groupsUser&&(this.invitations[ba].asUser=M)}.bind(this));var L=this._invitationsGrid._grid.store;u.forEach(this.invitations,function(U){L.put(U)}.bind(this));this.refresh()}.bind(this))}},loadConnections:function(){this.own(g(".jevent").on("click",function(H){H&&H instanceof Event&&H.preventDefault()}),f(this._closeBtn,"click",function(){this._dialog.hide()}.bind(this)),w.subscribe("onInvitationAccept",this.onInvitationAccept.bind(this)),
w.subscribe("onInvitationDecline",this.onInvitationDecline.bind(this)))},createGrid:function(){this._invitationsGrid=new B({id:"invitationsGrid",columns:this.getInvitationGridColumns(),noDataMessage:this.i18n.noGroupInvites,showLoadingMessage:!1,showHeader:!1,showFooter:!1,selectionMode:"none",rowsPerPage:5,className:"invitations-grid",store:new A({idProperty:"id",label:"groupTitle",data:[]}),sort:[{attribute:"received",descending:!1}]},this._invitationsGridContainer);this._invitationsGrid.startup()},
clearStore:function(){this._invitationsGrid||this.createGrid();var H=this._invitationsGrid&&this._invitationsGrid._grid&&this._invitationsGrid._grid.store||void 0;H&&u.forEach(t.clone(H.query()),function(J){H.remove(J.id)})},getInvitationGridColumns:function(){return{groupTitle:{label:this.i18n.groupName,sortable:!1,renderCell:function(H){var J=!1;this.groupsUser&&(this.groupsUser.privileges&&-1<this.groupsUser.privileges.indexOf("portal:admin:viewGroups")?J=!0:this.groupsUser.privileges&&-1<this.groupsUser.privileges.indexOf("portal:user:viewOrgGroups")&&
"private"!==H.groupAccess?J=!0:"public"===H.groupAccess&&(J=!0));var M=H.groupThumbnail?esriGeowConfig.restBaseUrl+"community/groups/"+H.groupId+"/info/"+H.groupThumbnail+"?token\x3d"+c.getToken():"",K=p.format(new Date(H.received),"long-date");K=k.substitute(F.GroupWidget.invitedEventDescription,{fullName:H.fromUserFullname,fullDate:K});J={i18n:F,icons:y,id:H.groupId,title:H.groupTitle,thumbnail:H.groupThumbnail,thumbnailUrl:M,notificationSummary:K,fillColor:"#"+H.groupId.substr(H.groupId.length-
6),useLetter:H.groupTitle.charAt(0)&&H.groupTitle.charAt(0).match(/^\w+$/),isPrivate:!J};J=h.toDom(k.substitute(E,J,null,{hide:q.hide,show:q.show,firstChar:q.firstChar,stripHTML:q.stripHTML}));M=g(".js-accept-invitation",J).shift();K=g(".js-decline-invitation",J).shift();var L=H.asUser?H.asUser:null,U=H.leavingDisallowed?this.confirmLeavingDisallowed.bind(this,H,L):this.acceptInvitation.bind(this,H,L);H=this.declineInvitation.bind(this,H,L);this.own(v(M,U),v(K,H));return J}.bind(this)}}},confirmLeavingDisallowed:function(H,
J){var M=F.invitationsDlg.leavingDisabled,K=m.createSpecifiedDialog(z,{"class":"general-dialog",title:F.invitationsDlg.joinGroup,buttonOkLabel:F.invitationsDlg.joinGroup,style:{height:"auto"}});K.setContent(M);K.show().then(function(L){"onOk"===L&&(this.acceptInvitation(H,J),K.hide())}.bind(this))},acceptInvitation:function(H,J){var M=c.getUser(),K=this._invitationsGrid._grid.store,L=H.groupId;M&&c.request({url:esriGeowConfig.restBaseUrl+"community/users/"+(J?J:M.username)+"/invitations/"+L+"/accept",
content:{}},{usePost:!0}).then(function(U){K.remove(H.id);w.publish("onInvitationAccept",{})}.bind(this),function(U){var ba=c.getUser();ba=ba&&ba.orgId?this.i18n.acceptFailure:this.i18n.acceptFailurePublic;"COM_1050"===U.messageCode?ba=this.i18n.privilegeError:"ORG_3103"===U.messageCode&&(ba=this.i18n.maxExternalOrgs);m.createSpecifiedDialog(D).show({title:this.i18n.errorTitle,message:ba})}.bind(this))},declineInvitation:function(H,J){var M=c.getUser(),K=H.groupId,L=this._invitationsGrid._grid.store;
M&&c.request({url:esriGeowConfig.restBaseUrl+"community/users/"+(J?J:M.username)+"/invitations/"+K+"/decline"},{usePost:!0}).then(function(){L.remove(H.id);w.publish("onInvitationDecline",{})}.bind(this))},onInvitationAccept:function(){0===this._invitationsGrid._grid.store.query().length?this.hide():this.refresh()},onInvitationDecline:function(){0===this._invitationsGrid._grid.store.query().length?this.hide():this.refresh()},hide:function(){this._dialog.hide()},refresh:function(){if(this._invitationsGrid._grid&&
this._invitationsGrid._grid._started){var H=this._invitationsGrid._grid._currentPage||1,J=this._invitationsGrid._grid.store?this._invitationsGrid._grid.store.query().length:0;f.once(this._invitationsGrid._grid,"dgrid-refresh-complete",function(M){M.grid._currentPage!==H&&0<J&&M.grid.gotoPage(H)});this._invitationsGrid._grid.resize();this._invitationsGrid._grid.refresh()}}});G.prototype.statics={getInstance:function(){this._instance||(this._instance=new G);return this._instance}};return G})},"arcgisonline/pages/group/widgets/CreateGroup/Membership":function(){define("require exports tslib esri/Evented dojo/Deferred dojo/on dojo/promise/all dojo/topic dojo/text!./templates/Membership.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/SelectOptions arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/group/widgets/HideMembers arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg arcgisonline/pages/dijit/_CheckReadonlyMixin arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);return function(){function B(z,D){this.templateString=k["default"];this.i18n=n.__assign(n.__assign(n.__assign({},w["default"].common),w["default"].GroupWidget),w["default"].createGroupOverlay);this.hasTrustedOrgs=this.isEditing=!1;this.defaultMemberAccess="org";this.enterpriseGroupType="";this.loaded=this.supportsEnterpriseGroups=!1;this.currentAccess="";this.lastJoinValue="invitation";this.isArabic=this.isSharedOwnership=this.leavingDisallowed=!1}B.prototype.postMixInProperties=
function(){this.inherited(arguments);this.isArabic="ar"===document.documentElement.lang};B.prototype.postCreate=function(){this.inherited(arguments);this.render()};B.prototype.getValues=function(){var z,D,F=this.joinOptions.value(),x=this.contributeOptions.value(),E=this.membersOptions.value(),G=this.portal.isPortal||!this.portal.id?"":null===(z=this.membershipOptions)||void 0===z?void 0:z.value();z=this.isPublicUser?"public":null===(D=this.viewOptions)||void 0===D?void 0:D.value();return{autoJoin:"autoJoin"===
F,useEnterpriseGroup:"enterprise"===F,isInvitationOnly:"invitation"===F,isViewOnly:"orgManagers"===x||"owners"===x,contribute:x,enterpriseGroup:"enterprise"===F?this.enterpriseGroupInput.getValue().trim():"",hiddenMembers:"ownerAndManagers"===E,access:z,privacy:z,membershipAccess:"anyOrg"===G?"":G}};B.prototype.validate=function(){var z="enterprise"!==this.joinOptions.value()||this.enterpriseGroupInput.validate();z||(this.enterpriseGroupInput.domNode.scrollIntoView({behavior:"smooth"}),this.enterpriseGroupInput.focus());
return z};B.prototype.disableOptionsByDesignations=function(z){var D=this,F,x,E=z.leavingDisallowed,G=z.isSharedOwnership,H="enterprise"===((null===(F=this.joinOptions)||void 0===F?void 0:F.value())||"");this.leavingDisallowed=E;this.isSharedOwnership=G;null===(x=this.membershipOptions)||void 0===x?void 0:x.selectOptions.forEach(function(J){"anyOrg"===J.value&&(E||G||H)?J.disable():"collaboration"===J.value&&(E||H)?J.disable():D.group&&!D.group.isGroupOwnerOrgMember()&&"org"===J.value?J.disable():
J.enable()});this.disableJoinOptionsByDesignations()};B.prototype.disableMembershipOptions=function(z){var D;null===(D=this.membershipOptions)||void 0===D?void 0:D.selectOptions.forEach(function(F){-1<z.indexOf(F.value)&&F.disable()})};B.prototype.disableJoinOptionsByDesignations=function(){var z=this,D,F,x=(null===(D=this.group)||void 0===D?void 0:D.membershipAccess)||(null===(F=this.membershipOptions)||void 0===F?void 0:F.value())||"org";this.joinOptions.selectOptions.forEach(function(E){"autoJoin"===
E.value&&(z.leavingDisallowed||z.isSharedOwnership)?E.disable():"enterprise"!==E.value||!z.leavingDisallowed&&"org"===x?E.enable():E.disable()})};B.prototype.disableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(z){"autoJoin"===z.value&&z.disable()})};B.prototype.enableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(z){"autoJoin"===z.value&&z.enable()})};B.prototype.disableOptions=function(){var z,D,F,x,E;null===(z=this.membershipOptions)||void 0===z?void 0:
z.disable();null===(D=this.joinOptions)||void 0===D?void 0:D.disable();null===(F=this.viewOptions)||void 0===F?void 0:F.disable();null===(x=this.contributeOptions)||void 0===x?void 0:x.disable();null===(E=this.membersOptions)||void 0===E?void 0:E.disable()};B.prototype.enableMembershipOptions=function(){var z;null===(z=this.membershipOptions)||void 0===z?void 0:z.enable()};B.prototype.handleHideMembersClick=function(){var z=this;if(!this.checkReadonly(this.portal)){var D=new a["default"]({onConfirm:function(){z.page._updateGroup({hiddenMembers:!0}).then(function(F){D.close();
z.viewMembersValue.textContent=z.i18n.onlyGroupManagers;d["default"].hideNode(z.hideMembersBtn);z.group.hiddenMembers=!0;l["default"].showAlert("success",z.i18n.settingsSuccess.hideMembers)},function(F){D.close();g["default"].publish("group-settings/error",F)})}});D.open()}};B.prototype.render=function(){var z=this;this.contributeOptions=this.createRadioGroup(this.getContributeOptions(),".js-contribute-options");this.membersOptions=this.createRadioGroup(this.getDisplayOptions(),".js-display-options");
this.group&&d["default"].hideNode(this.hideMembersTooltip);this.group&&this.contributeOptions.select(this.group.isViewOnly?"owners":"members");this.own(this.contributeOptions.on("change",function(F){z.group&&g["default"].publish("group/update",{successMessage:z.i18n.settingsSuccess.contribute,params:{isViewOnly:"owners"===F}})}),this.membersOptions.on("change",function(F){z.renderJoinOptions()}));this.group&&(d["default"].hideNode(this.membersOptions.domNode),this.group.hiddenMembers||!this.group.hiddenMembers&&
this.isAdmin&&this.group.isOwner&&!this.group.isBackedByEnterpriseGroup)&&(this.viewMembersValue.textContent=this.group.hiddenMembers?this.i18n.onlyGroupManagers:this.i18n.groupViewers,d["default"].showHide(this.hideMembersBtn,!this.group.hiddenMembers),this.own(h["default"](this.hideMembersBtn,"click",function(){return z.handleHideMembersClick()})),d["default"].showNode(this.editViewMembersSection));!this.portal.isPortal&&this.portal.id&&(this.membershipOptions=this.createRadioGroup(this.getMemberOptions(),
".js-member-options"),this.own(this.membershipOptions.on("change",function(F){var x=z.portalUser.userRole,E=new u["default"];z.group&&"org"===F&&!x.canAddExternalMembersToGroup()?z.confirmIrreversible().then(function(G){"onOk"===G?E.resolve(!0):(z.membershipOptions.select("anyOrg"),E.resolve(!1))}):E.resolve(!0);E.then(function(G){G&&(z.checkEnterpriseOptionState(F),z.emit("membership/change",F),G={membershipAccess:"anyOrg"===F?"":F},G.membershipAccess||(G.clearEmptyFields=!0),g["default"].publish("group/update",
{successMessage:z.i18n.settingsSuccess.allowedMembership,params:G,errorCallback:function(){z.checkEnterpriseOptionState(z.membershipOptions.previousValue);z.membershipOptions.revert()}}))})})));this.renderViewOptions();d["default"].showHide(this.membersSection,this.isAdmin&&(!this.group||this.group.isOwner&&!this.group.isBackedByEnterpriseGroup));d["default"].showHide(this.membershipSection,!this.portal.isPortal&&!!this.portal.id);var D=this.portalUser.userRole;D=(!this.group||this.group.isGroupOwnerOrgMember())&&
!this.isPublicUser&&(this.isAdmin||D.isCustom()&&D.canManageEnterpriseGroups());this.getEnterpriseInfo(D).then(function(){z.renderJoinOptions();z.checkMembershipOptionState(z.joinOptions.value());z.emit("loaded");z.loaded=!0})};B.prototype.checkEnterpriseOptionState=function(z){var D=this;this.joinOptions&&this.joinOptions.selectOptions.forEach(function(F){"enterprise"===F.value&&(D.leavingDisallowed||"org"!==z?F.disable():F.enable())})};B.prototype.checkMembershipOptionState=function(z){var D=this;
this.membershipOptions&&this.membershipOptions.selectOptions.forEach(function(F){var x="anyOrg"===F.value&&(D.leavingDisallowed||D.isSharedOwnership),E="collaboration"===F.value&&D.leavingDisallowed;"org"!==F.value&&"enterprise"===z||x||E?F.disable():"org"===F.value&&D.group&&!D.group.isGroupOwnerOrgMember()?F.disable():F.enable()})};B.prototype.renderViewOptions=function(){var z=this;if(this.isPublicUser)d["default"].hideNode(this.domNode.querySelector(".js-view-section"));else{var D="public";this.group?
D=this.group.access:this.isPublicUser||(this.canSharePublic||(D="org"),this.canShareToOrg||(D="private"));this.viewOptions=this.createRadioGroup(this.getViewOptions(),".js-view-options");this.viewOptions.select(D);this.viewOptions.selectOptions.forEach(function(F){z.canSharePublic||"public"!==F.value?z.canShareToOrg||"org"!==F.value||F.disable():F.disable()});this.currentAccess=D;this.own(this.viewOptions.on("change",function(){var F=z.viewOptions.value();if(z.currentAccess!==F){var x=new u["default"];
if(z.group){if(b["default"].groupUsedInOrgSettings(z.group.id)&&"private"===F){l["default"].showAlert("error",z.portal.isPortal?z.i18n.error.usedInPortalSettings:z.i18n.error.usedInOrgSettings);z.viewOptions.select(z.currentAccess);return}var E=z.portalUser.userRole;"public"===z.group.access&&(!E.canShareGroupToPublic()||!z.isAdmin&&!z.portal.canSharePublic)||"org"===z.group.access&&!E.canShareGroupToOrg()?z.confirmIrreversible().then(function(G){"onOk"===G?x.resolve(!0):(z.viewOptions.select(z.currentAccess),
x.resolve(!1))}):x.resolve(!0)}else x.resolve(!0);x.then(function(G){G&&(z.group&&g["default"].publish("group/update",{successMessage:z.i18n.settingsSuccess.view,params:{access:F}}),g["default"].publish("group-access/change",F),"private"!==z.currentAccess&&"private"!==F||z.renderJoinOptions(),z.currentAccess=F)})}}))}};B.prototype.renderJoinOptions=function(){var z=this,D;this.joinOptions&&(this.joinOptions.domNode.insertAdjacentHTML("afterend",'\x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e'),
this.searchEnterpriseBtn.insertAdjacentHTML("beforebegin",'\x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e'),this.joinOptions.destroy());this.joinOptions=this.createRadioGroup(this.getJoinOptions(),".js-join-options");var F=(null===(D=this.enterpriseGroupInput)||void 0===D?void 0:D.getValue())||"";this.enterpriseGroupInput=new e["default"]({labelText:this.i18n.joinOptions.enterpriseLabel,placeholder:this.i18n.joinOptions.enterprisePlaceholder,requiredMsg:this.i18n.enterpriseGroups.missingEnterpriseGroupName,
baseClass:"trailer-0"},this.enterpriseInputContainer.querySelector(".js-enterprise-group-input"));F&&this.enterpriseGroupInput.setValue(F);this.group&&(this.group.provider&&this.group.providerGroupName?(this.enterpriseGroupInput.setValue(this.group.providerGroupName),this.joinOptions.select("enterprise")):this.group.isInvitationOnly?this.joinOptions.select("invitation"):this.group.autoJoin?this.joinOptions.select("autoJoin"):this.joinOptions.select("request"));this.supportsEnterpriseGroups&&(this.group?
(this.enterpriseInputContainer.className="hide position-relative",this.enterpriseInputContainer.querySelector(".js-group-name-wrapper").classList.add("enterprise-group-name-wrapper"),d["default"].showNode(this.enterpriseButtons),this.group.provider&&this.group.providerGroupName&&(d["default"].showNode(this.enterpriseInputContainer),d["default"].hideNode(this.cancelEnterpriseBtn))):this.enterpriseInputContainer.className="hide leader-quarter margin-left-2 margin-right-3 trailer-half",this.joinOptions.selectOptions.forEach(function(x){"enterprise"===
x.value&&x.domNode.insertAdjacentElement("afterend",z.enterpriseInputContainer)}));this.joinOptions.value()||(this.joinOptions.select("invitation"),this.lastJoinValue="invitation");"enterprise"===this.joinOptions.value()&&d["default"].showNode(this.enterpriseInputContainer);this.disableJoinOptionsByDesignations();this.own(this.joinOptions.on("change",function(x){"enterprise"!==x&&g["default"].publish("group/update",{successMessage:z.i18n.settingsSuccess.join,params:{isInvitationOnly:"invitation"===
x,autoJoin:"autoJoin"===x,provider:"enterprise"===x?"enterprise":"",providerGroupName:"enterprise"===x?z.enterpriseGroupInput.getValue():"",clearEmptyFields:!0}});z.lastJoinValue=x;z.publishJoinChange()}),h["default"](this.cancelEnterpriseBtn,"click",function(){z.joinOptions.select(z.joinOptions.previousValue);z.publishJoinChange()}),h["default"](this.saveEnterpriseBtn,"click",function(){z.validate()&&g["default"].publish("group/update",{successMessage:z.i18n.settingsSuccess.join,params:{isInvitationOnly:!1,
autoJoin:!1,provider:"enterprise",providerGroupName:z.enterpriseGroupInput.getValue(),clearEmptyFields:!0}})}))};B.prototype.publishJoinChange=function(){var z=this.joinOptions.value();g["default"].publish("group-join/change",z);this.enterpriseGroupInput.clearError();"request"===z?(this.joinDesc.textContent=this.i18n.joinOptions["requestDesc"+(this.isPublicUser?"Public":"")],d["default"].showNode(this.joinDesc)):d["default"].hideNode(this.joinDesc);"enterprise"===z?(d["default"].showNode(this.enterpriseInputContainer),
d["default"].showNode(this.cancelEnterpriseBtn),this.membersOptions.selectOptions.forEach(function(D){"ownerAndManagers"===D.value&&D.disable()})):(d["default"].hideNode(this.enterpriseInputContainer),this.membersOptions.enable());this.checkMembershipOptionState(z)};B.prototype.getEnterpriseInfo=function(z){var D=new u["default"];z?this.portal.isPortal?this.checkEnterprisePortal().then(function(){D.resolve()}):this.checkEnterprise().then(function(){D.resolve()}):(this.enterpriseGroupType=void 0,this.supportsEnterpriseGroups=
!1,D.resolve());return D};B.prototype.checkEnterprisePortal=function(){var z=this,D=new u["default"];f["default"]({enterpriseGroupConfig:r["default"].checkEnterpriseGroupStore(),idpConfig:r["default"].fetchIDPConfig()}).then(function(F){var x=F.enterpriseGroupConfig;F=F.idpConfig;(null===x||void 0===x?0:x.supportsEnterpriseGroups)?(F=x.supportsEnterpriseGroups,z.enterpriseGroupType=x.storeType,z.supportsEnterpriseGroups=F):(null===F||void 0===F?0:F.updateGroupsAtSignin)?(z.enterpriseGroupType="saml",
z.supportsEnterpriseGroups=F.updateGroupsAtSignin):(z.enterpriseGroupType=void 0,z.supportsEnterpriseGroups=!1);"saml"!==z.enterpriseGroupType&&(d["default"].showNode(z.searchEnterpriseBtn),z.own(h["default"](z.searchEnterpriseBtn,"click",function(){r["default"].createSpecifiedDialog(m["default"],{},z.searchEnterpriseBtn).show(z.enterpriseGroupInput.getValue())}),g["default"].subscribe("enterprise-group-selected",function(E){z.enterpriseGroupInput.setValue(E.rolename)})));D.resolve()},function(){z.enterpriseGroupType=
void 0;z.supportsEnterpriseGroups=!1;D.resolve()});return D};B.prototype.checkEnterprise=function(){var z=this,D=new u["default"];b["default"].request({url:b["default"].getSecureUrl(y["default"].restBaseUrl)+"portals/self/idp"}).then(function(F){z.enterpriseGroupType="saml";z.supportsEnterpriseGroups=null===F||void 0===F?void 0:F.updateGroupsAtSignin;D.resolve()},function(){z.enterpriseGroupType=void 0;z.supportsEnterpriseGroups=!1;D.resolve()});return D};B.prototype.getMemberOptions=function(){var z,
D,F=this.i18n.memberOptions,x=F.collab,E=F.external;return n.__spreadArray(n.__spreadArray([{inputId:"can-be-members-org",name:"can-be-members",text:F.org,value:"org",selected:this.group?"org"===this.group.membershipAccess:"org"===this.defaultMemberAccess}],!this.portal.isPortal&&this.portal.canHavePartnerCollab()&&this.hasTrustedOrgs?[{inputId:"can-be-members-collaboration",name:"can-be-members",text:x,value:"collaboration",selected:"collaboration"===this.defaultMemberAccess||"collaboration"===(null===
(z=this.group)||void 0===z?void 0:z.membershipAccess)}]:[]),[{inputId:"can-be-members-anyOrg",name:"can-be-members",text:E,value:"anyOrg",selected:""===(null===(D=this.group)||void 0===D?void 0:D.membershipAccess)||this.group&&!this.group.membershipAccess}])};B.prototype.getViewOptions=function(){var z=this.i18n.viewOptions;return[{inputId:"can-view-group-private",name:"can-view-group",text:z.groupMembers,value:"private",selected:!0},{inputId:"can-view-group-org",name:"can-view-group",text:z.orgMembers,
value:"org"},{inputId:"can-view-group-public",name:"can-view-group",text:z.everyone,value:"public"}]};B.prototype.getJoinOptions=function(){var z,D,F=this.i18n.joinOptions,x=F.request,E=F.invitation;F=F.add;var G=this.supportsEnterpriseGroups&&this.i18n.joinOptions[this.enterpriseGroupType+"Enterprise"],H=null===(z=this.viewOptions)||void 0===z?void 0:z.value();z="ownerAndManagers"===(null===(D=this.membersOptions)||void 0===D?void 0:D.value());return n.__spreadArray(n.__spreadArray(n.__spreadArray([{inputId:"join-group-by-invitation",
name:"join-group-by",text:E,value:"invitation",selected:"invitation"===this.lastJoinValue}],"private"!==H?[{inputId:"join-group-by-request",name:"join-group-by",text:x,value:"request",selected:"request"===this.lastJoinValue}]:[]),this.supportsEnterpriseGroups&&!z?[{inputId:"join-group-by-enterprise",name:"join-group-by",text:G,value:"enterprise",selected:"enterprise"===this.lastJoinValue}]:[]),this.isPublicUser||"private"===H?[]:[{inputId:"join-group-by-autoJoin",name:"join-group-by",text:F,value:"autoJoin",
selected:"autoJoin"===this.lastJoinValue}])};B.prototype.getContributeOptions=function(){var z=this.i18n,D=z.ownerAndManagers,F=z.ownerOnly;return[{inputId:"contribute-by-members",name:"contribute-by",text:z.allMembers,value:"members",selected:!0},{inputId:"contribute-by-owners",name:"contribute-by",text:this.isPublicUser?F:D,value:"owners"}]};B.prototype.getDisplayOptions=function(){var z=this.i18n;return[{inputId:"display-members-to-members",name:"display-members-to",text:z.groupViewers,value:"allMembers",
selected:!0},{inputId:"display-members-to-owner",name:"display-members-to",text:z.ownerAndManagers,value:"ownerAndManagers"}]};B.prototype.createRadioGroup=function(z,D){return new A["default"]({options:z,rounded:!0,vertical:!0},this.domNode.querySelector(D))};B.prototype.confirmIrreversible=function(){new u["default"];var z=new c["default"]({"class":"confirmDlg-default"});return z.show({title:this.i18n.notice,message:this.i18n.changeSettingIrreversible}).then(function(D){"onOk"===D&&z.hide();return D})};
return B=n.__decorate([q["default"](C["default"],v["default"],p["default"],t["default"])],B)}()})},"arcgisonline/pages/dijit/SelectOptions":function(){define("require exports tslib esri/Evented dojo/on dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid arcgisonline/pages/utils/dom ./SelectOption/SelectOption arcgisonline/tsutils/declareDecorator".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString='\x3cdiv class\x3d"select-options flex"\x3e\x3c/div\x3e';this.i18n=h["default"];this.id=null;this.vertical=this.rounded=!1;this.previousValue=""}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.id=this.id||k["default"]()};A.prototype.postCreate=function(){this.inherited(arguments);this.render()};
A.prototype.value=function(){return this.selectedValue};A.prototype.select=function(r){this.handleSelect(r,!0)};A.prototype.revert=function(){this.handleSelect(this.previousValue,!0)};A.prototype.disable=function(){this.selectOptions.forEach(function(r){r.disable()})};A.prototype.enable=function(){this.selectOptions.forEach(function(r){r.enable()})};A.prototype.render=function(){var r=this;this.vertical&&this.domNode.classList.add("select-options--vertical");this.selectOptions=this.options.map(function(l){var d=
new v["default"](n.__assign(n.__assign(n.__assign(n.__assign({},l),r.optionsClass&&{baseClass:r.optionsClass}),r.optionsLabelClass&&{labelClass:r.optionsLabelClass}),{vertical:r.vertical}));l.selected&&(r.selectedValue=l.value);r.own(u["default"](d,"select",r.handleSelect.bind(r)));return d});w["default"].appendChildren(this.selectOptions.map(function(l){return l.domNode}),this.domNode);this.rounded&&(this.domNode.classList.add("radio-group--rounded"),this.selectOptions.forEach(function(l){l.domNode.classList.add("margin-right-half")}))};
A.prototype.handleSelect=function(r,l){this.selectOptions.forEach(function(d){d.value!==r?d.deselect():d.select()});this.previousValue=this.selectedValue;this.selectedValue=r;l||this.emit("change",this.selectedValue)};return A=n.__decorate([C["default"](g["default"],f["default"],t["default"])],A)}()})},"arcgisonline/pages/dijit/SelectOption/SelectOption":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./SelectOption.html dojo/text!./SelectOptionRadio.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString=h["default"];this.labelClass="";this.vertical=!1;this.inputId=""}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.vertical&&(this.templateString=f["default"])};A.prototype.postCreate=
function(){this.inherited(arguments);this.render()};A.prototype.deselect=function(){this.selected=!1;this.radio.checked=!1;this.radio.removeAttribute("checked");this.domNode.classList.remove("select-option__radio-label--selected")};A.prototype.select=function(){this.selected=!0;this.radio.checked=!0;this.domNode.classList.add("select-option__radio-label--selected")};A.prototype.disable=function(){this.domNode.classList.add("select-option--disabled");this.radio.disabled=!0};A.prototype.enable=function(){this.domNode.classList.remove("select-option--disabled");
this.radio.disabled=!1};A.prototype.render=function(){this.selected&&this.select();this.icon&&(this.iconContainer.innerHTML=w["default"][this.icon]["24"],v["default"].showNode(this.iconContainer));this.inputId&&(this.radio.id=this.inputId,this.selectLabel.setAttribute("for",this.radio.id));this.addEventListeners()};A.prototype.addEventListeners=function(){this.own(u["default"](this.vertical?this.radio:this.selectLabel,"click",this.handleClick.bind(this)))};A.prototype.handleClick=function(r){this.vertical&&
this.domNode.classList.add("select-option__radio-label--selected");this.emit("select",this.value)};return A=n.__decorate([C["default"](k["default"],g["default"],t["default"])],A)}()})},"arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./TextboxWithValidation.html dojo/text!./UrlTextbox.html dojox/uuid/generateRandomUuid dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/utils/formatters arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d,e){this.type="text";this.labelClass=this.placeholder="";this.isValid=!0;this.inputId=this.labelDescription=this.labelText="";this.hide=A["default"].hide}l.prototype.postMixInProperties=
function(){this.inherited(arguments);this.uid=g["default"]();this.templateString="url"===this.type?f["default"]:h["default"]};l.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};l.prototype.validate=function(){if(!this.requiredMsg)return!0;var d=this.input.value.trim();if("string"===typeof this.requiredMsg){var e=this.requiredMsg;d=!!d}else e=this.requiredMsg(d),d=!e;d?C["default"].clearState([this.input,this.errorMsg]):C["default"].setInvalidState(this.input,
this.errorMsg,e);return this.isValid=d};l.prototype.clearError=function(){this.isValid=!0;C["default"].clearState([this.input,this.errorMsg])};l.prototype.showError=function(d){this.isValid=!1;C["default"].setInvalidState(this.input,this.errorMsg,d)};l.prototype.hideError=function(){this.isValid=!0;C["default"].clearState([this.input,this.errorMsg])};l.prototype.getValue=function(){var d=this.input.value.trim();return"url"===this.type&&(null===d||void 0===d?0:d.length)&&-1===(null===d||void 0===d?
void 0:d.indexOf("https://"))?"https://"+d:d};l.prototype.setValue=function(d){d=null!==d&&void 0!==d?d:"";"url"===this.type&&-1<d.indexOf("https://")&&(d=d.replace("https://",""));this.input.value=d};l.prototype.focus=function(){this.input.focus()};l.prototype.render=function(){if("textarea"===this.type){var d=this.domNode.querySelector(".js-textarea");this.rows&&(d.rows=this.rows);this.input=d}else this.input=this.domNode.querySelector(".js-text-input");this.placeholder&&(this.input.placeholder=
this.placeholder);v["default"].showNode(this.input);this.maxLength&&(this.input.maxLength=this.maxLength);this.input.id=this.inputId||this.uid;this.domNode.setAttribute("for",this.input.id)};l.prototype.addEventListeners=function(){this.own(u["default"](this.input,"input",this.handleInput.bind(this)))};l.prototype.handleInput=function(d){this.validate();this.emit("input")};return l=n.__decorate([r["default"](w["default"],k["default"],t["default"])],l)}()})},"arcgisonline/pages/group/widgets/HideMembers":function(){define("require exports tslib dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../../dijit/Overlay ../../../tsutils/declareDecorator dojo/text!./templates/HideMembers.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);return function(){function C(A,r){this.title=w["default"].GroupWidget.hideMembersDlg.title;this.primaryBtnText=w["default"].GroupWidget.hideMembersDlg.hide;this.i18n=w["default"];this.icons=v["default"];this.constrain=!0;this.overlayContents=t["default"].substitute(k["default"],{i18n:w["default"],
icons:v["default"]});this.maxWidth=500;this.background="white"}C.prototype.handlePrimary=function(){this.onConfirm()};C.prototype.open=function(){this.inherited(arguments)};C.prototype.close=function(){this.inherited(arguments)};return C=n.__decorate([g["default"](h["default"],u["default"],f["default"])],C)}()})},"arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/event dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/keys dojo/topic dojo/store/Memory esri/lang esri/request arcgisonline/sharing/util arcgisonline/sharing/dijit/Grid arcgisonline/esriGeowConfig dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Button dijit/form/TextBox dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y){var B=N("arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",[a,b,c],{declaredClass:"arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",basePath:R.toUrl("esri/arcgisonline/sharing/dijit/dialog"),baseClass:"esriSelectEnterpriseGroupDlg",widgetsInTemplate:!0,templateString:y,rowsPerPage:10,_maxGroups:1E3,_searchEnterpriseGroupsAPI:"/security/groups/searchEnterpriseGroups",postMixInProperties:function(){this.inherited(arguments);
this.i18n={};n.mixin(this.i18n,q.common);n.mixin(this.i18n,q.selectEnterpriseGroupDlg)},postCreate:function(){this.inherited(arguments);this._portalAdminUrl=l.getPortalAdminBaseUrl()},startup:function(){this.inherited(arguments)},show:function(z){this._clear();this._initSearch(z);this._dialog.show();this._groupsGrid&&this._groupsGrid._started&&(this._groupsGrid._grid.resize(),this._groupsGrid._grid.refresh());this.onSearch()},onSearchKeyDown:function(z){z.keyCode==w.ENTER&&(u.stop(z),this.onSearch())},
onSearch:function(z){z&&z.preventDefault();this._clearGroupsGrid();this._groupsGrid.refresh();this._setSearchingMessage(this.i18n.searching);(z=this._search.get("value"))&&""!==z?this._searchEnterpriseGroups(z).then(n.hitch(this,function(D){if(D&&D.groups&&0<D.groups.length){var F=this._groupsGrid.get("store"),x;for(x=0;x<D.groups.length;x++)F.put(D.groups[x])}this._groupsGrid.refresh()}),n.hitch(this,function(D){this._groupsGrid.refresh()})):this._defaultGroupsQuery()},onGoToPageKeyDown:function(z){z.keyCode==
w.ENTER&&(u.stop(z),this.onGoToPage())},onGoToPage:function(){var z=this._goTo.get("value"),D=Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage);try{z=parseInt(z),z<=D?this._groupsGrid._grid.gotoPage(z).then(n.hitch(this,function(){this._goTo.set("value","")})):this._goTo.set("value","")}catch(F){this._goTo.set("value","")}},onCancel:function(){this._dialog.hide()},onOk:function(){v.publish("enterprise-group-selected",this._selectedGroup);this._dialog.hide()},_setSearchingMessage:function(z){if(this._groupsGrid){var D=
this._groupsGrid.domNode.querySelector(".dgrid-no-data");D&&(D.textContent=z)}},_searchEnterpriseGroups:function(z,D){var F=l.formatPortalOrgUrl(this._portalAdminUrl,this._searchEnterpriseGroupsAPI,(e.portal||{}).id),x={maxCount:A.isDefined(D)?D:this._maxGroups};A.isDefined(z)&&0<z.length&&(x.filter=z);return l.request({url:F,content:x})},_defaultGroupsQuery:function(){this._clearGroupsGrid();this._searchEnterpriseGroups().then(n.hitch(this,function(z){if(z&&z.groups&&0<z.groups.length){var D=this._groupsGrid.get("store"),
F;for(F=0;F<z.groups.length;F++)D.put(z.groups[F])}this._groupsGrid.refresh()}),n.hitch(this,function(z){this._groupsGrid.refresh()}))},_groupsGridColumns:function(){return{rolename:{label:" "+this.i18n.groupNameCol,sortable:!1,formatter:n.hitch(this,function(z){return'\x3cspan class\x3d"esriContentTypeName"\x3e'+z+"\x3c/span\x3e"})},description:{label:" "+this.i18n.descCol,sortable:!1,formatter:n.hitch(this,function(z){z=A.isDefined(z)?z:"";return'\x3cspan class\x3d"esriContentTypeName"\x3e'+z+"\x3c/span\x3e"})}}},
_createGroupsGrid:function(){this._groupsGrid=new d({columns:this._groupsGridColumns(),id:"groupsGrid",region:"center",noDataMessage:this.i18n.noGroupsFound,showLoadingMessage:!0,showHeader:!0,rowsPerPage:this.rowsPerPage,pagingLinks:!0,selectionMode:"single",store:new C({identifier:"rolename",label:"rolename",data:[]})},g.create("div",null,this._gridContainer));this._groupsGrid.startup();this._groupsGrid.on("dgrid-select",n.hitch(this,this._selectedGridRow));this._groupsGrid.on("dgrid-deselect",
n.hitch(this,this._deselectedGridRow));this._groupsGrid.on("dgrid-refresh-complete",n.hitch(this,function(){1<Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage)?k.set(this._goToPageContainer,"display",""):k.set(this._goToPageContainer,"display","none")}))},_selectedGridRow:function(z){f.add(z.rows[0].element,"selectedGroup");this._selectedGroup=z.rows[0].data;this._okBtn.set("disabled",!1)},_deselectedGridRow:function(z){f.remove(z.rows[0].element,"selectedGroup");this._selectedGroup&&
this._selectedGroup.name===z.rows[0].data.name&&(this._selectedGroup=null,this._okBtn.set("disabled",!0))},_initGrid:function(){this._groupsGrid?this._clearGroupsGrid():this._createGroupsGrid();this._groupsGrid.refresh()},_clearGroupsGrid:function(){var z=this._groupsGrid.get("store"),D=z.query(),F;for(F=0;F<D.length;F++)D[F]&&D[F].id&&z.remove(D[F].id)},_clear:function(){this._search.set("value","");this._selectedGroup=null;this._okBtn.set("disabled",!0);this._initGrid()},_initSearch:function(z){A.isDefined(z)&&
this._search.set("value",z)}});B.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new B);return this._instance}};return B})},"arcgisonline/pages/group/widgets/CreateGroup/GroupDesignations":function(){define("require exports tslib esri/Evented dojo/text!./templates/GroupDesignations.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);return function(){function A(r,l){this.templateString=u["default"];this.i18n=n.__assign(n.__assign({},h["default"].GroupWidget),h["default"].createGroupOverlay);this.membershipAccess="org";this.joinOption="invitation"}A.prototype.postCreate=function(){this.inherited(arguments);
this.render();this.calculateToggleStates()};A.prototype.getValues=function(){return{update:this.sharedUpdateToggle.checked(),isOpenData:this.openDataToggle.checked(),adminGroup:this.adminGroupToggle.checked()}};A.prototype.disableAdminGroup=function(){this.adminGroupToggle.disable()};A.prototype.enableAdminGroup=function(){this.adminGroupToggle.enable()};A.prototype.disableSharedUpdate=function(){this.sharedUpdateToggle.disable()};A.prototype.enableSharedUpdate=function(){this.sharedUpdateToggle.enable()};
A.prototype.disabledOpenData=function(){this.openDataToggle.disable()};A.prototype.calculateToggleStates=function(){"enterprise"===this.joinOption||"autoJoin"===this.joinOption||"org"!==this.membershipAccess?this.adminGroupToggle.disable():this.adminGroupToggle.enable();"autoJoin"===this.joinOption||"anyOrg"===this.membershipAccess?this.sharedUpdateToggle.disable():this.sharedUpdateToggle.enable()};A.prototype.getTooltipIcon=function(r){return'\x3cbutton class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"'+
r+'"\x3e\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"'+(("ar"===document.documentElement.lang?"true":"false")+'"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e')};A.prototype.render=function(){var r=this,l,d,e,a=this.portalUser.userRole;a=this.isAdmin||a.canCreateUpdateCapableGroup();var b=this.i18n,c=b.sharedUpdateNote,m=b.cannotLeave,p=b.openDataGroup,q=b.adminNote;this.sharedUpdateToggle=this.createToggle('\x3cp class\x3d"trailer-quarter"\x3e'+b.editableByAll+this.getTooltipIcon(this.group?
this.i18n.sharedOwnershipTipSettings:this.i18n.sharedOwnershipTip)+"\x3c/p\x3e"+(this.portal.isPortal?"":'\x3cp class\x3d"trailer-0"\x3e'+c+"\x3c/p\x3e"),"shared-update-toggle",".js-shared-update-toggle");this.sharedUpdateToggle.domNode.classList.add("trailer-quarter");b='\x3cp class\x3d"trailer-quarter"\x3e'+m+(this.group?"":this.getTooltipIcon(this.i18n.cantChangeTip))+"\x3c/p\x3e"+(this.portal.isPortal?"":'\x3cp class\x3d"trailer-0"\x3e'+q+"\x3c/p\x3e");this.adminGroupToggle=this.createToggle(b,
"admin-group-toggle",".js-admin-group-toggle");this.openDataToggle=this.createToggle(p,"open-data-toggle",".js-open-data-toggle");a=a&&(!this.group||this.group&&-1<(null===(l=this.group.capabilities)||void 0===l?void 0:l.indexOf("updateitemcontrol")));v["default"].showHide(this.sharedUpdateSection,a);this.group&&-1<(null===(d=this.group.capabilities)||void 0===d?void 0:d.indexOf("updateitemcontrol"))&&this.sharedUpdateToggle.hideSwitch();v["default"].showHide(this.adminGroupSection,this.isAdmin&&
(!this.group||this.group&&this.group.leavingDisallowed));this.group&&this.group.leavingDisallowed&&this.adminGroupToggle.hideSwitch();this.checkOpenData();v["default"].showHide(this.openDataSection,this.canShowOpenData);this.canShowOpenData&&(null===(e=this.group)||void 0===e?0:e.isOpenData)&&(this.openDataToggle.check(),this.group.isGroupOwnerOrgMember()||this.openDataToggle.disable());this.sharedUpdateSection.classList.contains("hide")&&this.adminGroupSection.classList.contains("hide")&&this.openDataSection.classList.contains("hide")&&
v["default"].hideNode(this.domNode);this.own(f["default"].subscribe("group-access/change",function(y){"public"!==y&&r.openDataToggle.uncheck();v["default"].showHide(r.openDataSection,r.canShowOpenData&&"public"===y)}),f["default"].subscribe("group-join/change",function(y){r.joinOption=y;r.calculateToggleStates()}),this.openDataToggle.on("change",function(y){f["default"].publish("group/update",{successMessage:h["default"].GroupWidget.settingsSuccess.openData,params:{isOpenData:y}})}),this.adminGroupToggle.on("change",
function(y){r.emit("admin-group/toggle",{checked:y})}),this.sharedUpdateToggle.on("change",function(y){r.emit("shared-update/toggle",{checked:y})}))};A.prototype.checkOpenData=function(){var r,l,d,e=(!this.group||this.group.isOpenData||this.group.isGroupOwnerOrgMember())&&!0===(null===(d=null===(l=null===(r=this.portal)||void 0===r?void 0:r.portalProperties)||void 0===l?void 0:l.openData)||void 0===d?void 0:d.enabled)&&(this.isAdmin||this.portalUser.userRole.canDesignateOpenDataGroups());this.canShowOpenData=
!this.portal.isPortal&&!this.isPublicUser&&e};A.prototype.createToggle=function(r,l,d){return new w["default"]({label:r,trackId:l,baseClass:"create-group__toggle-switch leader-quarter",labelPosition:"left"},this.domNode.querySelector(d))};return A=n.__decorate([C["default"](k["default"],g["default"],t["default"])],A)}()})},"arcgisonline/pages/components/Group/DeleteProtection":function(){define("require exports tslib preact arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);N["default"]=function(g){var k=g.group,w=g.disabledSwitch,v=g.disableDelete,C=g.onChange;g=g.onDelete;var A=n.__assign(n.__assign(n.__assign({},f["default"].common),f["default"].GroupWidget),f["default"].deleteWarningDlg);return t.h(t.Fragment,null,t.h("div",{"class":"panel panel-white trailer-1"},t.h("h2",{"class":"font-size-1 avenir-bold"},f["default"].GroupWidget.deleteProtectionLbl),
t.h("div",{"class":"margin-left-1 margin-right-1 leader-1"},t.h("div",{"class":"avenir-demi trailer-quarter"},f["default"].GroupWidget.deleteProtectionLbl),t.h("div",{"class":"full-width flex toggle-switch-container trailer-1"},t.h("div",{"class":"flex-1"},f["default"].GroupWidget.deleteProtectionMsg),t.h("calcite-switch",{id:"group-delete-protection-toggle",checked:k["protected"],oncalciteSwitchChange:function(r){var l=r.target.checked;(l?u["default"].protectGroup(k):u["default"].unprotectGroup(k)).then(function(){C(l);
h["default"].showAlert("success",l?A.deleteProtectionEnabledSuccess:A.deleteProtectionDisabledSuccess)},function(){h["default"].showAlert("error",A.deleteProtectionError)})},disabled:w,label:f["default"].GroupWidget.deleteProtectionMsg},f["default"].GroupWidget.deleteGroup)),t.h("button",{id:"delete-group-btn",type:"button",onClick:g,"class":"btn btn-red btn-small trailer-1",disabled:v},f["default"].GroupWidget.deleteGroup))))}})},"arcgisonline/pages/components/Group/ContentSettings":function(){define("require exports tslib preact arcgisonline/pages/components/RadioGroup dojo/i18n!../../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);N["default"]=function(f){var g,k=f.group,w=f.disableSort,v=f.disableTypeOptions,C=f.onChange,A=n.__assign(n.__assign(n.__assign({},h["default"].common),h["default"].folders.filters),h["default"].GroupWidget);f=A.sortFields;var r=[{name:"group-default-type",text:A.all,value:"All",selected:!0},{name:"group-default-type",text:A.apps,value:"Application"},{name:"group-default-type",text:A.files,
value:"CSV"},{name:"group-default-type",text:A.maps,value:"Web Map"},{name:"group-default-type",text:A.layers,value:"Layer"},{name:"group-default-type",text:A.scenes,value:"Web Scene"},{name:"group-default-type",text:A.tools,value:"Locator Package"}],l=null===(g=k.displaySettings)||void 0===g?void 0:g.itemTypes;l&&r.forEach(function(d){d.selected=l||"All"!==d.value?l===d.value?!0:!1:!0});return t.h("div",{"class":"panel panel-white trailer-1"},t.h("h2",{"class":"font-size-1 avenir-bold"},h["default"].GroupWidget.contentLabel),
t.h("div",{"class":"margin-left-1 margin-right-1 leader-1"},t.h("label",null,t.h("div",{"class":"avenir-demi"},A.sortByDefault),t.h("div",{"class":"flex leader-quarter"},t.h("select",{name:"sortField",value:k.sortField,onChange:function(d){C({sortField:d.target.value},A.settingsSuccess.sortField)},disabled:w},t.h("option",{value:"owner"},f.owner),t.h("option",{value:"modified"},f.modified),t.h("option",{value:"title"},f.title),t.h("option",{value:"numviews"},f.numviews)),t.h("select",{"class":"margin-left-1",
value:k.sortOrder,onChange:function(d){C({sortOrder:d.target.value},A.settingsSuccess.sortOrder)},disabled:w},t.h("option",{value:"asc"},A.ascending),t.h("option",{value:"desc"},A.descending)))),t.h("div",{"class":"leader-1"},t.h("div",{"class":"trailer-quarter avenir-demi"},A.defaultContentLabel),t.h(u["default"],{options:r,rounded:!0,disabled:v,onChange:function(d){C({displaySettings:JSON.stringify({itemTypes:"All"===d?"":d})},A.settingsSuccess.itemTypes)}}))))}})},"arcgisonline/pages/components/RadioGroup":function(){define(["require",
"exports","tslib","preact","./RadioGroupOption"],function(R,N,n,t,u){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);N["default"]=function(h){var f=h.onChange,g=h.rounded,k=h.disabled;return t.h("div",{"class":"select-options flex "+(g?"radio-group--rounded":"")},h.options.map(function(w){return t.h(u["default"],{name:w.name,text:w.text,value:w.value,rounded:g,selected:w.selected,disabled:k,onSelect:f})}))}})},"arcgisonline/pages/components/RadioGroupOption":function(){define(["require",
"exports","preact"],function(R,N,n){Object.defineProperty(N,"__esModule",{value:!0});N["default"]=function(t){var u=t.name,h=t.text,f=t.value,g=t.disabled,k=t.onSelect,w=u+"-"+f+"-option";return n.h("div",{"class":"font-size--1 position-relative "+(t.rounded?"margin-right-half":"")+" "+(g?"select-option--disabled":""),key:w},n.h("input",{"class":"radio-group-input",id:w,type:"radio",name:u,value:"",checked:t.selected,disabled:g}),n.h("label",{"class":"radio-group-label","for":w,onClick:function(){k(f)}},
h))}})},"arcgisonline/pages/group/widgets/_overview":function(){define("require exports tslib preact calcite-web/js/calcite-web dojo/debounce dojo/string dojo/query dojo/i18n!../../../nls/arcgisonline dojo/on dojo/topic dojo/string dojo/promise/all dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TooltipDialog dijit/popup arcgisonline/sharing/util ../../pageUtil ../../utils/productGlyphs ../../group/_GroupActions ../../utils/alerts ../../utils/dom ../../utils/user ../../utils/organization ../../utils/dragdrop ../../utils/formatters ../../utils/icons ../../dijit/FilterItemType/_itemTypes ../../dijit/InlineEdit ../../dijit/MemberThumb ../../dijit/Card ../../dijit/CardMobile ../../dijit/_CheckReadonlyMixin ../../../esriGeowConfig ../../portal/PortalItem ./AddItemsToGroup ../../organization/widgets/ProfilePopup dojo/text!./templates/views/items/empty.html dojo/text!./templates/_overview.html arcgisonline/tsutils/declareDecorator arcgisonline/sharing/dijit/CopyToClipboard arcgisonline/pages/components/ConfirmDialog esri/request arcgis-components/wrappers/BasicWrappers/GroupBadges arcgis-components/wrappers/ItemBrowser".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka,qa,Y,Q,fa,S){u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);
p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);V=n.__importDefault(V);aa=n.__importDefault(aa);ha=n.__importDefault(ha);ia=n.__importDefault(ia);ka=n.__importDefault(ka);
qa=n.__importDefault(qa);Y=n.__importDefault(Y);Q=n.__importDefault(Q);fa=n.__importDefault(fa);return function(){function O(){var I=this;this.templateString=ia["default"];this.widgetsInTemplate=!0;this.screenWidth=window.innerWidth;this.icons=E["default"];this.i18n=k["default"];this.productGlyphs=p["default"];this.groupItems=[];this.recentItems=[];this.editingFeatured=!1;this.reorderCookieKey="reorder-group-content";this.tooltipShown=!1;this.previousFeaturedItemIds=[];this.tooltipShowing=!1;this.handleAddItemsClick=
function(){var Z=new V["default"]({group:I.group,portal:I.portal,portalUser:I.portalUser,telemetry:I.telemetry});Z.checkForUserContent().then(function(){Z.openItemBrowser()});I.own(Z.on("close",function(){Z.destroy()}),Z.on("items/added",function(){I._populateRecentContent()}))};this._applicationAcceptOrDecline=function(){var Z=I.group._canManageMembershipRequests&&(!I.group.belongsToGroup||I.group.isMember);A["default"]({group:c["default"].request({url:U["default"].restBaseUrl+"community/groups/"+
I.group.id}),members:I.group.groupMembers(),applications:Z?I.group.getApplications():null}).then(function(W){var ca=W.group,T=W.members;if(W=W.applications)ca.userMembership.applications=W.length;ca.numApplications=I.page._formatNumApplication(ca.userMembership);ca.members=T;ca.numMembers=I.page._formatNumMembers(T);I.group.set({userMembership:ca.userMembership,numApplications:ca.numApplications,members:ca.members,numMembers:ca.numMembers});v["default"].publish("memberlist/refreshComplete")})};this._refreshMembers=
function(){I.group.allGroupMembers().then(function(Z){I.group.set("members",Z);I.group.set("numMembers",I.page._formatNumMembers(I.group.get("members")));v["default"].publish("memberlist/refreshComplete")})};this._showProfile=function(Z){Z=Z.target;I._popup&&I._popup.close();I._popup=new aa["default"]({username:Z.getAttribute("data-owner"),opener:Z,portal:I.portal});I._popup.open();w["default"].once(I._popup,"close",function(){I._popup=void 0})};this._hideProfile=function(){var Z;null===(Z=I._popup)||
void 0===Z?void 0:Z.close()};this.handleSort=this.handleSort.bind(this);this.handleDrag=this.handleDrag.bind(this);this.handleShowRecent=this.handleShowRecent.bind(this);this.closeReorderTooltip=this.closeReorderTooltip.bind(this);this.handleCancelRevert=this.handleCancelRevert.bind(this);this.handleRevertToRecent=this.handleRevertToRecent.bind(this);this.handleEditFeaturedClick=this.handleEditFeaturedClick.bind(this);this.handleCancelFeaturedClick=this.handleCancelFeaturedClick.bind(this);this.handleSaveFeaturedClick=
this.handleSaveFeaturedClick.bind(this)}O.prototype.postMixInProperties=function(){this.inherited(arguments);this.hide=x["default"].hide;this.show=x["default"].show;this.firstChar=x["default"].firstChar;this.group.properties||(this.group.properties={});this.instantAppsLink="../apps/instantgallery/index.html?group\x3d"+this.group.id};O.prototype.startup=function(){var I=new r["default"];this.inherited(arguments);this._initUI().then(I.resolve);return I};O.prototype.destroy=function(){var I,Z;this.inherited(arguments);
this._recentItems&&this._recentItems.forEach(function(W){W.destroy()});null===(Z=null===(I=q["default"].popup)||void 0===I?void 0:I.destroy)||void 0===Z?void 0:Z.call(I);this.cancelInlineEdit();this.reorderTooltipDlg&&(this.tooltipShowing=!1,b["default"].close(this.reorderTooltipDlg),this.reorderTooltipDlg.destroy())};O.prototype._alertUpdateSuccess=function(){y["default"].showAlert("success",k["default"].GroupWidget.updatingGroupSuccessful)};O.prototype._alertError=function(I){y["default"].showAlert("error",
I)};O.prototype._initUI=function(){var I=this,Z,W,ca,T,P,X,da,ea,ja,la,ma,oa=new r["default"];new H["default"]({inputType:"textArea",rows:4,maxLength:250,inputLabel:this.i18n.itemProperties.editSummary,prop:"snippet",value:this.group.snippet},this.domNode.querySelector(".js-snippet-section"));new H["default"]({inputId:"group-description-edit",inputType:"richText",inputLabel:this.i18n.itemProperties.editDescription,prop:"description",value:this.group.description},this.domNode.querySelector(".js-description-section"));
this._tagsSection=new H["default"]({prop:"tags",inputType:"tags",inputId:"saveGroupTags",isGroup:!0,viewTitle:this.i18n.itemProperties.tags,formTitle:this.i18n.itemProperties.editTags,formClass:"leader-1 padding-leader-half trailer-1",buttonsClass:"leader-half",value:this.group.tags||[],knownTags:this.group.groupOwner?this.group.groupOwner.contentTags||[]:this.portalUser.contentTags||[]},this.domNode.querySelector(".js-tags-section"));this.group.isAdmin&&this._tagsSection.initTagsEditor();this.group.leavingDisallowed&&
B["default"].hideNode(this.domNode.querySelector(".js-action-leaveGroup"));!this.group.hiddenMembers||this.portalUser&&"member"!==(null===(Z=this.group.userMembership)||void 0===Z?void 0:Z.memberType)||B["default"].hideNode(this.domNode.querySelector(".js-group-numMembers-wrap"));this.portal.id&&new fa["default"](this.badgesWrapper,{key:this.group.id,group:this.group,portal:this.portal});Z=null===(W=this.portalUser)||void 0===W?void 0:W.userRole;(null===Z||void 0===Z?0:Z.isCustom())&&!Z.canCreateItem()&&
B["default"].hideNode(this.domNode.querySelector(".js-action-createWebApp"));this.getShortLink().then(function(sa){new qa["default"]({id:"short-link",text:sa,tooltipModifier:"tooltip-left"},I.domNode.querySelector(".js-copy-short-link"));I.domNode.querySelector(".js-copy-container").addEventListener("click",function(va){return va.stopPropagation()})});"public"!==this.group.access&&this.domNode.querySelector(".js-action-embed").classList.add("hide");W=null===(P=null===(T=null===(ca=this.portalUser)||
void 0===ca?void 0:ca.userRole)||void 0===T?void 0:T.canShareItemToGroup)||void 0===P?void 0:P.call(T);ca="org"!==(null===(X=this.portalUser)||void 0===X?void 0:X.access)&&"owner"===(null===(da=this.group.userMembership)||void 0===da?void 0:da.memberType);X=W||(null===(la=null===(ja=null===(ea=this.portalUser)||void 0===ea?void 0:ea.userRole)||void 0===ja?void 0:ja.canShareOthersItemsToGroup)||void 0===la?void 0:la.call(ja));ea=(null===(ma=this.group.capabilities)||void 0===ma?void 0:ma.join(","))||
"";ma=(!ea||-1<ea.toLowerCase().indexOf("updateitemcontrol"))&&(ca||X)&&(this.group.isManager||this.group.isOwner)&&!(this.portalUser.isOrgUser&&this.group.isOwner&&!W);B["default"].showHide(this.addItemsBtn,ma);this.page.ownedBySuspendedCollab&&(ma=this.domNode.querySelector(".js-action-inviteUsers"),this.page.disableInviteBtn(ma));this.reorderTooltipDlg=new a["default"]({id:"reorder-content-tooltip","class":"popover",content:this.reorderTooltip});this._populateRecentContent.bind(this)();this._updateOwnerThumbnail();
this._initHandlers();oa.resolve();return oa};O.prototype._populateRecentContent=function(){var I=this,Z,W,ca={q:null!==(W=null===(Z=null===U["default"]||void 0===U["default"]?void 0:U["default"].viewQueries)||void 0===Z?void 0:Z.none)&&void 0!==W?W:"",sortField:"created",sortOrder:"desc",num:100};this.page._getUserGroups().then(function(){return n.__awaiter(I,void 0,void 0,function(){var T,P,X;return n.__generator(this,function(da){switch(da.label){case 0:T=n.__assign({},ca);if(P=this.page.hasDefaultContentFilter(this.group))T.q=
ca.q+G["default"][P].q;return[4,this.getGroupItems(T)];case 1:return X=da.sent(),[4,z["default"].checkForFavorites(this.portalUser,this.portal,X)];case 2:return X=da.sent(),this.recentItems=(null===X||void 0===X?void 0:X.items)||[],[2]}})})}).then(function(){return I.getGroupItems(ca)}).then(function(T){return z["default"].checkForFavorites(I.portalUser,I.portal,T)}).then(function(T){I.group.numItems=T.total;I.domNode.querySelector(".js-num-items").innerHTML=I.group.numItems.toString();var P=I.domNode.querySelector(".js-no-content");
0<T.items.length?(document.querySelector(".js-overview-content").innerHTML="",I.groupItems=T.items,B["default"].showHide(I.domNode.querySelector(".js-view-content-btn"),4<=T.items.length),B["default"].hideNode(P),I.renderItemCards()):(P.classList.remove("hide"),P.innerHTML=f["default"].substitute(ha["default"],{i18n:I.i18n}),I.domNode.querySelector(".js-view-content-btn").classList.add("hide"))})};O.prototype._initHandlers=function(){var I=this;this.own(w["default"](window,"resize",h["default"](this._resizeHandler.bind(this),
30)),w["default"](this.addItemsBtn,"click",this.handleAddItemsClick),w["default"](this.editFeaturedBtn,"click",this.handleEditFeaturedClick),w["default"](this.saveFeaturedContentBtn,"click",this.handleSaveFeaturedClick),w["default"](this.cancelFeaturedContentBtn,"click",this.handleCancelFeaturedClick),w["default"](this.showRecentBtn,"click",this.handleShowRecent),w["default"](this.closeReorderTooltipBtn,"click",this.closeReorderTooltip),w["default"](this.changeFeaturedBtn,"click",function(){I.createItemBrowser()}),
w["default"](this.selectContentBtn,"click",function(){var Z,W;I.previousFeaturedItemIds=(null===(Z=I.group.properties)||void 0===Z?void 0:Z.featuredItemIds)||[];I.group.properties||(I.group.properties={});I.previousProperties=n.__assign({},I.group.properties);I.group.properties.isFeatured=!0;null===(W=I._recentItems)||void 0===W?void 0:W.forEach(function(ca){var T;return null===(T=null===ca||void 0===ca?void 0:ca.destroy)||void 0===T?void 0:T.call(ca)});I._recentItems=[];I.itemsContainer.innerHTML=
"";I.editingFeatured=!0;I.renderItemCards();B["default"].hideNode(I.showRecentBtn)}),w["default"](this.noFeaturedButton,"click",function(){I.createItemBrowser()}),this.group.watch("thumbnailUrl",function(){I.domNode.querySelector(".js-thumbnail-svg").classList.add("hide");var Z=I.domNode.querySelector(".js-thumbnail-img");Z.classList.remove("hide");Z.src=I.group.thumbnailUrl}),this.group.watch("numMembers",function(){g["default"](".js-group-numMembers").attr("innerHTML",I.group.numMembers)}),this.group.watch("formattedMembershipLabel",
function(){g["default"](".js-group-formattedMembershipLabel").attr("innerHTML",I.group.formattedMembershipLabel)}),this.group.watch("numApplications",function(){g["default"](".js-numApplications").attr({innerHTML:I.group.numApplications,"class":"notification-dot margin-left-half js-numApplications notification-dot-"+I.group.numApplications})}),v["default"].subscribe("memberlist/refresh",this._refreshMembers),v["default"].subscribe("onApplicationAccept",this._applicationAcceptOrDecline),v["default"].subscribe("onApplicationDecline",
this._applicationAcceptOrDecline),v["default"].subscribe("inlineEdit/submit",function(Z){var W=Z.prop;delete Z.prop;I.page._updateGroup(Z,!0).then(function(){return c["default"].request({url:I.group.url}).then(function(ca){I.group.set(W,ca[W]);v["default"].publish("inlineEdit/"+W+"/done",ca[W]);return I.group})},function(ca){var T=-1<(null===ca||void 0===ca?void 0:ca.message.toLowerCase().indexOf("spam content"));ca&&-1<ca.message.indexOf("You already have a group named")&&(ca.message=C["default"].substitute(I.i18n.GroupWidget.error.cantUpdateGroup+
" "+I.i18n.GroupWidget.error.nonUniqueName,{name:Z.title}));T||I._alertError(ca.message)})}),v["default"].subscribe("profile/show",this._showProfile),v["default"].subscribe("profile/hide",this._hideProfile));m["default"].registerItemActions(this,this.domNode,q["default"],this.page,this._actionGuard.bind(this))};O.prototype._actionGuard=function(I){return-1===["inviteUsers","share","thumbnail"].indexOf(I)?!1:this.checkReadonly(this.portal)};O.prototype._resizeHandler=function(I){I=window.innerWidth;
(480>this.screenWidth&&480<=I||480<=this.screenWidth&&480>I)&&this._populateRecentContent();this.screenWidth=I};O.prototype._updateOwnerThumbnail=function(){this._ownerThumbnail&&this._ownerThumbnail.destroy();this._ownerThumbnail=new J["default"]({cssClasses:"margin-right-half inline-block flex-0 member-thumb--small",member:this.group.ownerProfile},this.domNode.querySelector(".js-owner-thumbnail"))};O.prototype.cancelInlineEdit=function(I){I?(g["default"](".js-inline-edit-original").forEach(function(Z){I===
Z.getAttribute("data-edit-id")&&Z.classList.remove("hide")}),g["default"](".js-inline-edit-form").forEach(function(Z){I===Z.getAttribute("data-edit-id")&&Z.classList.add("hide")})):(g["default"](".js-inline-edit-original").removeClass("hide"),g["default"](".js-inline-edit-form").addClass("hide"));this.page.hideErrors()};O.prototype.getGroupItems=function(I){return this.group.groupContent(I,!0)};O.prototype.getShortLink=function(){var I=this,Z=new r["default"],W=U["default"].bitlyUrl,ca="https://"+
this.group.portal.portalHostname+"/home/group.html?id\x3d"+this.group.id;W?c["default"].request({url:W,content:{longUrl:ca,format:"json"}}).then(function(T){var P;T=null===(P=null===T||void 0===T?void 0:T.data)||void 0===P?void 0:P.url;Z.resolve(T||I.group.url)},function(T){return Z.resolve(I.group.url)}):Z.resolve(this.group.url);return Z};O.prototype.handleCloseCustomize=function(){this.customizeContainer&&t.render(null,this.customizeContainer)};O.prototype.updateFeaturedItemIds=function(I){this.group.properties.featuredItemIds=
I};O.prototype.handleReorder=function(I){this.updateFeaturedItemIds(I);this.renderItemCards()};O.prototype.getFeaturedContent=function(){return(this.group.properties||{}).featuredItemIds||[]};O.prototype.handleEditFeaturedClick=function(){this.previousFeaturedItemIds=this.group.properties.featuredItemIds||[];this.group.properties&&(this.previousProperties=n.__assign({},this.group.properties));this.editingFeatured=!0;this._recentItems.forEach(function(I){I.setDraggable(!0)});this.renderItemCards();
this.saveFeaturedContentBtn.focus()};O.prototype.stopEditingFeatured=function(){this.editingFeatured=!1;this._recentItems.forEach(function(I){I.setDraggable(!1)});this.renderItemCards()};O.prototype.renderItemCards=function(){var I=this,Z,W,ca=document.querySelector(".js-overview-content");ca.innerHTML="";var T=this.i18n.GroupWidget,P=T.recentlyAdded,X=T.featuredGroupContent,da=this.getFeaturedContent();T=null===(Z=this.group.properties)||void 0===Z?void 0:Z.isFeatured;this.domNode.querySelector(".js-items-heading").textContent=
T?X:P;Z=this.group.isAdmin||this.group.isOwner;B["default"].showHide(this.selectContentBtn,!T&&Z);B["default"].showHide(this.editFeaturedBtn,T&&Z&&!this.editingFeatured&&0<this.groupItems.length);B["default"].showHideAll([this.showRecentBtn,this.changeFeaturedBtn,this.featuredContentActions],Z&&this.editingFeatured);var ea=480>=window.innerWidth?K["default"]:M["default"];P=T?da.map(function(ja){return I.groupItems.filter(function(la){return la.id===ja})[0]}).filter(function(ja){return!!ja}):n.__spreadArray([],
this.recentItems).slice(0,8);da=0<P.length;B["default"].showHide(this.noFeaturedContent,!da&&T);B["default"].showHide(this.itemsContainer,da);B["default"].showHide(this.domNode.querySelector(".js-view-content-btn"),!this.editingFeatured&&this.groupItems.length>P.length);B["default"].showHide(this.noFeaturedButton,T&&!da&&Z&&this.editingFeatured);B["default"].showHide(this.noItemsYetLabel,T&&!da&&!this.editingFeatured);B["default"].showHide(this.changeFeaturedBtn,T&&da&&Z&&this.editingFeatured);B["default"].showHide(this.showRecentBtn,
this.editingFeatured&&Z&&(null===(W=this.previousProperties)||void 0===W?void 0:W.isFeatured));this._recentItems=P.map(function(ja){ja=new ba["default"](n.__assign(n.__assign({},ja),{portal:I.portal}));return(new ea({item:ja,portalUser:I.portalUser,draggable:I.editingFeatured,alwaysShowDrag:!0,baseClass:"group-featured-item"})).placeAt(ca)});u["default"].dropdown();window.setTimeout(function(){I.dragulaInstance=F["default"].init(I.itemsContainer,{direction:480<=window.innerWidth?"horizontal":"vertical",
itemClass:"card--draggable",activeClass:"card--sorting",handleClass:"card-drag-handle",dragulaInstance:I.dragulaInstance,nextKey:"ArrowRight",prevKey:"ArrowLeft",onDrop:I.handleSort,onDrag:I.handleDrag,liveRegion:I.screenReaderRegion})},100)};O.prototype.handleDrag=function(){this.closeReorderTooltip()};O.prototype.handleSort=function(){return n.__awaiter(this,void 0,void 0,function(){var I;return n.__generator(this,function(Z){I=[];g["default"](".js-card",this.itemsContainer).forEach(function(W){I.push(W.dataset.id)});
this.updateFeaturedItemIds(I);return[2]})})};O.prototype.createItemBrowser=function(){var I=this,Z,W;this.tooltipShowing&&(b["default"].close(this.reorderTooltipDlg),this.tooltipShowing=this.tooltipShown=!1);if(this.itemBrowser)this.itemBrowser.renderContainer.children[0].classList.remove("hide");else{this.itemBrowserContainer||(this.itemBrowserContainer=document.createElement("div"),this.itemBrowserContainer.classList.add("featured-content-browser"),document.body.appendChild(this.itemBrowserContainer));
var ca=this.getFeaturedContent().map(function(X){return I.groupItems.filter(function(da){return da.id===X})[0]}).reduce(function(X,da){var ea;if(!da)return X;var ja=new ba["default"](n.__assign(n.__assign({},da),{portal:I.portal}));return n.__assign(n.__assign({},X),(ea={},ea[da.id]=n.__assign(n.__assign({},ja),{iconURI:ja.iconUrl}),ea))},{}),T=new r["default"];T.resolve(ca);this.page.hasDefaultContentFilter(this.group);var P="(group:"+this.group.id+") "+(null!==(W=null===(Z=null===U["default"]||
void 0===U["default"]?void 0:U["default"].viewQueries)||void 0===Z?void 0:Z.none)&&void 0!==W?W:"");Z=[{name:this.group.title,baseQuery:"",filters:"group groupCategories itemType modified created tags shared status collaboration".split(" ")}];T={layoutMode:"adjustable",allowedItemTypes:[],usePrimaryButtonStyle:!1,asynchronousItemSelect:!0,disableOnSelect:!0,mainActionTitle:k["default"].common.addItem,mainInverseActionTitle:k["default"].GroupWidget.itemAdded,noItemsFoundText:k["default"].GroupWidget.noItems,
dialogTitle:k["default"].GroupWidget.selectFeatureContent,submitButtonText:k["default"].common.done,cancelButtonText:k["default"].common.cancel,onBulkAction:this.handleBulkItemBrowserAction.bind(this),baseSections:[],customSections:Z,onBack:this.closeItemBrowser.bind(this),enableMapAreaFilter:!1,showSubResources:{},addQueryParameters:function(){return P},multiSelect:!0,itemSelectionEnabled:!0,initiallySelectedItemsDfd:T,maxSelected:24,disabledCheckboxTooltipText:k["default"].GroupWidget.featuredLimit,
showDeselectTooltip:!0};this.itemBrowser=new S.ItemBrowserWrapper(this.itemBrowserContainer,{apiVersion:3,portal:this.portal,request:Q["default"],telemetry:this.telemetry,appName:"customize items",initialState:{settings:{config:T},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}}});window.setTimeout(function(){I.itemBrowserContainer.querySelector(".ac-search-area__input").placeholder=k["default"].GroupWidget.searchGroup.replace("${groupTitle}",I.group.title)},300)}};O.prototype.handleBulkItemBrowserAction=
function(I){var Z=I.allSelectedItems;return n.__awaiter(this,void 0,void 0,function(){var W,ca,T,P=this;return n.__generator(this,function(X){W=Z.map(function(da){return da.id});this.getFeaturedContent();ca=0===this.previousFeaturedItemIds.length;this.closeItemBrowser();T=new Date("September 30 2022");this.updateFeaturedItemIds(W);this.editingFeatured=!0;this.renderItemCards();W.length?this.saveFeaturedContentBtn.focus():this.noFeaturedButton.querySelector("button").focus();setTimeout(function(){ca&&
D["default"].shouldShowOnboard(P.reorderCookieKey,T)&&P.showReorderTooltip()},300);return[2]})})};O.prototype.handleShowRecent=function(){return n.__awaiter(this,void 0,void 0,function(){var I,Z,W,ca,T,P=this;return n.__generator(this,function(X){this.confirmContainer||(this.confirmContainer=document.createElement("div"),document.body.appendChild(this.confirmContainer));I=this.i18n.GroupWidget.revertToRecentConfirm;Z=I.title;W=I.description;ca=I.btnText;T={description:W,title:Z,ok:ca,cancel:this.i18n.common.cancel,
close:this.i18n.common.close};t.render(t.h(Y["default"],{strings:T,onOk:this.handleRevertToRecent,onCancel:this.handleCancelRevert,autoCloseOnOk:!0}),this.confirmContainer);window.setTimeout(function(){var da;null===(da=P.confirmContainer.querySelector("calcite-modal"))||void 0===da?void 0:da.setFocus()},100);return[2]})})};O.prototype.handleCancelRevert=function(){t.render(null,this.confirmContainer)};O.prototype.handleRevertToRecent=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,
function(I){switch(I.label){case 0:return"string"===typeof this.group.properties&&(this.group.properties=JSON.parse(this.group.properties)),[4,this.revertToRecentContent()];case 1:return I.sent(),this.editingFeatured=!1,this.group.properties=n.__assign(n.__assign({},this.group.properties),{featuredItemIds:this.previousFeaturedItemIds,isFeatured:!1}),this.renderItemCards(),t.render(null,this.confirmContainer),[2]}})})};O.prototype.revertToRecentContent=function(){return n.__awaiter(this,void 0,void 0,
function(){return n.__generator(this,function(I){return[2,this.page._updateGroup({properties:JSON.stringify(n.__assign(n.__assign({},this.group.properties||{}),{isFeatured:!1}))})]})})};O.prototype.saveFeaturedContent=function(I){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(Z){return[2,this.page._updateGroup({properties:JSON.stringify({featuredItemIds:I,isFeatured:!0}),clearEmptyFields:!0})]})})};O.prototype.handleCancelFeaturedClick=function(){this.stopEditingFeatured();
this.group.properties.featuredItemIds=this.previousFeaturedItemIds;this.previousProperties&&(this.group.properties=n.__assign({},this.previousProperties));this.renderItemCards();this.reorderTooltipDlg&&(b["default"].close(this.reorderTooltipDlg),this.tooltipShowing=!1)};O.prototype.handleSaveFeaturedClick=function(){return n.__awaiter(this,void 0,void 0,function(){var I;return n.__generator(this,function(Z){switch(Z.label){case 0:return I=[],g["default"](".js-card",this.itemsContainer).forEach(function(W){I.push(W.dataset.id)}),
[4,this.saveFeaturedContent(I)];case 1:return Z.sent(),"string"===typeof this.group.properties&&(this.group.properties=JSON.parse(this.group.properties)),this.updateFeaturedItemIds(I),this.stopEditingFeatured(),this.editFeaturedBtn.focus(),this.reorderTooltipDlg&&(b["default"].close(this.reorderTooltipDlg),this.tooltipShowing=!1),[2]}})})};O.prototype.closeItemBrowser=function(){document.documentElement.classList.remove("overflow-hidden");this.itemBrowser.renderContainer.children[0].classList.add("hide");
this.destroyItemBrowser()};O.prototype.destroyItemBrowser=function(){this.itemBrowserContainer.innerHTML="";this.itemBrowser=null};O.prototype.showReorderTooltip=function(){var I=this.itemsContainer.querySelector(".js-card .card-drag-handle svg");this.tooltipShown||!I||720>=window.innerWidth||(this.tooltipShowing=this.tooltipShown=!0,b["default"].open({popup:this.reorderTooltipDlg,orient:["below","above"],around:I}))};O.prototype.closeReorderTooltip=function(){this.dontShowCheckbox.checked&&D["default"].createOnboardCookie(this.reorderCookieKey);
this.tooltipShowing=!1;b["default"].close(this.reorderTooltipDlg)};return O=n.__decorate([ka["default"](l["default"],d["default"],e["default"],L["default"])],O)}()})},"arcgisonline/pages/utils/dragdrop":function(){define("require exports tslib dragula/dragula dojo/query dojo/string dojo/i18n!../../nls/org-settings".split(" "),function(R,N,n,t,u,h,f){function g(w,v){void 0===v&&(v=f["default"].reorder.current);for(var C=w.parentElement.children,A=C.length,r=-1,l=0;l<C.length;l++)C[l]===w&&(r=l+1);
return h["default"].substitute(v,{n:r,total:A})}function k(w,v){v&&(v.textContent=w)}Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);N["default"]={init:function(w,v){var C=v.itemClass,A=v.activeClass,r=v.handleClass,l=v.dragElement,d=v.direction,e=v.onDrop,a=v.onDrag,b=v.liveRegion,c=v.dragulaInstance,m=v.nextKey,p=v.prevKey,q={};d&&(q.direction=d);if(r){l||(q.moves=function(y,B,z){return z.classList.contains(r)});
m||(m="ArrowDown");p||(p="ArrowUp");u["default"]("."+r,w).attr("tabindex","0");if(b)u["default"]("."+r,w).on("focus",function(y){y=u["default"](y.target).closest("."+C)[0];y.classList.contains(A)||k(f["default"].reorder.focus+" "+g(y),b)});u["default"]("."+r,w).on("touchmove",function(y){y.preventDefault()});u["default"]("."+r,w).on("keydown",function(y){var B=!1,z=y.target,D=u["default"](z).closest("."+C)[0],F=D.classList.contains(A);" "===y.key||"Enter"===y.key?(F?(D.classList.remove(A),e()):(D.classList.add(A),
k(f["default"].reorder.started+" "+g(D),b)),B=!0):F&&y.key===p?(D.previousElementSibling&&(w.insertBefore(D,D.previousElementSibling),k(g(D,f["default"].reorder["new"]),b),setTimeout(function(){z.focus()},10)),B=!0):F&&y.key===m&&D.nextElementSibling&&(D.nextElementSibling.insertAdjacentElement("afterend",D),k(g(D,f["default"].reorder["new"]),b),setTimeout(function(){z.focus()},10));B&&(y.preventDefault(),y.stopPropagation())})}if(c)l=c;else{l=t["default"]([w],q);if(e)l.on("drop",function(){e()});
if(a)l.on("drag",function(){a()})}return l}}})},"arcgisonline/pages/dijit/FilterItemType/_itemTypes":function(){define(["require","exports"],function(R,N){return{maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',
label:"Maps"},"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"',label:"Web maps"},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")',label:"Map files"},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage") -type:("Web Mapping Application" OR "Geodata Service")',
label:"Layers"},"layers-weblayers":{q:'type:("Feature Collection" OR "Feature Service" OR "Image Service" OR "Map Service" OR "Vector Tile Service" OR "Scene Service" OR "Stream Service" OR "WMS" OR "WMTS" OR "WFS" OR "KML" OR "OGCFeatureServer") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Web layers"},"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',label:"Feature layers"},
"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")',label:"Tile layers"},"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Map Image layers"},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"',label:"Imagery layers"},"layers-weblayers-scenelayers":{q:'type:"Scene Service"',
label:"Scene layers"},"layers-weblayers-videolayers":{q:'type:"Video Service"',label:"Video layers"},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"',label:"Tiled Imagery layers"},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"',label:"Elevation layers"},"layers-weblayers-feeds":{q:'type:"Feed"',label:"Feeds"},"layers-weblayers-tables":{q:"typekeywords:Table",label:"Tables"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")',
label:"Layer files"},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"',label:"Scenes"},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',
label:"Apps"},"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")',label:"Web apps"},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")',label:"Dashboards"},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")',label:"Sites"},"applications-pages":{q:'type:("Hub Page" OR "Site Page")',label:"Pages"},"applications-geobim-projects":{q:'type:("GeoBIM Project")',
label:"GeoBIM projects"},"applications-geobim-apps":{q:'type:("GeoBIM Application")',label:"GeoBIM applications"},"applications-instant-apps":{q:'typekeywords:"configurableApp"',label:"Instant Apps"},"applications-storymap":{q:'type:("StoryMap")',label:"Storymaps"},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")',label:"Experience Builder"},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"',label:"Web AppBuilder"},
"applications-mobile":{q:'type:"Mobile Application"',label:"Mobile apps"},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"',label:"Desktop apps"},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',
label:"Tools"},"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")',label:"Locators"},"tools-geodatabase":{q:'type:"Geodata Service"',label:"Geodatabase access"},"tools-geometric":{q:'type:"Geometry Service"',label:"Geometric operations"},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")',label:"Geoprocessing tasks"},"tools-network":{q:'type:"Network Analysis Service"',label:"Network analysis"},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")',
label:"Analytics"},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',label:"Files"},"files-document":{q:'typekeywords:"Document" -type:"PDF"',
label:"Documents"},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"',label:"Images"},"files-pdf":{q:'type:"PDF"',label:"PDFs"},"files-csv":{q:'type:"CSV"',label:"CSVs"},"files-report":{q:'type:"Administrative Report"',label:"Administrative reports"},"files-raster":{q:'type: "Raster function template"',label:"Raster function templates"},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',label:"Notebooks"},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',
label:"Insights"},"insights-workbooks":{q:'type:"Insights Workbook"',label:"Workbooks"},"insights-pages":{q:'type:"Insights Page"',label:"Pages"},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")',label:"Models"},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")',label:"Themes"},"data-stores":{q:'type:("Data Store")',label:"Data stores"},
knowledgeGraphs:{q:'type:"Knowledge Graph"',label:"Knowledge graphs"}}})},"arcgisonline/pages/dijit/InlineEdit":function(){define("require exports tslib esri/lang esri/libs/sanitizer/Sanitizer arcgis-components/wrappers/Tags dojo/on dojo/query dojo/has dojo/topic dojo/string dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/formatters ../utils/alerts ../utils/arrays ../utils/dom ../../sharing/util ../utils/icons ../../sharing/dijit/Editor dojox/uuid/generateRandomUuid ./CategoryPicker dojo/text!./InlineEdit/templates/InlineEdit.html dojo/text!./InlineEdit/templates/inlineEditTextArea.html dojo/text!./InlineEdit/templates/inlineEditFieldValueType.html dojo/text!./InlineEdit/templates/inlineEditRichText.html dojo/text!./InlineEdit/templates/inlineEditCustom.html dojo/text!./InlineEdit/templates/inlineEditLayerRename.html dojo/text!./InlineEdit/templates/inlineEditLayerRenameSubnav.html dojo/text!./InlineEdit/templates/inlineEditNotebookTags.html arcgisonline/tsutils/declareDecorator dijit/_editor/plugins/FontChoice dijit/_editor/plugins/TextColor ./InlineEdit/ViewSource ../../sharing/dijit/LinkDialog".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J){t=n.__importDefault(t);u=n.__importDefault(u);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);return function(){function M(K,L){this.templateString=B["default"];this.i18n=C["default"];this.icons=m["default"];this.inputType="textbox";this.inputClass="subnav-edit__input";this.defaultText=this.inputLabel="";this.invalidText=this.emptyText=void 0;this.required=!1;this.pattern=
void 0;this.editorHeight="240px";this.rows=4;this.titleClass="subnav-title";this.titleId="pagetitle";this.viewTitle=this.placeholder=this.buttonsClass=this.formClass=this.formTitle="";this.knownTags=[];this.isGroup=!1;this.editButtonClasses="btn-link-white if-can-update";this.editButtonUpdatePermissionClasses="if-can-update";this.cancelButtonClasses="btn btn-transparent btn-link-white";this.saveButtonClasses="btn btn-white margin-left-half";this.showCharactersLeft=this.showLoader=!1;this.sanitizer=
new u["default"];this.dontSanitize=!1;this._oldValue=this.prop="";this._supportsFormValidation=!1;this.templateString={textArea:z["default"],fieldValueType:D["default"],richText:F["default"],tags:x["default"],categories:x["default"],layerRename:E["default"],layerRenameSubnav:G["default"],notebookTags:H["default"]}[K.isNotebook?"notebookTags":K.inputType]||B["default"];this.baseUrl=K.baseUrl;this.openInNewTab=K.openInNewTab;this.inputLabel=K.inputLabel||K.formTitle||C["default"].common.edit}M.prototype.postMixInProperties=
function(){this.inherited(arguments);this.inputId=this.inputId||q["default"]();this._oldValue=this.value=this._sanitizeValue(this.value);this.knownTags&&(this.knownTags=this._sanitizeStringArray(this.knownTags))};M.prototype.postCreate=function(){this.inherited(arguments);this.showLoader&&b["default"].showNode(this._saveLoader);this.required&&(this._input.required=!0);this.pattern&&(this._input.pattern=this.pattern);var K=document.createElement("input");this._supportsFormValidation=!k["default"]("safari")&&
"required"in K&&"pattern"in K;!this._supportsFormValidation||"textArea"!==this.inputType&&"textbox"!==this.inputType||this._input.setCustomValidity(this._valOrFunction(this.defaultText||"",window,[this._input]));switch(this.inputType){case "textArea":case "textbox":this.maxLength&&(this._input.maxLength=this.maxLength);break;case "richText":this._formatRichText();break;case "tags":this._inputEl.id=this.inputId,this._form.addEventListener("keydown",function(L){"Enter"===L.key&&"INPUT"===L.target.nodeName&&
L.preventDefault()})}this._hasCharactersLeft()&&(b["default"].showNode(this._charactersLeft),this._setCharactersLeft(),this.own(f["default"](this._input,"keyup",this._setCharactersLeft.bind(this))));this._updateView();this._initHandlers()};M.prototype.initTagsEditor=function(){var K=Array.isArray(this.value)?this.value:this.value.split(",");this.domNode.querySelector(".js-inline-edit").setAttribute("data-edit-id","tags");this._input=new h.TagsWrapper(this.domNode.querySelector("#"+this.inputId),{activeTags:K.filter(function(L){return L}),
knownTags:this.knownTags.map(function(L){return L.tag}),maxWidth:"100%",minWidth:"100%"})};M.prototype.initCategoryPicker=function(){var K=this;this.portal&&this.portal.getCategories().then(function(L){K._formatCategories(K.value);K._input=new y["default"]({categories:K.value,schema:L,alwaysOpen:!0},K._inputEl);K._input.startup()},function(L){})};M.prototype.hide=function(){b["default"].hideNode(this.domNode)};M.prototype.hideEditLink=function(){g["default"](".js-inline-edit",this.domNode).addClass("visibility-hidden")};
M.prototype.showEditLink=function(){g["default"](".js-inline-edit",this.domNode).removeClass("visibility-hidden")};M.prototype.updateText=function(K){K=this._sanitizeString(K);g["default"](".js-view",this.domNode).innerHTML(K);this.value=this._input.value=K};M.prototype.updateValue=function(K){K=this._sanitizeValue(K);this._setInputValue(K);this.value=K;this._updateView()};M.prototype._sanitizeValue=function(K){return K instanceof Array?this._sanitizeStringArray(K):this._sanitizeString(K)};M.prototype._sanitizeStringArray=
function(K){var L=this;return this.dontSanitize?K:(K||[]).map(function(U){return L.sanitizer.sanitize(U)})};M.prototype._sanitizeString=function(K){return this.dontSanitize?K:this.sanitizer.sanitize(K)};M.prototype._setCharactersLeft=function(){this._hasCharactersLeft()&&(this._charactersLeft.textContent=v["default"].substitute(this.i18n.myOrganization.generalTab.summaryCharsLeft,{chars:this.maxLength-this._input.value.length}))};M.prototype._setInputValue=function(K){this._input&&("richText"===this.inputType?
this._input.set("value",K||""):"categories"===this.inputType?this._input.setCategories(K,!0):"tags"===this.inputType?(K=Array.isArray(K)?K:K.split(","),this._input.setTags(K.filter(function(L){return L}))):this._input.value=t["default"].isDefined(K)?K:"")};M.prototype._initHandlers=function(){var K=this;this.own(f["default"](this._cancelButton,"click",function(L){L.stopPropagation();L.preventDefault();K._cancelEdit()}),g["default"](".js-inline-edit",this.domNode).on("click",function(L){var U;L.stopPropagation();
w["default"].publish("inlineEdit/"+K.prop+"/start");K._oldValue=K.value;b["default"].hideNode(K._textView);b["default"].showNode(K._form);"richText"===K.inputType&&((null===(U=K._input)||void 0===U?0:U.destroy)&&K._input.destroy(!0),L=l["default"].editorDefaults(K.inputId),L.height=K.editorHeight,K._input=new p["default"](L,K._inputEl),K._input.startup(),K._input.set("value",K.value||""));"fieldValueType"===K.inputType&&K._setupFieldValueType(K.value);"categories"!==K.inputType&&K._input.focus()}),
f["default"](this._form,"submit",function(L){L.stopPropagation();L.preventDefault();L="richText"===K.inputType&&K._input.get("value")||"textArea"===K.inputType&&K._input.value;K.containsHttp(L)?e["default"].showAlert("error",K.i18n.common.httpNotSupported):K._submitForm()}),w["default"].subscribe("inlineEdit/"+this.prop+"/done",function(L){K.containsHttp(K.value)&&e["default"].showAlert("error",K.i18n.common.httpNotSupported);K._updateView();K.showLoader&&K._saveLoader&&(K._saveButton.disabled=!1,
K._cancelButton.disabled=!1,K._saveLoader.classList.remove("inline-edit-save-loader--active"));K._hideEdit()}),w["default"].subscribe("inlineEdit/cancel",function(){K._cancelEdit()}),w["default"].subscribe("inlineEdit/"+this.prop+"/oldValue",function(L){K.value=K._oldValue=L}));"textbox"!==this.inputType&&"textArea"!==this.inputType&&"layerRename"!==this.inputType&&"layerRenameSubnav"!==this.inputType||this.own(f["default"](this._input,"change",this._changeOrInput.bind(this)),f["default"](this._input,
"input",this._changeOrInput.bind(this)),f["default"](this._input,"invalid",this._invalid.bind(this)))};M.prototype.containsHttp=function(K){var L;return!c["default"].isPortal()&&("richText"===this.inputType||"textArea"===this.inputType)&&-1<(null===(L=null===K||void 0===K?void 0:K.indexOf)||void 0===L?void 0:L.call(K,"http://"))};M.prototype._cancelEdit=function(){var K;this._setInputValue(this._oldValue);this._setCharactersLeft();(null===(K=this._input)||void 0===K?0:K.validity)&&this._setCustomValidity("");
"categories"===this.inputType&&this._input.hideError();this._hideEdit();w["default"].publish("inlineEdit/"+this.prop+"/cancel")};M.prototype._hasCharactersLeft=function(){return"textArea"===this.inputType&&this.maxLength&&this.showCharactersLeft&&t["default"].isDefined(this._charactersLeft)};M.prototype._updateView=function(){var K=this.domNode.querySelectorAll(".js-view"),L=this.inputType;if(0<K.length&&this.value||"tags"===L){switch(L){case "categories":K=this._formatCategories(this.value);break;
case "fieldValueType":K=this._getFieldValueType(this.value);break;case "tags":K=this._formatTags(this.value);break;default:K=this.formatter?this.formatter(this.value):this.value}"tags"!==L&&"categories"!==L&&(K=this._sanitizeString(K));g["default"](".js-view",this.domNode).innerHTML(K);"richText"===this.inputType&&this._formatRichText()}};M.prototype._submitForm=function(){var K={},L=a["default"].from(this._form.elements)||[],U;if(("textbox"===this.inputType||"textArea"===this.inputType||"layerRename"===
this.inputType||"layerRenameSubnav"===this.inputType)&&!this._supportsFormValidation&&(L=L.some(function(ba){return(U=ba.getAttribute("data-customValidity"))?(w["default"].publish("page/showError",{message:U}),!0):!1})))return;this.showLoader&&this._saveLoader&&(this._saveButton.disabled=!0,this._cancelButton.disabled=!0,this._saveLoader.classList.add("inline-edit-save-loader--active"));"categories"===this.inputType?(this._input.hideError(),this.value=this._input.getCategories(!0),w["default"].publish("inlineEdit/categories/submit",
this.value)):(K[this.prop]="tags"===this.inputType?this._input.getTags().join(","):this._input.value,K.clearEmptyFields=!0,K.prop=this.prop,-1<["layerRename","layerRenameSubnav","layerDescription","layerCopyright"].indexOf(this.prop)&&void 0!==this.layerId&&(K.layerId=this.layerId),this.value=K[this.prop],w["default"].publish("inlineEdit/submit",K));this._oldValue=this.value};M.prototype._changeOrInput=function(){var K,L,U=null!==(L=null===(K=this._input.value)||void 0===K?void 0:K.trim())&&void 0!==
L?L:"";K=this._input.pattern;L=this._input.required;var ba="TEXTAREA"!==this._input.nodeName;!U&&L?this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,window,[this._input])):this._supportsFormValidation&&ba||!K?this._setCustomValidity(""):(new RegExp(K)).test(U)?this._setCustomValidity(""):this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input]))};M.prototype._invalid=function(){var K,L,U,ba,V,aa,ha=null!==(L=null===(K=this._input.value)||
void 0===K?void 0:K.trim())&&void 0!==L?L:"";ha&&""!==ha?(null===(U=this._input.validity)||void 0===U?0:U.patternMismatch)||(null===(ba=this._input.validity)||void 0===ba?0:ba.badInput)||(null===(V=this._input.validity)||void 0===V?0:V.typeMismatch)||(null===(aa=this._input.validity)||void 0===aa?0:aa.customError)?this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input])):this._setCustomValidity(""):this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,
window,[this._input]))};M.prototype._valOrFunction=function(K,L,U){return"function"===typeof K?K.apply(L,U):K};M.prototype._setCustomValidity=function(K){this._supportsFormValidation?this._input.setCustomValidity(K):(this._input.setAttribute("data-customvalidity",K),""===K&&w["default"].publish("hidePageError"))};M.prototype._hideEdit=function(){b["default"].showNode(this._textView);b["default"].hideNode(this._form)};M.prototype._formatCategories=function(K){var L=new RegExp(/^\/.+\//);K=K.map(function(U){return U.replace(L,
"")}).map(d["default"].formatCategoryChip).reduce(function(U,ba){return U+v["default"].substitute("\x3cspan class\x3d'label filter-label'\x3e${category}\x3c/span\x3e",{category:ba})},"");return 0<K.length?K:this.i18n.contentCategories.noCategoriesItem};M.prototype._formatTags=function(K){var L=this;K=K&&"string"===typeof K?K.split(","):K||[];var U="settings-tab"===this._currentView,ba=this.isGroup?"groups":"content";return 0>=K.filter(function(V){return V}).length?this.i18n.contentCategories.noTags:
K.map(function(V){var aa=L.dontSanitize?V:L.sanitizer.sanitize(V);aa=c["default"].htmlEncode(aa);return U?V:'\x3ca href\x3d"'+(L.baseUrl||"")+"search.html?t\x3d"+ba+"\x26q\x3dtags:%22"+aa+'%22" target\x3d"'+(L.openInNewTab?"_blank":"_self")+'"\x3e'+aa+"\x3c/a\x3e"}).join(", ")};M.prototype._formatRichText=function(){g["default"](".js-view table").addClass("table")};M.prototype._setupFieldValueType=function(K){for(var L=this.fieldValueTypeList.fieldValueType,U=0;U<L.length;U++)this._input.options[U]=
new Option(this._getFieldValueType(L[U].title),L[U].title),K===L[U].title&&(this._input.selectedIndex=U)};M.prototype._getFieldValueType=function(K){if("none"===K)return this.i18n.attributeFieldDetails.none;K=K||this.i18n.attributesView.commonUndefined;return this.i18n.attributeFieldDetails.fieldValueTypesList[K]||K};return M=n.__decorate([J["default"](r["default"],A["default"])],M)}()})},"arcgisonline/sharing/dijit/Editor":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/Editor dijit/_editor/_Plugin dijit/form/ToggleButton".split(" "),
function(R,N,n,t,u,h,f){function g(k){return new h["default"]({buttonClass:f["default"],command:k.name})}t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);R=function(){function k(w,v){this.declaredClass="arcgisonline.sharing.dijit.Editor"}return k=n.__decorate([t["default"](u["default"])],k)}();h["default"].registry=n.__assign(n.__assign({},h["default"].registry),{insertOrderedList:g,insertUnorderedList:g,justifyCenter:g,justifyFull:g,justifyLeft:g,justifyRight:g});
return R})},"dijit/_editor/plugins/FontChoice":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/i18n dojo/_base/lang dojo/string dojo/store/Memory ../../registry ../../_Widget ../../_TemplatedMixin ../../_WidgetsInTemplateMixin ../../form/FilteringSelect ../_Plugin ../range dojo/i18n!../nls/FontChoice".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){R=n("dijit._editor.plugins._FontDropDown",[w,v,C],{label:"",plainText:!1,templateString:"\x3cspan style\x3d'white-space: nowrap' class\x3d'dijit dijitReset dijitInline'\x3e\x3clabel class\x3d'dijitLeft dijitInline' for\x3d'${selectId}'\x3e${label}\x3c/label\x3e\x3cinput data-dojo-type\x3d'../../form/FilteringSelect' required\x3d'false' data-dojo-props\x3d'labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' class\x3d'${comboClass}' tabIndex\x3d'-1' id\x3d'${selectId}' data-dojo-attach-point\x3d'select' value\x3d''/\x3e\x3c/span\x3e",
contextRequire:R,postMixInProperties:function(){this.inherited(arguments);this.strings=u.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=k.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments)},postCreate:function(){this.select.set("store",new g({idProperty:"value",data:N.map(this.values,function(c){var m=this.strings[c]||c;return{label:this.getLabel(c,m),name:m,value:c}},this)}));this.select.set("value",
"",!1);this.disabled=this.select.get("disabled")},_setValueAttr:function(c,m){m=!1!==m;this.select.set("value",0>N.indexOf(this.values,c)?"":c,m);m||(this.select._lastValueReported=null)},_getValueAttr:function(){return this.select.get("value")},focus:function(){this.select.focus()},_setDisabledAttr:function(c){this._set("disabled",c);this.select.set("disabled",c)}});var d=n("dijit._editor.plugins._FontNameDropDown",R,{generic:!1,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){this.values||
(this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"]);this.inherited(arguments)},getLabel:function(c,m){return this.plainText?m:"\x3cdiv style\x3d'font-family: "+c+"'\x3e"+m+"\x3c/div\x3e"},_normalizeFontName:function(c){var m=this.values;if(!c||!m)return c;var p=c.split(",");if(1<p.length)for(var q=0,y=p.length;q<y;q++){var B=f.trim(p[q]);if(-1<N.indexOf(m,B))return B}return c},_setValueAttr:function(c,m){m=!1!==
m;c=this._normalizeFontName(c);this.generic&&(c={Arial:"sans-serif",Helvetica:"sans-serif",Myriad:"sans-serif",Times:"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive",Courier:"monospace","Courier New":"monospace",Papyrus:"fantasy","Estrangelo Edessa":"cursive",Gabriola:"fantasy"}[c]||c);this.inherited(arguments,[c,m])}}),e=n("dijit._editor.plugins._FontSizeDropDown",R,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(c,
m){return this.plainText?m:"\x3cfont size\x3d"+c+"'\x3e"+m+"\x3c/font\x3e"},_setValueAttr:function(c,m){m=!1!==m;c.indexOf&&-1!=c.indexOf("px")&&(c={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[parseInt(c,10)]||c);this.inherited(arguments,[c,m])}}),a=n("dijit._editor.plugins._FormatBlockDropDown",R,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:"noFormat p h1 h2 h3 pre".split(" "),postCreate:function(){this.inherited(arguments);this.set("value","noFormat",!1)},getLabel:function(c,m){return this.plainText||
"noFormat"==c?m:"\x3c"+c+"\x3e"+m+"\x3c/"+c+"\x3e"},_execCommand:function(c,m,p){if("noFormat"===p){var q;if((m=l.getSelection(c.window))&&0<m.rangeCount&&(p=m.getRangeAt(0),p)){m=p.startContainer;for(q=p.endContainer;m&&m!==c.editNode&&m!==c.document.body&&1!==m.nodeType;)m=m.parentNode;for(;q&&q!==c.editNode&&q!==c.document.body&&1!==q.nodeType;)q=q.parentNode;var y=h.hitch(this,function(F,x){if(F.childNodes&&F.childNodes.length){var E;for(E=0;E<F.childNodes.length;E++){var G=F.childNodes[E];if(1==
G.nodeType&&c.selection.inSelection(G)){var H=G.tagName?G.tagName.toLowerCase():"";-1!==N.indexOf(this.values,H)&&x.push(G);y(G,x)}}}});p=h.hitch(this,function(F){if(F&&F.length){for(c.beginEditing();F.length;)this._removeFormat(c,F.pop());c.endEditing()}});var B=[];if(m==q){for(q=m;q&&q!==c.editNode&&q!==c.document.body;){if(1==q.nodeType){var z=q.tagName?q.tagName.toLowerCase():"";if(-1!==N.indexOf(this.values,z)){var D=q;break}}q=q.parentNode}y(m,B);D&&(B=[D].concat(B))}else for(q=m;c.selection.inSelection(q);)1==
q.nodeType&&(z=q.tagName?q.tagName.toLowerCase():"",-1!==N.indexOf(this.values,z)&&B.push(q),y(q,B)),q=q.nextSibling;p(B);c.onDisplayChanged()}}else c.execCommand(m,p)},_removeFormat:function(c,m){if(c.customUndo){for(;m.firstChild;)t.place(m.firstChild,m,"before");m.parentNode.removeChild(m)}else{c.selection.selectElementChildren(m);var p=c.selection.getSelectedHtml();c.selection.selectElement(m);c.execCommand("inserthtml",p||"")}}}),b=n("dijit._editor.plugins.FontChoice",r,{useDefaultCommand:!1,
_initButton:function(){var c={fontName:d,fontSize:e,formatBlock:a}[this.command],m=this.params;this.params.custom&&(m.values=this.params.custom);var p=this.editor;this.button=new c(h.delegate({dir:p.dir,lang:p.lang},m));this.own(this.button.select.on("change",h.hitch(this,function(q){this.editor.focused&&this.editor.focus();"fontName"==this.command&&-1!=q.indexOf(" ")&&(q="'"+q+"'");this.button._execCommand?this.button._execCommand(this.editor,this.command,q):this.editor.execCommand(this.command,
q)})))},updateState:function(){var c=this.editor,m=this.command;if(c&&c.isLoaded&&m.length&&this.button){var p=this.get("disabled");this.button.set("disabled",p);if(!p){try{var q=c.queryCommandValue(m)||""}catch(B){q=""}(p=h.isString(q)&&(q.match(/'([^']*)'/)||q.match(/"([^"]*)"/)))&&(q=p[1]);"fontSize"!==m||q||(q=3);if("formatBlock"===m)if(q&&"p"!=q)0>N.indexOf(this.button.values,q)&&(q="noFormat");else{q=null;if((m=l.getSelection(this.editor.window))&&0<m.rangeCount&&(m=m.getRangeAt(0)))var y=m.endContainer;
for(;y&&y!==c.editNode&&y!==c.document;){if((m=y.tagName?y.tagName.toLowerCase():"")&&-1<N.indexOf(this.button.values,m)){q=m;break}y=y.parentNode}q||(q="noFormat")}q!==this.button.get("value")&&this.button.set("value",q,!1)}}}});N.forEach(["fontName","fontSize","formatBlock"],function(c){r.registry[c]=function(m){return new b({command:c,plainText:m.plainText})}});b._FontDropDown=R;b._FontNameDropDown=d;b._FontSizeDropDown=e;b._FormatBlockDropDown=a;return b})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(R,N,n,t,u){return R("dijit.form.FilteringSelect",[t,u],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(h,f,g,k){f&&f[this.searchAttr]!==this._lastQuery||!f&&h.length&&this.store.getIdentity(h[0])!=this._lastQuery||
(h.length?this.set("item",h[0],k):this.set("value","",k||void 0===k&&!this.focused,this.textbox.value,null))},_openResultList:function(h,f,g){f[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(h,f,g,k){this._onChangeActive||(f=null);if(void 0===k){if(null===h||""===h)if(h="",!N.isString(g)){this._setDisplayedValueAttr(g||"",f);
return}var w=this;this._lastQuery=h;n(this.store.get(h),function(v){w._callbackSetLabel(v?[v]:[],void 0,void 0,f)})}else this.valueNode.value=h,this.inherited(arguments,[h,f,g,k])},_setItemAttr:function(h,f,g){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(h){return h.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(h,f){null==h&&(h="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();
var g=N.clone(this.query),k=this._getDisplayQueryString(h);if(this.store._oldAPI)var w=k;else w=this._patternToRegExp(k),w.toString=function(){return k};this._lastQuery=g[this.searchAttr]=w;this._lastDisplayedValue=this.textbox.value=h;this._set("displayedValue",h);var v=this,C={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};N.mixin(C,this.fetchProperties);this._fetchHandle=this.store.query(g,C);n(this._fetchHandle,function(A){v._fetchHandle=null;v._callbackSetLabel(A||[],g,C,f)},function(A){v._fetchHandle=
null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/_editor/plugins/TextColor":function(){define("require dojo/colors dojo/_base/declare dojo/_base/lang ../_Plugin ../../form/DropDownButton".split(" "),function(R,N,n,t,u,h){var f=n("dijit._editor.plugins.TextColor",u,{buttonClass:h,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name;this.inherited(arguments);var g=this;this.button.loadDropDown=function(k){function w(v){g.button.dropDown=
new v({dir:g.editor.dir,ownerDocument:g.editor.ownerDocument,value:g.value,onChange:function(C){g.editor.execCommand(g.command,C)},onExecute:function(){g.editor.execCommand(g.command,this.get("value"))}});k()}"string"==typeof g.colorPicker?R([g.colorPicker],w):w(g.colorPicker)}},updateState:function(){var g=this.editor,k=this.command;if(g&&g.isLoaded&&k.length){if(this.button){var w=this.get("disabled");this.button.set("disabled",w);if(w)return;try{var v=g.queryCommandValue(k)||""}catch(C){v=""}}""==
v&&(v="#000000");"transparent"==v&&(v="#ffffff");"string"==typeof v?-1<v.indexOf("rgb")&&(v=N.fromRgb(v).toHex()):(v=((v&255)<<16|v&65280|(v&16711680)>>>16).toString(16),v="#000000".slice(0,7-v.length)+v);this.value=v;(g=this.button.dropDown)&&g.get&&v!==g.get("value")&&g.set("value",v,!1)}}});u.registry.foreColor=function(g){return new f(g)};u.registry.hiliteColor=function(g){return new f(g)};return f})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],
function(R,N,n,t){var u={};N.setObject("dojo.colors",u);var h=function(g,k,w){0>w&&++w;1<w&&--w;var v=6*w;return 1>v?g+(k-g)*v:1>2*w?k:2>3*w?g+(k-g)*(2/3-w)*6:g};R.colorFromRgb=n.fromRgb=function(g,k){var w=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(w){var v=w[2].split(/\s*,\s*/),C=v.length;w=w[1];if("rgb"==w&&3==C||"rgba"==w&&4==C)return w=v[0],"%"==w.charAt(w.length-1)?(w=t.map(v,function(l){return 2.56*parseFloat(l)}),4==C&&(w[3]=v[3]),n.fromArray(w,k)):n.fromArray(v,k);if("hsl"==
w&&3==C||"hsla"==w&&4==C){w=(parseFloat(v[0])%360+360)%360/360;var A=parseFloat(v[1])/100,r=parseFloat(v[2])/100;A=.5>=r?r*(A+1):r+A-r*A;r=2*r-A;w=[256*h(r,A,w+1/3),256*h(r,A,w),256*h(r,A,w-1/3),1];4==C&&(w[3]=v[3]);return n.fromArray(w,k)}}return null};var f=function(g,k,w){g=Number(g);return isNaN(g)?w:g<k?k:g>w?w:g};n.prototype.sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this};u.makeGrey=
n.makeGrey=function(g,k){return n.fromArray([g,g,g,k])};N.mixin(n.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],
darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,
105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,
112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,
99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return n})},"arcgisonline/pages/dijit/InlineEdit/ViewSource":function(){define("require exports tslib ../../../tsutils/declareDecorator dijit/_editor/_Plugin dijit/_editor/plugins/ViewSource esri/libs/sanitizer/Sanitizer".split(" "),function(R,N,n,t,u,h,f){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);var g=function(){function k(w){this.declaredClass=
"arcgisonline.pages.dijit.InlineEdit.ViewSource";this.sanitizer=new f["default"]}k.prototype._filter=function(w){w&&(w=this.sanitizer.sanitize(w),this.stripScripts&&(w=this._stripScripts(w)),this.stripComments&&(w=this._stripComments(w)),this.stripIFrames&&(w=this._stripIFrames(w)),this.stripEventHandlers&&(w=this._stripEventHandlers(w)));return w};return k=n.__decorate([t["default"](h["default"])],k)}();u["default"].registry.viewSourceSanitize=u["default"].registry.viewsourcesanitize=function(k){return new g({readOnly:"readOnly"in
k?k.readOnly:!1,stripComments:"stripComments"in k?k.stripComments:!0,stripScripts:"stripScripts"in k?k.stripScripts:!0,stripIFrames:"stripIFrames"in k?k.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in k?k.stripEventHandlers:!0})};return g})},"dijit/_editor/plugins/ViewSource":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/window ../../focus ../_Plugin ../../form/ToggleButton ../.. ../../registry dojo/i18n!../nls/commands".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a){var b=n("dijit._editor.plugins.ViewSource",l,{stripScripts:!0,stripComments:!0,stripIFrames:!0,stripEventHandlers:!0,readOnly:!1,_fsPlugin:null,toggle:function(){C("webkit")&&(this._vsFocused=!0);this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var c=g.getLocalization("dijit._editor","commands"),m=this.editor;this.button=new d({label:c.viewSource,ownerDocument:m.ownerDocument,dir:m.dir,lang:m.lang,showLabel:!1,iconClass:this.iconClassPrefix+
" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:w.hitch(this,"_showSource")});this.button.set("readOnly",!1)},setEditor:function(c){this.editor=c;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=N.before(this.editor,"setValue",w.hitch(this,function(m){return[this._filter(m)]}));this._getValueFilterHandle=N.after(this.editor,"getValue",w.hitch(this,function(m){return this._filter(m)}));this.editor.addKeyHandler(k.F12,!0,!0,w.hitch(this,function(m){this.button.focus();
this.toggle();m.stopPropagation();m.preventDefault();setTimeout(w.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(c){var m=this.editor,p=m._plugins;this._sourceShown=c;var q=this;try{this.sourceArea||this._createSourceView();if(c)m._sourceQueryCommandEnabled=m.queryCommandEnabled,m.queryCommandEnabled=function(B){return"viewsource"===B.toLowerCase()},this.editor.onDisplayChanged(),R.forEach(p,function(B){!B||B instanceof b||!B.isInstanceOf(l)||B.set("disabled",
!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return q.sourceArea}),this.sourceArea.value=m.get("value"),this.sourceArea.style.height=m.iframe.style.height,this.sourceArea.style.width=m.iframe.style.width,m.iframe.parentNode.style.position="relative",f.set(m.iframe,{position:"absolute",top:0,visibility:"hidden"}),f.set(this.sourceArea,{display:"block"}),this._resizeHandle=v(window,"resize",w.hitch(this,function(){var B=A.getBox(m.ownerDocument);"_prevW"in this&&"_prevH"in this&&
B.w===this._prevW&&B.h===this._prevH||(this._prevW=B.w,this._prevH=B.h,this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(w.hitch(this,function(){delete this._resizer;this._resize()}),10))})),setTimeout(w.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=w.hitch(this,function(){var B=this.sourceArea.value;return B=this._filter(B)}),this._setListener=N.after(this.editor,
"setValue",w.hitch(this,function(B){this.sourceArea.value=B||""}),!0);else{if(!m._sourceQueryCommandEnabled)return;this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue);m.queryCommandEnabled=m._sourceQueryCommandEnabled;if(!this._readOnly){var y=this.sourceArea.value;m.beginEditing();m.set("value",y);m.endEditing()}R.forEach(p,function(B){B&&
B.isInstanceOf(l)&&B.set("disabled",!1)});f.set(this.sourceArea,"display","none");f.set(m.iframe,{position:"relative",visibility:"visible"});delete m._sourceQueryCommandEnabled;this.editor.onDisplayChanged()}setTimeout(w.hitch(this,function(){var B=m.domNode.parentNode;B&&(B=a.getEnclosingWidget(B))&&B.resize&&B.resize();m.resize()}),300)}catch(B){}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var c=this.editor,m=c.getHeaderHeight(),p=c.getFooterHeight(),
q=h.position(c.domNode),y=h.getPadBorderExtents(c.iframe.parentNode),B=h.getMarginExtents(c.iframe.parentNode),z=h.getPadBorderExtents(c.domNode),D=q.w-z.w;q=q.h-(m+z.h+p);this._fsPlugin&&this._fsPlugin.isFullscreen&&(c=A.getBox(c.ownerDocument),D=c.w-z.w,q=c.h-(m+z.h+p));h.setMarginBox(this.sourceArea,{w:Math.round(D-(y.w+B.w)),h:Math.round(q-(y.h+B.h))})},_createSourceView:function(){var c=this.editor,m=c._plugins;this.sourceArea=u.create("textarea");this.readOnly&&(t.set(this.sourceArea,"readOnly",
!0),this._readOnly=!0);f.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});t.set(this.sourceArea,"aria-label",this.editor.id);u.place(this.sourceArea,c.iframe,"before");C("ie")&&c.iframe.parentNode.lastChild!==c.iframe&&f.set(c.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});c._viewsource_oldFocus=c.focus;var p=this;c.focus=function(){if(p._sourceShown)p.setSourceAreaCaret();else try{this._vsFocused?
(delete this._vsFocused,r.focus(c.editNode)):c._viewsource_oldFocus()}catch(B){}};var q,y;for(q=0;q<m.length;q++)if((y=m[q])&&("dijit._editor.plugins.FullScreen"===y.declaredClass||y.declaredClass===e._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=y;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return p._sourceShown?p.sourceArea:this._viewsource_getAltViewNode()});this.own(v(this.sourceArea,"keydown",
w.hitch(this,function(B){this._sourceShown&&B.keyCode==k.F12&&B.ctrlKey&&B.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(w.hitch(this,function(){c.focus()}),100),B.stopPropagation(),B.preventDefault())})))},_stripScripts:function(c){c&&(c=c.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,""),c=c.replace(/<\s*script\b([^<>]|\s)*>?/ig,""),c=c.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,""));return c},_stripComments:function(c){c&&(c=c.replace(/\x3c!--(.|\s){1,}?--\x3e/g,
""));return c},_stripIFrames:function(c){c&&(c=c.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,""));return c},_stripEventHandlers:function(c){if(c){var m=c.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(m)for(var p=0,q=m.length;p<q;p++){var y=m[p],B=y.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");c=c.replace(y,B)}}return c},_filter:function(c){c&&(this.stripScripts&&(c=this._stripScripts(c)),this.stripComments&&(c=this._stripComments(c)),this.stripIFrames&&(c=this._stripIFrames(c)),
this.stripEventHandlers&&(c=this._stripEventHandlers(c)));return c},removeValueFilterHandles:function(){this._setValueFilterHandle&&(this._setValueFilterHandle.remove(),delete this._setValueFilterHandle);this._getValueFilterHandle&&(this._getValueFilterHandle.remove(),delete this._getValueFilterHandle)},setSourceAreaCaret:function(){var c=this.sourceArea;r.focus(c);this._sourceShown&&!this.readOnly&&(c.setSelectionRange?c.setSelectionRange(0,0):this.sourceArea.createTextRange&&(c=c.createTextRange(),
c.collapse(!0),c.moveStart("character",-99999),c.moveStart("character",0),c.moveEnd("character",0),c.select()))},destroy:function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizeHandle&&(this._resizeHandle.remove(),delete this._resizeHandle);this._setListener&&(this._setListener.remove(),delete this._setListener);this.removeValueFilterHandles();this.inherited(arguments)}});l.registry.viewSource=l.registry.viewsource=function(c){return new b({readOnly:"readOnly"in c?
c.readOnly:!1,stripComments:"stripComments"in c?c.stripComments:!0,stripScripts:"stripScripts"in c?c.stripScripts:!0,stripIFrames:"stripIFrames"in c?c.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in c?c.stripEventHandlers:!0})};return b})},"arcgisonline/sharing/dijit/LinkDialog":function(){define("require exports tslib dijit/_editor/_Plugin dijit/_editor/plugins/LinkDialog dojo/on ../util ../../pages/utils/validation ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);var v=function(){function A(r,l){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'hide'\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit/form/Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"}
A.prototype._loadDropDown=function(){var r=this;this.inherited(arguments);var l=0,d=setInterval(function(){r._urlInput?(clearInterval(d),r._urlInput.isValid=function(){return!0}):15<l&&clearInterval(d);l++},1E3)};A.prototype._onOpenDialog=function(){this.inherited(arguments);var r=w["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var l=this.dropDown.containerNode;l.classList.add("text-left");
l.title=r.linkTitle;l.firstChild.textContent="";var d=l.children[0];d.className+="link-container__title font-size-1";d.style.cssText="";d.textContent=r.linkTitle;if(d=document.getElementById(this._uniqueId+"_textInputLabel"))d.innerHTML=r.text;if(d=document.getElementById(this._uniqueId+"_urlInputLabel"))d.innerHTML=r.url;this._setButton.set("label",r.update);r=l.querySelector("#"+this._uniqueId+"_textInput");var e=l.querySelector("#"+this._uniqueId+"_urlInput"),a=r.value;setTimeout(function(){a&&
e.focus()},150)};A.prototype._isValid=function(){var r=this._urlInput.get("value");if(!f["default"].isPortal()&&r.length&&-1<r.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,w["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};A.prototype._checkAndFixInput=function(){var r=this,l=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var d=
l,e=!1,a=!1;1<(null===d||void 0===d?void 0:d.length)&&(d=d.trim(),0!==d.indexOf("mailto:")&&(0<d.indexOf("/")?-1===d.indexOf("://")&&"/"!==d.charAt(0)&&d.indexOf("./")&&0!==d.indexOf("../")&&r._hostRxp.test(d)&&(e=!0):r._userAtRxp.test(d)&&(a=!0)));e&&-1===d.indexOf("{expression/")&&-1===d.indexOf("{relationships/")&&r._urlInput.set("value","http://"+d);a&&r._urlInput.set("value","mailto:"+d);r._setButton.set("disabled",!r._isValid())},250)};return A=n.__decorate([k["default"](u["default"])],A)}(),
C=function(){function A(r,l){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e";
this.htmlTemplate='\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e';this.tag="img"}A.prototype._getCurrentValues=function(r){if((null===r||void 0===r?void 0:r.tagName.toLowerCase())===this.tag){var l=r.getAttribute("_djrealurl")||r.getAttribute("src");var d=r.getAttribute("alt");this.editor.selection.selectElement(r,!0)}else d=this.editor.selection.getSelectedText();return{urlInput:l||"",textInput:d||""}};A.prototype._onOpenDialog=function(){this.inherited(arguments);
var r=w["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var l=this.dropDown.containerNode;l.classList.add("text-left");l.title=r.imageTitle;l.firstChild.textContent="";l=l.children[0];l.className+="link-container__title font-size-1";l.style.cssText="";l.textContent=r.imageTitle;if(l=document.getElementById(this._uniqueId+"_textInputLabel"))l.innerHTML=r.description;if(l=document.getElementById(this._uniqueId+
"_urlInputLabel"))l.innerHTML=r.url;this._setButton.set("label",r.update)};A.prototype._isValid=function(){var r=this._urlInput.get("value");if(!f["default"].isPortal()&&r.length&&-1<r.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,w["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};A.prototype._connectTagEvents=function(){var r=this;this.inherited(arguments);this.editor.onLoadDeferred.then(function(){r.own(h["default"](r.editor.editNode,
"mousedown",r._selectTag.bind(r)))})};A.prototype._selectTag=function(r){if(null===r||void 0===r?0:r.target)r=r.target,(r.tagName?r.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(r)};A.prototype._checkValues=function(r){if(null===r||void 0===r?0:r.urlInput)r.urlInput=r.urlInput.replace(/"/g,"\x26quot;");if(null===r||void 0===r?0:r.textInput)r.textInput=r.textInput.replace(/"/g,"\x26quot;");return r};A.prototype._onDblClick=function(r){if(r&&r.target&&(r=r.target,(r.tagName?
r.tagName.toLowerCase():"")===this.tag&&r.src)){var l=this.editor;this.editor.selection.selectElement(r);l.onDisplayChanged();l._updateTimer&&(l._updateTimer.remove(),delete l._updateTimer);l.onNormalizedDisplayChanged();var d=this.button;setTimeout(function(){d.set("disabled",!1);d.loadAndOpenDropDown().then(function(){d.dropDown.focus&&d.dropDown.focus()})},10)}};return A=n.__decorate([k["default"](u["default"])],A)}();t["default"].registry.createEsriLink=function(A){return new v({command:"createLink"})};
t["default"].registry.insertEsriImage=function(A){return new C({command:"insertImage"})};v.ImgLinkDialog=C;return v})},"dijit/_editor/plugins/LinkDialog":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string ../_Plugin ../../form/DropDownButton ../range".split(" "),function(R,N,n,t,u,h,f,g,k,w,v,C,A){var r=n("dijit._editor.plugins.LinkDialog",v,{allowUnsafeHtml:!1,linkFilter:[[/</g,"\x26lt;"]],buttonClass:C,
useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=h.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(d){R("dojo/i18n ../../TooltipDialog ../../registry ../../form/Button ../../form/Select ../../form/ValidationTextBox dojo/i18n!../../nls/common dojo/i18n!../nls/LinkDialog".split(" "),h.hitch(this,function(e,a,b){var c=this;this.tag="insertImage"==this.command?"img":"a";e=h.delegate(e.getLocalization("dijit","common",this.lang),e.getLocalization("dijit._editor",
"LinkDialog",this.lang));var m=this.dropDown=this.button.dropDown=new a({title:e[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:h.hitch(this,"setValue"),onOpen:function(){c._onOpenDialog();a.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(h.hitch(c,"_onCloseDialog"),0)}});e.urlRegExp=this.urlRegExp;e.id=b.getUniqueId(this.editor.id);this._uniqueId=e.id;this._setContent(m.title+"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+
w.substitute(this.linkDialogTemplate,e));m.startup();this._urlInput=b.byId(this._uniqueId+"_urlInput");this._textInput=b.byId(this._uniqueId+"_textInput");this._setButton=b.byId(this._uniqueId+"_setButton");this.own(b.byId(this._uniqueId+"_cancelButton").on("click",h.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",h.hitch(this,"_checkAndFixInput")));this._textInput&&this.own(this._textInput.on("change",h.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+
this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=h.hitch(this,function(){var p=this._urlInput.get("value");return this._urlRegExp.test(p)||this._emailRegExp.test(p)});this.own(f(m.domNode,"keydown",h.hitch(this,h.hitch(this,function(p){!p||p.keyCode!=u.ENTER||p.shiftKey||p.metaKey||p.ctrlKey||p.altKey||this._setButton.get("disabled")||(m.onExecute(),m.execute(m.get("value")))}))));d()}))},_checkAndFixInput:function(){var d=this,e=this._urlInput.get("value");
this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var a=e,b=!1,c=!1;a&&1<a.length&&(a=h.trim(a),0!==a.indexOf("mailto:")&&(0<a.indexOf("/")?-1===a.indexOf("://")&&"/"!==a.charAt(0)&&a.indexOf("./")&&0!==a.indexOf("../")&&d._hostRxp.test(a)&&(b=!0):d._userAtRxp.test(a)&&(c=!0)));b&&d._urlInput.set("value","http://"+a);c&&d._urlInput.set("value","mailto:"+a);d._setButton.set("disabled",!d._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(h.hitch(this,
function(){this.own(f(this.editor.editNode,"mouseup",h.hitch(this,"_onMouseUp")));this.own(f(this.editor.editNode,"dblclick",h.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(d){this.dropDown.set({parserScope:"dojo",content:d})},_checkValues:function(d){d&&d.urlInput&&(d.urlInput=d.urlInput.replace(/"/g,"\x26quot;"));!this.allowUnsafeHtml&&d&&d.textInput&&("function"===typeof this.linkFilter?d.textInput=this.linkFilter(d.textInput):
N.forEach(this.linkFilter,function(e){d.textInput=d.textInput.replace(e[0],e[1])}));return d},_createlinkEnabledImpl:function(){return!0},setValue:function(d){this._onCloseDialog();if(9>g("ie")){var e=A.getSelection(this.editor.window).getRangeAt(0).endContainer;3===e.nodeType&&(e=e.parentNode);e&&e.nodeName&&e.nodeName.toLowerCase()!==this.tag&&(e=this.editor.selection.getSelectedElement(this.tag));e&&e.nodeName&&e.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(e),
this.editor.execCommand("unlink"))}d=this._checkValues(d);this.editor.execCommand("inserthtml",w.substitute(this.htmlTemplate,d));k("a",this.editor.document).forEach(function(a){a.innerHTML||t.has(a,"name")||a.parentNode.removeChild(a)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(d){if(d&&d.tagName.toLowerCase()===this.tag){var e=d.getAttribute("_djrealurl")||d.getAttribute("href");var a=d.getAttribute("target")||"_self";var b=d.textContent||
d.innerText;this.editor.selection.selectElement(d,!0)}else b=this.editor.selection.getSelectedText();return{urlInput:e||"",textInput:b||"",targetSelect:a||""}},_onOpenDialog:function(){if(g("ie")){var d=A.getSelection(this.editor.window);if(d.rangeCount){var e=d.getRangeAt(0);var a=e.endContainer;3===a.nodeType&&(a=a.parentNode);a&&a.nodeName&&a.nodeName.toLowerCase()!==this.tag&&(a=this.editor.selection.getSelectedElement(this.tag));if(!a||a.nodeName&&a.nodeName.toLowerCase()!==this.tag)(d=this.editor.selection.getAncestorElement(this.tag))&&
d.nodeName&&d.nodeName.toLowerCase()==this.tag?(a=d,this.editor.selection.selectElement(a)):e.startContainer===e.endContainer&&(d=e.startContainer.firstChild)&&d.nodeName&&d.nodeName.toLowerCase()==this.tag&&(a=d,this.editor.selection.selectElement(a))}}else a=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(a))},_onDblClick:function(d){if(d&&d.target&&(d=d.target,(d.tagName?d.tagName.toLowerCase():
"")===this.tag&&t.get(d,"href"))){var e=this.editor;this.editor.selection.selectElement(d);e.onDisplayChanged();e._updateTimer&&(e._updateTimer.remove(),delete e._updateTimer);e.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}},_onMouseUp:function(){if(g("ff")){var d=this.editor.selection.getAncestorElement(this.tag);if(d){var e=A.getSelection(this.editor.window).getRangeAt(0);
if(e.collapsed&&d.childNodes.length){var a=e.cloneRange();a.selectNodeContents(d.childNodes[d.childNodes.length-1]);a.setStart(d.childNodes[0],0);1!==e.compareBoundaryPoints(a.START_TO_START,a)?e.setStartBefore(d):-1!==e.compareBoundaryPoints(a.END_TO_START,a)&&e.setStartAfter(d)}}}}}),l=n("dijit._editor.plugins.ImgLinkDialog",[r],{linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(d){if(d&&d.tagName.toLowerCase()===this.tag){var e=d.getAttribute("_djrealurl")||d.getAttribute("src");var a=d.getAttribute("alt");this.editor.selection.selectElement(d,!0)}else a=this.editor.selection.getSelectedText();return{urlInput:e||"",textInput:a||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);
this.editor.onLoadDeferred.then(h.hitch(this,function(){this.own(f(this.editor.editNode,"mousedown",h.hitch(this,"_selectTag")))}))},_selectTag:function(d){d&&d.target&&(d=d.target,(d.tagName?d.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(d))},_checkValues:function(d){d&&d.urlInput&&(d.urlInput=d.urlInput.replace(/"/g,"\x26quot;"));d&&d.textInput&&(d.textInput=d.textInput.replace(/"/g,"\x26quot;"));return d},_onDblClick:function(d){if(d&&d.target&&(d=d.target,(d.tagName?
d.tagName.toLowerCase():"")===this.tag&&t.get(d,"src"))){var e=this.editor;this.editor.selection.selectElement(d);e.onDisplayChanged();e._updateTimer&&(e._updateTimer.remove(),delete e._updateTimer);e.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}}});v.registry.createLink=function(d){var e={command:"createLink",allowUnsafeHtml:"allowUnsafeHtml"in d?d.allowUnsafeHtml:!1};
"linkFilter"in d&&(e.linkFilter=d.linkFilter);return new r(e)};v.registry.insertImage=function(){return new l({command:"insertImage"})};r.ImgLinkDialog=l;return r})},"arcgisonline/pages/dijit/Card":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/string ./Card/_CardBase dojo/text!./Card/Card.html dojo/text!./Card/MinimalCard.html dojo/i18n!../../nls/arcgisonline".split(" "),function(R,N,n,t,u,h,f,g,k){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function w(v,C){this.alwaysShowDrag=this.draggable=!1;this.templateString=v.minimal?g["default"]:f["default"]}w.prototype.postMixInProperties=function(){var v,C;this.inherited(arguments);this.item.ownerText=null!==(C=null===(v=this.item.verified)||void 0===v?void 0:v.name)&&void 0!==C?C:this.item.owner;this.item.viewMsg=u["default"].substitute(k["default"].viewsWidget.universalViewsMsgAlone,{viewcount:this.item.numViews})};
w.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};w.prototype.setDraggable=function(v){(this.draggable=v)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return w=n.__decorate([t["default"](h["default"])],w)}()})},"arcgisonline/pages/dijit/Card/_CardBase":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Favorite ../ItemShareSummary ../../utils/formatters ../../utils/item ../../utils/setItemUrls ../../utils/icons ../../utils/arrays ../../utils/dom ../../item/_Actions ../../../esriGeowConfig ./_getItemClasses dojo/text!./Card.html dojo/text!./OpenDropdown.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../OrgPopup/OrgPopup".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=
n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);var D;(function(F){F.notebook="notebookViewer";F.map="mapViewer";F.newMap="newMapViewer";F.download="download";F.desktop="openDesktop";F.pro="openPro";F.story="storyMapViewer"})(D||(D={}));return function(){function F(x){this.i18n=y["default"];this.template=p["default"];this.fullDate=A["default"].fullDate;this.completeDate=A["default"].completeDate;this.empty=A["default"].empty;this.getAccess=A["default"].getAccess;
this.getAccessIcon=A["default"].getAccessIcon;this.formatNumViews=A["default"].formatNumViews;this.formatViewsLabel=A["default"].formatViewsLabel;this.hasSharedOwnershipGroups=this.fullItemTypes=!1;this.hide=A["default"].hide;this.show=A["default"].show;this.icons=d["default"];this.isImage=!1;this.imageClass="";this.cssClasses=[];this.select=this.favoritesDisabled=!1;this.checked=this.selectedClass="";this.selectItem=y["default"].GroupWidget.selectItem;this.disabled="disabled";this.addSearchTelemetryParams=
!1;this.searchTerm="";this.canCreateNotebooks=!1}F.prototype.postMixInProperties=function(){var x=this,E,G,H,J,M,K;this.formatDisplayName=A["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.favoritesDisabled=!this.portalUser;this.selectCardClass=this.select?"card-select":"";this.isSelected&&(this.selectedClass="card-select-active",this.checked="checked",this.selectItem=y["default"].GroupWidget.unselectItem);this.hasSublayers=!(null===(E=this.item.sublayers)||void 0===E||!E.length);
this.removedClass=this.isRemoved?"card-select-removed":"";this.item.canShare=this.allowShare&&r["default"].canShareItem(this.item,this.portalUser);this.item.isAdmin=null!==(G=this.item.isAdmin)&&void 0!==G?G:(null===(H=this.portalUser)||void 0===H?void 0:H.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId;this.item.snippet=250<this.item.snippet.length?this.item.snippet.substring(0,250)+"\u2026":this.item.snippet;this.item.badges=r["default"].getBadges(this.item,this.isWide,this.portalUser);
this.item.ownerText=A["default"].formatOwnerText(this.item);this.item.accessIcon=A["default"].getAccessIcon(this.item.access);this.canCreateNotebooks=null===(J=this.portalUser)||void 0===J?void 0:J.userRole.canCreateNotebooks();this.item.openIn.forEach(function(L){return l["default"][L](x.item)});this.item.downloadUrl="file"===this.item.classification?l["default"].getItemDataUrl(this.item):"";this.item.defaultOpenUrl=this._getDefaultOpenUrl(this.item);this.item.defaultOpenIcon=this.item.defaultOpenIcon||
"launch";this.item.defaultOpenSvg=null!==(K=null===(M=d["default"].inline[this.item.defaultOpenIcon])||void 0===M?void 0:M["16"])&&void 0!==K?K:d["default"].inline.launch["16"];this.item.defaultOpenText=this._getDefaultOpenText(this.item);this._setDefaultThumbnail(this.item);this.cssClasses=m["default"](this.item,this.portalUser);"Image"===this.item.type&&(this.isImage=!0,this.imageClass="card--image-item")};F.prototype._setDefaultThumbnail=function(x){var E;x.thumbnailUrl=null!==(E=this.useMostRecentToken(x.thumbnailUrl))&&
void 0!==E?E:"";"Notebook"===x.type&&(E=c["default"].baseUrl+"js/arcgisonline/css/images/notebook-thumb.png",x.thumbnailUrl=x.thumbnailUrl||E);x.largeThumbnailUrl=""+x.thumbnailUrl+(-1<x.thumbnailUrl.search("\\?token\x3d")?"\x26":"?")+"w\x3d400"};F.prototype.useMostRecentToken=function(x){var E,G=this.item.portal.getPortalUser(),H=null===(E=null===G||void 0===G?void 0:G.credential)||void 0===E?void 0:E.token;return l["default"].swivelToken(x,null===G||void 0===G?void 0:G.token,H)};F.prototype._getDefaultOpenText=
function(x){return"Notebook"!==x.type||this.canCreateNotebooks?this.item.defaultOpenText||y["default"].itemLinks.viewDetails:y["default"].itemLinks.viewDetails};F.prototype.postCreate=function(){var x=this,E,G;this.inherited(arguments);this.cssClasses.filter(function(U){return U}).forEach(function(U){return x.domNode.classList.add(U)});var H=this.item,J=this.portalUser,M=this.domNode.querySelector(".js-favorites-container"),K=this.domNode.querySelector(".js-open-dropdown-container"),L=this.domNode.querySelector(".js-default-open");
this.favoritesDisabled||(this._favoriteDijit=new v["default"]({item:H},M));K&&t["default"].place(h["default"].substitute(q["default"],{item:H,i18n:y["default"],icons:d["default"],telemetryParams:this.addSearchTelemetryParams?"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+this.itemIndex+"\x26searchTerm\x3d"+this.searchTerm+"\x26searchFacet\x3dcard%20dropdown%20item%20details":""},null,this),K);if("Feature Service"===H.type||"Feature Collection"===H.type)M=this.domNode.querySelector(".js-layers-tables"),
K=this.domNode.querySelector(".js-layers-tables-toggle"),M&&K&&c["default"].deepLayerSearchEnabled&&a["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:H,layers:H.sublayers,portal:H.portal,api:3,user:J,searchTerm:this.searchTerm,config:c["default"],telemetry:this.telemetry,border:!0,tooltip:this.formatDisplayName(H.displayName),i18nNoService:y["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:y["default"].SelectLayersWFS.noLayers},M).appendChild(K);
new C["default"]({item:H,portalUser:J,right:!0,canShare:this.item.canShare,allowShare:this.allowShare,showShareGroups:this.showShareGroups&&this.isWide,telemetry:this.telemetry},this.domNode.querySelector(".js-share-summary"));if(L){H=this.item.defaultOpenUrl;if(H===D.download||H===D.desktop||H===D.pro)L.classList.add("js-action"),L.setAttribute("data-action",this.item.defaultOpenUrl);this.item.defaultOpenUrl===D.newMap&&(H="modern"===this.item.portal.defaultMapViewer&&this.item.canOpenInNewMapViewer?
this.item.newMapViewerUrl:this.item.mapViewerUrl,L.href=H,L.setAttribute("data-href",H));(H=this.item.openIn)&&H[0]&&H[0]!==D.map&&this.item[H[0]+"Url"]&&L.setAttribute("target","_blank")}this._addEventListeners();(null===(E=this.item.portal)||void 0===E?0:E.isPortal)&&a["default"].hideNodes(null===(G=this.domNode)||void 0===G?void 0:G.querySelectorAll(".js-hide-portal"))};F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy()};F.prototype._getDefaultOpenUrl=function(x){var E=
"item.html?id\x3d"+x.id,G=x.openIn&&x.openIn[0];return x.defaultOpenText===y["default"].itemLinks.openDesktop?D.desktop:x.defaultOpenText===y["default"].itemLinks.openPro?D.pro:x.defaultOpenText===y["default"].itemLinks.openVRExperience?x.vrExperienceUrl:!G||G!==D.notebook||this.portalUser&&this.portalUser.userRole.canCreateNotebooks()?G&&G!==D.map&&x[G+"Url"]?x[G+"Url"]:"download-to"===x.defaultOpenIcon||e["default"].includes(x.types,"is-pdf")?D.download:G===D.map?D.newMap:G===D.story?D.story:E:
E};F.prototype._addEventListeners=function(){var x=this;this.own(u["default"](".js-card-select-check-mark-wrap",this.domNode).on("click",function(G){G.stopPropagation()}),u["default"](".js-card-select-check-mark",this.domNode).on("change",function(G){x[G.target.checked?"_select":"_deselect"]()}),u["default"](this.domNode).on("click",this._toggleSelected.bind(this)),u["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),u["default"](".js-action",this.domNode).on("click",
this._handleAction.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),u["default"](".js-card-image",this.domNode).on("error",this._cardImageError.bind(this)),u["default"](".js-card-title-link",this.domNode).on("click",this._cardOpen.bind(this)),u["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),u["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),this.item.watch(this._itemUpdate.bind(this)));
var E=this.domNode.querySelector(".js-verified-owner-link");E&&this.own(f["default"](E,"click",this.showOrgPopup.bind(this)));this._favoriteDijit&&this.own(this._favoriteDijit.on("click",function(G){G.stopPropagation()}))};F.prototype._handleAction=function(x){var E=this;x.preventDefault();var G=x.currentTarget.getAttribute("data-action"),H=this.item,J=this.portalUser,M=this.item.portal;if(G&&b["default"][G])if("share"!==G||this.item.isOwner)b["default"][G]({evt:x,item:H,user:J,portal:M});else this.item.getOwnerProfile(!0,
!0).then(function(K){E.item.itemOwner=K;b["default"].share({evt:x,item:H,user:J,portal:M})})};F.prototype._select=function(){this.domNode.classList.add("card-select-active");this.item.isSelected=!0;var x=this.domNode.querySelector(".js-card-select-check-mark");x.parentNode.setAttribute("aria-label",y["default"].GroupWidget.unselectItem);x.checked=!0;g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("card-select-active");this.item.isSelected=
!1;var x=this.domNode.querySelector(".js-card-select-check-mark");x&&(x.parentNode.setAttribute("aria-label",y["default"].GroupWidget.selectItem),x.checked=!1);g["default"].publish("view/deselect",this.item)};F.prototype._toggleSelected=function(x){"ARCGIS-LAYERS-AND-TABLES-SUMMARY-POPUP"!==x.target.tagName&&this.select&&(this.domNode.classList.contains("card-select-active")?this._deselect():this._select())};F.prototype._showProfile=function(x){x.stopPropagation();g["default"].publish("profile/show",
x)};F.prototype.showOrgPopup=function(x){x.stopPropagation();(new z["default"]({item:this.item,opener:x.target})).open()};F.prototype._cardImageError=function(x){x.preventDefault();x.target.src="js/arcgisonline/css/images/default_thumb.png"};F.prototype._cardOpen=function(x){g["default"].publish("card/open",this.itemIndex,x)};F.prototype._itemUpdate=function(x,E,G){g["default"].publish("item/update",{item:this.item,name:x,oldValue:E,value:G})};F.prototype._shareItemDropdown=function(x){this.domNode.querySelector(".js-item-share-dropdown").blur()};
F.prototype._categorizeItem=function(){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=n.__decorate([B["default"](k["default"],w["default"])],F)}()})},"arcgisonline/pages/dijit/Favorite":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-class dojo/on dojo/topic dojo/text!./Favorite/Favorite.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/icons ../../sharing/geow/Content ./_CheckReadonlyMixin".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(e,a){this.templateString=g["default"];this.i18n=k["default"]}d.prototype.postMixInProperties=function(){this.inherited(arguments)};d.prototype.postCreate=function(){this.inherited(arguments);
this._setState(this.item.isFavorite);this._addEventListeners()};d.prototype.getFavorite=function(){var e=this;C["default"].isFavorite(this.item).then(function(a){e._setState(a)},function(){e._setState(!1)})};d.prototype._setState=function(e){void 0!==this.button&&((this.isFavorite=e)?(this.button.setAttribute("aria-label",k["default"].common.unfavorite),u["default"].add(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.isFavorite+"\x3c/span\x3e"+
A["default"]["star-f"]["16"]):(this.button.setAttribute("aria-label",k["default"].common.favorite),u["default"].remove(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.notFavorite+"\x3c/span\x3e"+A["default"].star["16"]))};d.prototype._addEventListeners=function(){this.own(h["default"](this.button,"click",this._clickHandler.bind(this)))};d.prototype._clickHandler=function(e){var a=this;this.checkReadonly(this.item.portal)||(e=this.isFavorite?
"removeFromFavorites":"addToFavorites",this._setState(!this.isFavorite),this.item.set("isFavorite",this.isFavorite),r["default"][e](this.item).then(function(){a.button.blur()},function(b){f["default"].publish("alert/show",{type:"error",text:null===b||void 0===b?void 0:b.message});a._setState(!a.isFavorite);a.item.set("isFavorite",!a.isFavorite)}))};return d=n.__decorate([t["default"](v["default"],w["default"],l["default"])],d)}()})},"arcgisonline/pages/dijit/ItemShareSummary":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/on dojo/dom-construct dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../utils/icons ../utils/dom ../utils/item dojo/text!./ItemShareSummary/ItemShareSummary.html dojo/text!./ItemShareSummary/ItemShareSummaryOverflow.html dojo/i18n!../../nls/arcgisonline ../item/_Actions ../organization/widgets/GroupIcon".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);return function(){function a(b,c){this.templateString=A["default"];this.i18n=l["default"];this.icons=w["default"];this.showShareGroups=
this.canShare=this.right=!1;this.responsive=!0;this.totalGroups=0;this.responsiveClass=this.directionClass=""}a.prototype.postMixInProperties=function(){this.inherited(arguments);var b={"private":w["default"].user["16"],shared:w["default"].user["16"],org:w["default"].organization["16"],"public":w["default"].globe["16"]},c={"private":l["default"].itemSharing.owner,shared:l["default"].itemSharing.owner,org:l["default"].itemSharing.org,"public":l["default"].itemSharing["public"]};this.levelIcon=this.item.access&&
b[this.item.access]||"";this.levelTooltip=l["default"].itemSharing.shareLevel+" "+c[this.item.access];this.right&&(this.directionClass="share-summary--right");this.responsive&&(this.responsiveClass="share-summary--responsive")};a.prototype.postCreate=function(){var b=this,c;this.inherited(arguments);var m=!this.showShareGroups&&"shared"===this.item.access,p=this.showShareGroups&&0<(null===(c=this.item.groupData)||void 0===c?void 0:c.length),q=this.domNode.querySelector(".js-share-button"),y=l["default"].itemSharing.updateSharing;
c=l["default"].itemSharing.ariaLabels.privateGroups;"shared"!==this.item.access&&(c=l["default"].itemSharing.ariaLabels[""+this.item.access+(p?"Groups":"")]);this.allowShare&&(this.item.canShare||C["default"].canShareItem(this.item,this.portalUser))?(this.own(u["default"](q,"click",this.handleClick.bind(this))),q.classList.add("share-summary__button--editable")):(y=h["default"].create("span"),h["default"].place(y,q,"before"),y.innerHTML=q.innerHTML,q.parentNode.removeChild(q),q=y,v["default"].addClasses(q,
"share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short".split(" ")),q.querySelector(".js-icon").tabIndex=0,y="");var B=""+y+(y?", ":"")+l["default"].itemSharing.shareLevel+" "+c;q.setAttribute("aria-label",l["default"].itemSharing.shareLevel+" "+c+" "+y);q.setAttribute("data-tooltip",B);p&&(this.totalGroups=this.item.sharedGroups||0,this.item.groupData.slice(0,3).forEach(function(z){z.id=z.id||z.groupId;z.title=z.title||z.groupTitle;z.thumbnail=
z.thumbnail||z.groupThumbnail;new e["default"]({group:z,portal:b.item.portal,size:"24",letterSize:"16",tooltipClass:"",cssClasses:"flex-0 share-summary__group"},h["default"].create("div",{},q))}),3<this.totalGroups&&h["default"].place(f["default"].substitute(r["default"],{num:this.totalGroups-3}),q,"last"));m&&this.domNode.classList.add("share-summary--show-unknown-group");p&&this.domNode.classList.add("share-summary--show-unknown-group-responsive");m||p||(this.domNode.querySelector(".js-sharing-plus-icon").classList.add("hide"),
this.domNode.classList.add("share-summary--no-groups"))};a.prototype.handleClick=function(b){var c=this;b.preventDefault();b.stopPropagation();var m=this.item,p=this.telemetry,q=m.portal,y=this.portalUser;this.item.isOwner?d["default"].share({evt:b,item:m,user:y,portal:q,telemetry:p}):this.item.getOwnerProfile(!0,!0).then(function(B){c.item.itemOwner=B;d["default"].share({evt:b,item:m,user:y,portal:q,telemetry:p})})};return a=n.__decorate([t["default"](k["default"],g["default"])],a)}()})},"arcgisonline/pages/dijit/Card/_getItemClasses":function(){define("require exports tslib ../../utils/arrays ../../utils/organization dojo/sniff arcgisonline/pages/utils/mapViewer".split(" "),
function(R,N,n,t,u,h,f){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);N["default"]=function(g,k){var w,v,C,A=g.url||"";var r=g.isHostedService;var l=g.serviceInfo||{},d=null!==(v=null===l||void 0===l?void 0:l.capabilities)&&void 0!==v?v:"";v=null===k||void 0===k?void 0:k.userRole;A=k&&-1<A.indexOf(k.orgId);d=-1<d.indexOf("Editing");l=t["default"].includes(g.typeKeywords,"Multi Services View")||l.isMultiServicesView;var e=g.isAdminView?
null===v||void 0===v?void 0:v.canUpdateOrgItems():g.canUpdate;r=r&&!l&&(e||d&&(null===v||void 0===v?void 0:v.canEditFeaturesFullControl())&&A);r=null!==(C=g.canEditService)&&void 0!==C?C:r;g.isEditableByUser=r;C=h["default"]("trident");r=u["default"].isMobile();C=C||r;v="Scene Service"===g.type&&t["default"].includes(g.typeKeywords,"Voxel");l=g.portal.isPortal;r=[].concat(g.types);r.push(g.hasResources?"has-resources":"");r.push(g.hasViewStyle?"has-viewStyle":"");r.push(g.url?"has-url":"");r.push(!l&&
t["default"].includes(g.typeKeywords,"Presentation Map")?"has-presentation":"");r.push((null===k||void 0===k?0:k.isOrgUser)&&"Form"===g.type?"is-surveyForm":"");r.push(g.portal&&!g.portal.isPortal&&(null===k||void 0===k?0:k.isOrgUser)&&"Form"===g.type?"is-surveyFormBrowser":"");r.push(g.isConfigurableApp?"can-configure":"");r.push(g.isEditableByUser&&"Feature Service"===g.type?"can-edit-service":"");r.push(v?"is-voxel":"");r.push(g.isOwner?"is-owner":"");r.push(g.isAdmin?"is-admin":"");r.push((null===
k||void 0===k?0:k.isOrgUser)?"":"is-public-user");r.push((null===k||void 0===k?0:k.isOrgAdmin)?"is-admin":"");r.push(g.canUpdate?"can-update":"is-viewer");r.push(t["default"].includes(g.typeKeywords,"Web AppBuilder")&&g.canUpdate&&!g.origin?"can-edit-wab":"");r.push(!l&&g.canUpdate?"can-create-presentation":"");r.push((null===k||void 0===k?0:k.isOrgUser)&&"Notebook"===g.type?"is-notebook":"");v=-1<(null===(w=g.openIn)||void 0===w?void 0:w.indexOf("mapViewer"));r.push(v&&!C?"is-map-viewer-beta":"");
r.push(k&&(null===k||void 0===k?void 0:k.defaultMapViewer)!==f.MapViewerType.Modern?"is-map-viewer-classic":"is-map-viewer-modern");"OGCFeatureServer"===g.type&&r.push("no-legacy-viewer-support");g.addBlockClasses(r);return r}})},"arcgisonline/pages/dijit/OrgPopup/OrgPopup":function(){define("require exports tslib esri/Evented dojo/text!./OrgPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/popup dijit/TooltipDialog arcgisonline/pages/utils/dom arcgisonline/pages/utils/focus arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(a,b){this.templateString=u["default"];this.i18n=h["default"];this.icons=l["default"]}e.prototype.postCreate=function(){this.inherited(arguments);
this.dialog=new C["default"]({"class":"profile-popup",title:"",content:this.domNode,_onKey:this.handleDialogKeydown.bind(this)});this.render();this.addEventListeners()};e.prototype.open=function(){var a=this;v["default"].open({popup:this.dialog,orient:["below","above"],around:this.opener,onCancel:function(){a.opener.focus();a.close()}});this.dialog.domNode.parentElement.classList.add("profile-popup__container");var b=r["default"].getFocusableElements(this.dialog.domNode);this.firstFocusItem=b[0];
this.lastFocusItem=b[b.length-1];this.firstFocusItem.focus();setTimeout(function(){A["default"].showHide(a.descToggle,a.descEl.scrollHeight>a.descEl.clientHeight)},100)};e.prototype.close=function(){v["default"].close(this.dialog);this.dialog.destroy();this.destroy();this.emit("close")};e.prototype.render=function(){A["default"].showHide(this.descContainer,!!this.item.verified.description);this.item.verified.description&&(this.descEl.innerHTML=this.item.verified.description)};e.prototype.addEventListeners=
function(){var a=this;this.own(f["default"](this.closeIcon,"click",function(){v["default"].close(a.dialog)}),f["default"](this.domNode,"click",function(b){b.stopPropagation()}),f["default"](document.body,"click",function(){a.close()}),f["default"](this.descToggle,"click",function(){return a.handleDescToggle()}))};e.prototype.handleDialogKeydown=function(a){var b=this;if(a.keyCode===g["default"].TAB)if(a.stopPropagation(),this.lastFocusItem!==a.target||a.shiftKey)a.shiftKey&&this.firstFocusItem===
a.target&&(a.preventDefault(),this.opener.focus(),this.close());else{a.preventDefault();var c=r["default"].getFocusableElements(document.body);c.forEach(function(m,p){m===b.opener&&c[p+1].focus()});this.close()}};e.prototype.handleDescToggle=function(){this.descContainer.classList.toggle("profile-popup__bio-container--expanded")};return e=n.__decorate([d["default"](w["default"],k["default"],t["default"])],e)}()})},"arcgisonline/pages/dijit/CardMobile":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/text!./CardMobile/CardMobile.html ../utils/formatters ./Card/_CardBase".split(" "),
function(R,N,n,t,u,h,f){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);return function(){function g(k){this.templateString=u["default"];this.alwaysShowDrag=this.draggable=!1}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.item.ownerText=h["default"].formatOwnerText(this.item,!0)};g.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};
g.prototype.setDraggable=function(k){(this.draggable=k)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return g=n.__decorate([t["default"](f["default"])],g)}()})},"arcgisonline/pages/group/widgets/AddItemsToGroup":function(){define("require exports tslib esri/request esri/Evented dojo/Deferred dojo/i18n!../../../nls/arcgisonline dojo/query dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/_CheckReadonlyMixin arcgisonline/pages/utils/arrays arcgisonline/pages/utils/alerts arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgis-components/wrappers/Share arcgis-components/wrappers/ItemBrowser arcgisonline/tsutils/declareDecorator arcgisonline/pages/utils/promises".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){function c(m,p){void 0===p&&(p=100);for(var q=[],y=0;y<Math.ceil(m.length/p);y++)q.push(m.slice(y*p,(y+1)*p));return q.filter(function(B){return 0<B.length})}t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);a=n.__importDefault(a);
return function(){function m(p,q){this.templateString="\x3cdiv\x3e\x3c/div\x3e";this.i18n=f["default"];this.canShareItemToGroup=!1}m.prototype.postCreate=function(){var p,q,y;this.inherited(arguments);this.canShareItemToGroup=null===(y=null===(q=null===(p=this.portalUser)||void 0===p?void 0:p.userRole)||void 0===q?void 0:q.canShareItemToGroup)||void 0===y?void 0:y.call(q)};m.prototype.openItemBrowser=function(){if(!this.checkReadonly()){document.documentElement.classList.add("overflow-hidden");this.itemBrowserContainer||
(this.itemBrowserContainer=document.createElement("div"),document.body.appendChild(this.itemBrowserContainer));if(this.itemBrowser)return this.itemBrowser.renderContainer.children[0].classList.remove("hide");this.createItemBrowser(this.itemBrowserContainer)}};m.prototype.checkForUserContent=function(){var p=this,q;return this.portal.queryItems({q:'owner:"'+(null===(q=this.portalUser)||void 0===q?void 0:q.username)+'"',num:1}).then(function(y){p.userHasContent=0<(null===y||void 0===y?void 0:y.total);
return p.userHasContent})};m.prototype.createItemBrowser=function(p){var q=this,y="myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),B="myContent",z=this.group.capabilities&&C["default"].includes(this.group.capabilities,"updateitemcontrol");this.portalUser.canCreateItems&&this.userHasContent||(y.splice(y.indexOf("myContent"),1),B="all");this.canShareItemToGroup||y.splice(y.indexOf("myOrganization"),1);this.portal.isPortal&&(y.splice(y.indexOf("all"),1),"all"===B&&(B="livingAtlas"));
z&&(y=["myContent"]);var D=new h["default"],F=function(E,G){var H;return n.__assign(n.__assign({},E),(H={},H[G.id]=G,H))},x=this.portal.portalUrl+"content/groups/"+this.group.id;r["default"].request({url:x}).then(function(E){var G=E.items.reduce(F,{});if(-1===E.nextStart)D.resolve(G);else{var H=Math.ceil(E.total/100)-1,J=0;for(E=0;E<H;E++)r["default"].request({url:x,start:100*(E+1)+1}).then(function(M){J+=1;M=M.items.reduce(F,{});G=n.__assign(n.__assign({},G),M);J===H&&D.resolve(G)})}});y={layoutMode:"adjustable",
allowedItemTypes:[],resultsPerQuery:20,usePrimaryButtonStyle:!1,asynchronousItemSelect:!0,disableOnSelect:!0,mainActionTitle:f["default"].common.addItem2,mainInverseActionTitle:f["default"].GroupWidget.itemAdded,noItemsFoundText:f["default"].GroupWidget.noItemsFound,dialogTitle:f["default"].GroupWidget.addContentToGroup,submitButtonText:f["default"].GroupWidget.addItems,cancelButtonText:f["default"].GroupWidget.cancel,onBulkAction:this.handleBulkItemBrowserAction.bind(this),baseSections:y,onBack:this.closeItemBrowser.bind(this),
enableMapAreaFilter:!1,showSubResources:{},addQueryParameters:function(){var E=q.itemBrowser.store.getState().parameters.section;q.showItemAccessWarning(E);return q.composeQueryParameters(E,q.portalUser)},multiSelect:!0,initiallySelectedItemsDfd:D,disableInitiallySelectedItems:!0,disabledCheckboxTooltipText:f["default"].GroupWidget.disabledCheckboxTooltipText};this.itemBrowser=new e.ItemBrowserWrapper(p,{apiVersion:3,portal:this.portal,request:t["default"],telemetry:this.telemetry,appName:"add items to group",
initialState:{settings:{config:y},parameters:{section:B,sort:{field:"modified",order:"desc"}}}})};m.prototype.closeItemBrowser=function(){document.documentElement.classList.remove("overflow-hidden");this.itemBrowser.renderContainer.children[0].classList.add("hide");this.emit("close");this.destroyItemBrowser()};m.prototype.destroyItemBrowser=function(){this.itemBrowserContainer.innerHTML="";this.itemBrowser=null};m.prototype.showItemAccessWarning=function(p){this.canShareItemToGroup?"myFavorites"===
p||"myGroups"===p||"myOrganization"===p||"all"===p?g["default"](".ib-ex-alert-container").removeClass("hide"):g["default"](".ib-ex-alert-container").addClass("hide"):"myContent"===p||"myFavorites"===p||"all"===p?g["default"](".ib-ex-alert-container").removeClass("hide"):g["default"](".ib-ex-alert-container").addClass("hide")};m.prototype.composeQueryParameters=function(p,q){var y,B='(-type:"Native Application Installer")  '+((null===(y=this.group.capabilities)||void 0===y?0:y.includes("distributed"))||
"org"!==this.group.membershipAccess?"-typekeywords:EditExtensionIndoorsSpaces":"");y="(access:public OR (access:org orgid:"+q.orgId+"))";switch(p){case "myFavorites":this.canShareItemToGroup&&(B=y);break;case "myOrganization":B="(-access:shared -access:private)";break;case "myGroups":this.canShareItemToGroup&&(B=y);break;case "all":this.canShareItemToGroup&&(B=y);break;case "livingAtlas":this.canShareItemToGroup||(B='(-typekeywords:"Requires Subscription" OR -typekeywords: "Requires Credits")')}this.canShareItemToGroup||
(B+="(access:public)");this.group.capabilities&&C["default"].includes(this.group.capabilities,"updateitemcontrol")&&(B+=' -typekeywords:"Offline Map Areas"');return B+l["default"].viewQueries.none};m.prototype.handleBulkItemBrowserAction=function(p){var q=this,y,B=p.newlySelectedItems,z=d.getShimmedRequest(t["default"]),D=0;this.group.groupContent({q:(null===(y=null===l["default"]||void 0===l["default"]?void 0:l["default"].viewQueries)||void 0===y?void 0:y.none)||""},!0).then(function(F){var x=c(B).map(function(E){var G=
new h["default"];d.shareItems({items:E,groups:[q.group],restUrl:l["default"].restBaseUrl,request:z,portalUser:q.portalUser,ignoreShareLevel:!0}).then(function(){return G.resolve()})["catch"](function(){return G.reject()});return G});D=F.total;b.all(x).then(function(){q.closeItemBrowser();A["default"].showAlert("success",1===B.length?f["default"].GroupWidget.addedItem:f["default"].GroupWidget.addedItems);setTimeout(function(){q.checkAddedItems(B,D).then(function(){q.emit("items/added")})},500)},function(E){q.closeItemBrowser();
var G=1<B.length?B:[];G.length?setTimeout(function(){q.checkAddedItems(G,D).then(function(){q.emit("items/added")})},500):q.emit("items/added");A["default"].showAlert("error","GWM_0021"===(null===E||void 0===E?void 0:E.messageCode)?E.message:E)})})};m.prototype.checkAddedItems=function(p,q,y){var B=this,z;void 0===y&&(y=0);var D=(null===(z=null===l["default"]||void 0===l["default"]?void 0:l["default"].viewQueries)||void 0===z?void 0:z.none)||"";return this.group.groupContent({q:D},!0).then(function(F){if(!p.length||
F.total>=p.length+q||9===y)return F;var x=new h["default"];setTimeout(function(){B.checkAddedItems(p,q,y+1).then(function(E){x.resolve(E)})},500);return x})};return m=n.__decorate([a["default"](w["default"],k["default"],v["default"],u["default"])],m)}()})},"arcgisonline/sharing/dijit/CopyToClipboard":function(){define("require exports tslib ../../pages/utils/icons ../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/text!./templates/CopyToClipboard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(R,N,n,t,u,h,f,g,k){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function w(v,C){this.templateString=g["default"];this.icons=t["default"];this.i18n=k["default"];this.tooltipModifier="";this.icon="copy-to-clipboard"}w.prototype.postMixInProperties=function(){this.inherited(arguments);this.copySupported=document.queryCommandSupported("copy")};w.prototype.postCreate=function(){this.copySupported||
(this.domNode.querySelector(".js-copy-group").classList.remove("input-group"),this.domNode.querySelector(".js-copy-tooltip").classList.add("hide"))};w.prototype.copy=function(v){v=this.domNode.querySelector("#copy-to-clipboard-"+this.id);var C=this.domNode.querySelector(".js-copy-tooltip"),A=this.domNode.querySelector(".js-copy-alert");try{v.select(),document.execCommand("copy"),v.blur(),C.setAttribute("aria-label",k["default"].common.copiedLbl),A.innerHTML=k["default"].common.copiedLbl}catch(r){}};
w.prototype.reset=function(){this.domNode.querySelector(".js-copy-tooltip").setAttribute("aria-label",k["default"].tocPanel.copy);this.domNode.querySelector(".js-copy-alert").innerHTML=""};w.prototype.updateText=function(v){this.copyInput.value=v};return w=n.__decorate([u["default"](f["default"],h["default"])],w)}()})},"arcgis-components/wrappers/BasicWrappers/GroupBadges":function(){define(["../../GroupBadges/index","../../wrappers/BasicWrappers/BasicWrapper"],function(R,N){return function(n){function t(h){if(u[h])return u[h].exports;
var f=u[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var u={};return t.m=n,t.c=u,t.d=function(h,f,g){t.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},t.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},t.t=function(h,f){if((1&f&&(h=t(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(t.r(g),
Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)t.d(g,k,function(w){return h[w]}.bind(null,k));return g},t.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return t.d(f,"a",f),f},t.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},t.p="",t(t.s=965)}({0:function(n,t,u){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+
" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?
e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(q){try{p(e.next(q))}catch(y){b(y)}}function m(q){try{p(e["throw"](q))}catch(y){b(y)}}function p(q){var y;q.done?a(q.value):(y=q.value,y instanceof d?y:new d(function(B){B(y)})).then(c,
m)}p((e=e.apply(r,l||[])).next())})}function w(r,l){function d(p){return function(q){return function(y){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++;a=y[1];y=[0];continue;case 7:y=m.ops.pop();m.trys.pop();continue;default:if(!(b=
m.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){m=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))m.label=y[1];else if(6===y[0]&&m.label<b[1])m.label=b[1],b=y;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(y);else{b[2]&&m.ops.pop();m.trys.pop();continue}}y=l.call(r,m)}catch(B){y=[6,B],a=0}finally{e=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,q])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),
"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function v(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}u.d(t,"d",function(){return h});u.d(t,"a",function(){return A});u.d(t,"f",function(){return f});u.d(t,"c",function(){return g});u.d(t,"b",function(){return k});u.d(t,"e",function(){return w});u.d(t,"g",function(){return v});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=
e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},A=function(){return(A=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},349:function(n,t){n.exports=R},385:function(n,t){n.exports=N},965:function(n,t,u){u.r(t);var h=u(0);n=u(385);n=u.n(n);var f=u(349),g=u.n(f).a;u=function(k){function w(v,
C){return k.call(this,g,v,C)||this}return Object(h.d)(w,k),w}(n.a);t["default"]=u}})})},"arcgis-components/wrappers/BasicWrappers/BasicWrapper":function(){define(["../../Component"],function(R){return function(N){function n(u){if(t[u])return t[u].exports;var h=t[u]={i:u,l:!1,exports:{}};return N[u].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var t={};return n.m=N,n.c=t,n.d=function(u,h,f){n.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},n.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,h){if((1&h&&(u=n(u)),8&h)||4&h&&"object"==typeof u&&u&&u.__esModule)return u;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&"string"!=typeof u)for(var g in u)n.d(f,g,function(k){return u[k]}.bind(null,g));return f},n.n=function(u){var h=u&&u.__esModule?function(){return u["default"]}:function(){return u};return n.d(h,"a",
h),h},n.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n.p="",n(n.s=926)}({0:function(N,n,t){function u(A,r){function l(){this.constructor=A}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v(A,r);A.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(A,r){var l={},d;for(d in A)Object.prototype.hasOwnProperty.call(A,d)&&0>r.indexOf(d)&&(l[d]=A[d]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var e=
0;for(d=Object.getOwnPropertySymbols(A);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(A,d[e])&&(l[d[e]]=A[d[e]])}return l}function f(A,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(A,r,l,d);else for(var c=A.length-1;0<=c;c--)(e=A[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(A,r,l,d){return new (l||
(l=Promise))(function(e,a){function b(p){try{m(d.next(p))}catch(q){a(q)}}function c(p){try{m(d["throw"](p))}catch(q){a(q)}}function m(p){var q;p.done?e(p.value):(q=p.value,q instanceof l?q:new l(function(y){y(q)})).then(b,c)}m((d=d.apply(A,r||[])).next())})}function k(A,r){function l(m){return function(p){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&q[0]?e["return"]:q[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,q[1])).done)return a;
switch(e=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return c.label++,{value:q[1],done:!1};case 5:c.label++;e=q[1];q=[0];continue;case 7:q=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){c=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))c.label=q[1];else if(6===q[0]&&c.label<a[1])c.label=a[1],a=q;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(q);else{a[2]&&c.ops.pop();c.trys.pop();continue}}q=r.call(A,c)}catch(y){q=
[6,y],e=0}finally{d=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,p])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function w(A,r){for(var l=0,d=r.length,e=A.length;l<d;l++,e++)A[e]=r[l];return A}t.d(n,"d",function(){return u});t.d(n,"a",function(){return C});t.d(n,"f",function(){return h});t.d(n,"c",function(){return f});
t.d(n,"b",function(){return g});t.d(n,"e",function(){return k});t.d(n,"g",function(){return w});var v=function(A,r){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(A,r)},C=function(){return(C=Object.assign||function(A){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(A[e]=r[e]);return A}).apply(this,arguments)};
Object.create;Object.create},18:function(N,n){N.exports=R},926:function(N,n,t){t.r(n);var u=t(0),h=t(18);N=function(){function f(g,k,w){var v=this;this.SET_PROPS="SET_PROPS";var C=Object(h.connect)(function(A){return Object(u.a)({},A)},function(){return{}})(g);this.renderContainer=k;this.store=Object(h.createStore)(function(A,r){var l=r.payload;return r.type===v.SET_PROPS?l:A},w);this.projector=Object(h.createProjector)(this.store,function(A){return A(C,Object(u.a)({},w))},this.renderContainer)}return f.prototype.destroy=
function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},f.prototype.getProps=function(){return this.store.getState()},f.prototype.setProps=function(g){this.store.dispatch({type:this.SET_PROPS,payload:g})},f.prototype.watchProps=function(g){var k=this;return this.store.subscribe(function(){return g(k.store.getState())})},f}();n["default"]=N}})})},"arcgisonline/pages/group/widgets/_content":function(){define("require exports tslib dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/string dojo/topic dojo/on dijit/_WidgetBase ./filters/_content ../../dijit/ControlBar ../../dijit/CategoryView ../../content/widgets/_baseTab arcgisonline/tsutils/declareDecorator ../../pageUtil ../../../sharing/util arcgisonline/sharing/dijit/dialog/DeleteWarningDlg ../../utils/arrays ../../utils/dom arcgisonline/pages/dijit/FilterDate arcgisonline/pages/dijit/FilterItemType arcgisonline/pages/dijit/FilterStatus arcgisonline/pages/dijit/FilterBBox arcgisonline/pages/dijit/FilterCollaboration arcgisonline/pages/dijit/FilterTree arcgisonline/pages/utils/icons dojo/_base/query arcgisonline/pages/dijit/Pagination arcgisonline/pages/dijit/View arcgisonline/esriGeowConfig dojo/Deferred arcgisonline/pages/dijit/FilterTags arcgisonline/pages/dijit/FilterCategory dojo/promise/all arcgisonline/pages/dijit/Alert dojo/text!./templates/_content.html dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/views/items/empty.html dojo/text!./templates/views/items/none.html dojo/text!./templates/_controlBarActions.html arcgisonline/pages/dijit/FilterCategories arcgisonline/pages/group/widgets/AddItemsToGroup".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);
p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);V=n.__importDefault(V);aa=n.__importDefault(aa);ha=n.__importDefault(ha);ia=n.__importDefault(ia);ka=n.__importDefault(ka);
return function(){function qa(){this.templateString=U["default"];this.i18n=ba["default"]}qa.prototype.postMixInProperties=function(){var Y;this._filterState={};this.inherited(arguments);this._filters=t["default"].clone(v["default"].filterStatus);this._initialView="list";this._sortOptions=[{property:"modified",label:ba["default"].sortDropdown.modified,ascending:!1},{property:"added",label:ba["default"].sortDropdown.added,ascending:!1},{property:"title",label:ba["default"].sortDropdown.title,ascending:!0},
{property:"owner",label:ba["default"].sortDropdown.owner,ascending:!0},{property:"numviews",label:ba["default"].sortDropdown.views,ascending:!1}];this.page._sortUpdated&&this._sortOptions.forEach(function(O){O.active=!1});var Q=(null===(Y=this.page._tabState)||void 0===Y?void 0:Y.content)||d["default"].getQueryParams(),fa=Q.sortField||this.group.sortField||"title";Y=Q.sortOrder||this.group.sortOrder||"asc";var S=b["default"].find(this._sortOptions,function(O){return O.property===fa});S?(S.active=
!0,S.ascending="asc"===Y):(S=this._sortOptions[1],fa=S.property,S.active=!0);this._sort.property=S.property;this._sort.label=S.label;this._sort.ascending=S.ascending;Q.q&&(this._searchTerm=Q.q);(Y=this.page.hasDefaultContentFilter(this.group))&&!Q.focus&&d["default"].updateQueryParams({focus:Y})};qa.prototype.postCreate=function(){var Y=this,Q;this.inherited(arguments);this._filters.modified.minDate=this.portal.created;this._dateFilter=new m["default"](this._filters.modified,this.domNode.querySelector(".js-filter-date"));
this._typeFilter=new p["default"]({portal:this.portal},this.domNode.querySelector(".js-filter-type"));this._filterStatus=new q["default"](this._filters,this.domNode.querySelector(".js-filter-status"));this._bBoxFilter=new y["default"]({bbox:this._filters.bbox,sanitizer:this.sanitizer},this.domNode.querySelector(".js-filter-bbox"));this._collaborationFilter=new B["default"](this._filters.collaboration,this.domNode.querySelector(".js-filter-collaboration"));this.setRoleFlags();this._sharingFilter=new z["default"](this._filters.sharing,
this.domNode.querySelector(".js-filter-sharing"));this._controlBar=new C["default"]({search:{placeholder:ba["default"].GroupWidget.searchGroupContent,searchTerm:this._searchTerm},views:{activeView:this._initialView},sort:this._sortOptions,filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),hideMobileActions:!1,telemetry:this.page.telemetry,actions:this.canAddItemToGroup(this.group)?f["default"].substitute(ha["default"],{i18n:ba["default"],
icons:D["default"]}):""},this.domNode.querySelector(".js-control-bar"));F["default"](".js-control-bar-actions").addClass("hide");this.checkForUserContent().then(function(){Y.canAddItemToGroup(Y.group)&&(Y.group.isManager||Y.group.isOwner||!Y.group.isViewOnly&&Y.group.isMember)&&F["default"](".js-control-bar-actions").removeClass("hide")});this._pagination=new x["default"]({start:this.initialStart,num:this._page.num,telemetry:this.page.telemetry},this.domNode.querySelector(".js-pagination"));this.view=
new E["default"]({select:this.group._canRemoveContent(this.portalUser),activeView:"list",sortOptions:this._sortOptions,emptyView:V["default"],noneView:aa["default"],portalUser:this.portalUser,telemetry:this.telemetry,telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0},hasSharedOwnershipGroups:this.page.hasSharedOwnershipGroups},this.domNode.querySelector(".js-content"));this.group.belongsToGroup||this._roleCanViewItems?F["default"](".js-filter-sharing-wrapper",this.domNode).removeClass("hide"):
this._roleCanViewOrgItems&&!this._roleCanViewItems&&F["default"](".js-filter-sharing-wrapper",this.domNode).removeClass("hide");(null===(Q=this.portalUser)||void 0===Q?0:Q.isOrgUser)||F["default"](".js-filter-sharing-wrapper",this.domNode).addClass("hide");g["default"].publish("view/toggle",this._initialView);this._disableOrgRestriction=!0;this.group.getCategories().then(this.createCategoryFilter.bind(this))};qa.prototype.destroy=function(){this.inherited(arguments);this._selection=[];this._selectionInView=
[];this._items=[];this._filters={};this._filterState={};this._searchTerm="";this._page={start:1,num:16,total:0,nextStart:-1};b["default"].toArray(this._filterState).reduce(function(Q,fa){return Q.concat(fa)},[]).forEach(function(Q){return Q.active=!1});var Y=this.group.id;d["default"].setQueryParams(Y?{id:Y}:{})};qa.prototype.setRoleFlags=function(){var Y,Q,fa,S,O,I=null===(Y=this.portalUser)||void 0===Y?void 0:Y.userRole;this._roleCanViewOrgItems=!!((null===I||void 0===I?0:I.canViewOrgItems)&&I.canViewOrgItems());
this._roleCanViewItems=!!((null===I||void 0===I?0:I.canViewItems)&&I.canViewItems());this._roleCanShareOthersItemsToGroup=!(null===(Q=null===I||void 0===I?void 0:I.canShareOthersItemsToGroup)||void 0===Q||!Q.call(I));this._roleCanShareItemToGroup=!(null===(fa=null===I||void 0===I?void 0:I.canShareItemToGroup)||void 0===fa||!fa.call(I));this._publicUserCanShareItems=!("org"===(null===(S=this.portalUser)||void 0===S?void 0:S.access)||"owner"!==(null===(O=this.group.userMembership)||void 0===O?void 0:
O.memberType));this._orgUserCanShareItems=!(!this._roleCanShareItemToGroup&&!this._roleCanShareOthersItemsToGroup)};qa.prototype.getParams=function(){var Y,Q=(null===(Y=null===G["default"]||void 0===G["default"]?void 0:G["default"].viewQueries)||void 0===Y?void 0:Y.none)||"",fa="relevance"===this._sort.property?"":this._sort.property,S=this._sort.ascending?"asc":"desc",O=this._filterState;Y=O.bbox;var I=O.origin,Z=O.categories;Q={q:Object.keys(O).filter(function(T){return"tags"!==T}).reduce(function(T,
P){var X=(O[P]||[]).filter(function(da){return da.active});if(0<X.length&&"categories"!==P&&"bbox"!==P&&"origin"!==P){if(X[0].q)return X=X.map(function(da){return da.q}).join(" AND "),T+" ("+X+") ";X=X.map(function(da){return da.value}).join(" AND ");return T+" "+P+":("+X+")"}return T},this._searchTerm?"("+this._searchTerm+")":"")+" "+Q,num:this._page.num,start:this._firstLoad?this.initialStart:this._page.start,sortField:fa,sortOrder:S,f:"json"};this.semanticSearchEnabled&&(Q.enriched=!0);0<(null===
Z||void 0===Z?void 0:Z.length)&&(Q.categories="_none_"===Z[0].value?"_none_":Z.map(function(T){return encodeURIComponent(JSON.stringify([].concat(T.value)))}).join("\x26categories\x3d"));0<(null===Y||void 0===Y?void 0:Y.length)&&(Q.bbox=Y[0].value);if(0<(null===I||void 0===I?void 0:I.length)){Q.origin=I[0].value;var W=I[0].items,ca="id:(";W.forEach(function(T,P){ca+=T;P!==W.length-1&&(ca+=" OR ")});ca+=")";Q.q=ca+Q.q}return Q};qa.prototype.getAggregationQuery=function(){var Y,Q=(null===(Y=null===
G["default"]||void 0===G["default"]?void 0:G["default"].viewQueries)||void 0===Y?void 0:Y.none)||"";return this._searchTerm?"("+this._searchTerm+")"+Q:Q};qa.prototype._getItems=function(){var Y=this,Q,fa=new H["default"],S=this.getParams();b["default"].includes(Object.keys(S),"bbox")&&(S.sortField="bbox",S.srSort=!0,S.spatialFilter=!0,S.sortOrder="asc");var O=(null===(Q=this._getFilter)||void 0===Q?void 0:Q.call(this))||"";O&&(S.filter=O);var I=Object.keys(S).map(function(Z){var W="categories"===
Z?S[Z]:encodeURIComponent(S[Z]);return Z+"\x3d"+W}).join("\x26");this.page._getUserGroups().then(function(){return Y.group.groupContent(I,!0)}).then(function(Z){Y._mustDefendLastPage(Z.total)?Y.defendLastPage(Z).then(t["default"].hitch(Y,function(W){fa.resolve(W)}),function(W){fa.reject(W)}):fa.resolve(Z)});(function(Z){fa.reject(Z)});return fa};qa.prototype.defendLastPage=function(Y){Y=(Math.ceil(Y.total/this._page.num)-1)*this._page.num+1;Y=0<Y?Y:1;this._firstLoad&&(this.initialStart=Y);this._page.start=
Y;return this._getItems()};qa.prototype.openCategoryView=function(Y){this.checkReadonly()||(this._categoryView=new A["default"]({portal:this.portal,items:Y?[Y]:this._selectionInView,group:this.group},h["default"].place(h["default"].create("div"),this.domNode,"after")),this._categoryView.open())};qa.prototype.createCategoryFilter=function(Y){var Q,fa,S=new H["default"],O=!this.portalUser,I=!O&&this.portalUser.userRole||{},Z=this.group&&this.group.groupOwner||{};Z=!(!O&&!this.portalUser.isOrgUser)&&
Z.orgId&&this.portalUser.orgId===Z.orgId;O=!O&&((null===(Q=this.group)||void 0===Q?void 0:Q.isOwner)||(null===(fa=this.group)||void 0===fa?void 0:fa.isManager)||Z&&I.canUpdateOrgGroups());Q=0<(null===Y||void 0===Y?void 0:Y.length);this._canManageGroupCategories=O;this._tagsFilter=new J["default"]({portal:this.portal,aggregationQuery:this.getAggregationQuery.bind(this),searchEndpoint:G["default"].restBaseUrl+"content/groups/"+this.group.id+"/search"},this.domNode.querySelector(".js-filter-tags"));
if(Q||O)Y.isLivingAtlas?Y.isLivingAtlas&&(this._categoryFilter=new ia["default"]({user:this.portalUser,portal:this.portal,group:this.group,categorySchema:Y,disableEdit:!0},this.domNode.querySelector(".js-accordion"))):(this._categoryFilter=new M["default"]({user:this.portalUser,portal:this.portal,group:this.group,filterContainer:this.domNode.querySelector(".js-filter-category-container"),showUncategorized:"esri_notebook"!==this.group.owner},this.domNode.querySelector(".js-filter-category")),F["default"](".js-filter-category-container").removeClass("hide"),
this._getCounts(this.group)),this._initialCategoryFilter&&this._categoryFilter.select(this._initialCategoryFilter);Q&&O&&this.view.allowCategorization();S.resolve(!0);return S};qa.prototype.filterSelectedViewActions=function(){var Y,Q,fa,S,O=0<(null===(S=null===(fa=null===(Q=null===(Y=this.group)||void 0===Y?void 0:Y.categorySchema)||void 0===Q?void 0:Q[0])||void 0===fa?void 0:fa.categories)||void 0===S?void 0:S.length);c["default"].showHide(this.categorizeAction,O)};qa.prototype._addEventListeners=
function(){var Y=this;this.inherited(arguments);this.own(F["default"](".js-remove-items",this.domNode).on("click",this._removeItemsInView.bind(this)),F["default"](".js-categorize-items",this.domNode).on("click",function(){Y.openCategoryView()}),F["default"](".js-action-add-item",this.domNode).on("click",this.handleAddItemClick.bind(this)),g["default"].subscribe("categorySchema/updated",this.updateCategorizeOption.bind(this)))};qa.prototype.updateCategorizeOption=function(Y){Y&&this._canManageGroupCategories?
this.view.allowCategorization():this.view.preventCategorization()};qa.prototype.handleAddItemClick=function(){var Y=this,Q=new ka["default"]({group:this.group,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry});Q.checkForUserContent().then(function(){Q.openItemBrowser()});this.own(Q.on("items/added",function(){Y.refreshView()}),Q.on("close",function(){Q.destroy()}))};qa.prototype.canAddItemToGroup=function(Y){var Q;Y=(null===(Q=Y.capabilities)||void 0===Q?void 0:Q.join(","))||
"";return(!Y||-1<Y.toLowerCase().indexOf("updateitemcontrol"))&&(this._publicUserCanShareItems||this._orgUserCanShareItems)&&!(this.portalUser.isOrgUser&&this.group.isOwner&&!this._orgUserCanShareItems)};qa.prototype.checkForUserContent=function(){var Y=this,Q;return K["default"]({userHasContent:this.portal.queryItems({q:'owner:"'+(null===(Q=this.portalUser)||void 0===Q?void 0:Q.username)+'"',num:1})}).then(function(fa){var S;Y.userHasContent=0<(null===(S=fa.userHasContent)||void 0===S?void 0:S.total);
return Y.userHasContent})};qa.prototype._removeItemsInView=function(){var Y=this;if(!this.checkReadonly()){var Q=new a["default"],fa=this._selectionInView.map(function(I){return I.id}).join(","),S=1<this._selectionInView.length?"removeItemsFromGroup":"removeItemFromGroup",O=1<this._selectionInView.length?"removeItems":"removeItem";k["default"].once(Q._dialog,"hide",function(){Q._dialog.destroyRecursive();Q.destroyRecursive()});Q.showMsgTitleButton(ba["default"].GroupWidget[S],ba["default"].GroupWidget[O],
ba["default"].common.yesLabel,function(){u["default"].set("delete-status","innerHTML",ba["default"].GroupWidget.removingItem);Y.requestItemRemoval(fa);Q.hide()});!0}};qa.prototype.requestItemRemoval=function(Y){var Q=this,fa=new H["default"];e["default"].request({url:G["default"].restBaseUrl+"content/users/"+this.portalUser.username+"/unshareItems",content:{items:Y,groups:this.group.id}},{usePost:!0}).then(function(){fa.resolve();F["default"](".js-action-add-item",Q.domNode).addClass("btn-disabled");
Q.generateAlert({type:"success",text:1<Q._selectionInView.length?ba["default"].GroupWidget.removedItems:ba["default"].GroupWidget.removedItem});Q.refreshView({removedItems:Q._selectionInView});Q._deselectAll()});(function(S){fa.reject(S);"GWM_0021"===(null===S||void 0===S?void 0:S.messageCode)?Q.generateAlert({type:"error",text:S.message}):Q.generateAlert({type:"error",text:S})});return fa};qa.prototype.generateAlert=function(Y){var Q,fa;null===(fa=null===(Q=this._alert)||void 0===Q?void 0:Q.destroy)||
void 0===fa?void 0:fa.call(Q);this._alert=new L["default"](Y,h["default"].create("div",null,this.domNode))};qa.prototype.refreshView=function(Y){var Q=this,fa=g["default"].subscribe("items/refreshComplete",function(){g["default"].publish("view/deselectAll");g["default"].publish("aggregations/refresh",Q.group);F["default"](".js-action-add-item",Q.domNode).removeClass("btn-disabled");fa.remove()});g["default"].publish("items/refresh",Y)};return qa=n.__decorate([l["default"](w["default"],r["default"])],
qa)}()})},"arcgisonline/pages/group/widgets/filters/_content":function(){define(["require","exports","tslib","dojo/i18n!../../../../nls/arcgisonline"],function(R,N,n,t){t=n.__importDefault(t);return{filterStatus:{sharing:{param:"access",chipText:t["default"].filters.shared,multiselect:!1,options:{shared:{label:t["default"].itemSharing.shared,value:"shared",q:"access:shared"},org:{label:t["default"].itemSharing.org,value:"org",q:"access:org"},"public":{label:t["default"].itemSharing["public"],value:"public",
q:"access:public"}}},modified:{param:"modified",chipText:t["default"].filters.modified},created:{param:"uploaded",chipText:t["default"].GroupWidget.dateCreatedLabel},collaboration:{param:"origin",chipText:t["default"].filters.collaborationChip,options:{}}}}})},"arcgisonline/pages/dijit/CategoryView":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/query dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/alerts ../utils/arrays ../utils/categories ../utils/icons ./Overlay ./Alert ./CategoryView/CategoryListItem dojo/text!./CategoryView/templates/CategoryView.html dojo/text!./CategoryView/templates/Category.html dojo/text!./CategoryView/templates/CategoryGroup.html dojo/text!./CategoryView/templates/_undo.html dojo/i18n!../../nls/arcgisonline ../utils/dom".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);B=n.__importDefault(B);return function(){function z(D,F){this.title=y["default"].contentCategories.categorizeItems;this.id="categoryView";this.overlayContents=f["default"].substitute(c["default"],{i18n:y["default"],icons:d["default"]});this.shouldScroll=!1;this.constrain=!0;this.i18n=y["default"];this.icons=d["default"];this.history=[];this.historyIndex=null;this.itemDijits=[]}z.prototype.postCreate=function(){this.categories=this.group?this.group.categorySchema:this.portal.categories;
this.rootNode=l["default"].getRootNode(this.categories);this.inherited(arguments);g["default"].place(f["default"].substitute(q["default"],{i18n:y["default"],icons:d["default"]}),this._overlayActionBar)};z.prototype.destroy=function(){var D;this.inherited(arguments);this.itemDijits.forEach(function(F){F.destroy()});null===(D=this.drag)||void 0===D?void 0:D.destroy()};z.prototype.render=function(){var D=this,F=this.domNode.querySelector(".js-item-wrapper");this.items.forEach(function(x){D.itemDijits.push((new b["default"]({item:x,
categorySchema:D.categories,isGroup:!!D.group})).placeAt(F))});this.updateHistory();this.buildCategoryTree();this.setCheckboxState();this.attachDragEvents();this.own(u["default"].subscribe("categories/update",this.setCheckboxState.bind(this)),u["default"].subscribe("categories/update",this.updateHistory.bind(this)),h["default"](".js-category-select-checkbox",this.domNode).on("change",this.toggleCategory.bind(this)),h["default"](".js-undo",this.domNode).on("click",this.back.bind(this)),h["default"](".js-redo",
this.domNode).on("click",this.forward.bind(this)))};z.prototype.attachDragEvents=function(){var D=this;this.drag=v["default"](B["default"].querySelectorAllAsArray(".js-category-card, .js-category-group",this.domNode),{copy:!0,moves:function(F,x,E){return E.classList.contains("js-name")||E.classList.contains("category-view-name")},accepts:function(F,x,E,G){return!x.classList.contains("js-category-group")}});this.drag.on("over",function(F,x,E){x.classList.contains("js-category-card")&&x.classList.add("card-select-active")});
this.drag.on("out",function(F,x,E){x.classList.contains("js-category-card")&&x.classList.remove("card-select-active")});this.drag.on("drop",function(F,x,E,G){if(x&&x.classList.contains("js-category-card")){E=F.querySelector(".js-name").getAttribute("data-category-path");var H=x.getAttribute("data-item-id");x=r["default"].find(D.itemDijits,function(J){return J.item.id===H});F.parentNode.removeChild(F);x.addCategory(E);D.updateHistory()}})};z.prototype.updateHistory=function(){var D=this.itemDijits.map(function(F){return F.updateCategories(!0)});
this.history=this.history.slice(0,this.historyIndex||0);this.history.push(D);this.historyIndex=this.history.length;this.setUndoRedoVisibility()};z.prototype.setUndoRedoVisibility=function(){this.domNode.querySelector(".js-redo").disabled=this.historyIndex===this.history.length;this.domNode.querySelector(".js-undo").disabled=2>this.historyIndex;this._primaryBtn.disabled=1===this.historyIndex};z.prototype.back=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.history[(this.historyIndex||
0)-2]&&(--this.historyIndex,this.renderFromHistory())};z.prototype.forward=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.historyIndex<this.history.length&&(this.historyIndex+=1,this.renderFromHistory())};z.prototype.renderFromHistory=function(){var D=this;this.history[this.historyIndex-1].forEach(function(F,x){D.itemDijits[x].setCategories(F)});this.setCheckboxState();this.setUndoRedoVisibility()};z.prototype.buildCategoryTree=function(){this.domNode.querySelector(".js-category-root").innerHTML=
this.categoriesToDom(this.categories[0].categories,"",!0)};z.prototype.categoriesToDom=function(D,F,x){var E=this;D=D.reduce(function(G,H){var J=F?F+"/"+H.title:"/"+H.title,M=H.categories?E.categoriesToDom(H.categories,J):"";return G+f["default"].substitute(m["default"],{title:H.title,children:M,path:J,icons:d["default"]})},"");return x?D:f["default"].substitute(p["default"],{categories:D,icons:d["default"]})};z.prototype.setCheckboxState=function(){var D=this;B["default"].querySelectorAllAsArray(".js-category-select-checkbox",
this.domNode).forEach(function(F){var x=F.value,E=D.itemDijits.filter(function(G){G=G.updateCategories();var H=0<G.filter(function(J){return-1<J.indexOf(x+"/")}).length;return 0<G.length&&(-1<G.indexOf(x)||H)}).length;F.indeterminate=0<E&&E<D.items.length;F.checked=E===D.items.length})};z.prototype.toggleCategory=function(D){var F=D.target,x=F.value;this.itemDijits.forEach(function(E){F.checked||F.indeterminate?E.addCategory(x):E.removeCategory(x)});this.setCheckboxState();this.updateHistory()};z.prototype.handlePrimary=
function(){this.submit()};z.prototype.submit=function(){var D=this,F=this.itemDijits.map(function(x){var E={};E[x.item.id]=D.group?x.updateCategories(!0):{categories:x.updateCategories(!0)};return E});F={url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(F)}};C["default"].request(F,{usePost:!0}).then(function(x){D.itemDijits.forEach(function(E){E.saveCategories()});new a["default"]({type:"success",text:y["default"].contentCategories.success},
g["default"].create("div",null,document.body));setTimeout(function(){u["default"].publish("aggregations/refresh",D.group);u["default"].publish("view/refresh");u["default"].publish("view/deselectAll");D.close()},1E3)},function(x){"GWM_0021"===(null===x||void 0===x?void 0:x.messageCode)&&A["default"].showAlert("error",x.message)})};return z=n.__decorate([t["default"](w["default"],k["default"],e["default"])],z)}()})},"arcgisonline/pages/dijit/CategoryView/CategoryListItem":function(){define("require exports tslib dojo/_base/lang ../Card/_CardBase ../CategoryPicker dojo/text!./templates/CategoryListViewCard.html arcgisonline/tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(w,v){this.templateString=f["default"];this.categories=t["default"].clone(w.isGroup?w.item.groupCategories:w.item.categories)}k.prototype.postCreate=function(){this.inherited(arguments);this.categoryPicker=new h["default"]({categories:this.categories,schema:this.categorySchema},this._chipWrap);this.categoryPicker.startup()};k.prototype.destroy=
function(){this.inherited(arguments);this.categoryPicker.destroy()};k.prototype._cardOpen=function(){return!1};k.prototype.updateCategories=function(w){return this.categories=this.categoryPicker.getCategories(w)};k.prototype.setCategories=function(w){this.categories=w;this.categoryPicker.setCategories(w,!0)};k.prototype.addCategory=function(w){0<this.categories.filter(function(v){return-1<v.indexOf(w+"/")}).length||(this.categoryPicker.addCategory(w),this.categories=this.categoryPicker.getCategories())};
k.prototype.removeCategory=function(w){this.categoryPicker.removeCategory(w);this.categories=this.categoryPicker.getCategories()};k.prototype.saveCategories=function(){this.item.categories=this.updateCategories()};return k=n.__decorate([g["default"](u["default"])],k)}()})},"arcgisonline/pages/content/widgets/_baseTab":function(){define("require exports tslib ../../../esriGeowConfig ../../../sharing/util ../../organization/widgets/ProfilePopup ../../pageUtil ../../components/Group/OrgSettingsFilterTooltip ../../_filterStateMixin ../../dijit/_CheckReadonlyMixin ../../dijit/CategoryView ../../utils/arrays ../../utils/culture ../../utils/dom ../../utils/icons ../../utils/user ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/_base/lang dojo/query dojo/hash dojo/topic dojo/dom-construct dojo/Deferred preact esri/Evented esri/libs/sanitizer/Sanitizer dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_empty.html arcgisonline/pages/utils/search ../../utils/queryHandler".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);J=n.__importStar(J);return function(){function M(){this.widgetsInTemplate=!0;this.icons=l["default"];this._selection=[];this._selectionInView=[];this._items=[];this._filterState={};this._categoriesFilter={};this._searchTerm="";this._initialView="table";this._sort={property:"title",label:E["default"].sortDropdown.title,
ascending:!0};this._page={start:1,num:20,total:0,nextStart:-1};this._sortOptions=[{property:"relevance",label:E["default"].sortDropdown.relevance,ascending:!1,hide:!0},{property:"modified",label:E["default"].sortDropdown.modified,active:!0,ascending:!1},{property:"title",label:E["default"].sortDropdown.title,ascending:!0},{property:"numviews",label:E["default"].sortDropdown.views,ascending:!1}];this._emptyTemplate=G["default"];this._firstLoad=!0;this._disableOrgRestriction=!1;this._showAggregationCount=
!0;this._index_numTries=t["default"].index_numTries||10;this._index_syncDelay=t["default"].index_syncDelay||500;this.sanitizer=new x["default"]}M.prototype.postCreate=function(){this.inherited(arguments);this.semanticSearchEnabled=H.semanticSearchEnabled(this.portal,this.portalUser);this.page._currentTabName=q["default"]();this.page._tabState&&this.page._tabState[this.page._currentTabName]&&f["default"].updateQueryParams(this.page._tabState[this.page._currentTabName]);this._applyQueryParameters()};
M.prototype.startup=function(){var K=this,L=new z["default"];this.inherited(arguments);this._selection=[];this._items=[];this._addEventListeners();this._applyFilters();this._getCounts(this.group);this.preventFirstRender?L.resolve(!0):this.render().then(function(U){K._firstLoad&&(K._firstLoad=!1);L.resolve(U)});return L};M.prototype.destroy=function(){this.inherited(arguments);this.page._currentTabName&&(this.page._tabState=this.page._tabState||{},this.page._tabState[this.page._currentTabName]=f["default"].getQueryParams());
this._resetState();var K=this.page&&this.page._queryStringParams&&this.page._queryStringParams.id;f["default"].setQueryParams(K?{id:K}:{});this._popup&&this._popup.close()};M.prototype.render=function(){var K=this;return this._getItems().then(function(L){return K._updateState(L).then(function(U){return K._getFavorites(U)}).then(function(U){return K._updateView(U)})})};M.prototype.getItemIDs=function(K){return(K||this._items||[]).map(function(L){return L.id}).join(",")};M.prototype.getQueryParamString=
function(){var K=J.objectToQuery(this._getParams())||"";return 1E3<K.length?K.substring(0,1E3):K};M.prototype._mustDefendLastPage=function(K){return 0<K&&(this._firstLoad&&this._initialStart>K||this._page.start>K)};M.prototype._defendLastPage=function(K){var L,U=this.portal;K=(Math.ceil(K.total/this._page.num)-1)*this._page.num+1;K=0<K?K:1;this._firstLoad&&(this._initialStart=K);this._page.start=K;K=(null===(L=this._getFilter)||void 0===L?void 0:L.call(this))||"";return U.queryItems(this._getParams(),
this._disableOrgRestriction,this.contentUser,K)};M.prototype._getItems=function(){var K=this,L,U=new z["default"],ba=this.portal,V=this._getParams(),aa=(null===(L=this._getFilter)||void 0===L?void 0:L.call(this))||"";ba.queryItems(V,this._disableOrgRestriction,this.contentUser,aa).then(function(ha){K._mustDefendLastPage(ha.total)?K._defendLastPage(ha).then(function(ia){return U.resolve(ia)},function(ia){U.reject(ia)}):U.resolve(ha)},function(ha){U.reject(ha)});return U};M.prototype._getFavorites=
function(K){if(!this._skipFavorite){var L=this.portal,U=L.getPortalUser();return d["default"].checkForFavorites(U,L,K)}};M.prototype._getFilter=function(){var K,L,U,ba=this._filterQ||"";return 0<(null===(L=null===(K=this._filterState)||void 0===K?void 0:K.tags)||void 0===L?void 0:L.length)?(K=null===(U=this._filterState)||void 0===U?void 0:U.tags.map(function(V){return'"'+V.value+'"'}).join(" OR "),(ba?ba+" OR ":"")+" (tags:("+K+"))"):ba};M.prototype._resetState=function(){this._selection=[];this._selectionInView=
[];this._items=[];this._filterState={};this._categoriesFilter={};this._filters={};this._searchTerm="";this._page={start:1,num:20,total:0,nextStart:-1};this._sort={property:"title",label:E["default"].sortDropdown.title,ascending:!0}};M.prototype._addEventListeners=function(){var K=this;this.own(p["default"](".js-deselect",this.domNode).on("click",this._deselectAll.bind(this)),y["default"].subscribe("filter/update",this._filterUpdate.bind(this)),y["default"].subscribe("filter/clear",this._filterClear.bind(this)),
y["default"].subscribe("filter/remove",this._filterRemove.bind(this)),y["default"].subscribe("refine/update",this._refineUpdate.bind(this)),y["default"].subscribe("view/refresh",this.render.bind(this)),y["default"].subscribe("view/select",this._viewSelect.bind(this)),y["default"].subscribe("view/deselect",this._viewDeselect.bind(this)),y["default"].subscribe("view/deselectAll",this._viewDeselectAll.bind(this)),y["default"].subscribe("view/update",this._updateSelectedView.bind(this)),y["default"].subscribe("sort/update",
this._sortUpdate.bind(this)),y["default"].subscribe("search/wait",this._searchWait.bind(this)),y["default"].subscribe("search/update",this._searchUpdate.bind(this)),y["default"].subscribe("pagination/page",this._paginationPage.bind(this)),y["default"].subscribe("items/refresh",this._itemsRefresh.bind(this)),y["default"].subscribe("item/categorize",function(L,U){return K._openCategoryView(L,U)}),y["default"].subscribe("profile/show",this._showProfile.bind(this)),y["default"].subscribe("profile/hide",
this._hideProfile.bind(this)),y["default"].subscribe("shareCheckDlg/update",this._shareCheckUpdate.bind(this)),y["default"].subscribe("categorySchema/updated",this._updateCategories.bind(this)),y["default"].subscribe("aggregations/refresh",this._getCounts.bind(this)))};M.prototype._filterUpdate=function(K){var L=this,U,ba,V,aa,ha=K.isCategory?"categories":K.param;ha=K.isBBox?"bbox":ha;K.isCategory?this._filterState.categories=this._categoryUpdate(K):K.isBBox?this._filterState.bbox=[K.selected[0]]:
this._filterState[ha]=K.selected;this._paginationReset();ha=Object.keys(this._filterState||{}).filter(function(ia){return!!L._filterState[ia]});null===(ba=null===(U=this.page)||void 0===U?void 0:U.telemetry)||void 0===ba?void 0:ba.logEvent({category:"Filter",action:K.param,label:null===(aa=null===(V=K.selected)||void 0===V?void 0:V[0])||void 0===aa?void 0:aa.label,count:ha.length,attribute:ha.sort().join(",")});K.isLoading||this.render()};M.prototype._categoryUpdate=function(K){var L=this;this._categoriesFilter[K.id]=
K.selected;return Object.keys(this._categoriesFilter).map(function(U){return L._categoriesFilter[U]}).reduce(function(U,ba){return U.concat(ba)})};M.prototype._filterClear=function(){var K=this;this._paginationReset();Object.keys(this._filterState).forEach(function(L){return delete K._filterState[L]});this._categoriesFilter={};this.render()};M.prototype._filterRemove=function(K,L){var U=K.isCategory?"categories":K.param;U=K.isBBox?"bbox":U;this._paginationReset();this._filterState[U]&&0<this._filterState[U].length&&
(this._filterState[U]=this._filterState[U].filter(function(ba){return ba.value!==K.value}));L||this.render()};M.prototype._refineUpdate=function(K){this._paginationReset();this._searchTerm=K;this.render();this._getCounts(this.group)};M.prototype._viewSelect=function(K){C["default"].find(this._selection,function(L){return L.id===K.id})||(K.isSelected=!0,this._selection.push(K));this._updateSelectedView()};M.prototype._viewDeselect=function(K){K.isSelected=!1;this._selection=this._selection.filter(function(L){return L.id!==
K.id});this._updateSelectedView()};M.prototype._viewDeselectAll=function(){this._selection=[];this._updateSelectedView()};M.prototype._updateSelectedView=function(){var K,L,U;null===(K=this._rangeText)||void 0===K?void 0:K.classList.remove("visually-hidden");null===(U=null===(L=this._pagination)||void 0===L?void 0:L.domNode)||void 0===U?void 0:U.classList.remove("visually-hidden");this._updateSelectionInView();0<this._selectionInView.length?(p["default"](".hide-if-selected").addClass("hide"),p["default"](".show-if-selected").removeClass("hide"),
this.filterSelectedViewActions&&this.filterSelectedViewActions(this._selectionInView)):(p["default"](".hide-if-selected").removeClass("hide"),p["default"](".show-if-selected").addClass("hide"));this.selectedCount&&(this.selectedCount.innerHTML=A["default"].getString(this.i18n.GroupWidget.selected,this._selectionInView.length))};M.prototype._openCategoryView=function(K,L){this.checkReadonly()||(this._categoryView=new v["default"]({portal:this.portal,items:K?[K]:this._selectionInView,group:this.group,
opener:L},B["default"].place(B["default"].create("div"),this.domNode,"after")),this._categoryView.open())};M.prototype._updateView=function(K){var L,U=this._hasFilters();y["default"].publish("view/update",this._items,this._selection,U);this._pagination.render(this._page);K=this._pagination.getCurrentPageObj();U=!U&&0===K.end||0===K.end&&this._initialMembershipRequestToggle;this._rangeText.textContent=f["default"].getPageRangeString({start:0===K.total?0:K.start,end:-1===K.end?0:K.end,total:K.total});
r["default"].showHide(this._rangeText,!U);null===(L=this._popup)||void 0===L?void 0:L.close();return!0};M.prototype._deselectAll=function(){this._selection=[];y["default"].publish("view/deselectAll");this._updateSelectedView()};M.prototype._searchWait=function(K,L){var U,ba,V;y["default"].publish("view/loading",K);null===(U=this._rangeText)||void 0===U?void 0:U.classList.add("visually-hidden");null===(V=null===(ba=this._pagination)||void 0===ba?void 0:ba.domNode)||void 0===V?void 0:V.classList.add("visually-hidden");
U={};U[L||"searchTerm"]=K;f["default"].updateQueryParams(U)};M.prototype._searchUpdate=function(K){K&&-1<K.indexOf("*")?y["default"].publish("alert/show",{type:"error",text:E["default"].search.error.wildCardSearchError}):(this._paginationReset(),this._searchTerm=K);this.render();this._getCounts(this.group)};M.prototype._sortUpdate=function(K){this._paginationReset();this._sort.property=K.property;this._sort.ascending=K.ascending;this.render()};M.prototype._paginationReset=function(){this._page.start=
1;this._pagination&&this._pagination.set("start",this._page.start)};M.prototype._paginationPage=function(K){this._page.num=K.num;this._page.start=K.start;this.render()};M.prototype._itemsRefresh=function(K){var L=this,U=null===K||void 0===K?void 0:K.removedItems,ba=null===K||void 0===K?void 0:K.forcedDelay,V=(null===K||void 0===K?void 0:K.numTries)||0,aa;(null===U||void 0===U?0:U.length)?setTimeout(function(){L._getItems().then(function(ha){aa=ha.items||[];(null===U||void 0===U?0:U.length)&&U.some(function(ia){return C["default"].find(aa,
function(ka){return ia.id===ka.id||ia.itemId===ka.id})})?V===L._index_numTries?L.render().then(function(){return y["default"].publish("items/refreshComplete")}):(K=n.__assign(n.__assign({},K),{numTries:V+1}),L._itemsRefresh(K)):aa&&aa.length?L._updateState(ha).then(L._getFavorites.bind(L)).then(L._updateView.bind(L)).then(function(){return y["default"].publish("items/refreshComplete")}):(L._pagination.previousPage(),y["default"].publish("items/refreshComplete"))})},this._index_syncDelay):ba?setTimeout(function(){L.render().then(function(){return y["default"].publish("items/refreshComplete")})},
ba):this.render().then(function(){return y["default"].publish("items/refreshComplete")})};M.prototype._updateState=function(K){var L=new z["default"];this._items=this._setSelected(K.items);this._updateSelectionInView();this._page.start=K.start;this._page.total=K.total;this._page.nextStart=K.nextStart;this._pagination&&this._pagination.set("start",this._page.start);L.resolve(K);return L};M.prototype._updateSelectionInView=function(){var K=this;this._selectionInView=this._selection.filter(function(L){return C["default"].find(K._items,
function(U){return L.id===U.id})})};M.prototype._setSelected=function(K){var L=this;return K.map(function(U){var ba=C["default"].find(L._selection,function(V){return V.id===U.id});U.isSelected=ba?!0:!1;return U})};M.prototype._hasFilters=function(){var K=this,L=Object.keys(this._filterState).filter(function(U){return 0<K._filterState[U].length});return this._searchTerm&&0<this._searchTerm.length||L&&0<L.length||this._initialMembershipRequestToggle};M.prototype._findOwnerSortOptionIndex=function(){var K=
-1;this._sortOptions.forEach(function(L,U){"owner"===L.property&&(K=U)});return K};M.prototype._addOwnerSortOption=function(){-1===this._findOwnerSortOptionIndex()&&this._sortOptions.push({property:"owner",label:E["default"].sortDropdown.owner,ascending:!0})};M.prototype._removeOwnerSortOption=function(){var K=this._findOwnerSortOptionIndex();-1<K&&this._sortOptions.splice(K,1)};M.prototype._showProfile=function(K){var L=this;this._popup&&this._popup.close();this._popup=new h["default"]({username:K.target.getAttribute("data-owner"),
opener:K.target,portal:this.portal});this._popup.open();c["default"].once(this._popup,"close",function(){L._popup=void 0})};M.prototype._hideProfile=function(){this._popup&&this._popup.close()};M.prototype._shareCheckUpdate=function(){this._itemsRefresh({forcedDelay:1500})};M.prototype._getCounts=function(K){var L,U;if(this._showAggregationCount){var ba=K?"content/groups/"+K.id+"/search":"search",V=K?"":this.portal.id?"orgid:"+this.portal.id:"",aa=(null===(L=null===t["default"]||void 0===t["default"]?
void 0:t["default"].viewQueries)||void 0===L?void 0:L.none)||"";L={q:V,countFields:"access,contentstatus,"+(K?"groupCategories":"categories"),countSize:200,num:0};this.semanticSearchEnabled&&(L.enriched=!0);this.getAggregationQuery&&(L.q=this.getAggregationQuery());if(L.q||K){0>(null===(U=L.q)||void 0===U?void 0:U.indexOf(aa))&&(L.q=L.q+" "+aa);K=t["default"].restBaseUrl+ba;if(U=this._getFilter())L.filter=U+" "+(L.filter||"");u["default"].request({url:K,content:L}).then(function(ha){ha.aggregations&&
ha.aggregations.counts&&ha.aggregations.counts.forEach(function(ia){y["default"].publish("aggregations/update",ia)})})}}};M.prototype._updateCategories=function(K,L){var U=this;K?L?this.group.categorySchema=K:this.portal&&(this.portal.categories=K,t["default"].self.hasCategorySchema=!0):L?delete this.group.categorySchema:(delete this.portal.categories,t["default"].self.hasCategorySchema=!1);setTimeout(function(){return U._getCounts(U.group)},1200)};M.prototype.getDebugParameters=function(){var K=
m["default"].clone(this.page._queryStringParams),L={_qtBoost:"",_qtbConfig:""};return 2===Object.keys(K).filter(function(U){return U in L}).map(function(U){L[U]=K[U];return U}).length?L:{}};M.prototype.renderOrgSettingsTooltip=function(){var K;if(null!==(K=this._specialGroupsFilter)&&void 0!==K&&K.domNode&&(K=this._specialGroupsFilter.domNode.querySelector('li[data-value\x3d"orgSettings"]'))){var L=document.createElement("div");L.classList.add("-margin-left-half");D.render(D.h(g["default"],{}),L);
K.classList.add("flex","flex-align-center");K.appendChild(L)}};return M=n.__decorate([e["default"](a["default"],b["default"],F["default"],k["default"],w["default"])],M)}()})},"arcgisonline/pages/components/Group/OrgSettingsFilterTooltip":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../nls/arcgisonline"],function(R,N,n,t,u){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);N["default"]=function(){return t.h("arcgis-information",{label:u["default"].searchPage.moreInfo,
placement:"bottom-trailing"},t.h("p",{"class":"trailer-0"},u["default"].GroupsWidget.orgSettingsTooltip))}})},"arcgisonline/pages/_filterStateMixin":function(){define("require exports tslib ./pageUtil ./utils/arrays ./utils/clone".split(" "),function(R,N,n,t,u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(){this._initialLoading=!0;this._initialStart=1;this._initialNum=20;this._initialMembershipRequestToggle=!1}f.prototype._applyQueryParameters=
function(){var g=t["default"].getQueryParams();this._applySortParameters(g);this._applyViewParameter(g);this._applyPaginationParameter(g);this._applyTypeParameter(g);this._applyMembershipRequestParameter(g);this._applyDateParameter(g);this._applyDateUploadedParameter(g);this._applyDateCreatedParameter(g);this._applyFolderParameter(g);this._applySharingParameter(g);this._applyStatusParameter(g);this._applyRoleParameter(g);this._applyUserTypeParameter(g);this._applyOwnerParameter(g);this._applySpecialGroupsParameter(g);
this._applyCategoriesParameter(g);this._applyLevelParameter(g);this._applyLastLoginParameter(g);this._applySearchInputParameter(g);this._applySearchByParameter(g);this._applyTagsParameter(g);this._applyBBoxParameter(g);this._applyCollaborationParameter(g);this._applyGroupsParameter(g);this._applyAppParameter(g);this._applyCreditsParameter(g)};f.prototype._applyFilters=function(){this._applyPagination();this._applyItemTypeFilter();this._applySpecialGroupsFilter();this._applyDateFilter();this._applyDateUploadedFilter();
this._applyDateCreatedFilter();this._applyFolderFilter();this._applyMembershipRequestFilter();this._applySharingFilter();this._applyStatusFilter();this._applyRoleFilter();this._applyUserTypeFilter();this._applyGroupFilter();this._applyAppFilter();this._applyCreditsFilter();this._applyLastLoginFilter();this._applyOwnerFilter();this._applyCategoryFilter();this._applyLevelFilter();this._applySearchInput();this._applySearchByDropdown();this._applyTagsFilter();this._applyBBoxFilter();this._applyCollaborationFilter()};
f.prototype._applySortParameters=function(g){if(g.sortField){var k=g.sortField;if(k&&this._sortOptions&&this._sortOptions.length){var w=u["default"].find(this._sortOptions,function(v){return v.property===k});w&&(this._sort=h["default"](w))}}g.sortOrder&&this._sort&&(this._sort.ascending="asc"===g.sortOrder)};f.prototype._applyViewParameter=function(g){g.view&&(this._initialView=g.view)};f.prototype._applyPaginationParameter=function(g){if(g.num){var k=parseInt(g.num,10);-1<[20,60,100].indexOf(k)&&
(this._initialNum=k,this._page&&this._page.num&&(this._page.num=this._initialNum))}g.start&&this._page&&(this._initialStart=parseInt(g.start,10)||1,0<this._initialStart%this._page.num&&(this._initialStart=Math.floor(this._initialStart/this._page.num)*this._page.num+1,this._page&&this._page.start&&(this._page.start=this._initialStart)))};f.prototype._applyTypeParameter=function(g){g.focus&&(this._initialTypeFilter="layers-weblayers"===g.focus?"layers":g.focus)};f.prototype._applyDateParameter=function(g){g.modified&&
(this._initialDateFilter=g.modified,this._initialDateFilterTo=g.modified_to?g.modified_to:void 0,this._initialDateFilterFrom=g.modified_from?g.modified_from:void 0)};f.prototype._applyDateCreatedParameter=function(g){g.created&&(this._initialDateCreatedFilter=g.created,this._initialDateCreatedFilterTo=g.created_to?g.created_to:void 0,this._initialDateCreatedFilterFrom=g.created_from?g.created_from:void 0)};f.prototype._applyDateUploadedParameter=function(g){g.uploaded&&(this._initialDateUploadedFilter=
g.uploaded,this._initialDateUploadedFilterTo=g.uploaded_to?g.uploaded_to:void 0,this._initialDateUploadedFilterFrom=g.uploaded_from?g.uploaded_from:void 0)};f.prototype._applyFolderParameter=function(g){g.folder&&(this._initialFolderFilter=g.folder)};f.prototype._applyMembershipRequestParameter=function(g){g._membershipRequestToggle&&(this._initialMembershipRequestToggle="true"===g._membershipRequestToggle)};f.prototype._applySharingParameter=function(g){g.access&&(this._initialSharingFilter=g.access)};
f.prototype._applyStatusParameter=function(g){g.contentstatus&&(this._initialStatusFilter=g.contentstatus)};f.prototype._applyRoleParameter=function(g){g.memberType?this._initialRoleFilter=g.memberType:g.role&&(this._initialRoleFilter=g.role)};f.prototype._applyUserTypeParameter=function(g){g.userLicenseType&&(this._initialUserTypeFilter=g.userLicenseType)};f.prototype._applyGroupsParameter=function(g){g.group&&(this._initialGroupFilter=g.group)};f.prototype._applyAppParameter=function(g){g.app&&
(this._initialAppFilter=g.app)};f.prototype._applyCreditsParameter=function(g){g.availablecredits&&(this._initialCreditsFilter=g.availablecredits)};f.prototype._applyOwnerParameter=function(g){g.owner&&(this._initialOwnerFilter=g.owner)};f.prototype._applySpecialGroupsParameter=function(g){g.specialGroups&&(this._initialSpecialGroupsFilter=g.specialGroups)};f.prototype._applyCategoriesParameter=function(g){if(g.categories)try{this._initialCategoryFilter=JSON.parse(g.categories)}catch(k){}if(g.regions){this._initialCategoryFilter=
this._initialCategoryFilter||[];try{this._initialCategoryFilter=this._initialCategoryFilter.concat(JSON.parse(g.regions))}catch(k){}}};f.prototype._applySearchByParameter=function(g){g.searchBy&&(this._initialSearchBy=g.searchBy)};f.prototype._applySearchInputParameter=function(g){g.searchTerm&&(this._initialSearchInput=g.searchTerm)};f.prototype._applyTagsParameter=function(g){g.tags&&(this._initialTagsFilter=g.tags.split(","))};f.prototype._applyBBoxParameter=function(g){if(g.bbox){g.sortField=
"bbox";var k=g.bbox.split(",");4===k.length&&(this._initialBBoxFilter=[[k[0],k[1]],[k[2],k[3]]],this._initialBBoxLabel=g.bboxLabel)}};f.prototype._applyCollaborationParameter=function(g){g.origin&&(this._initialCollaborationFilter=g.origin)};f.prototype._applyLevelParameter=function(g){g.level&&(this._initialLevelFilter=g.level)};f.prototype._applyLastLoginParameter=function(g){g.lastlogin&&(this._initialDateFilter=g.lastlogin,this._initialDateFilterTo=g.lastlogin_to?g.lastlogin_to:void 0,this._initialDateFilterFrom=
g.lastlogin_from?g.lastlogin_from:void 0)};f.prototype._applyPagination=function(){this._pagination&&this._pagination.setInitialProperties({num:this._initialNum,start:this._initialStart});this._page&&(this._page.num=this._initialNum,this._page.start=this._initialStart)};f.prototype._applyItemTypeFilter=function(){this._initialTypeFilter&&this._typeFilter&&this._typeFilter.select&&this._typeFilter.select(this._initialTypeFilter)};f.prototype._applyDateFilter=function(){this._initialDateFilter&&this._dateFilter&&
this._dateFilter.select&&this._dateFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applyDateCreatedFilter=function(){this._initialDateCreatedFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateCreatedFilter,this._initialDateCreatedFilterFrom,this._initialDateCreatedFilterTo)};f.prototype._applyFolderFilter=function(){this._initialFolderFilter&&this._folderList&&(this._folderList.setInitialFolder(this._initialFolderFilter),
this._folderListMobile.setInitialFolder(this._initialFolderFilter))};f.prototype._applyMembershipRequestFilter=function(){var g;this._initialMembershipRequestToggle&&(null===(g=this._membershipRequestToggle)||void 0===g?0:g.isChecked)&&this._membershipRequestToggle.setChecked(this._initialMembershipRequestToggle)};f.prototype._applyDateUploadedFilter=function(){this._initialDateUploadedFilter&&this._dateCreatedFilter&&this._dateCreatedFilter.select&&this._dateCreatedFilter.select(this._initialDateUploadedFilter,
this._initialDateUploadedFilterFrom,this._initialDateUploadedFilterTo)};f.prototype._applySharingFilter=function(){this._initialSharingFilter&&this._sharingFilter&&this._sharingFilter.select&&this._sharingFilter.select(this._initialSharingFilter)};f.prototype._applyStatusFilter=function(){this._initialStatusFilter&&this._statusFilter&&this._statusFilter.select&&this._statusFilter.select(this._initialStatusFilter)};f.prototype._applyRoleFilter=function(){this._initialRoleFilter&&this._roleFilter&&
this._roleFilter.select&&this._roleFilter.select(this._initialRoleFilter)};f.prototype._applyUserTypeFilter=function(){this._initialUserTypeFilter&&this._userTypeFilter&&this._userTypeFilter.select&&this._userTypeFilter.select(this._initialUserTypeFilter)};f.prototype._applyGroupFilter=function(){this._initialGroupFilter&&this._groupFilter&&this._groupFilter.select&&this._groupFilter.select(this._initialGroupFilter)};f.prototype._applyAppFilter=function(){this._initialAppFilter&&this._appFilter&&
this._appFilter.select&&this._appFilter.select(this._initialAppFilter)};f.prototype._applyCreditsFilter=function(){this._initialCreditsFilter&&this._creditsFilter&&this._creditsFilter.select&&this._creditsFilter.select(this._initialCreditsFilter)};f.prototype._applyLastLoginFilter=function(){this._initialDateFilter&&this._lastLoginFilter&&this._lastLoginFilter.select&&this._lastLoginFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applySpecialGroupsFilter=
function(){var g;this._initialSpecialGroupsFilter&&(null===(g=this._specialGroupsFilter)||void 0===g?0:g.select)&&this._specialGroupsFilter.select(this._initialSpecialGroupsFilter)};f.prototype._applyOwnerFilter=function(){this._initialOwnerFilter&&this._ownerFilter&&this._ownerFilter.select&&this._ownerFilter.select(this._initialOwnerFilter)};f.prototype._applyCategoryFilter=function(){this._initialCategoryFilter&&this._categoryFilter&&this._categoryFilter.select&&this._categoryFilter.select(this._initialCategoryFilter,
this._initialLoading)};f.prototype._applyLevelFilter=function(){this._initialLevelFilter&&this._levelFilter&&this._levelFilter.select&&this._levelFilter.select(this._initialLevelFilter)};f.prototype._applySearchInput=function(){var g,k=this._searchInput||(null===(g=this._controlBar)||void 0===g?void 0:g._searchInput);this._initialSearchInput&&(null===k||void 0===k?0:k.setValue)&&k.setValue(this._initialSearchInput)};f.prototype._applySearchByDropdown=function(){var g=this._searchByDropdown||this._controlBar&&
this._controlBar._searchDropdown;this._initialSearchBy&&g&&g.setSelection&&g.setSelection(this._initialSearchBy)};f.prototype._applyTagsFilter=function(){this._initialTagsFilter&&this._tagsFilter&&this._tagsFilter.select&&this._tagsFilter.select(this._initialTagsFilter)};f.prototype._applyBBoxFilter=function(){this._initialBBoxFilter&&this._bBoxFilter&&this._bBoxFilter.addExtentFilter&&this._bBoxFilter.addExtentFilter(this._initialBBoxFilter,this._initialBBoxLabel)};f.prototype._applyCollaborationFilter=
function(){this._initialCollaborationFilter&&this._collaborationFilter&&this._collaborationFilter.select&&this._collaborationFilter.select(this._initialCollaborationFilter)};return f}()})},"arcgisonline/pages/utils/search":function(){define(["require","exports","tslib","arcgisonline/esriGeowConfig"],function(R,N,n,t){Object.defineProperty(N,"__esModule",{value:!0});N.separateFilterFromQuery=N.semanticSearchEnabled=void 0;t=n.__importDefault(t);N.semanticSearchEnabled=function(u,h){var f;return!!(t["default"].semanticSearchEnabled&&
(null===(f=null===u||void 0===u?void 0:u.portalProperties)||void 0===f?0:f.semanticSearchEnabled))||h&&!h.orgId};N.separateFilterFromQuery=function(u){var h=/(tags:".+?")/gi;h=null===u||void 0===u?void 0:u.match(h);null===h||void 0===h?void 0:h.forEach(function(f){u=u.replace(new RegExp(f),"")});return{q:u,filter:(null===h||void 0===h?void 0:h.join(" "))||""}}})},"arcgisonline/pages/dijit/FilterItemType":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterItemType/templates/FilterItemType.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ./FilterItemType/_itemTypes ../utils/dom arcgisonline/esriGeowConfig".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function p(q,y){this.templateString=
d["default"];this.i18n=a["default"];this._state={chipText:a["default"].filters.type,registeredOnly:!1,param:"focus",selected:[]};this.isLivingAtlas=this.filterNonPublicItemTypes=!1;this.itemTypes=b["default"]}p.prototype.postMixInProperties=function(){this.inherited(arguments)};p.prototype.destroy=function(){this.inherited(arguments);this._clear();v["default"](".js-clear-filter",this.domNode).addClass("hide")};p.prototype.postCreate=function(){var q=v["default"](".accordion-title",this.domNode.parentElement.parentElement)[0];
q&&k["default"].place(A["default"].substitute(e["default"],{i18n:a["default"],hide:"hide",param:this._state.param}),q);this.filterNonPublicItemTypes&&v["default"](".js-filter-public").addClass("if-no-public-user");this.portal.canCreateGeoBIM&&v["default"](".js-geobim").removeClass("hide");if(this.portal.isPortal){q=this.itemTypes.layers.q.substring(0,1);var y=this.itemTypes.layers.q.substring(1);m["default"].videoServerEnabled&&-1===this.itemTypes.layers.q.indexOf('type:"Video Service"')&&(this.itemTypes.layers.q=
q+'type:"Video Service" OR '+y,v["default"]('li[data-value\x3d"layers-weblayers-videolayers"]').removeClass("hide"));this.domNode.classList.add("is-on-premise");this.isLivingAtlas||this.checkKnowledgeServer()}this._addEventListeners();this._showHideClearButton()};p.prototype.checkKnowledgeServer=function(){return n.__awaiter(this,void 0,void 0,function(){var q;return n.__generator(this,function(y){switch(y.label){case 0:return[4,this.portal.getFederatedServerByFunction("KnowledgeServer")];case 1:return(q=
y.sent())&&c["default"].showNode(this.domNode.querySelector(".js-knowledge-graph-item")),[2]}})})};p.prototype._clickHandler=function(q){u["default"].stop(q);q=v["default"](q.target).closest(".js-filter-tree-item");var y=f["default"].get(q[0],"data-value"),B=f["default"].get(q[0],"data-label");if(g["default"].contains(q[0],"is-active")){g["default"].remove(q[0],"is-active");y=q.shift();var z=y.querySelector(".js-filter-tree-link");z.setAttribute("aria-label",B);this._hasChildren(y)&&z.setAttribute("aria-expanded",
!1);q=q.parent().closest(".js-filter-tree-item");0<q.length?(q=f["default"].get(q[0],"data-value"),this.select(q)):this._removeFilter()}else this.select(y)};p.prototype.select=function(q){var y=this;if(b["default"][q]){var B=b["default"][q],z=v["default"](".js-filter-tree-link[data-value\x3d'"+q+"']",this.domNode).closest(".js-filter-tree-item");v["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");v["default"](".js-filter-tree-item",this.domNode).forEach(function(F){g["default"].remove(F,
"is-active");var x=F.querySelector(".js-filter-tree-link");x.removeAttribute("aria-selected");y._hasChildren(F)&&x.setAttribute("aria-expanded",!1);x.setAttribute("aria-label",F.getAttribute("data-label"))});v["default"](".js-filter-tree-link",this.domNode).forEach(function(F){F.removeAttribute("aria-selected")});z.addClass("is-active");var D=z[0].querySelector(".js-filter-tree-link");D.setAttribute("aria-selected",!0);this._hasChildren(z[0])&&D.setAttribute("aria-expanded",!0);D.setAttribute("aria-label",
A["default"].substitute(a["default"].common.selectedLabel,{name:z[0].getAttribute("data-label")}));z=z.parent().closest(".js-filter-tree-item");0<z.length&&(z.addClass("is-active"),D=z[0].querySelector(".js-filter-tree-link"),D.setAttribute("aria-label",A["default"].substitute(a["default"].common.selectedLabel,{name:z[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0),z=z.parent().closest(".js-filter-tree-item"),0<z.length&&(z.addClass("is-active"),D=z[0].querySelector(".js-filter-tree-item"),
D.setAttribute("aria-label",A["default"].substitute(a["default"].common.selectedLabel,{name:z[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0)));z=this._state.registeredOnly&&-1<q.indexOf("application")?' AND typekeywords:"Registered App"':"";this._state.selected=[{active:!0,label:B.label,simpleLabel:B.label,q:B.q+z,value:q}];C["default"].publish("filter/update",this._state)}this._showHideClearButton()};p.prototype._hasChildren=function(q){return 0<v["default"](".filter-tree",q).length};
p.prototype._clear=function(){var q=this;this._state.selected=[];v["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");v["default"](".js-filter-tree-item",this.domNode).forEach(function(y){var B=y.querySelector(".js-filter-tree-link");B.setAttribute("aria-label",y.getAttribute("data-label"));q._hasChildren(y)&&B.setAttribute("aria-expanded",!1)});this._showHideClearButton()};p.prototype._remove=function(q){q.param===this._state.param&&this._clear()};p.prototype._showHideClearButton=
function(){var q,y=v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(q=this._state.selected)||void 0===q?void 0:q.length)?y.removeClass("hide"):y.addClass("hide")};p.prototype._removeFilter=function(q){var y,B;null===(y=null===q||void 0===q?void 0:q.stopPropagation)||void 0===y?void 0:y.call(q);0<(null===(B=this._state.selected)||void 0===B?void 0:B.length)&&C["default"].publish("filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
p.prototype._addEventListeners=function(){var q=v["default"](".js-filter-tree-link",this.domNode),y=v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(q.on("click",h["default"].hitch(this,this._clickHandler)),y.on("click",h["default"].hitch(this,this._removeFilter)),v["default"](".js-registered-only",this.domNode).on("click",h["default"].hitch(this,this._updateRegisteredOnly)),C["default"].subscribe("filter/clear",h["default"].hitch(this,this._clear)),C["default"].subscribe("filter/remove",
h["default"].hitch(this,this._remove)))};p.prototype._updateRegisteredOnly=function(q){var y,B;this._state.registeredOnly=q.target.checked;0<(null===(B=null===(y=this._state)||void 0===y?void 0:y.selected)||void 0===B?void 0:B.length)&&this.select(this._state.selected[0].value)};return p=n.__decorate([t["default"](r["default"],l["default"],w["default"])],p)}()})},"arcgisonline/pages/dijit/FilterBBox":function(){define("require exports tslib dojo/text!./FilterSingle/templates/ClearAll.html dojo/_base/lang dojo/dom-construct dojo/query dojo/string dojo/topic esri/dijit/Search esri/libs/sanitizer/Sanitizer dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterBBox/FilterBBox.html ../utils/formatters ../../sharing/util ../../map/utils/createExtentSearchOptions ../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);return function(){function m(p,q){var y;this.declaredClass="arcgisonline.pages.dijit.FilterBBox";
this.baseClass="esriGroupSelector margin-left-0 trailer-0";this.templateString=d["default"];this.clearTemplateString=t["default"];this.widgetsInTemplate=!0;this.i18n=l["default"];this._bbox=null;this._selected=!1;p.bbox&&(this._bbox=p.bbox);this.sanitizer=null!==(y=null===p||void 0===p?void 0:p.sanitizer)&&void 0!==y?y:new v["default"]}m.prototype.postCreate=function(){this._updateUI();this._doAttachEvents()};m.prototype.destroy=function(){this.inherited(arguments)};m.prototype._doAttachEvents=function(){this.own(f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").on("click",
u["default"].hitch(this,this._removeExtentFilter)),k["default"].subscribe("filter/clear",u["default"].hitch(this,this._clear)),k["default"].subscribe("filter/remove",u["default"].hitch(this,this._remove)))};m.prototype.addExtentFilter=function(p,q){var y=q;q&&(y=this.sanitizer.sanitize(q),y=a["default"].stripHTML(y));this._selected=!0;this._bbox=[p[0][0],p[0][1],p[1][0],p[1][1]].join();y={chipText:l["default"].filters.locationChip,registeredOnly:!1,param:"bbox",bbox:this._bbox,selected:[{active:!0,
label:y,simpleLabel:y,value:this._bbox,partial:!1}]};k["default"].publish("sort/update",{property:"relevance",label:this.i18n.sortDropdown.relevance,ascending:"false"});k["default"].publish("filter/update",y);f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").removeClass("hide");f["default"](".js-filter-item",this.domNode).addClass("is-active");k["default"].publish("sort/disable",!0)};m.prototype._removeExtentFilter=function(){k["default"].publish("filter/remove",{param:"bbox",value:this._bbox});
k["default"].publish("sort/enable",!0)};m.prototype._updateUI=function(){var p=this._selected;this.domNode.innerHTML=g["default"].substitute(this.templateString,{i18n:this.i18n});var q=f["default"](".accordion-title ",this.domNode.parentElement.parentElement)[0],y=this.i18n.extentDlg.findLocationText;h["default"].place(g["default"].substitute(this.clearTemplateString,{i18n:this.i18n,hide:p?"":"hide",param:"bbox",placeholder:y,allPlaceholder:y}),q);g["default"].substitute(d["default"],{i18n:this.i18n},
null,e["default"]);p=b["default"]();p.showInfoWindowOnSelect=!1;p.sources.forEach(function(B){a["default"].isEsriWorldGeocoder(B)&&(B.categories=["Populated Place","Coordinate System"]);B.placeholder=y});p.allPlaceholder=y;this._searchWidget=new w["default"](p,"filterBBox");this._searchWidget.startup();this._searchWidget.on("select-result",this._useExtent.bind(this))};m.prototype._useExtent=function(p){var q=p.result.extent;this.addExtentFilter([[q.xmin,q.ymin],[q.xmax,q.ymax]],p.result.name)};m.prototype._clear=
function(){this._searchWidget.clear();this._selected=!1;f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").forEach(function(p){p.classList.add("hide")});k["default"].publish("sort/enable",!0)};m.prototype._remove=function(p){"bbox"===p.param&&(this._clear(),k["default"].publish("sort/enable",!0))};return m=n.__decorate([c["default"](A["default"],C["default"],r["default"])],m)}()})},"arcgisonline/pages/dijit/FilterCollaboration":function(){define("require exports tslib ../../esriGeowConfig ../utils/arrays ../utils/icons ./FilterSingle ../../sharing/util ../../tsutils/declareDecorator dojo/text!./FilterSingleWithSearch/templates/FilterSingleWithSearch.html dojo/text!./FilterCollaboration/templates/FilterOption.html dojo/text!./FilterCollaboration/templates/FilterEmpty.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang dojo/string dojo/dom-class dojo/_base/event dojo/query dojo/topic dojo/Deferred".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);return function(){function m(p,q){this.templateString=w["default"];
this.liTemplate=v["default"];this.i18n=A["default"];this.icons=h["default"];this.cssClasses=this.searchText="";this.excludedOrgTypes=["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"];this._endPoint=t["default"].restBaseUrl+"portals/self/collaborationsSummary";this._endPointIds=t["default"].restBaseUrl+"portals/self/collaboratedItems";this._state=r["default"].clone(p);this.collabsLoaded=new c["default"]}m.prototype.postCreate=function(){var p=this,q;if(this.failure=!t["default"].collaborationsEnabled||
!t["default"].userRole||!t["default"].userInfo.isOrgAdmin&&!t["default"].userRole.canManageCollaborations()||t["default"].self&&!t["default"].self.isPortal&&(null===(q=t["default"].self.subscriptionInfo)||void 0===q?void 0:q.type)&&-1<this.excludedOrgTypes.indexOf(t["default"].self.subscriptionInfo.type))a["default"](this.domNode).closest(".accordion-section").addClass("hide");else{var y=arguments;this._fetchCollabs().then(function(B){B&&(p._state.options=B,p.collabsLoaded.resolve());p.inherited(y)});
this.domNode.classList.add("filter-dist-collab")}};m.prototype._updateUI=function(){this.inherited(arguments);0===u["default"].toArray(this._state.options).length&&(this.domNode.innerHTML=l["default"].substitute(C["default"],{noOptionsMessage:A["default"].filters.noCollaborations}))};m.prototype._renderList=function(p,q,y,B){this.inherited(arguments);var z=this.liTemplate;q.label=q.label.replace(/"/g,"\x26quot;");var D=q.active?"is-active":"",F=this.options;D=n.__assign(n.__assign({},r["default"].clone(q)),
{param:F,selected:D});z=l["default"].substitute(z,D);return p+z};m.prototype._clickHandler=function(p){var q=this;e["default"].stop(p);var y=p.target.getAttribute("data-value"),B=p.target.getAttribute("data-parent"),z=p.target.parentNode;d["default"].contains(z,"is-active")?b["default"].publish("filter/remove",{param:this._state.param,value:p.target.getAttribute("data-value")}):(u["default"].toArray(this._state.options).forEach(function(D){return D.active=D.value===y&&D.childOf===B}),a["default"](".js-filter-item",
this.domNode).removeClass("is-active"),a["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),d["default"].add(z,"is-active"),z.setAttribute("aria-current",!0),this._setSelected(),this._updateItems().then(function(){b["default"].publish("filter/update",q._state)}))};m.prototype.select=function(p){var q=this;this.inherited(arguments);this.collabsLoaded.then(function(){q._state.options[p]&&(q._clear(),q._state.options[p].active=!0,a["default"](".js-filter-item[data-value\x3d'"+p+"']",
q.domNode).addClass("is-active"),a["default"](".js-filter-item[data-value\x3d'"+p+"']",q.domNode).attr("aria-current","true"),q._setSelected(),q._updateItems().then(function(){b["default"].publish("filter/update",q._state)}))})};m.prototype._updateItems=function(){var p=this,q,y=Object.keys(this._state.options).map(function(z){return p._state.options[z]}).filter(function(z){return z.active}),B=(null===(q=null===y||void 0===y?void 0:y[0])||void 0===q?0:q.value)?y[0].value:"";return this._fetchCollabIds(B).then(function(z){z=
z.collaboratedItems.map(function(D){return Object.keys(D)[0]});return p._state.options[B].items=z},function(z){})};m.prototype._fetchCollabs=function(){var p=this,q=this;return g["default"].request({url:this._endPoint,content:{includeParticipantInfo:!0,f:"json"}}).then(function(y){var B;return 0<(null===(B=y.collaborations)||void 0===B?void 0:B.length)?(y=y.collaborations,y.sort(function(z,D){var F=z.collaborationName.toLowerCase(),x=D.collaborationName.toLowerCase();return F<x?-1:F>x?1:0}),y.forEach(function(z){var D,
F=z.collaborationId,x=z.collaborationName.trim();p.options[F]=p.options[F]||{value:F,label:x,addClass:"",childOf:""};0<(null===(D=z.participants)||void 0===D?void 0:D.length)&&(p.options[F].participants=z.participants,z.participants.forEach(function(E){Object.keys(E).map(function(G){var H=E[G].trim();G=F+"__"+G;q.options[G]=q.options[G]||{value:G,label:H,childOf:F,addClass:"filter-tree-item-child"}})}))}),p.options):!1},function(y){})};m.prototype._fetchCollabIds=function(p){p=p.split("__");return g["default"].request({url:this._endPointIds,
content:p[0]&&p[1]?{collaborationId:p[0]?p[0]:"",participantId:p[1]?p[1]:"",f:"pjson"}:p[0]?{collaborationId:p[0]?p[0]:"",f:"pjson"}:""})};return m=n.__decorate([k["default"](f["default"])],m)}()})},"arcgisonline/pages/dijit/FilterTree":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dojo/text!./FilterTree/templates/FilterTree.html dojo/text!./FilterTree/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b){function c(m){return m.options?b["default"].toArray(m.options).reduce(function(p,q){if(q.options)return p.push(q),p.concat(c(q));p.push(q);return p},[]):[]}t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);
e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function m(p,q){this.summedAggregationProperties={}}m.prototype.postMixInProperties=function(){this.inherited(arguments);this._state=h["default"].clone(this.params);this.multiselect=this.params.multiselect;this._state.selected=this.params.selected||[]};m.prototype.postCreate=function(){var p,q=b["default"].toArray(this._state.options).reduce(h["default"].hitch(this,this._renderList),"");this.domNode.innerHTML=A["default"].substitute(l["default"],
{list:q});if(q=v["default"](".accordion-title",this.domNode.parentElement)[0]){var y=0<(null===(p=this._state.selected)||void 0===p?void 0:p.length)?"":"hide";k["default"].place(A["default"].substitute(e["default"],{i18n:a["default"],hide:y,param:this._state.param}),q)}this._attachEvents()};m.prototype.select=function(p){var q=this,y=[];p=p.length?p.split(","):[p];var B=v["default"](".js-filter-tree-item",this.domNode),z;p&&(this._clear(),p.forEach(function(D){q._state.options[D]&&(z=q._state.options[D],
z.active=!0,y.push(z),B.forEach(function(F){g["default"].get(F,"data-value")===D&&f["default"].add(F,"is-active")}))},this),this._state.selected=y,C["default"].publish("filter/update",this._onlyLeaves(this._state)),this._showHideClearButton())};m.prototype._renderList=function(p,q){var y="";q.options&&(y={list:b["default"].toArray(q.options).reduce(h["default"].hitch(this,this._renderList),"")},y=A["default"].substitute(l["default"],y));var B=q.active?"is-active":"",z=this.multiselect?"":"filter-tree-item-single";
y=n.__assign(n.__assign({},q),{list:y,selected:B,single:z});y=A["default"].substitute(d["default"],y);q.aggregationFields&&(this.summedAggregationProperties[q.value]=q.aggregationFields);return p+y};m.prototype._onlyLeaves=function(p){p=h["default"].clone(this._state);var q=[];p.selected.forEach(h["default"].hitch(this,function(y){0===c(y).filter(function(B){return B.active}).length&&q.push(y)}));p.selected=q;return p};m.prototype._clickHandler=function(p){u["default"].stop(p);p=v["default"](p.target).closest(".js-filter-tree-item");
for(var q=[g["default"].get(p[0],"data-value")],y=p.parent().closest(".js-filter-tree-item");0<y.length;)q.unshift(g["default"].get(y[0],"data-value")),y=y.parent().closest(".js-filter-tree-item");var B=this._state;q.forEach(function(z){return B=B.options[z]});f["default"].contains(p[0],"is-active")?(f["default"].remove(p[0],"is-active"),v["default"](".js-filter-tree-item",p[0]).removeClass("is-active"),this._deselectTree(B)):(B.active=!0,this.multiselect?(f["default"].add(p[0],"is-active"),this._state.selected.push(B)):
(v["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),f["default"].add(p[0],"is-active"),(p=v["default"](p[0].parentElement).closest(".js-filter-tree-item"))&&p.addClass("is-active"),this._state.selected=[B]));C["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()};m.prototype._deselectTree=function(p){this._state.selected=this._state.selected.filter(function(q){return q.value!==p.value});p.active=!1;p.options&&b["default"].toArray(p.options).forEach(h["default"].hitch(this,
this._deselectTree))};m.prototype._clear=function(){b["default"].toArray(this._state.options).forEach(h["default"].hitch(this,this._deselectTree));v["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");this._showHideClearButton()};m.prototype._remove=function(p){if(p.param===this._state.param){var q=b["default"].find(this._state.selected,function(y){return y.value===p.value});q&&(this._deselectTree(q),q=v["default"](".js-filter-tree-item[data-value\x3d'"+q.value+"']",this.domNode),
q.removeClass("is-active"),v["default"](".js-filter-tree-item",q[0]).removeClass("is-active"));C["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()}};m.prototype._showHideClearButton=function(){var p,q=v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(p=this._state.selected)||void 0===p?void 0:p.length)?q.removeClass("hide"):q.addClass("hide")};m.prototype._removeFilter=function(p){var q=this;p.stopPropagation();this._state.selected.forEach(h["default"].hitch(this,
function(y){C["default"].publish("filter/remove",{param:q._state.param,value:y.value})}))};m.prototype._attachEvents=function(){var p=v["default"](".js-filter-tree-link",this.domNode),q=v["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(q.on("click",h["default"].hitch(this,this._removeFilter)),p.on("click",h["default"].hitch(this,this._clickHandler)),C["default"].subscribe("filter/clear",h["default"].hitch(this,this._clear)),C["default"].subscribe("filter/remove",
h["default"].hitch(this,this._remove)),C["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};m.prototype._getCountForFieldValue=function(p,q){var y=b["default"].find(p,function(B){return B.value===q});return(null===y||void 0===y?void 0:y.count)||0};m.prototype._updateCounts=function(p){var q=this;p.fieldName===this._state.param&&(v["default"](".js-filter-link-count",this.domNode).innerHTML(""),p.fieldValues.forEach(function(y){var B=q.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+
y.value+"']");B&&(B.innerHTML="("+y.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(y){var B=q.summedAggregationProperties[y].reduce(function(z,D){return z+q._getCountForFieldValue(p.fieldValues,D)},0);(y=q.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+y+"']"))&&B&&(y.innerHTML="("+B+")")}))};return m=n.__decorate([t["default"](r["default"],w["default"])],m)}()})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(R){return R})},"arcgisonline/pages/dijit/View":function(){define("require exports tslib preact esri/Evented dojo/string dojo/on dojo/query dojo/topic dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin ./Card ./CardMobile ./CardWide ./TableRow ../pageUtil ../utils/arrays ../utils/icons dojo/text!./View/templates/tableHeader.html dojo/text!./View/templates/empty.html dojo/text!./View/templates/none.html dojo/text!./View/templates/loader.html dojo/text!./View/templates/View.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dropdown ../components/SearchFeedback ../utils/search".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x){u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);return function(){function E(G,H){this.templateString=y["default"];this.i18n=B["default"];this.select=!0;this.listTemplate=null;this.tableHead=c["default"];this.emptyView=m["default"];this.noneView=p["default"];this.loaderView=q["default"];this.listView=l["default"];this.mobileView=r["default"];this.tableRowView=d["default"];this.showSource=this.fullItemTypes=!1;this.location=B["default"].contentPage.searchingFor;this.sortOptions=
[];this.showShareGroups=this.allowShare=this.hasSharedOwnershipGroups=!1;this.searchTerm="";this._shiftPressed=this._hasFilters=this.showFeedback=this.allowDragAndDrop=this.recordSelection=this.recordSortToggle=!1;this._lastSelected=null;this._items=[];this._selected=[];this._dijits=[];this._itemViews={};this.feedbackSearchTerm=""}E.prototype.postCreate=function(){this.inherited(arguments);this._view=this.activeView;var G={i18n:B["default"],location:this.location,searchTerm:""};this.domNode.querySelector(".js-empty-wrap").innerHTML=
h["default"].substitute(this.emptyView,{i18n:B["default"]});this.domNode.querySelector(".js-none-wrap").innerHTML=h["default"].substitute(this.noneView,{i18n:B["default"]});this.domNode.querySelector(".js-loader-wrap").innerHTML=h["default"].substitute(this.loaderView,G);this.domNode.querySelector(".js-table-header").innerHTML=h["default"].substitute(this.tableHead,{i18n:B["default"],icons:b["default"],selectClass:this.select?"":"hide"});0<this.sortOptions.length&&(G=a["default"].find(this.sortOptions,
function(H){return H.active}))&&this._sortUpdate(G);this._itemViews=this.declareItemViews();this._addEventListeners()};E.prototype.destroy=function(){this.inherited(arguments);this._dijits.forEach(function(G){return G.destroy()})};E.prototype.setEmptyView=function(G){this.emptyView=G;this.domNode.querySelector(".js-empty-wrap").innerHTML=h["default"].substitute(this.emptyView,{i18n:B["default"]})};E.prototype.declareItemViews=function(){return{grid:{template:A["default"],containerClass:".js-grid-wrap"},
mobile:{template:this.mobileView,containerClass:".js-mobile-wrap"},list:{template:this.listView,containerClass:".js-list-wrap"},table:{template:this.tableRowView,containerClass:".js-table-rows"}}};E.prototype.allowCategorization=function(){g["default"](this.domNode).addClass("allow-categorization")};E.prototype.preventCategorization=function(){g["default"](this.domNode).removeClass("allow-categorization")};E.prototype.updateSearchFeedback=function(G,H,J,M,K,L){var U=this;this.searchTerm=G;var ba=
this.domNode.querySelector(".js-search-feedback");t.render(t.h(null,null),ba);ba.classList.add("hide");H&&this.showFeedback&&this.telemetry&&G&&G!==this.feedbackSearchTerm&&((null===K||void 0===K?0:K.eueiEnabled)||L&&!L.orgId)&&(ba.classList.remove("hide"),t.render(t.h(F.SearchFeedback,{telemetry:this.telemetry,searchTerm:this.searchTerm,page:J,onlyOrg:M,section:"content",enriched:x.semanticSearchEnabled(this.portal,this.portalUser),onSubmit:function(){return U.feedbackSearchTerm=G}}),ba))};E.prototype._addEventListeners=
function(){var G=this;this.own(f["default"](window,"keydown",function(H){return G._shiftPressed=H.shiftKey}),f["default"](window,"keyup",function(H){return G._shiftPressed=!1}),g["default"](".js-table-sort-header",this.domNode).on("click",this._sortHeader.bind(this)),f["default"](this.domNode.querySelector(".js-select-all"),"click",this._toggleAll.bind(this)),k["default"].subscribe("view/toggle",this._toggleView.bind(this)),k["default"].subscribe("view/update",this._updateView.bind(this)),k["default"].subscribe("view/deselect",
this._deselectItem.bind(this)),k["default"].subscribe("view/deselectAll",this._deselectAll.bind(this)),k["default"].subscribe("view/select",this._parseSelect.bind(this)),k["default"].subscribe("view/loading",this._showLoadingScreen.bind(this)),k["default"].subscribe("view/updateShare",this._updateItemsSharing.bind(this)),k["default"].subscribe("sort/update",this._sortUpdate.bind(this)),k["default"].subscribe("pagination/page",this._scrollToTop.bind(this)),k["default"].subscribe("item/update",this._updateItem.bind(this)));
this.allowDragAndDrop&&(this.domNode.classList.add("drag-and-drop-well"),this.own(f["default"](this.domNode,"dragover",function(H){H.preventDefault();G.dragover||(G.dragover=!0,G.domNode.classList.add("drag-and-drop-well--dragging"))}),f["default"](this.domNode,"dragleave",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging")}),f["default"](this.domNode,"drop",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging");
k["default"].publish("view/drop",H.dataTransfer)})))};E.prototype._toggleView=function(G){this._view=G;k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};E.prototype._showLoadingScreen=function(G){g["default"](".js-view",this.domNode).addClass("hide");var H=this.domNode.querySelector(".js-loader-wrap"),J=h["default"].substitute(this.location,{term:G});H.innerHTML=h["default"].substitute(this.loaderView,{i18n:B["default"],location:J,searchTerm:G});H.classList.remove("hide")};
E.prototype._parseSelect=function(G,H){var J=this._items.indexOf(G);H||!this._lastSelected&&0!==this._lastSelected||!this._shiftPressed?(this._selectItem(G),this._lastSelected=J):this._selectRange(Math.min(this._lastSelected,J),Math.max(this._lastSelected,J))};E.prototype._selectItem=function(G){a["default"].find(this._selected,function(H){return H.id===G.id})||(G.isSelected=!0,this._selected.push(G));this._setSelectAllState()};E.prototype._toggleAll=function(G){var H;this._lastSelected=null;this._shiftPressed=
!1;(G=G.target.checked)?this._selectPage():this._deselectPage();this.recordSelection&&(null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"Select",action:(G?"Select":"Unselect")+" page",count:this._items.length}))};E.prototype._selectRange=function(G,H){this._lastSelected=null;for(var J=G;J<=H;J++)k["default"].publish("view/select",this._items[J],!0);k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};E.prototype._selectPage=function(){this._lastSelected=
null;this._items.forEach(function(G){return k["default"].publish("view/select",G)});k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};E.prototype._deselectItem=function(G){this._lastSelected=null;G.isSelected=!1;this._selected=this._selected.filter(function(H){return H.id!==G.id});this._setSelectAllState()};E.prototype._deselectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return k["default"].publish("view/deselect",G)});k["default"].publish("view/update",
this._items,this._selected,this._hasFilters)};E.prototype._deselectAll=function(){this._lastSelected=null;this._items=this._items.map(function(G){G.isSelected=!1;return G});this._selected=[];this._setSelectAllState()};E.prototype._sortUpdate=function(G){this._currentSort=G;this._lastSelected=null;if("table"===this._view){var H=G.ascending?"is-ascending":"is-descending";g["default"](".js-table-sort-header").removeClass(["is-descending","is-ascending"]).attr("aria-sort","none");var J=g["default"](".js-table-sort-header[data-sort\x3d'"+
G.property+"']");0<J.length&&(J.addClass(H),J.attr({"aria-sort":G.ascending?"ascending":"descending","data-sort-order":G.ascending?"asc":"desc"}))}};E.prototype._updateItem=function(G){G&&"isFavorite"!==G.name&&this._updateView(this._items,this._selected,this._hasFilters)};E.prototype._updateItemsSharing=function(G){var H=this;(G||[]).forEach(function(J){var M=a["default"].find(H._items,function(K){return K.id===J.id});M&&(M.set("access",J.access),M.set("groupData",J.groupData),M.set("sharedGroups",
J.sharedGroups))})};E.prototype._sortHeader=function(G){this._lastSelected=null;var H=G.target;if(!H.getAttribute("data-sort")){var J=g["default"](G.target).closest(".js-table-sort-header")[0];J&&(H=J)}var M=H.getAttribute("data-sort");J=w["default"].contains(H,"is-ascending")||w["default"].contains(H,"is-descending");H=H.getAttribute("data-sort-order");J&&(H="asc"===H?"desc":"asc");G=(J=a["default"].find(this.sortOptions,function(K){return K.property===M}))?J.label:G.target.innerHTML;this.telemetry&&
this.recordSortToggle&&this.telemetry.logEvent({category:"Table Sort Order",action:"selected sort order"});k["default"].publish("sort/update",{label:G,property:M,ascending:"asc"===H})};E.prototype._updateView=function(G,H,J,M,K){var L=this;this._lastSelected=null;M=this.domNode.querySelector(".js-content-loader");K=this.domNode.querySelector(".js-table-wrap");null===M||void 0===M?void 0:M.classList.add("is-active");this._dijits.forEach(function(ha){return ha.destroy()});g["default"](".js-view",this.domNode).addClass("hide");
this._items=G||[];this._selected=H||[];this._hasFilters=J;var U=this.mobileView&&720>=window.innerWidth?"mobile":this._view;H=this._itemViews[U];var ba=H.template,V=this.domNode.querySelector(H.containerClass);H=this.domNode.querySelector(".js-none-wrap");var aa=this.domNode.querySelector(".js-empty-wrap");J=J?H:aa;0<G.length?(G.forEach(function(ha,ia){var ka=a["default"].find(L._selected,function(qa){return qa.id===ha.id});ka={item:ha,options:e["default"].getQueryParams(),select:L.select,isSelected:ka,
portalUser:L.portalUser,fullItemTypes:L.fullItemTypes,showSource:L.showSource,hasSharedOwnershipGroups:L.hasSharedOwnershipGroups,allowShare:L.allowShare,showShareGroups:L.showShareGroups,itemIndex:ia,telemetry:L.telemetry,page:L.page,telemetryOptions:L.telemetryOptions,portal:L.portal,recordSelection:L.recordSelection,searchTerm:L.searchTerm,addSearchTelemetryParams:L.addSearchTelemetryParams};L.tableRow&&"table"===U&&(ka.template=L.tableRow);L.listTemplate&&"list"===U&&(ka.template=L.listTemplate);
ka=new ba(ka);ka.startup();ka.placeAt(V);L._dijits.push(ka)}),w["default"].remove(V,"hide"),k["default"].publish("view/show"),"table"===U&&(K.classList.remove("hide"),this._setSelectAllState(),this._sortUpdate(this._currentSort))):J.classList.remove("hide");null===M||void 0===M?void 0:M.classList.remove("is-active");D.dropdown()};E.prototype._setSelectAllState=function(){var G=this.domNode.querySelector(".js-select-all"),H=this._items.filter(function(J){return J.isSelected});0===H.length?(G.checked=
!1,G.indeterminate=!1):H.length===this._items.length?(G.checked=!0,G.indeterminate=!1,G.disabled=!1):G.indeterminate=!0};E.prototype._scrollToTop=function(){this._lastSelected=null;var G=this.domNode.getBoundingClientRect().top;0>G&&window.scrollBy(0,G-50)};E.prototype.getItemCount=function(){return this._items.length};return E=n.__decorate([z["default"](v["default"],C["default"],u["default"])],E)}()})},"arcgisonline/pages/dijit/CardWide":function(){define("require exports tslib ../../tsutils/declareDecorator ./Card/_CardBase dojo/text!./CardWide/CardWide.html".split(" "),
function(R,N,n,t,u,h){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);return function(){function f(){this.isWide=!0;this.templateString=h["default"]}f.prototype.postCreate=function(){this.inherited(arguments)};return f=n.__decorate([t["default"](u["default"])],f)}()})},"arcgisonline/pages/dijit/TableRow":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../utils/formatters ../../esriGeowConfig ./ItemShareSummary ../utils/item ../utils/setItemUrls ../utils/icons ../utils/dom ./Card/_getItemClasses ../item/_Actions ./_CheckReadonlyMixin dojo/text!./TableRow/templates/TableRow.html dojo/text!./Card/OpenDropdown.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ./OrgPopup/OrgPopup preact ../components/Favorite".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);D=n.__importDefault(D);return function(){function F(x,E){this.template=m["default"];this.i18n=q["default"];this.fullDate=v["default"].fullDate;this.completeDate=v["default"].completeDate;this.capitalize=v["default"].capitalize;this.empty=v["default"].empty;this.shortenNumber=v["default"].shortenNumber;this.getAccess=v["default"].getAccess;this.getAccessIcon=v["default"].getAccessIcon;this.show=v["default"].show;this.hide=v["default"].hide;
this.icons=d["default"];this.cssClasses=[];this.dropdownClass=this.removedRow=this.activeRow=this.selectClass=this.checked="";this.recordSelection=this.favoritesDisabled=this.showShareGroups=this.hasSharedOwnershipGroups=this.showSource=this.fullItemTypes=this.isRemoved=this.isSelected=this.select=!1}F.prototype.postMixInProperties=function(){var x=this,E,G;this.inherited(arguments);this.formatDisplayName=v["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.templateString=this.template||
m["default"];this.checked=this.isSelected?"checked":"";this.selectClass=this.select?"":"hide";this.activeRow=this.isSelected?"table-select-row-active":"";this.removedRow=this.isRemoved?"table-select-row-removed":"";this.dropdownClass=2<this.itemIndex?"dropdown-up":"";if(null===(E=this.item)||void 0===E?0:E.classification)this.favoritesDisabled=!this.portalUser,this.item.openIn.forEach(function(H){return l["default"][H](x.item)}),this.item.premiumClass=this.item.isPremium?"":"hide",this.cssClasses=
a["default"](this.item,this.portalUser),this.item.isAdmin=this.item.isAdmin||(null===(G=this.portalUser)||void 0===G?void 0:G.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId,this.item.canShare=this.allowShare&&r["default"].canShareItem(this.item,this.portalUser),this.item.ownerText=v["default"].formatOwnerText(this.item),this.item.badges=r["default"].getBadges(this.item,!1,this.portalUser)};F.prototype.postCreate=function(){var x=this,E,G;this.inherited(arguments);this.cssClasses&&this.cssClasses.forEach(function(L){return L&&
x.domNode.classList.add(L)});!this.favoritesDisabled&&0<u["default"](".js-favorites-container",this.domNode).length&&(this.favorite=z.render(z.h(D["default"],{item:this.item}),this.domNode.querySelector(".js-favorites-container")));if(0<u["default"](".js-open-dropdown-container",this.domNode).length){var H=this.domNode.querySelector(".js-open-dropdown-container"),J=h["default"].substitute(p["default"],{item:this.item,i18n:q["default"],icons:d["default"]},null,this);t["default"].place(J,H);(null===
(E=this.item.portal)||void 0===E?0:E.isPortal)&&e["default"].hideNodes(H.querySelectorAll(".js-hide-portal"))}E=this.item;H=this.portalUser;J=this.allowShare;var M=this.telemetry,K=this.showShareGroups;(null===(G=this.item)||void 0===G?0:G.classification)&&new A["default"]({item:E,portalUser:H,showShareGroups:K,allowShare:J,telemetry:M},this.domNode.querySelector(".js-share-summary"));if("Feature Service"===E.type||"Feature Collection"===E.type)G=this.domNode.querySelector(".js-layers-tables"),J=
this.domNode.querySelector(".js-layers-tables-toggle"),G&&J&&C["default"].deepLayerSearchEnabled&&e["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:E,layers:E.sublayers,portal:E.portal,api:3,user:H,searchTerm:this.searchTerm,config:C["default"],telemetry:this.telemetry,tooltip:this.formatDisplayName(E.displayName),i18nNoService:q["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:q["default"].SelectLayersWFS.noLayers},G).appendChild(J);this._addEventListeners()};
F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy();this.favorite&&z.render(null,this.domNode.querySelector(".js-favorites-container"),this.favorite)};F.prototype._addEventListeners=function(){var x;this.own(u["default"](".js-table-select-checkbox",this.domNode).on("change",this._toggleSelected.bind(this)),u["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),u["default"](".js-action",this.domNode).on("click",this._handleAction.bind(this)),
u["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),u["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),g["default"].subscribe("view/items/"+this.item.id+"/deselect",this._deselect.bind(this)));var E=this.domNode.querySelector(".js-verified-owner-link");E&&this.own(f["default"](E,"click",this.showOrgPopup.bind(this)));(null===(x=this.item)||
void 0===x?0:x.watch)&&this.own(this.item.watch(this._itemUpdate.bind(this)))};F.prototype._handleAction=function(x){var E=this;x.preventDefault();var G=x.target.getAttribute("data-action");if(G&&b["default"][G]&&("share"!==G||!this.checkReadonly(this.item.portal))){var H={evt:x,item:this.item,user:this.portalUser,portal:this.item.portal,telemetry:this.telemetry};if("share"!==G||this.item.isOwner)b["default"][G](H);else this.item.getOwnerProfile(!0,!0).then(function(J){E.item.itemOwner=J;b["default"].share(H)})}};
F.prototype.selectItem=function(){this.domNode.classList.add("table-select-row-active");this.item.isSelected=!0;this.domNode.querySelector(".js-table-select-checkbox").checked=!0};F.prototype._select=function(){this.selectItem();g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("table-select-row-active");this.item.isSelected=!1;this.domNode.querySelector(".js-table-select-checkbox").checked=!1;g["default"].publish("view/deselect",this.item)};
F.prototype._toggleSelected=function(){var x;if(this.domNode.classList.contains("table-select-row-active")){var E="Unselect row";this._deselect()}else E="Select row",this._select();this.recordSelection&&(null===(x=this.telemetry)||void 0===x?void 0:x.logEvent({category:"Select",action:E,count:1}))};F.prototype._itemUpdate=function(x,E,G){g["default"].publish("item/update",{item:this.item,name:x,oldValue:E,value:G})};F.prototype._showProfile=function(x){g["default"].publish("profile/show",x)};F.prototype.showOrgPopup=
function(x){x.stopPropagation();(new B["default"]({item:this.item,opener:x.target})).open()};F.prototype._shareItemDropdown=function(x){this.domNode.querySelector(".js-item-share-dropdown").blur()};F.prototype._categorizeItem=function(x){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=n.__decorate([y["default"](k["default"],w["default"],c["default"])],F)}()})},"arcgisonline/pages/components/Favorite":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic ../../sharing/geow/Content arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/pages/pageUtil".split(" "),
function(R,N,n,t,u,h,f,g,k){Object.defineProperty(N,"__esModule",{value:!0});u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);R=function(w){function v(){var C=null!==w&&w.apply(this,arguments)||this;C.buttonRef=t.createRef();C.handleClick=function(A){var r=C.state.isFavorite,l=C.props.item;C.checkReadonly(l.portal)||(C.setState(function(d){return{isFavorite:!d.isFavorite}}),l.set("isFavorite",r),(r?f["default"].removeFromFavorites(l):
f["default"].addToFavorites(l)).then(function(){C.buttonRef.current.blur()},function(d){h["default"].publish("alert/show",{type:"error",text:null===d||void 0===d?void 0:d.message});C.setState(function(e){return{isFavorite:!e.isFavorite}});l.set("isFavorite",r)}))};return C}n.__extends(v,w);v.prototype.componentDidMount=function(){this.setState({isFavorite:this.props.item.isFavorite})};v.prototype.checkReadonly=function(C){return(null===C||void 0===C?0:C.isPortal)&&C.isReadOnly?(k["default"].createSpecifiedDialog(g["default"]).show({title:u["default"].common.errorTitle,
message:u["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};v.prototype.render=function(){var C=this.state.isFavorite;return t.h("span",null,t.h("button",{onClick:this.handleClick,ref:this.buttonRef,role:"checkbox","aria-label":u["default"].common.favorite,"aria-checked":C?"true":"false","class":"favorites__button position-relative card-action "+(C?"btn-link-yellow":"")},t.h("calcite-icon",{icon:C?"star-f":"star",scale:"s"}),t.h("span",{"aria-hidden":"true","class":"favorites__tooltip"},
C?u["default"].common.unfavorite:u["default"].common.favorite)))};return v}(t.Component);N["default"]=R})},"arcgisonline/pages/utils/dropdown":function(){define(["require","exports","tslib","calcite-web/js/calcite-web","dojo/query"],function(R,N,n,t,u){Object.defineProperty(N,"__esModule",{value:!0});N.dropdown=void 0;t=n.__importDefault(t);u=n.__importDefault(u);N.dropdown=function(){t["default"].dropdown();u["default"](".dropdown-link").on("mouseover",function(h){var f;null===(f=h.target)||void 0===
f?void 0:f.focus()})}})},"arcgisonline/pages/components/SearchFeedback":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline preact/hooks".split(" "),function(R,N,n,t,u,h){Object.defineProperty(N,"__esModule",{value:!0});N.SearchFeedback=void 0;u=n.__importDefault(u);N.SearchFeedback=function(f){var g=f.telemetry,k=f.searchTerm,w=f.page,v=f.onlyOrg,C=f.section,A=f.enriched,r=f.onSubmit,l=h.useState(1);f=l[0];var d=l[1];l=h.useState({dontSee:!1,irrelevant:!1,filters:!1,
notEnoughInfo:!1});var e=l[0],a=l[1];v=C+" "+(v?"org only":"all");C=h.useState("");var b=C[0],c=C[1],m={category:"search result page feedback "+(1===f?"1":"2"),pageName:v,statusCode:A?"enriched":"not enriched",pageUrl:window.location.href,number:Math.ceil(w.start/w.num),searchquery:k};return t.h("div",null,1===f&&t.h("div",{"class":"leader-1 trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 flex flex-center"},t.h("div",{"class":"flex-1"},t.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-quarter"},
u["default"].searchFeedback.areTheseResultsHelpful),t.h("p",{"class":"text-off-black font-size--2 trailer-0"},u["default"].searchFeedback.helpUsImprove)),t.h("calcite-button",{"icon-start":"thumbs-up",appearance:"outline","class":"padding-left-1",onClick:function(){g.logEvent(n.__assign(n.__assign({},m),{label:"yes"}));d(3);r()}},u["default"].searchFeedback.helpful),t.h("calcite-button",{appearance:"outline","icon-start":"thumbs-down","class":"padding-left-1",onClick:function(){g.logEvent(n.__assign(n.__assign({},
m),{label:"no"}));d(2)}},u["default"].searchFeedback.notHelpful)),2===f&&t.h("div",{"class":"trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1"},t.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-0"},u["default"].searchFeedback.whatMakes),t.h("p",{"class":"text-off-black font-size--2 trailer-half"},u["default"].searchFeedback.selectAllThatApply),Object.keys(e).map(function(p){return t.h("calcite-chip",{"class":"margin-right-half trailer-half",
value:p,appearance:e[p]?"solid":"clear",color:e[p]?"blue":"grey",onClick:function(){var q;a(n.__assign(n.__assign({},e),(q={},q[p]=!e[p],q)))}},u["default"].searchFeedback[p])}),t.h("div",{"class":"leader-1"},t.h("calcite-label",null,t.h("span",{"class":"display-block padding-trailer-half"},u["default"].searchFeedback.tellUsMore),t.h("calcite-input",{type:"textarea",maxLength:250,oncalciteInputInput:function(p){return c(p.detail.value)}})),t.h("div",{"class":"flex flex-end trailer-1"},t.h("span",
{"class":"font-size--2 text-darker-gray"},b.length," / ",250))),t.h("div",{"class":"flex flex-end"},t.h("calcite-button",{appearance:"outline",color:"blue",onClick:function(){d(3);r()},"class":"margin-right-quarter"},u["default"].searchFeedback.close),t.h("calcite-button",{appearance:"solid",color:"blue",onClick:function(){d(3);Object.keys(e).filter(function(p){return e[p]}).forEach(function(p){g.logEvent(n.__assign(n.__assign({},m),{label:p}))});b&&g.logEvent(n.__assign(n.__assign({},m),{details:b,
label:"other"}));r()}},u["default"].searchFeedback.sendFeedback))),3===f&&t.h("calcite-alert",{label:u["default"].searchFeedback.thankYou,active:!0,color:"green",icon:"check-circle",scale:"m","intl-close":"Close"},t.h("div",{slot:"title"},u["default"].searchFeedback.thankYou)))}})},"arcgisonline/pages/dijit/FilterTags":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/topic dojo/on dojo/debounce dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterTags/templates/FilterTags.html dojo/text!./FilterTags/templates/Option.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/icons ../utils/arrays arcgisonline/sharing/util ../../esriGeowConfig esri/libs/sanitizer/Sanitizer".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
return function(){function y(B,z){var D;this.templateString=l["default"];this._hasRendered=this.semanticSearchEnabled=!1;this._searchString="";this.i18n=a["default"];this.sanitizer=null!==(D=null===B||void 0===B?void 0:B.sanitizer)&&void 0!==D?D:new q["default"]}y.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a["default"];this._state={param:"tags",options:{},chipText:a["default"].filters.tagged,preselected:[],selected:[]};this._endPoint=this.searchEndpoint||p["default"].restBaseUrl+
"search";this._aggregationQuery=this.aggregationQuery||function(){return""};this._hiddenTypes=this.hiddenTypes||p["default"].viewQueries.none};y.prototype.postCreate=function(){var B=this;this._fetchTags().then(this._updateUI.bind(this)).then(this._addEventListeners.bind(this)).then(function(){0<B._state.preselected.length&&B.select(B._state.preselected)})};y.prototype.destroy=function(){this._clear()};y.prototype._addEventListeners=function(){var B=this,z=g["default"](".js-tag-search",this.domNode),
D=u["default"].hitch(this,function(F,x,E){h["default"].contains(E.target,F)&&u["default"].hitch(B,x)(E)});this.own(w["default"](this.domNode,"click",function(F){D("js-filter-tree-link",B._clickHandler,F)}),w["default"](this.clearLink,"click",this._clearHandler.bind(this)),w["default"](z,"input",v["default"](this._listUpdate.bind(this),400).bind(this)),k["default"].subscribe("filter/clear",this._clear.bind(this)),k["default"].subscribe("filter/remove",this._remove.bind(this)),k["default"].subscribe("aggregations/refresh",
this._rerender.bind(this)))};y.prototype._fetchTags=function(B){var z=this;B=B||{};var D={countFields:"tags",countSize:B.countSize||200,q:(B.tag&&"tags:("+B.tag+"* OR "+B.tag+") "||"")+this._aggregationQuery()+" "+this._hiddenTypes,num:0};this.semanticSearchEnabled&&(D.enriched=!0);B.additive||(this._state.localOptions={});return m["default"].request({url:this._endPoint,content:D}).then(function(F){var x,E;return 0<(null===(E=null===(x=F.aggregations)||void 0===x?void 0:x.counts)||void 0===E?void 0:
E.length)?(F.aggregations.counts[0].fieldValues.forEach(function(G){var H=z._state.preselected||[],J=(z._state.selected||[]).map(function(M){return M.value});H=[].concat(H).concat(J);-1<G.value.indexOf("\x3c")||(J=G.value.trim(),z._state.options[J]=z._state.options[J]||{value:J,label:J,count:G.count,countLabel:"("+G.count+")",active:-1<H.indexOf(J)})}),!0):!1},function(F){})};y.prototype.select=function(B){var z=this;B=[].concat(this.sanitizer.sanitize(B)).filter(function(D,F,x){return x.indexOf(D)===
F});this._hasRendered?(B.map(function(D){z._state.options[D]||(z._state.options[D]={value:D,label:D,count:0,countLabel:"",active:!0},z._updateUI());return z._state.options[D]}).forEach(function(D){D.active=!0;-1===z._state.selected.indexOf(D)&&z._state.selected.push(D);g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",z.domNode).addClass("is-active");g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",z.domNode).forEach(function(F){F.setAttribute("aria-selected",!0)})}),
this._setClearVisibility(),k["default"].publish("filter/update",this._state)):this._state.preselected=B};y.prototype._clear=function(){c["default"].toArray(this._state.options).forEach(function(B){B.active=!1});this._state.selected=[];g["default"](".js-filter-tree-item",this.domNode).forEach(function(B){h["default"].remove(B,"is-active");B.setAttribute("aria-selected",!1)});g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};y.prototype._remove=function(B){B.param===
this._state.param&&(this._state.options[B.value].active=!1,this._state.selected=this._state.selected.filter(function(z){return z.value!==B.value}),this._setClearVisibility(),g["default"](".js-filter-tree-item[data-value\x3d'"+B.value+"']",this.domNode).forEach(function(z){h["default"].remove(z,"is-active");z.setAttribute("aria-selected",!1)}))};y.prototype._rerender=function(){this._fetchTags().then(this._updateUI.bind(this)).then(this._clearInvalidOptions.bind(this))};y.prototype._updateUI=function(){var B=
this,z=c["default"].toArray(this._state.options),D=g["default"](this.domNode).closest(".accordion-section").shift();0===z.length?h["default"].add(D,"hide"):(h["default"].remove(D,"hide"),z=z.filter(function(F){return""===B._searchString||-1<F.value.toLowerCase().indexOf(B._searchString)}).sort(function(F,x){return x.count-F.count}),this.domNode.querySelector(".js-tags-list").innerHTML=z.reduce(this._renderList.bind(this),""),!this.clearLink&&(D=D.querySelector(".accordion-title"))&&(f["default"].place(C["default"].substitute(e["default"],
{i18n:a["default"],hide:"hide",param:this._state.param}),D),this.clearLink=D.querySelector(".js-clear-filter")),g["default"](".js-no-tags",this.domNode)[0<z.length?"addClass":"removeClass"]("hide"));return this._hasRendered=!0};y.prototype._clearInvalidOptions=function(){var B=c["default"].toArray(this._state.options);this._state.selected=this._state.selected.map(function(z){return c["default"].find(B,function(D){return D.value.toLowerCase()===z.value.toLowerCase()})})};y.prototype._renderList=function(B,
z){var D=u["default"].mixin(u["default"].clone(z),{isActive:z.active?"is-active":"",selected:z.active?'aria-selected\x3d"true"':"",icons:b["default"]});D=C["default"].substitute(d["default"],D);return B+D};y.prototype._setClearVisibility=function(){var B=g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<this._state.selected.length?B.removeClass("hide"):B.addClass("hide")};y.prototype._clickHandler=function(B){B.preventDefault();var z=B.target.parentNode,D=h["default"].contains(z,
"is-active"),F=B.target.getAttribute("data-value");D?(k["default"].publish("filter/remove",{param:this._state.param,value:B.target.getAttribute("data-value"),partial:!0}),h["default"].remove(z,"is-active"),z.setAttribute("aria-selected",!1)):(this._state.options[F].active=!0,this._state.selected.push(this._state.options[F]),h["default"].add(z,"is-active"),z.setAttribute("aria-selected",!0),this._setClearVisibility(),k["default"].publish("filter/update",this._state))};y.prototype._clearHandler=function(B){B.stopPropagation();
this._clear();k["default"].publish("filter/update",this._state)};y.prototype._listUpdate=function(B){this._searchString=null===B||void 0===B?void 0:B.target.value.toLowerCase();this._fetchTags({tag:this._searchString,additive:!0}).then(this._updateUI.bind(this))};return y=n.__decorate([t["default"](A["default"],r["default"])],y)}()})},"arcgisonline/pages/dijit/FilterCategories":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-construct dojo/Evented dojo/topic dojo/string dijit/_WidgetBase dojo/i18n!../../nls/arcgisonline ../utils/icons ../utils/arrays ./FilterCategory".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);return function(){function r(l,d){this._dijits=[]}r.prototype.postMixInProperties=function(){this.inherited(arguments);this.position=this.position||"before"};r.prototype.postCreate=function(){this.inherited(arguments);this._createCategoryFilters();
this.own(f["default"].subscribe("filter/update",this.checkForUncategorized.bind(this)))};r.prototype.destroy=function(){this.inherited(arguments);this._dijits.forEach(function(l){l.destroyRecursive()})};r.prototype.select=function(l,d){this._dijits.forEach(function(e){(null===e||void 0===e?0:e.select)&&e.select(l,d)});f["default"].publish("view/refresh")};r.prototype._createCategoryFilters=function(){var l=this,d=this.categorySchema||[],e=this.domNode.firstChild;this._dijits=0<(null===d||void 0===
d?void 0:d.length)?d.map(function(a,b){return l._createCategoryFilter(a,e,b)}):[this._createCategoryFilter(null,e)]};r.prototype._createCategoryFilter=function(l,d,e){var a,b=g["default"].substitute('\x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${icons.chevron-down.16}${displayName}\x3c/h4\x3e\x3cdiv class\x3d"accordion-content filters--accordion--content max-height filter"\x3e\x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\x3c/div\x3e',{displayName:l.displayName||w["default"].groupCategories.categories,
icons:v["default"]}),c=null===(a=null===l||void 0===l?void 0:l.categories)||void 0===a?void 0:a.length;d=u["default"].create("section",{className:"accordion-section is-active js-filter-category-container",innerHTML:b},d,this.position||"before");return new A["default"]({user:this.user,portal:this.portal,disableEdit:this.disableEdit,categories:c?[l]:null,group:this.group,param:0<e?"regions":"categories",chipText:0<e?w["default"].contentCategories.regionChipText:null,rootNode:0<e?"/"+l.title:null,filterContainer:d.querySelector(".js-filter-category-container"),
showUncategorized:c&&"Categories"===l.title},d.querySelector(".js-filter-category"))};r.prototype.checkForUncategorized=function(l){var d,e,a,b,c=C["default"].find(this._dijits,function(m){return"regions"===m.param});(l="categories"===(null===l||void 0===l?void 0:l.param)&&l.selected||[],0<l.length)&&"_none_"===l[0].value?(null===c||void 0===c?void 0:c.deselectAll(),null===(e=null===(d=null===c||void 0===c?void 0:c.domNode.parentNode)||void 0===d?void 0:d.parentNode)||void 0===e?void 0:e.classList.add("hide")):
null===(b=null===(a=null===c||void 0===c?void 0:c.domNode.parentNode)||void 0===a?void 0:a.parentNode)||void 0===b?void 0:b.classList.remove("hide")};return r=n.__decorate([t["default"](k["default"],h["default"])],r)}()})},"arcgisonline/pages/group/widgets/_members":function(){define("require exports tslib esri/Evented dojo/_base/lang dojo/string dojo/topic dojo/on dojo/Deferred dojo/promise/all dojo/_base/query dojo/_base/array dijit/_TemplatedMixin dijit/_WidgetBase ../../dijit/_CheckReadonlyMixin arcgisonline/tsutils/declareDecorator ../../pageUtil ../../utils/arrays ../../utils/culture ../../utils/dom ../../group/_GroupActions arcgisonline/pages/utils/icons arcgisonline/esriGeowConfig arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/dijit/FilterSingle arcgisonline/pages/dijit/FilterDate arcgisonline/pages/dijit/FilterStatus arcgisonline/pages/dijit/View arcgisonline/pages/dijit/Pagination arcgisonline/pages/components/Collaborations/collab-service ./filters/_members ../../_filterStateMixin ./MemberTableRow ../../organization/widgets/MemberMobile ../../organization/widgets/ProfilePopup ../../dijit/ControlBar dojo/text!./templates/members/actions.html dojo/text!./templates/members/tableHead.html dojo/text!./templates/members/tableRow.html dojo/text!./templates/members/empty.html dojo/text!./templates/members/none.html dojo/text!./templates/_members.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha,ia,ka){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);
c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);V=n.__importDefault(V);aa=n.__importDefault(aa);ha=n.__importDefault(ha);
ia=n.__importDefault(ia);ka=n.__importDefault(ka);R=function(){function qa(){this.templateString=ka["default"];this.icons=p["default"];this.searchTerm="";this.firstLoad=!0;this.coordinators=[];this.groupOrgs=[];this.endedCollabs=[];this.otherIds=[];this.trustedIds=[]}qa.prototype.postMixInProperties=function(){this.inherited(arguments);this._page={start:1,num:20,total:0,nextStart:-1};this.filterState={memberType:!1,joined:!1};this._sort={property:"joined",label:B["default"].GroupWidget.dateJoined,
ascending:!1}};qa.prototype.postCreate=function(){this.inherited(arguments);this._applyQueryParameters()};qa.prototype.startup=function(){var Y=this;this.inherited(arguments);var Q=new k["default"];this.reset();this.getCollabInfo().then(function(fa){return Y.getMembers()}).then(function(fa){return Y._updateState(fa)}).then(function(fa){return Y.initUI(fa)}).then(function(fa){Y.firstLoad&&(Y.firstLoad=!1);Q.resolve(fa)});return Q};qa.prototype.destroy=function(){this.inherited(arguments);this.reset();
this.roleFilter.destroy();this._dateFilter.destroy();this.filterStatus.destroy();this._pagination.destroy();this._controlBar.destroy();this.view.destroy()};qa.prototype.refreshAffiliationFilter=function(Y){var Q=this,fa=new k["default"];if(this.cannotGetCollabInfo())return fa.resolve(),fa;G["default"].getGroupUserCount(this.group.id,Y?this.searchTerm:"").then(function(S){Y?Q.updateAffiliationCount(S):Q.getGroupOrgs(S);Q.renderAffiliationFilter();fa.resolve()},function(){Q.renderAffiliationFilter();
fa.resolve()});return fa};qa.prototype.renderAffiliationFilter=function(){var Y,Q;this.groupOrgs||(this.groupOrgs=[]);var fa=n.__assign({},H["default"].affiliation);fa.options={};null===(Y=this.groupOrgs)||void 0===Y||Y.reduce(function(S,O){return S+O.count},0);this.groupOrgs.sort(function(S,O){var I=S.name.toLowerCase(),Z=O.name.toLowerCase(),W=B["default"].GroupWidget.myOrg.toLowerCase();return I===W?-1:Z===W?1:I<Z?-1:I>Z?1:0}).forEach(function(S){fa.options[S.value]||(fa.options[S.value]={label:S.name+
" "+(S.count?"("+S.count+")":"")+" "+("suspended"===S.state?"("+B["default"].searchFilters.suspended+")":""),value:S.value})});this.affiliationFilter&&(Y=document.createElement("div"),Y.className="accordion-content filters--accordion--content js-filter-affiliation",this.affiliationFilter.domNode.insertAdjacentElement("afterend",Y),null===(Q=this.domNode.querySelector(".js-filter-affiliation-container").querySelector(".js-clear-filter"))||void 0===Q?void 0:Q.remove(),this.affiliationFilter.destroy());
this.affiliationFilter=new z["default"](fa,this.domNode.querySelector(".js-filter-affiliation"))};qa.prototype.updateAffiliationCount=function(Y){var Q=this,fa,S,O,I=(null===(O=null===(S=null===(fa=null===Y||void 0===Y?void 0:Y.aggregations)||void 0===fa?void 0:fa.counts)||void 0===S?void 0:S[0])||void 0===O?void 0:O.fieldValues)||[];this.groupOrgs.forEach(function(Z){var W=I.filter(function(T){return-1<Q.trustedIds.indexOf(T.value)}),ca=I.filter(function(T){return-1===Q.trustedIds.indexOf(T.value)}).reduce(function(T,
P){return T+P.count},0);"other"!==Z.value?(W=W.filter(function(T){return T.value===Z.value})[0],Z.count=W?W.count:0):Z.count=ca?ca:0})};qa.prototype.getGroupOrgs=function(Y){var Q=this,fa,S,O,I=(null===(O=null===(S=null===(fa=null===Y||void 0===Y?void 0:Y.aggregations)||void 0===fa?void 0:fa.counts)||void 0===S?void 0:S[0])||void 0===O?void 0:O.fieldValues)||[];I.forEach(function(Z){Z.value===Q.portal.id&&(Z.name=B["default"].GroupWidget.myOrg)});this.trustedOrgs.forEach(function(Z){I.forEach(function(W){W.value===
Z.to.orgId&&(W.name=Z.to.name,W.state=Z.to.state)})});this.endedCollabs.forEach(function(Z){I.forEach(function(W){W.value===Z.id&&(W.name=Z.name)})});this.trustedIds=I.filter(function(Z){return!!Z.name}).map(function(Z){return Z.value});Y=I.filter(function(Z){return!Z.name});fa=Y.reduce(function(Z,W){return Z+W.count},0);this.otherIds=Y.map(function(Z){return Z.value});this.otherCount=this.otherIds.length?{value:"other",name:""+B["default"].GroupWidget.other,count:fa}:void 0;this.groupOrgs=I.filter(function(Z){return!!Z.name});
this.otherCount&&this.groupOrgs.push(this.otherCount)};qa.prototype.cannotGetCollabInfo=function(){return!this.group.allowExternalMembers()||this.portal.isPortal||!this.portalUser||!this.portal.canHavePartnerCollab()};qa.prototype.getCollabInfo=function(){var Y=this,Q,fa,S=new k["default"];return this.cannotGetCollabInfo()?S.resolve():w["default"]({collab:G["default"].getCollaborations(),userCount:G["default"].getGroupUserCount(this.group.id),coordinators:(null===(fa=null===(Q=this.portalUser)||void 0===
Q?void 0:Q.userRole)||void 0===fa?0:fa.canGetCoordinators())&&this.portal.canHavePartnerCollab()?G["default"].getAllCoordinators():null}).then(function(O){var I,Z=O.collab,W=O.userCount;O=O.coordinators;Y.trustedOrgs=(null===(I=null===Z||void 0===Z?void 0:Z.trustedOrgs)||void 0===I?void 0:I.filter(function(ca){return-1<ca.from.established&&-1<ca.to.established}))||[];Y.getGroupOrgs(W);Y.coordinators=O||[]})};qa.prototype.initUI=function(Y){var Q,fa=!this.portalUser,S=!fa&&!this.portalUser.orgId,O=
!fa&&!S&&this.portalUser.isOrgAdmin||this.group.isOwner||this.group.isAdmin,I={activeView:"table",select:this.group._canInviteOthers(this.portalUser),sortOptions:H["default"].sortOptions,emptyView:ha["default"],noneView:ia["default"],mobileView:K["default"],tableHead:V["default"],tableRow:aa["default"],tableRowView:M["default"],portalUser:this.portalUser,location:B["default"].GroupWidget.searchingMembers},Z={actions:this.group.canInviteOthers&&h["default"].substitute(ba["default"],{i18n:B["default"],
group:this.group,icons:p["default"]}),hideMobileActions:!1,search:{placeholder:B["default"].GroupWidget.searchGroupMember},sort:H["default"].sortOptions,filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetry:this.page.telemetry,telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}};(fa||S||this.group.hiddenMembers&&!O)&&c["default"].hideNode(this.domNode.querySelector(".js-filter-role-container"));fa=
this.group.isOwner||this.group.isManager;S=null===(Q=this.portalUser)||void 0===Q?void 0:Q.userRole;Q=(null===S||void 0===S?void 0:S.isAdmin())||(null===S||void 0===S?void 0:S.canViewUsers());!this.group.hiddenMembers||fa||Q||c["default"].showNode(this.domNode.querySelector(".js-hidden-members-warning"));this.roleFilter=new z["default"](H["default"].memberType,this.domNode.querySelector(".js-filter-role"));this.portal.isPortal||!this.group.allowExternalMembers()||this.group.hiddenMembers?this.domNode.querySelector(".js-filter-affiliation-container").remove():
this.renderAffiliationFilter();H["default"].joined.minDate=this.portal.created;this._dateFilter=new D["default"](H["default"].joined,this.domNode.querySelector(".js-filter-date"));this.filterStatus=new F["default"]({},this.domNode.querySelector(".js-filter-status"));this._controlBar=new U["default"](Z,this.domNode.querySelector(".js-control-bar"));this.page.ownedBySuspendedCollab&&(Z=this._controlBar.domNode.querySelector(".js-action-inviteUsers"),this.page.disableInviteBtn(Z));this.view=new x["default"](I,
this.domNode.querySelector(".js-views"));this._pagination=new E["default"]({start:this._initialStart,num:this._page.num,pageSizeLabel:B["default"].contentPage.paginationPerPageMembers,telemetry:this.page.telemetry},this.domNode.querySelector(".js-pagination"));this.updateView(Y);this.addEventListeners();this._applyFilters()};qa.prototype.render=function(){var Y=this;this.getMembers().then(function(Q){Y._updateState(Q);Y.updateView(Q)})};qa.prototype.getMembers=function(){var Y=this.getParams();return this.group.groupMembers(Y)};
qa.prototype.getParams=function(){var Y,Q,fa,S,O,I,Z={sortField:this._sort.property,sortOrder:this._sort.ascending?"asc":"desc",memberType:null!==(Q=null===(Y=this.filterState.memberType[0])||void 0===Y?void 0:Y.value)&&void 0!==Q?Q:null,joined:this.filterState.joined[0]?(null===(fa=this.filterState.joined[0])||void 0===fa?void 0:fa.from.format("000000x"))+","+(null===(S=this.filterState.joined[0])||void 0===S?void 0:S.to.format("000000x")):null,name:0<(null===(O=this.searchTerm)||void 0===O?void 0:
O.length)?this.searchTerm:null};this.filterState.orgId&&(Y=null===(I=this.filterState.orgId[0])||void 0===I?void 0:I.value,Z.orgIds="other"===Y?this.otherIds.join(","):Y);this.firstLoad&&(this._page.start=this._initialStart);return u["default"].mixin(Z,u["default"].clone(this._page))};qa.prototype.reset=function(){this.filterState.memberType=!1;this.filterState.joined=!1;this.selection=[];this._selectionInView=[];this.searchTerm="";this._sort={property:"joined",label:B["default"].GroupWidget.dateJoined,
ascending:!1};e["default"].setQueryParams({id:this.group.id})};qa.prototype._refreshMembers=function(Y){var Q=this;setTimeout(function(){Q.refreshAffiliationFilter()},1500);var fa=null===Y||void 0===Y?void 0:Y.removedMembers,S;(null===fa||void 0===fa?0:fa.length)?(setTimeout(function(){Q.getMembers().then(function(O){S=O.users||[];fa.some(function(I){return a["default"].find(S,function(Z){return I.username===Z.username})})?Q._refreshMembers(Y):(Q._updateState(O),Q.updateView(O),f["default"].publish("view/deselectAll"),
f["default"].publish("memberlist/refreshComplete"))})}),300):(this.render(),f["default"].publish("view/deselectAll"),f["default"].publish("memberlist/refreshComplete"))};qa.prototype.searchUsersByGroup=function(Y){return y["default"].request({url:q["default"].restBaseUrl+"community/users",content:{searchUserAccess:"groupMember",groups:this.group.id,filter:Y}})};qa.prototype.checkForMemberUpdates=function(Y,Q,fa){var S=this;Q||(Q=1);fa||(fa=new k["default"]);if(!Y)return fa.resolve(),fa;var O=Y.addedMembers,
I=Y.removedMembers;if(!O&&!I)return fa.resolve(),fa;setTimeout(function(){if(O){var Z="username:"+O.join(" OR username:");S.searchUsersByGroup(Z).then(function(W){W.total===O.length||7<Q?fa.resolve():S.checkForMemberUpdates(Y,Q+1,fa)},function(){7>=Q?S.checkForMemberUpdates(Y,Q+1,fa):fa.resolve()})}else I&&(Z="username:"+I.map(function(W){return W.username}).join(" OR username:"),S.searchUsersByGroup(Z).then(function(W){0===W.total||7<Q?fa.resolve():S.checkForMemberUpdates(Y,Q+1,fa)},function(){7>=
Q?S.checkForMemberUpdates(Y,Q+1,fa):fa.resolve()}))},300);return fa};qa.prototype.updateView=function(Y){f["default"].publish("view/update",this.members,this._selectionInView,this.hasFilters());this._pagination.render(Y);var Q=this._pagination.getCurrentPageObj();this.rangeText.textContent=e["default"].getPageRangeString({start:0===Y.total?0:Q.start,end:Q.end,total:Q.total});Y=(null===Y||void 0===Y?void 0:Y.users)||[];Q=Y.every(function(fa){return!fa.orgId});(this.portal.isPortal||Y.length&&Q&&this.firstLoad)&&
this.domNode.classList.add("no-collab");return!0};qa.prototype._updateState=function(Y){var Q,fa=new k["default"];this.members=this.parseMembers(Y.users);this.update_SelectionInView();this._page.start=Y.start;this._page.total=Y.total;this._page.nextStart=Y.nextStart;null===(Q=this._pagination)||void 0===Q?void 0:Q.set("start",this._page.start);fa.resolve(Y);return fa.promise};qa.prototype.update_SelectionInView=function(){var Y=this;this._selectionInView=this.selection.filter(function(Q){return a["default"].find(Y.members,
function(fa){return Q.username===fa.username})})};qa.prototype.updateSelectedView=function(){var Y;this.update_SelectionInView();0<this._selectionInView.length?(v["default"](".hide-if-selected").addClass("hide"),v["default"](".show-if-selected").removeClass("hide"),null===(Y=this.filterSelectedViewActions)||void 0===Y?void 0:Y.call(this,this._selectionInView)):(v["default"](".hide-if-selected").removeClass("hide"),v["default"](".show-if-selected").addClass("hide"));this.selectedCount&&(this.selectedCount.innerHTML=
b["default"].getString(this.i18n.GroupWidget.selected,this._selectionInView.length))};qa.prototype.filterSelectedViewActions=function(Y){var Q,fa=null!==(Q=this.portalUser)&&void 0!==Q?Q:{},S=fa.username;Q=!this.portalUser.orgId;var O=this.group.groupOwner||{},I=this.group._isGroupAdmin(fa),Z=this.group._canAssignToThisGroup(fa),W=this.group.leavingDisallowed&&!this.group.isOwner&&!this.group.isManager,ca=C["default"].some(Y,function(P){return P.username===S});Y=C["default"].some(Y,function(P){return P.username===
O.username});fa=this.group._canInviteOthers(fa);I=(I||fa||Z)&&(!ca||Z)&&!Y;Y=[];var T=[];Q?(T.push(this.updateUserRole),ca?T.push(this.removeUserText):Y.push(this.removeUserText)):(c["default"].hideNodes([this.updateUserRole,this.removeUserText]),ca?Z&&(Y.push(this.updateUserRole),W||Y.push(this.removeUserText)):fa&&(Y.push(this.updateUserRole),this.group.isBackedByEnterpriseGroup||W||Y.push(this.removeUserText)));I?(c["default"].hideNodes(T),c["default"].showNodes(Y)):c["default"].hideNodes(T.concat(Y))};
qa.prototype.parseMembers=function(Y){var Q=this,fa=this.group.owner;return Y.map(function(S){var O,I=a["default"].find(Q.selection,function(ca){return ca.username===S.username});S.isSelected=!!I;S.memberType=S.username===fa?"owner":S.memberType;S.role=B["default"].GroupWidget[S.memberType];var Z=B["default"].GroupWidget;I=Z.myOrg;Z=Z.other;if(S.orgId){var W=null===(O=Q.trustedOrgs)||void 0===O?void 0:O.filter(function(ca){return ca.to.orgId===S.orgId})[0];S.affiliation=S.orgId===Q.portal.id?I:W?
W.to.name:Z;S.affiliation===Z&&(O=Q.endedCollabs.filter(function(ca){return ca.id===S.orgId})[0])&&(S.affiliation=O.name)}else S.affiliation=Z;S.isCoordinator=Q.coordinators.some(function(ca){return ca.username===S.username});return S})};qa.prototype.hasFilters=function(){return""!==this.searchTerm||this.filterState.memberType||this.filterState.joined};qa.prototype.addEventListeners=function(){var Y=this;this.own(v["default"](".js-deselect",this.domNode).on("click",this.deselectAll.bind(this)),f["default"].subscribe("filter/update",
this.filterUpdate.bind(this)),f["default"].subscribe("filter/clear",this.filterClear.bind(this)),f["default"].subscribe("filter/remove",this.filterRemove.bind(this)),f["default"].subscribe("sort/update",this.sortUpdate.bind(this)),f["default"].subscribe("search/wait",this.searchWait.bind(this)),f["default"].subscribe("view/refresh",this._refreshMembers.bind(this)),f["default"].subscribe("view/select",this.viewSelect.bind(this)),f["default"].subscribe("view/deselect",this.viewDeselect.bind(this)),
f["default"].subscribe("view/deselectAll",this.viewDeselectAll.bind(this)),f["default"].subscribe("view/update",this.updateSelectedView.bind(this)),f["default"].subscribe("search/update",this.searchUpdate.bind(this)),f["default"].subscribe("pagination/page",this.paginationPage.bind(this)),f["default"].subscribe("onApplicationAccept",this.applicationAcceptOrDecline.bind(this)),f["default"].subscribe("onApplicationDecline",this.applicationAcceptOrDecline.bind(this)),f["default"].subscribe("profile/show",
this.showProfile.bind(this)),f["default"].subscribe("profile/hide",this.hideProfile.bind(this)),f["default"].subscribe("memberlist/refresh",this._refreshMembers.bind(this)),this.group.watch("numApplications",function(){v["default"](".js-numApplications").attr({innerHTML:Y.group.numApplications,"class":"notification-dot margin-left-quarter leader-quarter js-numApplications notification-dot-"+Y.group.numApplications})}));e["default"].registerItemActions(this,this.domNode,m["default"],this.page,this.actionGuard.bind(this))};
qa.prototype.actionGuard=function(Y){return-1===["inviteUsers","updateUserRole","removeUsers"].indexOf(Y)?!1:this.checkReadonly(this.portal)};qa.prototype.filterUpdate=function(Y){this._page.start=1;this._pagination&&this._pagination.set("start",this._page.start);this.filterState[Y.param]=Y.selected;this.render()};qa.prototype.filterClear=function(){this._page.start=1;this._pagination&&this._pagination.set("start",this._page.start);this.filterState.memberType=!1;this.filterState.joined=!1;this.filterState.orgId=
!1;this.render()};qa.prototype.filterRemove=function(Y){this.filterState[Y.param]=!1;this.render()};qa.prototype.viewSelect=function(Y){a["default"].find(this.selection,function(Q){return Q.username===Y.username})||(Y.isSelected=!0,this.selection.push(Y));this.updateSelectedView()};qa.prototype.viewDeselect=function(Y){Y.isSelected=!1;this.selection=this.selection.filter(function(Q){return Q.username!==Y.username});this.updateSelectedView()};qa.prototype.viewDeselectAll=function(){this.selection=
[];this.updateSelectedView()};qa.prototype.deselectAll=function(){f["default"].publish("view/deselectAll")};qa.prototype.searchWait=function(Y){f["default"].publish("view/loading",Y)};qa.prototype.searchUpdate=function(Y){-1<Y.indexOf("*")?f["default"].publish("alert/show",{type:"error",text:B["default"].search.error.wildCardSearchError}):(this._page.start=1,this._pagination&&this._pagination.set("start",this._page.start),this.searchTerm=Y);this.render();this.refreshAffiliationFilter(!0)};qa.prototype.sortUpdate=
function(Y){this._page.start=1;this._pagination&&this._pagination.set("start",this._page.start);this._sort.property=Y.property;this._sort.ascending=Y.ascending;this.render()};qa.prototype.paginationPage=function(Y){this._page.start=Y.start;this._page.num=Y.num;this._pagination&&this._pagination.set("start",this._page.start);this.render()};qa.prototype.applicationAcceptOrDecline=function(){var Y=this,Q=this.group.canManageMembershipRequests&&(!this.group.belongsToGroup||this.group.isMember);w["default"]({group:y["default"].request({url:q["default"].restBaseUrl+
"community/groups/"+this.group.id}),members:this.group.allGroupMembers(),applications:Q?this.group.getApplications():null}).then(function(fa){var S=fa.group,O=fa.members;if(fa=fa.applications)S.userMembership.applications=fa.length;S.numMembers=Y.page._formatNumMembers(O);S.members=O;S.numApplications=Y.page._formatNumApplication(S.userMembership);Y.group.set({userMembership:S.userMembership,numApplications:S.numApplications,members:O,numMembers:S.numMembers});Y._refreshMembers()})};qa.prototype.showProfile=
function(Y){var Q=this,fa;null===(fa=this.popup)||void 0===fa?void 0:fa.close();this.popup=new L["default"]({username:Y.target.getAttribute("data-owner"),opener:Y.target,portal:this.portal});this.popup.open();g["default"].once(this.popup,"close",function(){Q.popup=void 0})};qa.prototype.hideProfile=function(){var Y;null===(Y=this.popup)||void 0===Y?void 0:Y.close()};return qa=n.__decorate([d["default"](r["default"],A["default"],t["default"],J["default"],l["default"])],qa)}();N["default"]=R})},"arcgisonline/pages/group/widgets/filters/_members":function(){define(["require",
"exports","tslib","dojo/i18n!../../../../nls/arcgisonline"],function(R,N,n,t){t=n.__importDefault(t);return{memberType:{param:"memberType",chipText:t["default"].filters.groupRole,options:{admin:{label:t["default"].GroupWidget.adminAndOwner,value:"admin"},member:{label:t["default"].GroupWidget.member,value:"member"}}},affiliation:{param:"orgId",chipText:t["default"].filters.affiliation,options:{myOrg:{label:t["default"].GroupWidget.myOrg,value:"myOrg"},other:{label:t["default"].GroupWidget.other,value:"other"}}},
joined:{param:"joined",chipText:t["default"].GroupWidget.joinedFilter},sortOptions:[{property:"name",label:t["default"].GroupWidget.name,ascending:!0},{property:"membertype",label:t["default"].GroupWidget.groupRole,ascending:!0},{property:"joined",label:t["default"].GroupWidget.dateJoined,ascending:!1,active:!0}]}})},"arcgisonline/pages/group/widgets/MemberTableRow":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline ../../dijit/MemberThumb ../../dijit/TableRow arcgisonline/pages/utils/dom ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(R,N,n,t,u,h,f,g,k,w){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);return function(){function v(C,A){}v.prototype.postCreate=function(){this._memberThumb=new u["default"]({member:this.item,cssClasses:"member-thumb--small margin-right-half"},this.domNode.querySelector(".js-group-member-thumbnail"));if(this.item.isCoordinator){var C=this.domNode.querySelector(".js-collab-contact-icon");
C.setAttribute("aria-label",t["default"].GroupWidget.collabContact);f["default"].showNode(C)}this.inherited(arguments)};v.prototype.destroy=function(){this.inherited(arguments)};return v=n.__decorate([g["default"](k["default"],w["default"],h["default"])],v)}()})},"arcgisonline/pages/organization/widgets/MemberMobile":function(){define("require exports tslib ../../utils/formatters ../../utils/organization ../../utils/strings ../../../sharing/dijit/_LevelAwareMixin dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/members/MemberMobile.html ../../../tsutils/declareDecorator".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);return function(){function l(d){this.templateString=A["default"];this.i18n=C["default"];this.lastLoginDate=u["default"].lastLoginDate.bind(u["default"]);this.disabledClass=u["default"].disabledStyle.bind(u["default"]);
this.disabledLinkClass=u["default"].disabledLinkClass.bind(u["default"]);this.disabledAllowEventsClass=u["default"].disabledStyleAllowEvents.bind(u["default"]);this.hide=t["default"].hide;this.show=t["default"].show}l.prototype.postMixInProperties=function(){var d,e;this.inherited(arguments);var a=this.item.fullName.split(" ");this.item.initials=""+a[0].substring(0,1)+(null!==(e=null===(d=a[1])||void 0===d?void 0:d.substring(0,1))&&void 0!==e?e:"");this.item.backgroundColor=this._getMemberFillColor(this.item)};
l.prototype.postCreate=function(){this.inherited(arguments);this._addEventListener()};l.prototype.destroy=function(){this.inherited(arguments)};l.prototype._addEventListener=function(){var d=this;this.own(w["default"](this.domNode,function(){d.item.page.openMobileMemberPanel({item:d.item,portal:d.item.portal})}))};l.prototype._getMemberFillColor=function(d){var e=d.id?d.id.substr(d.id.length-6):"";h["default"].isValidHex(e)||(e=h["default"].stringToHex(d.username));d=h["default"].hexToRgb(e);return"rgba("+
d.r+","+d.g+","+d.b+", 0.2)"};return l=n.__decorate([r["default"](g["default"],k["default"],v["default"],f["default"])],l)}()})},"arcgisonline/pages/group/widgets/_create":function(){define("require exports tslib dojo/dom-attr dojo/string dojo/topic dojo/on dojo/aspect dojo/dom-class dojo/keys dojo/Deferred dojo/promise/all dojo/_base/query dijit/_TemplatedMixin dijit/_WidgetBase esri/lang ../../../sharing/dijit/dialog/SelectEnterpriseGroupDlg ../../../sharing/dijit/dialog/SimpleDlg ../../../sharing/dijit/dialog/SubscriptionStatusDlg dijit/_OnDijitClickMixin dijit/_WidgetsInTemplateMixin esri/dijit/Tags ../../../sharing/dijit/dialog/thumbnailDialogs/CreateGroupThumbnailDlg arcgisonline/tsutils/declareDecorator ../../pageUtil ../../../sharing/util ../../utils/dom ../../group/_GroupActions arcgisonline/pages/utils/icons arcgisonline/esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_create.html".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H){Object.defineProperty(N,"__esModule",{value:!0});t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);m=n.__importDefault(m);
p=n.__importDefault(p);q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importDefault(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);R=function(){function J(M,K){this.widgetsInTemplate=!0;this.templateString=H["default"];this.icons=x["default"];this.i18n=G["default"];this.ACCESS={PRIVATE:"private",ORG:"org",PUBLIC:"public"};this.DEFAULT_SORT_FIELD="title";this.ASCENDING_SORT_ORDER=
"asc";this.DESCENDING_SORT_ORDER="desc";this.ENTERPRISE_PROVIDER="enterprise";this.UPDATE_ITEM_CONTROL="updateitemcontrol";this.MAX_GROUPS_DEFAULT=512;this.thumbnailExtension="png"}J.prototype.postCreate=function(){var M;this.inherited(arguments);this.tagsDijit=new p["default"](B["default"].tagDefaults("createGroupTags"),"createGroupTags");this.isAdmin=null===(M=this.portalUser)||void 0===M?void 0:M.userRole.isAdmin();if(this.isPortal=this.page.portal.isPortal)this.allItemsLabelText.textContent=this.i18n.GroupWidget.allItemsPortal;
this.setPlaceholders()};J.prototype.startup=function(){this.inherited(arguments);var M=new v["default"];z["default"].isLoggedIn()?(window.onbeforeunload=this.unload.bind(this),this.initUI().then(function(){return M.resolve()})):z["default"].requireAuthentication();return M};J.prototype.destroy=function(){this.inherited(arguments);this.disableGlobalErrorHandler(!1)};J.prototype.setPlaceholders=function(){this.groupTitle.placeholder=this.i18n.GroupWidget.nameHelp;this.summary.placeholder=this.i18n.GroupWidget.newSummaryHelp};
J.prototype.disableGlobalErrorHandler=function(M){E["default"].hideDefaultCheckErrorMessage=M};J.prototype.addEventListeners=function(){var M=this,K=this.formChange.bind(this),L=this.accessChange.bind(this),U=this.inviteChange.bind(this),ba=this.capabilitiesChange.bind(this);this.own(A["default"](".js-group-title",this.domNode).on("change",K),g["default"].after(this.tagsDijit,"validate",K),f["default"](this.tagsDijit,"keyup",K),f["default"](this.groupImage,"dragleave",this.handlePreviewDragLeave.bind(this)),
f["default"](this.groupImage,"dragenter",this.handlePreviewDragOver.bind(this)),f["default"](this.groupImage,"dragover",this.handlePreviewDragOver.bind(this)),f["default"](this.groupImage,"drop",this.handleImageDrop.bind(this)),f["default"](this.uploadThumbnailMessage,"dragover",this.handleImageDragOver.bind(this)),f["default"](this.uploadThumbnailMessage,"dragenter",this.handleImageDragOver.bind(this)),f["default"](this.uploadThumbnailMessage,"drop",this.handleImageDrop.bind(this)),f["default"](this.form,
"submit",function(V){V.preventDefault();M.formSubmit(V)}),c.a11yclick(this.createBtn,this.formSubmit.bind(this)),c.a11yclick(this.cancelBtn,this.formCancel.bind(this)),c.a11yclick(this.privateAccess,L),c.a11yclick(this.orgAccess,L),c.a11yclick(this.publicAccess,L),c.a11yclick(this.allowApply,U),c.a11yclick(this.inviteOnly,U),c.a11yclick(this.anyoneCanJoin,U),c.a11yclick(this.noUpdateCapabilities,ba),c.a11yclick(this.updateCapabilities,ba),c.a11yclick(this.administrativeGroup,this.administrativeGroupChange.bind(this)))};
J.prototype.addEnterpriseGroupsEventListeners=function(){var M=this.enterpriseOptionChange.bind(this),K=this.watchForInput;this.own(c.a11yclick(this.enterpriseGroup,M),B["default"].registerKeystrokeHandler(this.enterpriseGroupInput,K),c.a11yclick(this.enterpriseGroupBtn,this.selectEnterpriseGroupClick.bind(this)),h["default"].subscribe("enterprise-group-selected",this.enterpriseGroupChange.bind(this)));this.enterpriseLabel.innerHTML=this.i18n.GroupWidget.enterpriseGroups["saml"===this.enterpriseGroupType?
"samlEnterpriseLabel":"enterpriseLabel"];this.enterpriseGroupInput.type="text";D["default"].showHideAll([this.enterpriseGroupNameLabel,this.enterpriseGroupBtn],"saml"!==this.enterpriseGroupType)};J.prototype.initUI=function(){var M=this,K,L,U,ba=!(null===(K=this.portalUser)||void 0===K?0:K.orgId),V=new v["default"];K=this.page.portal;var aa=!ba&&this.portalUser.isOrgAdmin,ha=this.portalUser.userRole,ia=!0===(null===(U=null===(L=null===K||void 0===K?void 0:K.portalProperties)||void 0===L?void 0:L.openData)||
void 0===U?void 0:U.enabled);U=K.canSharePublic;var ka=!ba&&(aa||ha.isCustom()&&ha.canManageEnterpriseGroups());L=aa||ha.canCreateUpdateCapableGroup();ia=ia&&(aa||ha.canDesignateOpenDataGroups());ia=!this.isPortal&&!ba&&ia;var qa=aa||ha.canShareGroupToOrg();aa=aa||U&&ha.canShareGroupToPublic();t["default"].set(this.createGroupTagsLabel,"for",this.tagsDijit._inputTextBox.id);this.disableGlobalErrorHandler(!0);this.addEventListeners();ba?(this.applyLabel.innerHTML=this.i18n.GroupWidget.publicThoseWhoAsk,
this.inviteLabel.innerHTML=this.i18n.GroupWidget.publicOnlyInvited,this.adminContributeLabel.innerHTML=this.i18n.GroupWidget.onlyAdminContribute):(aa||(D["default"].hideNode(this.publicAccessContainer),D["default"].checkNode(this.orgAccess,!0)),qa?this.orgAccessLabel.innerHTML=u["default"].substitute(this.i18n.GroupWidget.newOrgLabel,{name:K.name}):(D["default"].hideNode(this.orgAccessContainer),D["default"].checkNode(this.privateAccess,!0)),D["default"].showHide(this.privateAccess,!(!qa&&!aa)));
D["default"].showHide(this.anyoneCanJoinLabel,!ba);D["default"].showHide(this.memberVisibilityContainer,this.isAdmin);D["default"].showHide(this.administrativeGroupContainer,this.isAdmin);this.canShowOpenData=ia;D["default"].showHide(this.updateCapabilitiesContainer,L);this.accessChange();z["default"].loadUserTags(this.portalUser.username).then(function(Y){M.tagsDijit.set("knownTags",Y);M.isPortal&&ka?C["default"]({enterpriseGroupConfig:B["default"].checkEnterpriseGroupStore(),idpConfig:B["default"].fetchIDPConfig()}).then(function(Q){var fa,
S,O;(null===(fa=Q.enterpriseGroupConfig)||void 0===fa?0:fa.supportsEnterpriseGroups)?(M.enterpriseGroupType=Q.enterpriseGroupConfig.storeType,M.supportsEnterpriseGroups=Q.enterpriseGroupConfig.supportsEnterpriseGroups):(null===(S=Q.idpConfig)||void 0===S?0:S.updateGroupsAtSignin)?(M.enterpriseGroupType="saml",M.supportsEnterpriseGroups=null===(O=Q.idpConfig)||void 0===O?void 0:O.updateGroupsAtSignin):(M.enterpriseGroupType=void 0,M.supportsEnterpriseGroups=!1);M.supportsEnterpriseGroups&&(D["default"].showNode(M.enterpriseAllowApplyContainer),
D["default"].checkNode(M.enterpriseApply,!0),M.addEnterpriseGroupsEventListeners(),M.accessChange());V.resolve()},function(Q){M.enterpriseGroupType=void 0;M.supportsEnterpriseGroups=!1;V.resolve()}):!M.isPortal&&ka?z["default"].request({url:z["default"].getSecureUrl(E["default"].restBaseUrl)+"portals/self/idp"}).then(function(Q){M.enterpriseGroupType="saml";M.supportsEnterpriseGroups=null===Q||void 0===Q?void 0:Q.updateGroupsAtSignin;M.supportsEnterpriseGroups&&(D["default"].showNode(M.enterpriseAllowApplyContainer),
M.addEnterpriseGroupsEventListeners(),M.accessChange());V.resolve()},function(){M.enterpriseGroupType=void 0;M.supportsEnterpriseGroups=!1;V.resolve()}):(M.enterpriseGroupType=void 0,M.supportsEnterpriseGroups=!1,ba&&(D["default"].hideNode(M.accessContainer),D["default"].showNode(M.publicAccessOnlyContainer),D["default"].checkNode(M.publicAccess,!0)),V.resolve())});B["default"].registerItemActions(this,this.domNode,F["default"],this);h["default"].subscribe("thumbnail/change",function(Y){M.editThumbnailBtn.textContent=
M.i18n.itemProperties.editThumbnail;D["default"].hideNode(M.uploadThumbnailMessage);D["default"].showNode(M.groupImageContainer);M.groupImage.src=Y.base64;M.thumbnailBlob=Y.blob;M.thumbnailExtension=Y.format});return V};J.prototype.validates=function(){var M=this.getTitle(),K=this.getSummary(),L=this.getTags(),U=this.getAutoJoin(),ba=this.hasUpdateCapabilities(),V=this.useEnterpriseGroup(),aa=this.form.querySelector('input[name\x3d"enterpriseGroup"]').value;return 0===M.length?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,
content:this.i18n.GroupWidget.error.provideName}).show(),!1):M&&!1===(new RegExp(/^[^<|>%]+$/i)).test(M)?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,content:this.i18n.GroupWidget.error.specialCharactersError}).show(),!1):250<(null===K||void 0===K?void 0:K.length)?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,content:u["default"].substitute(this.i18n.GroupWidget.summaryInvalidMsg,{length:K.length})}).show(),!1):0===L.length?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,
content:this.i18n.GroupWidget.enterTags}).show(),!1):U&&ba?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,content:this.i18n.GroupWidget.autoJoinNotSupportedWithUpdate}).show(),!1):this.supportsEnterpriseGroups&&"saml"===this.enterpriseGroupType&&V&&0===aa.length?(this.generateSimpleDlg({title:this.i18n.GroupWidget.groupTitle,content:this.i18n.GroupWidget.enterpriseGroups.missingEnterpriseGroupName}).show(),!1):!0};J.prototype.createGroup=function(M){return z["default"].request({url:E["default"].restBaseUrl+
"community/createGroup",form:M})};J.prototype.handleCreateGroup=function(M){(null===M||void 0===M?0:M.success)&&(null===M||void 0===M?0:M.group)?this.handleCreateGroupSuccess(M.group.id):this.handleCreateGroupFailure(M)};J.prototype.handleCreateGroupSuccess=function(M){window.onbeforeunload=void 0;window.location.href="group.html?id\x3d"+M};J.prototype.handleCreateGroupFailure=function(M){var K=this,L,U,ba=["SB_0005","SB_0006","SB_0007"],V=this.getTitle(),aa=function(){window.location.href="group.html?owner\x3d"+
encodeURIComponent(K.portalUser.username)+"\x26title\x3d"+encodeURIComponent(V)};-1!==["SB_0001","SB_0002","SB_0003","SB_0004"].indexOf(null===M||void 0===M?void 0:M.messageCode)?this.generateSubscriptionStatusDlg().show(this.page.portal.subscriptionInfo):-1!==ba.indexOf(null===M||void 0===M?void 0:M.messageCode)?this.generateSubscriptionStatusDlg().showOther(M.messageCode):-1<(null===(L=null===M||void 0===M?void 0:M.message)||void 0===L?void 0:L.indexOf("file exceeds the max size"))?(this.generateSimpleDlg({title:this.i18n.GroupWidget.addThumbnailError,
content:M.message}).show(),setTimeout(aa,3E3)):"COM_0044"===(null===M||void 0===M?void 0:M.messageCode)?-1<(null===(U=null===M||void 0===M?void 0:M.details[0])||void 0===U?void 0:U.indexOf("open data"))?this.generateSimpleDlg({title:this.i18n.GroupWidget.error.errorCreatingGroup,content:this.i18n.GroupWidget.error.cantEnableOpenData}).show():(M=d["default"].substitute({name:V},this.i18n.GroupWidget.error.nonUniqueName),this.generateSimpleDlg({title:this.i18n.GroupWidget.error.errorCreatingGroup,content:this.i18n.GroupWidget.error.cantCreateGroup+
" "+M}).show()):"COM_1064"===(null===M||void 0===M?void 0:M.messageCode)||"COM_0065"===(null===M||void 0===M?void 0:M.messageCode)?(M=this.retrieveMaxGroupsFromErrorMessage(M.message),M=d["default"].substitute({numGroups:M},this.i18n.GroupWidget.error.groupMax),this.generateSimpleDlg({title:this.i18n.GroupWidget.error.errorCreatingGroup,content:this.i18n.GroupWidget.error.cantCreateGroup+" "+M}).show()):"GWM_0021"===(null===M||void 0===M?void 0:M.messageCode)?this.generateSimpleDlg({title:this.i18n.GroupWidget.error.errorCreatingGroup,
content:M.message}):this.generateSimpleDlg({title:this.i18n.GroupWidget.error.errorCreatingGroup,content:this.i18n.GroupWidget.error.cantCreateGroup}).show();this.setCreating(!1)};J.prototype.retrieveMaxGroupsFromErrorMessage=function(M){var K=/'(\d*)?'/;try{var L=K.exec(M);if(null!==L){var U=parseInt(L[L.length-1],10);if(!d["default"].isDefined(U)||isNaN(U))U=this.MAX_GROUPS_DEFAULT}else U=this.MAX_GROUPS_DEFAULT}catch(ba){U=this.MAX_GROUPS_DEFAULT}return U};J.prototype.getAccess=function(){return D["default"].isChecked(this.privateAccess)?
this.ACCESS.PRIVATE:D["default"].isChecked(this.orgAccess)?this.ACCESS.ORG:this.ACCESS.PUBLIC};J.prototype.getTitle=function(){return this.groupTitle.value.trim()};J.prototype.getSummary=function(){return this.summary.value.trim()};J.prototype.getTags=function(){return this.tagsDijit.get("tags")};J.prototype.getAutoJoin=function(){return D["default"].isChecked(this.anyoneCanJoin)};J.prototype.getInvitationOnly=function(){return D["default"].isChecked(this.inviteOnly)};J.prototype.getOpenData=function(){return!this.isPortal&&
this.getAccess()===this.ACCESS.PUBLIC&&D["default"].isChecked(this.openData)};J.prototype.getViewOnly=function(){return D["default"].isChecked(this.adminContribute)};J.prototype.getSortField=function(){var M=D["default"].getSelectedOption(this.sortedBy.options);return M?M.value:this.DEFAULT_SORT_FIELD};J.prototype.getSortOrder=function(){return D["default"].isChecked(this.sortedByOrder)?this.ASCENDING_SORT_ORDER:this.DESCENDING_SORT_ORDER};J.prototype.getDisplaySettings=function(){var M,K=(null===
(M=[this.defaultContentAll,this.defaultContentApps,this.defaultContentFiles,this.defaultContentMaps,this.defaultContentLayers,this.defaultContentScenes,this.defaultContentTools].filter(function(L){return D["default"].isChecked(L)})[0])||void 0===M?void 0:M.value)||"";try{return JSON.stringify({itemTypes:K})}catch(L){return JSON.stringify({itemTypes:""})}};J.prototype.useEnterpriseGroup=function(){return!(!this.supportsEnterpriseGroups||!D["default"].isChecked(this.enterpriseGroup))};J.prototype.getEnterpriseGroup=
function(){return this.enterpriseGroupInput.value};J.prototype.hasUpdateCapabilities=function(){return D["default"].isChecked(this.updateCapabilities)};J.prototype.setCreating=function(M){D["default"].disableNode(this.editThumbnailBtn,M);D["default"].disableNode(this.createBtn,M);this.createBtn.innerHTML=M?this.i18n.GroupWidget.creatingGroup:this.i18n.GroupWidget.createGroup};J.prototype.generateSimpleDlg=function(M){var K,L,U=new a["default"](M);null===(L=null===(K=U._content)||void 0===K?void 0:
K.classList)||void 0===L?void 0:L.add("group-simple-error-dlg");f["default"].once(U.dialog,"hide",function(){U.dialog.destroyRecursive();U.destroyRecursive()});return U};J.prototype.generateSubscriptionStatusDlg=function(){var M=new b["default"];f["default"].once(M.subscriptionStatusDlg,"hide",function(){M.subscriptionStatusDlg.destroyRecursive();M.destroyRecursive()});return M};J.prototype.formChange=function(){var M=this.tagsDijit.isValid()&&0<this.getTitle().length;D["default"].disableNode(this.createBtn,
!M)};J.prototype.formCancel=function(M){window.onbeforeunload=void 0;null===M||void 0===M?void 0:M.preventDefault();window.location.href=E["default"].baseUrl+"groups.html"};J.prototype.formSubmit=function(M){var K=this;M&&M.preventDefault();var L=this.handleCreateGroup.bind(this),U=this.handleCreateGroupFailure.bind(this);M=this.getAccess();var ba=this.getTags(),V=this.getAutoJoin(),aa=this.getInvitationOnly(),ha=this.getViewOnly(),ia=this.getSortField(),ka=this.getSortOrder(),qa=this.getDisplaySettings(),
Y=this.getOpenData(),Q=this.useEnterpriseGroup(),fa=this.hasUpdateCapabilities(),S=D["default"].isChecked(this.memberVisibilityManagers),O=D["default"].isChecked(this.administrativeGroup),I=this.form.querySelector('input[name\x3d"privacy"]:checked').value,Z=this.form.querySelector('input[name\x3d"whoCanJoin"]:checked').value,W=this.form.querySelector('input[name\x3d"enterpriseGroup"]').value,ca=this.form.querySelector('input[name\x3d"update"]:checked').value,T=this.form.querySelector('input[name\x3d"contribute"]:checked').value,
P=new FormData;this.thumbnailBlob&&P.append("thumbnail",this.thumbnailBlob,"thumbnail "+(new Date).getTime()+"."+this.thumbnailExtension);P.append("access",M);P.append("tags",ba);P.append("autoJoin",V);P.append("isInvitationOnly",aa);P.append("isViewOnly",ha);P.append("sortField",ia);P.append("sortOrder",ka);P.append("displaySettings",qa);P.append("isOpenData",Y);P.append("capabilities",fa?this.UPDATE_ITEM_CONTROL:"");P.append("title",this.groupTitle.value);P.append("snippet",this.summary.value);
P.append("privacy",I);P.append("whoCanJoin",Z);P.append("enterpriseGroup",W);P.append("update",ca);P.append("contribute",T);this.isAdmin&&!Q&&P.append("hiddenMembers",S);!this.isAdmin||Q||V||(P.append("leavingDisallowed",O),O&&P.append("membershipAccess","org"));if(this.validates())if(this.setCreating(!0),this.isPortal&&"saml"!==this.enterpriseGroupType&&Q){var X=this.getEnterpriseGroup();var da=new e["default"];da._searchEnterpriseGroups(X,10).then(function(ea){var ja;da._dialog.destroyRecursive();
da.destroyRecursive();B["default"].enterpriseGroupMatches(null===(ja=null===ea||void 0===ea?void 0:ea.groups[0])||void 0===ja?void 0:ja.rolename,X)?(P.append("provider",K.ENTERPRISE_PROVIDER),P.append("providerGroupName",ea.groups[0].rolename),K.createGroup(P).then(L,U)):(K.setCreating(!1),K.generateSimpleDlg({title:K.i18n.GroupWidget.enterpriseGroups.invalidEnterpriseGroupTitle,content:K.i18n.GroupWidget.enterpriseGroups.invalidEnterpriseGroup}).show())},function(){K.setCreating(!1);da._dialog.destroyRecursive();
da.destroyRecursive();K.generateSimpleDlg({title:K.i18n.common.errorTitle,content:K.i18n.GroupWidget.enterpriseGroups.searchEnterpriseGroupFailure}).show()})}else"saml"===this.enterpriseGroupType&&Q&&(X=this.getEnterpriseGroup(),P.append("provider",this.ENTERPRISE_PROVIDER),P.append("providerGroupName",X)),this.createGroup(P).then(L,U)};J.prototype.watchForInput=function(M,K){var L;(null===K||void 0===K?void 0:K.keyCode)!==w["default"].ENTER&&(null===(L=null===M||void 0===M?void 0:M.call)||void 0===
L?void 0:L.call(M))};J.prototype.enterpriseOptionChange=function(){D["default"].checkNode(this.allowApply,D["default"].isChecked(this.enterpriseInvite));D["default"].isChecked(this.enterpriseGroup)?D["default"].showNode(this.enterpriseGroupContainer):D["default"].hideNode(this.enterpriseGroupContainer);this.inviteChange()};J.prototype.accessChange=function(){var M=D["default"].isChecked(this.publicAccess),K=D["default"].isChecked(this.privateAccess);D["default"].showHide(this.openDataContainer,!this.isPortal&&
this.canShowOpenData&&M);D["default"].showHide(this.enterpriseAllowApplyContainer,this.supportsEnterpriseGroups);this.supportsEnterpriseGroups?(D["default"].showHide(this.allowApplyLabel,!K),D["default"].showHide(this.anyoneCanJoinLabel,!K),D["default"].showNode(this.inviteOnlyContainer)):D["default"].showHide(this.inviteOnlyContainer,!K);K&&D["default"].isChecked(this.allowApply)&&(D["default"].checkNode(this.inviteOnly,!0),this.inviteChange())};J.prototype.inviteChange=function(){var M=D["default"].isChecked(this.anyoneCanJoin),
K=D["default"].isChecked(this.enterpriseGroup);this.supportsEnterpriseGroups&&!K&&D["default"].hideNode(this.enterpriseGroupContainer);D["default"].disableNode(this.updateCapabilities,M);D["default"].addRemoveClass(this.updateCapabilitiesLabel,"label-disabled",M);this.isAdmin&&(K&&(D["default"].checkNode(this.memberVisibilityAll,!0),D["default"].checkNode(this.administrativeGroup,!1),this.administrativeGroupChange()),M&&(D["default"].checkNode(this.administrativeGroup,!1),this.administrativeGroupChange()),
D["default"].disableNodes([this.memberVisibilityAll,this.memberVisibilityManagers],K),D["default"].addRemoveClassAll([this.memberVisibilityAllLabel,this.memberVisibilityManagersLabel],"label-disabled",K),D["default"].disableNode(this.administrativeGroup,M||K),D["default"].addRemoveClass(this.administrativeGroupLabel,"label-disabled",M||K))};J.prototype.capabilitiesChange=function(){var M=D["default"].isChecked(this.updateCapabilities);D["default"].disableNode(this.anyoneCanJoin,M);D["default"].addRemoveClass(this.anyoneCanJoinLabel,
"label-disabled",M)};J.prototype.enterpriseGroupChange=function(M){this.enterpriseGroupName.innerHTML=M.rolename;this.enterpriseGroupInput.value=M.rolename};J.prototype.administrativeGroupChange=function(){var M=D["default"].isChecked(this.administrativeGroup);D["default"].disableNodes([this.anyoneCanJoin,this.enterpriseGroup],M);D["default"].addRemoveClassAll([this.anyoneCanJoinLabel,this.enterpriseGroupLabel],"label-disabled",M)};J.prototype.selectEnterpriseGroupClick=function(M){var K;null===(K=
null===M||void 0===M?void 0:M.preventDefault)||void 0===K?void 0:K.call(M);M=this.enterpriseGroupInput.value;var L=new e["default"];f["default"].once(L._dialog,"hide",function(){L._dialog.destroyRecursive();L.destroyRecursive()});L.show(M)};J.prototype.unload=function(M){var K=this.i18n.GroupWidget.error.unsavedChanges;M&&(M.returnValue=K);return K};J.prototype.handleImageDragOver=function(M){null===M||void 0===M?void 0:M.preventDefault()};J.prototype.handleImageDrop=function(M){M.preventDefault();
k["default"].remove(this.groupImage,"hovering-thumbnail-image");D["default"].hideNode(this.redragText);if(M.dataTransfer.files[0]){M=M.dataTransfer.files[0];var K=q["default"]({item:{}});K.startup();K.showModal();K.skipToEditor(M)}};J.prototype.handlePreviewDragOver=function(M){M.preventDefault();k["default"].add(this.groupImage,"hovering-thumbnail-image");D["default"].showNode(this.redragText)};J.prototype.handlePreviewDragLeave=function(){k["default"].remove(this.groupImage,"hovering-thumbnail-image");
D["default"].hideNode(this.redragText)};return J=n.__decorate([y["default"](l["default"],r["default"],m["default"])],J)}();N["default"]=R})},"arcgisonline/pages/dijit/SubNav":function(){define("require exports tslib dojo/dom-class dojo/has dojo/hash dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../tsutils/declareDecorator ../utils/formatters ../utils/arrays ../utils/dom ./InlineEdit dojo/text!./SubNav/templates/_option.html dojo/text!./SubNav/templates/_title.html dojo/text!./SubNav/templates/_paths.html dojo/text!./SubNav/templates/_path.html dojo/text!./SubNav/templates/SubNav.html dojo/i18n!../../nls/arcgisonline ../utils/icons".split(" "),
function(R,N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);q=n.__importDefault(q);
return function(){function y(B,z){this.templateString=m["default"];this.i18n=p["default"];this.linksHTML=this.activeLabel="";this.hideLinks="hide";this.edit=null;this._titleTypeSize="subnav-title";this.titleHTML=""}y.prototype.postMixInProperties=function(){var B=this,z;this.inherited(arguments);var D=this.links&&this.links.map(function(F){F.show=-1===Object.keys(F).indexOf("show")||F.show;return F}).filter(function(F){return F.show});0<(null===D||void 0===D?void 0:D.length)&&(this.hideLinks="",this.linksHTML=
this.links.reduce(function(F,x){x.logClick=!!x.logClick;x.isActive=x.id===B.active?"is-active":"";x.isActive&&(B.activeLabel=x.label);return F+g["default"].substitute(e["default"],x,null,A["default"])},""),document.title=this.titleText+" - "+this.activeLabel);if(100<(null===(z=this.title)||void 0===z?void 0:z.length)||this.paths)this._titleTypeSize+=" subnav-title--"+(180<this.titleText.length?"smaller":"small"),this.edit&&(this.edit.titleClass=this._titleTypeSize);this.titleHTML=this.paths?this.generateBreadCrumbs(this.paths):
g["default"].substitute(a["default"],this)};y.prototype.postCreate=function(){var B=this;this.inherited(arguments);this.own(f["default"](".js-subnav-expand",this.domNode).on("click",this.toggleNav.bind(this)),f["default"](".js-subnav-link",this.domNode).on("keyup",this.handleKeyUp.bind(this)),f["default"](".js-subnav-link",this.domNode).on("click",this.handleLinkClick.bind(this)),k["default"].subscribe("/dojo/hashchange",function(z){(u["default"]("ie")||u["default"]("trident")||u["default"]("edge"))&&
B.updateActiveTab(z)}));this.paths&&this.attachBreadCrumbEvents();window.addEventListener("popstate",function(){B.updateActiveTab(window.location.hash)});this.edit&&(this.edit.formClass="flex flex-center fullscreen",this.edit.inputLabel=p["default"].itemProperties.editTitle,this._titleEdit=new d["default"](this.edit,this.domNode.querySelector(".js-subnav-edit")),this.own(k["default"].subscribe("inlineEdit/"+this.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+
"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+"/start",this.openEdit.bind(this))))};y.prototype.showTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).removeClass("hide")};y.prototype.hideTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).addClass("hide")};y.prototype.showEditLink=function(){var B;null===(B=this._titleEdit)||void 0===B?void 0:B.showEditLink()};y.prototype.hideEditLink=function(){var B;
null===(B=this._titleEdit)||void 0===B?void 0:B.hideEditLink()};y.prototype.updateText=function(B){var z;null===(z=this._titleEdit)||void 0===z?void 0:z.updateText(B)};y.prototype.setPageTitle=function(B){this.domNode.querySelector("#pagetitle").textContent=B};y.prototype.updateBreadCrumbs=function(B){this.paths=B;this.domNode.querySelector(".js-subnav-title-wrap").innerHTML=this.generateBreadCrumbs(B);this.attachBreadCrumbEvents()};y.prototype.updateActiveTab=function(B){B=B||"overview";var z=f["default"](".js-subnav-link",
this.domNode);z.removeClass("is-active").attr("aria-selected","false");if(z=r["default"].find(z,function(D){return D.getAttribute("href").replace("#","")===B.replace("#","")}))t["default"].add(z,"is-active"),z.setAttribute("aria-selected","true"),this.activeLabel=z.textContent,this.domNode.querySelector(".js-subnav-current-label").innerHTML=this.activeLabel,this.closeNav(),document.title=this.titleText+" - "+this.activeLabel};y.prototype.attachBreadCrumbEvents=function(){var B=this,z;this.domNode.querySelectorAll(".js-subnav-paths")&&
0<(null===(z=this.paths)||void 0===z?void 0:z.length)&&(l["default"].forEachNode(this.domNode.querySelectorAll(".js-subnav-path"),function(D,F){var x;(null===(x=B.paths[F])||void 0===x?0:x.onPathClick)&&D.addEventListener("click",function(E){B.paths[F].onPathClick(E)})}),z=this.paths[this.paths.length-1],z.edit&&(z.edit.formClass="flex flex-center fullscreen",z.edit.inputLabel=p["default"].itemProperties.editTitle,this._titleEdit=new d["default"](z.edit,this.domNode.querySelector(".js-last-path")),
this.own(k["default"].subscribe("inlineEdit/"+z.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+z.edit.prop+"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+z.edit.prop+"/start",this.openEdit.bind(this)))))};y.prototype.generateBreadCrumbs=function(B){B=B.map(function(z,D,F){return g["default"].substitute(c["default"],n.__assign(n.__assign({},z),{icons:q["default"],showBack:1<F.length&&0===D?"":"hide",lastPath:D===F.length-1?"js-last-path subnav-breadcrumb-last flex-0":
"subnav-breadcrumb-first js-early-path"}))}).join("\x3cspan class\x3d'subnav-breadcrumb-separator flex-0 js-early-path'\x3e/\x3c/span\x3e");return g["default"].substitute(b["default"],{paths:B,_titleTypeSize:this._titleTypeSize})};y.prototype.openNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).addClass("is-active")};y.prototype.closeNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).removeClass("is-active")};y.prototype.toggleNav=function(B){t["default"].contains(B.target,
"is-active")?this.closeNav():this.openNav()};y.prototype.openEdit=function(B){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").addClass("visibility-hidden")};y.prototype.closeEdit=function(){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").removeClass("visibility-hidden")};y.prototype.handleKeyUp=function(B){32===B.keyCode&&(B.preventDefault(),this.logClickEvent(B.target,this.telemetry),h["default"](B.target.getAttribute("href"),!0))};y.prototype.handleLinkClick=
function(B){this.logClickEvent(B.target,this.telemetry)};y.prototype.logClickEvent=function(B,z){"true"===(null===B||void 0===B?void 0:B.dataset.logclick)&&(null===z||void 0===z?void 0:z.logEvent({category:"Secondary Nav",action:B.dataset.tab,size:window.innerWidth,pageUrl:window.location.href}))};return y=n.__decorate([C["default"](v["default"],w["default"])],y)}()})},"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPicker.html":'\x3cdiv class\x3d"${containerClass}"\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half flex js-member-picker-header"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size--1 flex-1" id\x3d"folder-picker-label"\x3e${i18n.changeOwner.selectFolder}\x3c/h4\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black right js-folder-picker-cancel"\x3e\r\n      ${i18n.common.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput\r\n    class\x3d"member-picker-search js-search-input"\r\n    placeholder\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-label\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-controls\x3d"folder-results-list"\r\n    type\x3d"search"\r\n    autocomplete\x3d"off"\r\n  /\x3e\r\n\r\n  \x3cul\r\n    class\x3d"js-member-picker-results folder-picker-results member-picker-results--border"\r\n    id\x3d"folder-results-list"\r\n    role\x3d"menu"\r\n    aria-labelledby\x3d"folder-picker-label"\r\n    data-dojo-attach-point\x3d"_resultsDropdown"\r\n  \x3e\r\n    \x3cli class\x3d"folder-list-item js-no-folder hide" data-title\x3d"no-folder" role\x3d"none"\x3e\r\n      \x3cspan\r\n        class\x3d"folder-list-link folder-list-link--expanded"\r\n        data-id\x3d"no-folder"\r\n        data-title\x3d"no-folder"\r\n        role\x3d"menuitem"\r\n        aria-selected\x3d"false"\r\n        data-dojo-attach-point\x3d"_folderLink"\r\n      \x3e\r\n        ${i18n.folderDlg.noFolders}\r\n        \x3cbutton class\x3d"js-create-folder-inline create-folder-inline-link btn-link font-size--2"\x3e\r\n          ${i18n.folderDlg.noFolderLabel}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/li\x3e\r\n  \x3c/ul\x3e\r\n  \x3cbutton\r\n    class\x3d"js-create-new-folder btn-link btn-link-dark-blue padding-leader-quarter padding-trailer-quarter leader-half padding-left-half padding-right-half font-size--2"\r\n  \x3e\r\n    ${!icons.inline.folder-plus.16} ${i18n.changeOwner.createNewFolder}\r\n  \x3c/button\x3e\r\n  \x3cform class\x3d"hide js-create-folder-form position-relative leader-half"\x3e\r\n    \x3cinput\r\n      class\x3d"folder-list-link folder-list-link--large leader-0 trailer-0 js-create-folder-input"\r\n      type\x3d"text"\r\n      maxlength\x3d"125"\r\n      value\x3d""\r\n      placeholder\x3d"${i18n.changeOwner.enterFolderName}"\r\n      aria-label\x3d"${i18n.changeOwner.enterFolderName}"\r\n    /\x3e\r\n    \x3cspan class\x3d"change-owner-new-folder-icon"\x3e${!icons.inline.folder-plus.16}\x3c/span\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.save}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show folder-list-action--green folder-list-action--left js-folder-create-save"\r\n      type\x3d"submit"\r\n    \x3e\r\n      ${!icons.check.24}\r\n    \x3c/button\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.cancel}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show js-folder-create-cancel"\r\n    \x3e\r\n      ${!icons.x.24}\r\n    \x3c/button\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"js-create-folder-error-message input-error-message"\x3e\r\n    ${i18n.folderDlg.passwordMin}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPickerRow.html":'\x3cli class\x3d"folder-list-item" data-title\x3d"${folder.title}" role\x3d"none"\x3e\r\n  \x3cspan \r\n    class\x3d"folder-list-link folder-list-link--expanded" \r\n    data-id\x3d"${folder.id}"\r\n    data-title\x3d"${folder.title}"\r\n    role\x3d"menuitem"\r\n    aria-selected\x3d"false"\r\n    data-dojo-attach-point\x3d"_folderLink"\x3e\r\n    ${!folderIcon}${folder.title}\r\n  \x3c/span\x3e\r\n\x3c/li\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/ChangeOwner.html":'\x3cdiv class\x3d"change-owner-container padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-owner-area visibility-hidden"\x3e\r\n      \x3ch4 class\x3d"font-size--1 js-item-owner-label"\x3e${i18n.changeOwner.itemOwner}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex change-owner-card js-owner-edit input-error--no-icon"\x3e\r\n        \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 js-fullname"\x3eFullname\x3c/h4\x3e\r\n          \x3cp class\x3d"trailer-0 font-size--2 js-username"\x3eUsername\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black change-owner-card-edit js-owner-edit-button"\r\n          aria-label\x3d"${i18n.changeOwner.title}"\r\n        \x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cp class\x3d"input-error-message js-member-select-error position-absolute"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-member-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-area visibility-hidden leader-1"\x3e\r\n      \x3ch4 class\x3d"font-size--1"\x3e${i18n.changeOwner.folder}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex trailer-2 change-owner-card js-folder-edit"\x3e\r\n        \x3cdiv class\x3d"flex-0 js-folder-icon"\x3e${icons.inline.folder.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 js-folder-name"\x3e${i18n.folderDlg.noFolderLabel}\x3c/h4\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black change-owner-card-edit js-folder-edit-button" aria-label\x3d"${i18n.changeOwner.title}"\x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-picker hide"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/MoveItem.html":'\x3cdiv class\x3d"padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.updating}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-folder-picker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryPicker.html":'\x3cdiv class\x3d"leader-half"\x3e\r\n  \x3cdiv\r\n    class\x3d"js-add-category-error alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter"\r\n  \x3e\r\n    ${i18n.contentCategories.addCategoryError}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"category-picker"\x3e\r\n    \x3cdiv class\x3d"font-size--1 category-picker__chip-wrap js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide category-picker__default-text font-size--1" data-dojo-attach-point\x3d"defaultTextContainer"\x3e${defaultText}\x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-add-category-dropdown leader-half trailer-half category-picker__dropdown"\x3e\r\n      \x3cspan class\x3d"font-size--1 category-picker__dropdown-btn"\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size--1 js-add-category-dropdown-button"\r\n          tabindex\x3d"0"\r\n          aria-haspopup\x3d"true"\r\n          aria-expanded\x3d"false"\r\n          type\x3d"button"\r\n        \x3e\r\n          \x3cspan class\x3d"text-green"\x3e${!icons.inline.plus-f.16}\x3c/span\r\n          \x3e${i18n.contentCategories.addCategory}${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"dropdown-menu leader-quarter category-picker__dropdown-menu"\x3e\r\n        \x3cdiv class\x3d"category-picker-search-wrap"\x3e\r\n          \x3cinput\r\n            type\x3d"text"\r\n            class\x3d"add-category-input js-add-category-input leader-0"\r\n            placeholder\x3d"${i18n.contentCategories.filterCategories}"\r\n            aria-label\x3d"${i18n.contentCategories.addCategoryToItem}"\r\n          /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\r\n          class\x3d"js-add-category-dropdown-menu category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open"\r\n          role\x3d"menu"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/Category.html":'\x3cli class\x3d"js-category-picker-item filter-tree-item category-picker--add-category-dropdown ${isActive}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3cspan class\x3d"category-picker--add-category-dropdown-icon"\x3e${icons.check.16}\x3c/span\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link category-picker--add-category-dropdown-link js-add-category-dropdown-link ${isSelected}" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e${title}\x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"${role}"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryChip.html":'\x3cspan class\x3d"label filter-label js-category-chip" data-category-name\x3d"${category}"\x3e\r\n  ${category:formatCategoryChip}\r\n  \x3cbutton class\x3d"js-category-chip-remove btn-link filter-label-remove margin-left-quarter right" aria-label\x3d"${removeText}" data-category-name\x3d"${category}"\x3e${icons.x.16}\x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/SaveItem.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.titleLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTitle"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextTitle}" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half clearfix"\x3e\r\n    ${i18n.tagsLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTagsContainer"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"categories-container"\x3e\r\n    \x3clabel class\x3d"calcite-web-label trailer-0 clearfix categories-container"\r\n      data-dojo-attach-point\x3d"saveItemCategoriesContainer"\r\n      for\x3d"saveItemCategoryPicker"\x3e\r\n      ${i18n.categoriesLabel}\r\n    \x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemCategories" id\x3d"saveItemCategoryPicker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.summaryLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemSummary"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextSummary}" maxlength\x3d"250" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-select" for\x3d"itemFolderComboBox"\x3e\r\n    ${i18n.saveInFolderLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemFolder"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n         id\x3d"itemFolderComboBox"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExportDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"exportDialog" id\x3d"export-dialog" title\x3d"${i18n.exportDialogTitle}" execute\x3d""\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemForm"\x3e\x3c/div\x3e\r\n    \x3cfieldset data-dojo-attach-point\x3d"featureCollectionDiv" class\x3d"featureCollectionOnly hide"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"generalizeChk" name\x3d"generalize"\x3e${i18n.generalize}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"generalize" checked\x3e${i18n.keepOrig}\x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_message" class\x3d"break_word"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"exportingLabel" style\x3d"visibility:hidden;"\x3e${i18n.exportingLabel}\x3c/span\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" type\x3d"button" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn" type\x3d"button" data-dojo-attach-point\x3d"exportBtn"\x3e${i18n.exportLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/DefineExtent.html":'\x3cdiv\x3e\r\n  \x3cspan\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin05 extent-search backward-compatible-extent-search inline-block" data-dojo-attach-point\x3d"_extentSearchContainer"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"calcite secondary btn btn-blue small right" id\x3d"extent-dlg-draw-button" data-dojo-attach-point\x3d"_buttonSetExtent"\x3e\r\n      ${i18n.drawExtent}\r\n    \x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv id\x3d"extent-map-container" style\x3d"width:500px; max-width: 100%; height:340px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"inline-block leader-half"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input inline-block" id\x3d"extent-left" data-dojo-attach-point\x3d"_extentLeft"\r\n           data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-right" data-dojo-attach-point\x3d"_extentRight" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr\x3e\r\n  \x3cdiv class\x3d"inline-block"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-top" data-dojo-attach-point\x3d"_extentTop" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-bottom" data-dojo-attach-point\x3d"_extentBottom" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExtentDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"extent-dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"right esriFloatTrailing margin-right-1 extent-ltr-margin-right-0"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"cancel"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_okBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"primary"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\r\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html":'\x3cdiv\x3e\r\n  \x3cdiv id\x3d"rateLimiting" class\x3d"rateLimiting"\x3e\r\n    \x3cp\x3e${i18n.rateLimiting.instructions}\x3c/p\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_enableLimits" type\x3d"checkbox" value\x3d"true" name\x3d"enableRateLimiting"/\x3e\r\n    \x3clabel class\x3d"esriLeadingMargin05 esriTrailingMargin1 inline-block trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.hitRate}\x3c/label\x3e\r\n    \x3cdiv class\x3d"rateLimitingDiv esriLeadingMargin108 clearfix"\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1000"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitRate"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\',constraints:{min:1, max:1000000, places:0}" /\x3e\r\n      \x3clabel class\x3d"canDisable esriLeadingMargin1 esriTrailingMargin1 inline-block left leader-half trailer-0 padding-right-half" for\x3d"referrerUri"\x3e\r\n        ${i18n.rateLimiting.per}\r\n      \x3c/label\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitCount"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\', constraints:{min:1, max:1000000, places:0}"/\x3e\r\n\r\n      \x3cselect class\x3d"esriUnits left inline-block" data-dojo-attach-point\x3d"_interval" data-dojo-type\x3d"dijit/form/Select" data-dojo-props\x3d"disabled:true" style\x3d"width:8.75em;"\x3e\r\n        \x3coption value\x3d"1"\x3e${i18n.rateLimiting.second}\x3c/option\x3e\r\n        \x3coption value\x3d"60"\x3e${i18n.rateLimiting.minute}\x3c/option\x3e\r\n        \x3coption value\x3d"3600"\x3e${i18n.rateLimiting.hour}\x3c/option\x3e\r\n        \x3coption value\x3d"86400"\x3e${i18n.rateLimiting.day}\x3c/option\x3e\r\n        \x3coption value\x3d"604800"\x3e${i18n.rateLimiting.week}\x3c/option\x3e\r\n        \x3coption value\x3d"2628000"\x3e${i18n.rateLimiting.month}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3clabel class\x3d"esriTrailingMargin05 trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.referrerUri}\x3c/label\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cinput data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_referrerUrl" data-dojo-props\x3d"placeHolder:\'${i18n.registerApp.urlPlaceHolder}\'" type\x3d"text" class\x3d"left referrerUrl"/\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_delBtn" data-dojo-props\x3d"disabled:true, label:\'${i18n.registerApp.del}\'"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_addBtn" data-dojo-props\x3d"label:\'${i18n.registerApp.add}\'"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin93 trailer-half referralUris" data-dojo-type\x3d"dijit/form/MultiSelect" data-dojo-attach-point\x3d"_referrers" data-dojo-props\x3d"size:4, name:\'referral_uris\'"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/UploadProgressBar/UploadProgressBar.html":'\x3cdiv class\x3d"upload-progress-bar flex-1 flex-column-justify-center margin-right-1 margin-left-half position-relative"\x3e\r\n  \x3cdiv class\x3d"progress-bar"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill" data-dojo-attach-point\x3d"_uploadProgressFill"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--3 upload-percent-label" data-dojo-attach-point\x3d"_uploadPercentLabel"\x3e0%\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e \r\n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\r\n\x3c/span\x3e\r\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:esri/dijit/VisibleScaleRangeSlider/templates/ScaleMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.section}"\x3e\r\n    \x3cdiv class\x3d"${css.header}"\x3e${labels.current}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_currentScaleLabel" class\x3d"${css.item} ${css.current}"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_scaleInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${css.input}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"${css.section}" data-dojo-attach-point\x3d"dap_recommendedScaleSection"\x3e\r\n    \x3cdiv class\x3d"${css.header}" data-dojo-attach-point\x3d"dap_scaleListHeader"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3col data-dojo-attach-point\x3d"dap_recommendedScales" class\x3d"${css.list}"\x3e\r\n        \x3cli data-dojo-attach-point\x3d"dap_mapScaleItem" class\x3d"${css.item} ${css.selectable}"\x3e\x3c/li\x3e\r\n        \x3c!--additional list items added dynamically--\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/dijit/VisibleScaleRangeSlider/templates/ScalePreview.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.header}"\x3e${labels.preview}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_scalePreviewThumbnail" class\x3d"${css.thumbnail}"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\r\n  \x3cp data-dojo-attach-point\x3d"_message"\x3e\x3c/p\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_itemPropertiesDlg"  data-dojo-type\x3d"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg" data-dojo-props\x3d"typeInfo:\'${_typeInfo}\', showFile:false, showUrl:false, showFolders:${showFolders}"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sceneProperties hide"\x3e\r\n      \x3cdiv class\x3d"sceneDataDisplay hide"\x3e\r\n          \x3cdiv\x3e${i18n.publishTileServiceDlg.displayInLbl}\x3c/div\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-globalWkid" data-dojo-attach-point\x3d"_globalWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"global"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_globalWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-localWkid" data-dojo-attach-point\x3d"_localWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"local"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_localWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"sceneMultipatch hide"\x3e\r\n        \x3clabel\x3e\r\n          \x3cinput id\x3d"${id}-enableUpdates" data-dojo-attach-point\x3d"_enableSceneUpdates" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" value\x3d"true"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_enableSceneUpdatesLabel"\x3e${i18n.publishTileServiceDlg.enableUpdates}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilePropertiesContainer"\x3e\r\n    \x3clabel\x3e${i18n.publishTileServiceDlg.tileSchemeLabel}\x3c/label\x3e\r\n    \x3cdiv class\x3d"tilePropertiesRadios"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-agoBasemap" data-dojo-attach-point\x3d"_agoBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"ago"\x3e${i18n.publishTileServiceDlg.matchAGOLBasemaps}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-custom" data-dojo-attach-point\x3d"_customBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"custom"\x3e${i18n.publishTileServiceDlg.matchOwnBasemap}\r\n      \x3c/label\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"_customBasemapUrl" class\x3d"custom esriLeadingMargin2" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"disabled:true,placeholder:\'${i18n.publishTileServiceDlg.tileSchemePlaceholder}\'"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilesOnDemandContainer"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-tilesOnDemand" data-dojo-attach-point\x3d"_tilesOnDemand" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.enableTilesOnDemand}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"visibleScaleRange hide"\x3e\r\n      \x3clabel class\x3d"tileRange"\x3e${i18n.publishTileServiceDlg.scaleRangeLabel}\x3c/label\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_visibleScaleRangeContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader js-visible-range-loader overlay-white position-relative hide" data-dojo-attach-point\x3d"_visibleRangeLoader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text hide" data-dojo-attach-point\x3d"_visibleRangeLoaderMsg"\x3e${!i18n.common.loading}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_increaseScaleWarning"\x3e\r\n      ${i18n.publishTileServiceDlg.increaseScaleWarning}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"vectorTileProperties leader-half hide" data-dojo-attach-point\x3d"_selectAttributesContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_selectAttributesBtn"\x3e${i18n.itemProperties.configureAttributes.selectAttributes}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"viewProperties hide"\x3e\r\n    \x3clabel\x3e ${i18n.publishTileServiceDlg.createViewOptionsLabel}\x3c/label\x3e\r\n    \x3clabel\x3e\r\n      \x3cinput id\x3d"${id}-preserveIds" data-dojo-attach-point\x3d"_preserveIds" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.preserveLayerIds}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\r\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptions.html":'\x3cdiv class\x3d"advanced-offline-options grid-container js-accordion"\x3e\r\n  \x3csection class\x3d"accordion-section is-active"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-attachments-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-1 avenir-demi"\x3e${i18n.itemProperties.advancedOptions.editableFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"featuresAndAttachments" data-sync\x3d"syncFeaturesAndAttachments"\r\n            class\x3d"js-editable-features js-edit-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"features"\r\n            data-sync\x3d"syncFeaturesUploadAttachments" class\x3d"js-editable-features js-edit-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesOnly}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"none"\r\n            data-sync\x3d"uploadFeaturesAndAttachments" class\x3d"js-editable-features js-edit-none"\x3e\r\n          ${i18n.itemProperties.advancedOptions.neverGetUpdates}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half avenir-demi"\x3e${i18n.itemProperties.advancedOptions.readonlyFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"true"\r\n            class\x3d"js-readonly-features js-readonly-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"false"\r\n            class\x3d"js-readonly-features js-readonly-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.readonlyFeaturesOnly}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsFootNote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3csection class\x3d"accordion-section is-active leader-1"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e ${i18n.itemProperties.advancedOptions.tilePackageTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-package-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.tilePackageDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"webmap" class\x3d"js-tile-option js-tile-webmap"\x3e\r\n          ${i18n.itemProperties.advancedOptions.useBasemapInWebmap}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"mobile" class\x3d"js-tile-option js-tile-mobile"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e${i18n.itemProperties.advancedOptions.useTilePackageOnMobile}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half padding-left-2 hide advanced-offline-options__option-input-container js-file-name-container"\x3e\r\n              \x3clabel class\x3d"trailer-0"\x3e\r\n                ${i18n.itemProperties.advancedOptions.packageFileName}\r\n                \x3cinput type\x3d"text" class\x3d"js-tile-mobile-file-name" placeholder\x3d"${i18n.itemProperties.advancedOptions.fileNamePlaceholder}"\x3e\r\n                \x3cdiv class\x3d"input-error-message js-tile-mobile-file-name-error"\x3e\x3c/div\x3e\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"font-size--2"\x3e${i18n.itemProperties.advancedOptions.enterTilePackageFileName}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- hide the third option until Apps team supports it --\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex hide"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"uploaded" class\x3d"js-tile-option js-tile-org"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e\r\n              ${i18n.itemProperties.advancedOptions.useUploadedTilePackage}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"hide leader-half padding-left-2 padding-trailer-1 advanced-offline-options__option-input-container js-tile-search-container"\x3e\r\n              \x3cinput type\x3d"search" class\x3d"input-minimal js-tile-search" placeholder\x3d"${i18n.itemProperties.advancedOptions.findPackage}"\x3e\r\n              \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3cdiv class\x3d"advanced-offline-options__search-results trailer-1 js-search-results"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.tilePackageFootnote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3cdiv class\x3d"position-relative js-update-loader-container advanced-offline-options__loader-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_optionsLoader" class\x3d"loader js-update-loader overlay-white fullscreen"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${i18n.itemProperties.updatingItemLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ca class\x3d"js-learn-more" target\x3d"_blank"\x3e${i18n.itemProperties.advancedOptions.learnMore}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptionSearchItem.html":'\x3cbutton class\x3d"btn-link flex advanced-offline-options__search-result-item"\x3e\r\n    \x3cdiv class\x3d"margin-right-half"\x3e\r\n        \x3cimg src\x3d"js/arcgisonline/img/item-types/tilepackage16.svg" class\x3d"advanced-offline-options__search-result-item-img"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-1 advanced-offline-options__search-result-item-title"\x3e${title}\x3c/div\x3e\r\n\x3c/button\x3e',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/ManageSceneCache.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_optionsContainer"\x3e\r\n    ${i18n.description}\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildFullContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildFullRadio" checked\x3e ${i18n.rebuildFull}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildLayersRadio"\x3e ${i18n.rebuildLayers}\r\n      \x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildPartialContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"_rebuildPartialAttrContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_portalOptionsContainer"\x3e\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalFullRadio"\x3e ${i18n.rebuildFullCache}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"loader js-caching-loader overlay-white position-relative leader-1 padding-trailer-1" data-dojo-attach-point\x3d"_caching"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${!i18n.republishing}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv data-dojo-attach-point\x3d"_sceneLayerSelectContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"_sceneLayerSelectLabel"\x3e${i18n.selectLayers}\x3c/label\x3e\r\n    \x3cdiv class\x3d"scene-layer-list trailer-1" data-dojo-attach-point\x3d"_sceneLayerContainer"\x3e\r\n      \x3c!-- create scene layers here--\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"right inline-block padding-right-1" data-dojo-attach-point\x3d"_buttonBar"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-blue" disabled\x3d"true" data-dojo-attach-point\x3d"_rebuildBtn"\x3e${i18n.rebuildLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JobStatusDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg job-status-dlg" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_statusContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_statusInfo"\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.status}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStatus"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.startTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStartTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.endTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobEndTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.duration}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobDuration"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_jobAdminDetailsContainer"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.machine}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobMachine"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.user}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobUser"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.jobId}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobIdLinkContainer"\x3e\x3ca data-dojo-attach-point\x3d"_jobIdLink" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_jobIdText"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"loader overlay-white position-relative js-status-loader" data-dojo-attach-point\x3d"_statusLoader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${!i18n.awaitingInfo}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-blue" data-dojo-attach-point\x3d"_cancelJobBtn"\x3e${i18n.cancelJob}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/AppendData/templates/_table-row.html":'\x3cdiv class\x3d"table-select-row" role\x3d"row"\x3e\r\n    \x3c!-- Field Name --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-field text-ellipsis"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width display-block"\x3e${displayName}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n    \x3c!-- Match Field --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-matchField text-ellipsis" data-dojo-attach-point\x3d"matchFieldsContainer"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width" data-dojo-attach-point\x3d"matchFieldValue" data-value\x3d"__none"\x3e${!i18n.appendDataDlg.none}\x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"matchFields" class\x3d"leader-0 hide"\x3e\x3c/select\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/loader.html":'\x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 is-active"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${location}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/sharing/dijit/AppendData/templates/_appendData.html":'\x3cdiv\x3e\r\n    \x3csection class\x3d"padding-leader-half content-node append-data"\x3e\r\n\r\n            \x3c!--Step 1--\x3e\r\n            \x3cdiv class\x3d"step-1 hide" data-dojo-attach-point\x3d"step1"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1Title}\x3c/label\x3e\r\n                \x3cul class\x3d"trailer-half"\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet1}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet2}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet3}\x3c/li\x3e\r\n                    \x3cli data-dojo-attach-point\x3d"step1Bullet4"\x3e${i18n.appendDataDlg.messageStep1Bullet4}\x3c/li\x3e\r\n                \x3c/ul\x3e\r\n                \x3cform data-dojo-attach-point\x3d"fileForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n                    \x3clabel\x3e\r\n                        ${i18n.appendDataDlg.fileName}\r\n                        \x3cinput name\x3d"file" type\x3d"file" accept\x3d".zip, .csv, .xls, .xlsx, .geojson" data-dojo-attach-point\x3d"fileInput"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"zipSelect"\x3e\r\n                        ${i18n.appendDataDlg.contents}\r\n                        \x3cselect name\x3d"type" data-dojo-attach-point\x3d"supportedTypes" class\x3d"text-left"\x3e\x3c/select\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/form\x3e\r\n                \x3cp class\x3d"trailer-quarter"\x3e${i18n.appendDataDlg.note}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!--Step 2--\x3e\r\n            \x3cdiv class\x3d"step-2 padding-right-half hide" data-dojo-attach-point\x3d"step2"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${!i18n.appendDataDlg.messageStep2}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"serviceLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseServiceLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"serviceLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"dataLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"dataLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3c!-- Update Existing Features--\x3e\r\n                \x3cdiv class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesLbl}\x3c/div\x3e\r\n                \x3cp class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesMsg}\x3c/p\x3e\r\n                \x3clabel class\x3d"inline-block margin-right-half trailer-half align-middle updateFeatures js-updateFeatures js-attributesOnly"\x3e\r\n                    \x3cinput name\x3d"updateExistingFeatures" type\x3d"checkbox" data-dojo-attach-point\x3d"updateExistingFeatures"/\x3e\r\n                    ${i18n.appendDataDlg.updateExistingFeatures}\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"margin-left-1 updateFeatures js-updateFeatures-container js-updateFeatures"\x3e\r\n                    \x3c!-- UID field matching --\x3e\r\n                    \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.selectFields}\x3c/p\x3e\r\n                    \x3cdiv class\x3d"trailer-half"\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"fromField" class\x3d"margin-right-half inline-block"\x3e\x3c/select\x3e\r\n                        \x3cspan class\x3d"margin-right-half"\x3e${i18n.appendDataDlg.matchesTo}\x3c/span\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"toField" class\x3d"inline-block"\x3e\x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.skipInserts}\r\n                        \x3cinput name\x3d"skipInserts" type\x3d"checkbox" data-dojo-attach-point\x3d"skipInserts"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-updateGeometry js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.updateGeometryOnly}\r\n                        \x3cinput name\x3d"updateGeometry" type\x3d"checkbox" data-dojo-attach-point\x3d"updateGeometry"/\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Table View --\x3e\r\n                \x3cbutton class\x3d"btn-link trailer-half btn-fill" data-value\x3d"false" data-dojo-attach-point\x3d"showFieldMatchingLink"\x3e${i18n.appendDataDlg.showFieldMatching}\x3c/button\x3e\r\n                \x3cdiv class\x3d"js-table-wrap table-select trailer-half js-view hide" role\x3d"table" data-dojo-attach-point\x3d"fieldMatching"\x3e\r\n                    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\r\n                        \x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header is-ascending" aria-sort\x3d"ascending" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.fields}\x3c/button\x3e\x3c/span\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"matchField" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.matchField}\x3c/button\x3e\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Loader --\x3e\r\n            \x3cdiv class\x3d"hide analyze-loader-wrap js-analyze-loader-wrap"\x3e\x3c/div\x3e\r\n\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.chooseArchiveOption}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.chooseArchiveOption}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameScheme}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item stepper__radio-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForArchive}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"replace"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\r\n            \x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/span\r\n          \x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeSwapped}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsBothLayers}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForReplacement}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-replace_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- End radio --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-column"\x3e\r\n        \x3cdiv class\x3d"replace-lyr-preview-label flex flex-space-between"\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.replacementLayer}\x3c/span\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.currentLayer}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.archiveOption}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.chooseArchiveOption}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/img/Archive_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1,.cls-13{fill:none}.cls-1{stroke:#323232;stroke-miterlimit:10}.cls-1,.cls-13,.cls-14{stroke-linecap:round}.cls-2{fill:#323232}.cls-14,.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}.cls-13,.cls-14{stroke:#ff3636;stroke-linejoin:round}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M389.51 132.42c-7 0-14.06 4.57-19.41 13.84M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z" fill\x3d"#ff3636"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5zM198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M228.88 135.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM219.41 140.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM209.94 146l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM281.65 156.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM264.44 166.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM254.97 172l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM234.02 129.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM223.7 135.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM214.23 140.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM173.75 157.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM226.57 188.4l2.6 1.5 16.36-9.44-2.6-1.5-16.36 9.44zM229.86 157.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM244.49 149.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M222.59 169.2a3.88 3.88 0 011.86 2h10.31L219 162.18v5.95a9.28 9.28 0 013.59 1.07zM213.09 169.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"217.85" cy\x3d"171.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 217.85 171.934)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M213.12 174.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM224.45 172.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M350.67 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M350.33 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L294.75 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L406.25 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M320.2 143.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM295.25 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM344.61 186.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM344.45 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM399.69 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M319.5 171.9l19.92 11.5 19.79-11.43-19.92-11.5-19.79 11.43z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M321.07 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM295.25 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM345.48 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM346.18 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM400.56 155.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M338.55 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath fill\x3d"#ffe0e0" d\x3d"M229.17 189.9l-55.42-32 55.08-31.8 55.42 32-55.08 31.8z" opacity\x3d".5"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M232.93 150v-1.73a2.8 2.8 0 00-2.57-2.27h-3.29a2.8 2.8 0 00-2.57 2.27V150"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M235.47 170h-12.94l-2.35-20h17.64l-2.35 20z"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M219.5 149h19v4h-19z"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M223.6 155.6l1.2 12M227.2 155.6l.4 12M230.8 155.6l-.4 12M234.4 155.6l-1.2 12"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.65 87a29.18 29.18 0 011.35-8.41 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"archive-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3ctext class\x3d"archive-lyr-archive-svg" x\x3d"395" y\x3d"137" text-anchor\x3d"start"\x3e${i18n.replaceLayer.archivedSvg}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/img/Replace_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1{fill:none;stroke:#323232;stroke-linecap:round;stroke-miterlimit:10}.cls-2{fill:#323232}.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.68 85.94a30.38 30.38 0 011.32-7.35 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M137.07 82.96l-.68-.74-3.62 3.34-3.07-3.86-.78.63 3.73 4.7 4.42-4.07zM153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"replace-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceSceneLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.replaceSceneLayer.archive}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.replaceSceneLayer.archive}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.coordinateSystem}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.layerTypesShouldMatch}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3c!-- Radio \'checked\' needed for summary --\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n            class\x3d"hide"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-1"\x3e\x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replaceSceneLayer.archiveDetails}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.replaceSceneLayer.updateArchive}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n   \x3cdiv class\x3d"overwriteDialog"\x3e\r\n       \x3cp class\x3d"overwriteInfoText"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoText}\x3c/p\x3e\r\n       \x3cp class\x3d"overwriteInfoNote"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoNote}\x3c/p\x3e\r\n   \x3c/div\x3e \r\n   \x3c!-- Loader --\x3e\r\n   \x3cdiv class\x3d"loader loader-connectDataset is-active hide padding-leader-3 padding-trailer-3"\x3e\r\n     \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n     \x3cdiv class\x3d"loader-text"\x3e${i18n.overwriteFromCloudDlg.defaultLoading}\x3c/div\x3e\r\n   \x3c/div\x3e \r\n \x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultIssue.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUpdated.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUnchanged.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate.html":'\x3cdiv class\x3d"clearfix"\x3e\r\n  \x3cdiv class\x3d"leader-half font-size--1" data-dojo-attach-point\x3d"updateHttpsDesc"\x3e${i18n.itemProperties.updateLayersToHTTPSDesc}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"updateHttpsLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingLayersToHTTPS}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingLayersToHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide update-https-results" data-dojo-attach-point\x3d"updateHttpsResults"\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersWithIssues"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleIssues"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"text-red" data-dojo-attach-point\x3d"issuesTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"issues"\x3e\x3c!-- write out issues here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUpdated"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUpdated"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"updatedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"updated"\x3e\x3c!-- write out updated here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUnchanged"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUnchanged"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"unchangedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"unchanged"\x3e\x3c!-- write out unchanged here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"noChangesMade"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.noLayersToUpdateHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"unexpectedError"\x3e${i18n.itemProperties.errorUpdateHTTPS}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 inline-block esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"okBtn"\x3e${i18n.itemProperties.updateLayers}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"updateDomainDesc"\x3e${i18n.itemProperties.updateDomainDesc}\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"updateDomainContainer"\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-update-select"\x3e\r\n        ${i18n.common.find}\x3cbr\x3e\r\n        \x3cselect class\x3d"select-full" data-dojo-attach-point\x3d"domainSelect" id\x3d"domain-update-select"\x3e\x3c/select\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-replace-input"\x3e\r\n        ${i18n.common.replace}\x3cbr\x3e\r\n        \x3cinput id\x3d"domain-replace-input" data-dojo-attach-point\x3d"domainReplace"\x3e\r\n        \x3cdiv class\x3d"hide input-error-message" data-dojo-attach-point\x3d"domainReplaceError"\x3e\r\n          ${i18n.itemProperties.siteReferenceInvalid}\r\n        \x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"inline-block align-top"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear btn-small" data-dojo-attach-point\x3d"replaceDomainBtn" disabled\x3e${i18n.common.replace}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingDomains}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingDomains}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainFailure"\x3e\r\n    \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainFailureMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainSuccess"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainSuccessMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"layerDetailsContainer"\x3e\r\n    ${i18n.itemProperties.layersWithDomain}\r\n    \x3cdiv class\x3d"font-size--2" data-dojo-attach-point\x3d"layerDetails"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearfix leader-1 esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Checkbox/templates/Checkbox.html":'\x3clabel class\x3d"checkbox-custom-label ${labelClass}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"checkbox-custom-input" ${_checked} data-dojo-attach-point\x3d"_checkbox" \x3e\r\n  \x3cspan class\x3d"checkbox-custom ${_modifierClasses}"\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"js-checkbox-label-text ${hideLabelClass}"\x3e${label}\x3c/span\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowserRow.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n      \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${member.fullName}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--2"\x3e${member.username}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/members/invite-user-row.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n      \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${member.fullName}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--2"\x3e${member.username}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide invite-user-row__collab-org-badge font-size--1 margin-right-2 tooltip-multiline" data-dojo-attach-point\x3d"collabOrgBadge"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"collabOrgBadgeIcon"\x3e${!icons.inline.group.16}\x3c/span\x3e \x3cspan data-dojo-attach-point\x3d"collabOrgNameEl"\x3e\x3c/span\x3e\x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-top-bar sticky-top"\x3e\r\n    \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-wrapper-loader is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"grid-container padding-trailer-half padding-leader-half hide js-member-browser-wrapper"\x3e\r\n    \x3cdiv class\x3d"flex column-24"\x3e\r\n      \x3cdiv class\x3d"js-filters-panel"\x3e\r\n        \x3cdiv class\x3d"js-membership-notice group-membership-notice font-size--1 hide"\x3e\r\n          \x3cdiv class\x3d"avenir-demi"\x3e${i18n.createGroupOverlay.whoCanJoin}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-membership-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-half font-size--1 avenir-demi tablet-hide js-filters-title"\x3e${i18n.myOrganization.manageLicenseMembers.filters}\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-outside-org-toggle"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"accordion filters--accordion js-accordion js-member-filters"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cdiv class\x3d"flex flex-wrap trailer-half font-size--2"\x3e\r\n          \x3cdiv class\x3d"js-filter-status-mobile"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex full-width flex-space-between"\x3e\r\n            \x3cdiv class\x3d"js-show-on-select hide flex-0 flex-center"\x3e\r\n              \x3cdiv class\x3d"js-selected-members"\x3e\x3c/div\x3e\r\n              \x3cbutton\r\n                class\x3d"btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-deselect"\x3e${i18n.GroupWidget.deselect}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-1 flex flex-align-center js-count-and-status"\x3e\r\n              \x3cdiv class\x3d"js-grid-member-count flex-0 padding-right-1 padding-leader-quarter padding-trailer-quarter"\x3e\x3c/div\x3e\r\n              \x3cdiv class\x3d"js-filter-status flex-1"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-select-page phone-hide"\x3e${i18n.filters.selectPage}\x3c/button\x3e\r\n            \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-deselect-page hide phone-hide"\x3e${i18n.filters.deselectPage}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-grid"\x3e\r\n          \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-loader"\x3e\r\n            \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide leader-3 text-center js-no-results"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-members-list"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-search-for-results"\x3e\r\n          \x3csvg viewBox\x3d"0 0 64 64" width\x3d"128" height\x3d"128" class\x3d"trailer-half leader-1" fill\x3d"#a9a9a9"\x3e\r\n            \x3cpath d\x3d"M16.37 23.071c1.418 4.135 5.303 7.329 7.738 7.329 2.531 0 6.561-3.424 7.858-7.702 3.067-2.303 1.683-8.088.39-10.09l-.326-.513c-1.1-1.74-1.968-3.114-5.152-3.673-3.39-.595-5.45.604-6.624 1.83a1.72 1.72 0 0 0-1.275-.019c-2.742.833-4.323 4.461-4.57 6.772-.164 1.54-.113 4.346 1.96 6.066zm7.738 6.53c-1.888 0-5.622-2.842-6.978-6.779a23.946 23.946 0 0 1 2.205-5.96 12.824 12.824 0 0 0 .824-1.633c3.33 2.389 7.73 1.82 9.02 1.585.207.625.751 2.211 2.026 5.638-1.25 4.153-5.083 7.148-7.097 7.148zM15.205 17.09c.216-2.032 1.64-5.372 4.007-6.091a1.54 1.54 0 0 1 .438-.077.477.477 0 0 1 .369.133l.305.33.292-.342c.988-1.152 2.853-2.408 6.124-1.833 2.835.498 3.543 1.617 4.613 3.312l.331.52c1.14 1.766 2.228 6.654.128 8.746-1.62-4.365-1.975-5.54-1.978-5.552l-.108-.361-.367.086c-.056.013-5.543 1.26-9.12-1.679l-.43-.353-.199.52a12.524 12.524 0 0 1-.959 1.998 23.028 23.028 0 0 0-2.168 5.65 6.431 6.431 0 0 1-1.278-5.007zm21.53 16.773l-.656.459c-1.41-2.01-4.427-3.136-7.72-4.166-.348 2.295-2.808 4.91-4.359 4.91s-4.01-2.615-4.358-4.91c-3.294 1.03-6.31 2.156-7.721 4.166l-.655-.46c1.624-2.314 5.002-3.505 8.616-4.618l.518-.159v.541c0 2.041 2.44 4.64 3.6 4.64s3.6-2.599 3.6-4.64v-.541l.518.16c3.614 1.112 6.992 2.303 8.616 4.618zm23.013 20.606L44.447 39.167l-1.414 1.415-3.801-3.801a19.94 19.94 0 1 0-2.451 2.45l3.803 3.803-1.414 1.415 15.299 15.3a2.382 2.382 0 0 0 1.697.702h.002a2.413 2.413 0 0 0 1.695-.702l1.886-1.886a2.4 2.4 0 0 0 0-3.394zM4.9 24A19.1 19.1 0 1 1 24 43.1 19.122 19.122 0 0 1 4.9 24zm32.474 14.693q.69-.63 1.32-1.32l3.774 3.775-1.32 1.32zm21.81 18.604l-1.887 1.886a1.61 1.61 0 0 1-1.13.468h-.001a1.589 1.589 0 0 1-1.131-.468L40.3 44.449l4.146-4.15 14.736 14.736a1.6 1.6 0 0 1 0 2.262z" /\x3e\r\n          \x3c/svg\x3e\r\n          \x3cp class\x3d"font-size--1 text-darker-gray text-constrain-narrow text-center margin-auto"\x3e${i18n.GroupWidget.searchForResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-suspended-collab"\x3e\r\n          \x3ccalcite-icon scale\x3d"l" icon\x3d"users" class\x3d"leader-1 trailer-1"\x3e\x3c/calcite-icon\x3e\r\n          \x3cp class\x3d"text-darker-gray text-constrain-narrow text-center margin-auto js-suspended-text"\x3e${i18n.GroupWidget.suspendedCollabResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Pagination/templates/Number.html":'\x3cli\x3e\x3ca href\x3d"#" class\x3d"js-btn btn btn-small pagination-btn ${is-active}" data-page\x3d"${pageNum}" aria-label\x3d"${label}" ${current}\x3e${pageNum}\x3c/a\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Ellipsis.html":'\x3cli\x3e\x3cspan class\x3d"avenir-light text-light-gray btn-small pagination-btn--inactive"\x3e${pageNum}\x3c/span\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Pagination.html":'\x3cdiv class\x3d"text-center trailer-1 padding-leader-1" data-dojo-attach-point\x3d"pagination"\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow margin-auto trailer-1 js-over-limit"\x3e${i18n.contentPage.errors.overItemLimit}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cnav class\x3d"pagination margin-auto" data-dojo-attach-point\x3d"navigation" role\x3d"navigation" aria-label\x3d"${i18n.contentPage.paginationLabel}"\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationPrevious}" class\x3d"js-btn-previous js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"previous"\x3e${i18n.common.previous}\x3c/a\x3e\r\n          \x3cspan class\x3d"js-pagination-links pagination-links" data-dojo-attach-point\x3d"pageLinks"\x3e\x3c/span\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationNext}" class\x3d"js-btn-next js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"next"\x3e${i18n.common.next}\x3c/a\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0" data-dojo-attach-point\x3d"_pageDropdown"\x3e\r\n      \x3cdiv class\x3d"dropdown dropdown-up js-dropdown padding-leader-quarter right full-width phone-leader-half"\x3e\r\n        \x3c!-- extends side-nav --\x3e\r\n        \x3cbutton class\x3d"btn-link font-size--2 btn-link-black js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_pageNumLabel"\x3e\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n        \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link is-active" role\x3d"menuitem" data-num\x3d"20"\x3e20\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"60"\x3e60\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"100"\x3e100\x3c/button\x3e\r\n        \x3c/nav\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SearchInput/SearchInput.html":'\x3cdiv class\x3d"full-width position-relative"\x3e\r\n  \x3cinput type\x3d"search" placeholder\x3d"${placeholder}" aria-label\x3d"${placeholder}" class\x3d"flex-1 input-minimal search-input ${cssTheme}" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray search-input__clear-btn hide" data-dojo-attach-point\x3d"clearBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/members/SearchDropdown.html":'\x3cdiv class\x3d"control-bar__action js-dropdown control-bar--search-dropdown"\x3e\r\n    \x3cbutton class\x3d"control-bar__btn js-toggle-search-dropdown js-dropdown-toggle" aria-label\x3d"${i18n.myOrganization.membersTab.searchMembersBy}" aria-controls\x3d"sortmenu" data-dojo-attach-point\x3d"_toggleLink" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n        \x3cspan class\x3d"control-bar__btn-text js-search-label" data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"control-bar__dropdown-menu dropdown-menu js-control-bar-search-dropdown" role\x3d"menu" id\x3d"searchmenu" aria-labelledby\x3d"searchmenutitle"\x3e\r\n        \x3ch3 class\x3d"control-bar__dropdown-menu__title" id\x3d"searchmenutitle"\x3e\r\n            ${i18n.myOrganization.membersTab.searchMembersBy}\r\n            \x3cbutton class\x3d"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n                ${!icons.x.24}\r\n            \x3c/button\x3e\r\n        \x3c/h3\x3e\r\n        \x3cnav class\x3d"js-search-options"\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item is-active"  role\x3d"menuitem" data-property\x3d"fullname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"username"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.username}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"firstname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.firstName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"lastname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.lastName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n        \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/ControlBar.html":'\x3cdiv class\x3d"control-bar ${hideActionClass} ${hideRightClass} ${marginClass} ${positionAbsoluteClass}"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3cdiv class\x3d"js-control-bar-actions control-bar__section control-bar__section--left flex flex-center flex-0"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__search ${searchActionClass} flex-1 flex js-control-bar-search-wrap"\x3e\r\n        \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search-dropdown js-control-bar-search-dropdown hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search__error input-error-message js-control-bar-search-error"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__section control-bar__section--right flex flex-center js-control-bar-right-section"\x3e\r\n        \x3cdiv class\x3d"js-control-bar-view-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-sort-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-filter-toggle ${hideFilterClass}"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn ${filterActiveClass} js-toggle-filters" aria-controls\x3d"view-filters-wrap"\x3e\r\n            ${!icons.inline.sliders.16}\x3cspan class\x3d"control-bar__btn-text"\x3e${i18n.controlBar.filter}\x3c/span\x3e\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-refresh control-bar__refresh hide"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/Filters.html":'\x3cdiv class\x3d"view--filters js-filters-mobile-wrap" id\x3d"view-filters-wrap"\x3e\r\n  \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"view--filters--wrap flex-column"\x3e\r\n    \x3cdiv class\x3d"view--filters--header clearfix flex-0"\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-1"\x3e\r\n        ${i18n.controlBar.filter}\r\n        \x3cbutton class\x3d"js-collapse-filters-button control-bar__dropdown-menu__close control-bar__dropdown-menu__close--flush control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n          ${icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filters-insert flex-1 view--filters--content leader-quarter"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"view--filters--footer flex-0"\x3e\r\n      \x3cbutton class\x3d"btn display-block margin-auto js-collapse-filters-button js-view-filter-results-button"\x3e${i18n.controlBar.viewResults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterStatus.html":'\x3cdiv class\x3d"padding-left-1 inline-block flex-1 filter-chip-wrap hide" data-dojo-attach-point\x3d"filterChipWrap"\x3e\r\n    \x3cspan class\x3d"font-size--2 margin-right-half filter-chips-label"\x3e${i18n.GroupWidget.filters}\x3c/span\x3e\r\n    \x3cspan class\x3d"margin-right-half break-word filter-chips" data-dojo-attach-point\x3d"filterChips"\x3e\x3c/span\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-off-black font-size--2 filter-clear-all" data-dojo-attach-point\x3d"clearAll"\x3e${i18n.GroupWidget.clearAll}\x3c/a\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterChip.html":'\x3cspan class\x3d"filter-chip margin-right-half js-filter-chip" data-filter\x3d"${filter.param}" data-value\x3d"${selected.value}"\x3e\r\n  \x3cspan class\x3d"filter-chip-text"\x3e${filter.chipText} ${selected.label}\x3c/span\x3e\r\n  \x3cbutton\r\n    class\x3d"filter-chip--remove js-filter-chip-remove"\r\n    data-filter\x3d"${filter.param}"\r\n    data-value\x3d"${selected.value}"\r\n    aria-label\x3d"${i18n.FilterDlg.removeFilterBtn}: \'${filter.chipText} ${selected.simpleLabel}\'"\r\n  \x3e${icons.x.16}\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/ToggleSwitch/templates/ToggleSwitch.html":'\x3clabel class\x3d"toggle-switch clearfix ${labelClasses} ${hasTooltip}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"toggle-switch-input" aria-label\x3d"${label}" data-dojo-attach-point\x3d"_checkbox"\x3e\r\n  \x3cspan class\x3d"toggle-switch-track ${direction}" data-dojo-attach-point\x3d"toggleTrack"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"inline-block margin-${direction}-half toggle-switch-label ${tooltipClass} padding-leader-quarter padding-trailer-quarter" data-dojo-attach-point\x3d"_label"\x3e\r\n    \x3cspan class\x3d"toggle-switch-label--text" data-dojo-attach-point\x3d"labelWrapper"\x3e${!label}\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loaderContainer" class\x3d"toggle-switch__loader-container hide"\x3e\r\n    \x3ccalcite-loader scale\x3d"l" inline data-dojo-attach-point\x3d"loader"\x3e\x3c/calcite-loader\x3e\r\n  \x3c/div\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingleWithSearch/templates/FilterSingleWithSearch.html":'\x3csection class\x3d"accordion-section ${activeClass} ${cssClasses}"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e${!icons.chevron-down.16}${title}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n          \x3cinput class\x3d"filters--accordion--input" type\x3d"search" data-dojo-attach-point\x3d"_searchInput" placeholder\x3d"${searchText}" aria-label\x3d"${searchText}"\x3e\r\n      \x3c/div\x3e\r\n    \x3cdiv class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"  data-dojo-attach-point\x3d"_filterList"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterSingle.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca role\x3d"option" aria-selected\x3d"false" href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/ClearAll.html":'\x3cbutton class\x3d"js-clear-filter btn-link btn-link-off-black font-size--3 right ${hide}" data-filter-param\x3d"${param}"\x3e${i18n.groupSelector.clear}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/FilterDate/templates/FilterDate.html":'\x3cul class\x3d"filter-tree"\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"today"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.today}" data-value\x3d"today"\x3e${i18n.filters.today}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"yesterday"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.yesterday}" data-value\x3d"yesterday"\x3e${i18n.filters.yesterday}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last7Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last7Days}" data-value\x3d"last7Days"\x3e${i18n.filters.last7Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last30Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last30Days}" data-value\x3d"last30Days"\x3e${i18n.filters.last30Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item hide" data-dojo-attach-point\x3d"_neverOption" data-value\x3d"never"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.never}" data-value\x3d"never"\x3e${i18n.filters.never}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"custom"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.customRange}" data-value\x3d"custom"\x3e${i18n.filters.customRange}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-custom-date-select hide font-size--3 margin-left-1 margin-right-0"\x3e\r\n      \x3clabel class\x3d"trailer-quarter" for\x3d"${uid}-start"\x3e\r\n        ${i18n.filters.from}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-start" data-dojo-attach-point\x3d"customStart" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customStartError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-0" for\x3d"${uid}-end"\x3e\r\n        ${i18n.filters.to}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-end" data-dojo-attach-point\x3d"customEnd" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customEndError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterOrganizationGroups/templates/FilterOrganizationGroups.html":'\x3csection class\x3d"accordion-section ${activeClass} ${cssClasses}" title\x3d"${title}"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e${!icons.chevron-down.16}${title}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n        \x3cinput class\x3d"filters--accordion--input" type\x3d"search" data-dojo-attach-point\x3d"_searchInput" placeholder\x3d"${searchText}" aria-label\x3d"${searchText}"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"filters--accordion--content max-height max-height--short min-heigt filter--wrap filter-scroll" data-dojo-attach-point\x3d"_filterListWrap"\x3e\x3c/div\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--3 padding-left-2 padding-right-2 padding-trailer-half hide"\r\n      data-dojo-attach-point\x3d"_noResults"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs.html":'\x3csection class\x3d"accordion-section is-active"\x3e\r\n  \x3cdiv class\x3d"font-size--1 collab-toggle-container hide" data-dojo-attach-point\x3d"coordsToggleContainer"\x3e\r\n    \x3cdiv class\x3d"js-collab-contacts-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e\r\n    ${!icons.chevron-down.16}${i18n.searchFilters.collabOrgs}\r\n  \x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n    \x3cdiv\r\n      class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"\r\n      data-dojo-attach-point\x3d"filterList"\r\n    \x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategoryWrapper.html":'\x3csection class\x3d"accordion-section is-active js-filter-category-container"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.contentCategories.categories}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content max-height filters--accordion--content"\x3e\r\n    \x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategory.html":'\x3cdiv\x3e\r\n  \x3c!-- if categories exist --\x3e\r\n  \x3cdiv class\x3d"js-category-filter hide"\x3e\r\n    \x3cul class\x3d"filter-tree js-uncategorized" role\x3d"tree"\x3e\x3c/ul\x3e\r\n    \x3cul class\x3d"filter-tree js-category-root position-relative" role\x3d"tree"\x3e\x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- if no categories but user is able to set up --\x3e\r\n  \x3cdiv class\x3d"padding-left-1 padding-right-1 js-no-categories-action hide"\x3e\r\n    \x3ch5 class\x3d"font-size-0 avenir-regular leader-half trailer-quarter"\x3e${noCategoriesText}\x3c/h5\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half"\x3e${filterDescription}\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small btn-wrap btn-clear trailer-half js-setup-categories"\x3e${setupText}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Category.html":'\x3cli class\x3d"js-filter-tree-item filter-tree-item-single filter-tree-item ${isActive} ${isParent}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${title}" class\x3d"filter-tree-link js-filter-tree-link" data-category-name\x3d"${title}" data-category-path\x3d"${path}" data-category-description\x3d"${description}"\x3e\r\n    ${title}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"${normalizedPath}"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Uncategorized.html":'\x3cli class\x3d"js-filter-tree-item-uncategorized filter-tree-item-single filter-tree-item"\x3e\r\n  \x3ca href\x3d"#" class\x3d"js-filter-tree-link-uncategorized filter-tree-link"\x3e\r\n    ${i18n.contentCategories.uncategorized}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"_none_"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/FilterCategory/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"group"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/FilterCategory/templates/EditSchemaButton.html":'\x3cbutton class\x3d"js-edit-categories btn-link btn-link-off-black margin-left-1 font-size--3 inline-block tooltip hide" aria-label\x3d"${contentCategoriesStrings.configureCategories}"\x3e${icons.edit.16}\r\n\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/CategoryEdit/templates/CategoryEdit.html":'\x3cdiv class\x3d"grid-container"\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-content-loading is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-category-wrapper hide"\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-setup-explanation hide"\x3e\r\n      \x3cnav class\x3d"category-setup-options js-standard-categories-nav"\x3e\r\n        \x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option is-active" data-category-set\x3d"custom"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.contentCategories.customTitle}\x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--3 trailer-0"\x3e${i18n.contentCategories.customText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-14 pre-1 post-1 leader-1 trailer-1"\x3e\r\n      \x3cdiv class\x3d"js-category-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-edit-explanation"\x3e\r\n      \x3cp\x3e${i18n.contentCategories.editCategorySchemaExplanation}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Node.html":'\x3cli class\x3d"category-editor-item category-editor-item__offset ${isOpen} ${isParent} js-category-edit-li" role\x3d"treeitem" data-category-path\x3d"${path}"\x3e\r\n  \x3cbutton class\x3d"category-editor-expand category-edit-expand__absolute js-toggle-item"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n      \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n      \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n      \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cspan class\x3d"category-edit-item js-category-edit-item" data-current-category\x3d"${title}"\x3e\r\n    \x3cspan class\x3d"category-edit-item--title js-category-edit-title"\x3e${title} \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path:lowerCase}"\x3e\x3c/span\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"category-edit-item--actions js-category-edit-actions inline-block right if-renameDeleteFromSchema"\x3e\r\n      \x3cbutton class\x3d"tooltip category-edit-item--action js-category-edit-button" aria-label\x3d"${i18n.contentCategories.editCategory}"\x3e\r\n        ${icons.edit.16}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"tooltip tooltip-bottom-right category-edit-item--action category-edit-item--action--delete js-category-delete-button" aria-label\x3d"${i18n.contentCategories.deleteCategory}"\x3e\r\n        ${icons.trash.16}\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3cform class\x3d"category-edit-form flex js-category-edit-form"\x3e\r\n      \x3clabel class\x3d"flex-1 overflow-visible trailer-0" for\x3d"category-editor-${title:hyphenate}-input"\x3e\r\n        \x3cspan class\x3d"screen-readers-only"\x3e${i18n.contentCategories.categoryName}\x3c/span\x3e\r\n        \x3cinput id\x3d"category-editor-${title:hyphenate}-input" type\x3d"text" value\x3d"${title}" class\x3d"js-category-item-input category-edit-form__input"\x3e\r\n        \x3cdiv class\x3d"js-category-item-input-error input-error-message"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cspan class\x3d"category-edit-form__actions"\x3e\r\n        \x3cbutton class\x3d"js-category-edit-submit tooltip tooltip-bottom btn-link category-edit-form__action category-edit-form__action--green" type\x3d"submit" disabled aria-label\x3d"${saveText}"\x3e${icons.check.24}\x3c/button\x3e\r\n        \x3cbutton class\x3d"js-category-cancel-edit tooltip tooltip-bottom btn-link category-edit-form__action" aria-label\x3d"${i18n.common.cancel}"\x3e${icons.x.24}\x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/form\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"category-edit--delete-warning category-edit--messaging js-category-edit-delete-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-explanation font-size--1 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-red btn-small js-delete-confirm"\x3e${i18n.contentCategories.deleteCategory}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-delete"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--edit-warning category-edit--messaging js-category-edit-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-0"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-edit-explanation font-size--2 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small js-edit-confirm"\x3e${i18n.contentCategories.continue}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-edit calcite-web-btn calcite-web-btn-clear"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--loader category-edit--messaging js-category-loader hide"\x3e\r\n    \x3ch4 class\x3d"trailer-half font-size-1"\x3e${i18n.contentCategories.updating}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.contentCategories.noNavigate}\x3c/p\x3e\r\n    \x3cdiv class\x3d"progress-bar leader-1 margin-left-0"\x3e\r\n      \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-category-loader-bar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"js-loading-message font-size--2 leader-half padding-left-1 text-right"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Group.html":'\x3cul role\x3d"group" class\x3d"category-editor-group category-editor-group--spaced js-category-group"\x3e\r\n  ${categories}\r\n  \x3cbutton class\x3d"js-add-sibling category-editor-add-sibling tooltip tooltip-right" aria-label\x3d"${ariaText}" data-category-path\x3d"${path}"\x3e\r\n    \x3csvg class\x3d"category-editor-add-sibling-icon" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"20" height\x3d"20" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath fill\x3d"#828282" d\x3d"M12 8.57H8.572V12H7.429V8.57H4V7.428h3.429V4h1.144v3.428H12V8.57z"/\x3e\r\n      \x3ccircle fill\x3d"none" stroke\x3d"#828282" stroke-miterlimit\x3d"10" stroke-dasharray\x3d"1.9519,0.9759" cx\x3d"8" cy\x3d"8" r\x3d"7"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/ul\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/_count.html":'\x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path}"\x3e(${num})\x3c/span\x3e',"url:arcgisonline/pages/dijit/CategoryEdit/templates/_standard.html":'\x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option" data-category-set\x3d"${key}"\x3e\r\n  \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e\r\n    ${title}\r\n    \x3ca href\x3d"${helpBase}${helpLink}" aria-label\x3d"${i18n.addItemFrm.learnMore}" class\x3d"tooltip right" target\x3d"_blank"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M11.5 1A10.5 10.5 0 1 0 22 11.5 10.499 10.499 0 0 0 11.5 1zm0 20.1a9.6 9.6 0 1 1 9.6-9.6 9.61 9.61 0 0 1-9.6 9.6zM13 18h-3v-1h1V8h1v9h1zM11.5 6.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM12 9h-2V8h2z"/\x3e\x3c/svg\x3e\r\n    \x3c/a\x3e\r\n  \x3c/h4\x3e\r\n  \x3cp class\x3d"font-size--3 trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/SelectedMembers/templates/SelectedMembers.html":'\x3cdiv class\x3d"dropdown ${_directionClass} js-dropdown"\x3e\r\n  \x3cbutton data-dojo-attach-point\x3d"toggleBtn" class\x3d"btn-link flex font-size--1 assign-licenses__members-dropdown js-dropdown-toggle ${buttonClasses}"\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-text" data-dojo-attach-point\x3d"_membersSelectedLabel"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-dropdown-arrow"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 16 16"\x3e\r\n        \x3cpath d\x3d"M5 1.5l7 7-7 7zm1 11.586L10.586 8.5 6 3.914z"\x3e\x3c/path\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/div\x3e\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-${_directionClass} ${_sectionsClass} assign-licenses__members-selected-panel" role\x3d"menu" data-dojo-attach-point\x3d"_selectedMembersPanel"\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedRow.html":'\x3cli class\x3d"flex margin-left-0 trailer-half margin-right-half"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_memberThumb"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 members-selected-row__full-name"\x3e\r\n    ${member.fullName}\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link member-selected-row__close-btn" data-dojo-attach-point\x3d"_removeBtn"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath d\x3d"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedSection.html":'\x3csection class\x3d"members-selected-section"\x3e\r\n    \x3cdiv class\x3d"font-size--3 trailer-half" data-dojo-attach-point\x3d"_licenseTypesLabel"\x3e\x3c/div\x3e\r\n    \x3cul class\x3d"list-plain margin-left-0 trailer-0 max-height" data-dojo-attach-point\x3d"_list"\x3e\x3c/ul\x3e\r\n\x3c/section\x3e\r\n',"url:arcgisonline/pages/group/widgets/templates/members/invite.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-group-invite-browser"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/invite-loader.html":'\x3cdiv class\x3d"leader-1 trailer-1"\x3e\r\n  \x3cp class\x3d"font-size--1"\x3e${text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"progress-bar progress-bar--flush js-progress-bar"\r\n       role\x3d"progressbar" \r\n       aria-valuenow\x3d"0" \r\n       aria-valuemin\x3d"0" \r\n       aria-valuemax\x3d"100"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-progress-bar-fill" style\x3d"width:0%"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"trailer-0 font-size--2 js-progress-bar-percentage"\x3e0%\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/members/invite-error.html":'\x3cdiv\x3e\r\n  \x3cp class\x3d"leader-half trailer-half"\x3e${errorStrings.text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-notadded max-height"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/members/invite-error-row.html":'\x3cdiv class\x3d"flex panel panel-white ${border}"\x3e\r\n  \x3cdiv class\x3d"js-member-thumbnail"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n    \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${fullName}\x3c/h4\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${username}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ThumbnailDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"content-node"\x3e\r\n  \x3ccanvas data-dojo-attach-point\x3d"_canvasNode" hidden\x3e\x3c/canvas\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_dragDropNode" draggable\x3d"true"\x3e\r\n    \x3cdiv class\x3d"text-center panel panel-dashed"\x3e\r\n      \x3cdiv class\x3d"icon--large trailer-half leader-quarter text-dark-gray"\x3e\r\n        ${!icons.upload.32}\r\n      \x3c/div\x3e\r\n      \x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-0"\x3e\r\n        \x3cspan class\x3d"display-block font-size-1"\x3e${i18n.GroupWidget.thumbnailDlg.dragDrop}\x3c/span\x3e\r\n        \x3cspan class\x3d"display-block font-size--2" data-dojo-attach-point\x3d"_sizeSuggestion"\x3e${i18n.GroupWidget.thumbnailDlg.sizeSpec}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"text-center leader-1 trailer-half"\x3e\r\n      \x3cb class\x3d"horizontal-lines"\x3e\x3cspan\x3e${i18n.GroupWidget.thumbnailDlg.or}\x3c/span\x3e\x3c/b\x3e\r\n    \x3c/p\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_thumbnailForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n      \x3clabel for\x3d"browse-for-thumbnail"\x3e\r\n        ${i18n.GroupWidget.thumbnailDlg.browseFile}\r\n        \x3cinput name\x3d"browse-for-thumbnail" id\x3d"browse-for-thumbnail" type\x3d"file" accept\x3d".jpg,.gif,.png,image/jpg,image/gif,image/png" data-dojo-attach-point\x3d"_fileInput"/\x3e\r\n      \x3c/label\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_cropNode" class\x3d"edit-thumb-display hide"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_cropThumbContainer" class\x3d"crop-thumb-container"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_thumbTranslucentContainer" class\x3d"crop-thumb-translucent"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_thumbTransparentContainer" class\x3d"crop-thumb-clear"\x3e\r\n          \x3cimg data-dojo-attach-point\x3d"_previewImage" class\x3d"preview-image"\x3e\x3c/img\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3clabel class\x3d"trailer-half leader-half" for\x3d"group-thumbnail-upload-zoom-slider"\x3e\r\n      ${i18n.GroupWidget.thumbnailDlg.zoom}\r\n      \x3cinput id\x3d"group-thumbnail-upload-zoom-slider" type\x3d"range" data-dojo-attach-point\x3d"_zoomSlider"\x3e\x3c/input\x3e\r\n      \x3cspan class\x3d"clearfix"\x3e\r\n        \x3cspan class\x3d"left inline-block leader-half"\x3e${!icons.image.16}\x3c/span\x3e\r\n        \x3cspan class\x3d"right"\x3e${!icons.image.32}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/MembershipRequestsDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"${baseClass} membership-requests-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.membershipRequests}"\x3e\r\n    \x3cdiv class\x3d"membership-requests-label"\x3e${i18n.requestedMemberShip}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${baseClass} requests-container"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_requestsGridContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right" style\x3d"padding-top:1rem;padding-bottom:5px;"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_closeBtn" class\x3d"jevent primary" data-dojo-type\x3d"dijit/form/Button"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr/\x3e\x26nbsp;\x3cbr/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JoinGroupDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" id\x3d"join_group-dialog" class\x3d"join-group-dialog" title\x3d"${i18n.joinGroupTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_joinGroupContent"\x3e\r\n      ${i18n.yourRequestForReview}\r\n      \x3cbr\x3e\r\n      ${i18n.youCanCheckStatus}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"_administrativeGroup"\x3e\r\n      ${i18n.leavingDisabled}\r\n    \x3c/div\x3e\r\n    \x3cbr\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing right leader-1"\x3e\r\n        \x3cbutton data-dojo-attach-point\x3d"_okBtn" class\x3d"btn btn-blue"\x3e${i18n.submitRequest}\x3c/button\x3e\r\n        \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" class\x3d"btn btn-clear"\x3e${i18n.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/InvitationsDlg.html":'\x3cdiv\x3e\r\n  \t\x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"${baseClass} invitations-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.invitationsDlgTitle}"\x3e\r\n      \x3cdiv class\x3d"trailer-half"\x3e${i18n.invitationMsg}\x3c/div\x3e\r\n      \x3cdiv class\x3d"${baseClass} invitations-container padding-leader-quarter"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_invitationsGridContainer"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"clearfix"\x3e\r\n        \x3cdiv class\x3d"esriFloatTrailing right" style\x3d"padding-top:1rem; padding-bottom:5px;"\x3e\r\n          \x3cbutton data-dojo-attach-point\x3d"_closeBtn" class\x3d"jevent primary" data-dojo-type\x3d"dijit/form/Button" tabIndex\x3d"1"\x3e${i18n.close}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/InvitationsDlgGroup.html":'\x3cdiv class\x3d"avenir-regular"\x3e\r\n  \x3cdiv class\x3d"panel panel-white panel-no-padding padding-leader-half padding-trailer-quarter padding-left-1 padding-right-1 border-bottom-clear"\x3e\r\n    \x3cdiv class\x3d"left"\x3e\r\n      \x3cdiv class\x3d"inline-block  ${isPrivate:show}"\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${id}" class\x3d"card-image-small display-block margin-right-1 margin-left-0 group-card-thumbnail" title\x3d"${i18n.GroupsWidget.viewGroupDetails}"\x3e\r\n          \x3cimg src\x3d"${thumbnailUrl}" alt\x3d"${title}" class\x3d"${thumbnail:hide}"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"${fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath class\x3d"${useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n            \x3ctext class\x3d"${useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${title:firstChar}\x3c/tspan\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${title:firstChar}\x3c/tspan\x3e\r\n            \x3c/text\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"inline-block  ${isPrivate:hide}"\x3e\r\n        \x3cdiv class\x3d"card-image-small display-block margin-right-1 margin-left-0 group-card-thumbnail"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"#AAA" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath fill\x3d"#FFF" d\x3d"M42.5 30.5h-20c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-20v-14h20v14zm-14-20c0-2.205 1.794-4 4-4s4 1.795 4 4v4h2v-4c0-3.309-2.691-6-6-6s-6 2.691-6 6v4h2v-4zm-4 0c0-4.4 3.6-8 8-8s8 3.6 8 8v4h2v-4c0-5.514-4.486-10-10-10s-10 4.486-10 10v4h2v-4zm10 12v-2h-2v-2h-2v10h2v-2h2v-2h-2v-2h2z"/\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"group-card-content border-box right"\x3e\r\n      \x3ch4 class\x3d"trailer-0 leader-quarter font-size-1 full-width text-ellipsis margin-right-1 text-left"\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${id}" title\x3d"${title}" class\x3d"text-ellipsis ${isPrivate:show}"\x3e${title:stripHTML}\x3c/a\x3e\r\n        \x3cspan class\x3d"text-ellipsis ${isPrivate:hide}" title\x3d"${title}"\x3e${title:stripHTML}\x3c/span\x3e\r\n      \x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 text-left"\x3e${notificationSummary}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"panel panel-no-padding padding-leader-quarter padding-trailer-quarter padding-left-quarter padding-right-quarter clearfix"\x3e\r\n    \x3cdiv class\x3d"right"\x3e\r\n      \x3cbutton class\x3d"js-accept-invitation btn btn-link btn-link-off-black margin-right-1 margin-left-0 inline-block"\x3e\x3cspan class\x3d"text-green"\x3e${icons.inline.check.16}\x3c/span\x3e${i18n.invitationsGrid.joinThisGroup}\x3c/button\x3e\r\n      \x3cbutton class\x3d"js-decline-invitation btn btn-link btn-link-off-black margin-right-1 margin-left-0 inline-block"\x3e\x3cspan class\x3d"text-red"\x3e${icons.inline.minus-circle.16}\x3c/span\x3e${i18n.invitationsGrid.decline}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/_settings.html":'\x3cdiv class\x3d"grid-container leader-1 padding-trailer-4"\x3e\r\n  \x3cdiv class\x3d"column-18 padding-leader-2 phone-padding-leader-0"\x3e\r\n    \x3csection id\x3d"main-content-area"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"deleteWrapper"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-membership"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-designations"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"contentWrapper"\x3e\x3c/div\x3e\r\n    \x3c/section\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/Membership.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.membership}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n    \x3cdiv class\x3d"trailer-1 js-view-section"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanView}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-view-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membershipSection"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanJoin}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-member-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cdiv class\x3d"trailer-0"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.joinBy}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"joinDesc"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"enterpriseInputContainer"\x3e\r\n        \x3cdiv class\x3d"js-group-name-wrapper"\x3e\r\n          \x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e\r\n          \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"searchEnterpriseBtn" class\x3d"btn btn-clear btn-small leader-half hide"\x3e\r\n            ${i18n.enterpriseGroups.selectLabel}\r\n          \x3c/button\x3e\r\n          \x3cdiv class\x3d"hide flex leader-1" data-dojo-attach-point\x3d"enterpriseButtons"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"cancelEnterpriseBtn" class\x3d"btn btn-clear margin-right-half"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton class\x3d"btn" data-dojo-attach-point\x3d"saveEnterpriseBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.contributeBy}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-contribute-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membersSection"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.displayMembersTo}\x3cbutton data-dojo-attach-point\x3d"hideMembersTooltip" class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"${i18n.hideMembersTip}"\x3e\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"${isArabic}"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-display-options"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"editViewMembersSection"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"viewMembersValue"\x3e\x3c/div\x3e\r\n        \x3cbutton class\x3d"btn btn-clear leader-half" data-dojo-attach-point\x3d"hideMembersBtn"\x3e${i18n.hideMembers}\x3c/button\x3e\r\n        \x3cdiv class\x3d"hide-members-note leader-half"\x3e${i18n.whoCanSeeMembersNote}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOption.html":'\x3cdiv class\x3d"font-size--1 position-relative"\x3e\r\n  \x3cinput class\x3d"radio-group-input" id\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"radio" type\x3d"radio" name\x3d"${name}" value\x3d"" \x3e\r\n  \x3clabel class\x3d"radio-group-label ${labelClass}" for\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"selectLabel"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"iconContainer" class\x3d"hide trailer-quarter"\x3e\x3c/div\x3e\r\n    ${text}\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOptionRadio.html":'\x3clabel data-dojo-attach-point\x3d"selectLabel" class\x3d"flex select-option__radio-label font-size--1"\x3e\r\n  \x3cinput type\x3d"radio" name\x3d"${name}" data-dojo-attach-point\x3d"radio" \x3e\r\n  ${text}\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  \x3cspan class\x3d"${labelClass}"\x3e${labelText}\x3c/span\x3e\r\n  \x3cdiv class\x3d"avenir-regular ${labelDescription:hide}"\x3e${labelDescription}\x3c/div\x3e\r\n  \x3cinput type\x3d"text" class\x3d"js-text-input hide"\x3e\r\n  \x3ctextarea class\x3d"js-textarea hide" placeholder\x3d"${placeholder}"\x3e\x3c/textarea\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/TextboxWithValidation/UrlTextbox.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  ${labelText}\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"url-textbox__protocol"\x3ehttps://\x3c/div\x3e\x3cinput class\x3d"flex-1 url-textbox__input js-text-input" type\x3d"text"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/group/widgets/templates/HideMembers.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow is-active"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-yellow" aria-label\x3d"${i18n.GroupWidget.warningIcon}"\x3e\r\n        ${icons.exclamation-mark-triangle.32}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0"\x3e\r\n        ${i18n.GroupWidget.noRevert}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"padding-leader-1 padding-left-1 padding-right-1"\x3e${i18n.GroupWidget.hideMembersDlg.description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" id\x3d"select-enterprise-group-dialog" class\x3d"${baseClass}" title\x3d"${i18n.selectGroup}"\x3e\r\n    \x3cp class\x3d"trailer-0"\x3e${i18n.useSearch}\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing esriTrailingMargin025"\x3e\r\n      \x3clabel for\x3d"searchInput" class\x3d"display-inline"\x3e${i18n.findGroup}\x3c/label\x3e\r\n      \x3cdiv id\x3d"searchInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${baseClass}" data-dojo-attach-point\x3d"_search" data-dojo-props\x3d"trim:true" data-dojo-attach-event\x3d"onKeyDown:onSearchKeyDown"\x3e\x3c/div\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_searchBtn" class\x3d"calcite light small leader-half" data-dojo-attach-event\x3d"onClick:onSearch"\x3e${i18n.search}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_gridContainer" class\x3d"leader-1"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half clearfix"\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading left" data-dojo-attach-point\x3d"_goToPageContainer"\x3e\r\n        \x3clabel for\x3d"goToInput" class\x3d"inline-block"\x3e${i18n.goToPage}\x3c/label\x3e\r\n        \x3cdiv id\x3d"goToInput" class\x3d"${baseClass}" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_goTo" data-dojo-attach-event\x3d"onKeyDown:onGoToPageKeyDown" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_goBtn" class\x3d"calcite light small" data-dojo-attach-event\x3d"onClick:onGoToPage"\x3e${i18n.goTo}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_okBtn" class\x3d"calcite blue" data-dojo-attach-event\x3d"onClick:onOk"\x3e${i18n.selectGroup}\x3c/button\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_cancelBtn" class\x3d"calcite transparent cancel" data-dojo-attach-event\x3d"onClick:onCancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/GroupDesignations.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.groupDesignations}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"sharedUpdateSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.sharedUpdate}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-shared-update-toggle"\x3e\x3c/div\x3e\r\n        \x3c!-- \x3cdiv class\x3d"font-size--1 create-group__option-desc"\x3e${i18n.membershipLimited}\x3c/div\x3e --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"adminGroupSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.adminGroup}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-admin-group-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"openDataSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.openData}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-open-data-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/InlineEdit.html":'\x3cdiv\x3e\r\n    \x3ch1 class\x3d"${titleClass} break-word flex text-ellipsis" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"if-name js-view subnav-title__name" id\x3d"${titleId}"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn btn-transparent padding-leader-quarter font-size--3 ${editButtonClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h1\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditTextArea.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e\r\n            ${!icons.inline.edit.16} ${i18n.common.edit}\r\n        \x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-quarter" for\x3d"${inputId}"\x3e\r\n            ${inputLabel}\r\n            \x3ctextarea\r\n                id\x3d"${inputId}"\r\n                data-dojo-attach-point\x3d"_input"\r\n                name\x3d"snippet"\r\n                rows\x3d"${rows}"\r\n                class\x3d"js-snippet-input display-block resize-v"\x3e${value}\x3c/textarea\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n                \x3cdiv class\x3d"hide inline-edit__characters-left" data-dojo-attach-point\x3d"_charactersLeft"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-quarter"\x3e\r\n                \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditFieldValueType.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${inputLabel}\r\n      \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_input"\x3e\x3c/select\x3e\r\n      \x3c!-- \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_type"\x3e\x3c/select\x3e --\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"text-right"\x3e\r\n        \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditRichText.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"trailer-2"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray ${editButtonUpdatePermissionClasses} font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide leader-1" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-half" for\x3d"${inputId}"\x3e${inputLabel}\x3c/label\x3e\r\n        \x3cdiv id\x3d"${inputId}" class\x3d"rich-text" data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right leader-half"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditCustom.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"leader-1 padding-leader-half"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3ch5 class\x3d"trailer-half"\x3e\r\n            ${viewTitle}\r\n        \x3c/h5\x3e\r\n        \x3cp class\x3d"js-view break-word"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n        ${formTitle}\r\n        \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRename.html":'\x3cdiv\x3e\r\n    \x3ch5 class\x3d"font-size-1 trailer-0 leader-0 sub-nav-title break-word" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0"\x3e\r\n            \x3ca target\x3d"_blank" href\x3d"${layerUrl}" class\x3d"if-name js-view"\x3e\x3c/a\x3e\r\n        \x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-darker-gray if-can-renameLayer" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"column-12 padding-leader-half padding-trailer-half hide" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"input-group leader-0"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"input-group-input" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input"\x3e\r\n            \x3cspan class\x3d"input-group-button padding-right-quarter"\x3e\r\n                \x3cbutton class\x3d"btn" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n                \x3cbutton class\x3d"btn-link btn btn-clear btn-two cancel-title-edit" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRenameSubnav.html":'\x3cdiv class\x3d"flex-1 flex"\x3e\r\n    \x3ch5 class\x3d"trailer-0 leader-0 break-word flex" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0 js-view subnav-breadcrumb flex-1 text-ellipsis"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-white" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditNotebookTags.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton\r\n      class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right"\r\n      aria-label\x3d"${inputLabel}"\r\n    \x3e\r\n      ${!icons.inline.edit.16}${i18n.common.edit}\r\n    \x3c/button\x3e\r\n    \x3ch4 class\x3d"panel-header if-tag if-can-update"\x3e${viewTitle}\x3c/h5\x3e\r\n    \x3cp class\x3d"js-view"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n    ${formTitle}\r\n    \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Favorite/Favorite.html":'\x3cspan\x3e\r\n  \x3cbutton class\x3d"card-action tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.favorite}" data-dojo-attach-point\x3d"button"\x3e\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummary.html":'\x3cdiv class\x3d"share-summary ${directionClass} ${responsiveClass}"\x3e\r\n  \x3cbutton class\x3d"js-share-button share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short"\x3e\r\n    \x3cspan class\x3d"js-icon share-summary__level flex flex-center"\x3e${!levelIcon}\x3c/span\x3e\r\n    \x3cspan class\x3d"js-sharing-plus-icon share-summary__plus"\x3e${!icons.plus.16}\x3c/span\x3e\r\n    \x3cspan class\x3d"share-summary__group share-summary__group--unknown"\x3e\r\n      ${!icons.users.16}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummaryOverflow.html":'\x3cspan class\x3d"share-summary__overflow"\x3e\x26#43;${num}\x3c/span\x3e',"url:arcgisonline/pages/dijit/Card/Card.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap tooltip" aria-label\x3d"${selectItem}"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-card-select-check-mark" value\x3d"${item.id}" data-id\x3d"${item.id}" ${checked}\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${!item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-quarter flex"\x3e\r\n        \x3cspan class\x3d"js-layers-tables font-size--2"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray card-created" title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center leader-quarter"\x3e\r\n      \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis font-size--2 inline-block"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center flex-justify-end card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/OpenDropdown.html":'\x3cdiv class\x3d"display-block dropdown js-dropdown"\x3e\r\n  \x3cbutton class\x3d"card-action js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false" aria-label\x3d"${i18n.siteHeader.moreOptions}"\x3e\r\n    ${icons.ellipsis-f.16}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-menu-constrained dropdown-right" role\x3d"menu"\x3e\r\n    \x3c!-- Primary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"item.html?id\x3d${item.id}${telemetryParams:empty}" class\x3d"dropdown-link"\x3e${i18n.itemLinks.viewDetails}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-pdf js-action" data-action\x3d"download"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3cbutton role\x3d"menuitem" class\x3d"dropdown-link js-item-categorize if-allow-categorization"\x3e${i18n.items.categorize}\x3c/button\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-file if-download js-action" data-action\x3d"download"\x3e${i18n.itemLinks.download}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-explorer js-action" data-action\x3d"download"\x3e${i18n.itemLinks.openExplorer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadStyleUrl:empty}" class\x3d"dropdown-link if-resources"\x3e${i18n.itemLinks.downloadStyle}\x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-map-viewer-classic"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapNewViewerUrl:empty}" data-href\x3d"${item.mapNewViewerUrl:empty}" class\x3d"dropdown-link if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.addToNewViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemProperties.openViewerFullEditingRole}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"if-map-viewer-modern"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewerWithControl}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"if-geoBIM"\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.geoBIMUrl:empty}" class\x3d"dropdown-link if-create-GeoBIM"\x3e${i18n.itemLinks.openGeoBIM}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene if-3d"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.url:empty}" target\x3d"_blank" class\x3d"dropdown-link if-app"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-mobile"\x3e${i18n.itemLinks.getApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-link"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workforceViewerUrl:empty}" class\x3d"dropdown-link if-workforceProject-and-not-blocked"\x3e${i18n.itemLinks.openWorkforce}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workflowViewerUrl:empty}"  class\x3d"dropdown-link if-workflow"\x3e${i18n.itemLinks.openWorkflow}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyViewerUrl:empty}" class\x3d"dropdown-link if-surveyFormBrowser-and-not-blocked"\x3e${i18n.itemLinks.openSurveyBrowser}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyAppUrl:empty}" class\x3d"dropdown-link if-surveyForm-and-not-blocked"\x3e${i18n.itemLinks.openSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyManageUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.manageSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyEditUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.editSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.insightsViewerUrl:empty}" class\x3d"dropdown-link if-insights-and-not-blocked"\x3e${i18n.itemLinks.openInsights}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.urbanViewerUrl:empty}" class\x3d"dropdown-link if-urbanModel"\x3e${i18n.itemLinks.openUrbanModel}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.orthoMakerUrl:empty}" class\x3d"dropdown-link if-orthoMaker"\x3e${i18n.itemLinks.openOrthoMaker}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.missionViewerUrl:empty}" class\x3d"dropdown-link if-mission"\x3e${i18n.itemLinks.openMission}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.geoAIStudioUrl:empty}" class\x3d"dropdown-link if-geoAIStudioProject"\x3e${i18n.itemLinks.openGeoAIStudio}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubInitiativeUrl:empty}" class\x3d"dropdown-link if-hubInitiative-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubEventUrl:empty}" class\x3d"dropdown-link if-hubEvent-and-not-blocked"\x3e${i18n.itemLinks.viewInHub}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectEditUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.editHubProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotViewerUrl:empty}" class\x3d"dropdown-link if-bigDataAnalytic if-realTimeAnalytic"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotFeedUrl:empty}" class\x3d"dropdown-link if-feedLayer"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.vrExperienceUrl:empty}" class\x3d"dropdown-link if-vrExperience-and-not-blocked js-hide-portal"\x3e${i18n.itemLinks.openVRExperience}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.cityEngineViewerUrl:empty}" class\x3d"dropdown-link if-city-engine"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburViewerUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburProjectUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.viewExcaliburProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburMediaUrl:empty}" class\x3d"dropdown-link if-excaliburMedia"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-dashboard-and-not-blocked"\x3e${i18n.itemLinks.dashboardView}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardEditUrl:empty}" class\x3d"dropdown-link if-can-edit-dashboard"\x3e${i18n.itemLinks.dashboardEdit}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.fieldMapsUrl:empty}" class\x3d"dropdown-link if-fieldMaps"\x3e${i18n.itemLinks.fieldMaps}\x3c/a\x3e\r\n    \x3cdiv class\x3d"if-notebookServer-enabled"\x3e\r\n      \x3cspan class\x3d"if-can-create-notebooks"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.notebookViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-notebook"\x3e${i18n.itemLinks.openNotebook}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- Web Experience Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperience-and-not-blocked" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperience"\x3e${i18n.common.edit}\x3c/a\x3e\r\n\r\n    \x3c!-- Web Experience Template Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperienceTemplate-and-not-blocked"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperienceTemplate"\x3e${i18n.common.edit}\x3c/a\x3e\r\n    \x3cspan class\x3d"if-published-webExperienceTemplate-and-not-blocked"\x3e\r\n      \x3ca href\x3d"${item.webExperienceCreateUrl:empty}" class\x3d"dropdown-link if-can-create-webExperienceTemplate if-published-webExperienceTemplate-and-not-blocked if-no-public-user js-open-btn"\x3e${i18n.itemLinks.createWebExperience}\x3c/a\x3e\r\n    \x3c/span\x3e\r\n\r\n    \x3c!-- Secondary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.wabEditUrl:empty}" class\x3d"dropdown-link if-can-edit-wab-and-not-blocked"\x3e${i18n.itemLinks.editApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene-2"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openDesktop}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openArcMap}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-pro if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"pro"\x3e${i18n.itemLinks.openPro}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-no-presentation if-map"\x3e${i18n.siteHeader.createPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openPresentationUrl:empty}" class\x3d"dropdown-link if-presentation"\x3e${i18n.siteHeader.viewPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-create-presentation"\x3e${i18n.siteHeader.editPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureUrl:empty}" class\x3d"dropdown-link if-can-configure"\x3e${i18n.itemProperties.configureApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.viewStyleUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-vectorTile if-viewStyle"\x3e${i18n.itemLinks.viewStyle}\x3c/a\x3e\r\n\r\n    \x3c!-- Storymap Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureStoryMapUrl:empty}" class\x3d"dropdown-link if-editable-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.editStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.editStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.storyMapViewerUrl:empty}" class\x3d"dropdown-link if-published-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.viewStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.viewStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-published-storymap-theme"\x3e\r\n      \x3ca\r\n        class\x3d"dropdown-link"\r\n        href\x3d"${item.newStoryMapFromThemeUrl:empty}"\r\n      \x3e\r\n        ${i18n.itemLinks.newStoryFromTheme}\r\n      \x3c/a\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.newStoryMapCollectionFromThemeUrl:empty}" class\x3d"dropdown-link"\x3e\r\n        ${i18n.itemLinks.newCollectionFromTheme}\r\n      \x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3ca\r\n      href\x3d"${item.configureStoryMapThemeUrl:empty}"\r\n      class\x3d"dropdown-link if-editable-storymap-theme"\r\n    \x3e\r\n      ${i18n.itemLinks.editStorymapTheme}\r\n    \x3c/a\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/OrgPopup/OrgPopup.html":'\x3cdiv\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"hide popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"profile-popup__loader loader"\x3e\r\n    \x3cdiv class\x3d"profile-popup__loader-bars loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-left" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"profile-popup__top-section flex flex-align-center"\x3e\r\n      \x3cimg src\x3d"${item.verified.thumbnail}" class\x3d"profile-popup__org-thumbnail margin-right-1"\x3e\r\n      \x3cdiv class\x3d"flex-1 font-size-1 avenir-demi"\x3e\r\n        ${item.verified.name}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"profile-popup__org-bottom" data-dojo-attach-point\x3d"bottomSection"\x3e\r\n      \x3cdiv class\x3d"profile-popup__bio-container" data-dojo-attach-point\x3d"descContainer"\x3e\r\n        \x3cp class\x3d"profile-popup__bio-section trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n        \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-popup__more-toggle" data-dojo-attach-point\x3d"descToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3ca href\x3d"${item.verified.url}"  target\x3d"_blank"\x3e${i18n.myOrganization.homeTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n        \x3ca href\x3d"${item.verified.url}gallery.html"  target\x3d"_blank" class\x3d"margin-left-1"\x3e${i18n.myOrganization.galleryTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/MinimalCard.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}" tabindex\x3d"0"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center" tabindex\x3d"0"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3ca data-dojo-attach-point\x3d"thumbLink" href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size-0 leader-quarter trailer-quarter text-ellipsis avenir-bold"\x3e\x3ca data-dojo-attach-point\x3d"titleLink" class\x3d"card-title-link minimal-card__title-link display-block text-ellipsis" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2"\x3e${item.displayName:formatDisplayName}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CardMobile/CardMobile.html":'\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"js-card block card card-mobile trailer-half" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size-1"\x3e${item.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half flex"\x3e\r\n      \x3cspan class\x3d"flex-0"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cspan class\x3d"left inline-block margin-right-1 margin-left-0 font-size--3 text-darker-gray"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 16 16" width\x3d"16" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n          \x3cpath fill\x3d"currentColor" d\x3d"M8 7h3v1H7V3h1zm4.803 5.803a7.5 7.5 0 1 1 0-10.606 7.5 7.5 0 0 1 0 10.606zm-.636-9.97A6.591 6.591 0 0 0 .927 7H2v1H.927A6.567 6.567 0 0 0 7 14.073v-1.38h1v1.38a6.591 6.591 0 0 0 4.167-11.24z"/\x3e\r\n        \x3c/svg\x3e\r\n        ${item.modified:fullDate}\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"right inline-block card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/views/items/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n\x3c!--\r\n    For now, hide these messages until the logic for showing them can be worked out\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto if-can-create-items"\x3e${i18n.GroupWidget.NotSharedYet}\x3c/p\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto if-cant-create-items"\x3e${i18n.emptyStates.groupContentNoShare}\x3c/p\x3e\r\n--\x3e\r\n    \x3cp class\x3d"text-center if-can-create-items"\x3e\x3ca href\x3d"content.html" class\x3d"btn btn-clear btn-small"\x3e${i18n.GroupWidget.viewMyContent}\x3c/a\x3e\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/_overview.html":'\x3csection class\x3d"grid-container leader-1"\x3e\r\n    \x3cdiv class\x3d"column-17 post-1 rtl-post-0 trailer-1" id\x3d"main-content-area"\x3e\r\n        \x3cdiv class\x3d"column-17 phone-hide"\x3e\r\n            \x3cbutton data-action\x3d"thumbnail" class\x3d"js-action-editThumbnail font-size--2 btn-link btn-link-darker-gray inline-block if-can-update"\x3e${!icons.inline.edit.16}${i18n.itemProperties.editThumbnail}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"column-17 flex padding-leader-quarter"\x3e\r\n            \x3cdiv class\x3d"flex-0 margin-right-1 thumbnail-wrap--thin"\x3e\r\n                \x3cimg id\x3d"groupThumbnailImg" src\x3d"${group.thumbnailUrl}" alt\x3d"${group.title}" class\x3d"${group.thumbnail:hide} js-thumbnail-img"\x3e\r\n                \x3csvg id\x3d"defaultThumbnailImg" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${group.thumbnail:show} js-thumbnail-svg"\x3e\r\n                  \x3cpath fill\x3d"${group.fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n                  \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n                  \x3cpath class\x3d"${group.useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n                  \x3ctext class\x3d"${group.useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n                    \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n                    \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n                  \x3c/text\x3e\r\n                \x3c/svg\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"flex-1 margin-left-1 phone-margin-0"\x3e\r\n                \x3cdiv class\x3d"js-snippet-section"\x3e\r\n                    \x3c!-- Container for snippet InlineEdit --\x3e\r\n                    \x3cp class\x3d"trailer-0 break-word padding-trailer-quarter"\x3e\r\n                        \x3cspan class\x3d"js-view if-snippet break-word"\x3e\x3c/span\x3e\r\n                        \x3cspan class\x3d"if-no-snippet text-darker-gray trailer-half"\x3e\r\n                            \x3cspan class\x3d"if-viewer"\x3e${i18n.GroupWidget.summaryUnavailable}\x3c/span\x3e\r\n                            \x3ca href\x3d"#" class\x3d"js-inline-edit if-can-update"\x3e${i18n.GroupWidget.noSummary}\x3c/a\x3e\r\n                        \x3c/span\x3e\r\n                    \x3c/p\x3e\r\n                    \x3cp class\x3d"trailer-0 padding-leader-quarter font-size--1"\x3e${i18n.viewsWidget.createdBy} \x3cbutton title\x3d"${i18n.viewsWidget.viewUserprofile}" data-action\x3d"profilePopup" class\x3d"btn-link js-action-profilePopup"\x3e${group.owner}\x3c/button\x3e\x3c/p\x3e\r\n                    \x3cdiv class\x3d"group-card-content leader-half" data-dojo-attach-point\x3d"badgesWrapper"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"column-6 right tablet-column-12 tablet-left js-btns-container"\x3e\r\n        \x3cbutton data-action\x3d"inviteUsers" class\x3d"btn btn-fill btn-wrap trailer-half if-can-invite if-no-enterprise-group invite-group-members-btn js-action-inviteUsers"\x3e${i18n.GroupWidget.inviteUsers}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-fill btn-clear trailer-half js-add-items-btn" data-dojo-attach-point\x3d"addItemsBtn"\x3e${i18n.GroupWidget.addContentToGroup}\x3c/button\x3e\r\n        \x3cspan class\x3d"if-online if-signed-in"\x3e\r\n            \x3cbutton data-action\x3d"joinGroup" class\x3d"btn btn-fill btn-clear trailer-half if-can-join if-no-enterprise-group js-action-joinGroup"\x3e${i18n.GroupWidget.joinThisGroup}\x3c/button\x3e\r\n        \x3c/span\x3e\r\n        \x3cdiv\r\n          class\x3d"dropdown js-dropdown trailer-half if-can-create-items if-signed-in"\r\n        \x3e\r\n          \x3cbutton\r\n            class\x3d"btn btn-fill btn-clear btn-wrap js-dropdown-toggle js-open-btn"\r\n            tabindex\x3d"0"\r\n          \x3e\r\n            ${i18n.items.createApp}${!icons.inline-end.chevron-down.16}\r\n          \x3c/button\x3e\r\n          \x3cdiv\r\n            data-action\x3d"createApp"\r\n            class\x3d"dropdown-menu dropdown-menu-add-create__container dropdown-menu-add-create__overview can-createApp "\r\n            role\x3d"menu"\r\n          \x3e\r\n            \x3cnav class\x3d"dropdown-menu-add-create dropdown-menu-add-create__column"\x3e\r\n              \x3ca\r\n                href\x3d"${instantAppsLink}"\r\n                class\x3d"dropdown-link-add-create trailer-half"\r\n                role\x3d"menuitem"\r\n                target\x3d"_blank"\r\n              \x3e\r\n                \x3cspan class\x3d"dropdown-link-add-create__thumbnail"\x3e${!productGlyphs.instant}\x3c/span\x3e\r\n                \x3cdiv class\x3d"dropdown-link-add-create__content margin-left-half"\x3e\r\n                  \x3cspan class\x3d"dropdown-link-add-create__title font-size-0"\x3e\r\n                    ${i18n.items.instantApps}\r\n                    \x3cspan class\x3d"dropdown-link-add-create__title--hover margin-left-quarter"\x3e\r\n                      \x3ccalcite-icon class\x3d"dropdown-link-add-create__title--hover margin-left-quarter margin-auto-vertical" icon\x3d"launch" scale\x3d"s" aria-hidden\x3d"true"\x3e\x3c/calcite-icon\x3e\r\n                    \x3c/span\x3e\r\n                  \x3c/span\x3e\r\n                  \x3cspan class\x3d"dropdown-link-add-create__description font-size--3"\x3e\r\n                    ${i18n.items.instantAppsDescription}\r\n                  \x3c/span\x3e\r\n                \x3c/div\x3e\r\n              \x3c/a\x3e\r\n              \x3cbutton\r\n                class\x3d"dropdown-link-add-create trailer-half js-action-createWebApp"\r\n                data-action\x3d"createWebApp"\r\n                role\x3d"menuitem"\r\n              \x3e\r\n                \x3cspan class\x3d"dropdown-link-add-create__thumbnail"\x3e${!productGlyphs.online}\x3c/span\x3e\r\n                \x3cdiv class\x3d"dropdown-link-add-create__content margin-left-half"\x3e\r\n                  \x3cspan class\x3d"dropdown-link-add-create__title font-size-0"\x3e\r\n                    ${i18n.items.configurableApp}\x3ccalcite-icon class\x3d"dropdown-link-add-create__title--hover margin-left-quarter margin-auto-vertical" icon\x3d"arrowRight" scale\x3d"m" aria-hidden\x3d"true" flip-rtl\x3e\x3c/calcite-icon\x3e\r\n                  \x3c/span\x3e\r\n                  \x3cspan class\x3d"dropdown-link-add-create__description font-size--3"\x3e\r\n                    ${i18n.items.configurableAppDescription}\r\n                  \x3c/span\x3e\r\n                \x3c/div\x3e\r\n              \x3c/button\x3e\r\n            \x3c/nav\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton data-action\x3d"membershipRequests" class\x3d"btn-link btn-link-darker-gray btn-fill btn-link-center if-can-manage-membership-requests if-no-enterprise-group js-action-membershipRequests"\x3e${!icons.inline.envelope.16}${i18n.membershipRequestsDlg.membershipRequests}\x3cspan class\x3d"notification-dot notification-dot-${group.numApplications} margin-left-half js-numApplications"\x3e${group.numApplications}\x3c/span\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"column-17 post-1 rtl-post-0 leader-2"\x3e\r\n        \x3cdiv class\x3d"js-description-section"\x3e\r\n            \x3c!-- Container for Description InlineEdit --\x3e\r\n            \x3ch4 class\x3d"trailer-half"\x3e\r\n                ${i18n.itemProperties.description}\r\n            \x3c/h4\x3e\r\n            \x3cdiv class\x3d"js-view if-description description-rich-text break-word"\x3e\x3c/div\x3e\r\n            \x3cp class\x3d"if-no-description text-darker-gray"\x3e\r\n                \x3cspan class\x3d"if-viewer"\x3e${i18n.GroupWidget.descriptionUnavailable}\x3c/span\x3e\r\n                \x3cbutton class\x3d"js-inline-edit btn-link if-can-update" data-edit-id\x3d"description"\x3e${i18n.GroupWidget.noDescription}\x3c/button\x3e\r\n            \x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3ch4 class\x3d"leader-1 padding-leader-half clearfix"\x3e\r\n          \x3cdiv class\x3d"flex flex-align-center group-overview__content-heading"\x3e\r\n            \x3cspan class\x3d"js-items-heading"\x3e\x3c/span\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n            \x3ca href\x3d"#content" class\x3d"right font-size--2 link-darker-gray phone-left phone-leader-half phone-trailer-1 hide"\x3e${!icons.inline.collection.16}${i18n.GroupWidget.viewAllContent}\x3c/a\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"showRecentBtn" class\x3d"group-overview__content-btn btn-link btn-link-darker-gray margin-right-1 flex flex-align-center hide"\x3e\x3ccalcite-icon icon\x3d"undo" scale\x3d"s" class\x3d"margin-right-half"\x3e\x3c/calcite-icon\x3e ${i18n.GroupWidget.revertToRecent}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"changeFeaturedBtn" class\x3d"group-overview__content-btn btn-link btn-link-darker-gray margin-right-1 flex flex-align-center hide js-select-content-btn"\x3e\x3ccalcite-icon icon\x3d"gear" scale\x3d"s" class\x3d"margin-right-half"\x3e\x3c/calcite-icon\x3e ${i18n.GroupWidget.changeFeaturedContent}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"editFeaturedBtn" class\x3d"group-overview__content-btn btn-link btn-link-darker-gray flex flex-align-center font-size--3 hide"\x3e\x3ccalcite-icon icon\x3d"pencil" class\x3d"margin-right-quarter" scale\x3d"s"\x3e\x3c/calcite-icon\x3e ${i18n.common.edit}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"selectContentBtn" class\x3d"group-overview__content-btn btn btn-clear margin-left-half hide"\x3e${i18n.GroupWidget.curateFeatureContent}\x3c/button\x3e\r\n            \x3cdiv class\x3d"featured-actions-container padding-left-1 flex hide" data-dojo-attach-point\x3d"featuredContentActions"\x3e\r\n              \x3cbutton class\x3d"btn btn-primary margin-right-half" data-dojo-attach-point\x3d"saveFeaturedContentBtn"\x3e${i18n.common.save}\x3c/button\x3e\r\n              \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelFeaturedContentBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/h4\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"reorderTooltip" class\x3d"text-left"\x3e\r\n          \x3c!-- \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"reorderCloseIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e --\x3e\r\n          \x3cdiv class\x3d"flex reorder-content-tooltip__title"\x3e\r\n            \x3cdiv class\x3d"popover-title flex-1"\x3e${i18n.GroupWidget.reorderTooltip.title}\x3c/div\x3e\r\n            \x3cbutton class\x3d"btn-link btn-link-darker-gray tooltip" data-dojo-attach-point\x3d"closeReorderTooltipBtn" aria-label\x3d"${i18n.common.close}" \x3e\x3ccalcite-icon scale\x3d"m" icon\x3d"x"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"popover-text leader-half"\x3e\r\n            ${i18n.GroupWidget.reorderTooltip.description}\r\n            \x3clabel class\x3d"leader-1 trailer-0 flex flex-align-center"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"dontShowCheckbox" /\x3e ${i18n.GroupWidget.reorderTooltip.dontShow}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-no-content hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-overview-content block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up" data-dojo-attach-point\x3d"itemsContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-center hide" data-dojo-attach-point\x3d"noFeaturedContent"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n          \x3ch3 data-dojo-attach-point\x3d"noItemsYetLabel"\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n          \x3cp class\x3d"text-center hide" data-dojo-attach-point\x3d"noFeaturedButton"\x3e\r\n            \x3cbutton class\x3d"btn btn-primary btn-small"\x3e${i18n.GroupWidget.selectContent}\x3c/button\x3e\r\n          \x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cp class\x3d"text-center js-view-content-btn"\x3e\x3ca href\x3d"#content" class\x3d"btn"\x3e${i18n.GroupWidget.viewAllContent}\x3c/a\x3e\x3c/p\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"screenReaderRegion" class\x3d"screen-readers-only" aria-role\x3d"alert" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"column-6 right tablet-column-12 tablet-left"\x3e\r\n        \x3csection class\x3d"font-size--1 padding-trailer-half column-6 tablet-column-6 tablet-leader-1"\x3e\r\n\r\n            \x3c!-- Group Details --\x3e\r\n            \x3ch5 class\x3d"leader-1 padding-leader-half trailer-half"\x3e${i18n.itemLinks.details}\x3c/h5\x3e\r\n            \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.itemProperties.created} ${group.createdDate}\x3c/p\x3e\r\n            \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.groupsPage.viewableByChipText} \x3cstrong class\x3d"js-attribute-sharing"\x3e${group.formattedSharing}\x3c/strong\x3e\x3c/p\x3e\r\n            \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.GroupWidget.contributorsLabel} \x3cstrong class\x3d"js-attribute-sharing"\x3e${group.formattedContributors}\x3c/strong\x3e\x3c/p\x3e\r\n            \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.GroupWidget.visibilityLabel} \x3cstrong class\x3d"js-attribute-sharing"\x3e${group.formattedVisibility}\x3c/strong\x3e\x3c/p\x3e\r\n\r\n            \x3cp class\x3d"padding-leader-quarter trailer-0 font-size--1"\x3e\r\n                \x3cspan class\x3d"inline-block"\x3e\r\n                    \x3ca href\x3d"#members" class\x3d"link-darker-gray font-size--1 margin-right-1 tooltip tooltip--data if-can-list-members js-group-numMembers-wrap" data-tooltip\x3d"${i18n.GroupWidget.membersLabel}"\x3e\r\n                        \x3cspan aria-label\x3d"${i18n.GroupWidget.membersLabel}"\x3e${!icons.inline.user.16}\x3c/span\x3e\x3cspan class\x3d"js-group-numMembers"\x3e${group.numMembers}\x3c/span\x3e\r\n                    \x3c/a\x3e\r\n                \x3c/span\x3e\r\n                \x3ca href\x3d"#content" class\x3d"link-darker-gray font-size--1 margin-right-1 tooltip tooltip--data" data-tooltip\x3d"${i18n.GroupWidget.contentLabel}"\x3e\r\n                    \x3cspan aria-label\x3d"${i18n.GroupWidget.contentLabel}"\x3e${!icons.inline.collection.16}\x3c/span\x3e\x3cspan class\x3d"js-num-items"\x3e${group.numItems}\x3c/span\x3e\r\n                \x3c/a\x3e\r\n            \x3c/p\x3e\r\n\r\n            \x3cdiv  class\x3d"trailer-0 leader-half inline-block"\x3e\r\n                \x3cnav class\x3d"if-can-share-social"\x3e\r\n                    \x3ca data-action\x3d"shareSocial" target\x3d"_blank" href\x3d"${group.facebookUrl}" class\x3d"js-action-shareSocial icon-social-facebook" aria-label\x3d"Facebook"\x3e\x3c/a\x3e\r\n                    \x3ca data-action\x3d"shareSocial" target\x3d"_blank" href\x3d"${group.twitterUrl}" class\x3d"js-action-shareSocial margin-left-quarter icon-social-twitter" aria-label\x3d"Twitter"\x3e\x3c/a\x3e\r\n                \x3c/nav\x3e\r\n                \x3cdiv class\x3d"dropdown js-dropdown trailer-half shorten-url js-copy-short-link-dropdown"\x3e\r\n                    \x3cbutton class\x3d"js-dropdown-toggle margin-left-quarter icon-social-share icon-social-button" aria-label\x3d"${i18n.GroupWidget.linkToGroup}"\x3e\x3c/button\x3e\r\n                    \x3cdiv class\x3d"dropdown-menu dropdown-menu-full dropdown-right"\x3e\r\n                        \x3cdiv class\x3d"panel panel-white panel-no-border js-copy-container"\x3e\r\n                            \x3ch4 class\x3d"font-size--2 trailer-quarter avenir-medium"\x3e${i18n.GroupWidget.linkToGroup}\x3c/h4\x3e\r\n                            \x3cdiv class\x3d"js-copy-short-link"\x3e\x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3cbutton data-action\x3d"embed" class\x3d"js-action-embed margin-left-quarter icon-social-embed icon-social-button" aria-label\x3d"${i18n.GroupWidget.embed}"\x3e\x3c/button\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Change Owner --\x3e\r\n            \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3ch5 class\x3d"leader-1  padding-leader-half trailer-half"\x3e\r\n                    ${i18n.itemProperties.owner}\r\n                    \x3cspan class\x3d"right"\x3e\x3cbutton class\x3d"btn-link btn-link-darker-gray font-size--3 if-can-change-owner js-action-reassignGroup" data-action\x3d"reassignGroup"\x3e${!icons.inline.user.16}${i18n.itemProperties.reassign}\x3c/button\x3e\x3c/span\x3e\r\n                \x3c/h5\x3e\r\n                \x3cp class\x3d"flex-center"\x3e\r\n                    \x3cspan class\x3d"js-owner-thumbnail"\x3e\x3c/span\x3e\r\n                    \x3cspan class\x3d"flex-1"\x3e${group.owner}\x3c/span\x3e\r\n                \x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"leader-1 padding-leader-half if-collaboration"\x3e\r\n                \x3ch5 class\x3d"trailer-half"\x3e\r\n                    ${i18n.GroupWidget.collaborationLabel}\r\n                \x3c/h5\x3e\r\n                ${!group.isPartOfCollaboration}\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"js-inline-edit-original leader-1 padding-leader-half if-enterprise-group if-group-member"\x3e\r\n                \x3ch5 class\x3d"trailer-half"\x3e\r\n                    ${i18n.GroupWidget.membership}\r\n                    \x3cbutton data-action\x3d"leaveGroup" class\x3d"js-inline-edit btn-link btn-link-darker-gray font-size--3 right if-group-member if-no-enterprise-group js-action-leaveGroup"\x3e${!icons.inline.sign-out.16}${i18n.GroupWidget.leaveGroup}\x3c/button\x3e\r\n                \x3c/h5\x3e\r\n                \x3cp class\x3d"if-can-list-members icon-ui-green icon-ui-check-mark js-group-formattedMembershipLabel"\x3e${!group.formattedMembershipLabel}\x3c/p\x3e \x3c!-- TODO - need to determine if user is actually a member still? --\x3e\r\n                \x3cp class\x3d"if-enterprise-group"\x3e${i18n.GroupWidget.portalEnterpriseGroupLabel} ${group.providerGroupName}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"js-tags-section"\x3e\r\n                \x3c!-- Container for Tags InlineEdit --\x3e\r\n            \x3c/div\x3e\r\n        \x3c/section\x3e\r\n    \x3c/aside\x3e\r\n\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/CopyToClipboard.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"input-group js-copy-group"\x3e\r\n    \x3cinput data-dojo-attach-point\x3d"copyInput" class\x3d"input-group-input copy-to-clipboard-input" readonly type\x3d"text" value\x3d"${text}" id\x3d"copy-to-clipboard-${id}"\x3e\r\n    \x3cspan class\x3d"js-copy-tooltip input-group-button tooltip ${tooltipModifier}" aria-label\x3d"${i18n.tocPanel.copy}"\x3e\r\n      \x3cbutton aria-label\x3d"${i18n.itemProperties.copyToClipboard}"\r\n              class\x3d"js-copy-btn btn btn-clear"\r\n              data-dojo-attach-event\x3d"click: copy, mouseleave: reset"\x3e\r\n              \x3ccalcite-icon scale\x3d"s" icon\x3d"${icon}" \x3e\x3c/calcite-icon\x3e\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cp role\x3d"alert" aria-live\x3d"polite" class\x3d"js-copy-alert screen-readers-only"\x3e\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryListViewCard.html":'\x3cdiv class\x3d"card ${selectCardClass} ${selectedClass} ${removedClass} card-wide trailer-1 js-category-card category-card" data-item-id\x3d"${item.id}"\x3e\r\n  \x3cspan class\x3d"category-card-image flex-0 panel panel-no-border tablet-hide"\x3e\r\n    \x3cimg class\x3d"card-image--static card-image--contained js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"${item.title}"\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"flex-1 padding-leader-half padding-trailer-half padding-left-1 padding-right-1"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3ch4 class\x3d"trailer-0 font-size-0"\x3e${item.title}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-quarter flex"\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"text-ellipsis flex-1" data-owner\x3d"${item.owner}"\x3e${item.owner}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-half"\x3e${item.snippet}\x26nbsp;\x3c/p\x3e\r\n    \x3cdiv class\x3d"font-size--1 js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryView.html":'\x3cdiv class\x3d"full-height"\x3e\r\n  \x3cdiv class\x3d"grid-container full-height"\x3e\r\n    \x3cdiv class\x3d"column-7 tablet-column-6 full-height padding-leader-1 padding-trailer-1"\x3e\r\n      \x3cdiv\r\n        class\x3d"panel panel-white padding-left-half padding-right-half padding-top-half padding-bottom-half category-tree-full-height"\r\n      \x3e\r\n        \x3cul\r\n          class\x3d"category-editor-group category-editor-group--fixed-height js-category-group js-category-root"\r\n          role\x3d"tree"\r\n        \x3e\x3c/ul\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-17 tablet-column-6 full-height phone-hide"\x3e\r\n      \x3cdiv class\x3d"js-item-wrapper margin-left-1 category-list-items full-height"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/Category.html":'\x3cli class\x3d"category-editor-item category-view-item" role\x3d"treeitem"\x3e\r\n  \x3clabel class\x3d"category-view-checkbox flex"\x3e\r\n    \x3cspan class\x3d"category-view-checkbox-input-wrap flex-0"\x3e\r\n      \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-category-select-checkbox" value\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"checkbox-custom"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan class\x3d"category-editor-name js-name category-editor-name--draggable" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"category-view-path"\x3e${path}\x3c/span\x3e\x3cspan class\x3d"category-view-name"\x3e${title}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  ${children}\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryGroup.html":'\x3cul class\x3d"category-editor-group category-view-group js-category-group js-category-root" role\x3d"tree"\x3e\r\n  ${categories}\r\n\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryView/templates/_undo.html":'\x3cnav class\x3d"leader-quarter right margin-right-1"\x3e\r\n  \x3cbutton class\x3d"js-undo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.undo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M20 9v6a4.004 4.004 0 0 1-4 4H2.5v-2H16a2.002 2.002 0 0 0 2-2V9a2.002 2.002 0 0 0-2-2H3.914l3.182 3.181-1.414 1.414L.086 6 5.682.405l1.414 1.414L3.914 5H16a4.004 4.004 0 0 1 4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cbutton class\x3d"js-redo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.redo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M0 9v6a4.004 4.004 0 0 0 4 4h13.5v-2H4a2.002 2.002 0 0 1-2-2V9a2.002 2.002 0 0 1 2-2h12.086l-3.182 3.181 1.414 1.414L19.914 6 14.318.405l-1.414 1.414L16.086 5H4a4.004 4.004 0 0 0-4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/nav\x3e',
"url:arcgisonline/pages/content/widgets/templates/_empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noItemsYet}\x3c/h3\x3e\r\n  \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${message}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterItemType/templates/FilterItemType.html":'\x3cul class\x3d"filter-tree" role\x3d"tree" aria-label\x3d"${i18n.filters.filterByItemType}"\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps" data-label\x3d"Maps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps"\x3eMaps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-webmaps" data-label\x3d"Web maps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-webmaps"\x3eWeb maps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-mapfiles" data-label\x3d"Map files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-mapfiles"\x3eMap files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers" data-label\x3d"Layers"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers"\x3eLayers\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-features" data-label\x3d"Feature layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-features"\x3eFeature layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiles" data-label\x3d"Tile layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiles"\x3eTile layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-mapimage" data-label\x3d"Map image layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-mapimage"\x3eMap image layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-imagery" data-label\x3d"Imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-imagery"\x3eImagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-scenelayers" data-label\x3d"Scene layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-scenelayers"\x3eScene layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item hide" data-value\x3d"layers-weblayers-videolayers" data-label\x3d"Video layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-videolayers"\x3eVideo layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiledimagelayers" data-label\x3d"Tiled imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiledimagelayers"\x3eTiled imagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-elevationlayers" data-label\x3d"Elevation layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-elevationlayers"\x3eElevation layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tables" data-label\x3d"Tables" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tables"\x3eTables\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-layerfiles" data-label\x3d"Layer files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-layerfiles"\x3eLayer files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"scenes" data-label\x3d"Scenes" role\x3d"treeitem"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"scenes"\x3eScenes\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications" data-label\x3d"Apps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications"\x3eApps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-dashboards" data-label\x3d"Dashboards" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-dashboards"\x3eDashboards\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-experience" data-label\x3d"Experience Builder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-experience"\x3eExperience Builder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-instant-apps" data-label\x3d"Instant Apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-instant-apps"\x3eInstant Apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-sites" data-label\x3d"Sites" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-sites"\x3eSites\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-type-storymap js-filter-public" data-value\x3d"applications-storymap" data-label\x3d"Storymaps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-storymap"\x3eStorymaps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-wab" data-label\x3d"Web AppBuilder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-wab"\x3eWeb AppBuilder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-apps" data-label\x3d"GeoBIM applications" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-apps"\x3eGeoBIM applications\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-projects" data-label\x3d"GeoBIM projects" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-projects"\x3eGeoBIM projects\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-desktop" data-label\x3d"Desktop apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-desktop"\x3eDesktop apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-mobile" data-label\x3d"Mobile apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-mobile"\x3eMobile apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-web" data-label\x3d"Web apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-web"\x3eWeb apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cdiv class\x3d"margin-left-1 margin-right-0 trailer-quarter"\x3e\r\n        \x3chr class\x3d"leader-quarter trailer-0"\x3e\r\n        \x3clabel class\x3d"toggle-switch clearfix leader-half"\x3e\r\n          \x3cspan class\x3d"toggle-switch-label left font-size--2"\x3e${i18n.filters.onlyRegistered}\x3c/span\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"toggle-switch-input js-registered-only"\x3e\r\n          \x3cspan class\x3d"toggle-switch-track right"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools" data-label\x3d"Tools"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools"\x3eTools\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-locators" data-label\x3d"Locators" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-locators"\x3eLocators\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geodatabase" data-label\x3d"Geodatabase access" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geodatabase"\x3eGeodatabase access\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geometric" data-label\x3d"Geometric operations" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geometric"\x3eGeometric operations\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geoprocessing" data-label\x3d"Geoprocessing tasks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geoprocessing"\x3eGeoprocessing tasks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-network" data-label\x3d"Network analysis" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-network"\x3eNetwork analysis\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-analytics" data-label\x3d"Analytics" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-analytics"\x3eAnalytics\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files" data-label\x3d"Files"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files"\x3eFiles\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-document" data-label\x3d"Documents" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-document"\x3eDocuments\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-image" data-label\x3d"Images" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-image"\x3eImages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-pdf" data-label\x3d"PDFs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-pdf"\x3ePDFs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-csv" data-label\x3d"CSVs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-csv"\x3eCSVs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-report" data-label\x3d"Administrative reports" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-report"\x3eAdministrative reports\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-raster" data-label\x3d"Raster function templates" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-raster"\x3eRaster function templates\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights" data-label\x3d"Insights"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights"\x3eInsights\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-workbooks" data-label\x3d"Workbooks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-workbooks"\x3eWorkbooks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-models" data-label\x3d"Models" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-models"\x3eModels\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-themes" data-label\x3d"Themes" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-themes"\x3eThemes\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-notebookServer-enabled" data-value\x3d"notebooks" data-label\x3d"Notebooks"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"notebooks"\x3eNotebooks\x3c/button\x3e\r\n  \x3c/li\x3e\r\n  \x3cdiv class\x3d"if-bulk-publishing-enabled"\x3e\r\n    \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-on-premise" data-value\x3d"data-stores" data-label\x3d"Data stores"\x3e\r\n      \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"data-stores"\x3eData stores\x3c/button\x3e\r\n    \x3c/li\x3e\r\n  \x3c/div\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-knowledge-graph-item hide" data-value\x3d"knowledgeGraphs" data-label\x3d"Knowledge Graphs"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"knowledgeGraphs"\x3eKnowledge graphs\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterBBox/FilterBBox.html":'\x3cdiv  style\x3d"width: 100%" class\x3d"js-filter-bbox" id\x3d"filterBBox"\x3e\x3c/div\x3e  \r\n',"url:arcgisonline/pages/dijit/FilterCollaboration/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} ${addClass} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}" data-parent\x3d"${childOf}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollaboration/templates/FilterEmpty.html":'\x3cdiv class\x3d"filter-tree-link"\x3e${noOptionsMessage}\x3c/div\x3e',"url:arcgisonline/pages/dijit/FilterTree/templates/FilterTree.html":'\x3cul class\x3d"filter-tree"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterTree/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item ${selected} ${single} js-filter-tree-item" data-value\x3d"${value}"\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"${value}"\x3e${label}\x3c/a\x3e\r\n  \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\r\n  ${list}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CardWide/CardWide.html":'\x3cdiv\r\n  class\x3d"js-card block card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} card-wide trailer-1"\r\n  data-id\x3d"${item.id}"\r\n\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap"\x3e\r\n    \x3cinput\r\n      type\x3d"checkbox"\r\n      class\x3d"checkbox-custom-input js-card-select-check-mark"\r\n      value\x3d"${item.id}"\r\n      aria-label\x3d"${selectItem}"\r\n      data-id\x3d"${item.id}"\r\n      ${checked}\r\n    /\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\r\n        \x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z" /\x3e\r\n      \x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\r\n        \x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z" /\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  \x3ca\r\n    class\x3d"card-wide-image-wrap card-wide-image-wrap--static js-default-open"\r\n    href\x3d"${item.defaultOpenUrl:empty}"\r\n    aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\r\n  \x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 text-center thumbnail-icon"\r\n        \x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\r\n      \x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image--static js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"" /\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding card-content--static"\x3e\r\n    \x3cdiv class\x3d"padding-left-half padding-right-half padding-leader-half card-last"\x3e\r\n      \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\r\n        \x3ca class\x3d"card-title-link js-card-title-link" href\x3d"item.html?id\x3d${item.id}"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/h4\x3e\r\n      \x3cdiv class\x3d"js-layers-tables font-size--2"\x3e\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half flex ${hasSublayers:show}"\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half leader-quarter"\x3e${item.snippet}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-half leader-quarter text-darker-gray"\x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1 card-created"\r\n          title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\r\n          \x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1"\r\n          title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\r\n          \x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan class\x3d"inline-block margin-right-1"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"js-sublayers"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 card-badges js-card-badges trailer-half"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center clearfix"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TableRow/templates/TableRow.html":'\x3cdiv class\x3d"table-select-row ${activeRow} ${removedRow}" role\x3d"row"\x3e\r\n  \x3clabel class\x3d"table-select-cell table-select-checkbox ${selectClass}" role\x3d"cell"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"js-table-select-checkbox" aria-label\x3d"${i18n.GroupWidget.selectItem}" ${checked}\x3e\r\n  \x3c/label\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-extra-wide" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-title flex flex-1"\x3e\r\n        \x3ca href\x3d"./item.html?id\x3d${item.id}" class\x3d"flex-1 overflow-hidden"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"padding-left-half padding-right-half table-select-item-type full-width"\x3e\r\n        \x3cspan class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"js-layers-tables"\x3e\x3c/span\x3e\r\n          \x3cspan class\x3d"js-layers-tables-toggle display-block text-ellipsis" title\x3d"${item.displayName:formatDisplayName}"\x3e\r\n            \x3cimg src\x3d"${item.svgIconUrl16}" width\x3d"16" height\x3d"16" alt\x3d"${item.displayName}" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/span\x3e\r\n        \x3cspan class\x3d"table-select-item-type--badges"\x3e${!item.badges}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-favorites-container inline-block"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-open-dropdown-container ${dropdownClass}"\x3e\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${item.modified:fullDate}\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e${!item.ownerText}\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/tableHeader.html":'\x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-checkbox ${selectClass}"  role\x3d"columnheader"\x3e\r\n    \x3clabel class\x3d"table-select-cell-sort table-select-check-all"\x3e\r\n      \x3cinput type\x3d"checkbox" aria-label\x3d"${i18n.filters.selectAll}" class\x3d"js-select-all"\x3e\r\n    \x3c/label\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.filters.titleHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"modified" data-sort-order\x3d"desc"\x3e${i18n.filters.modifiedHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"owner" data-sort-order\x3d"asc"\x3e${i18n.filters.owner}\x3c/button\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItemsYetExplanation}\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItems}\x3c/div\x3e',"url:arcgisonline/pages/dijit/View/templates/View.html":'\x3cdiv\x3e\r\n  \x3c!-- Table View --\x3e\r\n  \x3cdiv class\x3d"hide content-table-view js-table-wrap table-select js-view" role\x3d"table"\x3e\r\n    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide content-grid-view block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up js-grid-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Mobile View --\x3e\r\n  \x3cdiv class\x3d"hide content-mobile-view block-group block-group-1-up js-mobile-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- List View --\x3e\r\n  \x3cdiv class\x3d"hide content-list_view block-group block-group-1-up js-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Empty View (no results) --\x3e\r\n  \x3cdiv class\x3d"hide js-empty-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- None View (tabula rasa) --\x3e\r\n  \x3cdiv class\x3d"hide js-none-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Loader --\x3e\r\n  \x3cdiv class\x3d"hide js-loader-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up gallery-card-wrap js-gallery-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery List View --\x3e\r\n  \x3cdiv class\x3d"hide block-group block-group-1-up  gallery-list-wrap js-gallery-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide js-search-feedback"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterTags/templates/FilterTags.html":'\x3cdiv\x3e\r\n  \x3cinput type\x3d"search" class\x3d"js-tag-search filters--accordion--input" placeholder\x3d"${i18n.filters.filterTags}" aria-label\x3d"${i18n.filters.filterTags}" aria-controls\x3d"tagsList"\x3e\r\n  \x3cul class\x3d"js-tags-list filter-tree filter max-height max-height--short" role\x3d"listbox" aria-multiselectable\x3d"true" aria-label\x3d"${i18n.filters.filterByTag}" id\x3d"tagsList" tabindex\x3d"0"\x3e\x3c/ul\x3e\r\n  \x3cdiv class\x3d"hide js-no-tags font-size--2 padding-left-1 padding-right-1 padding-trailer-1"\x3e${!i18n.filters.noTagsFound}\x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterTags/templates/Option.html":'\x3cli class\x3d"filter-tree-item js-filter-tree-item ${isActive}" data-value\x3d"${value}" role\x3d"option" ${selected}\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link filter-tree-link--multiple js-filter-tree-link ${isActive}" data-value\x3d"${value}"\x3e${icons.inline.check.16}${value}\x3cspan class\x3d"filter-tree-count margin-left-quarter inline-block no-pointer hide"\x3e${countLabel}\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/_content.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3csection class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3c!-- Left Side --\x3e\r\n      \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n        \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n        \x3c!-- Filters --\x3e\r\n        \x3cdiv class\x3d"js-filters"\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n\r\n            \x3c!-- Categories --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-category-container hide"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.groupCategories.categories}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content max-height filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Item Type --\x3e\r\n            \x3csection class\x3d"accordion-section is-active"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.itemType}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\r\n                  \x3cdiv class\x3d"js-filter-type"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- 7 Geography - Set Extent --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.viewer.geocode.dialogTitle}\x3c/h4\x3e\r\n\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content extent-search filter"\x3e\r\n                  \x3cdiv class\x3d"js-filter-bbox"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Modified Date --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateModified}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Tags --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.tags}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content"\x3e\x3cdiv class\x3d"js-filter-tags"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Sharing Status --\x3e\r\n            \x3csection class\x3d"accordion-section js-filter-sharing-wrapper hide"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.sharedHeader}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-sharing"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Collaboration Content --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.collaboration}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-collaboration"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n\r\n        \x3c!-- Hide if items are selected --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-quarter hide-if-selected flex break-word"\x3e\r\n\r\n          \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-align-center filter-status-wrap"\x3e\r\n            \x3c!-- Current/Total counts --\x3e\r\n            \x3cspan class\x3d"padding-right-1 padding-left-0 padding-leader-quarter padding-trailer-quarter font-size--2 flex-0 break-word border-box text-ellipsis" data-dojo-attach-point\x3d"_rangeText"\x3e\x3c/span\x3e\r\n\r\n            \x3c!-- Filter Status --\x3e\r\n            \x3cdiv class\x3d"inline-block js-filter-status"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3c!-- Show if items are selected --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-quarter padding-trailer-quarter trailer-quarter font-size--1 hide show-if-selected"\x3e\r\n          \x3cspan class\x3d"label label-green margin-right-half" data-dojo-attach-point\x3d"selectedCount"\x3e\x3c/span\x3e\x3cbutton class\x3d"js-deselect btn-link btn-link-black font-size--2"\x3e${i18n.GroupWidget.deselect}\x3c/button\x3e\r\n          \x3cnav class\x3d"right"\x3e\r\n            \x3c!-- hide share button for now, until logic is written for bulk sharing --\x3e\r\n            \x3cbutton class\x3d"js-categorize-items btn-link btn-link-black margin-left-0 margin-right-1 font-size--2" data-dojo-attach-point\x3d"categorizeAction"\x3e\r\n              ${!icons.inline.select-category.16}${i18n.items.categorize}\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"btn-link btn-link-black margin-left-0 margin-right-1 font-size--2 js-share-items hide"\x3e${!icons.inline.share.16}${i18n.GroupWidget.share}\x3c/button\x3e\r\n            \x3cspan class\x3d"inline-block"\x3e\x3cbutton class\x3d"btn-link btn-link-black font-size--2 if-can-update js-remove-items"\x3e${!icons.inline.trash.16}${i18n.GroupWidget.deleteItem}\x3c/button\x3e\x3c/span\x3e\r\n          \x3c/nav\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content js-view"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/views/items/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItems}\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/_controlBarActions.html":'\x3cdiv class\x3d"flex full-width"\x3e\r\n    \x3cbutton id\x3d"addItemBtn" class\x3d"btn btn-clear btn-small flex-1 js-action-add-item tablet-hide" data-action\x3d"addItem"\x3e\r\n      ${icons.inline.plus-square.16} ${i18n.GroupWidget.addContentToGroup}\r\n    \x3c/button\x3e\r\n    \x3cbutton id\x3d"addItemBtnMobile" aria-label\x3d"${i18n.GroupWidget.addContentToGroup}" class\x3d"btn btn-link js-action-add-item margin-right-half tablet-show" data-action\x3d"addItem"\x3e\r\n      ${icons.inline.plus-square.24}\r\n    \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/members/MemberMobile.html":'\x3ca class\x3d"block card card-mobile trailer-half org-member-card" \x3e\r\n    \x3cdiv class\x3d"flex org-member-card__content"\x3e\r\n        \x3cdiv class\x3d"flex-1 ${item.disabled:disabledAllowEventsClass}"\x3e\r\n            \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n                \x3cdiv class\x3d"member-thumb member-thumb--small margin-right-1 ${item.thumbnail:hide}"\x3e\r\n                    \x3cimg src\x3d"${item.thumbnailUrl}" alt\x3d"${item.fullName}"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"member-thumb member-thumb--small margin-right-1 ${item.thumbnail:show}" style\x3d"background:${item.backgroundColor};"\x3e\r\n                    \x3cdiv class\x3d"member-thumb__initials"\x3e\r\n                        ${item.initials}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3ch4 class\x3d"trailer-0 flex org-member-card__mobile-title"\x3e\r\n                        ${item.fullName}\r\n                    \x3c/h4\x3e\r\n                    \x3cdiv class\x3d"font-size--3"\x3e${item.username}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/actions.html":'\x3cdiv class\x3d"flex full-width"\x3e\r\n  \x3cspan class\x3d"flex-1 if-no-enterprise-group"\x3e\r\n    \x3cbutton data-action\x3d"inviteUsers" class\x3d"btn btn-small btn-wrap btn-fill tablet-hide if-can-invite js-action-inviteUsers"\x3e\r\n      ${i18n.GroupWidget.inviteUsers}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-action\x3d"inviteUsers"\r\n      class\x3d"btn-link margin-right-1 tablet-show if-can-invite js-action-inviteUsers" aria-label\x3d"${i18n.GroupWidget.inviteUsers}"\x3e${icons.user-plus.24}\x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cbutton data-action\x3d"membershipRequests" class\x3d"btn-link flex-0 margin-left-1 padding-left-quarter font-size--2 if-can-manage-membership-requests if-no-enterprise-group js-action-membershipRequests"\x3e\r\n    ${icons.envelope.24}\r\n    \x3cspan class\x3d"notification-dot notification-dot-${group.numApplications} js-numApplications margin-left-quarter leader-quarter"\x3e\r\n      ${group.numApplications}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/tableHead.html":'\x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-checkbox ${selectClass}" role\x3d"columnheader"\x3e\r\n    \x3clabel class\x3d"table-select-cell-sort table-select-check-all" for\x3d"group-members-table-header"\x3e\r\n      \x3cinput id\x3d"group-members-table-header" data-dojo-attach-point\x3d"selectAll" type\x3d"checkbox" aria-label\x3d"${i18n.filters.selectAll}" class\x3d"js-select-all"\x3e\r\n    \x3c/label\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"name"\x3e${i18n.GroupWidget.name}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium-wide tooltip tooltip--data tooltip--tablet" role\x3d"columnheader" data-tooltip\x3d"${i18n.GroupWidget.groupRole}"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"membertype"\x3e${i18n.GroupWidget.groupRole}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium-wide tooltip tooltip--data tooltip--tablet affiliation-column" role\x3d"columnheader" data-tooltip\x3d"${i18n.GroupWidget.affiliation}"\x3e\x3cbutton class\x3d"table-select-cell-sort" \x3e${i18n.GroupWidget.affiliation}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"joined"\x3e${i18n.GroupWidget.joined}\x3c/button\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/tableRow.html":'\x3cdiv class\x3d"table-select-row ${activeRow}" role\x3d"row"\x3e\r\n  \x3clabel class\x3d"table-select-cell table-select-cell--center table-select-checkbox ${selectClass}" role\x3d"cell" for\x3d"members-table-${item.username}-input"\x3e\r\n    \x3cinput id\x3d"members-table-${item.username}-input" type\x3d"checkbox" aria-label\x3d"${i18n.GroupWidget.selectMember}" class\x3d"js-table-select-checkbox" data-username\x3d"${item.username}" ${checked}\x3e\r\n  \x3c/label\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell--center table-select-cell-wide" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex-center"\x3e\r\n      \x3cspan class\x3d"js-group-member-thumbnail flex-0"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"flex-1"\x3e\r\n        \x3cbutton class\x3d"js-card-item-owner btn-link avenir-demi font-size--1" data-owner\x3d"${item.username}"\x3e\r\n          ${item.fullName}\r\n        \x3c/button\x3e\r\n        \x3cspan class\x3d"font-size--2 display-block line-height-1 trailer-quarter"\x3e\r\n          ${item.username}\r\n        \x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell--center table-select-cell-medium-wide" role\x3d"columnheader" title\x3d"${item.role}" role\x3d"cell"\x3e${item.role}\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell--center table-select-cell-medium-wide affiliation-column" role\x3d"columnheader" title\x3d"${item.affiliation}" role\x3d"cell"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      ${item.affiliation}\r\n      \x3cdiv class\x3d"hide margin-left-half flex flex-align-center affiliation-icon-wrapper tooltip js-collab-contact-icon"\x3e\r\n        \x3csvg width\x3d"15px" height\x3d"17px" viewBox\x3d"0 0 15 17" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\r\n          \x3cg id\x3d"Groups-\x26gt;-Members" stroke\x3d"none" stroke-width\x3d"1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\r\n              \x3cg id\x3d"Group-Member-List---Affiliation-column" transform\x3d"translate(-940.000000, -314.000000)"\x3e\r\n                  \x3cg id\x3d"Group-12" transform\x3d"translate(940.000000, 314.000000)"\x3e\r\n                      \x3cg id\x3d"user-16" fill\x3d"#000000" fill-rule\x3d"nonzero"\x3e\r\n                          \x3cpath d\x3d"M0,11.7894737 L8.42105263,11.7894737 L8.42105263,8.84210526 C8.41919636,7.21508814 7.10070133,5.89659311 5.47368421,5.89473684 L2.94736842,5.89473684 C1.3203513,5.89659311 0.00185626778,7.21508814 0,8.84210526 M2.94736842,6.73684211 L5.47368421,6.73684211 C6.63581185,6.73823415 7.57755532,7.67997762 7.57894737,8.84210526 L7.57894737,10.9473684 L0.842105263,10.9473684 L0.842105263,8.84210526 C0.843497312,7.67997762 1.78524078,6.73823415 2.94736842,6.73684211 Z M6.56842105,2.52631579 C6.56842105,1.22408648 5.51275562,0.168421053 4.21052632,0.168421053 C2.90829701,0.168421053 1.85263158,1.22408648 1.85263158,2.52631579 C1.85263158,3.82854509 2.90829701,4.88421053 4.21052632,4.88421053 C5.51217844,4.88281814 6.56702866,3.82796791 6.56842105,2.52631579 Z M2.63831579,2.52631579 C2.63831579,1.65800789 3.34221842,0.954105263 4.21052632,0.954105263 C5.07883421,0.954105263 5.78273684,1.65800789 5.78273684,2.52631579 C5.78273684,3.39462369 5.07883421,4.09852632 4.21052632,4.09852632 C3.34260321,4.09759805 2.63924405,3.3942389 2.63831579,2.52631579 L2.63831579,2.52631579 Z" id\x3d"Shape"\x3e\x3c/path\x3e\r\n                      \x3c/g\x3e\r\n                      \x3crect id\x3d"Rectangle" fill\x3d"#F3F3F3" x\x3d"5.89473684" y\x3d"7.57894737" width\x3d"8.42105263" height\x3d"8.42105263" rx\x3d"3"\x3e\x3c/rect\x3e\r\n                      \x3cg id\x3d"ribbon-16" transform\x3d"translate(6.736842, 8.421053)" fill\x3d"#000000" fill-rule\x3d"nonzero" stroke\x3d"#000000" stroke-opacity\x3d"0.85" stroke-width\x3d"0.4"\x3e\r\n                          \x3cpath d\x3d"M4.21052632,2.10526316 C4.21052632,0.942558421 3.26796789,0 2.10526316,0 C0.942558421,0 0,0.942558421 0,2.10526316 C0.00260470104,2.76038865 0.315071097,3.37563983 0.842526316,3.76421053 L0.842105263,6.73684211 L2.104,5.86105263 L3.36715789,6.73684211 L3.36715789,3.76547368 C3.89544528,3.37695035 4.20832481,2.76103225 4.21052632,2.10526316 L4.21052632,2.10526316 Z M0.421052632,2.10526316 C0.415422044,1.42278905 0.822223192,0.804386243 1.45115469,0.53934327 C2.08008619,0.274300297 2.80679574,0.415021444 3.29132896,0.895677425 C3.77586217,1.37633341 3.92241717,2.10188894 3.6624356,2.73292951 C3.40245403,3.36397007 2.78733942,3.77572635 2.10484211,3.77557899 C1.18061902,3.77446428 0.429592489,3.02944746 0.421052632,2.10526316 Z M2.94736842,5.99789474 L2.104,5.41389474 L1.26189474,5.99789474 L1.26189474,4.01768421 C1.79843164,4.25577975 2.41059387,4.2560856 2.94736842,4.01852632 L2.94736842,5.99789474 Z" id\x3d"Shape"\x3e\x3c/path\x3e\r\n                      \x3c/g\x3e\r\n                  \x3c/g\x3e\r\n              \x3c/g\x3e\r\n          \x3c/g\x3e\r\n        \x3c/svg\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell--center table-select-cell-medium" role\x3d"columnheader" title\x3d"${item.joined:fullDate}" role\x3d"cell"\x3e${item.joined:fullDate}\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3ch3\x3e${i18n.GroupWidget.emptyMembers}\x3c/h3\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/members/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noMembers}\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/_members.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n    \x3csection class\x3d"grid-container"\x3e\r\n        \x3cdiv class\x3d"column-24 flex"\x3e\r\n            \x3c!-- Left Side --\x3e\r\n            \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n\r\n                \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n\r\n                \x3c!-- Filters --\x3e\r\n                \x3cdiv class\x3d"js-filters"\x3e\r\n                    \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n                        \x3c!-- Group Role --\x3e\r\n                        \x3csection class\x3d"accordion-section is-active js-filter-role-container"\x3e\r\n                            \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.groupRole}\x3c/h4\x3e\r\n                            \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-role"\x3e\x3c/div\x3e\r\n                        \x3c/section\x3e\r\n                        \x3c!-- Affiliation --\x3e\r\n                        \x3csection class\x3d"accordion-section is-active js-filter-affiliation-container affiliation-filter"\x3e\r\n                          \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.affiliation}\x3c/h4\x3e\r\n                          \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-affiliation"\x3e\x3c/div\x3e\r\n                        \x3c/section\x3e\r\n                        \x3c!-- Date Joined --\x3e\r\n                        \x3csection class\x3d"accordion-section"\x3e\r\n                            \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateJoined}\x3c/h4\x3e\r\n                            \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n                        \x3c/section\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Main --\x3e\r\n            \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n\r\n                \x3c!-- Hide if items are selected --\x3e\r\n                \x3cdiv class\x3d"clearfix padding-trailer-quarter hide-if-selected flex break-word" data-dojo-attach-point\x3d"statusBar"\x3e\r\n\r\n                  \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-align-center filter-status-wrap"\x3e\r\n                    \x3c!-- Current/Total counts --\x3e\r\n                    \x3cspan class\x3d"padding-right-1 padding-left-0 padding-leader-quarter padding-trailer-quarter font-size--2 flex-0 break-word border-box text-ellipsis" data-dojo-attach-point\x3d"rangeText"\x3e\x3c/span\x3e\r\n\r\n                    \x3c!-- Filter Status --\x3e\r\n                    \x3cdiv class\x3d"inline-block js-filter-status"\x3e\x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Show if items are selected --\x3e\r\n                \x3cdiv class\x3d"clearfix padding-leader-quarter padding-trailer-quarter trailer-quarter font-size--1 hide show-if-selected"\x3e\r\n                  \x3cspan class\x3d"label label-green margin-right-half" data-dojo-attach-point\x3d"selectedCount"\x3e\x3c/span\x3e\x3cbutton class\x3d"js-deselect btn-link btn-link-black font-size--2"\x3e${i18n.GroupWidget.deselect}\x3c/button\x3e\r\n                  \x3cnav class\x3d"right"\x3e\r\n                    \x3cbutton\r\n                        data-action\x3d"updateUserRole"\r\n                        class\x3d"btn-link btn-link-black margin-right-1 font-size--2 js-action-updateUserRole"\r\n                        data-dojo-attach-point\x3d"updateUserRole"\x3e${!icons.inline.settings.16}${i18n.GroupWidget.updateUserRole}\x3c/button\x3e\r\n                    \x3cbutton\r\n                        data-action\x3d"removeUsers"\r\n                        class\x3d"btn-link btn-link-black margin-right-1 font-size--2 js-action-removeUsers"\r\n                        data-dojo-attach-point\x3d"removeUserText"\x3e${!icons.inline.x.16}${i18n.GroupWidget.removeUserFromGroup}\x3c/button\x3e\r\n                  \x3c/nav\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Content Views --\x3e\r\n                \x3cdiv class\x3d"clearfix padding-trailer-half js-views js-view"\x3e\x3c/div\x3e\r\n\r\n                \x3c!-- Hidden members warning --\x3e\r\n                \x3cdiv class\x3d"js-hidden-members-warning hide"\x3e\r\n                    \x3cdiv class\x3d"panel panel-white text-center font-size--1 leader-quarter"\x3e${!icons.inline.lightbulb.24} ${i18n.GroupWidget.onlyOwnersShown}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Pagination --\x3e\r\n                \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n\r\n            \x3c/main\x3e\r\n        \x3c/div\x3e\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/_create.html":'\x3cdiv\x3e\r\n  \x3cheader class\x3d"subnav" role\x3d"banner"\x3e\r\n    \x3cdiv class\x3d"subnav-wrap grid-container flex phone-flex-column"\x3e\r\n      \x3cdiv class\x3d"subnav-edit flex flex-1 flex-align-center break-word"\x3e\r\n        \x3ch1 class\x3d"subnav-title"\x3e${i18n.GroupWidget.createGroup}\x3c/h1\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/header\x3e\r\n\r\n  \x3cdiv class\x3d"grid-container" id\x3d"main-content-area"\x3e\r\n\r\n    \x3cform data-dojo-attach-point\x3d"form" enctype\x3d"multipart/form-data" method\x3d"post" class\x3d"leader-2 phone-leader-0 column-24 js-create-form"\x3e\r\n      \x3cdiv class\x3d"column-6 post-1 phone-hide"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"uploadThumbnailMessage" class\x3d"text-center panel panel-dashed trailer-half" draggable\x3d"true"\x3e\r\n          \x3cdiv class\x3d"icon--large trailer-half leader-quarter text-dark-gray"\x3e\r\n            ${!icons.upload.32}\r\n          \x3c/div\x3e\r\n          \x3cp class\x3d"trailer-0"\x3e\r\n            \x3cspan class\x3d"display-block font-size--1"\x3e${i18n.GroupWidget.thumbnailDlg.dragDrop}\x3c/span\x3e\r\n            \x3cspan class\x3d"display-block font-size--3"\x3e${i18n.GroupWidget.thumbnailDlg.sizeSpecGroup}\x3c/span\x3e\r\n          \x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"groupImageContainer" class\x3d"image-preview-container trailer-half hide"\x3e\r\n          \x3cp data-dojo-attach-point\x3d"redragText" class\x3d"change-thumbnail-image hide" draggable\x3d"true"\x3e${i18n.GroupWidget.thumbnailDlg.dragDropTip}\x3c/p\x3e\r\n          \x3cimg data-dojo-attach-point\x3d"groupImage"\r\n            alt\x3d"${i18n.GroupWidget.uploadThumbnail}"\r\n            class\x3d"group-preview-image"\r\n          \x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"editThumbnailBtn" data-action\x3d"createGroupThumbnail" class\x3d" js-action-editThumbnail font-size--3 btn btn-clear btn-fill"\x3e\r\n          ${!icons.inline.upload-to.16}${i18n.GroupWidget.uploadThumbnail}\r\n        \x3c/button\x3e\r\n        \x3cp class\x3d"font-size--3"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"column-15 tablet-leader-1 tablet-first-column"\x3e\r\n\r\n        \x3csection\x3e\r\n          \x3cheader class\x3d"panel panel-white border-bottom-clear"\x3e\r\n            \x3ch2 class\x3d"font-size-1 panel-header trailer-0 clearfix"\x3e\r\n              ${i18n.GroupWidget.groupDetails}\r\n            \x3c/h2\x3e\r\n          \x3c/header\x3e\r\n          \x3cdiv class\x3d"panel panel-white border-bottom-clear position-relative"\x3e\r\n            \x3clabel for\x3d"create-group-title"\x3e\r\n              ${i18n.GroupWidget.defaultTextTitle} \x3cspan class\x3d"red-asterisk"\x3e*\x3c/span\x3e\r\n              \x3cinput id\x3d"create-group-title" class\x3d"js-group-title" maxlength\x3d"250" name\x3d"title" type\x3d"text" value\x3d"" data-dojo-attach-point\x3d"groupTitle" required\x3d"true"\x3e\r\n            \x3c/label\x3e\r\n\r\n            \x3clabel for\x3d"create-group-summary" \x3e\r\n              ${i18n.GroupWidget.newSummaryLabel}\r\n              \x3cinput  id\x3d"create-group-summary" name\x3d"snippet" type\x3d"text" value\x3d"" data-dojo-attach-point\x3d"summary"\x3e\r\n            \x3c/label\x3e\r\n\r\n            \x3clabel data-dojo-attach-point\x3d"createGroupTagsLabel"\x3e\r\n              ${i18n.GroupWidget.tagsLabel} \x3cspan class\x3d"red-asterisk"\x3e*\x3c/span\x3e\r\n              \x3cdiv class\x3d"trailer-half" id\x3d"createGroupTags"\x3e\x3c/div\x3e\r\n            \x3c/label\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-radio" data-dojo-attach-point\x3d"accessContainer"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.newStatusLabel}\x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-private-access-input" data-dojo-attach-point\x3d"privateAccessContainer"\x3e\r\n                \x3cinput id\x3d"create-group-private-access-input" type\x3d"radio" name\x3d"privacy" value\x3d"private" data-dojo-attach-point\x3d"privateAccess"\x3e ${i18n.GroupWidget.newPrivateLabel}\r\n              \x3c/label\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"orgAccessContainer"\x3e\r\n                \x3cinput type\x3d"radio" id\x3d"org-access" name\x3d"privacy" value\x3d"org" data-dojo-attach-point\x3d"orgAccess"\x3e \x3clabel for\x3d"org-access" data-dojo-attach-point\x3d"orgAccessLabel"\x3e\x3c/label\x3e\r\n              \x3c/div\x3e\r\n              \x3clabel for\x3d"create-group-public-access-input" data-dojo-attach-point\x3d"publicAccessContainer"\x3e\r\n                \x3cinput id\x3d"create-group-public-access-input" type\x3d"radio" name\x3d"privacy" value\x3d"public" data-dojo-attach-point\x3d"publicAccess" checked\x3e ${i18n.GroupWidget.newPublicLabel}\r\n              \x3c/label\x3e\r\n            \x3c/fieldset\x3e\r\n\r\n            \x3cdiv class\x3d"fieldset-radio hide" data-dojo-attach-point\x3d"publicAccessOnlyContainer"\x3e\r\n              \x3ch3 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.GroupWidget.newStatusLabel}\x3c/h3\x3e\r\n              \x3cp class\x3d"font-size--1 trailer-quarter"\x3e${i18n.GroupWidget.accessPublic} ${i18n.GroupWidget.publicGrpInfo}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"clearfix" data-dojo-attach-point\x3d"inviteOnlyContainer"\x3e\r\n              \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n                \x3clegend class\x3d"font-size-0"\x3e${i18n.GroupWidget.whoCanJoin}\x3c/legend\x3e\r\n                \x3clabel for\x3d"create-group-allow-apply" data-dojo-attach-point\x3d"allowApplyLabel"\x3e\r\n                  \x3cinput id\x3d"create-group-allow-apply" type\x3d"radio" name\x3d"whoCanJoin" data-dojo-attach-point\x3d"allowApply"\x3e \x3cspan data-dojo-attach-point\x3d"applyLabel"\x3e${i18n.GroupWidget.thoseWhoAsk}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n                \x3clabel for\x3d"create-group-invite-only" data-dojo-attach-point\x3d"inviteOnlyLabel"\x3e\r\n                  \x3cinput id\x3d"create-group-invite-only" type\x3d"radio" name\x3d"whoCanJoin" data-dojo-attach-point\x3d"inviteOnly" checked\x3e \x3cspan data-dojo-attach-point\x3d"inviteLabel"\x3e${i18n.GroupWidget.onlyInvited}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"clearfix hide" data-dojo-attach-point\x3d"enterpriseAllowApplyContainer"\x3e\r\n                  \x3clabel for\x3d"create-group-enterprise" data-dojo-attach-point\x3d"enterpriseGroupLabel"\x3e\r\n                    \x3cinput id\x3d"create-group-enterprise" type\x3d"radio" name\x3d"whoCanJoin" data-dojo-attach-point\x3d"enterpriseGroup"\x3e ${i18n.GroupWidget.enterpriseGroups.enterpriseGroupLabel}\r\n                  \x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3clabel for\x3d"create-group-who-can-join" data-dojo-attach-point\x3d"anyoneCanJoinLabel"\x3e\r\n                  \x3cinput id\x3d"create-group-who-can-join" type\x3d"radio" name\x3d"whoCanJoin" data-dojo-attach-point\x3d"anyoneCanJoin"\x3e ${i18n.GroupWidget.anyoneCanJoin}\r\n                \x3c/label\x3e\r\n              \x3c/fieldset\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"clearfix trailer-1 hide" data-dojo-attach-point\x3d"enterpriseGroupContainer"\x3e\r\n              \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"enterpriseLabel"\x3e\r\n                ${i18n.GroupWidget.enterpriseGroups.enterpriseLabel}\r\n              \x3c/label\x3e\r\n              \x3clabel data-dojo-attach-point\x3d"enterpriseGroupNameLabel"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"enterpriseGroupName"\x3e${i18n.GroupWidget.enterpriseGroups.noneSelected}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n              \x3clabel for\x3d"create-group-enterprise-input"\x3e\r\n                \x3cinput id\x3d"create-group-enterprise-input" type\x3d"search" name\x3d"enterpriseGroup" value\x3d"" data-dojo-attach-point\x3d"enterpriseGroupInput" aria-labelledby\x3d""\x3e\r\n                \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"enterpriseGroupBtn" class\x3d"btn btn-clear btn-small leader-half"\x3e\r\n                  ${i18n.GroupWidget.enterpriseGroups.selectLabel}\r\n                \x3c/button\x3e\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.whoCanContributeLabel}\x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-contribute-all"\x3e\r\n                \x3cinput id\x3d"create-group-contribute-all" type\x3d"radio" name\x3d"contribute" value\x3d"members" data-dojo-attach-point\x3d"allContribute" checked\x3e ${i18n.GroupWidget.allMembersContributeLabel}\r\n              \x3c/label\x3e\r\n\r\n              \x3clabel for\x3d"create-group-contribute-admins"\x3e\r\n                \x3cinput id\x3d"create-group-contribute-admins" type\x3d"radio" name\x3d"contribute" value\x3d"owner" data-dojo-attach-point\x3d"adminContribute"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"adminContributeLabel"\x3e${i18n.GroupWidget.onlyAdminsContributeLabel}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n            \x3c/fieldset\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-checkbox hide" data-dojo-attach-point\x3d"updateCapabilitiesContainer"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.updateCapabilitiesLabel}\r\n                \x3cspan tabindex\x3d"0" class\x3d"margin-left-quarter tooltip tooltip-multiline inline-block" aria-label\x3d"${i18n.GroupWidget.sharedOwnershipTip}"\x3e\r\n                  \x3cspan class\x3d"text-blue"\x3e${!icons.question.16}\x3c/span\x3e\r\n                \x3c/span\x3e\r\n              \x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-no-update-capabilities"\x3e\r\n                \x3cinput id\x3d"create-group-no-update-capabilities" type\x3d"radio" name\x3d"update" value\x3d"false" data-dojo-attach-point\x3d"noUpdateCapabilities" checked\x3e ${i18n.GroupWidget.onlyTheirOwnLabel}\r\n              \x3c/label\x3e\r\n              \x3clabel for\x3d"create-group-update-capabilities" data-dojo-attach-point\x3d"updateCapabilitiesLabel"\x3e\r\n                \x3cinput id\x3d"create-group-update-capabilities" type\x3d"radio" name\x3d"update" value\x3d"true" data-dojo-attach-point\x3d"updateCapabilities"\x3e \x3cspan data-dojo-attach-point\x3d"allItemsLabelText"\x3e${i18n.GroupWidget.allItemsLabel}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n            \x3c/fieldset\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-radio" data-dojo-attach-point\x3d"memberVisibilityContainer"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.whoCanSeeMembers}\x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-all-can-see"\x3e\r\n                \x3cinput id\x3d"create-group-all-can-see" type\x3d"radio" name\x3d"memberVisibility" value\x3d"all" data-dojo-attach-point\x3d"memberVisibilityAll" checked\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"memberVisibilityAllLabel"\x3e${i18n.GroupWidget.allCanSee}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n\r\n              \x3clabel for\x3d"create-group-only-group-managers"\x3e\r\n                \x3cinput id\x3d"create-group-only-group-managers" type\x3d"radio" name\x3d"memberVisibility" value\x3d"managers" data-dojo-attach-point\x3d"memberVisibilityManagers"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"memberVisibilityManagersLabel"\x3e${i18n.GroupWidget.onlyGroupManagers}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n\r\n              \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.GroupWidget.whoCanSeeMembersNote}\x3c/div\x3e\r\n            \x3c/fieldset\x3e\r\n\r\n            \x3cdiv class\x3d"trailer-1"\x3e\r\n              \x3clabel class\x3d"padding-right-1 trailer-half" for\x3d"sorted-by"\x3e${i18n.GroupWidget.sortByDefault}\x3c/label\x3e\r\n\r\n              \x3cspan class\x3d"inline-block align-middle"\x3e\r\n                \x3cselect id\x3d"sorted-by" data-dojo-attach-point\x3d"sortedBy" class\x3d"leader-0"\x3e\r\n                  \x3coption value\x3d"title" selected\x3e${i18n.GroupWidget.sortFields.title}\x3c/option\x3e\r\n                  \x3coption value\x3d"owner"\x3e${i18n.GroupWidget.sortFields.owner}\x3c/option\x3e\r\n                  \x3coption value\x3d"numviews"\x3e${i18n.GroupWidget.sortFields.numviews}\x3c/option\x3e\r\n                  \x3coption value\x3d"modified"\x3e${i18n.GroupWidget.sortFields.modified}\x3c/option\x3e\r\n                  \x3c!-- \x3coption value\x3d"added"\x3e${i18n.GroupWidget.sortFields.added}\x3c/option\x3e --\x3e\r\n                \x3c/select\x3e\r\n              \x3c/span\x3e\r\n\r\n              \x3clabel class\x3d"inline-block align-middle trailer-0 margin-left-half" for\x3d"create-group-sorted-by-order"\x3e\r\n                \x3cinput id\x3d"create-group-sorted-by-order" type\x3d"checkbox" data-dojo-attach-point\x3d"sortedByOrder" checked\x3e\r\n                ${i18n.GroupWidget.ascending}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"clearfix"\x3e\r\n              \x3cfieldset class\x3d"radio-group leader-half trailer-1" data-dojo-attach-point\x3d"defaultContent"\x3e\r\n                \x3clegend class\x3d"radio-group-title padding-trailer-quarter"\x3e${i18n.GroupWidget.defaultContentLabel}\x3c/legend\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultAll" data-dojo-attach-point\x3d"defaultContentAll" type\x3d"radio" name\x3d"displaySettings" value\x3d"" checked\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultAll"\x3e${i18n.folders.filters.all}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultApps" data-dojo-attach-point\x3d"defaultContentApps" type\x3d"radio" name\x3d"displaySettings" value\x3d"Application"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultApps"\x3e${i18n.folders.filters.apps}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultFiles" data-dojo-attach-point\x3d"defaultContentFiles" type\x3d"radio" name\x3d"displaySettings" value\x3d"CSV"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultFiles"\x3e${i18n.folders.filters.files}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultMaps" data-dojo-attach-point\x3d"defaultContentMaps" type\x3d"radio" name\x3d"displaySettings" value\x3d"Web Map"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultMaps"\x3e${i18n.folders.filters.maps}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultLayers" data-dojo-attach-point\x3d"defaultContentLayers" type\x3d"radio" name\x3d"displaySettings" value\x3d"Layer"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultLayers"\x3e${i18n.folders.filters.layers}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultScenes" data-dojo-attach-point\x3d"defaultContentScenes" type\x3d"radio" name\x3d"displaySettings" value\x3d"Web Scene"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultScenes"\x3e${i18n.folders.filters.scenes}\x3c/label\x3e\r\n                \x3cinput class\x3d"radio-group-input" id\x3d"defaultTools" data-dojo-attach-point\x3d"defaultContentTools" type\x3d"radio" name\x3d"displaySettings" value\x3d"Locator Package"\x3e\r\n                \x3clabel class\x3d"radio-group-label" for\x3d"defaultTools"\x3e${i18n.folders.filters.tools}\x3c/label\x3e\r\n              \x3c/fieldset\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-checkbox" data-dojo-attach-point\x3d"administrativeGroupContainer"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.adminGroup}\x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-administrative-group"\x3e\r\n                \x3cinput id\x3d"create-group-administrative-group" type\x3d"checkbox" data-dojo-attach-point\x3d"administrativeGroup"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"administrativeGroupLabel"\x3e${i18n.GroupWidget.membersCannotLeave}\x3c/span\x3e\r\n              \x3c/label\x3e\r\n            \x3c/fieldset\x3e\r\n\r\n            \x3cfieldset class\x3d"fieldset-radio" data-dojo-attach-point\x3d"openDataContainer"\x3e\r\n              \x3clegend\x3e${i18n.GroupWidget.openData}\x3c/legend\x3e\r\n              \x3clabel for\x3d"create-group-open-data-group"\x3e\r\n                \x3cinput id\x3d"create-group-open-data-group" type\x3d"checkbox" name\x3d"openData" value\x3d"" data-dojo-attach-point\x3d"openData"\x3e ${i18n.GroupWidget.openDataLabel}\r\n              \x3c/label\x3e\r\n            \x3c/fieldset\x3e\r\n          \x3c/div\x3e\r\n        \x3c/section\x3e\r\n\r\n        \x3c!-- Submit button should be enabled when form is valid --\x3e\r\n        \x3csection class\x3d"panel panel-white panel-no-padding padding-trailer-half padding-leader-half padding-left-1 padding-right-1 position-relative clearfix"\x3e\r\n          \x3cdiv class\x3d"inline-block right"\x3e\r\n            \x3cbutton type\x3d"button" class\x3d"btn" data-dojo-attach-point\x3d"createBtn" disabled\x3e${i18n.GroupWidget.create}\x3c/button\x3e\r\n            \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"cancelBtn" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/section\x3e\r\n\r\n      \x3c/div\x3e\r\n\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_option.html":'\x3ca\r\n  href\x3d"#${id}"\r\n  data-tab\x3d"${id}"\r\n  data-logClick\x3d"${logClick}"\r\n  role\x3d"tab"\r\n  aria-selected\x3d"false"\r\n  class\x3d"js-subnav-link subnav-link ${isActive} ${show:hide} ${classes:empty}"\r\n  aria-controls\x3d"tabcontent"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer"\x3e${label}\x3c/a\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_title.html":'\x3cdiv class\x3d"js-subnav-edit subnav-edit flex flex-column flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title ${_titleTypeSize}" id\x3d"pagetitle"\x3e${titleText}\x3c/h1\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_paths.html":'\x3cdiv class\x3d"flex flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title flex flex-align-center margin-right-1 ${_titleTypeSize} js-subnav-paths" id\x3d"pagetitle"\x3e\r\n    ${paths}\r\n  \x3c/h1\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_path.html":'\x3ca href\x3d"#" class\x3d"subnav-breadcrumb js-subnav-path ${lastPath} text-ellipsis"\x3e\r\n  \x3cspan class\x3d"${showBack} inline-block padding-right-quarter subnav-breadcrumb-back"\x3e${icons.arrow-left.24}\x3c/span\x3e${title}\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/SubNav.html":'\x3cheader class\x3d"subnav" role\x3d"banner"\x3e\r\n  \x3cdiv class\x3d"subnav-wrap grid-container flex phone-flex-column js-subnav-wrap"\x3e\r\n    \x3cdiv class\x3d"flex flex-1 flex-align-center phone-flex-column ${_titleTypeSize}"\x3e\r\n      \x3cspan class\x3d"js-subnav-title-wrap flex-1 flex"\x3e${!titleHTML}\x3c/span\x3e\r\n      \x3cbutton class\x3d"js-subnav-expand subnav-expand ${hideLinks}"\x3e\r\n        \x3cspan class\x3d"js-subnav-current-label subnav-expand__current-label no-pointer inline-block margin-right-half margin-left-0"\x3e${activeLabel}\x3c/span\x3e\r\n        \x3csvg class\x3d"subnav-expand-icon no-pointer" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16"\x3e\r\n          \x3cpath fill\x3d"#FFF" d\x3d"M8 11.5l-7-7h14z"/\x3e\r\n        \x3c/svg\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cnav class\x3d"subnav-links ${hideLinks} js-subnav-links flex-0 flex" role\x3d"tablist" aria-labelledby\x3d"pagetitle"\x3e${!linksHTML}\x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/header\x3e\r\n',
"url:arcgisonline/pages/item/widgets/templates/_loader.html":'\x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/_whats-new.html":'\x3csection class\x3d"padding-leader-half margin-left-1"\x3e\r\n  \x3cdiv class\x3d"flex flex-center trailer-1 leader-half"\x3e\r\n    \x3cspan class\x3d"text-green flex-0"\x3e${icons.inline.check-circle.32}\x3c/span\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-left-half"\x3e\r\n      \x3ch4 class\x3d"font-size-1 trailer-0"\x3e${i18n.whatsNew.groupPage.newLookTitle}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.whatsNew.groupPage.newLookMsg}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-center trailer-1 leader-half"\x3e\r\n    \x3cspan class\x3d"text-green flex-0"\x3e${icons.inline.check-circle.32}\x3c/span\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-left-half"\x3e\r\n      \x3ch4 class\x3d"font-size-1 trailer-0"\x3e${i18n.whatsNew.groupPage.searchFilterTitle}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.whatsNew.groupPage.searchFilterMsg}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-center trailer-1 leader-half"\x3e\r\n    \x3cspan class\x3d"text-green flex-0"\x3e${icons.inline.check-circle.32}\x3c/span\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-left-half"\x3e\r\n      \x3ch4 class\x3d"font-size-1 trailer-0"\x3e${i18n.whatsNew.groupPage.managersTitle}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.whatsNew.groupPage.managersMsg}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"*now":function(R){R(['dojo/i18n!*preload*arcgisonline/pages/nls/group*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("arcgisonline/pages/group","require exports tslib dojo/Deferred dojo/query dojo/string dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/topic dojo/promise/all dojo/on dojo/has esri/lang ../esriGeowConfig taginsert/umd/taginsert ../sharing/util ./utils/date ./pageUtil ./utils/arrays ./utils/icons ./utils/notebook ./utils/organizationResources ./portal/PortalGroup ./basePage ./components/Collaborations/collab-service ./utils/queryHandler ./item/_Actions ./group/widgets/_settings ./group/widgets/_overview ./group/widgets/_content ./group/widgets/_members ./group/widgets/_create ./dijit/SubNav dojo/i18n!../nls/arcgisonline dojo/text!./item/widgets/templates/_loader.html dojo/text!./group/widgets/templates/_whats-new.html ../tsutils/declareDecorator ./utils/search".split(" "),function(R,
N,n,t,u,h,f,g,k,w,v,C,A,r,l,d,e,a,b,c,m,p,q,y,B,z,D,F,x,E,G,H,J,M,K,L,U,ba,V,aa,ha){t=n.__importDefault(t);u=n.__importDefault(u);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);v=n.__importDefault(v);C=n.__importDefault(C);A=n.__importDefault(A);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);p=n.__importDefault(p);
q=n.__importDefault(q);y=n.__importDefault(y);B=n.__importDefault(B);z=n.__importDefault(z);D=n.__importDefault(D);F=n.__importDefault(F);x=n.__importStar(x);E=n.__importDefault(E);G=n.__importDefault(G);H=n.__importDefault(H);J=n.__importDefault(J);M=n.__importDefault(M);K=n.__importDefault(K);L=n.__importDefault(L);U=n.__importDefault(U);ba=n.__importDefault(ba);V=n.__importDefault(V);aa=n.__importDefault(aa);return function(){function ia(){this.baseClass="flex-1 overflow-visible view-background";
this.skipToContent="main-content-area";this.ownedBySuspendedCollab=!1}ia.prototype.postCreate=function(){this.inherited(arguments);var ka=v["default"].create("input");this.supportsFormValidation=!l["default"]("safari")&&"required"in ka&&"pattern"in ka};ia.prototype.startup=function(){var ka=this;this.inherited(arguments);var qa=m["default"].getQueryParams(),Y=ha.semanticSearchEnabled(this.portal,this.portalUser)?"enriched":"";qa.fromSearch&&(this.telemetry&&this.telemetry.endWorkflow("search",{details:qa.searchTerm,
position:parseInt(qa.searchPosition,10),attribute:Y}),m["default"].removeQueryParams(["fromSearch","searchPosition","searchTerm"]));this._fetchGroup().then(function(Q){return n.__awaiter(ka,void 0,void 0,function(){var fa;return n.__generator(this,function(S){switch(S.label){case 0:return fa=this,[4,this.isOwnedBySuspendedCollab()];case 1:return fa.ownedBySuspendedCollab=S.sent(),[2,Q]}})})}).then(function(Q){return ka._renderPage(Q)}).then(function(){ka.emit("ready")},function(Q){ka._showErrors=
!0;Q=f["default"].mixin({},U["default"].common.errors.genericError,{message:U["default"].GroupWidget.error.groupNotFound});ka._showError(Q);ka.emit("error",Q)})};ia.prototype.destroy=function(){this._destroyTab();v["default"].empty(this.tabs.domNode);this.inherited(arguments)};ia.prototype._setGroupFlagsAttr=function(ka){ka.isPublic="public"===ka.access;ka.canInviteOthers=ka._canInviteOthers(this.portalUser||{})};ia.prototype._setAttributeCssClassesAttr=function(ka){ka.attributes=["snippet","description",
"tags"].filter(function(qa){return d["default"].isDefined(ka[qa])&&ka[qa]}).map(function(qa){return"has-"+qa})};ia.prototype._setBodyCssClassesAttr=function(ka){var qa=[this.portalUser?"is-signed-in":"is-signed-out"],Y=w["default"].get(g["default"].body(),"class").split(" "),Q=this.portalUser||{},fa=ka.belongsToGroup&&Q.userRole&&Q.userRole.canCreateItem()&&(Q.userRole.canShareItemToGroup()||Q.userRole.canShareOthersItemsToGroup())&&(ka.isViewOnly&&(ka.isOwner||ka.isAdmin)||!ka.isViewOnly);qa.push(Q.orgId?
"":"is-public-user");qa.push(fa?"can-create-items":"");qa.push(!fa&&ka.belongsToGroup?"cant-create-items":"");qa.push(ka.isAdmin?"can-update":"is-viewer");qa.push(ka.isOwner?"is-owner":"");qa.push(ka.isMember||!ka.isOwner&&ka.isAdmin&&ka.belongsToGroup?"is-group-member":"");qa.push(ka.canJoin?"can-join":"");qa.push(ka.isPublic?"is-public":"org"===ka.access?"is-organization":"is-private");qa.push(ka.canChangeOwner?"can-change-owner":"");qa.push(ka.canInviteOthers?"can-invite":"");qa.push(ka.canManageMembershipRequests?
"can-manage-membership-requests":"");qa.push(ka.canRemoveContent?"can-remove-content":"");qa.push(ka.isBackedByEnterpriseGroup?"has-enterprise-group can-list-members":"can-list-members");qa.push(ka.isPartOfCollaboration?"is-collaboration":"");qa.push(ka.canDelete?"can-delete":"");qa.push(ka.canShowSocialMediaLinks?"can-share-social":"");qa.push(y["default"].notebookServerConfigured()?"has-notebookServer-enabled":"");qa.push(Q.userRole&&Q.userRole.canCreateNotebooks()?"can-create-notebooks":"");Y=
Y.filter(function(S){return 0===S.indexOf("dj_")});qa=qa.concat(ka.attributes||[]).concat(Y||[]);k["default"].replace(g["default"].body(),qa)};ia.prototype.invalidInputHelper=function(ka,qa){function Y(O,I){S.supportsFormValidation?O.setCustomValidity(I):(w["default"].set(O,"data-customValidity",I),""===I&&S.hideErrors())}function Q(O,I,Z){return"function"===typeof O?O.apply(I,Z):O}function fa(){var O=ka.value&&ka.value.trim()||"",I=w["default"].get(ka,"pattern");O&&""!==O?!S.supportsFormValidation&&
I?(I=new RegExp(I),I.test(O)?Y(ka,""):Y(ka,Q(qa.invalidText,window,[ka]))):Y(ka,""):Y(ka,Q(qa.emptyText,window,[ka]))}var S=this;this.supportsFormValidation&&ka.setCustomValidity(Q(qa.defaultText||"",window,[ka]));this.own(r["default"](ka,"change",fa),r["default"](ka,"input",fa),r["default"](ka,"invalid",function(){var O=ka.value&&ka.value.trim()||"";O&&""!==O?ka.validity&&(ka.validity.patternMismatch||ka.validity.badInput||ka.validity.typeMismatch)?Y(ka,Q(qa.invalidText,window,[ka])):Y(ka,""):Y(ka,
Q(qa.emptyText,window,[ka]))}))};ia.prototype._renderPage=function(ka){var qa=this,Y=new t["default"],Q=("#"===window.location.hash.charAt(0)?window.location.hash.substring(1):window.location.hash)||"overview";if(ka){try{new URL(ka.thumbnailUrl);var fa=!0}catch(O){fa=!1}fa=fa?"thumbnailUrl":null;(!this.portal.isPortal||this.portal.isPortal&&"public"===this.portal.access&&"public"===this.group.access)&&a["default"]({item:ka,mapping:{w3c:{keywords:"tags",image_src:fa},twitter:{image:fa},og:{image:fa}},
noindex:function(O){return p["default"].includesAll(O.robots,["noindex","nofollow"])}});Q={active:Q,titleText:ka.title,edit:null,telemetry:this.telemetry,links:[{id:"overview",logClick:!0,label:U["default"].itemProperties.overview},{id:"content",logClick:!0,label:U["default"].contentPage.content},{id:"members",logClick:!0,label:U["default"].myOrganization.membersLabel,show:"esri_notebook"!==ka.owner},{id:"settings",logClick:!0,label:U["default"].itemProperties.settings,show:this._canViewSettingsTab(ka)}]};
ka.isAdmin&&(Q.edit={baseClass:"subnav-edit flex flex-1 flex-align-center break-word",editButtonClasses:"btn-link-white",prop:"title",value:ka.title,placeholder:this.i18n.itemProperties.enterItemTitle,required:!0,pattern:"^[^\x3c|\x3e]+$",emptyText:U["default"].GroupWidget.error.provideName,invalidText:U["default"].GroupWidget.error.specialCharactersError});this.tabs=new L["default"](Q,v["default"].create("div",{},this.domNode,"next"));this._loader=v["default"].place(h["default"].substitute(ba["default"],
{i18n:U["default"]}),this.domNode,"next");this._content=v["default"].create("main",{"class":"hide tab-content",id:"tabcontent","aria-live":"polite",role:"tabpanel"},this.domNode,"next");this.set("pageTitle",ka.title);this.set("groupFlags",ka);this.set("attributeCssClasses",ka);this.set("bodyCssClasses",ka);this._showWhatsNew();this._updateTab(window.location.hash&&window.location.hash.substring(1)).then(function(){qa.hideLoader();qa._loadEventHandlers();Y.resolve(ka)})}else{Q=v["default"].create("main",
{"class":"flex-column flex-1"},this.domNode,"next");var S=new K["default"]({page:this,i18n:U["default"],portalUser:this.portalUser},v["default"].create("div",{},Q));S.startup().then(function(){qa.tabDijit=S;qa.hideLoader();Y.resolve(S)})}return Y};ia.prototype._showWhatsNew=function(){var ka=h["default"].substitute(V["default"],{i18n:U["default"],icons:q["default"]});this.portal.isPortal||E["default"].whatsNew(f["default"].mixin({},{redirectUrl:"https://links.esri.com/blog/new-groups-page",title:U["default"].whatsNew.groupPage.title,
message:ka,endDate:new Date("July 31, 2017"),key:"groupPage"}))};ia.prototype._updateTab=function(ka){var qa=this;C["default"].publish("profile/hide");var Y=new t["default"],Q,fa=x.queryToObject(window.location.search.substring(1));fa=fa.focus||fa.sortField||fa.sortOrder||fa.q;var S=(ka=m["default"].splitHashParts(ka))&&ka[0]||this.hashParts[0]||this.currentView;S||(S=fa?"content":"overview",m["default"].replaceCurrentLocation("#"+S));this.hideErrors();"settings"!==S||this._canViewSettingsTab()||
(S="overview",m["default"].replaceCurrentLocation("#overview"));if(S===this.currentView)return Y.resolve(this.tabDijit),Y;this._destroyTab().then(function(){qa.currentView=S;qa.tabs.hideEditLink();var O=!0;switch(S){case "settings":Q=G["default"];break;case "members":Q=M["default"];break;case "content":Q=J["default"];break;default:Q=H["default"],O=!1,qa.tabs.showEditLink()}k["default"].toggle(qa.domNode,"view-background",O);qa._createTab(Q,{group:qa.group}).then(function(I){Y.resolve(I)})});return Y};
ia.prototype._loadEventHandlers=function(){var ka=this;window.addEventListener("popstate",function(){var qa="#"===window.location.hash.charAt(0)?window.location.hash.substring(1):window.location.hash;ka._updateTab(qa).then(function(){ka.hideLoader()})});this.own(C["default"].subscribe("/dojo/hashchange",function(qa){(l["default"]("ie")||l["default"]("trident")||l["default"]("edge"))&&ka._updateTab(qa).then(function(){ka.hideLoader()})}),this.group.watch(f["default"].hitch(this,"_groupChangeHandler")))};
ia.prototype._groupChangeHandler=function(ka,qa,Y){"access"!==ka&&"isOpenData"!==ka||this.group.set("formattedSharing",this._formatSharing(this.group));"isViewOnly"===ka&&this.group.set("formattedContributors",this._formatContributors(this.group));"hiddenMembers"===ka&&this.group.set("formattedVisibility",this._formatVisibility(this.group));qa=this._tabState&&this._tabState.content;"displaySettings"===ka&&qa&&delete qa.focus;"sortField"!==ka&&"sortOrder"!==ka||!qa||(delete qa.sortField,delete qa.sortOrder,
this._sortUpdated=!0);u["default"](".if-"+ka,this.contentWrapper).attr("innerHTML","tags"===ka?this._formatTags(Y):"snippet"===ka?b["default"].htmlEncode(Y):Y);this.set("groupFlags",this.group);this.set("attributeCssClasses",this.group);this.set("bodyCssClasses",this.group)};ia.prototype._updateGroup=function(ka){var qa=new t["default"],Y=this.group,Q=this.portal.portalUrl+"community/groups/"+Y.id+"/update";Y.isAdmin?this._request({url:Q,content:ka},{usePost:!0}).then(function(fa){delete ka.clearEmptyFields;
Y.set(ka);qa.resolve(Y)},function(fa){qa.reject(f["default"].clone(fa))}):qa.resolve(this.group);return qa};ia.prototype._fetchGroup=function(){var ka=this,qa=new t["default"],Y=this._queryStringParams.owner,Q=this._queryStringParams.title,fa='owner:"'+Y+'" title:"'+Q+'"',S=this.portal.portalUrl+"community/groups/",O=this._queryStringParams.id;this._groups=this.groups||{};if(O)Y=this._request({url:S+O});else if(Y&&Q)Y=this._queryGroup(fa,{num:1}).then(function(I){if(I&&I.length)return O=I.shift().id,
m["default"].updateQueryParams({id:O}),m["default"].removeQueryParams(["owner","title"]),ka._request({url:S+O});ka.portalUser?qa.reject():window.location.href="signin.html?returnUrl\x3d"+escape(window.location.href)+"\x26error\x3d403";return qa});else return qa.resolve(!1),qa;Y.then(f["default"].hitch(this,"_processGroup"),function(I){qa.reject(I);return qa}).then(function(I){ka._groups[O]=I;ka.group=I;I.set("isLoaded",!0);qa.resolve(I)});return qa};ia.prototype._processGroup=function(ka){var qa=
this,Y=new t["default"],Q=this.portalUser||{},fa;ka=this.group||new z["default"](f["default"].mixin(ka,{portal:this.portal}));A["default"]({groupOwner:this._getGroupOwner(ka),members:ka.allGroupMembers(),numItems:ka.itemCount(ka),collaborationSettings:this._getCollaborationSettings(ka)}).then(function(S){ka.set(S);fa={isAdmin:ka.isOwner||ka._isGroupAdmin(Q),canChangeOwner:ka._canChangeOwner(Q),canInviteOthers:ka._canInviteOthers(Q),canRemoveContent:ka._canRemoveContent(Q),canManageMembershipRequests:ka._canManageMembershipRequests(Q),
canDelete:ka._canDeleteGroup(Q),canJoin:ka._canJoinGroup(Q),numApplications:qa._formatNumApplication(ka.userMembership),numMembers:qa._formatNumMembers(S.members),snippet:qa._htmlEncode(ka.snippet),formattedTags:qa._formatTags(ka.tags),formattedSharing:qa._formatSharing(ka),formattedContributors:qa._formatContributors(ka),formattedVisibility:qa._formatVisibility(ka),createdDate:qa._formatDate(ka.created),facebookUrl:qa._formatSocialLink(ka,"fb"),twitterUrl:qa._formatSocialLink(ka,"tw"),isPartOfCollaboration:qa._formatCollaboration(ka,
S.collaborationSettings),formattedMembershipLabel:qa._formatGroupMembershipLabel(ka),fillColor:"#"+ka.id.substr(ka.id.length-6),useLetter:ka.title.charAt(0)&&ka.title.charAt(0).match(/^\w+$/)};!fa.canManageMembershipRequests||ka.belongsToGroup&&!ka.isMember?(ka.set(fa),Y.resolve(ka)):ka.getApplications().then(function(O){ka.userMembership.applications=O.length;fa.numApplications=qa._formatNumApplication(ka.userMembership);ka.set(fa);Y.resolve(ka)},function(){ka.set(fa);Y.resolve(ka)})});return Y};
ia.prototype._refreshMembers=function(){var ka=this,qa=new t["default"];A["default"]({members:this.group.allGroupMembers()}).then(function(Y){var Q={numMembers:ka._formatNumMembers(Y.members)};ka.group.set(f["default"].mixin(Q,Y));qa.resolve(ka.group)});return qa};ia.prototype._getGroupOwner=function(ka){var qa=new t["default"];ka.getOwnerProfile(!0,!0).then(function(Y){ka.set("groupOwner",Y);qa.resolve(Y)});return qa};ia.prototype._queryGroup=function(ka,qa){void 0===qa&&(qa={});var Y=new t["default"],
Q=this.portal.portalUrl+"community/groups",fa=f["default"].mixin({q:ka},qa);this._request({url:Q,content:fa}).then(function(S){return Y.resolve(S&&S.results||[])},function(S){return Y.reject(S)});return Y};ia.prototype._getCollaborationSettings=function(ka){return ka&&ka.collaborationInfo&&ka.collaborationInfo.collaborationId?b["default"].request({url:b["default"].getSecureUrl(e["default"].restBaseUrl)+"portals/self/collaborationSettings"}):null};ia.prototype._canViewSettingsTab=function(ka){return this.group.isOwner||
this.group.isAdmin||this.group.canDelete};ia.prototype._formatNumMembers=function(ka){return this._formatCount(ka.total||ka.users&&ka.users.length||0)};ia.prototype._formatNumApplication=function(ka){return this._formatCount(ka&&ka.applications||0)};ia.prototype._formatTags=function(ka){ka=ka&&"string"===typeof ka?ka.split(","):ka||[];return ka.map(function(qa){return'\x3ca href\x3d"search.html?t\x3dgroups\x26q\x3dtags:'+b["default"].htmlEncode(qa)+'"\x3e'+b["default"].htmlEncode(qa)+"\x3c/a\x3e"}).join(", ")};
ia.prototype._formatDate=function(ka){!1===ka instanceof Date&&(ka=new Date(ka));return ka?c["default"].format(ka,"long-month-day-year"):""};ia.prototype._formatSharing=function(ka){var qa=this.i18n.GroupWidget,Y=ka.access;if("private"===Y)var Q=qa.privatemsg;else"public"===Y?(Q=qa.publicLabel,ka.isOpenDataEnabled&&(Q+=" "+qa.accessOpenData)):"org"===Y&&(Q=qa.organization);ka.isSharedOwnership&&(Q+=qa.sharedOwnershipMembers);return Q};ia.prototype._formatSocialLink=function(ka,qa){return"socialnetwork.html?t\x3d"+
b["default"].socialNetworkTitle(ka.title)+"\x26n\x3d"+qa+"\x26u\x3d"+window.location.href};ia.prototype._formatCount=function(ka){return""+ka||"0"};ia.prototype._formatContributors=function(ka){var qa=!this.portalUser,Y=!qa&&!this.portalUser.orgId,Q=this.i18n.GroupWidget;return ka.isViewOnly?qa||Y?Q.onlyAdminContribute:Q.onlyAdminsContributeLabel:Q.allMembersContribute};ia.prototype._formatVisibility=function(ka){var qa=this.i18n.GroupWidget;return ka.leavingDisallowed?ka.hiddenMembers?qa.managersVisibleCannotLeave:
qa.allVisibleCannotLeave:ka.hiddenMembers?qa.managersVisible:qa.allVisible};ia.prototype._formatCollaboration=function(ka,qa){var Y=ka&&ka.collaborationInfo,Q=qa&&qa.supportsCopyFeatureServiceData;if(Y&&Y.collaborationId){var fa=Y.accessMode,S=Y.config,O=Y.syncSchedule,I=this.i18n.GroupWidget,Z=I.collaborationByReference,W=I.collaborationImmediateSync,ca=void 0,T=void 0;Y=h["default"].substitute(I.collaborationParticipation,{collaboration:Y.collaborationName});"send"===fa?T=I.collaborationSend:"receive"===
fa?T=I.collaborationReceive:"sendAndReceive"===fa&&(T=I.collaborationSendAndReceive);S&&S.enableRealtimeSync||!O?this.portal.isPortal||(W=I.collaborationOnlineHostSync):W="PAUSED"===O.state?I.collaborationSyncPaused:h["default"].substitute(I.collaborationScheduledSync,{time:c["default"].format(new Date(O.nextFireTime),"short-time"),hours:O.interval});S&&S.copyFeatureServiceData&&Q&&(Z=I.collaborationByValue,S.enableRealtimeSync&&O&&(ca=h["default"].substitute(I.collaborationByValueSchedule,{time:c["default"].format(new Date(O.nextFireTime),
"short-time"),hours:O.interval}),Z+="\x3c/p\x3e\x3cp\x3e"+ca));return"\x3cp\x3e"+Y+"\x3c/p\x3e\x3cp\x3e"+T+"\x3c/p\x3e\x3cp\x3e"+W+"\x3c/p\x3e\x3cp\x3e"+Z+"\x3c/p\x3e"}return!1};ia.prototype._formatGroupMembershipLabel=function(ka){return U["default"].GroupWidget[ka.isMember?"youAreMember":"youAreGroupAdmin"]};ia.prototype._htmlEncode=function(ka){return b["default"].htmlEncode(ka)};ia.prototype._getUserGroups=function(){if(this.portalUser)return this.portalUser.getGroups();var ka=new t["default"];
ka.resolve();return ka};ia.prototype.hasDefaultContentFilter=function(ka){if("string"===typeof ka.displaySettings)try{ka.displaySettings=JSON.parse(ka.displaySettings)}catch(Y){ka.displaySettings={itemTypes:""}}var qa={Application:"applications",CSV:"files","Web Map":"maps",Layer:"layers","Web Scene":"scenes","Locator Package":"tools"};ka=(ka.displaySettings&&ka.displaySettings.itemTypes||"").split(",");return ka[0]&&qa[ka[0]]};ia.prototype.getCustomItemOrder=function(){return n.__awaiter(this,void 0,
void 0,function(){var ka;return n.__generator(this,function(qa){switch(qa.label){case 0:return qa.trys.push([0,2,,3]),[4,B["default"].fetch("group-items-"+this.group.id+".json")];case 1:return ka=qa.sent(),[3,3];case 2:return qa.sent(),ka=[],[3,3];case 3:return[2,ka]}})})};ia.prototype.canGetCollabInfo=function(){return this.group.allowExternalMembers()&&!this.portal.isPortal&&this.portalUser&&this.portal.canHavePartnerCollab()};ia.prototype.getSuspendedCollabs=function(){return n.__awaiter(this,
void 0,void 0,function(){var ka,qa;return n.__generator(this,function(Y){switch(Y.label){case 0:if(!this.canGetCollabInfo())return[2];Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,F["default"].getCollaborations(!0)];case 2:return ka=Y.sent(),qa=ka.trustedOrgs.filter(function(Q){return"suspended"===Q.to.state}).map(function(Q){return Q.to}),[2,qa];case 3:return Y.sent(),[2];case 4:return[2]}})})};ia.prototype.getOwnerOrgId=function(){return n.__awaiter(this,void 0,void 0,function(){var ka,qa,Y;
return n.__generator(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),ka=this.group.ownerProfile,[4,this.group.groupMembers({memberType:"admin",name:ka.fullName})];case 1:return qa=Q.sent(),Y=null===qa||void 0===qa?void 0:qa.users.filter(function(fa){return fa.username===ka.username})[0],[2,null===Y||void 0===Y?void 0:Y.orgId];case 2:return Q.sent(),[2];case 3:return[2]}})})};ia.prototype.isOwnedBySuspendedCollab=function(){var ka;return n.__awaiter(this,void 0,void 0,function(){var qa,
Y;return n.__generator(this,function(Q){switch(Q.label){case 0:return null!==(ka=this.group)&&void 0!==ka&&ka.canInviteOthers?[4,this.getSuspendedCollabs()]:[2,!1];case 1:return qa=Q.sent(),null!==qa&&void 0!==qa&&qa.length?[4,this.getOwnerOrgId()]:[2,!1];case 2:return(Y=Q.sent())?[2,qa.some(function(fa){return fa.orgId===Y})]:[2,!1]}})})};ia.prototype.disableInviteBtn=function(ka){if(ka&&ka.parentElement){var qa=ka.parentElement;ka.disabled=!0;var Y=document.createElement("div");Y.appendChild(ka);
Y.className="tooltip tooltip-multiline disabled-invite-members";Y.setAttribute("aria-label",U["default"].GroupWidget.suspendedInvite);qa.insertBefore(Y,qa.firstChild)}};return ia=n.__decorate([aa["default"](D["default"])],ia)}()});