//>>built
define("esri/support/requestUtils",["dojo/_base/Deferred","dojo/_base/url","../config","../urlUtils"],function(h,k,l,g){function e(a){a=new k(a);return a.scheme+"://"+a.authority}var f=l.defaults.io;return{registerNoCorsDomains:function(a){f.crossOriginNoCorsDomains||(f.crossOriginNoCorsDomains={});for(var c=f.crossOriginNoCorsDomains,d=0;d<a.length;d++){var b=a[d];b=b.toLowerCase();/^https?:\/\//.test(b)?c[e(b)]=0:(c[e("http://"+b)]=0,c[e("https://"+b)]=0)}},isNoCorsRequestRequired:function(a){var c=
f.crossOriginNoCorsDomains;return c?(a=e(a),a=a.toLowerCase(),!g.hasSameOrigin(a,window.location.origin)&&c[a]<Date.now()-36E5):!1},sendNoCorsRequest:function(a,c){var d=new h,b=f.crossOriginNoCorsDomains;b&&(b[e(a).toLowerCase()]=Date.now());b=g.urlToObject(a);a=b.path;if(b.query&&"json"===b.query.f||c&&"json"===c.f)a+="?f\x3djson";fetch(a,{mode:"no-cors",credentials:"include"}).then(d.resolve,d.resolve);return d}}});