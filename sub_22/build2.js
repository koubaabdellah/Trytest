define("js2/Cookie",[],(function(){var e={set:function(e,t,n,i,o,s){if(!e||!t)return!1;var a=e+"="+encodeURIComponent(t);return a+="; path="+(i||"/"),a+="; expires="+(n?new Date((new Date).getTime()+1e3*n).toGMTString():0),o&&(a+="; domain="+o),s&&(a+="; secure"),document.cookie=a,!0},get:function(e){return!!new RegExp("(?:; )?"+e+"=([^;]*);?").test(document.cookie)&&decodeURIComponent(RegExp.$1)},remove:function(e,t,n){return this.set(e,1,-1,t,n),!0}};return e})),define("js2/env",[],(function(){"use strict";var e={is_mobile:!!window.is_mobile,is_ipad:!!window.is_ipad,is_android:!!window.is_android,is_iphone:!!window.is_iphone,is_phone:!!window.is_phone,fixed_layout:null,list_scroll:null,filters_scroll:null};return e.is_ipad&&(e.fixed_layout=!0,e.list_scroll="native",e.filters_scroll="native"),e})),define("js2/Observable",[],(function(){var e=function(){this.initObservable()};return e.prototype.initObservable=function(){this.__events={}},e.prototype.on=function(e,t){for(var n in e=e.split(" ")){var i=e[n];this.__events[i]||(this.__events[i]=[]),this.__events[i].push(t)}return this},e.prototype.one=function(e,t){var n=this,i=function(o){t.apply(this,Array.prototype.slice.call(arguments,0)),n.off(e,i)};n.on(e,i)},e.prototype.off=function(e,t){for(var n in e=e.split(" ")){var i=e[n];this.__events[i]&&(this.__events[i]=t?this.__events[i].filter((function(e){return e!=t})):[])}return this},e.prototype.trigger=function(e,t){if(!this.__events[e])return this;var n=this,i=Array.prototype.slice.call(arguments,1);this.__events[e].forEach((function(e){return e.apply(n,i),this}))},e})),define("js2/Toggler",["jquery","js2/Observable"],(function(e,t){function n(t,n,i,o){var s=(o=o||{}).follow_button_position||!1,a=this,r=!1,c=o.visible||!1,l=o.exclude||null,d=o.include||null;this.initObservable(),s&&n.addClass("pos-by-button-center");var u=function(s){var a=e(s.target);(a.closest(t).length||a.closest(n).length||a.closest(d).length)&&!a.closest(l).length||(o.preventDefault&&s.preventDefault(),h(!1)),r||(i&&i(n),r=!0)},f=function(e){27==parseInt(e.keyCode||e.which,10)&&a.setVisible(!1)};function h(t,i){n[(c=t||!1)?"show":"hide"](),e(document)[c?"on":"off"]("click.toggler",u),o.closeOnEsc&&e(window)[c?"on":"off"]("keyup.toggler",f),a.trigger("toggle",c,r),i&&i(c)}t.on("click.togglers",(function(e){e.preventDefault(),!c&&s&&n.css("left",t.outerWidth()/2+t.offset().left),h(!c)})),a.opener=t[0],a.opened=n[0],a.setVisible=h,a.getVisible=function(){return c}}return Object.assign(n.prototype,t.prototype),n})),define("js2/jquery.balloon",["jquery","js2/Observable","js2/env"],(function(e,t,n){var i=function(t,n){var i=this,o=n||{},s={id:"balloon_"+t,name:t,node:null,target:null,parameters:{},offset:0,visible:!1,positionAuto:!0,zIndex:11111,url:"/layer/balloon_%name%/",tpl:null,rerender:!0,usecache:!0,closeOnClickOutside:!0};Object.assign(this,s,o),this.initObservable(),this.init(),this.on("beforeShow",(function(){e(window).trigger("balloon-before-show",[i,i.node])})),this.on("afterShow",(function(){e(window).trigger("balloon-after-show",[i,i.node])})),this.on("beforeClose",(function(){e(window).trigger("balloon-before-close",[i,i.node])})),this.on("afterClose",(function(){e(window).trigger("balloon-after-close",[i,i.node])}))};return window.global_balloon_cache||(window.global_balloon_cache={}),i.cache=window.global_balloon_cache,i.items=[],i.create=function(e,t){return new i(e,t)},i.instance=function(e,t){var n=i.find(e,t);return n||(n=i.create(e,t)),n},i.find=function(t,n){for(var o=n||{},s=0;s<i.items.length;s++)if(i.items[s].name==t&&e.param(o.parameters)==e.param(i.items[s].parameters))return i.items[s]},i.findLast=function(){return i.items.length?i.items[i.items.length-1]:null},i.remove=function(e){var t=i.items;i.items=[];for(var n=0;n<t.length;n++)t[n]!=e&&i.items.push(t[n])},i.forEach=function(e){for(var t=i.items,n=0;n<t.length;n++)e&&e(t[n])},i.getCacheKey=function(e){var t=e,n=t.name+"_"+(t.url||"");if(t.parameters)for(var i in t.parameters)n+="_"+t.parameters[i];return n},i.setPosition=function(t,n,i){(i=i||{}).zIndex=i.zIndex||11111,i.offset=i.offset||0;var o=t.outerWidth();o||(o=t.children().outerWidth());var s=e(window).width(),a=n.outerWidth(),r=n.outerHeight(),c=n.offset(),l=c.top+r,d=Math.min(s-o-i.offset,Math.max(i.offset,c.left-o/2+a/2))+window.scrollX;t.css({position:"absolute",zIndex:i.zIndex,top:l,left:d}).find(".balloon-arrow").css({left:c.left-d+a/2})},Object.assign(i.prototype,{init:function(){var t=this;t.node=e("<div />").hide().attr("id",t.id).addClass("balloon-position-auto"),t.$target=e(t.target),t.$target.off("click").on("click",(function(e){e.preventDefault(),t.toggle()}))},getContent:function(t){var n=this,o=i.getCacheKey(n);if(i.cache.hasOwnProperty(o)){var s=i.cache[o],a=e(s).filter("*");t&&t(a)}else e.get(n.url.replace("%name%",n.name),n.parameters,(function(s){s=e.trim(s),n.usecache&&(i.cache[o]=s);var a=e(s).filter("*");t&&t(a)}))},prepare:function(){var t=this,n=t.$target.closest(".js-balloon-target");n.length?(t.node.removeClass("balloon-position-auto"),t.positionAuto=!1):n=e(document.body),t.node.appendTo(n)},show:function(){var e=this;e.prepare(),e.rerender&&e.node.children().length&&e.node.empty(),e.node.children().length?e._show():e.getContent((function(t){e.node.empty().append(t),e._show()}))},_show:function(){var t=this;i.forEach((function(e){e.close()})),i.items.push(t),e(document).off("click.balloonClose",t._close.bind(t)),e(document).on("click.balloonClose",t._close.bind(t)),t.trigger("beforeShow"),t.setPosition(),t.node.show(),t.visible=!0,t.trigger("afterShow"),t.target&&t.$target.addClass("active dropped")},_close:function(t){var n=this,i=e(t.target),o=i.closest(e(".balloon-close",n.node)).length;(!i.closest(n.$target).length&&!i.closest(n.node).length&&n.closeOnClickOutside||o)&&(o&&t.preventDefault(),e(document).off("click.balloonClose",n._close.bind(n)),n.close())},close:function(){var t=this;t.trigger("beforeClose"),t.node.hide().remove(),t.visible=!1,t.trigger("afterClose"),e(document).off("click.balloonClose",t._close.bind(t)),i.remove(t),t.target&&t.$target.removeClass("active dropped")},toggle:function(){var e=this;e.visible=!e.visible,e[e.visible?"show":"close"]()},setPosition:function(){this.target&&this.positionAuto&&i.setPosition(this.node,this.$target,{zIndex:this.zIndex,offset:this.offset})}},t.prototype),e(window).on("resize.balloon height",debounce((function(e){i.forEach((function(e){e.setPosition()}))}),0)),e(document).on("keydown.balloon",(function(e){var t=i.findLast();if(t&&27===e.keyCode)t.close()})),i})),define("js2/AdminNav",["js2/jquery.balloon"],(function(e){return function(t,n=!1,i=!1){var o=e.create("admin_menu",{offset:n?0:20,target:t,parameters:{id:t.data("id"),type:t.data("type"),data:t.data("data")}});o.on("afterShow",(function(){n||(document.body.classList.add("oh"),function(e){var t=e.node.find("ul");if(n||!t)return;i||t.css({"max-height":`calc(100vh - ${t.offset().top}px)`,overflow:"auto"})}(o))})),o.on("beforeClose",(function(){n||document.body.classList.remove("oh")})),o.on("beforeShow",(function(){n&&function(e){document.body.style.overflow="hidden",document.body.style.height="100%",e.node.css({width:"100%",bottom:0,"overflow-y":"auto",background:"#fff"}).addClass("scrolling-touch"),i&&e.node.css({position:"fixed",top:"45px"})}(o)})),o.on("afterClose",(function(){n&&(document.body.style.overflow="",document.body.style.height="")}))}})),define("js2/CityToggler",["jquery","js2/Toggler"],(function(e,t){return function(n,i,o){var s,a=n.find(".js-city-toggler"),r=n.find(".js-city-balloon"),c=r.find('.js-header-sities-search input[type="search"]'),l=r.find(".js-header-sities-search .input-clear"),d=r.find(".js-header-cities");!function(){var n,c=new t(a,d,(function(t){n&&n.abort(),(n=e.get("/js.php",{area:"header",action:"leftMenuCities",city:i,additionalUrl:o})).done((function(e){e.success&&(s=e.html,t.html(s)),r.toggle(!0)}))}),{include:r});c.on("toggle",(function(e,t){a.toggleClass("active dropped",e),t&&r.toggle(e)}))}(),c.on("keyup",(function(t){t.preventDefault();var n=this.value.replace(/[^\p{L} ]/gu,""),s=new RegExp("("+n+")","i"),a=d.find("li");l.toggleClass("hide",0===n.length),d.toggleClass("header-cities-filtered",n.length>0),a.removeClass("hide"),n.length>0&&(n.length>=2&&(xhr=e.get("/js.php",{area:"header",action:"leftMenuSearch",city:i,search:n,additionalUrl:o}),xhr.done((function(e){e.success&&d.html(e.html)}))),a.each((function(){var t=e(this);t.data("name").match(s)||t.addClass("hide")})))})),l.on("click",(function(e){e.preventDefault(),d.html(s),c.val("").trigger("keyup")}))}})),define("js2/headerController",["jquery","js2/Toggler","js2/AdminNav","js2/CityToggler"],(function(e,t,n,i){var o;function s(){this.node=document.getElementById("header"),this.$node=e(this.node),this.params={city:null,town:null,category:null,search:!0}}return Object.assign(s.prototype,{setParam:function(e,t){return this.params[e]=t,this},init:function(){var e=this;e.initCities(),e.initUserMenu(),e.initLanguageMenu(),e.initAdminMenu(),e.initLeftMenu(),e.initAnalytics()},initCities:function(){new i(this.$node,this.city)},initUserMenu:function(){var t=this,n=t.$node.find(".js-login"),i=t.$node.find(".js-logout"),o=t.$node.find(".js-balloon-logout");n.on("click",(function(t){t.preventDefault(),create_layer("auth",{login:!0,sourceType:"header",parameters:{regform:e(this).data("regform")}})})),i.on("click",(function(t){t.preventDefault(),e(this).toggleClass("dropped"),o.toggle()}))},initLanguageMenu:function(){var t=this.$node.find(".js-language"),n=this.$node.find(".js-language-balloon");t.on("click",(function(){e(this).toggleClass("dropped"),n.toggle()}))},initAdminMenu:function(){new n(this.$node.find(".js-admin-nav"))},initLeftMenu:function(){var t=!1,n=this.$node.find(".js-leftmenu-switcher"),i=e("#leftmenu");n.on("click",(function(o){var s;o.preventDefault(),t=s=!t,i.toggleClass("active",s),n.toggleClass("dropped",s),e(window).trigger("overlap")}))},initAnalytics:function(){var t=e(".js-leftmenu-switcher"),n=e(".js-header-logo"),i=e(".js-login"),o=e(".js-logout"),s=e(".js-header-cities"),a=e(".js-menu-logo"),r=e(".js-app-as"),c=e(".js-app-gp");t.on("click",(function(){e(window).trigger("track-event",["burger_menu",e(this).hasClass("dropped")?"click":"close"])})),n.on("click",(function(){e(window).trigger("track-event",["logo","click"])})),i.on("click",(function(){e(window).trigger("track-event",["login","click"])})),o.on("click",(function(){e(this).hasClass("dropped")&&e(window).trigger("track-event",["lk_profile","click"])})),s.on("click","li",(function(t){e(window).trigger("track-event",["burger_menu","choice_city",e(t.currentTarget).hasClass("choosen")?"no_change":"change"])})),a.on("click",(function(){e(window).trigger("track-event",["burger_menu","click_logo"])})),r.on("click",(function(){e(window).trigger("track-event",["burger_menu","click_app"])})),c.on("click",(function(){e(window).trigger("track-event",["burger_menu","click_app"])}))}}),o||(o=new s),o})),define("js2/StatService",[],(function(){return function(e,t){e=e||{};var n={},i={},o=Object.assign({},{object_type:"organization",action_type:""},e),s=Object.assign({},o,{ev_type:"stat",ev_category:"catalog",ev_label:"banner"}),a={},r={},c={card:{},banner:{}};function l(e,t,n,i){e[t]||(e[t]=[]),e[t].push(n),e[t].length>=20&&d(i,e)}function d(e,t){var i=e.object_type;if(t[i]&&t[i].length&&!1!==n[i]){n[i]=!1,e.ids=[];var o=t[i].splice(0,20),s={};if(o.forEach((function(t){e.ids.push(t.id),t.pos&&(s[t.id]=t.pos)})),n[i]=!0,window.za){var a={ev_type:e.ev_type||"stat",ev_category:e.action_type||null,object_type:i||null,object_id:e.ids||null};e.ev_label&&(a.ev_label=e.ev_label),e.ev_action&&(a.ev_action=e.ev_action),Object.keys(s||{}).length>0&&(a.object_pos=s),za(a)}}}t&&t((function(e,t,n,u){var f=this.dataset&&this.dataset.id||e,h=this.dataset&&this.dataset.type||t||o.object_type,p=n||null;u?(c.banner=Object.assign({},s,{object_type:h}),f&&l(r,h,{id:f,pos:p},c.banner)):(c.card=Object.assign({},o,{object_type:h}),f&&l(a,h,{id:f,pos:p},c.card)),clearTimeout(i[h]),i[h]=setTimeout((function(){Object.keys(c.banner).length&&d(c.banner,r),Object.keys(c.card).length&&d(c.card,a)}),1e3)}))}})),define("js2/StatHelper",[],(function(){var e,t;return window.ga&&ga((function(n){void 0!==n&&(e=n.get("clientId"),t=n.get("trackingId"))})),function(n,i,o){var s=o&&o.data&&o.data.ev_label||null,a=i.object_type||"organization",r=i.object_id||null;window.za({ev_category:a,ev_action:n,ev_label:s}),r&&requirejs(["js2/StatService"],(function(o){o({action_type:n,object_type:a,label:s,clientId:e,trackingId:t,sourceType:i.source_type,trackTag:i.track_tag,orgId:i.org_id},(function(e){e&&e(r)}))}))}})),define("js2/LinksMaker",[],(function(){return function(e){e||(e=document);const t=e.querySelectorAll("a[data-js-lnk]"),n=e.querySelectorAll(".js-linksmaker[data-js-lnk]");t.forEach((function(e){e.href=e.dataset.jsLnk})),n.forEach((function(e){const t=document.createElement("a");t.className="js-linksmake linksmaker",t.href=e.dataset.jsLnk,e.prepend(t),e.classList.remove("js-linksmaker")}))}})),define("js2/BannerCode",["jquery"],(function(e){var t=function(t,n){var i=n||{},o={url:"",node:t,$node:e(t)};e.extend(this,o,i),this.init()};return t.prototype={init:function(){var t=this;if(!t.$node.length)return!1;t.check_binded=throttle(t.check.bind(t),100),e(window).on("scroll.banners resize.banners height.banners",t.check_binded),t.check()},check:function(){var t=this,n=e(window).scrollTop(),i=t.$node.offset().top,o=e(window).height(),s=t.$node.outerHeight();return!(n+o<=i||n>i+s)&&(t.destroy(),e.post(t.url,(function(e){e.success&&(t.node.href=e.click_url)}),"json"),!0)},destroy:function(){e(window).off("scroll.banners resize.banners height.banners",this.check_binded)}},t})),define("js2/BannerSlidesController",["jquery"],(function(e){e.extend(e.easing,{def:"easeOutQuint",easeOutQuint:function(e,t,n,i,o){return i*((t=t/o-1)*t*t*t*t+1)+n}});var t=function(t,n){var i=n||{},o={node:t,show:!0,ready:!0,current:0,slides:[],imageOpacity:.5,timeout:3e3,timeouts:{menu:3e3,offer:3e3,photo:350,comment:5e3,info:3e3},zIndex:5,duration:850,effect:"easeOutQuint",activeClass:"active",isVertical:!1};e.extend(this,o,i),this.init()};return t.prototype={init:function(){var t=this;t.$node=e(t.node),t.$slides=e(".slide",t.$node),t.$image=e(".image",t.$node),t.$slides.each((function(n){var i=e(this).data("slide");t.slides.push(i)})),t.isVertical?t.calcFontSize():t.initHorizontal(),t.slide();var n=t.$node.closest(".service-box-white");n.find(".banner-close").on("click.close",(function(e){e.preventDefault(),n.slideUp("fast",(function(){window.dispatchEvent(new Event("height")),t.show=!1}))}))},slide:function(){var e=this,t=e.slides[e.current]||"";e.show?setTimeout((function(){e[e.isVertical?"slideVertical":"slideHorizontal"](e.current+1,(function(){e.slide()}))}),e.timeouts[t]?e.timeouts[t]:e.timeout):e.$node.remove()},getIndex:function(e){var t=this;return null==e?t.current:(e+t.slides.length)%t.slides.length},initHorizontal:function(){var t=this,n=e(".box-text-container",t.$node),i=t.calcTextRows(e(".rb40",n));n.addClass("box-text-rows"+i),t.needFade()},slideHorizontal:function(t,n){var i=this,o=i.$node.find(".superbox-overlay").width();return i.current=i.getIndex(t),!!i.ready&&(i.ready=!1,"comment"==i.slides[i.current]?(i.$image.animate({opacity:i.imageOpacity},i.duration/2),void i.$slides.eq(i.current).addClass(i.activeClass).hide().css({left:0}).fadeIn((function(){i.ready=!0,n&&n()}))):("comment"!=i.slides[i.getIndex(i.current-1)]&&(i.$image.css("opacity",1),i.$slides.stop().animate({left:-1*o+"px"},i.duration,i.effect,(function(){e(this).removeClass(i.activeClass)}))),void i.$slides.eq(i.current).addClass(i.activeClass).css({left:o+"px","z-index":i.zIndex++}).stop().animate({left:0},i.duration,i.effect,(function(){i.ready=!0,n&&n()}))))},slideVertical:function(t,n){var i=this,o=i.$node.find(".superbox-overlay").height();return i.current=i.getIndex(t),!!i.ready&&(i.ready=!1,"comment"==i.slides[i.current]?(i.$image.animate({opacity:i.imageOpacity},i.duration/2),void i.$slides.eq(i.current).addClass(i.activeClass).hide().css({top:0}).fadeIn((function(){i.ready=!0,n&&n()}))):("comment"!=i.slides[i.getIndex(i.current-1)]&&(i.$image.css("opacity",1),i.$slides.stop().animate({top:-1*o+"px"},i.duration,i.effect,(function(){e(this).removeClass(i.activeClass)}))),void i.$slides.eq(i.current).addClass(i.activeClass).css({top:o+"px","z-index":i.zIndex++}).stop().animate({top:0},i.duration,i.effect,(function(){i.ready=!0,n&&n()}))))},calcFontSize:function(){var t=this,n=e(".name-body",t.$node),i=t.$node.width()-35;n.each((function(n){var o=e(this),s=o.closest(".box-colored").css("max-width",1e3),a=s.find(".name-head"),r=(s.find(".fade").hide(),o.width()),c=parseInt(o.css("font-size"));c>18&&i<r&&(o.add(a).css("font-size",c-3),t.calcFontSize())}))},calcTextRows:function(t){var n=e(t),i=parseInt(n.css("line-height")),o=parseInt(n.height());return Math.ceil(o/i)},needFade:function(){var t=.65*this.$node.width();e(".box-colored",this.$node).each((function(){var n=e(this),i=n.find(".fade");n.outerWidth()<t&&i.hide()}))}},t})),define("js2/Analytics",["jquery"],(function(e){var t=window,n=t.document,i=null;return function(o,s,a){var r=s||null,c=a||null,l=[];function d(e,t){if("update.cat"!==t){if(0!==Object.keys(e||{}).length){e.ev_extra&&"string"==typeof e.ev_extra&&(e.ev_extra={value:e.ev_extra});var n=Object.assign({},o.ev_extra,e.ev_extra);e.ev_type=e.ev_type||"event";var i=Object.assign({},e,{ev_extra:n});0===Object.keys(i.ev_extra||{}).length&&delete i.ev_extra,i.ev_extra=JSON.stringify(i.ev_extra),l.push(i),u()}}else o.cat=e}function u(e){var t=e||100;clearTimeout(i),l.length>=10&&(t=0),i=setTimeout((function(){f(l.splice(0,Math.min(l.length,10))),l.length&&u(50)}),t)}function f(n){if(n.length){var i=Object.assign({},o,{events:n,area:"za"});delete i.ev_extra,window.dispatchEvent(new CustomEvent("z-console",{detail:{type:"za",data:i}}));var s,a=t.navigator,r="/stat.php";t.FormData&&(s=new FormData).append("beacon",JSON.stringify(i)),s&&a.sendBeacon&&a.sendBeacon(r,s)||e.post(r,i)}}function h(t,n){var i=e.Deferred();return t?(t((function(e){void 0!==e&&i.resolve(n(e))})),setTimeout((function(){i.resolve({})}),3e3)):setTimeout((function(){i.resolve({})}),0),i}e.when(h(t.ga,(function(e){return{ga_clientId:e.get("clientId"),ga_trackingId:e.get("trackingId")}})),h((function(e){if(t.ym&&t.ym.ids&&0!==t.ym.ids.length){var i=t.ym.ids[0],o="yaCounter"+i;t[o]?e(t[o]):n.addEventListener("yacounter"+i+"inited",(function(){e(t[o])}))}else e(null)}),(function(e){return e?{ym_clientId:e.getClientID()}:{}}))).done((function(e,n){Object.assign(o,e,n);var i=t.za.q||[];t.za=d;var s={ev_type:"pageview"};null!==r&&(s.ev_extra=r),c&&(s=Object.assign(s,c)),d(s);for(var a=0,l=i.length;a<l;++a)d(i[a].data,i[a].op)})),e(t).on("visibilitychange.za beforeunload.za",(function(e){"visibilitychange"===e.type&&"hidden"!==n.visibilityState||(clearTimeout(i),f(l),l=[])}))}})),define("js2/jquery.layer",["jquery","js2/Observable","js2/env"],(function(e,t,n){window.jquery_layer_opts=Object.assign({css:null,q:[]},window.jquery_layer_opts||{}),window.jquery_layer_opts.q&&setTimeout((function(){var e=window.jquery_layer_opts.q;window.jquery_layer_opts.q=[],Array.prototype.forEach.call(e,(function(e){window.create_layer.apply(null,e)}))}),0);window.create_layer=function(t,n){return function(t){if(window.jquery_layer_opts.css){var n=document.createElement("div");n.id="layerLoad",document.body.appendChild(n),e("head").append(window.jquery_layer_opts.css);var i=0,o=function(){i>100||"hidden"==e(n).css("visibility")?(window.jquery_layer_opts.css=null,t()):setTimeout((function(){i++,o()}),50)};o()}else t()}((function(){i.instance(t,n)})),!0};var i=window.LayerClass=function(t,n){if(e("#layer_"+t).length)throw"layer "+t+" already exists";if(this.name=t,this.id="layer_"+this.name,this.node=null,this.settings=n||{},"auth"===t&&(this.settings.changeViewport=!1,this.settings.offset=40),i.items.push(this),e.extend(this,window.LayerClass.defaultSettings,this.settings),this.initObservable(),!this.disableIfEmpty||this.tpl||e("#layer_"+this.name+"_tpl").length)this.init();else{var o=this,s=this.getCacheKey();void 0===i.cache[s]?e.get(this.url.replace("%name%",this.name),this.parameters,(function(t){t?(t=e.trim(t),o.tpl=t,o.init()):i.remove(o),o.usecache&&(i.cache[s]=t)})).fail((function(){i.remove(o)})):i.cache[s]?o.init():i.remove(o)}};window.LayerClass.defaultSettings={width:"auto",height:"auto",created:!1,parameters:{},url:"/layer/%name%/",tpl:null,usecache:!0,is_mobile:n.is_mobile,offset:n.is_phone?0:5,padding:0,wrapper:"#wrapper",closeable:!0,closeByScreenlocker:!0,popstate:n.is_phone,changeViewport:!0,disableIfEmpty:!1,zIndex:10999,beforeShow:function(){},afterShow:function(){},beforeClose:function(e){},afterClose:function(e){}},i.zIndex=10999,i.cache={},i.items=[],i.create=function(e,t){return new i(e,t)},i.instance=function(e,t){var n=i.find(e);return n||(n=i.create(e,t)),n},i.find=function(e){for(var t=0;t<i.items.length;t++)if(i.items[t].name==e)return i.items[t]},i.findLast=function(){return i.items.length?i.items[i.items.length-1]:null},i.remove=function(e){var t=i.items;i.items=[];for(var n=0;n<t.length;n++)t[n]!=e&&i.items.push(t[n])},i.forEach=function(e){for(var t=i.items,n=0;n<t.length;n++)e(t[n])},i.prototype.init=function(){this.zIndex=i.zIndex++,window.screenLocker.show();var t=this.getCacheKey();if(function(t){if(t.on("afterShow",(function(){e(window).trigger("layer-after-show",[t,t.scroll_div])})),t.on("beforeClose",(function(){e(window).trigger("layer-before-close",[t,t.scroll_div])})),t.on("afterClose",(function(){e(window).trigger("layer-after-close",[t,t.scroll_div])})),t.is_mobile){var n=e("[name=viewport]"),i=n.attr("content"),o=0;t.on("beforeShow",(function(){o=e(window).scrollTop()})),t.on("afterShow",(function(){var o,s,a,r,c;this.changeViewport&&(o=t.wrap_div.outerWidth(),s=t.wrap_div.outerHeight(),a=e(window).width()/((o||520)+10),r=e(window).height()/((s||520)+10),c=i.replace(/(maximum-scale=)([\d\.]+)/,"$1"+Math.min(a,r,1.5)),n.attr("content",c)),e(document.body).addClass("layer-exclusivity"),e(t.wrapper).addClass("get-out")})),t.on("beforeClose",(function(){n.attr("content",i),e(t.wrapper).removeClass("get-out"),e(document.body).removeClass("layer-exclusivity")})),t.on("afterClose",(function(){e(window).scrollTop(o)}))}}(this),this.beforeShow(this),this.trigger("beforeShow"),this.popstate&&window.history.pushState(null,null,window.location.href),this.tpl)this.show();else if(void 0!==i.cache[t])this.tpl=i.cache[t],this.show();else if(e("#layer_"+this.name+"_tpl").length)this.tpl=e("#layer_"+this.name+"_tpl"),this.created||(this.tpl=this.tpl.html()),this.show();else{var n=this;e.get(this.url.replace("%name%",this.name),this.parameters,(function(o){o=e.trim(o),n.usecache&&(i.cache[t]=o),n.tpl=o,n.show()}))}},i.prototype.setCloseable=function(e){var t=!!e;this.closeable=t,t?this.$closeLayer.show():this.$closeLayer.hide()},i.prototype.close=function(t){if(!this.con)return this;if(this.closed)return this;if(!1===this.beforeClose(t))return this;this.trigger("beforeClose",[t]);var n=this;return this.con.hide(),n.change_url&&n.url&&n.previous_url&&(history.replaceState(null,null,n.previous_url),n.previous_url=null),n.scroll_div.remove(),n.afterClose(t),n.trigger("afterClose",[t]),n.closed=!0,window.dispatchEvent(new Event("height")),i.remove(this),i.items.length||(e("body").removeClass("body-open-layer"),e(this.wrapper).css("marginTop",""),e("body").css("overflow",""),e("html").css("overflow-y",""),window.scrollTo(0,this.scrollTop)),this.popstate&&e(window).off("popstate.layer"+this.name),window.screenLocker.hide(),e(window).trigger("overlap"),this},i.prototype.setFullSpace=function(){this.con.css({left:"",top:""}),this.con.addClass("layer-fullspace-mode")},i.prototype.setPosition=function(){if(!this.con)return!1;if(this.fullscreen_enabled)this.setFullSpace();else{var t,n=e(window).width(),i=e(window).height(),o=this.wrap_div.width(),s=this.wrap_div.height(),a="fixed";t=o+2*this.offset<n?(document.documentElement.offsetWidth-o)/2:this.offset;var r=(i-s)/2;s+2*this.offset>i&&(a="absolute",r=1*e(window).scrollTop()+this.offset);var c={position:a,left:t+"px",top:r+"px"},l=n-2*this.offset-2*this.padding;c["max-width"]=l,this.padding&&o+2*this.offset+2*this.padding>n&&(c.left=this.offset+this.padding),this.con[s<i?"addClass":"removeClass"]("layer-less-than"),this.con[s<i?"removeClass":"addClass"]("layer-more-than"),this.con.css(c)}};var o=e('<div class="layer-content-scroll">\x3c!-- --\x3e</div>'),s=e('<div class="layer-container hidden">\x3c!-- --\x3e</div>'),a=e("<div class='layer-content-wrap'></div>");i.prototype.useFullScreen=function(){this.fullscreen_enabled=!0,this.setFullSpace()},i.prototype.show=function(){var t=this,n=e(this.tpl).filter("*");n.filter("[data-layer-offset]").length&&(this.offset=n.filter("[data-layer-offset]").data("layerOffset")),n.filter("[data-layer-padding]").length&&(this.padding=n.filter("[data-layer-padding]").data("layerPadding")),this.created?(this.scroll_div=n.find(".layer-content-scroll").css({zIndex:this.zIndex}),this.con=n.find(".layer-container"),this.wrap_div=n.find(".layer-content-wrap").attr("id",this.id),this.node=this.wrap_div,n.attr("style","")):(this.scroll_div=o.clone().css({position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"auto",zIndex:this.zIndex}).appendTo(document.body),this.con=s.clone().appendTo(this.scroll_div),this.wrap_div=a.clone().attr("id",this.id).appendTo(this.con),this.node=this.wrap_div,this.con.css({width:"auto"==this.width?"":this.width+"px",height:"auto"==this.height?"":this.height+"px",position:"fixed","z-index":this.zIndex}),n.addClass("layer-content"),this.wrap_div.append(n),this.con.removeClass("hidden")),this.scroll_div.on("mousedown.layer",(function(n){var i=e(n.target),o=t.scroll_div[0].clientWidth;return i.closest(".layer-close").length?(t.closeable&&t.close(),!1):!i.closest(t.con).length&&n.clientX<o?(t.closeByScreenlocker&&t.closeable&&t.close(),!1):void 0})),this.scroll_div.on("scroll",{passive:!0},(function(){e(window).trigger("layer-scroll",[t])})),this.popstate&&e(window).on("popstate.layer"+this.name,(function(e){t.closeable&&t.close()})),1==i.items.length&&(e("body").addClass("body-open-layer"),this.scrollTop=e(window).scrollTop(),e(this.wrapper).css("marginTop",-this.scrollTop+"px"),e("body").css("overflow","hidden"),e("html").css("overflow-y","scroll")),this.setPosition(),this.content_node=n,this.con.show(),t.change_url&&t.url&&(t.previous_url=window.location.href,history.replaceState(null,null,t.url)),this.afterShow(this),this.trigger("afterShow"),this.$closeLayer=e(".layer-close",this.wrap_div),this.setCloseable(this.closeable),this.closed=!1},i.prototype.getCacheKey=function(){var e=this.name+"_"+(this.url||"");if(this.parameters)for(var t in this.parameters)e+="_"+this.parameters[t];return e},Object.assign(i.prototype,t.prototype),window.screenLocker={counter:0,node:null,show:function(){if(this.node){this.counter++,1==this.counter&&this.node.show();var t=i.findLast();this.node.css("z-index",t.zIndex)}else this.node=e("#popupLayerScreenLocker"),this.node.length||(this.node=e('<div id="popupLayerScreenLocker"></div>'),e("body").append(this.node)),this.show()},hide:function(){if(0!==this.counter)if(this.counter--,0===this.counter)this.node.hide();else{var e=i.findLast();this.node.css("z-index",e.zIndex)}}},e(window).on("resize.layer",(function(e){i.forEach((function(e){e.setPosition()}))})),e(document).on("keydown.layer",(function(e){var t=i.findLast();if(t&&27===e.keyCode)t.closeable&&t.close()}))})),define("js2/ZATimer",["jquery","js2/jquery.layer"],(function(e,t,n){"use strict";var i="zaTimer",o=window.is_mobile?1:.7,s=!0,a=[],r={};function c(e,t){var n=e.data("displayEventInfo")||{},i=(t.ev_action||"")+(t.ev_category||"");return n[i]=n[i]||{},n[i].last_sent_ts=n[i].last_sent_ts||null,n[i].timerId=n[i].timerId||null,e.data("displayEventInfo",n),n[i]}function l(e){var t=(e.ev_action||"")+(e.ev_category||"");return r[t]=r[t]||[],r[t]}function d(e,t,n){return!(!c(e,t).last_sent_ts||!n.send_once)||!(!n.send_once_by_key||-1===l(t).indexOf(n.send_once_by_key))}function u(e){return document.documentElement.contains(e[0])}function f(t,n,i){var o=c(t,n);d(t,n,i)||u(t)&&(window.za(function(e,t){var n=Object.assign({},e);for(var i in n){var o=n[i];o&&"function"==typeof o&&(n[i]=o.apply(n,t))}return n}(n,[t])),"comments"===n.ev_category&&"write_comment_display"===n.ev_action&&e(window).trigger("track-event.metrika",[n.ev_category,n.ev_action]),o.last_sent_ts=+new Date/1e3,i.send_once_by_key&&l(n).push(i.send_once_by_key))}function h(e,t){var n=c(e,t);n.timerId&&(clearTimeout(n.timerId),n.timerId=null)}function p(t){if(!t||!t.length||!document.body.contains(t[0]))return!1;var n=t[0].getBoundingClientRect(),i=document.elementFromPoint(n.left+n.width/2,n.top+n.height/2);return e(i).closest(t)[0]===t[0]}function g(t,n,i){var o,a=[],r=i.visible_percent||1,l=new IntersectionObserver((function(e){e.forEach((function(e){!function(e,t){var o=v(e,n,i);e=o[0],n=o[1],i=o[2];var s=c(e,n);if(d(e,n,i))return h(e,n),void l.unobserve(e[0]);if(!u(e))return h(e,n),void l.unobserve(e[0]);if(!p(e)&&!t.isIntersecting)return void h(e,n);if(void 0!==t.intersectionRatio&&t.intersectionRatio<r)return void h(e,n);if(s.timerId)return;function a(e,t,n){return n.interval>0?setTimeout((function(){f(e,t,n)}),1e3*n.interval):(f(e,t,n),null)}s.timerId=a(e,n,i)}(e.target,e)}))}),{rootMargin:(o=window.is_mobile?e("#header").find(".header-container"):e("#serviceNavPanel"),-(o.length?o.outerHeight():0)+"px 0% 0% 0%"),threshold:[r]});var g=function(){e(t).each((function(){(function(e){for(var t=0;t<a.length;t++)if(e===a[t])return!0;return!1})(this)||e(this).data("za")&&(l.observe(this),a.push(this))}))};return g(),{selector:t,lookForNewElements:g,checkElementsVisible:function(){a.forEach((function(e){!function(e){var t=v(e,n,i);e=t[0],n=t[1],i=t[2],d(e,n,i)||(p(e)&&s?(l.unobserve(e[0]),l.observe(e[0])):h(e,n))}(e)}))},unObserve:function(){l.disconnect(),l=null,a=null}}}function v(t,n,i){var o=e(t).data("za")||{},s=Object.assign({},n),a=Object.assign({},i);return a.send_once=void 0===o.send_once||o.send_once,o.send_once_by_key&&Object.assign(a,{send_once:!0,send_once_by_key:o.send_once_by_key}),o.visibility_block_selector&&Object.assign(a,{visibility_block_selector:o.visibility_block_selector}),Object.assign(s,o.data),[e(t),s,a]}e(window).off("."+i),e(window).on(["layer-after-show","balloon-after-show balloon-after-close","ymap-balloon-close","toggle","overlap","focus blur"].join(" ").split(" ").map((function(e){return e+"."+i})).join(" "),(function(e){"blur"===e.type&&(s=!1),"focus"===e.type&&(s=!0),a.forEach((function(e){e.lookForNewElements(),e.checkElementsVisible()}))}));var m=throttle((function(){a.forEach((function(e){e.lookForNewElements()}))}),1e3);new MutationObserver((function(e){e.find((function(e){return e.addedNodes&&e.addedNodes.length&&null!==(e.addedNodes[0].outerHTML||"").match(/data-za/i)}))&&m()})).observe(document.body,{childList:!0,subtree:!0,attributes:!1});var y={DISPLAY_INTERVAL:3,DISPLAY_LONG_INTERVAL:30,VISIBLE_PERCENT:o,VISIBLE_PERCENT_LONG:1,track:function(e,t,n){var i=g(e,t,n);a.push(i)},trigger:function(t,n,i){var o,s;(o={eventOpts:n,trackingOpts:i},s=function(t){var n=v(e(this),t.eventOpts,t.trackingOpts);f(n[0],n[1],n[2])},function(){var t=e(this).data("za");if(!t)return!1;var n=[];o.eventOpts&&o.eventOpts.ev_action&&(n=o.eventOpts.ev_action.split("_"));for(var i=!0;n.length;){if("track_"+n.join("_")in t){i=t["track_"+n.join("_")];break}n.pop()}i&&s.call(this,o)}).call(t)},untrack:function(t){for(var n=0;a[n];){var i=a[n];t instanceof e&&i.selector instanceof e&&i.selector.is(t)||t===i.selector?(a[n].unObserve(),a.splice(n,1)):++n}}};return y})),define("js2/lazyload",[],(function(){"use strict";var e="data-original",t="data-srcset",n=null;function i(i,o){var s=o||{};this.settings={},this.settings.src=s.src||e,this.settings.srcset=s.srcset||t,this.settings.appear=s.appear||n,this.settings.effect=s.effect||null,this.settings.container=s.container||null,this.images=i||[],this.observer=null,this.init()}return i.prototype={init:function(){if(window.IntersectionObserver){var e=this,t={root:null,rootMargin:"0px",threshold:[0]};this.settings.container&&(t.root=this.settings.container),this.observer=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){e.observer.unobserve(t.target);var n=t.target.getAttribute(e.settings.src),i=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),i&&(t.target.srcset=i),"fadeIn"===e.settings.effect&&(t.target.style.opacity="0",t.target.onload=function(){t.target.style.opacity="1",t.target.style.transition="opacity 500ms"})):n&&(t.target.style.backgroundImage="url("+n+")"),e.settings.appear&&"function"==typeof e.settings.appear&&e.settings.appear.call(t.target)}}))}),t),this.images.forEach((function(t){e.observer.observe(t)}))}else this.loadImages()},loadImages:function(){if(this.settings){var e=this;this.images.forEach((function(t){var n=t.getAttribute(e.settings.src),i=t.getAttribute(e.settings.srcset);"img"===t.tagName.toLowerCase()?(n&&(t.src=n),i&&(t.srcset=i)):t.style.backgroundImage="url("+n+")",e.settings.appear&&"function"==typeof e.settings.appear&&e.settings.appear.call(t)}))}}},i})),define("js2/async-unit",[],(function(){return function(e,t){var n=window.document,i="string"==typeof e?n.querySelector(e):e;function o(){if(!i.dataset.auLoaded){var e=new XMLHttpRequest;e.onload=function(){i.innerHTML=e.responseText,i.dataset.auLoaded=!0;for(var o=i.querySelectorAll("script"),s=0;s<o.length;++s){var a=n.createElement("script");a.textContent=o[s].textContent,n.head.appendChild(a)}"function"==typeof t&&t.call(i,i)},e.open("GET",i.dataset.url,!0),e.send()}}i&&new IntersectionObserver((function(e,t){for(var n=0;n<e.length;++n)e[n].isIntersecting&&(t.unobserve(e[n].target),o())})).observe(i)}})),define("js2/mobile/HeaderController",["jquery","js2/Toggler","js2/AdminNav","js2/CityToggler"],(function(e,t,n,i){function o(t){this.$node=e(t)||e("#header"),this.params={city:null,cityName:null,category:null,additionalUrl:null}}return Object.assign(o.prototype,{setParam:function(e,t){return this.params[e]=t,this},init:function(){var e=this;e.initCities(),e.initLeftMenu(),e.initLanguageMenu(),e.initAdminMenu(),e.initLogin(),e.initAnalytics(),e.initToggleMobileMenu()},initLeftMenu:function(){var n=this.$node.find(".header-menu-toggle"),i=this.$node.find(".header-side-menu");new t(n,i).on("toggle",(function(t){e("html").toggleClass("mobile_menu_open",t),n.toggleClass("active",t),e(window).trigger("overlap")}))},initLanguageMenu:function(){var t=this.$node.find(".js-language"),n=this.$node.find(".js-language-balloon");t.on("click",(function(){e(this).toggleClass("dropped"),n.toggle()}))},initAdminMenu:function(){new n(this.$node.find(".js-admin-nav"),!0)},initCities:function(){new i(this.$node,this.city,this.params.additionalUrl)},initLogin:function(){this.$node.find(".js-login").on("click",(function(t){t.preventDefault(),create_layer("auth",{login:!0,sourceType:"header",parameters:{regform:e(this).data("regform")}})}))},initAnalytics:function(){var t=this,n=e(".js-header-menu-toggle"),i=e(".js-header-logo"),o=e(".js-login"),s=e(".js-app-as"),a=e(".js-app-gp"),r=e(".mobile-city-balloon");n.on("click.toggler",(function(){e(window).trigger("track-event",["burger_menu",e(this).hasClass("active")?"click":"close"])})),i.on("touchstart",{passive:!0},(function(){e(window).trigger("track-event",["logo","click"])})),o.on("touchstart",{passive:!0},(function(){e(window).trigger("track-event",["login","click"])})),s.on("touchstart",{passive:!0},(function(){e(window).trigger("track-event",["burger_menu","click_app"])})),a.on("touchstart",{passive:!0},(function(){e(window).trigger("track-event",["burger_menu","click_app"])})),r.on("touchstart",".cities-list li",{passive:!0},(function(n){var i=e(n.currentTarget).data("name"),o=i&&t.params.cityName&&i===t.params.cityName;e(window).trigger("track-event",["burger_menu","choice_city",o?"no_change":"change"])}))},initToggleMobileMenu:function(){var t=e(".js-toggle-login"),n=e(".js-header-city-toggle-container"),i=e(".avatar-container"),o=e(".menu-items-list"),s=49*e(".menu-items-list .menu-item").length;o.css({"margin-top":-s}),t.on("click",(function(){n.toggleClass("wrapped"),i.toggleClass("unwrapped"),o.css({"margin-top":i.hasClass("unwrapped")?0:-s})}))}}),o})),define("js2/mobile/ChooseCity",["jquery","js2/Toggler"],(function(e,t){return function(n,i,o,s){this.toggler=new t(n,i,(function(){e.get("/js.php?area=header&action=cities&mobile=1&category="+o,(function(e){e&&(i.append(e),s&&s())}))})),this.toggler.on("toggle",(function(e){n.toggleClass("active dropped",e)}))}})),define("js2/PhoneController",["jquery","js2/ZATimer"],(function(e,t){var n=!1;return function(i){var o=0,s=function(e){setTimeout((function(){document.hasFocus()?o=0:++o>=10?t.trigger(e,{ev_action:"lead"},{send_once:!0}):s(e)}),1e3)};e(document).off("click.phone").on("click.phone",".js-phone",(function(o){var a=e(this),r=a.closest(".js-phone-holder"),c=a.data("json"),l=a.data("za");if("object"!=typeof c&&(c=e.parseJSON(c)),i)n||(n=!0,setTimeout((function(){n=!1}),300),l&&(t.trigger(a,{ev_action:"display"},{send_once:!0}),t.trigger(a,{ev_action:"open"},{send_once:!0}),s(a)));else if(0===e(o.target).closest(".phone-list-place").length&&o.preventDefault(),a.hasClass("phone-hidden")){if(r.length)e(".js-phone",r).each((function(){var t=e(this);if(t.hasClass("phone-hidden")){var n=e(".js-phone-number-text",t);0===n.length&&(n=e(".js-phone-number",t)).css("pointer-events","all"),n.text(t.data("number")),t.removeClass("phone-hidden").addClass("phone-showed")}t.parent(".service-phones-list").length&&e(".js-phone-link",t).removeClass("button phone-button phone-button-purple").addClass("invisible-link")}));else{var d=e(".js-phone-number-text",a);0===d.length&&(d=e(".js-phone-number",a)),d.text(a.data("number")),a.removeClass("phone-hidden").addClass("phone-showed")}e(window).trigger("z-show-phone height"),l&&(t.trigger(a,{ev_action:"display"},{send_once:!0}),t.trigger(a,{ev_action:"open"},{send_once:!0}))}l&&(e(window).trigger("track-event.metrika",[l.data.ev_category,"open",l.data.ev_label]),e(window).trigger("track-event.analytics",[l.data.ev_category,"open",l.data.ev_label]),e(window).trigger("track-event.analyticscustom",[l.data.ev_category,"open",l.data.ev_label]),e(window).trigger("track-event.facebook",[l.data.ev_category,"open",l.data.ev_label]))})),i&&e(".js-phone").addClass("callto"),t.untrack(".js-phone[data-za]"),t.track(".js-phone[data-za]",{ev_action:"display"},{interval:t.DISPLAY_INTERVAL,visible_percent:t.VISIBLE_PERCENT})}})),define("js2/AddOrgBtn",["exports"],(function(e){e.init=function(e,t,n){e.addEventListener("click",(function(e){e.preventDefault(),create_layer("newpoint",{customOnDone:function(e){if(!n)return!1;const i=window.LayerClass.findLast();if(i&&i.close(),e.redirect)window.location=e.redirect;else{const n=function(){create_layer("business_access_code",{parameters:{organizationId:e.organization_id},show_form:!1,afterClose:function(t){"code"===t&&(window.location.href="/corp/activation/?organization_id="+e.organization_id)}})};t?n():create_layer("auth",{closeable:!1,login:!0,on_success:function(e){e&&e.close(),n()}})}return!0}})}))}})),
/*!
 * sly 1.6.1.2 - 16th Dec 2020 | Patched by Yudashkina <un@zoon.ru> | Patched by Alexey Kozlov <kav@zoon.ru>
 * https://github.com/darsain/sly
 *
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 */
function(e,t){"use strict";"function"==typeof define&&define.amd&&define("lib/sly",["jquery","window"],(function(e,t,n){var i,o,s,a=t.document,r="sly",c=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,l=t.requestAnimationFrame,d=e(a),u="touchstart."+r+" mousedown."+r,f="mousemove."+r+" mouseup."+r,h="touchmove."+r+" touchend."+r,p=(a.onwheel?"wheel.":"mousewheel.")+r,g="click."+r,v="mousedown."+r,m=["INPUT","SELECT","BUTTON","TEXTAREA"],y=[],w=Math.abs,b=Math.sqrt,_=Math.pow,j=Math.round,k=Math.max,C=Math.min,x=0;function I(t,$,A){if(!(this instanceof I))return new I(t,$,A);var D,B,M=e.extend({},I.defaults,$),N=this,H=O(t),F=e(t),R=M.slidee?e(M.slidee).eq(0):F.children().eq(0),U=0,V=0,X={start:0,center:0,end:0,cur:0,dest:0},Y=e(M.scrollBar).eq(0),W=Y.children().eq(0),K=0,G=0,J={start:0,end:0,cur:0},Q=e(M.pagesBar),Z=0,ee=[],te=0,ne=[],ie={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},oe=new P(F[0]),se=new P(R[0]),ae=new P(Y[0]),re=new P(W[0]),ce="basic"===M.itemNav,le="forceCentered"===M.itemNav,de="centered"===M.itemNav||le,ue=!H&&(ce||de||le),fe=M.scrollSource?e(M.scrollSource):F,he=M.dragSource?e(M.dragSource):F,pe=e(M.forward),ge=e(M.backward),ve=e(M.prev),me=e(M.next),ye=e(M.prevPage),we=e(M.nextPage),be={},_e={},je={},ke={},Ce={released:1},xe={last:0,delta:0,resetTime:200},Ie=0,ze=0,Se=0,Le=0;function Te(n){var i=ee.length;if(X.old=e.extend({},X),U=H?0:F[M.horizontal?"width":"height"](),K=Y[M.horizontal?"width":"height"](),V=H?t:R[M.horizontal?"outerWidth":"outerHeight"](),ee.length=0,X.start=0,X.end=k(V-U,0),ue){ne.length,te=R.children(M.itemSelector),ne.length=0;var o,s=E(R,M.horizontal?"paddingLeft":"paddingTop"),a=E(R,M.horizontal?"paddingRight":"paddingBottom"),r="border-box"===e(te).css("boxSizing"),c="none"!==te.css("float"),l=0,d=te.length-1;V=0,te.each((function(t,n){var i=e(n),r=n.getBoundingClientRect(),u=j(M.horizontal?r.width||r.right-r.left:r.height||r.bottom-r.top),f=E(i,M.horizontal?"marginLeft":"marginTop"),h=E(i,M.horizontal?"marginRight":"marginBottom"),p=u+f+h,g=!f||!h,v={};v.el=n,v.size=g?u:p,v.half=v.size/2,v.start=V+(g?f:0),v.center=v.start-j(U/2-v.size/2),v.end=v.start-U+v.size,t||(V+=s),V+=p,M.horizontal||c||h&&f&&t>0&&(V-=C(f,h)),t===d&&(v.end+=a,V+=a,l=g?h:0),ne.push(v),o=v})),R[0].style[M.horizontal?"width":"height"]=(r?V:V-s-a)+"px",V-=l,ne.length?(X.start=ne[0][le?"center":"start"],X.end=le?o.center:U<V?o.end:X.start):X.start=X.end=0}if(X.center=j(X.end/2+X.start/2),He(),W.length&&K>0&&(M.dynamicHandle?(G=q(G=X.start===X.end?K:j(K*U/V),M.minHandleSize,K),W[0].style[M.horizontal?"width":"height"]=G+"px"):G=W[M.horizontal?"outerWidth":"outerHeight"](),J.end=K-G,Ie||qe()),!H&&U>0){var u=X.start,f="";if(ue)e.each(ne,(function(e,t){le?ee.push(t.center):t.start+t.size>u&&u<=X.end&&(u=t.start,ee.push(u),(u+=U)>X.end&&u<X.end+U&&ee.push(X.end))}));else for(;u-U<X.end;)ee.push(u),u+=U;if(Q[0]&&i!==ee.length){for(var h=0;h<ee.length;h++)f+=M.pageBuilder.call(N,h);(Z=Q.html(f).children()).eq(ie.activePage).addClass(M.activeClass)}}if(ie.slideeSize=V,ie.frameSize=U,ie.sbSize=K,ie.handleSize=G,ue){n&&null!=M.startAt&&(Me(M.startAt),N[de?"toCenter":"toStart"](M.startAt));var p=ne[ie.activeItem];Oe(de&&p?p.center:q(X.dest,X.start,X.end))}else n?null!=M.startAt&&Oe(M.startAt,1):Oe(q(X.dest,X.start,X.end));ct("load")}function Oe(e,t,n){if(ue&&Ce.released&&!n){var i=Ne(e),o=e>X.start&&e<X.end;de?(o&&(e=ne[i.centerItem].center),le&&M.activateMiddle&&Me(i.centerItem)):o&&(e=ne[i.firstItem].start)}Ce.init&&Ce.slidee&&M.elasticBounds?e>X.end?e=X.end+(e-X.end)/6:e<X.start&&(e=X.start+(e-X.start)/6):e=q(e,X.start,X.end),je.start=+new Date,je.time=0,je.from=X.cur,je.to=e,je.delta=e-X.cur,je.tweesing=Ce.tweese||Ce.init&&!Ce.slidee,je.immediate=!je.tweesing&&(t||Ce.init&&Ce.slidee||!M.speed),Ce.tweese=0,e!==X.dest&&(X.dest=e,ct("change"),Ie||Ee()),Ve(),He(),Fe(),Pe()}function Ee(){if(N.initialized){if(!Ie)return Ie=l(Ee),void(Ce.released&&ct("moveStart"));je.immediate?X.cur=je.to:je.tweesing?(je.tweeseDelta=je.to-X.cur,w(je.tweeseDelta)<.1?X.cur=je.to:X.cur+=je.tweeseDelta*(Ce.released?M.swingSpeed:M.syncSpeed)):(je.time=C(+new Date-je.start,M.speed),X.cur=je.from+je.delta*e.easing[M.easing](je.time/M.speed,je.time,0,1,M.speed)),je.to===X.cur?(X.cur=je.to,Ce.tweese=Ie=0):Ie=l(Ee),ct("move"),H||(i?R[0].style[i]=o+(M.horizontal?"translateX":"translateY")+"("+-X.cur+"px)":R[0].style[M.horizontal?"left":"top"]=-j(X.cur)+"px"),!Ie&&Ce.released&&ct("moveEnd"),qe()}}function qe(){W.length&&(J.cur=X.start===X.end?0:((Ce.init&&!Ce.slidee?X.dest:X.cur)-X.start)/(X.end-X.start)*J.end,J.cur=q(j(J.cur),J.start,J.end),_e.hPos!==J.cur&&(_e.hPos=J.cur,i?W[0].style[i]=o+(M.horizontal?"translateX":"translateY")+"("+J.cur+"px)":W[0].style[M.horizontal?"left":"top"]=J.cur+"px"))}function Pe(){Z[0]&&_e.page!==ie.activePage&&(_e.page=ie.activePage,Z.removeClass(M.activeClass).eq(ie.activePage).addClass(M.activeClass),ct("activePage",_e.page))}function $e(){ke.speed&&X.cur!==(ke.speed>0?X.end:X.start)||N.stop(),Le=Ce.init?l($e):0,ke.now=+new Date,ke.pos=X.cur+(ke.now-ke.lastTime)/1e3*ke.speed,Oe(Ce.init?ke.pos:j(ke.pos)),Ce.init||X.cur!==X.dest||ct("moveEnd"),ke.lastTime=ke.now}function Ae(e,t,i){if("boolean"===z(t)&&(i=t,t=n),t===n)Oe(X[e],i);else{if(de&&"center"!==e)return;var o=N.getPos(t);o&&Oe(o[e],i,!de)}}function De(e){return null!=e?O(e)?e>=0&&e<ne.length?e:-1:te.index(e):-1}function Be(e){return De(O(e)&&e<0?e+ne.length:e)}function Me(e,t){var n=De(e);return!(!ue||n<0)&&((_e.active!==n||t)&&(te.eq(ie.activeItem).removeClass(M.activeClass),te.eq(n).addClass(M.activeClass),_e.active=ie.activeItem=n,Fe(),ct("active",n)),n)}function Ne(e){e=q(O(e)?e:X.dest,X.start,X.end);var t={},n=le?0:U/2;if(!H)for(var i=0,o=ee.length;i<o;i++){if(e>=X.end||i===ee.length-1){t.activePage=ee.length-1;break}if(e<=ee[i]+n){t.activePage=i;break}}if(ue){for(var s=!1,a=!1,r=!1,c=0,l=ne.length;c<l;c++)if(!1===s&&e<=ne[c].start+ne[c].half&&(s=c),!1===r&&e<=ne[c].center+ne[c].half&&(r=c),c===l-1||e<=ne[c].end+ne[c].half){a=c;break}t.firstItem=O(s)?s:0,t.centerItem=O(r)?r:t.firstItem,t.lastItem=O(a)?a:t.centerItem}return t}function He(t){e.extend(ie,Ne(t))}function Fe(){var e=X.dest<=X.start,t=X.dest>=X.end,n=(e?1:0)|(t?2:0);if(_e.slideePosState!==n&&(_e.slideePosState=n,ye.is("button,input")&&ye.prop("disabled",e),we.is("button,input")&&we.prop("disabled",t),ye.add(ge)[e?"addClass":"removeClass"](M.disabledClass),we.add(pe)[t?"addClass":"removeClass"](M.disabledClass)),_e.fwdbwdState!==n&&Ce.released&&(_e.fwdbwdState=n,ge.is("button,input")&&ge.prop("disabled",e),pe.is("button,input")&&pe.prop("disabled",t)),ue&&null!=ie.activeItem){var i=0===ie.activeItem,o=ie.activeItem>=ne.length-1,s=(i?1:0)|(o?2:0);_e.itemsButtonState!==s&&(_e.itemsButtonState=s,ve.is("button,input")&&ve.prop("disabled",i),me.is("button,input")&&me.prop("disabled",o),ve[i?"addClass":"removeClass"](M.disabledClass),me[o?"addClass":"removeClass"](M.disabledClass))}}function Re(e,t,n){if(e=Be(e),t=Be(t),e>-1&&t>-1&&e!==t&&(!n||t!==e-1)&&(n||t!==e+1)){te.eq(e)[n?"insertAfter":"insertBefore"](ne[t].el);var i=e<t?e:n?t:t-1,o=e>t?e:n?t+1:t,s=e>t;null!=ie.activeItem&&(e===ie.activeItem?_e.active=ie.activeItem=n?s?t+1:t:s?t:t-1:ie.activeItem>i&&ie.activeItem<o&&(_e.active=ie.activeItem+=s?1:-1)),Te()}}function Ue(e,t){for(var n=0,i=be[e].length;n<i;n++)if(be[e][n]===t)return n;return-1}function Ve(){Ce.released&&!N.isPaused&&N.resume()}function Xe(e){return j(q(e,J.start,J.end)/J.end*(X.end-X.start))+X.start}function Ye(){Ce.history[0]=Ce.history[1],Ce.history[1]=Ce.history[2],Ce.history[2]=Ce.history[3],Ce.history[3]=Ce.delta}function We(e){Ce.released=0,Ce.source=e,Ce.slidee="slidee"===e}function Ke(t){var n="touchstart"===t.type,i=t.data.source,o="slidee"===i;Ce.init||!n&&Qe(t.target)||("handle"!==i||M.dragHandle&&J.start!==J.end)&&(o&&!(n?M.touchDragging:M.mouseDragging&&t.which<2)||(We(i),Ce.init=0,Ce.$source=e(t.target),Ce.touch=n,Ce.pointer=n?t.originalEvent.touches[0]:t,Ce.initX=Ce.pointer.pageX,Ce.initY=Ce.pointer.pageY,Ce.initPos=o?X.cur:J.cur,Ce.start=+new Date,Ce.time=0,Ce.path=0,Ce.delta=0,Ce.locked=0,Ce.history=[0,0,0,0],Ce.pathToLock=o?n?30:10:0,d.on(n?h:f,{passive:!0},Ge),N.pause(1),(o?R:W).addClass(M.draggedClass),ct("moveStart"),o&&(ze=setInterval(Ye,10))))}function Ge(e){"touchmove"===e.type||e.type;if(Ce.released="mouseup"===e.type||"touchend"===e.type,Ce.pointer=Ce.touch?e.originalEvent[Ce.released?"changedTouches":"touches"][0]:e,Ce.pathX=Ce.pointer.pageX-Ce.initX,Ce.pathY=Ce.pointer.pageY-Ce.initY,Ce.path=b(_(Ce.pathX,2)+_(Ce.pathY,2)),Ce.delta=M.horizontal?Ce.pathX:Ce.pathY,Ce.released||!(Ce.path<1)){if(!Ce.init){if(Ce.path<M.dragThreshold)return Ce.released?Je():n;if(!(M.horizontal?w(Ce.pathX)>w(Ce.pathY):w(Ce.pathX)<w(Ce.pathY)))return Je();Ce.init=1}if(!Ce.locked&&Ce.path>Ce.pathToLock&&Ce.slidee&&(Ce.locked=1,Ce.$source.on(g,L)),Ce.released&&(Je(),M.releaseSwing&&Ce.slidee&&(Ce.swing=(Ce.delta-Ce.history[0])/40*300,Ce.delta+=Ce.swing,Ce.tweese=w(Ce.swing)>10)),M.slidebyone)if(Ce.delta<0){var t=ne[q(ie.activeItem+1,0,ne.length-1)];Math.abs(Ce.delta)>=t.size&&(Ce.delta=-t.size)}else{var i=ne[q(ie.activeItem-1,0,ne.length-1)];Math.abs(Ce.delta)>=i.size&&(Ce.delta=i.size)}Oe(Ce.slidee?j(Ce.initPos-Ce.delta):Xe(Ce.initPos+Ce.delta))}}function Je(){clearInterval(ze),Ce.released=!0,d.off(Ce.touch?h:f,Ge),(Ce.slidee?R:W).removeClass(M.draggedClass),setTimeout((function(){Ce.$source.off(g,L)})),X.cur===X.dest&&Ce.init&&ct("moveEnd"),N.resume(1),Ce.init=0}function Qe(t){return~e.inArray(t.nodeName,m)||e(t).is(M.interactive)}function Ze(){N.stop(),d.off("mouseup",Ze)}function et(e){switch(S(e),this){case pe[0]:case ge[0]:N.moveBy(pe.is(this)?M.moveBy:-M.moveBy),d.on("mouseup",Ze);break;case ve[0]:N.prev();break;case me[0]:N.next();break;case ye[0]:N.prevPage();break;case we[0]:N.nextPage()}}function tt(e){return xe.curDelta=(M.horizontal?e.deltaY||e.deltaX:e.deltaY)||-e.wheelDelta,xe.curDelta/=1===e.deltaMode?3:100,ue?(s=+new Date,xe.last<s-xe.resetTime&&(xe.delta=0),xe.last=s,xe.delta+=xe.curDelta,w(xe.delta)<1?xe.finalDelta=0:(xe.finalDelta=j(xe.delta/1),xe.delta%=1),xe.finalDelta):xe.curDelta}function nt(e){e.originalEvent[r]=N;var t=+new Date;if(x+M.scrollHijack>t&&fe[0]!==a&&fe[0]!==window)x=t;else if(M.scrollBy&&X.start!==X.end){var n=tt(e.originalEvent);(M.scrollTrap||n>0&&X.dest<X.end||n<0&&X.dest>X.start)&&S(e,1),N.slideBy(M.scrollBy*n)}}function it(e){M.clickBar&&e.target===Y[0]&&(S(e),Oe(Xe((M.horizontal?e.pageX-Y.offset().left:e.pageY-Y.offset().top)-G/2)))}function ot(e){if(M.keyboardNavBy)switch(e.which){case M.horizontal?37:38:S(e),N["pages"===M.keyboardNavBy?"prevPage":"prev"]();break;case M.horizontal?39:40:S(e),N["pages"===M.keyboardNavBy?"nextPage":"next"]()}}function st(e){Qe(this)?e.originalEvent[r+"ignore"]=!0:this.parentNode!==R[0]||e.originalEvent[r+"ignore"]||N.activate(this)}function at(){this.parentNode===Q[0]&&N.activatePage(Z.index(this))}function rt(e){M.pauseOnHover&&N["mouseenter"===e.type?"pause":"resume"](2)}function ct(e,t){if(be[e]){for(B=be[e].length,y.length=0,D=0;D<B;D++)y.push(be[e][D]);for(D=0;D<B;D++)y[D].call(N,e,t)}}H||(t=F[0]),N.initialized=0,N.frame=t,N.slidee=R[0],N.pos=X,N.rel=ie,N.items=ne,N.pages=ee,N.isPaused=0,N.options=M,N.dragging=Ce,N.reload=function(){Te()},N.getPos=function(e){if(ue){var t=De(e);return-1!==t&&ne[t]}var n=R.find(e).eq(0);if(n[0]){var i=M.horizontal?n.offset().left-R.offset().left:n.offset().top-R.offset().top,o=n[M.horizontal?"outerWidth":"outerHeight"]();return{start:i,center:i-U/2+o/2,end:i-U+o,size:o}}return!1},N.moveBy=function(e){ke.speed=e,!Ce.init&&ke.speed&&X.cur!==(ke.speed>0?X.end:X.start)&&(ke.lastTime=+new Date,ke.startPos=X.cur,We("button"),Ce.init=1,ct("moveStart"),c(Le),$e())},N.stop=function(){"button"===Ce.source&&(Ce.init=0,Ce.released=1)},N.prev=function(){N.activate(null==ie.activeItem?0:ie.activeItem-1)},N.next=function(){N.activate(null==ie.activeItem?0:ie.activeItem+1)},N.prevPage=function(){N.activatePage(ie.activePage-1)},N.nextPage=function(){N.activatePage(ie.activePage+1)},N.slideBy=function(e,t){e&&(ue?N[de?"toCenter":"toStart"](q((de?ie.centerItem:ie.firstItem)+M.scrollBy*e,0,ne.length)):Oe(X.dest+e,t))},N.slideTo=function(e,t){Oe(e,t)},N.toStart=function(e,t){Ae("start",e,t)},N.toEnd=function(e,t){Ae("end",e,t)},N.toCenter=function(e,t){Ae("center",e,t)},N.getIndex=De,N.activate=function(e,t){var n=Me(e);M.smart&&!1!==n&&(de?N.toCenter(n,t):n>=ie.lastItem?N.toStart(n,t):n<=ie.firstItem?N.toEnd(n,t):Ve())},N.activatePage=function(e,t){O(e)&&Oe(ee[q(e,0,ee.length-1)],t)},N.resume=function(e){M.cycleBy&&M.cycleInterval&&("items"!==M.cycleBy||ne[0]&&null!=ie.activeItem)&&!(e<N.isPaused)&&(N.isPaused=0,Se?Se=clearTimeout(Se):ct("resume"),Se=setTimeout((function(){switch(ct("cycle"),M.cycleBy){case"items":N.activate(ie.activeItem>=ne.length-1?0:ie.activeItem+1);break;case"pages":N.activatePage(ie.activePage>=ee.length-1?0:ie.activePage+1)}}),M.cycleInterval))},N.pause=function(e){e<N.isPaused||(N.isPaused=e||100,Se&&(Se=clearTimeout(Se),ct("pause")))},N.toggle=function(){N[Se?"pause":"resume"]()},N.set=function(t,n){e.isPlainObject(t)?e.extend(M,t):M.hasOwnProperty(t)&&(M[t]=n)},N.add=function(t,n){var i=e(t);ue?(null==n||!ne[0]||n>=ne.length?i.appendTo(R):ne.length&&i.insertBefore(ne[n].el),null!=ie.activeItem&&n<=ie.activeItem&&(_e.active=ie.activeItem+=i.length)):R.append(i),Te()},N.remove=function(t){if(ue){var n=Be(t);if(n>-1){te.eq(n).remove();var i=n===ie.activeItem;null!=ie.activeItem&&n<ie.activeItem&&(_e.active=--ie.activeItem),Te(),i&&(_e.active=null,N.activate(ie.activeItem))}}else e(t).remove(),Te()},N.moveAfter=function(e,t){Re(e,t,1)},N.moveBefore=function(e,t){Re(e,t)},N.on=function(e,t){if("object"===z(e))for(var n in e)e.hasOwnProperty(n)&&N.on(n,e[n]);else if("function"===z(t))for(var i=e.split(" "),o=0,s=i.length;o<s;o++)be[i[o]]=be[i[o]]||[],-1===Ue(i[o],t)&&be[i[o]].push(t);else if("array"===z(t))for(var a=0,r=t.length;a<r;a++)N.on(e,t[a])},N.one=function(e,t){function n(){t.apply(N,arguments),N.off(e,n)}N.on(e,n)},N.off=function(e,t){if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)N.off(e,t[n]);else for(var o=e.split(" "),s=0,a=o.length;s<a;s++)if(be[o[s]]=be[o[s]]||[],null==t)be[o[s]].length=0;else{var r=Ue(o[s],t);-1!==r&&be[o[s]].splice(r,1)}},N.destroy=function(){return I.removeInstance(t),fe.add(W).add(Y).add(Q).add(pe).add(ge).add(ve).add(me).add(ye).add(we).off("."+r),d.off("keydown",ot),ve.add(me).add(ye).add(we).removeClass(M.disabledClass),te&&null!=ie.activeItem&&te.eq(ie.activeItem).removeClass(M.activeClass),Q.empty(),H||(F.off("."+r),oe.restore(),se.restore(),ae.restore(),re.restore(),e.removeData(t,r)),ne.length=ee.length=0,_e={},N.initialized=0,N},N.init=function(){if(!N.initialized){if(I.getInstance(t))throw new Error("There is already a Sly instance on this element");I.storeInstance(t,N),N.on(A);var e=["overflow","position"],n=["position","webkitTransform","msTransform","transform","left","top","width","height"];oe.save.apply(oe,e),ae.save.apply(ae,e),se.save.apply(se,n),re.save.apply(re,n);var s=W;return H||(s=s.add(R),F.css("overflow","hidden"),i||"static"!==F.css("position")||F.css("position","relative")),i?o&&s.css(i,o):("static"===Y.css("position")&&Y.css("position","relative"),s.css({position:"absolute"})),M.forward&&pe.on(v,et),M.backward&&ge.on(v,et),M.prev&&ve.on(g,et),M.next&&me.on(g,et),M.prevPage&&ye.on(g,et),M.nextPage&&we.on(g,et),fe.on(p,{passive:!M.scrollTrap},nt),Y[0]&&Y.on(g,it),ue&&M.activateOn&&F.on(M.activateOn+"."+r,"*",st),Q[0]&&M.activatePageOn&&Q.on(M.activatePageOn+"."+r,"*",at),he.on(u,{source:"slidee",passive:!0},Ke),W&&W.on(u,{source:"handle",passive:!0},Ke),d.on("keydown",ot),H||(F.on("mouseenter."+r+" mouseleave."+r,rt),F.on("scroll."+r,{passive:!0},T)),N.initialized=1,Te(!0),M.cycleBy&&!H&&N[M.startPaused?"pause":"resume"](),N}}}function z(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof e}function S(e,t){e.preventDefault(),t&&e.stopPropagation()}function L(t){S(t,1),e(this).off(t.type,L)}function T(){this.scrollLeft=0,this.scrollTop=0}function O(e){return!isNaN(parseFloat(e))&&isFinite(e)}function E(e,t){return 0|j(String(e.css(t)).replace(/[^\-0-9.]/g,""))}function q(e,t,n){return e<t?t:e>n?n:e}function P(e){var t={style:{},save:function(){if(e&&e.nodeType){for(var n=0;n<arguments.length;n++)t.style[arguments[n]]=e.style[arguments[n]];return t}},restore:function(){if(e&&e.nodeType){for(var n in t.style)t.style.hasOwnProperty(n)&&(e.style[n]=t.style[n]);return t}}};return t}return d.on(p,{passive:!0},(function(e){var t=e.originalEvent[r],n=+new Date;(!t||t.options.scrollHijack<n-x)&&(x=n)})),I.getInstance=function(t){return e.data(t,r)},I.storeInstance=function(t,n){return e.data(t,r,n)},I.removeInstance=function(t){return e.removeData(t,r)},function(e){l=e.requestAnimationFrame||e.webkitRequestAnimationFrame||n;var t=(new Date).getTime();function n(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(e,i);return t=n,o}var i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;c=function(t){i.call(e,t)}}(window),function(){var e=["","Webkit","Moz","ms","O"],t=a.createElement("div");function n(n){for(var i=0,o=e.length;i<o;i++){var s=e[i]?e[i]+n.charAt(0).toUpperCase()+n.slice(1):n;if(null!=t.style[s])return s}}i=n("transform"),o=n("perspective")?"translateZ(0) ":""}(),I.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,slidebyone:!1,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(e){return"<li>"+(e+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"},I}))}("undefined"!=typeof window&&window),function(e){"use strict";var t=[],n=["Script error."];e.onerror=function(i,o,s,a,r){if(!(~n.indexOf(i)||(c=e.navigator)&&/yabrowser\/(\d+\.\d+)/i.test(c.userAgent))){var c,l={msg:i,url:o,line:s,column:a,err:r};if(function(e){console.info("Zoon trace"),console.table(e)}(l),2>=t.length){var d=r&&r.stack,u=e.page_load_start;!function(e,n){var i=new XMLHttpRequest,o="";for(var s in e)e.hasOwnProperty(s)&&(o+=s+"="+e[s]+"&");i.open("POST","/js.php"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(o),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&t.push({errData:n,serverData:JSON.parse(this.responseText)})}}({area:"misc",action:"jsError",message:i,url:o,line:s,trace:d||null,ts:u&&(new Date-u)/1e3||0},l)}}},e.onerror.instance=t}(window),define("js2/trace",(function(){})),
/*!
 * jQuery Browser Plugin v0.0.6
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2013 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 *
 * Date: 2013-07-29T17:23:27-07:00
 */
function(e,t){"function"==typeof define&&define.amd?define("js2/jquery.browser",["jquery"],(function(n){t(n,e)})):t(jQuery,e)}(this,(function(e,t){"use strict";var n,i;if(e.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/i.exec(e)||[];return{browser:t[3]||t[1]||"",version:t[2]||"0",platform:n[0]||""}},i={},(n=e.uaMatch(t.navigator.userAgent)).browser&&(i[n.browser]=!0,i.version=n.version,i.versionNumber=parseInt(n.version)),n.platform&&(i[n.platform]=!0),(i.android||i.ipad||i.iphone||i["windows phone"])&&(i.mobile=!0),(i.cros||i.mac||i.linux||i.win)&&(i.desktop=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv){var o="msie";n.browser=o,i[o]=!0}if(i.opr){var s="opera";n.browser=s,i.opera=!0}if(i.safari&&i.android){var a="android";n.browser=a,i.android=!0}return i.name=n.browser,i.platform=n.platform,e.browser=i,i})),define("js2/Faq",[],(function(){return function(e){var t=Object.assign({},e).listOffset||3,n=document.getElementById("js-faq");if(n){var i=n.querySelector(".js-faq-list"),o=n.querySelector(".js-faq-more"),s=n.querySelectorAll(".js-faq-acc");if(i.children.length>t){var a=Array.prototype.slice.call(i.children).slice(t);a.forEach((function(e){e.classList.add("hidden")})),o.dataset.items=i.children.length-t,o.dataset.showMoreButtonText=i18n.t("service.button.more"),o.dataset.rollUpButtonText=i18n.t("service.button.roll_up"),o.classList.remove("hidden"),o.onclick=function(){o.classList.toggle("showed"),a.forEach((function(e){e.classList.toggle("hidden",!o.classList.contains("showed"))}))}}Array.prototype.slice.call(s).forEach((function(e){var t=e.closest("li").querySelector(".js-faq-panel");e.classList.remove("opened"),e.addEventListener("click",(function(n){n.stopImmediatePropagation(),t.classList.toggle("hidden"),e.classList.toggle("opened")}))})),window.dispatchEvent(new Event("height"))}}})),define("js2/CitySelect",[],(function(){return function(e,t={}){const n=13,i=40,o=38,s=document.querySelector(e),a=s.querySelector(".js-city-select-input-wrapper"),r=s.querySelector(".js-city-select-results"),c=s.querySelector(".js-city-select-suggest-results"),l=s.querySelector(".js-city-select-message"),d=s.querySelector(".js-city-select-error"),u=s.querySelector(".js-city-select-loader"),f=a.querySelector("input"),h=s.querySelector(".js-city-select-most-popular"),p={};function g(e){u.classList.add("hidden");const t=e.html&&e.html.length>0,n=f.value.length>1,i=e.success;d.classList.toggle("hidden",i),l.classList.toggle("hidden",!i||t),c.classList.toggle("hidden",!i||!t),h.classList.toggle("hidden",!i||!t||n),t&&(c.innerHTML=e.html)}function v(e){const t=new URLSearchParams(e);return u.classList.remove("hidden"),l.classList.add("hidden"),d.classList.add("hidden"),c.classList.add("hidden"),h.classList.add("hidden"),fetch("/js.php?"+t.toString()).then((function(e){return e.json()})).then((function(e){return g(e),e}))}function m(){const e={area:"header",action:"leftMenuCities"};p.list?g(p.list):(t.additionalUrl&&(e.additionalUrl=t.additionalUrl),v(e).then((function(e){p.list=e})))}function y(e){const n={area:"header",action:"leftMenuSearch"};if(e.length<2)return m();t.additionalUrl&&(n.additionalUrl=t.additionalUrl),n.search=e,v(n)}if(f.addEventListener("keyup",debounce((function(e){[n,o,i].includes(e.keyCode)?function(e){if(!c.classList.contains("hidden")){const t=Array.from(c.children),s=t.find((e=>e.classList.contains("choosen"))),a=s||t[0];switch(e){case n:!function(e){e.classList.add("choosen"),e.querySelector("a").click()}(a);break;case o:_(s,"up");break;case i:_(s,"down")}}}(e.keyCode):y(e.target.value)}),150)),f.addEventListener("focus",(function(){s.classList.add("focused")})),f.addEventListener("blur",(function(){s.classList.remove("focused")})),t.is_phone)return void m();function w(t){t.target.closest(e)||(r.classList.add("hidden"),document.removeEventListener("click",w))}const b=f.value;function _(e,t){const n=Array.from(c.children),i="up"===t;let o=i?0:n.length-1;e&&(e.classList.remove("choosen"),o=n.indexOf(e));let s=i?o-1:o+1;s=(s+n.length)%n.length,n[s].classList.add("choosen"),f.value=n[s].textContent.trim()}f.addEventListener("focus",(function(){f.value===b?(f.value="",m()):y(f.value),r.classList.remove("hidden"),document.addEventListener("click",w)})),f.addEventListener("blur",(function(){0===f.value.length&&(f.value=b)}))}}));