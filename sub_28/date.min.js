Date.$VERSION=1.02;Date.LZ=function(n){return(n<0||n>9?"":"0")+n};Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.monthAbbreviations=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.dayAbbreviations=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.preferAmericanFormat=!0;Date.prototype.getFullYear||(Date.prototype.getFullYear=function(){var n=this.getYear();return n<1900?n+1900:n});Date.parseString=function(n,t){var d,v,g,b,l,e,k;if(typeof t=="undefined"||t==null||t==""){var nt=["M/d/y","M-d-y","M.d.y","M/d","M-d"],tt=["d/M/y","d-M-y","d.M.y","d/M","d-M"],it=[["y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d","MMM-d","d-MMM"],Date.preferAmericanFormat?nt:tt,Date.preferAmericanFormat?tt:nt];for(e=0;e<it.length;e++)for(d=it[e],v=0;v<d.length;v++)if(g=Date.parseString(n,d[v]),g!=null)return g;return null}this.isInteger=function(n){for(var t=0;t<n.length;t++)if("1234567890".indexOf(n.charAt(t))==-1)return!1;return!0};this.getInt=function(n,t,i,r){for(var f,u=r;u>=i;u--){if(f=n.substring(t,t+u),f.length<i)return null;if(this.isInteger(f))return f}return null};n=n+"";t=t+"";for(var r=0,a=0,rt="",i="",y,p,o=(new Date).getFullYear(),f=1,s=1,u=0,h=0,c=0,w="";a<t.length;){for(rt=t.charAt(a),i="";t.charAt(a)==rt&&a<t.length;)i+=t.charAt(a++);if(i=="yyyy"||i=="yy"||i=="y"){if(i=="yyyy"&&(y=4,p=4),i=="yy"&&(y=2,p=2),i=="y"&&(y=2,p=4),o=this.getInt(n,r,y,p),o==null)return null;r+=o.length;o.length==2&&(o=o>70?1900+ +o:2e3+ +o)}else if(i=="MMM"||i=="NNN"){for(f=0,l=i=="MMM"?Date.monthNames.concat(Date.monthAbbreviations):Date.monthAbbreviations,e=0;e<l.length;e++)if(b=l[e],n.substring(r,r+b.length).toLowerCase()==b.toLowerCase()){f=e%12+1;r+=b.length;break}if(f<1||f>12)return null}else if(i=="EE"||i=="E"){for(l=i=="EE"?Date.dayNames:Date.dayAbbreviations,e=0;e<l.length;e++)if(k=l[e],n.substring(r,r+k.length).toLowerCase()==k.toLowerCase()){r+=k.length;break}}else if(i=="MM"||i=="M"){if(f=this.getInt(n,r,i.length,2),f==null||f<1||f>12)return null;r+=f.length}else if(i=="dd"||i=="d"){if(s=this.getInt(n,r,i.length,2),s==null||s<1||s>31)return null;r+=s.length}else if(i=="hh"||i=="h"){if(u=this.getInt(n,r,i.length,2),u==null||u<1||u>12)return null;r+=u.length}else if(i=="HH"||i=="H"){if(u=this.getInt(n,r,i.length,2),u==null||u<0||u>23)return null;r+=u.length}else if(i=="KK"||i=="K"){if(u=this.getInt(n,r,i.length,2),u==null||u<0||u>11)return null;r+=u.length;u++}else if(i=="kk"||i=="k"){if(u=this.getInt(n,r,i.length,2),u==null||u<1||u>24)return null;r+=u.length;u--}else if(i=="mm"||i=="m"){if(h=this.getInt(n,r,i.length,2),h==null||h<0||h>59)return null;r+=h.length}else if(i=="ss"||i=="s"){if(c=this.getInt(n,r,i.length,2),c==null||c<0||c>59)return null;r+=c.length}else if(i=="a"){if(n.substring(r,r+2).toLowerCase()=="am")w="AM";else if(n.substring(r,r+2).toLowerCase()=="pm")w="PM";else return null;r+=2}else{if(n.substring(r,r+i.length)!=i)return null;r+=i.length}}if(f==2)if(o%4==0&&o%100!=0||o%400==0){if(s>29)return null}else if(s>28)return null;return(f==4||f==6||f==9||f==11)&&s>30?null:(u<12&&w=="PM"?u=+u+12:u>11&&w=="AM"&&(u-=12),new Date(o,f-1,s,u,h,c))};Date.isValid=function(n,t){return Date.parseString(n,t)!=null};Date.prototype.isBefore=function(n){return n==null?!1:this.getTime()<n.getTime()};Date.prototype.isAfter=function(n){return n==null?!1:this.getTime()>n.getTime()};Date.prototype.equals=function(n){return n==null?!1:this.getTime()==n.getTime()};Date.prototype.equalsIgnoreTime=function(n){if(n==null)return!1;var t=new Date(this.getTime()).clearTime(),i=new Date(n.getTime()).clearTime();return t.getTime()==i.getTime()};Date.prototype.format=function(n){n=n+"";var e="",u=0,s="",f="",r=this.getYear()+"",o=this.getMonth()+1,h=this.getDate(),c=this.getDay(),i=this.getHours(),l=this.getMinutes(),a=this.getSeconds(),t={};for(r.length<4&&(r=""+(+r+1900)),t.y=""+r,t.yyyy=r,t.yy=r.substring(2,4),t.M=o,t.MM=Date.LZ(o),t.MMM=Date.monthNames[o-1],t.NNN=Date.monthAbbreviations[o-1],t.d=h,t.dd=Date.LZ(h),t.E=Date.dayAbbreviations[c],t.EE=Date.dayNames[c],t.H=i,t.HH=Date.LZ(i),t.h=i==0?12:i>12?i-12:i,t.hh=Date.LZ(t.h),t.K=t.h-1,t.k=t.H+1,t.KK=Date.LZ(t.K),t.kk=Date.LZ(t.k),t.a=i>11?"PM":"AM",t.m=l,t.mm=Date.LZ(l),t.s=a,t.ss=Date.LZ(a);u<n.length;){for(s=n.charAt(u),f="";n.charAt(u)==s&&u<n.length;)f+=n.charAt(u++);e=typeof t[f]!="undefined"?e+t[f]:e+f}return e};Date.prototype.getDayName=function(){return Date.dayNames[this.getDay()]};Date.prototype.getDayAbbreviation=function(){return Date.dayAbbreviations[this.getDay()]};Date.prototype.getMonthName=function(){return Date.monthNames[this.getMonth()]};Date.prototype.getMonthAbbreviation=function(){return Date.monthAbbreviations[this.getMonth()]};Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this};Date.prototype.add=function(n,t){if(typeof n=="undefined"||n==null||typeof t=="undefined"||t==null)return this;if(t=+t,n=="y")this.setFullYear(this.getFullYear()+t);else if(n=="M")this.setMonth(this.getMonth()+t);else if(n=="d")this.setDate(this.getDate()+t);else if(n=="w")for(var i=t>0?1:-1;t!=0;){for(this.add("d",i);this.getDay()==0||this.getDay()==6;)this.add("d",i);t-=i}else n=="h"?this.setHours(this.getHours()+t):n=="m"?this.setMinutes(this.getMinutes()+t):n=="s"&&this.setSeconds(this.getSeconds()+t);return this};