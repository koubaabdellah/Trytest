// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/dijit/SubNav":function(){define("require exports tslib dojo/dom-class dojo/has dojo/hash dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../tsutils/declareDecorator ../utils/formatters ../utils/arrays ../utils/dom ./InlineEdit dojo/text!./SubNav/templates/_option.html dojo/text!./SubNav/templates/_title.html dojo/text!./SubNav/templates/_paths.html dojo/text!./SubNav/templates/_path.html dojo/text!./SubNav/templates/SubNav.html dojo/i18n!../../nls/arcgisonline ../utils/icons".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
return function(){function w(B,A){this.templateString=h["default"];this.i18n=n["default"];this.linksHTML=this.activeLabel="";this.hideLinks="hide";this.edit=null;this._titleTypeSize="subnav-title";this.titleHTML=""}w.prototype.postMixInProperties=function(){var B=this,A;this.inherited(arguments);var D=this.links&&this.links.map(function(F){F.show=-1===Object.keys(F).indexOf("show")||F.show;return F}).filter(function(F){return F.show});0<(null===D||void 0===D?void 0:D.length)&&(this.hideLinks="",this.linksHTML=
this.links.reduce(function(F,v){v.logClick=!!v.logClick;v.isActive=v.id===B.active?"is-active":"";v.isActive&&(B.activeLabel=v.label);return F+g["default"].substitute(d["default"],v,null,z["default"])},""),document.title=this.titleText+" - "+this.activeLabel);if(100<(null===(A=this.title)||void 0===A?void 0:A.length)||this.paths)this._titleTypeSize+=" subnav-title--"+(180<this.titleText.length?"smaller":"small"),this.edit&&(this.edit.titleClass=this._titleTypeSize);this.titleHTML=this.paths?this.generateBreadCrumbs(this.paths):
g["default"].substitute(a["default"],this)};w.prototype.postCreate=function(){var B=this;this.inherited(arguments);this.own(f["default"](".js-subnav-expand",this.domNode).on("click",this.toggleNav.bind(this)),f["default"](".js-subnav-link",this.domNode).on("keyup",this.handleKeyUp.bind(this)),f["default"](".js-subnav-link",this.domNode).on("click",this.handleLinkClick.bind(this)),k["default"].subscribe("/dojo/hashchange",function(A){(t["default"]("ie")||t["default"]("trident")||t["default"]("edge"))&&
B.updateActiveTab(A)}));this.paths&&this.attachBreadCrumbEvents();window.addEventListener("popstate",function(){B.updateActiveTab(window.location.hash)});this.edit&&(this.edit.formClass="flex flex-center fullscreen",this.edit.inputLabel=n["default"].itemProperties.editTitle,this._titleEdit=new e["default"](this.edit,this.domNode.querySelector(".js-subnav-edit")),this.own(k["default"].subscribe("inlineEdit/"+this.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+
"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+"/start",this.openEdit.bind(this))))};w.prototype.showTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).removeClass("hide")};w.prototype.hideTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).addClass("hide")};w.prototype.showEditLink=function(){var B;null===(B=this._titleEdit)||void 0===B?void 0:B.showEditLink()};w.prototype.hideEditLink=function(){var B;
null===(B=this._titleEdit)||void 0===B?void 0:B.hideEditLink()};w.prototype.updateText=function(B){var A;null===(A=this._titleEdit)||void 0===A?void 0:A.updateText(B)};w.prototype.setPageTitle=function(B){this.domNode.querySelector("#pagetitle").textContent=B};w.prototype.updateBreadCrumbs=function(B){this.paths=B;this.domNode.querySelector(".js-subnav-title-wrap").innerHTML=this.generateBreadCrumbs(B);this.attachBreadCrumbEvents()};w.prototype.updateActiveTab=function(B){B=B||"overview";var A=f["default"](".js-subnav-link",
this.domNode);A.removeClass("is-active").attr("aria-selected","false");if(A=q["default"].find(A,function(D){return D.getAttribute("href").replace("#","")===B.replace("#","")}))x["default"].add(A,"is-active"),A.setAttribute("aria-selected","true"),this.activeLabel=A.textContent,this.domNode.querySelector(".js-subnav-current-label").innerHTML=this.activeLabel,this.closeNav(),document.title=this.titleText+" - "+this.activeLabel};w.prototype.attachBreadCrumbEvents=function(){var B=this,A;this.domNode.querySelectorAll(".js-subnav-paths")&&
0<(null===(A=this.paths)||void 0===A?void 0:A.length)&&(m["default"].forEachNode(this.domNode.querySelectorAll(".js-subnav-path"),function(D,F){var v;(null===(v=B.paths[F])||void 0===v?0:v.onPathClick)&&D.addEventListener("click",function(C){B.paths[F].onPathClick(C)})}),A=this.paths[this.paths.length-1],A.edit&&(A.edit.formClass="flex flex-center fullscreen",A.edit.inputLabel=n["default"].itemProperties.editTitle,this._titleEdit=new e["default"](A.edit,this.domNode.querySelector(".js-last-path")),
this.own(k["default"].subscribe("inlineEdit/"+A.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+A.edit.prop+"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+A.edit.prop+"/start",this.openEdit.bind(this)))))};w.prototype.generateBreadCrumbs=function(B){B=B.map(function(A,D,F){return g["default"].substitute(c["default"],r.__assign(r.__assign({},A),{icons:p["default"],showBack:1<F.length&&0===D?"":"hide",lastPath:D===F.length-1?"js-last-path subnav-breadcrumb-last flex-0":
"subnav-breadcrumb-first js-early-path"}))}).join("\x3cspan class\x3d'subnav-breadcrumb-separator flex-0 js-early-path'\x3e/\x3c/span\x3e");return g["default"].substitute(b["default"],{paths:B,_titleTypeSize:this._titleTypeSize})};w.prototype.openNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).addClass("is-active")};w.prototype.closeNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).removeClass("is-active")};w.prototype.toggleNav=function(B){x["default"].contains(B.target,
"is-active")?this.closeNav():this.openNav()};w.prototype.openEdit=function(B){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").addClass("visibility-hidden")};w.prototype.closeEdit=function(){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").removeClass("visibility-hidden")};w.prototype.handleKeyUp=function(B){32===B.keyCode&&(B.preventDefault(),this.logClickEvent(B.target,this.telemetry),l["default"](B.target.getAttribute("href"),!0))};w.prototype.handleLinkClick=
function(B){this.logClickEvent(B.target,this.telemetry)};w.prototype.logClickEvent=function(B,A){"true"===(null===B||void 0===B?void 0:B.dataset.logclick)&&(null===A||void 0===A?void 0:A.logEvent({category:"Secondary Nav",action:B.dataset.tab,size:window.innerWidth,pageUrl:window.location.href}))};return w=r.__decorate([E["default"](u["default"],y["default"])],w)}()})},"arcgisonline/pages/dijit/InlineEdit":function(){define("require exports tslib esri/lang esri/libs/sanitizer/Sanitizer arcgis-components/wrappers/Tags dojo/on dojo/query dojo/has dojo/topic dojo/string dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/formatters ../utils/alerts ../utils/arrays ../utils/dom ../../sharing/util ../utils/icons ../../sharing/dijit/Editor dojox/uuid/generateRandomUuid ./CategoryPicker dojo/text!./InlineEdit/templates/InlineEdit.html dojo/text!./InlineEdit/templates/inlineEditTextArea.html dojo/text!./InlineEdit/templates/inlineEditFieldValueType.html dojo/text!./InlineEdit/templates/inlineEditRichText.html dojo/text!./InlineEdit/templates/inlineEditCustom.html dojo/text!./InlineEdit/templates/inlineEditLayerRename.html dojo/text!./InlineEdit/templates/inlineEditLayerRenameSubnav.html dojo/text!./InlineEdit/templates/inlineEditNotebookTags.html arcgisonline/tsutils/declareDecorator dijit/_editor/plugins/FontChoice dijit/_editor/plugins/TextColor ./InlineEdit/ViewSource ../../sharing/dijit/LinkDialog".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K){x=r.__importDefault(x);t=r.__importDefault(t);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);v=r.__importDefault(v);C=r.__importDefault(C);G=r.__importDefault(G);H=r.__importDefault(H);K=r.__importDefault(K);return function(){function O(L,J){this.templateString=B["default"];this.i18n=E["default"];this.icons=h["default"];this.inputType="textbox";this.inputClass="subnav-edit__input";this.defaultText=this.inputLabel="";this.invalidText=this.emptyText=void 0;this.required=!1;this.pattern=
void 0;this.editorHeight="240px";this.rows=4;this.titleClass="subnav-title";this.titleId="pagetitle";this.viewTitle=this.placeholder=this.buttonsClass=this.formClass=this.formTitle="";this.knownTags=[];this.isGroup=!1;this.editButtonClasses="btn-link-white if-can-update";this.editButtonUpdatePermissionClasses="if-can-update";this.cancelButtonClasses="btn btn-transparent btn-link-white";this.saveButtonClasses="btn btn-white margin-left-half";this.showCharactersLeft=this.showLoader=!1;this.sanitizer=
new t["default"];this.dontSanitize=!1;this._oldValue=this.prop="";this._supportsFormValidation=!1;this.templateString={textArea:A["default"],fieldValueType:D["default"],richText:F["default"],tags:v["default"],categories:v["default"],layerRename:C["default"],layerRenameSubnav:G["default"],notebookTags:H["default"]}[L.isNotebook?"notebookTags":L.inputType]||B["default"];this.baseUrl=L.baseUrl;this.openInNewTab=L.openInNewTab;this.inputLabel=L.inputLabel||L.formTitle||E["default"].common.edit}O.prototype.postMixInProperties=
function(){this.inherited(arguments);this.inputId=this.inputId||p["default"]();this._oldValue=this.value=this._sanitizeValue(this.value);this.knownTags&&(this.knownTags=this._sanitizeStringArray(this.knownTags))};O.prototype.postCreate=function(){this.inherited(arguments);this.showLoader&&b["default"].showNode(this._saveLoader);this.required&&(this._input.required=!0);this.pattern&&(this._input.pattern=this.pattern);var L=document.createElement("input");this._supportsFormValidation=!k["default"]("safari")&&
"required"in L&&"pattern"in L;!this._supportsFormValidation||"textArea"!==this.inputType&&"textbox"!==this.inputType||this._input.setCustomValidity(this._valOrFunction(this.defaultText||"",window,[this._input]));switch(this.inputType){case "textArea":case "textbox":this.maxLength&&(this._input.maxLength=this.maxLength);break;case "richText":this._formatRichText();break;case "tags":this._inputEl.id=this.inputId,this._form.addEventListener("keydown",function(J){"Enter"===J.key&&"INPUT"===J.target.nodeName&&
J.preventDefault()})}this._hasCharactersLeft()&&(b["default"].showNode(this._charactersLeft),this._setCharactersLeft(),this.own(f["default"](this._input,"keyup",this._setCharactersLeft.bind(this))));this._updateView();this._initHandlers()};O.prototype.initTagsEditor=function(){var L=Array.isArray(this.value)?this.value:this.value.split(",");this.domNode.querySelector(".js-inline-edit").setAttribute("data-edit-id","tags");this._input=new l.TagsWrapper(this.domNode.querySelector("#"+this.inputId),{activeTags:L.filter(function(J){return J}),
knownTags:this.knownTags.map(function(J){return J.tag}),maxWidth:"100%",minWidth:"100%"})};O.prototype.initCategoryPicker=function(){var L=this;this.portal&&this.portal.getCategories().then(function(J){L._formatCategories(L.value);L._input=new w["default"]({categories:L.value,schema:J,alwaysOpen:!0},L._inputEl);L._input.startup()},function(J){})};O.prototype.hide=function(){b["default"].hideNode(this.domNode)};O.prototype.hideEditLink=function(){g["default"](".js-inline-edit",this.domNode).addClass("visibility-hidden")};
O.prototype.showEditLink=function(){g["default"](".js-inline-edit",this.domNode).removeClass("visibility-hidden")};O.prototype.updateText=function(L){L=this._sanitizeString(L);g["default"](".js-view",this.domNode).innerHTML(L);this.value=this._input.value=L};O.prototype.updateValue=function(L){L=this._sanitizeValue(L);this._setInputValue(L);this.value=L;this._updateView()};O.prototype._sanitizeValue=function(L){return L instanceof Array?this._sanitizeStringArray(L):this._sanitizeString(L)};O.prototype._sanitizeStringArray=
function(L){var J=this;return this.dontSanitize?L:(L||[]).map(function(R){return J.sanitizer.sanitize(R)})};O.prototype._sanitizeString=function(L){return this.dontSanitize?L:this.sanitizer.sanitize(L)};O.prototype._setCharactersLeft=function(){this._hasCharactersLeft()&&(this._charactersLeft.textContent=u["default"].substitute(this.i18n.myOrganization.generalTab.summaryCharsLeft,{chars:this.maxLength-this._input.value.length}))};O.prototype._setInputValue=function(L){this._input&&("richText"===this.inputType?
this._input.set("value",L||""):"categories"===this.inputType?this._input.setCategories(L,!0):"tags"===this.inputType?(L=Array.isArray(L)?L:L.split(","),this._input.setTags(L.filter(function(J){return J}))):this._input.value=x["default"].isDefined(L)?L:"")};O.prototype._initHandlers=function(){var L=this;this.own(f["default"](this._cancelButton,"click",function(J){J.stopPropagation();J.preventDefault();L._cancelEdit()}),g["default"](".js-inline-edit",this.domNode).on("click",function(J){var R;J.stopPropagation();
y["default"].publish("inlineEdit/"+L.prop+"/start");L._oldValue=L.value;b["default"].hideNode(L._textView);b["default"].showNode(L._form);"richText"===L.inputType&&((null===(R=L._input)||void 0===R?0:R.destroy)&&L._input.destroy(!0),J=m["default"].editorDefaults(L.inputId),J.height=L.editorHeight,L._input=new n["default"](J,L._inputEl),L._input.startup(),L._input.set("value",L.value||""));"fieldValueType"===L.inputType&&L._setupFieldValueType(L.value);"categories"!==L.inputType&&L._input.focus()}),
f["default"](this._form,"submit",function(J){J.stopPropagation();J.preventDefault();J="richText"===L.inputType&&L._input.get("value")||"textArea"===L.inputType&&L._input.value;L.containsHttp(J)?d["default"].showAlert("error",L.i18n.common.httpNotSupported):L._submitForm()}),y["default"].subscribe("inlineEdit/"+this.prop+"/done",function(J){L.containsHttp(L.value)&&d["default"].showAlert("error",L.i18n.common.httpNotSupported);L._updateView();L.showLoader&&L._saveLoader&&(L._saveButton.disabled=!1,
L._cancelButton.disabled=!1,L._saveLoader.classList.remove("inline-edit-save-loader--active"));L._hideEdit()}),y["default"].subscribe("inlineEdit/cancel",function(){L._cancelEdit()}),y["default"].subscribe("inlineEdit/"+this.prop+"/oldValue",function(J){L.value=L._oldValue=J}));"textbox"!==this.inputType&&"textArea"!==this.inputType&&"layerRename"!==this.inputType&&"layerRenameSubnav"!==this.inputType||this.own(f["default"](this._input,"change",this._changeOrInput.bind(this)),f["default"](this._input,
"input",this._changeOrInput.bind(this)),f["default"](this._input,"invalid",this._invalid.bind(this)))};O.prototype.containsHttp=function(L){var J;return!c["default"].isPortal()&&("richText"===this.inputType||"textArea"===this.inputType)&&-1<(null===(J=null===L||void 0===L?void 0:L.indexOf)||void 0===J?void 0:J.call(L,"http://"))};O.prototype._cancelEdit=function(){var L;this._setInputValue(this._oldValue);this._setCharactersLeft();(null===(L=this._input)||void 0===L?0:L.validity)&&this._setCustomValidity("");
"categories"===this.inputType&&this._input.hideError();this._hideEdit();y["default"].publish("inlineEdit/"+this.prop+"/cancel")};O.prototype._hasCharactersLeft=function(){return"textArea"===this.inputType&&this.maxLength&&this.showCharactersLeft&&x["default"].isDefined(this._charactersLeft)};O.prototype._updateView=function(){var L=this.domNode.querySelectorAll(".js-view"),J=this.inputType;if(0<L.length&&this.value||"tags"===J){switch(J){case "categories":L=this._formatCategories(this.value);break;
case "fieldValueType":L=this._getFieldValueType(this.value);break;case "tags":L=this._formatTags(this.value);break;default:L=this.formatter?this.formatter(this.value):this.value}"tags"!==J&&"categories"!==J&&(L=this._sanitizeString(L));g["default"](".js-view",this.domNode).innerHTML(L);"richText"===this.inputType&&this._formatRichText()}};O.prototype._submitForm=function(){var L={},J=a["default"].from(this._form.elements)||[],R;if(("textbox"===this.inputType||"textArea"===this.inputType||"layerRename"===
this.inputType||"layerRenameSubnav"===this.inputType)&&!this._supportsFormValidation&&(J=J.some(function(X){return(R=X.getAttribute("data-customValidity"))?(y["default"].publish("page/showError",{message:R}),!0):!1})))return;this.showLoader&&this._saveLoader&&(this._saveButton.disabled=!0,this._cancelButton.disabled=!0,this._saveLoader.classList.add("inline-edit-save-loader--active"));"categories"===this.inputType?(this._input.hideError(),this.value=this._input.getCategories(!0),y["default"].publish("inlineEdit/categories/submit",
this.value)):(L[this.prop]="tags"===this.inputType?this._input.getTags().join(","):this._input.value,L.clearEmptyFields=!0,L.prop=this.prop,-1<["layerRename","layerRenameSubnav","layerDescription","layerCopyright"].indexOf(this.prop)&&void 0!==this.layerId&&(L.layerId=this.layerId),this.value=L[this.prop],y["default"].publish("inlineEdit/submit",L));this._oldValue=this.value};O.prototype._changeOrInput=function(){var L,J,R=null!==(J=null===(L=this._input.value)||void 0===L?void 0:L.trim())&&void 0!==
J?J:"";L=this._input.pattern;J=this._input.required;var X="TEXTAREA"!==this._input.nodeName;!R&&J?this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,window,[this._input])):this._supportsFormValidation&&X||!L?this._setCustomValidity(""):(new RegExp(L)).test(R)?this._setCustomValidity(""):this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input]))};O.prototype._invalid=function(){var L,J,R,X,aa,ea,ka=null!==(J=null===(L=this._input.value)||
void 0===L?void 0:L.trim())&&void 0!==J?J:"";ka&&""!==ka?(null===(R=this._input.validity)||void 0===R?0:R.patternMismatch)||(null===(X=this._input.validity)||void 0===X?0:X.badInput)||(null===(aa=this._input.validity)||void 0===aa?0:aa.typeMismatch)||(null===(ea=this._input.validity)||void 0===ea?0:ea.customError)?this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input])):this._setCustomValidity(""):this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,
window,[this._input]))};O.prototype._valOrFunction=function(L,J,R){return"function"===typeof L?L.apply(J,R):L};O.prototype._setCustomValidity=function(L){this._supportsFormValidation?this._input.setCustomValidity(L):(this._input.setAttribute("data-customvalidity",L),""===L&&y["default"].publish("hidePageError"))};O.prototype._hideEdit=function(){b["default"].showNode(this._textView);b["default"].hideNode(this._form)};O.prototype._formatCategories=function(L){var J=new RegExp(/^\/.+\//);L=L.map(function(R){return R.replace(J,
"")}).map(e["default"].formatCategoryChip).reduce(function(R,X){return R+u["default"].substitute("\x3cspan class\x3d'label filter-label'\x3e${category}\x3c/span\x3e",{category:X})},"");return 0<L.length?L:this.i18n.contentCategories.noCategoriesItem};O.prototype._formatTags=function(L){var J=this;L=L&&"string"===typeof L?L.split(","):L||[];var R="settings-tab"===this._currentView,X=this.isGroup?"groups":"content";return 0>=L.filter(function(aa){return aa}).length?this.i18n.contentCategories.noTags:
L.map(function(aa){var ea=J.dontSanitize?aa:J.sanitizer.sanitize(aa);ea=c["default"].htmlEncode(ea);return R?aa:'\x3ca href\x3d"'+(J.baseUrl||"")+"search.html?t\x3d"+X+"\x26q\x3dtags:%22"+ea+'%22" target\x3d"'+(J.openInNewTab?"_blank":"_self")+'"\x3e'+ea+"\x3c/a\x3e"}).join(", ")};O.prototype._formatRichText=function(){g["default"](".js-view table").addClass("table")};O.prototype._setupFieldValueType=function(L){for(var J=this.fieldValueTypeList.fieldValueType,R=0;R<J.length;R++)this._input.options[R]=
new Option(this._getFieldValueType(J[R].title),J[R].title),L===J[R].title&&(this._input.selectedIndex=R)};O.prototype._getFieldValueType=function(L){if("none"===L)return this.i18n.attributeFieldDetails.none;L=L||this.i18n.attributesView.commonUndefined;return this.i18n.attributeFieldDetails.fieldValueTypesList[L]||L};return O=r.__decorate([K["default"](q["default"],z["default"])],O)}()})},"arcgis-components/wrappers/Tags":function(){define(["../Component","../Inputs/Tags/index"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;
var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),
Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=987)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+
" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?
d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,
h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=
h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),
"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=
d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},713:function(r,x){r.exports=M},987:function(r,x,t){t.r(x);t.d(x,"TagsWrapper",function(){return y});var l=t(0),f=t(16);r=t(713);t=t.n(r);var g=
function(u,E){switch(E.type){case "UPDATE_ACTIVE_TAGS":return Object(l.a)(Object(l.a)({},u),{activeTags:E.payload});case "UPDATE_KNOWN_TAGS":return Object(l.a)(Object(l.a)({},u),{knownTags:E.payload});default:return u}},k=Object(f.connect)(function(u){return{activeTags:u.activeTags,knownTags:u.knownTags}},function(u){return{onChange:function(E){u({type:"UPDATE_ACTIVE_TAGS",payload:E})}}})(t.a),y=function(){function u(E,z){this.renderContainer=E;this.store=Object(f.createStore)(g,{activeTags:z.activeTags,
knownTags:z.knownTags});this.projector=Object(f.createProjector)(this.store,function(q){return q(k,Object(l.a)({key:"wrapped-tags"},z))},this.renderContainer)}return u.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},u.prototype.focus=function(){var E=this.renderContainer.querySelector("input");E&&E.focus()},u.prototype.getTags=function(){return this.store.getState().activeTags},
u.prototype.setTags=function(E){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:E})},u.prototype.getKnownTags=function(){return this.store.getState().knownTags},u.prototype.setKnownTags=function(E){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:E})},u.prototype.watchTags=function(E){var z=this,q=this.store.getState().activeTags;return this.store.subscribe(function(){var m=z.store.getState().activeTags;m!==q&&E(q=m)})},u}()}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component",
"dojo/i18n!../../Inputs/Tags/nls/resources"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,
f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=859)}({0:function(r,x,t){function l(q,
m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,
d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}
function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};
case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},18:function(r,x){r.exports=U},417:function(r,x){r.exports=M},545:function(r,
x,t){x.a=function(l,f){var g=l.name;return f("li",{"class":"inp-tags__tag",key:g},f("span",{title:g,"class":"inp-tags__tag-innards",onkeydown:l.onKeyDown,id:"tag-"+g,tabindex:"-1"},g,f("button",{"class":"inp-tags__tag-remove-btn","data-value":g,onclick:l.onRemove,tabindex:"-1",type:"button"},f("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},f("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},
546:function(r,x,t){var l=t(417);x.a=function(f,g){var k=f.onSuggestionFocus,y=f.onSuggestionBlur,u=f.onSuggestionClick,E=f.onSuggestionKeyDown;if(!f.visible)return null;var z=f.matchingTags.map(function(m,e){return g("li",{id:"suggestion-"+e,classes:{"inp-tags__suggestion":!0,"inp-tags__suggestion--grey":0==e%2,"inp-tags__suggestion--white":0!=e%2},"data-value":m,"data-index":e,key:m,title:m,onfocus:k,onblur:y,onmousedown:u,onkeydown:E,tabindex:"0"},m)}),q=g("div",{"class":"inp-tags__no-suggestions",
id:"no-matching-div"},g("div",{"class":"inp-tags__no-suggestions-text",id:"no-matching-text"},l.noTagsFound));return g("ul",{id:"tag-suggestions","class":"inp-tags__suggestions",key:"tag-suggestions"},z[0]?z:q)}},859:function(r,x,t){t.r(x);var l=t(0);r=t(18);var f=t(417),g=t(545),k=t(546);t=function(y){function u(E){E=y.call(this,E)||this;return E.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},E.handleInputBlur=E.handleInputBlur.bind(E),E.handleInputChange=E.handleInputChange.bind(E),
E.handleInputFocus=E.handleInputFocus.bind(E),E.handleInputKeyDown=E.handleInputKeyDown.bind(E),E.handleSuggestionBlur=E.handleSuggestionBlur.bind(E),E.handleSuggestionClick=E.handleSuggestionClick.bind(E),E.handleSuggestionFocus=E.handleSuggestionFocus.bind(E),E.handleSuggestionKeyDown=E.handleSuggestionKeyDown.bind(E),E.handleWidgetClick=E.handleWidgetClick.bind(E),E.spliceTag=E.spliceTag.bind(E),E.handleTagInputKeyDown=E.handleTagInputKeyDown.bind(E),E}return Object(l.d)(u,y),u.prototype.render=
function(E){var z=this,q={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},m=this.props.knownTags.filter(function(e){return-1!==e.toLowerCase().indexOf(z.state.value.toLowerCase())&&-1===z.props.activeTags.indexOf(e)});return E("div",{id:"tags-container",classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+
";\n                    "},E("ul",{classes:q,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(e){return e}).map(function(e){return E(g.a,{name:e,onRemove:z.spliceTag,onKeyDown:z.handleTagInputKeyDown})}),E("input",{id:"tags-input","class":"inp-tags__input",placeholder:f.addTags,value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),E(k.a,{matchingTags:m,onSuggestionBlur:this.handleSuggestionBlur,
onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},u.prototype.handler=function(E){},u.prototype.addTag=function(E,z){var q=this;void 0===z&&(z=!0);var m=[];E.split(",").forEach(function(d){(d=q.stripHTML(d.trim()))&&-1===q.props.activeTags.indexOf(d)&&-1===m.indexOf(d)&&m.push(d)});this.props.onChange(this.props.activeTags.concat(m));var e=document.getElementById("tags-input");
e&&z&&e.focus()},u.prototype.spliceTag=function(E){E=E.currentTarget||E.target;var z=Object(l.g)([],this.props.activeTags);z.splice(this.props.activeTags.indexOf(E.dataset.value),1);this.props.onChange(z)},u.prototype.handleInputBlur=function(E){var z=this;setTimeout(function(){var q=document.getElementById("tags-container");(null==q?0:q.contains(document.activeElement))||(z.addTag(E.target.value,!1),z.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},u.prototype.handleInputChange=
function(E){this.setState({value:E.target.value})},u.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},u.prototype.handleInputKeyDown=function(E){switch(E.key){case "Enter":E.target.value&&(this.addTag(E.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&(z.focus(),z.value=""));break;case "Tab":var z;E.target.value&&(E.preventDefault(),this.addTag(E.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&
(z.focus(),z.value=""));break;case "Backspace":E.target.value||(E=Object(l.g)([],this.props.activeTags),E.pop(),this.props.onChange(E),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":z=document.getElementById("suggestion-0");this.state.isTyping&&z?(E.preventDefault(),z.focus()):this.setState({isTyping:!0});break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;
default:this.setState({isTyping:!0})}},u.prototype.handleSuggestionBlur=function(E){E.preventDefault();this.setState({isFocused:!1,isTyping:!1})},u.prototype.handleSuggestionClick=function(E){E.preventDefault();this.addTag(E.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(E=document.getElementById("tags-input"))&&(E.focus(),E.value="")},u.prototype.handleSuggestionFocus=function(E){E.preventDefault();this.setState({isFocused:!0,isTyping:!0})},u.prototype.handleSuggestionKeyDown=
function(E){switch(E.preventDefault(),E.key){case "Up":case "ArrowUp":0===E.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(E.target["data-index"]-1)));break;case "Down":case "ArrowDown":(E=document.getElementById("suggestion-"+(E.target["data-index"]+1)))?E.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(E);break;case "Escape":E.preventDefault(),
this.focusElement(document.getElementById("tags-input"))}},u.prototype.handleWidgetClick=function(E){(E=document.getElementById("tags-input"))&&E.focus()},u.prototype.handleTagInputKeyDown=function(E){var z=document.activeElement.getAttribute("title");if(z){var q=this.props.activeTags.indexOf(z);switch(E.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<q?"tag-"+this.props.activeTags[q-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(q<
this.props.activeTags.length-1?"tag-"+this.props.activeTags[q+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":E=Object(l.g)([],this.props.activeTags),E.splice(this.props.activeTags.indexOf(z),1),this.props.onChange(E),this.focusElement(document.getElementById("tag-"+this.props.activeTags[q<this.props.activeTags.length-1?q+1:q-1]))}}},u.prototype.focusElement=function(E){E&&E.focus()},
u.prototype.stripHTML=function(E){return E&&E.replace(/<(?:.|\s)*?>/g,"")},u}(r.Component);x["default"]=t}})})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(U,M,r,x,t,l){function f(y,u,E){void 0===E&&(E={cssClasses:"",preventAutoDismiss:!1});g();var z=E.cssClasses,q=E.preventAutoDismiss;E=E.liveRegion;var m=document.createElement("div");document.body.appendChild(m);return new x["default"]({type:y,text:u,cssClasses:z||
"",preventAutoDismiss:!!q,liveRegion:E},m)}function g(){t["default"].forEachNode(document.querySelectorAll(".alert"),function(y){var u,E;null===(E=null===(u=l["default"].byNode(y))||void 0===u?void 0:u.destroy)||void 0===E?void 0:E.call(u)})}function k(y,u){var E=u.reduce(function(q,m){return q+"\x3cli\x3e"+m+"\x3c/li\x3e"},""),z=document.createElement("div");document.body.appendChild(z);return new x["default"]({type:y,text:"",listHTML:"\x3cul\x3e"+E+"\x3c/ul\x3e"},z)}Object.defineProperty(M,"__esModule",
{value:!0});M.showAlertList=M.clearAlerts=M.showAlert=void 0;x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);M.showAlert=f;M.clearAlerts=g;M.showAlertList=k;M["default"]={clearAlerts:g,showAlert:f,showAlertList:k}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);return function(){function z(q,m){this.templateString=y["default"];this.i18n=u["default"];this.icons=t["default"];this.cssClasses="";this.preventAutoDismiss=!1}z.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=t["default"]["check-circle"]["32"],
this.iconAltText=u["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=t["default"]["exclamation-mark-circle"]["32"],this.iconAltText=u["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=t["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=u["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};z.prototype.postCreate=function(){var q=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){q.domNode&&q.domNode.classList.add("is-active")},10)};z.prototype.startup=function(){this.inherited(arguments);x["default"].postToLiveRegion(this.text,this.liveRegion)};z.prototype._addEventListeners=function(){"success"===this.type&&this.own(k["default"](this.domNode).on("mouseover",E["default"].hitch(this,this._clearAlertTimer)),
k["default"](this.domNode).on("mouseout",E["default"].hitch(this,this._setAlertTimer)));this.own(k["default"](".js-alert-close",this.domNode).on("click",E["default"].hitch(this,this._dismiss)))};z.prototype._setAlertTimer=function(){var q=this;this._timeout||(this._timeout=window.setTimeout(function(){q._dismiss()},4E3))};z.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};z.prototype._dismiss=function(q){var m=this;q&&q.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){m.destroy()},300)};z.prototype.dismiss=function(){var q=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){q.destroy()},300)};return z=r.__decorate([l["default"](f["default"],g["default"])],z)}()})},"arcgisonline/sharing/dijit/Editor":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/Editor dijit/_editor/_Plugin dijit/form/ToggleButton".split(" "),function(U,M,r,x,t,l,f){function g(k){return new l["default"]({buttonClass:f["default"],
command:k.name})}x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);U=function(){function k(y,u){this.declaredClass="arcgisonline.sharing.dijit.Editor"}return k=r.__decorate([x["default"](t["default"])],k)}();l["default"].registry=r.__assign(r.__assign({},l["default"].registry),{insertOrderedList:g,insertUnorderedList:g,justifyCenter:g,justifyFull:g,justifyLeft:g,justifyRight:g});return U})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],function(){dojox.uuid.generateRandomUuid=
function(){function U(){for(var l=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>l.length;)l="0"+l;return l}var M=U(),r=U();r=r.substring(0,4)+"-4"+r.substring(5,8);var x=U();x="8"+x.substring(1,4)+"-"+x.substring(4,8);var t=U();return(M+"-"+r+"-"+x+t).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(U){U.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";dojox.uuid.version=
{UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(M,r){if(!M)throw r||(r="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(r);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(M){M=M.toString();var r=U.isString(M)&&36==M.length&&M==M.toLowerCase();if(r){M=M.split("-");r=5==
M.length&&8==M[0].length&&4==M[1].length&&4==M[2].length&&4==M[3].length&&12==M[4].length;for(var x in M){var t=parseInt(M[x],16);r=r&&isFinite(t)}}return r};dojox.uuid.getVariant=function(M){if(!dojox.uuid._ourVariantLookupTable){var r=dojox.uuid.variant,x=[];x[0]=r.NCS;x[1]=r.NCS;x[2]=r.NCS;x[3]=r.NCS;x[4]=r.NCS;x[5]=r.NCS;x[6]=r.NCS;x[7]=r.NCS;x[8]=r.DCE;x[9]=r.DCE;x[10]=r.DCE;x[11]=r.DCE;x[12]=r.MICROSOFT;x[13]=r.MICROSOFT;x[14]=r.UNKNOWN;x[15]=r.UNKNOWN;dojox.uuid._ourVariantLookupTable=x}M=
M.toString();M=M.charAt(19);M=parseInt(M,16);dojox.uuid.assert(0<=M&&16>=M);return dojox.uuid._ourVariantLookupTable[M]};dojox.uuid.getVersion=function(M){dojox.uuid.assert(dojox.uuid.getVariant(M)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");M=M.toString();M=M.charAt(14);return parseInt(M,16)};dojox.uuid.getNode=function(M){dojox.uuid.assert(dojox.uuid.getVersion(M)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");M=
M.toString();return M.split("-")[4]};dojox.uuid.getTimestamp=function(M,r){dojox.uuid.assert(dojox.uuid.getVersion(M)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");M=M.toString();r||(r=null);switch(r){case "string":case String:return dojox.uuid.getTimestamp(M,Date).toUTCString();case "hex":var x=M.split("-"),t=x[0],l=x[1];x=x[2];x=x.slice(1);t=x+l+t;dojox.uuid.assert(15==t.length);return t;case null:case "date":case Date:return x=M.split("-"),t=parseInt(x[0],
16),l=parseInt(x[1],16),x=(parseInt(x[2],16)&4095)<<16,x=4294967296*(x+l),x+=t,new Date(x/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+r)}};return dojox.uuid})},"arcgisonline/pages/dijit/CategoryPicker":function(){define("require exports tslib dojo/has dojo/topic dojo/query dojo/string dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/categories ../utils/formatters ../utils/icons dojo/text!./CategoryPicker/templates/CategoryPicker.html dojo/text!./CategoryPicker/templates/Category.html dojo/text!./CategoryPicker/templates/CategoryGroup.html dojo/text!./CategoryPicker/templates/CategoryChip.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dom ../../esriGeowConfig esri/Evented".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
return function(){function w(B,A){var D=this;this.templateString=m["default"];this.i18n=b["default"];this.icons=q["default"];this.defaultText="";this.categoriesLimit=20;this.globalClickListener=function(F){F=F.target;F.classList.contains("js-add-category-dropdown-link")||F.classList.contains("js-add-category-dropdown-button")||F.classList.contains("js-add-category-input")||D.closeCategoryDropdown()}}w.prototype.postMixInProperties=function(){var B=this,A,D,F;this.inherited(arguments);this.rootNode=
E["default"].getRootNode(this.schema);this.schema=(null===(D=null===(A=this.schema)||void 0===A?void 0:A[0])||void 0===D?void 0:D.categories)||[];this.categories=(null===(F=this.categories)||void 0===F?void 0:F.map(function(v){return B.removeRoot(v)}))||[];this.alwaysOpen=this.alwaysOpen||!1;this.categorySortHash=E["default"].getSchemaOrder(this.schema)};w.prototype.startup=function(){var B,A;this.inherited(arguments);if(null===(B=n["default"].portal)||void 0===B?0:B.maxCategoriesPerItem)this.categoriesLimit=
null===(A=n["default"].portal)||void 0===A?void 0:A.maxCategoriesPerItem;this.domNode.querySelector(".js-add-category-error").textContent=f["default"].substitute(b["default"].contentCategories.addCategoryError,{number:this.categoriesLimit});this.setCategories(this.categories);this.addEventListeners()};w.prototype.hideError=function(){l["default"](".js-add-category-error",this.domNode).removeClass("is-active")};w.prototype.setCategories=function(B,A){var D=this;B.map(function(F){return A?D.removeRoot(F):
F}).filter(function(F){return D.categorySortHash[F]});this.categories=B.map(function(F){return A?D.removeRoot(F):F}).filter(function(F){return D.categorySortHash[F]});this.rebuildCategoryChips();this.buildCategoryDropdown();this.alwaysOpen&&this.domNode.classList.add("category-picker--always-open")};w.prototype.getCategories=function(B){var A=B?this.rootNode:"";return this.categories.map(function(D){return""+A+D})};w.prototype.removeCategory=function(B,A){var D=this,F;this.categories.length<=this.categoriesLimit&&
h["default"].forEachNode(this.domNode.querySelectorAll(".js-add-category-error"),function(H){return H.classList.remove("is-active")});var v=this.domNode.querySelector(".js-category-chip[data-category-name\x3d'"+B+"']"),C=this.domNode.querySelector(".js-category-picker-item[data-category-path\x3d'"+B+"']"),G=C&&h["default"].querySelectorAllAsArray(".js-category-picker-item.is-active",C);G=null===G||void 0===G?void 0:G.map(function(H){return H.getAttribute("data-category-path")});if(-1<this.categories.indexOf(B)||
0<(null===G||void 0===G?void 0:G.length))null===(F=null===v||void 0===v?void 0:v.parentNode)||void 0===F?void 0:F.removeChild(v),this.categories=this.categories.filter(function(H){return H!==B}),C.classList.remove("is-active"),G.forEach(function(H){D.removeCategory(H)}),A&&t["default"].publish("categories/update"),this.emit("change",this.categories),this.rebuildCategoryChips();this.buildCategoryDropdown()};w.prototype.addCategory=function(B,A){if(0>this.categories.indexOf(B))if(this.categories=this.categories.filter(function(C){return 0>
B.indexOf(C+"/")}),this.categories.length<this.categoriesLimit){this.categories.push(B);var D=this.domNode.querySelector('.js-category-picker-item[data-category-path\x3d"'+B+'"]'),F=0<l["default"](D.parentElement).closest(".js-category-picker-item").length,v=[D];if(F)for(;D.parentElement.parentElement.classList.contains("js-category-picker-item");)D=D.parentElement.parentElement,v.push(D);v.forEach(function(C){return C.classList.add("is-active")});A&&t["default"].publish("categories/update");this.emit("change",
this.categories);this.rebuildCategoryChips()}else h["default"].querySelectorAllAsArray(".js-add-category-error",this.domNode).forEach(function(C){return C.classList.add("is-active")})};w.prototype.disable=function(){this.domNode.classList.add("category-picker--disabled")};w.prototype.enable=function(){this.domNode.classList.remove("category-picker--disabled")};w.prototype.buildCategoryDropdown=function(){if(this.domNode){var B=this.domNode.querySelector(".js-add-category-dropdown-menu");B&&(B.innerHTML=
this.categoriesToDom(this.schema,"",!0))}};w.prototype.categoriesToDom=function(B,A,D){var F=this;B=B.reduce(function(v,C){var G=A?A+"/"+C.title:"/"+C.title,H=C.categories?F.categoriesToDom(C.categories,G):"",K=G===F.selectedCategory?"is-selected":"",O=-1<F.categories.indexOf(G)||0<F.categories.filter(function(L){return-1<L.indexOf(G+"/")}).length;return v+f["default"].substitute(e["default"],{title:C.title,children:H,path:G,isActive:O?"is-active":"",isSelected:K,icons:q["default"]})},"");return f["default"].substitute(d["default"],
{categories:B,icons:q["default"],role:D?"tree":"group"})};w.prototype.addEventListeners=function(){this.inherited(arguments);this.own(l["default"](".js-add-category-dropdown-menu",this.domNode).on("click",this.treeLinkClick.bind(this)),l["default"](".js-category-chip-wrap",this.domNode).on("click",this.categoryChipClick.bind(this)),l["default"](".js-add-category-dropdown-button",this.domNode).on("click",this.toggleCategoryDropdown.bind(this)),l["default"](".js-add-category-input",this.domNode).on("keydown",
this.addCategoryKeyDown.bind(this)),l["default"](".js-add-category-input",this.domNode).on("keyup",this.addCategoryKeyUp.bind(this)))};w.prototype.treeLinkClick=function(B){var A,D=B.target;g["default"].contains(D,"js-add-category-dropdown-link")&&(B.preventDefault(),B=D.getAttribute("data-category-path"),D.parentNode.classList.contains("is-active")?this.removeCategory(B,!0):this.addCategory(B,!0),null===(A=this.domNode.querySelector(".js-add-category-input"))||void 0===A?void 0:A.focus())};w.prototype.categoryChipClick=
function(B){B.preventDefault();B=B.target;g["default"].contains(B,"js-category-chip-remove")&&(B=B.getAttribute("data-category-name"),this.removeCategory(B,!0))};w.prototype.toggleCategoryDropdown=function(){this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")?this.closeCategoryDropdown():this.openCategoryDropdown()};w.prototype.openCategoryDropdown=function(){var B=this.domNode.querySelector(".js-add-category-input"),A=this.domNode.querySelector(".js-add-category-dropdown");
B.value="";A.classList.add("is-active");B.focus();window.addEventListener("click",this.globalClickListener);if(x["default"]("trident")||x["default"]("edge"))B=this.domNode.closest(".dijitContentPane"),this.originalScrollTop&&this.originalScrollTop!==B.scrollTop?B.scrollTop=this.originalScrollTop:(this.originalScrollTop=B.scrollTop,B.scrollTop+=2)};w.prototype.closeCategoryDropdown=function(){this.alwaysOpen||(h["default"].querySelectorAllAsArray(".js-add-category-dropdown",this.domNode).forEach(function(B){return B.classList.remove("is-active")}),
this.selectedCategory=null);window.removeEventListener("click",this.globalClickListener);this.buildCategoryDropdown()};w.prototype.addCategoryKeyDown=function(B){9===B.keyCode?this.closeCategoryDropdown():13===B.keyCode&&this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")&&B.preventDefault()};w.prototype.addCategoryKeyUp=function(B){var A,D,F=B.keyCode,v=null===(A=B.target)||void 0===A?void 0:A.value;A=h["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",
this.domNode);var C=h["default"].querySelectorAllAsArray(".js-category-picker-item",this.domNode);h["default"].hideNodes(A);h["default"].hideNodes(C);var G=function(H){return-1<H.getAttribute("data-category-path").toLowerCase().indexOf(v.toLowerCase())};C=A.filter(function(H){var K=G(H);H=0<h["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",H.parentNode).filter(G).length;return K||H}).map(function(H){var K;H.classList.remove("hide");null===(K=H.parentNode)||void 0===K?void 0:K.classList.remove("hide");
return H});A=this.domNode.querySelector(".js-add-category-dropdown-link.is-selected");switch(F){case 27:this.closeCategoryDropdown();break;case 13:B.preventDefault();A&&(F=A.getAttribute("data-category-path"),(null===(D=A.parentNode)||void 0===D?0:D.classList.contains("is-active"))?this.removeCategory(F,!0):this.addCategory(F,!0),A.classList.add("is-selected"));break;case 40:case 38:B.preventDefault(),B=C.indexOf(A),D=C[B+1]?C[B+1]:C[0],B=C[B-1]?C[B-1]:C[C.length-1],F=40===F?D:B,A&&A.classList.remove("is-selected"),
g["default"].add(F,"is-selected"),this.selectedCategory=F.getAttribute("data-category-path")}};w.prototype.rebuildCategoryChips=function(){var B=this,A=this.domNode.querySelector(".js-category-chip-wrap");k["default"].empty(A);var D=this.categories.sort(function(F,v){return B.categorySortHash[F]-B.categorySortHash[v]});D.forEach(function(F){var v=f["default"].substitute(b["default"].contentCategories.removeCategoryX,{category:F});F=f["default"].substitute(a["default"],{category:F,removeText:v,icons:q["default"]},
null,z["default"]);k["default"].place(F,A)});this.defaultText&&h["default"].showHide(this.defaultTextContainer,0===D.length)};w.prototype.removeRoot=function(B){return B.replace(new RegExp(this.rootNode+"/"),"/")};return w=r.__decorate([c["default"](u["default"],y["default"],p["default"])],w)}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),function(U,M,r,x,t,l){function f(q,m){var e=new l["default"],
d=[];x["default"].self.hasCategorySchema&&m.length?(q=g([],q),q.forEach(function(a){var b={};b[a]={categories:m};d.push(b)}),t["default"].request({url:x["default"].restBaseUrl+"content/updateItems",content:{items:JSON.stringify(d)}},{usePost:!0}).then(function(){return e.resolve()},function(){return e.resolve()})):e.resolve();return e}function g(q,m){var e=[].concat(q||[]);(null!==m&&void 0!==m?m:[]).forEach(function(d){d&&-1===e.indexOf(d)&&e.push(d)});return e}function k(q){delete q.isOpen;delete q.depth;
delete q.order;q.categories&&(q.categories=q.categories.map(k));return q}function y(q,m,e){void 0===m&&(m="");void 0===e&&(e={});e.__total=e.__total||0;q.forEach(function(d){var a=m+"/"+d.title;a=a.trim();e.__total+=1;e[a]=e.__total;d.categories&&y(d.categories,a,e)});return e}function u(q){var m;(q=null===(m=null===q||void 0===q?void 0:q[0])||void 0===m?void 0:m.title)&&"/"!==q.charAt(0)&&(q="/"+q);return q||"/Categories"}function E(q,m){return{id:q.id,categories:m?q.groupCategories:q.categories}}
function z(q){var m=q.group;q=q.portal;return t["default"].request({url:x["default"].restBaseUrl+(m?"content/groups/"+m.id+"/search":"search"),content:{num:0,q:m?"":"orgid:"+q.id,countFields:m?"groupCategories":"categories",countSize:200}}).then(function(e){return e.aggregations.counts[0].fieldValues})}Object.defineProperty(M,"__esModule",{value:!0});M.getCounts=M.simplifyItemObject=M.getRootNode=M.getSchemaOrder=M.cleanSchema=M.concatUniqueIds=M.setItemCategories=void 0;x=r.__importDefault(x);t=
r.__importDefault(t);l=r.__importDefault(l);M.setItemCategories=f;M.concatUniqueIds=g;M.cleanSchema=k;M.getSchemaOrder=y;M.getRootNode=u;M.simplifyItemObject=E;M.getCounts=z;M["default"]={setItemCategories:f,concatUniqueIds:g,cleanSchema:k,getSchemaOrder:y,getRootNode:u,simplifyItemObject:E,getCounts:z}})},"dijit/_editor/plugins/FontChoice":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/i18n dojo/_base/lang dojo/string dojo/store/Memory ../../registry ../../_Widget ../../_TemplatedMixin ../../_WidgetsInTemplateMixin ../../form/FilteringSelect ../_Plugin ../range dojo/i18n!../nls/FontChoice".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){U=r("dijit._editor.plugins._FontDropDown",[y,u,E],{label:"",plainText:!1,templateString:"\x3cspan style\x3d'white-space: nowrap' class\x3d'dijit dijitReset dijitInline'\x3e\x3clabel class\x3d'dijitLeft dijitInline' for\x3d'${selectId}'\x3e${label}\x3c/label\x3e\x3cinput data-dojo-type\x3d'../../form/FilteringSelect' required\x3d'false' data-dojo-props\x3d'labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' class\x3d'${comboClass}' tabIndex\x3d'-1' id\x3d'${selectId}' data-dojo-attach-point\x3d'select' value\x3d''/\x3e\x3c/span\x3e",
contextRequire:U,postMixInProperties:function(){this.inherited(arguments);this.strings=t.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=k.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments)},postCreate:function(){this.select.set("store",new g({idProperty:"value",data:M.map(this.values,function(c){var h=this.strings[c]||c;return{label:this.getLabel(c,h),name:h,value:c}},this)}));this.select.set("value",
"",!1);this.disabled=this.select.get("disabled")},_setValueAttr:function(c,h){h=!1!==h;this.select.set("value",0>M.indexOf(this.values,c)?"":c,h);h||(this.select._lastValueReported=null)},_getValueAttr:function(){return this.select.get("value")},focus:function(){this.select.focus()},_setDisabledAttr:function(c){this._set("disabled",c);this.select.set("disabled",c)}});var e=r("dijit._editor.plugins._FontNameDropDown",U,{generic:!1,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){this.values||
(this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"]);this.inherited(arguments)},getLabel:function(c,h){return this.plainText?h:"\x3cdiv style\x3d'font-family: "+c+"'\x3e"+h+"\x3c/div\x3e"},_normalizeFontName:function(c){var h=this.values;if(!c||!h)return c;var n=c.split(",");if(1<n.length)for(var p=0,w=n.length;p<w;p++){var B=f.trim(n[p]);if(-1<M.indexOf(h,B))return B}return c},_setValueAttr:function(c,h){h=!1!==
h;c=this._normalizeFontName(c);this.generic&&(c={Arial:"sans-serif",Helvetica:"sans-serif",Myriad:"sans-serif",Times:"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive",Courier:"monospace","Courier New":"monospace",Papyrus:"fantasy","Estrangelo Edessa":"cursive",Gabriola:"fantasy"}[c]||c);this.inherited(arguments,[c,h])}}),d=r("dijit._editor.plugins._FontSizeDropDown",U,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(c,
h){return this.plainText?h:"\x3cfont size\x3d"+c+"'\x3e"+h+"\x3c/font\x3e"},_setValueAttr:function(c,h){h=!1!==h;c.indexOf&&-1!=c.indexOf("px")&&(c={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[parseInt(c,10)]||c);this.inherited(arguments,[c,h])}}),a=r("dijit._editor.plugins._FormatBlockDropDown",U,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:"noFormat p h1 h2 h3 pre".split(" "),postCreate:function(){this.inherited(arguments);this.set("value","noFormat",!1)},getLabel:function(c,h){return this.plainText||
"noFormat"==c?h:"\x3c"+c+"\x3e"+h+"\x3c/"+c+"\x3e"},_execCommand:function(c,h,n){if("noFormat"===n){var p;if((h=m.getSelection(c.window))&&0<h.rangeCount&&(n=h.getRangeAt(0),n)){h=n.startContainer;for(p=n.endContainer;h&&h!==c.editNode&&h!==c.document.body&&1!==h.nodeType;)h=h.parentNode;for(;p&&p!==c.editNode&&p!==c.document.body&&1!==p.nodeType;)p=p.parentNode;var w=l.hitch(this,function(F,v){if(F.childNodes&&F.childNodes.length){var C;for(C=0;C<F.childNodes.length;C++){var G=F.childNodes[C];if(1==
G.nodeType&&c.selection.inSelection(G)){var H=G.tagName?G.tagName.toLowerCase():"";-1!==M.indexOf(this.values,H)&&v.push(G);w(G,v)}}}});n=l.hitch(this,function(F){if(F&&F.length){for(c.beginEditing();F.length;)this._removeFormat(c,F.pop());c.endEditing()}});var B=[];if(h==p){for(p=h;p&&p!==c.editNode&&p!==c.document.body;){if(1==p.nodeType){var A=p.tagName?p.tagName.toLowerCase():"";if(-1!==M.indexOf(this.values,A)){var D=p;break}}p=p.parentNode}w(h,B);D&&(B=[D].concat(B))}else for(p=h;c.selection.inSelection(p);)1==
p.nodeType&&(A=p.tagName?p.tagName.toLowerCase():"",-1!==M.indexOf(this.values,A)&&B.push(p),w(p,B)),p=p.nextSibling;n(B);c.onDisplayChanged()}}else c.execCommand(h,n)},_removeFormat:function(c,h){if(c.customUndo){for(;h.firstChild;)x.place(h.firstChild,h,"before");h.parentNode.removeChild(h)}else{c.selection.selectElementChildren(h);var n=c.selection.getSelectedHtml();c.selection.selectElement(h);c.execCommand("inserthtml",n||"")}}}),b=r("dijit._editor.plugins.FontChoice",q,{useDefaultCommand:!1,
_initButton:function(){var c={fontName:e,fontSize:d,formatBlock:a}[this.command],h=this.params;this.params.custom&&(h.values=this.params.custom);var n=this.editor;this.button=new c(l.delegate({dir:n.dir,lang:n.lang},h));this.own(this.button.select.on("change",l.hitch(this,function(p){this.editor.focused&&this.editor.focus();"fontName"==this.command&&-1!=p.indexOf(" ")&&(p="'"+p+"'");this.button._execCommand?this.button._execCommand(this.editor,this.command,p):this.editor.execCommand(this.command,
p)})))},updateState:function(){var c=this.editor,h=this.command;if(c&&c.isLoaded&&h.length&&this.button){var n=this.get("disabled");this.button.set("disabled",n);if(!n){try{var p=c.queryCommandValue(h)||""}catch(B){p=""}(n=l.isString(p)&&(p.match(/'([^']*)'/)||p.match(/"([^"]*)"/)))&&(p=n[1]);"fontSize"!==h||p||(p=3);if("formatBlock"===h)if(p&&"p"!=p)0>M.indexOf(this.button.values,p)&&(p="noFormat");else{p=null;if((h=m.getSelection(this.editor.window))&&0<h.rangeCount&&(h=h.getRangeAt(0)))var w=h.endContainer;
for(;w&&w!==c.editNode&&w!==c.document;){if((h=w.tagName?w.tagName.toLowerCase():"")&&-1<M.indexOf(this.button.values,h)){p=h;break}w=w.parentNode}p||(p="noFormat")}p!==this.button.get("value")&&this.button.set("value",p,!1)}}}});M.forEach(["fontName","fontSize","formatBlock"],function(c){q.registry[c]=function(h){return new b({command:c,plainText:h.plainText})}});b._FontDropDown=U;b._FontNameDropDown=e;b._FontSizeDropDown=d;b._FormatBlockDropDown=a;return b})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(U,M,r,x,t){return U("dijit.form.FilteringSelect",[x,t],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(l,f,g,k){f&&f[this.searchAttr]!==this._lastQuery||!f&&l.length&&this.store.getIdentity(l[0])!=this._lastQuery||
(l.length?this.set("item",l[0],k):this.set("value","",k||void 0===k&&!this.focused,this.textbox.value,null))},_openResultList:function(l,f,g){f[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(l,f,g,k){this._onChangeActive||(f=null);if(void 0===k){if(null===l||""===l)if(l="",!M.isString(g)){this._setDisplayedValueAttr(g||"",f);
return}var y=this;this._lastQuery=l;r(this.store.get(l),function(u){y._callbackSetLabel(u?[u]:[],void 0,void 0,f)})}else this.valueNode.value=l,this.inherited(arguments,[l,f,g,k])},_setItemAttr:function(l,f,g){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(l){return l.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(l,f){null==l&&(l="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();
var g=M.clone(this.query),k=this._getDisplayQueryString(l);if(this.store._oldAPI)var y=k;else y=this._patternToRegExp(k),y.toString=function(){return k};this._lastQuery=g[this.searchAttr]=y;this._lastDisplayedValue=this.textbox.value=l;this._set("displayedValue",l);var u=this,E={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};M.mixin(E,this.fetchProperties);this._fetchHandle=this.store.query(g,E);r(this._fetchHandle,function(z){u._fetchHandle=null;u._callbackSetLabel(z||[],g,E,f)},function(z){u._fetchHandle=
null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/_editor/plugins/TextColor":function(){define("require dojo/colors dojo/_base/declare dojo/_base/lang ../_Plugin ../../form/DropDownButton".split(" "),function(U,M,r,x,t,l){var f=r("dijit._editor.plugins.TextColor",t,{buttonClass:l,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name;this.inherited(arguments);var g=this;this.button.loadDropDown=function(k){function y(u){g.button.dropDown=
new u({dir:g.editor.dir,ownerDocument:g.editor.ownerDocument,value:g.value,onChange:function(E){g.editor.execCommand(g.command,E)},onExecute:function(){g.editor.execCommand(g.command,this.get("value"))}});k()}"string"==typeof g.colorPicker?U([g.colorPicker],y):y(g.colorPicker)}},updateState:function(){var g=this.editor,k=this.command;if(g&&g.isLoaded&&k.length){if(this.button){var y=this.get("disabled");this.button.set("disabled",y);if(y)return;try{var u=g.queryCommandValue(k)||""}catch(E){u=""}}""==
u&&(u="#000000");"transparent"==u&&(u="#ffffff");"string"==typeof u?-1<u.indexOf("rgb")&&(u=M.fromRgb(u).toHex()):(u=((u&255)<<16|u&65280|(u&16711680)>>>16).toString(16),u="#000000".slice(0,7-u.length)+u);this.value=u;(g=this.button.dropDown)&&g.get&&u!==g.get("value")&&g.set("value",u,!1)}}});t.registry.foreColor=function(g){return new f(g)};t.registry.hiliteColor=function(g){return new f(g)};return f})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],
function(U,M,r,x){var t={};M.setObject("dojo.colors",t);var l=function(g,k,y){0>y&&++y;1<y&&--y;var u=6*y;return 1>u?g+(k-g)*u:1>2*y?k:2>3*y?g+(k-g)*(2/3-y)*6:g};U.colorFromRgb=r.fromRgb=function(g,k){var y=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(y){var u=y[2].split(/\s*,\s*/),E=u.length;y=y[1];if("rgb"==y&&3==E||"rgba"==y&&4==E)return y=u[0],"%"==y.charAt(y.length-1)?(y=x.map(u,function(m){return 2.56*parseFloat(m)}),4==E&&(y[3]=u[3]),r.fromArray(y,k)):r.fromArray(u,k);if("hsl"==
y&&3==E||"hsla"==y&&4==E){y=(parseFloat(u[0])%360+360)%360/360;var z=parseFloat(u[1])/100,q=parseFloat(u[2])/100;z=.5>=q?q*(z+1):q+z-q*z;q=2*q-z;y=[256*l(q,z,y+1/3),256*l(q,z,y),256*l(q,z,y-1/3),1];4==E&&(y[3]=u[3]);return r.fromArray(y,k)}}return null};var f=function(g,k,y){g=Number(g);return isNaN(g)?y:g<k?k:g>y?y:g};r.prototype.sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this};t.makeGrey=
r.makeGrey=function(g,k){return r.fromArray([g,g,g,k])};M.mixin(r.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],
darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,
105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,
112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,
99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return r})},"arcgisonline/pages/dijit/InlineEdit/ViewSource":function(){define("require exports tslib ../../../tsutils/declareDecorator dijit/_editor/_Plugin dijit/_editor/plugins/ViewSource esri/libs/sanitizer/Sanitizer".split(" "),function(U,M,r,x,t,l,f){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);var g=function(){function k(y){this.declaredClass=
"arcgisonline.pages.dijit.InlineEdit.ViewSource";this.sanitizer=new f["default"]}k.prototype._filter=function(y){y&&(y=this.sanitizer.sanitize(y),this.stripScripts&&(y=this._stripScripts(y)),this.stripComments&&(y=this._stripComments(y)),this.stripIFrames&&(y=this._stripIFrames(y)),this.stripEventHandlers&&(y=this._stripEventHandlers(y)));return y};return k=r.__decorate([x["default"](l["default"])],k)}();t["default"].registry.viewSourceSanitize=t["default"].registry.viewsourcesanitize=function(k){return new g({readOnly:"readOnly"in
k?k.readOnly:!1,stripComments:"stripComments"in k?k.stripComments:!0,stripScripts:"stripScripts"in k?k.stripScripts:!0,stripIFrames:"stripIFrames"in k?k.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in k?k.stripEventHandlers:!0})};return g})},"dijit/_editor/plugins/ViewSource":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/window ../../focus ../_Plugin ../../form/ToggleButton ../.. ../../registry dojo/i18n!../nls/commands".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){var b=r("dijit._editor.plugins.ViewSource",m,{stripScripts:!0,stripComments:!0,stripIFrames:!0,stripEventHandlers:!0,readOnly:!1,_fsPlugin:null,toggle:function(){E("webkit")&&(this._vsFocused=!0);this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var c=g.getLocalization("dijit._editor","commands"),h=this.editor;this.button=new e({label:c.viewSource,ownerDocument:h.ownerDocument,dir:h.dir,lang:h.lang,showLabel:!1,iconClass:this.iconClassPrefix+
" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:y.hitch(this,"_showSource")});this.button.set("readOnly",!1)},setEditor:function(c){this.editor=c;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=M.before(this.editor,"setValue",y.hitch(this,function(h){return[this._filter(h)]}));this._getValueFilterHandle=M.after(this.editor,"getValue",y.hitch(this,function(h){return this._filter(h)}));this.editor.addKeyHandler(k.F12,!0,!0,y.hitch(this,function(h){this.button.focus();
this.toggle();h.stopPropagation();h.preventDefault();setTimeout(y.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(c){var h=this.editor,n=h._plugins;this._sourceShown=c;var p=this;try{this.sourceArea||this._createSourceView();if(c)h._sourceQueryCommandEnabled=h.queryCommandEnabled,h.queryCommandEnabled=function(B){return"viewsource"===B.toLowerCase()},this.editor.onDisplayChanged(),U.forEach(n,function(B){!B||B instanceof b||!B.isInstanceOf(m)||B.set("disabled",
!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return p.sourceArea}),this.sourceArea.value=h.get("value"),this.sourceArea.style.height=h.iframe.style.height,this.sourceArea.style.width=h.iframe.style.width,h.iframe.parentNode.style.position="relative",f.set(h.iframe,{position:"absolute",top:0,visibility:"hidden"}),f.set(this.sourceArea,{display:"block"}),this._resizeHandle=u(window,"resize",y.hitch(this,function(){var B=z.getBox(h.ownerDocument);"_prevW"in this&&"_prevH"in this&&
B.w===this._prevW&&B.h===this._prevH||(this._prevW=B.w,this._prevH=B.h,this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(y.hitch(this,function(){delete this._resizer;this._resize()}),10))})),setTimeout(y.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=y.hitch(this,function(){var B=this.sourceArea.value;return B=this._filter(B)}),this._setListener=M.after(this.editor,
"setValue",y.hitch(this,function(B){this.sourceArea.value=B||""}),!0);else{if(!h._sourceQueryCommandEnabled)return;this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue);h.queryCommandEnabled=h._sourceQueryCommandEnabled;if(!this._readOnly){var w=this.sourceArea.value;h.beginEditing();h.set("value",w);h.endEditing()}U.forEach(n,function(B){B&&
B.isInstanceOf(m)&&B.set("disabled",!1)});f.set(this.sourceArea,"display","none");f.set(h.iframe,{position:"relative",visibility:"visible"});delete h._sourceQueryCommandEnabled;this.editor.onDisplayChanged()}setTimeout(y.hitch(this,function(){var B=h.domNode.parentNode;B&&(B=a.getEnclosingWidget(B))&&B.resize&&B.resize();h.resize()}),300)}catch(B){}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var c=this.editor,h=c.getHeaderHeight(),n=c.getFooterHeight(),
p=l.position(c.domNode),w=l.getPadBorderExtents(c.iframe.parentNode),B=l.getMarginExtents(c.iframe.parentNode),A=l.getPadBorderExtents(c.domNode),D=p.w-A.w;p=p.h-(h+A.h+n);this._fsPlugin&&this._fsPlugin.isFullscreen&&(c=z.getBox(c.ownerDocument),D=c.w-A.w,p=c.h-(h+A.h+n));l.setMarginBox(this.sourceArea,{w:Math.round(D-(w.w+B.w)),h:Math.round(p-(w.h+B.h))})},_createSourceView:function(){var c=this.editor,h=c._plugins;this.sourceArea=t.create("textarea");this.readOnly&&(x.set(this.sourceArea,"readOnly",
!0),this._readOnly=!0);f.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});x.set(this.sourceArea,"aria-label",this.editor.id);t.place(this.sourceArea,c.iframe,"before");E("ie")&&c.iframe.parentNode.lastChild!==c.iframe&&f.set(c.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});c._viewsource_oldFocus=c.focus;var n=this;c.focus=function(){if(n._sourceShown)n.setSourceAreaCaret();else try{this._vsFocused?
(delete this._vsFocused,q.focus(c.editNode)):c._viewsource_oldFocus()}catch(B){}};var p,w;for(p=0;p<h.length;p++)if((w=h[p])&&("dijit._editor.plugins.FullScreen"===w.declaredClass||w.declaredClass===d._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=w;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return n._sourceShown?n.sourceArea:this._viewsource_getAltViewNode()});this.own(u(this.sourceArea,"keydown",
y.hitch(this,function(B){this._sourceShown&&B.keyCode==k.F12&&B.ctrlKey&&B.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(y.hitch(this,function(){c.focus()}),100),B.stopPropagation(),B.preventDefault())})))},_stripScripts:function(c){c&&(c=c.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,""),c=c.replace(/<\s*script\b([^<>]|\s)*>?/ig,""),c=c.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,""));return c},_stripComments:function(c){c&&(c=c.replace(/\x3c!--(.|\s){1,}?--\x3e/g,
""));return c},_stripIFrames:function(c){c&&(c=c.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,""));return c},_stripEventHandlers:function(c){if(c){var h=c.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(h)for(var n=0,p=h.length;n<p;n++){var w=h[n],B=w.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");c=c.replace(w,B)}}return c},_filter:function(c){c&&(this.stripScripts&&(c=this._stripScripts(c)),this.stripComments&&(c=this._stripComments(c)),this.stripIFrames&&(c=this._stripIFrames(c)),
this.stripEventHandlers&&(c=this._stripEventHandlers(c)));return c},removeValueFilterHandles:function(){this._setValueFilterHandle&&(this._setValueFilterHandle.remove(),delete this._setValueFilterHandle);this._getValueFilterHandle&&(this._getValueFilterHandle.remove(),delete this._getValueFilterHandle)},setSourceAreaCaret:function(){var c=this.sourceArea;q.focus(c);this._sourceShown&&!this.readOnly&&(c.setSelectionRange?c.setSelectionRange(0,0):this.sourceArea.createTextRange&&(c=c.createTextRange(),
c.collapse(!0),c.moveStart("character",-99999),c.moveStart("character",0),c.moveEnd("character",0),c.select()))},destroy:function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizeHandle&&(this._resizeHandle.remove(),delete this._resizeHandle);this._setListener&&(this._setListener.remove(),delete this._setListener);this.removeValueFilterHandles();this.inherited(arguments)}});m.registry.viewSource=m.registry.viewsource=function(c){return new b({readOnly:"readOnly"in c?
c.readOnly:!1,stripComments:"stripComments"in c?c.stripComments:!0,stripScripts:"stripScripts"in c?c.stripScripts:!0,stripIFrames:"stripIFrames"in c?c.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in c?c.stripEventHandlers:!0})};return b})},"arcgisonline/sharing/dijit/LinkDialog":function(){define("require exports tslib dijit/_editor/_Plugin dijit/_editor/plugins/LinkDialog dojo/on ../util ../../pages/utils/validation ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);var u=function(){function z(q,m){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'hide'\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit/form/Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"}
z.prototype._loadDropDown=function(){var q=this;this.inherited(arguments);var m=0,e=setInterval(function(){q._urlInput?(clearInterval(e),q._urlInput.isValid=function(){return!0}):15<m&&clearInterval(e);m++},1E3)};z.prototype._onOpenDialog=function(){this.inherited(arguments);var q=y["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var m=this.dropDown.containerNode;m.classList.add("text-left");
m.title=q.linkTitle;m.firstChild.textContent="";var e=m.children[0];e.className+="link-container__title font-size-1";e.style.cssText="";e.textContent=q.linkTitle;if(e=document.getElementById(this._uniqueId+"_textInputLabel"))e.innerHTML=q.text;if(e=document.getElementById(this._uniqueId+"_urlInputLabel"))e.innerHTML=q.url;this._setButton.set("label",q.update);q=m.querySelector("#"+this._uniqueId+"_textInput");var d=m.querySelector("#"+this._uniqueId+"_urlInput"),a=q.value;setTimeout(function(){a&&
d.focus()},150)};z.prototype._isValid=function(){var q=this._urlInput.get("value");if(!f["default"].isPortal()&&q.length&&-1<q.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,y["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};z.prototype._checkAndFixInput=function(){var q=this,m=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var e=
m,d=!1,a=!1;1<(null===e||void 0===e?void 0:e.length)&&(e=e.trim(),0!==e.indexOf("mailto:")&&(0<e.indexOf("/")?-1===e.indexOf("://")&&"/"!==e.charAt(0)&&e.indexOf("./")&&0!==e.indexOf("../")&&q._hostRxp.test(e)&&(d=!0):q._userAtRxp.test(e)&&(a=!0)));d&&-1===e.indexOf("{expression/")&&-1===e.indexOf("{relationships/")&&q._urlInput.set("value","http://"+e);a&&q._urlInput.set("value","mailto:"+e);q._setButton.set("disabled",!q._isValid())},250)};return z=r.__decorate([k["default"](t["default"])],z)}(),
E=function(){function z(q,m){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e";
this.htmlTemplate='\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e';this.tag="img"}z.prototype._getCurrentValues=function(q){if((null===q||void 0===q?void 0:q.tagName.toLowerCase())===this.tag){var m=q.getAttribute("_djrealurl")||q.getAttribute("src");var e=q.getAttribute("alt");this.editor.selection.selectElement(q,!0)}else e=this.editor.selection.getSelectedText();return{urlInput:m||"",textInput:e||""}};z.prototype._onOpenDialog=function(){this.inherited(arguments);
var q=y["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var m=this.dropDown.containerNode;m.classList.add("text-left");m.title=q.imageTitle;m.firstChild.textContent="";m=m.children[0];m.className+="link-container__title font-size-1";m.style.cssText="";m.textContent=q.imageTitle;if(m=document.getElementById(this._uniqueId+"_textInputLabel"))m.innerHTML=q.description;if(m=document.getElementById(this._uniqueId+
"_urlInputLabel"))m.innerHTML=q.url;this._setButton.set("label",q.update)};z.prototype._isValid=function(){var q=this._urlInput.get("value");if(!f["default"].isPortal()&&q.length&&-1<q.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,y["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};z.prototype._connectTagEvents=function(){var q=this;this.inherited(arguments);this.editor.onLoadDeferred.then(function(){q.own(l["default"](q.editor.editNode,
"mousedown",q._selectTag.bind(q)))})};z.prototype._selectTag=function(q){if(null===q||void 0===q?0:q.target)q=q.target,(q.tagName?q.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(q)};z.prototype._checkValues=function(q){if(null===q||void 0===q?0:q.urlInput)q.urlInput=q.urlInput.replace(/"/g,"\x26quot;");if(null===q||void 0===q?0:q.textInput)q.textInput=q.textInput.replace(/"/g,"\x26quot;");return q};z.prototype._onDblClick=function(q){if(q&&q.target&&(q=q.target,(q.tagName?
q.tagName.toLowerCase():"")===this.tag&&q.src)){var m=this.editor;this.editor.selection.selectElement(q);m.onDisplayChanged();m._updateTimer&&(m._updateTimer.remove(),delete m._updateTimer);m.onNormalizedDisplayChanged();var e=this.button;setTimeout(function(){e.set("disabled",!1);e.loadAndOpenDropDown().then(function(){e.dropDown.focus&&e.dropDown.focus()})},10)}};return z=r.__decorate([k["default"](t["default"])],z)}();x["default"].registry.createEsriLink=function(z){return new u({command:"createLink"})};
x["default"].registry.insertEsriImage=function(z){return new E({command:"insertImage"})};u.ImgLinkDialog=E;return u})},"dijit/_editor/plugins/LinkDialog":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string ../_Plugin ../../form/DropDownButton ../range".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z){var q=r("dijit._editor.plugins.LinkDialog",u,{allowUnsafeHtml:!1,linkFilter:[[/</g,"\x26lt;"]],buttonClass:E,
useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=l.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(e){U("dojo/i18n ../../TooltipDialog ../../registry ../../form/Button ../../form/Select ../../form/ValidationTextBox dojo/i18n!../../nls/common dojo/i18n!../nls/LinkDialog".split(" "),l.hitch(this,function(d,a,b){var c=this;this.tag="insertImage"==this.command?"img":"a";d=l.delegate(d.getLocalization("dijit","common",this.lang),d.getLocalization("dijit._editor",
"LinkDialog",this.lang));var h=this.dropDown=this.button.dropDown=new a({title:d[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:l.hitch(this,"setValue"),onOpen:function(){c._onOpenDialog();a.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(l.hitch(c,"_onCloseDialog"),0)}});d.urlRegExp=this.urlRegExp;d.id=b.getUniqueId(this.editor.id);this._uniqueId=d.id;this._setContent(h.title+"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+
y.substitute(this.linkDialogTemplate,d));h.startup();this._urlInput=b.byId(this._uniqueId+"_urlInput");this._textInput=b.byId(this._uniqueId+"_textInput");this._setButton=b.byId(this._uniqueId+"_setButton");this.own(b.byId(this._uniqueId+"_cancelButton").on("click",l.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",l.hitch(this,"_checkAndFixInput")));this._textInput&&this.own(this._textInput.on("change",l.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+
this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=l.hitch(this,function(){var n=this._urlInput.get("value");return this._urlRegExp.test(n)||this._emailRegExp.test(n)});this.own(f(h.domNode,"keydown",l.hitch(this,l.hitch(this,function(n){!n||n.keyCode!=t.ENTER||n.shiftKey||n.metaKey||n.ctrlKey||n.altKey||this._setButton.get("disabled")||(h.onExecute(),h.execute(h.get("value")))}))));e()}))},_checkAndFixInput:function(){var e=this,d=this._urlInput.get("value");
this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var a=d,b=!1,c=!1;a&&1<a.length&&(a=l.trim(a),0!==a.indexOf("mailto:")&&(0<a.indexOf("/")?-1===a.indexOf("://")&&"/"!==a.charAt(0)&&a.indexOf("./")&&0!==a.indexOf("../")&&e._hostRxp.test(a)&&(b=!0):e._userAtRxp.test(a)&&(c=!0)));b&&e._urlInput.set("value","http://"+a);c&&e._urlInput.set("value","mailto:"+a);e._setButton.set("disabled",!e._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(l.hitch(this,
function(){this.own(f(this.editor.editNode,"mouseup",l.hitch(this,"_onMouseUp")));this.own(f(this.editor.editNode,"dblclick",l.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(e){this.dropDown.set({parserScope:"dojo",content:e})},_checkValues:function(e){e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"\x26quot;"));!this.allowUnsafeHtml&&e&&e.textInput&&("function"===typeof this.linkFilter?e.textInput=this.linkFilter(e.textInput):
M.forEach(this.linkFilter,function(d){e.textInput=e.textInput.replace(d[0],d[1])}));return e},_createlinkEnabledImpl:function(){return!0},setValue:function(e){this._onCloseDialog();if(9>g("ie")){var d=z.getSelection(this.editor.window).getRangeAt(0).endContainer;3===d.nodeType&&(d=d.parentNode);d&&d.nodeName&&d.nodeName.toLowerCase()!==this.tag&&(d=this.editor.selection.getSelectedElement(this.tag));d&&d.nodeName&&d.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(d),
this.editor.execCommand("unlink"))}e=this._checkValues(e);this.editor.execCommand("inserthtml",y.substitute(this.htmlTemplate,e));k("a",this.editor.document).forEach(function(a){a.innerHTML||x.has(a,"name")||a.parentNode.removeChild(a)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(e){if(e&&e.tagName.toLowerCase()===this.tag){var d=e.getAttribute("_djrealurl")||e.getAttribute("href");var a=e.getAttribute("target")||"_self";var b=e.textContent||
e.innerText;this.editor.selection.selectElement(e,!0)}else b=this.editor.selection.getSelectedText();return{urlInput:d||"",textInput:b||"",targetSelect:a||""}},_onOpenDialog:function(){if(g("ie")){var e=z.getSelection(this.editor.window);if(e.rangeCount){var d=e.getRangeAt(0);var a=d.endContainer;3===a.nodeType&&(a=a.parentNode);a&&a.nodeName&&a.nodeName.toLowerCase()!==this.tag&&(a=this.editor.selection.getSelectedElement(this.tag));if(!a||a.nodeName&&a.nodeName.toLowerCase()!==this.tag)(e=this.editor.selection.getAncestorElement(this.tag))&&
e.nodeName&&e.nodeName.toLowerCase()==this.tag?(a=e,this.editor.selection.selectElement(a)):d.startContainer===d.endContainer&&(e=d.startContainer.firstChild)&&e.nodeName&&e.nodeName.toLowerCase()==this.tag&&(a=e,this.editor.selection.selectElement(a))}}else a=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(a))},_onDblClick:function(e){if(e&&e.target&&(e=e.target,(e.tagName?e.tagName.toLowerCase():
"")===this.tag&&x.get(e,"href"))){var d=this.editor;this.editor.selection.selectElement(e);d.onDisplayChanged();d._updateTimer&&(d._updateTimer.remove(),delete d._updateTimer);d.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}},_onMouseUp:function(){if(g("ff")){var e=this.editor.selection.getAncestorElement(this.tag);if(e){var d=z.getSelection(this.editor.window).getRangeAt(0);
if(d.collapsed&&e.childNodes.length){var a=d.cloneRange();a.selectNodeContents(e.childNodes[e.childNodes.length-1]);a.setStart(e.childNodes[0],0);1!==d.compareBoundaryPoints(a.START_TO_START,a)?d.setStartBefore(e):-1!==d.compareBoundaryPoints(a.END_TO_START,a)&&d.setStartAfter(e)}}}}}),m=r("dijit._editor.plugins.ImgLinkDialog",[q],{linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(e){if(e&&e.tagName.toLowerCase()===this.tag){var d=e.getAttribute("_djrealurl")||e.getAttribute("src");var a=e.getAttribute("alt");this.editor.selection.selectElement(e,!0)}else a=this.editor.selection.getSelectedText();return{urlInput:d||"",textInput:a||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);
this.editor.onLoadDeferred.then(l.hitch(this,function(){this.own(f(this.editor.editNode,"mousedown",l.hitch(this,"_selectTag")))}))},_selectTag:function(e){e&&e.target&&(e=e.target,(e.tagName?e.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(e))},_checkValues:function(e){e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"\x26quot;"));e&&e.textInput&&(e.textInput=e.textInput.replace(/"/g,"\x26quot;"));return e},_onDblClick:function(e){if(e&&e.target&&(e=e.target,(e.tagName?
e.tagName.toLowerCase():"")===this.tag&&x.get(e,"src"))){var d=this.editor;this.editor.selection.selectElement(e);d.onDisplayChanged();d._updateTimer&&(d._updateTimer.remove(),delete d._updateTimer);d.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}}});u.registry.createLink=function(e){var d={command:"createLink",allowUnsafeHtml:"allowUnsafeHtml"in e?e.allowUnsafeHtml:!1};
"linkFilter"in e&&(d.linkFilter=e.linkFilter);return new q(d)};u.registry.insertImage=function(){return new m({command:"insertImage"})};q.ImgLinkDialog=m;return q})},"arcgisonline/pages/search/widgets/_content":function(){define("require exports tslib dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/string dojo/query dojo/topic dojo/Deferred esri/Evented ../../pageUtil ../../searchUtil ../../utils/strings ../../content/widgets/filters/_content ../../dijit/FilterSingle ../../dijit/FilterTree ../../dijit/FilterDate ../../dijit/FilterItemType ../../dijit/FilterTags ../../dijit/FilterStatus ../../dijit/FilterBBox ../../dijit/FilterCategory ../../dijit/FilterCollaboration ../../dijit/ToggleSwitch ../../dijit/View ../../dijit/Pagination ../../dijit/ControlBar ./_baseTab ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_content.html dojo/text!../../dijit/View/templates/none.html ../../../tsutils/declareDecorator arcgisonline/pages/utils/search".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);v=r.__importDefault(v);C=r.__importDefault(C);G=r.__importDefault(G);H=r.__importDefault(H);K=r.__importDefault(K);O=r.__importDefault(O);return function(){function J(){this._initialLoading=!1;this.templateString=H["default"];this.widgetsInTemplate=!0;this._sortOptions=[{property:"relevance",label:G["default"].sortDropdown.relevance,ascending:!1,active:!0},{property:"title",
label:G["default"].sortDropdown.title,ascending:!0},{property:"owner",label:G["default"].sortDropdown.owner,ascending:!0},{property:"modified",label:G["default"].sortDropdown.modified,ascending:!1},{property:"numviews",label:G["default"].sortDropdown.views,ascending:!1}]}J.prototype.postMixInProperties=function(){this._resetState();this.portal.isPortal&&this._disableOrgRestrictionFlags();this._filters=l["default"].clone(m["default"].filterStatus);this.portalUser&&this.portalUser.isOrgUser||(delete this._filters.sharing.options.shared,
delete this._filters.sharing.options.org);var R=E["default"].getQueryParams();this.restrictSearch=f["default"].substitute(G["default"].searchResults.restrictSearch,{name:this.portal.name||""});this._searchTerm=this.page._searchTerm=R.q;this._sort={property:"relevance",label:G["default"].sortDropdown.relevance,ascending:!1}};J.prototype.postCreate=function(){var R;this.inherited(arguments);this._orgRestrictToggle=new B["default"]({label:this.restrictSearch,labelPosition:"left",labelClasses:"tablet-leader-half trailer-half font-size--1 js-org-only-wrap hide",
isChecked:!0},this.domNode.querySelector(".js-restrict-toggle"));this._filters.modified.minDate=this.portal.created;this._dateFilter=new a["default"](this._filters.modified,this.domNode.querySelector(".js-filter-date"));this._sharingFilter=new d["default"](this._filters.sharing,this.domNode.querySelector(".js-filter-sharing"));this._bBoxFilter=new n["default"]({bbox:this._filters.bbox,sanitizer:this.sanitizer},this.domNode.querySelector(".js-filter-bbox"));this._typeFilter=new b["default"]({portal:this.portal},
this.domNode.querySelector(".js-filter-type"));this._tagsFilter=new c["default"]({portal:this.portal,aggregationQuery:this.getAggregationQuery.bind(this),semanticSearchEnabled:this.semanticSearchEnabled},this.domNode.querySelector(".js-filter-tags"));this._statusFilter=new e["default"](this._filters.status,this.domNode.querySelector(".js-filter-authoritative"));this._collaborationFilter=new w["default"](this._filters.collaboration,this.domNode.querySelector(".js-filter-collaboration"));this._filterStatus=
new h["default"](this._filters,this.domNode.querySelector(".js-filter-status"));this._pagination=new D["default"]({start:this._initialStart,num:this._page.num},this.domNode.querySelector(".js-pagination"));this._view=new A["default"]({select:!1,sortOptions:this._sortOptions,portalUser:this.portalUser,activeView:"list",emptyView:K["default"],hasSharedOwnershipGroups:this.page.hasSharedOwnershipGroups,showFeedback:!0,telemetry:this.page.telemetry,addSearchTelemetryParams:!0},this.domNode.querySelector(".js-content"));
var X=(null===(R=this.portal)||void 0===R?0:R.isPortal)?G["default"].siteHeader.searchAgoEnterprise:G["default"].siteHeader.searchAgo;this._controlBar=new F["default"]({search:{placeholder:X,searchTerm:this.page._searchTerm,queryParam:"q"},sort:this._sortOptions,filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetry:this.page.telemetry,telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}},this.domNode.querySelector(".js-control-bar"))};
J.prototype.startup=function(){var R=this,X=new y["default"];this._addEventListeners();this._applyFilters();this._applyRestrictFilter();if(this.portal.hasCategorySchema)var aa=this.portal.getCategories();else aa=new y["default"],aa.resolve(!1);aa.then(function(ea){ea&&(R.portal.categories=ea,R._categoryFilter=new p["default"]({user:R.portalUser,portal:R.portal,disableEdit:!0,filterContainer:R.domNode.querySelector(".js-filter-category-container")},R.domNode.querySelector(".js-filter-category")),R._applyCategoryFilter());
return!0}).then(this._initializeRestrictUI.bind(this)).then(this.getUserGroups.bind(this)).then(this.render.bind(this)).then(function(ea){R._firstLoad&&(R._firstLoad=!1);R._getCounts(R.group);X.resolve(ea)});return X};J.prototype.destroy=function(){this.inherited(arguments)};J.prototype._addEventListeners=function(){var R=this;this.inherited(arguments);this.own(this._orgRestrictToggle.on("change",this._updateOnlyOrg.bind(this)),g["default"](".js-bucket-select",this.domNode).on("click",this._updateTab.bind(this)),
k["default"].subscribe("sort/update",z["default"].updateCookie),k["default"].subscribe("search/wait",this._updateSearchTerm.bind(this)),k["default"].subscribe("view/update",function(X){var aa;R._view.updateSearchFeedback(R._searchTerm,X,R._page,R._onlyOrg&&!(null===(aa=R.portalUser)||void 0===aa||!aa.orgId),R.portal,R.portalUser)}))};J.prototype._getParams=function(){var R,X,aa=null!==(X=null===(R=null===C["default"]||void 0===C["default"]?void 0:C["default"].viewQueries)||void 0===R?void 0:R.none)&&
void 0!==X?X:"";R="relevance"===this._sort.property?"":this._sort.property;X=this._sort.ascending?"asc":"desc";var ea=this._filterState||{},ka=this.portalUser||{},ma=ka.orgId;ka=ma&&ka.isOrgAdmin;ma=!ma||ma&&(this.portal.canSearchPublic||ka);var sa=(ka=this.portal&&this.portal.name&&!0===this._onlyOrg)||!(!ka&&ma);ma=ea.categories;ka=ea.bbox;var za=ea.origin,ha=L.separateFilterFromQuery(this._searchTerm||""),V=ha.filter;ha=(ha=ha.q)?" ("+q["default"].escapeQuestionMarks(ha)+") ":"";this._filterQ=
V;var la=sa?" orgid:"+this.portal.id:"";this._disableOrgRestriction=!sa;ha=Object.keys(ea).filter(function(T){return"tags"!==T}).reduce(function(T,P){var I=(ea[P]||[]).filter(function(ba){return ba.active});if(0<I.length&&"categories"!==P&&"bbox"!==P&&"origin"!==P){if(I[0].q)return I=I.map(function(ba){return ba.q}).join(" AND "),T+" ("+I+") ";I=I.map(function(ba){return ba.value}).join(" AND ");return T+" "+P+":("+I+") "}return T},ha+la);aa={q:ha+aa,num:this._page.num,start:this._firstLoad?this._initialStart:
this._page.start,sortField:R,sortOrder:X,displaySublayers:C["default"].deepLayerSearchEnabled,displayHighlights:C["default"].deepLayerSearchEnabled};V&&(aa.filter=V);this.semanticSearchEnabled&&(aa.enriched=!0);ma&&(aa.categories=ma.map(function(T){return encodeURIComponent(JSON.stringify([].concat(T.value)))}).join("\x26categories\x3d"));0<(null===ka||void 0===ka?void 0:ka.length)&&(aa.bbox=ka[0].value);0<(null===za||void 0===za?void 0:za.length)&&(aa.origin=za[0].value,R="id:("+za[0].items.join(" OR ")+
")",aa.q=R+aa.q);return aa=l["default"].mixin(aa,this.getDebugParameters())};J.prototype._updateSearchTerm=function(R){this.page._searchTerm=R};J.prototype.getAggregationQuery=function(){var R=this.portalUser||{},X=R.orgId;R=X&&R.isOrgAdmin;X=!X||X&&(this.portal.canSearchPublic||R);var aa=(R=(null===(aa=this.portal)||void 0===aa?void 0:aa.name)&&!0===this._onlyOrg)||R||!X?" orgid:"+this.portal.id:"";X=L.separateFilterFromQuery(this.page._searchTerm||"").q;return(X?"("+q["default"].escapeQuestionMarks(X)+
")":"")+aa};J.prototype.getUserGroups=function(){var R=new y["default"];this.portalUser&&!this.portalUser.userGroups?this.portalUser.getGroups().then(function(){return R.resolve()}):R.resolve();return R};return J=r.__decorate([O["default"](x["default"],t["default"],u["default"],v["default"])],J)}()})},"arcgisonline/pages/searchUtil":function(){define(["require","exports","tslib","dojo/cookie","esri/lang"],function(U,M,r,x,t){x=r.__importDefault(x);t=r.__importDefault(t);return function(){function l(){}
l.readCookie=function(){return JSON.parse(x["default"]("esri_search")||"{}")};l.updateCookie=function(f){f={sortField:f.property||f.sortField||void 0,sortOrder:t["default"].isDefined(f.ascending)?f.ascending?"asc":"desc":t["default"].isDefined(f.sortOrder)?f.sortOrder:void 0};x["default"]("esri_search",JSON.stringify(f),{path:"/",sameSite:"Strict"})};return l}()})},"arcgisonline/pages/content/widgets/filters/_content":function(){define(["require","exports","tslib","../../../../esriGeowConfig","dojo/i18n!../../../../nls/arcgisonline"],
function(U,M,r,x,t){var l;x=r.__importDefault(x);t=r.__importDefault(t);r=x["default"].portal||{};U=r.id;M=r.isPortal;r=!M&&!(null===(l=r.user)||void 0===l?0:l.orgId);return{filterStatus:{sharing:{param:"access",chipText:t["default"].filters.shared,multiselect:!1,options:{owner:{label:t["default"].itemSharing.owner,value:"owner",q:"(access:private OR access:shared)",aggregationFields:["shared","private"],options:{shared:{label:t["default"].itemSharing.shared,value:"shared",q:"access:shared"},"private":{label:t["default"].itemSharing["private"],
value:"private",q:"access:private"}}},org:{label:t["default"].itemSharing.org,value:"org",q:"access:org"},"public":{label:t["default"].itemSharing["public"],value:"public",q:"access:public"}}},modified:{param:"modified",chipText:t["default"].filters.modified},created:{param:"uploaded",chipText:t["default"].filters.created},added:{param:"added",chipText:t["default"].GroupWidget.dateAdded},bbox:{param:"bbox",chipText:t["default"].itemProperties.extent},status:{param:"contentstatus",chipText:t["default"].filters.statusChip,
options:{org_authoritative:{label:t["default"].filters.authoritative,value:"org_authoritative",aggregationFields:r?["public_authoritative"]:["org_authoritative","public_authoritative"],q:(r?"contentstatus:public_authoritative":"(contentstatus:org_authoritative"+(M?"":" orgid:"+U)+") OR contentstatus:public_authoritative")||"contentstatus:public_authoritative"},deprecated:{label:t["default"].filters.deprecated,value:"deprecated"}}},collaboration:{param:"origin",chipText:t["default"].filters.collaborationChip,
options:{}}}}})},"arcgisonline/pages/dijit/FilterSingle":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dijit/_WidgetBase dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic esri/Evented dojo/i18n!../../nls/arcgisonline dojo/text!./FilterSingle/templates/FilterSingle.html dojo/text!./FilterSingle/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),function(U,M,r,x,t,l,f,g,
k,y,u,E,z,q,m,e,d,a){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);return function(){function b(c,h){this.summedAggregationProperties={}}b.prototype.postMixInProperties=function(){var c;this.inherited(arguments);
this._state=g["default"].clone(this.params);this.topicPrefix=null!==(c=this._state.topic||this._state.topicPrefix)&&void 0!==c?c:""};b.prototype.postCreate=function(){this._updateUI();this._attachEvents()};b.prototype.destroy=function(){this._clear();this.inherited(arguments)};b.prototype._attachEvents=function(){var c=u["default"](".js-filter-link",this.domNode),h=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(h.on("click",this._removeFilter.bind(this)),c.on("click",
this._clickHandler.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),z["default"].subscribe(this.topicPrefix+"aggregations/update",this._updateCounts.bind(this)))};b.prototype.select=function(c){this._state.options[c]&&(this._clear(),this._state.options[c].active=!0,u["default"](".js-filter-item[data-value\x3d'"+c+"']",this.domNode).addClass("is-active"),u["default"](".js-filter-item[data-value\x3d'"+
c+"']",this.domNode).attr("aria-current","true"),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype.getState=function(){return this._state};b.prototype._clear=function(){x["default"].toArray(this._state.options).forEach(function(c){return c.active=!1});u["default"](".js-filter-item",this.domNode).removeClass("is-active");u["default"](".js-filter-item",this.domNode).removeAttr("aria-current");u["default"](".js-filter-link",this.domNode).attr("aria-selected",
!1);u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};b.prototype._remove=function(c){var h;if(c.param===this._state.param){var n=this._state.options[c.value];n&&(n.active=!1);this._setSelected();c=u["default"](".js-filter-item[data-value\x3d'"+c.value+"']",this.domNode);c.removeClass("is-active");c.removeAttr("aria-current");null===(h=c[0])||void 0===h?void 0:h.querySelector(".js-filter-link").setAttribute("aria-selected","false")}};b.prototype._updateUI=
function(){var c,h=x["default"].toArray(this._state.options).reduce(this._renderList.bind(this),"");this.domNode.innerHTML=E["default"].substitute(e["default"],{list:h});if(h=u["default"](".accordion-title",u["default"](this.domNode).closest(".accordion-section").shift())[0]){var n=0<(null===(c=this._state.selected)||void 0===c?void 0:c.length)?"":"hide";y["default"].place(E["default"].substitute(a["default"],{i18n:m["default"],hide:n,param:this._state.param}),h)}};b.prototype._renderList=function(c,
h,n,p){h.label=h.label.replace(/"/g,"\x26quot;");n=h.active?"is-active":"";p=this.param;n=r.__assign(r.__assign({},g["default"].clone(h)),{param:p,selected:n});n=E["default"].substitute(d["default"],n);h.aggregationFields&&(this.summedAggregationProperties[h.value]=h.aggregationFields);return c+n};b.prototype._setSelected=function(){var c=[];x["default"].toArray(this._state.options).forEach(function(n){n.active&&c.push(n)});this._state.selected=0<c.length?c:!1;var h=u["default"](".js-clear-filter[data-filter-param\x3d'"+
this._state.param+"']");this._state.selected?h.removeClass("hide"):h.addClass("hide")};b.prototype._clickHandler=function(c){f["default"].stop(c);var h=c.target.parentNode,n=k["default"].contains(h,"is-active"),p=c.target.getAttribute("data-value");n?z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:c.target.getAttribute("data-value")}):(x["default"].toArray(this._state.options).forEach(function(w){return w.active=w.value===p}),u["default"](".js-filter-item",this.domNode).removeClass("is-active"),
u["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),k["default"].add(h,"is-active"),h.setAttribute("aria-current",!0),c.target.setAttribute("aria-selected",!0),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype._removeFilter=function(c){var h;c.stopPropagation();0<(null===(h=this._state.selected)||void 0===h?void 0:h.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
b.prototype._getCountForFieldValue=function(c,h){var n=x["default"].find(c,function(p){return p.value===h});return(null===n||void 0===n?void 0:n.count)||0};b.prototype._updateCounts=function(c){var h=this;c.fieldName===this.param&&(u["default"](".js-filter-link-count",this.domNode).innerHTML(""),c.fieldValues.forEach(function(n){var p=h.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+n.value+"']");p&&(p.innerHTML="("+n.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(n){var p=
h.summedAggregationProperties[n].reduce(function(w,B){return w+h._getCountForFieldValue(c.fieldValues,B)},0);(n=h.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+n+"']"))&&p&&(n.innerHTML="("+p+")")}))};return b=r.__decorate([t["default"](l["default"],q["default"])],b)}()})},"arcgisonline/pages/dijit/FilterTree":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dojo/text!./FilterTree/templates/FilterTree.html dojo/text!./FilterTree/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b){function c(h){return h.options?b["default"].toArray(h.options).reduce(function(n,p){if(p.options)return n.push(p),n.concat(c(p));n.push(p);return n},[]):[]}x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);
d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);return function(){function h(n,p){this.summedAggregationProperties={}}h.prototype.postMixInProperties=function(){this.inherited(arguments);this._state=l["default"].clone(this.params);this.multiselect=this.params.multiselect;this._state.selected=this.params.selected||[]};h.prototype.postCreate=function(){var n,p=b["default"].toArray(this._state.options).reduce(l["default"].hitch(this,this._renderList),"");this.domNode.innerHTML=z["default"].substitute(m["default"],
{list:p});if(p=u["default"](".accordion-title",this.domNode.parentElement)[0]){var w=0<(null===(n=this._state.selected)||void 0===n?void 0:n.length)?"":"hide";k["default"].place(z["default"].substitute(d["default"],{i18n:a["default"],hide:w,param:this._state.param}),p)}this._attachEvents()};h.prototype.select=function(n){var p=this,w=[];n=n.length?n.split(","):[n];var B=u["default"](".js-filter-tree-item",this.domNode),A;n&&(this._clear(),n.forEach(function(D){p._state.options[D]&&(A=p._state.options[D],
A.active=!0,w.push(A),B.forEach(function(F){g["default"].get(F,"data-value")===D&&f["default"].add(F,"is-active")}))},this),this._state.selected=w,E["default"].publish("filter/update",this._onlyLeaves(this._state)),this._showHideClearButton())};h.prototype._renderList=function(n,p){var w="";p.options&&(w={list:b["default"].toArray(p.options).reduce(l["default"].hitch(this,this._renderList),"")},w=z["default"].substitute(m["default"],w));var B=p.active?"is-active":"",A=this.multiselect?"":"filter-tree-item-single";
w=r.__assign(r.__assign({},p),{list:w,selected:B,single:A});w=z["default"].substitute(e["default"],w);p.aggregationFields&&(this.summedAggregationProperties[p.value]=p.aggregationFields);return n+w};h.prototype._onlyLeaves=function(n){n=l["default"].clone(this._state);var p=[];n.selected.forEach(l["default"].hitch(this,function(w){0===c(w).filter(function(B){return B.active}).length&&p.push(w)}));n.selected=p;return n};h.prototype._clickHandler=function(n){t["default"].stop(n);n=u["default"](n.target).closest(".js-filter-tree-item");
for(var p=[g["default"].get(n[0],"data-value")],w=n.parent().closest(".js-filter-tree-item");0<w.length;)p.unshift(g["default"].get(w[0],"data-value")),w=w.parent().closest(".js-filter-tree-item");var B=this._state;p.forEach(function(A){return B=B.options[A]});f["default"].contains(n[0],"is-active")?(f["default"].remove(n[0],"is-active"),u["default"](".js-filter-tree-item",n[0]).removeClass("is-active"),this._deselectTree(B)):(B.active=!0,this.multiselect?(f["default"].add(n[0],"is-active"),this._state.selected.push(B)):
(u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),f["default"].add(n[0],"is-active"),(n=u["default"](n[0].parentElement).closest(".js-filter-tree-item"))&&n.addClass("is-active"),this._state.selected=[B]));E["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()};h.prototype._deselectTree=function(n){this._state.selected=this._state.selected.filter(function(p){return p.value!==n.value});n.active=!1;n.options&&b["default"].toArray(n.options).forEach(l["default"].hitch(this,
this._deselectTree))};h.prototype._clear=function(){b["default"].toArray(this._state.options).forEach(l["default"].hitch(this,this._deselectTree));u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");this._showHideClearButton()};h.prototype._remove=function(n){if(n.param===this._state.param){var p=b["default"].find(this._state.selected,function(w){return w.value===n.value});p&&(this._deselectTree(p),p=u["default"](".js-filter-tree-item[data-value\x3d'"+p.value+"']",this.domNode),
p.removeClass("is-active"),u["default"](".js-filter-tree-item",p[0]).removeClass("is-active"));E["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()}};h.prototype._showHideClearButton=function(){var n,p=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(n=this._state.selected)||void 0===n?void 0:n.length)?p.removeClass("hide"):p.addClass("hide")};h.prototype._removeFilter=function(n){var p=this;n.stopPropagation();this._state.selected.forEach(l["default"].hitch(this,
function(w){E["default"].publish("filter/remove",{param:p._state.param,value:w.value})}))};h.prototype._attachEvents=function(){var n=u["default"](".js-filter-tree-link",this.domNode),p=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(p.on("click",l["default"].hitch(this,this._removeFilter)),n.on("click",l["default"].hitch(this,this._clickHandler)),E["default"].subscribe("filter/clear",l["default"].hitch(this,this._clear)),E["default"].subscribe("filter/remove",
l["default"].hitch(this,this._remove)),E["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};h.prototype._getCountForFieldValue=function(n,p){var w=b["default"].find(n,function(B){return B.value===p});return(null===w||void 0===w?void 0:w.count)||0};h.prototype._updateCounts=function(n){var p=this;n.fieldName===this._state.param&&(u["default"](".js-filter-link-count",this.domNode).innerHTML(""),n.fieldValues.forEach(function(w){var B=p.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+
w.value+"']");B&&(B.innerHTML="("+w.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(w){var B=p.summedAggregationProperties[w].reduce(function(A,D){return A+p._getCountForFieldValue(n.fieldValues,D)},0);(w=p.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+w+"']"))&&B&&(w.innerHTML="("+B+")")}))};return h=r.__decorate([x["default"](q["default"],y["default"])],h)}()})},"arcgisonline/pages/dijit/FilterDate":function(){define("require exports tslib ../utils/clone ../utils/date ../utils/dom ../utils/arrays ../utils/formatters ../utils/validation ../../tsutils/declareDecorator dojo/on dojo/_base/event dojo/topic dojo/string dojox/uuid/generateRandomUuid dijit/_WidgetBase dijit/_TemplatedMixin moment/moment dojo/i18n!../../nls/arcgisonline dojo/text!./FilterDate/templates/FilterDate.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function n(p,w){this.templateString=
c["default"];this.constraintToToday=!0;this.showNever=!1;this.topicPrefix="";this.constrainWidthOnError=!1;this.fullDate=g["default"].fullDate;this.i18n=b["default"]}n.prototype.postMixInProperties=function(){this.uid=m["default"]();var p=this.generateRange.bind(this);this.state=x["default"](this.params);this.state.param=this.state.param||"modified";this.state.options=this.state.options||{today:{label:b["default"].filters.today,value:"today",from:a["default"]().startOf("day"),to:a["default"]().endOf("day"),
q:p(a["default"]().startOf("day"),a["default"]().endOf("day"))},yesterday:{label:b["default"].filters.yesterday,value:"yesterday",from:a["default"]().subtract(1,"days").startOf("day"),to:a["default"]().subtract(1,"days").endOf("day"),q:p(a["default"]().subtract(1,"days").startOf("day"),a["default"]().subtract(1,"days").endOf("day"))},last7Days:{label:b["default"].filters.last7Days,value:"last7Days",from:a["default"]().subtract(7,"days").startOf("day"),to:a["default"]().endOf("day"),q:p(a["default"]().subtract(7,
"days").startOf("day"),a["default"]().endOf("day"))},last30Days:{label:b["default"].filters.last30Days,value:"last30Days",from:a["default"]().subtract(30,"days").startOf("day"),to:a["default"]().endOf("day"),q:p(a["default"]().subtract(30,"days").startOf("day"),a["default"]().endOf("day"))},custom:{label:b["default"].filters.customRange,value:"custom"}};this.state.selected=this.state.selected||[];this.constrainWidthOnError=this.state.constrainWidthOnError};n.prototype.postCreate=function(){this.inherited(arguments);
this.initUI();this.addEventListeners();this.showNever&&(this.state.options.never={label:b["default"].filters.never,value:"never",from:-1,to:-1,q:this.state.param+":[-1 TO -1]"},l["default"].showNode(this.neverOption))};n.prototype.getState=function(){return this.state};n.prototype.destroy=function(){this.clear();this.inherited(arguments)};n.prototype.select=function(p,w,B){if(this.state.options[p]){this.clear();var A=this.state.options[p];A.active=!0;w&&B&&(A.from=a["default"](parseInt(w,10)),A.to=
a["default"](parseInt(B,10)),A.q=this.generateRange(A.from,A.to),A.label=q["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(A.from.valueOf()),end:this.formatDate(A.to.valueOf())}));this.state.selected=[A];l["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+p+'"]'),function(D){D.classList.add("is-active");D.setAttribute("aria-current","true")});"custom"===A.value&&A.from&&A.to&&(this.customStart.valueAsDate=new Date(A.from.valueOf()),
this.customEnd.valueAsDate=new Date(A.to.valueOf()),this.domNode.querySelector(".js-custom-date-select").classList.remove("hide"));this.update();this.showHideClearButton()}};n.prototype.generateRange=function(p,w){return p&&w?this.state.param+":["+p.valueOf()+" TO "+w.valueOf()+"]":""};n.prototype.clear=function(){this.state.selected=!1;f["default"].toArray(this.state.options).forEach(function(p){p.active=!1});this.domNode&&(l["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),
function(p){p.classList.remove("is-active");p.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"),this.showHideClearButton())};n.prototype.remove=function(p){p.param===this.state.param&&(this.state.selected=!1,this.state.options[p.value].active=!1,l["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+p.value+'"]'),function(w){w.classList.remove("is-active");w.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"));
this.showHideClearButton()};n.prototype.initUI=function(){var p;if(this.constraintToToday){var w=new Date;this.customStart.maxAsDate=w;this.customEnd.maxAsDate=w}this.minDate&&(this.customEnd.minAsDate=new Date(this.minDate));if(w=this.domNode.closest(".accordion-section").querySelector(".accordion-title")){var B=0<(null===(p=this.state.selected)||void 0===p?void 0:p.length)?"":"hide";w.insertAdjacentHTML("beforeend",q["default"].substitute(h["default"],{i18n:b["default"],hide:B,param:this.state.param}))}};
n.prototype.addEventListeners=function(){var p=this,w=this.domNode.querySelectorAll(".js-filter-link"),B=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');this.clickHandler=this.clickHandler.bind(this);l["default"].forEachNode(w,function(A){p.own(u["default"](A,"click",p.clickHandler))});this.own(u["default"](B,"click",this.removeFilter.bind(this)),u["default"](this.customStart,"calciteDatePickerChange",this.changeCustomStart.bind(this)),u["default"](this.customEnd,
"calciteDatePickerChange",this.changeCustomEnd.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this.remove.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this.clear.bind(this)))};n.prototype.clickHandler=function(p){E["default"].stop(p);var w=p.target.parentNode,B=w.classList.contains("is-active");p=p.target.getAttribute("data-value");var A=this.domNode.querySelector(".js-custom-date-select"),D=this.state.options[p];B?(z["default"].publish(this.topicPrefix+
"filter/remove",{param:this.state.param,value:p}),D.active=!1,this.state.selected=!1):(this.state.selected=[D],D.active=!0,l["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),function(F){F.classList.remove("is-active");F.removeAttribute("aria-current")}),w.classList.add("is-active"),w.setAttribute("aria-current",!0),"custom"===p?(A.classList.remove("hide"),w=this.state.options.custom,w.from&&w.to&&(w.q=this.generateRange(w.from,w.to),this.update())):(A.classList.add("hide"),
this.update()));this.showHideClearButton()};n.prototype.resetIfNullCustom=function(){this.customStart.value||this.customEnd.value||(this.state.options.custom.from=void 0,this.state.options.custom.to=void 0,this.removeFilter())};n.prototype.changeCustomStart=function(p){if(null!==p&&void 0!==p&&p.detail){var w=this.state.options.custom;w.from=a["default"](p.detail).startOf("day");this.dateInputsValid()&&(this.customEnd.minAsDate=p.detail,w.to&&(w.q=this.generateRange(w.from,w.to),w.label=q["default"].substitute(b["default"].filters.dateRange,
{start:this.formatDate(w.from.valueOf()),end:this.formatDate(w.to.valueOf())}),this.update()))}else this.resetIfNullCustom()};n.prototype.dateInputsValid=function(){var p=this.state.options.custom,w=p.from;p=p.to;if(w&&p){if(p.valueOf()<w.valueOf())return k["default"].setInvalidState(this.customStart,this.customStartError,this.i18n.filters.startDateBefore),this.constrainWidthOnError&&this.customStart.classList.add("input-error__constrain-width"),!1;if(w.valueOf()>p.valueOf())return k["default"].setInvalidState(this.customEnd,
this.customEndError,this.i18n.filters.endDateAfter),this.constrainWidthOnError&&this.customEnd.classList.add("input-error__constrain-width"),!1}k["default"].clearState([this.customStart,this.customStartError,this.customEnd,this.customEndError]);this.constrainWidthOnError&&(this.customStart.classList.remove("input-error__constrain-width"),this.customEnd.classList.remove("input-error__constrain-width"));return!0};n.prototype.changeCustomEnd=function(p){var w;if(null!==p&&void 0!==p&&p.detail){var B=
this.state.options.custom;B.to=a["default"](p.detail).endOf("day");this.dateInputsValid()&&(this.customStart.maxAsDate=p.detail,B.from&&(B.q=this.generateRange(B.from,B.to),B.label=q["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(B.from.valueOf()),end:this.formatDate(null===(w=B.to)||void 0===w?void 0:w.valueOf())}),this.update()))}else this.resetIfNullCustom()};n.prototype.update=function(){z["default"].publish(this.topicPrefix+"filter/update",this.state);this.showHideClearButton()};
n.prototype.removeFilter=function(p){var w;p&&p.stopPropagation();0<(null===(w=this.state.selected)||void 0===w?void 0:w.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this.state.param,value:this.state.selected[0].value});this.showHideClearButton()};n.prototype.showHideClearButton=function(){var p,w=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');0<(null===(p=this.state.selected)||void 0===p?void 0:p.length)?w.classList.remove("hide"):
w.classList.add("hide")};n.prototype.formatDate=function(p){return t["default"].format(new Date(p),"short-date")};return n=r.__decorate([y["default"](e["default"],d["default"])],n)}()})},"arcgisonline/pages/dijit/FilterItemType":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterItemType/templates/FilterItemType.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ./FilterItemType/_itemTypes ../utils/dom arcgisonline/esriGeowConfig".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function n(p,w){this.templateString=
e["default"];this.i18n=a["default"];this._state={chipText:a["default"].filters.type,registeredOnly:!1,param:"focus",selected:[]};this.isLivingAtlas=this.filterNonPublicItemTypes=!1;this.itemTypes=b["default"]}n.prototype.postMixInProperties=function(){this.inherited(arguments)};n.prototype.destroy=function(){this.inherited(arguments);this._clear();u["default"](".js-clear-filter",this.domNode).addClass("hide")};n.prototype.postCreate=function(){var p=u["default"](".accordion-title",this.domNode.parentElement.parentElement)[0];
p&&k["default"].place(z["default"].substitute(d["default"],{i18n:a["default"],hide:"hide",param:this._state.param}),p);this.filterNonPublicItemTypes&&u["default"](".js-filter-public").addClass("if-no-public-user");this.portal.canCreateGeoBIM&&u["default"](".js-geobim").removeClass("hide");if(this.portal.isPortal){p=this.itemTypes.layers.q.substring(0,1);var w=this.itemTypes.layers.q.substring(1);h["default"].videoServerEnabled&&-1===this.itemTypes.layers.q.indexOf('type:"Video Service"')&&(this.itemTypes.layers.q=
p+'type:"Video Service" OR '+w,u["default"]('li[data-value\x3d"layers-weblayers-videolayers"]').removeClass("hide"));this.domNode.classList.add("is-on-premise");this.isLivingAtlas||this.checkKnowledgeServer()}this._addEventListeners();this._showHideClearButton()};n.prototype.checkKnowledgeServer=function(){return r.__awaiter(this,void 0,void 0,function(){var p;return r.__generator(this,function(w){switch(w.label){case 0:return[4,this.portal.getFederatedServerByFunction("KnowledgeServer")];case 1:return(p=
w.sent())&&c["default"].showNode(this.domNode.querySelector(".js-knowledge-graph-item")),[2]}})})};n.prototype._clickHandler=function(p){t["default"].stop(p);p=u["default"](p.target).closest(".js-filter-tree-item");var w=f["default"].get(p[0],"data-value"),B=f["default"].get(p[0],"data-label");if(g["default"].contains(p[0],"is-active")){g["default"].remove(p[0],"is-active");w=p.shift();var A=w.querySelector(".js-filter-tree-link");A.setAttribute("aria-label",B);this._hasChildren(w)&&A.setAttribute("aria-expanded",
!1);p=p.parent().closest(".js-filter-tree-item");0<p.length?(p=f["default"].get(p[0],"data-value"),this.select(p)):this._removeFilter()}else this.select(w)};n.prototype.select=function(p){var w=this;if(b["default"][p]){var B=b["default"][p],A=u["default"](".js-filter-tree-link[data-value\x3d'"+p+"']",this.domNode).closest(".js-filter-tree-item");u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");u["default"](".js-filter-tree-item",this.domNode).forEach(function(F){g["default"].remove(F,
"is-active");var v=F.querySelector(".js-filter-tree-link");v.removeAttribute("aria-selected");w._hasChildren(F)&&v.setAttribute("aria-expanded",!1);v.setAttribute("aria-label",F.getAttribute("data-label"))});u["default"](".js-filter-tree-link",this.domNode).forEach(function(F){F.removeAttribute("aria-selected")});A.addClass("is-active");var D=A[0].querySelector(".js-filter-tree-link");D.setAttribute("aria-selected",!0);this._hasChildren(A[0])&&D.setAttribute("aria-expanded",!0);D.setAttribute("aria-label",
z["default"].substitute(a["default"].common.selectedLabel,{name:A[0].getAttribute("data-label")}));A=A.parent().closest(".js-filter-tree-item");0<A.length&&(A.addClass("is-active"),D=A[0].querySelector(".js-filter-tree-link"),D.setAttribute("aria-label",z["default"].substitute(a["default"].common.selectedLabel,{name:A[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0),A=A.parent().closest(".js-filter-tree-item"),0<A.length&&(A.addClass("is-active"),D=A[0].querySelector(".js-filter-tree-item"),
D.setAttribute("aria-label",z["default"].substitute(a["default"].common.selectedLabel,{name:A[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0)));A=this._state.registeredOnly&&-1<p.indexOf("application")?' AND typekeywords:"Registered App"':"";this._state.selected=[{active:!0,label:B.label,simpleLabel:B.label,q:B.q+A,value:p}];E["default"].publish("filter/update",this._state)}this._showHideClearButton()};n.prototype._hasChildren=function(p){return 0<u["default"](".filter-tree",p).length};
n.prototype._clear=function(){var p=this;this._state.selected=[];u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");u["default"](".js-filter-tree-item",this.domNode).forEach(function(w){var B=w.querySelector(".js-filter-tree-link");B.setAttribute("aria-label",w.getAttribute("data-label"));p._hasChildren(w)&&B.setAttribute("aria-expanded",!1)});this._showHideClearButton()};n.prototype._remove=function(p){p.param===this._state.param&&this._clear()};n.prototype._showHideClearButton=
function(){var p,w=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(p=this._state.selected)||void 0===p?void 0:p.length)?w.removeClass("hide"):w.addClass("hide")};n.prototype._removeFilter=function(p){var w,B;null===(w=null===p||void 0===p?void 0:p.stopPropagation)||void 0===w?void 0:w.call(p);0<(null===(B=this._state.selected)||void 0===B?void 0:B.length)&&E["default"].publish("filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
n.prototype._addEventListeners=function(){var p=u["default"](".js-filter-tree-link",this.domNode),w=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(p.on("click",l["default"].hitch(this,this._clickHandler)),w.on("click",l["default"].hitch(this,this._removeFilter)),u["default"](".js-registered-only",this.domNode).on("click",l["default"].hitch(this,this._updateRegisteredOnly)),E["default"].subscribe("filter/clear",l["default"].hitch(this,this._clear)),E["default"].subscribe("filter/remove",
l["default"].hitch(this,this._remove)))};n.prototype._updateRegisteredOnly=function(p){var w,B;this._state.registeredOnly=p.target.checked;0<(null===(B=null===(w=this._state)||void 0===w?void 0:w.selected)||void 0===B?void 0:B.length)&&this.select(this._state.selected[0].value)};return n=r.__decorate([x["default"](q["default"],m["default"],y["default"])],n)}()})},"arcgisonline/pages/dijit/FilterItemType/_itemTypes":function(){define(["require","exports"],function(U,M){return{maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',
label:"Maps"},"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"',label:"Web maps"},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")',label:"Map files"},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage") -type:("Web Mapping Application" OR "Geodata Service")',
label:"Layers"},"layers-weblayers":{q:'type:("Feature Collection" OR "Feature Service" OR "Image Service" OR "Map Service" OR "Vector Tile Service" OR "Scene Service" OR "Stream Service" OR "WMS" OR "WMTS" OR "WFS" OR "KML" OR "OGCFeatureServer") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Web layers"},"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',label:"Feature layers"},
"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")',label:"Tile layers"},"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Map Image layers"},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"',label:"Imagery layers"},"layers-weblayers-scenelayers":{q:'type:"Scene Service"',
label:"Scene layers"},"layers-weblayers-videolayers":{q:'type:"Video Service"',label:"Video layers"},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"',label:"Tiled Imagery layers"},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"',label:"Elevation layers"},"layers-weblayers-feeds":{q:'type:"Feed"',label:"Feeds"},"layers-weblayers-tables":{q:"typekeywords:Table",label:"Tables"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")',
label:"Layer files"},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"',label:"Scenes"},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',
label:"Apps"},"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")',label:"Web apps"},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")',label:"Dashboards"},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")',label:"Sites"},"applications-pages":{q:'type:("Hub Page" OR "Site Page")',label:"Pages"},"applications-geobim-projects":{q:'type:("GeoBIM Project")',
label:"GeoBIM projects"},"applications-geobim-apps":{q:'type:("GeoBIM Application")',label:"GeoBIM applications"},"applications-instant-apps":{q:'typekeywords:"configurableApp"',label:"Instant Apps"},"applications-storymap":{q:'type:("StoryMap")',label:"Storymaps"},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")',label:"Experience Builder"},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"',label:"Web AppBuilder"},
"applications-mobile":{q:'type:"Mobile Application"',label:"Mobile apps"},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"',label:"Desktop apps"},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',
label:"Tools"},"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")',label:"Locators"},"tools-geodatabase":{q:'type:"Geodata Service"',label:"Geodatabase access"},"tools-geometric":{q:'type:"Geometry Service"',label:"Geometric operations"},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")',label:"Geoprocessing tasks"},"tools-network":{q:'type:"Network Analysis Service"',label:"Network analysis"},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")',
label:"Analytics"},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',label:"Files"},"files-document":{q:'typekeywords:"Document" -type:"PDF"',
label:"Documents"},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"',label:"Images"},"files-pdf":{q:'type:"PDF"',label:"PDFs"},"files-csv":{q:'type:"CSV"',label:"CSVs"},"files-report":{q:'type:"Administrative Report"',label:"Administrative reports"},"files-raster":{q:'type: "Raster function template"',label:"Raster function templates"},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',label:"Notebooks"},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',
label:"Insights"},"insights-workbooks":{q:'type:"Insights Workbook"',label:"Workbooks"},"insights-pages":{q:'type:"Insights Page"',label:"Pages"},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")',label:"Models"},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")',label:"Themes"},"data-stores":{q:'type:("Data Store")',label:"Data stores"},
knowledgeGraphs:{q:'type:"Knowledge Graph"',label:"Knowledge graphs"}}})},"arcgisonline/pages/dijit/FilterTags":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/topic dojo/on dojo/debounce dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterTags/templates/FilterTags.html dojo/text!./FilterTags/templates/Option.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/icons ../utils/arrays arcgisonline/sharing/util ../../esriGeowConfig esri/libs/sanitizer/Sanitizer".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
return function(){function w(B,A){var D;this.templateString=m["default"];this._hasRendered=this.semanticSearchEnabled=!1;this._searchString="";this.i18n=a["default"];this.sanitizer=null!==(D=null===B||void 0===B?void 0:B.sanitizer)&&void 0!==D?D:new p["default"]}w.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a["default"];this._state={param:"tags",options:{},chipText:a["default"].filters.tagged,preselected:[],selected:[]};this._endPoint=this.searchEndpoint||n["default"].restBaseUrl+
"search";this._aggregationQuery=this.aggregationQuery||function(){return""};this._hiddenTypes=this.hiddenTypes||n["default"].viewQueries.none};w.prototype.postCreate=function(){var B=this;this._fetchTags().then(this._updateUI.bind(this)).then(this._addEventListeners.bind(this)).then(function(){0<B._state.preselected.length&&B.select(B._state.preselected)})};w.prototype.destroy=function(){this._clear()};w.prototype._addEventListeners=function(){var B=this,A=g["default"](".js-tag-search",this.domNode),
D=t["default"].hitch(this,function(F,v,C){l["default"].contains(C.target,F)&&t["default"].hitch(B,v)(C)});this.own(y["default"](this.domNode,"click",function(F){D("js-filter-tree-link",B._clickHandler,F)}),y["default"](this.clearLink,"click",this._clearHandler.bind(this)),y["default"](A,"input",u["default"](this._listUpdate.bind(this),400).bind(this)),k["default"].subscribe("filter/clear",this._clear.bind(this)),k["default"].subscribe("filter/remove",this._remove.bind(this)),k["default"].subscribe("aggregations/refresh",
this._rerender.bind(this)))};w.prototype._fetchTags=function(B){var A=this;B=B||{};var D={countFields:"tags",countSize:B.countSize||200,q:(B.tag&&"tags:("+B.tag+"* OR "+B.tag+") "||"")+this._aggregationQuery()+" "+this._hiddenTypes,num:0};this.semanticSearchEnabled&&(D.enriched=!0);B.additive||(this._state.localOptions={});return h["default"].request({url:this._endPoint,content:D}).then(function(F){var v,C;return 0<(null===(C=null===(v=F.aggregations)||void 0===v?void 0:v.counts)||void 0===C?void 0:
C.length)?(F.aggregations.counts[0].fieldValues.forEach(function(G){var H=A._state.preselected||[],K=(A._state.selected||[]).map(function(O){return O.value});H=[].concat(H).concat(K);-1<G.value.indexOf("\x3c")||(K=G.value.trim(),A._state.options[K]=A._state.options[K]||{value:K,label:K,count:G.count,countLabel:"("+G.count+")",active:-1<H.indexOf(K)})}),!0):!1},function(F){})};w.prototype.select=function(B){var A=this;B=[].concat(this.sanitizer.sanitize(B)).filter(function(D,F,v){return v.indexOf(D)===
F});this._hasRendered?(B.map(function(D){A._state.options[D]||(A._state.options[D]={value:D,label:D,count:0,countLabel:"",active:!0},A._updateUI());return A._state.options[D]}).forEach(function(D){D.active=!0;-1===A._state.selected.indexOf(D)&&A._state.selected.push(D);g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",A.domNode).addClass("is-active");g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",A.domNode).forEach(function(F){F.setAttribute("aria-selected",!0)})}),
this._setClearVisibility(),k["default"].publish("filter/update",this._state)):this._state.preselected=B};w.prototype._clear=function(){c["default"].toArray(this._state.options).forEach(function(B){B.active=!1});this._state.selected=[];g["default"](".js-filter-tree-item",this.domNode).forEach(function(B){l["default"].remove(B,"is-active");B.setAttribute("aria-selected",!1)});g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};w.prototype._remove=function(B){B.param===
this._state.param&&(this._state.options[B.value].active=!1,this._state.selected=this._state.selected.filter(function(A){return A.value!==B.value}),this._setClearVisibility(),g["default"](".js-filter-tree-item[data-value\x3d'"+B.value+"']",this.domNode).forEach(function(A){l["default"].remove(A,"is-active");A.setAttribute("aria-selected",!1)}))};w.prototype._rerender=function(){this._fetchTags().then(this._updateUI.bind(this)).then(this._clearInvalidOptions.bind(this))};w.prototype._updateUI=function(){var B=
this,A=c["default"].toArray(this._state.options),D=g["default"](this.domNode).closest(".accordion-section").shift();0===A.length?l["default"].add(D,"hide"):(l["default"].remove(D,"hide"),A=A.filter(function(F){return""===B._searchString||-1<F.value.toLowerCase().indexOf(B._searchString)}).sort(function(F,v){return v.count-F.count}),this.domNode.querySelector(".js-tags-list").innerHTML=A.reduce(this._renderList.bind(this),""),!this.clearLink&&(D=D.querySelector(".accordion-title"))&&(f["default"].place(E["default"].substitute(d["default"],
{i18n:a["default"],hide:"hide",param:this._state.param}),D),this.clearLink=D.querySelector(".js-clear-filter")),g["default"](".js-no-tags",this.domNode)[0<A.length?"addClass":"removeClass"]("hide"));return this._hasRendered=!0};w.prototype._clearInvalidOptions=function(){var B=c["default"].toArray(this._state.options);this._state.selected=this._state.selected.map(function(A){return c["default"].find(B,function(D){return D.value.toLowerCase()===A.value.toLowerCase()})})};w.prototype._renderList=function(B,
A){var D=t["default"].mixin(t["default"].clone(A),{isActive:A.active?"is-active":"",selected:A.active?'aria-selected\x3d"true"':"",icons:b["default"]});D=E["default"].substitute(e["default"],D);return B+D};w.prototype._setClearVisibility=function(){var B=g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<this._state.selected.length?B.removeClass("hide"):B.addClass("hide")};w.prototype._clickHandler=function(B){B.preventDefault();var A=B.target.parentNode,D=l["default"].contains(A,
"is-active"),F=B.target.getAttribute("data-value");D?(k["default"].publish("filter/remove",{param:this._state.param,value:B.target.getAttribute("data-value"),partial:!0}),l["default"].remove(A,"is-active"),A.setAttribute("aria-selected",!1)):(this._state.options[F].active=!0,this._state.selected.push(this._state.options[F]),l["default"].add(A,"is-active"),A.setAttribute("aria-selected",!0),this._setClearVisibility(),k["default"].publish("filter/update",this._state))};w.prototype._clearHandler=function(B){B.stopPropagation();
this._clear();k["default"].publish("filter/update",this._state)};w.prototype._listUpdate=function(B){this._searchString=null===B||void 0===B?void 0:B.target.value.toLowerCase();this._fetchTags({tag:this._searchString,additive:!0}).then(this._updateUI.bind(this))};return w=r.__decorate([x["default"](z["default"],q["default"])],w)}()})},"arcgisonline/pages/dijit/FilterStatus":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterStatus/templates/FilterStatus.html dojo/text!./FilterStatus/templates/FilterChip.html dojo/i18n!../../nls/arcgisonline ../pageUtil ../utils/icons ../utils/arrays".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);return function(){function c(h,n){this.templateString=q["default"];this.i18n=e["default"];
this._state={}}c.prototype.postMixInProperties=function(){var h=this,n;this.inherited(arguments);this._state={};this._dontUpdateQueryParams=this.params.dontUpdateQueryParams;this._topic=null!==(n=this.params.topic)&&void 0!==n?n:"";b["default"].toArray(t["default"].clone(this.params)).forEach(function(p){var w;0<(null===(w=p.selected)||void 0===w?void 0:w.length)&&(h._state[p.param]=p)})};c.prototype.postCreate=function(){this.inherited(arguments);b["default"].toArray(this._state).forEach(t["default"].hitch(this,
this._update));this._addEventListeners()};c.prototype.destroy=function(){this.inherited(arguments);this._state={}};c.prototype._addEventListeners=function(){this.own(g["default"](this.clearAll,"click",t["default"].hitch(this,this._clearHandler)),g["default"](this.filterChips,"click",t["default"].hitch(this,this._clickHandler)),y["default"].subscribe(this._topic+"filter/remove",t["default"].hitch(this,this._remove)),y["default"].subscribe(this._topic+"filter/update",t["default"].hitch(this,this._update)),
y["default"].subscribe(this._topic+"filter/clear",t["default"].hitch(this,this._clear)))};c.prototype._clear=function(){this.filterChips.innerHTML="";l["default"].add(this.filterChipWrap,"hide");var h=[];b["default"].toArray(this._state).forEach(function(n){h.push(n.param)});this._state={};this._topic||d["default"].removeQueryParams(h);this._updateMoreChip()};c.prototype._clearHandler=function(h){y["default"].publish(this._topic+"filter/clear",h)};c.prototype._remove=function(h){var n=this;k["default"](".js-filter-chip[data-filter\x3d'"+
h.param+"']",this.filterChips).forEach(f["default"].destroy);if(h.partial){var p=this._state[h.param];p.selected=p.selected.filter(function(w){return w.value!==h.value}).filter(function(w,B,A){return A.indexOf(w)===B});1>p.selected.length?delete this._state[h.param]:p.selected.forEach(function(w){w=u["default"].substitute(m["default"],{filter:p,i18n:e["default"],selected:w,icons:a["default"]});f["default"].place(w,n.filterChips)})}else delete this._state[h.param];1>Object.keys(this._state).length&&
l["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._removeQueryString(h);this._updateMoreChip()};c.prototype._updateMoreChip=function(){var h=this,n=-1;Object.keys(this._state).forEach(function(w){h._state[w].selected&&(n+=h._state[w].selected.length)});var p=this.filterChips.querySelector(".js-more-chip");p&&this.filterChips.removeChild(p);0<n&&(p=document.createElement("span"),p.className="filter-chip filter-chip__more js-more-chip",this.filterChips.appendChild(p),p.textContent=
"+ "+n)};c.prototype._update=function(h){var n=this;l["default"].remove(this.filterChipWrap,"hide");this._state[h.param]=h;k["default"](".js-filter-chip[data-filter\x3d'"+h.param+"']",this.filterChips).forEach(f["default"].destroy);h.selected&&(h.selected.forEach(function(p){var w=document.createElement("div");!p.label&&p.simpleLabel&&(p.label=p.simpleLabel);w.innerHTML=p.label;p.simpleLabel=w.textContent||w.innerText||"";p=u["default"].substitute(m["default"],{filter:h,i18n:e["default"],selected:p,
icons:a["default"]});f["default"].place(p,n.filterChips)}),0===h.selected.length&&(delete this._state[h.param],this._topic||d["default"].removeQueryParams([h.param])));this._updateMoreChip();1>Object.keys(this._state).length&&l["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._topic||this._updateQueryString()};c.prototype._updateQueryString=function(){var h={};b["default"].toArray(this._state).forEach(function(n){h[n.param]=n.selected&&n.selected.map(function(p){"custom"===
p.value&&p.to&&p.from?(h[n.param+"_to"]=p.to.valueOf(),h[n.param+"_from"]=p.from.valueOf()):(delete h[n.param+"_to"],delete h[n.param+"_from"]);if(n.isCategory)return JSON.stringify([p.value]);"bbox"===n.param&&(h.bboxLabel=p.label,h.srSort="true");return p.value}).join(",")||""},this);"bbox"in h&&(h.sortField="bbox");this._topic||d["default"].updateQueryParams(h)};c.prototype._removeQueryString=function(h){var n=d["default"].getQueryParams(),p=[];h.isCategory||"categories"===h.param?n[h.param]=[]:
"bbox"===h.param?(n[h.param]=[],p.push("srSort","bboxLabel","sortField")):(n[h.param]&&(n[h.param]=n[h.param].split(",").filter(function(w){return w!==h.value}).join(",")),d["default"].updateQueryParams(n));n=n[h.param];1>(null===n||void 0===n?void 0:n.length)&&(p.push(h.param),"custom"===h.value&&(p.push(h.param+"_to"),p.push(h.param+"_from")));d["default"].removeQueryParams(p)};c.prototype._clickHandler=function(h){if(l["default"].contains(h.target,"js-filter-chip-remove")){h.preventDefault();var n=
h.target.getAttribute("data-filter"),p=h.target.getAttribute("data-value");y["default"].publish(this._topic+"filter/remove",{param:n,value:p,partial:1<this._state[n].selected.length,lastFilter:1===Object.keys(this._state).length,evt:h})}};return c=r.__decorate([x["default"](E["default"],z["default"])],c)}()})},"arcgisonline/pages/dijit/FilterBBox":function(){define("require exports tslib dojo/text!./FilterSingle/templates/ClearAll.html dojo/_base/lang dojo/dom-construct dojo/query dojo/string dojo/topic esri/dijit/Search esri/libs/sanitizer/Sanitizer dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterBBox/FilterBBox.html ../utils/formatters ../../sharing/util ../../map/utils/createExtentSearchOptions ../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);return function(){function h(n,p){var w;this.declaredClass="arcgisonline.pages.dijit.FilterBBox";
this.baseClass="esriGroupSelector margin-left-0 trailer-0";this.templateString=e["default"];this.clearTemplateString=x["default"];this.widgetsInTemplate=!0;this.i18n=m["default"];this._bbox=null;this._selected=!1;n.bbox&&(this._bbox=n.bbox);this.sanitizer=null!==(w=null===n||void 0===n?void 0:n.sanitizer)&&void 0!==w?w:new u["default"]}h.prototype.postCreate=function(){this._updateUI();this._doAttachEvents()};h.prototype.destroy=function(){this.inherited(arguments)};h.prototype._doAttachEvents=function(){this.own(f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").on("click",
t["default"].hitch(this,this._removeExtentFilter)),k["default"].subscribe("filter/clear",t["default"].hitch(this,this._clear)),k["default"].subscribe("filter/remove",t["default"].hitch(this,this._remove)))};h.prototype.addExtentFilter=function(n,p){var w=p;p&&(w=this.sanitizer.sanitize(p),w=a["default"].stripHTML(w));this._selected=!0;this._bbox=[n[0][0],n[0][1],n[1][0],n[1][1]].join();w={chipText:m["default"].filters.locationChip,registeredOnly:!1,param:"bbox",bbox:this._bbox,selected:[{active:!0,
label:w,simpleLabel:w,value:this._bbox,partial:!1}]};k["default"].publish("sort/update",{property:"relevance",label:this.i18n.sortDropdown.relevance,ascending:"false"});k["default"].publish("filter/update",w);f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").removeClass("hide");f["default"](".js-filter-item",this.domNode).addClass("is-active");k["default"].publish("sort/disable",!0)};h.prototype._removeExtentFilter=function(){k["default"].publish("filter/remove",{param:"bbox",value:this._bbox});
k["default"].publish("sort/enable",!0)};h.prototype._updateUI=function(){var n=this._selected;this.domNode.innerHTML=g["default"].substitute(this.templateString,{i18n:this.i18n});var p=f["default"](".accordion-title ",this.domNode.parentElement.parentElement)[0],w=this.i18n.extentDlg.findLocationText;l["default"].place(g["default"].substitute(this.clearTemplateString,{i18n:this.i18n,hide:n?"":"hide",param:"bbox",placeholder:w,allPlaceholder:w}),p);g["default"].substitute(e["default"],{i18n:this.i18n},
null,d["default"]);n=b["default"]();n.showInfoWindowOnSelect=!1;n.sources.forEach(function(B){a["default"].isEsriWorldGeocoder(B)&&(B.categories=["Populated Place","Coordinate System"]);B.placeholder=w});n.allPlaceholder=w;this._searchWidget=new y["default"](n,"filterBBox");this._searchWidget.startup();this._searchWidget.on("select-result",this._useExtent.bind(this))};h.prototype._useExtent=function(n){var p=n.result.extent;this.addExtentFilter([[p.xmin,p.ymin],[p.xmax,p.ymax]],n.result.name)};h.prototype._clear=
function(){this._searchWidget.clear();this._selected=!1;f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").forEach(function(n){n.classList.add("hide")});k["default"].publish("sort/enable",!0)};h.prototype._remove=function(n){"bbox"===n.param&&(this._clear(),k["default"].publish("sort/enable",!0))};return h=r.__decorate([c["default"](z["default"],E["default"],q["default"])],h)}()})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za){function ha(V,la){V&&la&&(V._layer=la,V._sourceLayer=la)}M=M([c,h,n,t],{declaredClass:"esri.dijit.Search",templateString:b,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(V,la){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new ka("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:a.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:a.widgets.Search.main.placeholder,highlightSymbol:(new G(U.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new L).setColor(new sa([181,56,46,.9])).setFont(new J("14px",J.STYLE_NORMAL,J.VARIANT_NORMAL,J.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new A(a.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};var T=r.mixin({},this.options,V);this.set(T);this._updateActiveSource();this._i18n=a;this._defaultSR=new F(4326);this.domNode=la},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(r.hitch(this,this._init))},postCreate:function(){var V=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(g(this.submitNode,p,r.hitch(this,this._searchButton)));this.own(g(this.sourcesBtnNode,p,r.hitch(this,this._toggleSourcesMenu)));this.own(g(this.inputNode,p,r.hitch(this,this._inputClick)));this.own(g(this.clearNode,p,r.hitch(this,this._clearButton)));this.own(g(this.formNode,"submit",r.hitch(this,function(la){la.preventDefault();this._cancelSuggest();this.search()})));this.own(g(this.inputNode,"keyup",r.hitch(this,
function(la){this._inputKey(la)})));this.own(g(this.sourcesBtnNode,"keyup",r.hitch(this,function(la){this._sourceBtnKey(la)})));this.own(g(this.suggestionsNode,"li:click, li:keyup",function(la){V._suggestionsEvent(la,this)}));this.own(g(this.sourcesNode,"li:click, li:keyup",function(la){V._sourcesEvent(la,this)}));this.own(g(this.inputNode,"input, paste",r.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(g(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",r.hitch(this,function(la){this._showMoreResultsClick(la)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",r.hitch(this,function(la){this._moreResultsClick(la)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",r.hitch(this,function(la){this._switchCoordinatesClick(la)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();e.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();z.get(this.inputNode,"value")&&z.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);q.remove(this.containerNode,
this.css.hasValue);z.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){m.set(this.domNode,"display","block")},hide:function(){m.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(q.add(this.containerNode,this.css.searchExpanded),q.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(q.remove(this.containerNode,
this.css.searchExpanded),q.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(V){this.enableButtonMode&&("undefined"===typeof V&&(V=!this.expanded),V?this.expand():this.collapse())},search:function(V){var la=new l;this._mapLoaded().then(r.hitch(this,function(){this._searchDeferred(V).then(r.hitch(this,function(T){var P=T.results;this.set("searchResults",P);0===T.numResults&&(this._noResults(T.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",T);this._selectFirstResult(P,T.activeSourceIndex);la.resolve(P)}),r.hitch(this,function(T){la.reject(T)}))}));return la.promise},suggest:function(V){var la=new l;this._mapLoaded().then(r.hitch(this,function(){this._suggestDeferred(V).then(r.hitch(this,function(T){if(T){var P=T.results;this.set("suggestResults",P);this._insertSuggestions(P,T.value);this.emit("suggest-results",T);la.resolve(P)}}),r.hitch(this,function(T){la.reject(T)}))}));return la.promise},select:function(V){var la=
this._getDefaultSymbol(V),T=this.labelSymbol,P=this.sources,I=this.activeSourceIndex,ba=this.enableHighlight,W=this.enableLabel,ca=this.autoNavigate,Q=this.showInfoWindowOnSelect,N=this.enableInfoWindow,S=this.infoTemplate,Y=V.feature?new v(V.feature.toJson()):null,Z=Y?V.feature._sourceLayer:null;ha(Y,Z);if(I===this._allIndex){var da=this._getSourceIndexOfResult(V);if(null!==da){var fa=P[da];I=da}}else fa=P[I];fa&&(fa.hasOwnProperty("highlightSymbol")&&(la=fa.highlightSymbol),fa.hasOwnProperty("labelSymbol")&&
(T=fa.labelSymbol),fa.hasOwnProperty("enableHighlight")&&(ba=fa.enableHighlight),fa.hasOwnProperty("enableLabel")&&(W=fa.enableLabel),fa.hasOwnProperty("autoNavigate")&&(ca=fa.autoNavigate),fa.hasOwnProperty("showInfoWindowOnSelect")&&(Q=fa.showInfoWindowOnSelect),fa.hasOwnProperty("enableInfoWindow")&&(N=fa.enableInfoWindow),fa.hasOwnProperty("infoTemplate")?S=fa.infoTemplate:fa.featureLayer&&fa.featureLayer.infoTemplate&&(S=fa.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(Y){P=
this.highlightGraphic;var ia=this.graphicsLayer;da=this.labelGraphic;var na=r.mixin({},Y.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(V),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(V)}),qa=null;N&&(qa=S);da?(da.setGeometry(Y.geometry),da.setAttributes(na),da.setSymbol(T),T&&"textsymbol"===T.type&&da.symbol.setText(V.name)):(da=new v(Y.geometry,
T,na),ha(da,Z),T&&"textsymbol"===T.type&&da.symbol.setText(V.name),W&&(ia?ia.add(da):this.map&&this.map.graphics&&this.map.graphics.add(da)));P?(P.setGeometry(Y.geometry),P.setAttributes(na),P.setInfoTemplate(qa),P.setSymbol(la)):(P=new v(Y.geometry,la,na,qa),ha(P,Z),ba&&(ia?ia.add(P):this.map&&this.map.graphics&&this.map.graphics.add(P)));P&&P.symbol&&"textsymbol"===P.symbol.type&&P.symbol.setText(V.name);this.map&&this.map.infoWindow&&N&&Q&&(this.map.infoWindow.setFeatures([P]),la=this._getPointFromGeometry(P.geometry),
this.map.infoWindow.show(la));this.map&&ca&&V&&V.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(V.extent,!0);this.set("highlightGraphic",P);this.set("labelGraphic",da)}this.set("selectedResult",V);this.emit("select-result",{result:V,source:fa,sourceIndex:I})},focus:function(){w.focus(this.inputNode)},blur:function(){this.inputNode.blur();w.curNode&&w.curNode.blur()},clearGraphics:function(){var V=this.highlightGraphic,la=this.graphicsLayer,T=this.labelGraphic;
V&&(la?la.remove(V):this.map&&this.map.graphics&&this.map.graphics.remove(V));T&&(la?la.remove(T):this.map&&this.map.graphics&&this.map.graphics.remove(T));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var V=new l;if(this.map)if(this.map.loaded)V.resolve();else g.once(this.map,"load",r.hitch(this,function(){V.resolve()}));else V.resolve();return V.promise},_init:function(){this._getMapLayers().then(r.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();w.focus(this.inputNode)},_error:function(V){return Error(this.declaredClass+" "+V)},_searchDeferred:function(V){var la=new l,T=this.value,P=this.activeSourceIndex;V&&V.hasOwnProperty("index")&&(P=V.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var I={magicKey:this.magicKey,text:T};V?"string"===typeof V?(I.text=V,V=this._searchQueries(I)):V="object"===typeof V&&V.hasOwnProperty("magicKey")?this._searchQueries(V):"object"===
typeof V&&V.hasOwnProperty("geometry")?this._searchQueries({geometry:V}):"object"===typeof V&&V.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(V):"object"===typeof V&&"point"===V.type?this._searchQueries({point:V}):V instanceof Array&&2===V.length?this._searchQueries({latlon:V}):this._searchQueries(I):V=this._searchQueries(I);V.always(r.hitch(this,function(ba){ba=this._formatResults(ba,P,T);la.resolve(ba)}));return la.promise},_suggestDeferred:function(V){var la=new l;this._deferreds.push(la);
V||(V=this.value);var T=this.activeSourceIndex;this._suggestQueries({text:V}).always(r.hitch(this,function(P){var I;if(P)for(var ba=0;ba<P.length;ba++)P[ba]&&(I=!0);I?(P=this._formatResults(P,T,V),la.resolve(P)):la.resolve()}));return la.promise},_getDefaultSymbol:function(V){var la;this.map&&(la=this.map.getBasemap());la||(la="topo");if(V&&V.feature&&V.feature.geometry)var T=V.feature.geometry.type;"polyline"===T?T="line":"circle"===T||"extent"===T?T="polygon":"multipoint"===T&&(T="point");if(T){if(V=
za.getSchemes({theme:"default",basemap:la,geometryType:T}))var P=V.primaryScheme;if(P){P.color&&P.hasOwnProperty("opacity")&&(P.color.a=P.opacity);var I=P;V=P.color;P=P.size;switch(T){case "point":var ba=new H;ba.setColor(V);ba.setSize(null!==P?P:I.size);T=new K;T.setColor(I.outline.color);T.setWidth(I.outline.width);ba.setOutline(T);break;case "line":ba=new K;ba.setColor(V);ba.setWidth(null!==P?P:I.width);break;case "polygon":ba=new O,ba.setColor(V),T=new K,T.setColor(I.outline.color),T.setWidth(I.outline.width),
ba.setOutline(T)}I=ba}}return I},_selectFirstResult:function(V,la){if(this.autoSelect&&V){var T;la===this._allIndex?T=this._getFirstResult(V):V[la]&&V[la][0]&&(T=V[la][0]);T&&this.select(T)}},_getSourceIndexOfResult:function(V){var la=this.searchResults;if(la)for(var T in la)if(la[T]&&la[T].length)for(var P=0;P<la[T].length;P++)if(la[T][P]===V)return parseInt(T,10);return null},_getFirstResult:function(V){if(V)for(var la in V)if(V[la]&&V[la][0])return V[la][0];return!1},_onFocus:function(){this.map&&
"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var V=new l;if(this.addLayersFromMap&&this.map){var la=[],T=this.map.graphicsLayerIds;if(T&&T.length){for(var P=
0;P<T.length;P++){var I=this.map.getLayer(T[P]);I&&la.push(this._featureLayerLoaded(I))}C(la).always(r.hitch(this,function(ba){for(var W,ca=this.sources,Q=0;Q<ba.length;Q++)ba[Q]&&ba[Q].loaded&&"Feature Layer"===ba[Q].type&&(ca.push({featureLayer:ba[Q],enableSuggestions:!0}),W=!0);W&&this.set("sources",ca);V.resolve()}))}else V.resolve()}else V.resolve();return V.promise},_switchCoordinatesClick:function(V){V.preventDefault();if(V=z.get(V.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
V),this.search()},_moreResultsClick:function(V){V.preventDefault();var la=V.target;V=parseInt(z.get(la,"data-source-index"),10);la=parseInt(z.get(la,"data-index"),10);var T=this.searchResults;T&&T[V]&&(V=T[V][la])&&this.select(V)},_showMoreResultsClick:function(V){V.preventDefault();if(V=E.byId(this._moreResultsId)){q.toggle(V,this.css.searchShowMoreResults);var la=E.byId(this._moreResultsId+"_show");la&&(q.contains(V,this.css.searchShowMoreResults)?z.set(la,"textContent",a.widgets.Search.main.hideMoreResults):
z.set(la,"textContent",a.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(V){var la=new l;if(V.loaded)la.resolve(V);else if(V.loadError)la.reject(this._error("Layer failed to load."));else{var T=g.once(V,"load",r.hitch(this,function(){P.remove();la.resolve(V)}));var P=g.once(V,"error",r.hitch(this,function(){T.remove();la.reject(this._error("Layer could not be loaded."))}))}return la.promise},_getObjectSize:function(V){var la=0,T;for(T in V)V.hasOwnProperty(T)&&la++;return la},
_sourcesEvent:function(V,la){var T=z.get(la,"data-index"),P=k("li",this.sourcesNode),I=x.indexOf(P,la);T!==this._allIndex&&(T=parseInt(T,10));"click"===V.type||V.keyCode===f.ENTER?(this.set("activeSourceIndex",T),w.focus(this.inputNode),this._hideSourcesMenu()):V.keyCode===f.UP_ARROW?(V.stopPropagation(),V.preventDefault(),T=I-1,0>T?w.focus(this.sourcesBtnNode):w.focus(P[T])):V.keyCode===f.DOWN_ARROW?(V.stopPropagation(),V.preventDefault(),T=I+1,T>=P.length?w.focus(this.sourcesBtnNode):w.focus(P[T])):
V.keyCode===f.ESCAPE&&(this._hideSourcesMenu(),w.focus(this.inputNode))},_suggestionsEvent:function(V,la){var T=z.get(la,"data-source-index"),P=parseInt(z.get(la,"data-index"),10),I=k("li",this.suggestionsNode),ba=this.sources,W=x.indexOf(I,la);T!==this._allIndex&&(T=parseInt(T,10));var ca;this._clearQueryTimeout();"click"===V.type||V.keyCode===f.ENTER?((I=this.suggestResults)&&I[T]&&I[T][P]&&(ca=I[T][P]),ca&&(ca.index=T,ba[T].featureLayer?(T=ba[T].featureLayer.objectIdField,ca[this._objectIdIdentifier]=
ca.feature.attributes[T],this.set("value",this._getSuggestionName(ca)),this.set("selectedFeatureId",ca.feature.attributes[T])):ca.magicKey&&ca.text&&(this.set("value",ca.text),this.set("magicKey",ca.magicKey)),this.search(ca),w.focus(this.inputNode))):V.keyCode===f.BACKSPACE||V.keyCode===f.DELETE?w.focus(this.inputNode):V.keyCode===f.UP_ARROW?(V.stopPropagation(),V.preventDefault(),ca=W-1,0>ca?w.focus(this.inputNode):w.focus(I[ca])):V.keyCode===f.DOWN_ARROW?(V.stopPropagation(),V.preventDefault(),
ca=W+1,ca>=I.length?w.focus(this.inputNode):w.focus(I[ca])):V.keyCode===f.ESCAPE&&(this._hideMenus(),w.focus(this.inputNode))},_getResultName:function(V){var la;V.hasOwnProperty("name")&&null!==V.name&&(la=V.name.toString());la||(la=a.widgets.Search.main.untitledResult);return la},_getSuggestionName:function(V){var la;V.hasOwnProperty("name")&&null!==V.name&&(la=V.name.toString());V=V.text||la;V||(V=a.widgets.Search.main.untitledResult);return V},_searchResultHTML:function(V){var la="";if(V.feature&&
V.feature.attributes&&V.feature.attributes.Addr_type&&"LatLong"===V.feature.attributes.Addr_type){var T=V.name.split(" ");if(2===T.length){var P=T[0];var I=T[1]}I&&P?(V=parseFloat(P),I=parseFloat(I),T=I+", "+V,la+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',la+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.lonlat+"\x3c/div\x3e",la=la+(V+", "+I)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),V===I||90<V||-90>V||180<I||-180>I||(la+=
'\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",la+='\x3ca data-switch-coordinates\x3d"'+T+'" tabindex\x3d"0" href\x3d"#"\x3e'+T+"\x3c/a\x3e\x3c/div\x3e")):la=V.name}else la=V.name;return la},_moreResultsHTML:function(V){var la="",T="",P=this.searchResults,I=this.sources,ba=0;if(P){T+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';T+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+a.widgets.Search.main.showMoreResults+
"\x3c/a\x3e";T=T+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');T+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var W in P)if(P[W]){var ca=P[W].length;if(ca){var Q=1===ca&&P[W][0]===V;if(1<this._getObjectSize(P)&&!Q){var N=this._getSourceName(W);T+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+N+"\x3c/div\x3e"}if(ca&&!Q){T+="\x3cul\x3e";N=I[W].maxResults||this.maxResults;for(Q=0;Q<ca&&Q<N;++Q)if(P[W][Q]!==V){var S=this._getResultName(P[W][Q]);
T+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+Q+'" data-source-index\x3d"'+W+'" href\x3d"#"\x3e'+S+"\x3c/a\x3e\x3c/li\x3e";ba++}T+="\x3c/ul\x3e"}}}T+="\x3c/div\x3e\x3c/div\x3e"}ba&&(la+=T);return la},_validField:function(V,la){return V.getField(la)},_validFields:function(V,la){if(V&&la&&la.length){for(var T=0;T<la.length;T++)if(!this._validField(V,la[T]))return!1;return!0}return!1},_getCodedName:function(V,la){if(V&&V.length)for(var T=0,P=V.length;T<P;T++){var I=V[T];if(I.code===la)return I.name}},
_getCodedValue:function(V,la,T){if(V&&V.length)for(var P=0,I=V.length;P<I;P++){var ba=V[P],W=ba.name,ca=la;T||(W=W.toLowerCase(),ca=ca.toLowerCase());if(W===ca)return ba.code}return!1},_whereClause:function(V,la,T,P,I){var ba=null;if(V){var W="",ca=this.reHostedFS.test(la.url);ca&&this._containsNonLatinCharacter(V)&&(W="N");if(T&&T.length)for(var Q=0,N=T.length;Q<N;Q++){var S="";S=V.replace(/'/g,"''");var Y=T[Q],Z=la.getField(Y),da=la.getDomain(Y);da&&"codedValue"===da.type&&(S=this._getCodedValue(da.codedValues,
S,P));!1!==S&&(Z=Z.type,"esriFieldTypeString"===Z||"esriFieldTypeDate"===Z?P&&"search"===I?S=Y+" \x3d "+W+"'"+S+"'":(Y=ca?Y:"UPPER("+Y+")",S=ca?S:S.toUpperCase(),S=Y+" LIKE "+W+"'"+(P?S+"%":"%"+S+"%")+"'"):"esriFieldTypeOID"===Z||"esriFieldTypeSmallInteger"===Z||"esriFieldTypeInteger"===Z||"esriFieldTypeSingle"===Z||"esriFieldTypeDouble"===Z?(S=parseFloat(S),S=isNaN(S)?!1:Y+" \x3d "+S):S=Y+" \x3d "+S,S&&(ba=ba?ba+" or ":"",ba+=S))}}return ba},_suggest:function(V){V||(V={index:this.activeSourceIndex,
text:this.value});var la=new l,T=V.index,P=this.sources[T],I=this.enableSuggestions;P.hasOwnProperty("enableSuggestions")&&(I=P.enableSuggestions);var ba=0;if(V.hasOwnProperty("text")&&V.text){var W=r.trim(V.text);ba=V.text.length}V=P.minCharacters||this.minCharacters;if(I&&W&&ba>=V&&this._supportsPagination(P)){var ca="";P.prefix&&(ca+=P.prefix);ca+=W;P.suffix&&(ca+=P.suffix);var Q=this._defaultSR;this.map&&(Q=this.map.spatialReference);I={};P.locator?(P.categories&&(I.categories=P.categories),P.locator.outSpatialReference=
Q,this.map&&P.localSearchOptions&&P.localSearchOptions.hasOwnProperty("distance")&&P.localSearchOptions.hasOwnProperty("minScale")&&(ba=this._getScale(),!P.localSearchOptions.minScale||ba&&ba<=parseFloat(P.localSearchOptions.minScale))&&(I.location=this.map.extent.getCenter(),I.distance=P.localSearchOptions.distance),I.text=ca,P.useMapExtent&&this.map&&this.map.extent&&(I.searchExtent=this.map.extent),P.searchExtent&&(I.searchExtent=P.searchExtent),I.maxSuggestions=P.maxSuggestions||this.maxSuggestions,
P.sourceCountry&&(I.countryCode=P.sourceCountry),P.countryCode&&(I.countryCode=P.countryCode),P.locator.suggestLocations(I).then(r.hitch(this,function(N){la.resolve(N)}),r.hitch(this,function(N){N||(N=this._error("Locator suggestLocations could not be performed."));la.reject(N)}))):P.featureLayer?this._featureLayerLoaded(P.featureLayer).then(r.hitch(this,function(){var N=this._getDisplayField(P),S=P.searchFields||[N],Y=[];P.suggestionTemplate?P.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(ia,
na){Y.push(na)}):Y=[N];-1===x.indexOf(Y,P.featureLayer.objectIdField)&&Y.push(P.featureLayer.objectIdField);N=this._validField(P.featureLayer,N);var Z=this._validFields(P.featureLayer,Y),da=this._validFields(P.featureLayer,S);if(N&&Z&&da){N=new ma;P.hasOwnProperty("suggestQueryParams")&&r.mixin(N,P.suggestQueryParams);N.outSpatialReference=Q;N.returnGeometry=!1;N.num=P.maxSuggestions||this.maxSuggestions;N.outFields=Y;P.useMapExtent&&this.map&&this.map.extent&&(N.geometry=this.map.extent);P.searchExtent&&
(N.geometry=P.searchExtent);if(S=this._whereClause(ca,P.featureLayer,S,P.exactMatch,"suggest")){N.where=S;var fa=!0}fa?P.featureLayer.queryFeatures(N,r.hitch(this,function(ia){var na;(ia=ia.features)&&(na=this._hydrateResults(ia,T,!0));la.resolve(na)}),r.hitch(this,function(ia){ia||(ia=this._error("FeatureLayer queryFeatures errored with suggestions"));la.reject(ia)})):la.resolve()}else la.reject(this._error("Invalid FeatureLayer field"))})):la.reject(this._error("Invalid source"))}else la.resolve();
return la.promise},_supportsPagination:function(V){var la;V.locator?la=!0:V.featureLayer&&V.featureLayer.advancedQueryCapabilities&&V.featureLayer.advancedQueryCapabilities.supportsPagination&&(la=!0);return la},_suggestQueries:function(V){var la=this.sources,T=this.activeSourceIndex,P=[];if(T===this._allIndex)for(T=0;T<la.length;T++){var I=V;I.index=T;I=this._suggest(I);P.push(I)}else V.index=T,I=this._suggest(V),P.push(I);return C(P)},_getPointFromGeometry:function(V){switch(V.type){case "extent":var la=
V.getCenter();break;case "multipoint":la=V.getPoint(0);break;case "point":la=V;break;case "polygon":la=V.getCentroid();break;case "polyline":la=V.getPoint(0,0)}return la},_searchQueries:function(V){V.hasOwnProperty("index")||(V.index=this.activeSourceIndex);var la=[];if(V.index===this._allIndex)for(var T=this.sources,P=0;P<T.length;P++){var I=V;I.index=P;I=this._search(I);la.push(I)}else V=this._search(V),la.push(V);return C(la)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),
w.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(V){V||(V={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(V.text=null,V[this._objectIdIdentifier]=this.selectedFeatureId);var la,T=new l,P=V.index,I=this.sources[P],ba;V.hasOwnProperty("text")&&V.text&&(ba=r.trim(V.text));if(I){var W="";I.prefix&&!V.magicKey&&(W+=I.prefix);W+=ba;I.suffix&&!V.magicKey&&(W+=I.suffix);var ca=this._defaultSR;this.map&&
(ca=this.map.spatialReference);if(I.locator)if(V.hasOwnProperty("text")&&ba){var Q={};I.categories&&(Q.categories=I.categories);I.locationType&&(Q.locationType=I.locationType);ca&&(I.locator.outSpatialReference=ca);if(this.map&&I.localSearchOptions&&I.localSearchOptions.hasOwnProperty("distance")&&I.localSearchOptions.hasOwnProperty("minScale")){var N=this._getScale();if(!I.localSearchOptions.minScale||N&&N<=parseFloat(I.localSearchOptions.minScale))Q.location=this.map.extent.getCenter(),Q.distance=
I.localSearchOptions.distance}Q.address={};Q.maxLocations=I.maxResults||this.maxResults;I.useMapExtent&&this.map&&this.map.extent&&(Q.searchExtent=this.map.extent);I.searchExtent&&(Q.searchExtent=I.searchExtent);I.sourceCountry&&(Q.countryCode=I.sourceCountry);I.countryCode&&(Q.countryCode=I.countryCode);V.magicKey&&(Q.magicKey=V.magicKey);I.singleLineFieldName?Q.address[I.singleLineFieldName]=W:Q.address["Single Line Input"]=W;I.outFields&&(Q.outFields=I.outFields);I.locator.addressToLocations(Q).then(r.hitch(this,
function(S){S=this._hydrateResults(S,P,!1);T.resolve(S)}),r.hitch(this,function(S){S||(S=this._error("Locator addressToLocations could not be performed"));T.reject(S)}))}else V.geometry?(la=this._getPointFromGeometry(V.geometry.geometry))?this._reverseGeocodePoint(P,la).then(function(S){T.resolve(S)},function(S){T.reject(S)}):T.reject(this._error("Invalid point to reverse geocode")):V.point?this._reverseGeocodePoint(P,V.point).then(function(S){T.resolve(S)},function(S){T.reject(S)}):V.latlon?(Q=new R(V.latlon,
this._defaultSR),this._reverseGeocodePoint(P,Q).then(function(S){T.resolve(S)},function(S){T.reject(S)})):V.hasOwnProperty("text")&&!ba?T.resolve([]):T.reject(this._error("Invalid query type for Locator"));else I.featureLayer?this._featureLayerLoaded(I.featureLayer).then(r.hitch(this,function(){var S=this._getDisplayField(I),Y=I.searchFields||[S];S=this._validField(I.featureLayer,S);var Z=this._validFields(I.featureLayer,Y);if(S&&Z){S=new ma;I.hasOwnProperty("searchQueryParams")&&r.mixin(S,I.searchQueryParams);
ca&&(S.outSpatialReference=ca,Z=this.map&&this.map.getMaxResolution()||1/ea.getUnitValueForSR(ca))&&(S.maxAllowableOffset=Z);S.returnGeometry=!0;I.outFields&&(S.outFields=I.outFields);if(!V.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(I)&&(S.num=I.maxResults||this.maxResults);I.useMapExtent&&this.map&&this.map.extent&&(S.geometry=this.map.extent);I.searchExtent&&(S.geometry=I.searchExtent);var da=I.exactMatch}V.hasOwnProperty("text")&&ba?(Y=this._whereClause(W,I.featureLayer,
Y,da,"search"))?(S.where=Y,Y=!0):Y=!1:V.hasOwnProperty(this._objectIdIdentifier)?(S.objectIds=[V[this._objectIdIdentifier]],Y=!0):V.geometry?(S.geometry=V.geometry,Y=!0):V.point?(S.geometry=V.point,Y=!0):V.latlon?(la=new R(V.latlon,this._defaultSR),S.geometry=la,Y=!0):(V.hasOwnProperty("text")&&!ba?T.resolve([]):T.reject(this._error("Invalid query type for FeatureLayer")),Y=!1);Y?I.featureLayer.queryFeatures(S,r.hitch(this,function(fa){fa=fa.features;var ia;fa&&(ia=this._hydrateResults(fa,P,!1));
T.resolve(ia)}),r.hitch(this,function(fa){fa||(fa=this._error("FeatureLayer queryFeatures could not be performed"));T.reject(fa)})):T.resolve()}else T.reject(this._error("Invalid FeatureLayer field"))})):T.reject(this._error("Invalid source"))}else T.reject(this._error("Source is undefined"));return T.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(V,la,T){T={activeSourceIndex:la,value:T,numResults:0,numErrors:0,errors:null,results:null};
var P={},I={};if(V)if(la===this._allIndex)for(la=0;la<V.length;la++)V[la]&&(V[la]instanceof Error?(P[la]=V[la],T.numErrors++):(I[la]=V[la],T.numResults+=V[la].length));else V[0]&&(V[0]instanceof Error?(P[la]=V[0],T.numErrors++):(I[la]=V[0],T.numResults+=V[0].length));T.numErrors&&(T.errors=P);T.numResults&&(T.results=I);return T},_reverseGeocodePoint:function(V,la){var T=new l,P=this.sources[V];if(la&&P){var I=P.locationToAddressDistance||this.locationToAddressDistance;P.locator.outSpatialReference=
this._defaultSR;this.map&&(P.locator.outSpatialReference=this.map.spatialReference);P.locator.locationToAddress(la,I,r.hitch(this,function(ba){ba=this._hydrateResults([ba],V,!1);T.resolve(ba)}),r.hitch(this,function(ba){ba||(ba=this._error("Locator locationToAddress could not be performed"));T.reject(ba)}))}else T.reject(this._error("No point or source defined for reverse geocoding"));return T.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var V=0;V<this._deferreds.length;V++)this._deferreds[V].cancel(this.declaredClass+
" cancelling request");this._deferreds=[]},_sourceBtnKey:function(V){if(V){var la=k("li",this.sourcesNode);V.keyCode===f.UP_ARROW?(V.stopPropagation(),V.preventDefault(),this._showSourcesMenu(),(V=la.length)&&w.focus(la[V-1])):V.keyCode===f.DOWN_ARROW&&(V.stopPropagation(),V.preventDefault(),this._showSourcesMenu(),la[0]&&w.focus(la[0]))}},_inputKey:function(V){if(V){var la=k("li",this.suggestionsNode),T=this.suggestResults;if(V.keyCode===f.TAB||V.keyCode===f.ESCAPE)this._cancelSuggest(),this._hideMenus();
else if(V.keyCode===f.UP_ARROW)V.stopPropagation(),V.preventDefault(),this._cancelSuggest(),T&&this._showSuggestionsMenu(),(V=la.length)&&w.focus(la[V-1]);else if(V.keyCode===f.DOWN_ARROW)V.stopPropagation(),V.preventDefault(),this._cancelSuggest(),T&&this._showSuggestionsMenu(),la[0]&&w.focus(la[0]);else{if(V.ctrlKey||V.metaKey||V.keyCode===f.copyKey||V.keyCode===f.LEFT_ARROW||V.keyCode===f.RIGHT_ARROW||V.keyCode===f.ENTER)return V;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();
this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(r.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(V){return this._sourceNames[V]},_loadSources:function(V){V=
x.filter(V,function(la){return!!la.featureLayer});V=x.map(V,function(la){return this._featureLayerLoaded(la.featureLayer)},this);return C(V)},_createSourceNameMap:function(V){return this._loadSources(V).then(r.hitch(this,function(){var la=x.map(V,function(T){return T.name||T.featureLayer&&T.featureLayer.name||a.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(V,la);return la}))},_getDuplicateSourceNameIndexes:function(V){var la={},T=[];x.forEach(V,function(P,I){la.hasOwnProperty(P)?
(-1===T.indexOf(la[P])&&T.push(la[P]),T.push(I)):V.lastIndexOf(P)!==I&&(la[P]=I)});return T},_preventDuplicateSourceNames:function(V,la){if(la&&1<la.length){var T=this._getDuplicateSourceNameIndexes(la);x.forEach(T,function(P){la[P]+=this._getFieldsString(V[P])},this)}},_getFieldsString:function(V){var la="",T=V.featureLayer;if(T){V=V.searchFields||[this._getDisplayField(V)];for(var P=0;P<V.length;P++){la=0===P?la+": ":la+", ";var I=V[P],ba=T.getFieldLabel(I);la+=ba||I}}return la},_splitResult:function(V,
la){var T=u.escapeString(la);return V.replace(new RegExp("(^|)("+T+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(V,la){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var T=this.sources;if(V){var P=e.create("div");for(var I in V)if(V[I]&&V[I].length){var ba=this._getSourceName(I);1<T.length&&this.activeSourceIndex===this._allIndex&&e.create("div",{className:this.css.searchMenuHeader,textContent:ba},P);ba=e.create("ul",{role:"menu"},
P);for(var W=T[I].maxSuggestions||this.maxSuggestions,ca=0;ca<V[I].length&&ca<W;++ca){var Q=e.create("li",{"data-index":ca,"data-source-index":I,role:"menuitem",tabindex:0},ba),N=this._getSuggestionName(V[I][ca]);N=this._splitResult(N,la);for(var S=N.length,Y=0;Y<S;Y++){var Z=N[Y];Z.toLowerCase()===la.toLowerCase()?e.create("strong",{textContent:Z},Q):(Z=document.createTextNode(Z),e.place(Z,Q))}}}}P?(e.place(P,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(e.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(V){if(this.enableSourcesMenu&&V&&1<V.length){var la,T=this.activeSourceIndex,P=e.create("ul",{role:"menu"});if(this.enableSearchingAll){var I="";T===this._allIndex&&(I="active");e.create("li",{"data-index":this._allIndex,role:"menuitem",className:I,tabIndex:0,textContent:a.widgets.Search.main.all},P)}for(la=0;la<V.length;la++){I="";la===T&&(I=this.css.activeSource);var ba=this._getSourceName(la);e.create("li",{"data-index":la,role:"menuitem",
className:I,tabIndex:0,textContent:ba},P)}q.add(this.containerNode,this.css.hasMultipleSources);e.place(P,this.sourcesNode,"only")}else q.remove(this.containerNode,this.css.hasMultipleSources),e.empty(this.sourcesNode)},_showLoading:function(){q.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){q.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(q.add(this.containerNode,this.css.hasValue),z.set(this.clearNode,"title",a.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(V){var la;V&&(la=r.trim(V));var T=e.create("div",{className:this.css.searchNoResultsBody});V&&la?(e.create("div",{className:this.css.searchNoResultsHeader,textContent:a.widgets.Search.main.noResults},T),e.create("div",{className:this.css.searchNoResultsText,textContent:B.substitute({value:'"'+V+'"'},a.widgets.Search.main.noResultsFound)},T)):(V=e.create("div",
{},T),e.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},V),e.create("span",{className:this.css.searchNoValueText,textContent:a.widgets.Search.main.emptyValue},V));e.place(T,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){q.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();q.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){q.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){q.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();q.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();q.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();q.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(V){if(V&&(V=V.fields)&&V.length)for(var la=0;la<V.length;la++){var T=V[la];if("esriFieldTypeString"===T.type)return T.name}return""},_getDisplayField:function(V){return V.displayField||V.featureLayer.displayField||this._getFirstStringField(V.featureLayer)},_validLocation:function(V){return V&&"number"===typeof V.x&&"number"===typeof V.y},_validExtent:function(V){return V&&"number"===typeof V.xmin&&
"number"===typeof V.ymin&&"number"===typeof V.xmax&&"number"===typeof V.ymax},_hydrateResult:function(V,la,T){var P={},I=this._defaultSR;la=this.sources[la];this.map&&(I=this.map.spatialReference);if(V.hasOwnProperty("text")&&V.hasOwnProperty("magicKey"))return V;if(V.hasOwnProperty("geometry")){var ba=new v(V.toJson());P.feature=ba;(ba=P.feature.geometry)&&ba.setSpatialReference(I)}else if(V.hasOwnProperty("location")&&this._validLocation(V.location)){var W=new R(V.location.x,V.location.y,I);ba=
{};V.hasOwnProperty("attributes")&&(ba=V.attributes);V.hasOwnProperty("address")&&"object"===typeof V.address&&r.mixin(ba,V.address);V.hasOwnProperty("score")&&(ba.score=V.score);P.feature=new v(W,null,ba,null)}!P.feature&&T&&(ba={},V.hasOwnProperty("attributes")&&(ba=V.attributes),V.hasOwnProperty("score")&&(ba.score=V.score),P.feature=new v(null,null,ba,null));if(P.feature){if(V.hasOwnProperty("extent")&&this._validExtent(V.extent))P.extent=new X(V.extent),P.extent.setSpatialReference(I);else if(P.feature&&
P.feature.geometry)switch(P.feature.geometry.type){case "extent":P.extent=P.feature.geometry;break;case "multipoint":P.extent=aa.getDenormalizedExtent(P.feature.geometry);break;case "polygon":P.extent=aa.getDenormalizedExtent(P.feature.geometry);break;case "polyline":P.extent=aa.getDenormalizedExtent(P.feature.geometry);break;case "point":this.map?(I=this.zoomScale,la&&la.zoomScale&&(I=la.zoomScale),this._getScale()>I?P.extent=ea.getExtentForScale(this.map,I).centerAt(P.feature.geometry):P.extent=
this.map.extent.centerAt(P.feature.geometry)):P.extent=new X({xmin:P.feature.geometry.x-.25,ymin:P.feature.geometry.y-.25,xmax:P.feature.geometry.x+.25,ymax:P.feature.geometry.y+.25,spatialReference:this._defaultSR})}else P.extent=null;P.name="";la.featureLayer?la.suggestionTemplate&&T?P.name=B.substitute(V.attributes,la.suggestionTemplate):la.searchTemplate?P.name=B.substitute(V.attributes,la.searchTemplate):(ba=this._getDisplayField(la),T=la.featureLayer.getField(ba),I=la.featureLayer.getDomain(ba),
ba&&V.hasOwnProperty("attributes")&&V.attributes.hasOwnProperty(ba)&&(V=V.attributes[ba],I&&"codedValue"===I.type?P.name=this._getCodedName(I.codedValues,V):T&&"esriFieldTypeDate"===T.type&&!isNaN(V)?P.name=d.format(new Date(V)):P.name=V)):V.address&&la.searchTemplate?P.name=B.substitute(V.address,la.searchTemplate):V.hasOwnProperty("name")?P.name=V.name:V.hasOwnProperty("attributes")&&"object"===typeof V.attributes&&V.attributes.LongLabel?P.name=V.attributes.LongLabel:V.hasOwnProperty("attributes")&&
"object"===typeof V.attributes&&V.attributes.Match_addr?(P.name=V.attributes.Match_addr,V.attributes.Addr_type&&"POI"===V.attributes.Addr_type&&V.attributes.StAddr&&V.attributes.City?P.name+=" - "+V.attributes.StAddr+", "+V.attributes.City:V.attributes.Addr_type&&"POI"===V.attributes.Addr_type&&V.attributes.City&&(P.name+=" - "+V.attributes.City)):V.hasOwnProperty("address")&&"string"===typeof V.address?P.name=V.address:V.hasOwnProperty("address")&&"object"===typeof V.address&&V.address.hasOwnProperty("Address")?
V.address.hasOwnProperty("Match_addr")?P.name=V.address.Match_addr:V.address.hasOwnProperty("Address")&&(P.name=V.address.Address):P.feature&&P.feature.geometry&&(P.name=P.feature.geometry.x+","+P.feature.geometry.y);la.featureLayer&&P.feature&&ha(P.feature,la.featureLayer);return P}},_getScale:function(){var V;this.map&&"function"===typeof this.map.getScale&&(V=this.map.getScale());return V},_hydrateResults:function(V,la,T,P){P=[];var I=0;if(V&&V.length)for(I;I<V.length;I++){var ba=this._hydrateResult(V[I],
la,T);ba&&P.push(ba)}return P},_containsNonLatinCharacter:function(V){for(var la=0;la<V.length;la++)if(255<V.charCodeAt(la))return!0;return!1},_setPlaceholder:function(V){var la="",T=this.sources[V];V===this._allIndex?la=this.allPlaceholder||a.widgets.Search.main.allPlaceholder:T&&T.placeholder&&(la=T.placeholder);var P=a.widgets.Search.main.all;T&&(P=this._getSourceName(V));z.set(this.sourceNameNode,"textContent",P);z.set(this.inputNode,"placeholder",la);z.set(this.inputNode,"title",la)},_updateActiveSource:function(){var V=
this.sources,la=this.activeSourceIndex,T;V&&V[la]&&(T=V[la]);T?this.set("activeSource",T):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(V){V?(q.toggle(this.containerNode,this.css.searchExpanded,this.expanded),q.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),q.add(this.containerNode,this.css.hasButtonMode)):(q.remove(this.containerNode,this.css.searchExpanded),q.remove(this.containerNode,this.css.searchCollapsed),
q.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(V){V&&1===V.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(V){this._set("enableSourcesMenu",V);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(V){this._set("enableSearchingAll",V);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},
_setSourcesAttr:function(V){this._createSourceNameMap(V).then(r.hitch(this,function(la){this._sourceNames=la;this._created&&(this._setDefaultActiveSourceIndex(V),this._hideMenus(),this._insertSources(V))}));this._set("sources",V)},_setAllPlaceholderAttr:function(V){this._set("allPlaceholder",V);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(V){this._set("activeSourceIndex",V);this._updateActiveSource();this._created&&(this._setPlaceholder(V),this._hideMenus(),
this._insertSources(this.sources))},_setMaxLengthAttr:function(V){this._set("maxLength",V);this._created&&z.set(this.inputNode,"maxLength",V)},_setValueAttr:function(V){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",V);this._created&&(z.set(this.inputNode,"value",V),this._checkStatus())},_setVisibleAttr:function(V){this._set("visible",V);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(V){this._set("enableButtonMode",V);this._created&&this._updateButtonMode(V)},
_setThemeAttr:function(V){this._created&&(q.remove(this.domNode,this.theme),q.add(this.domNode,V));this._set("theme",V)}});r.setObject("dijit.Search",M,D);return M})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(U,M,r,x,t,l,f,g,k,y,u){U=U(y,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],
"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(E){this._geocodeHandler=M.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=M.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=M.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(E){this.outSpatialReference=E},_geocodeHandler:function(E,
z,q,m,e){try{var d=E.candidates;z=[];var a,b=d.length,c=E.spatialReference,h;for(a=0;a<b;a++){var n=d[a];if(h=n.location)h.spatialReference=c;z[a]=new u(n)}this._successHandler([z],"onAddressToLocationsComplete",q,e)}catch(p){this._errorHandler(p,m,e)}},_geocodeAddressesHandler:function(E,z,q,m,e){try{var d=E.locations;z=[];var a,b=d.length,c=E.spatialReference,h;for(a=0;a<b;a++){if(h=d[a].location)h.spatialReference=c;z[a]=new u(d[a])}this._successHandler([z],"onAddressesToLocationsComplete",q,e)}catch(n){this._errorHandler(n,
m,e)}},addressToLocations:function(E,z,q,m,e){var d;if(E.address){m=q;q=z;z=E.outFields;e=E.searchExtent;var a=E.countryCode;var b=E.magicKey;var c=E.distance;var h=E.categories;E.location&&this.normalization&&(d=E.location.normalize());var n=E.locationType;var p=E.maxLocations;var w=E.forStorage;E=E.address}e&&(e=e.shiftCentralMeridian());var B=this.outSpatialReference;E=this._encode(M.mixin({},this._url.query,E,{f:"json",outSR:B&&t.toJson(B.toJson()),outFields:z&&z.join(",")||null,searchExtent:e&&
t.toJson(e.toJson()),category:h&&h.join(",")||null,countryCode:a||null,magicKey:b||null,distance:c||null,location:d||null,locationType:n||null,maxLocations:p||null,forStorage:w||null}));var A=this._geocodeHandler,D=this._errorHandler,F=new x(k._dfdCanceller);F._pendingDfd=g({url:this._url.path+"/findAddressCandidates",content:E,callbackParamName:"callback",load:function(v,C){A(v,C,q,m,F)},error:function(v){D(v,m,F)}});return F},suggestLocations:function(E){var z=new x(k._dfdCanceller);E.hasOwnProperty("location")&&
this.normalization&&(E.location=E.location.normalize());E.searchExtent&&(E.searchExtent=E.searchExtent.shiftCentralMeridian());E=this._encode(M.mixin({},this._url.query,{f:"json",text:E.text,maxSuggestions:E.maxSuggestions,searchExtent:E.searchExtent&&t.toJson(E.searchExtent.toJson()),category:E.categories&&E.categories.join(",")||null,countryCode:E.countryCode||null,location:E.location||null,distance:E.distance||null},{f:"json"}));E=g({url:this._url.path+"/suggest",content:E,callbackParamName:"callback"});
z._pendingDfd=E;E.then(M.hitch(this,function(q){q=q.suggestions||[];this.onSuggestLocationsComplete(q);z.resolve(q)}),M.hitch(this,function(q){this._errorHandler(q);z.reject(q)}));return z},addressesToLocations:function(E,z,q){var m=this.outSpatialReference,e=[],d=E.categories,a=E.locationType,b=E.countryCode;r.forEach(E.addresses,function(p,w){e.push({attributes:p})});E=this._encode(M.mixin({},this._url.query,{category:d&&d.join(",")||null,locationType:a||null,sourceCountry:b||null},{addresses:t.toJson({records:e})},
{f:"json",outSR:m&&t.toJson(m.toJson())}));var c=this._geocodeAddressesHandler,h=this._errorHandler,n=new x(k._dfdCanceller);n._pendingDfd=g({url:this._url.path+"/geocodeAddresses",content:E,callbackParamName:"callback",load:function(p,w){c(p,w,z,q,n)},error:function(p){h(p,q,n)}});return n},_reverseGeocodeHandler:function(E,z,q,m,e){try{var d=new u({address:E.address,location:E.location,score:100});this._successHandler([d],"onLocationToAddressComplete",q,e)}catch(a){this._errorHandler(a,m,e)}},locationToAddress:function(E,
z,q,m){E&&this.normalization&&(E=E.normalize());var e=this.outSpatialReference;E=this._encode(M.mixin({},this._url.query,{outSR:e&&t.toJson(e.toJson()),location:E&&t.toJson(E.toJson()),distance:z,f:"json"}));var d=this._reverseGeocodeHandler,a=this._errorHandler,b=new x(k._dfdCanceller);b._pendingDfd=g({url:this._url.path+"/reverseGeocode",content:E,callbackParamName:"callback",load:function(c,h){d(c,h,q,m,b)},error:function(c){a(c,m,b)}});return b},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},
onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});M.setObject("tasks.Locator",U,f);return U})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(U,M,r,x,t){U=U(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(l){M.mixin(this,l);this.location=new t(this.location)}});M.setObject("tasks.AddressCandidate",U,x);return U})},"esri/styles/basic":function(){define(["dojo/_base/array",
"dojo/_base/lang","dojo/has","../kernel","../Color"],function(U,M,r,x,t){function l(y,u){if(y){var E={};E.color=new t(y.color);E.opacity=y.opacity||1;switch(u){case "point":E.outline={color:new t(y.outline.color),width:y.outline.width};E.size=y.size;break;case "line":E.width=y.width;break;case "polygon":E.outline={color:new t(y.outline.color),width:y.outline.width}}}return E}function f(y){if("esriGeometryPoint"===y||"esriGeometryMultipoint"===y)y="point";else if("esriGeometryPolyline"===y)y="line";
else if("esriGeometryPolygon"===y||"esriGeometryMultiPatch"===y)y="polygon";return y}var g={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,
77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},
secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,
1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},k={};(function(){var y,u,E;for(y in g){var z=g[y];var q=z.basemapGroups;var m=k[y]={basemaps:[].concat(q.light).concat(q.dark),point:{},line:{},polygon:{}};for(u in q){var e=q[u];for(E=0;E<e.length;E++){var d=e[E];z.pointSchemes&&(m.point[d]=z.pointSchemes[u]);z.lineSchemes&&(m.line[d]=
z.lineSchemes[u]);z.polygonSchemes&&(m.polygon[d]=z.polygonSchemes[u])}}}})();r={getAvailableThemes:function(y){var u=[],E;for(E in g){var z=g[E];var q=k[E];y&&-1===U.indexOf(q.basemaps,y)||u.push({name:z.name,label:z.label,description:z.description,basemaps:q.basemaps.slice(0)})}return u},getSchemes:function(y){var u=y.theme,E=y.basemap,z=f(y.geometryType);y=k[u];var q;(y=(y=y&&y[z])&&y[E])&&(q={primaryScheme:l(y.primary,z),secondarySchemes:U.map(y.secondary,function(m){return l(m,z)})});return q},
cloneScheme:function(y){if(y){var u=M.mixin({},y);u.color&&(u.color=new t(u.color));u.outline&&(u.outline={color:u.outline.color&&new t(u.outline.color),width:u.outline.width})}return u}};M.setObject("styles.basic",r,x);return r})},"arcgisonline/map/utils/createExtentSearchOptions":function(){define("dojo/_base/lang dojo/_base/array esri/lang esri/tasks/locator ../../esriGeowConfig ../../sharing/util dojo/i18n!../../nls/arcgisonline".split(" "),function(U,M,r,x,t,l,f){function g(){var k=U.clone(((t&&
t.self||{}).helperServices||{}).geocode||[]),y=!1;r.isDefined(t.geocodeAutoComplete)&&(y=t.geocodeAutoComplete);M.forEach(k,U.hitch(this,function(u){u.enableSuggestions=!0===u.suggest&&y?!0:!1;delete u.suggest;var E=l.isEsriWorldGeocoder(u);if(E||u.enableSuggestions)E&&(u.name=u.name||f.common.esriWorldGeocoder,u.enableSuggestions=y,u.placefinding=u.batch=u.esri=!0,u.outFields=["Match_addr","Addr_type","StAddr","City"]),u.placeholder=u.placeholder||f.viewer.findLocationText,u.singleLineFieldName=
u.singleLineFieldName||"SingleLine",u.highlightSymbol=null,u.localSearchOptions={minScale:3E5,distance:5E4};u.locator=new x(u.url)}));return k=M.filter(k,function(u){return r.isDefined(u.singleLineFieldName)&&r.isDefined(u.placefinding)&&u.placefinding})}return function(k,y){var u=r.isDefined(t.geocodeAutoComplete)?t.geocodeAutoComplete:!1,E=g();u={map:k,enableSuggestions:u,minCharacters:3,maxResults:5,suggestionDelay:100,value:y||null,autoNavigate:!1,activeSourceIndex:"all",sources:[].concat(E)};
1===u.sources.length&&delete u.activeSourceIndex;return u}})},"arcgisonline/pages/dijit/FilterCategory":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dojo/text!./FilterCategory/templates/FilterCategory.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/text!./FilterCategory/templates/Category.html dojo/text!./FilterCategory/templates/Uncategorized.html dojo/text!./FilterCategory/templates/CategoryGroup.html dojo/text!./FilterCategory/templates/EditSchemaButton.html dojo/i18n!../../nls/arcgisonline ../utils/categories ../utils/icons ./_CheckReadonlyMixin ./CategoryEdit ../components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal arcgisonline/telemetry preact".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);return function(){function C(G,H){this.templateString=e["default"];this.topicPrefix="";this.isMemberCategories=!1;this.i18n=n["default"];this.icons=w["default"];this._chipText=n["default"].contentCategories.chipText;this._selected=[];this.isMemberCategoriesOpen=!1;this._param=this.group?"groupCategories":"categories";this.closeCategoriesModal=this.closeCategoriesModal.bind(this)}
C.prototype.postMixInProperties=function(){this.inherited(arguments);this._chipText=this.chipText||this._chipText;this._param=this.param||this._param;this.contentCategoriesStrings=t["default"].mixin({},this.i18n.contentCategories,this.group?this.i18n.groupCategories:{});this.noCategoriesText=this.isMemberCategories?this.i18n.memberCategories.noCategories:this.contentCategoriesStrings.noCategoriesYet;this.filterDescription=this.isMemberCategories?this.i18n.memberCategories.filterDescription:this.contentCategoriesStrings.whyCategories;
this.setupText=this.isMemberCategories?this.i18n.memberCategories.setupCategories:this.contentCategoriesStrings.setUpCategories};C.prototype.postCreate=function(){this.telemetry=F["default"].init(this.portal,!0);this.categories=this.categories||this.group&&t["default"].clone(this.group.categorySchema)||t["default"].clone(this.portal.categories);this.rootNode=this.rootNode||p["default"].getRootNode(this.categories);"/Trending"===this.rootNode&&(this.rootNode="/Categories");var G=this.domNode.parentElement.parentElement.querySelector(".accordion-title");
f["default"].place(u["default"].substitute(h["default"],{i18n:n["default"],contentCategoriesStrings:this.contentCategoriesStrings,icons:w["default"]}),G);f["default"].place(u["default"].substitute(d["default"],{i18n:n["default"],hide:"hide",param:"category",icons:w["default"]}),G);this._clearButton=G.querySelector(".js-clear-filter");this._editCategoriesButton=G.querySelector(".js-edit-categories");this._setPermissions();this.updateCategories(this.categories,!0);this._addEventListeners()};C.prototype.destroy=
function(){this.inherited(arguments)};C.prototype._setPermissions=function(){var G,H,K,O,L=!this.user,J=!L&&!this.user.isOrgUser,R=!L&&this.user.userRole||{},X=(null===(G=this.group)||void 0===G?void 0:G.groupOwner)||{};G=!L&&R.isAdmin();var aa=!L&&R.isCustom();X=!J&&X.orgId&&this.user.orgId===X.orgId;X=!L&&this.group&&(this.group.isOwner||this.group.isManager||X&&R.canUpdateOrgGroups());var ea=!L&&!J&&(G||aa&&R.canUpdateItemCategories());L=!L&&!J&&(G||aa&&R.canUpdateMemberCategories());L=(!this.group&&
ea||this.group&&X||this.isMemberCategories&&L)&&!this.disableEdit;J=0<(null===(H=this.categories)||void 0===H?void 0:H.length)&&0<(null===(O=null===(K=this.categories[0])||void 0===K?void 0:K.categories)||void 0===O?void 0:O.length);H=k["default"](this.domNode).closest(".js-filter-category-container");K=k["default"](".js-no-categories-action",this.domNode);O=k["default"](".js-category-filter",this.domNode);O.addClass("hide");K.addClass("hide");l["default"].add(this._editCategoriesButton,"hide");!J&&
L&&K.removeClass("hide");J&&(O.removeClass("hide"),this._setClearVisibility(),l["default"][L?"remove":"add"](this._editCategoriesButton,"hide"));L||J||!H||H.addClass("hide")};C.prototype._addEventListeners=function(){var G=this;this.own(E["default"](this._clearButton,"click",this.deselectAll.bind(this)),E["default"](this._editCategoriesButton,"click",this._editCategories.bind(this)),k["default"](".js-setup-categories",this.domNode).on("click",this._editCategories.bind(this)),k["default"](".js-category-filter",
this.domNode).on("click",function(H){l["default"].contains(H.target,"js-filter-tree-link")&&G._clickHandler(H)}),y["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),y["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),y["default"].subscribe("categorySchema/updated",this.updateCategories.bind(this)),y["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};C.prototype.updateCategories=function(G,H){this.categories=G||[];0<this.categories.length&&
G[0].categories&&(this.domNode.querySelector(".js-category-root").innerHTML=this._categoriesToDom(r.__spreadArray([],G[0].categories),"",!0),this._addTooltips(),this.showUncategorized||this.isMemberCategories?this._addUncategorized():this.domNode.querySelector(".js-uncategorized").classList.add("hide"));this._setPermissions();H||this.deselectAll()};C.prototype.select=function(G,H){var K=this;(t["default"].isArray(G)?G:[G]).map(function(O){return O.replace(/\/[^\/]*\//,"/")}).forEach(function(O){var L=
O.split("/").filter(function(J){return"/"!==J&&""!==J});L.forEach(function(J,R){var X=L.slice(0,R+1).join("/");k["default"](".js-filter-tree-item[data-category-path\x3d'/"+X+"']",K.domNode).addClass("is-active")})});this._updateState(H)};C.prototype.deselectAll=function(G){G&&G.stopPropagation();this._clear();y["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",selected:[],isCategory:!0})};C.prototype.closeCategoriesModal=
function(){v.render(null,this.domNode);this.isMemberCategoriesOpen=!1;this.categories.length?this._editCategoriesButton.focus():this.domNode.querySelector(".js-setup-categories").focus()};C.prototype._editCategories=function(G){G.stopPropagation();this.checkReadonly()||(this.isMemberCategories?(this.isMemberCategoriesOpen=!0,this.renderMemberCategoriesModal()):(G={user:this.portalUser,portal:this.portal,rootNode:this.rootNode},this.group&&(G.group=t["default"].mixin({},this.group)),this._categoryEdit=
new A["default"](G,f["default"].place(f["default"].create("div"),document.body,"last")),this._categoryEdit.open()))};C.prototype.renderMemberCategoriesModal=function(){v.render(v.h(D["default"],{active:!0,memberCategories:this.categories,categoryCount:this.categoryCount,telemetry:this.telemetry,onClose:this.closeCategoriesModal}),this.domNode)};C.prototype._categoriesToDom=function(G,H,K){var O=this;return(null===G||void 0===G?0:G.length)?(G=G.reduce(function(L,J){var R,X,aa=H+"/"+(J.title||J.name),
ea=aa.toLowerCase(),ka=(null===(R=J.categories)||void 0===R?0:R.length)?O._categoriesToDom(J.categories,aa):"";R=(null===(X=J.categories)||void 0===X?0:X.length)?"is-parent":"";X=J.isActive?"is-active":"";var ma=(J.description||"").replace(/"/g,"\x26quot;");return L+u["default"].substitute(a["default"],{isActive:X,isParent:R,title:J.displayName||J.title||J.name,description:ma,children:ka,path:aa,normalizedPath:ea,icons:w["default"]})},""),K?G:u["default"].substitute(c["default"],{categories:G,icons:w["default"]})):
""};C.prototype._addTooltips=function(){k["default"](".js-filter-tree-link",this.domNode).forEach(function(G){var H=G.getAttribute("data-category-description");0<(null===H||void 0===H?void 0:H.length)&&new m["default"]({connectId:G,label:"\x3cspan class\x3d'text-constrain-narrow display-block text-left padding-left-quarter padding-right-quarter'\x3e"+H+"\x3c/span\x3e"})})};C.prototype._addUncategorized=function(){this.isMemberCategories&&(n["default"].contentCategories.uncategorized=n["default"].memberCategories.noAssigned);
this.domNode.querySelector(".js-uncategorized").innerHTML=u["default"].substitute(b["default"],{i18n:n["default"]});this.own(k["default"](".js-filter-tree-link-uncategorized",this.domNode).on("click",this._toggleUncategorizedFilter.bind(this)))};C.prototype._clickHandler=function(G){G.preventDefault();G=G.target.parentElement;var H=l["default"].contains(G,"is-active"),K=l["default"].contains(G,"is-parent"),O=0<k["default"](G.parentElement).closest(".js-filter-tree-item").length,L=[G],J=G;if(O)for(;l["default"].contains(J.parentElement.parentElement,
"js-filter-tree-item");)J=J.parentElement.parentElement,L.push(J);H?(L.forEach(function(R){l["default"].remove(R,"is-active")}),k["default"](G).removeClass("is-active"),k["default"](".js-filter-tree-item.is-active",G).removeClass("is-active")):(k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),L.forEach(function(R){l["default"].add(R,"is-active")}),K&&(G=L.reduce(function(R,X){return R+X.offsetTop},0),this.domNode.parentElement.scrollTop=G));this._updateState()};C.prototype._toggleUncategorizedFilter=
function(G){G.preventDefault();(this.uncategorizedSelected=!this.uncategorizedSelected)?(k["default"](".js-filter-tree-item.is-active",this.domNode).removeClass("is-active"),this.domNode.querySelector(".js-filter-tree-item-uncategorized").classList.add("is-active"),this._selected=[],y["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,selected:[{active:!0,value:"_none_",
label:n["default"].contentCategories.uncategorized,q:"categories:none",simpleLabel:n["default"].contentCategories.uncategorized}],rootNode:this.rootNode})):this.deselectAll();this._setClearVisibility()};C.prototype._updateState=function(G){var H=this,K=this._param||"categories";this._selected=k["default"](".js-filter-tree-item.is-active",this.domNode).map(function(O){var L=O.getAttribute("data-category-name");O=O.getAttribute("data-category-path");return{active:!0,value:H.rootNode+O,label:L,q:u["default"].substitute('${paramName}:( "${categoryPath}")',
{paramName:K,categoryPath:H.rootNode+O})}});k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this.uncategorizedSelected=!1;y["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,isLoading:G,selected:0<this._selected.length&&[this._selected[this._selected.length-1]]||[],rootNode:this.rootNode});this._setClearVisibility();this._updateAria()};
C.prototype._setClearVisibility=function(){l["default"][0<this._selected.length||this.uncategorizedSelected?"remove":"add"](this._clearButton,"hide")};C.prototype._clear=function(){k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this._selected=[];this.uncategorizedSelected=!1;this._updateState(!0);this._setClearVisibility()};C.prototype._remove=function(G){G.param===this._param&&this._clear()};
C.prototype._updateCounts=function(G){var H=this;if("groupCategories"===G.fieldName&&this.group||!this.group&&"categories"===G.fieldName){k["default"](".js-category-count",this.domNode).forEach(function(O){return O.innerHTML=""});var K=new RegExp(this.rootNode.toLowerCase()+"/");G.fieldValues.filter(function(O){return O.value.toLowerCase()!==H.rootNode.toLowerCase()}).map(function(O){return{value:O.value.replace(K,"/"),count:O.count}}).forEach(function(O){try{var L=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
O.value+'"]');L&&(L.innerHTML="("+O.count+")")}catch(J){}})}};C.prototype.updateCategorizedMembers=function(G){var H=this;this.categoryCount=G;k["default"](".js-category-count",this.domNode).innerHTML("");Object.keys(G).forEach(function(K){var O=K.replace(/\/categories\//,"/");try{var L=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+O.toLowerCase()+'"]');L&&(L.innerHTML="("+G[K]+")")}catch(J){}});this.isMemberCategoriesOpen&&this.renderMemberCategoriesModal()};C.prototype._updateAria=
function(){k["default"](".js-filter-tree-item",this.domNode).forEach(function(G){return G.setAttribute("aria-expanded",l["default"].contains(G,"is-active"))})};return C=r.__decorate([x["default"](z["default"],q["default"],B["default"],g["default"])],C)}()})},"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline ../pageUtil arcgisonline/sharing/dijit/dialog/GeneralDlg".split(" "),function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);
l=r.__importDefault(l);return function(){function f(){}f.prototype.checkReadonly=function(g){g||(g=this.portal);return(null===g||void 0===g?0:g.isPortal)&&g.isReadOnly?(t["default"].createSpecifiedDialog(l["default"]).show({title:x["default"].common.errorTitle,message:x["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};f.prototype.memberActionGuard=function(g,k){return-1<["manageItems","viewGroups","viewProfile"].indexOf(g)?!1:this.checkReadonly(k)};return f}()})},"arcgisonline/pages/dijit/CategoryEdit":function(){define("require exports tslib dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/categories ../utils/alerts ../utils/formatters ../utils/icons ../utils/getLivingAtlasCategorySet ./Overlay ../portal/Portal ../../esriGeowConfig dojo/text!./CategoryEdit/templates/CategoryEdit.html dojo/text!./CategoryEdit/templates/Node.html dojo/text!./CategoryEdit/templates/Group.html dojo/text!./CategoryEdit/templates/_count.html dojo/text!./CategoryEdit/templates/_standard.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);v=r.__importDefault(v);return function(){function C(G,H){this.title=F["default"].contentCategories.configureCategories;this.overlayContents=k["default"].substitute(p["default"],{i18n:F["default"]},null,d["default"]);this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;this.i18n=F["default"];this.constrain=!0;this.showActionBar=this.isCreate=
!1}C.prototype.postMixInProperties=function(){this.inherited(arguments);this.categories=this.group&&x["default"].clone(this.group.categorySchema)||x["default"].clone(this.portal.categories);this.rootNode=m["default"].getRootNode(this.categories);if(!this.portal.queryItems){var G=this.portal.id;this.portal=new h["default"](x["default"].clone(this.portal));this.portal.id=G}"//"===this.portal.url.slice(-2)&&(this.portal.url=this.portal.url.slice(0,this.portal.url.length-1));this.group&&(this.i18n.contentCategories=
x["default"].mixin(this.i18n.contentCategories,this.i18n.groupCategories));this.overlayContents=k["default"].substitute(p["default"],{i18n:F["default"]},null,d["default"]);if(!this.categories||1>this.categories.length)this.showActionBar=this.isCreate=!0,this.title=F["default"].contentCategories.setUpCategories,this.categories=[{title:"Categories",categories:[]}]};C.prototype.postCreate=function(){var G=this,H,K;this.inherited(arguments);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);this.updateSubmit();this.isCreate?(f["default"]({livingAtlas:b["default"](this.portal,"LivingAtlas"),iso:b["default"](this.portal,"ISO"),inspire:b["default"](this.portal,"Inspire")}).then(function(L){G.standardSets={livingAtlas:L.livingAtlas[0],iso:L.iso[0],inspire:L.inspire[0]};G.buildStandardSets()}),this.domNode.querySelector(".js-category-setup-explanation").classList.remove("hide"),this.domNode.querySelector(".js-category-edit-explanation").classList.add("hide"),
this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)):(this.domNode.querySelector(".js-content-loading").classList.remove("is-active"),this.domNode.querySelector(".js-category-wrapper").classList.remove("hide"),g["default"](".js-category-edit-li",this.domNode).addClass("is-open"));this.addCategoryListeners();this.drag=z["default"]([].slice.call(this.domNode.querySelectorAll(".js-category-group")),
{moves:function(L,J,R){return R.classList.contains("js-toggle-item")||R.classList.contains("js-category-edit-item")},accepts:function(L,J,R,X){return J===R}});this.drag.on("drop",function(L){L.classList.contains("is-editing")||(G.updateState(),G.updateSchema().then(function(J){}))});this.updateCounts();var O=(null===(K=null===(H=this.portal)||void 0===H?void 0:H.portalUser)||void 0===K?void 0:K.userRole)||n["default"].userRole||{};this.domNode.classList[this.group||O.canUpdateOrgItems()?"add":"remove"]("can-renameDeleteFromSchema")};
C.prototype.destroy=function(){this.inherited(arguments)};C.prototype.close=function(G){this.isCreate&&(this.cleanUp(!0),this.hasCategories()&&!G&&(this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain,this.setUnsaved(!0)));y["default"].publish("category-edit/close");this.inherited(arguments)};C.prototype.handleCancel=function(){y["default"].publish("category-edit/cancel");this.inherited(arguments)};C.prototype.handlePrimary=function(){this.submit()};C.prototype.addCategoryListeners=
function(){var G=this,H=function(K,O,L){L.target.classList.contains(K)&&O.bind(G)(L)};this.own(g["default"](this.domNode).on("click",function(K){H("js-toggle-item",G.toggleOpen,K);H("js-add-sibling",G.addCategory,K);H("js-category-edit-button",G.editNode,K);H("js-category-cancel-edit",G.cancelEditNode,K);H("js-edit-confirm",G.confirmEdit,K);H("js-cancel-edit",G.cancelEdit,K);H("js-category-edit-submit",G.saveEdit,K);H("js-category-delete-button",G.initiateDelete,K);H("js-cancel-delete",G.cancelDelete,
K);H("js-delete-confirm",G.confirmDelete,K)}),g["default"](this.domNode).on("input",function(K){H("js-category-item-input",G.validateInput,K)}))};C.prototype.buildStandardSets=function(){var G=this,H=this.domNode.querySelector(".js-standard-categories-nav");Object.keys(this.standardSets).forEach(function(K){var O,L,J=G.standardSets[K],R=J.title;J=J.snippet;var X=(null===(O=G.portal.helpMap)||void 0===O?void 0:O.m)||(null===(L=n["default"].self.helpMap)||void 0===L?void 0:L.m)||{};O={inspire:"reference/content-categories.htm#CATEGORY_INSPIRE",
iso:"reference/content-categories.htm#CATEGORY_ISO",livingAtlas:"reference/content-categories.htm#CATEGORY_ARCGIS"};L={inspire:X["120001582"]||"",iso:X["120001581"]||"",livingAtlas:X["120001580"]||""};t["default"].place(k["default"].substitute(D["default"],{key:K,title:R,description:J,i18n:F["default"],helpBase:G.portal.helpBase||"https://doc.arcgis.com/en/arcgis-online/",helpLink:G.portal.isPortal?L[K]:O[K]}),H)});this.own(g["default"](".js-category-setup-option",this.domNode).on("click",this.toggleStandard.bind(this)),
g["default"](".js-category-setup-option",this.domNode).on("keyup",function(K){"Enter"!==K.key&&"Space"!==K.key||G.toggleStandard(K)}));g["default"](".js-content-loading",this.domNode).removeClass("is-active");g["default"](".js-category-wrapper",this.domNode).removeClass("hide")};C.prototype.toggleStandard=function(G){if(G.target.classList.contains("js-category-setup-option")){var H=G.target.getAttribute("data-category-set"),K=this.domNode.querySelector(".js-category-setup-option.is-active").getAttribute("data-category-set"),
O=!0;g["default"](".js-category-setup-option",this.domNode).removeClass("is-active");G.target.classList.add("is-active");if(K===H)return!1;"custom"===K&&"custom"!==H&&(this.customBackup=r.__spreadArray([],this.categories[0].categories).filter(function(L){return""!==L.title}));"custom"===H&&"custom"!==K&&(this.categories[0].categories=r.__spreadArray([],this.customBackup));"custom"!==H&&(this.categories[0].categories=this.standardSets[H].categorySchema[0].categories);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);"custom"!==H||this.hasCategories()||(this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),this.domNode.querySelector(".js-category-item-input").focus(),O=!1);this.updateState();this.updateSubmit();this.setUnsaved(O)}};C.prototype.toggleOpen=function(G){G.preventDefault();G=G.target.parentNode;var H=G.classList.contains("is-open");G.classList[H?"remove":"add"]("is-open")};C.prototype.addCategory=function(G){this.cleanUp();if(0===
this.domNode.querySelectorAll(".js-category-edit-li.is-editing").length){var H=G.target.parentNode;G=G.target.getAttribute("data-category-path")||"";var K=2>(G.match(RegExp("/","g"))||[]).length?"is-parent":"",O={path:G,categories:"",i18n:F["default"],isOpen:"is-open",ariaText:F["default"].contentCategories.addSub,icons:a["default"]};K={isOpen:"is-open",children:K?k["default"].substitute(B["default"],O,null,d["default"]):"",title:"",path:G,i18n:F["default"],isParent:K,saveText:this.isCreate?F["default"].contentCategories.add:
F["default"].common.save,icons:a["default"]};H=Array.prototype.slice.call(H.children).filter(function(L){return L.classList.contains("js-add-sibling")}).shift();O=document.createElement("div");O.innerHTML=k["default"].substitute(w["default"],K,null,d["default"]);K=O.querySelector(".js-category-edit-li");t["default"].place(K,H,"before");G||H.setAttribute("aria-label",F["default"].contentCategories.addCat);K.classList.add("is-editing");K.querySelector(".js-category-item-input").focus();this.updateSubmit()}};
C.prototype.editNode=function(G){G.preventDefault();this.cleanUp();var H=g["default"](G.target).closest(".js-category-edit-item").shift();G=g["default"](G.target).closest(".js-category-edit-li").shift();H.classList.add("is-editing");G.classList.add("is-editing");H.querySelector(".js-category-edit-submit").disabled=!0;H=H.querySelector(".js-category-item-input");H.focus();H.select();this.updateSubmit()};C.prototype.cancelEditNode=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-item").shift();
G=g["default"](G.target).closest(".js-category-edit-li").shift();var K=H.getAttribute("data-current-category"),O=H.querySelector(".js-category-item-input-error"),L=H.querySelector(".js-category-item-input");K?(H.classList.remove("is-editing"),G.classList.remove("is-editing"),L.value=K,L.classList.remove("input-error"),O.classList.remove("is-active")):this.hasCategories()||!this.isCreate||1<g["default"](".js-category-edit-li.is-editing",this.domNode).length?t["default"].destroy(H.parentNode):(L.value=
"",L.classList.remove("input-error"),O.classList.remove("is-active"),L.focus(),G.querySelector(".js-category-edit-submit").setAttribute("disabled","true"));this.updateSubmit()};C.prototype.saveEdit=function(G){var H=this;G.preventDefault();var K=g["default"](G.target).closest(".js-category-edit-item").shift(),O=K.parentNode,L=K.getAttribute("data-current-category"),J=O.getAttribute("data-category-path"),R=K.querySelector(".js-category-item-input").value;G=O.querySelector(".js-category-group \x3e .js-add-sibling");
if(L){var X=J.split("/");X.pop();X.push(R);var aa=X.join("/");G&&G.setAttribute("data-category-path",aa);this.isCreate?(O.querySelector(".js-category-edit-title").innerHTML=R,K.classList.remove("is-editing"),O.classList.remove("is-editing"),O.setAttribute("data-category-path",aa),K.setAttribute("data-current-category",R),g["default"](".js-category-edit-li",O).forEach(function(ea){var ka=ea.getAttribute("data-category-path").replace(J,aa);ea.setAttribute("data-category-path",ka)}),this.updateState(),
this.updateSchema().then(function(){},function(ea){return 0})):this.searchCategoryItems({category:J,num:1}).then(function(ea){if(0<ea.total){var ka=O.querySelector(".js-category-edit-warning"),ma=ka.querySelector(".js-edit-confirm"),sa=F["default"].contentCategories[1===ea.total?"categoryInUseEditSingle":"categoryInUseEditPlural"];K.classList.add("category-edit-item__disabled");K.classList.remove("is-editing");O.classList.remove("is-editing");var za=k["default"].substitute(A["default"],{path:aa,num:ea.total});
O.querySelector(".js-category-edit-title").innerHTML=R+za;O.querySelector(".js-category-in-use-edit-explanation").innerHTML=k["default"].substitute(sa,{number:ea.total,category:L,newCategory:R});ka.classList.remove("hide");ma.setAttribute("data-category-path",J);ma.setAttribute("data-category",L);ma.setAttribute("data-new-category",R);ma.setAttribute("data-new-category-path",aa);ma.focus()}else O.querySelector(".js-category-edit-title").innerHTML=R,K.classList.remove("is-editing"),O.classList.remove("is-editing"),
O.setAttribute("data-category-path",aa),K.setAttribute("data-current-category",R),g["default"](".js-category-edit-li",O).forEach(function(ha){var V=ha.getAttribute("data-category-path").replace(J,aa);ha.setAttribute("data-category-path",V)}),H.updateState(),H.updateSchema().then(function(){},function(ha){return 0})})}else(X=J+"/"+R,G&&(G.setAttribute("data-category-path",X),G.setAttribute("aria-label",k["default"].substitute(F["default"].contentCategories.addSubCategoryOf,{category:R}))),K.setAttribute("data-current-category",
R),K.querySelector(".js-category-edit-title").innerHTML=R,O.setAttribute("data-category-path",X),O.classList.remove("is-editing"),this.isCreate&&K.classList.remove("is-editing"),this.updateState(),this.isCreate)?this.cleaningUp||L||(this.setUnsaved(!0),K.querySelector(".js-category-edit-submit").innerHTML=F["default"].contentCategories.update,(G=(G=O.parentNode)&&G.children&&G.children[G.children.length-1])&&this.addCategory({target:G})):this.updateSchema().then(function(){},function(ea){return 0})};
C.prototype.confirmEdit=function(G){var H=this,K=g["default"](G.target).closest(".js-category-edit-li").shift(),O=G.target.getAttribute("data-category-path"),L=G.target.getAttribute("data-new-category"),J=G.target.getAttribute("data-new-category-path"),R=K.querySelector(".js-category-edit-item");G=K.querySelector(".js-category-edit-warning");var X=K.querySelector(".js-category-loader"),aa=K.querySelector(".js-category-loader-bar"),ea=K.querySelector(".js-loading-message");G.classList.add("hide");
K.setAttribute("data-category-path",J);R.setAttribute("data-current-category",L);g["default"](".js-category-edit-li",K).forEach(function(ka){var ma=ka.getAttribute("data-category-path").replace(O,J);ka.querySelector(".js-category-count").setAttribute("data-category-path",ma);ka.setAttribute("data-category-path",ma)});X.classList.remove("hide");ea.innerHTML="";aa.style.width="0%";this.searchCategoryItems({category:O,num:1}).then(function(ka){ka={length:ka.total,oldCategory:O,newCategory:J,loader:X};
H.enableButtons(!1);H.bulkEditCategory(ka).then(function(ma){H.updateState();H.updateSchema().then(function(sa){X.classList.add("hide");R.classList.remove("category-edit-item__disabled");H.enableButtons(!0);y["default"].publish("items/refresh",{forcedDelay:2E3});y["default"].publish("view/deselectAll")},function(sa){})})})};C.prototype.cancelEdit=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-li").shift();G=this.rootNode.toLowerCase()+H.getAttribute("data-category-path");
var K=H.querySelector(".js-category-edit-item"),O=K.getAttribute("data-current-category"),L=H.querySelector(".js-category-edit-warning"),J=K.querySelector(".js-category-edit-title"),R=K.querySelector(".js-category-item-input");H=(H=H.querySelector(".js-category-count"))&&H.innerHTML||"";R.value=O;L.classList.add("hide");K.classList.remove("category-edit-item__disabled");J.innerHTML="\n      "+O+'\n      \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"'+G+'"\x3e\n        '+
H+"\n      \x3c/span\x3e\n    ";this.updateSubmit()};C.prototype.initiateDelete=function(G){var H=this;this.cleanUp();G.preventDefault();var K=g["default"](G.target).closest(".js-category-edit-item"),O=g["default"](G.target).closest(".js-category-edit-li").shift(),L=O.getAttribute("data-category-path");K.addClass("category-edit-item__disabled");this.isCreate?this.deleteCategory(L):this.searchCategoryItems({category:L,num:1}).then(function(J){if(0<J.total){var R=O.querySelector(".js-category-edit-delete-warning");
R.classList.remove("hide");var X=F["default"].contentCategories[1===J.total?"categoryInUseDeleteSingle":"categoryInUseDeletePlural"];O.querySelector(".js-category-in-use-explanation").innerHTML=k["default"].substitute(X,{number:J.total});R.querySelector(".js-delete-confirm").focus()}else H.deleteCategory(L)},function(J){return 0})};C.prototype.cancelDelete=function(G){G=g["default"](G.target).closest(".js-category-edit-li").shift();var H=G.querySelector(".js-category-edit-delete-warning");G.querySelector(".js-category-edit-item").classList.remove("category-edit-item__disabled");
H.classList.add("hide")};C.prototype.confirmDelete=function(G){var H=this;G.preventDefault();var K=g["default"](G.target).closest(".js-category-edit-li").shift(),O=K.getAttribute("data-category-path");G=K.querySelector(".js-category-edit-delete-warning");var L=K.querySelector(".js-category-loader"),J=K.querySelector(".js-category-loader-bar");K=K.querySelector(".js-loading-message");G.classList.add("hide");L.classList.remove("hide");K.innerHTML="";J.style.width="0%";this.searchCategoryItems({category:O,
num:1}).then(function(R){R={length:R.total,oldCategory:O,loader:L};H.enableButtons(!1);H.bulkEditCategory(R).then(function(X){H.deleteCategory(O);H.enableButtons(!0);y["default"].publish("items/refresh",{forcedDelay:2E3});y["default"].publish("view/deselectAll");setTimeout(function(){H.updateCounts()},1200)})})};C.prototype.validateInput=function(G){var H,K,O=m["default"].getSchemaOrder(this.categories).__total,L=g["default"](G.target).closest(".js-category-edit-li").shift(),J=g["default"](L.parentNode).closest(".js-category-edit-li").shift(),
R=(null===J||void 0===J?void 0:J.getAttribute("data-category-path"))||"/";J=(null===L||void 0===L?void 0:L.getAttribute("data-category-path")).replace(R,"");var X=null===(K=null===(H=G.target)||void 0===H?void 0:H.value)||void 0===K?void 0:K.trim();K=g["default"](G.target).closest(".js-category-group").shift();var aa=g["default"](G.target).closest(".js-category-edit-form").shift();H=aa.querySelector(".js-category-item-input-error");aa=aa.querySelector(".js-category-edit-submit");var ea=g["default"](G.target).closest(".js-category-edit-item").shift();
ea=""!==(null===ea||void 0===ea?void 0:ea.getAttribute("data-current-category"));K=K&&[].slice.call(K.children).filter(function(ka){return ka.classList.contains("category-editor-item")}).filter(function(ka){return ka!==L}).map(function(ka){return ka.getAttribute("data-category-path").replace(R,"").toLowerCase().split("/").pop()});200<O&&!ea?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooMany,H.classList.add("is-active"),aa.disabled=!0):0===X.length?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),aa.disabled=!0):0<this.checkCharacters(X).length?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(F["default"].contentCategories.errors.charsNotAllowed,{chars:this.checkCharacters(X).join(" ")}),H.classList.add("is-active"),aa.disabled=!0):100<X.length?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooLong,H.classList.add("is-active"),aa.disabled=!0):X===J?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),aa.disabled=!0):-1<K.indexOf(X.toLowerCase())?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(F["default"].contentCategories.errors.alreadyExists,{name:X}),H.classList.add("is-active"),aa.disabled=!0):(G.target.classList.remove("input-error"),H.classList.remove("is-active"),aa.disabled=!1);this.updateSubmit()};C.prototype.checkCharacters=function(G){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(H){return-1<G.indexOf(H)}).map(function(H){return"\x3ccode\x3e"+
H+"\x3c/code\x3e"})};C.prototype.bulkEditCategory=function(G){var H=this,K=G.loader,O=G.length,L=G.oldCategory,J=G.newCategory;G=Math.floor(O/100)+1;var R=[],X=K.querySelector(".js-category-loader-bar"),aa=K.querySelector(".js-loading-message"),ea=50/O,ka=0,ma=0;X.style.width="0%";aa.innerHTML="";this.setUnsaved(!0);for(var sa=y["default"].subscribe("categorySchema/loading",function(ha,V){"update"===V&&(ma+=ha,ma>O&&(ma=O),aa.innerHTML=k["default"].substitute(F["default"].contentCategories.updatingProgress,
{current:ma,total:O}));ka+=ha*ea;X.style.width=ka+"%"}),za=0;za<G;za++)R.push({category:L,start:100*za,num:100,loader:K});K=R.map(function(ha){return H.searchCategoryItems(ha)});return f["default"](K).then(function(ha){return ha.map(function(V){return V.results.map(function(la){var T={},P=H.transformCategories(L,J,la.categories);T[la.id]=H.group?P:{categories:P};return T})})}).then(function(ha){ha=ha.map(function(V){return H.updateItems(V)});return f["default"](ha)}).then(function(ha){sa.remove();
H.setUnsaved(!1);H.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;return ha})};C.prototype.transformCategories=function(G,H,K){return H?K.map(function(O){return O.replace(G,H)}):K.filter(function(O){return 0>O.indexOf(G)})};C.prototype.deleteCategory=function(G){var H=this;g["default"](".js-category-edit-li",this.domNode).forEach(function(K){var O=K.getAttribute("data-category-path");O!==G&&encodeURIComponent(O)!==encodeURIComponent(G)||t["default"].destroy(K)});this.updateState();
1!==this.categories.length||0!==this.categories[0].categories.length||this.isCreate?(this.setUnsaved(!0),this.updateSchema().then(function(){},function(K){return 0})):this.deleteCategorySchema().then(function(K){H.setUnsaved(!1);y["default"].publish("categorySchema/updated",null,!!H.group);H.close()},function(K){K&&K.messageCode&&"GWM_0021"===K.messageCode&&e["default"].showAlert("error",K.message)})};C.prototype.updateState=function(){this.categories[0].categories=this.domToCategories(this.domNode.querySelector(".js-category-group"));
this.drag&&(this.drag.containers=[].slice.call(this.domNode.querySelectorAll(".js-category-group")));this.updateSubmit()};C.prototype.updateSubmit=function(){if(this.isCreate){var G=this.hasCategories();G||(G=0<Array.prototype.slice.call(this.domNode.querySelectorAll(".js-category-edit-li.is-editing")).filter(function(H){return!H.querySelector(".js-category-edit-submit").disabled}).length);this._primaryBtn.disabled=!G;this.cleaningUp||this.setUnsaved(G)}};C.prototype.domToCategories=function(G){var H=
this,K=[];Array.prototype.slice.call(G.children).filter(function(O){return O.classList.contains("category-editor-item")}).forEach(function(O){var L={title:O.querySelector(".js-category-edit-item").getAttribute("data-current-category").trim(),isOpen:O.classList.contains("is-open")};0<O.querySelectorAll(".js-category-group").length&&(L.categories=H.domToCategories(O.querySelector(".js-category-group")));K.push(L)});return K};C.prototype.categoriesToDom=function(G,H){var K=this;H=H||"";var O=(G||[]).reduce(function(L,
J){J.title=J.title.trim();var R=J.displayName?J.displayName:J.title,X=H?H+"/"+J.title:"/"+J.title,aa=3>(X.match(RegExp("/","g"))||[]).length?"is-parent":"",ea={path:X,categories:"",i18n:F["default"],ariaText:F["default"].contentCategories.addSub};ea=aa?k["default"].substitute(B["default"],ea,null,d["default"]):"";ea=J.categories&&aa?K.categoriesToDom(J.categories,X):ea;return L+k["default"].substitute(w["default"],{isOpen:J.isOpen&&aa?"is-open":"",icons:a["default"],title:R,path:X,isParent:aa,children:ea,
i18n:F["default"],saveText:K.isCreate?F["default"].contentCategories.update:F["default"].common.save},null,d["default"])},"");return k["default"].substitute(B["default"],{i18n:F["default"],path:H||"",categories:O,ariaText:H?F["default"].contentCategories.addSub:F["default"].contentCategories.addCat},null,d["default"])};C.prototype.updateSchema=function(G){var H=this;this.categories[0].categories=this.categories[0].categories.map(m["default"].cleanSchema);var K=this.group&&this.portal.portalUrl+"community/groups/"+
this.group.id,O=(this.portal.portalUrl||this.portal.url)+"portals/"+this.portal.id;K={url:(this.group?K:O)+"/assignCategorySchema",content:{categorySchema:JSON.stringify({categorySchema:this.categories})}};if(!this.isCreate||G)return this.setUnsaved(),q["default"].request(K,{usePost:!0}).then(function(L){L.success&&(e["default"].showAlert("success",F["default"].contentCategories.success),y["default"].publish("categorySchema/updated",H.categories,!!H.group),y["default"].publish("category-edit/save-success"));
L.error&&e["default"].showAlert("error",L.error.details[0]);return L},function(L){e["default"].showAlert("error",L.message)});G=new l["default"];G.resolve(!0);return G};C.prototype.enableButtons=function(G){g["default"](".js-category-edit-actions",this.domNode)[G?"removeClass":"addClass"]("visually-hidden")};C.prototype.hasCategories=function(){var G,H,K;return 0<(null===(K=null===(H=null===(G=this.categories)||void 0===G?void 0:G[0])||void 0===H?void 0:H.categories)||void 0===K?void 0:K.length)&&
0<this.categories[0].categories.filter(function(O){return""!==O.title}).length};C.prototype.searchCategoryItems=function(G){var H=G.category,K=G.start;K=void 0===K?0:K;G=G.num;var O=void 0===G?100:G;G="orgid: "+this.portal.id;H=JSON.stringify([this.rootNode+(void 0===H?"":H)]);H={start:K,num:O,categories:this.group?H:encodeURIComponent(H)};this.token&&(H.token=this.token.slice(7,this.token.length));if(this.group)return q["default"].request({url:this.portal.url+"content/groups/"+this.group.id+"/search",
content:H}).then(function(L){y["default"].publish("categorySchema/loading",L.results&&L.results.length||0);L.results=L.results.map(function(J){return m["default"].simplifyItemObject(J,!0)});return L},function(L){});H.q=G;return this.portal.queryItems(H).then(function(L){var J;y["default"].publish("categorySchema/loading",(null===(J=L.results)||void 0===J?void 0:J.length)||0);L.results=L.results.map(function(R){return m["default"].simplifyItemObject(R)});return L},function(L){return 0})};C.prototype.updateCounts=
function(){var G=this,H={portal:this.portal};this.group&&(H.group=this.group);m["default"].getCounts(H).then(function(K){if(G.domNode){g["default"](".js-category-count",G.domNode).forEach(function(L){return L.innerHTML=""});var O=new RegExp(G.rootNode.toLowerCase()+"/");K.filter(function(L){return L.value.toLowerCase()!==G.rootNode.toLowerCase()}).map(function(L){return{value:L.value.replace(O,"/"),count:L.count}}).forEach(function(L){if(L.value&&0<L.value.length)try{var J=G.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
L.value+'"]');J&&(J.innerHTML="("+L.count+")")}catch(R){}})}},function(K){return 0})};C.prototype.updateItems=function(G){return q["default"].request({url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(G)}},{usePost:!0}).then(function(H){y["default"].publish("categorySchema/loading",G.length||0,"update");return H},function(H){"GWM_0021"===(null===H||void 0===H?void 0:H.messageCode)&&e["default"].showAlert("error",H.message)})};
C.prototype.deleteCategorySchema=function(){return q["default"].request({url:""+this.portal.url+(this.group?"community/groups/"+this.group.id:"portals/"+this.portal.id)+"/deleteCategorySchema"},{usePost:!0})};C.prototype.submit=function(){var G=this,H,K,O;this.isCreate&&(this.cleanUp(!0),0<(null===(O=null===(K=null===(H=this.categories)||void 0===H?void 0:H[0])||void 0===K?void 0:K.categories)||void 0===O?void 0:O.length)?this.updateSchema(!0).then(function(L){G.setUnsaved(!1);G.close(!0);e["default"].showAlert("success",
F["default"].contentCategories.success);y["default"].publish("categorySchema/updated",G.categories,!!G.group)},function(L){return 0}):(e["default"].showAlert("error",F["default"].contentCategories.errors.schemaEmpty),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)))};C.prototype.cleanUp=function(G){this.cleaningUp=!0;g["default"](".js-category-edit-li.is-editing",this.domNode).forEach(function(H){var K=
H.querySelector(".js-category-edit-submit"),O=H.querySelector(".js-category-item-input"),L=O.classList.contains("input-error")&&G;H=H.querySelector(".js-category-cancel-edit");(""===O.value||L?H:K).click()});this.updateState();this.cleaningUp=!1};return C=r.__decorate([v["default"](E["default"],u["default"],c["default"])],C)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function n(){this.i18n=
c["default"];this.icons=d["default"];this.templateString=b["default"];this.hide=e["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=g["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=c["default"].common.save;
this.loadingText=c["default"].common.loading;this.uid=null}n.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=u["default"]();this.srcNodeRef||(this.srcNodeRef=y["default"].place(y["default"].create("div"),document.body,"last"))};n.prototype.postCreate=function(){this.inherited(arguments);y["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||k["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
k["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&k["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&k["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};n.prototype._addEventListeners=function(){var p=this;this.own(l["default"].subscribe("overlay/open",function(){return p.open()}),x["default"](window,"resize",t["default"](function(w){return p.resizeHandler(w)},
30)),x["default"](this.closeBtn,"click",function(w){return p.handleCancel(w)}),x["default"](this._backArrow,"click",function(){return p.close()}),x["default"](this._primaryBtn,"click",function(w){return p.handlePrimary(w)}),x["default"](this._cancelBtn,"click",function(w){return p.handleCancel(w)}),x["default"](this._backgroundScrim,"click",function(w){return p.handleScrimClick(w)}),x["default"](document,"keyup",function(w){"Escape"===w.key&&p.close()}))};n.prototype.open=function(){var p=this;this.defaultOpener=
document.activeElement;var w=document.documentElement,B=w.scrollTop,A=document.body.scrollTop,D=w.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;f["default"](this.domNode).addClass("is-active");var F=a["default"].getFocusableElements(this.domNode);0<F.length&&F[0].focus();this._trapHandler=a["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=D)||setTimeout(function(){g["default"]("ios")&&(p._bodyScrollTop=Math.max(window.pageYOffset,
B,A));k["default"].add(w,p._preventScrollClass)},300)};n.prototype.close=function(p){var w=this,B,A;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(D){!0===D&&w._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",p);p=this.opener||this.defaultOpener||document.body;null===(B=null===p||void 0===p?void 0:p.setFocus)||void 0===B?void 0:B.call(p);null===(A=null===p||void 0===p?void 0:p.focus)||
void 0===A?void 0:A.call(p)};n.prototype.confirmClose=function(p){var w=new E["default"];p=confirm(p);w.resolve(p);return w};n.prototype.showLoader=function(p){this._overlayLoaderText.textContent=p||"";this._overlayLoader.classList.add("is-active")};n.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};n.prototype.setUnsaved=function(p){this._unsavedChanges=p};n.prototype.handlePrimary=function(p){};n.prototype.handleHelp=function(p){};
n.prototype.handleCancel=function(p){this.close()};n.prototype.handleScrimClick=function(p){this.closeOnScrimClick&&p.target===p.currentTarget&&this.close()};n.prototype.resizeHandler=function(p){p=window.innerWidth;this._screenWidth>=this.maxWidth&&p<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&p>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=p};n.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(k["default"].remove(document.documentElement,this._preventScrollClass),g["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};n.prototype._destroy=function(){var p=this;this.domNode&&a["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return p.destroy()},300)};return n=r.__decorate([h["default"](q["default"],z["default"],m["default"])],n)}()})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ./CategoryNode ./AddCategoryButton ../helpers ../api arcgisonline/pages/utils/alerts arcgisonline/pages/utils/timeout arcgisonline/pages/utils/a11y dragula/dragula dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d){function a(h){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(n){return-1<h.indexOf(n)}).map(function(n){return"\x3ccode\x3e"+n+"\x3c/code\x3e"})}function b(h,n,p){return h=h.map(function(w){var B;if(-1<w.path.indexOf(n)){if(null===(B=w.categories)||void 0===B?0:B.length)w.categories=b(w.categories,n,p);return r.__assign(r.__assign({},w),{path:w.path.replace(n,p)})}return r.__assign({},w)})}var c=this;Object.defineProperty(M,"__esModule",{value:!0});
f=r.__importDefault(f);g=r.__importDefault(g);u=r.__importDefault(u);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);M["default"]=function(h){var n=h.active,p=h.telemetry,w=h.onClose,B=h.memberCategories,A=h.categoryCount,D=r.__assign(r.__assign(r.__assign({},m["default"].common),m["default"].contentCategories),m["default"].memberCategories.modal);h=t.useState((null===B||void 0===B?0:B.length)?k.updateMemberCount(k.convertToCategoryData(B),
A):[{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}]);var F=h[0],v=h[1];h=t.useState(null);var C=h[0],G=h[1];B=t.useState((null===B||void 0===B?0:B.length)?JSON.stringify(B):'[{"title":"Categories"}]');var H=B[0],K=B[1];B=t.useState(!1);h=B[0];var O=B[1],L=t.useRef(null),J=t.useRef(null),R=t.useRef(null),X=function(fa){return r.__awaiter(c,void 0,void 0,function(){return r.__generator(this,function(ia){switch(ia.label){case 0:return[4,
y.saveCategorizedMembers(fa)];case 1:return ia.sent(),[4,E.timeout(300)];case 2:return ia.sent(),[2]}})})},aa=function(fa,ia){return r.__awaiter(c,void 0,void 0,function(){var na,qa;return r.__generator(this,function(ua){switch(ua.label){case 0:return[4,y.searchUsersWithCategory(fa)];case 1:return na=ua.sent(),qa=k.updateCategorizedMembers(na,fa,ia),[4,X(qa)];case 2:return ua.sent(),[2]}})})},ea=function(fa,ia,na){na=r.__assign(r.__assign({},na),{path:na.path.replace(fa,ia)});na.categories&&(na.categories=
na.categories.map(function(qa){return ea(fa,ia,qa)}));return na},ka=function(fa,ia,na){return r.__awaiter(c,void 0,void 0,function(){var qa,ua,ya,Aa,Ba,Oa,Ja;return r.__generator(this,function(wa){switch(wa.label){case 0:return qa=JSON.parse(fa.dataset.data),ua=qa.path,ya=ia.dataset.path,Aa=ya+"/"+qa.title,Ba=ea(ua,Aa,qa),fa.dataset.data=JSON.stringify(Ba),Oa=Array.from(ia.childNodes).filter(function(Ea){return Ea.classList.contains("member-category")&&Ea.dataset.data}).map(function(Ea){return JSON.parse(Ea.dataset.data)}),
ia===na?[3,2]:[4,aa(ua,Aa)];case 1:wa.sent(),wa.label=2;case 2:return Ja={},Object.keys(A).forEach(function(Ea){Ea===ua.toLowerCase()?Ja[Aa.toLowerCase()]=A[Ea]:Ja[Ea]=A[Ea]}),v(function(Ea){Ea=r.__spreadArray([],Ea);if(ia!==na){var ra=na.dataset.path;Ea=k.removeCategoryFromSrc(ra,ua,Ea);Oa=k.removeCategoryFromSrc(ra,ua,Oa)}Ea=k.reorderCategories(Aa,Oa,Ea);return Ea=k.updateMemberCount(Ea,Ja)}),[2]}})})},ma=function(fa,ia,na){z["default"].postToLiveRegion(k.getNodePositionText(fa,e["default"].reorder["new"]));
ka(fa,ia,na)},sa=function(fa,ia){var na=!fa.sorting;na&&z["default"].postToLiveRegion(e["default"].reorder.started+" "+k.getNodePositionText(ia,e["default"].reorder.current));v(function(qa){return k.clearEditOrAddProperties(k.toggleSorting(fa.path,na,qa))})},za=function(){return[].slice.call(L.current.querySelectorAll(".member-categories-list"))};t.useEffect(function(){if(L.current&&!C){var fa=q["default"](za(),{moves:function(ia,na,qa){return qa.classList.contains("category-edit-item__drag-handle")||
qa.classList.contains("category-edit-item__drag-icon")},accepts:function(ia,na,qa,ua){ua=k.getCategoryLevel(na.dataset.path);var ya=k.getDraggedLevel(ia);return!(qa!==na&&k.isDuplicateTitle(na,ia))&&!(qa!==na&&3<ua+ya)&&!ia.contains(na)&&!na.classList.contains("member-category__sub-placeholder")&&!na.classList.contains("member-categories-list--deepest")}});fa.on("drop",ka);G(fa)}},[L]);t.useEffect(function(){J.current&&J.current.setFocus("close-button")},[J]);var ha=function(fa){return r.__awaiter(c,
void 0,void 0,function(){var ia,na,qa;return r.__generator(this,function(ua){switch(ua.label){case 0:return(ia=!(null===(na=fa[0].categories)||void 0===na?0:na.length))?[4,y.deleteMemberCategoriesSchema()]:[3,2];case 1:return ua.sent(),[3,4];case 2:return null===p||void 0===p?void 0:p.logEvent({category:"member category",action:"config schema",count:null===(qa=fa[0].categories)||void 0===qa?void 0:qa.length,size:k.getCategoryCount(fa)}),[4,y.saveMemberCategories(fa)];case 3:ua.sent(),ua.label=4;case 4:return d["default"].publish("member-categories-and-count/update",
{categories:ia?[]:fa}),u["default"].showAlert("success",D.saveSuccess),ia&&(d["default"].publish("member-categories/delete-all"),v([{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}])),[2]}})})};t.useEffect(function(){C&&G(function(na){na.containers=za();return na});var fa=k.removeExtraProperties(k.removeEmptyCategories(F)),ia=JSON.stringify(fa);H!==ia&&(K(ia),ha(fa))},[F]);t.useEffect(function(){v(function(fa){return k.updateMemberCount(fa,
A)})},[A]);var V=function(fa,ia,na){return!fa.trim().length||!!la(fa,ia)||fa.trim()===na},la=function(fa,ia){if(200<k.getCategoryCount(F))return D.errors.tooMany;var na=a(fa);if(0<na.length)return na=na.join(" "),D.errors.charsNotAllowed.replace("${chars}",na);if(k.getSiblings(ia,F).some(function(qa){return qa.title===fa.trim()}))return D.errors.alreadyExists.replace("${name}",fa)},T=function(fa,ia,na){return na.map(function(qa){var ua;if(ia===qa.path)return r.__assign(r.__assign({},qa),{errorMessage:la(fa,
ia),saveDisabled:V(fa,ia,qa.title)});if(null===(ua=qa.categories)||void 0===ua?0:ua.length)qa.categories=T(fa,ia,qa.categories);return r.__assign({},qa)})},P=function(fa,ia){v(function(na){return r.__spreadArray([],T(fa,ia,na))})},I=function(fa,ia,na,qa,ua){void 0===qa&&(qa=0);void 0===ua&&(ua="Categories");var ya=k.getCategoryLevel(ia);return na.map(function(Aa){var Ba;if(ya===qa)return ia===Aa.path&&(Aa=r.__assign(r.__assign({},Aa),{categories:b(Aa.categories,Aa.path+"/",ua+"/"+fa+"/"),title:fa,
path:ua+"/"+fa,isEditing:!1})),r.__assign({},Aa);if(null===(Ba=Aa.categories)||void 0===Ba?0:Ba.length)Aa.categories=I(fa,ia,Aa.categories,qa+1,Aa.path);return r.__assign({},Aa)})},ba=function(fa,ia,na){return r.__awaiter(c,void 0,void 0,function(){var qa;return r.__generator(this,function(ua){switch(ua.label){case 0:if(!na)return[3,2];qa=k.getParentPath(ia);return[4,aa(ia,qa+"/"+fa)];case 1:ua.sent(),ua.label=2;case 2:return v(function(ya){ya=r.__spreadArray([],ya);ya=na?k.updateFinishEditing(ia,
!0,ya):k.updateFinishAdding(k.getParentPath(ia),!0,ya);ya=I(fa,ia,ya);ya[0].finishAdding&&window.setTimeout(function(){R.current.focus()},100);return ya}),O(!1),[2]}})})},W=1===F[0].categories.length&&!F[0].categories[0].title,ca=function(fa){O(!1);W||(fa.title?v(function(ia){return k.updateFinishEditing(fa.path,!0,k.updateIsEditing(fa.path,!1,k.removeEmptyCategories(ia)))}):v(function(ia){ia=k.updateFinishAdding(k.getParentPath(fa.path),!0,k.removeEmptyCategories(ia));ia[0].finishAdding&&R.current.focus();
return ia}))},Q=function(fa){O(!0);v(function(ia){return k.clearEditOrAddProperties(k.updateIsEditing(fa.path,!0,k.removeEmptyCategories(ia)))})},N=function(fa){W||(O(!0),v(function(ia){ia=k.removeEmptyCategories(ia);ia=k.addCategory(fa,ia);ia=k.clearEditOrAddProperties(ia);return r.__spreadArray([],ia)}))},S=function(fa){return r.__awaiter(c,void 0,void 0,function(){var ia,na;return r.__generator(this,function(qa){switch(qa.label){case 0:return W?[2]:[4,y.searchUsersWithCategory(fa.path)];case 1:return ia=
qa.sent(),na=k.removeCategoriesFromMembers(ia,fa.path),[4,X(na)];case 2:return qa.sent(),v(function(ua){ua=k.updateFinishAdding(k.getParentPath(fa.path),!0,k.removeCategory(fa.path,ua));ua[0].finishAdding&&R.current.focus();return ua}),[2]}})})},Y=function(fa){v(function(ia){return k.toggleCollapsed(fa,ia)})},Z=1===F[0].categories.length,da=Z&&!F[0].categories[0].title;return x.h(x.Fragment,null,n&&l.createPortal(x.h("calcite-modal",{role:"dialog","aria-modal":"true",scale:"l",width:1460,noPadding:!0,
active:n,backgroundColor:"grey",oncalciteModalClose:w,"aria-labelledby":"member-categories-modal-title",ref:J,intlClose:D.close,disableOutsideClose:!0},x.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-categories-modal-title"},D.configureTitle),x.h("div",{slot:"content",ref:L},x.h("div",{"class":"member-categories__edit-mask "+(h?"":"hide")}),x.h("div",{"class":"column-14 post-1 leader-1 trailer-1 member-categories__content"},x.h("div",{"class":"category-editor-group category-editor-group--spaced member-categories__root-container",
role:"application"},x.h("ul",{id:"root-member-category-list",role:"group","class":"member-categories-list","data-path":"/Categories"},F[0].categories.map(function(fa,ia){return x.h(f["default"],{key:fa.path+"-"+ia,data:fa,isParent:!0,isEditing:Z||!fa.title,noCategoryYet:da,onChange:P,onSave:ba,onEdit:Q,onCancel:ca,onDelete:S,onAddSubCategory:N,onCollapsedToggle:Y,onPositionChange:ma,onSortingToggle:sa})}),x.h(g["default"],{buttonRef:R,level:1,onClick:function(){return N("/Categories")},disabled:Z&&
!F[0].categories[0].title})))),x.h("div",{"class":"column-8 leader-1 padding-leader-half margin-right-1"},x.h("p",{"class":"font-size--1"},D.editDescription)))),document.body))}})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryNode":function(){define("require exports tslib preact preact/hooks ./AddCategoryButton ../helpers ./CategoryConfirm arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline dojo/string".split(" "),function(U,M,r,x,t,l,f,g,k,
y,u){Object.defineProperty(M,"__esModule",{value:!0});l=r.__importDefault(l);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);var E=function(z){var q,m,e=z.data,d=z.isParent,a=z.noCategoryYet,b=z.onEdit,c=z.onCancel,h=z.onChange,n=z.onSave,p=z.onDelete,w=z.onAddSubCategory,B=z.onCollapsedToggle,A=z.onPositionChange,D=z.onSortingToggle;z=r.__assign(r.__assign(r.__assign(r.__assign({},y["default"].common),y["default"].orgHomePageSetup.content),y["default"].contentCategories),
y["default"].memberCategories.modal);var F="category-editor-"+k["default"].hyphenate(e.title)+"-input",v=t.useState(e.title),C=v[0],G=v[1];v=t.useState(!1);var H=v[0],K=v[1];v=t.useState(!1);var O=v[0],L=v[1],J=t.useRef(null),R=t.useRef(null),X=t.useRef(null),aa=t.useRef(null),ea=t.useRef(null),ka=t.useRef(null);t.useEffect(function(){e.sorting&&X.current&&X.current.focus()},[X,e.sorting]);t.useEffect(function(){if(e.isEditing){var P=R.current;P.focus();P.select();P.scrollIntoView({block:"center"})}},
[e.isEditing]);t.useEffect(function(){aa.current&&e.finishAdding&&setTimeout(function(){aa.current.focus()},100)},[aa,e.finishAdding]);t.useEffect(function(){ea.current&&e.finishEditing&&ea.current.focus()},[ea,e.finishEditing]);var ma=function(){var P=C.trim();e.title!==P&&0<e.memberCount?L(!0):n(P,e.path,0<e.title.length)};v=e.isEditing&&!O?"is-editing":"";var sa=function(){K(!1);ka.current.focus()},za=function(){K(!1);p(e)},ha=e.memberCount?1===e.memberCount?z.inUseDeleteSingle:z.inUseDeletePlural.replace("${number}",
""+e.memberCount):"",V;H&&e.memberCount&&(V=x.h(g["default"],{message:ha,confirmText:z.deleteCategory,isRed:!0,onCancel:sa,onConfirm:za}));H=e.memberCount?1===e.memberCount?u["default"].substitute(z.inUseEditSingle,{category:e.title,newCategory:C}):u["default"].substitute(z.inUseEditPlural,{number:e.memberCount,category:e.title,newCategory:C}):"";var la=function(P){return!!P&&!P.classList.contains("member-category-node__placeholder")&&!P.classList.contains("member-category__add-sibling")};O&&e.memberCount&&
(V=x.h(g["default"],{message:H,confirmText:z["continue"],onConfirm:function(){L(!1);n(C,e.path,0<e.title.length)},onCancel:function(){L(!1);c(e)}}));H={__html:e.errorMessage};sa=(sa="rtl"===document.documentElement.dir)&&e.collapsed?"chevron-left":!sa&&e.collapsed?"chevron-right":"chevron-down";za=f.getCategoryLevel(e.path);ha=3<=za;var T=0<(null===(q=e.categories)||void 0===q?void 0:q.length)||3>f.getCategoryLevel(e.path);q=""+(O?C:e.title)+(e.memberCount?" ("+e.memberCount+")":"");O="rtl"===document.documentElement.dir;
return x.h("li",{ref:J,"class":"member-category "+(e.collapsed?"":"is-open")+" "+(d?"is-parent":"")+" "+(e.hidden?"hide":"")+" "+v+" member-category--level-"+za+" js-member-category-node",role:"treeitem","data-title":e.title,"data-path":e.path,"data-data":JSON.stringify(e)},x.h("span",{"class":"member-category-edit-item"},x.h("div",{"class":"flex flex-align-center member-category-edit-item__info "+(e.sorting?"member-category-edit-item__info--sorting":"")},x.h("div",{ref:X,"class":"category-edit-item__drag-handle flex-center tooltip tooltip-bottom-"+
(O?"right":"left"),tabIndex:0,onKeyDown:function(P){var I=J.current;if(" "===P.key||"Enter"===P.key){var ba=!0;D(e,J.current)}else if("ArrowDown"===P.key&&e.sorting)la(I.nextElementSibling)&&(ba=!0,I.nextElementSibling.insertAdjacentElement("afterend",I),I=I.parentElement,A(J.current,I,I));else if("ArrowUp"===P.key&&e.sorting)la(I.previousElementSibling)&&(ba=!0,I.parentElement.insertBefore(I,I.previousElementSibling),I=I.parentElement,A(J.current,I,I));else if("ArrowRight"===P.key&&e.sorting){var W=
I.previousElementSibling,ca=I.parentElement;if(la(W)){W=W.querySelector(".member-categories-list");var Q=f.getCategoryLevel(W.dataset.path),N=f.getDraggedLevel(I);3>=Q+N&&la(W)&&!f.isDuplicateTitle(W,I)&&!W.classList.contains("member-categories-list--deepest")&&(ba=!0,W.appendChild(I),A(J.current,W,ca))}}else"ArrowLeft"===P.key&&e.sorting&&(ca=I.parentElement,W=ca.closest("li.member-category"),Q=null===W||void 0===W?void 0:W.parentElement,la(W)&&la(Q)&&!f.isDuplicateTitle(Q,I)&&"root-member-category-list"!==
W.id&&(W.insertAdjacentElement("afterend",I),ba=!0,A(J.current,Q,ca)));ba&&P.preventDefault()},onBlur:function(){e.sorting&&D(e,J.current)},"aria-label":z.reorder},x.h("calcite-icon",{"class":"category-edit-item__drag-icon",icon:"drag",scale:"s"})),x.h("button",{"class":"btn-link btn-link-darker-gray member-category__toggle-btn tooltip "+(ha?"hide":""),onClick:function(){d&&B(e.path)},"aria-label":""+(e.collapsed?z.expand:z.collapse)},x.h("calcite-icon",{icon:sa,scale:"s"})),x.h("div",{"class":"member-category-edit-item__title"},
q),x.h("div",{"class":"flex-1"}),x.h("button",{"class":"tooltip category-edit-item--action member-category-edit-item__edit-btn margin-right-1","aria-label":z.editCategory,onClick:function(){G(e.title);b(e)},ref:ea},x.h("calcite-icon",{icon:"pencil",scale:"s"})),x.h("button",{ref:ka,"class":"tooltip category-edit-item--action member-category-edit-item__delete-btn margin-right-1","aria-label":z.deleteCategory,onClick:function(){0<e.memberCount?K(!0):p(e)}},x.h("calcite-icon",{icon:"trash",scale:"s"}))),
x.h("form",{"class":"member-category-edit-item__form member-category__form flex",onSubmit:function(P){return P.preventDefault()}},x.h("label",{"class":"flex-1 overflow-visible trailer-0","for":F},x.h("span",{"class":"screen-readers-only"},z.categoryName),x.h("input",{id:F,ref:R,type:"text",value:C,"class":"category-edit-form__input member-category__form-input "+(e.errorMessage?"input-error":""),onInput:function(P){P=P.target.value;h(P,e.path);G(P)},onKeyDown:function(P){"Enter"!==P.key||e.saveDisabled||
(P.preventDefault(),ma())},autoComplete:"off",maxLength:100}),x.h("div",{"class":"input-error-message "+(e.errorMessage?"is-active":""),dangerouslySetInnerHTML:H})),x.h("span",{"class":"member-category-edit-item__form-actions"},x.h("button",{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action category-edit-form__action--green",type:"button","aria-label":z.save,onClick:ma,disabled:e.saveDisabled},x.h("calcite-icon",{icon:"check"})),x.h("button",
{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action",onClick:function(){a?R.current.focus():(c(e),ea.current.focus())},"aria-label":z.cancel,type:"button",disabled:a},x.h("calcite-icon",{icon:"x"}))))),V,x.h("div",{"class":"category-editor-group category-editor-group--spaced member-category__spacer "+(e.collapsed?"hide":"")},x.h("ul",{id:"member-category-sub-list-"+e.path,role:"group","class":"member-categories-list "+(ha?"member-categories-list--deepest":
""),"data-path":""+e.path},T&&(null===(m=e.categories)||void 0===m?void 0:m.map(function(P,I){var ba=f.getCategoryLevel(e.path);return x.h(E,{key:P.path+"-"+I,data:P,isParent:3>ba,isEditing:!P.title,noCategoryYet:a,onChange:h,onSave:n,onEdit:b,onCancel:c,onDelete:p,onAddSubCategory:w,onCollapsedToggle:B,onPositionChange:A,onSortingToggle:D})})),x.h("li",{"class":"member-category member-category-node__placeholder "+(ha?"member-category-node__placeholder--deepest":"")},x.h("ul",{role:"group","class":"category-editor-group category-editor-group--spaced member-category__sub-placeholder "+
(ha||!e.title?"member-category__sub-placeholder--deepest":"")}))),e.title&&2>=f.getCategoryLevel(e.path)&&x.h(l["default"],{buttonRef:aa,onClick:function(){return w(e.path)}})),e.collapsed&&x.h("div",{"class":"collapsed-member-category__placeholder"}))};M["default"]=E})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/AddCategoryButton":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(U,M,r,x,t){Object.defineProperty(M,
"__esModule",{value:!0});t=r.__importDefault(t);M["default"]=function(l){var f=l.level,g=l.onClick;return x.h("button",{ref:l.buttonRef,"class":"member-category__add-sibling tooltip tooltip-right","aria-label":t["default"].contentCategories.addCat,onClick:function(){return g(f)},disabled:l.disabled},x.h("calcite-icon",{icon:"plus-circle"}))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require","exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],
function(U,M,r,x,t){function l(J){J=J.filter(function(R){return R.title}).map(function(R){return r.__assign({},R)});J.forEach(function(R){var X;if(null===(X=R.categories)||void 0===X?0:X.length)R.categories=l(R.categories)});return J}function f(J,R,X){return X.map(function(aa){var ea;return aa.path===J?r.__assign(r.__assign({},aa),{finishAdding:R}):(null===(ea=aa.categories)||void 0===ea?0:ea.length)?r.__assign(r.__assign({},aa),{finishAdding:!1,categories:f(J,R,aa.categories)}):r.__assign(r.__assign({},
aa),{finishAdding:!1})})}function g(J,R,X){return X.map(function(aa){var ea;return aa.path===J?r.__assign(r.__assign({},aa),{finishEditing:R,errorMessage:""}):(null===(ea=aa.categories)||void 0===ea?0:ea.length)?r.__assign(r.__assign({},aa),{finishEditing:!1,errorMessage:"",categories:g(J,R,aa.categories)}):r.__assign(r.__assign({},aa),{finishEditing:!1,errorMessage:""})})}function k(J){return J.map(function(R){var X;R=r.__assign(r.__assign({},R),{finishAdding:!1,finishEditing:!1});if(null===(X=R.categories)||
void 0===X?0:X.length)R=r.__assign(r.__assign({},R),{categories:k(R.categories)});return R})}function y(J,R,X,aa){void 0===aa&&(aa=!1);X=X.map(function(ea){var ka;if(ea.path&&ea.path===J&&!aa)return aa=!0,r.__assign(r.__assign({},ea),{isEditing:R,saveDisabled:!0});(null===(ka=ea.categories)||void 0===ka?0:ka.length)&&!aa&&(ea.categories=y(J,R,ea.categories,aa));return r.__assign({},ea)});return r.__spreadArray([],X)}function u(J,R,X){return X.map(function(aa){var ea=r.__spreadArray([],aa.categories||
[]);ea.length&&(ea=u(J,R,ea));return aa.path&&aa.path===J?r.__assign(r.__assign({},aa),{sorting:R,categories:ea}):r.__assign(r.__assign({},aa),{sorting:!1,categories:ea})})}function E(J){return J.categories.map(function(R){var X;if(null===(X=R.categories)||void 0===X?0:X.length)R.categories=E(R);return r.__assign(r.__assign({},R),{selected:!1,indeterminate:!1})})}function z(J){var R;return!(null===(R=J.categories)||void 0===R||!R.length)&&J.categories.some(function(X){var aa;return X.selected||X.indeterminate||
!(null===(aa=X.categories)||void 0===aa||!aa.length)&&z(X)})}function q(J,R){return R.map(function(X){var aa;X=r.__assign({},X);if(null===(aa=X.categories)||void 0===aa?0:aa.length)X.categories=q(J,X.categories);-1<J.indexOf(X.path)&&(X.indeterminate=z(X));return X})}function m(J,R,X,aa){void 0===X&&(X=!1);void 0===aa&&(aa=[]);var ea=!J.selected;return R.map(function(ka){var ma,sa;if(ka.path&&ka.path===J.path&&!X)return X=!0,!ea&&(null===(ma=ka.categories)||void 0===ma?0:ma.length)&&(ka.categories=
E(ka)),ea?r.__assign(r.__assign({},ka),{selected:ea,indeterminate:!1}):r.__assign(r.__assign({},ka),{selected:ea});(null===(sa=ka.categories)||void 0===sa?0:sa.length)&&!X&&(-1<J.path.indexOf(ka.path)&&ka.path!==M.rootTitle&&(ka=r.__assign(r.__assign({},ka),{selected:ea}),ea?ka.indeterminate=!1:aa.push(ka.path)),ka.categories=m(J,ka.categories,X,aa));return r.__assign({},ka)})}function e(J){return-1<J.indexOf(M.rootTitle)?J:""+M.rootTitle+J}function d(J,R){void 0===R&&(R=[]);J.forEach(function(X){var aa;
if(X.selected||X.indeterminate)null!==(aa=X.categories)&&void 0!==aa&&aa.some(function(ea){return ea.selected||ea.indeterminate})?d(X.categories,R):X.selected&&R.push(X.path)});return R}function a(J,R){void 0===R&&(R=[]);J.forEach(function(X){var aa;X.indeterminate&&R.push(X.path);(null===(aa=X.categories)||void 0===aa?0:aa.length)&&a(X.categories,R)});return R}function b(J,R){var X=x["default"].getSchemaOrder(R);return r.__spreadArray([],J).sort(function(aa,ea){return X[aa]-X[ea]})}function c(J,
R){return R.map(function(X){var aa,ea=J.filter(function(ka){var ma;return null===(ma=ka.categories)||void 0===ma?void 0:ma.some(function(sa){var za;return e(sa)===X.path||(null===(za=X.categories)||void 0===za?void 0:za.length)&&-1<e(sa).indexOf(X.path)})});ea.length?ea.length===J.length?X=r.__assign(r.__assign({},X),{selected:!0,indeterminate:!1}):ea.length<J.length&&(X=r.__assign(r.__assign({},X),{selected:!1,indeterminate:!0})):X=r.__assign(r.__assign({},X),{selected:!1,indeterminate:!1});if(null===
(aa=X.categories)||void 0===aa?0:aa.length)X.categories=c(J,X.categories);return r.__assign({},X)})}function h(J){return J.map(function(R){var X,aa={title:R.title};if(null===(X=R.categories)||void 0===X?0:X.length)aa.categories=h(R.categories);return aa})}function n(J,R){void 0===R&&(R="");return J.map(function(X){var aa,ea=(R?R+"/":"/")+X.title;return{title:X.title,path:ea,categories:(null===(aa=X.categories)||void 0===aa?0:aa.length)?n(X.categories,ea):[]}})}function p(J,R){return R?J.map(function(X){var aa,
ea=r.__assign({},X);X=X.path.toLowerCase();ea.memberCount=R[X]||0;if(null===(aa=ea.categories)||void 0===aa?0:aa.length)ea.categories=p(ea.categories,R);return ea}):J}function w(J,R){void 0===R&&(R=1);var X=J.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node");return X?(R++,w(X,R)):R}function B(J,R){return R.map(function(X){if(X.path===J){var aa={title:"",categories:[],isEditing:!0,path:X.path+"/",saveDisabled:!0};return r.__assign(r.__assign({},
X),{categories:r.__spreadArray(r.__spreadArray([],X.categories),[aa])})}return-1<J.indexOf(X.path)&&(null===(aa=X.categories)||void 0===aa?0:aa.length)?r.__assign(r.__assign({},X),{categories:B(J,X.categories)}):r.__assign({},X)})}function A(J,R){return R.map(function(X){var aa;if(J===X.path)return r.__assign(r.__assign({},X),{collapsed:!X.collapsed});if(null===(aa=X.categories)||void 0===aa?0:aa.length)X.categories=A(J,X.categories);return r.__assign({},X)})}function D(J,R){var X=J.substring(0,J.lastIndexOf("/")),
aa=[];R.some(function(ea){if(ea.path===X)return aa=ea.categories.filter(function(ka){return ka.path!==J}),!0;if(-1<J.indexOf(ea.path+"/"))return aa=D(J,ea.categories),!0});return aa}function F(J){return J.substring(0,J.lastIndexOf("/"))}function v(J,R,X){return X.map(function(aa){var ea;aa.path===J?aa.categories=aa.categories.filter(function(ka){return ka.path!==R}):-1<R.indexOf(aa.path)&&(null===(ea=aa.categories)||void 0===ea?0:ea.length)&&(aa.categories=v(J,R,aa.categories));return r.__assign({},
aa)})}function C(J,R,X){var aa=J.substring(0,J.lastIndexOf("/"));return X.map(function(ea){var ka;ea.path===aa?ea.categories=R:-1<J.indexOf(aa)&&(null===(ka=ea.categories)||void 0===ka?0:ka.length)&&(ea.categories=C(J,R,ea.categories));return r.__assign({},ea)})}function G(J,R){var X=F(J);R.some(function(aa){if(aa.path===X)return aa.categories=aa.categories.filter(function(ea){return ea.path!==J}),!0;if(-1<J.indexOf(aa.path+"/"))return aa.categories=G(J,aa.categories),!0});return r.__spreadArray([],
R)}function H(J,R){return R.map(function(X){var aa;if(null===(aa=X.categories)||void 0===aa?0:aa.length)X.categories=H(J,X.categories);return r.__assign(r.__assign({},X),{searchTerm:J,hidden:!O(J,X)})})}function K(J,R){return R.map(function(X){return r.__assign(r.__assign({},X),{categories:r.__spreadArray([],X.categories||[])})}).filter(function(X){var aa,ea,ka=-1<X.path.search(new RegExp(J,"i"));if(null===(aa=X.categories)||void 0===aa?0:aa.length)X.categories=K(J,X.categories);return ka||0<(null===
(ea=X.categories)||void 0===ea?void 0:ea.length)})}function O(J,R){var X;return-1<R.title.search(new RegExp(J,"i"))||!J?!0:(null===(X=R.categories)||void 0===X?0:X.length)?R.categories.some(function(aa){return O(J,aa)}):!1}function L(J,R){void 0===R&&(R=0);J.forEach(function(X){var aa;"/Categories"!==X.path&&R++;if(null===(aa=X.categories)||void 0===aa?0:aa.length)R=L(X.categories,R)});return R}Object.defineProperty(M,"__esModule",{value:!0});M.getCategoryCount=M.matchSearchTerm=M.filterCategoriesBySearchTerm=
M.searchCategories=M.removeCategory=M.reorderCategories=M.removeCategoryFromSrc=M.getParentPath=M.getSiblings=M.toggleCollapsed=M.removeCategoriesFromMembers=M.updateCategorizedMembers=M.addCategory=M.getDraggedLevel=M.isDuplicateTitle=M.getCategoryLevel=M.updateMemberCount=M.convertToCategoryData=M.removeExtraProperties=M.updateSelectedFromMembers=M.updateMembersFromSelected=M.sortCategoryPaths=M.getPartialPath=M.getFullPath=M.toggleSelected=M.fixDeselectedParents=M.getNodePositionText=M.toggleSorting=
M.updateIsEditing=M.clearEditOrAddProperties=M.updateFinishEditing=M.updateFinishAdding=M.removeEmptyCategories=M.rootTitle=void 0;x=r.__importDefault(x);t=r.__importDefault(t);M.rootTitle="/Categories";M.removeEmptyCategories=l;M.updateFinishAdding=f;M.updateFinishEditing=g;M.clearEditOrAddProperties=k;M.updateIsEditing=y;M.toggleSorting=u;M.getNodePositionText=function(J,R){var X=Array.from(J.parentElement.children).filter(function(ea){return!ea.classList.contains("member-category-node__placeholder")&&
!ea.classList.contains("member-category__add-sibling")}),aa=X.length;X=X.findIndex(function(ea){return ea===J})+1;return t["default"].substitute(R,{n:X,total:aa})};M.fixDeselectedParents=q;M.toggleSelected=m;M.getFullPath=e;M.getPartialPath=function(J){return J.replace(new RegExp(M.rootTitle+"/"),"/")};M.sortCategoryPaths=b;M.updateMembersFromSelected=function(J,R){var X=d(R[0].categories),aa=a(R[0].categories);return J.map(function(ea){ea.categories||(ea.categories=[]);ea.categories=ea.categories.filter(function(ka){return-1<
X.indexOf(ka)||-1<aa.indexOf(ka)});X.forEach(function(ka){var ma=ea.categories.some(function(sa){return-1<sa.indexOf(ka)});-1!==ea.categories.indexOf(ka)||ma||ea.categories.push(ka)});return r.__assign(r.__assign({},ea),{categories:b(ea.categories,R)})})};M.updateSelectedFromMembers=c;M.removeExtraProperties=h;M.convertToCategoryData=n;M.updateMemberCount=p;M.getCategoryLevel=function(J){return J.match(/\//g).length-1};M.isDuplicateTitle=function(J,R){var X=R.dataset.title,aa=!1;J.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(ea){ea.dataset.title===
X&&(aa=!0)});return aa};M.getDraggedLevel=w;M.addCategory=B;M.updateCategorizedMembers=function(J,R,X){Object.keys(J).forEach(function(aa){var ea=[];J[aa].map(function(ka){return ka.replace(R,X)}).forEach(function(ka){if(!ea.find(function(sa){return-1<sa.indexOf(ka)})){var ma=ea.findIndex(function(sa){return-1<ka.indexOf(sa)});-1<ma?ea.splice(ma,1,ka):ea.push(ka)}});J[aa]=ea});return r.__assign({},J)};M.removeCategoriesFromMembers=function(J,R){Object.keys(J).forEach(function(X){J[X]=J[X].filter(function(aa){aa=
e(aa);return aa!==R&&-1===aa.indexOf(R)})});return r.__assign({},J)};M.toggleCollapsed=A;M.getSiblings=D;M.getParentPath=F;M.removeCategoryFromSrc=v;M.reorderCategories=C;M.removeCategory=G;M.searchCategories=H;M.filterCategoriesBySearchTerm=K;M.matchSearchTerm=O;M.getCategoryCount=L})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryConfirm":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f){Object.defineProperty(M,"__esModule",{value:!0});f=r.__importDefault(f);M["default"]=function(g){var k=g.message,y=g.confirmText,u=g.isRed,E=g.onConfirm,z=g.onCancel;g=r.__assign(r.__assign({},f["default"].common),f["default"].contentCategories);var q=t.useRef(null);t.useEffect(function(){q.current&&q.current.setFocus()},[q]);return x.h(x.Fragment,null,l.createPortal(x.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"member-category-confirm",active:!0,
intlClose:g.close,oncalciteModalClose:function(){return z()}},x.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-category-confirm"},g.categoryInUse),x.h("div",{slot:"content"},x.h("p",{"class":"font-size--1 trailer-half"},k)),x.h("calcite-button",{slot:"secondary",width:"full",appearance:"outline",color:"blue",onClick:function(){return z()}},g.cancel),x.h("calcite-button",{ref:q,slot:"primary",width:"full",color:u?"red":"blue",appearance:"solid",onClick:function(){return E()}},y)),
document.body))}})},"arcgisonline/pages/components/MemberCategories/api":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/pageUtil".split(" "),function(U,M,r,x,t,l){Object.defineProperty(M,"__esModule",{value:!0});M.getMemberCategoriesCount=M.saveCategorizedMembers=M.searchUsersWithCategory=M.deleteMemberCategoriesSchema=M.getMemberCategories=M.saveMemberCategories=void 0;x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);
var f=x["default"].restBaseUrl+"portals/self";M.saveMemberCategories=function(g){return r.__awaiter(this,void 0,void 0,function(){var k;return r.__generator(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),k={memberCategorySchema:g},[4,t["default"].request({url:f+"/assignMemberCategorySchema",content:{memberCategorySchema:JSON.stringify(k)}},{usePost:!0})];case 1:return y.sent(),[2,!0];case 2:return y.sent(),[2,!1];case 3:return[2]}})})};M.getMemberCategories=function(){return r.__awaiter(this,
void 0,void 0,function(){var g;return r.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,t["default"].request({url:f+"/memberCategorySchema"})];case 1:return g=k.sent(),[2,(null===g||void 0===g?void 0:g.memberCategorySchema)||[]];case 2:return k.sent(),[2,[]];case 3:return[2]}})})};M.deleteMemberCategoriesSchema=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,
t["default"].request({url:x["default"].restBaseUrl+"portals/self/deleteMemberCategorySchema"},{usePost:!0})];case 1:return g.sent(),[2,!0];case 2:return g.sent(),[2,!1];case 3:return[2]}})})};M.searchUsersWithCategory=function(g){return r.__awaiter(this,void 0,void 0,function(){var k,y;return r.__generator(this,function(u){switch(u.label){case 0:k={},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,l["default"].fetchAllResources(f+"/users/search",{categories:g})];case 2:return y=u.sent(),(null===
y||void 0===y?0:y.length)&&y.forEach(function(E){k[E.username]=E.categories}),[3,4];case 3:return u.sent(),[3,4];case 4:return[2,k]}})})};M.saveCategorizedMembers=function(g){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,Promise.all(Object.keys(g).map(function(y){return t["default"].request({url:x["default"].restBaseUrl+"community/users/"+y+"/update",content:{categories:JSON.stringify(g[y])}},{usePost:!0})}))];
case 1:return k.sent(),[2,!0];case 2:return k.sent(),[2,!1];case 3:return[2]}})})};M.getMemberCategoriesCount=function(g){var k,y;return r.__awaiter(this,void 0,void 0,function(){var u,E;return r.__generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),[4,t["default"].request({url:f+"/users/search",content:{q:"orgid:"+g.id,countFields:"categories",countSize:200,num:0}})];case 1:return u=z.sent(),E=(null===(y=null===(k=null===u||void 0===u?void 0:u.aggregations)||void 0===k?
void 0:k.counts[0])||void 0===y?void 0:y.fieldValues)||[],[2,E.reduce(function(q,m){"/categories"!==m.value&&(q[m.value]=m.count);return q},{})];case 2:return z.sent(),[3,3];case 3:return[2]}})})}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.timeout=void 0;M.timeout=function(r){return new Promise(function(x){return setTimeout(x,r)})}})},"arcgisonline/pages/dijit/FilterCollaboration":function(){define("require exports tslib ../../esriGeowConfig ../utils/arrays ../utils/icons ./FilterSingle ../../sharing/util ../../tsutils/declareDecorator dojo/text!./FilterSingleWithSearch/templates/FilterSingleWithSearch.html dojo/text!./FilterCollaboration/templates/FilterOption.html dojo/text!./FilterCollaboration/templates/FilterEmpty.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang dojo/string dojo/dom-class dojo/_base/event dojo/query dojo/topic dojo/Deferred".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);return function(){function h(n,p){this.templateString=y["default"];
this.liTemplate=u["default"];this.i18n=z["default"];this.icons=l["default"];this.cssClasses=this.searchText="";this.excludedOrgTypes=["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"];this._endPoint=x["default"].restBaseUrl+"portals/self/collaborationsSummary";this._endPointIds=x["default"].restBaseUrl+"portals/self/collaboratedItems";this._state=q["default"].clone(n);this.collabsLoaded=new c["default"]}h.prototype.postCreate=function(){var n=this,p;if(this.failure=!x["default"].collaborationsEnabled||
!x["default"].userRole||!x["default"].userInfo.isOrgAdmin&&!x["default"].userRole.canManageCollaborations()||x["default"].self&&!x["default"].self.isPortal&&(null===(p=x["default"].self.subscriptionInfo)||void 0===p?void 0:p.type)&&-1<this.excludedOrgTypes.indexOf(x["default"].self.subscriptionInfo.type))a["default"](this.domNode).closest(".accordion-section").addClass("hide");else{var w=arguments;this._fetchCollabs().then(function(B){B&&(n._state.options=B,n.collabsLoaded.resolve());n.inherited(w)});
this.domNode.classList.add("filter-dist-collab")}};h.prototype._updateUI=function(){this.inherited(arguments);0===t["default"].toArray(this._state.options).length&&(this.domNode.innerHTML=m["default"].substitute(E["default"],{noOptionsMessage:z["default"].filters.noCollaborations}))};h.prototype._renderList=function(n,p,w,B){this.inherited(arguments);var A=this.liTemplate;p.label=p.label.replace(/"/g,"\x26quot;");var D=p.active?"is-active":"",F=this.options;D=r.__assign(r.__assign({},q["default"].clone(p)),
{param:F,selected:D});A=m["default"].substitute(A,D);return n+A};h.prototype._clickHandler=function(n){var p=this;d["default"].stop(n);var w=n.target.getAttribute("data-value"),B=n.target.getAttribute("data-parent"),A=n.target.parentNode;e["default"].contains(A,"is-active")?b["default"].publish("filter/remove",{param:this._state.param,value:n.target.getAttribute("data-value")}):(t["default"].toArray(this._state.options).forEach(function(D){return D.active=D.value===w&&D.childOf===B}),a["default"](".js-filter-item",
this.domNode).removeClass("is-active"),a["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),e["default"].add(A,"is-active"),A.setAttribute("aria-current",!0),this._setSelected(),this._updateItems().then(function(){b["default"].publish("filter/update",p._state)}))};h.prototype.select=function(n){var p=this;this.inherited(arguments);this.collabsLoaded.then(function(){p._state.options[n]&&(p._clear(),p._state.options[n].active=!0,a["default"](".js-filter-item[data-value\x3d'"+n+"']",
p.domNode).addClass("is-active"),a["default"](".js-filter-item[data-value\x3d'"+n+"']",p.domNode).attr("aria-current","true"),p._setSelected(),p._updateItems().then(function(){b["default"].publish("filter/update",p._state)}))})};h.prototype._updateItems=function(){var n=this,p,w=Object.keys(this._state.options).map(function(A){return n._state.options[A]}).filter(function(A){return A.active}),B=(null===(p=null===w||void 0===w?void 0:w[0])||void 0===p?0:p.value)?w[0].value:"";return this._fetchCollabIds(B).then(function(A){A=
A.collaboratedItems.map(function(D){return Object.keys(D)[0]});return n._state.options[B].items=A},function(A){})};h.prototype._fetchCollabs=function(){var n=this,p=this;return g["default"].request({url:this._endPoint,content:{includeParticipantInfo:!0,f:"json"}}).then(function(w){var B;return 0<(null===(B=w.collaborations)||void 0===B?void 0:B.length)?(w=w.collaborations,w.sort(function(A,D){var F=A.collaborationName.toLowerCase(),v=D.collaborationName.toLowerCase();return F<v?-1:F>v?1:0}),w.forEach(function(A){var D,
F=A.collaborationId,v=A.collaborationName.trim();n.options[F]=n.options[F]||{value:F,label:v,addClass:"",childOf:""};0<(null===(D=A.participants)||void 0===D?void 0:D.length)&&(n.options[F].participants=A.participants,A.participants.forEach(function(C){Object.keys(C).map(function(G){var H=C[G].trim();G=F+"__"+G;p.options[G]=p.options[G]||{value:G,label:H,childOf:F,addClass:"filter-tree-item-child"}})}))}),n.options):!1},function(w){})};h.prototype._fetchCollabIds=function(n){n=n.split("__");return g["default"].request({url:this._endPointIds,
content:n[0]&&n[1]?{collaborationId:n[0]?n[0]:"",participantId:n[1]?n[1]:"",f:"pjson"}:n[0]?{collaborationId:n[0]?n[0]:"",f:"pjson"}:""})};return h=r.__decorate([k["default"](f["default"])],h)}()})},"arcgisonline/pages/dijit/ToggleSwitch":function(){define("require exports tslib dojo/text!./ToggleSwitch/templates/ToggleSwitch.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../utils/dom ../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);return function(){function E(z,q){this.templateString=x["default"];this.i18n=t["default"];this.label="";this.labelPosition="right";this.labelClasses="";this.direction="left";this.isChecked=!1;this.tooltipLabel=this.tooltipClass="";this.disabled=!1;this.hasTooltip=""}E.prototype.postMixInProperties=
function(){this.inherited(arguments);"left"===this.labelPosition&&(this.direction="right");this.uid=k["default"]();this.tooltip&&(this.hasTooltip="toggle-switch--tooltip",this.tooltipClass=this.tooltipClass||"tooltip tooltip-multiline")};E.prototype.postCreate=function(){var z=this;this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.label||y["default"].hideNode(this._label);this.tooltip&&this._label.setAttribute("aria-label",this.tooltip);
this._checkbox.addEventListener("change",function(q){z.emit("change",z._checkbox.checked)});this._checkbox.addEventListener("keyup",function(q){13===q.keyCode&&(q.stopPropagation(),z._checkbox.checked=!z._checkbox.checked,z.emit("change",z._checkbox.checked))});this.trackId&&(this.toggleTrack.id=this.trackId)};E.prototype.hide=function(){y["default"].hideNode(this.domNode)};E.prototype.show=function(){y["default"].showNode(this.domNode)};E.prototype.checked=function(){return this._checkbox.checked};
E.prototype.setChecked=function(z,q){this._checkbox.checked=z;q||this.emit("change",this._checkbox.checked)};E.prototype.enable=function(){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("toggle-switch--disabled");this.disabled=!1};E.prototype.disable=function(){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("toggle-switch--disabled");this.disabled=!0};E.prototype.focus=function(){this._checkbox.focus()};E.prototype.check=function(){this.setChecked(!0,
!0)};E.prototype.uncheck=function(){this.setChecked(!1,!0)};E.prototype.showSwitch=function(){y["default"].showNode(this.toggleTrack);y["default"].showNode(this._checkbox)};E.prototype.hideSwitch=function(){y["default"].hideNode(this.toggleTrack);y["default"].hideNode(this._checkbox)};E.prototype.showLoader=function(){this.loader.active=!0;y["default"].showNode(this.loaderContainer);this.hideSwitch()};E.prototype.hideLoader=function(){this.loader.active=!1;y["default"].hideNode(this.loaderContainer);
this.showSwitch()};return E=r.__decorate([u["default"](g["default"],f["default"],l["default"])],E)}()})},"arcgisonline/pages/dijit/View":function(){define("require exports tslib preact esri/Evented dojo/string dojo/on dojo/query dojo/topic dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin ./Card ./CardMobile ./CardWide ./TableRow ../pageUtil ../utils/arrays ../utils/icons dojo/text!./View/templates/tableHeader.html dojo/text!./View/templates/empty.html dojo/text!./View/templates/none.html dojo/text!./View/templates/loader.html dojo/text!./View/templates/View.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dropdown ../components/SearchFeedback ../utils/search".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v){t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);return function(){function C(G,H){this.templateString=w["default"];this.i18n=B["default"];this.select=!0;this.listTemplate=null;this.tableHead=c["default"];this.emptyView=h["default"];this.noneView=n["default"];this.loaderView=p["default"];this.listView=m["default"];this.mobileView=q["default"];this.tableRowView=e["default"];this.showSource=this.fullItemTypes=!1;this.location=B["default"].contentPage.searchingFor;this.sortOptions=
[];this.showShareGroups=this.allowShare=this.hasSharedOwnershipGroups=!1;this.searchTerm="";this._shiftPressed=this._hasFilters=this.showFeedback=this.allowDragAndDrop=this.recordSelection=this.recordSortToggle=!1;this._lastSelected=null;this._items=[];this._selected=[];this._dijits=[];this._itemViews={};this.feedbackSearchTerm=""}C.prototype.postCreate=function(){this.inherited(arguments);this._view=this.activeView;var G={i18n:B["default"],location:this.location,searchTerm:""};this.domNode.querySelector(".js-empty-wrap").innerHTML=
l["default"].substitute(this.emptyView,{i18n:B["default"]});this.domNode.querySelector(".js-none-wrap").innerHTML=l["default"].substitute(this.noneView,{i18n:B["default"]});this.domNode.querySelector(".js-loader-wrap").innerHTML=l["default"].substitute(this.loaderView,G);this.domNode.querySelector(".js-table-header").innerHTML=l["default"].substitute(this.tableHead,{i18n:B["default"],icons:b["default"],selectClass:this.select?"":"hide"});0<this.sortOptions.length&&(G=a["default"].find(this.sortOptions,
function(H){return H.active}))&&this._sortUpdate(G);this._itemViews=this.declareItemViews();this._addEventListeners()};C.prototype.destroy=function(){this.inherited(arguments);this._dijits.forEach(function(G){return G.destroy()})};C.prototype.setEmptyView=function(G){this.emptyView=G;this.domNode.querySelector(".js-empty-wrap").innerHTML=l["default"].substitute(this.emptyView,{i18n:B["default"]})};C.prototype.declareItemViews=function(){return{grid:{template:z["default"],containerClass:".js-grid-wrap"},
mobile:{template:this.mobileView,containerClass:".js-mobile-wrap"},list:{template:this.listView,containerClass:".js-list-wrap"},table:{template:this.tableRowView,containerClass:".js-table-rows"}}};C.prototype.allowCategorization=function(){g["default"](this.domNode).addClass("allow-categorization")};C.prototype.preventCategorization=function(){g["default"](this.domNode).removeClass("allow-categorization")};C.prototype.updateSearchFeedback=function(G,H,K,O,L,J){var R=this;this.searchTerm=G;var X=this.domNode.querySelector(".js-search-feedback");
x.render(x.h(null,null),X);X.classList.add("hide");H&&this.showFeedback&&this.telemetry&&G&&G!==this.feedbackSearchTerm&&((null===L||void 0===L?0:L.eueiEnabled)||J&&!J.orgId)&&(X.classList.remove("hide"),x.render(x.h(F.SearchFeedback,{telemetry:this.telemetry,searchTerm:this.searchTerm,page:K,onlyOrg:O,section:"content",enriched:v.semanticSearchEnabled(this.portal,this.portalUser),onSubmit:function(){return R.feedbackSearchTerm=G}}),X))};C.prototype._addEventListeners=function(){var G=this;this.own(f["default"](window,
"keydown",function(H){return G._shiftPressed=H.shiftKey}),f["default"](window,"keyup",function(H){return G._shiftPressed=!1}),g["default"](".js-table-sort-header",this.domNode).on("click",this._sortHeader.bind(this)),f["default"](this.domNode.querySelector(".js-select-all"),"click",this._toggleAll.bind(this)),k["default"].subscribe("view/toggle",this._toggleView.bind(this)),k["default"].subscribe("view/update",this._updateView.bind(this)),k["default"].subscribe("view/deselect",this._deselectItem.bind(this)),
k["default"].subscribe("view/deselectAll",this._deselectAll.bind(this)),k["default"].subscribe("view/select",this._parseSelect.bind(this)),k["default"].subscribe("view/loading",this._showLoadingScreen.bind(this)),k["default"].subscribe("view/updateShare",this._updateItemsSharing.bind(this)),k["default"].subscribe("sort/update",this._sortUpdate.bind(this)),k["default"].subscribe("pagination/page",this._scrollToTop.bind(this)),k["default"].subscribe("item/update",this._updateItem.bind(this)));this.allowDragAndDrop&&
(this.domNode.classList.add("drag-and-drop-well"),this.own(f["default"](this.domNode,"dragover",function(H){H.preventDefault();G.dragover||(G.dragover=!0,G.domNode.classList.add("drag-and-drop-well--dragging"))}),f["default"](this.domNode,"dragleave",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging")}),f["default"](this.domNode,"drop",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging");k["default"].publish("view/drop",
H.dataTransfer)})))};C.prototype._toggleView=function(G){this._view=G;k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};C.prototype._showLoadingScreen=function(G){g["default"](".js-view",this.domNode).addClass("hide");var H=this.domNode.querySelector(".js-loader-wrap"),K=l["default"].substitute(this.location,{term:G});H.innerHTML=l["default"].substitute(this.loaderView,{i18n:B["default"],location:K,searchTerm:G});H.classList.remove("hide")};C.prototype._parseSelect=
function(G,H){var K=this._items.indexOf(G);H||!this._lastSelected&&0!==this._lastSelected||!this._shiftPressed?(this._selectItem(G),this._lastSelected=K):this._selectRange(Math.min(this._lastSelected,K),Math.max(this._lastSelected,K))};C.prototype._selectItem=function(G){a["default"].find(this._selected,function(H){return H.id===G.id})||(G.isSelected=!0,this._selected.push(G));this._setSelectAllState()};C.prototype._toggleAll=function(G){var H;this._lastSelected=null;this._shiftPressed=!1;(G=G.target.checked)?
this._selectPage():this._deselectPage();this.recordSelection&&(null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"Select",action:(G?"Select":"Unselect")+" page",count:this._items.length}))};C.prototype._selectRange=function(G,H){this._lastSelected=null;for(var K=G;K<=H;K++)k["default"].publish("view/select",this._items[K],!0);k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};C.prototype._selectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return k["default"].publish("view/select",
G)});k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};C.prototype._deselectItem=function(G){this._lastSelected=null;G.isSelected=!1;this._selected=this._selected.filter(function(H){return H.id!==G.id});this._setSelectAllState()};C.prototype._deselectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return k["default"].publish("view/deselect",G)});k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};C.prototype._deselectAll=
function(){this._lastSelected=null;this._items=this._items.map(function(G){G.isSelected=!1;return G});this._selected=[];this._setSelectAllState()};C.prototype._sortUpdate=function(G){this._currentSort=G;this._lastSelected=null;if("table"===this._view){var H=G.ascending?"is-ascending":"is-descending";g["default"](".js-table-sort-header").removeClass(["is-descending","is-ascending"]).attr("aria-sort","none");var K=g["default"](".js-table-sort-header[data-sort\x3d'"+G.property+"']");0<K.length&&(K.addClass(H),
K.attr({"aria-sort":G.ascending?"ascending":"descending","data-sort-order":G.ascending?"asc":"desc"}))}};C.prototype._updateItem=function(G){G&&"isFavorite"!==G.name&&this._updateView(this._items,this._selected,this._hasFilters)};C.prototype._updateItemsSharing=function(G){var H=this;(G||[]).forEach(function(K){var O=a["default"].find(H._items,function(L){return L.id===K.id});O&&(O.set("access",K.access),O.set("groupData",K.groupData),O.set("sharedGroups",K.sharedGroups))})};C.prototype._sortHeader=
function(G){this._lastSelected=null;var H=G.target;if(!H.getAttribute("data-sort")){var K=g["default"](G.target).closest(".js-table-sort-header")[0];K&&(H=K)}var O=H.getAttribute("data-sort");K=y["default"].contains(H,"is-ascending")||y["default"].contains(H,"is-descending");H=H.getAttribute("data-sort-order");K&&(H="asc"===H?"desc":"asc");G=(K=a["default"].find(this.sortOptions,function(L){return L.property===O}))?K.label:G.target.innerHTML;this.telemetry&&this.recordSortToggle&&this.telemetry.logEvent({category:"Table Sort Order",
action:"selected sort order"});k["default"].publish("sort/update",{label:G,property:O,ascending:"asc"===H})};C.prototype._updateView=function(G,H,K,O,L){var J=this;this._lastSelected=null;O=this.domNode.querySelector(".js-content-loader");L=this.domNode.querySelector(".js-table-wrap");null===O||void 0===O?void 0:O.classList.add("is-active");this._dijits.forEach(function(ka){return ka.destroy()});g["default"](".js-view",this.domNode).addClass("hide");this._items=G||[];this._selected=H||[];this._hasFilters=
K;var R=this.mobileView&&720>=window.innerWidth?"mobile":this._view;H=this._itemViews[R];var X=H.template,aa=this.domNode.querySelector(H.containerClass);H=this.domNode.querySelector(".js-none-wrap");var ea=this.domNode.querySelector(".js-empty-wrap");K=K?H:ea;0<G.length?(G.forEach(function(ka,ma){var sa=a["default"].find(J._selected,function(za){return za.id===ka.id});sa={item:ka,options:d["default"].getQueryParams(),select:J.select,isSelected:sa,portalUser:J.portalUser,fullItemTypes:J.fullItemTypes,
showSource:J.showSource,hasSharedOwnershipGroups:J.hasSharedOwnershipGroups,allowShare:J.allowShare,showShareGroups:J.showShareGroups,itemIndex:ma,telemetry:J.telemetry,page:J.page,telemetryOptions:J.telemetryOptions,portal:J.portal,recordSelection:J.recordSelection,searchTerm:J.searchTerm,addSearchTelemetryParams:J.addSearchTelemetryParams};J.tableRow&&"table"===R&&(sa.template=J.tableRow);J.listTemplate&&"list"===R&&(sa.template=J.listTemplate);sa=new X(sa);sa.startup();sa.placeAt(aa);J._dijits.push(sa)}),
y["default"].remove(aa,"hide"),k["default"].publish("view/show"),"table"===R&&(L.classList.remove("hide"),this._setSelectAllState(),this._sortUpdate(this._currentSort))):K.classList.remove("hide");null===O||void 0===O?void 0:O.classList.remove("is-active");D.dropdown()};C.prototype._setSelectAllState=function(){var G=this.domNode.querySelector(".js-select-all"),H=this._items.filter(function(K){return K.isSelected});0===H.length?(G.checked=!1,G.indeterminate=!1):H.length===this._items.length?(G.checked=
!0,G.indeterminate=!1,G.disabled=!1):G.indeterminate=!0};C.prototype._scrollToTop=function(){this._lastSelected=null;var G=this.domNode.getBoundingClientRect().top;0>G&&window.scrollBy(0,G-50)};C.prototype.getItemCount=function(){return this._items.length};return C=r.__decorate([A["default"](u["default"],E["default"],t["default"])],C)}()})},"arcgisonline/pages/dijit/Card":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/string ./Card/_CardBase dojo/text!./Card/Card.html dojo/text!./Card/MinimalCard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);return function(){function y(u,E){this.alwaysShowDrag=this.draggable=!1;this.templateString=u.minimal?g["default"]:f["default"]}y.prototype.postMixInProperties=function(){var u,E;this.inherited(arguments);this.item.ownerText=null!==(E=null===(u=this.item.verified)||void 0===u?void 0:u.name)&&void 0!==E?E:this.item.owner;this.item.viewMsg=
t["default"].substitute(k["default"].viewsWidget.universalViewsMsgAlone,{viewcount:this.item.numViews})};y.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};y.prototype.setDraggable=function(u){(this.draggable=u)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return y=r.__decorate([x["default"](l["default"])],y)}()})},
"arcgisonline/pages/dijit/Card/_CardBase":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Favorite ../ItemShareSummary ../../utils/formatters ../../utils/item ../../utils/setItemUrls ../../utils/icons ../../utils/arrays ../../utils/dom ../../item/_Actions ../../../esriGeowConfig ./_getItemClasses dojo/text!./Card.html dojo/text!./OpenDropdown.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../OrgPopup/OrgPopup".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=
r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);var D;(function(F){F.notebook="notebookViewer";F.map="mapViewer";F.newMap="newMapViewer";F.download="download";F.desktop="openDesktop";F.pro="openPro";F.story="storyMapViewer"})(D||(D={}));return function(){function F(v){this.i18n=w["default"];this.template=n["default"];this.fullDate=z["default"].fullDate;this.completeDate=z["default"].completeDate;this.empty=z["default"].empty;this.getAccess=z["default"].getAccess;
this.getAccessIcon=z["default"].getAccessIcon;this.formatNumViews=z["default"].formatNumViews;this.formatViewsLabel=z["default"].formatViewsLabel;this.hasSharedOwnershipGroups=this.fullItemTypes=!1;this.hide=z["default"].hide;this.show=z["default"].show;this.icons=e["default"];this.isImage=!1;this.imageClass="";this.cssClasses=[];this.select=this.favoritesDisabled=!1;this.checked=this.selectedClass="";this.selectItem=w["default"].GroupWidget.selectItem;this.disabled="disabled";this.addSearchTelemetryParams=
!1;this.searchTerm="";this.canCreateNotebooks=!1}F.prototype.postMixInProperties=function(){var v=this,C,G,H,K,O,L;this.formatDisplayName=z["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.favoritesDisabled=!this.portalUser;this.selectCardClass=this.select?"card-select":"";this.isSelected&&(this.selectedClass="card-select-active",this.checked="checked",this.selectItem=w["default"].GroupWidget.unselectItem);this.hasSublayers=!(null===(C=this.item.sublayers)||void 0===C||!C.length);
this.removedClass=this.isRemoved?"card-select-removed":"";this.item.canShare=this.allowShare&&q["default"].canShareItem(this.item,this.portalUser);this.item.isAdmin=null!==(G=this.item.isAdmin)&&void 0!==G?G:(null===(H=this.portalUser)||void 0===H?void 0:H.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId;this.item.snippet=250<this.item.snippet.length?this.item.snippet.substring(0,250)+"\u2026":this.item.snippet;this.item.badges=q["default"].getBadges(this.item,this.isWide,this.portalUser);
this.item.ownerText=z["default"].formatOwnerText(this.item);this.item.accessIcon=z["default"].getAccessIcon(this.item.access);this.canCreateNotebooks=null===(K=this.portalUser)||void 0===K?void 0:K.userRole.canCreateNotebooks();this.item.openIn.forEach(function(J){return m["default"][J](v.item)});this.item.downloadUrl="file"===this.item.classification?m["default"].getItemDataUrl(this.item):"";this.item.defaultOpenUrl=this._getDefaultOpenUrl(this.item);this.item.defaultOpenIcon=this.item.defaultOpenIcon||
"launch";this.item.defaultOpenSvg=null!==(L=null===(O=e["default"].inline[this.item.defaultOpenIcon])||void 0===O?void 0:O["16"])&&void 0!==L?L:e["default"].inline.launch["16"];this.item.defaultOpenText=this._getDefaultOpenText(this.item);this._setDefaultThumbnail(this.item);this.cssClasses=h["default"](this.item,this.portalUser);"Image"===this.item.type&&(this.isImage=!0,this.imageClass="card--image-item")};F.prototype._setDefaultThumbnail=function(v){var C;v.thumbnailUrl=null!==(C=this.useMostRecentToken(v.thumbnailUrl))&&
void 0!==C?C:"";"Notebook"===v.type&&(C=c["default"].baseUrl+"js/arcgisonline/css/images/notebook-thumb.png",v.thumbnailUrl=v.thumbnailUrl||C);v.largeThumbnailUrl=""+v.thumbnailUrl+(-1<v.thumbnailUrl.search("\\?token\x3d")?"\x26":"?")+"w\x3d400"};F.prototype.useMostRecentToken=function(v){var C,G=this.item.portal.getPortalUser(),H=null===(C=null===G||void 0===G?void 0:G.credential)||void 0===C?void 0:C.token;return m["default"].swivelToken(v,null===G||void 0===G?void 0:G.token,H)};F.prototype._getDefaultOpenText=
function(v){return"Notebook"!==v.type||this.canCreateNotebooks?this.item.defaultOpenText||w["default"].itemLinks.viewDetails:w["default"].itemLinks.viewDetails};F.prototype.postCreate=function(){var v=this,C,G;this.inherited(arguments);this.cssClasses.filter(function(R){return R}).forEach(function(R){return v.domNode.classList.add(R)});var H=this.item,K=this.portalUser,O=this.domNode.querySelector(".js-favorites-container"),L=this.domNode.querySelector(".js-open-dropdown-container"),J=this.domNode.querySelector(".js-default-open");
this.favoritesDisabled||(this._favoriteDijit=new u["default"]({item:H},O));L&&x["default"].place(l["default"].substitute(p["default"],{item:H,i18n:w["default"],icons:e["default"],telemetryParams:this.addSearchTelemetryParams?"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+this.itemIndex+"\x26searchTerm\x3d"+this.searchTerm+"\x26searchFacet\x3dcard%20dropdown%20item%20details":""},null,this),L);if("Feature Service"===H.type||"Feature Collection"===H.type)O=this.domNode.querySelector(".js-layers-tables"),
L=this.domNode.querySelector(".js-layers-tables-toggle"),O&&L&&c["default"].deepLayerSearchEnabled&&a["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:H,layers:H.sublayers,portal:H.portal,api:3,user:K,searchTerm:this.searchTerm,config:c["default"],telemetry:this.telemetry,border:!0,tooltip:this.formatDisplayName(H.displayName),i18nNoService:w["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:w["default"].SelectLayersWFS.noLayers},O).appendChild(L);
new E["default"]({item:H,portalUser:K,right:!0,canShare:this.item.canShare,allowShare:this.allowShare,showShareGroups:this.showShareGroups&&this.isWide,telemetry:this.telemetry},this.domNode.querySelector(".js-share-summary"));if(J){H=this.item.defaultOpenUrl;if(H===D.download||H===D.desktop||H===D.pro)J.classList.add("js-action"),J.setAttribute("data-action",this.item.defaultOpenUrl);this.item.defaultOpenUrl===D.newMap&&(H="modern"===this.item.portal.defaultMapViewer&&this.item.canOpenInNewMapViewer?
this.item.newMapViewerUrl:this.item.mapViewerUrl,J.href=H,J.setAttribute("data-href",H));(H=this.item.openIn)&&H[0]&&H[0]!==D.map&&this.item[H[0]+"Url"]&&J.setAttribute("target","_blank")}this._addEventListeners();(null===(C=this.item.portal)||void 0===C?0:C.isPortal)&&a["default"].hideNodes(null===(G=this.domNode)||void 0===G?void 0:G.querySelectorAll(".js-hide-portal"))};F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy()};F.prototype._getDefaultOpenUrl=function(v){var C=
"item.html?id\x3d"+v.id,G=v.openIn&&v.openIn[0];return v.defaultOpenText===w["default"].itemLinks.openDesktop?D.desktop:v.defaultOpenText===w["default"].itemLinks.openPro?D.pro:v.defaultOpenText===w["default"].itemLinks.openVRExperience?v.vrExperienceUrl:!G||G!==D.notebook||this.portalUser&&this.portalUser.userRole.canCreateNotebooks()?G&&G!==D.map&&v[G+"Url"]?v[G+"Url"]:"download-to"===v.defaultOpenIcon||d["default"].includes(v.types,"is-pdf")?D.download:G===D.map?D.newMap:G===D.story?D.story:C:
C};F.prototype._addEventListeners=function(){var v=this;this.own(t["default"](".js-card-select-check-mark-wrap",this.domNode).on("click",function(G){G.stopPropagation()}),t["default"](".js-card-select-check-mark",this.domNode).on("change",function(G){v[G.target.checked?"_select":"_deselect"]()}),t["default"](this.domNode).on("click",this._toggleSelected.bind(this)),t["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),t["default"](".js-action",this.domNode).on("click",
this._handleAction.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),t["default"](".js-card-image",this.domNode).on("error",this._cardImageError.bind(this)),t["default"](".js-card-title-link",this.domNode).on("click",this._cardOpen.bind(this)),t["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),t["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),this.item.watch(this._itemUpdate.bind(this)));
var C=this.domNode.querySelector(".js-verified-owner-link");C&&this.own(f["default"](C,"click",this.showOrgPopup.bind(this)));this._favoriteDijit&&this.own(this._favoriteDijit.on("click",function(G){G.stopPropagation()}))};F.prototype._handleAction=function(v){var C=this;v.preventDefault();var G=v.currentTarget.getAttribute("data-action"),H=this.item,K=this.portalUser,O=this.item.portal;if(G&&b["default"][G])if("share"!==G||this.item.isOwner)b["default"][G]({evt:v,item:H,user:K,portal:O});else this.item.getOwnerProfile(!0,
!0).then(function(L){C.item.itemOwner=L;b["default"].share({evt:v,item:H,user:K,portal:O})})};F.prototype._select=function(){this.domNode.classList.add("card-select-active");this.item.isSelected=!0;var v=this.domNode.querySelector(".js-card-select-check-mark");v.parentNode.setAttribute("aria-label",w["default"].GroupWidget.unselectItem);v.checked=!0;g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("card-select-active");this.item.isSelected=
!1;var v=this.domNode.querySelector(".js-card-select-check-mark");v&&(v.parentNode.setAttribute("aria-label",w["default"].GroupWidget.selectItem),v.checked=!1);g["default"].publish("view/deselect",this.item)};F.prototype._toggleSelected=function(v){"ARCGIS-LAYERS-AND-TABLES-SUMMARY-POPUP"!==v.target.tagName&&this.select&&(this.domNode.classList.contains("card-select-active")?this._deselect():this._select())};F.prototype._showProfile=function(v){v.stopPropagation();g["default"].publish("profile/show",
v)};F.prototype.showOrgPopup=function(v){v.stopPropagation();(new A["default"]({item:this.item,opener:v.target})).open()};F.prototype._cardImageError=function(v){v.preventDefault();v.target.src="js/arcgisonline/css/images/default_thumb.png"};F.prototype._cardOpen=function(v){g["default"].publish("card/open",this.itemIndex,v)};F.prototype._itemUpdate=function(v,C,G){g["default"].publish("item/update",{item:this.item,name:v,oldValue:C,value:G})};F.prototype._shareItemDropdown=function(v){this.domNode.querySelector(".js-item-share-dropdown").blur()};
F.prototype._categorizeItem=function(){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=r.__decorate([B["default"](k["default"],y["default"])],F)}()})},"arcgisonline/pages/dijit/Favorite":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-class dojo/on dojo/topic dojo/text!./Favorite/Favorite.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/icons ../../sharing/geow/Content ./_CheckReadonlyMixin".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);return function(){function e(d,a){this.templateString=g["default"];this.i18n=k["default"]}e.prototype.postMixInProperties=function(){this.inherited(arguments)};e.prototype.postCreate=function(){this.inherited(arguments);
this._setState(this.item.isFavorite);this._addEventListeners()};e.prototype.getFavorite=function(){var d=this;E["default"].isFavorite(this.item).then(function(a){d._setState(a)},function(){d._setState(!1)})};e.prototype._setState=function(d){void 0!==this.button&&((this.isFavorite=d)?(this.button.setAttribute("aria-label",k["default"].common.unfavorite),t["default"].add(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.isFavorite+"\x3c/span\x3e"+
z["default"]["star-f"]["16"]):(this.button.setAttribute("aria-label",k["default"].common.favorite),t["default"].remove(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.notFavorite+"\x3c/span\x3e"+z["default"].star["16"]))};e.prototype._addEventListeners=function(){this.own(l["default"](this.button,"click",this._clickHandler.bind(this)))};e.prototype._clickHandler=function(d){var a=this;this.checkReadonly(this.item.portal)||(d=this.isFavorite?
"removeFromFavorites":"addToFavorites",this._setState(!this.isFavorite),this.item.set("isFavorite",this.isFavorite),q["default"][d](this.item).then(function(){a.button.blur()},function(b){f["default"].publish("alert/show",{type:"error",text:null===b||void 0===b?void 0:b.message});a._setState(!a.isFavorite);a.item.set("isFavorite",!a.isFavorite)}))};return e=r.__decorate([x["default"](u["default"],y["default"],m["default"])],e)}()})},"arcgisonline/pages/dijit/ItemShareSummary":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/on dojo/dom-construct dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../utils/icons ../utils/dom ../utils/item dojo/text!./ItemShareSummary/ItemShareSummary.html dojo/text!./ItemShareSummary/ItemShareSummaryOverflow.html dojo/i18n!../../nls/arcgisonline ../item/_Actions ../organization/widgets/GroupIcon".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);return function(){function a(b,c){this.templateString=z["default"];this.i18n=m["default"];this.icons=y["default"];this.showShareGroups=
this.canShare=this.right=!1;this.responsive=!0;this.totalGroups=0;this.responsiveClass=this.directionClass=""}a.prototype.postMixInProperties=function(){this.inherited(arguments);var b={"private":y["default"].user["16"],shared:y["default"].user["16"],org:y["default"].organization["16"],"public":y["default"].globe["16"]},c={"private":m["default"].itemSharing.owner,shared:m["default"].itemSharing.owner,org:m["default"].itemSharing.org,"public":m["default"].itemSharing["public"]};this.levelIcon=this.item.access&&
b[this.item.access]||"";this.levelTooltip=m["default"].itemSharing.shareLevel+" "+c[this.item.access];this.right&&(this.directionClass="share-summary--right");this.responsive&&(this.responsiveClass="share-summary--responsive")};a.prototype.postCreate=function(){var b=this,c;this.inherited(arguments);var h=!this.showShareGroups&&"shared"===this.item.access,n=this.showShareGroups&&0<(null===(c=this.item.groupData)||void 0===c?void 0:c.length),p=this.domNode.querySelector(".js-share-button"),w=m["default"].itemSharing.updateSharing;
c=m["default"].itemSharing.ariaLabels.privateGroups;"shared"!==this.item.access&&(c=m["default"].itemSharing.ariaLabels[""+this.item.access+(n?"Groups":"")]);this.allowShare&&(this.item.canShare||E["default"].canShareItem(this.item,this.portalUser))?(this.own(t["default"](p,"click",this.handleClick.bind(this))),p.classList.add("share-summary__button--editable")):(w=l["default"].create("span"),l["default"].place(w,p,"before"),w.innerHTML=p.innerHTML,p.parentNode.removeChild(p),p=w,u["default"].addClasses(p,
"share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short".split(" ")),p.querySelector(".js-icon").tabIndex=0,w="");var B=""+w+(w?", ":"")+m["default"].itemSharing.shareLevel+" "+c;p.setAttribute("aria-label",m["default"].itemSharing.shareLevel+" "+c+" "+w);p.setAttribute("data-tooltip",B);n&&(this.totalGroups=this.item.sharedGroups||0,this.item.groupData.slice(0,3).forEach(function(A){A.id=A.id||A.groupId;A.title=A.title||A.groupTitle;A.thumbnail=
A.thumbnail||A.groupThumbnail;new d["default"]({group:A,portal:b.item.portal,size:"24",letterSize:"16",tooltipClass:"",cssClasses:"flex-0 share-summary__group"},l["default"].create("div",{},p))}),3<this.totalGroups&&l["default"].place(f["default"].substitute(q["default"],{num:this.totalGroups-3}),p,"last"));h&&this.domNode.classList.add("share-summary--show-unknown-group");n&&this.domNode.classList.add("share-summary--show-unknown-group-responsive");h||n||(this.domNode.querySelector(".js-sharing-plus-icon").classList.add("hide"),
this.domNode.classList.add("share-summary--no-groups"))};a.prototype.handleClick=function(b){var c=this;b.preventDefault();b.stopPropagation();var h=this.item,n=this.telemetry,p=h.portal,w=this.portalUser;this.item.isOwner?e["default"].share({evt:b,item:h,user:w,portal:p,telemetry:n}):this.item.getOwnerProfile(!0,!0).then(function(B){c.item.itemOwner=B;e["default"].share({evt:b,item:h,user:w,portal:p,telemetry:n})})};return a=r.__decorate([x["default"](k["default"],g["default"])],a)}()})},"arcgisonline/pages/item/_Actions":function(){define("require exports tslib dojo/_base/lang dojo/_base/event dojo/on dojo/aspect dojo/dom-attr dojo/topic dojo/promise/all dojo/Deferred dojo/cookie dojo/json dojo/dom-class dojo/dom-construct dojo/string dojo/has esri/config esri/lang ../pageUtil ../portal/PortalItem ../utils/strings ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Content ../../map/utils/getMapCookie ../../sharing/dijit/dialog/ConfirmDialog ../dijit/ChangeOwner ../dijit/MoveItem ../../sharing/dijit/dialog/DeleteWarningDlg ../../sharing/dijit/dialog/ExportDlg ../../sharing/dijit/dialog/ExtentDlg ../../sharing/dijit/dialog/GeneralDlg ../../sharing/dijit/dialog/ShareOwnershipDlg ../../sharing/utilShare ../../sharing/dijit/dialog/RateLimiting ../../sharing/dijit/dialog/LayerTimeSettings ../../sharing/dijit/dialog/UpdateItemDlg ../../sharing/dijit/dialog/PublishTileServiceDlg ../../sharing/dijit/dialog/CreateAppDlg ../organization/widgets/ProfilePopup ./widgets/AdvancedOfflineOptions/AdvancedOfflineOptions ../../sharing/dijit/dialog/AttachCodeDlg ../../sharing/dijit/dialog/OpenMapDlg ../../sharing/dijit/dialog/ManageSceneCache ../../sharing/dijit/dialog/JobStatusDlg ../../sharing/dijit/AppendData ../dijit/ReplaceLayer/ReplaceLayer ../dijit/ReplaceLayer/ReplaceSceneLayer ../../sharing/dijit/dialog/OverwriteFromCloud ../../sharing/dijit/dialog/_CreateItemUtilMixin ./widgets/_metadata ./widgets/typeOptions/mapOptions/httpsUpdate ./widgets/typeOptions/mapOptions/domainUpdate ../utils/setItemUrls ../utils/item ../utils/alerts ../utils/arrays ../utils/dom ../utils/number ../utils/verified ../utils/icons ../serviceUtil ../components/Collaborations/collab-service esri/request arcgis-components/wrappers/Share dojo/i18n!../../nls/arcgisonline ../portal/PortalUser preact ../components/ConfirmDialog ../statusUtil ../components/ImageUploadModal/ImageUploadModal ../components/UpdateViewModal".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za,ha,V,la,T,P,I,ba,W,ca,Q,N,S,Y,Z,da,fa,ia,na,qa,ua,ya,Aa,Ba,Oa,Ja,wa,Ea,ra,oa){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);
a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);v=r.__importDefault(v);C=r.__importDefault(C);G=r.__importDefault(G);H=r.__importDefault(H);K=r.__importDefault(K);O=r.__importDefault(O);L=r.__importDefault(L);J=r.__importDefault(J);R=r.__importDefault(R);X=r.__importDefault(X);aa=r.__importDefault(aa);
ea=r.__importDefault(ea);ka=r.__importDefault(ka);ma=r.__importDefault(ma);sa=r.__importDefault(sa);za=r.__importDefault(za);ha=r.__importDefault(ha);V=r.__importDefault(V);la=r.__importDefault(la);T=r.__importDefault(T);P=r.__importDefault(P);I=r.__importDefault(I);ba=r.__importDefault(ba);W=r.__importDefault(W);ca=r.__importDefault(ca);Q=r.__importDefault(Q);N=r.__importDefault(N);S=r.__importDefault(S);Y=r.__importDefault(Y);Z=r.__importDefault(Z);da=r.__importDefault(da);fa=r.__importDefault(fa);
ia=r.__importDefault(ia);na=r.__importDefault(na);qa=r.__importDefault(qa);ua=r.__importDefault(ua);ya=r.__importDefault(ya);Ba=r.__importDefault(Ba);Oa=r.__importDefault(Oa);wa=r.__importDefault(wa);Ea=r.__importDefault(Ea);ra=r.__importDefault(ra);oa=r.__importDefault(oa);return function(xa){function ta(){return null!==xa&&xa.apply(this,arguments)||this}r.__extends(ta,xa);ta.openDefault=function(ja){var pa,va=ja.evt,Fa=ja.item,Da=null===(pa=null===Fa||void 0===Fa?void 0:Fa.openIn)||void 0===pa?
void 0:pa[0],Ca="Operation View"===Fa.type||"Dashboard"===Fa.type;pa="appViewer"===Da||"StoryMap"===Fa.type;var Ia="mapViewer"===Da,La="notebookViewer"===Da,Ga=Z["default"].includes(Fa.types,"is-desktop")||Z["default"].includes(Fa.types,"is-desktopPro"),Ma=Z["default"].includes(Fa.types,"is-pro"),Ha=Fa.types.some(function(Na){return-1<["is-download","is-pdf","is-file"].indexOf(Na)}),Ka=Z["default"].includes(Fa.types,"is-downloadImage");(Da=Ca?null:document.querySelector(".js-open-"+(pa?"url":Da)))?
(va=g["default"].get(Da,"href"),pa?window.open(va):Ia?this.newMapViewer(ja):window.location.href=va):La?window.open(Fa.notebookViewerUrl,"_blank").focus():Ga?this.openDesktop(ja):Ma?this.openPro(ja):Ha?this.download(ja):Ka?this.downloadImage(ja):Ca?(Da=Array.prototype.slice.call(document.querySelectorAll(".js-open-btn")).filter(function(Na){return 0!==(null===Na||void 0===Na?void 0:Na.offsetHeight)}).shift(),va=Da.getAttribute("href"),"Dashboard"===Fa.type?window.open(va):window.location.href=va):
t["default"].stop(va)};ta.exportData=function(ja){var pa=ja.evt,va=ja.item,Fa=new G["default"],Da=ja.layerId||g["default"].get(pa.currentTarget,"data-layerId");ja=ja.layer||(b["default"].isDefined(Da)?c["default"].findLayer(Da,va.layers):va.layers);Fa.show(va,ja,g["default"].get(pa.target,"data-type"));l["default"](Fa,"done",function(Ca){Fa.hide().then(function(){window.location.href="item.html?id\x3d"+Ca.itemId})})};ta.exportImagery=function(ja){var pa=ja.item,va=pa.portal||{},Fa=this._getAvailableCredits(va),
Da=va.isPortal?null:new u["default"];if(!va.isPortal){va=qa["default"].fetchExportImageryCredits(pa);var Ca=va.canceller;va.dfd.then(function(La){var Ga=La.outputValue;La.success&&Ga.credits?(La=e["default"].substitute(Ba["default"].exportDlg.costForTilePackage,{credits:fa["default"].format(Ga.credits),availableCredits:fa["default"].format(Fa)}),Da.resolve({success:Fa>=Ga.credits,code:1,message:La})):Da.reject(Ba["default"].errorWidget.defaultError);return null},function(){return Da.reject(Ba["default"].errorWidget.defaultError)})}var Ia=
new G["default"];Ia.show(pa,pa.layers,g["default"].get(ja.evt.target,"data-type"),{waitForCredits:Da,canceller:Ca});l["default"](Ia,"done",function(La){Ia.hide().then(function(){window.location.href="item.html?id\x3d"+La.itemId})})};ta.appendData=function(ja){var pa=ja.evt,va=ja.page,Fa=ja.item;ja=b["default"].isDefined(ja.layerId)?ja.layerId:g["default"].get(pa.currentTarget,"data-layerId");ja=b["default"].isDefined(ja)?c["default"].findLayer(ja,Fa.layers):null;var Da=(new la["default"]({item:Fa,
layer:ja,layers:ja?[ja]:Fa.layers})).show();l["default"](Da,"hide",function(Ca){va._showDataLastUpdated(Fa);Da.destroyRecursive()})};ta.overwriteFromCloud=function(ja){var pa=ja.page.portal,va=ja.item,Fa=new I["default"];ba["default"].getCloudProviderItemResource(va).then(function(Da){Fa.startup(pa,Da,va);Fa.showModal()},this._showError);l["default"](Fa,"hide",function(Da){Fa.destroyRecursive()})};ta.download=function(ja){ja=ja.item;w["default"]._fetchItemData(ja,this.getItemDataUrl(ja))};ta.openDesktop=
function(ja){var pa=ja.evt,va=ja.item,Fa=va.portal||{};pa=pa&&g["default"].get(pa.target,"data-type")||"arcmap";var Da=va.url||"",Ca="Map Service"===va.type,Ia="Image Service"===va.type,La=w["default"].onAGOLFederatedServer(Da)||w["default"].onFederatedServer(Da),Ga=-1!==Da.indexOf(".arcgis.com/")&&-1!==Da.indexOf("//landscape"),Ma=va.openPkg,Ha=va.openData;Da=va.openLyr;"pro"===pa?this.openPro(ja):(Fa.isPortal||!Ca&&!Ia||va.isHostedService||va.isServiceProxy||La||Ga||(Da=!0),ja=Ma?this._getItemPkgPath(va):
Ha?this.getItemDataUrl(va):Da?this._getLyrPath(va):this._getPItemPath(va),Da?w["default"].openPageAndCount(va.id,ja):w["default"]._fetchItemData(va,ja))};ta.openPro=function(ja){ja=ja.item;var pa=this._getPItemXPath(ja);ja.openLyr?w["default"].openPageAndCount(ja.id,pa):w["default"]._fetchItemData(ja,pa)};ta.share=function(ja,pa){var va,Fa,Da,Ca,Ia=ja.items||(ja.item?[ja.item]:[]),La=ja.item||Ia[0]||{},Ga=document.createElement("div");Ga.classList.add("share-item-wrapper");document.body.appendChild(Ga);
var Ma=ja.telemetryWorkflow,Ha=ja.user.portal||(null===(va=ja.page)||void 0===va?void 0:va.portal),Ka=ja.user||(null===(Fa=ja.page)||void 0===Fa?void 0:Fa.portalUser),Na=Ia.length,Qa=window.location.href,Pa=-1<Qa.indexOf("item.html")?"item":"content",Ra=ja.telemetry||(null===(Da=ja.page)||void 0===Da?void 0:Da.telemetry);!Ma&&Ra&&(Ma=Ra.startWorkflow("share",{details:La.access,pageUrl:Qa,pageName:Pa,count:Na}));var Sa=function(){var Ua;document.documentElement.classList.remove("overflow-hidden");
Ga.parentElement.removeChild(Ga);null===(Ua=null===pa||void 0===pa?void 0:pa.target)||void 0===Ua?void 0:Ua.focus()};document.documentElement.classList.add("overflow-hidden");var Va=new u["default"];Ha.canHavePartnerCollab()?ua["default"].getCollaborations().then(function(Ua){var Ta;Ua=(null===(Ta=null===Ua||void 0===Ua?void 0:Ua.trustedOrgs)||void 0===Ta?void 0:Ta.filter(function(Xa){return-1<Xa.from.established&&-1<Xa.to.established}))||[];Va.resolve(Ua)}):Va.resolve([]);Va.then(function(Ua){new Aa.ShareWrapper(Ga,
{apiVersion:3,portal:Ha,portalUser:Ka,request:ya["default"],initialState:{resources:{items:Ia},utilities:{onCancel:function(){Ma&&Ra&&Ra.cancelWorkflow("share",{pageName:Pa,pageUrl:Qa});Sa()},onComplete:function(Ta){var Xa,ab=0<(null===(Xa=null===Ta||void 0===Ta?void 0:Ta.errors)||void 0===Xa?void 0:Xa.length)&&Ta.errors[0];if(Ma){Xa={pageName:Pa,pageUrl:Qa,count:Na,details:void 0,error:void 0};if(Ta.selectedOptions){var Wa=Ta.selectedOptions,db=Object.keys(Ta.selectedOptions).filter(function($a){return"total"!==
$a}).reduce(function($a,Ya){if(!$a||Wa[Ya]>Wa[$a])$a=Ya;return $a},null);Xa.details=Wa[db]===Wa.total?db:"mixed"}ab&&ab.notSharedWith&&(Xa.error=ab.notSharedWith);Ra&&Ra.endWorkflow("share",Xa)}Sa();ab?Y["default"].showAlert("error",ab.error.message):1===Ia.length?Y["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemUpdated,[Ia[0].title])):Y["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemsUpdated,[Ia[0].title,Ia.length-1]));var cb=
Ia.reduce(function($a,Ya){var bb;return r.__assign(r.__assign({},$a),(bb={},bb[Ya.id]=!0,bb))},{}),Za=Ia[0].portal;Ta=(Ta&&Ta.dependentItems||[]).filter(function($a){return!cb[$a.id]}).map(function($a){return new h["default"](x["default"].mixin($a,{portal:Za}))});Ia=Ia.concat(Ta);y["default"](Ia.map(x["default"].hitch(c["default"],"getItemSharing"))).then(function($a){Ia.forEach(function(Ya,bb){Ca=$a[bb];var eb=(Ca.groups||[]).map(function(fb){return{id:fb.id,thumbnail:fb.thumbnail,title:fb.title}});
x["default"].mixin(Ya,{access:(null===Ca||void 0===Ca?void 0:Ca.access)||Ya.access,sharing:Ca,groupData:eb,sharedGroups:Ca.total||0});Ya.contentStatus=S["default"].getContentStatus(Ya)});return y["default"](Ia.map(ia["default"].getVerifiedInfo))}).then(function($a){$a.forEach(function(Ya,bb){Ia[bb].verified=Ya});Ia.forEach(function(Ya){var bb="public"===Ya.access,eb=Ya.types||[];eb=Z["default"].concatUnique(eb,bb?["is-public"]:["is-not-public"]);eb=Z["default"].filterOut(eb,bb?["is-not-public"]:["is-public"]);
Ya.types=eb.concat();Ya.set("sharing",Ya.sharing)});k["default"].publish("view/updateShare",Ia);k["default"].publish("view/deselectAll",{})})}},config:{groupsPerPage:100,hasTrustedOrgs:0<Ua.length}}})})};ta.shareOwnership=function(ja){ja.portal.getPortalUser().getGroups().then(function(pa){var va=ja.item||{},Fa=ja.items||[va],Da=va.type,Ca=new D["default"]({"class":"sharedOwnershipDlg",title:Ba["default"].sharingDlg.sharedOwnershipTitle,buttonOk:Ba["default"].common.ok,buttonCancel:Ba["default"].common.cancel,
style:{height:"auto"}}),Ia=new O["default"]({value:{items:Fa,groups:pa}}),La;Ca.setContent(Ia.domNode);Ia.startup().then(function(){Ca.show()});var Ga=k["default"].subscribe("/dlg/onOk",function(){Ia.validate().then(function(){Ia.shareWithSelectedGroup().then(function(){y["default"](Fa.map(x["default"].hitch(c["default"],"getItemSharing"))).then(function(Ha){Fa.forEach(function(Ka,Na){La=Ha[Na];x["default"].mixin(Ka,{access:(null===La||void 0===La?void 0:La.access)||Ka.access,sharing:La})});Fa[0].set("sharing",
Fa[0].sharing);k["default"].publish("view/deselectAll",{});ja.item&&("Web Map"===Da||"Web Scene"===Da?(a["default"].defaults.io.errorHandler=function(){},L["default"].checkWebMapContent({webMapId:va.id,webMapItemCard:va,webMapConfig:va.itemData,confirmItemControl:!0})):"Web Mapping Application"===Da&&L["default"].checkWebAppContent({webAppId:va.id,webAppItemCard:va,confirmItemControl:!0}))});Ca.hide().then(function(){Ma.remove();Ga.remove()})},function(Ha){Ha&&Ha.messageCode&&"GWM_0021"===Ha.messageCode&&
ja.page._showError(Ha)})})});var Ma=k["default"].subscribe("/dlg/onCancel",function(){Ma.remove();Ga.remove()})})};ta.rateLimiting=function(ja){(new J["default"]({item:ja.item,user:ja.user})).showModal()};ta.timeSettings=function(ja){var pa=ja.item,va=ja.evt,Fa=ja.user;ja=ja.layerId||g["default"].get(va.target,"data-layerId");ja=c["default"].findLayer(ja,pa.layers);(new R["default"]({item:pa,layer:ja,user:Fa})).showModal()};ta.toggleFavorite=function(ja){var pa=ja.item,va=ja.item.isFavorite;ja=ja.evt;
var Fa=new u["default"];t["default"].stop(ja);B["default"][va?"removeFromFavorites":"addToFavorites"](pa).then(function(Da){var Ca,Ia;(null===(Ca=null===Da||void 0===Da?void 0:Da.notSharedWith)||void 0===Ca?0:Ca.length)||(null===(Ia=null===Da||void 0===Da?void 0:Da.notUnsharedFrom)||void 0===Ia?0:Ia.length)?Fa.reject({message:Ba["default"].itemProperties.error.cantShareFavorites}):(pa.set("isFavorite",!va),Fa.resolve(pa.isFavorite))},function(Da){Fa.reject("item not provisioned"===(null===Da||void 0===
Da?void 0:Da.message)?{message:Ba["default"].itemProperties.error.noShareListedItem}:Da)});return Fa};ta.updateData=function(ja){var pa=ja.item,va=g["default"].get(ja.evt.target,"data-type"),Fa=pa.thumbnail&&-1===pa.thumbnail.indexOf("thumbnail/ago_downloaded.")&&-1===pa.thumbnail.indexOf("thumbnail/thumbnail.");if("append"===va)return this.appendData(ja);if("overwriteFromCloud"===va)return this.overwriteFromCloud(ja);var Da=new X["default"];Da.show(pa);var Ca=k["default"].subscribe("itemData/update",
function(){Ca.remove();"Vector Tile Service"!==pa.type||Fa?Da.hide():(pa.set({thumbnail:"",thumbnailUrl:""}),pa.getThumbnail(!0).then(function(Ia){Da.hide()},function(){Da.hide()}))});l["default"].once(Da._updateItemDialog,"hide",function(){Da._updateItemDialog.destroyRecursive();Da.destroy()})};ta.publishService=function(ja,pa,va){void 0===pa&&(pa="file");var Fa=ja.item,Da=ja.user;ja=ja.page;var Ca=m["default"].create("div",null,document.body,"last"),Ia=Da;Fa.owner!==Da.username&&(Ia=new Oa["default"](Fa.itemOwner));
pa=da["default"].createElement("arcgis-new-item",{isActive:!0,portal:Fa.portal,user:Ia,existingItem:Fa,config:p["default"],api:3,telemetry:ja.telemetry,existingItemType:pa,existingItemPublishType:va},Ca);pa.addEventListener("workflowCancel",function(){k["default"].publish("folders/refresh",{forcedDelay:1E3});m["default"].destroy(Ca)});pa.addEventListener("workflowComplete",function(La){var Ga=La.detail;La=Ga.id;var Ma=Ga.response,Ha=Ga.jobId,Ka=Ga.serviceType,Na=Ga.item;Ga=Ga.newItemMode;if(null===
Ma||void 0===Ma?0:Ma.success)if(m["default"].destroy(Ca),Ma=Ha?"\x26jobid\x3d"+Ha:"",Ha="Map Service"===Ka?Na.tileAutoCreation?"#overview/manageTiles":"#settings/manageTiles":"","tileLayer"===Ga)window.location.href="item.html?id\x3d"+La+Ma+Ha;else switch(null===Na||void 0===Na?void 0:Na.type){case "Tile Package":window.location.href="item.html?id\x3d"+La+Ma+(Ka?"#settings/buildCache":"");break;case "Service Definition":window.location.href="item.html?id\x3d"+La+Ma+("Map Service"===Ka?"#settings/manageTiles":
"");break;default:window.location.href="item.html?id\x3d"+La+Ma}})};ta.publishTiles=function(ja){var pa=this,va=ja.item,Fa=ja.user,Da=ja.layer,Ca=va&&va.itemOwner&&va.itemOwner.folders,Ia=g["default"].get(ja.evt.target,"data-type"),La=this._getPublishingTypeMessage(va,Ia);this._getPublishingCostMessage(va,Ia).then(function(Ga){La=Ga&&Ga.message||La;if(!Ga||Ga.availableCredits>=Ga.totalCost)if("features"===Ia){var Ma=document.createElement("div"),Ha=function(Ka){Ja.render(Ja.h(oa["default"],{title:Ba["default"].itemProperties.publishViewLayer,
active:Ka,itemId:va.id,onClose:function(){Ha(!1)}}),Ma)};Ha(!0)}else["vectorTiles","tiles"].includes(Ia)?pa.publishService(ja,"tileLayer",Ia):(new aa["default"]({portal:va.portal,folders:Ca,portalUser:Fa,message:La,item:va,showFolders:!0,type:Ia||"tiles",serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ka){var Na=null===Ka||void 0===Ka?void 0:Ka.id;Ka=!(null===Ka||void 0===Ka||!Ka.cacheOnDemand);Na&&(window.location.href="item.html?id\x3d"+Na+("tiles"===Ia?Ka?"":"#settings/manageTiles":
"scenes"===Ia?"#settings/buildCache":""))});else pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta.publishImagery=function(ja){var pa=this,va=ja.item,Fa=ja.user,Da=ja.layer,Ca=va&&va.itemOwner&&va.itemOwner.folders,Ia=g["default"].get(ja.evt.target,"data-type"),La=this._getImageServiceTypeMessage(Ia);this._getPublishingCostMessage(va,Ia).then(function(Ga){La=Ga&&Ga.message||La;!Ga||Ga.availableCredits>=Ga.totalCost?(new aa["default"]({portal:va.portal,
folders:Ca,portalUser:Fa,message:La,item:va,showFolders:!0,type:Ia,serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ma){if(Ma=null===Ma||void 0===Ma?void 0:Ma.id)window.location.href="item.html?id\x3d"+Ma}):pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta._getImageServiceTypeMessage=function(ja){return"dynamicImagery"===ja?Ba["default"].publishImageServiceDlg.dynamicImageryLayerDesc:Ba["default"].publishImageServiceDlg.tileImageryLayerDesc};
ta._getPublishingTypeMessage=function(ja,pa){switch(pa){case "wfs":var va="wfsServiceDetailsDesc";break;case "ogcfeatures":va="ogcFeatureServiceDetailsDesc";break;case "scenes":va="sceneServiceDetailsDesc";break;case "features":va="viewServiceDetailsDesc";break;case "vectorTiles":va="vectorServiceDetailsDesc";break;default:va="serviceDetailsDesc"}return Ba["default"].publishTileServiceDlg[va]};ta._getAvailableCredits=function(ja){var pa,va;return(null===(pa=ja.user)||void 0===pa?void 0:pa.availableCredits)||
(null===(va=ja.subscriptionInfo)||void 0===va?void 0:va.availableCredits)||0};ta._getPublishingCostMessage=function(ja,pa){var va=new u["default"];if("scenes"!==pa)va.resolve(null);else{var Fa=Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,Da=this._getAvailableCredits(ja.portal||{});qa["default"].fetchScenePublishingCredits(ja,ja.layers||[]).then(function(Ca){Fa=e["default"].substitute(Ba["default"].publishTileServiceDlg.createLayerCost,{credits:fa["default"].format(Ca),availableCredits:fa["default"].format(Da)});
Fa=Da>=Ca?e["default"].substitute(Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,{createLayerCost:Fa}):Fa;va.resolve({totalCost:Ca,availableCredits:Da,message:Fa})})}return va};ta.moveItem=function(ja){var pa,va=ja.page.portal,Fa=ja.portalUser||(null===(pa=ja.item)||void 0===pa?void 0:pa.itemOwner)||va.getPortalUser(),Da=ja.currentFolder&&ja.currentFolder.id||ja.item&&ja.item.folderId||Fa.username,Ca=ja.selectedItems||[ja.item];ja=new v["default"]({items:Ca,owner:Fa,portal:va,currentFolder:Da});
ja.open();ja.on("close",function(Ia){k["default"].publish("folders/refresh");if(Ia){var La=Ia.newFolder;Ia=Ia.error;if(La&&!Ia)if(k["default"].publish("items/itemDetailRefresh",La),Da&&"all"!==Da){Ca.forEach(function(Ka){x["default"].mixin(Ka,{folder:La,folderId:La.id,ownerFolder:La.id})});k["default"].publish("items/refresh",{removedItems:Ca});var Ga=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Ga.remove();k["default"].publish("folders/refreshAndSelect");
k["default"].publish("aggregations/refresh")})}else k["default"].publish("view/deselectAll",{}),k["default"].publish("aggregations/refresh");else if(Ia){var Ma=null===Ia||void 0===Ia?void 0:Ia.movedItems;if((null===Ma||void 0===Ma?0:Ma.length)&&Da&&"all"!==Da){k["default"].publish("items/refresh",{removedItems:null===Ia||void 0===Ia?void 0:Ia.movedItems});var Ha=k["default"].subscribe("items/refreshComplete",function(){Ha.remove();k["default"].publish("aggregations/refresh")})}}}})};ta.openLayerMetadata=
function(ja){var pa,va,Fa=ja.item,Da=ja.evt,Ca=null!==(pa=ja.page)&&void 0!==pa?pa:null===(va=null===ja||void 0===ja?void 0:ja.scope)||void 0===va?void 0:va.page,Ia=Da.target;ja=ja.layerId||g["default"].get(Ia,"data-layerId");var La=!1,Ga=!1;da["default"].disableNode(Ia,!0);W["default"].openLayerEditor(Fa,ja).then(function(Ma){var Ha=[],Ka=function(){da["default"].disableNode(Ia,!1)};Ha.push(Ma.gxeAdaptor.on("metadata-save",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||
void 0===Qa?0:Qa.success)La=!0,Ga=!1}));Ha.push(Ma.gxeAdaptor.on("metadata-delete",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||void 0===Qa?0:Qa.success)Ga=!0,La=!1}));Ha.push(f["default"].after(Ma.dialog,"show",Ka));Ha.push(f["default"].after(Ma.dialog,"hide",Ka));Ha.push(f["default"].after(Ma,"onDialogClose",function(){Ka();Ha.forEach(function(Na){var Qa;null===(Qa=null===Na||void 0===Na?void 0:Na.remove)||void 0===Qa?void 0:Qa.call(Na)});(La||Ga)&&setTimeout(function(){Ca._item.set("serviceChanged",
!0)},500)}))})};ta.viewMetadata=function(ja){ja=ja.item.itemUrl+"/info/metadata/metadata.xml";var pa=w["default"].getUser();w["default"].openPage(ja+"?format\x3ddefault\x26output\x3dhtml"+((null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:""),!1)};ta.editMetadata=function(ja){var pa=ja.item,va=ja.evt.target,Fa=!1;da["default"].disableNode(va,!0);W["default"].openEditor(pa).then(function(Da){var Ca=[],Ia=function(){da["default"].disableNode(va,!1)};Ca.push(Da.gxeAdaptor.on("metadata-save",
function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Z["default"].concatUnique(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Fa=!0}));Ca.push(Da.gxeAdaptor.on("metadata-delete",function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Z["default"].filterOut(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Fa=!1}));Ca.push(f["default"].after(Da.dialog,"show",Ia));
Ca.push(f["default"].after(Da.dialog,"hide",Ia));Ca.push(f["default"].after(Da,"onDialogClose",function(){Ia();Ca.forEach(function(La){var Ga;null===(Ga=null===La||void 0===La?void 0:La.remove)||void 0===Ga?void 0:Ga.call(La)});Fa&&setTimeout(function(){w["default"].request({url:pa.portal.portalUrl+"content/items/"+pa.id}).then(function(La){pa.set("accessInformation",La.accessInformation);pa.set("description",La.description);pa.set("licenseInfo",La.licenseInfo);pa.set("snippet",La.snippet);pa.set("tags",
La.tags);pa.set("title",La.title);pa.set("serviceChanged",!0)})},500)}))})};ta.setExtent=function(ja){};ta.setSearchExtent=function(ja){ja=ja.item;var pa=ja.proxyFilter||{};ja=ja.unsavedSearchExtent||pa.searchExtent||null;var va=new H["default"];ja=ja?n["default"].stringToArray(ja,",",!1):null;va._publish=function(Fa){k["default"].publish("searchExtent/update",Fa)};ja=4===(null===ja||void 0===ja?void 0:ja.length)?[[Number(ja[0]),Number(ja[1])],[Number(ja[2]),Number(ja[3])]]:null;va.show(ja);l["default"].once(va._extentDialog,
"hide",function(){va._extentDialog.destroyRecursive();va.destroyRecursive()})};ta.reassignItem=function(ja){var pa,va,Fa,Da,Ca=ja.item||{},Ia=ja.items||[Ca],La=null===(pa=ja.page)||void 0===pa?void 0:pa.telemetry;pa=ja.portal||ja.page&&ja.page.portal||{};var Ga=(null===Ca||void 0===Ca?void 0:Ca.itemOwner)||ja.owner,Ma=(null===(va=ja.owner)||void 0===va?void 0:va.getCurrentFolder())||{};va=null===(Fa=Ca.resultData)||void 0===Fa?void 0:Fa.length;Fa="Feature Service"===(null===(Da=null===Ca||void 0===
Ca?void 0:Ca.sourceData)||void 0===Da?void 0:Da.type);var Ha=ja.dontRemoveFromList||!1;if(!Ca.isHostedService&&va||Ca.isHostedService&&Fa&&("WFS"===Ca.type||Ca.isDataView||"Map Service"===Ca.type||"Scene Service"===Ca.type)){var Ka=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});Ka.show({title:Ba["default"].common.notice,message:Ba["default"].common.errors.reassignSourceItemWithRelated}).then(function(){return Ka.hide()})}else Da=new F["default"]({items:Ia,
owner:Ga,portal:pa,telemetry:La,currentFolder:Ma}),Da.open(),Da.on("close",function(Na){var Qa;if(Na){var Pa=Na.newOwner,Ra=Na.newFolder,Sa=Na.error;Na=Na.updatedItems;if(Pa&&Ra&&!Sa)if(Ha=Ha||Pa===Ga.username&&(null===(Qa=ja.folder)||void 0===Qa?void 0:Qa.isAll),Ia.forEach(function(Ta){x["default"].mixin(Ta,{owner:Pa})}),ja.noRedirect){k["default"].publish("items/refresh",Ha?{forcedDelay:1E3}:{removedItems:Ia});var Va=k["default"].subscribe("items/refreshComplete",function(){Va.remove();k["default"].publish("folders/refreshAndSelect");
Sa||k["default"].publish("view/deselectAll",{});k["default"].publish("aggregations/refresh")})}else window.location.href="item.html?id\x3d"+Ca.id;if(Sa){Na.map(function(Ta){return Z["default"].find(Ia,function(Xa){return Xa.id===Ta.itemId})}).forEach(function(Ta){x["default"].mixin(Ta,{owner:Pa})});k["default"].publish("items/refresh",{forcedDelay:1E3});var Ua=k["default"].subscribe("items/refreshComplete",function(){Ua.remove();k["default"].publish("aggregations/refresh")})}}})};ta.deleteItem=function(ja){var pa=
this,va=ja.item,Fa=va.portal||{},Da,Ca,Ia,La,Ga,Ma,Ha=function(Ka){if(Ka&&Ka.success)if(ja.noRedirect){k["default"].publish("items/refresh",{removedItems:[va]});var Na=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Na.remove();Ma.hide();k["default"].publish("alert/show",{type:"success",text:Ba["default"].itemProperties.itemDeleteSuccess});k["default"].publish("aggregations/refresh")})}else window.location.href=(null===Ia||void 0===Ia?0:Ia.id)?"item.html?id\x3d"+
Ia.id:va.isAdmin&&!va.isOwner?"content.html?user\x3d"+va.owner:"content.html";else Ma.hide(),ja.noRedirect?k["default"].publish("alert/show",{type:"error",text:Ba["default"].common.errors[(null===Ka||void 0===Ka?void 0:Ka.messageCode)||""]||Ka}):pa._showError(Ka)};y["default"]({canBeDeleted:Fa.isPortal?va.canBeDeleted():null,sourceData:va.getSourceData(),resultData:va.getResultData()}).then(function(Ka){var Na,Qa,Pa;Da=null===(Na=Ka.canBeDeleted)||void 0===Na?void 0:Na.success;Ca=!Da&&(null===(Qa=
Ka.canBeDeleted)||void 0===Qa?void 0:Qa.offendingItems)||[];Ia=Ka.sourceData;La=Ka.resultData;Ga=!Ia&&(null===La||void 0===La?void 0:La.length)&&!va.isHostedService;Na=Ba["default"].itemProperties.deleteItemBlocked+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e';Qa=Ba["default"].itemProperties.deleteSourceItem+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e\x3cbr/\x3e'+Ba["default"].itemProperties.deleteSourceItemMsg;var Ra=Ga?Qa:Na,Sa="",Va=Fa.helpBase+Fa.helpMap.m["120001208"];
Na=La||Ca||void 0;var Ua=(null===Na||void 0===Na?0:Na.length)?Na.length-5:0,Ta=(null===Na||void 0===Na?0:Na.length)?Na.map(function(Xa){return"id:"+(Xa.id||Xa.itemId)}).join(" OR "):"";Fa.isPortal?Da?(Ma=new C["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(va).then(Ha,Ha)},!0),l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})):Da||Ca.length?(Ka=((null===(Pa=Ka.canBeDeleted)||void 0===
Pa?void 0:Pa.offendingItems)||[]).map(function(Xa){return w["default"].request({url:Fa.portalUrl+"content/items/"+Xa.itemId})}),y["default"](Ka).then(function(Xa){Ca=Xa;Ca=Ca.map(function(ab){return new h["default"](x["default"].mixin(ab,{portal:Fa}))});Ca.forEach(function(ab,Wa){5>Wa&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',{relItem:ab,i18n:Ba["default"]}))});Sa+=5<Ca.length?
e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"";Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va});Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,
style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(ab){"onOk"===ab&&c["default"].deleteItem(va).then(Ha,Ha)})):(Ma=new K["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}));l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})})):(Pa=Ka.canBeDeleted,k["default"].publish("alert/show",{type:"error",text:Pa&&(Pa.messageCode&&Ba["default"].common.errors[Pa.messageCode]||Pa.message||
Ba["default"].common.errors.genericError.message)})):(!La||!La.length||pa.isFeedWithSingleHostedFeatureLayer(va,La)||pa.isHostedFeatureLayerFromFeed(va,La)?(Ma=new C["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(va).then(Ha,Ha)},!0)):(La.forEach(function(Xa,ab){5>ab&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',
{relItem:Xa,i18n:Ba["default"]}))}),Sa+=5<La.length?e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"",Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va}),Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,
buttonCancelLabel:Ba["default"].common.noLabel,style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(Xa){"onOk"===Xa&&c["default"].deleteItem(va).then(Ha,Ha)})):(Ma=new K["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}))),l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()}))},function(Ka){k["default"].publish("alert/show",{type:"error",text:Ka&&(Ka.messageCode&&Ba["default"].common.errors[Ka.messageCode]||
Ka.message||Ba["default"].common.errors.genericError.message)})})};ta.toggleAttachments=function(ja){var pa=ja.item,va=ja.evt,Fa=pa.isDataView,Da=Ba["default"].itemProperties,Ca=Fa?Da.showAttachments:Da.enableAttachments,Ia=Fa?Da.hideAttachments:Da.disableAttachments,La=Fa?Da.showingAttachments:Da.enablingAttachments,Ga=Fa?Da.hidingAttachments:Da.disablingAttachments,Ma=Fa?Da.enablingAttachmentsViewMessage:Da.enablingAttachmentsMessage;Da=Fa?Da.disableAttachmentsViewMessage:Da.disableAttachmentsMessage;
var Ha=ja.layerId||g["default"].get(va.target,"data-layerId"),Ka=ja.layer||c["default"].findLayer(Ha,pa.layers),Na=Ka.hasAttachments,Qa=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,busyMessage:Na?Ga:La,style:{width:"460px",height:"auto"}}),Pa=function(){Qa.set("disabled",!0);c["default"].enableAttachments(pa,Ka,!Na).then(function(){pa.set("maxAgeCheck",!0);g["default"].set(va.target,"innerHTML",na["default"].inline.attachment["16"]+(Na?
Ca:Ia));Qa.hide()},function(Ra){Ra=Ra&&(Ra.messageCode&&Ba["default"].common.errors[Ra.messageCode]||Ra.message||Ba["default"].common.errors.genericError.message);Qa.hide();k["default"].publish("alert/show",{type:"error",text:Ra})})};ja=function(Ra){Qa.show({title:Na?Ia:Ca,message:Ra}).then(function(Sa){"onOk"===Sa&&Pa()})};Fa?Pa():ja(Na?Da:Ma)};ta.createApp=function(ja){var pa,va=ja.item,Fa=ja.portal;ja=ja.evt;if(null===(pa=null===ja||void 0===ja?void 0:ja.target)||void 0===pa?0:pa.href)return window.open(ja.target.href,
"_blank");var Da=va.isHostedTemplate;pa="wab"===g["default"].get(ja.target,"data-type")||Z["default"].includes(va.typeKeywords,"Web AppBuilder for ArcGIS");ja=g["default"].get(ja.target,"data-type")||null;Da=Da||pa;var Ca=new ea["default"]({item:va});pa={isWab:pa};if(ja){"webscene"===ja&&Fa.isPortal&&(pa.typeInfo="webscene_portal");if("storymap"===ja)return window.open(p["default"].storymapsUrl+"/stories/new?"+("Web Scene"===va.type?"webscene":"webmap")+"\x3d"+va.id,"_blank");(va=Da?Ca.showModal(pa):
Ca.showWizard(pa))&&va.then(function(Ia){if(null===Ia||void 0===Ia?0:Ia.configureUrl)window.location.href=Ia.configureUrl})}};ta.profilePopup=function(ja){var pa=this,va=ja.item,Fa=ja.evt;(va=ja.profile||va.owner||(ja.user?ja.user.username||ja.user:null))&&!this._popup&&(this._popup=new ka["default"]({username:va,opener:Fa.target,portal:ja.page.portal}),this._popup.open(),l["default"].once(this._popup,"close",function(){pa._popup=void 0}))};ta.advancedOfflineOptions=function(ja){var pa=document.createElement("div");
document.body.appendChild(pa);(new ma["default"]({item:ja.item,page:ja.page},pa)).open()};ta.attachCode=function(ja){var pa=ja.item;ja=pa.codeAttachment;var va=c["default"].createSpecifiedDialog(sa["default"],{item:pa,sharing:pa.sharing});va.show(ja);f["default"].after(va,"onUpload",function(){pa.set("codeAttachmentChanged",!0);va.hide()})};ta.deleteCode=function(ja){var pa=ja.item;ja=ja.item;var va=ja.portal,Fa=ja.codeAttachment;ja="Web Mapping Application"===pa.type&&Z["default"].includes(pa.typeKeywords,
"Web AppBuilder");Fa&&c["default"].createSpecifiedDialog(C["default"]).showMsgTitleButton(""+Ba["default"].itemProperties.removeAttachmentMsg+(ja?"":"\x3cbr\x3e\x3cbr\x3e"+Ba["default"].itemProperties.removeAttachmentUpdate),Ba["default"].itemProperties.removeAttachmentTitle,Ba["default"].itemProperties.removeAttachmentButton,function(){w["default"].request({url:va.portalUrl+"content/items/"+Fa.id}).then(function(Da){Da=new h["default"](x["default"].mixin(Da,{portal:pa.portal}));c["default"].deleteItem(Da).then(function(){pa.set("codeAttachment",
null)})})})};ta.thumbnail=function(ja){var pa=this,va=document.getElementById("item-thumb-modal-container");va||(va=document.createElement("div"),va.id="item-thumb-modal-container",document.body.appendChild(va));var Fa=function(){Ja.render(null,va)},Da=Ba["default"].GroupWidget.thumbnailDlg;Ja.render(Ja.h(ra["default"],{contentClass:"esriThumbnailDlg",onSave:function(Ca){return r.__awaiter(pa,void 0,void 0,function(){var Ia,La,Ga,Ma,Ha,Ka,Na,Qa,Pa,Ra,Sa;return r.__generator(this,function(Va){switch(Va.label){case 0:Ia=
new FormData,La="thumbnail"+(new Date).getTime()+"."+Ca.format,Ia.append("thumbnail",Ca.blob,La),Ia.append("f","json"),Ga=ja.item,Ma=ja.page.portalUser,Ka=(Ha=Ga.itemOwner)?Ha.userContentUrl:Ma.userContentUrl,Na=Ga.folderId&&"/"!==Ga.folderId?"/"+Ga.folderId:"",Qa=""+Ka+Na+"/items/"+Ga.id+"/update",Va.label=1;case 1:return Va.trys.push([1,4,,5]),[4,w["default"].request({url:Qa,form:Ia,timeout:12E4},{usePost:!0})];case 2:return Va.sent(),[4,Ma.getItem(Ga.id)];case 3:return Pa=Va.sent(),Ra=Ga.thumbnailUrl,
Pa.thumbnailUrl&&(Sa=-1<Pa.thumbnailUrl.indexOf("?token\x3d"),Ra=""+Pa.thumbnailUrl+(Sa?"\x26":"?")+"ts\x3d"+(new Date).getTime()),Ga.set("thumbnailUrl",Ra),Fa(),[3,5];case 4:return Va.sent(),[3,5];case 5:return[2]}})})},onCancel:Fa,allowFromMap:!0,height:293,aspectRatio:1.5,zoomToFull:!0,fillBackground:!0,itemId:ja.item.id,texts:{title:Da.createThumb,drag:Da.uploadImage,size:Da.dragAndDrop}}),va)};ta.newMapViewer=function(ja){var pa=ja.item;ja=ja.evt;var va=g["default"].get(ja.currentTarget,"data-href")||
pa.mapNewViewerUrl,Fa=-1<va.indexOf("useExisting\x3d1"),Da=pa.canOpenInNewMapViewer;"modern"===pa.portal.defaultMapViewer&&Da?window.location=g["default"].get(ja.currentTarget,"href")||pa.newMapViewerUrl:"Web Map"!==pa.type&&Fa?window.location=va:A["default"]().then(function(Ca){if(Ca&&!0===Ca.c){var Ia=new za["default"];Ia.show(va,Ca);l["default"].once(Ia._dialog,"hide",function(){Ia._dialog.destroyRecursive();Ia.destroy()})}else window.location=va})};ta.whatsNew=function(ja){var pa=new u["default"],
va=ja.key,Fa=ja.endDate,Da=ja.redirectUrl,Ca=ja.disableDebugBlock,Ia=new Date((new Date).getTime()+31556926E3),La={},Ga=new Date,Ma=w["default"].getCookie("esri_whatsnew")||{},Ha={closeable:!1,showCancel:!!Da,buttonOkLabel:Da?Ba["default"].common.learnMore:Ba["default"].common.gotIt,buttonCancelLabel:Ba["default"].common.gotIt,className:"whatsNewDlg"},Ka=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";if(Ga<Fa&&(Ca||!p["default"].isDebug))if(Ma[va])pa.resolve(!0);else{var Na=
new D["default"](Ha);Da?(q["default"].add(Na.okButton.domNode,"hide"),Fa=m["default"].create("a",{className:"btn right learn-more-link icon-ui-link-external",href:Da,target:"_blank",innerHTML:Ba["default"].addItemFrm.learnMore},Na.actionBarNode,"last")):Fa=Na.okButton;l["default"].once(Fa,"click",function(){Na.hide()});l["default"].once(Na,"hide",function(){La[va]=!0;E["default"]("esri_whatsnew",z["default"].stringify(x["default"].mixin(Ma,La)),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"});pa.resolve(!0)});
Na.show({message:ja.message||"",title:ja.title||""})}else Ma[va]&&(delete Ma[va],E["default"]("esri_whatsnew",z["default"].stringify(Ma),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"})),pa.resolve(!0);return pa};ta.shareSocial=function(ja){var pa=ja.evt.target;ja=ja.item;ja="public"===(null===ja||void 0===ja?void 0:ja.access);var va=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});ja?window.open(g["default"].get(pa,"href")):va.show({title:Ba["default"].itemLinks.shareItem,
message:b["default"].substitute({appTitle:p["default"].portalName||"ArcGIS.com"},Ba["default"].itemLinks.shareItemMsg)}).then(function(){va.hide().then(function(){window.open(g["default"].get(pa,"href"))})})};ta.sceneJobStatus=function(ja){var pa=ja.item,va=ja.item;ja=va.portal;var Fa=va.portal.isPortal,Da=pa.properties.cacheJobUrl;va=pa.lastCachingJobStatus;var Ca=pa.serverToken?"?token\x3d"+pa.serverToken:"",Ia=Fa?""+Da+Ca:pa.adminUrl+"/"+Da+Ca;pa=Fa?Da:pa.adminUrl+"/"+Da+Ca;(new V["default"]).show(ja,
ja.portalUser,Ia,pa,va)};ta.manageSceneCache=function(ja){var pa=ja.item,va=ja.page;ja=ja.item.portal.isPortal?va._hostedFederatedServer:void 0;va=pa.sourceData||{};(new ha["default"]).show(va,pa,ja)};ta.markItemAsAuthoritative=function(ja){var pa,va=ja.item,Fa=((null===(pa=va.portal)||void 0===pa?0:pa.isVerified)&&"public"===va.access?"public":"org")+"_authoritative";va._setContentStatusTo(Fa).then(function(Da){Da.success&&(va.set("protected",!0),k["default"].publish("item/protect",{protect:!0}),
va.set("contentStatus",Fa));return ia["default"].getVerifiedInfo(va)}).then(function(Da){va.set("verified",Da)})};ta.markItemAsDeprecated=function(ja){var pa=ja.item;pa._setContentStatusTo("deprecated").then(function(va){va.success&&(pa.set("contentStatus","deprecated"),pa.set("verified",!1))})};ta.removeContentStatus=function(ja){var pa=ja.item;pa._setContentStatusTo("").then(function(va){va.success&&(pa.set("contentStatus",""),pa.set("verified",!1))})};ta.httpsUpdate=function(ja){var pa=document.createDocumentFragment();
ja=new ca["default"](ja,m["default"].create("div",null,pa));var va=c["default"].createDialogWrapper({className:"update-to-https-dlg",draggable:!d["default"]("touch"),title:Ba["default"].itemProperties.updateLayersToHTTPS},pa);pa=function(){va.hide()};ja.startup();ja.own(k["default"].subscribe("update-to-https/done",pa),k["default"].subscribe("update-to-https/cancel",pa));va.show()};ta.domainUpdate=function(ja){var pa=document.createDocumentFragment(),va=new Q["default"](ja,m["default"].create("div",
null,pa)),Fa=c["default"].createDialogWrapper({className:"update-domains-dlg",draggable:!d["default"]("touch"),title:Ba["default"].itemProperties.domainsTitle},pa);va.startup();va.own(k["default"].subscribe("update-domain/done",function(){Fa.hide()}));Fa.show();setTimeout(function(){va.domainReplace.value&&va.domainReplace.focus()},200)};ta.replaceLayer=function(ja){(new T["default"]({item:ja.item,page:ja.page},m["default"].place(m["default"].create("div"),document.body.lastChild,"after"))).open()};
ta.replaceSceneLayer=function(ja){(new P["default"]({item:ja.item},m["default"].place(m["default"].create("div"),document.body.lastChild,"after"))).open()};ta.updateSourceUrlToHttps=function(ja){var pa=ja.page,va=ja.item;ja=p["default"].restBaseUrl+"/portals/checkurl";var Fa=[200,301,302,304,307,401,403,407,498,499],Da=null===va||void 0===va?void 0:va.url,Ca=(null===va||void 0===va?void 0:va.sourceUrl)&&n["default"].startsWith(va.sourceUrl,"http://"),Ia=null===va||void 0===va?void 0:va.sourceUrl;
if(Ca){var La=Ia.replace("http://","https://");w["default"].request({url:ja+"?url\x3d"+encodeURIComponent(La+"?f\x3djson")},{addToken:!1}).then(function(Ga){Ga&&!Ga.code&&Z["default"].includes(Fa,Ga.httpStatusCode)?pa.updateItem({url:La}).then(function(){va.set({url:Da,sourceUrl:La});k["default"].publish("item/proxy-url-update",{sourceUrl:La});Y["default"].showAlert("success",Ba["default"].itemProperties.upgradeToHttpsSuccess)}):Y["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)},
function(Ga){Y["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)})}};ta.downloadImage=function(ja){c["default"].downloadImage(ja).then(function(pa){pa&&pa.url&&(window.location=pa.url)})};ta.refreshSnapshot=function(ja){var pa,va,Fa,Da,Ca=ja.item;ja=ja.page;var Ia=(null===(va=null===(pa=Ca.adminServiceInfo)||void 0===pa?void 0:pa.properties)||void 0===va?0:va.serviceInfo)?JSON.parse(Ca.adminServiceInfo.properties.serviceInfo):{};pa=((null===Ia||void 0===Ia?void 0:Ia.layers)||
[]).filter(function(Ua){return-1<Ua.queryPolicy.indexOf("createSnapshot")}).map(function(Ua){return Ua.id}).map(function(Ua){var Ta;return null===(Ta=Ca.serviceInfo.layers.filter(function(Xa){return Xa.id===Ua}).shift())||void 0===Ta?void 0:Ta.name});var La=ja._hostedFederatedServer.url+"/rest/services/System/PublishingTools/GPServer/Refresh%20Service",Ga=La+"/submitJob";va=null===(Da=null===(Fa=Ca.url.split("/rest/services/"))||void 0===Fa?void 0:Fa[1])||void 0===Da?void 0:Da.split("/");var Ma=(Fa=
2===(va.indexOf("MapServer")||va.indexOf("FeatureServer")))?va[1]:va[0],Ha={f:"json",token:Ca.adminServerToken,serviceType:"MapServer",serviceName:Ma,serviceFolder:Fa?va[0]:null},Ka=document.getElementById("refresh-snapshot-dialog"),Na=document.getElementById("refresh-snapshot-error-dialog");Ka||(Ka=document.createElement("div"),Ka.id="refresh-shapshot-dialog",document.body.appendChild(Ka));Na||(Na=document.createElement("div"),Na.id="refresh-snapshot-error-dialog",document.body.appendChild(Na));
var Qa=Ba["default"].itemProperties.snapshot.refresh;Fa=Ba["default"].itemProperties.snapshot.description+'\x3cdiv class\x3d"leader-half margin-left-1 margin-right-1"\x3e'+pa.join("\x3cbr\x3e")+"\x3c/div\x3e";Da=Ba["default"].common;var Pa=Da.ok,Ra=Da.cancel,Sa=function(){Ja.render(null,Na);document.body.removeChild(Na)},Va=function(){Ja.render(Ja.h(wa["default"],{autoCloseOnOk:!0,hideCancel:!0,hideClose:!1,renderHtmlDescription:!1,onOk:Sa,onCancel:Sa,strings:{title:Qa,description:Ba["default"].itemProperties.snapshot.inProgress,
ok:Pa,cancel:Ra},width:"s"}),Na)};Ja.render(Ja.h(wa["default"],{autoCloseOnOk:!1,hideCancel:!1,hideClose:!1,renderHtmlDescription:!0,onOk:function(Ua){w["default"].request({url:Ga,content:Ha},{usePost:!0}).then(function(Ta){Ja.render(null,Ka);Y["default"].showAlert("success",Ba["default"].itemProperties.snapshot.success.replace("${name}",Ma));Ea["default"].checkAsyncJobStatus(La+"/jobs/"+Ta.jobId).then(function(){null===Ua||void 0===Ua?void 0:Ua();Y["default"].showAlert("success",Ba["default"].itemProperties.snapshot.finished.replace("${name}",
Ma))},function(Xa){null===Ua||void 0===Ua?void 0:Ua();Va()})},function(Ta){null===Ua||void 0===Ua?void 0:Ua();Va()})},onCancel:function(){Ja.render(null,Ka);document.body.removeChild(Ka)},strings:{title:Qa,description:Fa,ok:Pa,cancel:Ra},width:"s"}),Ka)};ta._getItemPkgPath=function(ja){var pa=ja.portal.getPortalUser();return ja.itemUrl+"/item.pkinfo"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getPItemPath=function(ja){var pa=ja.portal.getPortalUser();
return ja.itemUrl+"/item.pitem"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getPItemXPath=function(ja){var pa=ja.portal.getPortalUser();return ja.itemUrl+"/item.pitemx"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getLyrPath=function(ja){var pa=ja.portal.getPortalUser();return ja.url+"?f\x3dlyr\x26v\x3d9.3"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:"")};ta._showError=
function(ja){var pa=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});pa.show({title:ja.title||Ba["default"].addItemFrm.errors.error.title,message:ja.message||Ba["default"].addItemFrm.errors.error.message}).then(function(){pa.hide()})};ta.isFeedWithSingleHostedFeatureLayer=function(ja,pa){return"Feed"===ja.type&&ja.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feature Service"===pa[0].type&&Z["default"].includes(pa[0].typeKeywords,
"Hosted Service")};ta.isHostedFeatureLayerFromFeed=function(ja,pa){return"Feature Service"===ja.type&&ja.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feed"===pa[0].type&&Z["default"].includes(pa[0].typeKeywords,"Hosted Service")};return ta}(N["default"])})},"arcgisonline/map/utils/getMapCookie":function(){define(["dojo/Deferred","dojo/json"],function(U,M){return function(){var r=window.sessionStorage&&window.sessionStorage.getItem("Esri_webmap"),x=new U;r&&r.length?x.resolve(M.parse(r)):
x.resolve(null);return x}})},"arcgisonline/pages/dijit/ChangeOwner":function(){define("require exports tslib dojo/promise/all dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ../components/MemberPicker ../components/MemberThumb ./ChangeOwner/FolderPicker ../portal/PortalUser ../../tsutils/declareDecorator ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/organization ../../esriGeowConfig dojo/text!./ChangeOwner/templates/ChangeOwner.html dojo/i18n!../../nls/arcgisonline ../utils/icons ./OverlayConfirm preact".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);w=r.__importDefault(w);return function(){function A(D,
F){this.title=n["default"].changeOwner.title;this.i18n=n["default"];this.icons=p["default"];this.constrain=!0;this.overlayContents=t["default"].substitute(h["default"],{i18n:n["default"],icons:p["default"]});this.maxWidth=600;this.closeOnScrimClick=!1}A.prototype.postMixInProperties=function(){this.inherited(arguments)};A.prototype.postCreate=function(){this.inherited(arguments);this._initialOpen=!0;this.group||(this._folderArea=this.domNode.querySelector(".js-folder-area"),this._folderEdit=this.domNode.querySelector(".js-folder-edit"),
this._folderEditButton=this.domNode.querySelector(".js-folder-button"));this._ownerArea=this.domNode.querySelector(".js-owner-area");this._ownerEdit=this.domNode.querySelector(".js-owner-edit");this._ownerEditButton=this.domNode.querySelector(".js-owner-edit-button");this._loader=this.domNode.querySelector(".js-overlay-loader");var D=this.portal.portalUser.userRole;this.canReassignOrgItems=D.isAdmin()||D.canReassignOrgItems();this.canReassignOwnItems=!this.canReassignOrgItems&&D.canReassignOwnItems();
this._primaryBtn.disabled=!0};A.prototype.open=function(){this.inherited(arguments);this._initUI();this._addListeners()};A.prototype.close=function(D){this.inherited(arguments)};A.prototype._destroy=function(){this.inherited(arguments);B.render(null,this.domNode.querySelector(".js-member-picker"));B.render(null,this.domNode.querySelector(".js-member-thumb"))};A.prototype.handlePrimary=function(){var D=this;this.disableButtons();!this.group&&this.canReassignOwnItems?this.reassignItems():this._folderPicker&&
this._folderPicker.hasUnsavedChanges()?this._folderPicker.saveNewfolder().then(function(F){D._folder=F;D._reassign()},this._reassign.bind(this)):this._reassign()};A.prototype.disableButtons=function(){this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0};A.prototype.enableButtons=function(){this._primaryBtn.disabled=!1;this._cancelBtn.disabled=!1};A.prototype._addListeners=function(){var D=this;this._ownerEdit.addEventListener("click",this._openOwnerSelect.bind(this));this.group||(this._folderEdit.addEventListener("click",
this._openFolderSelect.bind(this)),this.own(this._folderPicker.on("selectUpdate",this._folderSelectUpdate.bind(this)),this._folderPicker.on("folderCreated",function(F){return D._createdFolder=F}),this._folderPicker.on("cancel",this._folderSelectCancel.bind(this))))};A.prototype.initUIUtil=function(){var D=this.items||[this.group],F=D[0].owner;D=D.every(function(v){return v.owner===F});return{firstOwner:F,sameOwner:D}};A.prototype._initUI=function(){var D=this,F=this.initUIUtil(),v=F.firstOwner;this.sameOwner=
F.sameOwner;this.group&&(this.domNode.querySelector(".js-item-owner-label").innerHTML=n["default"].changeOwner.groupOwner);this.memberPickerProps={portal:this.portal,group:this.group,showCancel:!this.group&&this.sameOwner,selectUpdate:this._memberSelectUpdate.bind(this),selectCancel:this._memberSelectCancel.bind(this),showMemberPicker:!0,adminOnly:this.adminOnly};this.sameOwner&&(this.memberPickerProps.excludedUsernames=[v]);this._memberPicker=B.render(B.h(y.MemberPicker,this.memberPickerProps),this.domNode.querySelector(".js-member-picker"));
this.group||(this._folderPicker=new E["default"]({portal:this.portal,user:this.owner},this.domNode.querySelector(".js-folder-picker")));this.sameOwner?this._fetchUser(v).then(function(C){D._owner=C;D._memberSelectUpdate(D._owner)}):(this._openOwnerSelect(),this._fadeIn())};A.prototype._fetchUser=function(D){var F=this;return a["default"].request({url:c["default"].restBaseUrl+"/community/users/"+D+"/"}).then(function(v){return new z["default"](r.__assign(r.__assign({},v),{portal:F.portal}))})};A.prototype._fadeIn=
function(){var D=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");D.classList.add("animate-fade-in")};A.prototype._compileRequests=function(){var D=this;if(this.group)return[this.group].map(this._reassignGroup.bind(this));var F=[],v=[],C=[],G=this._owner.username===this.owner.username,H=b["default"].getUserRole(this.owner).isCustom();this.items.forEach(function(K){G&&K.owner===D._owner.username&&!H?F.push(K):
v.push(K)});0<F.length&&C.push(this._moveItems(F));0<v.length&&v.forEach(function(K){return C.push(D._reassignItem(K))});return C};A.prototype.reassignUtil=function(D){return d["default"].find(this.items,function(F){return F.id===D.itemId})};A.prototype._reassign=function(){var D=this,F=this._compileRequests();this._loader.classList.add("is-active");x["default"](F).then(function(v){var C=v.filter(function(K){return K.success}).map(function(K){return K.item}),G=v.filter(function(K){return K.error&&
!K.success}),H=v.filter(function(K){return K.moveItems});0<H.length&&(H[0].results||[]).forEach(function(K){var O=D.reassignUtil(K);K.success?C.push({success:!0,item:O}):G.push({error:K.error,item:O})});0===G.length&&0<C.length?D._handleSuccess(C):0<G.length&&0===C.length?D._handleError(G[0]):0<G.length&&0<C.length&&D._handlePartialSuccess(C,G[0]);0===v[0].length&&D._handleSuccess(v[0])},function(v){D._handleError(v)})};A.prototype.getTransferError=function(D){var F=n["default"].changeOwner.transferErrors.general;
(null===D||void 0===D?0:D.messageCode)&&(D=n["default"].changeOwner.transferErrors[D.messageCode])&&(F=D);return F};A.prototype.reassignItems=function(){return r.__awaiter(this,void 0,void 0,function(){var D,F,v,C,G,H;return r.__generator(this,function(K){switch(K.label){case 0:D=this.portal.portalUser.username,K.label=1;case 1:return K.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/reassignItems",content:{targetUsername:this._owner.username,items:this.items.map(function(O){return O.id}).join(",")}},
{usePost:!0})];case 2:F=K.sent();if(C=F.results.some(function(O){if(O.error)return v=O.error,!0}))return G=this.getTransferError(v),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[2];e["default"].showAlert("success",n["default"].changeOwner.transferSuccess);this.close({newOwner:this._owner,newFolder:this.reassignFolderName});return[3,4];case 3:return H=K.sent(),G=this.getTransferError(H),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[3,4];case 4:return[2]}})})};
A.prototype.canReassignItems=function(){return r.__awaiter(this,void 0,void 0,function(){var D,F,v,C,G,H,K,O;return r.__generator(this,function(L){switch(L.label){case 0:D=this.portal.portalUser.username,F=this.domNode.querySelector(".js-member-select-error"),this._ownerEdit.classList.remove("input-error"),F.classList.remove("is-active"),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/canReassignItems?token\x3d"+a["default"].getToken(),
content:{targetUsername:this._owner.username,items:this.items.map(function(J){return J.id}).join(",")}},{usePost:!0})];case 2:return L.sent(),[3,4];case 3:return v=L.sent(),C=v.messageCode,G="",H=n["default"].changeOwner.warnings,K=H.cantReceiveItems,O=H.cantOwnItems,"CONT_0291"===C?G=K:"CONT_0292"===C&&(G=O),G&&(F.innerHTML=G,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error")),[3,4];case 4:return[2]}})})};A.prototype._reassignItem=function(D){var F=this._owner.username===this._folder.id?
"/":this._folder.title,v=new l["default"];a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D.owner+"/items/"+D.id+"/reassign",content:{targetUsername:this._owner.username,targetFolderName:F}},{usePost:!0}).then(function(){return v.resolve({success:!0,item:D})},function(C){return v.resolve({error:C,item:D})});return v};A.prototype._moveItems=function(D){var F=this._folder.username===this._folder.id?"/":this._folder.id,v=D.filter(function(G){return(G.ownerFolder||"/")!==F}),C=new l["default"];
0===v.length?C.resolve([]):a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:v.map(function(G){return G.id}).join(","),folder:F}},{usePost:!0}).then(function(G){return C.resolve({moveItems:!0,results:G.results})},function(G){return C.resolve({error:G,items:D})});return C};A.prototype._reassignGroup=function(){return a["default"].request({url:c["default"].restBaseUrl+"/community/groups/"+this.group.id+"/reassign",content:{targetUsername:this._owner.username}},
{usePost:!0})};A.prototype._handleSuccess=function(D){this._loader.classList.remove("is-active");if(this.telemetry&&!this.group){var F=this._folder.title===this._createdFolder;this.telemetry.logEvent({category:"change owner folder option",label:this._folder.id===this._owner.username?"default":F?"new":"custom"})}D={newOwner:this._owner,updatedItems:D};this.group||(e["default"].showAlert("success",n["default"].changeOwner.success),D.newFolder=this._folder);this.close(D)};A.prototype.showErrorPopup=
function(D){var F=this;D=new w["default"]({title:n["default"].common.errorTitle,description:D,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});D.domNode.classList.add("position-absolute");D.domNode.classList.add("fullscreen");this._overlay.appendChild(D.domNode);D.show().then(function(){F._ownerEditButton.focus()});this.enableButtons()};A.prototype._handleError=function(D){D=D.messageCode?this._getErrorText(D):this._getErrorText(D.error,D.item);this._loader.classList.remove("is-active");
this.showErrorPopup(D)};A.prototype._handlePartialSuccess=function(D,F){var v=F.error,C=F.item;this._loader.classList.remove("is-active");C=this._getErrorText(v,C);v={newOwner:this._owner,updatedItems:D,error:v};this.group||(e["default"].showAlert("error",C),v.newFolder=this._folder);this.close(v)};A.prototype._getErrorText=function(D,F){var v=this.group?n["default"].GroupWidget.error.cantReassignGroup:n["default"].changeOwner.cantChangeOwner,C=this._owner.username;if(null===D||void 0===D?0:D.messageCode)switch(D.messageCode){case "COM_0046":v=
t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupName,{name:C,groupName:this.group.title});break;case "CONT_0014":v=t["default"].substitute(n["default"].folderDlg.invalid.itemExists,[F.title,this._folder.folderAttributeName||this._folder.title]);break;case "COM_1065":v=D.message&&D.message.match(/\d+/)[0];v=t["default"].substitute(n["default"].GroupWidget.error.groupMaxOtherUser,{name:C,numGroups:v});break;case "COM_1076":v=t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupOpenData,
{name:C});break;case "COM_1084":v=t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupPrivileges,{name:C});break;case "COM_1070":v=n["default"].common.errors.COM_1070;break;default:n["default"].common.errors[D.messageCode]&&(v=n["default"].common.errors[D.messageCode]),403===D.code&&(v=n["default"].errorWidget.accessDeniedResource)}return v};A.prototype._openOwnerSelect=function(D){null===D||void 0===D?void 0:D.preventDefault();B.render(B.h(y.MemberPicker,r.__assign(r.__assign({},
this.memberPickerProps),{showMemberPicker:!0,showCancel:!this._initialOpen})),this.domNode.querySelector(".js-member-picker"));m["default"].setVisibility(this._ownerArea,!1);this.group||(m["default"].setVisibility(this._folderArea,!1),m["default"].hideNode(this._folderPicker.domNode))};A.prototype._openFolderSelect=function(D){D&&D.preventDefault();this.group||(m["default"].showNode(this._folderPicker.domNode),m["default"].setVisibility(this._folderArea,!1),this._folderPicker.focus());m["default"].setVisibility(this._ownerArea,
!1)};A.prototype._folderSelectUpdate=function(D){this._folder=D;m["default"].hideNode(this._folderPicker.domNode);m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._ownerArea,!0);this._populateCurrentFolder();this._folderEditButton&&this._folderEditButton.focus()};A.prototype._folderSelectCancel=function(){m["default"].hideNode(this._folderPicker.domNode);m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._ownerArea,!0);this._folderEditButton&&
this._folderEditButton.focus()};A.prototype._memberSelectUpdate=function(D){var F=this;this._owner=D;B.render(B.h(y.MemberPicker,r.__assign(r.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));m["default"].setVisibility(this._ownerArea,!0);B.render(B.h(u.MemberThumb,{member:D,cssClasses:"member-browser-row-thumbnail margin-right-half"}),this.domNode.querySelector(".js-member-thumb"));this.domNode.querySelector(".js-fullname").innerHTML=D.fullName;
this.domNode.querySelector(".js-username").innerHTML=D.username;this._folder=null;this._ownerEditButton.focus();if(!this._initialOpen||this.group)this._primaryBtn.disabled=!1;this.group?this._fadeIn():this.canReassignOrgItems?(this._ownerEdit.classList.add("btn-disabled"),D.folders?(this._populateCurrentFolder(),this._folderPicker.updateUser(D),this._ownerEdit.classList.remove("btn-disabled"),this._fadeIn()):D.getFolders().then(function(v){D.folders=v;F._owner.folders=v;F._populateCurrentFolder();
F._folderPicker.updateUser(D);F._ownerEdit.classList.remove("btn-disabled");F._fadeIn()})):this.canReassignOwnItems&&(this._initialOpen||this._populateTransferFolder(),this._fadeIn());D.privileges?this._validateSelectedMember():this._fetchUser(D.username).then(function(v){F._owner=v;!v.privileges&&F.canReassignOwnItems?F.canReassignItems():F._validateSelectedMember()});this._initialOpen&&this._openOwnerSelect();this._initialOpen&&!this.group&&this.canReassignOwnItems&&(this._initialOpen=!1)};A.prototype._memberSelectCancel=
function(){B.render(B.h(y.MemberPicker,r.__assign(r.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));this._ownerEdit.focus();m["default"].setVisibility(this._ownerArea,!0);this._folder&&!this.group&&m["default"].setVisibility(this._folderArea,!0);this._ownerEditButton.focus();this.canReassignOwnItems&&this._populateTransferFolder();!this._owner.privileges&&this.canReassignOwnItems?this.canReassignItems():this._validateSelectedMember()};A.prototype._validateSelectedMember=
function(){var D,F=this.domNode.querySelector(".js-member-select-error");this._ownerEdit.classList.remove("input-error");F.classList.remove("is-active");var v=!1,C=b["default"].getUserRole(this._owner),G=C.isCustom(),H=!!this.group,K=this._owner.username===this.portal.portalUser.username;H||!G||C.canCreateItem()||K||(v=n["default"].changeOwner.warnings.cantOwnItems);(null===(D=this.group)||void 0===D?0:D.isOpenDataEnabled)&&!C.canDesignateOpenDataGroups()&&(v=n["default"].changeOwner.warnings.cantOwnOpenData);
D=C.isAdmin()||G&&C.canCreateUpdateCapableGroup();H&&this.group.isSharedOwnership&&!D&&(v=n["default"].changeOwner.warnings.cantOwnAccessUpdateGroups);H&&G&&!C.canCreateGroup()&&(v=n["default"].changeOwner.warnings.cantOwnGroups);H||K||!this.canReassignOwnItems||!G||C.canReceiveUserItems()||(v=n["default"].changeOwner.warnings.cantReceiveItems);v&&"string"===typeof v&&(F.innerHTML=v,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error"))};A.prototype._populateTransferFolder=function(){m["default"].setVisibility(this._folderArea,
!0);m["default"].setVisibility(this._folderEdit,!0);this._folderEdit.classList.add("change-owner-card--disabled");m["default"].hideNode(this.domNode.querySelector(".js-folder-edit-button"));var D=new Date,F=D.getDate(),v=D.getMonth()+1;F=(10>F?"0":"")+F;v=(10>v?"0":"")+v;D=D.getFullYear().toString();this.reassignFolderName=this.portal.portalUser.username+"_"+D+"_"+v+"_"+F;this.domNode.querySelector(".js-folder-name").innerHTML=this.reassignFolderName};A.prototype._populateCurrentFolder=function(){var D;
m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._folderEdit,!0);m["default"].hideNode(this._folderPicker.domNode);if(!this._folder){var F=this.items[0].ownerFolder,v=this.items.every(function(G){return G.ownerFolder===F}),C=d["default"].find(this._owner.folders,function(G){return G.id===F});this._folder=v&&C?C:this._owner.folders[0]}this.domNode.querySelector(".js-folder-name").innerHTML=this._folder.title;v=p["default"].inline[this._folder.id===this._owner.username?
"home":"folder"]["16"];this.domNode.querySelector(".js-folder-icon").innerHTML=v;null===(D=this._folderEditButton)||void 0===D?void 0:D.focus();this._initialOpen&&(m["default"].setVisibility(this._folderArea,!1),this._initialOpen=!1)};return A=r.__decorate([q["default"](g["default"],f["default"],k["default"])],A)}()})},"arcgisonline/pages/components/MemberPicker":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ../utils/keys ../portal/PortalUser ./MemberPickerRow ./preactHooks arcgisonline/sharing/dijit/_LevelAwareMixin".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z){var q=this;Object.defineProperty(M,"__esModule",{value:!0});M.MemberPicker=void 0;l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);y=r.__importDefault(y);M.MemberPicker=function(m){var e=E.useSetState({showCancel:m.showCancel||!0,selected:null,totalMembers:0,showMoreMembers:!1,showNoResults:!1,members:[],searchInput:"",initialFocus:!1}),d=e[0],a=e[1],b=t.useRef(null);e=t.useRef(null);t.useEffect(function(){h().then(function(O){a({totalMembers:O});
100>=O||m.allowEmptySearch?n().then(function(L){return a({members:L})}):a({showMoreMembers:!0})})},[]);t.useEffect(function(){var O=d.initialFocus;b.current&&O&&(c(),a({initialFocus:!1}))},[b,d.initialFocus]);t.useEffect(function(){m.showMemberPicker&&c()},[m.showMemberPicker]);t.useEffect(function(){a({showCancel:m.showCancel})},[m.showCancel]);var c=function(){var O;null===(O=b.current)||void 0===O?void 0:O.focus()},h=function(){return r.__awaiter(q,void 0,void 0,function(){var O,L,J;return r.__generator(this,
function(R){switch(R.label){case 0:return O=w("",1),L=p(),[4,f["default"].request({url:L,content:O})];case 1:return J=R.sent(),[2,J.total]}})})},n=function(O){return r.__awaiter(q,void 0,void 0,function(){var L,J,R,X;return r.__generator(this,function(aa){switch(aa.label){case 0:return L=m.portal,J=w(O),R=p(),[4,f["default"].request({url:R,content:J})];case 1:return X=aa.sent(),[2,(X.results||X.users).map(function(ea){return new y["default"](r.__assign(r.__assign({},ea),{portal:L}))})]}})})},p=function(){var O=
m.group;return(null===O||void 0===O?0:O.isBackedByEnterpriseGroup)?g["default"].restBaseUrl+"/community/groups/"+O.id+"/userlist":g["default"].restBaseUrl+"/portals/self/users/search"},w=function(O,L){var J,R,X=m.group,aa=m.portal,ea=m.adminOnly,ka=z.LevelAwareInfo.LICENSE_LEVELS,ma=ka.ONE;ka=ka.ONE_PLUS_EDIT;ma=X?"":"-level:"+ma+" -level:"+ka+" ";X=(null===X||void 0===X?0:X.leavingDisallowed)||(null===X||void 0===X?0:X.hiddenMembers)||ea?"role:org_admin":"";ea=O?"("+O+")":"";ka=aa.isPortal?"-username:esri_livingatlas -username:esri_boundaries -username:esri_demographics -username:esri_nav":
"";if(null===(J=m.excludedUsernames)||void 0===J?0:J.length)ka=m.excludedUsernames.reduce(function(sa,za){return""+sa+(sa?" ":"")+"-username:"+za},ka);J={num:L||100,sortField:"relevance",sortOrder:"asc"};(null===(R=m.group)||void 0===R?0:R.isBackedByEnterpriseGroup)?J.name=O:J.q=ea+" "+ma+" "+X+" orgid:"+aa.id+" "+ka;return J};t.useEffect(function(){var O=d.members,L=d.searchInput,J=d.totalMembers;0<(null===O||void 0===O?void 0:O.length)?a({showMoreMembers:!1,showNoResults:!1,selected:0}):a({showNoResults:0<
L.length,showMoreMembers:0===L.length&&100<=J})},[d.members,d.totalMembers]);var B=function(O){var L=d.members,J=d.selected;m.selectUpdate(O||L[J])},A=function(O,L){var J=d.members;a({showCancel:!0});var R=O,X=J.length-1;O>X?R=0:0>O&&(R=X);a({selected:R});L||B(J[R])},D=function(){var O;null===(O=b.current)||void 0===O?void 0:O.focus()},F=function(){a(function(O){return{showCancel:!O.showCancel}})};E.useEventListener("keydown",function(O){var L=d.members,J=d.selected;if(m.showMemberPicker)switch(O.keyCode){case k.ESCAPE:m.selectCancel();
break;case k.ENTER:O.preventDefault();(null===L||void 0===L?0:L[J])&&B();break;case k.UP:O.preventDefault();A(J-1,!0);break;case k.DOWN:O.preventDefault(),A(J+1,!0)}});var v=d.members,C=d.showCancel,G=d.selected,H=d.showMoreMembers,K=d.showNoResults;return x.h("div",{ref:e,"class":"member-picker "+(m.showMemberPicker?"":"hide")},x.h("div",{"class":"font-size--1 trailer-half flex"},x.h("h4",{"class":"trailer-0 font-size--1 flex-1",id:"member-picker-label"},l["default"].changeOwner.newOwner),x.h("button",
{"class":"btn-link font-size--1 flex-0 btn-link-off-black right "+(C?"":"hide"),onClick:m.selectCancel},l["default"].common.cancel)),x.h("label",{"for":"member-picker-input","class":"visually-hidden"},l["default"].changeOwner.searchMembers),x.h("input",{id:"member-picker-input","class":"member-picker-search",ref:b,onInput:function(O){var L=d.totalMembers;O=O.target.value;O!==d.searchInput&&a({searchInput:O});(2<(null===O||void 0===O?void 0:O.length)||0<L&&100>=L||m.allowEmptySearch&&0===(null===O||
void 0===O?void 0:O.length))&&n(O).then(function(J){return a({members:J})});0===O.length&&a({showNoResults:!1});0===O.length&&!m.allowEmptySearch&&100<=L&&a({members:[],showMoreMembers:!0})},placeholder:l["default"].changeOwner.searchMembers,"aria-controls":"member-results-list",type:"search",autocomplete:"off"}),0<v.length&&x.h("ul",{"class":"member-picker-results",id:"member-results-list",role:"menu","aria-labelledby":"member-picker-label"},v.map(function(O,L){return x.h(u.MemberPickerRow,{key:O.id,
member:O,isSelected:L===G,index:L,handleCancel:F,handleSelect:A,handleFocus:D})})),K&&x.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},l["default"].changeOwner[m.group?"noUsersFoundGroup":"noUsersFoundItem"]),H&&x.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},l["default"].changeOwner.tooManyUsers))}})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});
M.DOWN=M.RIGHT=M.UP=M.LEFT=M.TAB=M.SPACEBAR=M.ENTER=M.ESCAPE=void 0;M.ESCAPE=27;M.ENTER=13;M.SPACEBAR=32;M.TAB=9;M.LEFT=37;M.UP=38;M.RIGHT=39;M.DOWN=40;M["default"]={ESCAPE:M.ESCAPE,ENTER:M.ENTER,TAB:M.TAB,UP:M.UP,DOWN:M.DOWN,LEFT:M.LEFT,RIGHT:M.RIGHT,SPACEBAR:M.SPACEBAR}})},"arcgisonline/pages/components/MemberPickerRow":function(){define(["require","exports","preact","./MemberThumb","preact/hooks"],function(U,M,r,x,t){Object.defineProperty(M,"__esModule",{value:!0});M.MemberPickerRow=void 0;M.MemberPickerRow=
function(l){var f=l.member,g=l.isSelected,k=l.handleSelect,y=l.handleFocus,u=l.index,E=r.createRef();l=f.fullName;var z=f.username;t.useEffect(function(){g&&E.current&&E.current.scrollIntoView({behavior:"smooth"})},[g,E]);return r.h("li",{"class":"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center "+(g?"is-active":""),ref:E,role:"menuitem","aria-selected":g,"tab-index":"0",onFocus:y,onClick:function(){k(u)}},r.h(x.MemberThumb,{member:f,
cssClasses:"member-browser-row-thumbnail margin-right-half"}),r.h("div",{"class":"flex-1 flex flex-column margin-left-half"},r.h("h4",{"class":"member-browser-row-name avenir-bold font-size--1 trailer-0"},l),r.h("p",{"class":"trailer-0 font-size--2"},z)))}})},"arcgisonline/pages/components/MemberThumb":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig ../utils/strings".split(" "),function(U,M,r,x,t,l,f){Object.defineProperty(M,"__esModule",{value:!0});M.MemberThumb=
void 0;f=r.__importDefault(f);M.MemberThumb=function(g){var k=g.member,y=g.cssClasses;g=g.showTooltip;var u=t.useState(null),E=u[0],z=u[1],q=t.useState(null);u=q[0];var m=q[1],e=t.useState(null);q=e[0];var d=e[1];e=t.useState(!1);var a=e[0],b=e[1];t.useEffect(function(){var h,n,p;b(!1);z(k.thumbnailUrl||k.defaultThumbnailUrl);if(k.thumbnailUrl&&k.thumbnailUrl!==k.defaultThumbnailUrl){var w=(null===(n=null===(h=l.userInfo)||void 0===h?void 0:h.credential)||void 0===n?void 0:n.token)||(null===(p=l.userInfo)||
void 0===p?void 0:p.token);w&&-1===k.thumbnailUrl.indexOf("token")&&z(function(B){return""+B+(-1<k.thumbnailUrl.indexOf("?")?"\x26":"?")+"token\x3d"+w});m("");d("#FFFFFF")}else c()},[k]);var c=function(){var h=k.fullName,n=k.username;h.trim()?(h=h.split(" "),m(h[0].substring(0,1)+(h[1]?h[1].substring(0,1):""))):k.username&&m(n.substring(0,2));h=k.id;h=(null===h||void 0===h?void 0:h.substr(h.length-6))||"";f["default"].isValidHex(h)||(h=f["default"].stringToHex(k.username));h=f["default"].hexToRgb(h);
d("rgba("+h.r+","+h.g+","+h.b+",0.2)");b(!0)};return x.h("div",{"aria-label":g?k.fullName:"","class":g?"tooltip":""},x.h("div",{"class":"member-thumb "+(y||""),style:{backgroundColor:q}},x.h("img",{src:E,onError:c,alt:"","class":"margin-left-0 "+(a?"hide":"")}),x.h("div",{"class":"member-thumb__initials "+(a?"":"hide")},u),x.h("div",{"class":"member-thumb__edit-mask"},x.h("calcite-icon",{icon:"plusCircle",scale:"l"}))))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require",
"exports","tslib","preact/hooks"],function(U,M,r,x){Object.defineProperty(M,"__esModule",{value:!0});M.useAsyncReference=M.useDebounce=M.useSetState=M.useEventListener=M.useWindowSize=void 0;M.useWindowSize=function(t){function l(){g({width:window.innerWidth,height:window.innerHeight})}t="object"!==typeof window;t=x.useState({width:t?1200:window.innerWidth,height:t?800:window.innerHeight});var f=t[0],g=t[1];x.useEffect(function(){window.addEventListener("resize",l);return function(){window.removeEventListener("resize",
l)}},[]);return f};M.useEventListener=function(t,l,f){void 0===f&&(f=window);var g=x.useRef();x.useEffect(function(){g.current=l},[l]);x.useEffect(function(){if(f&&f.addEventListener){var k=function(y){return g.current(y)};f.addEventListener(t,k);return function(){f.removeEventListener(t,k)}}},[t,f])};M.useSetState=function(t){void 0===t&&(t={});var l=x.useState(t);t=l[0];var f=l[1];l=x.useCallback(function(g){f(function(k){return r.__assign(r.__assign({},k),g instanceof Function?g(k):g)})},[f]);
return[t,l]};M.useDebounce=function(t,l){var f=x.useState(t),g=f[0],k=f[1];x.useEffect(function(){var y=setTimeout(function(){k(t)},l);return function(){clearTimeout(y)}},[t,l]);return g};M.useAsyncReference=function(t){var l=x.useRef(t),f=x.useState(!1)[1];return[l,function(g){Object.is(l.current,g)||(l.current=g,f(function(k){return!k}))}]}})},"arcgisonline/pages/dijit/ChangeOwner/FolderPicker":function(){define("require exports tslib dojo/text!./templates/FolderPicker.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dojo/Deferred dojo/debounce dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator ../../../sharing/util ../../utils/organization ../../../esriGeowConfig ./FolderPickerRow ../../utils/dom ../../utils/keys ../../utils/icons".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);c=r.__importDefault(c);return function(){function h(n,p){this.templateString=x["default"];this.i18n=t["default"];
this.icons=c["default"];this._rows=[];this._selectedIndex=0;this._creatingFolder=!1}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.containerClass=this.isMoveItem?"move-item-container":"member-picker"};h.prototype.postCreate=function(){var n=this,p;this.inherited(arguments);this.itemFolders=null===(p=this.items)||void 0===p?void 0:p.map(function(w){return w.ownerFolder});this._searchInput=this.domNode.querySelector(".js-search-input");this._noFolderRow=this.domNode.querySelector(".js-no-folder");
this._createFolderInlineLink=this._noFolderRow.querySelector(".js-create-folder-inline");this._createFolderInlineLink.addEventListener("click",this._showNewFolder.bind(this,!0));this._searchInput.addEventListener("input",g["default"](this._updateResults.bind(this),300));this.domNode.addEventListener("keydown",this._handleKeys.bind(this));this._newFolderForm=this.domNode.querySelector(".js-create-folder-form");this._newFolderForm.addEventListener("submit",function(w){var B,A;null===(A=null===(B=n.saveNewfolder(w))||
void 0===B?void 0:B.then)||void 0===A?void 0:A.call(B,function(D){n.emit("selectUpdate",D)})});this._newFolderInput=this._newFolderForm.querySelector(".js-create-folder-input");this._newFolderInput.addEventListener("input",g["default"](this._updateFolderResults.bind(this),300));this.isMoveItem?(p=this.domNode.querySelector(".js-folder-picker-cancel"),p.parentElement.removeChild(p),this._resultsDropdown.classList.add("move-item")):this.domNode.querySelector(".js-folder-picker-cancel").addEventListener("click",
function(w){n._cancelNewFolder();n._buildFolderList();n.emit("cancel")});this._createFolderButton=this.domNode.querySelector(".js-create-new-folder");this._createFolderButton.addEventListener("click",this._showNewFolder.bind(this,!1));this._showHideCreate()};h.prototype.shouldHideCreate=function(){var n=m["default"].getUserRole(this.portal.portalUser);return this.portal.portalUser.username!==this.user.username&&n.isCustom()&&n.canReassignOrgItems()};h.prototype._showHideCreate=function(){var n=this.shouldHideCreate();
a["default"].showHide(this._createFolderButton,!n);a["default"].showHide(this._createFolderInlineLink,!n)};h.prototype._buildFolderList=function(){var n=this,p;this._rows.forEach(function(B){return B.destroy()});this._rows=(this.user.folders||[]).map(function(B,A){var D=new d["default"]({folder:B,user:n.user,isMoveItem:n.isMoveItem},y["default"].place(y["default"].create("li"),n._resultsDropdown));D.on("select",function(){return n.emit("selectUpdate",B)});D.on("select",function(){return n._select(A)});
D.on("hover",function(){return n._active(A,!0)});return D});var w=null===(p=this.itemFolders)||void 0===p?void 0:p.filter(function(B,A){return B&&n.itemFolders.indexOf(B)===A});1===(null===w||void 0===w?void 0:w.length)?(p=this._rows.filter(function(B){return B.folder.id===w[0]})[0],p=this._rows.indexOf(p),-1!==p&&(this._active(p),this._select(p))):this._active(0);this._searchInput.value=""};h.prototype._updateResults=function(){var n=this._searchInput.value.toLowerCase(),p=this._rows.filter(function(w){var B=
w.folder.title.toLowerCase();B=!n||-1<B.indexOf(n);a["default"].showHide(w.domNode,B);return B});0===p.length&&(this._createFolderInlineLink.innerHTML=k["default"].substitute(this.i18n.folderDlg.createFolderInline,[n]));a["default"].showHide(this._noFolderRow,0===p.length)};h.prototype._checkMatchingFolder=function(n){var p=n.toLowerCase();return 0<this._rows.filter(function(w){return w.folder.title.toLowerCase()===p}).length};h.prototype._updateFolderResults=function(){this._checkMatchingFolder(this._newFolderInput.value)?
this._displayError("Unable to create folder.",this._newFolderInput.value):this._closeErrorMessage()};h.prototype._handleKeys=function(n){if(!this._creatingFolder)switch(n.keyCode){case b.ESCAPE:this.emit("cancel");break;case b.ENTER:n.preventDefault();this._createFolderInlineLink===document.activeElement?this._showNewFolder(!0):this._createFolderButton===document.activeElement&&this._showNewFolder(!1);if(n=this._rows[this._selectedIndex])this.emit("selectUpdate",n.folder),this._select(this._selectedIndex);
break;case b.UP:n.preventDefault();this._active(this._selectedIndex-1);break;case b.DOWN:n.preventDefault(),this._active(this._selectedIndex+1)}};h.prototype._select=function(n){if(n||0===n){var p=this._rows.length-1;n>p&&(n=0);0>n&&(n=p)}this._rows[n].select();this._rows.forEach(function(w,B){B!==n&&w.deselect()})};h.prototype._active=function(n,p){if(n||0===n){var w=this._rows.length-1;n>w&&(n=0);0>n&&(n=w);this._selectedIndex=n;this._rows[n].active();if(!p){var B=this._rows[n].domNode;w=B.parentElement;
var A=B.offsetTop;B=B.offsetHeight;var D=A+B;A<w.scrollTop?w.scrollTop=A:D>w.scrollTop+w.offsetHeight&&(w.scrollTop=A-w.offsetHeight+B)}}this._rows.filter(function(F,v){return v!==n}).forEach(function(F){return F.deactivate()})};h.prototype._showNewFolder=function(n){var p=this;this._creatingFolder=!0;n?(a["default"].hideNode(this._noFolderRow),this.saveNewfolder(void 0,!0).then(function(w){p.emit("selectUpdate",w)})):(a["default"].hideNode(this._createFolderButton),a["default"].showNode(this._newFolderForm),
this._active(),this._newFolderInput.focus(),this._newFolderForm.querySelector(".js-folder-create-cancel").addEventListener("click",this._cancelNewFolder.bind(this)))};h.prototype._cancelNewFolder=function(n){null===n||void 0===n?void 0:n.preventDefault();this._closeErrorMessage();this._creatingFolder=!1;a["default"].hideNode(this._newFolderForm);this._newFolderInput.value="";this.shouldHideCreate()||a["default"].showNode(this._createFolderButton)};h.prototype.focus=function(){this._searchInput.focus()};
h.prototype.updateUser=function(n){this.user=n;this._buildFolderList();this._showHideCreate()};h.prototype.hasUnsavedChanges=function(){return this._creatingFolder&&0<this._newFolderInput.value.length};h.prototype.saveNewfolder=function(n,p){var w=this;null===n||void 0===n?void 0:n.preventDefault();var B=e["default"].restBaseUrl+"/content/users/"+this.user.username+"/createFolder",A=p?this._searchInput.value:this._newFolderInput.value,D={title:A};if(null!==A&&void 0!==A&&A.trim())if(this._checkMatchingFolder(A))this._newFolderInput.focus();
else return this.emit("folderCreated",A),q["default"].request({url:B,content:D},{usePost:!0}).then(function(F){var v=new f["default"];!0===(null===F||void 0===F?void 0:F.success)&&(w._cancelNewFolder(),w.user.folders.unshift(F.folder),w._buildFolderList(),w._select(0),w._active(0),v.resolve(F.folder));return v},function(F){w._displayError(F.message,A)});else this._displayError(this.i18n.folderDlg.invalid.provideName,A)};h.prototype._displayError=function(n,p){var w;"Unable to create folder."===n&&
(w=""===p?this.i18n.folderDlg.invalid.provideName:k["default"].substitute(this.i18n.folderDlg.invalid.sameFolderName,[p]));var B=this.domNode.querySelector(".js-create-folder-error-message");B.innerHTML=w||n;this._newFolderInput.focus();B.classList.add("is-active");this._newFolderInput.classList.add("error")};h.prototype._closeErrorMessage=function(){this.domNode.querySelector(".js-create-folder-error-message").classList.remove("is-active");this._newFolderInput.classList.remove("error")};return h=
r.__decorate([z["default"](E["default"],u["default"],l["default"])],h)}()})},"arcgisonline/pages/dijit/ChangeOwner/FolderPickerRow":function(){define("require exports tslib dojo/text!./templates/FolderPickerRow.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(U,M,r,x,t,l,f,g,k,y){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);
k=r.__importDefault(k);y=r.__importDefault(y);return function(){function u(E,z){this.templateString=x["default"];this.i18n=t["default"];this.icons=l["default"]}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.folderIcon=l["default"].inline[this.user.username===this.folder.id?"home":"folder"]["16"]};u.prototype.postCreate=function(){var E=this;this.inherited(arguments);this._folderLink.addEventListener("click",function(z){z.preventDefault();E.emit("select")});this.domNode.addEventListener("click",
function(z){return E.emit("select")});this._folderLink.addEventListener("mouseover",function(z){return E.emit("hover")})};u.prototype.active=function(){this._folderLink.classList.add("is-active")};u.prototype.deactivate=function(){this._folderLink.classList.remove("is-active")};u.prototype.select=function(){this._folderLink.setAttribute("aria-selected","true");this._folderLink.classList.add("is-selected")};u.prototype.deselect=function(){this._folderLink.setAttribute("aria-selected","false");this._folderLink.classList.remove("is-selected")};
return u=r.__decorate([y["default"](k["default"],g["default"],f["default"])],u)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){x=r.__importDefault(x);t=r.__importDefault(t);
l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);return function(){function m(e,d){this.templateString=t["default"];this.i18n=l["default"];this.icons=u["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses="";this.noMask=!1;this._confirmDfd=new f["default"]}m.prototype.postCreate=
function(){this.inherited(arguments);this.domNode.removeAttribute("title");var e=".js-confirm-btn",d=".js-cancel-btn";this.isActions&&(e=".js-action-one",d=".js-action-two",z["default"].hideNode(this._buttons),z["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(e);this._cancelBtn=this.domNode.querySelector(d);z["default"].showHide(this._closeBtn,this.showClose);this.showActions||(z["default"].hideNode(this._buttons),z["default"].hideNode(this._actions));this.noMask&&
this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};m.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};m.prototype._addEventListeners=function(){this.own(y["default"](this._confirmBtn,
this._confirmResolve.bind(this,"onOk")),y["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),y["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};m.prototype._confirmResolve=function(e){var d=this;this._hide();setTimeout(function(){d._confirmDfd.resolve(e);d.destroy();d.emit("close")},300)};m.prototype._hide=function(){this.domNode.classList.remove("is-active")};m.prototype.show=function(){var e=this;window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add("is-active");
setTimeout(function(){e.showClose?e._closeBtn.focus():e._cancelBtn.focus();E["default"].trapFocus(e.domNode)},300);return this._confirmDfd};m.prototype.hide=function(){var e=this;this._hide();setTimeout(function(){e.destroy()},300)};return m=r.__decorate([q["default"](k["default"],g["default"],x["default"])],m)}()})},"arcgisonline/pages/dijit/MoveItem":function(){define("require exports tslib dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ./OverlayConfirm ./ChangeOwner/FolderPicker ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/icons ../../esriGeowConfig dojo/text!./ChangeOwner/templates/MoveItem.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);return function(){function c(h,n){this.title=a["default"].itemProperties.moveToFolder;
this.i18n=a["default"];this.icons=m["default"];this.constrain=!0;this.overlayContents=x["default"].substitute(d["default"],{i18n:a["default"],icons:m["default"]});this.maxWidth=600;this.loadingText=a["default"].common.updating}c.prototype.postMixInProperties=function(){this.inherited(arguments)};c.prototype.postCreate=function(){this.inherited(arguments);this._loader=this.domNode.querySelector(".js-overlay-loader")};c.prototype.open=function(){this.inherited(arguments);this.initUI();this.addListeners()};
c.prototype.close=function(h){this.inherited(arguments)};c.prototype.handlePrimary=function(){var h=this,n;(null===(n=this._folderPicker)||void 0===n?0:n.hasUnsavedChanges())?this._folderPicker.saveNewfolder().then(function(p){h._folder=p;h.updateItems()},this.updateItems.bind(this)):this.updateItems()};c.prototype.addListeners=function(){this.own(this._folderPicker.on("selectUpdate",this.folderSelectUpdate.bind(this)))};c.prototype.initUI=function(){this._folderPicker=new y["default"]({portal:this.portal,
user:this.owner,isMoveItem:!0,items:this.items},this.domNode.querySelector(".js-folder-picker"));this.memberSelectUpdate(this.owner);this._primaryBtn.disabled=!0};c.prototype.fadeIn=function(){var h=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");h.classList.add("animate-fade-in");u["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.updateItems=function(){var h=this;this.moveItems(this.items).then(function(n){n=
n.results||[];var p=n.filter(function(A){return A.success}).map(function(A){return A.item}),w=n.filter(function(A){return A.error&&!A.success}),B=n.filter(function(A){return A.moveItems});0<B.length&&(B[0].results||[]).forEach(function(A){var D=z["default"].find(h.items,function(F){return F.id===A.itemId});A.success?p.push({success:!0,item:D}):w.push({error:A.error,item:D})});0===w.length&&0<p.length?h.handleSuccess(p):0<w.length&&0===p.length?h.handleError(w[0]):0<w.length&&0<p.length&&h.handlePartialSuccess(p,
w[0]);0===n.length&&h.handleSuccess()},this.handleError.bind(this))};c.prototype.moveItems=function(h){this._loader.classList.add("is-active");var n=this._folder.username===this._folder.id?"/":this._folder.id,p=h.filter(function(B){return(B.ownerFolder||"/")!==n}),w=new t["default"];0===p.length?w.resolve({moveItems:!0,results:[]}):q["default"].request({url:e["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:p.map(function(B){return B.id}).join(","),folder:n}},
{usePost:!0}).then(function(B){return w.resolve({moveItems:!0,results:B.results})},function(B){return w.resolve({error:B,items:h})});return w};c.prototype.handleSuccess=function(h){this._loader.classList.remove("is-active");h={newOwner:this._owner,newFolder:this._folder,updatedItems:h};E["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);this.close(h)};c.prototype.handleError=function(h){var n,p=h.error,w=h.itemId;h=p;"CONT_0014"===
p.messageCode&&(p=null===(n=this.items.filter(function(B){return B.id===w}))||void 0===n?void 0:n[0])&&(h=x["default"].substitute(a["default"].folderDlg.invalid.itemExists,[p.title,this._folder.folderAttributeName||this._folder.title]));this._loader.classList.remove("is-active");n=new k["default"]({title:a["default"].common.errorTitle,description:this._folder?h:a["default"].folderDlg.invalid.selectFolder,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});n.domNode.classList.add("position-absolute");
n.domNode.classList.add("fullscreen");this._overlay.appendChild(n.domNode);n.show()};c.prototype.handlePartialSuccess=function(h,n){var p,w=n.itemId,B=n.error;this._loader.classList.remove("is-active");var A={newOwner:this._owner,updatedItems:h,error:B},D=null===(p=this.items.filter(function(F){return F.id===w}))||void 0===p?void 0:p[0];E["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);"CONT_0014"===B.messageCode&&E["default"].showAlert("error",
x["default"].substitute(a["default"].folderDlg.invalid.itemExists,[D.title,this._folder.folderAttributeName||this._folder.title]));A.newFolder=this._folder;this.close(A)};c.prototype.openFolderSelect=function(h){null===h||void 0===h?void 0:h.preventDefault();u["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.folderSelectUpdate=function(h){this._folder=h;this.populateCurrentFolder();this._primaryBtn.disabled=!1};c.prototype.memberSelectUpdate=function(h){var n=
this;this._owner=h;this._folder=null;h.folders?(this.populateCurrentFolder(),this._folderPicker.updateUser(h),this.openFolderSelect(),this.fadeIn()):h.getFolders().then(function(p){h.folders=p;n._owner.folders=p;n.populateCurrentFolder();n._folderPicker.updateUser(h);n.fadeIn()})};c.prototype.populateCurrentFolder=function(){if(!this._folder){var h=this.items[0].ownerFolder,n=this.items.every(function(w){return w.ownerFolder===h}),p=z["default"].find(this._owner.folders,function(w){return w.id===
h});this._folder=n&&p?p:this._owner.folders[0]}};return c=r.__decorate([b["default"](f["default"],l["default"],g["default"])],c)}()})},"arcgisonline/sharing/dijit/dialog/DeleteWarningDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg");U.require("dijit.Dialog");U.require("dijit._Widget");U.require("dijit._Templated");U.declare("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg",
[M._Widget,M._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"delete-warning-dialog" class\x3d"general-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.deleteWarningDlgTitle}"\x3e\r\n    \x3cdiv id\x3d"delete-warning-dialog-content" class\x3d"leader-quarter break-word"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriFloatTrailing right leader-1 clearfix flex flex-align-center"\x3e\r\n      \x3cspan id\x3d"delete-status" class\x3d"text-right margin-right-half" style\x3d"display: none;"\x3e${!i18n.deletingSpace}\x3c/span\x3e\r\n\t\x3c!-- "primary" / "calcite orange" used since this is a delete confirmation --\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-submit" class\x3d"jevent calcite orange btn-delete" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.deleteLabel}\r\n      \x3c/button\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-close" class\x3d"jevent cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
handler:null,manualHide:!1,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.DeleteWarningDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").deleteWarningDlg)},postCreate:function(){this.loadConnections()},show:function(x,t,l,f){this.handler=l;this.clear();
if(null==t||""==t)t="item";M.byId("button_delete-warning-submit").set("disabled",!1);M.byId("button_delete-warning-close").set("disabled",!1);this.manualHide=f;l="";l=1==x?U.string.substitute(this.i18n.confirmDeleteItem,[t]):U.string.substitute(this.i18n.confirmDeleteItems,[x,t]);U.byId("delete-warning-dialog-content").innerHTML=l;U.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel;U.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel;U.style(U.byId("delete-status"),
"display","none");M.byId("delete-warning-dialog").show()},showMsg:function(x,t,l){null!=x&&0!=x.length&&(this.handler=t,this.clear(),M.byId("button_delete-warning-submit").set("disabled",!1),M.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=l,U.byId("delete-warning-dialog-content").innerHTML=x,U.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel,U.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel,U.style(U.byId("delete-status"),"display",
"none"),M.byId("delete-warning-dialog").show())},showMsgTitleButton:function(x,t,l,f,g){null!=x&&0!=x.length&&(this.handler=f,this.clear(),M.byId("button_delete-warning-submit").set("disabled",!1),M.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=g,U.byId("delete-warning-dialog-content").innerHTML=x,U.byId("delete-warning-dialog_title").innerHTML=t,U.byId("button_delete-warning-submit_label").innerHTML=l,U.style(U.byId("delete-status"),"display","none"),M.byId("delete-warning-dialog").show())},
renameDeleteButton:function(x){M.byId("button_delete-warning-submit").set("label",x)},renameCancelButton:function(x){M.byId("button_delete-warning-close").set("label",x)},clear:function(){},loadConnections:function(){this.own(U.query("#button_delete-warning-close").connect("onclick",function(x){x.preventDefault();if(this.onHide)this.onHide();M.byId("delete-warning-dialog").hide()}.bind(this)),U.query("#button_delete-warning-submit").connect("onclick",U.hitch(this,"submitRequest")))},submitRequest:function(x){x.preventDefault();
this.handler();this.manualHide?(U.style(U.byId("delete-status"),"display","inline-block"),M.byId("button_delete-warning-submit").set("disabled",!0),M.byId("button_delete-warning-close").set("disabled",!0)):M.byId("delete-warning-dialog").hide()},hide:function(){M.byId("delete-warning-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/ExportDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/serviceUtil ../../../pages/utils/categories ../../../pages/utils/dom ../../util ../SaveItem ./GeneralDlg ../../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/promise/all dojo/string dojo/on dojo/topic esri/config esri/lang esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExportDlg.html ../ComboBox".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=
r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);var D;(function(F){F.ShapeFile="Shapefile";F.CSV="CSV";F.FileGDB="File Geodatabase";F.GeoJson="GeoJson";F.FeatureCollection="Feature Collection";F.KML="KML";F.Excel="Excel";F.TilePackage="Tile Package";F.GeoPackage="GeoPackage"})(D||(D={}));return function(){function F(){this.declaredClass="arcgisonline.sharing.dijit.dialog.ExportDlg";this.widgetsInTemplate=!0;this.templateString=A["default"];this.layerId=-1;
this.init=!1;this.checkStatusInterval=null;this.checkingStatus=!1;this.statusCheckIntervalTime=4E3;this._setMessageAttr={node:"_message",type:"innerHTML"};this.typeLookup={shapefileType:D.ShapeFile,csvType:D.CSV,fileGDB:D.FileGDB,geoJson:D.GeoJson,featureCollection:D.FeatureCollection,kmlType:D.KML,excelType:D.Excel,CSV:"CSV Collection",KML:"KML Collection",Excel:"Microsoft Excel",tilePackage:D.TilePackage};this.requiredBorder="1px dotted orangered";this.normalBorder="1px solid #bbb"}F.prototype.onDone=
function(v){};F.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=r.__assign(r.__assign(r.__assign({},B["default"].common),B["default"].exportDlg),{defaultError:B["default"].errorWidget.defaultError,generalize:B["default"].addLayerFromFileDlg.generalize,keepOrig:B["default"].addLayerFromFileDlg.keepOrig,notEnoughCreditsTitle:B["default"].publishTileServiceDlg.notEnoughCreditsTitle,itemProperties:B["default"].itemProperties});this._webMercatorValues={3857:1,102113:1,102100:1,
900913:1}};F.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.init=!0,this.saveItem=new y["default"]({},this.saveItemForm))};F.prototype.startup=function(){this.inherited(arguments);n["default"].defaults.io.proxyUrl=x["default"].proxyServer;x["default"].proxyUrl&&(n["default"].defaults.io.proxyUrl=x["default"].proxyUrl)};F.prototype.destroy=function(){this._onSaveItemValidateHandle&&(this._onSaveItemValidateHandle.remove(),this._onSaveItemValidateHandle=null);this.exportDialog.destroyRecursive();
this._pendingCanceller=this.exportDialog=null;this.inherited(arguments)};F.prototype.show=function(v,C,G,H){var K=this;this.showDlg(v,C,G);H&&setTimeout(function(){K._message.style.maxWidth=K.saveItem.domNode.clientWidth+"px";K.setWait(!0);H.waitForCredits.then(function(O){K._pendingCanceller=null;if(O.success)return K.set("message",O.message),K.unsetWait();K.displayError(O,K.i18n.notEnoughCreditsTitle)},function(O){K._pendingCanceller=null;K.displayError(O)});K._pendingCanceller=H.canceller},0)};
F.prototype.showShapefile=function(v,C){this.showDlg(v,C,D.ShapeFile)};F.prototype.showCSV=function(v,C){this.showDlg(v,C,D.CSV)};F.prototype.showFileGDB=function(v,C){this.showDlg(v,C,D.FileGDB)};F.prototype.showGeoJson=function(v,C){this.showDlg(v,C,D.GeoJson)};F.prototype.showFeatureCollection=function(v,C){this.showDlg(v,C,D.FeatureCollection)};F.prototype.showDlg=function(v,C,G){this.clear();this.item=v;this.setDialogTitle(G);this.setLayerDetails(C);this.checkForStaleData(v,C);this.initTags();
this.initCategories();this.exportDialog.show();v=this.onCancel.bind(this);this.own(z["default"](this.exportDialog.closeButtonNode,v),c["default"](this.cancelBtn,"click",v),c["default"](this.exportBtn,"click",this.onExport.bind(this)));this.exportDialog.closeButtonNode.tabIndex=0};F.prototype.checkForStaleData=function(v,C){var G,H,K,O;(null===(G=v.layers)||void 0===G?0:G.length)&&"Feature Service"===v.type&&-1<v.typeKeywords.indexOf("Hosted Service")&&(C&&!C.length?O=null===(H=C.editingInfo)||void 0===
H?void 0:H.lastEditDate:v.layers.forEach(function(L){var J;(K=null===(J=L.editingInfo)||void 0===J?void 0:J.lastEditDate)&&(!O||O<K)&&(O=K)}))};F.prototype.initTags=function(){var v=this;this.saveItem.loadTags().then(function(){v.saveItem.set("tags",[])})};F.prototype.initCategories=function(){this.saveItem.loadCategories(this.item.categories)};F.prototype.setDialogTitle=function(v){this.exportType=v;v=this.i18n.itemProperties;var C=this.i18n.exportDialogTitle;D.ShapeFile===this.exportType?C=v.exportToShapefile:
D.CSV===this.exportType?C=v.exportToCSVFile:D.FileGDB===this.exportType?C=v.exportToFileGDB:D.GeoJson===this.exportType?C=v.exportToGeoJson:D.FeatureCollection===this.exportType?C=v.exportToFeatureCollection:D.KML===this.exportType?C=v.exportToKML:D.Excel===this.exportType?C=v.exportToExcel:D.TilePackage===this.exportType?C=v.exportToTilePackage:D.GeoPackage===this.exportType&&(C=v.exportToGeoPackage);this.exportDialog.set("title",C)};F.prototype.setLayerDetails=function(v){var C,G,H,K;this._isTableLayer=
this._isWebMercator=!1;v&&p["default"].isDefined(v.id)?(this.layerId=v.id,this._layers=[v],this.saveItem.set("title",v.name),this._isWebMercator=(null===(G=null===(C=v.extent)||void 0===C?void 0:C.spatialReference)||void 0===G?void 0:G.wkid)in this._webMercatorValues,this._extent=v.extent):v&&v.length&&(this._layers=v,this._isWebMercator=(null===(K=null===(H=v[0].extent)||void 0===H?void 0:H.spatialReference)||void 0===K?void 0:K.wkid)in this._webMercatorValues,this._isTableLayer=v.every(function(O){return"Table"===
O.type}),this._extent=v[0].extent,this.saveItem.set("title",1===v.length?v[0].name:this.item.title));this._isWebMercator&&!this._isTableLayer&&this.exportType===D.FeatureCollection&&(this.featureCollectionDiv.classList.remove("hide"),this.generalizeChk.checked=!0)};F.prototype.clear=function(){this.exportDialog.set("title",this.i18n.exportDialogTitle);this.item=null;this.layerId=-1;this.checkStatusInterval=this.exportResponse=this.exportType=null;this.checkingStatus=!1;this.saveItem.set("title","");
this.saveItem.set("tags",[]);this.saveItem.set("summary","");this.saveItem.set("requires",["title"]);this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!0;this._onSaveItemValidateHandle=h["default"].subscribe("onSaveItemValidate",this.validate.bind(this));this.saveItem.hideRow("folder");g["default"].forEachNode(this.saveItem.domNode.querySelectorAll(".select2-container.select2-container-multi"),function(v){v.style.minWidth="33px"});this.featureCollectionDiv.classList.add("hide");
this.generalizeChk.checked=!1};F.prototype.hide=function(){return this.exportDialog.hide()};F.prototype.validate=function(v){v=this.saveItem.get("title");this.exportBtn.disabled=!v};F.prototype.validates=function(){return!!this.saveItem.get("title")};F.prototype.setWait=function(v){this.exportDialog.domNode.style.cursor="wait";v?this.set("message",this.i18n.estimatingCredits):this.exportingLabel.style.visibility="visible";this.exportBtn.disabled=!0};F.prototype.unsetWait=function(){this.exportDialog.domNode.style.cursor=
"default";this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!1};F.prototype.exportImageryItem=function(){var v=this,C=this.saveItem.get("title");C=l["default"].exportImageryToTilePackage(this.item,C);var G=C.dfd;this._pendingCanceller=C.canceller;G.then(function(H){var K=H.success;H=H.outputValue;v._pendingCanceller=null;K&&H.itemId?(v.exportResponse={exportItemId:H.itemId},v.updateExportedItemDetails({itemId:H.itemId,statusMessage:""})):v.displayError(v.i18n.defaultError)},function(){v._pendingCanceller=
null;v.displayError(v.i18n.defaultError)})};F.prototype.exportItem=function(){var v=this;if(this._moveFailed)this.updateItem(this._moveFailed.itemId,"/").then(function(L){v.unsetWait();v.onDone(L)});else{this.setWait();if("Image Service"===this.item.type&&D.TilePackage===this.exportType)return this.exportImageryItem();var C=this.saveItem.get("title"),G=this.generalizeChk.checked,H={maxAllowableOffset:1,quantizationParameters:{tolerance:1}},K=D.ShapeFile;D.CSV===this.exportType?K=D.CSV:D.FileGDB===
this.exportType?K=D.FileGDB:D.GeoJson===this.exportType?K=D.GeoJson:D.FeatureCollection===this.exportType?K=D.FeatureCollection:D.KML===this.exportType?K="kml":D.Excel===this.exportType?K="excel":D.GeoPackage===this.exportType&&(K="geoPackage");var O=this._layers.map(function(L){return G?r.__assign({id:L.id},H):{id:L.id}});C={itemId:this.item.id,title:C,exportFormat:K,exportParameters:-1<this.layerId?{layers:O}:G?H:null};this.item.isOwner&&this.item.isDataView&&(C.exportParameters=r.__assign(r.__assign({},
C.exportParameters||{}),{enforceFieldVisibility:!0}));D.FileGDB===this.exportType&&(C.exportParameters=r.__assign(r.__assign({},C.exportParameters||{}),{exportContingentValues:!0}));C.exportParameters&&(C.exportParameters=JSON.stringify(C.exportParameters));K=k["default"].getUser();k["default"].request({url:x["default"].restBaseUrl+"content/users/"+K.username+"/export",content:C},{usePost:!0}).then(this.handleExport.bind(this),this.displayError.bind(this))}};F.prototype.handleExport=function(v){!v||
v.code||v.message?this.displayError(v):(this.exportResponse=v,this.checkStatusInterval=setInterval(this.checkStatus.bind(this),this.statusCheckIntervalTime))};F.prototype.checkStatus=function(){var v=this;if(this.exportResponse&&!this.checkingStatus){var C={jobId:this.exportResponse.jobId,jobType:"export"},G=k["default"].getUser();G=x["default"].restBaseUrl+"content/users/"+G.username+"/items/"+this.exportResponse.exportItemId+"/status";this.checkingStatus=!0;k["default"].request({url:G,content:C}).then(function(H){v.handleStatusCheck(H);
v.checkingStatus=!1},function(H){v.displayError(H);v.checkingStatus=!1})}};F.prototype.handleStatusCheck=function(v){"completed"===(null===v||void 0===v?void 0:v.status)?(clearInterval(this.checkStatusInterval),this.updateExportedItemDetails(v)):"failed"===v.status&&(clearInterval(this.checkStatusInterval),this.updateExportedItemDetailsAndFail(v))};F.prototype.updateExportedItemDetailsAndFail=function(v){var C=this;this.getItemDetails(this.exportResponse.exportItemId).then(function(G){var H=[],K=
x["default"].self.hasCategorySchema&&C.saveItem.get("categories")||[];0<K.length&&H.push(f["default"].setItemCategories([G.id],K));H.push(C.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){C.unsetWait();C.displayFailure(v.statusMessage)})})};F.prototype.updateExportedItemDetails=function(v){var C=this;this.getItemDetails(v.itemId).then(function(G){var H=[],K=x["default"].self.hasCategorySchema&&C.saveItem.get("categories")||[];0<K.length&&H.push(f["default"].setItemCategories([G.id],
K));H.push(C.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){C.unsetWait();C.onDone(v)})})};F.prototype.moveItem=function(v,C){var G=this,H=new d["default"],K=k["default"].getUser();K=x["default"].restBaseUrl+"content/users/"+K.username+"/items/"+v+"/move";var O={folder:C||"/"};this._moveFailed=null;C&&"/"!==C&&""!==C?k["default"].request({url:K,content:O},{usePost:!0}).then(function(L){H.resolve(L)},function(L){if(L&&"CONT_0011"===L.messageCode){var J=G.saveItem.get("title");J=b["default"].substitute(G.i18n.duplicateFound,
{type:G.exportType,title:J});t["default"].createSpecifiedDialog(u["default"]).show({title:G.i18n.errorTitle,message:J});G._moveFailed=r.__assign(r.__assign({},L),{itemId:v,folderId:C});G.unsetWait()}}):H.resolve({itemId:v});return H};F.prototype.updateItem=function(v,C){var G=this.saveItem.get("title"),H=this.saveItem.get("tags"),K=this.saveItem.get("summary"),O=this.saveItem.get("folderId"),L=x["default"].restBaseUrl+"content/items/"+this.exportResponse.exportItemId+"/data",J=k["default"].getUser();
J=x["default"].restBaseUrl+"content/users/"+J.username;C&&0<C.length&&(J+="/"+C);J+="/items/"+this.exportResponse.exportItemId+"/update";G={title:G,tags:H,snippet:K};this._moveFailed||(G.folderId=O);D.KML===this.exportType&&(G.url=L);return k["default"].request({url:J,content:G},{usePost:!0}).then(this.moveItem.bind(this,v,O))};F.prototype.getItemDetails=function(v){return k["default"].request({url:x["default"].restBaseUrl+"content/items/"+v})};F.prototype.goToItem=function(v){var C=this;this.hide().then(function(){C.unsetWait();
window.location.href=x["default"].baseUrl+"item.html?id\x3d"+v})};F.prototype.checkTitle=function(){var v=this.saveItem.get("title"),C=this.saveItem.get("folderId"),G=this.typeLookup[this.exportType]||this.exportType,H=k["default"].getUser().username;return k["default"].request({url:x["default"].restBaseUrl+"search",content:{q:'title:"'+v+'" AND type:"'+G+'" AND owner:"'+H+'" AND ownerfolder:"'+(C&&"/"!==C?C:"root")+'"'}})};F.prototype.displayFailure=function(v){var C=this;if(v)try{var G=JSON.parse(v)}catch(O){G=
v}var H=t["default"].createSpecifiedDialog(u["default"]);H.onOkClick=function(){H.hide();C.onCancel()};var K=this.i18n.errorTitle;G.message&&(v=G.message);H.show({title:K,message:v})};F.prototype.displayError=function(v,C){var G=this;C=C||this.i18n.errorTitle;if(v){var H=t["default"].createSpecifiedDialog(u["default"]);H.onOkClick=function(){H.hide();G.onCancel()};H.show({title:C,message:(null===v||void 0===v?0:v.code)&&v.message?v.message:v})}};F.prototype.onExport=function(){var v=this;this.validates()&&
this.checkTitle().then(function(C){0<C.total?(C=v.saveItem.get("title"),C=b["default"].substitute(v.i18n.duplicateFound,{type:v.typeLookup[v.exportType]||v.exportType,title:C}),t["default"].createSpecifiedDialog(u["default"]).show({title:v.i18n.errorTitle,message:C})):v.exportItem()})};F.prototype.onCancel=function(v){var C,G;null===(C=null===v||void 0===v?void 0:v.preventDefault)||void 0===C?void 0:C.call(v);null===(G=this._pendingCanceller)||void 0===G?void 0:G.call(this);this.hide();this.destroy()};
return F=r.__decorate([E["default"](q["default"],m["default"],e["default"],w["default"])],F)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);
f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);return function(){function d(){}d.getDateFields=function(a){return((null===a||void 0===a?void 0:a.fields)||[]).filter(function(b){return"esriFieldTypeDate"===(null===b||void 0===b?void 0:b.type)})};d.fetchServerToken=function(a,b){var c=a.portal,h=b||a.url;return h?m["default"].request({url:m["default"].getSecureUrl(c.portalUrl+
"generateToken"),content:{serverUrl:h}},{usePost:!0}).then(function(n){return n.token}):null};d.fetchItemAdminUrl=function(a,b){var c;return a.portal.isPortal?(null===b||void 0===b?0:b.adminUrl)&&b.url?this.getAdminUrl(a,b):a.url:(null===(c=a.url)||void 0===c?void 0:c.replace("/rest/","/rest/admin/"))||null};d.getAdminUrl=function(a,b){var c=a.url;c=c.replace(c.split("/rest/")[0],b.adminUrl);return a.isSDS||"Knowledge Graph"===a.type?c.replace("/rest/","/rest/admin/"):c.replace("/rest/","/admin/").replace("/FeatureServer",
".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};d.fetchServiceLayers=function(a){return m["default"].request({url:a+"/layers"}).then(function(b){return(null===b||void 0===b?void 0:b.layers)||[]})};d.renameServiceLayers=function(a,b){var c=new x["default"],h=b.adminUrl+"/"+a.layerId,n={name:a.layerRename};"Map Service"===b.type?(h+="/edit",n={layerDefinition:JSON.stringify(n)}):
(h+="/updateDefinition",n={updateDefinition:JSON.stringify(n),async:!1});m["default"].request({url:h,content:n},{usePost:!0}).then(function(){return c.resolve()},function(p){return c.reject(p)});return c};d.updateServiceDefinition=function(a){var b=a.layerId,c=a.item;a=a.definition;var h=new x["default"];m["default"].request({url:c.adminUrl+"/"+b+"/updateDefinition",content:{updateDefinition:JSON.stringify(a),async:!1}},{usePost:!0}).then(function(){return h.resolve()},function(n){return h.reject(n)});
return h};d.queryGeocodeCounts=function(a){var b=[],c=a.url,h={where:"1\x3d1",returnCountOnly:!0},n=a.reviewTable,p=c+"/"+(a.layers||[])[0].id+"/query",w=new x["default"];a.canUpdate&&a.isHostedService&&a.hasGeocodeReviewTable?(b.push(m["default"].request({url:p,content:h})),n&&(a=c+"/"+n.id+"/query",b.push(m["default"].request({url:a,content:h}))),l["default"](b).then(function(B){var A=(null===B||void 0===B?void 0:B.length)&&B[0].count||0;w.resolve({successful:A,total:A+(1<(null===B||void 0===B?
void 0:B.length)&&B[1].count||0)})},function(B){w.resolve(null)})):w.resolve(null);return w};d.adjustHostedServerForProtocol=function(a){return"https:"===location.protocol?a.replace("http:","https:").replace(":6080",":6443"):a.replace("https:","http:").replace(":6443",":6080")};d.checkForResources=function(a){var b=a.itemUrl+"/resources/styles/root.json";"Vector Tile Service"!==a.type||g["default"].isDefined(a.hasResources)?(b=new x["default"],b.resolve(!!a.hasResources)):b=m["default"].request({url:b}).then(function(){return!0},
function(){return!1});return b};d.setFeatureServiceScaleRanges=function(a){var b=this,c=new x["default"],h=a.url,n=a.sourceData||{},p=a.featureLayers||[];!a.numViews&&a.isHostedService&&"Feature Service"===a.type&&"Service Definition"!==n.type?l["default"](p.map(function(w){return b.setScaleRange(h+"/"+w.id,a,w.id)})).then(function(){return c.resolve(!0)}):c.resolve(!0);return c};d.setScaleRange=function(a,b,c){var h=new x["default"],n=new k["default"](a);a=b.adminUrl;c=g["default"].isDefined(c)?
"/"+c:"";var p=""+a+c+"/updateDefinition";n.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){n.statisticsPlugin.getSuggestedScaleRange().then(function(w){w={updateDefinition:t["default"].stringify({maxScale:w.maxScale||0,minScale:w.relaxedMinScale||0})};m["default"].request({url:p,content:w},{usePost:!0}).then(function(){return h.resolve(b)},function(){return h.resolve(b)})},function(w){h.resolve(b)})});return h};d.getSuggestedScaleRange=function(a){var b=new x["default"],c=new k["default"](a);
c.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){c.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(h){return b.resolve(h)},function(h){b.resolve(null)})},function(h){b.resolve(null)});return b};d.encodeServiceName=function(a,b){if(f["default"]("ie")||f["default"]("trident")||f["default"]("edge")){var c=a.indexOf("admin/services/Hosted/"),h=m["default"].isPortal()&&!b?-1<a.indexOf(".MapServer")?a.indexOf(".MapServer"):-1<a.indexOf(".VectorTileServer")?
a.indexOf(".VectorTileServer"):a.indexOf("/SceneServer"):a.indexOf("/FeatureServer");0<c&&(a=a.substring(0,c+22)+encodeURIComponent(a.substring(c+22,h))+a.substring(h))}return a};d.getImageryToTilePackageParams=function(a,b){var c,h=a.id,n=a.itemUrl||a.portal.portalUrl+"content/items/"+h,p=a.portal.getPortalUser();p=(null===(c=null===p||void 0===p?void 0:p.credential)||void 0===c?void 0:c.token)||(null===p||void 0===p?void 0:p.token);return{inputImageryLayer:JSON.stringify({itemId:h,url:n+"?token\x3d"+
p}),outputTilePackage:b||"tpk"+h,context:"{}"}};d.exportImageryToTilePackage=function(a,b,c){a=d.getImageryToTilePackageParams(a,b);a=r.__assign(r.__assign({},a),{f:"json"});return d.createImageryTask({taskName:"ExportToTilePackage",inputParameters:a,updateDelay:2E4,statusCallback:c,outputParameterName:"outTilePackage"})};d.fetchExportImageryCredits=function(a){a=d.getImageryToTilePackageParams(a);a={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:a}),f:"json",context:"{}"};
return d.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:a,updateDelay:2E3,outputParameterName:"outCost"})};d.createImageryTask=function(a){var b=a.taskName,c=a.updateDelay,h=a.inputParameters,n=a.outputParameterName,p=a.statusCallback,w=new x["default"],B=new u["default"](e["default"].self.helperServices.rasterAnalytics.url+"/"+b);c&&B.setUpdateDelay(c);var A,D=!1,F=function(v){return!D&&w.reject(v)};B.on("error",F);B.submitJob(h,function(v){if(!D)if("esriJobSucceeded"===
v.jobStatus){if(!n)return w.resolve({success:!0});B.getResultData(v.jobId,n).then(function(C){w.resolve({success:null!=(null===C||void 0===C?void 0:C.value),outputValue:null===C||void 0===C?void 0:C.value})},F)}else w.resolve({success:!1})},function(v){A=v.jobId;null===p||void 0===p?void 0:p(v)},F);return{canceller:function(){A&&(D=!0,B.cancelJobStatusUpdates(A),B.cancelJob(A,null,null))},dfd:w}};d.fetchBuildingSceneSubLayer=function(a,b,c){return new Promise(function(h){m["default"].request({url:a+
"/layers/"+b+"/sublayers/"+c}).then(function(n){h({layerId:b,subLayer:n})},function(){h({layerId:b,subLayer:{}})})})};d.fetchPartialUpdateBuildingScenePublishingCredits=function(a,b,c){var h=this,n=b.serviceInfo||{},p=n.layers||[],w=a.url+"/extractChanges",B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},A={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",v={name:n.name,etype:"tilegencnt",
stype:"scene"},C;return new Promise(function(G){var H=[];c.forEach(function(K){var O,L;C=p.find(function(J){return J.id===K.id});(null===(O=C.sublayers)||void 0===O?void 0:O.filter(function(J){return"3DObject"===J.layerType}).map(function(J){return J.id})).forEach(function(J){H.push(h.fetchBuildingSceneSubLayer(b.url,K.id,J))});C.isTextured=!(null===(L=null===C||void 0===C?void 0:C.multiPatchInfo)||void 0===L||!L.hasTexture);A[K.id]=C});Promise.all(H).then(function(K){var O={};K.forEach(function(L){var J=
L.subLayer,R=J.associatedLayerID;J=J.serviceUpdateTimeStamp.lastUpdate;O[R]=L.layerId;B.layers.push(R);B.layerServerGens.push({id:R,serverGen:J})});m["default"].request({url:w,content:r.__assign(r.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},{usePost:!0}).then(function(L){(null===L||void 0===L?0:L.edits)?(Object.keys(L.edits).forEach(function(J){J=L.edits[J];var R=J.objectIds;D[A[O[J.id]].isTextured?"textured":"untextured"]+=R.adds.length+R.updates.length+
R.deletes.length}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:r.__assign({num:D.textured,task:"textured"},v)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:r.__assign({num:D.untextured,task:"nontextured"},v)}):null}).then(function(J){var R,X;J=((null===(R=null===J||void 0===J?void 0:J.textured)||void 0===R?void 0:R.credits)||0)+((null===(X=null===J||void 0===J?void 0:J.untextured)||void 0===X?void 0:X.credits)||0);G(J)},function(){G(0)})):G(0)},function(L){G(0)})},
function(){G(0)})})};d.fetchPartialUpdateScenePublishingCredits=function(a,b,c){var h=new x["default"],n=(a.adminServiceInfo||{}).layers||[],p=b.serviceInfo||{},w=p.layers||[];a=a.url+"/extractChanges";var B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},A={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",v={name:p.name,etype:"tilegencnt",stype:"scene"},C;c.forEach(function(G){var H;B.layers.push(G.id);
(C=z["default"].find(n,function(O){return O.id===G.id}))||1!==n.length||(C=n[0]);if(C){var K=G.id;K!==C.id&&(K=C.id);C.isTextured=!(null===(H=null===C||void 0===C?void 0:C.multiPatchInfo)||void 0===H||!H.hasTexture);A[K]=C}});w.forEach(function(G){-1<B.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&B.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});m["default"].request({url:a,content:r.__assign(r.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(H){H=G.edits[H];var K=H.objectIds;D[A[H.id].isTextured?"textured":"untextured"]+=K.adds.length+K.updates.length+K.deletes.length}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:r.__assign({num:D.textured,task:"textured"},v)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:r.__assign({num:D.untextured,task:"nontextured"},v)}):null}).then(function(H){var K,
O;H=((null===(K=null===H||void 0===H?void 0:H.textured)||void 0===K?void 0:K.credits)||0)+((null===(O=null===H||void 0===H?void 0:H.untextured)||void 0===O?void 0:O.credits)||0);h.resolve(H)},function(){h.resolve(0)})):h.resolve(0)},function(G){h.resolve(0)});return h};d.fetchScenePublishingCredits=function(a,b,c){var h=new x["default"],n=a.adminServiceInfo||{},p=n.layers||[],w=a.url+"/query",B={},A={},D={textured:0,untextured:0},F=(a.portal||{}).portalUrl+"portals/self/usageCost",v={name:n.name,
etype:"tilegencnt",stype:"scene"},C;b.length&&c?p.forEach(function(G){var H;G.isTextured=!(null===(H=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===H||!H.hasTexture);A[G.id]=G;B[G.id]="1\x3d1"}):b.forEach(function(G){var H;(C=z["default"].find(p,function(O){return O.id===G.id}))||1!==p.length||(C=p[0]);if(C){var K=G.id;K!==C.id&&(K=C.id);C.isTextured=!(null===(H=null===C||void 0===C?void 0:C.multiPatchInfo)||void 0===H||!H.hasTexture);A[K]=C;B[K]="1\x3d1"}});m["default"].request({url:w,content:r.__assign(r.__assign({},
{}),{layerDefs:JSON.stringify(B),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(H){D[A[H.id].isTextured?"textured":"untextured"]+=H.count}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:r.__assign({num:D.textured,task:"textured"},v)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:r.__assign({num:D.untextured,task:"nontextured"},v)}):null}).then(function(H){var K,O;H=((null===(K=null===H||void 0===
H?void 0:H.textured)||void 0===K?void 0:K.credits)||0)+((null===(O=null===H||void 0===H?void 0:H.untextured)||void 0===O?void 0:O.credits)||0);h.resolve(H)},function(){h.resolve(0)})):h.resolve(0)},function(){h.resolve(0)});return h};d.getServerLicenseInfo=function(a){a+="/admin/system/licenses";return m["default"].request({url:a},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};d.findManagedDataStoreItems=function(a){a+="/admin/data/findItems";return m["default"].request({url:a,
content:{managed:!0}},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};d.findRasterStoreItems=function(a){a+="/admin/data/findItems";return m["default"].request({url:a,content:{types:"rasterStore",decrypt:!0}},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};d.isBackedBySDS=function(a){var b,c=new x["default"],h=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new q["default"]({portalUser:h});var n=!1,
p;h&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!E["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(w){p=((null===w||void 0===w?void 0:w.items)||w||[]).filter(function(B){var A;return"arcgis data store"===(null===(A=null===B||void 0===B?void 0:B.provider)||void 0===A?void 0:A.toLowerCase())});n=!(null===p||void 0===p||!p.length);c.resolve(n)},function(){c.resolve(n)}):c.resolve(n);return c};d.isImageManagementTask=function(a){if(!a||-1===a.indexOf("RasterAnalysisTools")||
-1===a.indexOf("GPServer/"))return!1;a=a.slice(a.indexOf("GPServer/")+9);-1<a.indexOf("/")&&(a=a.slice(0,a.indexOf("/")));var b="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return a&&-1<b.indexOf(a.toLowerCase())};d.getBackingDataStoreInfo=function(a){var b,c=new x["default"],h=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new q["default"]({portalUser:h});var n=
!0,p=!1,w=!1,B=!1,A,D,F;h&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!E["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(v){v=(null===v||void 0===v?void 0:v.items)||v||[];A=v.filter(function(C){var G;return"arcgis data store"===(null===(G=null===C||void 0===C?void 0:C.provider)||void 0===G?void 0:G.toLowerCase())});D=v.filter(function(C){var G,H,K;return"arcgis data store"===(null===(G=null===C||void 0===C?void 0:C.provider)||void 0===G?void 0:G.toLowerCase())&&
"spatiotemporal"===(null===(K=null===(H=C.info)||void 0===H?void 0:H.dsFeature)||void 0===K?void 0:K.toLowerCase())});F=v.filter(function(C){var G,H,K,O;return"arcgis data store"===(null===(G=null===C||void 0===C?void 0:C.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(H=C.type)||void 0===H?void 0:H.toLowerCase())&&"graphstore"===(null===(O=null===(K=C.info)||void 0===K?void 0:K.dsFeature)||void 0===O?void 0:O.toLowerCase())});n=0===v.length;p=!(null===A||void 0===A||!A.length);
w=!(null===D||void 0===D||!D.length);B=!(null===F||void 0===F||!F.length);c.resolve({isSDS:p,isSTDS:w,isGraph:B,none:n})},function(){c.resolve({isSDS:p,isSTDS:w,isGraph:B,none:n})}):c.resolve({isSDS:p,isSTDS:w,isGraph:B,none:n});return c};d.cacheMaxAgeCheck=function(a,b){var c;if(!a.ignoreCache&&a.layers&&"Feature Service"===a.type&&a.isHostedService&&0<(null===(c=null===b||void 0===b?void 0:b.adminServiceInfo)||void 0===c?void 0:c.cacheMaxAge)&&(a.ignoreCache=function(){var n=this;this.ignoreCacheFlagTimestamp=
(new Date).getTime();var p=function(w){w.content=w.content||{};w.content._ts=n.ignoreCacheFlagTimestamp;return w};this.ignoreCacheFlag||(y["default"].setRequestPreCallback(p),this.ignoreCacheFlag=!0)},a.layers)){var h=0;a.layers.forEach(function(n){var p;(null===(p=n.editingInfo)||void 0===p?0:p.lastEditDate)&&h<n.editingInfo.lastEditDate&&(h=n.editingInfo.lastEditDate)});0<h&&((new Date).getTime()-h)/1E3<b.adminServiceInfo.cacheMaxAge&&a.ignoreCache()}};d.isServiceProxy=function(a){var b=(a||"").toLowerCase();
a=-1<b.indexOf("/servers/")&&-1<b.indexOf("/rest/services/");var c=e["default"].self.isPortal&&-1<b.indexOf(e["default"].self.portalHostname);b=!e["default"].self.isPortal&&-1<b.indexOf(".arcgis.com");return a&&(c||b)};d.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return d}()})},"arcgisonline/sharing/dijit/SaveItem":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/CategoryPicker ../../pages/utils/arrays ../../pages/utils/dom ../../pages/utils/storage ../util ../geow/Folder ../../tsutils/declareDecorator arcgis-components/wrappers/Tags dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/i18n!../../nls/arcgisonline dojo/text!./templates/SaveItem.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);return function(){function p(w,B){this.declaredClass=
"arcgisonline.sharing.dijit.SaveItem";this.widgetsInTemplate=!0;this.templateString=n["default"];this.baseClass="esriAGOSaveItemForm";this.init=!1;this.folders={}}p.prototype.postMixInProperties=function(){this.i18n=r.__assign(r.__assign(r.__assign({},h["default"].common),h["default"].saveItem),{addTags:h["default"].itemCompleteness.addTags})};p.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.saveItemTags=new z.TagsWrapper(this.saveItemTagsContainer,{activeTags:[],knownTags:[],
maxWidth:"100%",minWidth:"100%"}),this.getFolders(),this.init=!0)};p.prototype.startup=function(){this.inherited(arguments);this.initHandlers()};p.prototype.hideRow=function(w){g["default"].hideNodes(this.domNode.querySelectorAll(".save-item-"+w+"-row"))};p.prototype.loadTags=function(w){var B=y["default"].getUser();w&&(B=w);return y["default"].loadUserTags(B.username)};p.prototype.loadCategories=function(w){var B=this,A=new d["default"],D=this.domNode.querySelectorAll(".categories-container");x["default"].self.hasCategorySchema?
y["default"].request({url:x["default"].restBaseUrl+"portals/self/categorySchema"}).then(function(F){B.categories=new l["default"]({categories:w||[],schema:F.categorySchema},B.saveItemCategories);B.categories.startup();g["default"].showNodes(D);A.resolve()},function(){g["default"].hideNodes(D);A.resolve()}):(g["default"].hideNodes(D),A.resolve());return A};p.prototype.initHandlers=function(){var w=this.validate.bind(this);this.own(a["default"](this.saveItemFolder,"change",this.onFolderChange.bind(this)),
a["default"](this.saveItemTitle,"change",w),a["default"](this.saveItemSummary,"change",w),t["default"].registerKeystrokeHandler(this.saveItemTitle,w),t["default"].registerKeystrokeHandler(this.saveItemSummary,w))};p.prototype.validate=function(){var w,B;if(!this.beingDestroyed){var A=!0,D=this.saveItemTitle.get("value"),F=(null===(B=null===(w=this.saveItemTags)||void 0===w?void 0:w.getTags())||void 0===B?void 0:B.join(","))||"";w=this.saveItemSummary.get("value");null===this.requires?A=!!(D&&F&&w):
(f["default"].includes(this.requires,"title")&&(A=A&&!!D),f["default"].includes(this.requires,"tags")&&(A=A&&0!==F.length),f["default"].includes(this.requires,"summary")&&(A=A&&!!w));b["default"].publish("onSaveItemValidate",[A])}};p.prototype.getFolders=function(){var w=this,B=y["default"].getUser();if(null!==B){var A=new c["default"]({url:null,data:{identifier:"name",items:[]}});A.newItem({name:B.username,id:""});this.saveItemFolder.set("store",A);this.saveItemFolder.set("value",B.username);u["default"].getFolders(function(D){var F=
null,v=k["default"].getCookie("ESRI_Content");v&&v.folderId&&(F=v.folderId);w.foldersJson=D.folders;D.folders.forEach(function(C,G){A.newItem({name:C.title,id:C.id});w.folders["id"+C.id]=C.title.replace(/"/g,'\\"');F===C.id&&(w.saveItemFolder.set("value",C.title),w.folderId=F,w.folderName=C.title)});A.save({})},function(D){})}};p.prototype.onFolderChange=function(w){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(D){D.name[0]===w&&(B.folderId=D.id[0],B.folderName=
D.name[0])})}})};p.prototype._setTitleAttr=function(w){this.saveItemTitle.set("value",w)};p.prototype._getTitleAttr=function(){return this.saveItemTitle.get("value")};p.prototype._setTagsAttr=function(w){this.saveItemTags.setTags(w)};p.prototype._getTagsAttr=function(){return this.saveItemTags.getTags()};p.prototype._setCategoriesAttr=function(w){var B=this;w&&w.forEach(function(A){B.categories.addCategory(A)})};p.prototype._getCategoriesAttr=function(){return this.categories.getCategories(!0)};p.prototype._setSummaryAttr=
function(w){this.saveItemSummary.set("value",w)};p.prototype._getSummaryAttr=function(){return this.saveItemSummary.get("value")};p.prototype._setFolderAttr=function(w){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(D){D.name[0]===w&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",B.folderName))})}})};p.prototype._getFolderAttr=function(){return this.folderName};p.prototype._setFolderIdAttr=function(w){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(D){D.id[0]===
w&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",D.name[0]))})}})};p.prototype._getFolderIdAttr=function(){return this.folderId};p.prototype._setRequiresAttr=function(w){this.requires=w?w:null};p.prototype._setTitlePlaceHolderAttr=function(w){this.saveItemTitle.set("placeHolder",w)};p.prototype._setTagsPlaceHolderAttr=function(w){this.saveItemTitle.set("placeHolder",w)};p.prototype._setSummaryPlaceHolderAttr=function(w){this.saveItemSummary.set("placeHolder",w)};return p=
r.__decorate([E["default"](m["default"],q["default"],e["default"])],p)}()})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),function(U,M,r,x,t,l,f,g,k,y){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);return function(){function u(){}
u.createFolder=function(E,z,q){var m=l["default"].getUser();return(m=m&&(m.username||m.email))?this.createFolderByUser(m,E,z,q):null};u.createFolderByUser=function(E,z,q,m){var e=this;l["default"].getUser()&&l["default"].request({url:x["default"].restBaseUrl+"content/users/"+E+"/createFolder",content:z},{usePost:!0}).then(function(d){var a;if(null===(a=e._userFolders)||void 0===a?0:a[E])e._userFolders[E]=null;q(d)},function(d){m(d)})};u.deleteFolder=function(E,z,q){var m=l["default"].getUser();return(m=
m&&(m.username||m.email))?this.deleteFolderByUser(m,E,z,q):null};u.deleteFolderByUser=function(E,z,q,m){var e=this;z=x["default"].restBaseUrl+"content/users/"+E+"/"+z+"/delete";l["default"].getUser()&&l["default"].request({url:z},{usePost:!0}).then(function(d){var a;if(null===(a=e._userFolders)||void 0===a?0:a[E])e._userFolders[E]=null;q(d)},function(d){m(d)})};u.getFolders=function(E,z,q){var m=l["default"].getUser();return(m=m&&(m.username||m.email))?this.getFoldersByUser(m,E,z,q):null};u.getFoldersByUser=
function(E,z,q,m){var e=this,d;if(l["default"].getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,E,z,q,m),75);else{"function"!==typeof q&&(m=q,q=null);this._userFolders||(this._userFolders={});var a=x["default"].restBaseUrl+"content/users/"+E;m={num:m?100:1};a=(null===(d=this._userFolders[E])||void 0===d?void 0:d.folders)&&t["default"](this._userFolders[E].folders)||this._fetchAllItems(a,m).then(function(b){e._userFolders[E]={folders:b};e._isRequestingFolders=!1;return t["default"](b)},
function(b){throw b;});this._isRequestingFolders=!this._userFolders[E]||!this._userFolders[E].folders;k["default"](a,z,q)}};u._fetchAllItems=function(E,z){var q=this,m={};return this._fetchItems(E,z,m).then(function(e){if(1<z.num&&e.total>z.num){var d=Math.ceil(e.total/z.num),a=e.nextStart,b=[];1===(null===e||void 0===e?void 0:e.start)?m=e:m.items=m.items.concat(e.items);for(var c=0;c<d-1;c++)b.push(q._fetchItems(E,r.__assign(r.__assign({},z),{start:a}),m)),a+=e.num;return f["default"](b).then(function(h){(h||
[]).forEach(function(n){m.items=m.items.concat(n.items)});return m})}return e},function(e){throw e;})};u._fetchItems=function(E,z,q){return l["default"].request({url:E,content:z}).then(function(m){return m},function(m){throw m;})};u.foldersToStore=function(E){return new y["default"]({data:{label:"title",items:[{name:"Anonymous User",children:E}]}})};u.updateMoveToMenu=function(E,z,q,m,e){g["default"].publish("updateItemToolbar",[{folders:E,folderId:z,folderName:q,onClickHandler:m,customMenuItem:e}])};
u.updateMoveToMenuByUser=function(E,z,q,m,e){g["default"].publish("updateItemToolbar",[{username:E,folders:z,folderId:q,folderName:m,onClickHandler:e}])};return u}()})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(g,k){this.autoComplete=!1;this.templateString=
l["default"]}return f=r.__decorate([x["default"](t["default"])],f)}()})},"arcgisonline/sharing/dijit/dialog/ExtentDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../DefineExtent dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExtentDlg.html".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z){var q=M("arcgisonline.sharing.dijit.dialog.ExtentDlg",[g,k,y],{declaredClass:"arcgisonline.sharing.dijit.dialog.ExtentDlg",
basePath:U.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:z,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=r.mixin({},E.common);this.i18n=r.mixin(this.i18n,E.viewer.geocode);this.i18n=r.mixin(this.i18n,E.generalDlg);this.i18n=r.mixin(this.i18n,E.extentDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},_loadConnections:function(){this.own(x(this._cancelBtn,"click",r.hitch(this,"_cancelBtnClick")),x(this._okBtn,"click",
r.hitch(this,"_okBtnClick")),t.subscribe("define-extent/update",r.hitch(this,"_publish")))},_cancelBtnClick:function(m){m.preventDefault();this._extentDialog.hide()},_okBtnClick:function(m){m.preventDefault();this.setExtent()},hide:function(){this._defineExtent._destroyMap();this._extentDialog.hide()},show:function(m){this._defineExtent||(this._defineExtent=new u({id:"defineExtent"},this._extentContainer),this._defineExtent.startup());this._defineExtent.set("extent",m);this._extentDialog.show()},
setExtent:function(){var m=this._defineExtent.get("extent");m&&this._publish(m);this.hide()},_publish:function(m){t.publish("extent/update",m)}});q.prototype.statics={getInstance:function(){this._instance||(this._instance=new q);return this._instance}};return q})},"arcgisonline/sharing/dijit/DefineExtent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/number dojo/topic esri/dijit/Search esri/map esri/layers/ImageParameters esri/layers/ArcGISTiledMapServiceLayer esri/geometry/Extent esri/geometry/Point esri/geometry/webMercatorUtils esri/SpatialReference esri/symbols/SimpleLineSymbol esri/toolbars/draw esri/graphic esri/dijit/Popup dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../map/core/projectExtent ../../map/utils/clipOnHorizon ../../map/utils/createExtentSearchOptions ../util ../../pages/pageUtil ../../pages/utils/dom ../../pages/utils/number ../../esriGeowConfig ./dialog/GeneralDlg dojo/i18n!../../nls/arcgisonline dojo/text!./templates/DefineExtent.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za){return M([G,H,K],{declaredClass:"arcgisonline.sharing.dijit.DefineExtent",basePath:U.toUrl("arcgisonline/sharing/dijit"),templateString:za,widgetsInTemplate:!0,numberPattern:"#.#",_setExtentAttr:function(ha){(this.extent=ha)&&2===ha.length&&2===ha[0].length&&2===ha[1].length?(this._initMap(ha),this._extentTop.set("value",ea.format(Math.round(1E3*this.extent[1][1])/1E3)),this._extentLeft.set("value",
ea.format(Math.round(1E3*this.extent[0][0])/1E3)),this._extentRight.set("value",ea.format(Math.round(1E3*this.extent[1][0])/1E3)),this._extentBottom.set("value",ea.format(Math.round(1E3*this.extent[0][1])/1E3))):(this._initMap(null),this._extentTop.set("value",""),this._extentLeft.set("value",""),this._extentRight.set("value",""),this._extentBottom.set("value",""))},_getExtentAttr:function(){var ha=[[],[]],V=this._extentTop.get("value"),la=this._extentLeft.get("value"),T=this._extentBottom.get("value"),
P=this._extentRight.get("value"),I=E.parse(V),ba=E.parse(la),W=E.parse(T),ca=E.parse(P);if(this._isValidExtentInput(V,la,P,T,I,ba,ca,W)){ha[1][1]=I;ha[0][0]=ba;ha[1][0]=ca;ha[0][1]=W;if(this._isValidWGS84Extent(ha))return ha;X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})}else X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+
"\x3cbr\x3e"+this.i18n.error.errorValueBigger})},postMixInProperties:function(){this.inherited(arguments);this.i18n=r.mixin({},sa.common);this.i18n=r.mixin(this.i18n,sa.viewer.geocode);this.i18n=r.mixin(this.i18n,sa.generalDlg);this.i18n=r.mixin(this.i18n,sa.extentDlg)},postCreate:function(){this.symbol=new n(n.STYLE_SOLID,new t([255,0,0]),2);this.defaultExtent=new a(-121,21.72,-76,61.28,new h({wkid:4326}));this._loadConnections()},destroy:function(){this.inherited(arguments);this._destroyMap()},
_loadConnections:function(){var ha=r.hitch(this,"_checkRange");this.own(u(this._extentTop,"blur",ha),u(this._extentLeft,"blur",ha),u(this._extentRight,"blur",ha),u(this._extentBottom,"blur",ha),u(this._buttonSetExtent,"click",r.hitch(this,"_toggleMapNavigation")))},_isValidWGS84Extent:function(ha){ha=[ha[0].join(","),ha[1].join(",")].join();ha=x.map(ha.split(","),function(V){return parseFloat(V)});return-90<=ha[3]&&90>=ha[3]&&-180<=ha[2]&&180>=ha[2]&&-180<=ha[0]&&180>=ha[0]&&-90<=ha[1]&&90>=ha[1]&&
ha[2]>ha[0]&&ha[3]>ha[1]},_isValidExtentInput:function(ha,V,la,T,P,I,ba,W){return!(0===ha.length||0===V.length||0===la.length||0===T.length||isNaN(P)||isNaN(I)||isNaN(ba)||isNaN(W))},_destroyMap:function(){if(this.map){try{this.map.destroy()}catch(V){}var ha=this.map.infoWindow;ha&&ha.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(V){}this.geocoder=null}l.byId("extent-map-container")&&g.empty(l.byId("extent-map-container"))},_setProjectedExtent:function(ha){ha=L(ha[0]);
u.once(this.map,"extent-change",r.hitch(this,"_drawBoundingBox",ha));this.map.setExtent(ha,!0)},_drawBoundingBox:function(ha){this._drawBox(ha)},_checkRange:function(ha){if(ha){var V=ha.target.value,la=E.parse(V);ha=ha.target.id;var T=!1;if("extent-left"===ha){if(0===V.length||isNaN(la))X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),T=!0;else if(-180>la||180<la)X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
T=!0;T&&(this.extent&&2===this.extent.length&&2==this.extent[0].length&&2===this.extent[1].length?this._extentLeft.set("value",ea.format(Math.round(1E3*this.extent[0][0])/1E3)):this._extentLeft.set("value",""))}else if("extent-right"===ha){if(0===V.length||isNaN(la))X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),T=!0;else if(-180>la||180<la)X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
T=!0;T&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentRight.set("value",ea.format(Math.round(1E3*this.extent[1][0])/1E3)):this._extentRight.set("value",""))}else if("extent-top"===ha){if(0===V.length||isNaN(la))X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),T=!0;else if(-90>la||90<la)X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),
T=!0;T&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentTop.set("value",ea.format(Math.round(1E3*this.extent[1][1])/1E3)):this._extentTop.set("value",""))}else{if(0===V.length||isNaN(la))X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),T=!0;else if(-90>la||90<la)X.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),T=!0;T&&(this.extent&&
2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?this._extentBottom.set("value",ea.format(Math.round(1E3*this.extent[0][1])/1E3)):this._extentBottom.set("value",""))}null!=this.map&&0<this._extentTop.get("value").length&&0<this._extentLeft.get("value").length&&0<this._extentRight.get("value").length&&0<this._extentBottom.get("value").length?(V=[[],[]],V[1][1]=E.parse(this._extentTop.get("value")),V[0][0]=E.parse(this._extentLeft.get("value")),V[1][0]=E.parse(this._extentRight.get("value")),
V[0][1]=E.parse(this._extentBottom.get("value")),this._isValidWGS84Extent(V)?(V=new a(V[0][0],V[0][1],V[1][0],V[1][1],new h({wkid:4326})),O(V,this.map.spatialReference,r.hitch(this,"_setProjectedExtent"),null,this.map)):this._deleteBox()):null!=this.map&&this._deleteBox()}},_initMap:function(ha){var V=this.defaultExtent;null!=ha&&(V=new a(ha[0][0],ha[0][1],ha[1][0],ha[1][1],new h({wkid:4326})));if(this.map){if(null!=ha)u.once(this.map,"extent-change",r.hitch(this,"_drawBoundingBox",V));this.map.setExtent(V,
!0)}else{this.map=new m("extent-map-container",{showAttribution:!1,wrapAround180:!1,center:[-31,10],zoom:1});var la=new e;la.format="png24";la=new d(ka.extentService,{imageParameters:la});this.map.addLayer(la);null!=ha&&this.own(this.map.on("load",r.hitch(this,"_onMapLoad",V)));this.own(la.on("update",r.hitch(this,"_onUpdate")));this.toolbar=new p(this.map,{showTooltips:!1});this.own(this.toolbar.on("draw-complete",r.hitch(this,"_onDrawEnd")));this.mapNavigation=!0;f.set(this._buttonSetExtent,"innerHTML",
this.i18n.drawExtent);this.geocoder||(ha=J(this.map),ha.showInfoWindowOnSelect=!1,this.geocoder=new q(ha,g.create("div",{id:"extentSearch"},this._extentSearchContainer,"only")),this.geocoder.startup(),this.own(this.geocoder.on("select-result",r.hitch(this,"_onSearchResult"))))}},_onMapLoad:function(ha){y(".action.zoomTo").forEach(aa.hideNode);O(ha,this.map.spatialReference,r.hitch(this,"_setProjectedExtent"),null,this.map)},_drawBox:function(ha){this.map.graphics.clear();null!==ha&&this.map.graphics.add(new w(ha,
this.symbol))},_deleteBox:function(){this.map.graphics.clear()},_onUpdate:function(){this.map.reposition()},_toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(p.EXTENT),this.map.showZoomSlider(),this.mapNavigation=!1,f.set(this._buttonSetExtent,"innerHTML",this.i18n.enableMapPanning)):(this.toolbar.deactivate(),this.map.enableMapNavigation(),this.mapNavigation=!0,f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent))},_onSearchResult:function(ha){if(ha.result){ha=ha.result;
var V=ha.feature.geometry,la=ha.extent;if("polygon"===V.type){var T=V.getExtent().expand(1.1);var P=V.getCentroid()}else"polyline"===V.type?(T=V.getExtent().expand(1.1),P=V.getPoint(0,0)):"multipoint"===V.type?(T=V.getExtent().expand(1.1),P=V.getPoint(0)):(T=la||arcgisonline.map.main.map.extent.centerAt(V).expand(.0625),P=V);this._deleteBox();this.popup||(this.popup=new B(null,g.create("div",{"class":"blueTheme"},l.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);this.popup.setContent("\x3cdiv\x3e\x3cspan\x3e"+
ha.name+"\x3c/span\x3e\x3c/div\x3e");u.once(this.map,"extent-change",r.hitch(this,function(){this._drawBox(T);this.popup.show(P);setTimeout(r.hitch(this,function(){this.popup.hide()}),3E3)}));this.map.setExtent(T,!0);ha=T;4326!==T.spatialReference.wkid&&(ha=c.webMercatorToGeographic(T));this._extentTop.set("value",ea.format(Math.round(1E3*ha.ymax)/1E3));this._extentLeft.set("value",ea.format(Math.round(1E3*ha.xmin)/1E3));this._extentRight.set("value",ea.format(Math.round(1E3*ha.xmax)/1E3));this._extentBottom.set("value",
ea.format(Math.round(1E3*ha.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(ha.ymax);this.extent[0][0]=parseFloat(ha.xmin);this.extent[1][0]=parseFloat(ha.xmax);this.extent[0][1]=parseFloat(ha.ymin);z.publish("define-extent/change",ha)}},_onDrawEnd:function(ha){this._deleteBox();if(.01>ha.width){var V=.01;ha=new a(ha.xmin-V,ha.ymin,ha.xmin+V,ha.ymax,new h({wkid:4326}))}.01>ha.height&&(V=.01,ha=new a(ha.xmin,ha.ymin-V,ha.xmax,ha.ymin+V,new h({wkid:4326})));ha=L(ha.geographicGeometry);
u.once(this.map,"extent-change",r.hitch(this,"_drawBoundingBox",ha));this.map.setExtent(ha,!0);V=ha;4326!==ha.spatialReference.wkid&&(V=c.webMercatorToGeographic(ha));this._extentTop.set("value",ea.format(Math.round(1E3*V.ymax)/1E3));this._extentLeft.set("value",ea.format(Math.round(1E3*V.xmin)/1E3));this._extentRight.set("value",ea.format(Math.round(1E3*V.xmax)/1E3));this._extentBottom.set("value",ea.format(Math.round(1E3*V.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(V.ymax);this.extent[0][0]=
parseFloat(V.xmin);this.extent[1][0]=parseFloat(V.xmax);this.extent[0][1]=parseFloat(V.ymin);z.publish("define-extent/change",V)}})})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/sniff dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-geometry ../kernel ../sniff ./_toolbar ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../graphic ../geometry/jsonUtils ../geometry/webMercatorUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/Rect dojo/i18n!../nls/jsapi".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A){var D=U(m,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(F,v){this.markerSymbol=new e(e.STYLE_SOLID,10,new d(d.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this.lineSymbol=new d(d.STYLE_SOLID,new t([255,0,0]),2);this.fillSymbol=new a(a.STYLE_SOLID,new d(d.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this._points=[];this._mouse=!f("esri-touch")&&!f("esri-pointer");
this._defaultOptions={showTooltips:!0,drawTime:75,tolerance:8,tooltipOffset:15};this._options=M.mixin(M.mixin({},this._defaultOptions),v||{});if(g("ios")||g("android"))this._options.showTooltips=!1;this._onKeyDownHandler=M.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=M.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=M.hitch(this,this._onMouseUpHandler);this._onClickHandler=M.hitch(this,this._onClickHandler);this._onMouseMoveHandler=M.hitch(this,this._onMouseMoveHandler);
this._onMouseDragHandler=M.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=M.hitch(this,this._onDblClickHandler);this._updateTooltip=M.hitch(this,this._updateTooltip);this._hideTooltip=M.hitch(this,this._hideTooltip);this._redrawGraphic=M.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(F){this.respectDrawingVertexOrder=F},setMarkerSymbol:function(F){this.markerSymbol=F},setLineSymbol:function(F){this.lineSymbol=F},
setFillSymbol:function(F){this.fillSymbol=F},activate:function(F,v){this._geometryType&&this.deactivate();var C=this.map,G=x.connect,H=D;this._options=M.mixin(M.mixin({},this._options),v||{});C.navigationManager.setImmediateClick(!1);switch(F){case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.TRIANGLE:case H.CIRCLE:case H.ELLIPSE:case H.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=G(C,"onClick",this._onClickHandler);this._mouse?
(this._onMouseDownHandler_connect=G(C,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(C,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(C,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(C,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(C,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(C,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=
G(C,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(C,"onSwipeMove",this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(C,"onSwipeEnd",this._onMouseUpHandler));break;case H.POINT:this._onClickHandler_connect=G(C,"onClick",this._onClickHandler);break;case H.LINE:case H.EXTENT:case H.FREEHAND_POLYLINE:case H.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._mouse?(this._onMouseDownHandler_connect=G(C,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=
G(C,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(C,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(C,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(C,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(C,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=G(C,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(C,"onSwipeMove",
this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(C,"onSwipeEnd",this._onMouseUpHandler));break;case H.POLYLINE:case H.POLYGON:case H.MULTI_POINT:C.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=G(C,"onClick",this._onClickHandler);this._onDblClickHandler_connect=G(C,"onDblClick",this._onDblClickHandler);this._dblClickZoom=C.isDoubleClickZoom;C.disableDoubleClickZoom();break;default:return}this._onKeyDown_connect=G(C,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=
G(C,"onExtentChange",this._redrawGraphic);this._geometryType=F;this._toggleTooltip(!0);C.snappingManager&&"freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&(C.snappingManager._startSelectionLayerQuery(),C.snappingManager._setUpSnapping());this.onActivate(this._geometryType)},deactivate:function(){var F=this.map;this._clear();var v=x.disconnect;v(this._onMouseMoveHandler_connect);v(this._onMouseDownHandler_connect);v(this._onMouseDragHandler_connect);v(this._onMouseUpHandler_connect);
v(this._onMouseDownHandler2_connect);v(this._onMouseDragHandler2_connect);v(this._onMouseUpHandler2_connect);v(this._onClickHandler_connect);v(this._onDblClickHandler_connect);v(this._onKeyDown_connect);v(this._redrawConnect);this._onMouseDownHandler_connect=this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=
this._onKeyDown_connect=this._redrawConnect=null;F.snappingManager&&(F.snappingManager._stopSelectionLayerQuery(),F.snappingManager._killOffSnapping());switch(this._geometryType){case D.CIRCLE:case D.ELLIPSE:case D.TRIANGLE:case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.RECTANGLE:case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:this._activateMapTools(!0,!1,!1,!0);break;case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:this._dblClickZoom&&
F.enableDoubleClickZoom()}v=this._geometryType;this._geometryType=null;F.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(v)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._graphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},finishDrawing:function(){var F=this._points,v=this.map.spatialReference,C=D;F=F.slice(0,F.length);switch(this._geometryType){case C.POLYLINE:if(!this._graphic||2>
F.length)return;var G=new n(v);G.addPath([].concat(F));break;case C.POLYGON:if(!this._graphic||3>F.length)return;G=new p(v);F=[].concat(F,[F[0].offset(0,0)]);p.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();G.addRing(F);break;case C.MULTI_POINT:G=new w(v),r.forEach(F,function(H){G.addPoint(H)})}x.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(G)},_drawEnd:function(F){if(F){var v=this.map.spatialReference,C;this.onDrawEnd(F);
v&&(v.isWebMercator()?C=h.webMercatorToGeographic(F,!0):4326===v.wkid&&(C=c.fromJson(F.toJson())));this.onDrawComplete({geometry:F,geographicGeometry:C})}},_normalizeRect:function(F,v,C){var G=F.x;F=F.y;var H=v.x;v=v.y;return{x:Math.min(G,H),y:Math.max(F,v),width:Math.abs(G-H),height:Math.abs(F-v),spatialReference:C}},_onMouseDownHandler:function(F){this._dragged=!1;if(this.map.snappingManager)var v=this.map.snappingManager._snappingPoint;var C=v||F.mapPoint,G=D;v=this.map;var H=v.spatialReference;
this._points.push(C.offset(0,0));switch(this._geometryType){case G.LINE:this._graphic=v.graphics.add(new b(new n({paths:[[[C.x,C.y],[C.x,C.y]]],spatialReference:H}),this.lineSymbol),!0);v.snappingManager&&v.snappingManager._setGraphic(this._graphic);break;case G.FREEHAND_POLYLINE:this._oldPoint=F.screenPoint;C=new n(H);C.addPath(this._points);this._graphic=v.graphics.add(new b(C,this.lineSymbol),!0);v.snappingManager&&v.snappingManager._setGraphic(this._graphic);break;case G.CIRCLE:case G.ELLIPSE:case G.TRIANGLE:case G.ARROW:case G.LEFT_ARROW:case G.RIGHT_ARROW:case G.UP_ARROW:case G.DOWN_ARROW:case G.RECTANGLE:case G.FREEHAND_POLYGON:this._oldPoint=
F.screenPoint,C=new p(H),C.addRing(this._points),this._graphic=v.graphics.add(new b(C,this.fillSymbol),!0),v.snappingManager&&v.snappingManager._setGraphic(this._graphic)}f("esri-touch")&&F.preventDefault();if(1===this._points.length)this.onDrawStart()},_onMouseMoveHandler:function(F){if(this.map.snappingManager)var v=this.map.snappingManager._snappingPoint;F=v||F.mapPoint;v=this._graphic.geometry;switch(this._geometryType){case D.POLYLINE:case D.POLYGON:var C=this._points.length,G=!!v.getPoint(0,
C);F=F.offset(0,0);G?v.setPoint(0,C,F):v.insertPoint(0,C,F);this._graphic.setGeometry(v)}},_onMouseDragHandler:function(F){if(this._graphic||this._points.length)if(f("esri-touch")&&!this._points.length)F.preventDefault();else{this._dragged=!0;if(this.map.snappingManager)var v=this.map.snappingManager._snappingPoint;var C=this._points[0],G=v||F.mapPoint,H=this.map,K=H.spatialReference;v=this._graphic;var O=D,L=H.toScreen(C),J=H.toScreen(G),R=[];R=J.x-L.x;J=J.y-L.y;var X=Math.sqrt(R*R+J*J);switch(this._geometryType){case O.CIRCLE:this._hideTooltip();
v.geometry=p.createCircle({center:L,r:X,numberOfPoints:60,map:H});v.setGeometry(v.geometry);break;case O.ELLIPSE:this._hideTooltip();v.geometry=p.createEllipse({center:L,longAxis:R,shortAxis:J,numberOfPoints:60,map:H});v.setGeometry(v.geometry);break;case O.TRIANGLE:this._hideTooltip();R=[[0,-X],[.8660254037844386*X,.5*X],[-.8660254037844386*X,.5*X],[0,-X]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.ARROW:this._hideTooltip();C=J/X;H=R/X;G=.25*H*X;K=.25*X/(J/R);X*=
.25*C;R=[[R,J],[R-G*(1+24/K),J+24*H-X],[R-G*(1+12/K),J+12*H-X],[-12*C,12*H],[12*C,-12*H],[R-G*(1-12/K),J-12*H-X],[R-G*(1-24/K),J-24*H-X],[R,J]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.LEFT_ARROW:this._hideTooltip();R=0>=R?[[R,0],[.75*R,J],[.75*R,.5*J],[0,.5*J],[0,-.5*J],[.75*R,-.5*J],[.75*R,-J],[R,0]]:[[0,0],[.25*R,J],[.25*R,.5*J],[R,.5*J],[R,-.5*J],[.25*R,-.5*J],[.25*R,-J],[0,0]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.RIGHT_ARROW:this._hideTooltip();
R=0<=R?[[R,0],[.75*R,J],[.75*R,.5*J],[0,.5*J],[0,-.5*J],[.75*R,-.5*J],[.75*R,-J],[R,0]]:[[0,0],[.25*R,J],[.25*R,.5*J],[R,.5*J],[R,-.5*J],[.25*R,-.5*J],[.25*R,-J],[0,0]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.UP_ARROW:this._hideTooltip();R=0>=J?[[0,J],[-R,.75*J],[-.5*R,.75*J],[-.5*R,0],[.5*R,0],[.5*R,.75*J],[R,.75*J],[0,J]]:[[0,0],[-R,.25*J],[-.5*R,.25*J],[-.5*R,J],[.5*R,J],[.5*R,.25*J],[R,.25*J],[0,0]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);
break;case O.DOWN_ARROW:this._hideTooltip();R=0<=J?[[0,J],[-R,.75*J],[-.5*R,.75*J],[-.5*R,0],[.5*R,0],[.5*R,.75*J],[R,.75*J],[0,J]]:[[0,0],[-R,.25*J],[-.5*R,.25*J],[-.5*R,J],[.5*R,J],[.5*R,.25*J],[R,.25*J],[0,0]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.RECTANGLE:this._hideTooltip();R=[[0,0],[R,0],[R,J],[0,J],[0,0]];v.geometry=this._toPolygon(R,L.x,L.y);v.setGeometry(v.geometry);break;case O.LINE:v.setGeometry(M.mixin(v.geometry,{paths:[[[C.x,C.y],[G.x,G.y]]]}));
break;case O.EXTENT:v&&H.graphics.remove(v,!0);v=new B(this._normalizeRect(C,G,K));v._originOnly=!0;this._graphic=H.graphics.add(new b(v,this.fillSymbol),!0);H.snappingManager&&H.snappingManager._setGraphic(this._graphic);break;case O.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));v.geometry._insertPoints([G.offset(0,0)],0);v.setGeometry(v.geometry);break;case O.FREEHAND_POLYGON:this._hideTooltip();
if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));v.geometry._insertPoints([G.offset(0,0)],0);v.setGeometry(v.geometry)}f("esri-touch")&&F.preventDefault()}},_canDrawFreehandPoint:function(F){if(!this._oldPoint)return!1;var v=this._oldPoint.x-F.screenPoint.x,C=this._oldPoint.y-F.screenPoint.y,G=this._options.tolerance;if((0>v?-1*v:v)<G&&(0>C?-1*C:C)<G)return!1;v=new Date;if(v-this._startTime<this._options.drawTime)return!1;
this._startTime=v;this._oldPoint=F.screenPoint;return!0},_onMouseUpHandler:function(F){if(this._dragged&&this._graphic){0===this._points.length&&this._points.push(F.mapPoint.offset(0,0));if(this.map.snappingManager)var v=this.map.snappingManager._snappingPoint;var C=this._points[0];v=v||F.mapPoint;var G=this.map.spatialReference,H=D;switch(this._geometryType){case H.CIRCLE:case H.ELLIPSE:case H.TRIANGLE:case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.RECTANGLE:var K=
this._graphic.geometry;break;case H.LINE:K=new n({paths:[[[C.x,C.y],[v.x,v.y]]],spatialReference:G});break;case H.EXTENT:K=(new B(this._normalizeRect(C,v,G))).getExtent();break;case H.FREEHAND_POLYLINE:K=new n(G);K.addPath([].concat(this._points,[v.offset(0,0)]));break;case H.FREEHAND_POLYGON:K=new p(G),C=[].concat(this._points,[v.offset(0,0),this._points[0].offset(0,0)]),p.prototype.isClockwise(C)||this.respectDrawingVertexOrder||C.reverse(),K.addRing(C)}f("esri-touch")&&F.preventDefault();this._clear();
this._drawEnd(K)}else this._clear()},_isPointToPointTool:function(F){switch(F){case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:return!0;default:return!1}},_onClickHandler:function(F){if(this.map.snappingManager)var v=this.map.snappingManager._snappingPoint;v=v||F.mapPoint;F=this.map;var C=F.toScreen(v),G=D;if(this._isPointToPointTool(this._geometryType)){var H=this._points[this._points.length-1];if(v&&H&&v.x===H.x&&v.y===H.y)return;this._points.push(v.offset(0,0))}switch(this._geometryType){case G.POINT:this.onDrawStart();
this._drawEnd(v.offset(0,0));this._setTooltipMessage(0);break;case G.POLYLINE:1===this._points.length?(v=new n(F.spatialReference),v.addPath(this._points),this._graphic=F.graphics.add(new b(v,this.lineSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=x.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,v.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol));
break;case G.POLYGON:1===this._points.length?(v=new p(F.spatialReference),v.addRing(this._points),this._graphic=F.graphics.add(new b(v,this.fillSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=x.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,v.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol));break;
case G.MULTI_POINT:v=this._points;1===v.length?(C=new w(F.spatialReference),C.addPoint(v[v.length-1]),this._graphic=F.graphics.add(new b(C,this.markerSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic),this.onDrawStart()):(this._graphic.geometry.addPoint(v[v.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case G.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],C.x,C.y);break;case G.LEFT_ARROW:this._addShape([[0,
0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],C.x,C.y);break;case G.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],C.x,C.y);break;case G.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],C.x,C.y);break;case G.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],C.x,C.y);break;case G.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,
24],[0,-48]],C.x,C.y);break;case G.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],C.x-48,C.y+48);break;case G.CIRCLE:this._clear();this.onDrawStart();this._drawEnd(p.createCircle({center:C,r:48,numberOfPoints:60,map:F}));break;case G.ELLIPSE:this._clear(),this.onDrawStart(),this._drawEnd(p.createEllipse({center:C,longAxis:48,shortAxis:24,numberOfPoints:60,map:F}))}this._setTooltipMessage(this._points.length)},_addShape:function(F,v,C){this._setTooltipMessage(0);this._clear();this.onDrawStart();
this._drawEnd(this._toPolygon(F,v,C))},_toPolygon:function(F,v,C){var G=this.map,H=new p(G.spatialReference);H.addRing(r.map(F,function(K){return G.toMap({x:K[0]+v,y:K[1]+C})}));return H},_onDblClickHandler:function(F){var v=this._points,C=this.map.spatialReference,G=D;f("esri-touch")&&v.push(F.mapPoint);var H=v[v.length-1],K=v[v.length-2];v=H&&K&&H.x===K.x&&H.y===K.y?v.slice(0,v.length-1):v.slice(0,v.length);switch(this._geometryType){case G.POLYLINE:if(!this._graphic||2>v.length){x.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._onClickHandler(F);return}var O=new n(C);O.addPath([].concat(v));break;case G.POLYGON:if(!this._graphic||3>v.length)return;O=new p(C);F=[].concat(v,[v[0].offset(0,0)]);p.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();O.addRing(F);break;case G.MULTI_POINT:O=new w(C),r.forEach(v,function(L){O.addPoint(L)})}x.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(O)},_onKeyDownHandler:function(F){F.keyCode===k.ESCAPE&&
(x.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(F){this._options.showTooltips&&(F?this._tooltip||(this._tooltip=y.create("div",{"class":"esriMapTooltip"},this.map.container),E.isBodyLtr()||u.set(this._tooltip,"direction","rtl"),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=x.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=
x.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=x.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(x.disconnect(this._onTooltipMouseEnterHandler_connect),x.disconnect(this._onTooltipMouseLeaveHandler_connect),x.disconnect(this._onTooltipMouseMoveHandler_connect),y.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var F=this._tooltip;F&&(F.style.display="none")},_setTooltipMessage:function(F){var v=this._tooltip;if(v){var C=
"";switch(this._geometryType){case D.POINT:C=A.toolbars.draw.addPoint;break;case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.TRIANGLE:case D.RECTANGLE:case D.CIRCLE:case D.ELLIPSE:C=A.toolbars.draw.addShape;break;case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:C=A.toolbars.draw.freehand;break;case D.POLYLINE:case D.POLYGON:C=A.toolbars.draw.start;1===F?C=A.toolbars.draw.resume:2<=F&&(C=A.toolbars.draw.complete);break;case D.MULTI_POINT:C=
A.toolbars.draw.addMultipoint,1<=F&&(C=A.toolbars.draw.finish)}v.innerHTML=C}},_updateTooltip:function(F){var v=this._tooltip;if(v){if(F.clientX||F.pageY){var C=F.clientX;F=F.clientY}else C=F.clientX+l.body().scrollLeft-l.body().clientLeft,F=F.clientY+l.body().scrollTop-l.body().clientTop;v.style.display="none";u.set(v,{left:C+this._options.tooltipOffset+"px",top:F+"px"});v.style.display=""}},_redrawGraphic:function(F,v,C,G){(C||this.map.wrapAround180)&&(F=this._graphic)&&F.setGeometry(F.geometry)},
onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawStart:function(){},onDrawEnd:function(){}});M.mixin(D,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});M.setObject("toolbars.Draw",
D,z);return D})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../Evented"],function(U,M,r,x,t){U=U([t],{declaredClass:"esri.toolbars._Toolbar",constructor:function(l){this.map=l},_cursors:{move:"pointer","move-v":"pointer","move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(l,f,g,k){var y=this.map;
l&&(this._mapNavState={isDoubleClickZoom:y.isDoubleClickZoom,isClickRecenter:y.isClickRecenter,isPan:y.isPan,isRubberBandZoom:y.isRubberBandZoom,isKeyboardNavigation:y.isKeyboardNavigation,isScrollWheelZoom:y.isScrollWheelZoom},y.disableDoubleClickZoom(),y.disableClickRecenter(),y.disablePan(),y.disableRubberBandZoom(),y.disableKeyboardNavigation());f&&y.hideZoomSlider();g&&y.hidePanArrows();k&&y.graphics.disableMouseEvents()},_activateMapTools:function(l,f,g,k){var y=this.map,u=this._mapNavState;
l&&u&&(u.isDoubleClickZoom&&y.enableDoubleClickZoom(),u.isClickRecenter&&y.enableClickRecenter(),u.isPan&&y.enablePan(),u.isRubberBandZoom&&y.enableRubberBandZoom(),u.isKeyboardNavigation&&y.enableKeyboardNavigation(),u.isScrollWheelZoom&&y.enableScrollWheelZoom());f&&y.showZoomSlider();g&&y.showPanArrows();k&&y.graphics.enableMouseEvents()},_deactivateScrollWheel:function(){var l=this.map;this._scrollWheelState={isScrollWheelZoom:l.isScrollWheelZoom,isScrollWheelPan:l.isScrollWheelPan};l.disableScrollWheelZoom();
l.disableScrollWheelPan()},_activateScrollWheel:function(){var l=this.map,f=this._scrollWheelState;f&&(f.isScrollWheelZoom&&l.enableScrollWheelZoom(),f.isScrollWheelPan&&l.enableScrollWheelPan())}});M.setObject("toolbars._Toolbar",U,x);return U})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e){var d=r("dijit.layout._Splitter",[z,q],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);x.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=M(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",c=l.getMarginBox(this.child.domNode)[b],h=U.filter(this.container.getChildren(),function(n){return"center"==n.region})[0];
b=l.getContentBox(h.domNode)[b]-10;return Math.min(this.child.maxSize,c+b)},_startDrag:function(b){this.cover||(this.cover=t.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));x.add(this.cover,"dijitSplitterCoverActive");this.fake&&t.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),x.add(this.domNode,"dijitSplitterShadow"),t.place(this.fake,this.domNode,"after"));x.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&x.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var c=this._factor,h=this.horizontal,n=h?"pageY":"pageX",p=b[n],w=this.domNode.style;h=h?"h":"w";var B=f.getComputedStyle(this.child.domNode),A=l.getMarginBox(this.child.domNode,B)[h],D=this._computeMaxSize(),F=Math.max(this.child.minSize,l.getPadBorderExtents(this.child.domNode,B)[h]+10);h=this.region;var v="top"==h||"bottom"==h?"top":"left",C=parseInt(w[v],10),
G=this._resize,H=k.hitch(this.container,"_layoutChildren",this.child.id);h=this.ownerDocument;this._handlers=this._handlers.concat([y(h,u.move,this._drag=function(K,O){var L=K[n]-p,J=c*L+A,R=Math.max(Math.min(J,D),F);(G||O)&&H(R);w[v]=L+C+c*(R-J)+"px"}),y(h,"dragstart",function(K){K.stopPropagation();K.preventDefault()}),y(this.ownerDocumentBody,"selectstart",function(K){K.stopPropagation();K.preventDefault()}),y(h,u.release,k.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(b){b=
"mouseover"==b.type||"mouseenter"==b.type;x.toggle(this.domNode,"dijitSplitterHover",b);x.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b)},_stopDrag:function(b){try{this.cover&&x.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&t.destroy(this.fake),x.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
M(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var b;b=this._handlers.pop();)b.remove()},_onKeyDown:function(b){this._resize=!0;var c=this.horizontal,h=1;switch(b.keyCode){case c?g.UP_ARROW:g.LEFT_ARROW:h*=-1;case c?g.DOWN_ARROW:g.RIGHT_ARROW:break;default:return}c=l.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*h;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));
b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),a=r("dijit.layout._Gutter",[z,q],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);x.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});r=r("dijit.layout.BorderContainer",m,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:d,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var c=b.region,h=b.isLeftToRight();"leading"==c&&(c=h?"left":"right");"trailing"==c&&(c=h?"right":"left");c&&"center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget&&(h=b.splitter?this._splitterClass:a,k.isString(h)&&
(h=k.getObject(h)),h=new h({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),h.isSplitter=!0,b._splitterWidget=h,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),t.place(h.domNode,b.domNode,c?"before":"after"),h.startup())},layout:function(){this._layoutChildren()},removeChild:function(b){var c=b._splitterWidget;c&&(c.destroy(),delete b._splitterWidget);this.inherited(arguments)},getChildren:function(){return U.filter(this.inherited(arguments),function(b){return!b.isSplitter})},
getSplitter:function(b){return U.filter(this.getChildren(),function(c){return c.region==b})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var h=this.domNode;this.cs=f.getComputedStyle(h);this.pe=l.getPadExtents(h,this.cs);this.pe.r=f.toPixelValue(h,this.cs.paddingRight);this.pe.b=f.toPixelValue(h,this.cs.paddingBottom);f.set(h,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(b,c){if(this._borderBox&&this._borderBox.h){var h=[];U.forEach(this._getOrderedChildren(),
function(n){h.push(n);n._splitterWidget&&h.push(n._splitterWidget)});e.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},h,b,c)}},destroyRecursive:function(){U.forEach(this.getChildren(),function(b){var c=b._splitterWidget;c&&c.destroy();delete b._splitterWidget});this.inherited(arguments)}});r.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};k.mixin(r.ChildWidgetProperties,m.ChildWidgetProperties);k.extend(E,r.ChildWidgetProperties);
r._Splitter=d;r._Gutter=a;return r})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(U,M,r,x,t,l,f,g){M=M("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(U.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(k){this.inherited(arguments);
k.region&&r.add(k.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var k=U.map(this.getChildren(),function(y,u){return{pane:y,weight:["center"==y.region?Infinity:0,y.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(y.region)?1:-1),u]}},this);k.sort(function(y,u){for(var E=y.weight,z=u.weight,q=0;q<E.length;q++)if(E[q]!=z[q])return E[q]-z[q];return 0});return U.map(k,function(y){return y.pane})},layout:function(){g.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(k,y){this.inherited(arguments);this._started&&this.layout()},removeChild:function(k){this.inherited(arguments);this._started&&this.layout();r.remove(k.domNode,this.baseClass+"Pane");x.set(k.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});x.set(k.domNode,/top|bottom/.test(k.region)?"width":"height","auto")}});M.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};t.extend(l,M.ChildWidgetProperties);return M})},"arcgisonline/map/utils/clipOnHorizon":function(){define(["./contains"],
function(U){return function(M){U([102113,102100,3857],M.spatialReference.wkid)&&(M.xmin=Math.max(M.xmin,-20037507),M.xmax=Math.min(M.xmax,20037507),M.ymin=Math.max(M.ymin,-19971868),M.ymax=Math.min(M.ymax,19971868));return M}})},"arcgisonline/sharing/dijit/dialog/ShareOwnershipDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/Select dojox/form/TriStateCheckBox ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/editor dojo/store/Memory dojo/store/Observable ./_CreateItemUtilMixin dojo/topic esri/Evented esri/arcgis/Portal ../../geow/Account ../../geow/Content ../../util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea){return U("arcgisonline.sharing.dijit.dialog.ShareOwnershipDlg",[g,k,y,L],{baseClass:"esriSharedOwnershipDlg table-layout",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cp data-dojo-attach-point\x3d"_message"\x3e${i18n.sharingDlg.sharedOwnershipMsg}\x3c/p\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"${id}-groups" data-dojo-attach-point\x3d"_groups" \x3e\x3c/div\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_footerMessage"\x3e${i18n.sharingDlg.settingsMsg}\x3c/p\x3e',
onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},ea)},postCreate:function(){this.inherited(arguments);R.getSelf(f.hitch(this,function(ka){this._loadConnections();this._portal=new J.Portal({url:esriGeowConfig.restBaseUrl,self:ka});this._connect=this._portal.on("load",f.hitch(this,function(){this._connect.remove();this._portalUser=this._portal.getPortalUser();this.set("disabled",!0,this.i18n.sharingDlg.fetchingGroups);return this._loadData().then(f.hitch(this,
function(ma){this._createGrid(ma);this.set("disabled",!1);O.publish("shareOwnership/load")}),f.hitch(this,function(ma){O.publish("shareOwnership/load")}))}))}))},startup:function(){this.inherited(arguments);var ka=new e,ma=O.subscribe("shareOwnership/load",function(){ma.remove();ka.resolve()});return ka},destroy:function(){x(".dijit",this.contentNode).map(dijit.byNode).forEach(function(ka){ka.destroyRecursive?ka.destroyRecursive():ka.destroy&&ka.destroy();ka=null});this._groups.destroy();this._groupsStore=
this._groups=null;this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._portalUser=this._portal=null},_createGrid:function(ka){ka=[C({field:"visible",autoSave:!0},p),{field:"title"}];this._groups=new (U([F,v]))({selectionMode:"none",store:this._groupsStore,showHeader:!1,showLoadingMessage:!1,columns:ka,sort:[{attribute:"title",descending:!1}]},this._groups);this._groups.startup();this._groups.on(".dgrid-cell.field-visible:click",f.hitch(this,function(ma){ma=
this._groups.cell(ma).element.widget;"mixed"===(ma&&ma.get("checked")||!1)&&ma.set("checked",!0)}))},_loadConnections:function(){this.own(O.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){B.focus(this._focusNode)}),250)})),O.subscribe("/esri/disable",f.hitch(this,function(ka,ma){this.set("disabled",ka,ma,!0)})))},_loadData:function(){var ka=new e,ma=d.map(this.items||[],f.hitch(this,function(sa){return this._getGroupsItemSharedWith(sa)}));this._sharedOwnershipGroups=
this._getSharedOwnershipGroups(this.groups);this._groupsStore=new H(new G({idProperty:"id",data:this._sharedOwnershipGroups}));q(ma).then(f.hitch(this,function(sa){ka[this._sharedOwnershipGroups&&this._sharedOwnershipGroups.length?"resolve":"reject"](this._sharedOwnershipGroups)}));return ka},_setValueAttr:function(ka){this.items=ka.items.map(function(ma){return f.mixin({},ma)});this.groups=ka.groups.map(function(ma){return f.mixin({},ma)})},_getValueAttr:function(){return{selected:this._groupsStore.query({visible:"on"}).map(function(ka){return ka.id}),
unselected:this._groupsStore.query({visible:!1}).map(function(ka){return ka.id})}},_setFocusAttr:function(ka){ka=x(ka,this.domNode);B.focus(ka&&ka.length?ka[0]:this._title.domNode)},_setDisabledAttr:function(ka,ma,sa){this.set("readOnly",ka,ma,sa)},_setReadOnlyAttr:function(ka,ma,sa){x(".dijit",this.domNode).map(dijit.byNode).forEach(function(za){za.set("disabled",ka)});x("a",this.domNode)[ka?"addClass":"removeClass"]("disabledLink");x("label, p, span",this.domNode)[ka?"addClass":"removeClass"]("disabled");
sa||(ka&&ma&&O.publish("/dlg/busyMessage",ma),O.publish("/esri/disable",ka,ma))},shareWithSelectedGroup:function(){var ka=new e,ma=d.map(this.items||[],"return item.id;").join(","),sa=this.items&&this.items.length?this.items[0].owner:null,za={owner:sa,items:ma,groups:this.get("value").selected.join(","),confirmItemControl:!0};ma={owner:sa,items:ma,groups:this.get("value").unselected.join(",")};this.set("disabled",!0,this.i18n.sharingDlg.sharingItems);q([this._shareItems(za),this._unshareItems(ma)]).then(f.hitch(this,
function(){this.set("disabled",!1);ka.resolve()}),f.hitch(this,function(ha){this.set("disabled",!1);ka.reject(ha)}));return ka},_shareItems:function(ka){var ma=new e;ka.groups&&ka.groups.length?X.shareItems(ka,f.hitch(this,function(sa){this.set("disabled",!1);ma.resolve(sa)}),f.hitch(this,function(sa){ma.reject(sa)})):ma.resolve([]);return ma},_unshareItems:function(ka){var ma=new e;ka.groups&&ka.groups.length?X.unshareItems(ka,f.hitch(this,function(sa){this.set("disabled",!1);ma.resolve(sa)}),f.hitch(this,
function(sa){ma.reject(sa)})):ma.resolve([]);return ma},_getGroupsItemSharedWith:function(ka){ka=this._portal.portalUrl+"content/items/"+ka.id+"/groups";var ma=this.items&&this.items.length||0,sa,za=new e;aa.request({url:ka}).then(f.hitch(this,function(ha){ha=this._getSharedOwnershipGroups(ha.admin).concat(this._getSharedOwnershipGroups(ha.member)).concat(this._getSharedOwnershipGroups(ha.other));d.forEach(ha||[],f.hitch(this,function(V){if(sa=this._groupsStore.get(V.id))sa.shareCount=sa.shareCount?
sa.shareCount+1:1,sa.visible=sa.shareCount===ma?"on":"mixed",this._groupsStore.put(sa)}));za.resolve(ha)}));return za},_getSharedOwnershipGroups:function(ka){var ma,sa=this._portalUser&&this._portalUser.username;return d.filter(ka||[],f.hitch(this,function(za){ma=za.capabilities&&za.capabilities.join(",")||"";return(za.owner===sa||!za.isViewOnly||za.userMembership&&"admin"===za.userMembership.memberType)&&-1<ma.toLowerCase().indexOf("updateitemcontrol")}))},validate:function(){var ka=new e;this._focusNode=
null;var ma=this._checkRequired();ma=ma.then(f.hitch(this,function(sa){ka.resolve(sa)}),f.hitch(this,function(sa){this._showError(sa);ka.reject(sa)}));return ka},_checkRequired:function(){var ka=new e;ka.resolve(!0);return ka},_showError:function(ka){ka=f.mixin(f.mixin({},ea.publishWizard.errors.error),ka);this._errorDlg=new w({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ka).then(f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,
function(){B.focus(this._focusNode)}),250)}));return!1}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b){function c(n){return function(p){this._isLoaded?
this.inherited(n,arguments):this.loadDropDown(g.hitch(this,n,p))}}var h=M("dijit.form._SelectMenu",z,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(n){n.preventDefault();n.stopPropagation()}))},focus:function(){var n=!1,p=this.parentWidget.value;g.isArray(p)&&(p=p[p.length-1]);p&&U.forEach(this.parentWidget._getChildren(),function(w){w.option&&
p===w.option.value&&(n=!0,this.focusChild(w,!1))},this);n||this.inherited(arguments)}});t=M("dijit.form.Select"+(y("dojo-bidi")?"_NoBidi":""),[u,E,d],{baseClass:"dijitSelect dijitValidationTextBox",templateString:b,_buttonInputDisabled:y("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var n=this.srcNodeRef.selectedIndex||
0;this._set("value",this.options[0<=n?n:0].value)}this.dropDown=new h({id:this.id+"_menu",parentWidget:this});x.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(n){if(n.value||n.label){var p=g.hitch(this,"_setValueAttr",n);n=new q({option:n,label:("text"===this.labelType?(n.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):n.label)||this.emptyLabel,onClick:p,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:n.disabled||
!1});n.focusNode.setAttribute("role","option");return n}return new m({ownerDocument:this.ownerDocument})},_addOptionItem:function(n){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(n))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(n){}},focusChild:function(n){n&&this.set("value",n.option)},_getFirst:function(){var n=this._getChildren();return n.length?n[0]:null},
_getLast:function(){var n=this._getChildren();return n.length?n[n.length-1]:null},childSelector:function(n){return(n=a.byNode(n))&&n.getParent()==this.dropDown},onKeyboardSearch:function(n,p,w,B){n&&this.focusChild(n)},_loadChildren:function(n){if(!0===n)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{U.forEach(this._getChildren(),function(w){w.destroyRecursive()});var p=new q({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(p)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(n){this.inherited(arguments);r.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(n){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(n){this._set("required",n);this.focusNode.setAttribute("aria-required",n);this._refreshState()},_setOptionsAttr:function(n){this._isLoaded=!1;this._set("options",n)},_setDisplay:function(n){n=("text"===this.labelType?(n||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):n)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" aria-selected\x3d"true" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+n+"\x3c/span\x3e"},
validate:function(n){n=this.disabled||this.isValid(n);this._set("state",n?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",n?"false":"true");var p=n?"":this._missingMsg;p&&this.focused&&this._hasBeenBlurred?e.show(p,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode);this._set("message",p);return n},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);e.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=l.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(p){p.preventDefault();p.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var n=this._keyNavCodes;delete n[f.LEFT_ARROW];delete n[f.RIGHT_ARROW]},_setStyleAttr:function(n){this.inherited(arguments);x.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(n){this._loadChildren(!0);this._isLoaded=!0;n()},destroy:function(n){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(n),delete this.dropDown);e.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){e.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});y("dojo-bidi")&&(t=
M("dijit.form.Select",t,{_setDisplay:function(n){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));t._Menu=h;t.prototype._onContainerKeydown=c("_onContainerKeydown");t.prototype._onContainerKeypress=c("_onContainerKeypress");return t})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z){return t("dijit.form._FormSelectWidget",z,{multiple:!1,options:null,store:null,_setStoreAttr:function(q){this._created&&this._deprecatedSetStore(q)},query:null,_setQueryAttr:function(q){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:q})},queryOptions:null,_setQueryOptionsAttr:function(q){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:q})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(q){var m=this.options||[];if(null==q)return m;if(k.isArrayLike(q))return U.map(q,"return this.getOptions(item);",this);k.isString(q)&&(q={value:q});k.isObject(q)&&(U.some(m,function(e,d){for(var a in q)if(!(a in e)||e[a]!=q[a])return!1;q=d;return!0})||(q=-1));return 0<=q&&q<m.length?m[q]:null},addOption:function(q){U.forEach(k.isArrayLike(q)?q:[q],function(m){m&&k.isObject(m)&&this.options.push(m)},this);this._loadChildren()},removeOption:function(q){q=this.getOptions(k.isArrayLike(q)?
q:[q]);U.forEach(q,function(m){m&&(this.options=U.filter(this.options,function(e){return e.value!==m.value||e.label!==m.label}),this._removeOptionItem(m))},this);this._loadChildren()},updateOption:function(q){U.forEach(k.isArrayLike(q)?q:[q],function(m){var e=this.getOptions({value:m.value}),d;if(e)for(d in m)e[d]=m[d]},this);this._loadChildren()},setStore:function(q,m,e){g.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(q,m,e)},_deprecatedSetStore:function(q,m,e){var d=this.store;e=e||{};if(d!==q){for(var a;a=this._notifyConnections.pop();)a.remove();q.get||(k.mixin(q,{_oldAPI:!0,get:function(b){var c=new M;this.fetchItemByIdentity({identity:b,onItem:function(h){c.resolve(h)},onError:function(h){c.reject(h)}});return c.promise},query:function(b,c){var h=new M(function(){n.abort&&n.abort()});h.total=new M;var n=this.fetch(k.mixin({query:b,onBegin:function(p){h.total.resolve(p)},
onComplete:function(p){h.resolve(p)},onError:function(p){h.reject(p)}},c));return new E(h)}}),q.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[r.after(q,"onNew",k.hitch(this,"_onNewItem"),!0),r.after(q,"onDelete",k.hitch(this,"_onDeleteItem"),!0),r.after(q,"onSet",k.hitch(this,"_onSetItem"),!0)]));this._set("store",q)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);e.query&&this._set("query",e.query);e.queryOptions&&this._set("queryOptions",e.queryOptions);q&&q.query&&(this._loadingStore=!0,this.onLoadDeferred=new M,this._queryRes=q.query(this.query,this.queryOptions),u(this._queryRes,k.hitch(this,function(b){if(this.sortByLabel&&!e.sort&&b.length)if(q.getValue)b.sort(x.createSortFunction([{attribute:q.getLabelAttributes(b[0])[0]}],q));else{var c=this.labelAttr;b.sort(function(h,n){return h[c]>n[c]?1:n[c]>
h[c]?-1:0})}e.onFetch&&(b=e.onFetch.call(this,b,e));U.forEach(b,function(h){this._addOptionForItem(h)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(k.hitch(this,function(h,n,p){n==p?this._onSetItem(h):(-1!=n&&this._onDeleteItem(h),-1!=p&&this._onNewItem(h))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:m);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),k.hitch(this,function(b){this.onLoadDeferred.reject(b)})));return d},_setValueAttr:function(q,m){this._onChangeActive||(m=null);if(this._loadingStore)this._pendingValue=q;else if(null!=q){q=k.isArrayLike(q)?U.map(q,function(a){return k.isObject(a)?a:{value:a}}):k.isObject(q)?[q]:[{value:q}];q=U.filter(this.getOptions(q),function(a){return a&&a.value});var e=this.getOptions()||[];this.multiple||q[0]&&q[0].value||!e.length||(q[0]=e[0]);U.forEach(e,function(a){a.selected=U.some(q,
function(b){return b.value===a.value})});e=U.map(q,function(a){return a.value});if("undefined"!=typeof e&&"undefined"!=typeof e[0]){var d=U.map(q,function(a){return a.label});this._setDisplay(this.multiple?d:d[0]);this.inherited(arguments,[this.multiple?e:e[0],m]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var q=U.map([].concat(this.get("selectedOptions")),function(m){return m&&"label"in m?m.label:m?m.value:null},this);return this.multiple?q:q[0]},_setDisplayedValueAttr:function(q){this.set("value",
this.getOptions("string"==typeof q?{label:q}:q))},_loadChildren:function(){this._loadingStore||(U.forEach(this._getChildren(),function(q){q.destroyRecursive()}),U.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var q=[].concat(this.value);if(q&&q[0]){var m=this;U.forEach(this._getChildren(),function(e){var d=U.some(q,function(a){return e.option&&a===e.option.value});d&&!m.multiple&&
(m.focusedChild=e);f.toggle(e.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);e.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var q=this.getOptions()||[];if(!this.multiple&&q.length){var m=U.filter(q,function(e){return e.selected})[0];if(m&&m.value)return m.value;q[0].selected=!0;return q[0].value}return this.multiple?U.map(U.filter(q,function(e){return e.selected}),function(e){return e.value})||[]:""},_onNewItem:function(q,m){m&&m.parent||
this._addOptionForItem(q)},_onDeleteItem:function(q){this.removeOption({value:this.store.getIdentity(q)})},_onSetItem:function(q){this.updateOption(this._getOptionObjForItem(q))},_getOptionObjForItem:function(q){var m=this.store,e=this.labelAttr&&this.labelAttr in q?q[this.labelAttr]:m.getLabel(q);return{value:e?m.getIdentity(q):null,label:e,item:q}},_addOptionForItem:function(q){var m=this.store;m.isItemLoaded&&!m.isItemLoaded(q)?m.loadItem({item:q,onItem:function(e){this._addOptionForItem(e)},scope:this}):
(q=this._getOptionObjForItem(q),this.addOption(q))},constructor:function(q){this._oValue=(q||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);l.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?y("\x3e *",this.srcNodeRef).map(function(q){return"separator"===q.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:q.getAttribute("data-"+g._scopeName+"-value")||q.getAttribute("value"),
label:String(q.innerHTML),selected:q.getAttribute("selected")||!1,disabled:q.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);r.after(this,"onChange",k.hitch(this,"_updateSelection"));var q=this.store;q&&(q.getIdentity||q.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(q,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var q;q=this._notifyConnections.pop();)q.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(U,M,r,x){return U("dijit.DropDownMenu",x,{templateString:r,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(t){this._moveToPopup(t);t.stopPropagation();t.preventDefault()},
_onLeftArrow:function(t){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else t.stopPropagation(),t.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){return M("dijit._MenuBase",[E,
m,q,z],{selected:null,_setSelectedAttr:function(e){this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){t.toggle(this.domNode,"dijitMenuActive",e);t.toggle(this.domNode,"dijitMenuPassive",!e);this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(e){var d=u.byNode(e);return e.parentNode==this.containerNode&&
d&&d.focus},postCreate:function(){var e=this,d="string"==typeof this.childSelector?this.childSelector:l.hitch(this,"childSelector");this.own(g(this.containerNode,g.selector(d,f.enter),function(){e.onItemHover(u.byNode(this))}),g(this.containerNode,g.selector(d,f.leave),function(){e.onItemUnhover(u.byNode(this))}),g(this.containerNode,g.selector(d,y),function(a){e.onItemClick(u.byNode(this),a);a.stopPropagation()}),g(this.containerNode,g.selector(d,"focusin"),function(){e._onItemFocus(u.byNode(this))}));
this.inherited(arguments)},onKeyboardSearch:function(e,d,a,b){this.inherited(arguments);if(e&&(-1==b||e.popup&&1==b))this.onItemClick(e,d)},_keyboardSearchCompare:function(e,d){return e.shortcutKey?d==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else(e=this._getTopMenu())&&e._isMenuBar&&e.focusNext()},
_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(e){this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(e)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"})},this.passivePopupDelay));this._hoveredChild=
e;e._set("hovering",!0)},_onChildDeselect:function(e){this._stopPopupTimer();this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;e._closePopup()},this.popupDelay))},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);e._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,d){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(e);if(e.disabled)return!1;if(e.popup){this.set("selected",e);this.set("activated",!0);var a=/^key/.test(d._origType||d.type)||0==d.clientX&&0==d.clientY;this._openItemPopup(e,
a)}else this.onExecute(),e._onClick?e._onClick(d):e.onClick(d)},_openItemPopup:function(e,d){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var a=e.popup;a.parentMenu=this;this.own(this._mouseoverHandle=g.once(a.domNode,"mouseover",l.hitch(this,"_onPopupHover")));var b=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){d&&b.focusChild(e);b._cleanUp()},onExecute:l.hitch(this,
"_cleanUp",!0),onClose:function(){b._mouseoverHandle&&(b._mouseoverHandle.remove(),delete b._mouseoverHandle)}},d);this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(x.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(e){if(this._hoveredChild&&this._hoveredChild!=e)this.onItemUnhover(this._hoveredChild);this.set("selected",e)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(e){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);e&&this.set("selected",null)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(U,M,r,x,t,l,f,g,k,y){return M("dojox.form.TriStateCheckBox",[k,y],{templateString:g,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(u){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(u,E){var z=r.indexOf(this.states,u);0<=z&&(this._currentState=z,this._stateType=this._getStateType(u),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(u){U.deprecated("setChecked("+u+") is deprecated. Use set('checked',"+u+") instead.","","2.0");this.set("checked",u)},_setStatesAttr:function(u){if(x.isArray(u))this._set("states",u);else if(x.isString(u)){var E={"true":!0,"false":!1,mixed:"mixed"};u=u.split(/\s*,\s*/);for(var z=0;z<u.length;z++)u[z]=void 0!==E[u[z]]?E[u[z]]:!1;this._set("states",u)}},_setReadOnlyAttr:function(u){this._set("readOnly",u);
f.set(this.focusNode,"readOnly",u)},_setValueAttr:function(u,E){"string"==typeof u&&0>r.indexOf(this.states,u)&&(""==u&&(u="on"),this.stateValues.True=u,u=!0);this._created&&(this._currentState=r.indexOf(this.states,u),this.set("checked",u,E),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(u){this.stateValues.True=u[0]?u[0]:this.stateValues.True;this.stateValues.Mixed=u[1]?u[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&l("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&l("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(u){if(this.readOnly||this.disabled)return t.stop(u),!1;this.click();return this.onClick(u)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var u=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=u;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(u){return u?"mixed"==u?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(U,M,r){return U("dgrid.OnDemandGrid",[M,r],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(U,M,r,x,t,l,f){function g(u,E){E&&E.nodeType&&u.appendChild(E)}function k(u,
E,z,q){if(this.formatter){q=this.formatter;var m=this.grid.formatterScope;z.innerHTML="string"===typeof q&&m?m[q](E,u):this.formatter(E,u)}else null!=E&&z.appendChild(document.createTextNode(E))}var y=8>x("ie")&&!x("quirks");M=M("dgrid.Grid",l,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(u){return"object"!=typeof u?this.columns[u]:this.cell(u).column},listType:"grid",cell:function(u,E){if(u.column&&u.element)return u;u.target&&u.target.nodeType&&(u=u.target);if(u.nodeType){do{if(this._rowIdToObject[u.id])break;
var z=u.columnId;if(z){E=z;var q=u;break}u=u.parentNode}while(u&&u!=this.domNode)}if(!q&&"undefined"!=typeof E){var m=this.row(u);if(z=m&&m.element){z=z.getElementsByTagName("td");for(var e=0;e<z.length;e++)if(z[e].columnId==E){q=z[e];break}}}if(null!=u)return{row:m||this.row(u),column:E&&this.column(E),element:q}},createRowCells:function(u,E,z,q){var m=t("table.dgrid-row-table[role\x3dpresentation]"),e=9>x("ie")||x("quirks")?t(m,"tbody"):m,d,a,b;z=z||this.subRows;var c=0;for(d=z.length;c<d;c++){var h=
z[c];var n=t(e,"tr");h.className&&t(n,"."+h.className);var p=0;for(a=h.length;p<a;p++){var w=h[p];var B=w.id;var A=w.field?".field-"+f.escapeCssIdentifier(w.field,"-"):"";(b="function"===typeof w.className?w.className(q):w.className)&&(A+="."+b);A=t(u+(".dgrid-cell.dgrid-cell-padding"+(B?".dgrid-column-"+f.escapeCssIdentifier(B,"-"):"")+A.replace(/ +/g,"."))+"[role\x3d"+("th"===u?"columnheader":"gridcell")+"]");A.columnId=B;y?(B=t(A,"!dgrid-cell-padding div.dgrid-cell-padding"),A.contents=B):B=A;
if(b=w.colSpan)A.colSpan=b;if(b=w.rowSpan)A.rowSpan=b;E(B,w);n.appendChild(A)}}return m},left:function(u,E){u.element||(u=this.cell(u));return this.cell(this._move(u,-(E||1),"dgrid-cell"))},right:function(u,E){u.element||(u=this.cell(u));return this.cell(this._move(u,E||1,"dgrid-cell"))},renderRow:function(u,E){var z=this.createRowCells("td",function(q,m){var e=u;m.get?e=m.get(u):"field"in m&&"_item"!=m.field&&(e=e[m.field]);m.renderCell?g(q,m.renderCell(u,e,q,E)):k.call(m,u,e,q,E)},E&&E.subRows,
u);return t("div[role\x3drow]\x3e",z)},renderHeader:function(){var u=this,E=this.headerNode,z=E.childNodes.length;for(E.setAttribute("role","row");z--;)t(E.childNodes[z],"!");z=this.createRowCells("th",function(q,m){var e=m.headerNode=q;y&&(q=q.parentNode);var d=m.field;d&&(q.field=d);m.renderHeaderCell?g(e,m.renderHeaderCell(e)):("label"in m||m.field)&&e.appendChild(document.createTextNode("label"in m?m.label:m.field));!1!==m.sortable&&d&&"_item"!=d&&(q.sortable=!0,q.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[z.id=this.id+"-header"]=this.columns;E.appendChild(z);this._sortListener&&this._sortListener.remove();this._sortListener=r(z,"click,keydown",function(q){if("click"==q.type||32==q.keyCode||!x("opera")&&13==q.keyCode){var m=q.target,e,d;do if(m.sortable){var a=[{attribute:e=m.field||m.columnId,descending:(d=u._sort[0])&&d.attribute==e&&!d.descending}];e={bubbles:!0,cancelable:!0,grid:u,parentType:q.type,sort:a};r.emit(q.target,"dgrid-sort",
e)&&(u._sortNode=m,u.set("sort",a));break}while((m=m.parentNode)&&m!=E)}})},resize:function(){var u=this.headerNode.firstChild,E=this.contentNode,z;this.inherited(arguments);if(!x("ie")||7<x("ie")&&!x("quirks"))E.style.width="",E&&u&&(z=u.offsetWidth)!=E.offsetWidth&&(E.style.width=z+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(u,E){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(u){var E=
this.columns,z;for(z in E){var q=E[z];if(q.field==u)return q.headerNode}},updateSortArrow:function(u,E){this._lastSortedArrow&&(t(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),t(this._lastSortedArrow,"!"),delete this._lastSortedArrow);E&&(this._sort=u);if(u[0]){var z=u[0].attribute,q=u[0].descending;z=this._sortNode||this._findSortArrowParent(z);delete this._sortNode;if(z){z=z.contents||z;var m=this._lastSortedArrow=t("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");m.innerHTML=
"\x26nbsp;";z.insertBefore(m,z.firstChild);t(z,q?".dgrid-sort-down":".dgrid-sort-up");this.resize()}}},styleColumn:function(u,E){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(u,"-"),E)},_configColumns:function(u,E){var z=[],q=E instanceof Array;f.each(E,function(m,e){"string"==typeof m&&(E[e]=m={label:m});q||m.field||(m.field=e);e=m.id=m.id||(isNaN(e)?e:u+e);this._configColumn&&(this._configColumn(m,e,E,u),e=m.id);q&&(this.columns[e]=m);
m.grid=this;"function"===typeof m.init&&m.init();z.push(m)},this);return q?E:z},_destroyColumns:function(){var u=this.subRows,E=u&&u.length,z,q;this.cleanup();for(z=0;z<E;z++){var m=0;for(q=u[z].length;m<q;m++){var e=u[z][m];"function"===typeof e.destroy&&e.destroy()}}},configStructure:function(){var u=this.subRows,E=this._columns=this.columns;this.columns=!E||E instanceof Array?{}:E;if(u)for(E=0;E<u.length;E++)u[E]=this._configColumns(E+"-",u[E]);else this.subRows=[this._configColumns("",E)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(u){this._destroyColumns();this.subRows=null;this.columns=u;this._updateColumns()},_setSubRows:function(u){this._destroyColumns();this.subRows=u;this._updateColumns()},setColumns:function(u){U.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",u)},setSubRows:function(u){U.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",u)},_updateColumns:function(){this.configStructure();this.renderHeader();
this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});M.appendIfNode=g;M.defaultRenderCell=k;return M})},"put-selector/put":function(){(function(U){var M,r=/[-+,> ]/;U([],M=function(x,t){function l(u){function E(){d&&e&&d!=e&&(e==u&&(z||(z=r.test(h)&&x.createDocumentFragment()))?z:e).insertBefore(d,m||null)}for(var z,q,m,e,d,a=arguments,b=a[0],c=0;c<a.length;c++){var h=a[c];if("object"==
typeof h){q=!1;if(h instanceof Array){d=x.createDocumentFragment();for(var n=0;n<h.length;n++)d.appendChild(l(h[n]));h=d}if(h.nodeType)d=h,E(),e=h,m=0;else for(n in h)d[n]=h[n]}else if(q)q=!1,d.appendChild(x.createTextNode(h));else{1>c&&(u=null);q=!0;if(b=h.replace(f,function(p,w,B,A,D,F){w&&(E(),"-"==w||"+"==w?(e=(m=d||e).parentNode,d=null,"+"==w&&(m=m.nextSibling)):("\x3c"==w?e=d=(d||e).parentNode:(","==w?e=u:d&&(e=d),d=null),m=0),d&&(e=d));if((p=!B&&A)||!d&&(B||D))"$"==p?(p=a[++c],e.appendChild(x.createTextNode(p))):
(p=p||l.defaultTag,(w=y&&a[c+1]&&a[c+1].name)&&(p="\x3c"+p+' name\x3d"'+w+'"\x3e'),d=k&&~(g=p.indexOf("|"))?x.createElementNS(k[p.slice(0,g)],p.slice(g+1)):x.createElement(p));if(B)if("$"==A&&(A=a[++c]),"#"==B)d.id=A;else if(w=(p=d.className)&&(" "+p+" ").replace(" "+A+" "," "),"."==B)d.className=p?(w+A).substring(1):A;else if("!"==h){var v;y?l("div",d,"\x3c").innerHTML="":(v=d.parentNode)&&v.removeChild(d)}else w=w.substring(1,w.length-1),w!=p&&(d.className=w);D&&("$"==F&&(F=a[++c]),"style"==D?d.style.cssText=
F:(B="!"==D.charAt(0)?(D=D.substring(1))&&"removeAttribute":"setAttribute",F=""===F?D:F,k&&~(g=D.indexOf("|"))?d[B+"NS"](k[D.slice(0,g)],D.slice(g+1),F):d[B](D,F)));return""}))throw new SyntaxError("Unexpected char "+b+" in "+h);E();e=b=d||e}}u&&z&&u.appendChild(z);return b}r=t||r;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,g,k=!1;x=x||document;var y="object"==typeof x.createElement;l.addNamespace=function(u,E){x.createElementNS?(k||
(k={}))[u]=E:x.namespaces.add(u,E)};l.defaultTag="div";l.forDocument=M;return l})})(function(U,M,r){r=r||M;"function"===typeof define?define([],function(){return r()}):"undefined"==typeof window?require("./node-html")(module,r):put=r()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(U,M,r,x,t,l,f,g,
k,y){function u(n,p){return t("#"+f.escapeCssIdentifier(n),p)[0]}function E(n,p){y(document.body,n,".dgrid-scrollbar-measure");var w=n["offset"+p]-n["client"+p];n.className="";n.parentNode&&document.body.removeChild(n);return w}function z(n){var p=n?"."+n.replace(c,"."):"";this._class&&(p="!"+this._class.replace(c,"!")+p);y(this.domNode,p);this._class=n}function q(){return this._class}function m(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function e(n){"undefined"!==typeof n.x&&
(this.bodyNode.scrollLeft=n.x);"undefined"!==typeof n.y&&(this.bodyNode.scrollTop=n.y)}k("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var d,a;l.add("dom-scrollbar-width",function(n,p,w){return E(w,"Width")});l.add("dom-scrollbar-height",function(n,p,w){return E(w,"Height")});l.add("dom-rtl-scrollbar-left",function(n,p,w){n=y("div");y(document.body,w,".dgrid-scrollbar-measure[dir\x3drtl]");y(w,n);p=!!l("ie")||!!l("trident")||n.offsetLeft>=l("dom-scrollbar-width");w.className=
"";w.parentNode&&document.body.removeChild(w);y(n,"!");w.removeAttribute("dir");return p});var b=0,c=/ +/g,h=7>l("ie")&&!l("quirks")?function(){if(this._started){var n=document.documentElement;var p=n.clientWidth;n=n.clientHeight;var w=this._prevWinDims||[];if(w[0]!==p||w[1]!==n)this.resize(),this._prevWinDims=[p,n]}}:function(){this._started&&this.resize()};return M("dgrid.List",l("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,
addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(n,p){var w=this;(this._Row=function(B,A,D){this.id=B;this.data=A;this.element=D}).prototype.remove=function(){w.removeRow(this.element)};p&&(this.srcNodeRef=p=p.nodeType?p:u(p));this.create(n,p)},listType:"list",create:function(n,p){var w=this.domNode=p||y("div");if(n){this.params=n;M.safeMixin(this,n);var B=n["class"]||n.className||w.className;this._sort=n.sort||[];delete this.sort}else this._sort=
[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=w.id=w.id||this.id||"dgrid_"+b++;null===this.useTouchScroll&&(this.useTouchScroll=!l("dom-scrollbar-width"));this.buildRendering();B&&z.call(this,B);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var n=this.domNode,p=this.addUiClasses,w=this;var B=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();n.className="";y(n,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(p?".ui-widget":""));var A=this.headerNode=y(n,"div.dgrid-header.dgrid-header-row"+(p?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(l("quirks")||8>l("ie"))&&y(n,"div.dgrid-spacer");var D=this.bodyNode=y(n,"div.dgrid-scroller");l("ff")&&(D.tabIndex=-1);this.headerScrollNode=y(n,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(p?".ui-widget-header":""));var F=
this.footerNode=y("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));y(n,F);B&&(n.className+=" dgrid-rtl"+(l("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));x(D,"scroll",function(v){w.showHeader&&(A.scrollLeft=v.scrollLeft||D.scrollLeft);v.stopPropagation();x.emit(n,"scroll",{scrollTarget:D})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=y(this.bodyNode,"div.dgrid-content"+(p?".ui-widget-content":""));this._listeners.push(this._resizeHandle=x(window,"resize",
f.throttleDelayed(h,this)))},postCreate:l("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var n=this.bodyNode,p=this.headerNode,w=this.footerNode,B=p.offsetHeight,A=this.showFooter?w.offsetHeight:0,D=l("quirks")||7>l("ie");this.headerScrollNode.style.height=n.style.marginTop=B+"px";n.style.marginBottom=
A+"px";D&&(n.style.height="",n.style.height=Math.max(this.domNode.offsetHeight-B-A,0)+"px",A&&(w.style.bottom="1px",setTimeout(function(){w.style.bottom=""},0)));d||(d=l("dom-scrollbar-width"),a=l("dom-scrollbar-height"),l("ie")&&(d++,a++),f.addCssRule(".dgrid-scrollbar-width","width: "+d+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+a+"px"),17==d||D||(f.addCssRule(".dgrid-header-row","right: "+d+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+d+"px")));D&&(p.style.width=
n.clientWidth+"px",setTimeout(function(){p.scrollLeft=n.scrollLeft},0))},addCssRule:function(n,p){var w=f.addCssRule(n,p);this.cleanAddedRules&&this._listeners.push(w);return w},on:function(n,p){var w=x(this.domNode,n,p);l("dom-addeventlistener")||this._listeners.push(w);return w},cleanup:function(){var n=this.observers,p;for(p in this._rowIdToObject)if(this._rowIdToObject[p]!=this.columns){var w=u(p,this.domNode);w&&this.removeRow(w,!0)}for(p=0;p<n.length;p++)(w=n[p])&&w.cancel();this.observers=
[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var n=this._listeners.length;n--;)this._listeners[n].remove();delete this._listeners}this._started=!1;this.cleanup();y(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(n,p,w,B,A){if(p){var D=this.insertRow(n,p,w,B,A);y(D,".dgrid-highlight"+(this.addUiClasses?
".ui-state-highlight":""));setTimeout(function(){y(D,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return D}},adjustRowIndices:function(n){var p=n.rowIndex;if(-1<p){do-1<n.rowIndex&&(this.maintainOddEven&&-1<(n.className+" ").indexOf("dgrid-row ")&&y(n,"."+(1==p%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==p%2?"dgrid-row-odd":"dgrid-row-even")),n.rowIndex=p++);while((n=n.nextSibling)&&n.rowIndex!=p)}},renderArray:function(n,p,w){function B(){var ka=arguments;if(-1<O)for(var ma=0;ma<
ka.length;ma++){var sa=ka[ma],za=X[sa?0:X.length-1];if(za=za&&A(za)){var ha=za[sa?"previousSibling":"nextSibling"];ha&&(ha=v.row(ha));ha&&ha.element!=za&&(sa=sa?"unshift":"push",n[sa](ha.data),X[sa](ha.element),w.count++)}}}function A(ka){return!r.isDescendant(ka,v.domNode)&&u(ka.id)?v.row(ka.id.slice(v.id.length+5)).element:ka}function D(ka){J=v.insertRow(ka,L,null,C++,w);J.observerIndex=O;return J}function F(ka){R=ka.slice(0);(H=p?p.parentNode:v.contentNode)&&H.parentNode&&(H!==v.contentNode||ka.length)?
(H.insertBefore(L,p||null),(J=ka[ka.length-1])&&v.adjustRowIndices(J)):G[O]&&v.cleanEmptyObservers&&v._onEmptyRender(O);X=ka;K&&(K.rows=X)}w=w||{};var v=this,C=w.start||0,G=this.observers,H;p||(this._lastCollection=n);if(n.observe&&this.shouldObserveStore){v._numObservers++;var K=n.observe(function(ka,ma,sa){var za;if(-1<ma&&X[ma]){var ha=X.splice(ma,1)[0];ha.parentNode==H&&((za=ha.nextSibling)&&ma!=sa&&za.rowIndex--,v.removeRow(ha));w.count--;v._processScroll&&v._processScroll()}if(-1<sa){if(X.length)if(0===
sa)var V=(V=X[sa])&&A(V);else{if(V=X[sa-1])V=A(V),V=(V.connected||V).nextSibling}else V=v._getFirstRowSibling&&v._getFirstRowSibling(H);ha&&V&&ha.id===V.id&&(V=(V.connected||V).nextSibling);V&&!V.parentNode&&(V=u(V.id));ha=p&&p.parentNode||V&&V.parentNode||v.contentNode;if(ha=v.newRow(ka,ha,V,w.start+sa,w))if(ha.observerIndex=O,X.splice(sa,0,ha),!za||sa<ma)za=(za=ha.previousSibling)&&za.rowIndex+1!=ha.rowIndex&&0!=ha.rowIndex?za:ha;w.count++}0===ma?B(1,1):ma===n.length-(-1===sa?0:1)&&B(0,0);ma!=sa&&
za&&v.adjustRowIndices(za);v._onNotification(X,ka,ma,sa)},!0);var O=G.push(K)-1}var L=document.createDocumentFragment(),J,R;if(n.map){var X=n.map(D,console.error);if(X.then)return n.then(function(ka){n=ka;return X.then(function(ma){F(ma);B(1,1,0,0);return R})})}else{X=[];for(var aa=0,ea=n.length;aa<ea;aa++)X[aa]=D(n[aa])}F(X);B(1,1,0,0);return R},_onEmptyRender:function(n){"undefined"!==typeof n&&(this.observers[n].cancel(),this.observers[n]=0,this._numObservers--)},_onNotification:function(n,p,w,
B){},renderHeader:function(){},_autoId:0,insertRow:function(n,p,w,B,A){var D=A.parentId;D=this.id+"-row-"+(D?D+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(n):this._autoId++);var F=u(D,this.domNode),v=F&&F.previousSibling;F&&(F===w&&(w=(w.connected||w).nextSibling),this.removeRow(F));F=this.renderRow(n,A);F.className=(F.className||"")+" dgrid-row "+(1==B%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[F.id=D]=n;p.insertBefore(F,
w||null);v&&this.adjustRowIndices(v);F.rowIndex=B;return F},renderRow:function(n,p){return y("div",""+n)},removeRow:function(n,p){n=n.element||n;delete this._rowIdToObject[n.id];p||y(n,"!")},row:function(n){var p;if(n instanceof this._Row)return n;n.target&&n.target.nodeType&&(n=n.target);if(n.nodeType){do{var w=n.id;if(p=this._rowIdToObject[w])return new this._Row(w.substring(this.id.length+5),p,n);n=n.parentNode}while(n&&n!=this.domNode)}else return"object"==typeof n?p=this.store.getIdentity(n):
(p=n,n=this._rowIdToObject[this.id+"-row-"+p]),new this._Row(p,n,u(this.id+"-row-"+p,this.domNode))},cell:function(n){return{row:this.row(n)}},_move:function(n,p,w,B){var A;var D=A=n.element;p=p||1;do if(n=A[0>p?"previousSibling":"nextSibling"]){do if((A=n)&&-1<(A.className+" ").indexOf(w+" ")){D=A;p+=0>p?1:-1;break}while(n=(!B||!A.hidden)&&A[0>p?"lastChild":"firstChild"])}else if(A=A.parentNode,!A||A===this.bodyNode||A===this.headerNode)break;while(p);return D},up:function(n,p,w){n.element||(n=this.row(n));
return this.row(this._move(n,-(p||1),"dgrid-row",w))},down:function(n,p,w){n.element||(n=this.row(n));return this.row(this._move(n,p||1,"dgrid-row",w))},scrollTo:l("touch")?function(n){return this.useTouchScroll?this.inherited(arguments):e.call(this,n)}:e,getScrollPosition:l("touch")?function(){return this.useTouchScroll?this.inherited(arguments):m.call(this)}:m,get:function(n){var p="_get"+n.charAt(0).toUpperCase()+n.slice(1);return"function"===typeof this[p]?this[p].apply(this,[].slice.call(arguments,
1)):this[n]},set:function(n,p){if("object"===typeof n)for(var w in n)this.set(w,n[w]);else w="_set"+n.charAt(0).toUpperCase()+n.slice(1),"function"===typeof this[w]?this[w].apply(this,[].slice.call(arguments,1)):this[n]=p;return this},_getClass:q,_setClass:z,_getClassName:q,_setClassName:z,_setSort:function(n,p){this._sort="string"!=typeof n?n:[{attribute:n,descending:p}];this.refresh();this._lastCollection&&(n.length&&("string"!=typeof n&&(p=n[0].descending,n=n[0].attribute),this._lastCollection.sort(function(w,
B){var A=w[n],D=B[n];void 0===A&&(A="");void 0===D&&(D="");return A==D?0:A>D==!p?1:-1})),this.renderArray(this._lastCollection))},sort:function(n,p){U.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",n,p)},_getSort:function(){return this._sort},_setShowHeader:function(n){var p=this.headerNode;this.showHeader=n;y(p,(n?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();n&&(p.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(n){U.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",n)},_setShowFooter:function(n){this.showFooter=n;y(this.footerNode,(n?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],function(U){U.add("dom-contains",function(y,u,E){return!!E.contains});var M=[],r,x,t,l=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f=setTimeout,g=clearTimeout;U.add("requestidlecallback",function(y){return"function"===typeof y.requestIdleCallback});var k={defaultDelay:15,
throttle:function(y,u,E){var z=!1;E=E||k.defaultDelay;return function(){z||(z=!0,y.apply(u,arguments),f(function(){z=!1},E))}},throttleDelayed:function(y,u,E){var z=!1;E=E||k.defaultDelay;return function(){if(!z){z=!0;var q=arguments;f(function(){z=!1;y.apply(u,q)},E)}}},debounce:function(y,u,E){var z;E=E||k.defaultDelay;return function(){z&&(g(z),z=null);var q=arguments;z=f(function(){z=null;y.apply(u,q)},E)}},each:function(y,u,E){var z;if(y)if("number"===typeof y.length){var q=0;for(z=y.length;q<
z;q++)u.call(E,y[q],q,y)}else for(q in y)u.call(E,y[q],q,y)},contains:function(y,u){return U("dom-contains")?y.contains(u):y.compareDocumentPosition(u)&8},addCssRule:function(y,u){r||(r=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(r),r=r.sheet||r.styleSheet,x=r.deleteRule?"deleteRule":"removeRule",t=r.cssRules?"cssRules":"rules");var E=M.length;M[E]=(r.cssRules||r.rules).length;r.addRule?r.addRule(y,u):r.insertRule(y+"{"+u+"}",M[E]);return{get:function(z){return r[t][M[E]].style[z]},
set:function(z,q){"undefined"!==typeof M[E]&&(r[t][M[E]].style[z]=q)},remove:function(){var z=M[E],q;if(void 0!==z){r[x](z);M[E]=void 0;var m=E+1;for(q=M.length;m<q;m++)M[m]>z&&M[m]--}}}},escapeCssIdentifier:function(y,u){return"string"===typeof y?y.replace(l,u||"\\$1"):y}};return k})},"xstyle/has-class":function(){define(["dojo/has"],function(U){var M={};return function(){for(var r,x=arguments,t=0;t<x.length;t++)if(r=x[t],!M[r]){M[r]=!0;var l=r.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=U(l[2]),
g=-l[4];(0<g?g<=f&&(-l[5]||g)>=f:!!f)==!l[1]&&(document.documentElement.className+=" has-"+r)}}})},"xstyle/css":function(){define(["require"],function(U){function M(r,x,t){var l=document.documentElement;r=l.insertBefore(document.createElement(r),l.firstChild);r.id=x;x=(r.currentStyle||getComputedStyle(r,null)||{})[t];l.removeChild(r);return x}return{load:function(r,x,t,l){function f(u){var E=M("x-parse",null,"content"),z=u&&(u.sheet||u.styleSheet);E&&"none"!=E&&"normal"!=E?x([eval(E)],function(q){u?
q.process(u,t):(q.processAll(),t(z))}):t(z)}var g=x.toUrl(r);if(g.match(/!$/)){var k={wait:!1};g=g.slice(0,-1)}var y=x.cache&&x.cache["url:"+g];if(null!=y)y.xCss&&(y=y.cssText),"string"==typeof y?U(["./core/load-css"],function(u){f(u.insertCss(y))}):f();else{if("none"==M("div",r.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return f();U(["./core/load-css"],function(u){u(g,f,k)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(U,M,r,x,t,l,f,g,k){return r("dgrid.OnDemandList",[U,M],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var y=this;f(this.bodyNode,"scroll",g[this.pagingMethod](function(u){y._processScroll(u)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(y,u){function E(h){k(c,"!");if(h)throw z._refreshDeferred&&(z._refreshDeferred.reject(h),delete z._refreshDeferred),h;}var z=this,q=u&&u.container||this.contentNode,m={query:y,count:0,options:u},e,d=this.preload,a,b={node:k(q,"div.dgrid-preload",{rowIndex:0}),count:0,query:y,next:m,options:u};b.node.style.height="0";m.node=e=k(q,"div.dgrid-preload");m.previous=b;e.rowIndex=this.minRowsPerPage;d?((m.next=d.next)&&e.offsetTop>=d.node.offsetTop?m.previous=d:(m.next=d,m.previous=
d.previous),m.previous.next=m,m.next.previous=m):this.preload=m;var c=k(e,"-div.dgrid-loading");k(c,"div.dgrid-below").innerHTML=this.loadingMessage;u=x.mixin(this.get("queryOptions"),u,{start:0,count:this.minRowsPerPage},"level"in y?{queryLevel:y.level}:null);this._trackError(function(){return a=y(u)});if("undefined"===typeof a)E();else return t.when(z.renderArray(a,e,u),function(h){return t.when("undefined"===typeof a.total?a.length:a.total,function(n){var p=h.length,w=e.parentNode,B=z.noDataNode;
k(c,"!");"queryLevel"in u||(z._total=n);0===n&&w&&(B&&(k(B,"!"),delete z.noDataNode),z.noDataNode=B=k("div.dgrid-no-data"),w.insertBefore(B,z._getFirstRowSibling(w)),B.innerHTML=z.noDataMessage);for(var A=B=0;A<p;A++)B+=z._calcRowHeight(h[A]);p&&B&&(z.rowHeight=B/p);B=z.rowHeight*z.bufferRows;B>z.farOffRemoval&&(z.farOffRemoval=B);n-=p;m.count=n;e.rowIndex=p;n?e.style.height=Math.min(n*z.rowHeight,z.maxEmptySpace)+"px":(e.style.display="none",u.count++);z._previousScrollPosition&&w&&w.offsetHeight&&
(z.scrollTo(z._previousScrollPosition),delete z._previousScrollPosition);z._processScroll();z._refreshDeferred&&(z._refreshDeferred.resolve(a),delete z._refreshDeferred);return h},E)},E),a},refresh:function(y){var u=this,E=y&&y.keepScrollPosition;"undefined"===typeof E&&(E=this.keepScrollPosition);E&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){E=this._refreshDeferred=new t;var z=u.renderQuery(function(q){return u.store.query(u.query,q)});"undefined"===
typeof z&&E.reject();return E.then(function(q){u._refreshTimeout=setTimeout(function(){f.emit(u.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:u,results:q});u._refreshTimeout=null},0);delete u._refreshDeferred;return q},function(q){delete u._refreshDeferred;throw q;})}},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(y){return y.lastChild},_calcRowHeight:function(y){var u=y.nextSibling;return u&&!/\bdgrid-preload\b/.test(u.className)?
u.offsetTop-y.offsetTop:y.offsetHeight},lastScrollTop:0,_processScroll:function(y){function u(L,J,R,X){var aa=q.farOffRemoval,ea=L.node;if(J>2*aa){for(var ka,ma=ea[R],sa=0,za=0,ha=[];ka=ma;){var V=q._calcRowHeight(ka);if(sa+V+aa>J||0>ma.className.indexOf("dgrid-row")&&0>ma.className.indexOf("dgrid-loading"))break;ma=ka[R];sa+=V;za+=ka.count||1;q.removeRow(ka,!0);ha.push(ka)}L.count+=za;X?(ea.rowIndex-=za,E(L)):ea.style.height=ea.offsetHeight+sa+"px";var la=k("div",ha);setTimeout(function(){k(la,"!")},
1)}}function E(L,J){L.node.style.height=Math.min(L.count*q.rowHeight,J?Infinity:q.maxEmptySpace)+"px"}function z(L,J){do L=J?L.next:L.previous;while(L&&!L.node.offsetWidth);return L}var q=this,m=q.bodyNode;y=y&&y.scrollTop||this.getScrollPosition().y;m=m.offsetHeight+y;var e=q.preload,d=q.lastScrollTop,a=q.bufferRows*q.rowHeight,b=a-q.rowHeight,c,h,n,p=!0;for(q.lastScrollTop=y;e&&!e.node.offsetWidth;)e=e.previous;for(;e&&e!=w;){var w=q.preload;q.preload=e;var B=e.node;var A=B.offsetTop;if(m+1+b<A)e=
z(e,p=!1);else if(y-1-b>A+B.offsetHeight)e=z(e,p=!0);else{var D=((B.rowIndex?y-a:m)-A)/q.rowHeight;A=(m-y+2*a)/q.rowHeight;A+=Math.min(Math.abs(Math.max(Math.min((y-d)*q.rowHeight,q.maxRowsPerPage/2),q.maxRowsPerPage/-2)),10);0==B.rowIndex&&(D-=A);D=Math.max(D,0);10>D&&0<D&&A+D<q.maxRowsPerPage&&(A+=Math.max(0,D),D=0);A=Math.min(Math.max(A,q.minRowsPerPage),q.maxRowsPerPage,e.count);if(0==A)e=z(e,p);else{A=Math.ceil(A);D=Math.min(Math.floor(D),e.count-A);var F=x.mixin(q.get("queryOptions"),e.options);
e.count-=A;var v=B,C=q.queryRowsOverlap,G=(0<B.rowIndex||B.offsetTop>y)&&e;if(G){var H=e.previous;H&&(u(H,y-(H.node.offsetTop+H.node.offsetHeight),"nextSibling"),0<D&&H.node==B.previousSibling?(D=Math.min(e.count,D),e.previous.count+=D,E(e.previous,!0),B.rowIndex+=D,C=0):A+=D,e.count-=D);F.start=B.rowIndex-C;F.count=Math.min(A+C,q.maxRowsPerPage);B.rowIndex=F.start+F.count}else{if(e.next)if(u(e.next,e.next.node.offsetTop-m,"previousSibling",!0),v=B.nextSibling,v==e.next.node)e.next.count+=e.count-
D,e.next.node.rowIndex=D+A,E(e.next),e.count=D,C=0;else var K=!0;F.start=e.count;F.count=Math.min(A+C,q.maxRowsPerPage)}K&&v&&v.offsetWidth&&(K=v.offsetTop);E(e);"level"in e.query&&(F.queryLevel=e.query.level);if("queryLevel"in F||!(F.start>q._total||0>F.count)){B=k(v,"-div.dgrid-loading[style\x3dheight:"+A*q.rowHeight+"px]");k(B,"div.dgrid-"+(G?"below":"above")).innerHTML=q.loadingMessage;B.count=A;var O=e.query(F);if(void 0===q._trackError(function(){return O})){k(B,"!");return}(function(L,J,R,
X){n=t.when(q.renderArray(X,L,F),function(aa){h=X;v=L.nextSibling;k(L,"!");if(R&&v&&v.offsetWidth){var ea=q.getScrollPosition();q.scrollTo({x:ea.x,y:ea.y+v.offsetTop-R,preserveMomentum:!0})}t.when(X.total||X.length,function(ka){"queryLevel"in F||(q._total=ka);J&&(J.count=ka-J.node.rowIndex,0===J.count&&F.count++,E(J))});q._processScroll();return aa},function(aa){k(L,"!");throw aa;})}).call(this,B,G,K,O);e=e.previous}}}}n&&(c=this._refreshDeferred)&&(delete this._refreshDeferred,t.when(n,function(){c.resolve(h)}))},
removeRow:function(y,u){if(y){var E=y.previousSibling,z=y.nextSibling,q;if(q=E)q=E.observerIndex,q=null!=q?q:E.previousObserverIndex;E=q;if(q=z)q=z.observerIndex,q=null!=q?q:z.nextObserverIndex;z=y.observerIndex;y.observerIndex=void 0;u&&(y.nextObserverIndex=q,y.previousObserverIndex=E);if(this.cleanEmptyObservers&&-1<z&&z!==E&&z!==q&&(E=this.observers,q=E[z])){if(!u)for(var m=q.rows,e=0;e<m.length;e++)if(m[e]!=y&&l.isDescendant(m[e],this.domNode))return this.inherited(arguments);q.cancel();this._numObservers--;
E[z]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(U,M,r,x,t,l,f){function g(y){return y}function k(y){if("object"!==typeof y)y=Error(y);else if("cancel"===y.dojoType)return;y.grid=this;t.emit(this.domNode,"dgrid-error",{grid:this,error:y,cancelable:!0,bubbles:!0})}return M("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,
noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};l.before(this,"configStructure",r.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(y){y.set&&(this._columnsWithSet[y.field]=y);this.inherited(arguments)},
_updateNotifyHandle:function(y){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);y&&"function"===typeof y.notify&&this.shouldObserveStore&&(this._notifyHandle=l.after(y,"notify",r.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(y,u,E){this._updateNotifyHandle(y);this.store=y;this.dirty={};this.set("query",u,E)},_setQuery:function(y,u){var E=u&&u.sort;this.query=void 0!==y?y:this.query;this.queryOptions=u||this.queryOptions;this._started&&(E?this.set("sort",
E):this.refresh())},setStore:function(y,u,E){U.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",y,u,E)},setQuery:function(y,u){U.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",y,u)},_getQueryOptions:function(){var y=r.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)y.sort=this._sort;return y},_getQuery:function(){var y=this.query;return"object"==typeof y&&null!=y?r.delegate(y,{}):
y},_setSort:function(y,u){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(y,u){this.inherited(arguments);y&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var y=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return y},renderArray:function(){var y=this,u=this.inherited(arguments);this.store||x.when(u,function(E){E.length&&y.noDataNode&&
f(y.noDataNode,"!")});return u},_onEmptyRender:function(){},insertRow:function(y,u,E,z,q){var m=this.store,e=this.dirty;m=m&&m.getIdentity(y);var d;m in e&&!(m in this._updating)&&(d=e[m]);d&&(y=r.delegate(y,d));return this.inherited(arguments)},updateDirty:function(y,u,E){var z=this.dirty,q=z[y];q||(q=z[y]={});q[u]=E},setDirty:function(y,u,E){U.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(y,u,E)},save:function(){function y(b,c){return function(h){var n=u._columnsWithSet,
p=u._updating,w;if("function"===typeof h.set)h.set(c);else for(w in c)h[w]=c[w];for(w in n){var B=n[w].set(h);void 0!==B&&(h[w]=B)}p[b]=!0;return x.when(E.put(h),function(){delete z[b];delete p[b]})}}var u=this,E=this.store,z=this.dirty,q=new x,m=q.promise,e=function(b){var c;return u.getBeforePut||!(c=u.row(b).data)?function(){return E.get(b)}:function(){return c}},d;for(d in z){var a=y(d,z[d]);m=m.then(e(d)).then(a)}q.resolve();return m},revert:function(){this.dirty={};this.refresh()},_trackError:function(y){"string"==
typeof y&&(y=r.hitch(this,y));try{var u=y()}catch(E){k.call(this,E)}return x.when(u,g,r.hitch(this,k))},newRow:function(){var y=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return y},removeRow:function(y,u){var E={element:y};!u&&this.noDataMessage&&this.up(E).element===y&&this.down(E).element===y&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(U,M,r,x,t,l,f,g,k,y){function u(a,b){for(var c=a.unselectable=b?"on":"",h=a.getElementsByTagName("*"),n=h.length;--n;)"INPUT"!==h[n].tagName&&"TEXTAREA"!==h[n].tagName&&(h[n].unselectable=c)}function E(a,b){var c=a.bodyNode,h=b?"text":21>t("ff")?"-moz-none":"none";q&&"msUserSelect"!==q?c.style[q]=h:t("dom-selectstart")?b||a._selectstartHandle?b&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):a._selectstartHandle=x(c,"selectstart",function(n){var p=n.target&&
n.target.tagName;"INPUT"!==p&&"TEXTAREA"!==p&&n.preventDefault()}):(u(c,!b),b||a._unselectableHandle)?b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle):a._unselectableHandle=f.after(a,"renderRow",function(n){u(n,!0);return n})}t.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});t.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});t.add("css-user-select",function(a,b,c){a=c.style;
b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var h="userSelect";do if("undefined"!==typeof a[h])return h;while(c--&&(h=b[c]+"UserSelect"));return!1});t.add("dom-selectstart","undefined"!==typeof document.onselectstart);var z=t("mac")?"metaKey":"ctrlKey",q=t("css-user-select"),m=(g=t("pointer"))&&"MS"===g.slice(0,2),e=g?g+(m?"Down":"down"):"mousedown",d=g?g+(m?"Up":"up"):"mouseup";"WebkitUserSelect"===q&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(q=!1);return M("dgrid.Selection",
null,{selectionDelegate:".dgrid-row",selectionEvents:e+","+d+",dgrid-cellfocusin",selectionTouchEvents:t("touch")?k.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){U.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?E(this,a):E(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(!l.isRight(a)&&this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==d||b==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===e&&this.isSelected(b))this._waitForMouseUp=
b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var c=a.keyCode?a.ctrlKey:a[z];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,h=a.keyCode?a.ctrlKey:a[z];if(!a.shiftKey){var n=h?null:!0;c=null}this.select(b,c,n);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){if(a[z]||
!this.isSelected(b)||1!==this.getSelectedCount())(2===a.button?this.isSelected(b):a.keyCode?a.ctrlKey:a[z])||this.clearSelection(null,!0),this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=this,b=this.contentNode,c=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};t("touch")&&!t("pointer")&&this.selectionTouchEvents?(x(b,k.selector(c,this.selectionTouchEvents),function(h){a._handleSelect(h,
this);a._ignoreMouseSelect=this}),x(b,x.selector(c,this.selectionEvents),function(h){a._ignoreMouseSelect!==this?a._handleSelect(h,this):h.type===d&&(a._ignoreMouseSelect=null)})):x(b,x.selector(c,this.selectionEvents),function(h){a._handleSelect(h,this)});this.addKeyHandler&&this.addKeyHandler(32,function(h){a._handleSelect(h,h.target)});if(this.allowSelectAll)this.on("keydown",function(h){h[z]&&65==h.keyCode&&!/\bdgrid-input\b/.test(h.target.className)&&(h.preventDefault(),a[a.allSelected?"clearSelection":
"selectAll"]())});this._setStore&&f.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(p,w,B){p=w||p&&p[b.idProperty||"id"];if(null!=p&&(w=(p=b.row(p))&&b.selection[p.id]))b[B](p,null,w)}var b=this,c=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(c&&c.notify){var h=f.before(c,"notify",function(p,w){p||a(p,w,"deselect")});var n=f.after(c,"notify",function(p,w){a(p,w,"select")},!0);
this._removeDeselectSignals=function(){h.remove();n.remove()}}else h=f.before(this,"removeRow",function(p,w){var B;w||(B=this.row(p))&&B.id in this.selection&&this.deselect(B)}),this._removeDeselectSignals=function(){h.remove()}},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent;var h={bubbles:!0,grid:this};c&&(h.parentType=c.type);h[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];x.emit(this.contentNode,
"dgrid-"+a,h)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a)){var h=this.selection;var n=!!h[a.id];null===c&&(c=!n);var p=a.element;c||this.allSelected?h[a.id]=c:delete this.selection[a.id];p&&(c?y(p,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):y(p,"!dgrid-selected!ui-state-active"));c!==n&&p&&this._selectionEventQueues[(c?
"":"de")+"select"].push(a);if(b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(h=this._determineSelectionDirection(p,b),h||(b=document.getElementById(b.id),h=this._determineSelectionDirection(p,b));a.element!=b&&(a=this[h](a));)this._select(a,null,c)}else this._lastSelected=p}},_determineSelectionDirection:t("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":
"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var a=
0,b;for(b in this.selection)b&&(a+=1);return a},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);r.when(b,function(c){var h=a.selection,n,p;for(n=0;n<c.length;n++){var w=
a.row(c[n]);(p=w.id in h?h[w.id]:a.allSelected)&&a._select(w,null,p)}a._fireSelectionEvents()});return b}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/dom-class dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E){function z(F,v){F.value=v;if("radio"==F.type||"checkbox"==F.type)F.checked=F.defaultChecked=!!v}function q(F,v){if("number"==typeof v)F=
isNaN(F)?F:parseFloat(F);else if("boolean"==typeof v)F="true"==F?!0:"false"==F?!1:F;else if(v instanceof Date){var C=new Date(F);F=isNaN(C.getTime())?F:C}return F}function m(F,v){return"function"==typeof v.get?q(v.get("value")):q(v["checkbox"==v.type||"radio"==v.type?"checked":"value"])}function e(F,v,C,G,H){if((C&&C.valueOf())!=(G&&G.valueOf())){var K=v.element;var O=v.row;var L=v.column;if(L.field&&O)if(v={grid:F,cell:v,rowId:O.id,oldValue:C,value:G,bubbles:!0,cancelable:!0},H&&H.type&&(v.parentType=
H.type),l.emit(K,"dgrid-datachange",v))F.updateDirty?(F.updateDirty(O.id,L.field,G),L.autoSave&&setTimeout(function(){F._trackError("save")},0)):O.data[L.field]=G;else{var J;(J=K.widget)?(J._dgridIgnoreChange=!0,J.set("value",C),setTimeout(function(){J._dgridIgnoreChange=!1},0)):(J=K.input)&&z(J,C);return C}}return G}function d(F,v,C){var G=F.cell(v.domNode||v),H=G.column,K;var O=F._activeCell;if(!v.isValid||v.isValid())if(C=e(F,G,O?F._activeValue:v._dgridLastValue,m(H,v),C),O?F._activeValue=C:v._dgridLastValue=
C,"radio"===v.type&&v.name&&!H.editOn&&H.field)for(K in O=F.row(v),k("input[type\x3dradio][name\x3d"+v.name+"]",F.contentNode).forEach(function(L){var J=F.row(L);L!==v&&L._dgridLastValue&&(L._dgridLastValue=!1,F.updateDirty?F.updateDirty(J.id,H.field,!1):J.data[H.field]=!1)}),F.dirty)O.id!==K&&F.dirty[K][H.field]&&F.updateDirty(K,H.field,!1)}function a(F){var v=F.parentNode||F.domNode&&F.domNode.parentNode;v&&t.contains(v,D)||(v=F.focusNode||F.domNode||F);return v}function b(F){if(F){var v=F.parentNode||
F.domNode&&F.domNode.parentNode;v&&t.contains(v,D)||(v=F.domNode||F);return v}}function c(F,v){isNaN(v)&&(v=isNaN(F.tabIndex)?-1:F.tabIndex);return E("div",{className:D,tabIndex:v},F)}function h(F){var v=F.editor,C=F.editOn,G=F.grid,H="string"!=typeof v;var K=F.editorArgs||{};"function"==typeof K&&(K=K.call(G,F));if(H){var O=new v(K);H=O.focusNode||O.domNode;H.className+=" dgrid-input";g("mac")&&C&&/checkbox|radio/i.test(H.type)?(F=c(O.domNode,F.tabIndex),l(F,"blur",function(){O._dgridIgnoreChange||
d(G,O,{type:"widget"})})):C||O.connect(O,"onChange",function(){O._dgridIgnoreChange||d(G,O,{type:"widget"})})}else{var L=function(J){var R=J.target;"_dgridLastValue"in R&&-1<R.className.indexOf("dgrid-input")&&d(G,R,J)};F.grid._hasInputListener||(G._hasInputListener=!0,G.on("change",function(J){L(J)}));O=H=E(("textarea"==v?"textarea":"input[type\x3d"+v+"]")+".dgrid-input",M.mixin({name:F.field,tabIndex:isNaN(F.tabIndex)?-1:F.tabIndex},K));g("mac")&&C&&/checkbox|radio/i.test(v)&&(F=c(O),O.tabIndex=
0,O.removeAttribute("tabindex"));if(9>g("ie")||g("ie")&&g("quirks"))"radio"==v||"checkbox"==v?l(O,"click",function(J){L(J)}):l(O,"change",function(J){L(J)})}return O}function n(F,v){function C(){var R=H._activeCell;L.blur();"function"===typeof H.focus&&setTimeout(function(){H.focus(R)},K&&9>g("ie")?15:0)}var G=h(F),H=F.grid,K=G.domNode,O=b(G),L=a(G),J=K?function(){G.set("value",G._dgridLastValue)}:function(){z(G,G._dgridLastValue);d(F.grid,G)};l(L,"keydown",function(R){R=R.keyCode||R.which;27==R?
(J(),H._activeValue=G._dgridLastValue,C()):13==R&&!1!==F.dismissOnEnter&&C()});(F._editorBlurHandle=l.pausable(a(G),"blur",function(R){if(!G.dropDown||!G.dropDown.domNode.contains(R.relatedTarget||document.activeElement)){if(R&&R.target){var X=R.target;if((X=t.contains(X,D)&&X)&&R.relatedTarget===(G.focusNode||G)){X.focus();return}}d(H,G,{type:"widget"});R=O.parentNode;X=R.children.length-1;var aa={alreadyHooked:!0},ea=H.cell(O);l.emit(ea.element,"dgrid-editor-hide",{grid:H,cell:ea,column:F,editor:G,
bubbles:!0,cancelable:!1});F._editorBlurHandle.pause();R.removeChild(O);if(ea.row){for(E(ea.element,"!dgrid-cell-editing");X--;)E(R.firstChild,"!");u.appendIfNode(R,F.renderCell(F.grid.row(R).data,H._activeValue,R,H._activeOptions?M.delegate(aa,H._activeOptions):aa))}H._focusedEditorCell=H._activeCell=H._activeValue=H._activeOptions=null}})).pause();return G}function p(F,v,C,G){var H=F.domNode;H||z(F,G);C.innerHTML="";E(C,".dgrid-cell-editing");E(C,b(F));H&&!v.editOn?v.grid._editorsPendingStartup.push([F,
v,C,G]):w(F,v,C,G)}function w(F,v,C,G){var H=v.grid;F.domNode&&(F._started||F.startup(),F._dgridIgnoreChange=!0,F.set("value",G),setTimeout(function(){F._dgridIgnoreChange=!1},0));F._dgridLastValue=G;H._activeCell&&(H._activeValue=G,l.emit(C,"dgrid-editor-show",{grid:H,cell:H.cell(C),column:v,editor:F,bubbles:!0,cancelable:!1}))}function B(F){for(var v=F._editorsPendingStartup,C=v.length;C--;)w.apply(null,v[C]);F._editorsPendingStartup=[]}function A(F){function v(X){H.grid._activeCell=O;p(H.editorInstance,
H,O,J);H._editTimer=setTimeout(function(){var aa=a(G);aa.focus&&aa.focus();H._editorBlurHandle&&H._editorBlurHandle.resume();H._editTimer=null;X.resolve(G)},0)}var C,G;F.column||(F=this.cell(F));if(!F||!F.element)return null;var H=F.column;var K=H.field;var O=F.element.contents||F.element;if(G=H.editorInstance){if(H.grid._activeCell!=O){var L=F.row;var J=(C=this.dirty&&this.dirty[L.id])&&K in C?C[K]:H.get?H.get(L.data):L.data[K];if(!H.canEdit||H.canEdit(F.row.data,J)){var R=new x;F=a(G);F.offsetWidth?
(F.blur(),setTimeout(function(){v(R)},0)):v(R);return R.promise}}}else if(H.editor&&(G=O.widget||O.input))return R=new x,G.focus&&G.focus(),R.resolve(G),R.promise;return null}var D="dgrid-editor-focus-wrapper";M.getObject("dgrid.editor",!0);return dgrid.editor=function(F,v,C){function G(L){var J=L.grid,R;if(!J.edit){J.edit=A;J._editorsPendingStartup=[];K.push(l(J.domNode,".dgrid-input:focusin",function(){J._focusedEditorCell=J.cell(this)}));var X=J._editorFocusoutHandle=l.pausable(J.domNode,".dgrid-input:focusout",
function(aa){J._focusedEditorCell&&J._focusedEditorCell.element.contains(aa.target)||(J._focusedEditorCell=null)});K.push(X);K.push(f.before(J,"removeRow",function(aa){var ea=J._focusedEditorCell;aa=J.row(aa);ea&&aa&&ea.row.id===aa.id&&(R=ea,X.pause(),setTimeout(function(){X.resume();R=null},0))}));K.push(f.after(J,"insertRow",function(aa){var ea=J.row(aa);R&&R.row.id===ea.id&&J.edit(J.cell(ea,R.column.id));return aa}));K.push(f.after(J,"renderArray",function(aa){y(aa,function(ea){ea.length?B(J):
J._editorsPendingStartup=[]});return aa}));K.push(f.after(J,"_onNotification",function(){B(J)}))}}var H=F.renderCell||u.defaultRenderCell,K=[];F||(F={});F.editor=v=v||F.editor||"text";F.editOn=C=C||F.editOn;var O="string"!=typeof v;F.widgetArgs&&(U.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),F.editorArgs=F.widgetArgs);f.after(F,"init",C?function(){G(F);F.editorInstance=n(F,H)}:function(){var L=F.grid;G(F);O&&K.push(f.before(L,"removeRow",function(J){if(J=(J=L.cell(J,
F.id).element)&&(J.contents||J).widget)L._editorFocusoutHandle.pause(),J.destroyRecursive(),L._editorFocusoutHandle.resume()}))});f.after(F,"destroy",function(){r.forEach(K,function(L){L.remove()});F._editorBlurHandle&&F._editorBlurHandle.remove();F._editTimer&&clearTimeout(F._editTimer);C&&O&&F.editorInstance.destroyRecursive();F.grid.edit=null;F.grid._editorsPendingStartup=null});F.renderCell=C?function(L,J,R,X){var aa=F.grid;X&&X.alreadyHooked||l("TD"==R.tagName?R:R.parentNode,C,function(){aa._activeOptions=
X;aa.edit(this)});return H.call(F,L,J,R,X)}:function(L,J,R,X){if(!F.canEdit||F.canEdit(L,J))L=h(F),p(L,F,R,J),R[O?"widget":"input"]=L;else return H.call(F,L,J,R,X)};return F}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(U,M,r,x){U=function(t){function l(u,E){var z=t[u];z&&(t[u]=function(q){var m;"put"===u&&(m=t.getIdentity(q));if(y)return z.apply(this,arguments);y=!0;try{var e=z.apply(this,arguments);r(e,function(d){E("object"==
typeof d&&d||q,m)});return e}finally{y=!1}})}var f=[],g=0;t=M.delegate(t);t.notify=function(u,E){g++;for(var z=f.slice(),q=0,m=z.length;q<m;q++)z[q](u,E)};var k=t.query;t.query=function(u,E){E=E||{};var z=k.apply(this,arguments);if(z&&z.forEach){var q=M.mixin({},E);delete q.start;delete q.count;var m=t.queryEngine&&t.queryEngine(u,q),e=g,d=[],a;z.observe=function(b,c){1==d.push(b)&&f.push(a=function(n,p){r(z,function(w){var B=w.length!=E.count,A;if(++e!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var D=-1,F=-1;if(void 0!==p){var v=[].concat(w);m&&!n&&(v=m(w));var C=0;for(A=w.length;C<A;C++){var G=w[C];if(t.getIdentity(G)==p&&!(0>v.indexOf(G))){var H=G;D=C;!m&&n||w.splice(C,1);break}}}m?n&&(m.matches?m.matches(n):m([n]).length)&&(C=-1<D?D:w.length,w.splice(C,0,n),F=x.indexOf(m(w),n),w.splice(C,1),E.start&&0==F||!B&&F==w.length?F=-1:w.splice(F,0,n)):n&&(void 0!==p?F=D:E.start||(F=t.defaultIndex||0,w.splice(F,0,n)));if((-1<D||-1<F)&&(c||!m||D!=F))for(B=d.slice(),C=0;w=B[C];C++)w(n||H,D,F)})});
var h={};h.remove=h.cancel=function(){var n=x.indexOf(d,b);-1<n&&(d.splice(n,1),d.length||f.splice(x.indexOf(f,a),1))};return h}}return z};var y;l("put",function(u,E){t.notify(u,E)});l("add",function(u){t.notify(u)});l("remove",function(u){t.notify(void 0,u)});return t};M.setObject("dojo.store.Observable",U);return U})},"arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/array dojo/dom-form dojo/io-query dojo/json dojo/Deferred dojo/promise/all esri/lang arcgisonline/esriGeowConfig arcgisonline/pages/utils/categories arcgisonline/sharing/util esri/geometry/webMercatorUtils esri/geometry/Extent arcgisonline/sharing/dijit/Role arcgisonline/pages/statusUtil dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){return{addItem:function(b,c,h,n){var p=h&&h.getPortalUser(),w=c&&"/"!==c?c:"",B=b instanceof FormData,A={url:(h&&h.portalUrl)+"content/users/"+(n||p.username)+(w?"/"+w:"")+"/addItem"};c=b&&("FORM"===b.tagName||"FORM"===b.nodeName||B)?"form":"content";var D,F,v,C=new g;A[c]=b;u.self.hasCategorySchema&&A[c].categories&&(B?A[c].categories.value=f.stringify(A[c].categories):A[c].categories=f.stringify(A[c].categories));z.request(A,{usePost:!0}).then(M.hitch(this,
function(G){if(B)if(b.keys)for(v=b.keys(),D={};!(F=v.next()).done;)"file"!==F.value&&(D[F.value]=b.get(F.value));else D=G;else D=A.form?t.toObject(b):b;D.title=M.isArray(D.title)?D.title[0]:D.title;D=M.mixin(G,D,{folderId:w});C.resolve(D)}),function(G){C.reject(G)});return C},updateItem:function(b,c){var h=c&&c.getPortalUser();h=(c&&c.portalUrl)+"content/users/"+(b.owner||h.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/update";var n=M.mixin({},b),p=new g;delete n.owner;
u.self.hasCategorySchema&&n.categories&&(n.categories=f.stringify(n.categories));z.request({url:h,content:n},{usePost:!0}).then(M.hitch(this,function(w){p.resolve(b)}),function(w){p.reject(w)});return p},setCategories:function(b,c){!b.categories||c&&0!==c.length||(c=b.categories);return E.setItemCategories([b.id],c)},addItemResource:function(b,c,h){var n=c&&c.getPortalUser();return z.request({url:(c&&c.portalUrl)+"content/users/"+(b.owner||n.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:
"")+"/items/"+b.id+"/addResources",content:h},{usePost:!0}).then(M.hitch(this,function(p){return p}))},getCloudProviderItemResource:function(b){return z.request({url:u.restBaseUrl+"content/items/"+b.id+"/resources/cloudProvider.json"}).then(M.hitch(this,function(c){return c}))},getPublishParametersForOverwrite:function(b,c){var h=new g;this._fetchPublishParameters(b,c).then(M.hitch(this,function(n){this._fetchServiceInfo(b).then(M.hitch(this,function(p){var w="";"CSV"==c?(w=M.mixin(M.mixin({},p.layers&&
p.layers[0]),{fields:n.layerInfo.fields}),w=M.mixin(n,{layerInfo:w,name:n.name||b.title.replace(/ /g,"_")})):w="Microsoft Excel"==c?this._generateExcelOverwritePublishParameters(n,p):{name:b.title?b.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};w=p?M.mixin(w,p):w;h.resolve(w)}),M.hitch(this,function(p){h.reject(p)}))}),M.hitch(this,function(n){h.reject(n)}));return h},_fetchPublishParameters:function(b,c){var h=u.restBaseUrl+"content/items/"+b.id+"/info/publishParameters.json";!c||"CSV"!==
c&&"Microsoft Excel"!==c?(h=new g,h.resolve(!1)):h=z.request({url:h}).then(M.hitch(this,function(n){return n}));return h},_fetchServiceInfo:function(b){b=b.url;var c={addToken:(z.isHostedService(b)||z.isAgolService(b))&&!1!==u.isMultiTenant},h=new g,n;k([z.request({url:b},c),z.request({url:b+"/layers"},c)]).then(M.hitch(this,function(p){var w={},B=p&&1<p.length&&p[1],A=B&&B.layers;B=B&&B.tables;A&&A.length&&(x.forEach(A,function(D){delete D.fields}),w.layers=A);B&&B.length&&(w.tables=B);n=M.mixin(p[0],
w);h.resolve(n)}));return h},_generateExcelOverwritePublishParameters:function(b,c){c.name=b.name;c.sourceSR=b.sourceSR;c.targetSR=b.targetSR;for(var h=0;h<c.tables.length;h++)"Review"!=c.tables[h].name&&(c.layers[c.layers.length]=c.tables[h]);for(h=0;h<c.layers.length;h++)c.layers[h].excelSheetId=b.layers[h].excelSheetId,c.layers[h].locationType=b.layers[h].locationType,c.layers[h].latitudeFieldName=b.layers[h].latitudeFieldName,c.layers[h].longitudeFieldName=b.layers[h].longitudeFieldName,c.layers[h].geocodeServiceUrl=
b.layers[h].geocodeServiceUrl,c.layers[h].sourceLocale=b.layers[h].sourceLocale,c.layers[h].sourceCountry=b.layers[h].sourceCountry,c.layers[h].standardizedFieldNames=b.layers[h].standardizedFieldNames,c.layers[h].addressFields=b.layers[h].addressFields;return c},deleteItem:function(b,c){var h=(c&&c.getPortalUser()).userContentUrl+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/delete";return z.request({url:h},{usePost:!0})},publishItem:function(b,c,h){var n=(h&&h.getPortalUser()).username;
h=(h&&h.portalUrl)+"content/users/"+n+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/publish";var p=new g;c.publishParameters=f.stringify(c.publishParameters);z.request({url:h,content:c},{usePost:!0}).then(M.hitch(this,function(w){if(u.self.hasCategorySchema&&b.categories){var B=[];(w.services||[]).forEach(function(A){B.push(this.setCategories({id:A.id,categories:b.categories}))},this);k(B).then(M.hitch(this,function(){p.resolve(M.mixin(b,{publishResult:w.services||[]}))}))}else p.resolve(M.mixin(b,
{publishResult:w.services||[]}))}),function(w){p.reject(w)});return p},createService:function(b,c,h,n){var p=new g,w,B=n&&n.getPortalUser();z.request({url:(n&&n.portalUrl)+"content/users/"+(b.owner||B.username)+"/createService",content:c},{usePost:!0}).then(function(A){return w=A}).then(M.hitch(this,this.addToDefinition,h)).then(M.hitch(this,function(A){p.resolve(M.mixin(b,{createResult:A||[]}))}),M.hitch(this,function(A){this.deleteItem(M.mixin(w,{id:w.itemId}),n).then(function(){p.reject(A)})}));
return p},addToDefinition:function(b,c){var h=new g;if(b){var n=c.encodedServiceURL.replace("rest/services","rest/admin/services");z.request({url:n+"/addToDefinition",content:{addToDefinition:b,async:!0}},{usePost:!0}).then(function(p){return d.checkAsyncJobStatus(p.statusURL)}.bind(this),function(p){h.reject(p)}.bind(this)).then(M.hitch(this,function(p){h.resolve(M.mixin(c,{addToDefinitionResult:p}))}),function(p){h.reject(p)})}else h.resolve(c);return h},moveItem:function(b,c,h){var n=new g,p=h&&
h.getPortalUser();p=b.owner||p.username;h=(h&&h.portalUrl)+"content/users/"+p+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/move";p={folder:c&&c!==p?c:"/"};(b.folderId||"/")!==p.folder?z.request({url:h,content:p},{usePost:!0}).then(M.hitch(this,function(w){n.resolve(M.mixin(b,{folderId:c}))})):n.resolve(b);return n},serviceNameAvailable:function(b,c){var h=c&&c.getPortalUser(),n={name:b.title.replace(/ /g,"_"),type:b.type||"Feature Service"};return z.request({url:c.url+"portals/"+
h.orgId+"/isServiceNameAvailable",content:n})},analyzeItem:function(b,c,h){c=M.mixin({enableGlobalGeocoding:!0,sourceLocale:r.locale.split("-")[0]},c||{});b=M.mixin({},{analyzeParameters:c,filetype:b.fileType||b.type&&b.type.toLowerCase()||"",itemid:b.id});h=h.url+"/content/features/analyze";b.analyzeParameters=f.stringify(b.analyzeParameters);return z.request({url:h,content:b},{usePost:!0})},createTemplatedApplication:function(b,c,h,n){var p=b,w=n&&n.sharing?n.sharing:{},B=n&&n.isEveryoneChecked?
n:null,A=M.isArray(c.typeKeywords)?-1<x.indexOf(c.typeKeywords,"selfConfigured"):-1<c.typeKeywords.indexOf("selfConfigured"),D=M.isArray(c.typeKeywords)?-1<x.indexOf(c.typeKeywords,"configurableApp"):-1<c.typeKeywords.indexOf("configurableApp");n=M.isArray(c.typeKeywords)?-1<x.indexOf(c.typeKeywords,"Web AppBuilder for ArcGIS"):-1<c.typeKeywords.indexOf("Web AppBuilder for ArcGIS");var F,v=M.hitch(this,function(G){var H=new g;if(G.shareWithWebMap){var K=u.restBaseUrl+"content/items/"+G.id+"/share",
O="public"===w.access||B&&B.isEveryoneChecked()||!1,L="org"===w.access||B&&B.isAccountChecked()||!1,J=w.groups||B&&B.getSharedGroups()||[];J=x.map(J,"return item.id;");O={f:"json",everyone:O,org:L,groups:J.join(","),items:[G.id]};u.self.hasCategorySchema&&O.categories&&(O.categories=f.stringify(O.categories));z.request({url:K,content:O},{usePost:!0}).then(M.hitch(this,function(){H.resolve(G)}))}else H.resolve(G);return H});if(p&&n)return b=new g,p.folderId&&"/"!==p.folderId&&(p.folder=p.folderId),
n=window.location.protocol+"//"+window.location.host+z.getHomeAppContext()+"/apps/webappbuilder/index.html?",n+=l.objectToQuery({title:p.title,tags:p.tags,summary:p.description,folder:p.folder,categories:p.categories&&p.categories.length?f.stringify(p.categories):void 0}),b.resolve(M.mixin(p,{configureUrl:n})),b;if(p){n=z.parseUrl(c.url);delete b.typeKeywords;var C=window.location.protocol+"//"+n.host+(n.port&&"443"!==n.port&&"80"!==n.port?":"+n.port:"")+n.path;C="https:"===window.location.protocol?
z.getSecureUrl(C):z.getHttpUrl(C);p=M.mixin({type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, JavaScript, Ready To Use"+(A?" ,selfConfigured":"")+(D?", configurableApp":""),thumbnailURL:z.getStaticImagesUrl()+"/webapp.png",url:C},p);p.text=f.stringify(M.mixin({},{source:c.id,folderId:p.folderId,values:b.webSceneId?{webscene:b.webSceneId}:b.webMapId?{webmap:b.webMapId}:b.groupId?{group:b.groupId}:{}}));return this.addItem(p,p.folderId,h).then(M.hitch(this,function(G){return v(M.mixin(p,
{id:G.id})).then(M.hitch(this,function(H){var K=H.url.indexOf("?"),O=-1!==K?H.url.substr(K,H.url.length):"";O+=O&&O.length?"\x26":"?";O+="appid\x3d"+G.id;C=H.url.substr(0,-1!==K?K:H.url.length)+O;return this.updateItem({id:G.id,url:C,folderId:H.folderId},h).then(M.hitch(this,function(){return A?(F=A?C+"\x26edit\x3dtrue":u.baseUrl+("webmap/configureApp.html?appid\x3d"+G.id),F+=G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:"",M.mixin(H,G,{configureUrl:F,url:C})):D?(F=window.location.protocol+
"//"+window.location.host+z.getHomeAppContext()+"/apps/configure-template/index.html?appid\x3d"+G.id,M.mixin(H,G,{configureUrl:F,url:C})):z.request({url:u.restBaseUrl+"content/items/"+c.id+"/data"}).then(M.hitch(this,function(L){F=L&&L.configurationSettings?u.baseUrl+"webmap/configureApp.html?appid\x3d"+G.id+(G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:""):u.baseUrl+"item.html?id\x3d"+G.id;return M.mixin(H,G,{configureUrl:F,url:C})}))}))}))}),M.hitch(this,function(G){G&&409===G.code&&
(G=p,G={title:a.addItemFrm.errors.error.title,message:y.substitute({type:G.type,title:G.title},a.addItemFrm.errors.itemExists.message)});throw G;}))}},checkStatus:function(b,c,h,n){var p=(n&&n.getPortalUser()).userContentUrl;b?z.request({url:p+"/items/"+b.id+"/status",content:{jobId:b.jobId}}).then(M.hitch(this,function(w){w=w||{status:"failed"};if("completed"===w.status)return c.resolve(b);if("failed"===w.status||""===w.status)return w=d.getStatusError(w),c.reject({message:w});h=(h||500)+250;setTimeout(M.hitch(this,
function(){this.checkStatus(b,c,h,n)}),h)}),M.hitch(this,function(w){c.reject(w)})):c.reject()},_getBatchGeocodeServers:function(b){if(!this._batchGeocoderServers){var c=b.getPortalUser(),h=-1<x.indexOf(c.privileges,"portal:user:createItem")&&-1<x.indexOf(c.privileges,"premium:user:geocode"),n=/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/ig,p=/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/ig,w,B,A=[];x.forEach(b.helperServices&&b.helperServices.geocode||[],function(D){w=
!!D.url.match(n);B=!!D.url.match(p);(w&&!b.isPortal&&h||B||D.batch)&&A.push({isWorldGeocodeServer:w||B,isWorldGeocodeServerProxy:B,label:D.name,value:D.url,url:D.url,name:D.name})});this._batchGeocoderServers=A}return this._batchGeocoderServers},getPortalDefaultExtentAsGCS:function(b){if(b=b.defaultExtent||null){b=q.webMercatorToGeographic(new m(b));var c=b.spatialReference._getInfo();if(c){if(b.xmin>b.xmax){var h=c.valid[1]-b.xmin,n=b.xmax-c.valid[0];h>n?b.xmax=c.valid[1]+n:b.xmin=c.valid[0]-h}return Math.round(1E4*
b.xmin)/1E4+","+Math.round(1E4*b.ymin)/1E4+","+Math.round(1E4*b.xmax)/1E4+","+Math.round(1E4*b.ymax)/1E4}}return null},itemExists:function(b,c,h){var n=b.title;h=h&&"/"!==h?h:"root";var p="Data Store"===b.type?b.type.toLowerCase():b.type;c={q:'title:"'+n+'" AND type:"'+p+'" AND owner:"'+c+'" AND ownerfolder:"'+h+'"',num:1};var w,B=new dojo.Deferred;z.request({url:u.restBaseUrl+"search",content:c}).then(function(A){A&&A.total?(w=A.results&&A.results.shift(),b&&b.id===w.id||n!==w.title?B.resolve({itemExists:!1}):
(A=b.isFile?y.substitute({type:b.fileExtension,item:b.item,name:b.name||b.title,title:b.title},a.addItemFrm.errors.itemExistsFile.message):y.substitute({type:p,item:b.item,title:n},a.addItemFrm.errors.itemExists.message),B.resolve({itemExists:!0,message:A}))):B.resolve({itemExists:!1})}.bind(this));return B},noSQLCheck:function(b,c){return b.connectionUri===c.noSQLConnectionURI&&b.database===c.noSQLDataBase&&b.username===c.noSQLUsername},getAllNoSQLDatastorePromises:function(b){var c=new g,h=[];z.request({url:u.restBaseUrl+
"search?q\x3dtype%3A'Data+Store'\x26bbox\x3d\x26sortField\x3d\x26sortOrder\x3d"}).then(function(n){if(n&&n.total){var p=[];n.results.forEach(function(w){w.typeKeywords.includes("nosql")&&p.push(w)});0!==p.length&&p.forEach(function(w){h.push(function(){var B=new g;z.request({url:u.restBaseUrl+"content/items/"+w.id+"/data"}).then(function(A){this.noSQLCheck(A.info.connectionProperties,b)?B.resolve({itemExists:!0}):B.resolve({itemExists:!1})}.bind(this));return B}.call(this))}.bind(this))}c.resolve({allPromises:h})}.bind(this));
return c},checkForDuplicateNoSQL:function(b){var c=new g;this.getAllNoSQLDatastorePromises(b).then(function(h){k(h.allPromises).then(function(n){var p;0!==n.length?(n.forEach(function(w){!0===w.itemExists&&(p=!0)}),p?c.resolve({itemExists:!0}):c.resolve({itemExists:!1})):c.resolve({itemExists:!1})})}.bind(this));return c},hasCreateLayer:function(b){var c={managed:!0},h=b&&(b.user||b.getPortalUser&&b.getPortalUser()),n=new e({portalUser:h}),p,w,B,A,D;if(b.isPortal&&h&&(n.isBasedOnAdmin()||n.isBasedOnPublisher()))return b.getFederatedServers().then(M.hitch(this,
function(F){(w=(p=x.filter(F.servers||[],M.hitch(this,function(v){return v.isHosted})))&&p.length?p[0]:null)?(B=w.adminUrl+"/admin/data/findItems",D=z.request({url:B,content:c},{useProxy:!0}).then(M.hitch(this,function(v){return(A=x.filter(v.items||v||[],M.hitch(this,function(C){return C&&C.provider&&"arcgis data store"===C.provider.toLowerCase()})))&&A.length?!0:!1}),M.hitch(this,function(v){return!1}))):(D=new g,D.resolve(!1));return D}));b=new g;b.resolve(!0);return b}}})},"arcgisonline/pages/statusUtil":function(){define("require exports tslib dojo/Deferred dojo/on dojo/json dojo/topic esri/lang esri/urlUtils ./pageUtil ./utils/arrays ./utils/polling esri/tasks/Geoprocessor ../sharing/util dojo/i18n!../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);return function(){function e(){}e.checkStatus=function(d){var a=new x["default"],b=this.getJobUrl(d),c=this.getJobId(d),h=q["default"].isPortal(),n="Scene Service"===d.type,p=h&&n&&!this.isSceneFromFeatures(d);
d.canUpdate&&d.isHostedService&&!d.isUtilityNetwork&&("Feature Service"===d.type||(h||b&&c)&&"Image Service"===d.type||n||"Vector Tile Service"===d.type||h&&"Map Service"===d.type)?(d.set("status","processing"),b&&c?this.checkJobStatus(d,500):n&&!p||!(c||"Feature Service"===d.type&&(this.isFeaturesFromPackage(d)||this.isFeaturesFromExcel(d))||"Map Service"===d.type&&!this.isTileFromFeatures(d)||"Vector Tile Service"===d.type&&d.sourceData&&!this.isVectorTileFromFeatures(d))?h||this.isVectorTileFromFeatures(d)?
d.set("status","completed"):this.checkServiceStatus(d,500,a):"Vector Tile Service"===d.type&&d.sourceData&&this.isVectorTileFromPackage(d)||"Feature Service"===d.type&&this.isFeaturesFromExcel(d)?this.checkItemStatusCallSupport(d,500,a):(d.set("firstStatus",!0),this.checkItemStatus(d,500,a))):d.set("status","completed");a.resolve(d);return a};e.checkItemStatusCallSupport=function(d,a,b){var c=this;this.supportsItemStatusCall(d).then(function(h){h?(d.set("firstStatus",!0),c.checkItemStatus(d,a,b)):
c.checkServiceStatus(d,a,b)})};e.supportsItemStatusCall=function(d){return q["default"].request({url:d.userItemUrl+"/status",content:{jobId:d.jobId}}).then(function(a){var b;return"item status doesn't exist"===(null===(b=null===a||void 0===a?void 0:a.statusMessage)||void 0===b?void 0:b.toLowerCase())?!1:!0},function(){return!1})};e.isFeaturesFromPackage=function(d){var a,b=null===(a=d.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===d.type&&0<(null===b||void 0===b?void 0:b.indexOf("Package"))};
e.isFeaturesFromExcel=function(d){var a,b=null===(a=d.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===d.type&&"Microsoft Excel"===b};e.isTileFromFeatures=function(d){var a;return"Map Service"===d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isSceneFromFeatures=function(d){var a;return"Scene Service"===d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromFeatures=function(d){var a;return"Vector Tile Service"===
d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromPackage=function(d){var a,b;return"Vector Tile Service"===d.type&&0<(null===(b=null===(a=d.sourceData)||void 0===a?void 0:a.type)||void 0===b?void 0:b.indexOf("Package"))};e.getJobId=function(d){var a=k["default"].urlToObject(document.URL),b=d.properties||{};d.jobId=d.jobId||b.jobId||a&&a.query&&a.query.jobid||null;return d.jobId};e.getJobUrl=function(d){var a=(d.properties&&d.properties.jobUrl||"").split("/jobs/");
d.jobUrl=a.shift();d.jobId=d.jobUrl?a.shift():null;return d.jobUrl};e.checkItemStatus=function(d,a,b){var c=this,h;void 0===a&&(a=500);var n=d.portal.isPortal,p=d.userItemUrl+"/status",w={jobId:d.jobId};"image service"===(null===(h=d.type)||void 0===h?void 0:h.toLowerCase())&&(w.jobType="publishImageService");q["default"].request({url:p,content:w}).then(function(B){B=B||{status:"failed"};var A=n&&"failed"===B.status&&-1<B.statusMessage.toLowerCase().indexOf("job not found.");"completed"===B.status||
A?d.set({firstStatus:void 0,status:"completed",readyForGeocodeReview:!0,readyToRetrieveServiceLayers:!0}):"failed"===B.status||400<B.code||""===B.status?(d.set("statusError",c.getStatusError(B)),d.set("status","failed")):(d.set("status","processing"),B.jobInfo.jobId&&(d.set("jobId",B.jobInfo.jobId),d.firstStatus?d.set({firstStatus:!1,status:"completed"}):d.set("status","processing")),a+=250,setTimeout(function(){return c.checkItemStatus(d,a,b)},a))},function(B){d.set("statusError",c.getStatusError(B));
d.set("status","failed")})};e.checkServiceStatus=function(d,a,b){var c=this;void 0===a&&(a=500);var h=d.adminUrl+"/status",n={};if("Scene Service"===d.type||"Vector Tile Service"===d.type)h=d.adminUrl;d.adminServerToken&&(n.token=d.adminServerToken);q["default"].request({url:h,content:n},{useProxy:q["default"].shouldUseProxy(h)}).then(function(p){var w,B;p.status=(null===(w=p.realTimeState)||void 0===w?void 0:w.toLowerCase())||(null===(B=p.status)||void 0===B?void 0:B.toLowerCase())||(p.currentVersion&&
p.capabilities?"started":"failed");if("Scene Service"===d.type||"Vector Tile Service"===d.type)p.status="PROCESSING"===p.cacheExecutionStatus||"SUBMITTED"===p.cacheExecutionStatus?"processing":"started";"started"===p.status?d.set({status:"completed",readyForGeocodeReview:!0}):"failed"===p.status||400<p.code||""===p.status?(d.set("statusError",c.getStatusError(p)),d.set("status","failed")):(d.set("status","processing"),a+=250,setTimeout(function(){return c.checkServiceStatus(d,a,b)},a))},function(p){d.set("statusErrorCode",
null===p||void 0===p?void 0:p.code);d.set("statusError",c.getStatusError(p));d.set("status","failed")})};e.checkVectorTileServiceJobStatus=function(d,a,b){var c=this;void 0===a&&(a=500);void 0===b&&(b=0);var h=new x["default"];if("Vector Tile Service"===d.type){var n=d.adminUrl,p={},w=null!==b&&void 0!==b?b:0;d.adminServerToken&&(p.token=d.adminServerToken);q["default"].request({url:n,content:p},{useProxy:q["default"].shouldUseProxy(n)}).then(function(B){B.code?10<w?(d.set("statusErrorCode",null===
B||void 0===B?void 0:B.code),d.set("statusError",c.getStatusError(B)),d.set("status","failed"),h.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(d,a,w+1)},a)):(B.status="PROCESSING"===B.cacheExecutionStatus||"SUBMITTED"===B.cacheExecutionStatus?"processing":"started","started"===B.status?(d.set("status","completed"),h.resolve(B)):"failed"===B.status||400<B.code||""===B.status?(d.set("statusError",c.getStatusError(B)),d.set("status","failed"),h.resolve(B)):(d.set("status",
"processing"),a+=1E3,setTimeout(function(){return c.checkVectorTileServiceJobStatus(d,a)},a)))},function(B){10<w?(d.set("statusErrorCode",null===B||void 0===B?void 0:B.code),d.set("statusError",c.getStatusError(B)),d.set("status","failed"),h.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(d,a,w+1)},a))})}else h.resolve();return h};e.checkJobStatus=function(d,a){var b=this,c;void 0===a&&(a=3E3);var h=null===(c=(d.portal.getPortalUser()||{}).credential)||void 0===c?void 0:
c.token,n=d.jobId;c=d.jobUrl;var p=d.properties;if(p&&"processing"===p.jobStatus){d.set("status","processing");var w=new z["default"](c+(h?"?token\x3d"+h:""));t["default"](w,"status-update",function(A){"esriJobExecuting"!==A.jobInfo.jobStatus?(d.set("status","completed"),B&&clearInterval(B)):d.set("status","processing")});t["default"](w,"error",function(A){var D;A=A.error||A;(null===(D=null===A||void 0===A?void 0:A.message)||void 0===D?0:D.indexOf("not found."))?(d.set("status","completed"),p&&(p.jobId&&
delete p.jobId,p.jobUrl&&delete p.jobUrl,p.jobStatus&&delete p.jobStatus,p.jobType&&delete p.jobType,d.set("properties",p))):(d.set("statusError",b.getStatusError(A)),d.set("status","failed"));B&&clearInterval(B)});var B=setInterval(function(){return w.checkJobStatus(n)},a)}else d.set("status","completed")};e.checkSceneCachingJobStatus=function(d,a,b,c){var h=this;void 0===a&&(a=3E3);var n=q["default"].isPortal(),p=!(!d.portalUser||!d.portalUser.isOrgAdmin),w=d.cachingJobUrl||d.properties&&d.properties.cacheJobUrl,
B=n?["esriJobSucceeded","esriJobFailed","esriJobCancelled"]:["Completed","Failed"],A=n?"esriJobFailed":"Failed",D=n?"jobStatus":"status",F=n?w:d.adminUrl+"/"+w;n&&p&&(F=F.replace("/rest/","/admin/").replace("/SceneCachingControllers/GPServer/","/SceneCachingControllers.GPServer/"),D="status");var v=n?{useProxy:q["default"].shouldUseProxy(F)}:{};if(w)var C=setInterval(function(){q["default"].request({url:F},v).then(function(G){c&&f["default"].publish(c,G);u["default"].includes(B,G[D])?(G[D]===A&&(d.set("status",
"failed"),b&&b.reject(G)),clearInterval(C),d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve(G)):d.set("status","processing")},function(G){var H;(null===(H=null===G||void 0===G?void 0:G.message)||void 0===H?0:H.indexOf("not found."))?(d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve()):(d.set("statusError",h.getStatusError(G)),d.set("status","failed"),b&&b.reject(G))})},a);else d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve({})};e.getStatusError=
function(d){var a=(null===d||void 0===d?void 0:d.statusMessage)||m["default"].addItemFrm.errors.publishError.message;return a?y["default"].isJson(a)?l["default"].parse(a):a:d};e.checkAsyncJobStatus=function(d,a){var b=new x["default"],c=0,h,n=function(){q["default"].request({url:d},a).then(function(p){p=p||{status:"Failed"};h=p.status||p.jobStatus;h=g["default"].isDefined(h)?h.toLowerCase():h;u["default"].includes(["esrijobsucceeded","completed"],h)?b.resolve(p):u["default"].includes(["esrijobfailed",
"failed"],h)||400<p.code?b.reject(p):setTimeout(n,E["default"].asyncIntervalTimerFunction(c++))},function(p){b.reject(p)})};setTimeout(n,E["default"].asyncIntervalTimerFunction(c++));return b};e.checkAsyncJobStatusWithVaryingInterval=function(d,a){var b=new x["default"],c=0,h,n=function(){setTimeout(function(){c++;q["default"].request({url:d}).then(function(p){p=p||{status:"Failed"};h=p.status||p.jobStatus;h=g["default"].isDefined(h)?h.toLowerCase():h;u["default"].includes(["esrijobsucceeded","completed"],
h)?b.resolve(p):u["default"].includes(["esrijobfailed","failed"],h)||400<p.code?b.reject(p):n()},function(p){return b.reject(p)})},a(c))};n();return b};e.getEndTime=function(d){var a=q["default"].isPortal();if(((null===d||void 0===d?0:d.startTime)||(null===d||void 0===d?0:d.submittedTime))&&((null===d||void 0===d?0:d.totalTime)||(null===d||void 0===d?0:d.duration))){var b=(a?d.submittedTime:d.startTime)||0;b=a?b:1E3*b;d=a?g["default"].isDefined(d.duration)?d.duration:void 0:g["default"].isDefined(d.totalTime)?
1E3*d.totalTime:void 0;return b+d}if(a&&d.jobStatus&&d.messages&&(d=u["default"].find(d.messages||[],function(h){return"esriJobMessageTypeInformative"===h.type&&0===h.description.indexOf("Succeeded at ")})))try{b=d.description.indexOf(" (Elapsed Time: ");var c=d.description.substring(14,b).trim();return(new Date(c)).getTime()}catch(h){}};return e}()})},"arcgisonline/pages/utils/polling":function(){define(["require","exports"],function(U,M){function r(x){return 1E3*M.ASYNC_POLLING_INTERVALS[-1<x&&
x<M.ASYNC_POLLING_INTERVALS.length-1?x:M.ASYNC_POLLING_INTERVALS.length-1]}Object.defineProperty(M,"__esModule",{value:!0});M.asyncIntervalTimerFunction=M.ASYNC_POLLING_INTERVALS=void 0;M.ASYNC_POLLING_INTERVALS=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];M.asyncIntervalTimerFunction=r;M["default"]={ASYNC_POLLING_INTERVALS:M.ASYNC_POLLING_INTERVALS,asyncIntervalTimerFunction:r}})},"arcgisonline/sharing/utilShare":function(){define("require exports tslib ../esriGeowConfig ./util ./dijit/dialog/ShareCheckDlg ./dijit/dialog/ConfirmDialog ./geow/Community dojo/promise/all dojo/Deferred dojo/string esri/lang esri/request dojo/i18n!../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);return function(){function m(){}m.isEmpty=function(e){return e?JSON.stringify(e)===JSON.stringify({}):!1};m.checkWebMapContent=function(e){var d=this,a=function(b){var c={};c.webMapId=b.webMapId;c.mainItemCard=
b.webMapItemCard;delete c.mainItemCard.needsUpdate;c.mainItemSharing=b.webMapItemSharing;c.mainConfig=b.webMapConfig;c.itemCards=b.itemCards||{};for(var h in c.itemCards)delete c.itemCards[h].needsUpdate;c.itemsSharing={};c.newAccess=b.newAccess;c.needUpdateHandler=b.needUpdateHandler;c.dontNeedUpdateHandler=b.dontNeedUpdateHandler;c.confirmItemControl=b.confirmItemControl;d.getMainItemCard(c)};e.useTimer?(this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout(function(){d.waitHandler=
null;a(e)},2E3)):a(e)};m.checkWebAppContent=function(e){var d={};d.webAppId=e.webAppId;d.mainItemCard=e.webAppItemCard;d.mainItemSharing=e.webAppItemSharing;d.mainConfig=e.webAppConfig;d.itemCards=e.itemCards||{};d.itemsSharing={};this.getMainItemCard(d)};m.getMainItemCard=function(e){var d=this,a=function(b){b.newAccess?(b.mainItemSharing=b.newAccess,d.getMainConfig(b)):"private"!==b.mainItemCard.access&&("shared"===b.mainItemCard.access?d.getMainSharingInfo(b):d.getMainConfig(b))};e.mainItemCard?
a(e):t["default"].request({url:x["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)}).then(function(b){e.mainItemCard=b;a(e);return!0},function(b){return b})};m.getMainSharingInfo=function(e){var d=this;if(e.mainItemSharing)this.getMainConfig(e);else{var a=t["default"].getUser();a=x["default"].restBaseUrl+"content/users/"+a.username;e.mainItemCard.ownerFolder&&(a+="/"+e.mainItemCard.ownerFolder);a+="/items/"+(e.webMapId||e.webAppId);var b=t["default"].getToken();z["default"]({url:a+
(b?"?f\x3djson\x26token\x3d"+b:"?f\x3djson"),callbackParamName:"callback",load:function(c){e.mainItemSharing=c.sharing;d.getMainConfig(e)},error:function(c){d.getMainConfig(e)}},{disableIdentityLookup:!0})}};m.getMainConfig=function(e){var d=this;if(e.mainConfig)e.webMapId?this.readWebMapConfig(e):this.readWebAppConfig(e);else return t["default"].request({url:x["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)+"/data"}).then(function(a){e.mainConfig=a;e.webMapId?d.readWebMapConfig(e):
d.readWebAppConfig(e)},function(a){})};m.checkForItemSharing=function(e){var d=this;if(e.newAccess&&"shared"!==e.newAccess.access||!e.newAccess&&"shared"!==e.mainItemCard.access)this.checkAccessOfItems(e);else{var a=[],b;for(b in e.itemCards){var c=e.itemCards[b];"shared"!==c.access&&"org"!==c.access||!c.ownerFolder&&null!==c.ownerFolder||a.push(this.getItemSharingInfo(c))}a.length?k["default"](a).then(function(h){h.forEach(function(n){n=n.length?n[1]:n;e.itemsSharing[n.item.id]=n.sharing});d.checkAccessOfItems(e)}):
this.checkAccessOfItems(e)}};m.checkAccessOfItems=function(e){var d=this,a=t["default"].getUser(),b=e.newAccess?e.newAccess.access:e.mainItemCard.access,c=[],h;for(h in e.itemCards){var n=e.itemCards[h];"shared"===b&&"public"!==n.access&&e.mainItemSharing&&void 0!==n.ownerFolder&&a.username!==n.owner&&c.push(this.getOwnerGroups(n,e))}c.length?k["default"](c).then(function(p){d._checkAccessOfItems(e)}):this._checkAccessOfItems(e)};m._checkAccessOfItems=function(e){var d=this,a=!1,b=e.newAccess?e.newAccess.access:
e.mainItemCard.access,c=[],h;for(h in e.itemCards){var n=e.itemCards[h],p=n.access,w=!1;e.containsPremiumContent=this.isPremiumContent(n);if("public"===b&&"public"!==p)w=!0;else if("org"===b&&"public"!==p&&"org"!==p)w=!0;else if("shared"===b&&"private"===p)w=!0;else if("shared"!==b||"shared"!==p&&"org"!==p)"Web Map"!==n.type&&"Web Scene"!==n.type?delete e.itemCards[h]:e.itemCards[h].needsUpdate=!1;else if(e.mainItemSharing)if(e.itemsSharing[h]&&void 0!==n.ownerFolder){p=e.mainItemSharing.groups;for(var B=
e.itemsSharing[h].groups,A=!1,D=0;D<p.length;D++)if(-1===B.indexOf(p[D])){A=w=!0;break}A||delete e.itemCards[h]}else w=!0;else w=!0;(w&&e.webAppId||"Web Map"===n.type||"Web Scene"===n.type)&&c.push(this.checkWebMapInWebApp(n.id,e));a=a||w}var F=function(v,C){var G=C.newAccess?C.newAccess.access:C.mainItemCard.access;v?C.needUpdateHandler?C.needUpdateHandler(C):l["default"].prototype.statics.getInstance().show(C):"public"===G&&"Web Map"===C.mainItemCard.type&&C.containsPremiumContent?d.showPremiumContentDlg(C):
C.dontNeedUpdateHandler&&C.dontNeedUpdateHandler(C)};c.length?k["default"](c).then(function(v){v.forEach(function(C){1<C.length&&E["default"].isDefined(C.length?C[1]:C)&&(a=a||C.length?C[1]:C)});F(a,e)}):this.isEmpty(e.itemCards)?e.dontNeedUpdateHandler&&e.dontNeedUpdateHandler(e):F(a,e)};m.isPremiumContent=function(e){e=e.typeKeywords||[];return-1<e.indexOf("Requires Subscription")||-1<e.indexOf("Requires Credits")};m.showPremiumContentDlg=function(e){var d=this;-1<document.location.href.indexOf("viewer.html")||
(e=""+x["default"].helpBase+x["default"].helpMap["120001307"],this.premiumContentDlg||(this.premiumContentDlg=new f["default"]({showCancel:!1,buttonOk:q["default"].common.ok,style:{width:"200px"}}),this.premiumContentDlg.show({message:u["default"].substitute('${i18n.shareMapDlg.premiumLayerMsg} \x3ca href\x3d"${helpLinkPremium}" target\x3d"_blank"\x3e${i18n.shareMapDlg.premiumLayerMsgLearnMore}\x3c/a\x3e',{i18n:q["default"],helpLinkPremium:e}),title:q["default"].common.premiumcontent}).then(function(a){d.premiumContentDlg.hide();
d.premiumContentDlg=null})))};m.readWebMapConfig=function(e){var d=this,a,b,c=!1,h=[],n=e.mainConfig.operationalLayers;e.mainConfig.tables&&e.mainConfig.tables.length&&(n=n.concat(e.mainConfig.tables));for(var p=n.length-1;0<=p;p--){var w=n[p];if(w.itemId)c=!0,e.itemCards[w.itemId]||h.push(this.getItemCard(w.itemId)),("ArcGISTiledMapServiceLayer"===w.layerType||"ArcGISTiledElevationServiceLayer"===w.layerType||"ArcGISSceneServiceLayer"===w.layerType)&&(null===(a=w.layers)||void 0===a?0:a.length)&&
w.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&h.push(d.getItemCard(F.layerItemId))});else if("GroupLayer"===w.layerType)for(var B=n[p],A=B.layers.length-1;0<=A;A--){var D=B.layers[A];D.itemId&&(c=!0,e.itemCards[D.itemId]||h.push(this.getItemCard(D.itemId)))}w.layers&&w.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&h.push(d.getItemCard(F.layerItemId))})}for(p=e.mainConfig.baseMap.baseMapLayers.length-1;0<=p;p--)a=e.mainConfig.baseMap.baseMapLayers[p],
a.itemId&&(c=!0,e.itemCards[a.itemId]||h.push(this.getItemCard(a.itemId)));if(e.mainConfig.baseMap.elevationLayers)for(p=e.mainConfig.baseMap.elevationLayers.length-1;0<=p;p--)a=e.mainConfig.baseMap.elevationLayers[p],a.itemId&&(c=!0,e.itemCards[a.itemId]||h.push(this.getItemCard(a.itemId)));h.length?k["default"](h).then(function(F){F.forEach(function(G){G=G.length?G[1]:G;G.id&&(e.itemCards[G.id]=G)});var v=[],C=[];F.forEach(function(G){G=G.length?G[1]:G;G.id&&("Map Service"===G.type||"Scene Service"===
G.type)&&-1<G.typeKeywords.indexOf("Hosted Service")&&!e.itemCards[G.id].data&&(v.push(d.getItemData(G.id)),C.push(G.id))});v.length?k["default"](v).then(function(G){G.forEach(function(H,K){var O=e.itemCards[C[K]];O.data=H.length?H[1]:H;var L=[];O.data.layers&&O.data.layers.forEach(function(J){J.layerItemId&&(e.itemCards[J.layerItemId]||L.push(d.getItemCard(J.layerItemId)))});L.length?k["default"](L).then(function(J){J.forEach(function(R){R=R.length?R[1]:R;R.id&&(e.itemCards[R.id]=R)});d.checkForItemSharing(e)},
function(J){d.checkForItemSharing(e)}):d.checkForItemSharing(e)},d)},function(G){d.checkForItemSharing(e)}):d.checkForItemSharing(e)},function(F){d.checkForItemSharing(e)}):c?this.checkForItemSharing(e):null===(b=e.dontNeedUpdateHandler)||void 0===b?void 0:b.call(e,e)};m.readWebAppConfig=function(e){var d=this;if(e.mainConfig.values&&e.mainConfig.values.webmap||e.mainConfig.map&&e.mainConfig.map.itemId||e.mainConfig.values&&e.mainConfig.values.webscene){var a=[];e.mainConfig&&(e.mainConfig.values?
e.mainConfig.values.webscene?a=e.mainConfig.values.webscene.split(","):e.mainConfig.values.webmap&&(a=e.mainConfig.values.webmap.split(",")):a=e.mainConfig.map&&e.mainConfig.map.itemId?[e.mainConfig.map.itemId]:[]);var b=[];a.forEach(function(c){e.itemCards[c]||b.push(d.getItemCard(c))});b.length?k["default"](b).then(function(c){c.forEach(function(h){h=h.length?h[1]:h;e.itemCards[h.id]=h});d.checkForItemSharing(e)}):this.checkForItemSharing(e)}};m.checkWebMapInWebApp=function(e,d){var a=new y["default"],
b={access:d.mainItemCard.access};d.mainItemSharing&&d.mainItemSharing.groups&&(b.groups=d.mainItemSharing.groups);this.checkWebMapContent({webMapId:e,webMapItemCard:d.itemCards[e],newAccess:b,needUpdateHandler:function(c){d.itemCards[e].webMapInfo=c;a.resolve(!0)},dontNeedUpdateHandler:function(c){a.resolve(!1)}});return a};m.getItemCard=function(e,d){var a=this;d=d||new y["default"];if("inProgress"===this.itemCards[e])setTimeout(function(){a.getItemCard(e,d)},1E3);else if(this.itemCards[e])delete this.itemCards[e].needsUpdate,
d.resolve(this.itemCards[e]);else{this.itemCards[e]="inProgress";var b=x["default"].restBaseUrl+"content/items/"+e,c=t["default"].getToken();z["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(h){a.itemCards[e]=h;d.resolve(h)},error:function(h){delete a.itemCards[e];d.reject(h)}},{disableIdentityLookup:!0})}return d};m.getItemData=function(e,d){var a=this,b;d=d||new y["default"];if(this.itemCards[e]&&"inProgress"===this.itemCards[e].data)setTimeout(function(){a.getItemData(e,
d)},1E3);else if(null===(b=this.itemCards[e])||void 0===b?0:b.data)d.resolve(this.itemCards[e].data);else{this.itemCards[e].data="inProgress";b=x["default"].restBaseUrl+"content/items/"+e+"/data";var c=t["default"].getToken();z["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(h){a.itemCards[e].data=h;d.resolve(h)},error:function(h){delete a.itemCards[e].data;d.reject(h)}},{disableIdentityLookup:!0})}return d};m.getItemSharingInfo=function(e){var d=
x["default"].restBaseUrl+"content/users/"+e.owner;e.ownerFolder&&(d+="/"+e.ownerFolder);d+="/items/"+e.id;e=t["default"].getToken();return z["default"]({url:d+(e?"?f\x3djson\x26token\x3d"+e:"?f\x3djson"),callbackParamName:"callback"},{disableIdentityLookup:!0})};m.getOwnerGroups=function(e,d){var a=this,b=new y["default"];this.ownerGroups[e.owner]?b.resolve():g["default"].getProfile(e.owner,function(c){c=(c.groups||[]).map(function(h){return h.id});a.ownerGroups[e.owner]=c;b.resolve()},function(){b.resolve()});
return b};m.itemCards=[];m.ownerGroups=[];return m}()})},"arcgisonline/sharing/dijit/dialog/ShareCheckDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.ShareCheckDlg");U.require("dijit.Dialog");U.require("dijit._Widget");U.require("dijit._Templated");U.require("arcgisonline.sharing.util");U.declare("arcgisonline.sharing.dijit.dialog.ShareCheckDlg",[M._Widget,
M._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" id\x3d"shareCheck-dialog" title\x3d"${i18n.shareChecksDlgTitle}" execute\x3d""\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      .esri .dojoxGridHeader .dojoxGridCellFocus, .esri .dojoxGridHeader .dojoxGridCell {\r\n        border-bottom: 1px solid #CCC;\r\n      }\r\n    \x3c/style\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckTopMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojotype\x3d"dijit.layout.BorderContainer" design\x3d"headline" gutters\x3d"false" style\x3d"width:100%; height:120px; margin:20px 0 10px 0;"\x3e\r\n      \x3cdiv dojoType\x3d"dijit.layout.ContentPane" dojoAttachPoint\x3d"shareCheckGrid" region\x3d"top" style\x3d"height:118px;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckBottomMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"editableLayerDiv" style\x3d"clear:both; display:none; background-color:rgba(240, 201, 206, 1); border:2px solid rgb(255, 0, 0); margin-top:10px; padding:8px;"\x3e\r\n      \x3cspan dojoAttachPoint\x3d"editableLayerMsg"\x3e\x3c/span\x3e\r\n      \x3ca dojoAttachPoint\x3d"editableLayerHelpLink" href\x3d"JavaScript:void(0);" dojoAttachEvent\x3d"onClick:onLearnHowClick"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing clearfix leader-1" style\x3d"padding-top:5px; padding-bottom:5px;"\x3e\r\n      \x3cbutton dojoAttachEvent\x3d"onClick:onCancelClick" dojoAttachPoint\x3d"exitButton" class\x3d"jevent cancel btn-two right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridUpdateButton" dojoAttachEvent\x3d"onClick:onUpdateClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.UpdateSharingBtn}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridOkButton" dojoAttachEvent\x3d"onClick:onCancelClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button" style\x3d"display:none;"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
grid:null,gridId:"shareCheckGridNode",oneLayerMissingDataCollection:!1,oneLayerNotMissingDataCollection:!1,oneLayerNotEditable:!1,statics:{_instance:null,getInstance:function(){this._instance&&M.byId("shareCheckGridNode")&&M.byId("shareCheckGridNode").destroy();null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareCheckDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;
U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").myOrganization.creditsTab);U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").shareCheckDlg)},show:function(x){var t=U.hitch(this,function(z,q,m){var e=!1,d=!1;if(("public"===z||"org"===z)&&void 0!==m.ownerFolder)return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d};if("shared"===z)if(void 0!==m.ownerFolder){e=!0;z=this.info.itemsSharing[g]?this.info.itemsSharing[g].groups:[];m=arcgisonline.sharing.utilShare.ownerGroups[m.owner];
for(var a=0;a<q.length;a++)if(-1===U.indexOf(z,q[a])&&(!esri.isDefined(m)||esri.isDefined(m)&&-1<U.indexOf(m,q[a])))return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d}}else d=!0;return{userCanUpdate:!1,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d}});this.info=x;x=!1;var l=this.info.mainItemCard.access,f="Web Scene"===this.info.mainItemCard.type,g;for(g in this.info.itemCards){var k=this.info.itemCards[g],y=this.info.mainItemSharing?this.info.mainItemSharing.groups:
[];if(!1===k.needsUpdate){if(k.webMapInfo){for(var u in k.webMapInfo.itemCards){var E=t(l,y,k.webMapInfo.itemCards[u]);x=E.userCanUpdate;0-E.unknownGroupDetails;if(x)break}if(x)break}}else if(E=t(l,y,k),x=E.userCanUpdate,0-E.unknownGroupDetails,x)break}x?(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML=this.info.webMapId?f?this.i18n.textBottomWebScene:this.i18n.textBottomWebmap:this.i18n.textBottomWebapp,
U.style(this.exitButton.domNode,"display",""),U.style(this.shareGridUpdateButton.domNode,"display",""),U.style(this.shareGridOkButton.domNode,"display","none")):(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML="",U.style(this.exitButton.domNode,"display","none"),U.style(this.shareGridUpdateButton.domNode,"display","none"),U.style(this.shareGridOkButton.domNode,"display",""));this.oneLayerMissingDataCollection=
this.oneLayerNotMissingDataCollection=this.oneLayerNotEditable=!1;this.editableLayerMsg.innerHTML="";U.style(this.editableLayerDiv,"display","none");this.checkEditableLayers();M.byId("shareCheck-dialog").show()},displayLayers:function(){var x=U.create("table",{border:"1",style:"width: 100%; height: 100%"},this.shareCheckItemsDiv),t=U.create("tbody",{},x);t=U.create("tr",{},t);U.create("span",{innerHTML:this.i18n.titleItem},U.create("td",{},t));U.create("span",{innerHTML:this.i18n.titleOwner},U.create("td",
{},t));for(var l in this.info.itemCards){var f=this.info.itemCards[l];t=U.create("tr",{},x);U.create("span",{innerHTML:f.title},U.create("td",{},t));U.create("span",{innerHTML:f.owner},U.create("td",{},t))}},checkEditableLayers:function(){var x=function(k,y){for(var u in k){var E=k[u];E&&!1!==E.needsUpdate&&"Feature Service"===E.type&&("admin"===E.itemControl||"update"===E.itemControl)&&-1<U.indexOf(E.typeKeywords,"Hosted Service")&&(y.push(arcgisonline.sharing.util.getJson(E.url+"/layers")),t.push(E))}};
if("public"===this.info.mainItemCard.access){var t=[],l=[];x(this.info.itemCards,l);for(var f in this.info.itemCards){var g=this.info.itemCards[f];g.webMapInfo&&x(g.webMapInfo.itemCards,l)}l.length?(new U.DeferredList(l)).addCallback(U.hitch(this,function(k){U.forEach(k,function(y,u){if(y[1].layers&&y[1].layers.length&&y[1].layers[0]&&-1<y[1].layers[0].capabilities.indexOf("Editing")){var E=t[u];E.isEditable=!0;this.editableLayerMsg.innerHTML="* "+this.i18n.layerIsEditable+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+
(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e";U.style(this.editableLayerDiv,"display","");-1===U.indexOf(E.typeKeywords,"Public Data Collection")?(this.oneLayerMissingDataCollection=!0,E.missingDataCollection=!0):this.oneLayerNotMissingDataCollection=!0}else this.oneLayerNotEditable=!0},this);this.oneLayerMissingDataCollection&&(this.editableLayerMsg.innerHTML=this.oneLayerNotMissingDataCollection?"* "+this.i18n.usePublicDataCollection+
"\x3c/br\x3e** "+this.i18n.layerIsEditable+"\x3c/br\x3e\x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e":"* "+this.i18n.usePublicDataCollection+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e",
U.style(this.editableLayerDiv,"display",""),this.oneLayerNotMissingDataCollection||this.oneLayerNotEditable||(this.shareCheckBottomMsg.innerHTML="",U.style(this.exitButton.domNode,"display","none"),U.style(this.shareGridUpdateButton.domNode,"display","none"),U.style(this.shareGridOkButton.domNode,"display","")));this.createGrid()})):this.createGrid()}else this.createGrid()},createGrid:function(){var x=[[{name:this.i18n.titleLayer,field:"name",width:"320px"},{name:this.i18n.titleOwner,field:"owner",
width:"320px"}]],t=[],l;for(l in this.info.itemCards){var f=this.info.itemCards[l];if(!1!==f.needsUpdate){var g=f.isEditable&&"public"===this.info.mainItemCard.access,k=f.missingDataCollection,y="";if("admin"===f.itemControl||"update"===f.itemControl)if(this.oneLayerMissingDataCollection&&this.oneLayerNotMissingDataCollection)y=k?" *":" **";else if(this.oneLayerMissingDataCollection||this.oneLayerNotMissingDataCollection)if(k||g)y=" *";t.push({id:f.id,name:f.title+y,owner:f.owner})}if(f.webMapInfo)for(var u in f.webMapInfo.itemCards)y=
f.webMapInfo.itemCards[u],g=y.isEditable&&"public"===this.info.mainItemCard.access,k=y.missingDataCollection,t.push({id:y.id,name:y.title+(this.oneLayerMissingDataCollection&&k||!this.oneLayerMissingDataCollection&&g?" *":""),owner:y.owner})}this.memory=new U.store.Memory({data:t,idProperty:"id"});this.store=new U.data.ObjectStore({objectStore:this.memory});this.grid=new r.grid.DataGrid({store:this.store,structure:x,id:this.gridId,style:{border:"1px #CCC solid"},selectionMode:"none"},U.create("div",
null,this.shareCheckGrid.domNode));this.grid.startup();M.byId("shareCheck-dialog").resize();esri.isTouchEnabled&&(this.gridScrollBox=this.grid.views.views[0].scrollboxNode,esri.setScrollable(this.gridScrollBox))},updateSharing:function(){var x=this.info.mainItemCard.access,t=[];if("public"===x||"org"===x)for(var l in this.info.itemCards){if(x=this.info.itemCards[l],void 0===x.ownerFolder||!1===x.needsUpdate||x.missingDataCollection||t.push(this.shareItemByID(x)),x.webMapInfo)for(var f in x.webMapInfo.itemCards){var g=
x.webMapInfo.itemCards[f];void 0===g.ownerFolder||x.missingDataCollection||t.push(this.shareItemByID(g))}}else{var k=this.info.mainItemSharing?this.info.mainItemSharing.groups:[];t=[];for(l in this.info.itemCards){x=this.info.itemCards[l];if(void 0!==x.ownerFolder&&!1!==x.needsUpdate){var y="",u="",E=this.info.itemsSharing[l]?this.info.itemsSharing[l].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[x.owner];U.forEach(k,function(q){-1===U.indexOf(E,q)&&(!esri.isDefined(z)||esri.isDefined(z)&&
-1<U.indexOf(z,q))&&(y+=u+q,u=",")},this);y.length&&t.push(this.shareItemByID(x,y))}if(x.webMapInfo)for(f in x.webMapInfo.itemCards)g=x.webMapInfo.itemCards[f],void 0!==g.ownerFolder&&(u=y="",E=x.webMapInfo.itemsSharing[f]?x.webMapInfo.itemsSharing[f].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[g.owner],U.forEach(k,function(q){-1===U.indexOf(E,q)&&(!esri.isDefined(z)||esri.isDefined(z)&&-1<U.indexOf(z,q))&&(y+=u+q,u=",")},this),y.length&&t.push(this.shareItemByID(g,y)))}}t.length?(new U.DeferredList(t)).addCallback(U.hitch(this,
function(q){U.forEach(q,function(m){m=m[1];m.itemId&&delete arcgisonline.sharing.utilShare.itemCards[m.itemId]});setTimeout(function(){U.publish("onShareUpdate",null);U.publish("shareCheckDlg/update")},100);this.hide()})):this.hide()},shareItemByID:function(x,t){var l=this.info.mainItemCard.access;l={everyone:"public"===l,account:"org"===l||"org"===x.access,confirmItemControl:this.info&&this.info.confirmItemControl?!0:!1};t&&(l.groups=t);var f=new U.Deferred;arcgisonline.sharing.geow.Content.shareItemByID(x,
l,U.hitch(this,function(g){f.callback(g)}),U.hitch(this,function(g){f.errback(g)}));return f},onLearnHowClick:function(){},onUpdateClick:function(){this.updateSharing()},onCancelClick:function(){this.hide()},hide:function(){this.store.close();delete this.store;delete this.memory;this.grid.destroy();delete this.grid;this.grid=this.store=this.memory=null;M.byId("shareCheck-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/RateLimiting":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/query dojo/parser dojo/ready dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojo/Deferred dijit/Dialog dijit/form/Button dojo/json arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog dojox/validate/regexp esri/Evented dojo/text!arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C){return U("arcgisonline.sharing.dijit.dialog.RateLimiting",[d],{templateString:v,baseClass:"esriRateLimiting",buildRendering:function(){this.inherited(arguments);var G=x.doc.createDocumentFragment();this._templateDijit=new (U([d,a,b],{templateString:g.substitute(this.templateString,{i18n:C},null,this)}));this._content=E.place(this._templateDijit.domNode,G,"first");this.inherited(arguments);this.domNode.appendChild(this._content)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=M.mixin(M.mixin({},C.common),C.itemProperties);this.serviceProxyParams=this.serviceProxyParams&&(this.serviceProxyParams.hitsPerInterval||this.serviceProxyParams.referrers)?this.serviceProxyParams:this.item&&this.item.serviceProxyParams||null},postCreate:function(){this.inherited(arguments);this._enableLimits=this._templateDijit._enableLimits;this._hitRate=this._templateDijit._hitRate;this._hitCount=this._templateDijit._hitCount;this._interval=
this._templateDijit._interval;this._referrerUrl=this._templateDijit._referrerUrl;this._referrers=this._templateDijit._referrers;this._addBtn=this._templateDijit._addBtn;this._delBtn=this._templateDijit._delBtn;this._loadConnections();this.set("value",this.serviceProxyParams)},destroy:function(){this._templateDijit.destroyRecursive();this._templateDijit=null;this.inherited(arguments)},_loadConnections:function(){this.own(k(this._enableLimits,"change",M.hitch(this,function(G){this._hitRate.set("disabled",
!0!==G);this._hitCount.set("disabled",!0!==G);this._interval.set("disabled",!0!==G);z(".canDisable")[!0!==G?"addClass":"removeClass"]("disabled");t[!0!==G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")})),k(this._addBtn,"click",M.hitch(this,function(){this._referrerUrl.isValid()&&(this._addReferralUrl(this._referrerUrl.get("value").split(/[ ,]+/)),this._referrerUrl.set("value",""))})),k(this._delBtn,"click",M.hitch(this,function(){this._referrers.getSelected().orphan();this._delBtn.set("disabled",
!this._referrers.getSelected().length)})),k(this._referrers,"blur, click",M.hitch(this,function(){this._delBtn.set("disabled",!this._referrers.getSelected().length)})))},_setDisabledAttr:function(G){var H=e.findWidgets(this.domNode).concat(e.findWidgets(this._content));r.forEach(H,function(K){K.set("disabled",G)});t[G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_addReferralUrl:function(G){var H;r.forEach(G,M.hitch(this,function(K){K&&((H=z("option",this._referrers.containerNode).some(function(O){return O.value.toLowerCase()===
K.toLowerCase()}))||this._referrers.containerNode.appendChild(E.create("option",{value:K,innerHTML:K})))}))},isValid:function(){return this._enableLimits.get("checked")&&!this._hitRate.isValid()?C.rateLimiting.errors.invalidHitRate:!0},_setValueAttr:function(G){this.serviceProxyParams=G;this._enableLimits.set("value",null);G&&(G.hitsPerInterval&&(this._hitRate.set("value",G.hitsPerInterval),this._interval.set("value",G.intervalSeconds),this._enableLimits.set("value","true"),this._extractUnits(G.intervalSeconds)),
this._addReferralUrl(G.referrers))},_extractUnits:function(G){var H=this._interval.options,K=parseInt(G,10);G=1;(H=r.filter(H,function(O){return 0===K%parseInt(O.value,10)}))&&H.length&&(G=H[H.length-1].value,this._interval.set("value",G),this._hitCount.set("value",Math.floor(K/parseInt(G,10))))},_getValueAttr:function(){var G={},H=[];z("option",this._referrers.containerNode).forEach(function(K){H.push(K.value)});this._enableLimits.get("checked")&&(G.hitsPerInterval=parseInt(this._hitRate.get("value"),
10),G.intervalSeconds=parseInt(this._hitCount.get("value"),10)*parseInt(this._interval.get("value"),10));H&&H.length&&(G.referrers=H);return G},showModal:function(G){var H=new h,K=new n({}),O=this.item.folderId,L=x.doc.createDocumentFragment(),J=E.place(this.domNode,L),R=E.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons"},J);J=new p({"class":"calcite cancel right btn-two",label:this.i18n.cancel,type:"button"},E.create("button",{},R));R=new p({"class":"calcite primary right",label:this.i18n.ok,
type:"button"},E.create("button",{},R));this.own(k(R,"click",M.hitch(this,function(){this.set("disabled",!0);var X=esriGeowConfig.restBaseUrl+"content/users/"+this.item.owner+"/"+(O?O+"/":"")+"items/"+this.item.id,aa=this.isValid();if(!0!==aa)this._showError(aa),this.set("disabled",!1);else{var ea=this.get("value");return B.request({url:X+"/update",content:{serviceProxyParams:w.stringify(ea)}},{usePost:!0}).then(M.hitch(this,function(){this.item.serviceProxyParams=ea;K.hide()}),M.hitch(this,function(ka){this._showError(ka);
this.set("disabled",!1)}))}})),k(J,"click",M.hitch(this,function(){K.hide()})),k(K,"hide",M.hitch(this,function(){K.destroyRecursive();H.resolve(this.item)})));K.set("title",G&&G.title||this.i18n.rateLimitingTitle);K.setContent(L);K.show();return H},_showError:function(G){G=G.error||G||this.i18n.errors.error;G.code=G.messageCode||G.code;G=this.i18n.errors[G.code]||G||this.i18n.errors.error;G.details=G.details&&M.isArray(G.details)&&G.details.length?r.filter(G.details,"return item !\x3d\x3d null"):
null;if(G.details&&G.details.length){var H="\x3cul\x3e";r.forEach(G.details,function(O){H+="\x3cli\x3e"+O+"\x3c/li\x3e"});H+="\x3c/ul\x3e\x3cbr/\x3e";G.message=G.message?"\x3cdiv\x3e"+G.message+"\x3c/div\x3e\x3cbr/\x3e"+H:H}if(G.message&&-1===G.message.indexOf("Request canceled")){G=M.mixin(M.mixin({hideCancel:!0},this.i18n.errors.error),G);var K=new A({});return K.show(G).then(M.hitch(this,function(){K.hide().then(dojo.hitch(this,function(){this.set("disabled",!1)}))}))}}})})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(U,M,r){var x=U.getObject("validate.regexp",!0,r);return x=r.validate.regexp={ipAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowDottedDecimal&&(t.allowDottedDecimal=!0);"boolean"!=typeof t.allowDottedHex&&(t.allowDottedHex=!0);"boolean"!=typeof t.allowDottedOctal&&(t.allowDottedOctal=!0);"boolean"!=typeof t.allowDecimal&&(t.allowDecimal=!0);"boolean"!=typeof t.allowHex&&(t.allowHex=!0);"boolean"!=typeof t.allowIPv6&&(t.allowIPv6=!0);"boolean"!=
typeof t.allowHybrid&&(t.allowHybrid=!0);var l=[];t.allowDottedDecimal&&l.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t.allowDottedHex&&l.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");t.allowDottedOctal&&l.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");t.allowDecimal&&l.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
t.allowHex&&l.push("0[xX]0*[\\da-fA-F]{1,8}");t.allowIPv6&&l.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");t.allowHybrid&&l.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t="";0<l.length&&(t="("+l.join("|")+")");return t},host:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowIP&&(t.allowIP=!0);"boolean"!=typeof t.allowLocal&&(t.allowLocal=!1);"boolean"!=typeof t.allowPort&&(t.allowPort=!0);"boolean"!=typeof t.allowNamed&&
(t.allowNamed=!1);var l=t.allowPort?"(\\:\\d+)?":"",f="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.?)";t.allowIP&&(f+="|"+x.ipAddress(t));t.allowLocal&&(f+="|localhost");t.allowNamed&&(f+="|^[^-][a-zA-Z0-9_-]*");return"("+f+")"+l},url:function(t){t="object"==typeof t?t:{};"scheme"in t||(t.scheme=[!0,!1]);return M.buildGroupRE(t.scheme,function(l){return l?"(https?|ftps?)\\://":""})+x.host(t)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowCruft&&(t.allowCruft=!1);t.allowPort=!1;var l="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+x.host(t);t.allowCruft&&(l="\x3c?(mailto\\:)?"+l+"\x3e?");return l},emailAddressList:function(t){t="object"==typeof t?t:{};"string"!=typeof t.listSeparator&&(t.listSeparator="\\s;,");var l=x.emailAddress(t);return"("+l+"\\s*["+t.listSeparator+"]\\s*)*"+l+"\\s*["+t.listSeparator+"]?\\s*"},numberFormat:function(t){t=
"object"==typeof t?t:{};"undefined"==typeof t.format&&(t.format="###-###-####");return M.buildGroupRE(t.format,function(l){return M.escapeString(l,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowTerritories&&(t.allowTerritories=!0);"boolean"!=typeof t.allowMilitary&&(t.allowMilitary=!0);
var l="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";t.allowTerritories&&(l+="|AS|FM|GU|MH|MP|PW|PR|VI");t.allowMilitary&&(l+="|AA|AE|AP");return"("+l+")"}}}})},"arcgisonline/sharing/dijit/dialog/LayerTimeSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/query dojo/on dojo/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Select dijit/form/Button dojo/Deferred arcgisonline/sharing/util ../../../pages/serviceUtil arcgisonline/sharing/dijit/dialog/ConfirmDialog esri/Evented dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A){return U("arcgisonline.sharing.dijit.dialog.LayerTimeSettings",[E,B],{baseClass:"esriLayerTimeSettings",postMixInProperties:function(){this.inherited(arguments);this.i18n=M.mixin({},A.common);this.i18n=M.mixin(this.i18n,A.layerTimeSettings);this.portal=this.item&&this.item.portal||{};this._isPortal=n.isPortal()},buildRendering:function(){var D=document.createDocumentFragment();t.create("p",{innerHTML:this.i18n.header},D);this._enableTimeChk=
new d({checked:!1,name:"enableTimeCheckbox"});D.appendChild(this._enableTimeChk.domNode);t.create("label",{"for":"enableTimeCheckbox","class":"esriLeadingMargin1 inline-block trailer-half",innerHTML:this.i18n.enableTimeLbl},D);t.create("br",{},D);t.create("p",{innerHTML:this.i18n.fieldsetLbl,"class":"trailer-half"},D);this._fieldSet=t.create("fieldset",{"class":"esriLeadingMargin2 padding-left-1 trailer-half fieldset-checkbox"},D);this._timeEventsRdio=new a({name:"times",checked:!0},t.create("input",
{},this._fieldSet));t.create("label",{"for":"timeEvents","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeEventsLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeEventsDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"timeEventsSelect","class":"esriFloatLeading timeEvent",innerHTML:this.i18n.timeFieldLbl},this._timeEventsDiv);this._timeEventsSelect=new b({maxHeight:200,name:"timeEventsSelect"},t.create("select",{},this._timeEventsDiv));
t.create("br",{},this._fieldSet);this._timeRangesRdio=new a({name:"times","class":"timeRangeRdio"},t.create("input",{},this._fieldSet));t.create("label",{"for":"timeRanges","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeRangesLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeRangesDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"startTimeSelect","class":"esriFloatLeading timeRange",innerHTML:this.i18n.startTimeLbl},this._timeRangesDiv);
this._startTimeSelect=new b({maxHeight:200,name:"startTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);t.create("label",{"for":"endTimeSelect","class":"esriFloatLeading timeRange leader-half",innerHTML:this.i18n.endTimeLbl},this._timeRangesDiv);this._endTimeSelect=new b({maxHeight:200,name:"endTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);this.inherited(arguments);
this.domNode.appendChild(D)},postCreate:function(){this.timeInfo=this.get("timeInfo");this.fields=this.get("dateFields");this._loadConnects();this._loadLayerFields();this._loadTimeInfo()},_loadConnects:function(){this.own(y(this._timeRangesRdio,"change",M.hitch(this,function(D){r.forEach(m.findWidgets(this._timeRangesDiv),function(F){F.set("disabled",!D)})})),y(this._timeEventsRdio,"change",M.hitch(this,function(D){this.options&&1<this.options.length&&r.forEach(m.findWidgets(this._timeEventsDiv),
function(F){F.set("disabled",!D)})})),y(this._enableTimeChk,"change",M.hitch(this,function(D){var F=this.options&&1<this.options.length;r.forEach(m.findWidgets(this._fieldSet),function(v){D=!F&&-1<v["class"].indexOf("timeRange")?!1:D;v.set("disabled",!D)});this[this._timeRangesRdio.get("checked")?"_timeEventsRdio":"_timeRangesRdio"].onChange(!1)})))},_getValueAttr:function(){return this._enableTimeChk.get("checked")?this._timeEventsRdio.get("checked")?{timeInfo:{startTimeField:this._timeEventsSelect.get("value")}}:
{timeInfo:{startTimeField:this._startTimeSelect.get("value"),endTimeField:this._endTimeSelect.get("value")}}:{timeInfo:this._isPortal?null:{}}},_setDisabledAttr:function(D){r.forEach(m.findWidgets(this.domNode),function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-btn").map(dijit.byNode).forEach(function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-msg")[D?"removeClass":"addClass"]("hide")},_getTimeInfoAttr:function(){var D=this.layer;return this.timeInfo||D.timeInfo||{}},_getDateFieldsAttr:function(){return p.getDateFields(this.layer)},
_loadLayerFields:function(){this.options=r.map(this.fields,M.hitch(this,function(D){return{label:D.alias||D.name,value:D.name}}));this._timeEventsSelect.set("options",this.options);this._timeEventsSelect.set("value",this.options[0].value);this.options&&1<this.options.length&&(this._startTimeSelect.set("options",M.clone(this.options)),this._startTimeSelect.set("value",this.options[0].value),this._endTimeSelect.set("options",M.clone(this.options)),this._endTimeSelect.set("value",this.options[1].value))},
_loadTimeInfo:function(){var D=this.timeInfo||{};this._enableTimeChk.set("checked",D.startTimeField);this._timeEventsSelect.set("value",D.startTimeField);this._startTimeSelect.set("value",D.startTimeField);this._endTimeSelect.set("value",D.endTimeField||this._endTimeSelect.get("value"));this._timeRangesRdio.set("checked",this.timeInfo.startTimeField&&this.timeInfo.endTimeField);this._timeEventsRdio.set("checked",!this.timeInfo.endTimeField)},showModal:function(D){var F=new h,v=new e({style:{width:"450px"}}),
C=x.doc.createDocumentFragment();t.place(this.domNode,C);var G=t.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons right"},C);t.create("span",{"class":"hide margin-right-half js-timeOptions-msg",innerHTML:A.timeSettingsDlg.statusMsg},G);var H=new c({"class":"calcite primary js-timeOptions-btn",label:this.i18n.ok,type:"button"},t.create("button",{},G));G=new c({"class":"calcite cancel js-timeOptions-btn",label:this.i18n.cancel,type:"button"},t.create("button",{},G));this.own(y(G,"click",
M.hitch(this,function(){v.hide()})),y(v,"hide",M.hitch(this,function(){v.destroyRecursive();F.resolve(this.item)})),y(H,"click",M.hitch(this,function(){this.set("disabled",!0);var K=this.get("value"),O={updateDefinition:u.stringify(K)},L=(this.item.adminUrl||this.item.url.replace("/rest/","/rest/admin/"))+"/"+this.layer.id+"/updateDefinition";K.timeInfo&&K.timeInfo.startTimeField&&K.timeInfo.startTimeField===K.timeInfo.endTimeField?(this.set("disabled",!1),this._showError(A.itemProperties.error.sameTimeField)):
n.request({url:L,content:O},{usePost:!0}).then(M.hitch(this,function(J){this.item.set("maxAgeCheck",!0);this.layer=M.mixin(this.layer,K);v.hide();F.resolve(K)}),M.hitch(this,function(J){this.set("disabled",!1);return this._showError(J)}))})));v.set("title",D&&D.title||A.timeSettingsDlg.timeSettingsDlgTitle);v.setContent(C);v.show();return F},_showError:function(D){D=D&&D.error||D||this.i18n.errors.genericError;D.code=D.messageCode||D.code;D=this.i18n.errors[D.code]||D||this.i18n.errors.error;D.details=
D.details&&M.isArray(D.details)&&D.details.length?r.filter(D.details,"return item !\x3d\x3d null"):null;if(D.details&&D.details.length){var F="\x3cul\x3e";r.forEach(D.details,function(C){F+="\x3cli\x3e"+C+"\x3c/li\x3e"});F+="\x3c/ul\x3e\x3cbr/\x3e";D.message=D.message?"\x3cdiv\x3e"+D.message+"\x3c/div\x3e\x3cbr/\x3e"+F:F}if(D.message&&-1===D.message.indexOf("Request canceled")){D=M.mixin(M.mixin({hideCancel:!0},this.i18n.errors.error),D);var v=new w({});return v.show(D).then(M.hitch(this,function(){v.hide().then(dojo.hitch(this,
function(){this.set("disabled",!1)}))}))}}})})},"arcgisonline/sharing/dijit/dialog/UpdateItemDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/CheckBox,dijit/form/Button,dijit/InlineEditBox,dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/pages/pageUtil,arcgisonline/pages/utils/dom,arcgisonline/pages/dijit/UploadProgressBar,arcgisonline/sharing/util,arcgisonline/sharing/geow/Community,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Item,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/dijit/dialog/TagsDlg,dojo/promise/all,dojo/number"],
function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.UpdateItemDlg");U.require("dijit.form.SimpleTextarea");U.require("dijit.form.TextBox");U.require("dijit.form.CheckBox");U.require("dijit.form.Button");U.require("dijit.InlineEditBox");U.require("dijit.Dialog");U.require("dijit._Widget");U.require("dijit._Templated");U.require("arcgisonline.pages.pageUtil");U.require("arcgisonline.pages.utils.dom");U.require("arcgisonline.pages.dijit.UploadProgressBar");U.require("arcgisonline.sharing.util");
U.require("arcgisonline.sharing.geow.Community");U.require("arcgisonline.sharing.geow.Content");U.require("arcgisonline.sharing.geow.Item");U.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");U.require("arcgisonline.sharing.dijit.dialog.TagsDlg");U.require("dojo.promise.all");U.require("dojo.number");U.declare("arcgisonline.sharing.dijit.dialog.UpdateItemDlg",[M._Widget,M._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,
itemAPI:arcgisonline.sharing.geow.Item,pageUtil:arcgisonline.pages.pageUtil,domUtil:arcgisonline.pages.utils.dom,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_updateItemDialog" title\x3d"${i18n.updateItem}" dojoAttachEvent\x3d"hide:clear" execute\x3d"" class\x3d"update-item-dlg"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_errorDiv"\x3e\x3c/div\x3e\r\n    \x3cform dojoAttachPoint\x3d"_updateItemForm" enctype\x3d"multipart/form-data"\x3e\r\n      \x3cdiv dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemFolderInput" type\x3d"hidden" value\x3d"0"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"id" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemIdInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"name" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemNameInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"title" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTitleInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"tags" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTagsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"type" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTypeInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"typeKeywords" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemKeywordsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"description" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateDescriptionInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"snippet" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateSnippetInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"accessInformation" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateAccessInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"licenseInfo" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateLicenseInfoInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"extent" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateExtentInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"overwrite" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateOverwriteInput" type\x3d"hidden" value\x3d"true"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"async" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" dojoAttachPoint\x3d"_updateAsyncInput" value\x3d"true"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv\x3e\x3clabel class\x3d"font-size--1" dojoAttachPoint\x3d"_replaceUpdateVerLabel"\x3e${i18n.replaceUpdatedVersionMsg}\x3c/label\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3clabel class\x3d"esriFloatLeading esriTrailingMargin2" style\x3d"margin-top:6px;" for\x3d"update-item-file"\x3e${i18n.itemLabel}\x3c/label\x3e\r\n        \x3cinput type\x3d"file" dojoAttachPoint\x3d"_updateItemFile" id\x3d"update-item-file" name\x3d"file" size\x3d"40" class\x3d"esriFileInput"\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"overwrite_section" class\x3d"hide" style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3cinput id\x3d"overwriteService" type\x3d"checkbox" name\x3d"overwriteService" dojotype\x3d"dijit.form.CheckBox" checked\x3d"checked" dojoAttachPoint\x3d"_overwriteService"/\x3e\r\n        \x3clabel id\x3d"overwriteServiceLbl" for\x3d"overwriteService"\x3e${i18n.overwriteService} ${i18n.keepFieldsSame}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"update-item-keepdescription" style\x3d"width:100%;display:none;"\x3e\r\n        \x3cdiv style\x3d"padding-bottom:5px; padding-top:2px;"\x3e\r\n          \x3clabel\x3e${i18n.updateItemDescription}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"line-height:23px"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" checked\x3d"checked" dojoAttachPoint\x3d"_useDescKeepRadio" id\x3d"useDescription:keep"/\x3e\r\n          \x3clabel for\x3d"useDescription:keep"\x3e${i18n.keepExistingProperties}\x3c/label\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" dojoAttachPoint\x3d"_useDescUpdateRadio" id\x3d"useDescription:update"/\x3e\r\n          \x3clabel for\x3d"useDescription:update"\x3e${i18n.useUploadedProperties}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-half trailer-half flex"\x3e\r\n        \x3cdiv class\x3d"flex flex-1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_waitingSpan" class\x3d"hide flex-column-justify-center"\x3e${i18n.uploadingItem}\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_uploadProgressBar"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:_handleCancel" dojoAttachPoint\x3d"_cancelBtn" id\x3d"button_update-item-cancel" class\x3d"jevent cancel margin-right-half" type\x3d"cancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton id\x3d"button_update-item" type\x3d"button" dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:uploadItem" class\x3d"primary" dojoAttachPoint\x3d"_updateItemBtn"\x3e${i18n.updateItem}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
item:null,admin:null,i18n:null,_replaceUpdateVerLabel:null,_updateItemDialog:null,_updateItemForm:null,_updateItemBtn:null,_cancelBtn:null,_waitingSpan:null,_useDescUpdateRadio:null,_useDescKeepRadio:null,_updateItemFile:null,_errorDiv:null,_updateItemFolderInput:null,_updateItemIdInput:null,_updateItemNameInput:null,_updateItemTitleInout:null,_updateItemTagsInput:null,_updateItemTypeInput:null,_updateItemKeywordsInput:null,_updateDescriptonInput:null,_updateSnippetInput:null,_updateAccessInput:null,
_updateLicenseInfoInput:null,_updateExtentInput:null,_updateOverwriteInput:null,_updateAsyncInput:null,statics:{_instance:null,getInstance:function(){null===this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.UpdateItemDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").updateItemDlg);U.mixin(this.i18n,{updating:U.i18n.getLocalization("arcgisonline",
"arcgisonline").addItemFrm.updating})},postCreate:function(){},show:function(x,t){var l={Shapefile:1,"File Geodatabase":1,GeoJson:1,CSV:1,"Microsoft Excel":1},f=x&&x.publishParameters&&"address"===x.publishParameters.locationType;this.item=x;t&&null!==this.adminUser&&(this.admin=t);"Layer Package"==x.type&&U.style(U.byId("update-item-keepdescription"),"display","block");"Vector Tile Service"===x.type?(U.attr(this._replaceUpdateVerLabel,"innerHTML",this.i18n.overwriteStyle),this._updateItemDialog.set("title",
this.i18n.updateStyle),this._updateItemBtn.set("label",this.i18n.updateStyle)):(this.itemName=this.item.sourceData&&this.item.sourceData.name||this.item.name,U.attr(this._replaceUpdateVerLabel,"innerHTML",U.string.substitute(this.i18n.replaceUpdatedVersionMsg,[this.itemName])));x&&x.type in l&&x.relatedService?this._overwriteService.set("checked",!1):x&&x.sourceData?(this._updateItemDialog.set("title",this.i18n.updateFeatures),this._updateItemBtn.set("label",this.i18n.updateFeatures),l=U.string.substitute(f?
this.i18n.overwriteServiceWithCreditsMsg:this.i18n.overwriteServiceMsg,[x.title,x.sourceData.name]),U.attr(this._replaceUpdateVerLabel,"innerHTML",l)):this._overwriteService.set("checked",!1);x&&x.sourceData&&(esri.hide(this._overwriteService.domNode),U.attr("overwriteServiceLbl","innerHTML",this.i18n.keepFieldsSame),U.removeClass("overwrite_section","hide"));this._updateItemDialog.show();this._uploadProgressBar=new arcgisonline.pages.dijit.UploadProgressBar({},this._uploadProgressBar);this._uploadProgressBar.startup();
this._uploadProgressBar.hide()},clear:function(){this._updateItemFile.value="";this._useDescKeepRadio.set("checked",!0);this._useDescUpdateRadio.set("checked",!1);this._overwriteService.set("checked",!0)},_handleCancel:function(x){x.preventDefault();this._updateItemDialog.hide()},hide:function(){this._disable(!1);this._updateItemDialog.hide()},uploadItem:function(x){x.preventDefault();if(0===this._updateItemFile.value.length)return arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.errorLabel,
message:this.i18n.error.providePath}),!1;x=this._fetchItem(this.item).then(U.hitch(this,"loadFile"));if(this.item.sourceData||this.item.relatedService&&this._overwriteService.get("checked"))U.attr(this._waitingSpan,"innerHTML",this.i18n.updating),x=x.then(U.hitch(this,"_updateServiceData",this.item.sourceData||this.item)).then(U.hitch(this,"_resetServiceTitle",this.item));return x.then(U.hitch(this,function(t){t&&!t.success&&t.error&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:t.error.message||this.i18n.error.errorWhileUpdate});t&&t.serviceItemId?(this._disable(!1),this._updateItemDialog.hide(),window.location="item.html?id\x3d"+t.serviceItemId+(t.jobId?"\x26jobid\x3d"+t.jobId:"")):U.publish("itemData/update",[""]);return!0}),U.hitch(this,function(t){U.isObject(t)&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,message:t.message||this.i18n.error.errorWhileUpdate});this._disable(!1)}))},_updateServiceData:function(x){var t=
new U.Deferred;this._checkStatus(x,500,U.hitch(this,function(l){var f=esriGeowConfig.restBaseUrl+"content/users/"+l.owner+"/publish",g,k,y={itemid:l.id,filetype:{"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel"}[l.type.toLowerCase()],overwrite:!0,publishParameters:U.json.stringify({name:this.item.title?this.item.title.replace(/ /g,"_"):l.title.replace(/ /g,"_")})};U.attr(this._waitingSpan,"innerHTML",this.i18n.updating);U.promise.all([this._fetchPublishParameters(this.item),
this._fetchServiceInfo(this.item.relatedService||this.item)]).then(U.hitch(this,function(u){g=u[1];(k=u[0])&&"CSV"===l.type?(u=U.mixin(U.mixin({},g.layers&&g.layers[0]),{fields:k.layerInfo.fields}),y.publishParameters=U.mixin(k,{layerInfo:u,name:k.name||l.title.replace(/ /g,"_")})):k&&"Microsoft Excel"===l.type?(y.publishParameters=this._generateExcelOverwritePublishParameters(k,g),g=null):y.publishParameters={name:l.title?l.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};y.publishParameters=
g?U.json.stringify(U.mixin(y.publishParameters,g)):y.publishParameters;return this.util.request({url:f,content:y},{usePost:!0}).then(U.hitch(this,function(E){t.resolve(E&&E.services&&E.services[0]||{serviceItemId:l.id})}),U.hitch(this,function(E){t.reject(E)}))}))}));return t},_generateExcelOverwritePublishParameters:function(x,t){t.name=x.name;t.sourceSR=x.sourceSR;t.targetSR=x.targetSR;for(var l=0;l<t.tables.length;l++)"Review"!=t.tables[l].name&&(t.layers[t.layers.length]=t.tables[l]);for(l=0;l<
t.layers.length;l++)t.layers[l].excelSheetId=x.layers[l].excelSheetId,t.layers[l].locationType=x.layers[l].locationType,t.layers[l].latitudeFieldName=x.layers[l].latitudeFieldName,t.layers[l].longitudeFieldName=x.layers[l].longitudeFieldName,t.layers[l].geocodeServiceUrl=x.layers[l].geocodeServiceUrl,t.layers[l].sourceLocale=x.layers[l].sourceLocale,t.layers[l].sourceCountry=x.layers[l].sourceCountry,t.layers[l].standardizedFieldNames=x.layers[l].standardizedFieldNames,t.layers[l].addressFields=x.layers[l].addressFields;
return JSON.stringify(t)},_resetServiceTitle:function(x,t){var l=new U.Deferred,f=this.util.getUser(),g=x.title||"",k=x.folderId||x.ownerFolder;f=esriGeowConfig.restBaseUrl+"content/users/"+(x.owner||f.username)+"/"+(k?k+"/":"")+"items/"+x.id+"/update";g=-1!==x.typeKeywords.indexOf("Involved Lookup")?{title:g,typeKeywords:x.typeKeywords.toString()+",showUnmatchedAddresses"}:{title:g};this.util.request({url:f,content:g},{usePost:!0}).then(U.hitch(this,function(){l.resolve(t)}),U.hitch(this,function(){l.resolve(t)}));
return l},_fetchServiceInfo:function(x){x=x.url;var t={addToken:(this.util.isHostedService(x)||this.util.isAgolService(x))&&!1!==esriGeowConfig.isMultiTenant},l=new U.Deferred,f;U.promise.all([this.util.request({url:x},t),this.util.request({url:x+"/layers"},t)]).then(U.hitch(this,function(g){var k={},y=g&&1<g.length&&g[1],u=y&&y.layers;y=y&&y.tables;u&&u.length&&(U.forEach(u,function(E){delete E.fields}),k.layers=u);y&&y.length&&(k.tables=y);f=U.mixin(g[0],k);l.resolve(f)}));return l},_fetchPublishParameters:function(x){var t=
esriGeowConfig.restBaseUrl+"content/items/"+x.id+"/info/publishParameters.json";x.publishParameters?(t=new U.Deferred,t.resolve(x.publishParameters)):!x.sourceData||"CSV"!==x.sourceData.type&&"Microsoft Excel"!==x.sourceData.type?(t=new U.Deferred,t.resolve(!1)):t=this.util.request({url:t}).then(U.hitch(this,function(l){return l}));return t},_fetchItem:function(x){if(x.sourceData)var t=this.util.request({url:esriGeowConfig.restBaseUrl+"content/items/"+x.sourceData.id}).then(U.hitch(this,function(l){l.folderId=
l.ownerFolder;return l}));else t=new U.Deferred,t.resolve(x);return t},loadFile:function(x){var t=new U.Deferred,l=this._updateItemFile.value,f=l.lastIndexOf("\\"),g=x.type;-1<f&&(l=l.substring(f+1,l.length));l=l.replace(/ /g,"_");if("Vector Tile Service"!==x.type&&this.itemName!=l)return x=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),x.show({title:this.i18n.errorLabel,message:U.string.substitute(this.i18n.error.sameFileName,[this.itemName])}),this._updateItemFile.value=
"",t.reject(!0),t;if("Vector Tile Service"===x.type){f=/(?:\.([^.]+))?$/;var k=l.replace(/^.*(\\|\/|:)/,"");if("json"!==(l?f.exec(k)[1].toLowerCase():""))return x=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),x.show({title:this.i18n.errorLabel,message:this.i18n.error.invalidStyleFileExtension}),this._updateItemFile.value="",t.reject(!0),t}this._disable(!0);l=!0;"Layer Package"==g&&(l=U.byId("useDescription:keep").checked);this._updateItemNameInput.set("value",this.itemName);
this._updateItemTitleInput.set("value",x.title);this._updateItemTagsInput.set("value",x.tags);this._updateItemTypeInput.set("value",g);this._updateItemKeywordsInput.set("value",x.typeKeywords);this._updateAccessInput.set("value",x.accessInformation);this._updateLicenseInfoInput.set("value",x.licenseInfo);this._updateItemFolderInput.set("value",x.folderId);l?(this._updateDescriptionInput.set("value",x.description),this._updateSnippetInput.set("value",x.snippet),this._updateExtentInput.set("value",
x.extent)):(this._updateDescriptionInput.set("value",""),this._updateSnippetInput.set("value",""),this._updateExtentInput.set("value",""));var y=function(u,E){if(!u.success||"completed"!==u.status&&u.status){var z=this.i18n.error.errorWhileUpdate;u&&u.error&&u.error.message&&(z=u.error.message);-1<z.indexOf("The request size is greater than the max allowed of 1024MB")&&(z=this.i18n.error.exceedFileSizeLimit);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:z});t.reject(!0)}else t.resolve(!0)};g=function(u){this._disable(!1);t.reject(u)};x&&"Vector Tile Service"===x.type?this._updateItemResource(x,this._updateItemForm).then(U.hitch(this,y),U.hitch(this,g)):(this._uploadProgressBar.reset(),this._uploadProgressBar.show(),this.itemAPI.update.call(this.itemAPI,x,this._updateItemForm,this._updateItemFile.files[0]).then(function(u){this._uploadProgressBar.hide();y(u)}.bind(this),g.bind(this)));return t},_updateItemResource:function(x,t){var l=this.util.getUser(),
f=x.folderId||x.ownerFolder;l={url:esriGeowConfig.restBaseUrl+"content/users/"+(x.owner||l.username)+"/"+(f?f+"/":"")+"/items/"+x.id+"/updateResources",form:t,content:{resourcesPrefix:"styles",filename:"root.json"}};U.query("input",t).forEach(U.hitch(this,function(g){g&&"file"!==g.name&&U.attr(g,"name","")}));return this.util.request(l,{usePost:!0}).then(U.hitch(this,function(g){return g}),U.hitch(this,function(g){throw{message:this.i18n.error.invalidStyleFile};}))},_checkStatus:function(x,t,l){this.util.request({url:esriGeowConfig.restBaseUrl+
"content/users/"+x.owner+(x.ownerFolder&&"/"!==x.ownerFolder?"/"+x.ownerFolder:"")+"/items/"+x.id+"/status"}).then(U.hitch(this,function(f){f=f||{status:"failed"};"completed"===f.status?l(x):(t=(t||500)+250,setTimeout(U.hitch(this,function(){this._checkStatus(x,t,l)}),t))}))},_disable:function(x){this._updateItemBtn.set("disabled",x);this._cancelBtn.set("disabled",x);this.domUtil.showHide(this._waitingSpan,x);U.style(this._waitingSpan,"display",x?"inline-block":"none")}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(U,M,r,x){return U("dijit.form.SimpleTextarea",x,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);r("ie")&&this.cols&&
M.add(this.textbox,"dijitTextAreaCols")},filter:function(t){t&&(t=t.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(t){if(this.maxLength){var l=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,"");l=f.length-l;if(0<l){var g=this.textbox;if(g.selectionStart){var k=g.selectionStart,y=0;r("opera")&&(y=(this.textbox.value.substring(0,k).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,k-l-y)+f.substring(k-y);g.setSelectionRange(k-l,k-l)}else this.ownerDocument.selection&&
(g.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-l),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B){b=x("dijit._InlineEditor",[a,b,c],{templateString:B,contextRequire:U,postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit","common",this.lang);M.forEach(["buttonSave","buttonCancel"],function(A){this[A]||(this[A]=this.messages[A])},this)},buildRendering:function(){this.inherited(arguments);var A="string"==typeof this.editor?E.getObject(this.editor)||U(this.editor):this.editor,D=this.sourceStyle,
F="line-height:"+D.lineHeight+";",v=g.getComputedStyle(this.domNode);M.forEach(["Weight","Family","Size","Style"],function(G){v["font"+G]!=D["font"+G]&&(F+="font-"+G+":"+D["font"+G]+";")},this);M.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(G){this.domNode.style[G]=D[G]},this);var C=this.inlineEditBox.width;"100%"==C?(F+="width:100%;",this.domNode.style.display="block"):F+="width:"+(C+(Number(C)==C?"px":""))+";";C=E.delegate(this.inlineEditBox.editorParams,
{style:F,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new A(C,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var A=this.editWidget;this.inlineEditBox.autoSave?this.own(r.after(A,"onChange",E.hitch(this,"_onChange"),!0),z(A,"keydown",E.hitch(this,"_onKeyDown"))):"intermediateChanges"in A&&(A.set("intermediateChanges",
!0),this.own(r.after(A,"onChange",E.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var A=this.editWidget;return String(A.get("displayedValue"in A||"_getDisplayedValueAttr"in A?"displayedValue":
"value"))},_onKeyDown:function(A){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!A.altKey&&!A.ctrlKey&&(A.keyCode==u.ESCAPE?(A.stopPropagation(),A.preventDefault(),this.cancel(!0)):A.keyCode==u.ENTER&&"INPUT"==A.target.tagName&&(A.stopPropagation(),A.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&d.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(d._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){p.selectInputText(this.editWidget.focusNode)}))}});a=x("dijit.InlineEditBox"+(q("dojo-bidi")?"_NoBidi":""),a,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:w,editorWrapper:b,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=q("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(z(this.displayNode,e,E.hitch(this,"_onClick")),z(this.displayNode,"mouseover, focus",E.hitch(this,"_onMouseOver")),z(this.displayNode,"mouseout, blur",E.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=E.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);l.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(A){y.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",A)},_setDisabledAttr:function(A){this.domNode.setAttribute("aria-disabled",A?"true":"false");A?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);l.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",A);this._set("disabled",A)},_onMouseOver:function(){this.disabled||l.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){l.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(A){this.disabled||(A&&(A.stopPropagation(),A.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
t.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var A=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?E.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:g.getComputedStyle(this.displayNode),save:E.hitch(this,"save"),cancel:E.hitch(this,"cancel"),
textDir:this.textDir},A);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var D=this.wrapperWidget;l.add(this.displayNode,"dijitOffScreen");l.remove(D.domNode,"dijitOffScreen");g.set(D.domNode,{visibility:"visible"});t.set(this.displayNode,"tabIndex","-1");var F=D.editWidget,v=this;m(F.onLoadDeferred,E.hitch(D,function(){F.set("displayedValue"in F||"_setDisplayedValueAttr"in F?"displayedValue":"value",v.value);this.defer(function(){D.saveButton&&D.saveButton.set("disabled",
"intermediateChanges"in F);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(A){var D=this.wrapperWidget;g.set(D.domNode,{visibility:"hidden"});l.add(D.domNode,"dijitOffScreen");l.remove(this.displayNode,"dijitOffScreen");t.set(this.displayNode,"tabIndex",this._savedTabIndex);A&&
d.focus(this.displayNode)},save:function(A){if(!this.disabled&&this.editing){this._set("editing",!1);var D=this.wrapperWidget.getValue();this.set("value",D);this._showText(A)}},setValue:function(A){y.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",A)},_setValueAttr:function(A){A=E.trim(A);var D=this.renderAsHtml?A:A.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":D||this.noValueIndicator;this._set("value",A);this._started&&this.defer(function(){this.onChange(A)})},getValue:function(){y.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(A){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(A))}});q("dojo-bidi")&&(a=x("dijit.InlineEditBox",
a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));a._InlineEditor=b;return a})},"arcgisonline/pages/dijit/UploadProgressBar":function(){define("require exports tslib dojo/topic dojo/text!./UploadProgressBar/UploadProgressBar.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../utils/dom ../utils/culture ../../tsutils/declareDecorator".split(" "),function(U,M,r,x,t,l,f,g,k,y,u){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);
f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);return function(){function E(z,q){this.templateString=t["default"];this.i18n=l["default"]}E.prototype.startup=function(){this.inherited(arguments);this.own(x["default"].subscribe("item/upload-progress-update",this._onProgressUpdate.bind(this)))};E.prototype.hide=function(){k["default"].hideNode(this.domNode)};E.prototype.show=function(){k["default"].showNode(this.domNode)};E.prototype.reset=
function(){this._uploadPercentLabel.textContent=this._uploadProgressFill.style.width="0%";this._uploadPercentLabel.innerHTML=y["default"].getPercentString(0);this._uploadProgressFill.style.width="0%"};E.prototype._onProgressUpdate=function(z){this._uploadProgressFill.classList[100===z?"add":"remove"]("upload-progress-bar__fill--full");this._uploadPercentLabel.innerHTML=y["default"].getPercentString(z/100);this._uploadProgressFill.style.width=z+"%"};return E=r.__decorate([u["default"](g["default"],
f["default"])],E)}()})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],function(U,M,r,x,t){x=r.__importDefault(x);t=r.__importDefault(t);return function(){function l(){}l.getString=function(f,g,k){var y,u="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),E="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),z=null!==(y=l.getRootLocale(t["default"].locale))&&void 0!==y?y:"en";k?k.number=g:k={number:g};return 1===g||-1<u.indexOf(z)?
x["default"].substitute(f.single,k):1!==g&&-1<E.indexOf(z)?x["default"].substitute(f.multiple,k):x["default"].substitute(f.unknown,k)};l.stripCultureFormat=function(f,g){if((null===f||void 0===f?0:f.length)&&(null===g||void 0===g?0:g.length)){var k=f.indexOf("-"+g);if(-1<k)return f.substring(0,k)}return f};l.getRootLocale=function(f){if(null===f||void 0===f?0:f.length){f=f.split("-")[0];if(null===f||void 0===f?0:f.length)f=f.toLowerCase();return f}return f};l.getLocaleFormat=function(f){if(null===
f||void 0===f?0:f.length)if(f=f.split("-"),1<f.length)return f[1].toLowerCase()};l.getTrialLocale=function(f){var g=["pt-br","pt-pt","zh-cn","zh-hk","zh-tw"];return-1<(null===f||void 0===f?void 0:f.indexOf("-"))&&-1===g.indexOf(f)?this.getRootLocale(f):f};l.getActualCulture=function(f,g){var k,y=null!==(k=null===f||void 0===f?void 0:f.toLowerCase())&&void 0!==k?k:"",u=y.split("-");if(1<u.length){if(k=g.filter(function(E){return E.culture===y}).shift())return y;k=g.filter(function(E){return E.culture===
u[0]}).shift();if(null===k||void 0===k?0:k.cultureFormats){if(k.cultureFormats.filter(function(E){return E.format===u[1]}).shift())return k.culture}else if(k)return k.culture}return f};l.getSelectedFormat=function(f,g){return g.filter(function(k){return k.format===f}).shift()};l.getPercentString=function(f){var g=t["default"].locale.toLowerCase();return"ar"===g?"%"+100*f:f.toLocaleString(g,{style:"percent"})};return l}()})},"arcgisonline/sharing/geow/Item":function(){define("require exports tslib ../../esriGeowConfig ../util dojo/Deferred dojo/dom-form dojo/topic dojo/promise/all esri/request".split(" "),
function(U,M,r,x,t,l,f,g,k,y){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);return function(){function u(){}u.addItem=function(E,z,q){return u._action(E,z,q,"addItem")};u.update=function(E,z,q){return u._action(E,z,q,"update")};u._action=function(E,z,q,m){if(t["default"].getUser())return m=u._getActionItemUrl(E,m),E=5242880<q.size?u._multiPartAction(m,z,q,E):u._postForm(m,z)};u._multiPartAction=
function(E,z,q,m){var e=new l["default"],d=function(h){e.reject(h)},a=function(h){h.isMultipart=!0;e.resolve(h)},b=function(h){u._commitItem(m,z).then(a,d)},c=function(h){u._cancelItem(m);"Request canceled"!==h.message&&d.call(u,h)};u._startMultipartRequest(E,m.fileName?m.fileName:q.name).then(function(h){h.success?(m.id=h.id,u._addItemParts(m,q).then(b,c)):d.call(u,h.error)},d);return e};u._postForm=function(E,z){return t["default"].request({url:E,form:z,timeout:0},{usePost:!0})};u._startMultipartRequest=
function(E,z){return t["default"].request({url:E,content:{multipart:!0,filename:z,async:!0}},{usePost:!0})};u.generatePart=function(E,z){var q,m,e,d,a,b,c,h,n;return r.__generator(this,function(p){switch(p.label){case 0:q=E.name,m=E.size,e=5242880,d=Math.ceil(m/e),a=0,1E4<d&&(e=Math.ceil(m/1E4),d=Math.ceil(m/e)),p.label=1;case 1:if(!(a<d))return[3,3];b=new FormData;c=a*e;h=E.slice(c,c+e);a++;n={partNum:a,size:h.size};b.append("partNum",String(n.partNum));b.append("streamdata","true");b.append("f",
"json");b.append("token",z);b.append("file",h,q);return[4,{partData:n,formData:b}];case 2:return p.sent(),[3,1];case 3:return[2]}})};u._addItemParts=function(E,z){var q=this,m=z.size,e=new l["default"],d={};this.pendingRequests=[];var a=3;g["default"].subscribe("cancel-item-upload",function(){q.pendingRequests.forEach(function(n){n&&!n.isFulfilled()&&n.cancel()})});var b=u.generatePart(z,t["default"].getToken()),c=!0,h=function(){if(c){var n=[];u.uploadError=!1;for(var p=0;p<a;p++){var w=b.next(),
B=w.value;if(w.done){c=!1;break}n.push(B)}k["default"](n.map(function(A){var D=new l["default"];return u._addPartWithRetries(E,A.partData,A.formData,1,m,d,D)})).then(function(){c||e.resolve();a=u.uploadError?Math.ceil(a/2):Math.min(++a,10);h()},function(A){c=!1;e.reject(A)})}};h();return e};u._addPartWithRetries=function(E,z,q,m,e,d,a){var b=u._getActionItemUrl(E,"addPart");b=y["default"]({url:b,form:q,timeout:0},{returnProgress:!0,disableIdentityLookup:!0}).then(function(c){c.success?a.resolve(c):
a.reject(c.error)},function(c){m++;u.uploadError=!0;"Request canceled"!==c.message&&7>=m?u._addPartWithRetries(E,z,q,m,e,d,a):a.reject(c)},function(c){c.loaded&&"upload"===c.transferType&&(d[z.partNum.toString()]=c.loaded,c=Object.keys(d).reduce(function(h,n){return h+d[n]},0),g["default"].publish("item/upload-progress-update",Math.floor(c/e*100)))});u.pendingRequests.push(b);return a};u._commitItem=function(E,z){var q=u._getActionItemUrl(E,"commit");var m=z instanceof FormData?{title:E.fileName,
type:E.fileType}:r.__assign({},f["default"].toObject(z));return t["default"].request({url:q,content:m},{usePost:!0})};u._cancelItem=function(E){E=u._getActionItemUrl(E,"cancel");return t["default"].request({url:E},{usePost:!0})};u._getUserUrl=function(E){var z=t["default"].getUser();z=z.username||z.email;return x["default"].restBaseUrl+"content/users/"+(E.owner||z)};u._getActionItemUrl=function(E,z){var q=this._getUserUrl(E);E.folderId&&(q=q+"/"+E.folderId);return q="addItem"===z?q+"/addItem":q+"/items/"+
E.id+"/"+z};u.uploadError=!1;return u}()})},"arcgisonline/sharing/dijit/dialog/TagsDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/MultiSelect,dijit/form/SimpleTextarea,arcgisonline/sharing/geow/Content"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.TagsDlg");U.require("dijit._Widget");U.require("dijit._Templated");U.require("dijit.Dialog");U.require("dijit.form.MultiSelect");U.require("dijit.form.SimpleTextarea");
U.require("arcgisonline.sharing.geow.Content");U.declare("arcgisonline.sharing.dijit.dialog.TagsDlg",[M._Widget,M._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_tagsDialog" dojoAttachPoint\x3d"onHide:clear" title\x3d"${i18n.tagDlgTitle}" class\x3d"tagsForm"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_tagsErrorDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentTagsDiv" style\x3d"display:block;"\x3e\r\n\t\t\x3clabel \x3e${i18n.selectTag}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t    \x3cselect dojoAttachPoint\x3d"_tagsSelect" dojoType\x3d"dijit.form.MultiSelect" style\x3d"width:100%;height:150px;"\x3e\x3c/select\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_cancelBtn" dojotype\x3d"dijit.form.Button" class\x3d"cancel" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.cancel}\x3c/div\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_submitBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" type\x3d"submit" dojoAttachEvent\x3d"onClick:getSelectedTags" style\x3d"float:right;"\x3e${i18n.useSelected}\x3c/div\x3e  \r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentNoTagsDiv" style\x3d"display:none;"\x3e\r\n\t\t\x3clabel\x3e${i18n.tagsNotAvailable}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv id\x3d"button_tags-ok" dojoAttachPoint\x3d"_okBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.ok}\x3c/div\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
_tagsDialog:null,_contentTagsDiv:null,_contentNoTagsDiv:null,_tagsSelect:null,i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TagsDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").tagsDlg)},postCreate:function(){},_handleCancelClick:function(x){x.preventDefault();
this._tagsDialog.hide()},clear:function(){this._tagsSelect.reset();U.style(this._contentTagsDiv,"display","none");U.style(this._contentNoTagsDiv,"display","none")},hide:function(){this._tagsDialog.hide()},show:function(x){this.clear();var t=arcgisonline.sharing.util.getUser(),l=esriGeowConfig.restBaseUrl+"community/users/";l=x&&(x.username||x.email)?l+(x.username?x.username:x.email):l+t.username;arcgisonline.sharing.util.getJson(l+"/tags",U.hitch(this,this._handleTagResponse),U.hitch(this,this._handleError));
this._tagsDialog.show()},_handleTagResponse:function(x){0==x.tags.length?U.style(this._contentNoTagsDiv,"display",""):(U.style(this._contentTagsDiv,"display",""),U.empty(this._tagsSelect.domNode),U.forEach(x.tags,function(t){U.create("option",{innerHTML:t.tag,value:t.tag},this._tagsSelect.domNode)},this))},_handleError:function(x){},getSelectedTags:function(x){x.preventDefault();x=[];x=this._tagsSelect.get("value");U.publish("onSelectedTagsUpdate",[x.toString()])}})})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),
function(U,M,r,x,t,l){l=M("dijit.form.MultiSelect"+(x("dojo-bidi")?"_NoBidi":""),l,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(g){this.containerNode.appendChild(g);this.domNode.scrollTop=this.domNode.offsetHeight;g=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=
g},this);this._set("value",this.get("value"))},getSelected:function(){return t("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return U.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(f){x("android")?t("option",this.containerNode).orphan().forEach(function(g){var k=g.ownerDocument.createElement("option");k.value=g.value;k.selected=-1!=U.indexOf(f,g.value);k.text=g.text;k.originalText=
g.originalText;this.containerNode.appendChild(k)},this):t("option",this.containerNode).forEach(function(g){g.selected=-1!=U.indexOf(f,g.value)});this.inherited(arguments)},invertSelection:function(f){var g=[];t("option",this.containerNode).forEach(function(k){k.selected||g.push(k.value)});this._setValueAttr(g,!(!1===f||null==f))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&r.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));
this.inherited(arguments)}});x("dojo-bidi")&&(l=M("dijit.form.MultiSelect",l,{addSelected:function(f){f.getSelected().forEach(function(g){g.text=this.enforceTextDirWithUcc(this.restoreOriginalText(g),g.text)},this);this.inherited(arguments)},_setTextDirAttr:function(f){this.textDir==f&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",f),t("option",this.containerNode).forEach(function(g){this._created||g.value!==g.text||(g.value=g.text);g.text=this.enforceTextDirWithUcc(g,g.originalText||
g.text)},this))}}));return l})},"arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/CheckBox dijit/form/TextBox dijit/form/RadioButton dijit/form/Select ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys ./_CreateItemUtilMixin ./ItemPropertiesDlg dojo/topic esri/IdentityManager esri/lang esri/Evented esri/arcgis/Portal ../../geow/Account ./_PublishTileServiceDlgMixin ../../../esriGeowConfig ../../util ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/serviceUtil ../../../pages/statusUtil ../../../map/core/canUseForPublish esri/map esri/tasks/Geoprocessor esri/dijit/VisibleScaleRangeSlider ../../../pages/isGeographic preact ../../../pages/components/SelectLayerProperties dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za,ha,V,la,T,P,I,ba,W,ca){return U("arcgisonline.sharing.dijit.dialog.PublishTilesDlg2",[g,k,y,X,L],{baseClass:"esriPublishTilesDlg",showFolders:!1,_typeInfo:"mapserver",userFolders:"",templateString:ca,onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},W);this._portalUser=(this._portal=aa.portal)&&this._portal.getPortalUser();switch(this.type){case "tiles":this._typeInfo=
"mapserver";break;case "scenes":this._typeInfo="sceneserver";break;case "features":this._typeInfo="featureserver";break;case "vectorTiles":this._typeInfo="vectortileserver";break;case "tiledImagery":case "dynamicImagery":this._typeInfo="imageserver";break;default:this._typeInfo=this.type}},postCreate:function(){this.inherited(arguments);R.getSelf(f.hitch(this,function(Q){this._loadConnections();this._portal?this._init():(this._portal=new J.Portal({url:aa.restBaseUrl,self:Q}),this._portal.on("load",
f.hitch(this,function(){this._connect&&this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){this._restBaseUrl=aa.allSSL?this._portal.portalUrl.replace("http:/","https:/"):this._portal.portalUrl;this._contentUrl=this._restBaseUrl+"content";this._publishUrl=this._contentUrl+"/users/"+this._portalUser.username;this.set("message",this.get("message"));this._portal&&!this._portal.isPortal&&(this.cacheStorageInfo.storageFormat="esriMapCacheStorageModeExploded");
this._itemPropertiesDlg.on("load",f.hitch(this,function(){this._loadData().then(f.hitch(this,function(Q){this._itemPropertiesDlg.set("focus","title");"sceneserver"===this._typeInfo&&this._itemPropertiesDlg._title.set("disabled",!0);aa.self.hasCategorySchema&&(Q=[],this.fsItem?Q=this.fsItem.categories||Q:this._selectedService&&(Q=this._selectedService.categories||Q),this._itemPropertiesDlg.set("categories",Q))}))}))},destroy:function(){x(".dijit",this.contentNode).map(h.byNode).forEach(function(Q){Q.destroyRecursive?
Q.destroyRecursive():Q.destroy&&Q.destroy();Q=null});this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._tagsDijit=this._portalUser=this._portal=null},_loadConnections:function(){this.own(H.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)})),H.subscribe("/esri/disable",f.hitch(this,function(Q,N){this.set("disabled",Q,N,!0)})),M(this._agoBasemapRadio,"click",f.hitch(this,
function(){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._updateLODs(this.lods)})),M(this._customBasemapRadio,"click",f.hitch(this,function(){x(".visibleScaleRange",this.domNode).addClass("hide");this._isUserDefinedTileInfo=!0;this._customBasemapUrl.set("disabled",!1);this.userDefinedTileInfo&&this._updateLODs(this.userDefinedTileInfo.lods)})),M(this._customBasemapUrl,"keyup",f.hitch(this,function(Q){Q.keyCode===v.ENTER&&(F.stop(Q),this._customBasemapUrl.onChange(this._customBasemapUrl.get("value")))})),
M(this._customBasemapUrl,"change",f.hitch(this,function(Q){Q&&Q.length?(this._customBasemapUrl.set("disabled",!0),this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._fetchTileLayerInfo(Q,this._type).then(f.hitch(this,function(N){this.userDefinedTileInfoUrl=Q;this.userDefinedTileInfo=N;this._updateLODs(N.lods);this._customBasemapUrl.set("disabled",!1);this.set("disabled",this._buildingVisibleRange)}),f.hitch(this,function(N){this.userDefinedTileInfo=null;this._showError(N)}))):
(this.userDefinedTileInfo=null,x(".visibleScaleRange",this.domNode).addClass("hide"))})),M(this._tilesOnDemand,"click",f.hitch(this,"_visibleScaleRangeChange")),M(this._selectAttributesContainer,"click",this._selectAttributesClick.bind(this)))},_selectAttributesClick:function(){var Q=this.fsItem&&this.fsItem.layers||this._selectedServiceLayers,N=this.vtLayerProperties||this.fsItem&&this.fsItem.adminServiceInfo&&this.fsItem.adminServiceInfo.layerProperties||[],S=u.create("div",null,document.body,"last");
I.render(I.h(ba["default"],{layers:Q,layerProperties:N,className:"normalize-modal",onCancel:function(){this._selectAttributesBtn.focus();I.render(null,S)}.bind(this),onSubmit:function(Y){this.vtLayerProperties=Y;this.vectorTilePublishParams=f.mixin(this.vectorTilePublishParams||{},{layerProperties:Y});this._selectAttributesBtn.focus();I.render(null,S)}.bind(this)}),S);S.firstChild.classList.add("bring-modal-to-front")},_updateLODs:function(Q){(Q=Q||this.lods)&&this.set("calculatedScales",this._calculateConstraints({layers:[{minScale:Q[0].scale,
maxScale:Q[Q.length-1].scale}]}))},_adjustDefaultLODs:function(Q){var N=Q.maxScale||0,S=Q.minScale||this.lods[0].scale;this.lods=d.filter(this.lods,function(Y){return Y.scale>=N&&Y.scale<=S});return this._updateLODs(this.lods)},_getLayers:function(Q){return Q&&Q.length?d.map(Q,function(N){N.layerDefinition&&(N=f.mixin(N,N.layerDefinition),delete N.layerDefinition);return N}):null},_getLayerDefs:function(Q){return Q&&Q.length?d.filter(Q,function(N){return N.layerDefinition}).map(function(N){return{id:N.id,
layerDefinition:N.layerDefinition}}):null},_loadData:function(){if("imageserver"===this._typeInfo)return this._loadImageData();var Q=new e;"wfs"!==this._type&&"ogcfeatures"!==this._type&&this.fsItem?(this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._selectedService=f.mixin({},this.fsItem),this._fetchFSInfo(this._selectedService).then(f.hitch(this,function(N){this._featureServiceJson=N.serviceInfo;this._selectedLayers=(this._selectedService.itemData=N.itemData)&&N.itemData.layers;
this._spatialReference=this._featureServiceJson&&this._featureServiceJson.spatialReference||{wkid:4326};"scenes"!==this._type||P(this._spatialReference)||(this._spatialReference.wkid?x(".sceneProperties .sceneDataDisplay",this.domNode).removeClass("hide"):(x(".sceneProperties .sceneDataDisplay",this.domNode).addClass("hide"),this._globalWkidRadio.set("checked",!0)));this._itemPropertiesDlg.set("summary",this._selectedService.snippet||"");this._itemPropertiesDlg.set("tags",this._selectedService.tags);
this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this._selectedService.title));this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders);r.set(this._globalWkidRadioLabel,"innerHTML",E.substitute(this.i18n.publishTileServiceDlg.globalWkid,{wkid:"4326"}));r.set(this._localWkidRadioLabel,"innerHTML",E.substitute(this.i18n.publishTileServiceDlg.localWkid,{wkid:""+this._spatialReference.wkid||4326}));this._selectedServiceLayers=N.layers&&N.layers.layers;this.set("calculatedScales",
this._calculateConstraints(N.layers));"tiles"===this._type&&this._checkTilesOnDemandSupport(N.layers);this.set("disabled",this._buildingVisibleRange);this.fsItem.isMultipatchFeatureService&&(x(".sceneProperties .sceneMultipatch",this.domNode).removeClass("hide"),N=this._featureServiceJson&&-1<this._featureServiceJson.capabilities.indexOf("ChangeTracking"),this._enableSceneUpdates.set("disabled",N));"vectorTiles"===this._type&&this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",
!0);Q.resolve(this._selectedService)}),f.hitch(this,function(N){this._showError(N);Q.reject(N)}))):(this.fsItem&&(this._itemPropertiesDlg.set("summary",this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders)),Q.resolve(this.fsItem));return Q},_loadImageData:function(){var Q=new e;this.fsItem?(this._itemPropertiesDlg.set("summary",
this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders),Q.resolve(this.fsItem)):Q.reject(Error("Cannot locate image service item"));return Q},_getSuggestedTitle:function(Q,N){if("features"!==this._type)return N;var S=Q&&Q.resultData||[],Y=this._type.toLowerCase(),Z="Feature Service";N=this.sublayer&&this.sublayer.name&&
N+"_"+this.sublayer.name||N;switch(Y){case "wfs":Z="WFS";break;case "ogcfeatures":Z="OGCFeatureService";break;case "scenes":Z="Scene Service";break;case "features":Z="Feature Service";break;default:Z="Feature Service"}S=d.filter(S,function(da){return da.type&&da.type===Z&&-1<da.title.indexOf(N)});return N+(S.length?"_"+(S.length+1):"_1")},_setMessageAttr:{node:"_message",type:"innerHTML"},_getMessageAttr:function(){if(this.message)return this.message;var Q=this._type.toLowerCase(),N=W.publishTileServiceDlg;
switch(Q){case "wfs":return N.wfsServiceDetailsDesc;case "ogcfeatures":return N.ogcFeatureServiceDetailsDesc;case "scenes":return N.sceneServiceDetailsDesc;case "features":return N.viewServiceDetailsDesc;case "vectortiles":return N.vectorServiceDetailsDesc;default:return N.serviceDetailsDesc}},_setTypeAttr:function(Q){this._type=Q;"tiles"===Q?x(".tileProperties",this.domNode).removeClass("hide"):"vectorTiles"===Q?(x(".vectorTileProperties",this.domNode).removeClass("hide"),ma.showNode(this._tilePropertiesContainer),
ma.hideNode(this._tilesOnDemandContainer),this._customBasemapUrl.set("placeholder",this._customBasemapUrl.get("placeholder").replace("/MapServer","/VectorTileServer"))):"scenes"===Q?x(".sceneProperties",this.domNode).removeClass("hide"):"features"===Q&&(Q=(this.fsItem&&this.fsItem.layers||this._selectedServiceLayers||[]).some(function(N,S){return N&&N.id!==S}))&&(this._preserveIds.set("checked",Q),x(".viewProperties",this.domNode).removeClass("hide"))},_checkTilesOnDemandSupport:function(Q){var N=
!1;aa.tilesOnDemandEnabled&&Q&&Q.layers&&(N=!d.some(Q.layers,function(S){return!1===ha(S,!1)}));b[N?"remove":"add"](this._tilesOnDemandContainer,"hide");this._tilesOnDemand.set("checked",N)},_enableChangeTrackingOnSource:function(){var Q=new e,N=this.fsItem,S=N.isMultipatchFeatureService,Y=this._featureServiceJson,Z=Y&&Y.capabilities||"";Y=0<Z.indexOf("ChangeTracking");N=N.adminUrl+"/updateDefinition";Z={capabilities:Y?Z:Z+",ChangeTracking"};S&&!Y&&this._enableSceneUpdates.checked?ea.request({url:N,
content:{async:!0,updateDefinition:JSON.stringify(Z)}},{usePost:!0}).then(function(da){da.statusURL?za.checkAsyncJobStatus(da.statusURL).then(function(){Q.resolve(!0)},function(){Q.resolve(!0)}):Q.resolve(!0)}):Q.resolve(!0);return Q},_getBusyMessageAttr:function(){var Q=this._type.toLowerCase(),N=W.publishTileServiceDlg;switch(Q){case "wfs":return N.publishingWfsService;case "ogcfeatures":return N.publishingOGCFeatureService;case "scenes":return N.publishingSceneService;case "features":return N.publishingViewService;
case "tiledimagery":return W.connectDataset.publishing;case "dynamicimagery":return W.connectDataset.publishing;default:return N.publishingTileService}},_setShowFoldersAttr:function(Q){this._showFolders=Q},_setItemAttr:function(Q){if(!this.fsItem||this.fsItem&&Q.url!==this.fsItem.url)this.fsItem=f.mixin({},Q),this._created&&this._loadData().then(f.hitch(this,function(N){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._agoBasemapRadio.set("checked",!0);this._itemPropertiesDlg.set("focus",
"title");aa.self.hasCategorySchema&&this._itemPropertiesDlg.set("categories",this.fsItem.categories)}))},_setFoldersAttr:function(Q){var N=this._portalUser&&this._portalUser.username;this._userFolders=Q.map(function(S){S&&S.id===N&&(S=f.mixin(S,{id:"/"}));return S})},_setFocusAttr:function(Q){Q=x(Q,this.domNode);D.focus(Q&&Q.length?Q[0]:this._title.domNode)},_setDisabledAttr:function(Q,N,S){this.set("readOnly",Q,N,S)},_setReadOnlyAttr:function(Q,N,S){x(".dijit",this.domNode).map(h.byNode).forEach(function(Y){Y.set("disabled",
Q)});x("a",this.domNode)[Q?"addClass":"removeClass"]("disabledLink");x("label",this.domNode)[Q?"addClass":"removeClass"]("disabled");this._itemPropertiesDlg.set("disabled",Q);S||(Q&&N&&H.publish("/dlg/busyMessage",N),H.publish("/esri/disable",Q,N))},_setCalculatedScalesAttr:function(Q){this._buildingVisibleRange=!0;var N={constraints:Q,minScale:Q.minScale,maxScale:Q.maxScale||18055.954822},S=this.fsItem&&this.fsItem.url||this._selectedService&&this._selectedService.url,Y=this.fsItem&&this.fsItem.layers||
this._selectedServiceLayers,Z=f.clone(this.userDefinedTileInfo&&this.userDefinedTileInfo.lods?this.userDefinedTileInfo.lods:this.tileCacheInfo.lods);"tiles"===this.type?(x(".visibleScaleRange",this.domNode).removeClass("hide"),this._visibleScaleRangeSlider&&(this._visibleScaleRangeSlider.destroyRecursive(),u.empty(this._visibleScaleRangeContainer)),this._visibleScaleRangeChangeHandler&&(this._visibleScaleRangeChangeHandler.remove(),this._visibleScaleRangeChangeHandler=void 0),S?(ma.showNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),ma.activateNode(this._visibleRangeLoader),q(d.map(Y,f.hitch(this,function(da){return sa.getSuggestedScaleRange(S+"/"+da.id)}))).then(f.hitch(this,function(da){var fa,ia,na;da.forEach(f.hitch(this,function(qa,ua){qa&&(fa=O.isDefined(fa)?qa&&qa.minScale>fa?qa.minScale:fa:qa?qa.minScale:Q.minScale,na=O.isDefined(na)?qa&&qa.maxScale&&qa.maxScale<na?qa.maxScale:na:qa&&qa.maxScale?qa.maxScale:18055.954822,ia=O.isDefined(ia)?qa&&qa.minScale&&qa.minScale<ia?qa.minScale:ia:(qa&&
qa.minScale?qa.minScale:Q.minScale)||this.SCALE_MIN)}));this._maxSupportedMinScale=Q.minScale||this.SCALE_MIN;this._calculatedMinScale=(this._cacheOnDemandMinScale=ia||fa)||Q.minScale;N.minScale=this._calculatedMinScale;N.maxScale=na||N.maxScale;N.minScale>Q.minScale&&0<Q.minScale&&(N.minScale=Q.minScale);N.maxScale>=N.minScale&&0<N.minScale&&(N.maxScale=this._normalizeMaxScale(N.minScale,N.maxScale,Z));this._visibleScaleRangeSlider=new T(N,u.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();
this._visibleScaleRangeChangeHandler=M(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ma.deactivateNode(this._visibleRangeLoader);ma.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}),f.hitch(this,function(){this._calculatedMinScale=
Q.minScale;this._visibleScaleRangeSlider=new T(N,u.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=M(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ma.deactivateNode(this._visibleRangeLoader);ma.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);
this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}))):(this._calculatedMinScale=void 0,this._visibleScaleRangeSlider=new T(N,u.create("div",null,this._visibleScaleRangeContainer)),this._visibleScaleRangeSlider.startup(),this._visibleScaleRangeChangeHandler=M(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange")),this.own(this._visibleScaleRangeChangeHandler),ma.deactivateNode(this._visibleRangeLoader),ma.hideNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),this._buildingVisibleRange=!1,this.set("disabled",this._buildingVisibleRange),this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))):(this._buildingVisibleRange=!1,this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))},_visibleScaleRangeChange:function(){var Q=this._tilesOnDemand.get("checked");if(this._calculatedMinScale&&this._visibleScaleRangeSlider&&this._visibleScaleRangeSlider._started){var N=this._visibleScaleRangeSlider.get("minScale");
(0===N&&0!==this._calculatedMinScale||N>this._calculatedMinScale)&&Q?(ma.showNode(this._increaseScaleWarning),this._increaseScaleWarning.scrollIntoView(!1)):ma.hideNode(this._increaseScaleWarning)}else ma.hideNode(this._increaseScaleWarning)},_getItemAttr:function(){return"wfs"===this._type?this.get("wfsItem"):"ogcfeatures"===this._type?this.get("ogcFeatureItem"):"scenes"===this._type?this.get("sceneItem"):"features"===this._type?this.get("viewItem"):"vectorTiles"===this._type?this.get("vectorTileItem"):
this.get("tileItem")},_getOgcFeatureItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N={name:Q.title.replace(/ /g,"_")};return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:N,outputType:"OGCFeatureService"},publishParams:N}},_getWfsItemAttr:function(){var Q=this._itemPropertiesDlg.get("item");var N=f.mixin({},{name:Q.title.replace(/ /g,"_"),wfsProperties:{title:Q.title,"abstract":Q.snippet,keyword:Q.tags}});return{item:Q,publishContent:{itemid:this.fsItem.id,
filetype:"featureService",publishParameters:N,outputType:"WFS"},publishParams:N}},_getSceneItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N=this._globalWkidRadio.get("checked"),S=this._featureServiceJson;var Y=f.mixin({},{name:Q.title.replace(/ /g,"_")});N||(Y=f.mixin(Y,{targetSR:S.spatialReference}));return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:Y,outputType:"sceneService",buildInitialCache:!1},publishParams:Y}},_getTileItemAttr:function(){var Q=
this._visibleScaleRangeSlider.get("actualMaxScale"),N=this._visibleScaleRangeSlider.get("minScale")||this._maxSupportedMinScale||this.SCALE_MIN,S=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):f.clone(this.tileCacheInfo),Y=f.clone(this.cacheStorageInfo),Z={minScale:N,maxScale:Q},da=this._tilesOnDemand.get("checked");var fa=this._itemPropertiesDlg.get("item");S.dpi&&!S.preciseDpi&&(S.preciseDpi=S.dpi);for(var ia=0;ia<S.lods.length;ia++)delete S.lods[ia].label;if(!S.lods.some(function(qa){return qa.scale<=
N&&qa.scale>=Q},this)){ia=S.lods.filter(function(qa){return qa.scale>=N},this).reverse().shift();var na=S.lods.filter(function(qa){return qa.scale<=Q},this).shift();ia&&(N=ia.scale,Z.minScale=N);na&&(Q=na.scale,Z.maxScale=Q)}S=f.mixin(Z,{name:fa.title.replace(/ /g,"_"),tilingSchema:{tileCacheInfo:S,tileImageInfo:this.tileImageInfo,cacheStorageInfo:Y}});aa.tilesOnDemandEnabled&&(S.cacheOnDemand=da)&&(S.cacheOnDemandMinScale=this._cacheOnDemandMinScale,S.capabilities="Map,ChangeTracking");return{item:fa,
publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:S,outputType:"tiles",buildInitialCache:!1},publishParams:S}},_getVectorTileItemAttr:function(){var Q=this._featureServiceJson;Q=Q.layers&&Q.layers.length?Q.layers[0]:{};var N={minScale:Q.minScale||0,maxScale:Q.maxScale||0};Q=this._itemPropertiesDlg.get("item");var S=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):void 0;N=f.mixin(N,{name:Q.title.replace(/ /g,"_")},this.vectorTilePublishParams);S&&(N.tilingSchema.tileCacheInfo=
S);return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:N,outputType:"vectorTiles",buildInitialCache:!1},publishParams:N}},_getViewItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N=this._featureServiceJson,S=this._preserveIds.get("checked"),Y=this._selectedLayers||[],Z;N=f.mixin({},{name:Q.title.replace(/ /g,"_"),isView:!0,sourceSchemaChangesAllowed:!0,isUpdatableView:!0,spatialReference:N.spatialReference,initialExtent:N.initialExtent,capabilities:"Query",
preserveLayerIds:S});this._portal&&this._portal.isPortal&&(Z=this._getDataSourceType(this.fsItem))&&Z.dataSourceType&&(N=f.mixin(N,{options:Z}));S||Y.forEach(function(da,fa){da.id=fa});return{item:Q,createParams:N}},_validate:function(){var Q=new e;this._focusNode=null;var N=this._itemPropertiesDlg._validate();N=N.then(f.hitch(this,"_checkRequired"));N=N.then(f.hitch(this,function(S){Q.resolve(S)}),f.hitch(this,function(S){this._showError(S);Q.reject(S)}));return Q},_checkRequired:function(){var Q=
new e;if("tiles"===this._type){if(!this._featureServiceJson)var N=this.i18n.publishWizard.errors.selectedServiceNotExist;this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=x("input",this._customBasemapUrl.domNode)[0],N=this.i18n.publishWizard.errors.customTileBasemapNotSpecified)}"vectorTiles"===this._type&&(this._featureServiceJson||(N=this.i18n.publishWizard.errors.selectedServiceNotExist),this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=x("input",this._customBasemapUrl.domNode)[0],
N=this.i18n.publishWizard.errors.customTileBasemapNotSpecified));if(N)return Q.reject(N),Q;C.serviceNameAvailable(this._itemPropertiesDlg.get("item"),this._portal).then(f.hitch(this,function(S){S&&S.available?Q.resolve(!0):(this._focusNode=x("input",this._itemPropertiesDlg._title.domNode)[0],Q.reject(W.addItemFrm.errors.serviceNameExists))}));return Q},publishSceneService:function(){return this._enableChangeTrackingOnSource().then(this.publishService.bind(this))},publishImageService:function(Q){var N=
new e,S=this.fsItem.url,Y=f.hitch(this,function(Z){this._showError(Z);throw Error(Z);});K.getCredential(S).then(function(Z){this._createNewImageServiceItem().then(function(da){this._publishImageServiceGP(S,da,Z.token).then(function(fa){N.resolve(fa)},Y)}.bind(this),Y)}.bind(this),Y);return N},publishService:function(){var Q=this.get("item"),N=Q.publishContent,S=this._tilesOnDemand.get("checked"),Y,Z="scenes"===this.type,da=new e,fa=new e;C.publishItem(f.mixin(Q,{owner:this.fsItem.owner}),N,this._portal).then(f.hitch(this,
function(ia){var na=ia&&ia.publishResult?ia.publishResult[0]:null;na&&na.error?(na.serviceItemId&&C.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal),this._showError(na.error||W.addItemFrm.errors.error),da.reject()):(C.checkStatus({id:na.serviceItemId,jobId:na.jobId},fa,500,this._portal),fa.then(f.hitch(this,function(qa){C.moveItem({id:qa.id,folderId:this.fsItem.ownerFolder,owner:this.fsItem.owner},Q.item.folderId,this._portal).then(f.hitch(this,function(ua){(Y=f.mixin(Q.item,
ua,!Z&&this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{}))&&delete Y.typeKeywords;C.updateItem(Y,this._portal).then(f.hitch(this,function(){this.set("disable",!1);da.resolve({id:na.serviceItemId,jobId:na.jobId,cacheOnDemand:S})}))}))}),f.hitch(this,function(qa){C.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal);this._showError(qa)})))}),f.hitch(this,function(ia){this._showError(ia)}));return da},createViewService:function(){var Q=
this.get("item"),N={createParameters:c.stringify(Q.createParams),outputType:"featureService",isView:!0},S=this.fsItem&&this.fsItem.serviceInfo||{},Y=this.serviceLayers||this.fsItem.layers,Z,da,fa=new e;S=Y.map(function(ia){Z=f.mixin({},ia);delete Z.fields;delete Z.indexes;delete Z.relationships;return Z}).map(f.hitch(this,this._addAdminLayerInfo,S));Y=d.filter(S||[],f.hitch(this,function(ia){return ia&&"Table"===ia.type}));S=d.filter(S||[],f.hitch(this,function(ia){return ia&&"Feature Layer"===ia.type}));
C.createService(f.mixin(Q,{owner:this.fsItem.owner}),N,c.stringify({layers:S,tables:Y}),this._portal).then(f.hitch(this,function(ia){return C.moveItem({id:ia&&ia.createResult&&ia.createResult.itemId,owner:this.fsItem.owner},Q.item.folderId,this._portal)}),f.hitch(this,function(ia){this._showError(ia);throw Error(ia);})).then(f.hitch(this,function(ia){this._selectedService&&this._selectedService.itemData&&this._selectedService.itemData.layers&&this.sublayer&&(this._selectedService.itemData.layers=
this._selectedService.itemData.layers.filter(function(na){return na.id===this.sublayer.id}.bind(this)),this._selectedService.itemData.layers[0]&&(this._selectedService.itemData.layers[0].id=0));da=f.mixin(Q.item,ia,this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{});da=f.mixin(da,{folderId:null});delete da.typeKeywords;delete da.type;delete da.wabType;return C.updateItem(da,this._portal)})).then(f.hitch(this,function(ia){fa.resolve(f.mixin({},
da,ia))}));return fa},_addAdminLayerInfo:function(Q,N){var S=/(\/(MapServer|FeatureServer)).*/ig,Y=this.fsItem.url;S=Y&&Y.replace(S,"").replace(/^.*\//,"").replace(/\?.*$/,"");return f.mixin(N,{adminLayerInfo:{viewLayerDefinition:{sourceServiceName:S||N.name,sourceLayerId:N.id,sourceLayerFields:"*"}}})},_getDataSourceType:function(Q){Q=Q&&Q.adminServiceInfo&&Q.adminServiceInfo.adminServiceInfo||{};Q=Q.database&&Q.database.datasource||{};return{dataSourceType:Q.name&&(-1<Q.name.indexOf("/nosqlDatabases")?
"spatiotemporal":-1<Q.name.indexOf("/enterpriseDatabases")?"relational":null)}},showModal:function(Q){var N=new e,S,Y=this._type,Z=this.dialog=new A({title:"features"===Y?this.i18n.itemProperties.publishViewLayer:this.i18n.publishTileServiceDlg.publishTileDialogTitle,style:{height:"auto"}});Z.setContent(this.domNode);Z.show();this.own(M(Z.okButton,"click",f.hitch(this,function(){H.publish("/esri/disable",!0,this.get("busyMessage"));this._validate().then(f.hitch(this,function(){S="tiledImagery"===
Y||"dynamicImagery"===Y?this.publishImageService():"features"!==Y?"scenes"===Y?this.publishSceneService():this.publishService():this.createViewService();S.then(f.hitch(this,function(da){Z.hide().then(f.hitch(this,function(){N.resolve(da)}))}))}))})),M(Z,"hide",f.hitch(this,function(){Z.destroyRecursive()})));return N},_createNewImageServiceItem:function(){var Q=new e,N=this._itemPropertiesDlg.get("item"),S=N.title.replace(/ /g,"_");S={title:N.title,outputType:"imageService",tags:N.tags,snippet:N.snippet,
createParameters:c.stringify("tiledImagery"===this.type?{name:S,capabilities:"Image, TilesOnly"}:{name:S,capabilities:"Image, Metadata, Mensuration",properties:{description:"",isManaged:"true",isCached:"true",colormapToRGB:"false",esriImageServiceSourceType:"esriImageServiceSourceTypeDataset",allowCopy:"true",allowAnalysis:"true",allowFunction:"true"}})};C.createService(f.mixin(N,{owner:this.fsItem.owner}),S,null,this._portal).then(f.hitch(this,function(Y){var Z=Y&&Y.createResult&&Y.createResult.itemId;
if(!Z)return Q.reject();Y.owner=this.fsItem.owner;Y.id=Z;Y.url=Y.createResult.serviceUrl;Y.folderId=N.folderId;delete Y.createResult;C.moveItem({id:Z,owner:Y.owner},N.folderId,this._portal).then(function(){Q.resolve(Y)})}),f.hitch(this,function(Y){Q.reject(Y)}));return Q},_publishImageServiceGP:function(Q,N,S){var Y=new e,Z=!1,da="tiledImagery"===this.type,fa=f.hitch(this,function(qa){if(!Z){Z=!0;var ua={id:N.id,owner:N.owner,folderId:N.folderId,title:N.title,tags:N.tags,snippet:N.snippet,properties:c.stringify({jobUrl:ia+
"/CopyRaster/jobs/"+qa.jobId+"?f\x3djson",jobStatus:"processing",jobId:qa.jobId,jobType:"GPServer"})},ya=f.hitch(this,function(){this.set("disable",!1);Y.resolve({id:N.id,jobId:qa.jobId})});C.updateItem(ua,this._portal).then(ya,ya)}}),ia=this._portal.helperServices.rasterAnalytics.url,na=ia+"/CopyRaster";Q+=S?"?token\x3d"+S:"";da={inputRaster:c.stringify(da?{url:Q}:{tiled_url:Q}),outputName:c.stringify({itemId:N.id})};na=new la(na);na.setUpdateDelay(5E3);na.submitJob(da,null,fa);na.onError=f.hitch(this,
function(qa){C.deleteItem({id:N.id,folderId:N.folderId},this._portal);Y.reject(qa)});return Y},_showError:function(Q){Q=f.mixin(f.mixin({},W.publishWizard.errors.error),Q);var N=f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)});this._errorDlg=new A({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.own(M(this._errorDlg.closeButtonNode,"click",N));this._errorDlg.show(Q).then(N);
return!1}})})},"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg":function(){define("esri/lang dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dojox/form/Uploader dijit/registry dijit/form/TextBox dijit/form/RadioButton dijit/ConfirmDialog dijit/focus dgrid/OnDemandGrid dgrid/editor dojo/store/Observable dojo/store/Memory esri/dijit/Tags arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin dijit/form/SimpleTextarea dijit/form/Textarea dijit/form/Select dojo/topic esri/Evented esri/arcgis/Portal arcgisonline/pages/portal/PortalItem arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil arcgisonline/pages/utils/categories arcgisonline/pages/utils/dom arcgisonline/pages/dijit/CategoryPicker arcgisonline/sharing/geow/Account arcgisonline/sharing/util arcgisonline/sharing/geow/Folder esri/geometry/Extent esri/SpatialReference ../../../map/core/sameSpatialReference ../../../map/core/projectExtent dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za,ha,V,la,T,P,I,ba,W,ca,Q){return M("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg",[k,y,u,K,aa],{baseClass:"esriItemPropertiesDlg",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cdiv class\x3d"wabdiv"\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab2DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'checked:true,name:"wabtype"\' value\x3d"2d" /\x3e${i18n.addItemFrm.2d}\x3c/label\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab3DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'name:"wabtype"\' value\x3d"3d" /\x3e${i18n.addItemFrm.3d}\x3c/label\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-half"\x3e\x3c/p\x3e\x3cform id\x3d"_createForm" data-dojo-attach-point\x3d"_form" enctype\x3d"multipart/form-data" action\x3d"" method\x3d"POST"\x3e\x3clabel for\x3d"uploader" class\x3d"file"\x3e${i18n.addLayerFromFileDlg.fileLabel}\x3c/label\x3e\x3cdiv data-dojo-attach-point\x3d"_files" class\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" data-dojo-props\x3d\'label:"Browse", name:"file", showInput:"before"\'\x3e\x3c/div\x3e\x3cbr class\x3d"file" /\x3e\x3cdiv data-dojo-attach-point\x3d"_zip" class\x3d"zip esriLeadingMargin80 hide"\x3e\x3clabel for\x3d"archiveSelect"\x3e${i18n.addItemFrm.itemContents}\x3c/label\x3e\x3cselect data-dojo-attach-point\x3d"_zipContents" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:25%;"\x3e\x3coption value\x3d"shapefile" selected\x3e${i18n.addItemFrm.typeShapefile}\x3c/option\x3e\x3coption value\x3d"filegeodatabase"\x3e${i18n.addItemFrm.itemFileGeodatabase}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-url" class\x3d"url hide trailer-0"\x3e${i18n.publishWizard.urlItemLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-url" class\x3d"required url trailer-half hide" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'disabled:true, name:"url", trim:true, placeHolder:"${i18n.addLayerFromUrlDlg.enterUrl}"\'\x3e\x3c/div\x3e\x3cbr class\x3d"url hide" /\x3e\x3clabel for\x3d"${id}-title" class\x3d"trailer-0"\x3e${i18n.publishWizard.titleLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-title" tabindex\x3d"0" class\x3d"required title trailer-half" data-dojo-attach-point\x3d"_title" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'name:"title", trim:true, placeHolder:"${i18n.publishWizard.titlePlaceHolder}"\'\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-tags" data-dojo-attach-point\x3d"_tagsDijitLbl" class\x3d"tagsLbl leader-0 trailer-0"\x3e${i18n.publishWizard.tagsLbl}\x3cspan class\x3d"screen-readers-only" id\x3d"tags-required"\x3e${i18n.publishWizard.tagsRequired}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"position-relative hide js-tags-mask"\x3e\x3cdiv class\x3d"tags-disabled-mask"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}-tags" class\x3d"trailer-half" data-dojo-attach-point\x3d"_tagsDijit" data-dojo-type\x3d"esri/dijit/Tags" data-dojo-props\x3d"name: \'tags\', width:\'100%\', minWidth:\'100%\', maxWidth:\'100%\'"\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-summary" class\x3d"trailer-0 leader-half"\x3e${i18n.publishWizard.summaryLbl}\x3c/label\x3e\x3ctextarea id\x3d"${id}-summary" tabindex\x3d"0" class\x3d"required snippet trailer-0" maxlength\x3d"250" data-dojo-attach-point\x3d"_summaryDijit" class\x3d"summaryTextBox dijitPlaceHolder" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-props\x3d\'name:"snippet", trim:true, placeHolder:"${i18n.publishWizard.summaryPlaceHolder}", value: "${i18n.publishWizard.summaryPlaceHolder}"\'\x3e\x3c/textarea\x3e\x3cbr /\x3e\x3cdiv class\x3d"hide categories-container"\x3e\x3clabel class\x3d"trailer-0 leader-half" data-dojo-attach-point\x3d"_categoriesLbl" for\x3d"itemPropCategoryPicker"\x3e${i18n.addItemFrm.categories}${i18n.addItemFrm.colon}\x3c/label\x3e\n\x3cdiv class\x3d"categoriesPickerSection" data-dojo-attach-point\x3d"_categoriesContainer" id\x3d"itemPropCategoryPicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-folders" data-dojo-attach-point\x3d"_foldersDijitLbl" class\x3d"folderDropdown trailer-0 leader-half hide" style\x3d"clear:both;"\x3e\x3cspan class\x3d"saveFolderLbl"\x3e${i18n.publishWizard.saveFolderLbl}\x3c/span\x3e\x3cselect id\x3d"${id}-folders" tabindex\x3d"0"  class\x3d"folderDropdownSelect folderDropdown hide" data-dojo-attach-point\x3d"_folders" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:77%;" data-dojo-props\x3d\'maxHeight:"200"\'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/form\x3e\x3c/div\x3e',
onOk:function(){},onCancel:function(){},onLoad:function(){},postMixInProperties:function(){this.inherited(arguments);this._errorDlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance();this.i18n=g.mixin({},Q);this._maxFileSize=1E9;this._analyzeTypes={csv:1};this._type=this.typeInfo;var N=b("ESRI_Content");this._selectedFolderId=(N?h.parse(N):{}).folderId||null;this._portalUser=(this._portal=ma.portal)&&(this._portal.portalUser||this._portal.user||this._portal.getPortalUser())},
postCreate:function(){this.inherited(arguments);c.add(this._summaryDijit.domNode,"dijitPlaceHolder");var N=this._files.displayInput;c.add(N,"placeHolder");x.set(N,"value","Select File");this._tagsDijit&&this._tagsDijit._inputTextBox&&this._tagsDijit._inputTextBox.set&&this._tagsDijit._inputTextBox.set("aria-describedby","tags-required");this._tagsDijitLbl&&this._tagsDijit._inputTextBox&&x.set(this._tagsDijitLbl,"for",this._tagsDijit._inputTextBox.id);la.getSelf(g.hitch(this,function(S){this._loadConnections();
this._portal?this._init():(this._portal=new ea.Portal({url:ma.restBaseUrl,self:S}),this._connect=this._portal.on("load",g.hitch(this,function(Y){this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){return m([T.loadUserTags(this._portalUser.username),this._getFolders()]).then(g.hitch(this,function(N){N&&N[0]&&this._tagsDijit.set("knownTags",N[0]);this.item&&this.item.type&&!this.item.declaredClass&&(this.item=new ka(g.mixin(this.item,{portal:this._portal})));
this._tagsDijit.set("value",this.item&&this.item.tags||"");this._summaryDijit.set("value",Q.publishWizard.summaryPlaceHolder);this._loadFolders(N[1]&&N[1].folders||[],this._folders);this._supportedType=!this.item||"Web Scene"!==this.item.type&&"Web Map"!==this.item.type?null:this.item.type;this.set("showWAB","wab"!==this._type||this._supportedType?!1:!0);this._supportedType&&this.wab2DRadio.set("checked","Web Map"===this._supportedType);this.onLoad()}))},destroy:function(){t(".dijit",this.contentNode).map(p.byNode).forEach(function(N){N.destroyRecursive?
N.destroyRecursive():N.destroy?N.destroy():N=null});this.inherited(arguments);this._grid&&(this._grid.destroy(),this._grid=null);this._tagsDijit&&(this._tagsDijit.destroyRecursive(),this._tagsDijit=null);this._analyzedFile?O.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(N){this._tagsDijit=this._portalUser=this._portal=this._analyzedFile=null})):this._tagsDijit=this._portalUser=this._portal=null;this._errorDlg&&(this._errorDlg._dialog&&this._errorDlg._dialog.destroyRecursive(),
this._errorDlg.destroyRecursive(),this._errorDlg=null)},startup:function(){this.inherited(arguments);this._initializeCategoryPicker(this.categories||[])},disableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.remove("hide");this._categories&&this._categories.disable()},enableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.add("hide");this._categories&&this._categories.enable()},_initializeCategoryPicker:function(N){if(ma.self.hasCategorySchema){var S=
function(Y){this._categories=new V({categories:N||[],schema:Y},E.create("div",null,this._categoriesContainer));this._categories.startup();ha.showNodes(t(".categories-container",this.domNode));this._initializingCategoryPicker=!1}.bind(this);this.item&&this.item.portal&&this.item.portal.getCategories&&this.item.portal.getCategories instanceof Function?(this._initializingCategoryPicker=!0,this.item.portal.getCategories().then(S)):(this._initializingCategoryPicker=!0,T.request({url:ma.restBaseUrl+"portals/self/categorySchema"}).then(function(Y){S(Y.categorySchema)}.bind(this)))}},
_getWebMapAuthoringInfo:function(){return{authoringApp:"WebMapViewer",authoringAppVersion:T.isPortal()?"10.6":"6.1",version:"2.11"}},addItem:function(){var N=new d,S,Y;this._validate().then(g.hitch(this,function(){X.publish("/esri/disable",!0,Q.addItemFrm.addingItem);if(this._analyzedFile)S=this._updateItem().then(g.hitch(this,function(da){return da}));else if("webmap"===this._type)S=this._fetchBaseMap().then(g.hitch(this,function(da){return Y=da})).then(g.hitch(this,"_projectPortalExtent")).then(g.hitch(this,
function(da){var fa=this.get("item");fa.text=Y?h.stringify(Y):fa.text;fa.extent=da;return O.addItem(fa,this.get("folder"),this._portal)}));else if("dashboard_map"===this._type){var Z=this.get("item");Z.text=z.substitute(Z.text,{mapId:this.item.id});S=O.addItem(Z,this.get("folder"),this._portal)}else S=O.addItem(this.showFile?this.get("form"):this.get("item"),this.get("folder"),this._portal);S.then(g.hitch(this,function(da){X.publish("/esri/disable",!1);N.resolve(da)}),g.hitch(this,function(da){X.publish("/esri/disable",
!1);da&&409===da.code&&(da=this.get("item"),da={title:Q.addItemFrm.errors.error.title,message:U.substitute({type:da.type,title:da.title},Q.addItemFrm.errors.itemExists.message)});N.reject(da)}))}),g.hitch(this,function(Z){X.publish("/esri/disable",!1);N.reject(Z)}));return N},_fetchBaseMap:function(){var N=this._portal&&this._portal.defaultBasemap||null,S=this._getWebMapAuthoringInfo(),Y,Z,da,fa=function(){Z=a.map(N.baseMapLayers||[],g.hitch(this,function(na,qa){Y=g.clone(na);Y=g.mixin(Y,{opacity:1,
layerType:"ArcGISTiledMapServiceLayer",visibility:!0,id:"defaultBasemap_"+qa});da=0===qa?na.spatialReference||na.resourceInfo&&na.resourceInfo.spatialReference:da;delete Y.resourceInfo;return Y}));return g.mixin({operationalLayers:[],spatialReference:da||this._portal&&this.portal.defaultExtent&&this.portal.defaultExtent.spatialReference,baseMap:g.mixin(N,{baseMapLayers:Z})},S)};if(N&&N.id)var ia=ea.PortalUtil.request(this._portal.portalUrl+"content/items/"+N.id+"/data").then(g.hitch(this,function(na){return na}),
g.hitch(this,function(na){return fa()}));else N?(ia=new d,ia.resolve(fa())):(ia=new d,ia.resolve());return ia},_projectPortalExtent:function(N){var S=new d;N=this._portal&&this._portal.defaultExtent||null;var Y=new I(N),Z=new ba({wkid:102100});N&&Y.spatialReference.wkid!==Z.wkid?ca(Y,Z,g.hitch(this,function(da){da[0]?S.resolve(O.getPortalDefaultExtentAsGCS({defaultExtent:da[0]})):S.resolve(O.getPortalDefaultExtentAsGCS(this._portal))})):S.resolve(O.getPortalDefaultExtentAsGCS(this._portal));return S},
_extent2String:function(N,S){S=S||4;var Y=+N.xmin.toFixed(S),Z=+N.ymin.toFixed(S),da=+N.xmax.toFixed(S),fa=+N.ymax.toFixed(S);return isNaN(Y)||isNaN(Z)||isNaN(da)||isNaN(fa)?"":Y+","+Z+","+da+","+fa},_loadConnections:function(){this.own(X.subscribe("/esri/disable",g.hitch(this,function(N){this.set("readOnly",N)})),t(".dijitTextArea",this.contentNode).on("focus",g.hitch(this,function(N){N=this._summaryDijit;N.get("value")===Q.publishWizard.summaryPlaceHolder&&(c.remove(N.domNode,"dijitPlaceHolder"),
N.set("value",""))})),t(".dijitTextArea",this.contentNode).on("blur",g.hitch(this,function(N){N=this._summaryDijit;""===N.get("value")&&(c.add(N.domNode,"dijitPlaceHolder"),N.set("value",Q.publishWizard.summaryPlaceHolder))})),r(this._errorDlg,"hide",g.hitch(this,function(){this._focusNode&&setTimeout(g.hitch(this,function(){D.focus(this._focusNode)}),250)})),r(this._tagsDijitLbl,"click",g.hitch(this,function(N){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),
r(this._tagsDijit.domNode,"focusout",g.hitch(this,function(N){t(".select2-choices",this._tagsDijit.domNode).removeClass("focus")})),r(this._tagsDijit.domNode,"focusin",g.hitch(this,function(N){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),r(this._foldersDijitLbl,"click",g.hitch(this,function(N){this._folders.focus()})))},_setTitleAttr:function(N){return this._title.set("value",N||"")},_getTitleAttr:function(){return this._title.get("value")},
_setShowFileAttr:function(N){N||(t(".file",this.contentNode).style("display","none"),t(".dijitUploader input",this.contentNode).attr("disabled","disabled"),this._files.set("disabled",!0))},_setShowUrlAttr:function(N){N&&(t(".url",this.contentNode).removeClass("hide"),this._url.set("disabled",!1))},_setShowFoldersAttr:function(N){t(".folderDropdown",this.domNode)[N?"removeClass":"addClass"]("hide")},_setFoldersAttr:function(N){this._userFolders=N;this._folders.set("options",a.map(N,"return {label:item.title, value:item.id};"));
this._folders.set("value",this._selectedFolderId||"/")},_setShowWABAttr:function(N){t(".wab",this.domNode)[N?"removeClass":"addClass"]("hide")},_setMessageAttr:{node:"_message",type:"innerHTML"},_setTypeAttr:function(N){x.set(this._type,"value",N)},_setTypeInfoAttr:function(N){this._type=N},_setTagsAttr:function(N){this._tagsDijit.set("value",N||"")},_setCategoriesAttr:function(N){if(ma.self.hasCategorySchema)if(!this._categories||this._initializingCategoryPicker)var S=setInterval(function(){this._categories&&
!this._initializingCategoryPicker&&(clearInterval(S),this._categories.setCategories(N||[],!0))}.bind(this),50);else this._categories.setCategories(N||[],!0)},_setSummaryAttr:function(N){c[N?"remove":"add"](this._summaryDijit.domNode,"dijitPlaceHolder");this._summaryDijit.set("value",N||Q.publishWizard.summaryPlaceHolder);this._summaryDijit.resize()},_setBatchGeocodersAttr:function(N){this._geocoders.set("options",N);this._geocoders.set("value",N[0].value,!1);this._batchGeocoders=N;this._selectedGeocoder=
N[0]},_setFocusAttr:function(N){var S=p.byId(this.id+"-"+N);if(S)setTimeout(g.hitch(this,function(){S.focus()}),250);else{var Y=t(N,this.domNode);setTimeout(g.hitch(this,function(){D.focus(Y&&Y.length?Y[0]:this._title.domNode)}),250)}},_setDisabledAttr:function(N){this._disable(N)},_setReadOnlyAttr:function(N){t(".dijit",this.domNode).map(p.byNode).forEach(function(S){S.set("readOnly",N)});t(".dijitButtonContents",this._files.domNode).forEach(function(S){x.set(S,"readonly",N);c[N?"add":"remove"](S,
"dijitDisabled dijitTextBoxDisabled")});c[N?"add":"remove"](this._tagsDijit.domNode,"dijitDisabled dijitTextBoxDisabled");t("input",this._tagsDijit.domNode).forEach(function(S){x.set(S,"readonly",N)});t("a",this.contentNode)[N?"addClass":"removeClass"]("disabledLink");t(".dijitSelect .dijitButtonText",this.contentNode)[N?"addClass":"removeClass"]("dijitTextBoxDisabled");this._folders.set("disabled",N);this._summaryDijit.set("disabled",N);t(".dijitUploader input",this.contentNode).attr("readonly",
"readonly")},_getFormAttr:function(){var N=this._checkThumbnailURL(g.mixin({},this.itemInfo[this._type])),S=E.create("div",null,this._form);N=g.mixin(N,{tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==Q.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):""});N=this._adjustItemInfo(N);for(var Y in N)E.place(E.create("input",{name:Y,type:"text",value:N[Y],"class":"hide"}),S);return l.byId("_createForm")},_getItemAttr:function(){var N=this._checkThumbnailURL(g.mixin({},
this.itemInfo[this._type]));N=g.mixin(N,{title:this._title.get("value"),tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==Q.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):"",folderId:this.get("folder"),wabType:"wab"===this._type?this.get("WABType"):null});N=this._adjustItemInfo(N);ma.self.hasCategorySchema&&this._categories&&(N.categories=this._categories.getCategories(!0));this._supportedType&&(N=g.mixin(N,{webmap:this.item.id}));return N},_adjustItemInfo:function(N){var S=
this._type,Y=N.text,Z=this._portal&&this._portal.helperServices||[];Z=Z.defaultElevationLayers?g.clone(Z.defaultElevationLayers):[];if(Y&&("webscene"===S||"webscene_portal"===S)&&Z&&Z.length){var da=JSON.parse(Y);Z=Z.map(function(fa){fa=g.mixin(fa,{title:fa.title||fa.name||"Elevation",id:fa.id||fa.name||(new Date).getTime()+""});fa.name&&delete fa.name;return fa});da.baseMap.elevationLayers=Z;da.ground.layers=Z;N.text=JSON.stringify(da)}if("dashboard"===S||"dashboard_map"===S)N.typeKeywords="ArcGIS Dashboards",
da=JSON.parse(Y||"{}"),da.version=45,N.text=JSON.stringify(da),delete N.thumbnailURL,N.thumbnailUrl="dashboard"===S?"https://static.arcgis.com/images/dashboards.png":N.thumbnailUrl;return N},_getWABTypeAttr:function(){return this.wab2DRadio.get("checked")?"HTML":"HTML3D"},_getFolderAttr:function(){var N=this._folders.get("value");N=this._portalUser?"/"===N||N===this._portalUser.username?null:N:"/"===N?null:N;return this.showFolders?N:this._selectedFolderId},_getFolders:function(){var N=new d;this._portalUser.getFolders?
this._portalUser.getFolders().then(g.hitch(this,function(S){N.resolve({folders:S})}),g.hitch(this,function(S){N.reject(S)})):P.getFolders(g.hitch(this,function(S){N.resolve(S)}),g.hitch(this,function(S){N.reject(S)}),!1);return N},_getFileInfo:function(N){var S=new d,Y=/(?:\.([^.]+))?$/;N=N&&N.length&&N[0]||{};var Z=N.name.replace(/^.*(\\|\/|:)/,"");Y=Z?Y.exec(Z)[1].toLowerCase():"";var da=Z?Z.substring(0,Z.lastIndexOf(".")):"";this._isValidFileType(Y)||S.reject(Q.addItemFrm.errors.unknownType);window&&
window.FileReader&&N.size>this._maxFileSize&&S.reject(Q.addItemFrm.errors.fileToLarge);S.resolve(g.mixin(N,{title:da,fileType:Y,origName:Z}));return S},_deleteAnalyzedFile:function(){if(this._analyzedFile)var N=O.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(){this._analyzeResult=this._analyzedFile=null}));else N=new d,N.resolve(!0);return N},_toOptions:function(N,S){var Y=[];S&&(N=g.mixin({},Q.addItemFrm.notUsed,N));for(var Z in N)Y.push({label:N[Z],value:Z});return Y},_addFile:function(){var N=
this.get("form");if(N)return N=O.addItem(N,this.get("folder"),this._portal),N.then(g.hitch(this,function(S){X.publish("/esri/disable",!1);return S}),g.hitch(this,function(S){X.publish("/esri/disable",!1);this._showError(S)}))},_updateItem:function(){var N=this._analyzedFile,S=this.get("item"),Y=!1,Z;for(Z in S)N[Z]&&N[Z]===S[Z]?delete S[Z]:Y=!0;Y?S=O.updateItem(g.mixin(S,{id:N.id,folderId:N.folderId}),this._portal).then(g.hitch(this,function(da){return g.mixin(N,da)})):(S=new d,S.resolve(N));return S},
_getPublishParameters:function(N){var S=this._geocoder||"none";N=this._getDefaultPublishParameters(N);var Y=this._analyzeResult&&this._analyzeResult.publishParameters,Z=Y&&Y.standardizedFieldNames,da=this._grid&&this._grid.store;if(Y)if("addressTypes"===S){var fa=0,ia={},na=Z;da.query(function(ua){"unknown"!==ua.locationType&&ua.locationType in na&&(ia[ua.locationType]=ua.name,fa++)});if(1>fa)return{error:this.i18n.errors.noAddressFields};N.publishParameters.locationType="address";N.publishParameters.addressFields=
ia}else if("locationTypes"===S){var qa={locationType:"coordinates",latitudeFieldName:null,longitudeFieldName:null};na=g.mixin({},this.i18n.addItemFrm[S]);da.query(function(ua){"unknown"!==ua.locationType&&ua.locationType in na&&(qa[ua.locationType+"FieldName"]=ua.name)});if(!qa.latitudeFieldName||!qa.longitudeFieldName)return{error:this.i18n.errors.noLocationFields};g.mixin(N,qa)}else N.publishParameters.locationType="none";return N},_getDefaultPublishParameters:function(N){var S=N.type.toLowerCase(),
Y={itemId:N.id,filetype:S},Z=this._analyzeResult&&this._analyzeResult.publishParameters;"tile package"===S&&(Y.filetype="tilePackage",Y.buildInitialCache=!0);Y.publishParameters=g.mixin(Z||{},{name:N.title.replace(/ /g,"_"),maxRecordCount:2E3});Z&&(Y.hasStaticData=!0,Y.publishParameters.layerInfo=g.mixin(Z.layerInfo||{},{capabilities:"Query"}),Y.publishParameters.persistErrorRecordsForReview=!0);return Y},_analyze:function(){var N={};X.publish("/esri/disable",!0,"Uploading file...");return this._addFile().then(g.hitch(this,
function(S){X.publish("/esri/disable",!0,"Analyzing file...");this._analyzedFile=S;this._portal._isPortal||!this._selectedGeocoder.isWorldGeocodeServer?N.geocodeServiceUrl=encodeURI(this._selectedGeocoder):this._selectedGeocoder.isWorldGeocodeServer&&(N.sourceCountry=this._analyzeResult?this._countries.get("value").toLowerCase():"",N.sourceCountryHint=this._analyzeResult?"":this._sourceCountry);return O.analyzeItem(S,N,this._portal).then(g.hitch(this,function(Y){this._analyzeResult=this._analyzedFile.analyzeResult=
Y;this._createGrid(Y);c.remove(this.geocoding,"hide");X.publish("/esri/disable",!1);return this._analyzedFile}))}))},_validate:function(){var N=new d;var S=this._checkRequired(this.get("item"));S=S.then(g.hitch(this,"_itemExists",this.get("item")));S=S.then(g.hitch(this,function(Y){N.resolve(Y)}),g.hitch(this,function(Y){this._focusNode&&D.focus(this._focusNode);N.reject(Y)}));return N},_isValidFileType:function(N){var S=!0;this.showFile&&this.validTypes?(this.validTypes=this.validTypes instanceof
Array?this.validTypes:[this.validTypes],-1===a.indexOf(this.validTypes,N)&&(S=!1)):this.itemInfo[type.toLowerCase()]||(S=!1);return S},_checkThumbnailURL:function(N){this.item&&this.item.thumbnail&&this.item.thumbnailUrl?N.thumbnailUrl=this.item.thumbnailUrl:(N.thumbnailURL&&(N.thumbnailURL=T.getStaticImagesUrl()+N.thumbnailURL),this._portal.isPortal&&N.thumbnailURL&&0!==N.thumbnailURL.indexOf("http")&&(N.thumbnailURL=window.location.protocol+"//"+window.location.host+N.thumbnailURL));return N},_isEmpty:function(N){return(this.trim?
/^\s*$/:/^$/).test(N)},_disable:function(N){this._folders.set("disabled",N);this._summaryDijit.set("disabled",N);!this.showFiles&&N&&t(".dijitUploader input",this.contentNode).attr("disabled","disabled")},_loadFolders:function(N,S){var Y=b("ESRI_Content");Y=Y?h.parse(Y):{};var Z=Y.folderId||null;this._selectedFolderId=Y.folderId||null;(!N||!N.length||N&&N.length&&N[0].title!==this._portalUser.username)&&N.unshift({title:this._portalUser.username,id:"/"});S.options=a.map(N,"return {label:item.title, value:item.id};");
S.set("value",Z||this._portalUser.username)},_loadCountries:function(N,S){var Y=this._portal.getPortalUser(),Z=[];Y=(this._portal.region||Y.region||portal.ipCntryCode||"world").toLowerCase();Y="wo"===Y?"world":Y;for(var da in N)Z.push({label:N[da],value:da.toLowerCase()});Z=Z.sort(function(fa,ia){return fa.label<ia.label?-1:fa.label>ia.label?1:0});S.set("options",Z);S.set("value",Y,!1);this._sourceCountry=Y},_checkRequired:function(){var N=new d,S,Y;t(".required",this.contentNode).map(p.byNode).every(g.hitch(this,
function(Z){return!c.contains(Z.domNode,"hide")&&this._isEmpty(Z.get("value"))?(Y=Z.domNode||Z,this._focusNode=t("input",Y)[0],S=g.mixin({},Q.publishWizard.errors.error,Q.publishWizard.errors.required[Z.get("name")]),!1):!0}));S?N.reject(S):N.resolve(!0);return N},_itemExists:function(N){var S=new d,Y=this._type in{mapserver:1,featureserver:1,sceneserver:1,wfs:1,ogcFeatures:1,vectortileserver:1,imageserver:1},Z="wfs"===this._type||"ogcFeatures"===this._type,da=Z?/[.@#%&*+=\-\\';,\/|\\":<>()\?]/g.test(N.title):
Y?/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(N.title):/[<>]/g.test(N.title),fa=N.title.match(/^\d/)?!0:!1,ia=this.itemInfo[N.type.toLowerCase()]?this.itemInfo[N.type.toLowerCase()].type:N.type;this._itemExistsCheck(N).then(function(na){da||Y&&120<N.title.length?(this._focusNode=t("input",this._title.domNode)[0],S.reject(Y?Q.addItemFrm.errors.invalidServiceTitle:Q.addItemFrm.errors.invalidItemTitle)):Z&&fa?S.reject(Q.addItemFrm.errors.invalidCharactersStartsWithNumber):na?(this._focusNode=t("input",this._title.domNode)[0],
na=U.substitute({type:ia,title:N.title},Q.addItemFrm.errors.itemExists.message),S.reject({title:Q.addItemFrm.errors.error.title,message:na})):S.resolve(!1)}.bind(this));return S},_itemExistsCheck:function(N){var S=N.title,Y=this.get("folder"),Z=this.itemInfo[N.type.toLowerCase()]?this.itemInfo[N.type.toLowerCase()].type:N.type,da=this._portalUser.username,fa=new dojo.Deferred;T.request({url:ma.restBaseUrl+"search",content:{q:'title:"'+S+'" AND type:"'+Z+'" AND owner:"'+da+'" AND ownerfolder:"'+(Y&&
"/"!==Y?Y:"root")+'"',num:1}}).then(dojo.hitch(this,function(ia){ia&&ia.total?fa.resolve(this._isSameTitle(N,ia.results.shift())):fa.resolve(!1)}));return fa},_isSameTitle:function(N,S){return(N&&N.title)===(S&&S.title)},_showError:function(N){N.messageCode&&"GWM_0011"===N.messageCode&&(N=g.mixin(N,{message:Q.common.errors.spamContentItemCreate}));N=g.mixin(g.mixin({},Q.publishWizard.errors.error),N);this._errorDlg.show(N);this._disable(!1);return!1}})})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c){return M("dojox.form.Uploader",[m,q,e,d,a],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:b.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:c,baseClass:"dijitUploader "+q.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();y.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=u.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(h){for(var n=0,p,w=[];p=h[n++];)p&&p.name&&w.push(p.name);this.displayInput.value=w.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(h){},onBegin:function(h){},onProgress:function(h){},onComplete:function(h){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(h){},
upload:function(h){h=h||{};h.uploadType=this.uploadType;this.inherited(arguments)},submit:function(h){h=h?h.tagName?h:this.getForm():this.getForm();h=E.toObject(h);h.uploadType=this.uploadType;this.upload(h)},reset:function(){delete this._files;this._disconnectButton();x.forEach(this._inputs,u.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var h=[];this.supports("multiple")?x.forEach(this._files,function(n,p){h.push({index:p,name:n.name,size:n.size,type:n.type})},
this):x.forEach(this._inputs,function(n,p){n.value&&h.push({index:p,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)})},this);return h},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(h){},_setDisabledAttr:function(h){this.disabled!=h&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",h?"none":""))},_getButtonStyle:function(h){this.btnSize={w:f.get(h,"width"),h:f.get(h,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var h=this._getFileFieldName();this.focusNode=this.inputNode=u.create("input",{type:"file",name:h,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&y.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(t.connect(this.inputNode,"change",this,function(h){this._files=this.inputNode.files;this.onChange(this.getFileList(h));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(t.connect(this.inputNode,"focus",this,function(){g.add(this.domNode,this.focusedClass)})),this._cons.push(t.connect(this.inputNode,"blur",this,function(){g.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){x.forEach(this._cons,t.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(U,M,r,x,t,l,f,g,k,y){t.add("FormData",function(){return!!window.FormData});t.add("xhr-sendAsBinary",function(){var u=window.XMLHttpRequest&&new window.XMLHttpRequest;return u&&!!u.sendAsBinary});t.add("file-multiple",function(){return!!{"true":1,"false":1}[x.get(document.createElement("input",{type:"file"}),"multiple")]});return l("dojox.form.uploader._Base",[g,k,y],{getForm:function(){if(!this.form)for(var u=this.domNode;u&&u.tagName&&u!==document.body;){if("form"==u.tagName.toLowerCase()){this.form=
u;break}u=u.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(u){f.stop(u);this.submit(this.form)}))},supports:function(u){switch(u){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return t("file-multiple");case "FormData":return t(u);
case "sendAsBinary":return t("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(u){return u.substring(u.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(u){var E=Math.round(u/1024*1E5)/1E5,z=Math.round(u/1048576*1E5)/1E5,q=Math.round(u/1073741824*1E5)/1E5,m=u;1<E&&(m=E.toFixed(1)+" kb");1<z&&(m=z.toFixed(1)+" mb");1<q&&(m=q.toFixed(1)+" gb");return{kb:E,mb:z,gb:q,bytes:u,value:m}}})})},"dojox/form/uploader/_HTML5":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo dojo/request dojo/has".split(" "),
function(U,M,r,x,t,l){return U("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(f){this.upload(f[0])})},_drop:function(f){x.stopEvent(f);this._files=f.dataTransfer.files;this.onChange(this.getFileList())},upload:function(f){this.onBegin(this.getFileList());
this.uploadWithFormData(f)},addDropTarget:function(f,g){g||(this.connect(f,"dragenter",x.stopEvent),this.connect(f,"dragover",x.stopEvent),this.connect(f,"dragleave",x.stopEvent));this.connect(f,"drop","_drop")},uploadWithFormData:function(f){function g(q){E._xhrProgress(q);"load"===q.type&&(E.onComplete(z.response.data),z.response.xhr.removeEventListener("load",g,!1),z.response.xhr.upload.removeEventListener("progress",g,!1),z=null)}if(this.getUrl()){var k=new FormData,y=this._getFileFieldName();
r.forEach(this._files,function(q,m){k.append(y,q)},this);if(f){f.uploadType=this.uploadType;for(var u in f)k.append(u,f[u])}var E=this,z=t(this.getUrl(),{method:"POST",data:k,handleAs:"json",uploadProgress:!0,headers:{Accept:"application/json"}},!0);z.promise.response.otherwise(function(q){E.onError(q)});l("native-xhr2")?(z.response.xhr.addEventListener("load",g,!1),z.response.xhr.upload.addEventListener("progress",g,!1)):z.promise.then(function(q){E.onComplete(q)})}},_xhrProgress:function(f){if(f.lengthComputable){var g=
{bytesLoaded:f.loaded,bytesTotal:f.total,type:f.type,timeStamp:f.timeStamp};"load"==f.type?(g.percent="100%",g.decimal=1):(g.decimal=f.loaded/f.total,g.percent=Math.ceil(f.loaded/f.total*100)+"%");this.onProgress(g)}}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(U,M,r,x,t,l,f){return r("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);
"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(g){var k={};this.getForm();var y=this.getUrl(),u=this;g=g||{};g.uploadType=this.uploadType;var E=M.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);t.forEach(this._inputs,function(z,q){""!==z.value&&(E.appendChild(z),k[z.name]=z.value)},this);if(g)for(nm in g)void 0===k[nm]&&M.create("input",{name:nm,value:g[nm],type:"hidden"},E);f.post(y,{form:E,
handleAs:"json",content:g}).then(function(z){M.destroy(E);if(z.ERROR||z.error)u.onError(z);else u.onComplete(z)},function(z){M.destroy(E);u.onError(z)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),function(U,M,r,x,t,l,f,g,k,y){return t("dojox.form.uploader._Flash",[],{swfPath:l.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),
preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");this.inherited(arguments)},onReady:function(u){},onLoad:function(u){},onFileChange:function(u){},onFileProgress:function(u){},getFlashFileList:function(){return this._files},
flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(u){this.onBegin(this.getFileList());u=u||{};u.returnType="F";u.uploadType=this.uploadType;this.flashMovie.doUpload(u)},_change:function(u){this._files=this._files.concat(u);k.forEach(u,function(E){E.bytesLoaded=0;E.bytesTotal=E.size;this._fileMap[E.name+"_"+E.size]=E},this);this.onChange(this._files);this.onFileChange(u)},_complete:function(u){this._getCustomEvent().type="load";this.onComplete(u)},
_progress:function(u){this._fileMap[u.name+"_"+u.bytesTotal].bytesLoaded=u.bytesLoaded;var E=this._getCustomEvent();this.onFileProgress(u);this.onProgress(E)},_error:function(u){this.onError(u)},_onFlashBlur:function(u){},_getCustomEvent:function(){var u={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},E;for(E in this._fileMap)u.bytesTotal+=this._fileMap[E].bytesTotal,u.bytesLoaded+=this._fileMap[E].bytesLoaded;u.decimal=u.bytesLoaded/u.bytesTotal;u.percent=Math.ceil(u.bytesLoaded/
u.bytesTotal*100)+"%";return u},_connectFlash:function(){this._subs=[];this._cons=[];var u=g.hitch(this,function(E,z){this._subs.push(f.subscribe(this.id+E,this,z))});u("/filesSelected","_change");u("/filesUploaded","_complete");u("/filesProgress","_progress");u("/filesError","_error");u("/filesCanceled","onCancel");u("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&x.set(this.domNode,"tabIndex",this.tabIndex)},
_createFlashUploader:function(){var u=this.btnSize.w,E=this.btnSize.h;if(u){var z=this.getUrl();if(z&&0>z.toLowerCase().indexOf("http")&&0!=z.indexOf("/")){var q=window.location.href.split("/");q.pop();q=q.join("/")+"/";z=q+z}this.inputNode=r.create("div",{className:"dojoxFlashNode"},this.domNode,"first");M.set(this.inputNode,{position:"absolute",top:"-2px",width:u+"px",height:E+"px",opacity:0});u={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():
""),width:u,height:E,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:z,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new y(u,this.inputNode);this.flashObject.onError=
g.hitch(function(m){});this.flashObject.onReady=g.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=g.hitch(this,function(m){this.flashMovie=m;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),
function(U,M,r,x,t,l,f,g,k){function y(e){e=U.delegate(E,e);if(!("path"in e))return null;"id"in e||(e.id="dojox-embed-flash-"+u++);return e}var u=0,E={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};if(t("ie")){var z=function(e){e=y(e);if(!e)return null;var d,a=e.path;if(e.vars){var b=[];for(d in e.vars)b.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(e.vars[d]));e.params.FlashVars=b.join("\x26");delete e.vars}a=
'\x3cobject id\x3d"'+k.escape(String(e.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+k.escape(String(e.width))+'" height\x3d"'+k.escape(String(e.height))+'"'+(e.style?' style\x3d"'+k.escape(String(e.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+k.escape(String(a))+'" /\x3e';if(e.params)for(d in e.params)a+='\x3cparam name\x3d"'+k.escape(d)+'" value\x3d"'+k.escape(String(e.params[d]))+'" /\x3e';return{id:e.id,markup:a+"\x3c/object\x3e"}};var q=function(){for(var e=
10,d=null;!d&&7<e;)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e--)}catch(a){}return d?(e=d.GetVariable("$version").split(" ")[1].split(","),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();M.addOnWindowUnload(function(){var e=function(){};x("object").reverse().style("display","none").forEach(function(d){for(var a in d)if("FlashVars"!=a&&"function"==typeof d[a])try{d[a]=e}catch(b){}})})}else z=function(e){e=
y(e);if(!e)return null;var d,a=e.path;if(e.vars){var b=[];for(d in e.vars)b.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(e.vars[d]));e.params.flashVars=b.join("\x26");delete e.vars}a='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+k.escape(String(a))+'" id\x3d"'+k.escape(String(e.id))+'" width\x3d"'+k.escape(String(e.width))+'" height\x3d"'+k.escape(String(e.height))+'"'+(e.style?' style\x3d"'+k.escape(String(e.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';
if(e.params)for(d in e.params)a+=" "+k.escape(d)+'\x3d"'+k.escape(String(e.params[d]))+'"';return{id:e.id,markup:a+" /\x3e"}},q=function(){var e=navigator.plugins["Shockwave Flash"];return e&&e.description?(e=e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();var m=function(e,d){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=q.major;this.minimumVersion=e.minimumVersion||9;this.domNode=this.movie=this.id=null;d&&(d=l.byId(d));setTimeout(U.hitch(this,function(){if(e.expressInstall||this.available&&this.available>=this.minimumVersion)if(e&&d)this.init(e,d);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};U.extend(m,{onReady:function(e){},onLoad:function(e){},onError:function(e){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(e,d){this.destroy();d=l.byId(d||this.domNode);if(!d)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var a=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;m.initialized&&(this.id=m.place(e,d),this.domNode=d,setTimeout(U.hitch(this,
function(){this.movie=this.byId(this.id,e.doc);this.onReady(this.movie);this._poller=setInterval(U.hitch(this,function(){try{a=this.movie.PercentLoaded()}catch(b){}if(100==a)this._onload();else if(0==a&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(e){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var e=U.delegate({id:!0,movie:!0,domNode:!0,
onReady:!0,onLoad:!0}),d;for(d in this)e[d]||delete this[d];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(e,d){d=d||document;return d.embeds[e]?d.embeds[e]:d[e]?d[e]:window[e]?window[e]:document[e]?document[e]:null}});U.mixin(m,{minSupported:8,available:q.major,supported:q.major>=q.required,minimumRequired:q.required,version:q,initialized:!1,onInitialize:function(){m.initialized=!0},__ie_markup__:function(e){return z(e)},proxy:function(e,d){r.forEach(d instanceof Array?
d:[d],function(a){this[a]=U.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+r.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},e)}});m.place=function(e,d){var a=z(e);d=l.byId(d);d||(d=g.doc.createElement("div"),d.id=a.id+"-container",g.body().appendChild(d));return a?(d.innerHTML=a.markup,a.id):null};m.onInitialize();
U.setObject("dojox.embed.Flash",m);return m})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(U,M,r){return U("dijit.ConfirmDialog",[M,r],{})})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(U,M,r,x){return U("dijit._ConfirmDialogMixin",M,{actionBarTemplate:x,buttonOk:r.buttonOk,_setButtonOkAttr:{node:"okButton",
attribute:"label"},buttonCancel:r.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"esri/dijit/Tags":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/html dojo/keys dojo/on dojo/query dojo/string dojo/store/Memory dijit/focus dijit/form/TextBox dijit/registry dijit/Tooltip dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard ../kernel ../lang dojo/i18n!../nls/jsapi dojo/NodeList-traverse dojo/NodeList-manipulate dojo/_base/sniff".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F){c=M([n,c,h],{declaredClass:"esri.dijit.Tags",templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',baseClass:"esriTags",_attachmentNode:"",_autocompleteList:"",_grid:"",_store:"",_matchParam:"",_idProperty:"",_gridId:"",_filterId:"",_placeHolder:"",_noDataMsg:"",_maxWidth:"",_minWidth:"",_inputTextBox:"",_gridHasFocus:!1,_metaKeyPressed:!1,_shiftKeyPressed:!1,_CSS_STYLES:{CLASS_SELECTOR:".",ALL_SELECTOR:"\x3e",MULTI:"select2-container select2-container-multi",
CHOICES:"select2-choices",CHOICE:"select2-search-choice",SEARCH_CHOICE_FOCUS:"select2-search-choice-focus",SEARCH_FIELD:"select2-search-field",CLOSE_ICON:"select2-search-choice-close"},values:[],_selRows:[],_CHOICE_SELECTOR:"",_CHOICE_FOCUS:"",_CHOICE_FOCUS_ALL:"",tooltipPosition:[],constructor:function(v){this._idProperty=v.idProperty||"tag";this._maxWidth=v.maxWidth||"auto";this._minWidth=v.minWidth||"auto";this._matchParam=v.matchParam||"first";this.values=[];this._selRows=[];this._CHOICE_ALL_SELECTOR=
this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE+this._CSS_STYLES.ALL_SELECTOR;this._CHOICE_FOCUS=this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.SEARCH_CHOICE_FOCUS;this._CHOICE_FOCUS_ALL=this._CHOICE_FOCUS+this._CSS_STYLES.ALL_SELECTOR},postMixInProperties:function(){this.inherited(arguments);var v=(new Date).getTime();this._tagsId="userTags-"+v;this._gridId="grid-"+v;this._filterId="filter-"+v;this._isIE8=9>k("ie");this.i18n={};r.mixin(this.i18n,F.widgets.tags)},postCreate:function(){if(this._isIE8)this._textTags=
new d({trim:!0,placeHolder:this.i18n.addTags,style:{minWidth:this.minWidth,maxWidth:this.maxWidth}},f.create("div",{id:this._tagsId},this.domNode)),this._textTags.startup(),l.add(this._textTags.domNode,"ie8Style");else{this._attachmentNode=f.create("div",{id:this._tagsId,className:"grid_1"},this.domNode);this._createContainerNode();this._createTagList();this._createDropDownList();this._createInput();var v=r.hitch(this,function(O,L,J){L=this._inputTextBox?this._inputTextBox.get("value")+"":"";if(1>
L.length)return!0;if(!O.tag)return!1;O=(O.tag+"").toLowerCase().match(new RegExp("^"+L.toLowerCase()));return null!==O&&0<O.length?!0:!1}),C=r.hitch(this,function(O,L,J){L=this._inputTextBox?this._inputTextBox.get("value")+"":"";return 1>L.length?!0:O.tag?(O.tag+"").toLowerCase().indexOf(L.toLowerCase())?!0:!1:!1}),G=[{field:this._idProperty}],H=[{attribute:this._idProperty,ascending:!0}];this._store=new m({idProperty:this._idProperty,data:[]});this._grid=new (M([p,w,B]))({store:this._store,showHeader:!1,
noDataMessage:this.i18n.noTagsFound,selectionMode:"extended",allowSelectAll:!0,cellNavigation:!1,columns:G,sort:H,renderRow:this._renderItem},this._dropDownList);this._grid.startup();l.add(this._grid.domNode,"gridHeightLimiter");this._grid.query="first"===this._matchParam?v:C;var K;this.own(this._inputTextBox.watch("value",r.hitch(this,function(O,L,J){K&&(clearTimeout(K),K=null);this._grid.refresh()})));this.own(this._grid.on(".dgrid-row:click",r.hitch(this,function(O){var L="";this._shiftKeyPressed||
this._metaKeyPressed?O.shiftKey||O.metaKey||O.ctrlKey||(L=this._selRows[0],this._createTags(L),this._store.remove(L),this._grid.refresh(),this._resetInputTextBox()):(L=this._grid.row(O).data.tag,this._createTags(L),this._store.remove(L),this._grid.refresh(),this._resetInputTextBox())})));this.own(this._grid.on("dgrid-deselect",r.hitch(this,function(O){this._selRows=[];for(var L in this._grid.selection)this._grid.selection.hasOwnProperty(L)&&this._selRows.push(L)})));this.own(this._grid.on("dgrid-select",
r.hitch(this,function(O){this._selRows=[];for(var L in this._grid.selection)this._grid.selection.hasOwnProperty(L)&&this._selRows.push(L)})));this.own(this.connect(this.domNode,"keydown","_keydownHandler"));window.onkeydown=r.hitch(this,function(O){if(O.shiftKey||O.ctrlKey||224===O.keyCode)this._metaKeyPressed=!0});this.own(this.connect(document,"onkeydown",r.hitch(this,function(O){this._metaKeyPressed=this._shiftKeyPressed=!0})))}},_keydownHandler:function(v){this._clearMessage();if(void 0!==e.curNode.value)var C=
e.curNode.value.length;var G=z(this._CHOICE_FOCUS,x.byId(this.id)),H=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,x.byId(this.id)).last();switch(v.keyCode){case u.RIGHT_ARROW:this._navigate(G,C,H,"right");this._hideGrid();break;case u.LEFT_ARROW:this._navigate(G,C,H,"left");this._hideGrid();break;case u.DOWN_ARROW:v.preventDefault();this._unhighlightTag(G);"none"===g.get(this._gridId,"display")&&this._showGrid();this._gridHasFocus||(this._grid.focus(this._setFocusOnFirstRow(this._grid,
0)),this._gridHasFocus=!0);break;case u.UP_ARROW:break;case u.BACKSPACE:if(0===C&&0===z(this._CHOICE_FOCUS_ALL).length&&void 0!==z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1]){var K=z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1].title;if(0<z("li",this._attachmentNode).length&&(f.destroy(H[0]),void 0!==K))try{this._store.add({tag:K})}catch(L){}}if(0<z(this._CHOICE_FOCUS_ALL).length&&(K=z(this._CHOICE_FOCUS_ALL).text(),f.destroy(G[0]),void 0!==K))try{this._store.add({tag:K})}catch(L){}this._grid.refresh();
0===C&&this._hideGrid();this._removeTag(K);this._emitRemoved(K);this._emitChanged();this.validate();break;case u.CTRL:this._metaKeyPressed=!0;break;case u.META:this._metaKeyPressed=!0;break;case u.SHIFT:this._shiftKeyPressed=!0;break;case u.ENTER:if(0<C){C=this._stripHTML(e.curNode.value);C=C.split(",");var O=[];U.forEach(C,function(L,J){-1===U.indexOf(O,L)&&O.push(q.trim(L))});U.forEach(O,r.hitch(this,function(L,J){this._isEmpty(L)||this._contains(this.values,L)||this._createTags(L)}))}else{for(C=
0;C<this._selRows.length;C++)this._createTags(this._selRows[C]),this._store.remove(this._selRows[C]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();v.preventDefault();e.focus(x.byId(this._filterId));break;case u.TAB:if(e.curNode.id!==this._filterId||0!==C){if(0<C)C=this._stripHTML(e.curNode.value),C=C.split(","),O=[],U.forEach(C,function(L,J){-1===U.indexOf(O,L)&&O.push(q.trim(L))}),U.forEach(O,r.hitch(this,function(L,J){this._isEmpty(L)||this._contains(this.values,L)||this._createTags(L)}));
else{for(C=0;C<this._selRows.length;C++)this._createTags(this._selRows[C]),this._store.remove(this._selRows[C]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();v.preventDefault();e.focus(x.byId(this._filterId))}break;case u.ESCAPE:this._hideGrid();break;default:-1<C&&("none"===g.get(x.byId(this._gridId),"display")&&this._showGrid(),this._unhighlightTag(G)),this._metaKeyPressed=!1}},_blurHandler:function(v,C,G){if(!this.focused){v=this._stripHTML(this._inputTextBox.value);if(0<
v.length){var H=[];v=v.split(",");U.forEach(v,function(K,O){-1===U.indexOf(H,K)&&H.push(q.trim(K))});U.forEach(H,r.hitch(this,function(K,O){this._isEmpty(K)||this._contains(this.values,K)||this._createTags(K)}));this._resetInputTextBox()}this._hideGrid()}this.validate()},isValid:function(){var v=this.get("value");return this.required?D.isDefined(v)&&0<v.length:!0},validate:function(){this._created&&!this.isValid()?(t.set(this.domNode,"aria-invalid","true"),this._displayMessage(this.i18n.required)):
(t.set(this.domNode,"aria-invalid","false"),this._displayMessage(null))},_clearMessage:function(){this._displayMessage(null)},_displayMessage:function(v){var C=this._isIE8?this._textTags.domNode:x.byId(this._tagsId);v&&this.focused?b.show(v,C):b.hide(C)},_resetInputTextBox:function(){a.byId(this._filterId).set("value","")},_isEmpty:function(v){v=v.replace(/^\s+|\s+$/,"");return 0===v.length?!0:!1},_navigate:function(v,C,G,H){0<v.length&&1>C?("right"===H?this._hightlightTag(v.next()):this._hightlightTag(v.prev()),
this._unhighlightTag(v)):1>C&&this._hightlightTag(G)},_contains:function(v,C){return 0<=U.indexOf(v,C)},_hightlightTag:function(v){v.addClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_unhighlightTag:function(v){v.removeClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_removeTag:function(v){v&&-1!==U.indexOf(this.values,v)&&this.values.splice(U.indexOf(this.values,v),1)},_hideGrid:function(){x.byId(this._gridId)&&g.set(x.byId(this._gridId),"display","none");this._gridHasFocus=!1},_showGrid:function(){g.set(x.byId(this._gridId),
"display","block");var v=g.get(x.byId(this._attachmentNode),"width");g.set(x.byId(this._gridId),"width",v+"px")},_setFocusOnFirstRow:function(v,C){return z(".dgrid-content .dgrid-cell",this._grid.domNode)[C]||z(".dgrid-content .dgrid-row",this._grid.domNode)[C]},_createTags:function(v){z(this._CHOICE_FOCUS,x.byId(this.id)).removeClass("select2-search-choice-focus");var C=f.create("li",null,this._autocompleteList);l.add(C,this._CSS_STYLES.CHOICE);C=f.create("div",{title:v},C);y.set(C,this._htmlEncode(v));
C=f.create("a",{href:"#"},C);l.add(C,this._CSS_STYLES.CLOSE_ICON);E(C,"click",r.hitch(this,function(G){var H=q.trim(G.target.parentElement.textContent);try{this._store.add({tag:H})}catch(K){}this._grid.refresh();this._removeTag(H);this._emitRemoved(H);this._emitChanged();f.destroy(G.target.parentNode.parentNode);G.preventDefault()}));C=a.byId(this._filterId);f.place(C.domNode,this._autocompleteList,"last");this._hideGrid();this.values.push(v);this._emitAdded(v);this._emitChanged()},_emitAdded:function(v){this.emit("tags-add",
{tag:v})},_emitRemoved:function(v){this.emit("tags-remove",{tag:v})},_emitChanged:function(){this.emit("tags-change",{tags:this.get("tags")})},_renderItem:function(v){return f.create("div",{innerHTML:v.tag})},_createContainerNode:function(){this._containerNode=f.create("div",null,this._attachmentNode);l.add(this._containerNode,this._CSS_STYLES.MULTI);g.set(this._containerNode,"maxWidth",this._maxWidth);g.set(this._containerNode,"minWidth",this._minWidth)},_createTagList:function(){this._autocompleteList=
f.create("ul",null,this._containerNode);l.add(this._autocompleteList,this._CSS_STYLES.CHOICES)},_createInput:function(){var v=f.create("li",null,this._autocompleteList,"last");l.add(v,this._CSS_STYLES.SEARCH_FIELD);this._inputTextBox=new d({id:this._filterId,placeHolder:this.i18n.addTags,intermediateChanges:!0,trim:!0,style:{border:"none"}},v);l.add(this._inputTextBox,"inputTextBox");g.set(this._inputTextBox,"width",this._minWidth);(8<k("ie")||4<k("trident"))&&l.add(this._inputTextBox.domNode,"ieStyle");
this.own(e.watch("curNode",r.hitch(this,this._blurHandler)))},_createDropDownList:function(){this._dropDownList=f.create("div",{id:this._gridId},this._containerNode);l.add(this._dropDownList,"dropDownList");g.set(this._dropDownList,"width",this._minWidth)},focus:function(){e.focus(this.domNode);this._isIE8?this._textTags.focus():this._inputTextBox.focus()},reset:function(){this.clearTags()},prepopulate:function(v){U.forEach(v,r.hitch(this,function(C,G){this._createTags(C);this._store.remove(C)}))},
clearTags:function(){var v=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,x.byId(this.id)),C=!1,G;0<v.length&&(C=!0,U.forEach(v,r.hitch(this,function(H,K){try{G=z(this._CHOICE_ALL_SELECTOR,x.byId(this.id))[0].title,this._store.add({tag:G})}catch(O){}f.destroy(H);this._emitRemoved(G)})),this.values=[],C&&this._emitChanged())},addStyledTags:function(v,C){l.add(x.byId(C),this._CSS_STYLES.MULTI);var G=f.create("ul",null,x.byId(C));l.add(G,this._CSS_STYLES.CHOICES);g.set(G,"border","none");
U.forEach(v,function(H,K){var O=f.create("li",null,G);g.set(O,"padding","3px 5px 3px 5px");l.add(O,"select2-search-resultSet");O=f.create("div",{title:H},O);y.set(O,H)})},_getUniqueTags:function(v){var C=[],G;U.forEach(v,r.hitch(this,function(H){G=this._stripHTML(H);D.isDefined(G)&&0<G.length&&C.push(G)}));return U.filter(C,r.hitch(this,function(H,K){return U.indexOf(C,H)===K}))},_setValueAttr:function(v){this._setTagsAttr(v)},_getValueAttr:function(){return this._getTagsAttr()},_setTagsAttr:function(v){!v||
v instanceof Array||(v=v.split(","));this._isIE8?this._textTags&&this._textTags.set("value",this._getUniqueTags(v).join(",")):(this.clearTags(),this.prepopulate(v?this._getUniqueTags(v):[]))},_getTagsAttr:function(){return this._isIE8?this._textTags?this._textTags.get("value"):"":this.values?this.values.join(","):""},_setRequiredAttr:function(v){this.required=v},_getRequiredAttr:function(){return this.required},_setMinWidthAttr:function(v){this.minWidth=v},_setMaxWidthAttr:function(v){this.maxWidth=
v},_setKnownTagsAttr:function(v){if(!this._isIE8){var C=[],G;for(G=0;G<v.length;G++)0>U.indexOf(this.values,v[G])&&C.push(v[G]);this._store=new m({idProperty:this._idProperty,data:C});this._grid.set("store",this._store);this._grid.refresh()}},_stripHTML:function(v){return v&&v.replace(/<(?:.|\s)*?>/g,"")},_htmlEncode:function(v){return v?v.replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;"):v}});r.setObject("dijit.Tags",c,A);return c})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(U,M,r,x,t,l,f,g){function k(B){B.preventDefault()}var y={checkbox:1,radio:1,button:1},u=/\bdgrid-cell\b/,E=/\bdgrid-row\b/,z=U("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=x.mixin({},z.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=x.mixin({},z.defaultHeaderKeyMap))},postCreate:function(){function B(F){var v=F.target;return v.type&&(!y[v.type]||32==F.keyCode)}function A(F){function v(){D._focusedHeaderNode&&
(D._focusedHeaderNode.tabIndex=-1);if(D.showHeader){if(C)for(var O=0,L,J=D.headerNode.getElementsByTagName("th");L=J[O];++O){if(G.test(L.className)){D._focusedHeaderNode=K=L;break}}else D._focusedHeaderNode=K=D.headerNode;K&&(K.tabIndex=D.tabIndex)}}var C=D.cellNavigation,G=C?u:E,H=F===D.headerNode,K=F;H?(v(),M.after(D,"renderHeader",v,!0)):M.after(D,"renderArray",function(O){return g.when(O,function(L){var J=D._focusedNode||K;if(G.test(J.className)&&f.contains(F,J))return L;for(var R=0,X=F.getElementsByTagName("*"),
aa;aa=X[R];++R)if(G.test(aa.className)){J=D._focusedNode=aa;break}J.tabIndex=D.tabIndex;return L})});D._listeners.push(r(F,"mousedown",function(O){B(O)||D._focusOnNode(O.target,H,O)}));D._listeners.push(r(F,"keydown",function(O){if(!O.metaKey&&!O.altKey){var L=D[H?"headerKeyMap":"keyMap"][O.keyCode];L&&!B(O)&&L.call(D,O)}}))}this.inherited(arguments);var D=this;this.tabableHeader&&(A(this.headerNode),this._listeners.push(r(this.headerNode,"dgrid-cellfocusin",function(){D.scrollTo({x:this.scrollLeft})})));
A(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(B){if(!this._focusedNode)return this.inherited(arguments);var A=this,D=document.activeElement===this._focusedNode,F=this[this.cellNavigation?"cell":"row"](this._focusedNode),v=F.row||F,C;B=B.element||B;B===v.element&&((C=this.down(v,!0))&&C.element!==B||(C=this.up(v,!0)),this._removedFocus={active:D,rowId:v.id,columnId:F.column&&F.column.id,siblingId:C&&C.element!==B?C.id:void 0},setTimeout(function(){A._removedFocus&&
A._restoreFocus(v.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(B){var A=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(A);return A},_restoreFocus:function(B){var A=this._removedFocus,D;if((B=(B=B&&this.row(B))&&B.element&&B.id===A.rowId?B:"undefined"!==typeof A.siblingId&&this.row(A.siblingId))&&B.element){if(!B.element.parentNode.parentNode){A.wait=!0;return}"undefined"!==typeof A.columnId&&(D=this.cell(B,A.columnId))&&
D.element&&(B=D);A.active&&0!==B.element.offsetHeight?this._focusOnNode(B,!1,null):(l(B.element,".dgrid-focus"),B.element.tabIndex=this.tabIndex,this._focusedNode=B.element)}delete this._removedFocus},addKeyHandler:function(B,A,D){return M.after(this[D?"headerKeyMap":"keyMap"],B,A,!0)},_ensureRowScroll:function(B){var A=this.getScrollPosition().y;A>B.offsetTop?this.scrollTo({y:B.offsetTop}):A+this.contentNode.offsetHeight<B.offsetTop+B.offsetHeight&&this.scrollTo({y:B.offsetTop-this.contentNode.offsetHeight+
B.offsetHeight})},_ensureColumnScroll:function(B){var A=this.getScrollPosition().x,D=B.offsetLeft;if(A>D)this.scrollTo({x:D});else{var F=this.bodyNode.clientWidth;B=B.offsetWidth;var v=D+B;A+F<v&&this.scrollTo({x:F>B?v-F:D})}},_ensureScroll:function(B,A){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!A&&this._ensureRowScroll(B.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(B.element)},_focusOnNode:function(B,A,D){var F="_focused"+(A?
"Header":"")+"Node",v=this[F],C=this.cellNavigation?"cell":"row",G=this[C](B),H;if(B=G&&G.element){if(this.cellNavigation){var K=B.getElementsByTagName("input");var O=0;for(H=K.length;O<H;O++){var L=K[O];if((-1!=L.tabIndex||"_dgridLastValue"in L)&&!L.disabled){8>t("ie")&&(L.style.position="relative");L.focus();8>t("ie")&&(L.style.position="");var J=!0;break}}}null!==D&&(D=x.mixin({grid:this},D),D.type&&(D.parentType=D.type),D.bubbles||(D.bubbles=!0));v&&(l(v,"!dgrid-focus[!tabIndex]"),8>t("ie")&&
(v.style.position=""),D&&(D[C]=this[C](v),r.emit(v,"dgrid-cellfocusout",D)));v=this[F]=B;D&&(D[C]=G);F=this.cellNavigation?u:E;!J&&F.test(B.className)&&(8>t("ie")&&(B.style.position="relative"),B.tabIndex=this.tabIndex,B.focus());l(B,".dgrid-focus");D&&r.emit(v,"dgrid-cellfocusin",D);this._debouncedEnsureScroll(G,A)}},focusHeader:function(B){this._focusOnNode(B||this._focusedHeaderNode,!0)},focus:function(B){(B=B||this._focusedNode)?this._focusOnNode(B,!1):this.contentNode.focus()}}),q=z.moveFocusVertical=
function(B,A){if(this._focusOnNode&&B.target!==this.contentNode){var D=this.cellNavigation,F=this[D?"cell":"row"](B);F=D&&F.column.id;var v=this.down(this._focusedNode,A,!0);D&&(v=this.cell(v,F));this._focusOnNode(v,!1,B);B.preventDefault()}};U=z.moveFocusUp=function(B){q.call(this,B,-1)};var m=z.moveFocusDown=function(B){q.call(this,B,1)},e=z.moveFocusPageUp=function(B){q.call(this,B,-this.pageSkip)},d=z.moveFocusPageDown=function(B){q.call(this,B,this.pageSkip)},a=z.moveFocusHorizontal=function(B,
A){if(this.cellNavigation&&B.target!==this.contentNode){var D=!this.row(B);this._focusOnNode(this.right(this["_focused"+(D?"Header":"")+"Node"],A),D,B);B.preventDefault()}},b=z.moveFocusLeft=function(B){a.call(this,B,-1)},c=z.moveFocusRight=function(B){a.call(this,B,1)},h=z.moveHeaderFocusEnd=function(B,A){if(this.cellNavigation){var D=this.headerNode.getElementsByTagName("th");this._focusOnNode(D[A?0:D.length-1],!0,B)}B.preventDefault()},n=z.moveHeaderFocusHome=function(B){h.call(this,B,!0)},p=z.moveFocusEnd=
function(B,A){var D=this,F=this.cellNavigation,v=this.contentNode,C=v.scrollTop+(A?0:v.scrollHeight);v=v[A?"firstChild":"lastChild"];var G=-1<v.className.indexOf("dgrid-preload"),H=G?v[(A?"next":"previous")+"Sibling"]:v,K=H.offsetTop+(A?0:H.offsetHeight);if(G){for(;H&&0>H.className.indexOf("dgrid-row");)H=H[(A?"next":"previous")+"Sibling"];if(!H)return}if(!G||1>v.offsetHeight)F&&(H=this.cell(H,this.cell(B).column.id)),this._focusOnNode(H,!1,B);else{t("dom-addeventlistener")||(B=x.mixin({},B));var O=
M.after(this,"renderArray",function(L){O.remove();return g.when(L,function(J){J=J[A?0:J.length-1];F&&(J=D.cell(J,D.cell(B).column.id));D._focusOnNode(J,!1,B)})})}C===K&&B.preventDefault()},w=z.moveFocusHome=function(B){p.call(this,B,!0)};z.defaultKeyMap={32:k,33:e,34:d,35:p,36:w,37:b,38:U,39:c,40:m};z.defaultHeaderKeyMap={32:k,35:h,36:n,37:b,39:c};return z})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(U,M,r){var x=U.NodeList;M.extend(x,{_buildArrayFromCallback:function(t){for(var l=
[],f=0;f<this.length;f++){var g=t.call(this[f],this[f],l);g&&(l=l.concat(g))}return l},_getUniqueAsNodeList:function(t){for(var l=[],f=0,g;g=t[f];f++)1==g.nodeType&&-1==r.indexOf(l,g)&&l.push(g);return this._wrap(l,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(t,l){var f=this._getUniqueAsNodeList(t);f=l?U._filterResult(f,l):f;return f._stash(this)},_getRelatedUniqueNodes:function(t,l){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(l),t)},children:function(t){return this._getRelatedUniqueNodes(t,
function(l,f){return M._toArray(l.childNodes)})},closest:function(t,l){return this._getRelatedUniqueNodes(null,function(f,g){do if(U._filterResult([f],t,l).length)return f;while(f!=l&&(f=f.parentNode)&&1==f.nodeType);return null})},parent:function(t){return this._getRelatedUniqueNodes(t,function(l,f){return l.parentNode})},parents:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[];l.parentNode;)l=l.parentNode,g.push(l);return g})},siblings:function(t){return this._getRelatedUniqueNodes(t,
function(l,f){for(var g=[],k=l.parentNode&&l.parentNode.childNodes,y=0;y<k.length;y++)k[y]!=l&&g.push(k[y]);return g})},next:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=l.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[],k=l;k=k.nextSibling;)1==k.nodeType&&g.push(k);return g})},prev:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=l.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[],k=l;k=k.previousSibling;)1==k.nodeType&&g.push(k);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(t,l){return 0!=l%2})},odd:function(){return this.filter(function(t,l){return 0==
l%2})}});return x})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");U.require("dojox.grid.DataGrid");U.declare("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",
type:"Map Document"},msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",
type:"Map Package"},mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",
type:"Image Collection"},photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1,notebook:esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:
!1},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",
typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",
typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},
gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:r.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:r.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:r.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",
name:"addressFields",select:"addressTypes",editable:"true",type:r.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:r.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',width:"16px",editable:!0,type:r.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(U,M,r,x,t,l,f,g,k){var y=l("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new g(this)},get:function(u,E){if(E&&"_item"==this.field&&!this.fields)return E;if(E&&this.fields){var z=[],q=this.grid.store;M.forEach(this.fields,function(m){z=z.concat(q.getValues(E,m))});return z}return E||"string"!==typeof u?E?this.field?"_item"==this.field?E:this.grid.store.getValue(E,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var u=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,u=!0);this.updating||(this.beginUpdate(),u=!0);if(u){var E=this;this._endUpdateDelay=setTimeout(function(){delete E._endUpdateDelay;E.endUpdate()},this.updateDelay)}}},_onSet:function(u,E,z,q){this._checkUpdateStatus();u=this.getItemIndex(u);-1<u&&this.updateRow(u)},_createItem:function(u,E){var z=this._hasIdentity?this.store.getIdentity(u):x.toJson(this.query)+":idx:"+E+":sort:"+x.toJson(this.getSortProps());
return this._by_idty[z]={idty:z,item:u}},_addItem:function(u,E,z){this._by_idx[E]=this._createItem(u,E);z||this.updateRow(E)},_onNew:function(u,E){this._checkUpdateStatus();var z=this.get("rowCount");this._addingItem=!0;this.updateRowCount(z+1);this._addingItem=!1;this._addItem(u,z);this.showMessage()},_onDelete:function(u){this._checkUpdateStatus();u=this._getItemIndex(u,!0);if(0<=u){this._pages=[];this._eop=this._bop=-1;var E=this._by_idx[u];this._by_idx.splice(u,1);delete this._by_idty[E.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(u)&&(this.selection.deselect(u),this.selection.selected.splice(u,1))},_onRevert:function(){this._refresh()},setStore:function(u,E,z){this._requestsPending(0)||(this._setQuery(E,z),this._setStore(u),this._refresh(!0))},setQuery:function(u,E){this._requestsPending(0)||(this._setQuery(u,E),this._refresh(!0))},setItems:function(u){this.items=u;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(u,E){this.query=u;this.queryOptions=E||this.queryOptions},_setStore:function(u){this.store&&this._store_connects&&M.forEach(this._store_connects,this.disconnect,this);if(this.store=u){u=this.store.getFeatures();var E=[];this._canEdit=!!u["dojo.data.api.Write"]&&!!u["dojo.data.api.Identity"];this._hasIdentity=!!u["dojo.data.api.Identity"];u["dojo.data.api.Notification"]&&!this.items&&(E.push(this.connect(this.store,"onSet","_onSet")),E.push(this.connect(this.store,
"onNew","_onNew")),E.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&E.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=E}},_onFetchBegin:function(u,E){this.scroller&&(this.rowCount!=u&&(E.isRender?(this.scroller.init(u,this.keepRows,this.rowsPerPage),this.rowCount=u,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(u)),u?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(u,E){this.scroller&&(u&&0<u.length&&(M.forEach(u,function(z,q){this._addItem(z,E.start+q,!0)},this),this.updateRows(E.start,u.length),E.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),t("ie")&&k.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[E.start]=
!1)},_onFetchError:function(u,E){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[E.start]=!1;this.onFetchError(u,E)},onFetchError:function(u,E){},_fetch:function(u,E){u=u||0;if(this.store&&!this._pending_requests[u]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[u]=!0;try{if(this.items){var z=this.items,q=this.store;this.rowsPerPage=z.length;
var m={start:u,count:this.rowsPerPage,isRender:E};this._onFetchBegin(z.length,m);var e=0;M.forEach(z,function(a){q.isItemLoaded(a)||e++});if(0===e)this._onFetchComplete(z,m);else{var d=function(a){e--;0===e&&this._onFetchComplete(z,m)};M.forEach(z,function(a){q.isItemLoaded(a)||q.loadItem({item:a,onItem:d,scope:this})},this)}}else this.store.fetch({start:u,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:E,onBegin:r.hitch(this,"_onFetchBegin"),
onComplete:r.hitch(this,"_onFetchComplete"),onError:r.hitch(this,"_onFetchError")})}catch(a){this._onFetchError(a,{start:u,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(u){var E=this._by_idx[u];return!E||E&&!E.item?(this._preparePage(u),null):E.item},getItemIndex:function(u){return this._getItemIndex(u,!1)},_getItemIndex:function(u,E){if(!E&&!this.store.isItem(u))return-1;
for(var z=this._hasIdentity?this.store.getIdentity(u):null,q=0,m=this._by_idx.length;q<m;q++){var e=this._by_idx[q];if(e&&(z&&e.idty==z||e.item===u))return q}return-1},filter:function(u,E){this.query=u;E&&this._clearData();this._fetch()},_getItemAttr:function(u,E){var z=this.getItem(u);return z?this.store.getValue(z,E):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(u){return this._pending_requests[u]},
_rowToPage:function(u){return this.rowsPerPage?Math.floor(u/this.rowsPerPage):u},_pageToRow:function(u){return this.rowsPerPage?this.rowsPerPage*u:u},_preparePage:function(u){(u<this._bop||u>=this._eop)&&!this._addingItem&&(u=this._rowToPage(u),this._needPage(u),this._bop=u*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(u){this._pages[u]||(this._pages[u]=!0,this._requestPage(u))},_requestPage:function(u){u=this._pageToRow(u);0<Math.min(this.rowsPerPage,
this.get("rowCount")-u)&&(this._requests++,this._requestsPending(u)||setTimeout(r.hitch(this,"_fetch",u,!1),1))},getCellName:function(u){return u.field},_refresh:function(u){this._clearData();this._fetch(0,u)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var u=this.getCell(this.getSortIndex());if(u){var E=u.sortDesc,z=!(0<this.sortInfo);return[{attribute:u.field,descending:"undefined"==typeof E?
z:z?!E:E}]}return this.sortFields?this.sortFields:null},styleRowState:function(u){if(this.store&&this.store.getState){for(var E=this.store.getState(u.index),z="",q=0,m=["inflight","error","inserting"],e;e=m[q];q++)if(E[e]){z=" dojoxGridRow-"+e;break}u.customClasses+=z}},onStyleRow:function(u){this.styleRowState(u);this.inherited(arguments)},canEdit:function(u,E){return this._canEdit},_copyAttr:function(u,E){var z=this.getItem(u);return this.store.getValue(z,E)},doStartEdit:function(u,E){this._cache[E]||
(this._cache[E]=this._copyAttr(E,u.field));this.onStartEdit(u,E)},doApplyCellEdit:function(u,E,z){this.store.fetchItemByIdentity({identity:this._by_idx[E].idty,onItem:r.hitch(this,function(q){var m=this.store.getValue(q,z);"number"==typeof m?u=isNaN(u)?u:parseFloat(u):"boolean"==typeof m?u="true"==u?!0:"false"==u?!1:u:m instanceof Date&&(m=new Date(u),u=isNaN(m.getTime())?u:m);this.store.setValue(q,z,u);this.onApplyCellEdit(u,E,z)})})},doCancelEdit:function(u){this._cache[u]&&(this.updateRow(u),delete this._cache[u]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(u,E){this.onApplyEdit(u)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var u=r.hitch(this,function(E){E.length&&(M.forEach(E,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:u}):u(this.selection.getSelected())}}});y.cell_markupFactory=function(u,E,z){var q=r.trim(k.attr(E,"field")||"");q&&(z.field=q);z.field=
z.field||z.name;if(q=r.trim(k.attr(E,"fields")||""))z.fields=q.split(",");u&&u(E,z)};y.markupFactory=function(u,E,z,q){return f.markupFactory(u,E,z,r.partial(y.cell_markupFactory,q))};return y})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(U,M,r){return U("dojox.grid.DataSelection",r,{constructor:function(x){x.keepSelection&&(this.preserver=new M(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var x=
r.prototype.getFirstSelected.call(this);return-1==x?null:this.grid.getItem(x)},getNextSelected:function(x){x=this.grid.getItemIndex(x);x=r.prototype.getNextSelected.call(this,x);return-1==x?null:this.grid.getItem(x)},getSelected:function(){for(var x=[],t=0,l=this.selected.length;t<l;t++)this.selected[t]&&x.push(this.grid.getItem(t));return x},addToSelection:function(x){if("none"!=this.mode){var t=null;t="number"==typeof x||"string"==typeof x?x:this.grid.getItemIndex(x);r.prototype.addToSelection.call(this,
t)}},deselect:function(x){if("none"!=this.mode){var t=null;t="number"==typeof x||"string"==typeof x?x:this.grid.getItemIndex(x);r.prototype.deselect.call(this,t)}},deselectAll:function(x){var t=null;x||"number"==typeof x?(t="number"==typeof x||"string"==typeof x?x:this.grid.getItemIndex(x),r.prototype.deselectAll.call(this,t)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(U,
M,r,x){return U("dojox.grid._SelectionPreserver",null,{constructor:function(t){this.selection=t;var l=this.grid=t.grid;this.reset();this._connects=[M.connect(l,"_setStore",this,"reset"),M.connect(l,"_addItem",this,"_reSelectById"),M.connect(t,"onSelected",r.hitch(this,"_selectById",!0)),M.connect(t,"onDeselected",r.hitch(this,"_selectById",!1)),M.connect(t,"deselectAll",this,"reset")]},destroy:function(){this.reset();x.forEach(this._connects,M.disconnect);delete this._connects},reset:function(){this._selectedById=
{}},_reSelectById:function(t,l){t&&this.grid._hasIdentity&&(this.selection.selected[l]=this._selectedById[this.grid.store.getIdentity(t)])},_selectById:function(t,l){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=l,g=this.grid;if("number"==typeof l||"string"==typeof l)f=(f=g._by_idx[l])&&f.item;f&&(this._selectedById[g.store.getIdentity(f)]=!!t);return f}}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(U,M,r,x){return U("dijit.form.Textarea",[x,r],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);M.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(U,M,r,x,t,l,f){r.add("textarea-needs-help-shrinking",function(){var g=l.body(),k=M.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},g,"last"),y=k.scrollHeight>=k.clientHeight;g.removeChild(k);return y});return U("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(t(g,"focus, resize",x.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",x.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(g){this.inherited(arguments);this.resize()},_estimateHeight:function(){var g=this.textbox;g.rows=(g.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function g(){var e=!1;""===k.value&&(k.value=" ",e=!0);var d=k.scrollHeight;e&&(k.value="");return d}var k=this.textbox;"hidden"==k.style.overflowY&&(k.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(g()||k.offsetHeight){var y=g()+Math.max(k.offsetHeight-k.clientHeight,0),u=y+"px";u!=k.style.height&&(k.style.height=u,k.rows=1);if(r("textarea-needs-help-shrinking")){var E=g(),z=k.style.minHeight,q=4,m=k.scrollTop;k.style.minHeight=u;for(k.style.height="auto";0<y;){k.style.minHeight=
Math.max(y-q,4)+"px";u=g();E-=u;y-=E;if(E<q)break;E=u;q<<=1}k.style.height=y+"px";k.style.minHeight=z;k.scrollTop=m}k.style.overflowY=g()>k.clientHeight?"auto":"hidden";"hidden"==k.style.overflowY&&(k.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"arcgisonline/map/core/sameSpatialReference":function(){define(["esri/lang","arcgisonline/map/utils/contains"],function(U,M){return function(r,x){var t=[102113,102100,3857];return r&&x&&r.wkt==x.wkt&&(r.wkid==x.wkid||U.isDefined(r.latestWkid)&&
r.latestWkid==x.wkid||U.isDefined(x.latestWkid)&&r.wkid==x.latestWkid||U.isDefined(r.latestWkid)&&r.latestWkid==x.latestWkid)||r&&x&&r.wkid&&x.wkid&&M(t,r.wkid)&&M(t,x.wkid)?!0:!1}})},"arcgisonline/sharing/dijit/dialog/_PublishTileServiceDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojo/promise/all,dojo/Deferred,esri/geometry/Extent,arcgisonline/sharing/util"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin");U.require("dojo.promise.all");
U.require("dojo.Deferred");U.require("esri.geometry.Extent");U.require("arcgisonline.sharing.util");U.declare("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin",null,{_util:arcgisonline.sharing.util,SCALE_MIN:5.91657527591555E8,SCALE_MAX:0,tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,
scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},
{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,
scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},tileImageInfo:{format:"PNG32",compressionQuality:0,antialiasing:!0},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128},vectorTilePublishParams:{tilingSchema:{tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:2.95828763795777E8},{level:1,resolution:39135.75848200009,scale:1.47914381897889E8},{level:2,resolution:19567.87924099992,scale:7.3957190948944E7},{level:3,resolution:9783.93962049996,scale:3.6978595474472E7},{level:4,resolution:4891.96981024998,scale:1.8489297737236E7},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,
scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,
resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},
tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}},lods:[{level:0,label:"1:591,657,528",scale:5.91657527591555E8},{level:1,label:"1:295,828,764",scale:2.95828763795777E8},{level:2,label:"1:147,914,382",scale:1.47914381897889E8},{level:3,label:"1:73,957,191",scale:7.3957190948944E7},{level:4,label:"1:36,978,595",scale:3.6978595474472E7},{level:5,label:"1:18,489,298",scale:1.8489297737236E7},
{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,
label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],statusCheckIntervalTime:2500,_fetchFSInfo:function(x){var t=new U.Deferred,l=x&&x.url,f=x?esriGeowConfig.restBaseUrl+"content/items/"+x.id+"/data":null;l&&f?U.promise.all({serviceInfo:this._fetchServiceInfo(l),
layers:this._fetchServiceLayers(l),itemData:this._fetchItemData(f,x)}).then(U.hitch(this,function(g){t.resolve(U.mixin({},g))})):t.reject(this.i18n.publishWizard.errors.noItemUrl||{message:"Item does not specify a url."});return t},_fetchServiceInfo:function(x){return this._util.request({url:x})},_fetchServiceLayers:function(x){return this._util.request({url:x+"/layers"}).then(U.hitch(this,function(t){return{layers:t.layers}}))},_fetchItemData:function(x,t){return this._util.request({url:x}).then(U.hitch(this,
function(l){var f=[],g="features"===this._type,k;U.forEach(l&&l.layers||[],U.hitch(this,function(y,u){y&&(k=U.mixin({},g?{id:y.id}:{id:u,layerUrl:t.url+"/"+y.id,layerItemId:t.id,layerDefinition:y.layerDefinition}),y.popupInfo&&(k=U.mixin(k,{popupInfo:y.popupInfo})),!g&&esri.isDefined(y.showLegend)&&(k=U.mixin(k,{showLegend:y.showLegend})));f.push(k)}));return f&&f.length?U.mixin(l,{layers:f}):null}))},_computeScale:function(x,t){var l={width:esri.config.defaults.map.width,extent:new esri.geometry.Extent(x),
spatialReference:x.spatialReference||t};return esri.geometry.getScale(l)},_fetchTileLayerInfo:function(x,t){var l=new U.Deferred,f=t&&"vectorTiles"===t,g=function(k){return-1<window.location.href.indexOf("https:")&&k&&-1<k.indexOf("http:")};-1<(f?x.indexOf("/VectorTileServer"):x.indexOf("/MapServer"))?this._util.request({url:x,timeout:1E4},{useProxy:g(x),addToken:!1}).then(U.hitch(this,function(k){k&&k.singleFusedMapCache&&k.tileInfo?l.resolve(this._addScaleLabels(k.tileInfo)):k&&f&&k.tileInfo?l.resolve(k.tileInfo):
l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.noTilingSchemeFound})}),U.hitch(this,function(k){l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.mapServiceError})})):l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.badMapServiceUrl});return l},_addScaleLabels:function(x){if(x&&x.lods)return U.forEach(x&&x.lods||[],U.hitch(this,function(t){t.label="1:"+U.number.format(Math.round(t.scale),{pattern:"#,###,###,##0"})})),
x},_calculateConstraints:function(x){var t={minScale:null,maxScale:null},l=function(f){if(!esri.isDefined(t.minScale))t.minScale=f.minScale;else if(f.minScale>t.minScale||0===f.minScale)t.minScale=f.minScale;esri.isDefined(t.maxScale)?f.maxScale<t.maxScale&&(t.maxScale=f.maxScale):t.maxScale=f.maxScale};x?x.layers&&U.forEach(x.layers,l):(t.minScale=this.SCALE_MIN,t.maxScale=this.SCALE_MAX);return t},_normalizeMaxScale:function(x,t,l){if(x<=t&&l){for(t=l.length-1;0<=t;t--)if(x<l[t].scale){var f=t+
2;break}f=f>l.length-1?l.length-1:f;return l[f].scale}return t}})})},"esri/dijit/VisibleScaleRangeSlider":function(){define("../kernel ./_EventedWidget ./_Tooltip ./VisibleScaleRangeSlider/_RecommendedScaleRangeBounds ./VisibleScaleRangeSlider/_SlideEvent ./VisibleScaleRangeSlider/ScaleMenu ./VisibleScaleRangeSlider/ScalePreview ./VisibleScaleRangeSlider/ScaleRanges dijit/form/DropDownButton dijit/popup dojo/_base/array dojo/_base/lang dojo/aspect dojo/debounce dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/string dojox/form/HorizontalRangeSlider dojo/i18n!../nls/jsapi".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w){M=M.createSubclass([r],{declaredClass:"esri.dijit.VisibleScaleRangeSlider",baseClass:"esriVisibleScaleRangeSlider",css:{currentScaleIndicator:"esriCurrentScaleIndicator",currentScaleIndicatorContainer:"esriCurrentScaleIndicatorContainer",scaleIndicator:"esriScaleIndicator",scaleIndicatorContainer:"esriScaleIndicatorContainer"},disabled:!1,map:null,layer:null,region:"en-US",minScale:0,maxScale:0,intermediateChanges:!1,labels:w.widgets.visibleScaleRangeSlider,
_slider:null,_currentScaleIndicator:null,_scalePreview:null,_maxScaleButton:null,_minScaleButton:null,_mapUpdateHandler:null,_scaleRanges:null,_scheduleScaleRangeChangeEmit:null,_getSliderIndexRange:function(B){B=Math.floor(B);return{min:B,max:B+.99999}},_setDisabledAttr:function(B){this._slider.set("disabled",B);this._maxScaleButton.set("disabled",B);this._minScaleButton.set("disabled",B);this._set("disabled",B)},_setMapAttr:function(B){this._set("map",B);this._mapUpdateHandler&&this._mapUpdateHandler.remove();
this._slider.set("disabled",!0);this._ensureMap().then(this._updateFromMap)},_setConstraintsAttr:function(B){this._set("constraints",B);this._setUpSlider({minScale:B.minScale,maxScale:B.maxScale})},_updateFromMap:function(B){var A=B.getMinScale(),D=B.getMaxScale();this._setUpSlider({minScale:A,maxScale:D});this._updateCurrentScaleIndicator();B=B.on("zoom-end",E.hitch(this,this._updateCurrentScaleIndicator));this.own(B);this._mapUpdateHandler=B},_setUpSlider:function(B){var A=B.maxScale;B=B.minScale;
this._slider.set("disabled",this.get("disabled"));this._scaleRanges.set("scaleRangeBounds",{minScale:B,maxScale:A});var D=this._getSliderIndexRange(this._scaleRanges.length-1);this._slider.set("maximum",D.max);this._silentSliderUpdate({maxScale:A,minScale:B})},_ensureMap:function(){return this._untilLoaded(this.map)},_untilLoaded:function(B){var A=new m;if(B)if(B.loaded)A.resolve(B);else B.on("load",function(){A.resolve(B)});else A.reject(Error("could not load resource"));return A.promise},_updateCurrentScaleIndicator:function(){var B=
this._scaleRanges.clampScale(this.map.getScale());B=this._mapScaleToSlider(B)/this._slider.maximum;this.isLeftToRight()||(B=1-B);b.set(this._currentScaleIndicator,{left:100*B+"%"})},_setLayerAttr:function(B){this._set("layer",B);this._ensureScaleRangeProvider().then(this._ensureLayer).then(this._updateMinMaxScaleFromLayer)},_ensureLayer:function(){return this._untilLoaded(this.layer)},_updateMinMaxScaleFromLayer:function(B){this.set({minScale:B.minScale,maxScale:B.maxScale})},_mapSliderToScale:function(B){var A=
this._getSliderIndexRange(B),D=this._scaleRanges.findScaleRangeByIndex(B);return this._mapToRange(B,A.min,A.max,D.minScale,D.maxScale)},_mapToRange:function(B,A,D,F,v){return F+(B-A)*(v-F)/(D-A)},_setRegionAttr:function(B){this._set("region",B);this._scalePreview.set("source",g.getScalePreviewSource(B))},_getMinimumAttr:function(){return this._mapSliderToScale(this._slider.minimum)},_getMaximumAttr:function(){return this._mapSliderToScale(this._slider.maximum)},_getActualMaxScaleAttr:function(){return this._scaleRanges.clampMaxScale(this.maxScale)},
_setMaxScaleAttr:function(B){this._set("maxScale",B);this._ensureScaleRangeProvider().then(E.hitch(this,function(){B=this._scaleRanges.clampMaxScale(B);this._set("maxScale",this._layerConstrainedMaxScale(B));this._silentSliderUpdate({maxScale:B});this._scheduleScaleRangeChangeEmit()}))},_silentSliderUpdate:function(B){var A=B.minScale,D=B.maxScale,F=this._scaleRanges;B=this._slider;void 0!==A&&(A=this._mapScaleToSlider(F.clampMinScale(A)),B.set("value",A,!1,!1));void 0!==D&&(A=this._mapScaleToSlider(F.clampMaxScale(D)),
B.set("value",A,!1,!0))},_mapScaleToSlider:function(B){var A=this._scaleRanges.scaleToRangeIndex(B),D=this._getSliderIndexRange(A);A=this._scaleRanges.findScaleRangeByIndex(A);return this._mapToRange(B,A.minScale,A.maxScale,D.min,D.max)},_getActualMinScaleAttr:function(){return this._scaleRanges.clampMinScale(this.minScale)},_setMinScaleAttr:function(B){this._set("minScale",B);this._ensureScaleRangeProvider().then(E.hitch(this,function(){B=this._scaleRanges.clampMinScale(B);this._set("minScale",this._layerConstrainedMinScale(B));
this._silentSliderUpdate({minScale:B});this._scheduleScaleRangeChangeEmit()}))},_ensureScaleRangeProvider:function(){if(this.map)return this._ensureMap();var B=new m;this.constraints&&B.resolve();return B.promise},_emitScaleRangeChange:function(){this.emit("scale-range-change",{minScale:this.minScale,maxScale:this.maxScale})},_layerConstrainedMinScale:function(B){var A=E.getObject("tileInfo.lods",!1,this.layer)||[];var D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===
this.layer.declaredClass);return 0<A.length&&!D?(A=A[0].scale,D=this._scaleRanges.get("firstRange"),(D=.85<this._mapToRange(B,D.maxScale,D.minScale,0,1))?A:B>A?A:B):this._scaleRanges.beyondMinScale(B)?0:B},_layerConstrainedMaxScale:function(B){var A=E.getObject("tileInfo.lods",!1,this.layer)||[],D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===this.layer.declaredClass);return 0<A.length&&!D?(A=A[A.length-1].scale,B<A?A:B):this._scaleRanges.beyondMaxScale(B)?
0:B},constructor:function(){this._scaleRanges=new (g.createSubclass([x]));this._scheduleScaleRangeChangeEmit=q(E.hitch(this,this._emitScaleRangeChange),0);this._ensureMap=E.hitch(this,this._ensureMap);this._ensureScaleRangeProvider=E.hitch(this,this._ensureScaleRangeProvider);this._ensureLayer=E.hitch(this,this._ensureLayer);this._updateMinMaxScaleFromLayer=E.hitch(this,this._updateMinMaxScaleFromLayer);this._updateFromMap=E.hitch(this,this._updateFromMap)},buildRendering:function(){this.inherited(arguments);
this._initSlider();this._initScalePreview();this._initCurrentScaleIndicator();this._initScaleMenus()},_initSlider:function(){var B=new (p.createSubclass([t]))({baseClass:"esriHorizontalSlider",showButtons:!1,intermediateChanges:this.intermediateChanges,disabled:!0});this._slider=B;B.placeAt(this.domNode);B.startup();this.own(B.on("slide-onmousemove, slidemax-onmousemove",E.hitch(this,function(A){this._updateScalePreview(A.movable.handle)})),B.on("slide-onmovestop, slidemax-onmovestop",E.hitch(this,
function(A){e.contains(A.movable.handle,"dijitSliderThumbHover")||this._closeScalePreview()})),B.on("change",E.hitch(this,function(){var A=Math.round(this._mapSliderToScale(this._getSliderMin())),D=Math.round(this._mapSliderToScale(this._getSliderMax()));this.set({minScale:A,maxScale:D})})),z.after(B,"_setValueAttr",E.hitch(this,this._updateLabelMenus)))},_getSliderMin:function(){return this._slider.get("value")[0]},_getSliderMax:function(){return this._slider.get("value")[1]},_updateLabelMenus:function(){var B=
this._maxScaleButton;this._minScaleButton.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMin()));B.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMax()))},_initScalePreview:function(){var B=new f;B.startup();y.moveOffScreen(B);u.forEach([this._slider._movable.handle,this._slider._movableMax.handle],function(A){A.onmouseenter=E.hitch(this,this._updateScalePreview,A);A.onmouseleave=E.hitch(this,this._closeScalePreview)},this);this.own(B);this._scalePreview=B},_closeScalePreview:function(){y.close(this._scalePreview)},
_updateScalePreview:function(B){if(!this.disabled){var A=this._scalePreview;y.moveOffScreen(A);var D=this._slider,F=B===D.sliderHandle?this._getSliderMin():this._getSliderMax(),v=a.position(B),C=a.position(A.domNode);D=a.position(D.sliderBarContainer);var G=this.isLeftToRight();F=this._scaleRanges.getScalePreviewSpriteBackgroundPosition(F);A.set("backgroundPosition",F);v=v.x-D.x;C=.5*C.w;y.open({parent:this,popup:A,around:B,orient:v<C?G?["above","below"]:["above-alt","below-alt"]:v<D.w-C?["above-centered",
"below-centered"]:G?["above-alt","below-alt"]:["above","below"]})}},_initCurrentScaleIndicator:function(){if(this.map){var B=d.create("div",{className:this.css.scaleIndicatorContainer+" "+this.css.currentScaleIndicatorContainer},this._slider.sliderBarContainer),A=d.create("div",{className:this.css.scaleIndicator+" "+this.css.currentScaleIndicator},B);this._currentScaleIndicator=A;this.createTooltip(A);B=h(A,"mouseover",E.hitch(this,function(){var D=n.substitute(this.labels.currentScaleTooltip,{scaleLabel:this._scaleRanges.getScaleRangeLabel(this._mapScaleToSlider(this.map.getScale()))});
this.findTooltip(A).set("label",D)}));this.own(B)}},_initScaleMenus:function(){var B=new l,A=new l;this.own(B.on("scale-selected",E.hitch(this,function(v){D.closeDropDown();this.set("minScale",v.scale)})));this.own(A.on("scale-selected",E.hitch(this,function(v){F.closeDropDown();this.set("maxScale",v.scale)})));var D=new k({baseClass:"esriScaleMenuButton esriMinScaleMenuButton",dropDown:B,dropDownPosition:["below","above"]});D.toggleDropDown();D.toggleDropDown();var F=new k({baseClass:"esriScaleMenuButton esriMaxScaleMenuButton",
dropDown:A,dropDownPosition:["below","above"]});F.toggleDropDown();F.toggleDropDown();this.own(z.before(D,"openDropDown",E.hitch(this,function(){var v=this._scaleRanges.findScaleRange(this.get("actualMaxScale")).minScale;B.set("options",{label:D.label,scale:{current:this.get("actualMinScale"),map:this._getMapScale(),min:this.get("minimum"),max:v}})})));this.own(z.before(F,"openDropDown",E.hitch(this,function(){var v=this._scaleRanges.findScaleRange(this.get("actualMinScale")).maxScale;A.set("options",
{label:F.label,scale:{current:this.get("actualMaxScale"),map:this._getMapScale(),min:v,max:this.get("maximum")}})})));D.placeAt(this.domNode);F.placeAt(this.domNode);B.startup();A.startup();D.startup();F.startup();this._minScaleButton=D;this._maxScaleButton=F},_getMapScale:function(){return this.map?this.map.getScale():-1},startup:function(){this.inherited(arguments);this.watch("intermediateChanges",function(B,A,D){this._slider.set(B,D)})}});E.setObject("dijit.VisibleScaleRangeSlider",M,U);return M})},
"esri/dijit/_Tooltip":function(){define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(U,M,r,x,t){return r(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments);this._started||M.forEach(this._tooltips,function(l){l.startup()})},destroy:function(){this.inherited(arguments);M.forEach(this._tooltips,function(l){l.destroy()});this._tooltips=null},createTooltips:function(l){M.forEach(l,
function(f){this.createTooltip(f.node,f.label)},this)},createTooltip:function(l,f){var g=this._getConnectId(l);g&&(g="object"===typeof f?x.mixin({},f,{connectId:g}):{connectId:g,label:f},g=new U(g),this._started&&g.startup(),this._tooltips.push(g))},_getConnectId:function(l){var f;if(l){if(x.isArray(l)){var g=[];M.forEach(l,function(k){(f=this._getNode(k))&&g.push(f)});if(0===g.length)return}else if(g=this._getNode(l),!g)return;return g}},_getNode:function(l){return t.byId(l.domNode||l)},findTooltip:function(l){var f=
this._getNode(l),g;if(l){l=this._tooltips;var k=l.length;for(var y=0;y<k;y++){var u=l[y];if(g=x.isArray(u.connectId)?-1<M.indexOf(u.connectId,f):u.connectId===f)return u}}}})})},"esri/dijit/VisibleScaleRangeSlider/_RecommendedScaleRangeBounds":function(){define(["./recommendedScales","dojo/_base/declare"],function(U,M){return M(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._RecommendedScaleRangeBounds",beyondMinScale:function(r){var x=this.get("firstRange"),t=x.minScale;x=U.getRecommendedScale(x.id)||
x.maxScale;return r<=t&&r>x},beyondMaxScale:function(r){var x=this.get("lastRange"),t=x.maxScale;x=U.getRecommendedScale(x.id)||x.minScale;return r<x&&r>=t}})})},"esri/dijit/VisibleScaleRangeSlider/recommendedScales":function(){define(["dojo/_base/lang"],function(U){var M={_recommendedScales:{world:1E8,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,
street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100},getRecommendedScale:function(r){return M._recommendedScales[r]},all:function(){return U.clone(M._recommendedScales)}};return M})},"esri/dijit/VisibleScaleRangeSlider/_SlideEvent":function(){define(["dojo/_base/array","dojo/_base/declare"],function(U,M){return M(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._SlideEvent",_events:["onMouseMove","onFirstMove",{name:"onMoveStop",hookTo:"destroy"}],postCreate:function(){this.inherited(arguments);
this._extendMover(this._movable);this._extendMover(this._movableBar,"rangebar");this._extendMover(this._movableMax,"max")},_extendMover:function(r,x){if(r){var t=r.mover,l={};U.forEach(this._events,function(f){if("object"===typeof f){var g=f.name;var k=f.hookTo}else g=f;var y=t.prototype[g]||function(){};var u="slide"+(x||"")+"-"+g.toLowerCase();var E=function(){y.apply(this,arguments);this.widget.emit(u,{movable:r})};if(k){var z=t.prototype[k];l[k]=function(){z.apply(this,arguments);E.apply(this,
arguments)}}l[g]=E});t.extend(l)}}})})},"esri/dijit/VisibleScaleRangeSlider/ScaleMenu":function(){define("../../kernel ../_EventedWidget ../_Tooltip ./recommendedScales ./ScaleRanges dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/has dojo/keys dojo/number dojo/on dojo/query dojo/string dojox/html/entities dojox/lang/functional/object dojo/i18n!../../nls/jsapi dojo/text!./templates/ScaleMenu.html dijit/form/TextBox".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w){M=g([M,l,f,r],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScaleMenu",templateString:w,baseClass:"esriScaleMenu",labels:p.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",section:"esriSection",content:"esriContent",current:"esriCurrent",input:"esriInput",list:"esriList",item:"esriItem",inline:"esriInline",selectable:"esriSelectable",hidden:"esriHidden"},_elementValueMap:null,_elements:null,_scaleRangeCategories:null,_scaleRanges:null,
_rangeToScaleAndNodeLookup:null,constructor:function(){this._scaleRanges=new t},buildRendering:function(){this.inherited(arguments);this._rangeToScaleAndNodeLookup={map:{scale:null,node:this.dap_mapScaleItem}};var B=this.labels,A=B.featuredScaleLabels,D=x.all(),F=this.css.item+" "+this.css.selectable,v;k.forEach(n.keys(D),function(H){v=A[H];var K=D[H],O=c.substitute(v,{scaleLabel:this._formatScale(K)});O=E.create("li",{innerHTML:O,className:F},this.dap_recommendedScales);this._rangeToScaleAndNodeLookup[H]=
{scale:K,node:O}},this);var C=E.create("span",{innerHTML:B.setTo,className:this.css.inline}),G=E.create("span",{innerHTML:B.selectOne,className:this.css.inline});z.set(this.dap_scaleListHeader,"innerHTML",c.substitute(B.setToSelectOne,{setTo:C.outerHTML,selectOne:G.outerHTML}))},_formatScale:function(B){return"1:"+d.format(B)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,a.selector("."+this.css.item+"."+this.css.selectable,"click"),y.hitch(this,function(B){B=B.target===
this.dap_mapScaleItem?this.options.scale.map:this._parseScale(B.target.innerHTML);this._emitScaleSelected(B)})));this.dap_scaleInput.on("keyDown",y.hitch(this,function(B){B.keyCode===e.ENTER&&this._handleCustomScaleInput()}));this.createTooltip(this.dap_scaleInput,this.labels.customScaleInputTooltip)},_emitScaleSelected:function(B){this.emit("scale-selected",{scale:B})},_handleCustomScaleInput:function(){var B=this._parseScale(this.dap_scaleInput.get("value"));isNaN(B)||this._emitScaleSelected(this._scaleRanges.clampScale(B))},
_parseScale:function(B){B=h.decode(B).replace(/.*\(/,"").replace(/\).*$/,"").replace(/.*1:/,"").replace(/[^0-9.\s]/g,"");return d.parse(B)},_setOptionsAttr:function(B){var A=B.scale,D=this._formatScale(A.current);z.set(this.dap_currentScaleLabel,"innerHTML",B.label);this.dap_scaleInput.set("value",D,!1);D=c.substitute(this.labels.featuredScaleLabels.current,{scaleLabel:this._formatScale(A.map)});this._rangeToScaleAndNodeLookup.map.scale=A.map;z.set(this.dap_mapScaleItem,"innerHTML",D);u.toggle(this.dap_mapScaleItem,
this.css.hidden,-1===A.map);this._scaleRanges.set("scaleRangeBounds",{minScale:A.min,maxScale:A.max});this._hideOutOfScaleRanges();this._set("options",B)},_hideOutOfScaleRanges:function(){var B=b("."+this.css.item+"."+this.css.selectable,this.dap_recommendedScales),A=this._scaleRanges;k.forEach(n.keys(this._rangeToScaleAndNodeLookup),function(D){D=this._rangeToScaleAndNodeLookup[D];u.toggle(D.node,this.css.hidden,!A.contains(D.scale))},this);B=B.every(function(D){return"none"===q.get(D,"display")});
u.toggle(this.dap_recommendedScaleSection,this.css.hidden,B)}});y.setObject("dijit.ScaleMenu",M,U);return M})},"esri/dijit/VisibleScaleRangeSlider/ScaleRanges":function(){define(["./scalePreviewUtil","dojo/_base/array","dojo/_base/declare","dojo/Stateful","dojo/i18n!../../nls/jsapi"],function(U,M,r,x,t){r=r(x,{_scaleRangeStops:[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},
{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"state",minScale:3999999},{id:"states",minScale:6999999},{id:"country",minScale:14999999},{id:"countries",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}],_allRanges:null,_ranges:null,length:0,constructor:function(){this._allRanges=
this.getScaleRanges()},_scaleRangeBoundsSetter:function(l){this._ranges=l=this.getScaleRanges(l.maxScale,l.minScale);this.length=l.length},getScaleRanges:function(l,f){var g=this._scaleRangeStops,k=g.length;l=0<=l?l:0;f=0<f?f:g[k-1].minScale;var y=l;var u=[];for(var E=0;E<k;E++){var z=Math.min(g[E].minScale,f);var q=Math.min(z,f);l<=z&&y<f&&u.push({id:g[E].id,maxScale:Math.max(y,l),minScale:q});y=q+1}u.reverse();return this._ensureValidBoundaryRanges(u)},_ensureValidBoundaryRanges:function(l){var f=
l[0];f.minScale===f.maxScale&&(l.shift(),l[0].minScale+=1);f=l[l.length-1];f.minScale===f.maxScale&&(l.pop(),--l[l.length-1].maxScale);return l},getScalePreviewSpriteBackgroundPosition:function(l){l=this._toFullRangeIndex(l);return U.getScalePreviewSpriteBackgroundPosition(l)},_toFullRangeIndex:function(l){l=this.findScaleRangeByIndex(Math.floor(l));for(var f=this._allRanges,g=f.length,k=0,y=0;y<g;y++)if(f[y].id===l.id){k=y;break}return k},getScaleRangeLabel:function(l){l=this._ranges[this._clampScaleRangeIndex(l)];
return t.widgets.visibleScaleRangeSlider.scaleRangeLabels[l.id]},findScaleRange:function(l){var f=this._ranges;if(l>=f[0].maxScale)return f[0];if(l<=f[f.length-1].minScale)return f[f.length-1];for(var g=0;g<f.length;g++){var k=f[g];if(l>=k.maxScale&&l<=k.minScale){var y=k;break}}return y},findScaleRangeByIndex:function(l){l=this._clampScaleRangeIndex(l);return this._ranges[l]},clampScale:function(l){return Math.min(this.get("minScale"),Math.max(this.get("maxScale"),l))},_minScaleGetter:function(){return this.get("firstRange").minScale},
_maxScaleGetter:function(){return this.get("lastRange").maxScale},_firstRangeGetter:function(){return this._ranges[0]},_lastRangeGetter:function(){var l=this._ranges;return l[l.length-1]},clampMinScale:function(l){return 0===l?this.get("minScale"):this.clampScale(l)},clampMaxScale:function(l){return this.clampScale(l)},_clampScaleRangeIndex:function(l){if(0>=l)return 0;var f=this._ranges.length-1;return l>f?f:Math.floor(l)},scaleToRangeIndex:function(l){return M.indexOf(this._ranges,this.findScaleRange(l))},
contains:function(l){for(var f=this._ranges,g=!1,k,y=0;y<f.length;y++)if(k=f[y],l>=k.maxScale&&l<=k.minScale){g=!0;break}return g}});r.getScalePreviewSource=function(l){return U.getScalePreviewSource(l)};return r})},"esri/dijit/VisibleScaleRangeSlider/scalePreviewUtil":function(){define(["dojo/_base/array","require"],function(U,M){var r={_supportedRegions:"ar-iq ar-kw bg-bg cs-cz da-dk da-gl da-gl de-at de-ch de-de de-li el-gr en-ae en-au en-ca en-ca en-eg en-gb en-hk en-id en-ie en-ie en-il en-in en-iq en-ke en-lu en-mo en-my en-nz en-rw en-sg en-us en-us en-vi en-vi en-wo en-za es-ar es-ar es-bo es-bo es-cl es-cl es-co es-co es-cr es-cr es-es es-gt es-gt es-mx es-mx es-ni es-ni es-pe es-pe es-pr es-pr es-sv es-sv es-ve et-ee fi-fi fi-fi fr-ci fr-fr fr-ma fr-mg fr-ml fr-tn is-is is-is it-it ja-jp ja-jp ko-kr lt-lt lv-lv nl-be nl-nl nl-sr nl-sr nn-no nn-no pl-pl pt-br pt-br pt-pt ro-ro ru-ru sk-sk sv-se sv-se th-th zh-cn zh-tw".split(" "),
_defaultRegion:"en-us",_getSupportedRegion:function(x){x=x?x.toLowerCase():"";return-1<U.indexOf(r._supportedRegions,x)?x:r._defaultRegion},getScalePreviewSource:function(x){x="./images/scalePreview/"+r._getSupportedRegion(x)+".jpg";return"url("+M.toUrl(x)+")"},getScalePreviewSpriteBackgroundPosition:function(x){return"-"+x%5*128+"px -"+128*Math.floor(x/5)+"px"}};return r})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(U,M,r){var x={};
M.mixin(r,{keys:function(t){var l=[],f;for(f in t)f in x||l.push(f);return l},values:function(t){var l=[],f;for(f in t)f in x||l.push(t[f]);return l},filterIn:function(t,l,f){f=f||U.global;l=r.lambda(l);var g={},k;for(k in t)if(!(k in x)){var y=t[k];l.call(f,y,k,t)&&(g[k]=y)}return g},forIn:function(t,l,f){f=f||U.global;l=r.lambda(l);for(var g in t)g in x||l.call(f,t[g],g,t);return f},mapIn:function(t,l,f){f=f||U.global;l=r.lambda(l);var g={},k;for(k in t)k in x||(g[k]=l.call(f,t[k],k,t));return g}});
return r})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(U,M,r){var x=M.getObject("lang.functional",!0,U),t={},l=1<"ab".split(/a*/).length?String.prototype.split:function(k){var y=this.split.call(this,k);(k=k.exec(this))&&0==k.index&&y.unshift("");return y},f=function(k){var y=[],u=l.call(k,/\s*->\s*/m);if(1<u.length)for(;u.length;)k=u.pop(),y=u.pop().split(/\s*,\s*|\s+/m),u.length&&u.push("(function("+y.join(", ")+"){ return ("+k+"); })");
else if(k.match(/\b_\b/))y=["_"];else{u=k.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var E=k.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(u||E)u&&(y.push("$1"),k="$1"+k),E&&(y.push("$2"),k+="$2");else{u=k.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var z={};r.forEach(u,function(q){z.hasOwnProperty(q)||(y.push(q),z[q]=1)})}}return{args:y,body:k}},g=function(k){return k.length?function(){var y=k.length-1,u=x.lambda(k[y]).apply(this,arguments);for(--y;0<=y;--y)u=x.lambda(k[y]).call(this,u);return u}:function(y){return y}};M.mixin(x,{rawLambda:function(k){return f(k)},buildLambda:function(k){k=f(k);return"function("+k.args.join(",")+"){return ("+k.body+");}"},lambda:function(k){if("function"==typeof k)return k;
if(k instanceof Array)return g(k);if(t.hasOwnProperty(k))return t[k];var y=f(k);return t[k]=new Function(y.args,"return ("+y.body+");")},clearLambdaCache:function(){t={}}});return x})},"esri/dijit/VisibleScaleRangeSlider/ScalePreview":function(){define("../../kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has dojo/i18n!../../nls/jsapi dojo/text!./templates/ScalePreview.html".split(" "),function(U,M,r,x,t,l,f,g,k){M=x([r,M],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScalePreview",
baseClass:"esriScalePreview",templateString:k,labels:g.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",thumbnail:"esriThumbnail"},source:null,_setSourceAttr:function(y){this.source!==y&&(this._set("source",y),l.set(this.dap_scalePreviewThumbnail,"backgroundImage",y))},backgroundPosition:null,_setBackgroundPositionAttr:function(y){this.backgroundPosition!==y&&(this._set("backgroundPosition",y),l.set(this.dap_scalePreviewThumbnail,"backgroundPosition",y))}});t.setObject("dijit.ScalePreview",
M,U);return M})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(U,M,r,x){return U("dojox.form.HorizontalRangeSlider",[x,M],{templateString:r})})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){var e=function(b,c){return b-c};y=U("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=r.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(e);var b=this,c=U(d,{constructor:function(){this.widget=b}});this._movableMax=new E(this.sliderHandleMax,{mover:c});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);c=U(a,{constructor:function(){this.widget=b}});this._movableBar=new E(this.progressBar,{mover:c});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var c=b.target===this.sliderHandleMax,h=b.target===this.progressBar,n=M.delegate(k,this.isLeftToRight()?{PREV_ARROW:k.LEFT_ARROW,NEXT_ARROW:k.RIGHT_ARROW}:{PREV_ARROW:k.RIGHT_ARROW,NEXT_ARROW:k.LEFT_ARROW}),p=0,w=!1;switch(b.keyCode){case n.HOME:this._setValueAttr(this.minimum,!0,c);t.stop(b);return;case n.END:this._setValueAttr(this.maximum,!0,c);t.stop(b);return;case n.PREV_ARROW:case n.DOWN_ARROW:w=
!0;case n.NEXT_ARROW:case n.UP_ARROW:p=1;break;case n.PAGE_DOWN:w=!0;case n.PAGE_UP:p=this.pageIncrement;break;default:this.inherited(arguments);return}w&&(p=-p);p&&(h?this._bumpValue([{change:p,useMaxValue:!1},{change:p,useMaxValue:!0}]):this._bumpValue(p,c),t.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(l("ie")||q.focus(this.sliderHandleMax),t.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,
c){var h=M.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,c);this._setValueAttr(h,!0,c)},_getBumpValue:function(b,c){var h=c?1:0,n=f.getComputedStyle(this.sliderBarContainer),p=g.getContentBox(this.sliderBarContainer,n);n=this.discreteValues;h=this.value[h];if(1>=n||Infinity==n)n=p[this._pixelCount];n--;h=this.maximum>this.minimum?(h-this.minimum)*n/(this.maximum-this.minimum)+b:0;0>h&&(h=0);h>n&&(h=n);return h*(this.maximum-
this.minimum)/n+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(l("ie")||q.focus(this.progressBar),t.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){l("ie")||q.focus(this.progressBar);var c=g.position(this.sliderBarContainer,!0),h=g.position(this.progressBar,!0),n=b[this._mousePixelCoord],p=h[this._startingPixelCoord];h=p+h[this._pixelCount];p=this._isReversed()?n<=p:n>=h;n=this._isReversed()?c[this._pixelCount]-n+c[this._startingPixelCoord]:n-c[this._startingPixelCoord];
this._setPixelValue(n,c[this._pixelCount],!0,p);t.stop(b)}},_setPixelValue:function(b,c,h,n){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,c),this._setValueAttr(b,h,n))},_getValueByPixelValue:function(b,c){var h=this.discreteValues;if(1>=h||Infinity==h)h=c;h--;return(this.maximum-this.minimum)*Math.round((0>b?0:c<b?c:b)/(c/h))/h+this.minimum},_setValueAttr:function(b,c,h){var n=M.clone(this.value);M.isArray(b)?n=b:n[h?1:0]=b;this._lastValueReported="";this.valueNode.value=b=n;n.sort(e);
this.sliderHandle.setAttribute("aria-valuenow",n[0]);this.sliderHandleMax.setAttribute("aria-valuenow",n[1]);z.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(c,h)},_printSliderBar:function(b,c){var h=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,n=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,p=h;h>n&&(h=n,n=p);var w=this._isReversed()?100*(1-h):100*h,B=this._isReversed()?100*(1-n):100*n,A=this._isReversed()?
100*(1-n):100*h;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),p=this.slideDuration/10,0!==p){0>p&&(p=0-p);var D={},F={},v={};D[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:w,units:"%"};F[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:B,units:"%"};v[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:A,units:"%"};v[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(n-h),units:"%"};h=x.animateProperty({node:this.sliderHandle.parentNode,duration:p,properties:D});n=x.animateProperty({node:this.sliderHandleMax.parentNode,duration:p,properties:F});p=x.animateProperty({node:this.progressBar,duration:p,properties:v});m.combine([h,n,p]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=w+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
B+"%",this.progressBar.style[this._handleOffsetCoord]=A+"%",this.progressBar.style[this._progressPixelSize]=100*(n-h)+"%"}});var d=U("dijit.form._SliderMoverMax",u,{onMouseMove:function(b){var c=this.widget,h=c._abspos;h||(h=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=M.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());b=b[c._mousePixelCoord]-h[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?h[c._pixelCount]-b:b,h[c._pixelCount],!1,!0)},destroy:function(b){u.prototype.destroy.apply(this,
arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),a=U("dijit.form._SliderBarMover",u,{onMouseMove:function(b){var c=this.widget;if(!c.disabled&&!c.readOnly){var h=c._abspos,n=c._bar,p=c._mouseOffset;h||(h=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=M.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=M.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());n||(n=c._bar=g.position(c.progressBar,!0));p||(p=c._mouseOffset=b[c._mousePixelCoord]-n[c._startingPixelCoord]);
b=b[c._mousePixelCoord]-h[c._startingPixelCoord]-p;pixelValues=[b,b+n[c._pixelCount]];pixelValues.sort(e);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=n[c._pixelCount]);pixelValues[1]>=h[c._pixelCount]&&(pixelValues[1]=h[c._pixelCount],pixelValues[0]=h[c._pixelCount]-n[c._pixelCount]);h=[c._getValueByPixelValue(c._isReversed_?h[c._pixelCount]-pixelValues[0]:pixelValues[0],h[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?h[c._pixelCount]-pixelValues[1]:pixelValues[1],h[c._pixelCount])];
c._setValueAttr(h,!1,!1)}},destroy:function(){u.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return y})},"dojox/fx":function(){define(["./fx/_base"],function(U){return U})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(U,M,r,x,t,l,f,g,k){U=M.getObject("dojox.fx",!0);
M.mixin(U,{anim:r.anim,animateProperty:r.animateProperty,fadeTo:r._fade,fadeIn:r.fadeIn,fadeOut:r.fadeOut,combine:x.combine,chain:x.chain,slideTo:x.slideTo,wipeIn:x.wipeIn,wipeOut:x.wipeOut});U.sizeTo=function(y){var u=y.node=t.byId(y.node),E=y.method||"chain";y.duration||(y.duration=500);"chain"==E&&(y.duration=Math.floor(y.duration/2));var z,q,m,e,d,a=null,b=function(c){return function(){var h=l.getComputedStyle(c),n=h.position,p=h.width,w=h.height;z="absolute"==n?c.offsetTop:parseInt(h.top)||0;
m="absolute"==n?c.offsetLeft:parseInt(h.left)||0;d="auto"==p?0:parseInt(p);a="auto"==w?0:parseInt(w);e=m-Math.floor((y.width-d)/2);q=z-Math.floor((y.height-a)/2);"absolute"!=n&&"relative"!=n&&(h=l.coords(c,!0),z=h.y,m=h.x,c.style.position="absolute",c.style.top=z+"px",c.style.left=m+"px")}}(u);u=r.animateProperty(M.mixin({properties:{height:function(){b();return{end:y.height||0,start:a}},top:function(){return{start:z,end:q}}}},y));E=r.animateProperty(M.mixin({properties:{width:function(){return{start:d,
end:y.width||0}},left:function(){return{start:m,end:e}}}},y));return x["combine"==y.method?"combine":"chain"]([u,E])};U.slideBy=function(y){var u,E,z=function(q){return function(){var m=l.getComputedStyle(q),e=m.position;u="absolute"==e?q.offsetTop:parseInt(m.top)||0;E="absolute"==e?q.offsetLeft:parseInt(m.left)||0;"absolute"!=e&&"relative"!=e&&(m=f.coords(q,!0),u=m.y,E=m.x,q.style.position="absolute",q.style.top=u+"px",q.style.left=E+"px")}}(y.node=t.byId(y.node));z();y=r.animateProperty(M.mixin({properties:{top:u+
(y.top||0),left:E+(y.left||0)}},y));g.connect(y,"beforeBegin",y,z);return y};U.crossFade=function(y){var u=y.nodes[0]=t.byId(y.nodes[0]),E=k.style(u,"opacity"),z=y.nodes[1]=t.byId(y.nodes[1]);k.style(z,"opacity");return x.combine([r[0==E?"fadeIn":"fadeOut"](M.mixin({node:u},y)),r[0==E?"fadeOut":"fadeIn"](M.mixin({node:z},y))])};U.highlight=function(y){var u=y.node=t.byId(y.node);y.duration=y.duration||400;var E=y.color||"#ffff99",z=k.style(u,"backgroundColor");"rgba(0, 0, 0, 0)"==z&&(z="transparent");
y=r.animateProperty(M.mixin({properties:{backgroundColor:{start:E,end:z}}},y));"transparent"==z&&g.connect(y,"onEnd",y,function(){u.style.backgroundColor=z});return y};U.wipeTo=function(y){y.node=t.byId(y.node);var u=y.node,E=u.style,z=y.width?"width":"height",q={};q[z]={start:function(){E.overflow="hidden";if("hidden"==E.visibility||"none"==E.display)return E[z]="1px",E.display="",E.visibility="",1;var m=k.style(u,z);return Math.max(m,1)},end:y[z]};return r.animateProperty(M.mixin({properties:q},
y))};return U})},"arcgisonline/pages/isGeographic":function(){define(["require","exports","tslib","esri/WKIDUnitConversion"],function(U,M,r,x){x=r.__importDefault(x);return function(t){t=t||{};return t.wkid?!x["default"].hasOwnProperty(t.wkid):t.wkt?/^\s*GEOGCS/i.test(t.wkt):!1}})},"arcgisonline/pages/components/SelectLayerProperties":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),function(U,M,r,x,t,l){Object.defineProperty(M,"__esModule",
{value:!0});t=r.__importDefault(t);l=r.__importDefault(l);U=function(f){function g(){var k=null!==f&&f.apply(this,arguments)||this;k.state={active:!0,layerProperties:k.props.layerProperties};k.excludedFieldTypes=["esriFieldTypeOID","esriFieldTypeGlobalID"];k.toggleLayerPropertyField=function(y,u){var E=r.__spreadArray([],k.state.layerProperties),z=l["default"].findIndex(E,function(m){return m.id===y});if(-1<z){var q=E[z];l["default"].includes(q.additionalFields,u)?(q.additionalFields=l["default"].filterOut(q.additionalFields,
[u]),0===q.additionalFields.length&&E.splice(z,1)):q.additionalFields.push(u)}else E.push({id:y,additionalFields:[u]});k.setState({layerProperties:E})};k.save=function(){k.setState({active:!1});k.props.onSubmit(k.state.layerProperties)};k.cancel=function(){k.setState({active:!1,layerProperties:k.props.layerProperties});setTimeout(function(){k.props.onCancel()},400)};return k}r.__extends(g,f);g.prototype.componentWillUnmount=function(){document.documentElement.classList.remove("overflow-hidden")};
g.prototype.render=function(){var k=this,y,u=this.props,E=u.layers,z=u.onSubmit,q=this.state;u=q.active;var m=q.layerProperties;q=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuild:t["default"].itemProperties.configureAttributes.description;var e=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuildCache:t["default"].itemProperties.configureAttributes.select;E=null!==(y=null===E||void 0===E?void 0:E.map(function(d,a){var b,c=d.id,h=d.name,n=d.fields;
n=null!==(b=null===n||void 0===n?void 0:n.map(function(p,w){var B=p.type,A=p.name,D=p.alias,F=(m||[]).some(function(v){return(null===v||void 0===v?void 0:v.id)===c&&-1<v.additionalFields.indexOf(A)});return l["default"].includes(k.excludedFieldTypes,B)?null:x.h("label",{"class":"font-size--2 trailer-0",key:w},x.h("input",{type:"checkbox",checked:F,onChange:function(){return k.toggleLayerPropertyField(c,A)}})," ",D||A)}))&&void 0!==b?b:n;return x.h(x.Fragment,{key:a},x.h("div",{"class":"avenir-demi"},
h),x.h("div",{"class":"margin-left-1"},n))}))&&void 0!==y?y:E;return x.h("calcite-modal",{active:u,"intl-close":t["default"].common.close,role:"dialog","aria-modal":"true",oncalciteModalClose:this.cancel,"disable-outside-close":!0},x.h("h3",{slot:"header","class":"font-size-2 trailer-0"},t["default"].itemProperties.configureAttributes.selectAttributes),x.h("div",{slot:"content","class":"position-relative"},x.h("div",{"class":"trailer-half"},q),E),x.h("calcite-button",{slot:"secondary",width:"full",
appearance:"outline",color:"blue",onClick:function(){return k.cancel()}},t["default"].common.cancel),x.h("calcite-button",{slot:"primary",width:"full",color:"blue",appearance:"solid",onClick:function(){z(m)}},e))};return g}(x.Component);M["default"]=U})},"arcgisonline/sharing/dijit/dialog/CreateAppDlg":function(){define("require esri/declare esri/Evented esri/kernel esri/lang esri/request dojo/_base/lang dojo/_base/window dojo/_base/array dojo/topic dojo/string dojo/query dojo/on dojo/json dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/Deferred dojo/when dojo/io-query dojox/widget/Wizard dojox/widget/WizardPane dijit/Dialog dijit/registry ./ConfirmDialog ./ItemPropertiesDlg ./BrowseItemsDlg ./ConfirmDialog ./_CreateItemUtilMixin ../../../esriGeowConfig ../../../pages/utils/arrays ../../../map/utils/previewInTemplate ../../../map/utils/openMap dijit/_WidgetBase arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa){return M([R,r],{showModal:function(ea){var ka=new h,ma=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},sa=ea.isWab,za="Web Scene"===ma.type,ha=X.getHomeAppContext(),V=ea.message,la,T=new F({title:ea.title||aa.itemProperties.createNewApp,buttonOk:aa.common.ok,buttonCancel:aa.common.cancel,busyMessage:aa.addItemFrm.addingItem,style:{width:"550px",height:"auto"}}),P=new v({typeInfo:sa?
"wab":"configapp",message:V||(sa?aa.items.createWABMessage:aa.itemProperties.createAppTitle),showFolders:!0,showFile:!1,item:ma});this.item&&(P.set("summary",this.item.isHostedTemplate?"":this.item.snippet),P.set("title",this.item.isHostedTemplate?"":this.item.title),P.set("tags",this.item.isHostedTemplate?[]:this.item.tags),K.self.hasCategorySchema&&P.set("categories",this.item.categories||[]));T.setContent(P.domNode);T.show();P.set("focus","title");this.own(z(T,"ok",f.hitch(this,function(){y.publish("/esri/disable",
!0,aa.addItemFrm.addingItem);P._validate().then(f.hitch(this,function(){sa?(ma=f.mixin({},P.get("item")),T.hide().then(f.hitch(this,function(){this.redirectToAppBuilder(ma)}))):(la=P.get("item"),this.item.isHostedTemplate||(la=f.mixin(la,{shareWithWebMap:!0},za?{webSceneId:this.item.id}:{webMapId:this.item.id})),X.isPortal()&&ma.url&&0===ma.url.indexOf("/")&&ma.url&&-1===ma.url.indexOf(ha)&&(ma.url=ha+ma.url),H.createTemplatedApplication(la,ma,this.item.portal,this.item).then(function(I){la=I;T.hide()}))}),
f.hitch(this,function(I){y.publish("/esri/disable",!1);this._showError(I)}))})),z(T,"hide",function(){ka.resolve(la)}));return ka},showWizard:function(ea){var ka=new h,ma=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},sa=new A({title:aa.items.newWebMappingAppTitle,"class":"esriCreateAppDlg"}),za=this.item&&this.item.portal||ea.portal||{};ea=this.item?O.includes(ma.types,"is-map"):!0;var ha="Web Scene"===ma.type,V;ea=ea?this.item?"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":
"arcgisonline/sharing/dijit/dialog/PluginConfigurableApps":"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer";var la=[new C({messageLeft:aa.browseItemsDlg.instructionsLeft,messageRight:aa.browseItemsDlg.instructionsRight,item:this.item,"class":"esriBrowseItemsDlg"}),new v({message:aa.itemProperties.createAppTitle,typeInfo:"configapp",showFolders:!0,showFile:!1,showUrl:!1,item:this.item})],T=f.hitch(this,function(S){y.publish("/esri/disable",S,aa.addItemFrm.addingItem);E(".dojoxWizardButtons .dijitButton").map(D.byNode).forEach(function(Y){Y.set("disabled",
S)})}),P=f.hitch(this,function(S){return S._validate()}),I=y.subscribe("/esri/browseitems/close",f.hitch(this,function(S,Y){if("create-app"===S)ca.nextButton.onClick();else"on-view-item"===S?window.open("item.html?id\x3d"+Y.id):"download-app"===S?X.downloadWebMappingApp(Y):"preview-app"===S&&L(ma,Y)})),ba=f.hitch(this,function(S){S._validate().then(f.hitch(this,function(Y){T(!0);Y=la[0].get("selection");var Z=X.getHomeAppContext(),da=la[1].get("item");X.isPortal()&&Y.url&&0===Y.url.indexOf("/")&&
Y.url&&-1===Y.url.indexOf(Z)&&(Y.url=Z+Y.url);V=da;this.item&&!this.item.isHostedTemplate&&(V=f.mixin(V,{shareWithWebMap:!0},ha?{webSceneId:this.item.id}:{webMapId:this.item.id}));H.createTemplatedApplication(da,Y,za,this.item).then(f.hitch(this,function(fa){this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label});sa.hide().then(f.hitch(this,function(){setTimeout(function(){window.location=fa.configureUrl},400)}))}),f.hitch(this,function(fa){T(!1);
this._showError(fa)}))}),f.hitch(this,function(Y){T(!1);this._showError(Y)}))}),W=f.hitch(this,function(S){sa.hide().then(f.hitch(this,function(){ka.resolve(!1)}))}),ca=new w({nextButtonLabel:aa.publishWizard.nextButtonLabel,previousButtonLabel:aa.publishWizard.previousButtonLabel,doneButtonLabel:aa.publishWizard.doneButtonLabel,cancelButtonLabel:aa.publishWizard.cancelButtonLabel,"class":"esriCreateApp",hideDisabled:!0,doneFunction:ba,cancelFunction:W}),Q=la[1];la[0].addPlugin(ea);var N=z(sa,"hide",
f.hitch(this,function(S){N.remove();k.forEach(la,function(Y){Y.destroyRecursive();Y=null});I.remove();ca.destroyRecursive();sa.destroyRecursive();(S=document.getElementById("create-dropdown"))&&S.focus()}));k.forEach(la,function(S,Y){(new B({content:S.domNode,passFunction:f.partial(P,S),doneFunction:Y===la.length-1?f.partial(ba,S):null})).placeAt(ca)});m.after(ca,"_checkButtons",function(){ca.selectedChildWidget.isFirstChild?ca.nextButton.domNode.style.display="none":ca.selectedChildWidget.isLastChild&&
Q.set("focus","title")});E(".dojoxWizardButtons",ca.domNode).addClass("esriFloatTrailing");a.add(ca.nextButton.domNode,["calcite","primary"]);a.add(ca.cancelButton.domNode,["calcite","cancel"]);a.add(ca.previousButton.domNode,["calcite","default btn-back icon-ui-left"]);a.add(ca.doneButton.domNode,["calcite","primary"]);this.item&&(Q.set("summary",this.item.isHostedTemplate?"":this.item.snippet),Q.set("title",this.item.isHostedTemplate?"":this.item.title),Q.set("tags",this.item.isHostedTemplate?"":
this.item.tags),K.self.hasCategorySchema&&Q.set("categories",this.item.categories||[]));ca.startup();b.create("span",{"class":"spinner hide",innerHTML:aa.common.pleaseWait},E(".dojoxWizardButtons",ca.domNode)[0],"first");sa.setContent(ca.domNode);sa.show().then(function(){sa.closeButtonNode&&(sa.closeButtonNode.tabIndex=0)}.bind(this));document.documentElement.scrollTop=document.body.scrollTop=(document.documentElement.scrollTop||document.body.scrollTop)+1;return ka},showCreateDefaultItem:function(ea){var ka=
new F({title:ea.title||aa.common.create,buttonOk:aa.common.ok,buttonCancel:aa.common.cancel,style:{width:"550px",height:"auto"}}),ma=ea.typeInfo,sa=new v({typeInfo:ma,item:ea.item,message:ea.message,showFolders:!0,showFile:!1,showUrl:ea.showUrl}),za=null;"dashboard_map"===ma&&ea&&ea.item&&(sa.set("title",ea.item.title),K.self.hasCategorySchema&&sa.set("categories",ea.item.categories||[]));ka.setContent(sa.domNode);ka.show();z(ka,"hide",function(){var la=document.getElementById("create-dropdown");
la&&la.focus()});var ha=z(ka.okButton,"click",f.hitch(this,function(){ea.isWAB?sa._validate().then(f.hitch(this,function(la){za=sa.get("item");this.telemetry&&this.label&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label,attribute:sa.wab2DRadio.checked?"2d":"3d"});ka.hide().then(f.hitch(this,function(){setTimeout(function(){this.redirectToAppBuilder(za)}.bind(this),400)}))}),f.hitch(this,function(la){this._showError(la)})):sa.addItem().then(f.hitch(this,
function(la){ka.hide().then(f.hitch(this,function(){V.remove();ha.remove();"webmap"===ma?J(la.id):"webscene"===ma||"webscene_portal"===ma?window.location="./webscene/viewer.html?webscene\x3d"+la.id:"urbanmodel"===ma?window.location=(K.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+la.id:"dashboard"===ma||"dashboard_map"===ma?(this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:"dashboard"}),setTimeout(function(){this.redirectToAppBuilder(la)}.bind(this),
400)):window.location="ipynb"===ma||"notebook"===ma?"notebook/notebook.html?id\x3d"+la.id:"item.html?id\x3d"+(la.serviceItemId||la.id)+(la.jobId?"\x26jobid\x3d"+la.jobId:"")}))}),f.hitch(this,function(la){this._showError(la)}))}));var V=z.once(ka.cancelButton,"click",f.hitch(this,function(){V.remove();ha.remove()}))},redirectToAppBuilder:function(ea){ea.folderId&&"/"!==ea.folderId&&(ea.folder=ea.folderId);var ka={title:ea.title,tags:ea.tags,summary:ea.snippet,folder:ea.folder,appType:ea.wabType},
ma="Dashboard"===ea.type?"../apps/dashboards/"+ea.id+"#mode\x3dedit":"../apps/webappbuilder/index.html?";K.self.hasCategorySchema&&ea.categories&&ea.categories.length&&f.mixin(ka,{categories:q.stringify(ea.categories)});ea.wabType&&(ka=f.mixin(ka,{appType:ea.wabType,webmap:ea.webmap}),ma+=p.objectToQuery(ka));window.location=ma},_showError:function(ea){ea=f.mixin(f.mixin({},aa.publishWizard.errors.error),ea);this._errorDlg=new F({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ea).then(f.hitch(this,
function(){this._errorDlg.hide()}));return!1}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(U,M,r,x,t,l,f,g){return M("dojox.widget.Wizard",[x,t,l],{templateString:g,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",
cancelFunction:null,hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var k=U.mixin({cancel:f.getLocalization("dijit","common",this.lang).buttonCancel},f.getLocalization("dojox.widget","Wizard",this.lang)),y;for(y in k)this[y+"ButtonLabel"]||(this[y+"ButtonLabel"]=k[y])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(U.isString(this.cancelFunction)&&
(this.cancelFunction=U.getObject(this.cancelFunction)),this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=r.subscribe(this.id+"-selectChild",U.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var k=this.selectedChildWidget,y=k.isLastChild||this.nextButton.get("disabled");this.nextButton.set("disabled",
y);this._setButtonClass(this.nextButton);k.doneFunction?(this.doneButton.domNode.style.display="",y&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(k){k.domNode.style.display=this.hideDisabled&&k.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},
destroy:function(){r.unsubscribe(this._subscription);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){l("dijit-legacy-requires")&&k(0,function(){require(["dijit/layout/StackController"])});r=r("dijit.layout.StackContainer",q,{doLayout:!0,
persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);x.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var m=this.getChildren();U.forEach(m,this._setupChild,this);this.persist?this.selectedChildWidget=E.byId(M(this.id+"_selectedChild")):U.some(m,function(d){d.selected&&(this.selectedChildWidget=d);return d.selected},
this);var e=this.selectedChildWidget;!e&&m[0]&&(e=this.selectedChildWidget=m[0],e.selected=!0);y.publish(this.id+"-startup",{children:m,selected:e,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var m=this.selectedChildWidget;m&&this._showChild(m)}this.inherited(arguments)},_setupChild:function(m){var e=m.domNode,d=t.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",m.domNode,"replace"),a=
m["aria-label"]||m.title||m.label;a&&d.setAttribute("aria-label",a);t.place(e,d);m._wrapper=d;this.inherited(arguments);"none"==e.style.display&&(e.style.display="block");m.domNode.removeAttribute("title")},addChild:function(m,e){this.inherited(arguments);this._started&&(y.publish(this.id+"-addChild",m,e),this.layout(),this.selectedChildWidget||this.selectChild(m))},removeChild:function(m){var e=U.indexOf(this.getChildren(),m);this.inherited(arguments);t.destroy(m._wrapper);delete m._wrapper;this._started&&
y.publish(this.id+"-removeChild",m);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===m&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(e-1,0)])}this._started&&this.layout()}},selectChild:function(m,e){m=E.byId(m);if(this.selectedChildWidget!=m){var d=this._transition(m,this.selectedChildWidget,e);this._set("selectedChildWidget",m);y.publish(this.id+"-selectChild",m,this._focused);this.persist&&M(this.id+"_selectedChild",
this.selectedChildWidget.id)}return u(d||!0)},_transition:function(m,e){e&&this._hideChild(e);var d=this._showChild(m);m.resize&&(this.doLayout?m.resize(this._containerContentBox||this._contentBox):m.resize());return d},_adjacent:function(m){var e=this.getChildren(),d=U.indexOf(e,this.selectedChildWidget);d+=m?1:e.length-1;return e[d%e.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(m){y.publish(this.id+
"-containerKeyDown",{e:m,page:this})},layout:function(){var m=this.selectedChildWidget;m&&m.resize&&(this.doLayout?m.resize(this._containerContentBox||this._contentBox):m.resize())},_showChild:function(m){var e=this.getChildren();m.isFirstChild=m==e[0];m.isLastChild=m==e[e.length-1];m._set("selected",!0);m._wrapper&&x.replace(m._wrapper,"dijitVisible","dijitHidden");return m._onShow&&m._onShow()||!0},_hideChild:function(m){m._set("selected",!1);m._wrapper&&x.replace(m._wrapper,"dijitHidden","dijitVisible");
m.onHide&&m.onHide()},closeChild:function(m){if(!m.onClose||m.onClose(this,m))this.removeChild(m),m.destroyRecursive()},destroyDescendants:function(m){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;U.forEach(this.getChildren(),function(e){m||this.removeChild(e);e.destroyRecursive(m)},this);this._descendantsBeingDestroyed=!1}});r.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(z,r.ChildWidgetProperties);return r})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dijit/layout/ContentPane"],function(U,M,r){return M("dojox.widget.WizardPane",r,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);U.isString(this.passFunction)&&(this.passFunction=U.getObject(this.passFunction));U.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=U.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},
_checkPass:function(){var x=!0;if(this.passFunction&&U.isFunction(this.passFunction)){var t=this.passFunction();switch(typeof t){case "boolean":x=t;break;case "string":alert(t),x=!1}}return x},done:function(){this.doneFunction&&U.isFunction(this.doneFunction)&&this.doneFunction()}})})},"arcgisonline/sharing/dijit/dialog/BrowseItemsDlg":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/mouse dojo/topic dojo/query dojo/parser dijit/registry dijit/TooltipDialog dijit/popup dojo/promise/all dojo/Deferred dgrid/Grid dgrid/extensions/Pagination dgrid/OnDemandGrid dgrid/Selection dgrid/selector dgrid/Keyboard dgrid/util/mouse dgrid/util/touch put-selector/put dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/arcgis/Portal esri/Evented esri/PluginTarget arcgisonline/sharing/util arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig ./_AppTemplateFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline ../_RefreshMixin ../_Empty dojo/NodeList-dom".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za,ha){var V=U(null,{idProperty:"id",constructor:function(la){U.safeMixin(this,la)},get:function(la,T){return J.PortalUtil.request(this.portalUrl+"content/items/"+la,T).then(function(P){return new J.PortalItem(M.mixin(P,{portal:this.portal}))})},getIdentity:function(la){return la[this.idProperty]},query:function(la,T){var P=M.isObject(la)?la:{q:la};if(T&&(P=M.mixin(P,{num:T.count,start:(T.start||0)+
1}),T.sort&&T.sort.length)){var I=T.sort[0];P=M.mixin(P,{sortField:encodeURIComponent("created"===I.attribute?"uploaded":I.attribute),sortOrder:I.descending?"desc":"asc"})}P=this.portal.queryItems(P,!0).then(function(ba){ba.results.total=ba.total;return ba.results});return J.PortalResult(P)}});return U("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg",[K,O,L,X],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"top-bar clearfix"\x3e\x3cdiv  class\x3d"left instructions"\x3e\x3cspan class\x3d"font-size-0 messageLeft hide" data-dojo-attach-point\x3d"messageNodeLeft"\x3e\x3c/span\x3e\x3ch2 class\x3d"font-size-0 trailer-0 inline-block messageRight"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"messageNodeRight"\x3e\x3c/span\x3e\x3ca data-dojo-attach-point\x3d"helpLink" class\x3d"icon-ui-question icon-ui-flush margin-left-half hide" title\x3d"${i18n.common.learnMoreConfigurableApps}" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}_search"class\x3d"searchBar right"\x3e\x3cinput tabIndex\x3d"0" placeholder\x3d"${i18n.search.searchTitle}" aria-label \x3d"${i18n.search.searchTitle}" class\x3d"esriSearchBox dijitTextBox" type\x3d"search"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gallery"\x3e\x3cdiv class\x3d"gallery-left  quiet-scroll"\x3e\x3cul class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"templates gallery-right"\x3e\x3cp id\x3d"${id}_filterTitle" class\x3d"filter-title hide" data-dojo-attach-point\x3d"filterDescription"\x3e\x3c/p\x3e\x3cdiv id\x3d"${id}_grid"class\x3d"dgrid-autoheight quiet-scroll"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"loader-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv  data-dojo-attach-point\x3d"infoPanel" id\x3d"template-info-panel"\x3e\x3c/div\x3e\x3c/div\x3e',
galleryTemplate:'\x3cdiv style\x3d\'opacity:1;\' class\x3d\'grid-item gallery-view\' tabIndex\x3d"0" aria-label\x3d"${item.title}"\x3e\x3cdiv class\x3d\'grid-item-thumbnail-wrap\'\x3e${item:_formatThumbnail}\x3cp class\x3d"template-overlay" style\x3d"display:none;"\x3e${i18n.browseItemsDlg.selectDetails}\x3c/p\x3e\x3c/div\x3e${item:_formatItemTitle}\x3c/div\x3e',infoPanelTemplate:'\x3cdiv class\x3d"template-info-wrapper"\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"on-next"\x3e${i18n.browseItemsDlg.configure}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
baseClass:"esriBrowseItems",i18n:sa,postCreate:function(){this.inherited(arguments);this._portalUser=(this._portal=ka.portal)&&(this._portal.user||this._portal.getPortalUser());ea.getSelf(M.hitch(this,function(la){this._canSearchPublic=la.canSearchPublic;this._currentFilter=M.mixin(this._currentFilter||{},{get:function(T){return M.isArray(this[T])&&1<this[T].length?"("+this[T].join(" OR ")+") ":this[T]?this[T]+" ":""},toString:function(){return{q:this.get("groups")+this.get("tags")+this.get("persistentTypekeywords")+
this.get("typekeywords")+this.get("types")+(this.query||"")+(this.search||"")+' -type:"Attachment"'}}});la.canSearchPublic=!0;this._portal?this.itemQuery&&this._fetchData():(this._portal=new J.Portal({url:ka.restBaseUrl,self:la}),this._portal.on("load",M.hitch(this,function(){this.addPlugin(this.plugin).then(M.hitch(this,function(){}))})));e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide")}))},destroy:function(){this.inherited(arguments);this._grid&&this._grid.destroy();
this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove());this._queryTimer&&clearTimeout(this._queryTimer);this._grid=this._portal=null},addPlugin:function(la){var T=new n;la?this.inherited(arguments).then(M.hitch(this,function(P){this.galleryTemplate=this.plugIn&&this.plugIn.galleryTemplate||this.galleryTemplate;(this.helpLinkUrl=this.plugIn&&this.plugIn.helpLinkUrl||"")?(g.set(this.helpLink,"href",this.helpLinkUrl),l.remove(this.helpLink,"hide")):l.add(this.helpLink,"hide");
this._fetchData().then(function(){T.resolve(P)})})):T.resolve(!0);return T},_setItemQueryAttr:function(la){this.itemQuery=la},_setPluginAttr:function(la){this.plugin=la},_setMessageAttr:function(la){this.set("messageRight",la)},_setMessageRightAttr:function(la){g.set(this.messageNodeRight,"innerHTML",la);l.remove(this.messageNodeRight,"hide")},_setMessageLeftAttr:function(la){g.set(this.messageNodeLeft,"innerHTML",la);l.remove(this.messageNodeLeft,"hide")},_setDisabledAttr:function(la){var T=a.findWidgets(this.domNode).concat(a.findWidgets(this._content));
r.forEach(T,function(P){P.set("disabled",la)});l[la?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_setSortAttr:function(la){this.sortAttribute=la},_setSortDescendingAttr:function(la){this.sortDescending=la},_getSelectionAttr:function(){var la=this._grid.selection,T;for(T in la)break;return T&&this._grid.row(T).data},_getInfoPanelTemplateAttr:function(){return this.plugIn&&this.plugIn.infoPanelTemplate||this.infoPanelTemplate},_getGalleryTemplateAttr:function(){return this.plugIn&&
this.plugIn.galleryTemplate||this.galleryTemplate},_validate:function(){return!!this.get("selection")},_clearQueryTimeout:function(){clearTimeout(this._queryTimer);this._queryTimer=null},_clearClosePanelTimeout:function(){clearTimeout(this._panelClosing);this._panelClosing=null;r.forEach(this._panelClickHandles,"item.remove();");z.empty("template-info-panel")},_createGrid:function(){var la=U([p,w,A,F,za]),T=new H(new V({portal:this._portal})),P=this._currentFilter,I=M.hitch(this,function(ba){ba.snippet=
ba.snippet||"";ba.title=ba.title||"";var W=G("div");ba=k.substitute(this.get("galleryTemplate"),{item:ba,i18n:sa},null,this);z.place(ba,W);return W});this._grid=new la({store:T,query:P.toString(),selectionMode:"single",pagingLinks:2,rowsPerPage:this.plugIn&&this.plugIn.rowsPerPage||8,noDataMessage:k.substitute(ha,{message:sa.emptyStates.noContentAvailable,width:256}),showLoadingMessage:!1,renderRow:I,sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},this.id+"_grid");
this._grid.startup();this.own(y(this.domNode,"click",M.hitch(this,function(ba){E.byId("close-panel")&&E.byId("close-panel").click()})),this._grid.addKeyHandler(13,M.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.addKeyHandler(32,M.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.on(v.enterRow,M.hitch(this,function(ba){!1===l.contains(this.domNode,"showing")&&this._showOverlay(!0,ba)})),this._grid.on(v.leaveRow,M.hitch(this,function(ba){this._showOverlay(!1,
ba)})),this._grid.on(".dgrid-row:click",M.hitch(this,function(ba){if(!1===l.contains(this.domNode,"showing")){ba.preventDefault();t.stop(ba);this._clearClosePanelTimeout();var W=this.get("selection");this._showOverlay(!1,ba);z.place(k.substitute(this.get("infoPanelTemplate"),{item:W,i18n:sa,previewButtonWidth:this._previewButtonWidth(W),hideDownload:this._hideDownload(W)},function(ca){return esri.isDefined(ca)?ca:""},this),this.infoPanel);l.add(this.domNode,"showing");m.publish("/esri/browseitems/showInfoTemplate",
!0);setTimeout(M.hitch(this,function(){e("#template-info-panel *",this.domNode).forEach(function(Q){Q.tabIndex=0});var ca=this.domNode.querySelector("#create-app");ca&&ca.focus()}),500);this._panelClickHandles=[e(".template-info-showing .thumbnail img",this.domNode).on("error",M.hitch(this,function(ca){g.set(ca.target,"src",W.thumbnailUrl)})),e(".panel-actions .btn").on("click",M.hitch(this,function(ca){ca.preventDefault();t.stop(ca);"close-panel"===ca.target.id?(l.remove(this.domNode,"showing"),
e("#template-info-panel *",this.domNode).forEach(function(Q){Q.tabIndex=-1}),m.publish("/esri/browseitems/showInfoTemplate",!1),this._panelClosing=setTimeout(M.hitch(this,function(){r.forEach(void 0,"item.remove();")},250))):m.publish("/esri/browseitems/close",ca.target.id,this.get("selection"))})),e("#template-info-panel").on("click",M.hitch(this,function(ca){ca.preventDefault();t.stop(ca)}))]}})),this._grid.on("dgrid-refresh-complete",M.hitch(this,function(ba){e(".templates",this.domNode).removeClass("fade");
e("#loader-wrap",this.domNode).addClass("hide");e(".dgrid-footer",this.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide")})),this._grid.on("refresh",M.hitch(this,function(){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=e(".grid-item-thumb",this._grid.domNode).on("load",M.hitch(this,function(ba){(ba=this._grid.row(ba))&&ba.element&&e(".grid-item",ba.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=e(".grid-item-thumb",this._grid.domNode).on("error",M.hitch(this,function(ba){g.set(ba.target,"src",aa.getStaticImagesUrl()+"/desktopapp.png")}))})),y(E.byId(this.id+"_search"),"keyup, input",M.hitch(this,function(ba){ba.preventDefault();this._clearQueryTimeout();this._queryTimer=setTimeout(M.hitch(this,function(){this._currentFilter.search=g.get(ba.target,"value");this._fetchItems(this._currentFilter).then(M.hitch(this,function(){this._clearQueryTimeout()}))}),this.searchKeypressDelay||
450)})),y(E.byId(this.id+"_search"),"search",M.hitch(this,function(ba){this._queryTimer||(ba.preventDefault(),this._currentFilter.search=g.get(ba.target,"value"),this._fetchItems(this._currentFilter))})))},_createFilters:function(){if(this.plugIn&&this.plugIn.filters){var la=this.plugIn.filters,T=this.plugIn.filterStrings,P=e(".filters",this.domNode)[0];for(I in la)z.create("li",{"class":"instant"===I?"active":"",innerHTML:"\x3ca id\x3d'"+I+"'  href\x3d'#'\x3e"+T[I].title+"\x3c/a\x3e"},P);var I=M.mixin({},
la.instant||{});this._currentFilter.tags=r.map(I.tags||[],function(ba){return'tags:"'+ba+'"'});this._currentFilter.typekeywords=[].concat(r.map(I.typekeywords||[],function(ba){return'typekeywords:"'+ba+'"'}));this.plugIn.filters.instant&&(g.set(this.filterDescription,"innerHTML",sa.appTemplateFilters.instant.description),this.filterDescription.classList.remove("hide"));this.own(y(P,"li a:click",M.hitch(this,function(ba){ba.preventDefault();var W=ba.target;e(".active",P).removeClass("active");l.add(W.parentNode,
"active");e(".templates",this.domNode).addClass("fade");setTimeout(M.hitch(this,function(){l["all"===W.id?"add":"remove"](this.filterDescription,"hide");var ca=this._portal.isPortal&&T[W.id].descriptionPortal||T[W.id].description||"";"narrate"===W.id&&this._portal.isPortal&&(ca=ka.baseUrl.replace("/home/","/apps/storymaps/"),ca=k.substitute(T[W.id].descriptionPortal,{linkStart:'\x3ca href\x3d"'+ca+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));g.set(this.filterDescription,"innerHTML",ca)}),225);
ba=M.mixin({},la[W.id]||{});this._currentFilter.tags=r.map(ba.tags||[],function(ca){return'tags:"'+ca+'"'});this._currentFilter.typekeywords=[].concat(r.map(ba.typekeywords||[],function(ca){return'typekeywords:"'+ca+'"'}));this._fetchItems(this._currentFilter)})));l.add(this.domNode,"filters")}else l.add(this.domNode,"nofilters"+(this.plugIn&&this.plugIn.extraClasses?" "+this.plugIn.extraClasses.join(" "):""))},_showOverlay:function(la,T){var P=this._grid.row(T);P&&e(".template-overlay",P.element).style("display",
la?"":"none")},_fetchData:function(){if(this._portal)return this._user=this._portalUser||this._portal&&this._portal.getPortalUser(),this.plugIn&&this.plugIn.fetchData?this.plugIn.fetchData():this._fetchItems(this.itemQuery);var la=new n;la.resolve(!1);return la},_fetchItems:function(la,T){var P={sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},I=new n;e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide");e("#loader-wrap",this.domNode).removeClass("hide");
setTimeout(M.hitch(this,function(){this._currentFilter=M.mixin(this._currentFilter,la);this._grid?this._grid.set("query",this._currentFilter.toString(),P):(this._createFilters(),this._createGrid());I.resolve(this._grid)}),60);return I},_formatThumbnail:function(la){var T=la.thumbnailUrl||aa.getStaticImagesUrl()+"/desktopapp.png";la.thumbnailUrl=T;return"\x3cimg class\x3d'grid-item-thumb' width\x3d'187px' height\x3d'125px' alt\x3d'' src\x3d'"+T+"'\x3e"},_formatInfoPanelImage:function(la){var T=la.screenshots&&
la.screenshots.length?la.screenshots[0]:null;return T?la.itemUrl+"/info/"+T:la.thumbnailUrl},_formatItemTitle:function(la){return"\x3ch3 class\x3d'font-size-0 trailer-0'\x3e"+(la.title||la.name||"\x3cNo Title\x3e")+"\x3c/h3\x3e"},_hideDownload:function(la){var T=la.typeKeywords&&-1<la.typeKeywords.indexOf("indoors"),P=la.typeKeywords&&-1<la.typeKeywords.indexOf("instantApp"),I=la.typeKeywords&&-1<la.typeKeywords.indexOf("story"),ba=la.typeKeywords&&-1<la.typeKeywords.indexOf("Configurable")&&-1<la.typeKeywords.indexOf("createAppWithoutMap");
la="/apps/instant/filtergallery/index.html"===la.url&&-1<window.location.pathname.indexOf("group.html");var W=ka.self.isPortal;return T||P||la||W&&ba&&!P&&!T&&!I?"hide":""},_previewButtonWidth:function(la){return"hide"===this._hideDownload(la)?"btn-wide":""}})})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E){function z(m){m.noDataNode?(y(m.noDataNode,"!"),delete m.noDataNode):m.cleanup();m.contentNode.innerHTML=""}function q(m){if(m.loadingNode)y(m.loadingNode,"!"),delete m.loadingNode;else if(m._oldPageNodes){for(var e in m._oldPageNodes)m.removeRow(m._oldPageNodes[e]);delete m._oldPageNodes;m._oldPageObserver&&(m._oldPageObserver.cancel(),m._numObservers--,delete m._oldPageObserver)}delete m._isLoading}return M("dgrid.extensions.Pagination",U,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:E,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var m=this,e=this.paginationNode=y(this.footerNode,"div.dgrid-pagination"),d=this.paginationStatusNode=y(e,"div.dgrid-status"),a=this.i18nPagination;d.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();d.innerHTML=g.substitute(a.status,{start:1,end:1,total:0});e=this.paginationNavigationNode=
y(e,"div.dgrid-navigation");this.firstLastArrows&&(d=this.paginationFirstNode=y(e,"span.dgrid-first.dgrid-page-link","\u00ab"),d.setAttribute("aria-label",a.gotoFirst),d.tabIndex=0);this.previousNextArrows&&(d=this.paginationPreviousNode=y(e,"span.dgrid-previous.dgrid-page-link","\u2039"),d.setAttribute("aria-label",a.gotoPrev),d.tabIndex=0);this.paginationLinksNode=y(e,"span.dgrid-pagination-links");this.previousNextArrows&&(d=this.paginationNextNode=y(e,"span.dgrid-next.dgrid-page-link","\u203a"),
d.setAttribute("aria-label",a.gotoNext),d.tabIndex=0);this.firstLastArrows&&(d=this.paginationLastNode=y(e,"span.dgrid-last.dgrid-page-link","\u00bb"),d.setAttribute("aria-label",a.gotoLast),d.tabIndex=0);this._listeners.push(l(e,".dgrid-page-link:click,.dgrid-page-link:keydown",function(b){if("keydown"!==b.type||13===b.keyCode)if(b=this.className,!(m._isLoading||-1<b.indexOf("dgrid-page-disabled"))){var c=m._currentPage;var h=Math.ceil(m._total/m.rowsPerPage);this===m.paginationPreviousNode?m.gotoPage(c-
1):this===m.paginationNextNode?m.gotoPage(c+1):this===m.paginationFirstNode?m.gotoPage(1):this===m.paginationLastNode?m.gotoPage(h):"dgrid-page-link"===b&&m.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var m=this.pageSizeOptions,e=this.paginationSizeSelect;if(m&&m.length){if(!e){e=this.paginationSizeSelect=y(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var d=this._paginationSizeChangeHandle=l(e,"change",x.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(d)}for(d=e.options.length=0;d<m.length;d++)y(e,"option",m[d],{value:m[d],selected:this.rowsPerPage===m[d]});this._updateRowsPerPageOption()}else m&&m.length||!e||(y(e,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(m){this.pageSizeOptions=m&&m.sort(function(e,
d){return e-d});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var m=this.rowsPerPage,e=this.pageSizeOptions,d=this.paginationSizeSelect;d&&(0>r.indexOf(e,m)?this._setPageSizeOptions(e.concat([m])):d.value=""+m)},_setRowsPerPage:function(m){this.rowsPerPage=m;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function m(F,v){if(d.pagingTextBox&&F==c&&1<p){var C=y(b,"input.dgrid-page-input[type\x3dtext][value\x3d$]",c);C.setAttribute("aria-label",
a.jumpPage);d._pagingTextBoxHandle=l(C,"change",function(){var H=+this.value;!isNaN(H)&&0<H&&H<=p&&d.gotoPage(+this.value)});B&&"INPUT"===B.tagName&&C.focus()}else{var G=F===c;C=y(b,"span"+(G?".dgrid-page-disabled":"")+".dgrid-page-link",F+(v?" ":""));C.setAttribute("aria-label",a.gotoPage);C.tabIndex=G?-1:0;A===F&&(G?F<p?A++:D.focus():C.focus());G||(D=C)}}function e(F,v){y(F,(v?".":"!")+"dgrid-page-disabled");F.tabIndex=v?-1:0}var d=this,a=this.i18nPagination,b=this.paginationLinksNode,c=this._currentPage,
h=this.pagingLinks,n=this.paginationNavigationNode,p=Math.ceil(this._total/this.rowsPerPage),w=this._pagingTextBoxHandle,B=document.activeElement,A,D;B&&u.contains(this.paginationNavigationNode,B)?"dgrid-page-link"===B.className&&(A=+B.innerHTML):B=null;w&&w.remove();b.innerHTML="";f(".dgrid-first, .dgrid-previous",n).forEach(function(F){e(F,1===c)});f(".dgrid-last, .dgrid-next",n).forEach(function(F){e(F,c>=p)});if(h&&0<p){m(1,!0);n=c-h;for(2<n?y(b,"span.dgrid-page-skip","..."):n=2;n<Math.min(c+
h+1,p);n++)m(n,!0);c+h+1<p&&y(b,"span.dgrid-page-skip","...");1<p&&m(p)}else d.pagingTextBox&&m(c);B&&-1===B.tabIndex&&(h=f("[tabindex\x3d'0']",this.paginationNavigationNode),B===this.paginationPreviousNode||B===this.paginationFirstNode?B=h[0]:h.length&&(B=h[h.length-1]),B&&B.focus())},refresh:function(){var m=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(e){setTimeout(function(){l.emit(m.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:m,results:e})},
0);return e})},_onNotification:function(m){m.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(m,e){var d=this,a=this.inherited(arguments);this._lastCollection=null;e||(this._topLevelRequest&&this._topLevelRequest!==m&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof m.cancel&&(this._topLevelRequest=m),t.when(m,function(){d._topLevelRequest&&delete d._topLevelRequest}));return a},insertRow:function(){var m=this._oldPageNodes,e=this.inherited(arguments);
m&&e===m[e.id]&&delete m[e.id];return e},gotoPage:function(m){var e=this,d=new t;this._trackError(function(){var a=e.rowsPerPage,b=(m-1)*a,c=x.mixin(e.get("queryOptions"),{start:b,count:a}),h=e.contentNode,n;if(e.showLoadingMessage){z(e);var p=e.loadingNode=y(h,"div.dgrid-loading");p.innerHTML=e.loadingMessage}else{e._oldPageNodes=p={};h=h.children;var w=0;for(n=h.length;w<n;w++)p[h[w].id]=h[w];e._oldPageObserver=e.observers.pop()}e._isLoading=!0;var B=e.store.query(e.query,c);t.when(e.renderArray(B,
null,c),function(A){q(e);e.scrollTo({y:0});t.when(B.total,function(D){D||(e.noDataNode&&(y(e.noDataNode,"!"),delete e.noDataNode),e.noDataNode=y(e.contentNode,"div.dgrid-no-data"),e.noDataNode.innerHTML=e.noDataMessage);e.paginationStatusNode.innerHTML=g.substitute(e.i18nPagination.status,{start:Math.min(b+1,D),end:Math.min(D,b+a),total:D});e._total=D;e._currentPage=m;e._rowsOnPage=A.length;e._updateNavigation()});(7>k("ie")||k("ie")&&k("quirks"))&&e.resize();d.resolve(B)},function(A){q(e);d.reject(A)});
return d.promise})||d.reject();return d.promise}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),function(U,M,r,x,t,l,f){r.getObject("dgrid.selector",!0);return dgrid.selector=function(g,k){function y(a){return!m.allowSelect(m.row(a))}function u(a){return function(b){var c=b.rows,h=c.length;b="false";var n;for(n=0;n<h;n++){var p=m.cell(c[n],g.id).element;p&&(p=(p.contents||p).input)&&!p.disabled&&
(p.checked=a,p.setAttribute("aria-checked",a))}if("checkbox"==e.type){c=m.selection;h=!1;for(n in c)if(c[n]!=m.allSelected){h=!0;break}e.indeterminate=h;e.checked=m.allSelected;h?b="mixed":m.allSelected&&(b="true");e.setAttribute("aria-checked",b)}}}function E(a){if("click"==a.type||32==a.keyCode||!l("opera")&&13==a.keyCode||0===a.keyCode){var b=m.row(a);m._selectionTriggerEvent=a;if(b){if(m.allowSelect(b)){var c=m._lastSelected&&m.row(m._lastSelected);"radio"==k?c&&c.id==b.id||(m.clearSelection(),
m.select(b,null,!0),m._lastSelected=b.element):b&&(a.shiftKey?u(!0)({rows:[b]}):c=null,c=a.shiftKey?c:null,m.select(c||b,b,c?void 0:null),m._lastSelected=b.element)}}else f(this,(m.allSelected?"!":".")+"dgrid-select-all"),m[m.allSelected?"clearSelection":"selectAll"]();m._selectionTriggerEvent=null}}function z(){m._hasSelectorInputListener=!0;q.push(m.on(".dgrid-selector:click,.dgrid-selector:keydown",E));var a=m._handleSelect;m._handleSelect=function(h){this.cell(h).column!=g&&a.apply(this,arguments)};
if("function"==typeof g.disabled){var b=m.allowSelect,c=g.disabled;m.allowSelect=function(h){var n=b.call(this,h);return c===y?n:n&&!c.call(g,h.data)}}g.disabled=y;q.push(m.on("dgrid-select",u(!0)));q.push(m.on("dgrid-deselect",u(!1)))}var q=[],m,e;g||(g={});g.type&&(g.selectorType=g.type,U.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));g.selectorType=k=k||g.selectorType||"checkbox";g.sortable=!1;var d="function"==typeof k?k:function(a,b,c){var h=b.parentNode;m._hasSelectorInputListener||
z();var n=g.disabled;f(h&&h.contents?h:b,".dgrid-selector");b=b.input||(b.input=f(b,"input[type\x3d"+k+"]",{tabIndex:isNaN(g.tabIndex)?-1:g.tabIndex,disabled:n&&("function"==typeof n?n.call(g,c):n),checked:a}));b.setAttribute("aria-checked",!!a);return b};t.after(g,"init",function(){m=g.grid});t.after(g,"destroy",function(){M.forEach(q,function(a){a.remove()});m._hasSelectorInputListener=!1});g.renderCell=function(a,b,c,h,n){b=(b=a&&m.row(a))&&m.selection[b.id];d(b,c,a)};g.renderHeaderCell=function(a){var b=
"label"in g?g.label:g.field||"";"radio"!=k&&m.allowSelectAll?d(!1,a,{}):(a.appendChild(document.createTextNode(b)),m._hasSelectorInputListener||z());e=a.lastChild};return g}})},"dgrid/util/mouse":function(){define(["dojo/_base/lang","dojo/on","dojo/dom","dojo/query"],function(U,M,r){function x(l,f){return function(g,k){return M(g,l+":"+f,function(y){if(!r.isDescendant(y.relatedTarget,this))return k.call(this,y)})}}var t={enterRow:x(".dgrid-content .dgrid-row","mouseover"),enterCell:x(".dgrid-content .dgrid-cell",
"mouseover"),enterHeaderCell:x(".dgrid-header .dgrid-cell","mouseover"),leaveRow:x(".dgrid-content .dgrid-row","mouseout"),leaveCell:x(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:x(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:x};U.getObject("dgrid.util.mouse",!0);U.mixin(dgrid.util.mouse,t);return t})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(U,M){function r(t,l,f,g){if(!(1<f.targetTouches.length)){var k=f.changedTouches[0],y=k.screenX,
u=k.screenY;g&&f.preventDefault();var E=U(t,"touchend",function(z){var q=z.changedTouches[0];z.targetTouches.length||(Math.abs(q.screenX-y)<x.tapRadius&&Math.abs(q.screenY-u)<x.tapRadius&&(g&&z.preventDefault(),l.call(this,z)),E.remove())})}}var x={tapRadius:10,dbltapTime:250,selector:function(t,l,f){return function(g,k){var y=l.bubble;y?l=y:!1!==f&&(f=!0);return U(g,l,function(u){var E=u.target;3==E.nodeType&&(E=E.parentNode);for(;!M.matches(E,t,g);)if(E==g||!f||!(E=E.parentNode))return;return k.call(E,
u)})}},countCurrentTouches:function(t,l){if(!("touches"in t))return-1;var f,g,k;for(g=f=0;k=t.touches[f];++f)l.contains(k.target)&&++g;return g},tap:function(t,l){return U(t,"touchstart",function(f){r(t,l,f)})},dbltap:function(t,l){var f,g;return U(t,"touchstart",function(k){f?r(t,function(y){if(f){var u=y.changedTouches[0];Math.abs(u.screenX-f.screenX)<x.tapRadius&&Math.abs(u.screenY-f.screenY)<x.tapRadius&&(g&&clearTimeout(g),f=g=null,l.call(this,y))}},k,!0):r(t,function(y){f=y.changedTouches[0];
g=setTimeout(function(){f=g=null},x.dbltapTime)},k)})}};return x})},"arcgisonline/sharing/dijit/dialog/_AppTemplateFiltersMixin":function(){define(["dojo/_base/declare"],function(){return{rootNodes:{app:{instant:{typekeywords:["instantApp"]},all:{},collect:{typekeywords:["collect"]},compare:{typekeywords:["compare"]},"3dscene":{typekeywords:["3Dscene","twoDthreeD"]},analyze:{typekeywords:["summarize"]},imagery:{typekeywords:["interpret"]},present:{typekeywords:["gallery"]},local:{typekeywords:["local"]},
route:{typekeywords:["route"]},showcase:{typekeywords:["showcase"]}}}}})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(U,M,r,x){function t(l){"object"!==typeof l&&(l=Error(l));l.grid=this;x.emit(this.domNode,"dgrid-error",{grid:this,error:l,cancelable:!0,bubbles:!0})}return U(null,{_trackError:function(l){"string"===typeof l&&(l=M.hitch(this,l));try{var f=l()}catch(g){t.call(this,g)}return r.when(f,M.hitch(this,
function(){x.emit(this.domNode,"refresh",{cancelable:!0,bubbles:!0})}),M.hitch(this,t))}})})},"arcgisonline/map/utils/previewInTemplate":function(){define(["dojo/io-query","esri/lang","esri/request","arcgisonline/sharing/util"],function(U,M,r,x){return function(t,l){r({url:t.itemDataUrl,callbackParamName:"callback"}).promise.always(function(){var f=x.isPortal(),g=l.url,k=g.indexOf("?"),y=-1<k?g.substring(0,k):g;g=-1<k?U.queryToObject(g.substring(k+1)):{};k="Web Scene"===t.type?"webscene":"webmap";
if(f){f=l.url;y=x.parseUrl(f);var u="https:"===window.location.protocol;!1===/^(?:[a-z]+:)?\/\//i.test(f)&&(f=window.location.protocol+"//"+window.location.host+x.getHomeAppContext()+y.path);f=u?x.getSecureUrl(f):x.getHttpUrl(f)}else f=y;g[k]=t.id;window.open(f.replace("/hosted/","/apps/")+"?"+U.objectToQuery(g))})}})},"arcgisonline/map/utils/openMap":function(){define(["dojo/Deferred","dojo/io-query","dojo/_base/lang","./getMapCookie","arcgisonline/sharing/dijit/dialog/OpenMapDlg"],function(U,M,
r,x,t){return function(l,f,g){var k="./webmap/viewer.html?webmap\x3d"+l,y="signin.html?returnUrl\x3d"+encodeURIComponent(k);f="boolean"===typeof f?f:!1;x().then(r.hitch(this,function(u){u&&!0===u.c?t.prototype.statics.getInstance().show(f?y:k,u):document.location=f?y:k}))}})},"arcgisonline/sharing/dijit/dialog/OpenMapDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/_Widget,dijit/_Templated"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.OpenMapDlg");
U.require("dijit.Dialog");U.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");U.require("dijit._Widget");U.require("dijit._Templated");U.declare("arcgisonline.sharing.dijit.dialog.OpenMapDlg",[M._Widget,M._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_dialog" id\x3d"open-map-dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv id\x3d"open-map-dialog-content"\x3e\r\n    \x3cdiv style\x3d"margin-bottom: 10px;"\x3e${i18n.unsavedChangesMsg}\x3c/div\x3e\r\n      \x3ctable class\x3d"table-layout" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv\x3e${i18n.titleLabel}\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-title"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-layersRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-layersLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-layers"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-tablesRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-tablesLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-tables"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n      \x3cdiv style\x3d"margin-top: 10px;"\x3e${i18n.openAnotherMapQtn}\x3c/div\x3e\r\n      \x3cbr /\x3e\r\n      \x3cdiv style\x3d"float: right;" class\x3d"clearfix"\x3e\r\n         \x3cbutton id\x3d"button_open-map-no" class\x3d"action-bar-btn jevent cancel right btn-two" dojoType\x3d"dijit.form.Button"\x3e${i18n.notOpen}\x3c/button\x3e\r\n         \x3cbutton id\x3d"button_open-map-yes" class\x3d"padding-right-half jevent primary right" dojoType\x3d"dijit.form.Button"\x3e${i18n.yesOpen}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
handler:null,newMapUrl:"",i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.OpenMapDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline","arcgisonline").openMapDlg)},postCreate:function(){this.loadConnections()},show:function(x,t,l,f,g){this.newMapUrl=x;x=document.getElementById("webmap-title-text")&&
document.getElementById("webmap-title-text").innerHTML;U.byId("open-map-dialog-title").innerHTML=x||g||t&&t.t||this.i18n.untitled;var k=[];t?U.forEach(t.operationalLayers,function(z){k.push(z.title)}):l&&U.forEach(l,function(z){"user"!==z.type&&"mapNotes"!==z.type||k.push(z.title)});if(0===k.length)U.style(U.byId("open-map-dialog-layersRow"),"display","none");else{if(1===k.length)U.byId("open-map-dialog-layersLabel").innerHTML=this.i18n.layerLabel,U.byId("open-map-dialog-layers").innerHTML=k[0];else{U.byId("open-map-dialog-layersLabel").innerHTML=
this.i18n.layersLabel;var y="",u="";U.forEach(k,function(z){y+=u+z;u=", "});U.byId("open-map-dialog-layers").innerHTML=y}U.style(U.byId("open-map-dialog-layersRow"),"display","")}var E=[];t?U.forEach(t.tables,function(z){E.push(z.title)}):f&&U.forEach(f,function(z){E.push(z.title)});0===E.length?U.style(U.byId("open-map-dialog-tablesRow"),"display","none"):(1===E.length?(U.byId("open-map-dialog-tablesLabel").innerHTML=this.i18n.tableLabel,U.byId("open-map-dialog-tables").innerHTML=E[0]):(U.byId("open-map-dialog-tablesLabel").innerHTML=
this.i18n.tablesLabel,u=y="",U.forEach(E,function(z){y+=u+z;u=", "}),U.byId("open-map-dialog-tables").innerHTML=y),U.style(U.byId("open-map-dialog-tablesRow"),"display",""));M.byId("open-map-dialog").show()},loadConnections:function(){U.query(".jevent").connect("onclick",function(x){x.preventDefault()});U.query("#button_open-map-no").connect("onclick",function(){M.byId("open-map-dialog").hide()});U.query("#button_open-map-yes").connect("onclick",U.hitch(this,"submitRequest"))},submitRequest:function(x){document.location=
this.newMapUrl},hide:function(){M.byId("open-map-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query dojo/Deferred ./_AppTemplateFiltersMixin arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),function(U,M,r,x,t,l,f,g,k,y){var u=U("arcgisonline.sharing.dijit.dialog.PluginConfigurableAppsViewer",null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
customGroupInfoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary btn-wide" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
filters:M.mixin({},g.rootNodes.app),filterStrings:y.appTemplateFilters,rowsPerPage:100,constructor:function(E){M.mixin(this,E);this.helpLinkUrl=esriGeowConfig.self&&esriGeowConfig.self.isPortal?esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001018"]:"":esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001055"]:"";delete this.filters.present;delete this.filters["3dscene"]},fetchData:function(){var E=[];this.parent._currentFilter.types=
['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this.checkIndoorsCapabilities(this._portal).then(function(z){this.capabilities=z;return this._fetchGroups().then(function(q){r.forEach(q||[],function(m){m&&m.id&&E.push('group:"'+m.id+'"')});return this._fetchGroupItems(E)}.bind(this))}.bind(this))},_fetchGroups:function(){var E=this._portal.templatesGroupQuery||null;return E&&E.split("id:")[1]?this._fetchOrgConfigurableApps():this._fetchEsriConfigurableApps()},
_fetchGroup:function(E,z){this._groups=this._groups||[];return this._groups[E]||this._portal.queryGroups(z,!0).then(M.hitch(this,function(q){q=q.total&&q.results&&q.results[0]||null;return(this._groups[E]=q)||{}}))},_fetchGroupItems:function(E){return this.parent._fetchItems({groups:E})},_updateIndoorsFilters:function(){var E=this.capabilities.indoors,z=this.capabilities.indoorsmaps,q=this.capabilities.indoorsspaces,m=E||q||z;!k.isArcGISEnterpriseOnKubernetes()&&m||this.parent._currentFilter.persistentTypekeywords.push('-typekeywords:"indoors"');
z||E||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Viewer"');q||E||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Space Planner"')},_fetchEsriConfigurableApps:function(){var E=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),z={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[E]||E)+'"'};this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"3Dscene"'];
this._updateIndoorsFilters();return x([this._fetchGroup("esriGallery_"+E,z)]).then(M.hitch(this,function(q){return q||[]}))},_fetchOrgConfigurableApps:function(){var E={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"Web AppBuilder"'];this._updateIndoorsFilters();return x([this._fetchGroup("customGallery",E)]).then(M.hitch(this,
function(z){this.parent.sortDescending=z[0].sortOrder&&"desc"===z[0].sortOrder||!1;this.parent.sortAttribute=z[0].sortField||"asc";return z&&z.length?[z[0]]:[]}))},hasIndoors:function(E){return this.fetchCapabilities(E).then(function(z){return z.some(function(q){return"indoors"===q.id})})},checkIndoorsCapabilities:function(E){return this.fetchCapabilities(E).then(function(z){return z.reduce(function(q,m){q[m.id]=!0;return q},{})})},fetchCapabilities:function(E){var z=new f;k.request({url:esriGeowConfig.restBaseUrl+
"portals/self/subscriptionInfo"}).then(function(q){z.resolve(q&&q.orgCapabilities||[])});return z}});M.mixin(u,{add:function(E,z){if(!E.plugIn){var q=z||{};q.parent=E;E.plugIn=new u(q)}},remove:function(E){E.plugIn&&(E.plugIn.destroy(),delete E.plugIn)}});return u})},"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query ./_AppTemplateFiltersMixin ./PluginConfigurableAppsViewer dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k){var y=U("arcgisonline.sharing.dijit.dialog.Plugin3DConfigurableAppsViewer",[g],{constructor:function(u){this.inherited(arguments);this.filters=null},_fetchEsriConfigurableApps:function(){var u=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),E={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[u]||u)+'"'};this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"',
'typekeywords: "twoDthreeD"'];return x([this._fetchGroup("esriGallery_"+u,E)]).then(M.hitch(this,function(z){return z||[]}))},_fetchOrgConfigurableApps:function(){var u={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"','-typekeywords:"Web AppBuilder"','typekeywords:"WAB3D"','typekeywords: "twoDthreeD"'];return x([this._fetchGroup("customGallery",
u)]).then(M.hitch(this,function(E){this.parent.sortDescending=E[0].sortOrder&&"desc"===E[0].sortOrder||!1;this.parent.sortAttribute=E[0].sortField||"asc";return E&&E.length?[E[0]]:[]}))}});M.mixin(y,{add:function(u,E){if(!u.plugIn){var z=E||{};z.parent=u;u.plugIn=new y(z)}},remove:function(u){u.plugIn&&(u.plugIn.destroy(),delete u.plugIn)}});return y})},"arcgisonline/pages/item/widgets/AdvancedOfflineOptions/AdvancedOfflineOptions":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/_base/lang dojo/string dojo/text!./templates/AdvancedOfflineOptions.html dojo/text!./templates/AdvancedOfflineOptionSearchItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../../sharing/util ../../../../esriGeowConfig ../../../utils/dom ../../../dijit/Overlay ../../../dijit/InfoTooltip ../../../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);return function(){function b(c,h){this.title=y["default"].itemProperties.advancedOptions.overlayTitle;this.i18n=
y["default"];this.overlayContents=f["default"].substitute(g["default"],{i18n:this.i18n});this._fileNameEdited=!1}b.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");this._editableFeaturesAndAttachmentsOption=this.domNode.querySelector(".js-edit-features-and-attachments");this._editableFeaturesOnlyOption=this.domNode.querySelector(".js-edit-features-only");this._editableFeaturesNoneOption=this.domNode.querySelector(".js-edit-none");this._readonlyFeaturesAndAttachmentsOption=
this.domNode.querySelector(".js-readonly-features-and-attachments");this._readonlyFeaturesOnlyOption=this.domNode.querySelector(".js-readonly-features-only");this._tileWebmapOption=this.domNode.querySelector(".js-tile-webmap");this._tileMobileOption=this.domNode.querySelector(".js-tile-mobile");this._tileMobileFileNameContainer=this.domNode.querySelector(".js-file-name-container");this._tileMobileFilename=this.domNode.querySelector(".js-tile-mobile-file-name");this._fileNameError=this.domNode.querySelector(".js-tile-mobile-file-name-error");
this._tileOrgOption=this.domNode.querySelector(".js-tile-org");this._tileOrgSearchContainer=this.domNode.querySelector(".js-tile-search-container");this._tileOrgSearch=this.domNode.querySelector(".js-tile-search");this._searchResults=this.domNode.querySelector(".js-search-results");this._updateLoader=this.domNode.querySelector(".js-update-loader");this._learnMoreLink=this.domNode.querySelector(".js-learn-more");this._overlay.insertBefore(this.domNode.querySelector(".js-update-loader-container"),this.domNode.querySelector(".overlay-title-bar"));
var c=this.page.portal.helpMap.m["120000899"];this._learnMoreLink.href=this.page.portal.helpBase+(c?c:"");this._overlayActionBar.insertBefore(this._learnMoreLink,this._overlayActionBar.querySelector("nav"));this._attachmentsInfo=new d["default"]({content:this.i18n.itemProperties.advancedOptions.attachmentTooltip},this.domNode.querySelector(".js-attachments-info"));this._packageInfo=new d["default"]({content:this.i18n.itemProperties.advancedOptions.tilePackageTooltip},this.domNode.querySelector(".js-package-info"));
c=(this._itemData=l["default"].clone(this.item.itemData))&&this._itemData.applicationProperties&&this._itemData.applicationProperties.offline||{};this._editableLayers=c.editableLayers;this._readonlyLayers=c.readonlyLayers;this._offlineBasemap=c.offlinebasemap;x["default"].accordion();this._selectOptions();this._addListeners()};b.prototype.close=function(){this.inherited(arguments)};b.prototype._addListeners=function(){var c=this;[].slice.call(this.domNode.querySelectorAll(".js-tile-option")).forEach(function(h){h.addEventListener("change",
function(){m["default"].showHide(c._tileMobileFileNameContainer,c._tileMobileOption.checked);m["default"].showHide(c._tileOrgSearchContainer,c._tileOrgOption.checked)})});this._tileMobileFilename.addEventListener("change",function(){c._fileNameEdited=!0;c._onFilenameKeyup()});this._tileMobileFilename.addEventListener("keyup",this._onFilenameKeyup.bind(this));this._tileOrgSearch.addEventListener("keyup",this._onSearchKeyup.bind(this));this._tileOrgSearch.addEventListener("search",this._onSearchKeyup.bind(this))};
b.prototype._onFilenameKeyup=function(){if(this._fileNameEdited){var c=this._tileMobileFilename.value;this._fileNameError.textContent="";0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)?(this._fileNameError.classList.remove("is-active"),this._tileMobileFilename.classList.remove("input-error")):this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension;0<this._fileNameError.textContent.length&&
(this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"))}};b.prototype._onSearchKeyup=function(){var c=this;z["default"].request({url:q["default"].restBaseUrl+"search",content:{num:16,start:1,sortField:"title",sortOrder:"asc",q:'title:"'+this._tileOrgSearch.value+'" orgid:'+this.page.portal.id+' (type:"Vector Tile Package" OR type:"Raster Tile Package")'}}).then(function(h){c._searchResults.innerHTML="";0<c._tileOrgSearch.value.length&&h.results.forEach(function(n){c._searchResults.insertAdjacentHTML("beforeend",
f["default"].substitute(k["default"],{title:n.title}))})})};b.prototype.handlePrimary=function(){var c=this;if(this._isValid()){var h=this.domNode.querySelector(".js-editable-features:checked");h={applicationProperties:{offline:{editableLayers:{download:h.value,sync:h.dataset.sync},readonlyLayers:{downloadAttachments:this._readonlyFeaturesAndAttachmentsOption.checked}}}};this._tileMobileOption.checked&&(h.applicationProperties.offline.offlinebasemap={referenceBasemapName:this._tileMobileFilename.value});
this._itemData=r.__assign(r.__assign({},this._itemData),h);h={text:JSON.stringify(this._itemData)};this._updateLoader.classList.add("is-active");this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0;this.closeBtn.disabled=!0;this.page.updateItem(h).then(function(n){c.close();n&&n.code&&n.message?t["default"].publish("settings/error",n):t["default"].publish("settings/update")},function(n){c.close();t["default"].publish("settings/error",n)})}};b.prototype._isValidFileExtension=function(c){return/\.(vtpk|tpk|tpkx)$/i.test(c)};
b.prototype._isValid=function(){var c=this._tileMobileFilename.value;this._fileNameEdited=!0;if(this._tileMobileOption.checked&&(this._fileNameError.textContent="",0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)||(this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension),0<this._fileNameError.textContent.length))return this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"),
!1;this._fileNameError.classList.remove("is-active");this._tileMobileFilename.classList.remove("input-error");return!0};b.prototype._selectOptions=function(){this._editableLayers&&"featuresAndAttachments"!==this._editableLayers.download?"features"===this._editableLayers.download?this._editableFeaturesOnlyOption.checked=!0:this._editableFeaturesNoneOption.checked=!0:this._editableFeaturesAndAttachmentsOption.checked=!0;!this._readonlyLayers||this._readonlyLayers.downloadAttachments?this._readonlyFeaturesAndAttachmentsOption.checked=
!0:this._readonlyFeaturesOnlyOption.checked=!0;this._offlineBasemap&&0!==this._offlineBasemap.referenceBasemapName.length?0<this._offlineBasemap.referenceBasemapName.length?(this._tileMobileOption.checked=!0,this._tileMobileFilename.value=this._offlineBasemap.referenceBasemapName,m["default"].showNode(this._tileMobileFileNameContainer)):this._tileOrgOption.checked=!0:this._tileWebmapOption.checked=!0};return b=r.__decorate([a["default"](E["default"],u["default"],e["default"])],b)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);return function(){function m(e,d){this.templateString=x["default"];this.i18n=t["default"];this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=z["default"];this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}m.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};m.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&E["default"].hideNode(this._closeIcon);this._dialog=new k["default"]({id:this.tooltipId,"class":"popover "+this.popoverClass,title:this.title,content:this._popover});0<this.dialogClasses.length&&E["default"].addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className+=" flex flex-align-center",E["default"].showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&(this.iconWrapper.innerHTML=
'\x3ccalcite-icon icon\x3d"'+this.calciteIcon+'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e');this.hideIcon&&E["default"].hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};m.prototype.closePopup=function(){y["default"].close(this._dialog)};m.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};m.prototype.addContentClass=function(e){this._popoverContent.classList.add(e)};m.prototype.show=
function(){E["default"].showNode(this.domNode)};m.prototype.hide=function(){E["default"].hideNode(this.domNode)};m.prototype.getPopover=function(){return this._popover};m.prototype.update=function(e,d){this.infoTextEl.innerHTML=e;this._popoverContent.innerHTML=d};m.prototype._addEventListeners=function(){var e=this;this.own(u["default"](this._closeIcon,function(){y["default"].close(e._dialog);e._infoButton.focus()}),u["default"](this._infoButton,function(d){d.stopPropagation();e.preventInfoButtonEventDefault&&
d.preventDefault();e.disabled||(y["default"].open({popup:e._dialog,orient:e.orient,around:e._infoButton}),E["default"].showNode(e._popover),e._closeIcon.focus())}),l["default"](this._popover,"click",function(d){d.stopPropagation()}),l["default"](document.body,"click",function(d){y["default"].close(e._dialog)}))};return m=r.__decorate([q["default"](g["default"],f["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/AttachCodeDlg":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/form/Button,dijit/_Widget,dijit/_Templated"],
function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.AttachCodeDlg");U.require("arcgisonline.sharing.util");U.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");U.require("dijit.form.Button");U.require("dijit._Widget");U.require("dijit._Templated");U.declare("arcgisonline.sharing.dijit.dialog.AttachCodeDlg",[M._Widget,M._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"  dojoAttachPoint\x3d"containerNode"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"dialog" title\x3d"${titleLabel}" execute\x3d""\x3e\r\n    \x3ctable class\x3d"table-layout"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cdiv id\x3d"code_upload_message" style\x3d"margin-bottom:10px;"\x3e\r\n\t\t\t        ${messageLabel}\r\n\t\t\t      \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cform dojoAttachPoint\x3d"form" action\x3d"" enctype\x3d"multipart/form-data" method\x3d"post" onSubmit\x3d"return false;"\x3e\r\n\t\t\t        \x3cinput type\x3d"file" name\x3d"file" dojoAttachPoint\x3d"fileInput" size\x3d"50" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"title" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"type" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"typekeywords" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"overwrite" value\x3d"false" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"relationshipType" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"originItemId" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"async" value\x3d"true" /\x3e\r\n\r\n\t\t\t        \x3c!-- this is complicated... need some way of automating this --\x3e\r\n\t\t\t        \x3c!--\x3cdiv id\x3d"add-item-callback" name\x3d"callback.html" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" value\x3d"textarea"\x3e\x3c/div\x3e --\x3e\r\n\t\t\t      \x3c/form\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd style\x3d"padding-top:2em;"\x3e\r\n  \t\t      \x3cbutton dojoAttachPoint\x3d"cancelButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel right" type\x3d"button" dojoAttachEvent\x3d"onClick:_cancelButtonClick"\x3e\r\n  \t\t        ${i18n.cancel}\r\n  \t        \x3c/button\x3e\r\n    \t\t    \x3cbutton dojoAttachPoint\x3d"uploadButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary right"  type\x3d"button" dojoAttachEvent\x3d"onClick:_uploadButtonClick"\x3e\r\n    \t\t      ${i18n.uploadLabel}\r\n    \t\t    \x3c/button\x3e\r\n            \x3cspan id\x3d"code_upload-waiting" class\x3d"esriFloatTrailing" style\x3d"display:none;padding-top:8px;"\x3e\x3c/span\x3e\r\n\t\t        \x3cspan class\x3d"esriFloatLeading error" dojoAttachPoint\x3d"errorLabelNode" style\x3d"padding-top:8px;"\x3e\x3c/span\x3e\r\n\t        \x3c/td\x3e\r\n\t      \x3c/tr\x3e\r\n\t    \x3c/tbody\x3e\r\n\t  \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
dialog:null,fileInput:null,cancelButton:null,uploadButton:null,cancelButton:null,clearFormOnHide:!0,codeAttachment:null,titleLabel:"",messageLabelUpdate:"",messageLabel:"",messageErrorUpdate:"",errorLabelNode:null,type:"Code Attachment",typeKeywords:"Code",item:null,sharing:null,fileName:null,_lastUploaded:null,i18n:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common;U.mixin(this.i18n,U.i18n.getLocalization("arcgisonline",
"arcgisonline").attachCodeDlg);this.titleLabel=this.i18n.attachCode;this.messageLabelUpdate=this.i18n.messageLabelUpdateString;this.messageLabel=this.i18n.messageLabelString;this.messageErrorUpdate=this.i18n.messageErrorUpdateString},postCreate:function(){this.fileInput&&U.connect(this.fileInput,"onchange",this,function(){this.errorLabelNode.innerHTML=""})},statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.AttachCodeDlg);return this._instance}},
clear:function(){this.fileInput&&(this.fileInput.value="")},hide:function(){this.dialog&&(this.dialog.hide(),this.clearFormOnHide&&this.clear())},show:function(x){(this.codeAttachment=x)&&this.codeAttachment.name?(this.messageLabelUpdate=U.string.substitute(this.messageLabelUpdate,{fileName:this.codeAttachment.name}),U.byId("code_upload_message").innerHTML=this.messageLabelUpdate,this.dialog.set("title",this.i18n.updateCode)):(U.byId("code_upload_message").innerHTML=this.messageLabel,this.dialog.set("title",
this.i18n.attachCode));this.dialog&&this.dialog.show()},_cancelButtonClick:function(x){this.hide()},_uploadButtonClick:function(x){(x=this.fileInput.value)&&0<x.length&&this.util.endsWith(x,".zip")?(this.uploadButton.set("disabled",!0),this.cancelButton.set("disabled",!0),U.style(U.byId("code_upload-waiting"),"display","inline-block"),this.doUpload()):this.errorLabelNode.innerHTML=this.i18n.fileZipFormat},doUpload:function(){if(null==this.item||null===this.item.id)this.uploadButton.set("disabled",
!1),this.cancelButton.set("disabled",!1),U.style(U.byId("code_upload-waiting"),"display","none");else{var x=this.fileInput.value,t=x.lastIndexOf("\\");-1<t&&(x=x.substring(t+1,x.length));if(this.codeAttachment){var l=this.codeAttachment.name.lastIndexOf(".");t=x.lastIndexOf(".");l=[this.codeAttachment.name.substring(0,l),this.codeAttachment.name.substring(l).toLowerCase()];x=[x.substring(0,t),x.substring(t).toLowerCase()];l[0]!==x[0]||l[1]!==x[1]?(arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateCodeError,
message:U.string.substitute(this.messageErrorUpdate,{fileName:this.codeAttachment.name})}),this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),U.style(U.byId("code_upload-waiting"),"display","none")):this._updateCodeItem()}else this._createCodeItem()}},_createCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.relationshipType.value="WMA2Code";"Mobile Application"===this.item.type&&(this.form.relationshipType.value=
"MobileApp2Code");this.form.originItemId.value=this.item.id;var x=this.fileInput.value,t=x.lastIndexOf("\\");-1<t&&(x=x.substring(t+1,x.length));this.fileName=x;this.form.title.value=x;x=this.form.title.value.lastIndexOf("\\");-1<x&&(this.form.title.value=this.form.title.value.substring(x+1,this.form.title.value.length));x=this.form.title.value.lastIndexOf("/");-1<x&&(this.form.title.value=this.form.title.value.substring(x+1,this.form.title.value.length));this.content.addItem(null,this.form,U.hitch(this,
this._handle_addItem),U.hitch(this,this._handle_addItem))}},_updateCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.overwrite.value="true";var x=this.fileInput.value,t=x.lastIndexOf("\\");-1<t&&(x=x.substring(t+1,x.length));this.fileName=x;this.form.title.value=x;this.content.updateItem(this.codeAttachment,this.form,U.hitch(this,this._handle_addItem),U.hitch(this,this._handle_addItem))}},_handle_addItem:function(x,t){var l=!1;
-1<t.url.indexOf("/status")&&(l=!0);if(!l&&x.success||l&&"completed"===x.status)this._lastUploaded=U.clone(x),this._lastUploaded.title=this._lastUploaded.name=this.form.title.value,this.onUpload(this._lastUploaded);else{l=this.i18n.attachementFailedUpload;x&&x.error&&x.error.message?l=x.error.message:x&&x.statusMessage&&(l=x.statusMessage);var f=this.i18n.cannotAddAttachment;-1<l.indexOf("already exists")?(l=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<l.indexOf("The request size is greater than the max allowed of 1024MB")&&
(l=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:l})}this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);U.style(U.byId("code_upload-waiting"),"display","none")},_handle_updateItem:function(x,t){if(x.success)this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),U.style(U.byId("code_upload-waiting"),"display","none"),this.hide();else{var l=this.i18n.attachementFailedUpload;
x&&x.error&&x.error.message&&(l=x.error.message);var f=this.i18n.cannotAddAttachment;-1<l.indexOf("already exists")?(l=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<l.indexOf("The request size is greater than the max allowed of 1024MB")&&(l=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:l});this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);U.style(U.byId("code_upload-waiting"),
"display","none")}},onUpload:function(x){}})})},"arcgisonline/sharing/dijit/dialog/ManageSceneCache":function(){define("require esri/declare esri/Evented esri/lang esri/request dojo/_base/lang dojo/on dojo/query dojo/topic dijit/a11yclick dojo/string dojo/promise/all dojo/json dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/Dialog ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/GeneralDlg ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/utils/number ../../../pages/serviceUtil ../../../pages/statusUtil ../../../sharing/util ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ManageSceneCache.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F){return M([m,e],{declaredClass:"arcgisonline.sharing.dijit.dialog.ManageSceneCache",basePath:U.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriManageSceneCache",templateString:F,widgetsInTemplate:!0,_serviceStartWait:5E3,postMixInProperties:function(){this.inherited(arguments);this.i18n=l.mixin({},D.common);l.mixin(this.i18n,D.manageSceneCache);l.mixin(this.i18n,{webScene:D.items.webScene,buildingCache:D.itemProperties.buildingCache})},
postCreate:function(){this.inherited(arguments);this._initHandlers()},startup:function(){this.inherited(arguments);var v=B.isPortal();v&&h.hideNode(this._sceneLayerSelectContainer);!v&&this._hasSource()?this._isBuildingSceneLayer()?this._rebuildLayersRadioClick():this._rebuildFullRadioClick():(v&&(h.hideNode(this._optionsContainer),h.showNode(this._portalOptionsContainer),h.checkNode(this._rebuildPortalFullRadio,!0),this._rebuildLayersRadioClick()),h.disableNode(this._rebuildFullRadio),this._rebuildLayersRadioClick())},
_initHandlers:function(){this.own(y(this._rebuildFullRadio,this._rebuildFullRadioClick.bind(this)),y(this._rebuildLayersRadio,this._rebuildLayersRadioClick.bind(this)),y(this._rebuildPartialRadio,this._rebuildLayersRadioClick.bind(this)),y(this._rebuildPortalFullRadio,this._rebuildLayersRadioClick.bind(this)),y(this._rebuildPortalPartialRadio,this._rebuildLayersRadioClick.bind(this)),y(this._rebuildPortalAttributesRadio,this._rebuildLayersRadioClick.bind(this)),y(this._rebuildAttributesRadio,this._rebuildLayersRadioClick.bind(this)),
y(this._rebuildBtn,this._rebuildClick.bind(this)),y(this._cancelBtn,this._cancelClick.bind(this)))},_hasSource:function(){return x.isDefined(this._item.sourceData)},_dialogHidden:function(){this._dialog&&this._dialog.destroyRecursive();this.destroyRecursive()},_fetchSourceItemAdminServiceInfo:function(){return B.request({url:this._featureServiceAdminUrl})},_rebuildFullRadioClick:function(){h.hideNode(this._sceneLayerSelectContainer);h.disableNode(this._rebuildBtn,!1)},_rebuildLayersRadioClick:function(){if(!B.isPortal()&&
this._canShowPartialRebuild){var v=h.isChecked(this._rebuildLayersRadio),C=h.isChecked(this._rebuildPartialRadio);if(v||C)g(".layer-checkbox",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");h.checkNode(G,v&&H);h.disableNode(G,H)}),g(".layer-label",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");G.classList[C&&H?"add":"remove"]("label-disabled")})}B.isPortal()||h.showNode(this._sceneLayerSelectContainer);this._checkBoxClick()},
_displayCreditCost:function(v,C,G){var H=B.isPortal(),K=A.self&&A.self.subscriptionInfo||{},O=(A.self&&A.self.user||{}).availableCredits||K.availableCredits||0;E({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(L){H?C():(this._sourceItem.set("adminServiceInfo",L.adminServiceInfo),p.fetchScenePublishingCredits(this._sourceItem,v).then(function(J){var R=this._fullRebuildInProgress?this.i18n.confirmFullProceed:this.i18n.confirmProceed;confirmMsg="\x3cp\x3e"+[this._fullRebuildInProgress?
this.i18n.confirmFullDesc:this.i18n.confirmDesc,u.substitute(this._fullRebuildInProgress?this.i18n.confirmFullCredits:this.i18n.confirmCredits,{credits:n.format(J),availableCredits:n.format(O)}),R].join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";confirmDlg=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});O<J&&confirmDlg.okButton.set("disabled",!0);confirmDlg.show({title:this.i18n.confirmTitle,message:confirmMsg}).then(function(X){"onOk"===X?C():G();confirmDlg.hide()}.bind(this))}.bind(this)))}.bind(this))},
_rebuildClick:function(){h.isChecked(this._rebuildFullRadio)&&this._hasSource()?this._rebuildFullCache():this._rebuildLayers()},_rebuildFullCache:function(){var v=this._item.owner,C=this._item.folderId,G=A.restBaseUrl+"content/users/"+v+"/"+(C&&C!==v?C+"/":"")+"publish";publishRequest={buildInitialCache:!1,itemid:this._item.sourceData.id,filetype:"featureService",publishParameters:z.stringify({name:this._item.name?this._item.name:this._item.title.replace(/ /g,"_"),targetSR:this._item.serviceInfo.layers[0].spatialReference}),
outputType:"sceneService",overwrite:!0};selectedLayers=[];rebuildFullFailure=function(H){c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildFullError});h.deactivateNode(this._caching);h.disableNode(this._rebuildBtn,!1);h.showNodes([this._optionsContainer,this._buttonBar])}.bind(this);this._fullRebuildInProgress=!0;h.disableNode(this._rebuildBtn,!0);g(".layer-checkbox",this.domNode).map(function(H){h.checkNode(H,!0);selectedLayers.push({id:parseInt(H.getAttribute("data-layer-id"),
10)})});this._displayCreditCost(selectedLayers,function(){h.hideNodes([this._optionsContainer,this._buttonBar]);h.activateNode(this._caching);B.request({url:G,content:publishRequest},{usePost:!0}).then(function(H){H&&H.services&&0<H.services.length?(H=H.services.shift(),w.checkAsyncJobStatus(A.restBaseUrl+"content/users/"+v+"/items/"+H.serviceItemId+"/status?jobId\x3d"+H.jobId).then(function(K){setTimeout(function(){this._rebuildLayers();k.publish("manage-scene-cache/republish",K)}.bind(this),this._serviceStartWait)}.bind(this),
rebuildFullFailure)):rebuildFullFailure(H)}.bind(this),rebuildFullFailure)}.bind(this),function(){this._fullRebuildInProgress=!1;h.disableNode(this._rebuildBtn,!1)}.bind(this))},_rebuildLayers:function(){var v=A.self&&A.self.subscriptionInfo||{},C=(A.self&&A.self.user||{}).availableCredits||v.availableCredits||0,G=[],H=B.isPortal(),K,O,L;g(".layer-checkbox",this.domNode).map(function(J){h.isChecked(J)&&G.push({id:parseInt(J.getAttribute("data-layer-id"),10)})});0<G.length&&this._adminUrl&&(h.disableNode(this._rebuildBtn,
!0),E({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(J){if(H)this._submitPortalSceneCacheJob(G).then(function(aa){var ea=p.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/jobs/"+aa.jobId;aa.jobUrl=ea;k.publish("manage-scene-cache/rebuild",aa);h.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(aa){h.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,
message:this.i18n.rebuildError})}.bind(this),function(aa){h.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this));else{this._sourceItem.set("adminServiceInfo",J.adminServiceInfo);J=h.isChecked(this._rebuildPartialRadio);var R=this._rebuildAttributesRadio.checked,X=this._adminUrl+(R?"/updateAttribute":J?"/updateCache":"/rebuildCache");this._fullRebuildInProgress?B.request({url:X,content:{layers:G.map(function(aa){return aa.id},
this).join(",")}},{usePost:!0}).then(function(aa){k.publish("manage-scene-cache/rebuild",aa);h.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(aa){h.disableNode(this._rebuildBtn,!1);h.deactivateNode(this._caching);h.showNodes([this._optionsContainer,this._buttonBar]);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):(J||R?this._isBuildingSceneLayer()?p.fetchPartialUpdateBuildingScenePublishingCredits(this._sourceItem,this._item,
G):p.fetchPartialUpdateScenePublishingCredits(this._sourceItem,this._item,G):p.fetchScenePublishingCredits(this._sourceItem,G,this._isBuildingSceneLayer())).then(function(aa){L=[this.i18n.confirmDesc,u.substitute(this.i18n.confirmCredits,{credits:n.format(aa),availableCredits:n.format(C)}),this.i18n.confirmProceed];O="\x3cp\x3e"+L.join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";K=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});C<aa&&K.okButton.set("disabled",
!0);K.show({title:this.i18n.confirmTitle,message:O}).then(function(ea){"onOk"===ea?B.request({url:X,content:{layers:G.map(function(ka){return ka.id},this).join(",")}},{usePost:!0}).then(function(ka){k.publish("manage-scene-cache/rebuild",ka);h.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ka){h.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):h.disableNode(this._rebuildBtn,!1);K.hide()}.bind(this))}.bind(this))}}.bind(this)))},
_cancelClick:function(){this._dialog.hide()},_checkBoxClick:function(){var v=g(".layer-checkbox",this.domNode).some(function(C){return h.isChecked(C)});h.disableNode(this._rebuildBtn,!v)},_createLayerListDisplay:function(v,C){var G=q.create("div",{display:"table"},C);v&&0<v.length&&v.forEach(this._createLayerDisplay.bind(this,G))},_createLayerDisplay:function(v,C){var G=C.requiresRebuild&&!0===C.requiresRebuild?"true":"false",H=q.create("div",{display:"table-row"},v),K=q.create("div",{display:"table-cell"},
q.create("div",{display:"table-column"},H));H=q.create("div",{display:"table-cell"},q.create("div",{display:"table-column"},H));var O={id:u.substitute("layer-${id}-checkbox",{id:C.id}),"class":"layer-checkbox",type:"checkbox","data-layer-id":C.id,"data-rebuild-required":G};B.isPortal()&&(O.checked=!0);K=q.create("input",O,K);q.create("label",{"for":u.substitute("layer-${id}-checkbox",{id:C.id}),"class":"layer-label trailer-0",innerHTML:C.name,"data-rebuild-required":G},q.create("span",null,H));this.own(y(K,
this._checkBoxClick.bind(this)))},_getPortalUpdateMode:function(){return h.isChecked(this._rebuildPortalAttributesRadio)?"PARTIAL_UPDATE_ATTRIBUTES":h.isChecked(this._rebuildPortalPartialRadio)?"PARTIAL_UPDATE_NODES":"RECREATE_ALL_NODES"},_submitPortalSceneCacheJob:function(v){var C=1<v.length?v.map(function(H){return{id:H.id}}):{},G=this._getPortalUpdateMode();v=p.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/submitJob";
C={service_url:this._item.url,num_of_caching_service_instances:2,layer:z.stringify(C),update_mode:G,update_extent:"DEFAULT",area_of_interest:z.stringify({displayFieldName:"",geometryType:"esriGeometryPolygon",spatialReference:{wkid:54051,latestWkid:54051},fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID"},{name:"updateGeom_Length",type:"esriFieldTypeDouble",alias:"updateGeom_Length"},{name:"updateGeom_Area",type:"esriFieldTypeDouble",alias:"updateGeom_Area"}],features:[],exceededTransferLimit:!1}),
f:"json",token:this._item.serverToken};return t({url:v,content:C},{usePost:!0})},_isBuildingSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Building")},_isPointSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Point")},_is3DObjectsWithoutUpdateEnabled:function(){return-1<this._item.typeKeywords.indexOf("3DObject")&&!this._hasUpdateEnabled()},_hasUpdateEnabled:function(){return(this._item.serviceInfo.layers||[]).some(function(v){return v&&x.isDefined(v.updateEnabled)&&
!0===v.updateEnabled},this)},show:function(v,C,G){var H=B.isPortal();this._sourceItem=v;this._item=C;this._featureServiceUrl=v.url;this._featureServiceAdminUrl=H?C.url:v.url.replace("/rest/","/rest/admin/");this._adminUrl=C.adminUrl;this._adminServiceInfo=C.serviceInfo||{};this._hostedServer=G;this._canShowPartialRebuild=!H&&!this._isPointSceneLayer()&&!this._is3DObjectsWithoutUpdateEnabled()&&!this._isBuildingSceneLayer();this._dialog=new d({title:this.i18n.title,"class":this.baseClass});H||this._canShowPartialRebuild||
(h.hideNode(this._rebuildPartialContainer),h.hideNode(this._rebuildPartialAttrContainer));this._createLayerListDisplay(this._adminServiceInfo.layers,this._sceneLayerContainer);this._dialog.setContent(this.domNode);this.own(f(this._dialog,"hide",function(){this._dialogHidden()}.bind(this)));!H&&this._isBuildingSceneLayer()&&(h.hideNode(this._rebuildFullContainer),this._rebuildLayersRadio.checked=!0,this._rebuildLayersRadioClick());this._dialog.show()},hide:function(){this._dialog.hide()}})})},"arcgisonline/sharing/dijit/dialog/JobStatusDlg":function(){define("require exports tslib ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/date ../../../pages/utils/dom ../../../pages/utils/number ../../util ./SimpleDlg ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic esri/lang moment/moment dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JobStatusDlg.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);return function(){function h(n){this.templateString=c["default"];
this.i18n=r.__assign(r.__assign({},b["default"].common),b["default"].jobStatusDlg);this.linkToJobStatus=!0;this.STATUS_STARTED="Started";this.STATUS_IN_PROGRESS="InProgress";this.STATUS_FAILED="Failed";this.STATUS_COMPLETED="Completed";this.PORTAL_STATUS_STARTED="esriJobSubmitted";this.PORTAL_STATUS_IN_PROGRESS="esriJobExecuting";this.PORTAL_STATUS_FAILED="esriJobFailed";this.PORTAL_STATUS_COMPLETED="esriJobSucceeded";this.PORTAL_STATUS_CANCELLED="esriJobCancelled";this.PORTAL_STATUS_CANCELLING="esriJobCancelling";
this.PORTAL_STATUS_TIMED_OUT="esriJobTimedOut";this.PORTAL_STATUS_WAITING="esriJobWaiting"}h.prototype.postCreate=function(){this.inherited(arguments);this._initHandlers()};h.prototype.show=function(n,p,w,B,A){this._portal=n;this._portalUser=p;this._jobUrl=w;this._jobInfoUrl=B;this._initUI();this._populateStatus(A);this._dialog.show()};h.prototype.hide=function(){this._dialog.hide()};h.prototype._initUI=function(){var n=this._portal.isPortal;n||f["default"].hideNode(this._cancelJobBtn);this.linkToJobStatus||
(f["default"].hideNode(this._jobIdLinkContainer),f["default"].showNode(this._jobIdText));f["default"].showHide(this._jobAdminDetailsContainer,n&&this._portalUser.isOrgAdmin)};h.prototype._initHandlers=function(){this.own(m["default"](this._closeBtn,this._closeClick.bind(this)),m["default"](this._cancelJobBtn,this._cancelJobClick.bind(this)),e["default"].subscribe("job-status/refresh",this._populateStatus.bind(this)))};h.prototype._cancelJobClick=function(){var n=this,p=this._jobUrl.indexOf("?token\x3d");
p=-1<p?this._jobUrl.substr(0,p)+"/cancel"+this._jobUrl.substr(p):this._jobUrl+"/cancel";f["default"].disableNode(this._cancelJobBtn,!0);k["default"].request({url:p,content:{cancel:!0}},{usePost:!0}).then(function(w){if(!w||(null===w||void 0===w?0:w.code))x["default"].createSpecifiedDialog(y["default"],{title:n.i18n.errorTitle,content:n.i18n.cancelError}).show(),f["default"].disableNode(n._cancelJobBtn,!1)},function(w){x["default"].createSpecifiedDialog(y["default"],{title:n.i18n.errorTitle,content:n.i18n.cancelError}).show();
f["default"].disableNode(n._cancelJobBtn,!1)})};h.prototype._closeClick=function(){this.hide()};h.prototype._getStatusString=function(n){switch(n){case this.STATUS_STARTED:return this.i18n.started;case this.STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.STATUS_COMPLETED:return this.i18n.completed;case this.STATUS_FAILED:return this.i18n.failed;case this.PORTAL_STATUS_STARTED:return this.i18n.started;case this.PORTAL_STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.PORTAL_STATUS_FAILED:return this.i18n.failed;
case this.PORTAL_STATUS_COMPLETED:return this.i18n.completed;case this.PORTAL_STATUS_CANCELLED:return this.i18n.cancelled;case this.PORTAL_STATUS_CANCELLING:return this.i18n.cancelling;case this.PORTAL_STATUS_TIMED_OUT:return this.i18n.timedOut;case this.PORTAL_STATUS_WAITING:return this.i18n.waiting;default:return""}};h.prototype._getDurationString=function(n,p){if(n){var w=d["default"].isDefined(p)?n+p:Date.now(),B=a["default"](w).diff(a["default"](n),"seconds"),A=a["default"](w).diff(a["default"](n),
"minutes");w=a["default"](w).diff(a["default"](n),"hours");var D=void 0,F=void 0;if(60>B)return this.i18n.seconds.replace("${num}",g["default"].format(B));if(60>A)return D=this.i18n.minutes.replace("${num}",g["default"].format(A)),F=this.i18n.seconds.replace("${num}",g["default"].format(B-60*A)),D+" "+F;var v=this.i18n.hours.replace("${num}",g["default"].format(w));D=this.i18n.minutes.replace("${num}",g["default"].format(A-60*w));F=this.i18n.seconds.replace("${num}",g["default"].format(B-60*A));return v+
" "+D+" "+F}return""};h.prototype._getStartDateFromString=function(n){if(n=t["default"].find(null!==n&&void 0!==n?n:[],function(w){return"esriJobMessageTypeInformative"===w.type&&0===w.description.indexOf("Start Time: ")}))try{var p=n.description.substring(13).trim();return(new Date(p)).getTime()}catch(w){}return 0};h.prototype._getEndTimeFromString=function(n){if(n=t["default"].find(null!==n&&void 0!==n?n:[],function(B){return"esriJobMessageTypeInformative"===B.type&&0===B.description.indexOf("Succeeded at ")}))try{var p=
n.description.indexOf(" (Elapsed Time: "),w=n.description.substring(14,p).trim();return(new Date(w)).getTime()}catch(B){}};h.prototype._populateStatus=function(n){var p=this._portal.isPortal,w=this._portalUser.isOrgAdmin;if(n){this._statusInfo.classList.remove("hide");this._statusLoader.classList.remove("is-active");var B=(p?w?n.submittedTime:this._getStartDateFromString(n.messages):n.startTime)||0,A=p?B:1E3*B;B=n.messages?this._getEndTimeFromString(n.messages):void 0;var D=p?w?d["default"].isDefined(n.duration)&&
n.duration||void 0:B?B-A:void 0:d["default"].isDefined(n.totalTime)?1E3*n.totalTime:void 0;B=p&&!w?this._getStatusString(n.jobStatus):this._getStatusString(n.status);var F=l["default"].format(new Date(A),"day-short-month-year-long-time"),v=d["default"].isDefined(D)?l["default"].format(new Date(A+D),"day-short-month-year-long-time"):"";A=this._getDurationString(A,D);D=p&&w?n.machinename:"";w=p&&w?n.username:"";n=p?n.jobId:n.id;this._jobStatus.innerHTML=B;this._jobStartTime.innerHTML=F;this._jobDuration.innerHTML=
A;this._jobEndTime.innerHTML=v;this._jobMachine.innerHTML=D;this._jobUser.innerHTML=w;this._jobIdLink.href=this._jobInfoUrl;this._jobIdLink.innerHTML=n;this._jobIdText.textContent=n;n=t["default"].includes([this.i18n.completed,this.i18n.failed,this.i18n.cancelled,this.i18n.cancelling,this.i18n.timedOut],B);f["default"].disableNode(this._cancelJobBtn,n)}else this._statusInfo.classList.add("hide"),this._statusLoader.classList.add("is-active"),f["default"].disableNode(this._cancelJobBtn,!0)};return h=
r.__decorate([u["default"](z["default"],E["default"],q["default"])],h)}()})},"arcgisonline/sharing/dijit/dialog/SimpleDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(U,M,r){U.provide("arcgisonline.sharing.dijit.dialog.SimpleDlg");U.require("dijit.Dialog");U.require("dijit.form.Button");U.require("dijit._Widget");U.require("dijit._Templated");U.declare("arcgisonline.sharing.dijit.dialog.SimpleDlg",[M._Widget,M._Templated],
{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"dialog" title\x3d"${title}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e${!content}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick: hide" class\x3d"primary" type\x3d"button"\x3e${i18n.ok}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
postMixInProperties:function(){this.inherited(arguments);this.i18n=U.i18n.getLocalization("arcgisonline","arcgisonline").common},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()}})})},"arcgisonline/sharing/dijit/AppendData":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/UploadProgressBar ../../pages/utils/arrays ../../pages/utils/clone ../../pages/utils/dom ../../pages/utils/strings ../../sharing/util ./AppendData/FieldTableRow ./AppendData/_canMatchFields ./dialog/ConfirmDialog ./dialog/_CreateItemUtilMixin ../../sharing/geow/Item dijit/_TemplatedMixin dijit/_WidgetBase dojo/on dojo/topic dojo/Deferred dojo/promise/all esri/lang dojo/i18n!../../nls/arcgisonline dojo/text!../../pages/dijit/View/templates/loader.html dojo/text!./AppendData/templates/_appendData.html dojo/text!./AppendData/templates/_table-row.html ../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);return function(){function v(C,G){this.templateString=A["default"];this.i18n=w["default"];this.baseClass="appendData";this.dijits=[];this.supportedItemTypes=[{value:"Shapefile",innerHTML:w["default"].addItemFrm.typeShapefile,regex:"(.zip$)",fileType:"shapefile",extension:"zip",appendUploadFormat:"shapefile"},{value:"File Geodatabase",innerHTML:w["default"].addItemFrm.itemFileGeodatabase,
regex:"(.zip$)",fileType:"fileGeodatabase",extension:"zip",appendUploadFormat:"filegdb"},{value:"CSV",regex:"(.csv$)",fileType:"csv",appendUploadFormat:"csv",extension:"csv"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xls"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xlsx"},{value:"GeoJson",regex:"(.geojson$)",fileType:"geojson",appendUploadFormat:"geojson",extension:"geojson"}];
this.supportedFilesRegEx="(.zip$|.csv$|.xls$|.xlsx$|.geojson$)";this.noneField={value:"__none",displayName:w["default"].appendDataDlg.none,name:w["default"].appendDataDlg.none,type:"none"};this.longitudeField={value:"longitude",displayName:w["default"].addItemFrm.locationTypes.longitude,name:"longitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"longitude"};this.latitudeField={value:"latitude",displayName:w["default"].addItemFrm.locationTypes.latitude,
name:"latitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"latitude"};this.sortHandlers=[]}v.prototype.postMixInProperties=function(){var C;this.inherited(arguments);this.serviceUrl=this.item&&this.item.url;this.portal=this.portal||(null===(C=this.item)||void 0===C?void 0:C.portal)||(null===x["default"]||void 0===x["default"]?void 0:x["default"].self)||{};this.user=this.user||this.portalUser||(this.portal.getPortalUser?this.portal.getPortalUser():this.portal.portalUser)||
{};this.serviceLayers=this.layer?g["default"]([this.layer||this.layerInfo]):g["default"](this.layers||[this.layer||this.layerInfo]);this._layerInfo=this.layer||this.layerInfo||this.serviceLayers&&this.serviceLayers.length?this.serviceLayers[0]:null;this.serviceInfo=this.item&&this.item.serviceInfo||{};this.adminServiceInfo=this.item&&this.item.adminServiceInfo||{};this.capabilities=this.portal.isPortal&&!this.item.isSDS?y["default"].stringToArray(this.serviceInfo.capabilities,",",!0):y["default"].stringToArray(this.adminServiceInfo.capabilities||
"",",",!0);this.changeTrackingEnabled=f["default"].includes(this.capabilities,"ChangeTracking");this.syncEnabled=this.serviceInfo.syncEnabled||!1};v.prototype.postCreate=function(){this.inherited(arguments);var C=this.domNode.querySelector(".js-analyze-loader-wrap");C.innerHTML=B["default"].replace("${location}","");this.uploadProgressBar=new l["default"]({});this.uploadProgressBar.startup();this.uploadProgressBar.hide();C.appendChild(this.uploadProgressBar.domNode);this.portal.isPortal&&(this.supportedItemTypes.splice(1,
1),this.step1Bullet4.innerText=w["default"].appendDataDlg.messageStep1Bullet4Portal);this.sortHeader=this.sortHeader.bind(this)};v.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};v.prototype.destroy=function(){var C=this;this.inherited(arguments);c["default"].publish("cancel-item-upload");this.deleteItem().then(function(){C.dijits.forEach(function(G){G.destroy()});C.sortHandlers.forEach(function(G){G.remove()});C.sortHandlers=
[];C.dijits=[]})};v.prototype.show=function(){var C,G,H,K=(null===(C=this.portal.helpMap)||void 0===C?void 0:C.m["120001300"])||"share-maps/manage-hosted-feature-layers.htm#ESRI_SECTION1_E2F5EF6240F246EBA5D238968B63BF97";this.dlg=new q["default"]({title:w["default"].appendDataDlg.title,buttonOkLabel:w["default"].appendDataDlg.uploadBtn,buttonCancelLabel:w["default"].common.cancel,helpLinkInfo:{title:w["default"].appendDataDlg.helpLinkTitle,url:""+this.portal.helpBase+K}});this.dlg.setContent(this.domNode);
this.dlg.show();this.okBtn=null===(G=this.dlg)||void 0===G?void 0:G.okButton;null===(H=this.okBtn)||void 0===H?void 0:H.set("disabled",!0);this.own(b["default"](this.dlg,"ok",this.processStep.bind(this)));return this.dlg};v.prototype.hide=function(){var C;null===(C=this.dlg)||void 0===C?void 0:C.hide();b["default"].emit(this,"hide",{bubbles:!0,cancelable:!0})};v.prototype.processStep=function(){var C=this,G=new h["default"];this.isStep1?this.uploadData().then(this.analyze.bind(this)).then(this.addLayerInfo.bind(this)).then(this.validateLayers.bind(this),
function(H){C.showError(H)}).then(this.showStep2.bind(this),function(H){C.showError(H)}).then(function(H){G.resolve(H)},function(H){C.showStep1()}):this.appendDataLayer().then(function(H){C.done();G.resolve(H)},function(H){C.showStep2();C.showError(H)});return G};v.prototype._setItemAttr=function(C){this.item=C};v.prototype._setReadOnlyAttr=function(C,G){var H=C?"add":"remove";c["default"].publish("/esri/disable",C," ");k["default"].querySelectorAllAsArray(".append-data",this.domNode).forEach(function(K){K.classList[H]("disabled")});
C?this.showLoader(G||this.i18n.common.pleaseWait):this.hideLoader()};v.prototype.setSelectedSourceType=function(){this.selectedSourceType=this.findSupportedType(this.supportedTypes.options[this.supportedTypes.selectedIndex].dataset.fileType)};v.prototype.getFieldMappings=function(){var C=this,G=this.fromField.value,H=this.toField.value,K=this.dijits.map(function(O){return O.field}).filter(function(O){return O.matchField&&"__none"!==O.matchField.value}).map(function(O){return{source:O.matchField&&
O.matchField.name,name:O.name}});this.updateExistingFeatures.checked&&"__none"!==H&&(K=K.filter(function(O){return O.name!==C.fromField.value&&O.name!==C.toField.value}),K.push({source:H,name:G}));return(null===K||void 0===K?0:K.length)?K:null};v.prototype.getAppendFields=function(C){return(((null===C||void 0===C?0:C.length)?C:this.getFieldMappings())||[]).filter(function(G){return null===G||void 0===G?void 0:G.name}).map(function(G){return G.name})};v.prototype.getAppendParams=function(){var C=this.selectedSourceType.appendUploadFormat,
G=this.updateExistingFeatures.checked,H=this.fromField.options[this.fromField.selectedIndex];H=this.findField({name:H.dataset.value,type:H.dataset.type},this.layerFields);var K=this.getSelectedDataLayer(),O=this.getFieldMappings();C={sourceTableName:K.name,fieldMappings:(null===O||void 0===O?0:O.length)?JSON.stringify(O):null,upsert:G,skipUpdates:!1,useGlobalIds:G&&"esriFieldTypeGlobalID"===(null===H||void 0===H?void 0:H.type),skipInserts:G?this.skipInserts.checked:!1,updateGeometry:G?this.updateGeometry.checked:
!0,appendFields:JSON.stringify(this.getAppendFields()),appendItemId:this.uploadedItem.id,appendUploadFormat:C,rollbackOnFailure:!0};!this.selectedSourceType||"csv"!==this.selectedSourceType.fileType&&"excel"!==this.selectedSourceType.fileType||(C=r.__assign(r.__assign({},C),{appendSourceInfo:JSON.stringify(this.getAnalyzeParameters())}));if(null===H||void 0===H?0:H.isUniqueIndex)C.upsertMatchingField=H.name;return C};v.prototype.getSelectedDataLayer=function(){var C=parseInt(this.dataLayersSelect.value,
10);var G=(this.dataLayers||[]).filter(function(H){return H.excelSheetId===C||H.id===C});return(null===G||void 0===G?0:G.length)?G.shift():{}};v.prototype.getSelectedServiceLayer=function(){var C=parseInt(this.serviceLayersSelect.value,10);return this.findLayer(""+C,this.serviceLayers||[])};v.prototype.getFormData=function(){var C=this.fileInput.files[0],G=(null===C||void 0===C?void 0:C.name)||"",H=this.selectedSourceType.value,K=G.substr(0,G.indexOf("."))+"_agotmp"+G.substr(G.indexOf(".")),O=new FormData;
O.append("type",H);O.append("title",K);O.append("file",C,K);this.origFilename=G;this.sourceTitle=K;return O};v.prototype.getAnalyzeParameters=function(){var C=g["default"](this.analyzeResults),G=this.findLocationField("longitude"),H=this.findLocationField("latitude"),K=C.publishParameters.locationType;G=G&&"__none"!==G.value?G.name:C.publishParameters.longitudeFieldName;H=H&&"__none"!==H.value?H.name:C.publishParameters.latitudeFieldName;G&&H?(C.publishParameters.locationType="coordinates",C.publishParameters.latitudeFieldName=
H,C.publishParameters.longitudeFieldName=G):"coordinates"!==K&&(C.publishParameters.locationType="none");return C.publishParameters};v.prototype.addEventListeners=function(){var C=new h["default"];this.own(b["default"](this.showFieldMatchingLink,"click",this.showFieldMatching.bind(this)),b["default"](this.updateExistingFeatures,"change",this.updateExistingFeaturesChange.bind(this)),b["default"](this.fileInput,"change",this.onFileChange.bind(this)),b["default"](this.fromField,"change",this.onFromFieldChange.bind(this)),
b["default"](this.toField,"change",this.onToFieldChange.bind(this)),b["default"](this.serviceLayersSelect,"change",this.onServiceLayerChange.bind(this)),b["default"](this.dataLayersSelect,"change",this.onDataLayerChange.bind(this)),b["default"](this.supportedTypes,"change",this.setSelectedSourceType.bind(this)));C.resolve();return C};v.prototype.sortHeader=function(C){var G=C.target;C=G.dataset.sort;var H=G.classList.contains("is-ascending")||G.classList.contains("is-descending");G=G.dataset.sortOrder;
H&&(G="asc"===G?"desc":"asc");this.sortUpdate({property:C,ascending:"asc"===G})};v.prototype.sortUpdate=function(C){var G=this,H=this.domNode.querySelector(".js-table-rows"),K=this.noneField,O=this.getUIDField(),L=this.updateExistingFeatures.checked,J=this.getSelectedDataLayer(),R=(J.fields||[this.noneField]).sort(function(ma,sa){return ma.name.localeCompare(sa.name)}),X=this.layerFields,aa={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},ea={portal:this.portal,template:D["default"],dataLayerFields:R,
addressFields:J.addressFields};this.currentSort=C=C||this.currentSort;(null===R||void 0===R?0:R.length)&&"__none"!==R[0].value&&R.unshift(K);var ka=C.ascending?"is-ascending":"is-descending";k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ma){ma.classList.remove("is-descending");ma.classList.remove("is-ascending");ma.setAttribute("aria-sort","none")});k["default"].querySelectorAllAsArray(".js-table-sort-header[data-sort\x3d'"+C.property+"']",this.domNode).forEach(function(ma){ma.classList.add(ka);
ma.setAttribute("aria-sort",C.ascending?"ascending":"descending");ma.dataset.sortOrder=C.ascending?"asc":"desc"});this.sortTitle("matchField"===C.property?this.matchFields||[]:this.layerFields||[],C);this.sortHandlers.forEach(function(ma){ma.remove()});this.sortHandlers=[];k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ma){G.sortHandlers.push(b["default"](ma,"click",G.sortHeader.bind(G)))});this.dijits.forEach(function(ma){ma.destroy()});this.dijits=[];
X.forEach(function(ma){ma.type in aa||!ma.editable||L&&ma.name===O.name||(ma=new E["default"](r.__assign(r.__assign({},ea),{field:ma})),ma.startup(),ma.placeAt(H),G.dijits.push(ma))})};v.prototype.sortTitle=function(C,G){return null===C||void 0===C?void 0:C.sort(function(H,K){return G.ascending?H.name.localeCompare(K.name):K.name.localeCompare(H.name)})};v.prototype.showStep1=function(){var C=this,G=new h["default"],H=this.okBtn;this.fillSupportedTypes().then(function(){k["default"].hideNode(C.step2);
k["default"].showNode(C.step1);C.isStep1=!0;null===H||void 0===H?void 0:H.set("label",w["default"].appendDataDlg.uploadBtn);C.set("readOnly",!1);G.resolve(!0)});return G};v.prototype.showStep2=function(){var C=this,G=new h["default"];n["default"]({serviceLayers:this.fillServiceLayers(this.serviceLayers),dataLayers:this.fillDataLayers(this.dataLayers)}).then(function(){var H=C.getSelectedDataLayer(),K=C.getSelectedServiceLayer();C.updateFields(K,H).then(function(){G.resolve(!0)})});return G};v.prototype.updateFields=
function(C,G){var H=this,K=new h["default"],O=this.okBtn,L="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,J=this.selectedFile||this.uploadedItem&&this.uploadedItem.title||this.sourceTitle||"",R=this.syncEnabled||this.changeTrackingEnabled,X=G&&G.geometryType,aa=C&&C.geometryType,ea=aa?!0:!1,ka,ma,sa;n["default"]({serviceLayerFields:this.fillServiceLayerFields(C,G),dataLayerFields:this.fillDataLayerFields(C,G),fieldMatching:this.fillFieldMatching(C,G)}).then(function(){k["default"].hideNode(H.step1);
k["default"].showNode(H.step2);if(R){if(aa!==X&&aa&&("esriGeometryPoint"!==aa||L||X)){H.showError({message:w["default"].appendDataDlg.noMatchingSelectedLayerType});return}ka=!0}else aa===X?ka=ma=sa=!0:aa&&("esriGeometryPoint"!==aa||L||X)?sa=!0:ka=ma=sa=!0;H.domNode.querySelector(".js-updateFeatures-container").classList.add("hide");k["default"].showHideAll(k["default"].querySelectorAllAsArray(".js-updateGeometry",H.domNode),ea);H.updateExistingFeatures.checked=ma||sa||!1;!ma&&ka?k["default"].querySelectorAllAsArray(".js-updateFeatures, .js_attributesOnly",
H.domNode).forEach(function(za){za.classList.add("disabled")}):(k["default"].querySelectorAllAsArray(".js-updateFeatures",H.domNode).forEach(function(za){za.classList.remove("disabled")}),k["default"].querySelectorAllAsArray(".js-attributesOnly",H.domNode).forEach(function(za){za.classList[!ma&&sa?"add":"remove"]("disabled")}));H.updateExistingFeaturesChange();H.updateGeometry.checked=!1;H.skipInserts.checked=!ka&&(ma||sa)||!1;H.toField.value="__none";H.isStep1=!1;H.appendDataLabel.innerHTML=w["default"].appendDataDlg.chooseLayer.replace("${fileName}",
J);null===O||void 0===O?void 0:O.set("label",w["default"].appendDataDlg.applyUpdatesBtn);H.set("readOnly",!1);K.resolve(!0)});return K};v.prototype.updateLayerDataUpdatedDate=function(){var C=this.item,G=this._layerInfo,H=(new Date).getTime();G&&(G.editingInfo=G.editingInfo||{},G.editingInfo.lastEditDate=H,C.layers&&(C=C.layers[G.id],C.editingInfo=C.editingInfo||{},C.editingInfo.lastEditDate=H))};v.prototype.done=function(){var C=this;this.deleteItem().then(function(){C.updateLayerDataUpdatedDate();
c["default"].publish("append/done",{type:"success"});C.set("readOnly",!1);c["default"].publish("alert/show",{type:"success",text:w["default"].appendDataDlg.updateSuccess});C.hide()})};v.prototype.showFieldMatching=function(C){C="true"===this.showFieldMatchingLink.dataset.value;this.showFieldMatchingLink.dataset.value=C?"false":"true";this.showFieldMatchingLink.innerHTML=C?w["default"].appendDataDlg.showFieldMatching:w["default"].appendDataDlg.hideFieldMatching;k["default"].showHide(this.fieldMatching,
!C)};v.prototype.updateExistingFeaturesChange=function(C){var G=this.updateExistingFeatures.checked?"remove":"add";k["default"].querySelectorAllAsArray(".js-updateFeatures-container",this.domNode).forEach(function(H){H.classList[G]("hide")});this.sortUpdate()};v.prototype.onFileChange=function(C){C=this.fileInput.files[0];C=(null===C||void 0===C?void 0:C.name)||"";var G=C.split(".").pop(),H=(new RegExp(this.supportedFilesRegEx,"i")).test(C),K="zip"===(null===G||void 0===G?void 0:G.toLowerCase());
this.selectedSourceType=this.findSupportedType(K?"shapefile":G);this.selectedFile=C;k["default"].showHide(this.zipSelect,H&&K&&!this.portal.isPortal);this.okBtn.set("disabled",!H)};v.prototype.onFromFieldChange=function(C){C=(null===C||void 0===C?void 0:C.target)||{};var G=C.options[C.selectedIndex],H=this.getSelectedDataLayer(),K=this.getSelectedServiceLayer();G={name:G.dataset.value,type:G.dataset.type};var O=this.findField(G,this.layerFields),L=this.findField({name:C.dataset.prevValue,type:C.dataset.prevType},
this.layerFields);this.uidField=G;O.type!==L.type&&this.fillDataLayerFields(K,H);"__none"===O.value&&(this.toField.value="__none");C.dataset.prevValue=C.value;C.dataset.prevType=C.type;this.sortUpdate()};v.prototype.onToFieldChange=function(C){C=(null===C||void 0===C?void 0:C.target)||{};C=C.options[C.selectedIndex];C=this.findField({name:C.dataset.value,type:C.dataset.type},this.layerFields);c["default"].publish("appendData/fieldChanged",C)};v.prototype.onServiceLayerChange=function(){this.showStep2()};
v.prototype.onDataLayerChange=function(){var C=this.getSelectedDataLayer(),G=this.getSelectedServiceLayer();this.updateFields(G,C)};v.prototype.render=function(){var C=new h["default"];n["default"]([this.showStep1()]).then(function(){C.resolve(!0)});return C};v.prototype.showLoader=function(C){var G=this.domNode.querySelector(".analyze-loader-wrap .loader");k["default"].showNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].activateNode(G);if(G=G.querySelector(".loader-text"))G.innerHTML=
C};v.prototype.hideLoader=function(){k["default"].hideNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].deactivateNode(this.domNode.querySelector(".analyze-loader-wrap .loader"))};v.prototype.clearSelect=function(C){if(null===C||void 0===C?0:C.options)for(var G=C.options.length-1;0<=G;G--)C.remove(G)};v.prototype.fillSupportedTypes=function(){var C=this,G=new h["default"],H;this.supportedItemTypes.forEach(function(K){K.innerHTML&&(H=document.createElement("option"),H.dataset.value=
K.value,H.dataset.validate=K.regex||"",H.dataset.fileType=K.fileType,H.dataset.appendUploadFormat=K.appendUploadFormat,H.value=K.value,H.innerHTML=K.innerHTML,C.supportedTypes.add(H))});G.resolve(!0);return G};v.prototype.fillServiceLayers=function(C){var G=this,H,K,O;C=new h["default"];if(null===(K=null===(H=this.serviceLayersSelect)||void 0===H?void 0:H.options)||void 0===K?0:K.length)C.resolve(this.serviceLayers);else{H=this.serviceLayers||[];var L;this.clearSelect(this.serviceLayersSelect);(null===
H||void 0===H?0:H.length)&&H.forEach(function(J){L=document.createElement("option");L.dataset.value=J.id;L.value=J.id;L.innerHTML=J.name;G.serviceLayersSelect.add(L)});k["default"].showHide(this.serviceLayersContainer,1<(null===(O=this.layers)||void 0===O?void 0:O.length));C.resolve(H)}return C};v.prototype.fillDataLayers=function(C){var G=this,H,K=new h["default"];C=C||this.dataLayers||[];this.clearSelect(this.dataLayersSelect);C.forEach(function(L){var J=""+(p["default"].isDefined(L.excelSheetId)?
parseInt(L.excelSheetId,10):parseInt(L.id,10)),R=document.createElement("option");R.dataset.value=J;R.value=J;R.innerHTML=L.name;G.dataLayersSelect.add(R)});if(this.dataLayersSelect.options&&!this.dataLayersSelect.options.length){var O=document.createElement("option");O.dataset.value=this.noneField.value;O.value=this.noneField.value;O.innerHTML=this.noneField.name;this.dataLayersSelect.add(O)}k["default"].showHide(this.dataLayersContainer,1<(null===(H=this.analyzeResultLayers)||void 0===H?void 0:
H.length));this.dataLayers=C;K.resolve(C);return K};v.prototype.fillServiceLayerFields=function(C,G){var H=this,K=new h["default"],O=this.noneField,L=g["default"](C.indexes||[]),J=this.getUIDField(C),R={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},X=g["default"](C.fields||[]),aa;this.clearSelect(this.fromField);L.filter(function(ea){return null===ea||void 0===ea?void 0:ea.isUnique}).forEach(function(ea){var ka;aa=(null===(ka=ea.fields)||void 0===ka?void 0:ka.split(","))||[];aa.forEach(function(ma){X.some(function(sa){return sa.name.toLowerCase()===
ma.toLowerCase()?sa.isUniqueIndex=!0:!1})})});"Table"===C.type||!this.selectedSourceType||"excel"!==this.selectedSourceType.fileType&&"csv"!==this.selectedSourceType.fileType||((L=this.findField(this.longitudeField,X))&&"__none"!==L.value||X.push(g["default"](this.longitudeField)),(L=this.findField(this.latitudeField,X))&&"__none"!==L.value||X.push(g["default"](this.latitudeField)));this.layerFields=g["default"](X||[]);X=X.filter(function(ea){return ea.type&&ea.type in R||ea.isUniqueIndex}).sort(function(ea,
ka){return ea.name.localeCompare(ka.name)});X.unshift(O);X.forEach(function(ea){var ka=document.createElement("option");ka.dataset.value=ea.value||ea.name||null;ka.dataset.type=ea.type||null;ka.value=ea.value||ea.name||null;ka.innerHTML=ea.displayName||ea.name;H.fromField.add(ka)});this.fromField.value=(null===J||void 0===J?void 0:J.value)||"__none";this.fromField.dataset.type=(null===J||void 0===J?void 0:J.value)||"__none";this.fromField.dataset.prevValue=this.fromField.value;this.fromField.dataset.prevType=
this.fromField.type;K.resolve(X);return K};v.prototype.fillDataLayerFields=function(C,G){var H=this,K,O=new h["default"],L=this.noneField,J=G&&G.fields?g["default"](G.fields):[],R=this.getUIDField(C);J=this.filterAllowedFields(J,R).sort(function(X,aa){return X.name.localeCompare(aa.name)});R=this.findField(R,J);this.clearSelect(this.toField);(null===J||void 0===J?0:J.length)&&"__none"!==J[0].value?J.unshift(L):J=[L];J.forEach(function(X){var aa=document.createElement("option");aa.dataset.value=X.value||
X.name||null;aa.dataset.type=X.type||null;aa.value=X.value||X.name||null;aa.innerHTML=X.displayName||X.name;H.toField.add(aa)});this.toField.value="__none"!==(null===R||void 0===R?void 0:R.value)?R.name||"__none":"__none";this.toField.disabled="__none"===this.fromField.value||2>(null===(K=this.toField.options)||void 0===K?void 0:K.length);O.resolve(J);return O};v.prototype.filterAllowedFields=function(C,G){var H=C.filter(function(K){return z["default"](G,K)});return(null===H||void 0===H?0:H.length)?
H:[]};v.prototype.fillFieldMatching=function(C,G){var H=new h["default"];this.sortUpdate({property:"title",ascending:!0});H.resolve(!0);return H};v.prototype.addLayerInfo=function(C){var G=new h["default"],H=(null===C||void 0===C?0:C.publishParameters)?g["default"](C.publishParameters):{};C=(H.layers||[H.layerInfo]).map(function(K){var O=K.locationType||H.locationType||null;K.geometryType=K.geometryType||("coordinates"===O?"esriGeometryPoint":null)||null;K.addressFields=K.addressFields||H.addressFields||
("coordinates"===O?{longitudeFieldName:K.longitudeFieldName||H.longitudeFieldName,latitudeFieldName:K.latitudeFieldName||H.latitudeFieldName}:{});return K});G.resolve(C);return G};v.prototype.validateLayers=function(C){var G=new h["default"],H="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,K=this.syncEnabled||this.changeTrackingEnabled?this.layers.filter(function(O){return C.some(function(L){return L.geometryType===O.geometryType||!O.geometryType||"esriGeometryPoint"===
O.geometryType&&!H&&!L.geometryType})}):this.layers;K&&K.length?(this.analyzeResultLayers=g["default"](C),this.dataLayers=g["default"](C),this.serviceLayers=g["default"](K),G.resolve(this.analyzeResults)):G.reject({message:w["default"].appendDataDlg.noMatchingLayerType});return G};v.prototype.getUIDField=function(C){var G=this.uidField||null;if(!G){var H=C.globalIdField;C=(C.fields||[]).filter(function(K){return K.name===H});G=this.uidField=(null===C||void 0===C?0:C.length)?C.shift():this.noneField}return G};
v.prototype.findField=function(C,G){var H=(G||[]).filter(function(K){return K.type===C.type&&K.name.toLowerCase()===C.name.toLowerCase()});return(null===H||void 0===H?0:H.length)?H.shift():this.noneField};v.prototype.findLocationField=function(C){var G=this.dijits.map(function(H){return H.field}).filter(function(H){return H.name.toLowerCase()===C.toLowerCase()&&H.matchField});return(null===G||void 0===G?0:G.length)?G.shift().matchField:null};v.prototype.findLayer=function(C,G){return t["default"].findLayer(C,
G||[])};v.prototype.findSupportedType=function(C){var G=(this.supportedItemTypes||[]).filter(function(H){return H.fileType===C||H.extension.toLowerCase()===C.toLowerCase()});return(null===G||void 0===G?0:G.length)?G.shift():null};v.prototype.uploadData=function(C){var G=this,H;C=C||new h["default"];var K=null===(H=this.item)||void 0===H?void 0:H.owner;H=this.getFormData();var O={owner:K,folderId:void 0,fileName:this.sourceTitle,fileType:this.selectedSourceType.value};this._setReadOnlyAttr(!0,w["default"].appendDataDlg.uploadProgress);
this.uploadProgressBar.reset();this.uploadProgressBar.show();e["default"].addItem(O,H,this.fileInput.files[0]).then(function(L){G.uploadProgressBar.hide();if(L&&L.success){var J={title:O.fileName,type:O.fileType,folderId:""};G.uploadedItem=r.__assign(r.__assign(r.__assign({},L),J),{title:G.sourceTitle});L.isMultipart?(L.statusUrl=e["default"]._getActionItemUrl(O,"status"),G._setReadOnlyAttr(!0,w["default"].addItemFrm.checkingStatus),G.checkStatus(L).then(function(){G.set("readOnly",!1);C.resolve(L)})):
C.resolve(L)}else C.reject(L)},function(L){G.uploadProgressBar.hide();L&&409!==L.code?G.showError(L):G.deleteExistingTempItem(G.sourceTitle).then(function(){G.uploadData(C)},function(J){G.showError(L)})});return C};v.prototype.analyze=function(C){var G=this,H=new h["default"];C=r.__assign({fileType:this.selectedSourceType.fileType},C);this._setReadOnlyAttr(!0,w["default"].appendDataDlg.analyzeProgress);m["default"].analyzeItem(C,{enableGlobalGeocoding:!1},this.portal).then(function(K){G.analyzeResults=
K;H.resolve(K)},function(K){H.reject(K)});return H};v.prototype.appendDataLayer=function(){var C,G=new h["default"],H=this.getSelectedServiceLayer(),K=this.analyzeResults||{},O=(null===(C=K.publishParameters)||void 0===C?void 0:C.locationType)||"none";C=this.serviceUrl+"/"+H.id+"/append";var L=this.getAppendParams(),J=this.findLocationField("longitude")||{},R=this.findLocationField("latitude")||{},X=this.updateExistingFeatures.checked;if(X&&("__none"===this.fromField.value||"__none"===this.toField.value))return G.reject({message:w["default"].appendDataDlg.noUIDFieldMapping}),
G;if(!(!K.publishParameters||"csv"!==K.publishParameters.type&&"excel"!==K.publishParameters.type||"esriGeometryPoint"!==H.geometryType||"none"!==O&&"address"!==O||X&&!L.updateGeometry||"__none"!==J.value&&"__none"!==R.value))return G.reject({message:w["default"].appendDataDlg.noLocationFields}),G;L.fieldMappings?(this._setReadOnlyAttr(!0,w["default"].appendDataDlg.applyProgress),u["default"].request({url:C,content:L},{usePost:!0}).then(this.checkStatus.bind(this),function(aa){G.reject(aa)}).then(function(aa){G.resolve(aa)})):
G.reject({message:w["default"].appendDataDlg.noMatchingFields});return G};v.prototype.checkStatus=function(C,G,H){var K=this,O=null===C||void 0===C?void 0:C.statusUrl,L=H||new h["default"],J=G||500;u["default"].request({url:O}).then(function(R){var X,aa;R=R||{status:"completed"};"completed"===(null===(X=R.status)||void 0===X?void 0:X.toLowerCase())?L.resolve(!0):"failed"===(null===(aa=R.status)||void 0===aa?void 0:aa.toLowerCase())||400<R.code||""===R.status?K.showError(R):(J=(J||500)+250,setTimeout(function(){K.checkStatus(C,
J,L)},G))},function(R){K.showError(R)});return L};v.prototype.deleteItem=function(){var C=this,G,H=new h["default"],K=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.uploadedItem?K.deleteItems([this.uploadedItem]).then(function(){C.uploadedItem=null;H.resolve(!0)},function(){C.uploadedItem=null;H.resolve(!0)}):H.resolve(!0);return H};v.prototype.deleteExistingTempItem=function(C){var G,H=new h["default"],K=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.portal.queryItems("title:"+
C).then(function(O){var L;(null===(L=null===O||void 0===O?void 0:O.items)||void 0===L?0:L.length)?K.deleteItems([O.items.shift()]).then(function(){H.resolve(!0)},function(){H.resolve(!0)}):H.resolve(!1)});return H};v.prototype.showError=function(C){var G=this,H=r.__assign(r.__assign({},w["default"].publishWizard.errors.error),C);C=C&&(C.statusMessage||C.message||"");-1<C.indexOf("Invalid Shapefile")?H.message=p["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidShapefile.message):
-1<C.indexOf("Invalid File Geodatabase")?H.message=p["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidFileGeodatabase.message):-1<C.indexOf("Object reference not set to")?H.message=p["default"].substitute({name:this.origFilename},this.i18n.appendDataDlg.error):-1<C.indexOf("Duplicate field names are not allowed")?H.message=this.i18n.common.errors.duplicateFields:-1<C.indexOf("Must specify data to be analyzed")&&(H.message=this.i18n.appendDataDlg.specifyData);this.errorDlg=
new q["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this.errorDlg.show(H).then(function(){G.set("readOnly",!1);G.errorDlg.hide()});return!1};return v=r.__decorate([F["default"](a["default"],d["default"])],v)}()})},"arcgisonline/sharing/dijit/AppendData/FieldTableRow":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/formatters ./_canMatchFields ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/_table-row.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);return function(){function e(d,a){this.i18n=m["default"];this.noneField={value:"__none",name:m["default"].appendDataDlg.none}}e.prototype.postMixInProperties=function(){var d=this;this.inherited(arguments);
Object.keys(t["default"]).forEach(function(a){d[a]=t["default"][a]});this.portal=this.portal||(null===x["default"]||void 0===x["default"]?void 0:x["default"].self)||{};this.portalUser=this.portalUser||this.user||this.portal.portalUser||{};this.templateString=this.template||q["default"];this.displayName=this.field.displayName||this.field.name};e.prototype.postCreate=function(){var d=this,a;this.inherited(arguments);null===(a=this.cssClasses)||void 0===a?void 0:a.forEach(function(b){d.domNode.classList.add(b)})};
e.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};e.prototype.setValue=function(d){d=(null===d||void 0===d?void 0:d.matchField)||d||{name:m["default"].appendDataDlg.none,value:"__none"};this.matchFields.value=d.value;this.field.matchField=d;this.matchFieldValue.innerHTML=d.displayName||d.name;this.matchFieldValue.dataset.value=d.value||d.name;this.matchFieldValue.dataset.type=d.type};e.prototype.render=function(){var d=
this,a=new E["default"];z["default"]([this.createMatchFieldOptions()]).then(function(){var b,c=(null===(b=d.field)||void 0===b?void 0:b.matchField)||d.field;b=c?d.findField(c,d.dataLayerFields):null;d.setValue(b);a.resolve(!0)});return a};e.prototype.addEventListeners=function(){var d=this,a=new E["default"];this.own(y["default"](this.matchFields,"blur",function(b){d.field.value=d.editEnd({evt:b})}),y["default"](this.matchFieldsContainer,"click",function(b){d.editStart({evt:b})}),u["default"].subscribe("appendData/fieldChanged",
function(b){var c,h;"__none"!==b.value&&(null===(h=null===(c=d.field)||void 0===c?void 0:c.matchField)||void 0===h?void 0:h.name)===b.name&&d.setValue()}));a.resolve();return a};e.prototype.editStart=function(d){d=d.evt.target;var a=d.parentElement.querySelector("select"),b=d.dataset.value;b&&"SPAN"===(null===d||void 0===d?void 0:d.tagName)&&(d.classList.add("hide"),a.classList.remove("hide"),a.value=b,a.focus())};e.prototype.editEnd=function(d){d=d.evt.target;var a=d.parentElement.querySelector("span"),
b=d.options[d.selectedIndex].dataset.value,c=this.findField({type:d.options[d.selectedIndex].dataset.type,name:b},this.dataLayerFields);u["default"].publish("appendData/fieldChanged",c);this.setValue(c);d.classList.add("hide");a.classList.remove("hide");return b};e.prototype.findField=function(d,a){var b=this,c=(a||[]).filter(function(h){return d.name.toLowerCase()===h.name.toLowerCase()&&(h.type===d.type||b.findAddressField(h.displayName||h.name))});return(null===c||void 0===c?0:c.length)?c.shift():
this.noneField};e.prototype.findAddressField=function(d){var a=this.addressFields||{},b=Object.keys(a).filter(function(c){return a[c]===d});return(null===b||void 0===b?0:b.length)?b.shift():null};e.prototype.createMatchFieldOptions=function(){var d=this,a=new E["default"];(this.dataLayerFields||[]).forEach(function(b){if("__none"===b.value||l["default"](d.field,b)){var c=document.createElement("option");c.dataset.value=b.value||b.name;c.dataset.type=b.type||null;c.value=b.value||b.name;c.innerHTML=
b.displayName||b.name;d.matchFields.add(c)}});a.resolve(!0);return a};return e=r.__decorate([f["default"](g["default"],k["default"])],e)}()})},"arcgisonline/sharing/dijit/AppendData/_canMatchFields":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M["default"]=function(r,x){var t,l=(null===r||void 0===r?void 0:r.type)||null,f=(null===x||void 0===x?void 0:x.type)||null,g={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger",
"esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:"esriFieldTypeString esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeDate esriFieldTypeGUID".split(" "),esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID",
"esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"]};return f&&(f===l||-1<(null===(t=g[l])||void 0===t?void 0:t.indexOf(f)))}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceLayer.html dojo/text!../../../img/Archive_no-text.svg dojo/text!../../../img/Replace_no-text.svg dojo/i18n!../../../nls/arcgisonline dojo/string dojo/dom-attr dojo/dom-construct dojo/query arcgisonline/pages/dijit/Overlay ../../utils/dom ../../utils/icons ../../serviceUtil arcgis-components/wrappers/ItemBrowser ../../portal/Portal esri/request arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig arcgisonline/map/core/sameSpatialReference arcgisonline/map/core/sameTilingScheme arcgisonline/map/layer/getServiceInfo ../../portal/PortalItem ../../../sharing/util ../../utils/alerts dojo/Deferred".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);return function(){function F(v,C){this.title=f["default"].replaceLayer.replaceLayer;this.i18n=f["default"];this.icons=q["default"];this.overlayContents=g["default"].substitute(x["default"],{i18n:this.i18n,icons:this.icons});this._showPreviewStylesTab=!0;this._replaceItemInformation=!1;this.isVectorTile=!0;this._currentStep=1;this.cacheTypeKeywords=""}F.prototype.postCreate=function(){var v=this,C;this.inherited(arguments);
this.type=this.item.type;this.isTile=this.item.types.includes("is-tile");this.isVectorTile=this.item.types.includes("is-vectorTile");(this.isCacheContent=this.item.typeKeywords.includes("ExtractedCache"))&&(this.isTile||this.isVectorTile)&&(this.cacheTypeKeywords=' AND typekeywords:("ExtractedCache" AND "Tiled" AND "'+(this.isTile?"Map Service":"Vector Tile Service")+'")');this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:f["default"].replaceLayer.selectReplacementLayer,
mainActionTitle:f["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent","myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(v.isCacheContent?"-":"")+'typekeywords:"Hosted Service"'+v.cacheTypeKeywords+" NOT id:"+v.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",
order:"desc"}}};this.telemetry=null===(C=this.page)||void 0===C?void 0:C.telemetry;this._stepperNextButton=this.domNode.querySelector(".js-stepper-next-btn");this._overlayHelpButton=this.domNode.querySelector(".overlay-help");this._stepperLinks=this.domNode.querySelectorAll(".js-step-link");this._selectLayerButton=this.domNode.querySelector(".js-replace-layer-select");this._changeLayerButton=this.domNode.querySelector(".js-replace-lyr-change-lyr");this._archiveInputContainer=this.domNode.querySelector(".js-replace-lyr-edit-container");
this._currentArchiveName=this.domNode.querySelector(".js-replace-lyr-current-arch-name");this._archiveInputName=this.domNode.querySelector(".js-replace-lyr-edit-name");this._archiveInputSave=this.domNode.querySelector(".js-replace-lyr-edit-save");this._archiveInputEdit=this.domNode.querySelector(".js-replace-lyr-current-arch-btn");this._nameInputError=this.domNode.querySelector(".js-replace-name-input-error");this._nameAvailableError=this.domNode.querySelector(".js-replace-name-available-error");
this._itemInformationSwitch=this.domNode.querySelector(".js-replace-lyr-replace-item-switch");this._changeLayerSummaryButton=this.domNode.querySelector(".js-replace-lyr-change-lyr-summary");this._changeLayerOptionButton=this.domNode.querySelector(".js-replace-lyr-change-option");this._availabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice");this._closeAvailabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice-close");this._radioOptions=u["default"]("input[name\x3djs-replace-lyr-archive-option-radio]",
this.domNode);this._archiveSvg=this.domNode.querySelector(".js-archive_svg");this._replaceSvg=this.domNode.querySelector(".js-replace_svg");this._shownPreviewStylesContent=this.domNode.querySelectorAll(".js-replace-lyr-show-preview-step");this._selectedLayerTitle=this.domNode.querySelectorAll(".js-replace-lyr-selected-lyr-name");this._selectedLayerOwner=this.domNode.querySelectorAll(".js-replace-lyr-selected-owner");this._selectedLayerIcon=this.domNode.querySelectorAll(".js-replace-lyr-selected-icon");
this._selectedLayerType=this.domNode.querySelectorAll(".js-replace-lyr-selected-type");this._currentLayerTitle=this.domNode.querySelector(".js-replace-lyr-current-lyr-name");this._currentLayerOwner=this.domNode.querySelector(".js-replace-lyr-current-owner");this._currentLayerIcon=this.domNode.querySelector(".js-replace-lyr-current-icon");this._currentLayerType=this.domNode.querySelector(".js-replace-lyr-current-type");this._preSelectContainer=this.domNode.querySelector(".pre-select");this._postSelectContainer=
this.domNode.querySelector(".post-select");this._checkStyles=this.domNode.querySelector(".js-replace-lyr-check-styles");this._checkStylesSuccess=this.domNode.querySelector(".js-replace-lyr-check-styles-success");this._checkStylesWarnings=this.domNode.querySelectorAll(".js-replace-lyr-check-styles-warning");this._selectedLayerContainer=this.domNode.querySelector(".js-replace-lyr-selected-layer");this._replaceLayerErrorMessage=this.domNode.querySelector(".js-replace-lyr-error");this._replaceLayerPreviewContainer=
this.domNode.querySelector(".js-replace-lyr-preview-container");this._styleDropdown=this.domNode.querySelector(".js-replace-lyr-style-layer-dropdown");this._replaceSingleStyle=this.domNode.querySelector(".js-replace-lyr-single-style");this._replaceMultipleStyles=this.domNode.querySelector(".js-replace-lyr-multiple-styles");this._replaceSingleStyleLabel=this.domNode.querySelector(".js-replace-lyr-style-layer");this._archiveOptionLayerName=this.domNode.querySelector(".js-replace-lyr-new-layer-name");
this._replaceItemInformationLabel=this.domNode.querySelector(".js-replace-lyr-replace-item-information");this._replaceOptionArchiveLabel=this.domNode.querySelector(".js-replace-lyr-archive-option");this._replaceOptionReplacementLabel=this.domNode.querySelector(".js-replace-lyr-replace-option")};F.prototype.addListeners=function(){var v=this;this._stepperNextButton.addEventListener("click",this.handlePrimary.bind(this),!1);this._overlayHelpButton.addEventListener("click",this.handleHelp.bind(this),
!1);for(var C=0;C<this._stepperLinks.length;C++)this._stepperLinks[C].addEventListener("click",this.onStepClick.bind(this));this._radioOptions.on("change",this.onOptionSelect.bind(this));this._selectLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._changeLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._archiveInputName.addEventListener("input",this.handleArchiveInput.bind(this));this._archiveInputSave.addEventListener("click",this.handleArchiveSave.bind(this));
this._archiveInputEdit.addEventListener("click",this.handleArchiveEdit.bind(this));this._itemInformationSwitch.addEventListener("click",this.handleReplaceItemInformationSwitch.bind(this));this._changeLayerSummaryButton.addEventListener("click",this.handleChangeLayerSummaryClick.bind(this));this._changeLayerOptionButton.addEventListener("click",this.handleChangeOptionSummaryClick.bind(this));this._closeAvailabilityNotice.addEventListener("click",this.handleCloseNotice.bind(this));this._styleDropdown.addEventListener("change",
this.handleLayerDropdownChange.bind(this));this._overlay.addEventListener("transitionend",function(G){"transform"===G.propertyName&&v._selectLayerButton.focus()})};F.prototype.open=function(){this.domNode.classList.add("overlay-stepper");y["default"].place(this.domNode.querySelector(".js-stepper-headers"),this._overlayContentWrapper,"before");y["default"].place(this.domNode.querySelector(".js-step-bars"),this.domNode.querySelector(".js-stepper-headers"),"after");document.body.classList.add("stepper--open");
this.initUI();this.inherited(arguments)};F.prototype.close=function(){this.inherited(arguments);this._itemBrowserContainer&&this._itemBrowserContainer.parentNode.removeChild(this._itemBrowserContainer);document.body.classList.remove("stepper--open")};F.prototype.initUI=function(){for(var v=this,C,G,H=1;4>=H;H++)this["_step"+H]=this.domNode.querySelector(".js-step-"+H),this["_stepHeader"+H]=this.domNode.querySelector(".js-step-header-"+H),this["_stepBar"+H]=this.domNode.querySelector(".js-step-"+H+
"-bar");this._selectedOption=this.getSelectedOption();this._archiveName=this.generateArchiveName();this._currentArchiveName.textContent=this._archiveName;this._archiveInputName.value=this._archiveName;this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);this._archiveSvg&&(this._archiveSvg.innerHTML=g["default"].substitute(t["default"],{i18n:f["default"]}));this._replaceSvg&&(this._replaceSvg.innerHTML=g["default"].substitute(l["default"],{i18n:f["default"]}));z["default"].showNode(this._overlayHelpButton);
c["default"].self.isPortal||z["default"].showNode(this._availabilityNotice);this._relatedStyles=this.item.relatedItems.Service2Style_forward;if(!(0<(null===(C=this._relatedStyles)||void 0===C?void 0:C.length)))this._showPreviewStylesTab=!1,z["default"].hideNodes(this._shownPreviewStylesContent);else if(null===(G=this._relatedStyles)||void 0===G?0:G[0])this._selectedBaseStyle=this._relatedStyles[0],m["default"].checkForResources(this._selectedBaseStyle).then(function(K){v._selectedBaseStyle.hasResources=
K});this.item.serviceInfo||p["default"](this.item.url,null,function(K){v.item.serviceInfo=K});this.createItemBrowser();this.addListeners();this.goToStep(1)};F.prototype.generateArchiveName=function(){function v(L){return 2>String(L).length?"0"+L:L}var C=new Date,G=C.getFullYear(),H=v(C.getMonth()+1),K=v(C.getDate()),O=v(C.getHours());C=v(C.getMinutes());return this.item.title+"_"+(G+"_"+H+"_"+K+"_"+O+"_"+C)};F.prototype.replaceSpacesWithUnderscore=function(v){return v.replace(/\s/g,"_")};F.prototype.createItemBrowser=
function(){var v=this;this._itemBrowserContainer||(this._itemBrowserContainer=document.createElement("div"),z["default"].hideNode(this._itemBrowserContainer),document.body.appendChild(this._itemBrowserContainer),this.portal=new d["default"](c["default"].restBaseUrl),this.portal.signIn().then(function(){v._itemBrowser=new e.ItemBrowserWrapper(v._itemBrowserContainer,{apiVersion:3,portal:v.portal,request:a["default"],initialState:v._itemBrowserConfig})}))};F.prototype.openItemBrowser=function(){var v=
this;this._itemBrowserContainer.querySelector(".mod__overlay-container").addEventListener("animationend",function(){v._itemBrowserContainer.querySelector(".mod__overlay__close").focus({preventScroll:!0})});z["default"].isHidden(this._itemBrowserContainer)?z["default"].showNode(this._itemBrowserContainer):this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.remove("hide")};F.prototype.handleSelectItem=function(v){this._selectedReplacementItem=new w["default"](r.__assign(r.__assign({},
v[0]),{portal:this.portal}));this.initiateCompatibilityCheck();this.closeItemBrowser();for(v=0;v<this._selectedLayerTitle.length;v++)this._selectedLayerTitle[v].innerHTML=this._selectedReplacementItem.title,this._selectedLayerOwner[v].innerHTML=this._selectedReplacementItem.owner,this._selectedLayerOwner[v].href=c["default"].baseUrl+"user.html?user\x3d"+this._selectedReplacementItem.owner,this._selectedLayerIcon[v].src=this._selectedReplacementItem.iconUrl,this._selectedLayerType[v].innerHTML=this.getItemDisplayName(this._selectedReplacementItem)};
F.prototype.initiateCompatibilityCheck=function(){var v=this;this._primaryBtn.disabled=!0;this._preSelectContainer.classList.add("hide");this._postSelectContainer.classList.remove("hide");this._selectedLayerContainer.classList.remove("stepper__content-pane-error");this._replaceLayerErrorMessage.classList.remove("is-active");z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNodes(this._checkStylesWarnings);z["default"].showNode(this._checkStyles);this.item.canUpdate?this.checkLayerCompatibility().then(function(){v.checkForCompatibleStyles(v._selectedReplacementItem)},
function(C){v.handleLayerSelectionError(C)}):(this._selectedLayerContainer.classList.add("stepper__content-pane-error"),this._replaceLayerErrorMessage.innerHTML=f["default"].replaceLayer.error,z["default"].activateNode(this._replaceLayerErrorMessage),z["default"].hideNode(this._checkStylesSuccess),z["default"].hideNode(this._checkStyles))};F.prototype.checkLayerCompatibility=function(){var v=this,C=new D["default"];p["default"](this._selectedReplacementItem.url,null,function(G){-1<v._selectedReplacementItem.url.indexOf("://vectortileservices")?
v._selectedReplacementItem.getRelatedItems(v.isCacheContent?"DataStore2ByRefService":"Service2Service","reverse").then(function(H){var K=f["default"].replaceLayer.error,O=!0,L=h["default"](v.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference),J=v.item.serviceInfo.tileInfo.layerType===G.tileInfo.layerType;0<H.map(function(R){return R.type}).filter(function(R){return"Feature Service"===R}).length?K=f["default"].replaceLayer.tileLayerPackageError:L||J?L?J?O=!1:K=f["default"].replaceLayer.replaceSceneLayer.layerTypeError:
K=f["default"].replaceLayer.differentCoordinateSystem:K=f["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError;O?C.reject(Error(K)):C.resolve()}):v._selectedReplacementItem.getRelatedItems("Service2Service","reverse").then(function(H){var K;v.isTile&&"Feature Service"===(null===(K=H[0])||void 0===K?void 0:K.type)&&C.reject(Error(f["default"].replaceLayer.hostedFeatureLayerError));m["default"].checkForResources(v.item).then(function(O){v.item.hasResources=O});m["default"].checkForResources(v._selectedReplacementItem).then(function(O){v._selectedReplacementItem.hasResources=
O});H=n["default"](v.item.serviceInfo.tileInfo,G.tileInfo);h["default"](v.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference)&&H?C.resolve():C.reject(Error(f["default"].replaceLayer.differentSchemeCombined))})},function(G){v.handleLayerSelectionError(G)});return C};F.prototype.checkForCompatibleStyles=function(v){var C=this,G=""+v.url+(this.isVectorTile&&!v.url.includes("://vectortileservices")?"/resources/styles/root.json":"");v=""+this.item.url+(this.isVectorTile&&!this.item.url.includes("://vectortileservices")?
"/resources/styles/root.json":"");B["default"].request({url:v,content:{f:"json"}}).then(function(H){C._baseItemJson=H;B["default"].request({url:G,content:{f:"json"}}).then(function(K){C._replacementItemJson=K}).then(function(){var K=C._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");!C.isVectorTile||C.compareLayers(C._baseItemJson.layers,C._replacementItemJson.layers)?(z["default"].showNode(C._checkStylesSuccess),z["default"].hideNodes(C._checkStylesWarnings),
z["default"].hideNode(C._checkStyles)):(z["default"].hideNode(C._checkStylesSuccess),z["default"].showNodes(C._checkStylesWarnings),z["default"].hideNode(C._checkStyles),K&&C._changeLayerButton.focus());C._primaryBtn.disabled=!1;K&&C._primaryBtn.focus()})["catch"](function(K){C.handleLayerSelectionError(K)})})};F.prototype.isWebMercator=function(v){return 0<=[102113,102100,3857,3785].indexOf(v)};F.prototype.handleLayerSelectionError=function(v){var C;this._selectedLayerContainer.classList.add("stepper__content-pane-error");
this._replaceLayerErrorMessage.innerHTML=0<(null===(C=v.message)||void 0===C?void 0:C.length)?v.message:"Error";z["default"].activateNode(this._replaceLayerErrorMessage);z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNode(this._checkStyles);this._changeLayerButton.focus()};F.prototype.compareLayers=function(v,C){var G=this,H=v.map(function(O){return G.isVectorTile?O.id:O.name}).sort(),K=C.map(function(O){return G.isVectorTile?O.id:O.name}).sort();return H.every(function(O){return 0<=
K.indexOf(O)})||K.every(function(O){return 0<=H.indexOf(O)})};F.prototype.closeItemBrowser=function(){this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.add("hide");z["default"].isHidden(this._postSelectContainer)?this._selectLayerButton.focus():this._changeLayerButton.focus()};F.prototype.goToStep=function(v){var C=this;z["default"].hideNode(this["_step"+this._currentStep]);this["_stepBar"+this._currentStep]&&z["default"].hideNode(this["_stepBar"+this._currentStep]);
this._currentStep=v;for(var G=v-1;1<=G;G--)this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_stepHeader"+G].classList.add("stepper__step-item--past"),this["_step"+G].parentNode.classList.add("stepper__content--past-step");for(G=v+1;4>=G;G++)this["_stepHeader"+G].classList.remove("stepper__step-item--past"),this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_step"+G].parentNode.classList.remove("stepper__content--past-step");z["default"].showNode(this["_step"+
this._currentStep]);(v=this.domNode.querySelector(".stepper__content--active-step"))&&v.classList.remove("stepper__content--active-step");this["_step"+this._currentStep].parentNode.classList.remove("stepper__content--past-step");this["_step"+this._currentStep].parentNode.classList.add("stepper__content--active-step");this["_stepHeader"+this._currentStep].classList.remove("stepper__step-item--past");this["_stepHeader"+this._currentStep].classList.add("stepper__step-item--active");this["_stepBar"+this._currentStep]?
(z["default"].showNode(this["_stepBar"+this._currentStep]),this.domNode.classList.add("has-step-bar")):this.domNode.classList.remove("has-step-bar");z["default"].hideNode(this.domNode.querySelector(".js-compile-error-icon"));this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);switch(this._currentStep){case 1:this._primaryBtn.disabled=!this._selectedReplacementItem;break;case 2:this.checkServiceNameAvailable(this._archiveName).then(function(H){H.available||(C.handleArchiveNameValidationError("unavailable"),
C.handleArchiveEdit())});this.alignSvgLabels();break;case 3:this.populateRelatedStyles();this._replaceLayerPreviewContainer.src=this.composePreviewPath();break;case 4:this.populateSummary(),this.setPrimaryBtnText(f["default"].replaceLayer.replace)}};F.prototype.populateRelatedStyles=function(){var v=this;if(0!==this._relatedStyles.length)if(1<this._relatedStyles.length){for(;0<this._styleDropdown.options.length;)this._styleDropdown.remove(0);this._relatedStyles.forEach(function(C){C.option=new Option(C.title);
v._styleDropdown.add(C.option);m["default"].checkForResources(C).then(function(G){return C.hasResources=G})});z["default"].hideNode(this._replaceSingleStyle);z["default"].showNode(this._replaceMultipleStyles)}else this._replaceSingleStyleLabel.textContent=this._relatedStyles[0].title,z["default"].showNode(this._replaceSingleStyle),z["default"].hideNode(this._replaceMultipleStyles)};F.prototype.alignSvgLabels=function(){var v,C,G;null===(v=this.domNode.querySelector(".archive-lyr-current-layer-svg"))||
void 0===v?void 0:v.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(C=this.domNode.querySelector(".archive-lyr-archive-svg"))||void 0===C?void 0:C.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(G=this.domNode.querySelector(".replace-lyr-current-layer-svg"))||void 0===G?void 0:G.setAttribute("text-anchor","rtl"===document.dir?"end":"start")};F.prototype.onStepClick=function(v){v=+k["default"].get(v.target,"data-step-num");v<this._currentStep&&this.goToStep(v)};
F.prototype.onOptionSelect=function(){var v=this.getSelectedOptionContainer();this._selectedOption=this.getSelectedOption();for(var C=this.domNode.querySelectorAll(".stepper__radio-item"),G=0;G<C.length;G++)C[G].classList.remove("stepper__radio-item--selected");v.classList.add("stepper__radio-item--selected")};F.prototype.getSelectedOption=function(){var v;this._radioOptions.some(function(C){C.checked&&(v=C.value);return C.checked});return v};F.prototype.getSelectedOptionContainer=function(){var v=
this._radioOptions.filter(function(C){return C.checked})[0];return v?v.parentNode.parentNode:null};F.prototype.handleArchiveEdit=function(){this._primaryBtn.disabled=!0;z["default"].showNode(this._archiveInputContainer);z["default"].hideNode(this._archiveInputEdit);this._archiveInputName.focus()};F.prototype.handleArchiveInput=function(v){z["default"].deactivateNode(this._nameInputError);z["default"].deactivateNode(this._nameAvailableError);var C=/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(v.target.value);
0===v.target.value.length||C?this.handleArchiveNameValidationError(C?"invalid":void 0):this._archiveInputSave.disabled=!1};F.prototype.handleArchiveSave=function(){var v=this,C=this._archiveInputName.value;this.checkServiceNameAvailable(this.replaceSpacesWithUnderscore(C)).then(function(G){G.available?v.saveArchiveName(C):v.handleArchiveNameValidationError("unavailable")})};F.prototype.saveArchiveName=function(v){this._archiveName=v;this._currentArchiveName.textContent=v;z["default"].hideNode(this._archiveInputContainer);
z["default"].showNode(this._archiveInputEdit);this._primaryBtn.disabled=!1};F.prototype.checkServiceNameAvailable=function(v){return B["default"].request({url:c["default"].portal.portalUrl+"portals/"+(c["default"].self&&c["default"].self.user&&(c["default"].self.user.accountId||c["default"].self.user.orgId))+"/isServiceNameAvailable",content:{name:v,type:"Vector Tile Service",f:"json"}})};F.prototype.composePreviewPath=function(){var v=(this._selectedBaseStyle.hasResources?this._selectedBaseStyle.itemUrl:
this._selectedBaseStyle.url)+"/resources/styles/root.json";return c["default"].vectorTileStylePreview+"?vtStyle\x3d"+(this._selectedBaseStyle.viewStyleUrl?this._selectedBaseStyle.viewStyleUrl:v)+"\x26vtLayer\x3d"+(this._selectedReplacementItem.viewUrl?this._selectedReplacementItem.viewUrl:this._selectedReplacementItem.url)+(this.isWebMercator(Number(this.item.serviceInfo.tileInfo.spatialReference.wkid))?"\x26basemap\x3dstreets-vector":"")};F.prototype.handleArchiveNameValidationError=function(v){this._archiveInputSave.disabled=
!0;switch(v){case "invalid":z["default"].activateNode(this._nameInputError);break;case "unavailable":z["default"].activateNode(this._nameAvailableError)}};F.prototype.handleReplaceItemInformationSwitch=function(){this._replaceItemInformation=this._itemInformationSwitch.checked};F.prototype.handleChangeLayerSummaryClick=function(){this.goToStep(1)};F.prototype.handleChangeOptionSummaryClick=function(){this.goToStep(2)};F.prototype.handleLayerDropdownChange=function(){this._selectedBaseStyle=this._relatedStyles.filter(function(v){return v.option.selected})[0];
this._replaceLayerPreviewContainer.src=this.composePreviewPath()};F.prototype.handlePrimary=function(v){var C=this;v.stopPropagation();v.preventDefault();2!==this._currentStep||this._showPreviewStylesTab?4<=this._currentStep?(this.close(),this.replaceLayer().then(function(){var G;null===(G=C.telemetry)||void 0===G?void 0:G.logEvent({category:"archive option",label:"archive"===C._selectedOption?"new layer":"swap"});A["default"].showAlert("success",g["default"].substitute(f["default"].replaceLayer.layerReplaceSuccess,
{srcTitle:"\x3cb\x3e"+C.item.title+"\x3c/b\x3e"}));setTimeout(function(){window.location.reload()},4E3)})["catch"](function(G){A["default"].showAlert("error",G)})):this.goToStep(this._currentStep+1):this.goToStep(4)};F.prototype.handleHelp=function(){var v;window.open(""+c["default"].self.helpBase+((null===(v=c["default"].self.helpMap)||void 0===v?void 0:v.m["120001792"])||""))};F.prototype.handleCloseNotice=function(v){z["default"].hideNode(v.target.parentNode)};F.prototype.setPrimaryBtnText=function(v){this._primaryBtn.innerHTML=
v};F.prototype.getItemDisplayName=function(v){return"Vector Tile Service"===v.type?f["default"].items.tileLayer:v.displayName};F.prototype.populateSummary=function(){this._currentLayerTitle.innerHTML=this.item.title;this._currentLayerOwner.innerHTML=this.item.owner;this._currentLayerOwner.href=c["default"].baseUrl+"user.html?user\x3d"+this.item.owner;this._currentLayerIcon.src=this.item.iconUrl;this._currentLayerType.innerHTML=this.getItemDisplayName(this.item);"archive"===this._selectedOption?(this._archiveOptionLayerName.innerHTML=
this.replaceSpacesWithUnderscore(this._archiveName),z["default"].showNode(this._replaceOptionArchiveLabel),z["default"].hideNode(this._replaceOptionReplacementLabel)):(z["default"].showNode(this._replaceOptionReplacementLabel),z["default"].hideNode(this._replaceOptionArchiveLabel));this._replaceItemInformation?z["default"].showNode(this._replaceItemInformationLabel):z["default"].hideNode(this._replaceItemInformationLabel)};F.prototype.replaceLayer=function(){var v="archive"===this._selectedOption?
{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"}:{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._selectedReplacementItem.title),replaceMetadata:this._replaceItemInformation,f:"json"};return B["default"].request({url:this.portal.portalUrl+
"content/users/"+this.portal.user.username+"/replaceService",content:v},{usePost:!0})};return F=r.__decorate([b["default"](E["default"])],F)}()})},"arcgis-components/wrappers/ItemBrowser":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/_base/kernel ../ItemBrowser/index".split(" "),function(U,M,r,x,t,l){return function(f){function g(y){if(k[y])return k[y].exports;var u=k[y]={i:y,l:!1,exports:{}};return f[y].call(u.exports,u,u.exports,g),u.l=
!0,u.exports}var k={};return g.m=f,g.c=k,g.d=function(y,u,E){g.o(y,u)||Object.defineProperty(y,u,{enumerable:!0,get:E})},g.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},g.t=function(y,u){if((1&u&&(y=g(y)),8&u)||4&u&&"object"==typeof y&&y&&y.__esModule)return y;var E=Object.create(null);if(g.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:y}),2&u&&"string"!=typeof y)for(var z in y)g.d(E,
z,function(q){return y[q]}.bind(null,z));return E},g.n=function(y){var u=y&&y.__esModule?function(){return y["default"]}:function(){return y};return g.d(u,"a",u),u},g.o=function(y,u){return Object.prototype.hasOwnProperty.call(y,u)},g.p="",g(g.s=983)}({0:function(f,g,k){function y(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)}function u(a,b){var c={},h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&0>b.indexOf(h)&&(c[h]=a[h]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(a);n<h.length;n++)0>b.indexOf(h[n])&&Object.prototype.propertyIsEnumerable.call(a,h[n])&&(c[h[n]]=a[h[n]])}return c}function E(a,b,c,h){var n,p=arguments.length,w=3>p?b:null===h?h=Object.getOwnPropertyDescriptor(b,c):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=
Reflect.decorate(a,b,c,h);else for(var B=a.length-1;0<=B;B--)(n=a[B])&&(w=(3>p?n(w):3<p?n(b,c,w):n(b,c))||w);return 3<p&&w&&Object.defineProperty(b,c,w),w}function z(a,b,c,h){return new (c||(c=Promise))(function(n,p){function w(D){try{A(h.next(D))}catch(F){p(F)}}function B(D){try{A(h["throw"](D))}catch(F){p(F)}}function A(D){var F;D.done?n(D.value):(F=D.value,F instanceof c?F:new c(function(v){v(F)})).then(w,B)}A((h=h.apply(a,b||[])).next())})}function q(a,b){function c(A){return function(D){return function(F){if(h)throw new TypeError("Generator is already executing.");
for(;B;)try{if(h=1,n&&(p=2&F[0]?n["return"]:F[0]?n["throw"]||((p=n["return"])&&p.call(n),0):n.next)&&!(p=p.call(n,F[1])).done)return p;switch(n=0,p&&(F=[2&F[0],p.value]),F[0]){case 0:case 1:p=F;break;case 4:return B.label++,{value:F[1],done:!1};case 5:B.label++;n=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(p=B.trys,(p=0<p.length&&p[p.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!p||F[1]>p[0]&&F[1]<p[3]))B.label=F[1];else if(6===F[0]&&B.label<p[1])B.label=
p[1],p=F;else if(p&&B.label<p[2])B.label=p[2],B.ops.push(F);else{p[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(v){F=[6,v],n=0}finally{h=p=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,D])}}var h,n,p,w,B={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return w={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function m(a,b){for(var c=0,h=b.length,n=a.length;c<h;c++,n++)a[n]=
b[c];return a}k.d(g,"d",function(){return y});k.d(g,"a",function(){return d});k.d(g,"f",function(){return u});k.d(g,"c",function(){return E});k.d(g,"b",function(){return z});k.d(g,"e",function(){return q});k.d(g,"g",function(){return m});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(c[n]=h[n])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,
c=1,h=arguments.length;c<h;c++)for(var n in b=arguments[c])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},100:function(f,g,k){k.d(g,"g",function(){return E});k.d(g,"k",function(){return z});k.d(g,"j",function(){return q});k.d(g,"h",function(){return m});k.d(g,"i",function(){return e});k.d(g,"c",function(){return d});k.d(g,"b",function(){return a});k.d(g,"f",function(){return b});k.d(g,"e",function(){return c});k.d(g,"d",function(){return h});
k.d(g,"a",function(){return n});k.d(g,"r",function(){return p});k.d(g,"n",function(){return w});k.d(g,"s",function(){return B});k.d(g,"o",function(){return A});k.d(g,"q",function(){return D});k.d(g,"p",function(){return F});k.d(g,"l",function(){return v});k.d(g,"m",function(){return C});var y=k(78),u=k(48),E="SELECT_ITEM",z="TOGGLE_ITEM",q="SELECT_ITEM_SINGLE",m="SELECT_ITEM_ASYNC",e="SELECT_ITEM_ASYNC_FAILED",d="DESELECT_ITEM",a="DESELECT_ALL",b="SELECT_ALL",c="SELECT_ALL_FROM_QUERY_SUCCESS",h="END_BULK_WORKFLOW",
n="CANCEL_BULK_WORKFLOW",p=function(G){return function(H,K){var O=K();if(O.settings.config.asynchronousItemSelect){H({type:m,payload:G});var L=O.settings.config.onSelect([Object(y.b)(G)]);(null==L?0:L.then)&&L.then(function(){O.settings.config.singleItemSelect?H({type:q,payload:G}):H({type:E,payload:G})},function(){H({type:e,payload:G})})}else O.settings.config.singleItemSelect?(H({type:q,payload:G}),O.settings.config.onSelect([Object(y.b)(G)])):(H({type:E,payload:G}),O.settings.config.onSelect([Object(y.b)(G)]))}},
w=function(G,H){var K=H();if(K.settings.config.disableInitiallySelectedItems){K=K.results;var O=K.selectedItems,L=K.initiallySelectedItems;Object.keys(O).map(function(J){return O[J]}).filter(function(J){return!L[J.id]}).forEach(function(J){G({type:d,payload:J})})}else G({type:a})},B=function(G){return{type:z,payload:G}},A=function(G){return function(H,K){var O=K();H({type:d,payload:G});O.settings.config.onDeselect([Object(y.b)(G)])}},D=function(){return function(G,H){var K=H();G({type:b,payload:K.ui.pagination.displayItems})}},
F=function(G){return{type:c,payload:G}},v=function(G,H){var K=null==H?void 0:H();G({type:n});null==K||K.settings.config.onBack()},C=function(G,H){var K=null==H?void 0:H();if(null==K?0:K.settings.config.onBulkAction){var O=K.settings.config.onBulkAction;K=K.results;var L=K.selectedItems,J=K.initiallySelectedItems;K=Object.keys(J).map(function(ea){return J[ea]});var R=Object.keys(L).map(function(ea){return L[ea]}),X=K.filter(function(ea){return!L[ea.id]}),aa=R.filter(function(ea){return!J[ea.id]});
G({type:u.a});G({type:h,payload:aa});O({initiallySelectedItems:K,allSelectedItems:R,newlySelectedItems:aa,deselectedItems:X})}}},101:function(f,g,k){k.d(g,"a",function(){return u});k.d(g,"b",function(){return E});var y=k(0),u=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:location.protocol+"//"+z.portalHostname:""},E=function(z){return Object(y.a)(Object(y.a)({},z),{baseUrl:u(z)})}},117:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,
z){var q=Object(y.a),m=Object(y.a)({},z),e=z.type,d=z.typeKeywords?z.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,c=!1,h=e=!1;if("ogcfeatureserver"===a)d="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var n=-1<d.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(h=-1<d.indexOf("Table"),b=-1<d.indexOf("Route Layer"),c=-1<d.indexOf("Markup"),d=(e=-1!==d.indexOf("Spatiotemporal"))&&
h?"spatiotemporaltable":h?"table":b?"routelayer":c?"markup":e?"spatiotemporal":n?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?d=n||-1<d.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?d=-1<d.indexOf("Line")?"sceneweblayerline":-1<d.indexOf("3DObject")?"sceneweblayermultipatch":-1<d.indexOf("Point")?"sceneweblayerpoint":-1<d.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<d.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<d.indexOf("Polygon")?"sceneweblayerpolygon":
-1<d.indexOf("Building")?"sceneweblayerbuilding":-1<d.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),d=e?"elevationlayer":d?"tiledimagerylayer":"imagery"):d="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<d.indexOf("Web Tool")?"tool":"layers"}else d="web map"===
a||"cityengine web scene"===a?"maps":"web scene"===a?-1<d.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==d?void 0:d.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||
"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<d.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<d.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===
a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<d.indexOf("Explorer Mapping Application")||-1<d.indexOf("Document")?
"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":
"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===
a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return q(m,{iconURI:E+"/"+d+"16.png"})})},120:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){var q=
Object(y.a),m=Object(y.a)({},z),e,d,a="notebook"!==(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(d=z.type)||void 0===d?void 0:d.toLowerCase())&&(a="notebook-code-snippet-thumb.png");d=E.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(z.thumbnail&&(d=E.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),d);return q(m,{thumbURI:e})})},121:function(f,g,k){k.d(g,"a",
function(){return E});var y=k(0);f=k(15);var u=function(z,q){return q.description?q.description.replace(/src=('|")js\/jsapi\/esri\//g,function(m){return"src\x3d"+('"'===m[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},E=Object(f.a)(function(z,q){return Object(y.a)(Object(y.a)({},q),{patchedDescription:u(z,q)})})},122:function(f,g,k){k.d(g,"a",function(){return z});var y=k(0),u=k(124);f=k(15);var E=k(58),z=Object(f.a)(function(q,m){var e=Object(y.a),d=Object(y.a)({},m),a,b=m.type,c=m.typeKeywords||
[],h=b,n=(null==q?void 0:q.portalUser)||(null==q?void 0:q.user);if("Feature Service"===b||"Feature Collection"===b){if(h=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",n&&Object(E.d)(m,n)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",h=h+" ("+(u.a[c]||u.a[c.split("-")[0]]||u.a.en)+")"}else"Image Service"===b?(a=
-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),h=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?h="Scene Layer":"Scene Package"===b?h="Scene Layer Package":"Stream Service"===b?h="Feature Layer":"Geocoding Service"===b?h="Locator":"Microsoft Powerpoint"===b?h="Microsoft PowerPoint":"OGCFeatureServer"===b?h="OGC Feature Layer":"GeoJson"===b?h="GeoJSON":"Globe Service"===b?h="Globe Layer":"Vector Tile Service"===b?h="Tile Layer":"netCDF"===b?h="NetCDF":
"Map Service"===b?h=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?h=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?h="Big Data File Share":"Web Mapping Application"===b&&(null==c?0:c.includes("configurableApp"))?h="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?h+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||
c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(h+=" (Big Data File Share)"));return e(d,{displayName:h})})},123:function(f,g,k){k.d(g,"a",function(){return E});var y=k(0);f=k(15);var u=function(z,q){var m=[],e=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?m.push("authoritative"):"deprecated"===z.contentStatus&&m.push("deprecated")),z.origin&&m.push("collaboration"),z.groupDesignations&&
-1<z.groupDesignations.indexOf("livingatlas")&&m.push("livingAtlas"),-1<e.indexOf("Requires Credits")?m.push("premium"):-1<e.indexOf("Requires Subscription")&&m.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==q?void 0:q.portalUser)||(null==q?void 0:q.user))&&m.push("publicDataCollection"),"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&m.push("solution"),q.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&m.push("retiredStoryMap"),
function(d){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=d.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(z)&&m.push("retiredApp")),m},E=Object(f.a)(function(z,q){return Object(y.a)(Object(y.a)({},q),{badges:u(q,z)})})},124:function(f,g,k){k.d(g,"a",function(){return y});var y={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},126:function(f,g,k){function y(z){var q=Object(u.b)(z.settings.config.customSections,z.parameters.section);return(null==q?0:q.portal)?Object(E.b)(q.portal):z.settings.utils.portal}k.d(g,"a",function(){return y});var u=k(86),E=k(101)},141:function(f,g,k){k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});var y={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},u="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
148:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){var q=Object(y.a),m=Object(y.a)({},z);var e=z.thumbnail?E.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:""):void 0;return q(m,{thumbURI:e})})},15:function(f,g,k){function y(E){return function q(){for(var m=this,e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];return e.length>=E.length?E.call.apply(E,Object(u.g)([this],e)):function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return q.call.apply(q,Object(u.g)(Object(u.g)([m],e),a))}}}k.d(g,"a",function(){return y});var u=k(0)},150:function(f,g){f.exports=t},16:function(f,g){f.exports=U},162:function(f,g,k){function y(B,A){var D=["",{method:"get",query:A.settings.config.addRequestParameters?Object(z.a)({f:"json",q:Object(m.b)(A),num:B.num?B.num:A.settings.config.resultsPerQuery,sortOrder:A.parameters.sort.order,start:B.start?B.start:1},A.settings.config.addRequestParameters()):
{f:"json",q:Object(m.b)(A),num:B.num?B.num:A.settings.config.resultsPerQuery,sortOrder:A.parameters.sort.order,start:B.start?B.start:1}}];return Object(q.a)(c(A),h(A),n(A),p(A))(D)}function u(B,A){var D=["",{method:"get",query:{f:"json",q:Object(m.a)(B),num:0,countFields:A.join(", "),countSize:200}}];return b(B)(D)}function E(B,A){var D=["",{method:"get",query:{f:"json",q:Object(m.c)(B,A),num:0,countFields:"tags",countSize:200}}];return b(B)(D)}k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});
k.d(g,"c",function(){return E});var z=k(0),q=k(63);f=k(15);var m=k(179),e=k(356),d=k(126),a=k(86),b=function(B){return Object(q.a)(p(B),w(B),n(B))},c=Object(f.a)(function(B,A){var D=A[0],F=A[1],v=B.parameters.sort.field;return"relevance"!==v?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{sortField:v})})]:[D,F]}),h=Object(f.a)(function(B,A){var D=A[0],F=A[1];if(B.parameters.filter.searchMapArea){var v=B.parameters.extent.area;v=v.minx+","+v.miny+","+v.maxx+","+v.maxy;
return[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{bbox:v})})]}return[D,F]}),n=Object(f.a)(function(B,A){var D=A[0],F=A[1],v=Object(e.a)(B);return v?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{enriched:v})})]:[D,F]}),p=Object(f.a)(function(B,A){A[0];var D=A[1],F=B.parameters,v=F.section;F=F.filter;var C=Object(d.a)(B),G=C.restUrl+"/search";if("myGroups"===v&&F.group)G=C.restUrl+"/content/groups/"+F.group.id+"/search",F.groupCategories&&
(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.groupCategories.value])));else if("livingAtlas"!==v&&"Living Atlas"!==v||!B.results.livingAtlas.groupId)if(!F.orgCategories||"myOrganization"!==v&&"myContent"!==v){if(v=Object(a.b)(B.settings.config.customSections,v))Object(a.d)(v)&&F.orgCategories&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]))),(v=Object(a.c)(v))&&(G=C.restUrl+"/content/groups/"+v.id+"/search",F.groupCategories&&(G=G+"?categories\x3d"+
encodeURIComponent(JSON.stringify([F.groupCategories.value]))))}else G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]));else G=C.restUrl+"/content/groups/"+B.results.livingAtlas.groupId+"/search",F.livingAtlasCategories?(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasCategories.value])),F.livingAtlasRegion&&(G=G+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])))):F.livingAtlasRegion&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])));
return[G,D]}),w=Object(f.a)(function(B,A){var D=A[0],F=A[1],v=B.parameters.section,C=Object(a.b)(B.settings.config.customSections,v);return"myGroups"===v&&B.parameters.filter.group||("livingAtlas"===v||"Living Atlas"===v)&&B.results.livingAtlas.groupId||C&&Object(a.c)(C)?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{countFields:F.query.countFields?F.query.countFields.replace("categories","groupcategories"):void 0})})]:[D,F]})},170:function(f,g){var k=function(){return this}();
try{k=k||(new Function("return this"))()}catch(y){"object"==typeof window&&(k=window)}f.exports=k},173:function(f,g,k){k.d(g,"a",function(){return q});k.d(g,"c",function(){return m});k.d(g,"b",function(){return e});k.d(g,"d",function(){return d});k.d(g,"h",function(){return a});k.d(g,"i",function(){return b});k.d(g,"j",function(){return c});k.d(g,"e",function(){return h});k.d(g,"g",function(){return n});k.d(g,"f",function(){return p});k.d(g,"l",function(){return w});k.d(g,"k",function(){return A});
k.d(g,"m",function(){return D});f=k(65);var y=k.n(f);f=k(56);var u=k.n(f),E=k(30),z=k(48),q="ADD_TO_FAVORITES",m="ADD_TO_FAVORITES_SUCCESS",e="ADD_TO_FAVORITES_FAIL",d="LOADING_USER_INFO",a="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",c="UPDATE_USER_INFO_FAILED",h="REMOVE_FROM_FAVORITES",n="REMOVE_FROM_FAVORITES_SUCCESS",p="REMOVE_FROM_FAVORITES_FAIL",w=function(){return function(F,v){var C=v(),G=C.parameters.filter.group,H=C.results.user.groupCategories;if("loaded"===C.results.user.status)return G&&
!H[G.id]?F(B(G.id)):(new u.a).resolve();if("failed"===C.results.user.status)return(new u.a).reject();F({type:d});H=C.settings.utils;C=H.request;H=H.portal;return y()([Object(E.r)(C,H).then(function(K){return K.groups.map(function(O){return{id:O.id,title:O.title}})}),Object(E.s)(C,H).then(function(K){return K.folders.map(function(O){return{id:O.id,title:O.title}})}),Object(E.t)(C,H,H.user.favGroupId).then(function(K){return K.items.reduce(function(O,L){return O[L.id]=!0,O},{})})].concat(G?[F(B(G.id))]:
[])).then(function(K){F({type:b,payload:{groups:K[0],folders:K[1],favorites:K[2]}})},function(K){F({type:c})})}},B=function(F){return function(v,C){var G=C().settings.utils;return Object(E.f)(G.request,G.portal,F).then(function(H){v({type:a,payload:{id:F,categorySchema:H.categorySchema}})})}},A=function(F){return function(v,C){var G=C(),H=G.settings.utils.portal,K=H.restUrl+"/content/items/"+F.id+"/share";H={f:"json",everyone:F.access&&"public"===F.access||F.sharing&&F.sharing.access&&"public"===
F.sharing.access,org:F.access&&"org"===F.access||F.sharing&&F.sharing.access&&"org"===F.sharing.access||!1,groups:[H.user.favGroupId],items:[F.id]};v({type:q,payload:F});G.settings.utils.request(K,{method:"post",query:H}).then(function(O){v({type:m,payload:F})},function(O){v({type:e,payload:F})})}},D=function(F){return function(v,C){var G=C(),H=G.settings.utils.portal,K=H.user.favGroupId,O=H.restUrl+"/content/items/"+F.id+"/unshare",L={f:"json",everyone:!1,org:!1,groups:[K],items:[F.id]};v({type:h,
payload:F});G.settings.utils.request(O,{method:"post",query:L}).then(function(J){function R(){v({type:n,payload:F})}"myFavorites"===(G=C()).parameters.section?function aa(){G.settings.utils.request(H.restUrl+"/search",{query:{f:"json",q:"(id:"+F.id+") (group:"+K+")"},method:"get"}).then(function(ea){0<ea.data.total?setTimeout(function(){aa()},250):(R(),v(Object(z.i)()))},function(ea){R()})}():R()},function(J){v({type:p,payload:F})})}}},179:function(f,g,k){function y(G){return Object(q.a)(m.b,v(G),
C(G),Object(e.a)(G.parameters.filter.orgGroup),Object(d.a)(G.parameters.filter.status,G.settings.utils.portal.user),F(G),Object(a.a)(G.parameters.filter.shared),Object(b.a)(G.parameters.filter.dateCreated),Object(b.b)(G.parameters.filter.dateModified),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,itemTypeFilter:G.parameters.filter.itemType,specialItemQ:G.settings.config.specialItemQ}),Object(h.b)(G.parameters.filter.tags),Object(n.a)(G.parameters.filter.origins))([G.parameters.searchString.current]).join(" ")}
function u(G){return Object(q.a)(m.b,v(G),F(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}))([G.parameters.searchString.current]).join(" ")}function E(G,H){return Object(q.a)(m.b,v(G),F(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}),Object(h.a)(H))([G.parameters.searchString.current]).join(" ")}k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});
k.d(g,"c",function(){return E});var z=k(0),q=k(63),m=k(99),e=k(398),d=k(399),a=k(400),b=k(323),c=k(265),h=k(324),n=k(401);f=k(15);var p=k(5),w=k(180),B=k(141),A=k(126),D=k(86),F=Object(f.a)(function(G,H){var K=G.parameters.filter,O=G.settings.config,L=Object(A.a)(G);switch(G.parameters.section){case "myContent":return L.user?L.user&&K.folder?Object(z.g)(Object(z.g)([],H),['(owner:"'+L.user.username+'") (ownerfolder:'+K.folder.id+")"]):Object(z.g)(Object(z.g)([],H),['(owner:"'+L.user.username+'")']):
H;case "myFavorites":return L.user?Object(z.g)(Object(z.g)([],H),["(group:"+L.user.favGroupId+")"]):H;case "myGroups":if(G.results.user.groups){if(G.parameters.filter.group)return Object(z.g)(Object(z.g)([],H),["(group:"+G.parameters.filter.group.id+")"]);K=G.results.user.groups.map(function(J){return J.id});return Object(z.g)(Object(z.g)([],H),["(group:"+K.join(" OR group:")+")"])}return H;case "myOrganization":return Object(z.g)(Object(z.g)([],H),["(orgid:"+L.id+")"]);case "subscription":return Object(z.g)(Object(z.g)([],
H),["("+G.results.provisionedContent.content.map(function(J){return"id:"+J}).join(" OR ")+")"]);case "all":return H;default:return(K=O.customSections.filter(function(J){return G.parameters.section===J.name})[0])?Object(z.g)(Object(z.g)([],H),[K.baseQuery]):H}}),v=Object(f.a)(function(G,H){var K=G.settings.config.addQueryParameters;try{if(K&&"function"==typeof K)return Object(z.g)(Object(z.g)([],H),[K(G)])}catch(O){}return H}),C=Object(f.a)(function(G,H){var K=Object(D.b)(G.settings.config.customSections,
G.parameters.section);if(K&&!Object(p.b)(G.parameters.filter.customFilter)){var O=Object.keys(G.parameters.filter.customFilter).filter(function(L){return G.parameters.filter.customFilter[L]}).reduce(function(L,J){var R,X=parseInt(J,10),aa=G.parameters.filter.customFilter[X].value;if(null===(R=null==K?void 0:K.filters)||void 0===R?0:R[X])if(R=Object(w.a)("children","value",K.filters[X],aa))return Object(z.g)(Object(z.g)([],L),["("+R.q+")"]);return L},[]).join(" AND ");return Object(z.g)(Object(z.g)([],
H),[""+O])}return H})},180:function(f,g,k){function y(h,n){return e("children","value",h,n)}function u(h,n){return d("children","value",h,n)}function E(h,n){return function F(w,B,A,D){var v,C=A[w];return C&&0!==C.length?Object(c.a)(Object(c.a)({},A),((v={})[w]=C.reduce(function(G,H){return-1!==D.indexOf(H[B])&&G.push(F(w,B,H,D)),G},[]),v)):Object(c.a)({},A)}("children","value",h,n)}function z(h){return function(n,p){var w,B=p[n];return B?Object(c.a)(Object(c.a)({},p),((w={})[n]=function F(D){return 0===
D.length?[]:1!==D.length||D[0][n]?1<D.length?D.reduce(function(v,C){var G;return C[n]?(v.push(Object(c.a)(Object(c.a)({},C),((G={})[n]=F(C[n]),G))),v):(v.push(C),v)},[]):F(D[0][n]):D}(B),w)):p}("children",h)}function q(h,n){return a("children",h,n)}function m(h,n){return function D(w,B,A){var F=B[w];F&&F.forEach(function(v){return D(w,v,A)});A(B)}("children",h,n)}function e(h,n,p,w){var B=p[h];return p[n]===w?p:B?B.reduce(function(A,D){return A||e(h,n,D,w)},void 0):void 0}function d(h,n,p,w){if(p=
p[h])return p.reduce(function(B,A){return A[n]===w[0]?1===w.length?A:d(h,n,A,w.slice(1)):B},void 0)}function a(h,n,p){var w;return p(Object(c.a)(Object(c.a)({},n),((w={})[h]=n[h]?n[h].map(function(B){return a(h,B,p)}):void 0,w)))}function b(h,n,p){return a(h,p,function(w){var B=w[n];if(delete w[n],w[h]){var A=w[h];return delete w[h],Object(c.a)(Object(c.a)({},w),{value:B,children:A})}return Object(c.a)(Object(c.a)({},w),{value:B})})}k.d(g,"f",function(){return y});k.d(g,"d",function(){return u});
k.d(g,"i",function(){return E});k.d(g,"e",function(){return z});k.d(g,"h",function(){return q});k.d(g,"g",function(){return m});k.d(g,"a",function(){return e});k.d(g,"b",function(){return d});k.d(g,"c",function(){return b});var c=k(0)},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function y(){throw Error("clearTimeout has not been defined");}function u(p){if(d===setTimeout)return setTimeout(p,0);if((d===k||!d)&&setTimeout)return d=setTimeout,setTimeout(p,0);try{return d(p,
0)}catch(w){try{return d.call(null,p,0)}catch(B){return d.call(this,p,0)}}}function E(){h&&b&&(h=!1,b.length?c=b.concat(c):n=-1,c.length&&z())}function z(){if(!h){var p=u(E);h=!0;for(var w=c.length;w;){b=c;for(c=[];++n<w;)b&&b[n].run();n=-1;w=c.length}b=null;h=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===y||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(A){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(p)}}function q(p,w){this.fun=p;this.array=
w}function m(){}var e=f.exports={};try{var d="function"==typeof setTimeout?setTimeout:k}catch(p){d=k}try{var a="function"==typeof clearTimeout?clearTimeout:y}catch(p){a=y}!0;var b,c=[],h=!1,n=-1;e.nextTick=function(p){var w=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)w[B-1]=arguments[B];c.push(new q(p,w));1!==c.length||h||u(z)};q.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions=
{};e.on=m;e.addListener=m;e.once=m;e.off=m;e.removeListener=m;e.removeAllListeners=m;e.emit=m;e.prependListener=m;e.prependOnceListener=m;e.listeners=function(p){return[]};e.binding=function(p){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(p){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},193:function(f,g,k){function y(z){var q,m;return null!==(q=z.orgId)&&void 0!==q?q:null===(m=z.portal)||void 0===m?void 0:m.id}function u(z){var q;
if(!z)return!1;var m=y(z),e=null===(q=z.portal)||void 0===q?void 0:q.isPortal;return!!m&&!e&&"public_authoritative"===z.contentStatus}function E(z,q,m){return new Promise(function(e){var d=z.map(function(a){return function(b,c,h){var n="https://"+c.portalHostname+"/sharing/rest/portals/"+b;return new Promise(function(p){h(n,{method:"get",query:{f:"json"}}).then(function(w){w=w.data;var B=w.thumbnail,A=(w.allSSL?"https://":"http://")+(w.urlKey||"")+"."+w.customBaseUrl+"/";p({name:w.name,url:A+"home/",
thumbnail:B?A+"sharing/rest/portals/self/resources/"+B:"./images/group-no-image.png",id:b})})})}(a,q,m)});Promise.all(d).then(function(a){e(a.filter(function(b){return b}))})})}k.d(g,"b",function(){return y});k.d(g,"c",function(){return u});k.d(g,"a",function(){return E})},199:function(f,g,k){function y(b,c,h){return b.filter(function(n,p,w){return w.indexOf(n)===p&&!c.hasOwnProperty(n)&&-1===h.indexOf(n)})}k.d(g,"c",function(){return q});k.d(g,"d",function(){return m});k.d(g,"a",function(){return e});
k.d(g,"b",function(){return d});k.d(g,"e",function(){return a});var u=k(0),E=k(193),z=k(309),q="USER_THUMBNAILS_LOAD_START",m="USER_THUMBNAILS_LOAD_SUCCESS",e="ORG_THUMBNAILS_LOAD_START",d="ORG_THUMBNAILS_LOAD_SUCCESS",a=function(b,c){var h=c(),n=h.settings.utils,p=n.request;n=n.portal;var w=h.ui.pagination;h=w.displayItems;var B=w.userThumbnailCache,A=w.pendingUserThumbRequests,D=w.orgThumbnailCache;w=w.pendingOrgThumbRequests;D=y(h.filter(E.c).map(E.b),D,w);h=y(h.map(function(F){return F.owner}),
B,A);if(0!==h.length||0!==D.length)b({type:q,payload:h}),b({type:e,payload:D}),h=Object(z.a)(h,n,p),p=Object(E.a)(D,n,p),Promise.all([h,p]).then(function(F){var v=F[0];F=F[1];v=(null==v?void 0:v.reduce(function(C,G){var H;return Object(u.a)(Object(u.a)({},C),((H={})[G.username]={thumbnail:G.thumbURI||G.thumbnail,username:G.username,fullName:G.fullName,id:G.id},H))},{}))||{};F=(null==F?void 0:F.reduce(function(C,G){var H;return Object(u.a)(Object(u.a)({},C),((H={})[G.id]=G,H))},{}))||{};b({type:m,
payload:v});b({type:d,payload:F})})}},217:function(f,g,k){k.d(g,"a",function(){return d});var y=k(0);f=k(56);var u=k.n(f);f=k(65);var E=k.n(f);f=k(15);var z=k(99),q=k(30),m=k(325),e=k(126),d=Object(f.a)(function(a,b){var c=a.settings.utils.request,h=Object(e.a)(a),n=new u.a,p=b.data.results.filter(function(w){return w.orgId&&!a.results.allOrganizations[w.orgId]}).map(function(w){return w.orgId}).filter(z.e).map(function(w){return Object(q.m)(c,h,w)});return E()(p).then(function(w){n.resolve(Object(y.a)(Object(y.a)({},
b),{data:Object(y.a)(Object(y.a)({},b.data),{organizations:w.reduce(function(B,A){var D;return Object(y.a)(Object(y.a)({},B),((D={})[A.id]=Object(m.a)(A),D))},{})})}))},function(w){n.reject(w)}),n})},227:function(f,g,k){k.d(g,"a",function(){return E});var y=k(0),u=k(101),E=function(z){var q=Object(y.a),m=Object(y.a)({},z),e=Object(u.a)(z);return q(m,{thumbURI:z.thumbnail?e+"/sharing/rest/portals/"+z.id+"/resources/"+z.thumbnail:e+"/home/images/group-no-image.png"})}},228:function(f,g,k){k.d(g,"a",
function(){return E});var y=k(0),u=k(101),E=function(z){return Object(y.a)(Object(y.a)({},z),{orgUrl:Object(u.a)(z)+"/home/index.html"})}},231:function(f,g){f.exports=l},256:function(f,g,k){k.d(g,"a",function(){return z});k.d(g,"b",function(){return q});k.d(g,"c",function(){return m});k.d(g,"d",function(){return e});f=k(56);var y=k.n(f),u=k(30),E=k(78),z="UPDATE_PROVISIONED_CONTENT",q="UPDATE_PROVISIONED_CONTENT_FAILED",m="UPDATE_PROVISIONED_CONTENT_SUCCESS",e=function(){return function(d,a){var b=
a();if("loaded"===b.results.provisionedContent.status)return(new y.a).resolve();if("failed"===b.results.provisionedContent.status)return(new y.a).reject();d({type:z});var c=b.settings.utils,h=c.portal;return Object(u.d)(c.request,h,h.user.username).then(function(n){d({type:m,payload:n.filter(function(p){return-1<b.settings.config.allowedItemTypes.indexOf(p.type)}).map(function(p){return Object(E.a)(h,b.settings.utils.iconDir,p)})})},function(n){d({type:q})})}}},264:function(f,g,k){k.d(g,"a",function(){return e});
k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});var y=k(0);f=k(65);var u=k.n(f);f=k(56);var E=k.n(f),z=k(99),q=k(30);f=k(15);var m=k(86),e="LOADING_CUSTOM_SECTION_INFO",d="UPDATE_CUSTOM_SECTION_SCHEMAS",a="UPDATE_CUSTOM_SECTION_INFO_FAILED",b="UPDATE_CUSTOM_SECTION_GROUPS",c=function(){return function(p,w){function B(F){p({type:a})}var A=w();if("loaded"===A.results.customSections.status)return(new E.a).resolve();if("failed"===
A.results.customSections.status)return(new E.a).reject();p({type:e});var D=Object(z.f)("id",A.settings.config.customSections.filter(m.f).map(m.a).reduce(function(F,v){return Object(y.g)(Object(y.g)([],F),v)},[]));return h(p,w,D).then(function(){return A=w(),u()(D.map(function(F){return n(A,F).then(function(v){return{id:F.id,type:F.type,response:v}})}))},B).then(function(F){return p({type:d,payload:F})},B)}},h=function(p,w,B){var A=w(),D=new E.a;if(0<B.length){A=A.settings.utils;var F=A.request,v=
A.portal;B=B.filter(function(C){return"group"===C.type}).map(function(C){var G=C.id;return Object(q.e)(F,v,C.fetchGroupIdByQuery||"id:"+G).then(function(H){return H.results[0]||{}})});u()(B).then(function(C){var G=w();p({type:b,payload:{currentSection:G.parameters.section,customSections:G.settings.config.customSections,groups:C}});D.resolve()})}else D.resolve();return D},n=Object(f.a)(function(p,w){var B=p.settings.utils,A=B.request;B=B.portal;return w.staticSchema?(A=new E.a,A.resolve({categorySchema:w.staticSchema}),
A.then(function(D){return D})):"group"===w.type?Object(q.f)(A,B,w.id):Object(q.j)(A,B,w.id)})},265:function(f,g,k){function y(q){if(0<q.length){var m=E.a.filter(function(e){return-1===q.indexOf(e)}).filter(function(e){return q.reduce(function(d,a){return-1<e.indexOf(a)||d},!1)});return'((type:"'+q.join('" OR type:"')+'")'+(0<m.length?' AND (-type:"'+m.join('" AND -type:"')+'")':"")+")"}return""}k.d(g,"a",function(){return z});var u=k(0),E=k(141);f=k(15);var z=Object(f.a)(function(q,m,e){var d=m.itemTypeFilter,
a=m.allowedItemTypes;m=m.specialItemQ;return d?0<a.length&&m?Object(u.g)(Object(u.g)([],e),[q[d.value]+" AND ("+m+" OR ("+y(a)+"))"]):0<a.length||m?Object(u.g)(Object(u.g)([],e),[q[d.value]+" AND ("+(m?""+m:""+y(a))+")"]):Object(u.g)(Object(u.g)([],e),[""+q[d.value]]):m?Object(u.g)(Object(u.g)([],e),["("+m+") "+(0<a.length?"OR ("+y(a)+")":"")]):Object(u.g)(Object(u.g)([],e),[y(a)])})},266:function(f,g,k){k.d(g,"a",function(){return z});k.d(g,"b",function(){return q});k.d(g,"c",function(){return m});
k.d(g,"d",function(){return e});f=k(65);var y=k.n(f);f=k(56);var u=k.n(f),E=k(30),z="LOADING_ORG_INFO",q="UPDATE_ORG_INFO",m="UPDATE_ORG_INFO_FAILED",e=function(){return function(d,a){var b=a();if("loaded"===b.results.organization.status)return(new u.a).resolve();if("failed"===b.results.organization.status)return(new u.a).reject();d({type:z});var c=b.settings.utils;b=c.request;c=c.portal;var h=[Object(E.j)(b,c).then(function(n){return n.categorySchema}),Object(E.c)(b,c).then(function(n){return n.data.results})];
return c.isPortal&&h.push(Object(E.o)(b,c).then(function(n){return n.servers})),y()(h).then(function(n){d({type:q,payload:{schema:n[0],groups:n[1],servers:n[2]}})},function(n){d({type:m})})}}},28:function(f,g,k){(function(y,u){f.exports=function(){function E(){var ha=setTimeout;return function(){return ha(z,1)}}function z(){for(var ha=0;ha<D;ha+=2)(0,L[ha])(L[ha+1]),L[ha]=void 0,L[ha+1]=void 0;D=0}function q(ha,V){var la=this,T=new this.constructor(e);void 0===T[ka]&&B(T);var P=la._state;if(P){var I=
arguments[P-1];C(function(){return w(P,T,I,la._result)})}else n(la,T,ha,V);return T}function m(ha){if(ha&&"object"==typeof ha&&ha.constructor===this)return ha;var V=new this(e);return a(V,ha),V}function e(){}function d(ha,V,la){V.constructor===ha.constructor&&la===q&&V.constructor.resolve===m?function(T,P){1===P._state?c(T,P._result):2===P._state?h(T,P._result):n(P,void 0,function(I){return a(T,I)},function(I){return h(T,I)})}(ha,V):void 0===la?c(ha,V):"function"==typeof la?function(T,P,I){C(function(ba){var W=
!1,ca=function(Q,N,S,Y){try{Q.call(N,S,Y)}catch(Z){return Z}}(I,P,function(Q){W||(W=!0,P!==Q?a(ba,Q):c(ba,Q))},function(Q){W||(W=!0,h(ba,Q))},ba._label);!W&&ca&&(W=!0,h(ba,ca))},T)}(ha,V,la):c(ha,V)}function a(ha,V){if(ha===V)h(ha,new TypeError("You cannot resolve a promise with itself"));else if(T=typeof(la=V),null===la||"object"!==T&&"function"!==T)c(ha,V);else{la=void 0;try{la=V.then}catch(P){return void h(ha,P)}d(ha,V,la)}var la,T}function b(ha){ha._onerror&&ha._onerror(ha._result);p(ha)}function c(ha,
V){void 0===ha._state&&(ha._result=V,ha._state=1,0!==ha._subscribers.length&&C(p,ha))}function h(ha,V){void 0===ha._state&&(ha._state=2,ha._result=V,C(b,ha))}function n(ha,V,la,T){var P=ha._subscribers,I=P.length;ha._onerror=null;P[I]=V;P[I+1]=la;P[I+2]=T;0===I&&ha._state&&C(p,ha)}function p(ha){var V=ha._subscribers,la=ha._state;if(0!==V.length){for(var T=void 0,P=void 0,I=ha._result,ba=0;ba<V.length;ba+=3)T=V[ba],P=V[ba+la],T?w(la,T,P,I):P(I);ha._subscribers.length=0}}function w(ha,V,la,T){var P=
"function"==typeof la,I=void 0,ba=void 0,W=!0;if(P){try{I=la(T)}catch(ca){W=!1,ba=ca}if(V===I)return void h(V,new TypeError("A promises callback cannot return that same promise."))}else I=T;void 0!==V._state||(P&&W?a(V,I):!1===W?h(V,ba):1===ha?c(V,I):2===ha&&h(V,I))}function B(ha){ha[ka]=ma++;ha._state=void 0;ha._result=void 0;ha._subscribers=[]}var A=Array.isArray?Array.isArray:function(ha){return"[object Array]"===Object.prototype.toString.call(ha)},D=0,F=void 0,v=void 0,C=function(ha,V){L[D]=ha;
L[D+1]=V;2===(D+=2)&&(v?v(z):ea())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var K="undefined"==typeof self&&void 0!==y&&"[object process]"==={}.toString.call(y),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=Array(1E3),J,R,X,aa,ea=void 0;K?ea=function(){return y.nextTick(z)}:H?(R=0,X=new H(z),aa=document.createTextNode(""),X.observe(aa,{characterData:!0}),ea=function(){aa.data=
R=++R%2}):O?((J=new MessageChannel).port1.onmessage=z,ea=function(){return J.port2.postMessage(0)}):ea=void 0===G?function(){try{var ha=Function("return this")().require("vertx");return void 0!==(F=ha.runOnLoop||ha.runOnContext)?function(){F(z)}:E()}catch(V){return E()}}():E();var ka=Math.random().toString(36).substring(2),ma=0,sa=function(){function ha(V,la){this._instanceConstructor=V;this.promise=new V(e);this.promise[ka]||B(this.promise);A(la)?(this.length=la.length,this._remaining=la.length,
this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(la),0===this._remaining&&c(this.promise,this._result))):h(this.promise,Error("Array Methods must be provided an Array"))}return ha.prototype._enumerate=function(V){for(var la=0;void 0===this._state&&la<V.length;la++)this._eachEntry(V[la],la)},ha.prototype._eachEntry=function(V,la){var T=this._instanceConstructor,P=T.resolve;if(P===m){var I=P=void 0,ba=!1;try{P=V.then}catch(W){ba=
!0,I=W}P===q&&void 0!==V._state?this._settledAt(V._state,la,V._result):"function"!=typeof P?(this._remaining--,this._result[la]=V):T===za?(T=new T(e),ba?h(T,I):d(T,V,P),this._willSettleAt(T,la)):this._willSettleAt(new T(function(W){return W(V)}),la)}else this._willSettleAt(P(V),la)},ha.prototype._settledAt=function(V,la,T){var P=this.promise;void 0===P._state&&(this._remaining--,2===V?h(P,T):this._result[la]=T);0===this._remaining&&c(P,this._result)},ha.prototype._willSettleAt=function(V,la){var T=
this;n(V,void 0,function(P){return T._settledAt(1,la,P)},function(P){return T._settledAt(2,la,P)})},ha}(),za=function(){function ha(V){this[ka]=ma++;this._result=this._state=void 0;this._subscribers=[];if(e!==V){if("function"!=typeof V)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ha)(function(la,T){try{T(function(P){a(la,P)},function(P){h(la,P)})}catch(P){h(la,P)}})(this,V);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return ha.prototype["catch"]=function(V){return this.then(null,V)},ha.prototype["finally"]=function(V){var la=this.constructor;return"function"==typeof V?this.then(function(T){return la.resolve(V()).then(function(){return T})},function(T){return la.resolve(V()).then(function(){throw T;})}):this.then(V,V)},ha}();return za.prototype.then=q,za.all=function(ha){return(new sa(this,ha)).promise},za.race=function(ha){var V=this;return A(ha)?new V(function(la,T){for(var P=ha.length,I=0;I<P;I++)V.resolve(ha[I]).then(la,
T)}):new V(function(la,T){return T(new TypeError("You must pass an array to race."))})},za.resolve=m,za.reject=function(ha){var V=new this(e);return h(V,ha),V},za._setScheduler=function(ha){v=ha},za._setAsap=function(ha){C=ha},za._asap=C,za.polyfill=function(){var ha=void 0;if(void 0!==u)ha=u;else if("undefined"!=typeof self)ha=self;else try{ha=Function("return this")()}catch(T){throw Error("polyfill failed because global object is unavailable in this environment");}var V=ha.Promise;if(V){var la=
null;try{la=Object.prototype.toString.call(V.resolve())}catch(T){}if("[object Promise]"===la&&!V.cast)return}ha.Promise=za},za.Promise=za,za}()}).call(this,k(189),k(170))},286:function(f,g,k){k.d(g,"b",function(){return d});k.d(g,"a",function(){return a});k.d(g,"c",function(){return b});var y=k(0);f=k(65);var u=k.n(f);f=k(56);var E=k.n(f),z=k(30),q=k(51),m=k(78),e=k(126),d="UPDATE_FULL_ITEM_DETAILS",a="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(c){return function(h,n){var p=n(),w=Object(e.a)(p),B=
p.settings.utils.request,A=[];A.push(Object(z.r)(B,w,c.owner).then(function(F){return Object(q.m)(w,F)},function(F){throw F;}));var D=w.restUrl+"/content/items/"+c.id;w.user&&c.owner===w.user.username&&(D=w.restUrl+"/content/users/"+w.user.username+"/items/"+c.id);A.push(Object(z.v)(B,D).then(function(F){if(F.item&&F.sharing){var v=new E.a;return Object(z.v)(B,w.restUrl+"/community/groups",{q:"id: "+F.sharing.groups.map(function(C){return'"'+C+'"'}).join(" OR ")}).then(function(C){return v.resolve(Object(y.a)(Object(y.a)({},
Object(m.a)(w,p.settings.utils.iconDir,F.item)),{sharing:F.sharing,sharedToGroups:C.results}))},function(C){return v.reject(C)}),v}return Object(m.a)(w,p.settings.utils.iconDir,F)},function(F){throw c.id;}));u()(A).then(function(F){h({type:d,payload:{item:F[1],owner:F[0]}})},function(F){h({type:a,payload:F})})}}},288:function(f,g,k){k.d(g,"a",function(){return y});k.d(g,"b",function(){return u});var y="CHANGE_SEARCH_SECTION",u=function(E){return function(z,q){var m=q();z({type:y,payload:{newSection:E,
customSections:m.settings.config.customSections,customSectionGroupSort:m.results.customSections.groupSort}})}}},290:function(f,g,k){k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});k.d(g,"d",function(){return E});k.d(g,"c",function(){return z});var y="CHANGE_SORT_ORDER",u="CHANGE_SORT_FIELD",E=function(q){return{type:y,payload:q}},z=function(q){return{type:u,payload:q}}},295:function(f,g,k){k.d(g,"b",function(){return q});k.d(g,"a",function(){return m});k.d(g,"c",function(){return e});
k.d(g,"d",function(){return d});var y=k(162),u=k(78),E=k(217),z=k(199),q="CHANGE_PAGE_SUCCESS",m="CHANGE_PAGE_FAIL",e="CHANGING_PAGE",d=function(a){return function(b,c){var h=c();b({type:e,payload:a});var n=h.settings.utils,p=n.portal,w=n.iconDir;n=h.settings.utils.request;var B=h.settings.config.resultsPerQuery;B=Object(y.b)({num:B,start:(a-1)*B+1},h);n(B[0],B[1]).then(Object(E.a)(h),function(A){return b({type:m,payload:{err:A}})}).then(function(A){b({type:q,payload:{organizations:A.data.organizations,
displayItems:A.data.results.map(function(D){return Object(u.a)(p,w,D)}),page:a}});b(z.e)},function(A){return b({type:m,payload:{err:A}})})}}},30:function(f,g,k){function y(L){return L.reduce(function(J,R){return R&&R.relatedItems?J.concat(R.relatedItems.map(function(X){return X})):J},[])}function u(L,J,R){return L(J,{query:Object(q.a)({f:"json"},R)}).then(function(X){return X.data})}function E(L,J){void 0===J&&(J=100);for(var R=[],X=0;X<Math.ceil(L.length/J);X++)R.push(L.slice(X*J,(X+1)*J));return R.filter(function(aa){return 0<
aa.length})}function z(L){var J=L.itemIds,R=L.request,X=L.groupIds,aa=L.portal.restUrl+"/content/itemsgroups";return new m.Promise(function(ea,ka){R(aa,{method:"get",query:{f:"json",items:J,groups:X}}).then(function(ma){ea(ma.data)},ka)})}k.d(g,"u",function(){return e});k.d(g,"n",function(){return d});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});k.d(g,"j",function(){return h});k.d(g,"o",function(){return n});k.d(g,"l",function(){return p});k.d(g,
"k",function(){return w});k.d(g,"m",function(){return B});k.d(g,"c",function(){return A});k.d(g,"d",function(){return D});k.d(g,"r",function(){return F});k.d(g,"s",function(){return v});k.d(g,"t",function(){return C});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return K});k.d(g,"v",function(){return u});k.d(g,"a",function(){return E});k.d(g,"i",function(){return z});k.d(g,"b",function(){return O});var q=k(0),m=k(28),e=function(L){return function(J,R){return L({url:J,
content:R.query},{usePost:"post"===R.method}).then(function(X){return{data:X}})}},d=function(L,J,R){return u(L,J.restUrl+"/portals/self",{culture:R,"default":!0})},a=function(L,J,R){return u(L,J.restUrl+"/content/items/"+R+"/data")},b=function(L,J,R,X){return u(L,J.restUrl+"/community/groups",Object(q.a)({q:R},X))},c=function(L,J,R){return u(L,J.restUrl+"/community/groups/"+R+"/categorySchema")},h=function(L,J,R){return u(L,J.restUrl+"/portals/"+(R||J.id)+"/categorySchema")},n=function(L,J){return u(L,
J.restUrl+"/portals/"+J.id+"/servers")},p=function(L,J,R,X){return L(J.restUrl+"/portals/"+(R||J.id)+"/collaborationsSummary",X)},w=function(L,J,R,X){return L(J.restUrl+"/portals/"+(R||J.id)+"/collaboratedItems",X)},B=function(L,J,R){return u(L,location.protocol+"//"+J.portalHostname+"/sharing/rest/portals/"+(R||"self"))},A=function(L,J,R){return L(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(X){return X.data.total>
X.data.start+X.data.num?A(L,J,X.data.start+X.data.num).then(function(aa){return Object(q.a)(Object(q.a)({},aa),{data:Object(q.a)(Object(q.a)({},aa.data),{results:X.data.results.concat(aa.data.results)})})}):X})},D=function(L,J,R,X){return L(J.restUrl+"/community/users/"+R+"/provisionedListings",{query:{f:"json",num:100,start:X||1}}).then(function(aa){var ea=m.Promise.all(aa.data.provisionedListings.filter(function(ma){return ma.itemId}).map(function(ma){return(new m.Promise(function(sa,za){L(J.restUrl+
"/content/items/"+ma.itemId,{method:"get",query:{f:"json"}}).then(function(ha){sa(ha.data)},za)}))["catch"](function(sa){return 0})})),ka=aa.data.provisionedListings.map(function(ma){return u(L,J.restUrl+"/content/items/"+(ma.id||ma.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(sa){return sa},function(sa){})});return aa.data.total>aa.data.start+aa.data.num?D(L,J,R,aa.data.start+aa.data.num).then(function(ma){return m.Promise.all([ea].concat(ka)).then(function(sa){return sa[0].results.concat(y(sa.slice(1))).concat(ma)})}):
m.Promise.all([ea].concat(ka)).then(function(ma){return ma[0].filter(function(sa){return void 0!==sa}).concat(y(ma.slice(1)))})})},F=function(L,J,R){return u(L,J.restUrl+"/community/users/"+(R||J.user.username))},v=function(L,J,R){return u(L,J.restUrl+"/content/users/"+(R||J.user.username),{num:1})},C=function(L,J,R){return u(L,J.restUrl+"/content/groups/"+R)},G=function(L,J,R){return u(L,J.restUrl+"/community/groups",R)},H=function(L,J){return u(L,J.restUrl+"/portals/self/settings")},K=function(L,
J){return u(L,J.restUrl+"/portals/self/trustedOrgs",{num:100})},O=function(L,J){return void 0===J&&(J=","),L.map(function(R){return R.id}).join(J)}},309:function(f,g,k){function y(u,E,z){return Promise.all(u.map(function(q){return function(m,e,d){return new Promise(function(a,b){d(e.restUrl+"/community/users/"+m,{method:"get",query:{f:"json"}}).then(function(c){return a(null==c?void 0:c.data)},b)})}(q,E,z)}))}k.d(g,"a",function(){return y})},323:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,
"a",function(){return E});var y=k(0);f=k(15);f=Object(f.a)(function(z,q,m){return q?Object(y.g)(Object(y.g)([],m),["("+z+":["+(q.start+" TO "+q.end+"])")]):m});var u=f("modified"),E=f("uploaded")},324:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,"a",function(){return E});var y=k(0);f=k(15);var u=Object(f.a)(function(z,q){if(z){var m=Object.keys(z);if(0<m.length)return Object(y.g)(Object(y.g)([],q),["tags:("+m.join(" AND ")+")"])}return q}),E=Object(f.a)(function(z,q){return 2<z.length?Object(y.g)(Object(y.g)([],
q),["tags:("+z+"* OR "+z+")"]):q})},325:function(f,g,k){k.d(g,"a",function(){return u});f=k(63);g=k(101);var y=k(227);k=k(228);var u=Object(f.a)(y.a,k.a,g.b)},326:function(f,g,k){k.d(g,"a",function(){return q});k.d(g,"b",function(){return m});f=k(56);var y=k.n(f),u=k(30),E=k(325),z=k(150),q="UPDATE_PORTAL_SELF",m=function(){return function(e,d){var a=d(),b=a.settings.utils,c=b.portal;b=b.request;var h=c.user&&c.user.culture?c.user.culture:z.locale;return a.settings.utils.self?(new y.a).resolve(a.settings.utils.self):
Object(u.n)(b,c,h).then(function(n){n=Object(E.a)(n);return e({type:q,payload:{self:n,config:a.settings.config}}),n})}}},327:function(f,g,k){k.d(g,"a",function(){return m});k.d(g,"b",function(){return e});k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});var y=k(0),u=k(36);f=k(56);var E=k.n(f),z=k(150),q=k(402),m="LOADING_LIVING_ATLAS_INFO",e="UPDATE_LIVING_ATLAS_INFO",d="FETCH_LIVING_ATLAS_INFO_FAILED",a=function(b){return function(c,h){var n=h();if("loaded"===n.results.livingAtlas.status)return(new E.a).resolve();
if("failed"===n.results.livingAtlas.status)return(new E.a).reject();c({type:m});n=n.settings.utils;var p=n.portal;return Object(q.a)(n.request,p,b,p.user&&p.user.culture?p.user.culture:z.locale).then(function(w){c({type:e,payload:Object(y.a)(Object(y.a)({},w),{schema:w.schema.map(function(B){return"region"===B.title?Object(y.a)(Object(y.a)({},B),{displayName:u.regions}):B})})})},function(w){c({type:d})})}}},328:function(f,g,k){k.d(g,"a",function(){return q});var y=k(30),u=k(49);f=k(65);var E=k.n(f),
z=function(m,e,d){m({type:"LOADING_COLLABORATIONS"});var a=[];Object.keys(d).forEach(function(c){a[c]=[];0<d[c].participants.length&&d[c].participants.forEach(function(h){a[h.value]=[]})});var b=Object.keys(a).map(function(c){c=c.split("__");var h=c[0],n=c[1]?c[1]:"";return Object(y.k)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:""!==n?{collaborationId:h,participantId:n,f:"json"}:{collaborationId:h,f:"json"}}).then(function(p){(p.data.collaboratedItems||p.collaboratedItems).forEach(function(w){if(n){var B=
h+"__"+n;d[h].participants.filter(function(A){return A.value===B})[0].items.push(Object.keys(w)[0])}else d[h].items.push(Object.keys(w)[0])})},function(){return m({type:"LOADING_COLLABORATIONS_FAILED"})})});return E()(b).then(function(){m(Object(u.s)(d));m({type:"LOADING_COLLABORATIONS_SUCCESS",payload:d})})},q=function(m,e){if(m({type:"LOADING_COLLABORATIONS"}),e&&e.parameters&&e.parameters.filter&&e.parameters.filter.origins&&0<Object.keys(e.parameters.filter.origins).length){var d=e.parameters.filter.origins;
return m(Object(u.s)(d)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:d}}return Object(y.l)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(a){var b=[];a.data&&a.data.collaborations&&a.data.collaborations.forEach(function(c){var h=c.collaborationId,n=c.collaborationName.trim();b[h]={value:h,label:n,addClass:"",childOf:"",selected:!1,participants:[],items:[]};c.participants&&(b[h].participants=c.participants.map(function(p){return 1===
(p=Object.keys(p).map(function(w){var B=p[w].trim();return{value:h+"__"+w,label:B,childOf:h,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?p[0]:p}))});z(m,e,b).then(function(){return m(Object(u.s)(b))},function(){return m({type:"LOADING_COLLABORATIONS_FAILED"})})},function(a){return m({type:"LOADING_COLLABORATIONS_FAILED",payload:a})})}},329:function(f,g,k){function y(u){return"string"==typeof u?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(u):
!!u.filters&&-1<u.filters.indexOf("tags")}k.d(g,"a",function(){return y})},336:function(f,g,k){(function(y,u){function E(oa,xa){return oa.set(xa[0],xa[1]),oa}function z(oa,xa){return oa.add(xa),oa}function q(oa,xa,ta,ja){var pa=-1,va=oa?oa.length:0;for(ja&&va&&(ta=oa[++pa]);++pa<va;)ta=xa(ta,oa[pa],pa,oa);return ta}function m(oa){var xa=!1;if(null!=oa&&"function"!=typeof oa.toString)try{xa=!!(oa+"")}catch(ta){}return xa}function e(oa){var xa=-1,ta=Array(oa.size);return oa.forEach(function(ja,pa){ta[++xa]=
[pa,ja]}),ta}function d(oa,xa){return function(ta){return oa(xa(ta))}}function a(oa){var xa=-1,ta=Array(oa.size);return oa.forEach(function(ja){ta[++xa]=ja}),ta}function b(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function c(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function h(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function n(oa){this.__data__=
new c(oa)}function p(oa,xa){var ta=Ea(oa)||function(Fa){return!!Fa&&"object"==typeof Fa&&O(Fa)&&ba.call(Fa,"callee")&&(!Y.call(Fa,"callee")||"[object Arguments]"==W.call(Fa))}(oa)?function(Fa,Da){for(var Ca=-1,Ia=Array(Fa);++Ca<Fa;)Ia[Ca]=Da(Ca);return Ia}(oa.length,String):[],ja=ta.length,pa=!!ja,va;for(va in oa)!xa&&!ba.call(oa,va)||pa&&("length"==va||G(va,ja))||ta.push(va);return ta}function w(oa,xa,ta){var ja=oa[xa];ba.call(oa,xa)&&(ja===ta||ja!=ja&&ta!=ta)&&(void 0!==ta||xa in oa)||(oa[xa]=ta)}
function B(oa,xa){for(var ta=oa.length;ta--;){var ja=oa[ta][0];if(ja===xa||ja!=ja&&xa!=xa)return ta}return-1}function A(oa,xa,ta,ja,pa,va,Fa){var Da;if(ja&&(Da=va?ja(oa,pa,va,Fa):ja(oa)),void 0!==Da)return Da;if(!J(oa))return oa;if(pa=Ea(oa)){if(Da=function(Ga){var Ma=Ga.length,Ha=Ga.constructor(Ma);Ma&&"string"==typeof Ga[0]&&ba.call(Ga,"index")&&(Ha.index=Ga.index,Ha.input=Ga.input);return Ha}(oa),!xa)return function(Ga,Ma){var Ha=-1,Ka=Ga.length;for(Ma||(Ma=Array(Ka));++Ha<Ka;)Ma[Ha]=Ga[Ha];return Ma}(oa,
Da)}else{var Ca=wa(oa),Ia="[object Function]"==Ca||"[object GeneratorFunction]"==Ca;if(ra(oa))return function(Ga,Ma){if(Ma)return Ga.slice();var Ha=new Ga.constructor(Ga.length);return Ga.copy(Ha),Ha}(oa,xa);if("[object Object]"==Ca||"[object Arguments]"==Ca||Ia&&!va){if(m(oa))return va?oa:{};if(Da=function(Ga){return"function"!=typeof Ga.constructor||H(Ga)?{}:(Ma=N(Ga),J(Ma)?S(Ma):{});var Ma}(Ia?{}:oa),!xa)return function(Ga,Ma){return F(Ga,Ja(Ga),Ma)}(oa,function(Ga,Ma){return Ga&&F(Ma,R(Ma),Ga)}(Da,
oa))}else{if(!ka[Ca])return va?oa:{};Da=function(Ga,Ma,Ha,Ka){var Na=Ga.constructor;switch(Ma){case "[object ArrayBuffer]":return D(Ga);case "[object Boolean]":case "[object Date]":return new Na(+Ga);case "[object DataView]":return function(Pa,Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.byteLength)}(Ga,Ka);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Pa,
Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.length)}(Ga,Ka);case "[object Map]":return function(Pa,Ra,Sa){return q(Ra?Sa(e(Pa),!0):e(Pa),E,new Pa.constructor)}(Ga,Ka,Ha);case "[object Number]":case "[object String]":return new Na(Ga);case "[object RegExp]":return function(Pa){var Ra=new Pa.constructor(Pa.source,X.exec(Pa));return Ra.lastIndex=Pa.lastIndex,Ra}(Ga);case "[object Set]":return function(Pa,Ra,Sa){return q(Ra?Sa(a(Pa),!0):a(Pa),z,new Pa.constructor)}(Ga,
Ka,Ha);case "[object Symbol]":return Qa=Ga,Oa?Object(Oa.call(Qa)):{}}var Qa}(oa,Ca,A,xa)}}Fa||(Fa=new n);if(va=Fa.get(oa))return va;if(Fa.set(oa,Da),!pa)var La=ta?function(Ga){var Ma=Ja,Ha=R(Ga);if(!Ea(Ga)){Ga=Ma(Ga);Ma=-1;for(var Ka=Ga.length,Na=Ha.length;++Ma<Ka;)Ha[Na+Ma]=Ga[Ma]}return Ha}(oa):R(oa);return function(Ga,Ma){for(var Ha=-1,Ka=Ga?Ga.length:0;++Ha<Ka&&!1!==Ma(Ga[Ha],Ha,Ga););}(La||oa,function(Ga,Ma){La&&(Ga=oa[Ma=Ga]);w(Da,Ma,A(Ga,xa,ta,ja,Ma,oa,Fa))}),Da}function D(oa){var xa=new oa.constructor(oa.byteLength);
return(new Q(xa)).set(new Q(oa)),xa}function F(oa,xa,ta,ja){ta||(ta={});for(var pa=-1,va=xa.length;++pa<va;){var Fa=xa[pa],Da=ja?ja(ta[Fa],oa[Fa],Fa,ta,oa):void 0;w(ta,Fa,void 0===Da?oa[Fa]:Da)}return ta}function v(oa,xa){var ta,ja=oa.__data__;return("string"==(ta=typeof xa)||"number"==ta||"symbol"==ta||"boolean"==ta?"__proto__"!==xa:null===xa)?ja["string"==typeof xa?"string":"hash"]:ja.map}function C(oa,xa){var ta=null==oa?void 0:oa[xa];a:{var ja=!(!J(ta)||(pa=ta,P&&P in pa))&&(L(ta)||m(ta)?ca:aa).test(K(ta));
break a;var pa}return ja?ta:void 0}function G(oa,xa){return!!(xa=null==xa?9007199254740991:xa)&&("number"==typeof oa||ea.test(oa))&&-1<oa&&0==oa%1&&oa<xa}function H(oa){var xa=oa&&oa.constructor;return oa===("function"==typeof xa&&xa.prototype||la)}function K(oa){if(null!=oa){try{return I.call(oa)}catch(xa){}return oa+""}return""}function O(oa){var xa;if(xa=null!=oa)xa=oa.length,xa="number"==typeof xa&&-1<xa&&0==xa%1&&9007199254740991>=xa;return xa&&!L(oa)}function L(oa){oa=J(oa)?W.call(oa):"";return"[object Function]"==
oa||"[object GeneratorFunction]"==oa}function J(oa){var xa=typeof oa;return!!oa&&("object"==xa||"function"==xa)}function R(oa){if(O(oa))oa=p(oa);else if(H(oa)){var xa=[],ta;for(ta in Object(oa))ba.call(oa,ta)&&"constructor"!=ta&&xa.push(ta);oa=xa}else oa=da(oa);return oa}var X=/\w*$/,aa=/^\[object .+?Constructor\]$/,ea=/^(?:0|[1-9]\d*)$/,ka={};ka["[object Arguments]"]=ka["[object Array]"]=ka["[object ArrayBuffer]"]=ka["[object DataView]"]=ka["[object Boolean]"]=ka["[object Date]"]=ka["[object Float32Array]"]=
ka["[object Float64Array]"]=ka["[object Int8Array]"]=ka["[object Int16Array]"]=ka["[object Int32Array]"]=ka["[object Map]"]=ka["[object Number]"]=ka["[object Object]"]=ka["[object RegExp]"]=ka["[object Set]"]=ka["[object String]"]=ka["[object Symbol]"]=ka["[object Uint8Array]"]=ka["[object Uint8ClampedArray]"]=ka["[object Uint16Array]"]=ka["[object Uint32Array]"]=!0;ka["[object Error]"]=ka["[object Function]"]=ka["[object WeakMap]"]=!1;var ma="object"==typeof self&&self&&self.Object===Object&&self;
ma="object"==typeof y&&y&&y.Object===Object&&y||ma||Function("return this")();var sa=g&&!g.nodeType&&g,za=sa&&"object"==typeof u&&u&&!u.nodeType&&u;za=za&&za.exports===sa;var ha;sa=Array.prototype;var V=Function.prototype,la=Object.prototype,T=ma["__core-js_shared__"],P=(ha=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+ha:"",I=V.toString,ba=la.hasOwnProperty,W=la.toString,ca=RegExp("^"+I.call(ba).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$");za=za?ma.Buffer:void 0;ha=ma.Symbol;var Q=ma.Uint8Array,N=d(Object.getPrototypeOf,Object),S=Object.create,Y=la.propertyIsEnumerable,Z=sa.splice;sa=Object.getOwnPropertySymbols;za=za?za.isBuffer:void 0;var da=d(Object.keys,Object);V=C(ma,"DataView");var fa=C(ma,"Map");T=C(ma,"Promise");var ia=C(ma,"Set");ma=C(ma,"WeakMap");var na=C(Object,"create"),qa=K(V),ua=K(fa),ya=K(T),Aa=K(ia),Ba=K(ma),Oa=(ha=ha?ha.prototype:void 0)?ha.valueOf:void 0;b.prototype.clear=function(){this.__data__=na?
na(null):{}};b.prototype["delete"]=function(oa){return this.has(oa)&&delete this.__data__[oa]};b.prototype.get=function(oa){var xa=this.__data__;return na?(oa=xa[oa],"__lodash_hash_undefined__"===oa?void 0:oa):ba.call(xa,oa)?xa[oa]:void 0};b.prototype.has=function(oa){var xa=this.__data__;return na?void 0!==xa[oa]:ba.call(xa,oa)};b.prototype.set=function(oa,xa){return this.__data__[oa]=na&&void 0===xa?"__lodash_hash_undefined__":xa,this};c.prototype.clear=function(){this.__data__=[]};c.prototype["delete"]=
function(oa){var xa=this.__data__;oa=B(xa,oa);return!(0>oa)&&(oa==xa.length-1?xa.pop():Z.call(xa,oa,1),!0)};c.prototype.get=function(oa){var xa=this.__data__;oa=B(xa,oa);return 0>oa?void 0:xa[oa][1]};c.prototype.has=function(oa){return-1<B(this.__data__,oa)};c.prototype.set=function(oa,xa){var ta=this.__data__,ja=B(ta,oa);return 0>ja?ta.push([oa,xa]):ta[ja][1]=xa,this};h.prototype.clear=function(){this.__data__={hash:new b,map:new (fa||c),string:new b}};h.prototype["delete"]=function(oa){return v(this,
oa)["delete"](oa)};h.prototype.get=function(oa){return v(this,oa).get(oa)};h.prototype.has=function(oa){return v(this,oa).has(oa)};h.prototype.set=function(oa,xa){return v(this,oa).set(oa,xa),this};n.prototype.clear=function(){this.__data__=new c};n.prototype["delete"]=function(oa){return this.__data__["delete"](oa)};n.prototype.get=function(oa){return this.__data__.get(oa)};n.prototype.has=function(oa){return this.__data__.has(oa)};n.prototype.set=function(oa,xa){var ta=this.__data__;if(ta instanceof
c){ta=ta.__data__;if(!fa||199>ta.length)return ta.push([oa,xa]),this;ta=this.__data__=new h(ta)}return ta.set(oa,xa),this};var Ja=sa?d(sa,Object):function(){return[]},wa=function(oa){return W.call(oa)};(V&&"[object DataView]"!=wa(new V(new ArrayBuffer(1)))||fa&&"[object Map]"!=wa(new fa)||T&&"[object Promise]"!=wa(T.resolve())||ia&&"[object Set]"!=wa(new ia)||ma&&"[object WeakMap]"!=wa(new ma))&&(wa=function(oa){var xa=W.call(oa);if(oa=(oa="[object Object]"==xa?oa.constructor:void 0)?K(oa):void 0)switch(oa){case qa:return"[object DataView]";
case ua:return"[object Map]";case ya:return"[object Promise]";case Aa:return"[object Set]";case Ba:return"[object WeakMap]"}return xa});var Ea=Array.isArray,ra=za||function(){return!1};u.exports=function(oa){return A(oa,!0,!0)}}).call(this,k(170),k(366)(f))},356:function(f,g,k){function y(E){var z;E=Object(u.a)(E);return!0===(null===(z=E.portalProperties)||void 0===z?void 0:z.semanticSearchEnabled)||E.portalUser&&!E.portalUser.orgId}k.d(g,"a",function(){return y});var u=k(126)},357:function(f,g,k){k.d(g,
"a",function(){return u});k.d(g,"b",function(){return E});var y=k(286),u="VIEW_ITEM_DETAILS",E=function(z){return function(q){q({type:u,payload:z});q(Object(y.c)(z))}}},36:function(f,g){f.exports=M},366:function(f,g){f.exports=function(k){return k.webpackPolyfill||(k.deprecate=function(){},k.paths=[],k.children||(k.children=[]),Object.defineProperty(k,"loaded",{enumerable:!0,get:function(){return k.l}}),Object.defineProperty(k,"id",{enumerable:!0,get:function(){return k.i}}),k.webpackPolyfill=1),
k}},386:function(f,g,k){(function(y,u){function E(ta,ja,pa){switch(pa.length){case 0:return ta.call(ja);case 1:return ta.call(ja,pa[0]);case 2:return ta.call(ja,pa[0],pa[1]);case 3:return ta.call(ja,pa[0],pa[1],pa[2])}return ta.apply(ja,pa)}function z(ta){var ja=-1,pa=null==ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function q(ta){var ja=-1,pa=null==ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function m(ta){var ja=-1,pa=null==
ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function e(ta){this.size=(this.__data__=new q(ta)).size}function d(ta,ja,pa){(void 0===pa||v(ta[ja],pa))&&(void 0!==pa||ja in ta)||b(ta,ja,pa)}function a(ta,ja){for(var pa=ta.length;pa--;)if(v(ta[pa][0],ja))return pa;return-1}function b(ta,ja,pa){"__proto__"==ja&&na?na(ta,ja,{configurable:!0,enumerable:!0,value:pa,writable:!0}):ta[ja]=pa}function c(ta){if(null==ta)ta=void 0===ta?"[object Undefined]":"[object Null]";else if(ia&&
ia in Object(ta)){var ja=I.call(ta,ia),pa=ta[ia];try{ta[ia]=void 0;var va=!0}catch(Da){}var Fa=W.call(ta);va&&(ja?ta[ia]=pa:delete ta[ia]);ta=Fa}else ta=W.call(ta);return ta}function h(ta){return O(ta)&&"[object Arguments]"==c(ta)}function n(ta){return!(!K(ta)||ba&&ba in ta)&&(G(ta)?Q:R).test(function(ja){if(null!=ja){try{return P.call(ja)}catch(pa){}return ja+""}return""}(ta))}function p(ta,ja,pa,va,Fa){ta!==ja&&Oa(ja,function(Da,Ca){if(Fa||(Fa=new e),K(Da))!function(La,Ga,Ma,Ha,Ka,Na,Qa){var Pa=
F(La,Ma),Ra=F(Ga,Ma),Sa=Qa.get(Ra);if(Sa)return void d(La,Ma,Sa);Ga=Na?Na(Pa,Ra,Ma+"",La,Ga,Qa):void 0;if(Sa=void 0===Ga){var Va=Ea(Ra),Ua=!Va&&ra(Ra),Ta=!Va&&!Ua&&oa(Ra);Ga=Ra;Va||Ua||Ta?Ea(Pa)?Ga=Pa:O(cb=Pa)&&C(cb)?Ga=function(Za,$a){var Ya=-1,bb=Za.length;for($a||($a=Array(bb));++Ya<bb;)$a[Ya]=Za[Ya];return $a}(Pa):Ua?(Sa=!1,Ga=function(Za,$a){if($a)return Za.slice();var Ya=Za.length;Ya=S?S(Ya):new Za.constructor(Ya);return Za.copy(Ya),Ya}(Ra,!0)):Ta?(Sa=!1,Xa=Ra,ab=(Wa=Xa.buffer,db=new Wa.constructor(Wa.byteLength),
(new N(db)).set(new N(Wa)),db),Ga=new Xa.constructor(ab,Xa.byteOffset,Xa.length)):Ga=[]:function(Za){if(!O(Za)||"[object Object]"!=c(Za))return!1;Za=Y(Za);if(null===Za)return!0;Za=I.call(Za,"constructor")&&Za.constructor;return"function"==typeof Za&&Za instanceof Za&&P.call(Za)==ca}(Ra)||wa(Ra)?(Ga=Pa,wa(Pa)?Ga=function(Za){var $a=L(Za),Ya=void 0,bb=!Ya;Ya||(Ya={});for(var eb=-1,fb=$a.length;++eb<fb;){var gb=$a[eb],hb=void 0;void 0===hb&&(hb=Za[gb]);if(bb)b(Ya,gb,hb);else{var ib=Ya,jb=ib[gb];I.call(ib,
gb)&&v(jb,hb)&&(void 0!==hb||gb in ib)||b(ib,gb,hb)}}return Ya}(Pa):K(Pa)&&!G(Pa)||(Ga=function(Za){return"function"!=typeof Za.constructor||D(Za)?{}:Ba(Y(Za))}(Ra))):Sa=!1}var Xa,ab,Wa,db,cb;Sa&&(Qa.set(Ra,Ga),Ka(Ga,Ra,Ha,Na,Qa),Qa["delete"](Ra));d(La,Ma,Ga)}(ta,ja,Ca,pa,p,va,Fa);else{var Ia=va?va(F(ta,Ca),Da,Ca+"",ta,ja,Fa):void 0;void 0===Ia&&(Ia=Da);d(ta,Ca,Ia)}},L)}function w(ta,ja){var pa,va=ta.__data__;return("string"==(pa=typeof ja)||"number"==pa||"symbol"==pa||"boolean"==pa?"__proto__"!==
ja:null===ja)?va["string"==typeof ja?"string":"hash"]:va.map}function B(ta,ja){var pa=null==ta?void 0:ta[ja];return n(pa)?pa:void 0}function A(ta,ja){var pa=typeof ta;return!!(ja=null==ja?9007199254740991:ja)&&("number"==pa||"symbol"!=pa&&X.test(ta))&&-1<ta&&0==ta%1&&ta<ja}function D(ta){var ja=ta&&ta.constructor;return ta===("function"==typeof ja&&ja.prototype||T)}function F(ta,ja){if(("constructor"!==ja||"function"!=typeof ta[ja])&&"__proto__"!=ja)return ta[ja]}function v(ta,ja){return ta===ja||
ta!=ta&&ja!=ja}function C(ta){return null!=ta&&H(ta.length)&&!G(ta)}function G(ta){if(!K(ta))return!1;ta=c(ta);return"[object Function]"==ta||"[object GeneratorFunction]"==ta||"[object AsyncFunction]"==ta||"[object Proxy]"==ta}function H(ta){return"number"==typeof ta&&-1<ta&&0==ta%1&&9007199254740991>=ta}function K(ta){var ja=typeof ta;return null!=ta&&("object"==ja||"function"==ja)}function O(ta){return null!=ta&&"object"==typeof ta}function L(ta){if(C(ta)){var ja=Ea(ta),pa=!ja&&wa(ta),va=!ja&&!pa&&
ra(ta),Fa=!ja&&!pa&&!va&&oa(ta);if(ja=ja||pa||va||Fa){pa=ta.length;for(var Da=String,Ca=-1,Ia=Array(pa);++Ca<pa;)Ia[Ca]=Da(Ca);pa=Ia}else pa=[];Da=pa.length;for(var La in ta)ja&&("length"==La||va&&("offset"==La||"parent"==La)||Fa&&("buffer"==La||"byteLength"==La||"byteOffset"==La)||A(La,Da))||pa.push(La);ta=pa}else if(K(ta)){La=D(ta);Fa=[];for(va in ta)("constructor"!=va||!La&&I.call(ta,va))&&Fa.push(va);ta=Fa}else{La=[];if(null!=ta)for(Fa in Object(ta))La.push(Fa);ta=La}return ta}function J(ta){return ta}
var R=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,aa={};aa["[object Float32Array]"]=aa["[object Float64Array]"]=aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object Boolean]"]=aa["[object DataView]"]=aa["[object Date]"]=aa["[object Error]"]=aa["[object Function]"]=aa["[object Map]"]=
aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=aa["[object WeakMap]"]=!1;var ea="object"==typeof y&&y&&y.Object===Object&&y,ka="object"==typeof self&&self&&self.Object===Object&&self;ka=ea||ka||Function("return this")();var ma=g&&!g.nodeType&&g,sa=ma&&"object"==typeof u&&u&&!u.nodeType&&u;ea=(ma=sa&&sa.exports===ma)&&ea.process;a:{try{var za=sa&&sa.require&&sa.require("util").types||ea&&ea.binding&&ea.binding("util");break a}catch(ta){}za=
void 0}za=za&&za.isTypedArray;var ha,V,la;ea=Array.prototype;var T=Object.prototype;sa=ka["__core-js_shared__"];var P=Function.prototype.toString,I=T.hasOwnProperty,ba=(ha=/[^.]+$/.exec(sa&&sa.keys&&sa.keys.IE_PROTO||""))?"Symbol(src)_1."+ha:"",W=T.toString,ca=P.call(Object),Q=RegExp("^"+P.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ha=ma?ka.Buffer:void 0;ma=ka.Symbol;var N=ka.Uint8Array,S=ha?ha.allocUnsafe:void 0,
Y=(V=Object.getPrototypeOf,la=Object,function(ta){return V(la(ta))}),Z=Object.create,da=T.propertyIsEnumerable,fa=ea.splice,ia=ma?ma.toStringTag:void 0,na=function(){try{var ta=B(Object,"defineProperty");return ta({},"",{}),ta}catch(ja){}}();ha=ha?ha.isBuffer:void 0;var qa=Math.max,ua=Date.now,ya=B(ka,"Map"),Aa=B(Object,"create"),Ba=function(){function ta(){}return function(ja){if(!K(ja))return{};if(Z)return Z(ja);ta.prototype=ja;ja=new ta;return ta.prototype=void 0,ja}}();z.prototype.clear=function(){this.__data__=
Aa?Aa(null):{};this.size=0};z.prototype["delete"]=function(ta){ta=this.has(ta)&&delete this.__data__[ta];return this.size-=ta?1:0,ta};z.prototype.get=function(ta){var ja=this.__data__;return Aa?(ta=ja[ta],"__lodash_hash_undefined__"===ta?void 0:ta):I.call(ja,ta)?ja[ta]:void 0};z.prototype.has=function(ta){var ja=this.__data__;return Aa?void 0!==ja[ta]:I.call(ja,ta)};z.prototype.set=function(ta,ja){var pa=this.__data__;return this.size+=this.has(ta)?0:1,pa[ta]=Aa&&void 0===ja?"__lodash_hash_undefined__":
ja,this};q.prototype.clear=function(){this.__data__=[];this.size=0};q.prototype["delete"]=function(ta){var ja=this.__data__;ta=a(ja,ta);return!(0>ta)&&(ta==ja.length-1?ja.pop():fa.call(ja,ta,1),--this.size,!0)};q.prototype.get=function(ta){var ja=this.__data__;ta=a(ja,ta);return 0>ta?void 0:ja[ta][1]};q.prototype.has=function(ta){return-1<a(this.__data__,ta)};q.prototype.set=function(ta,ja){var pa=this.__data__,va=a(pa,ta);return 0>va?(++this.size,pa.push([ta,ja])):pa[va][1]=ja,this};m.prototype.clear=
function(){this.size=0;this.__data__={hash:new z,map:new (ya||q),string:new z}};m.prototype["delete"]=function(ta){ta=w(this,ta)["delete"](ta);return this.size-=ta?1:0,ta};m.prototype.get=function(ta){return w(this,ta).get(ta)};m.prototype.has=function(ta){return w(this,ta).has(ta)};m.prototype.set=function(ta,ja){var pa=w(this,ta),va=pa.size;return pa.set(ta,ja),this.size+=pa.size==va?0:1,this};e.prototype.clear=function(){this.__data__=new q;this.size=0};e.prototype["delete"]=function(ta){var ja=
this.__data__;ta=ja["delete"](ta);return this.size=ja.size,ta};e.prototype.get=function(ta){return this.__data__.get(ta)};e.prototype.has=function(ta){return this.__data__.has(ta)};e.prototype.set=function(ta,ja){var pa=this.__data__;if(pa instanceof q){var va=pa.__data__;if(!ya||199>va.length)return va.push([ta,ja]),this.size=++pa.size,this;pa=this.__data__=new m(va)}return pa.set(ta,ja),this.size=pa.size,this};var Oa=function(ta,ja,pa){var va=-1,Fa=Object(ta);pa=pa(ta);for(var Da=pa.length;Da--;){var Ca=
pa[++va];if(!1===ja(Fa[Ca],Ca,Fa))break}return ta},Ja=function(ta){var ja=0,pa=0;return function(){var va=ua(),Fa=16-(va-pa);if(pa=va,0<Fa){if(800<=++ja)return arguments[0]}else ja=0;return ta.apply(void 0,arguments)}}(na?function(ta,ja){return na(ta,"toString",{configurable:!0,enumerable:!1,value:(pa=ja,function(){return pa}),writable:!0});var pa}:J),wa=h(function(){return arguments}())?h:function(ta){return O(ta)&&I.call(ta,"callee")&&!da.call(ta,"callee")},Ea=Array.isArray,ra=ha||function(){return!1},
oa=za?function(ta){return function(ja){return ta(ja)}}(za):function(ta){return O(ta)&&H(ta.length)&&!!aa[c(ta)]},xa;ka=(xa=function(ta,ja,pa,va){p(ta,ja,pa,va)},function(ta,ja){return Ja(function(pa,va,Fa){return va=qa(void 0===va?pa.length-1:va,0),function(){for(var Da=arguments,Ca=-1,Ia=qa(Da.length-va,0),La=Array(Ia);++Ca<Ia;)La[Ca]=Da[va+Ca];Ca=-1;for(Ia=Array(va+1);++Ca<va;)Ia[Ca]=Da[Ca];return Ia[va]=Fa(La),E(pa,this,Ia)}}(ta,ja,J),ta+"")}(function(ta,ja){var pa=-1,va=ja.length,Fa=1<va?ja[va-
1]:void 0,Da=2<va?ja[2]:void 0;Fa=3<xa.length&&"function"==typeof Fa?(va--,Fa):void 0;var Ca;if(Ca=Da){Ca=ja[0];var Ia=ja[1];if(K(Da)){var La=typeof Ia;Ca=!!("number"==La?C(Da)&&A(Ia,Da.length):"string"==La&&Ia in Da)&&v(Da[Ia],Ca)}else Ca=!1}Ca&&(Fa=3>va?void 0:Fa,va=1);for(ta=Object(ta);++pa<va;)(Da=ja[pa])&&xa(ta,Da,pa,Fa);return ta}));u.exports=ka}).call(this,k(170),k(366)(f))},398:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){return E?Object(y.g)(Object(y.g)([],
z),["(group:"+E.id+")"]):z})},399:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z,q){if(E)switch(E.value){case "authoritative":return z&&z.orgId&&!z.portal.isPortal?Object(y.g)(Object(y.g)([],q),["((contentstatus:org_authoritative orgid:"+z.orgId+") OR contentstatus:public_authoritative)"]):z&&z.orgId&&z.portal.isPortal?Object(y.g)(Object(y.g)([],q),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(y.g)(Object(y.g)([],
q),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(y.g)(Object(y.g)([],q),["(contentstatus:deprecated)"])}return q})},400:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){return E?Object(y.g)(Object(y.g)([],z),["(access:"+E.value+")"]):z})},401:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){if(E){var q=function(m){for(var e,d=0,a=Object.keys(m);d<a.length;d++){var b=m[a[d]];
if(b.selected){e=b.items;break}b=b.participants.filter(function(c){return c.selected});if(0<b.length){e=b[0].items;break}}return e}(E);if(q)return q=q.join(" OR "),Object(y.g)(Object(y.g)([],z),["id:("+q+")"])}return z})},402:function(f,g,k){k.d(g,"a",function(){return E});f=k(56);var y=k.n(f),u=k(30),E=function(z,q,m,e){function d(v){B=v.categorySchema[0].source.split(".")[1];Object(u.e)(z,q,m.contentCategorySetsGroupQuery).then(a,p);Object(u.v)(z,q.restUrl+"/portals/regions",{culture:e}).then(h,
p)}function a(v){v.results[0]?Object(u.v)(z,q.restUrl+"/content/groups/"+v.results[0].id+"/search",{q:"typekeywords: "+B}).then(b,p):p("The content category sets group could not be found.")}function b(v){1===v.results.length&&v.results[0]?Object(u.h)(z,q,v.results[0].id).then(c,p):p("The item containing the living atlas categories could not be determined.")}function c(v){A=v.categorySchema[0];m.isPortal&&D?n([A]):D&&n([A,D])}function h(v){D={categories:v.map(function(C){return{displayName:C.localizedName,
title:C.region}}).sort(function(C,G){return"wo"===C.title.toLowerCase()?-1:C.displayName.localeCompare(G.displayName)}),description:"2.0",displayName:"Regions",title:"region"};m.isPortal&&A?n([A]):A&&n([A,D])}function n(v){F.resolve({schema:v,id:w})}function p(v){F.reject(v)}void 0===e&&(e="en");var w,B,A,D,F=new y.a;return Object(u.e)(z,q,m.livingAtlasGroupQuery,(null==q?0:q.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(v){v.results[0]&&v.results[0].id?(w=v.results[0].id,Object(u.f)(z,
q,w).then(d,p)):p("The living atlas group could not be found.")},p),F}},409:function(f,g,k){k.d(g,"a",function(){return y});k.d(g,"b",function(){return u});var y="CHANGE_SEARCH_STRING",u=function(E){return{type:y,payload:E}}},410:function(f,g,k){k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});var y="SHOW_EMPTY_RESULTS",u="CHANGE_RESULT_DISPLAY"},48:function(f,g,k){function y(aa,ea,ka){var ma=ea.settings.utils.request,sa=Object(z.b)({},ea);sa=ma(sa[0],sa[1]).then(Object(q.a)(ea),function(la){return aa({type:C,
payload:la})});if(ka){var za=Object(z.a)(ea,["access","contentstatus","categories"]);za=ma(za[0],za[1]);ka=ea.settings.config.customSections;var ha=ea.parameters.section;if(Object(w.a)(ha)||Object(p.e)(ka,ha)&&Object(w.a)(Object(p.b)(ka,ha))){var V=Object(z.c)(ea,ea.ui.tagsFilter.filterString);V=ma(V[0],V[1])}}ma=[sa,za,V].filter(function(la){return la});m()(ma).then(function(la){aa(function(T,P){var I,ba,W=P[0],ca=P[1],Q=P[2],N=Object(B.a)(T),S=T.settings.utils.iconDir;return{type:v,payload:{search:Object(u.a)(Object(u.a)({},
W.data),{results:W.data.results.map(function(Y){return Object(e.a)(N,S,Y)})}),aggregations:(null===(I=null==ca?void 0:ca.data)||void 0===I?0:I.aggregations)?{counts:Object(u.g)([],ca.data.aggregations.counts).concat((null===(ba=null==Q?void 0:Q.data)||void 0===ba?0:ba.aggregations)?Object(u.g)([],Q.data.aggregations.counts):[]),countInfo:{section:T.parameters.section,group:T.parameters.filter.group,custom:T.settings.config.customSections.filter(function(Y){return Y.name===T.parameters.section})[0]}}:
void 0}}}(ea,la));aa(D.e)},function(la){return aa({type:C,payload:la})})}k.d(g,"a",function(){return F});k.d(g,"c",function(){return v});k.d(g,"b",function(){return C});k.d(g,"d",function(){return G});k.d(g,"f",function(){return H});k.d(g,"e",function(){return K});k.d(g,"g",function(){return O});k.d(g,"h",function(){return L});k.d(g,"i",function(){return J});var u=k(0),E=k(100),z=k(162),q=k(217);f=k(65);var m=k.n(f),e=k(78),d=k(326),a=k(327),b=k(173),c=k(266),h=k(328),n=k(264),p=k(86),w=k(329),B=
k(126),A=k(256),D=k(199),F="LOADING_CONTENT",v="LOADING_CONTENT_SUCCESS",C="LOADING_CONTENT_FAILED",G="LOADING_NEXT",H="LOADING_NEXT_SUCCESS",K="LOADING_NEXT_FAILED",O="SUBSCRIPTION_CONTENT_SUCCESS",L=function(aa){return function(ea,ka){var ma=ka(),sa=ma.settings.utils.request,za=ma.parameters.nextQuery.nextStart;ea({type:G});za=Object(z.b)({num:aa,start:za},ma);sa(za[0],za[1]).then(Object(q.a)(ma),function(ha){return ea({type:K,payload:ha})}).then(function(ha){return ea(X(ma,ha))},function(ha){return ea({type:K,
payload:ha})})}},J=function(aa){return function(ea,ka){var ma=ka();ea({type:F});ma.settings.config.clearSelectionBetweenSearches&&ea({type:E.b});ea(R(aa))}},R=function(aa){return function(ea,ka){var ma=ka(),sa=ma.parameters.section,za=ma.settings.utils.portal.user,ha=!!za,V=ma.settings.utils.portal,la=V.isPortal,T=za&&"org_admin"===za.role,P=za&&za.privileges&&-1<za.privileges.indexOf("portal:admin:manageCollaborations"),I=za&&!la&&za.orgId&&V.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer",
"Evaluation"].indexOf(V.subscriptionInfo.type);ea(Object(d.b)()).then(function(ba){"livingAtlas"===sa||"Living Atlas"===sa?ea(Object(a.d)(ba)).then(function(){return y(ea,ka(),aa)},function(){return ea({type:C,payload:"Couldn't load the living atlas info."})}):"myContent"!==sa&&"myGroups"!==sa&&"myFavorites"!==sa&&"subscription"!==sa||!ha?"myOrganization"===sa&&ha?m()([ea(Object(c.d)())].concat(T&&P&&!I?[ea(Object(h.a)(ea,ka()))]:[])).then(function(){return y(ea,ka(),aa)},function(){return ea({type:C,
payload:"Couldn't load the organization info."})}):Object(p.e)(ma.settings.config.customSections,sa)?ea(Object(n.e)()).then(function(){return y(ea,ka(),aa)},function(){return ea({type:C,payload:"Couldn't load the custom section info."})}):y(ea,ma,aa):m()([ea(Object(b.l)())].concat(ha&&za.orgId?[ea(Object(c.d)())]:[]).concat(T&&P&&!I?[ea(Object(h.a)(ea,ka()))]:[])).then(function(){return"subscription"===sa?ea(Object(A.d)()).then(function(){return ea({type:O,payload:ka().results.provisionedContent.content})},
function(){return ea({type:C,payload:"Couldn't load provisioned content info."})}):y(ea,ka(),aa)},function(){return ea({type:C,payload:"Couldn't load the user info."})})})}},X=function(aa,ea){var ka=aa.settings.utils.iconDir,ma=Object(B.a)(aa);return{type:H,payload:Object(u.a)(Object(u.a)({},ea.data),{results:ea.data.results.map(function(sa){return Object(e.a)(ma,ka,sa)})})}}},49:function(f,g,k){k.d(g,"d",function(){return y});k.d(g,"n",function(){return u});k.d(g,"i",function(){return E});k.d(g,
"j",function(){return z});k.d(g,"m",function(){return q});k.d(g,"f",function(){return m});k.d(g,"h",function(){return e});k.d(g,"l",function(){return d});k.d(g,"c",function(){return a});k.d(g,"p",function(){return b});k.d(g,"g",function(){return c});k.d(g,"e",function(){return h});k.d(g,"q",function(){return n});k.d(g,"k",function(){return p});k.d(g,"o",function(){return w});k.d(g,"r",function(){return B});k.d(g,"b",function(){return A});k.d(g,"a",function(){return D});k.d(g,"u",function(){return F});
k.d(g,"E",function(){return v});k.d(g,"y",function(){return C});k.d(g,"D",function(){return G});k.d(g,"z",function(){return H});k.d(g,"A",function(){return K});k.d(g,"w",function(){return O});k.d(g,"C",function(){return L});k.d(g,"t",function(){return J});k.d(g,"G",function(){return R});k.d(g,"v",function(){return X});k.d(g,"x",function(){return aa});k.d(g,"H",function(){return ea});k.d(g,"B",function(){return ka});k.d(g,"F",function(){return ma});k.d(g,"I",function(){return sa});k.d(g,"s",function(){return za});
var y="UPDATE_CUSTOM_FILTER",u="UPDATE_ORG_GROUP_FILTER",E="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",z="UPDATE_LIVING_ATLAS_REGION_FILTER",q="UPDATE_ORG_CATEGORIES_FILTER",m="UPDATE_GROUP_CATEGORIES_FILTER",e="UPDATE_ITEM_TYPE_FILTER",d="UPDATE_MODIFIED_FILTER",a="UPDATE_CREATED_FILTER",b="UPDATE_SHARED_FILTER",c="UPDATE_GROUP_FILTER",h="UPDATE_FOLDER_FILTER",n="UPDATE_STATUS_FILTER",p="UPDATE_MAP_AREA_FILTER",w="UPDATE_SEARCH_ORG_FILTER",B="UPDATE_TAGS_FILTER",A="UPDATE_COLLABORATIONS_FILTER",D="CLEAR_ALL_FILTERS",
F=function(ha,V){return{type:y,payload:{index:ha,filter:V}}},v=function(ha){return{type:u,payload:ha}},C=function(ha){return{type:e,payload:ha}},G=function(ha){return{type:q,payload:ha}},H=function(ha){return{type:E,payload:ha}},K=function(ha){return{type:z,payload:ha}},O=function(ha){return{type:m,payload:ha}},L=function(ha,V){return{type:d,payload:{section:ha,modified:V}}},J=function(ha,V){return{type:a,payload:{section:ha,created:V}}},R=function(ha){return{type:b,payload:ha}},X=function(ha){return{type:h,
payload:ha}},aa=function(ha){return{type:c,payload:ha}},ea=function(ha){return{type:n,payload:ha}},ka=function(ha){return{type:p,payload:ha}},ma=function(ha){return{type:w,payload:ha}},sa=function(ha){return{type:B,payload:ha}},za=function(ha){return{type:A,payload:ha}}},5:function(f,g,k){function y(a){return 0===Object.keys(a).length&&a.constructor===Object}function u(a){return null!=a}function E(a,b){return e.apply(null,arguments)}function z(a,b){return d.apply(null,arguments)}k.d(g,"b",function(){return y});
k.d(g,"a",function(){return u});k.d(g,"e",function(){return m});k.d(g,"c",function(){return E});k.d(g,"d",function(){return z});var q=k(0);f=k(15);var m=Object(f.a)(function(a,b){var c=Object(q.a)({},b);return delete c[a],c}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,h){return c[h]=a(b[h],h,b),c},{})}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,h){return a(b[h],h,b)&&(c[h]=b[h]),c},{})})},51:function(f,g,k){function y(v){return!(!v.urlKey||!v.customBaseUrl)}
function u(v){return v.role===h.admin||v.role===h.accountAdmin}function E(v){return Object(w.a)(v.roleId)&&0<(v.roleId||"").length}function z(v){return!E(v)||E(v)&&-1<(v.privileges||[]).indexOf("portal:admin:viewItems")}function q(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToOrg")}function m(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToGroup")}function e(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToPublic")}function d(v,C){return a(v)||b(v)||C.canSharePublic&&
c(v)}function a(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(g,"l",function(){return A});k.d(g,"h",function(){return D});k.d(g,"m",function(){return F});k.d(g,"k",function(){return y});k.d(g,"i",function(){return u});k.d(g,"j",function(){return E});k.d(g,"g",function(){return z});k.d(g,"b",function(){return q});k.d(g,
"a",function(){return m});k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});var h,n=k(63),p=k(148),w=k(5),B=k(58);!function(v){v.user="org_user";v.accountUser="account_user";v.publisher="org_publisher";v.accountPublisher="account_publisher";v.admin="org_admin";v.accountAdmin="account_admin";v.viewer="iAAAAAAAAAAAAAAA";v.dataEditor="iBBBBBBBBBBBBBBB"}(h||(h={}));var A=function(v){var C=v.items;return!!v.user.orgId&&C.every(function(G){return G.isOrgItem})},
D=function(v){var C=v.items,G=v.user,H=v.portal;v=C[0];var K=Object(B.c)(v,G),O=E(G),L=d(G,H);if(O=Object(B.a)(v,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!O)O=!y(H)||m(G)||q(G)||H.canSharePublic&&e(G)||d(G,H);H=O;return!(v.portal.isPortal&&v.owner!==G.username&&-1<v.owner.indexOf("esri_"))&&(K||H||A({items:C,user:G})&&L)},F=function(v,C){return Object(n.a)(Object(p.a)(v))(C)}},56:function(f,g){f.exports=r},58:function(f,g,k){function y(e,d){return(null==e?void 0:e.owner)===d.username}
function u(e,d){var a;if(!(a=y(e,d)))if(Object(z.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!y(e,d)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function E(e,d){return u(e,d)||"update"===e.itemControl}k.d(g,"d",function(){return y});k.d(g,"c",function(){return u});k.d(g,"a",function(){return E});k.d(g,"b",function(){return m});var z=k(5),q=k(51),m=function(e){var d=e.user,a=e.items;
e=e.portal;return Object(q.l)({items:a,user:d})&&Object(q.h)({items:a,user:d,portal:e})&&Object(q.g)(d)&&a[0].itemOwner||d}},63:function(f,g,k){function y(){for(var u=[],E=0;E<arguments.length;E++)u[E]=arguments[E];return function(z){return u.reduceRight(function(q,m){return m(q)},z)}}k.d(g,"a",function(){return y})},65:function(f,g){f.exports=x},710:function(f,g,k){function y(w,B){var A,D,F=B.settings.utils.telemetry,v={pageName:B.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",
myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",livingAtlas:"living atlas",all:"arcgis online"}[B.parameters.section]||"other"};if(w.type===z.a)return(null==F?void 0:F.getWorkflow("item browser"))&&F.cancelWorkflow("item browser"),void(null==F||F.startWorkflow("item browser",v));var C=null==F?void 0:F.getWorkflow("item browser");if(F&&C)switch(w.type){case q.a:case m.a:F.stepWorkflow("item browser","search",Object(u.a)(Object(u.a)({},v),{details:(null===(A=B.parameters.searchString)||
void 0===A?void 0:A.current)||"",attribute:Object(n.a)(B)?"enriched":void 0,searchQuery:Object(p.b)(B)}));break;case e.a:F.stepWorkflow("item browser","sort",Object(u.a)(Object(u.a)({},v),{details:w.payload}));break;case d.a:F.stepWorkflow("item browser","list"===B.ui.resultPanel.display?"list view":"compact view",Object(u.a)({},v));break;case a.c:F.stepWorkflow("item browser","pagination",Object(u.a)(Object(u.a)({},v),{details:w.payload}));break;case b.e:case b.h:case b.l:case b.c:case b.r:case b.p:F.stepWorkflow("item browser",
"filter",Object(u.a)(Object(u.a)({},v),{details:w.type.split("_").join(" ").toLowerCase()}));break;case c.f:F.stepWorkflow("item browser","select all on page",Object(u.a)({},v));break;case h.a:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},v),{details:"view item details"}));break;case E.SELECT_ITEM:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},v),{details:"add"}));break;case E.DESELECT_ITEM:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},
v),{details:"remove"}));break;case c.k:A=B.results.selectedItems[w.payload.id]?"select":"deselect";F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},v),{details:A}));break;case c.d:F.endWorkflow("item browser",Object(u.a)(Object(u.a)({},v),{count:null===(D=w.payload)||void 0===D?void 0:D.length}));break;case c.a:F.cancelWorkflow("item browser",Object(u.a)({},v))}}k.d(g,"a",function(){return y});var u=k(0),E=k(231),z=k(326),q=k(288),m=k(409),e=k(290),d=k(410),a=k(295),b=k(49),
c=k(100),h=k(357),n=k(356),p=k(179)},78:function(f,g,k){k.d(g,"a",function(){return e});k.d(g,"b",function(){return d});var y=k(63);f=k(5);var u=k(123),E=k(122),z=k(117),q=k(121),m=k(120),e=function(a,b,c){return Object(y.a)(Object(m.a)(a),Object(q.a)(a),Object(z.a)(b),Object(E.a)(a),Object(u.a)(a))(c)},d=Object(y.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},86:function(f,g,k){function y(e){return!(!q(e)&&!m(e))}
function u(e,d){return e.filter(function(a){return a.name===d})[0]}function E(e,d){return!!u(e,d)}k.d(g,"a",function(){return z});k.d(g,"c",function(){return q});k.d(g,"d",function(){return m});k.d(g,"f",function(){return y});k.d(g,"b",function(){return u});k.d(g,"e",function(){return E});f=k(15);var z=function(e){return e.filters?e.filters.filter(function(d){return"object"==typeof d&&("group"===d.type||"org"===d.type)}):[]};f=Object(f.a)(function(e,d){if(d.filters)return d.filters.reduce(function(a,
b){return"object"==typeof b&&b.type===e?b:a},void 0)});var q=f("group"),m=f("org")},983:function(f,g,k){k.r(g);k.d(g,"ItemBrowserWrapper",function(){return c});var y=k(0),u=k(231),E=k.n(u),z=k(16);f=k(386);var q=k.n(f);f=k(336);var m=k.n(f),e=k(30),d=k(117),a=k(100),b=k(710);k.d(g,"changeSearchSection",function(){return u.changeSearchSection});k.d(g,"initialState",function(){return u.initialState});k.d(g,"search",function(){return u.search});k.d(g,"updateExtent",function(){return u.updateExtent});
k.d(g,"viewItemDetails",function(){return u.viewItemDetails});var c=function(){function h(n,p){var w,B;this.options=p;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";n.appendChild(this.renderContainer);var A=m()(u.initialState),D=m()(p.initialState);A=q()(A,D,function(F,v){if(Array.isArray(F)&&v)return v});this.initialState=Object(y.a)(Object(y.a)({},
A),{settings:Object(y.a)(Object(y.a)({},A.settings),{utils:{telemetry:p.telemetry,appName:p.appName,request:4===p.apiVersion?p.request:Object(e.u)(p.request),portal:4===p.apiVersion?p.portal:Object(y.a)(Object(y.a)({},p.portal),{restUrl:p.portal.portalUrl.slice(0,-1),credential:null===(w=p.portal.user)||void 0===w?void 0:w.credential}),iconDir:4===p.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});w=p.middlewares||[];(null===(B=p.telemetry)||
void 0===B?0:B.getWorkflow("item browser"))&&p.telemetry.cancelWorkflow("item browser");this.store=z.applyMiddleware.apply(void 0,Object(y.g)([z.thunk,Object(z.addListener)(b.a),Object(z.addListener)(this.listener)],w))(z.createStore)(u.reducers,this.initialState);this.projector=Object(z.createProjector)(this.store,function(F){return F(E.a,{key:"ib"})},this.renderContainer);this.store.dispatch(Object(u.search)(!0));this.handleInitiallySelectedItemsDfd()}return h.prototype.handleInitiallySelectedItemsDfd=
function(){var n=this,p=this.getState().settings,w=p.config.initiallySelectedItemsDfd,B=p.utils.iconDir;w?w.then(function(A){var D=Object.keys(A).map(function(F){return Object(d.a)(B,Object(y.a)({},A[F]))}).reduce(function(F,v){var C;return Object(y.a)(Object(y.a)({},F),((C={})[v.id]=v,C))},{});n.store.dispatch(Object(a.p)(D))}):this.store.dispatch(Object(a.p)({}))},h.prototype.shimmedRequest=function(n,p){var w,B=Object(y.a)({},p.query);return(null===(w=this.options.portal.user)||void 0===w?void 0:
w.credential)&&-1<n.indexOf(this.options.portal.restUrl)&&(B.token=this.options.portal.user.credential.token),this.options.request({url:n,content:p.query},{usePost:"post"===p.method}).then(function(A){return{data:A}})},h.prototype.dispatch=function(n){var p;null===(p=this.store)||void 0===p||p.dispatch(n)},h.prototype.getState=function(){var n;return(null===(n=this.store)||void 0===n?void 0:n.getState())||this.initialState},h.prototype.listener=function(n,p){var w,B;null===(B=null===(w=this.options)||
void 0===w?void 0:w.listener)||void 0===B||B.call(w,n,p)},h}()},99:function(f,g,k){function y(e,d){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(d(a=e[b]))return a}function u(e){return e.filter(function(d){return 0<d.length})}function E(e,d,a){var b=[];return d.forEach(function(c){(a?c[a].toLowerCase()===e.toLowerCase():c.toLowerCase()===e.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return z});k.d(g,"f",function(){return q});k.d(g,"c",function(){return y});k.d(g,
"b",function(){return u});k.d(g,"a",function(){return m});k.d(g,"d",function(){return E});f=k(15);var z=function(e,d,a){return a.indexOf(e)===d},q=Object(f.a)(function(e,d){var a={};return d.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),m=function(e,d){return e.length===d.length&&e.reduce(function(a,b){return a&&-1<d.indexOf(b)},!0)}}})})},"arcgis-components/ItemBrowser/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../Loaders/LoaderBars ../Buttons/SvgButton ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index ../Buttons/IconButton ../Modals/Overlay ../Dropdowns/TextOptionDropdown ../Navigation/TabNav ../Filters/CategoriesFilter/index ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Badges/Retired ../Filters/MapAreaFilter ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../Badges/Solution ../Badges/PublicDataCollection ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O,L,J,R,X,aa,ea,ka,ma,sa,za,ha,V,la){return function(T){function P(ba){if(I[ba])return I[ba].exports;var W=I[ba]={i:ba,l:!1,exports:{}};return T[ba].call(W.exports,W,W.exports,P),W.l=!0,W.exports}var I={};return P.m=T,P.c=I,P.d=function(ba,W,ca){P.o(ba,W)||Object.defineProperty(ba,W,{enumerable:!0,get:ca})},P.r=function(ba){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ba,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(ba,"__esModule",{value:!0})},P.t=function(ba,W){if((1&W&&(ba=P(ba)),8&W)||4&W&&"object"==typeof ba&&ba&&ba.__esModule)return ba;var ca=Object.create(null);if(P.r(ca),Object.defineProperty(ca,"default",{enumerable:!0,value:ba}),2&W&&"string"!=typeof ba)for(var Q in ba)P.d(ca,Q,function(N){return ba[N]}.bind(null,Q));return ca},P.n=function(ba){var W=ba&&ba.__esModule?function(){return ba["default"]}:function(){return ba};return P.d(W,"a",W),W},P.o=function(ba,W){return Object.prototype.hasOwnProperty.call(ba,
W)},P.p="",P(P.s=860)}([function(T,P,I){function ba(da,fa){function ia(){this.constructor=da}if("function"!=typeof fa&&null!==fa)throw new TypeError("Class extends value "+String(fa)+" is not a constructor or null");Y(da,fa);da.prototype=null===fa?Object.create(fa):(ia.prototype=fa.prototype,new ia)}function W(da,fa){var ia={},na;for(na in da)Object.prototype.hasOwnProperty.call(da,na)&&0>fa.indexOf(na)&&(ia[na]=da[na]);if(null!=da&&"function"==typeof Object.getOwnPropertySymbols){var qa=0;for(na=
Object.getOwnPropertySymbols(da);qa<na.length;qa++)0>fa.indexOf(na[qa])&&Object.prototype.propertyIsEnumerable.call(da,na[qa])&&(ia[na[qa]]=da[na[qa]])}return ia}function ca(da,fa,ia,na){var qa,ua=arguments.length,ya=3>ua?fa:null===na?na=Object.getOwnPropertyDescriptor(fa,ia):na;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ya=Reflect.decorate(da,fa,ia,na);else for(var Aa=da.length-1;0<=Aa;Aa--)(qa=da[Aa])&&(ya=(3>ua?qa(ya):3<ua?qa(fa,ia,ya):qa(fa,ia))||ya);return 3<ua&&ya&&Object.defineProperty(fa,
ia,ya),ya}function Q(da,fa,ia,na){return new (ia||(ia=Promise))(function(qa,ua){function ya(Oa){try{Ba(na.next(Oa))}catch(Ja){ua(Ja)}}function Aa(Oa){try{Ba(na["throw"](Oa))}catch(Ja){ua(Ja)}}function Ba(Oa){var Ja;Oa.done?qa(Oa.value):(Ja=Oa.value,Ja instanceof ia?Ja:new ia(function(wa){wa(Ja)})).then(ya,Aa)}Ba((na=na.apply(da,fa||[])).next())})}function N(da,fa){function ia(Ba){return function(Oa){return function(Ja){if(na)throw new TypeError("Generator is already executing.");for(;Aa;)try{if(na=
1,qa&&(ua=2&Ja[0]?qa["return"]:Ja[0]?qa["throw"]||((ua=qa["return"])&&ua.call(qa),0):qa.next)&&!(ua=ua.call(qa,Ja[1])).done)return ua;switch(qa=0,ua&&(Ja=[2&Ja[0],ua.value]),Ja[0]){case 0:case 1:ua=Ja;break;case 4:return Aa.label++,{value:Ja[1],done:!1};case 5:Aa.label++;qa=Ja[1];Ja=[0];continue;case 7:Ja=Aa.ops.pop();Aa.trys.pop();continue;default:if(!(ua=Aa.trys,(ua=0<ua.length&&ua[ua.length-1])||6!==Ja[0]&&2!==Ja[0])){Aa=0;continue}if(3===Ja[0]&&(!ua||Ja[1]>ua[0]&&Ja[1]<ua[3]))Aa.label=Ja[1];else if(6===
Ja[0]&&Aa.label<ua[1])Aa.label=ua[1],ua=Ja;else if(ua&&Aa.label<ua[2])Aa.label=ua[2],Aa.ops.push(Ja);else{ua[2]&&Aa.ops.pop();Aa.trys.pop();continue}}Ja=fa.call(da,Aa)}catch(wa){Ja=[6,wa],qa=0}finally{na=ua=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ba,Oa])}}var na,qa,ua,ya,Aa={label:0,sent:function(){if(1&ua[0])throw ua[1];return ua[1]},trys:[],ops:[]};return ya={next:ia(0),"throw":ia(1),"return":ia(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya}function S(da,fa){for(var ia=0,na=fa.length,qa=da.length;ia<na;ia++,qa++)da[qa]=fa[ia];return da}I.d(P,"d",function(){return ba});I.d(P,"a",function(){return Z});I.d(P,"f",function(){return W});I.d(P,"c",function(){return ca});I.d(P,"b",function(){return Q});I.d(P,"e",function(){return N});I.d(P,"g",function(){return S});var Y=function(da,fa){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ia,na){ia.__proto__=na}||function(ia,na){for(var qa in na)Object.prototype.hasOwnProperty.call(na,
qa)&&(ia[qa]=na[qa])})(da,fa)},Z=function(){return(Z=Object.assign||function(da){for(var fa,ia=1,na=arguments.length;ia<na;ia++)for(var qa in fa=arguments[ia])Object.prototype.hasOwnProperty.call(fa,qa)&&(da[qa]=fa[qa]);return da}).apply(this,arguments)};Object.create;Object.create},,,,,function(T,P,I){function ba(da){return 0===Object.keys(da).length&&da.constructor===Object}function W(da){return null!=da}function ca(da,fa){return Y.apply(null,arguments)}function Q(da,fa){return Z.apply(null,arguments)}
I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"e",function(){return S});I.d(P,"c",function(){return ca});I.d(P,"d",function(){return Q});var N=I(0);T=I(15);var S=Object(T.a)(function(da,fa){var ia=Object(N.a)({},fa);return delete ia[da],ia}),Y=Object(T.a)(function(da,fa){return Object.keys(fa).reduce(function(ia,na){return ia[na]=da(fa[na],na,fa),ia},{})}),Z=Object(T.a)(function(da,fa){return Object.keys(fa).reduce(function(ia,na){return da(fa[na],na,fa)&&(ia[na]=fa[na]),
ia},{})})},,,,,,,,,,function(T,P,I){function ba(ca){return function N(){for(var S=this,Y=[],Z=0;Z<arguments.length;Z++)Y[Z]=arguments[Z];return Y.length>=ca.length?ca.call.apply(ca,Object(W.g)([this],Y)):function(){for(var da=[],fa=0;fa<arguments.length;fa++)da[fa]=arguments[fa];return N.call.apply(N,Object(W.g)(Object(W.g)([S],Y),da))}}}I.d(P,"a",function(){return ba});var W=I(0)},function(T,P){T.exports=U},,,,,,,,,,,,function(T,P,I){(function(ba,W){T.exports=function(){function ca(){var Ha=setTimeout;
return function(){return Ha(Q,1)}}function Q(){for(var Ha=0;Ha<Oa;Ha+=2)(0,ja[Ha])(ja[Ha+1]),ja[Ha]=void 0,ja[Ha+1]=void 0;Oa=0}function N(Ha,Ka){var Na=this,Qa=new this.constructor(Y);void 0===Qa[Ia]&&Aa(Qa);var Pa=Na._state;if(Pa){var Ra=arguments[Pa-1];Ea(function(){return ya(Pa,Qa,Ra,Na._result)})}else qa(Na,Qa,Ha,Ka);return Qa}function S(Ha){if(Ha&&"object"==typeof Ha&&Ha.constructor===this)return Ha;var Ka=new this(Y);return da(Ka,Ha),Ka}function Y(){}function Z(Ha,Ka,Na){Ka.constructor===Ha.constructor&&
Na===N&&Ka.constructor.resolve===S?function(Qa,Pa){1===Pa._state?ia(Qa,Pa._result):2===Pa._state?na(Qa,Pa._result):qa(Pa,void 0,function(Ra){return da(Qa,Ra)},function(Ra){return na(Qa,Ra)})}(Ha,Ka):void 0===Na?ia(Ha,Ka):"function"==typeof Na?function(Qa,Pa,Ra){Ea(function(Sa){var Va=!1,Ua=function(Ta,Xa,ab,Wa){try{Ta.call(Xa,ab,Wa)}catch(db){return db}}(Ra,Pa,function(Ta){Va||(Va=!0,Pa!==Ta?da(Sa,Ta):ia(Sa,Ta))},function(Ta){Va||(Va=!0,na(Sa,Ta))},Sa._label);!Va&&Ua&&(Va=!0,na(Sa,Ua))},Qa)}(Ha,Ka,
Na):ia(Ha,Ka)}function da(Ha,Ka){if(Ha===Ka)na(Ha,new TypeError("You cannot resolve a promise with itself"));else if(Qa=typeof(Na=Ka),null===Na||"object"!==Qa&&"function"!==Qa)ia(Ha,Ka);else{Na=void 0;try{Na=Ka.then}catch(Pa){return void na(Ha,Pa)}Z(Ha,Ka,Na)}var Na,Qa}function fa(Ha){Ha._onerror&&Ha._onerror(Ha._result);ua(Ha)}function ia(Ha,Ka){void 0===Ha._state&&(Ha._result=Ka,Ha._state=1,0!==Ha._subscribers.length&&Ea(ua,Ha))}function na(Ha,Ka){void 0===Ha._state&&(Ha._state=2,Ha._result=Ka,
Ea(fa,Ha))}function qa(Ha,Ka,Na,Qa){var Pa=Ha._subscribers,Ra=Pa.length;Ha._onerror=null;Pa[Ra]=Ka;Pa[Ra+1]=Na;Pa[Ra+2]=Qa;0===Ra&&Ha._state&&Ea(ua,Ha)}function ua(Ha){var Ka=Ha._subscribers,Na=Ha._state;if(0!==Ka.length){for(var Qa=void 0,Pa=void 0,Ra=Ha._result,Sa=0;Sa<Ka.length;Sa+=3)Qa=Ka[Sa],Pa=Ka[Sa+Na],Qa?ya(Na,Qa,Pa,Ra):Pa(Ra);Ha._subscribers.length=0}}function ya(Ha,Ka,Na,Qa){var Pa="function"==typeof Na,Ra=void 0,Sa=void 0,Va=!0;if(Pa){try{Ra=Na(Qa)}catch(Ua){Va=!1,Sa=Ua}if(Ka===Ra)return void na(Ka,
new TypeError("A promises callback cannot return that same promise."))}else Ra=Qa;void 0!==Ka._state||(Pa&&Va?da(Ka,Ra):!1===Va?na(Ka,Sa):1===Ha?ia(Ka,Ra):2===Ha&&na(Ka,Ra))}function Aa(Ha){Ha[Ia]=La++;Ha._state=void 0;Ha._result=void 0;Ha._subscribers=[]}var Ba=Array.isArray?Array.isArray:function(Ha){return"[object Array]"===Object.prototype.toString.call(Ha)},Oa=0,Ja=void 0,wa=void 0,Ea=function(Ha,Ka){ja[Oa]=Ha;ja[Oa+1]=Ka;2===(Oa+=2)&&(wa?wa(Q):Ca())},ra="undefined"!=typeof window?window:void 0,
oa=ra||{};oa=oa.MutationObserver||oa.WebKitMutationObserver;var xa="undefined"==typeof self&&void 0!==ba&&"[object process]"==={}.toString.call(ba),ta="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ja=Array(1E3),pa,va,Fa,Da,Ca=void 0;xa?Ca=function(){return ba.nextTick(Q)}:oa?(va=0,Fa=new oa(Q),Da=document.createTextNode(""),Fa.observe(Da,{characterData:!0}),Ca=function(){Da.data=va=++va%2}):ta?((pa=new MessageChannel).port1.onmessage=
Q,Ca=function(){return pa.port2.postMessage(0)}):Ca=void 0===ra?function(){try{var Ha=Function("return this")().require("vertx");return void 0!==(Ja=Ha.runOnLoop||Ha.runOnContext)?function(){Ja(Q)}:ca()}catch(Ka){return ca()}}():ca();var Ia=Math.random().toString(36).substring(2),La=0,Ga=function(){function Ha(Ka,Na){this._instanceConstructor=Ka;this.promise=new Ka(Y);this.promise[Ia]||Aa(this.promise);Ba(Na)?(this.length=Na.length,this._remaining=Na.length,this._result=Array(this.length),0===this.length?
ia(this.promise,this._result):(this.length=this.length||0,this._enumerate(Na),0===this._remaining&&ia(this.promise,this._result))):na(this.promise,Error("Array Methods must be provided an Array"))}return Ha.prototype._enumerate=function(Ka){for(var Na=0;void 0===this._state&&Na<Ka.length;Na++)this._eachEntry(Ka[Na],Na)},Ha.prototype._eachEntry=function(Ka,Na){var Qa=this._instanceConstructor,Pa=Qa.resolve;if(Pa===S){var Ra=Pa=void 0,Sa=!1;try{Pa=Ka.then}catch(Va){Sa=!0,Ra=Va}Pa===N&&void 0!==Ka._state?
this._settledAt(Ka._state,Na,Ka._result):"function"!=typeof Pa?(this._remaining--,this._result[Na]=Ka):Qa===Ma?(Qa=new Qa(Y),Sa?na(Qa,Ra):Z(Qa,Ka,Pa),this._willSettleAt(Qa,Na)):this._willSettleAt(new Qa(function(Va){return Va(Ka)}),Na)}else this._willSettleAt(Pa(Ka),Na)},Ha.prototype._settledAt=function(Ka,Na,Qa){var Pa=this.promise;void 0===Pa._state&&(this._remaining--,2===Ka?na(Pa,Qa):this._result[Na]=Qa);0===this._remaining&&ia(Pa,this._result)},Ha.prototype._willSettleAt=function(Ka,Na){var Qa=
this;qa(Ka,void 0,function(Pa){return Qa._settledAt(1,Na,Pa)},function(Pa){return Qa._settledAt(2,Na,Pa)})},Ha}(),Ma=function(){function Ha(Ka){this[Ia]=La++;this._result=this._state=void 0;this._subscribers=[];if(Y!==Ka){if("function"!=typeof Ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Ha)(function(Na,Qa){try{Qa(function(Pa){da(Na,Pa)},function(Pa){na(Na,Pa)})}catch(Pa){na(Na,Pa)}})(this,Ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Ha.prototype["catch"]=function(Ka){return this.then(null,Ka)},Ha.prototype["finally"]=function(Ka){var Na=this.constructor;return"function"==typeof Ka?this.then(function(Qa){return Na.resolve(Ka()).then(function(){return Qa})},function(Qa){return Na.resolve(Ka()).then(function(){throw Qa;})}):this.then(Ka,Ka)},Ha}();return Ma.prototype.then=N,Ma.all=function(Ha){return(new Ga(this,Ha)).promise},Ma.race=function(Ha){var Ka=this;return Ba(Ha)?new Ka(function(Na,Qa){for(var Pa=Ha.length,Ra=
0;Ra<Pa;Ra++)Ka.resolve(Ha[Ra]).then(Na,Qa)}):new Ka(function(Na,Qa){return Qa(new TypeError("You must pass an array to race."))})},Ma.resolve=S,Ma.reject=function(Ha){var Ka=new this(Y);return na(Ka,Ha),Ka},Ma._setScheduler=function(Ha){wa=Ha},Ma._setAsap=function(Ha){Ea=Ha},Ma._asap=Ea,Ma.polyfill=function(){var Ha=void 0;if(void 0!==W)Ha=W;else if("undefined"!=typeof self)Ha=self;else try{Ha=Function("return this")()}catch(Qa){throw Error("polyfill failed because global object is unavailable in this environment");
}var Ka=Ha.Promise;if(Ka){var Na=null;try{Na=Object.prototype.toString.call(Ka.resolve())}catch(Qa){}if("[object Promise]"===Na&&!Ka.cast)return}Ha.Promise=Ma},Ma.Promise=Ma,Ma}()}).call(this,I(189),I(170))},,function(T,P,I){function ba(ja){return ja.reduce(function(pa,va){return va&&va.relatedItems?pa.concat(va.relatedItems.map(function(Fa){return Fa})):pa},[])}function W(ja,pa,va){return ja(pa,{query:Object(N.a)({f:"json"},va)}).then(function(Fa){return Fa.data})}function ca(ja,pa){void 0===pa&&
(pa=100);for(var va=[],Fa=0;Fa<Math.ceil(ja.length/pa);Fa++)va.push(ja.slice(Fa*pa,(Fa+1)*pa));return va.filter(function(Da){return 0<Da.length})}function Q(ja){var pa=ja.itemIds,va=ja.request,Fa=ja.groupIds,Da=ja.portal.restUrl+"/content/itemsgroups";return new S.Promise(function(Ca,Ia){va(Da,{method:"get",query:{f:"json",items:pa,groups:Fa}}).then(function(La){Ca(La.data)},Ia)})}I.d(P,"u",function(){return Y});I.d(P,"n",function(){return Z});I.d(P,"h",function(){return da});I.d(P,"e",function(){return fa});
I.d(P,"f",function(){return ia});I.d(P,"j",function(){return na});I.d(P,"o",function(){return qa});I.d(P,"l",function(){return ua});I.d(P,"k",function(){return ya});I.d(P,"m",function(){return Aa});I.d(P,"c",function(){return Ba});I.d(P,"d",function(){return Oa});I.d(P,"r",function(){return Ja});I.d(P,"s",function(){return wa});I.d(P,"t",function(){return Ea});I.d(P,"g",function(){return ra});I.d(P,"p",function(){return oa});I.d(P,"q",function(){return xa});I.d(P,"v",function(){return W});I.d(P,"a",
function(){return ca});I.d(P,"i",function(){return Q});I.d(P,"b",function(){return ta});var N=I(0),S=I(28),Y=function(ja){return function(pa,va){return ja({url:pa,content:va.query},{usePost:"post"===va.method}).then(function(Fa){return{data:Fa}})}},Z=function(ja,pa,va){return W(ja,pa.restUrl+"/portals/self",{culture:va,"default":!0})},da=function(ja,pa,va){return W(ja,pa.restUrl+"/content/items/"+va+"/data")},fa=function(ja,pa,va,Fa){return W(ja,pa.restUrl+"/community/groups",Object(N.a)({q:va},Fa))},
ia=function(ja,pa,va){return W(ja,pa.restUrl+"/community/groups/"+va+"/categorySchema")},na=function(ja,pa,va){return W(ja,pa.restUrl+"/portals/"+(va||pa.id)+"/categorySchema")},qa=function(ja,pa){return W(ja,pa.restUrl+"/portals/"+pa.id+"/servers")},ua=function(ja,pa,va,Fa){return ja(pa.restUrl+"/portals/"+(va||pa.id)+"/collaborationsSummary",Fa)},ya=function(ja,pa,va,Fa){return ja(pa.restUrl+"/portals/"+(va||pa.id)+"/collaboratedItems",Fa)},Aa=function(ja,pa,va){return W(ja,location.protocol+"//"+
pa.portalHostname+"/sharing/rest/portals/"+(va||"self"))},Ba=function(ja,pa,va){return ja(pa.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+pa.id+" AND access:public",num:100,start:va||1,sortField:"title",sortOrder:"asc"}}).then(function(Fa){return Fa.data.total>Fa.data.start+Fa.data.num?Ba(ja,pa,Fa.data.start+Fa.data.num).then(function(Da){return Object(N.a)(Object(N.a)({},Da),{data:Object(N.a)(Object(N.a)({},Da.data),{results:Fa.data.results.concat(Da.data.results)})})}):Fa})},Oa=function(ja,
pa,va,Fa){return ja(pa.restUrl+"/community/users/"+va+"/provisionedListings",{query:{f:"json",num:100,start:Fa||1}}).then(function(Da){var Ca=S.Promise.all(Da.data.provisionedListings.filter(function(La){return La.itemId}).map(function(La){return(new S.Promise(function(Ga,Ma){ja(pa.restUrl+"/content/items/"+La.itemId,{method:"get",query:{f:"json"}}).then(function(Ha){Ga(Ha.data)},Ma)}))["catch"](function(Ga){return 0})})),Ia=Da.data.provisionedListings.map(function(La){return W(ja,pa.restUrl+"/content/items/"+
(La.id||La.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(Ga){return Ga},function(Ga){})});return Da.data.total>Da.data.start+Da.data.num?Oa(ja,pa,va,Da.data.start+Da.data.num).then(function(La){return S.Promise.all([Ca].concat(Ia)).then(function(Ga){return Ga[0].results.concat(ba(Ga.slice(1))).concat(La)})}):S.Promise.all([Ca].concat(Ia)).then(function(La){return La[0].filter(function(Ga){return void 0!==Ga}).concat(ba(La.slice(1)))})})},
Ja=function(ja,pa,va){return W(ja,pa.restUrl+"/community/users/"+(va||pa.user.username))},wa=function(ja,pa,va){return W(ja,pa.restUrl+"/content/users/"+(va||pa.user.username),{num:1})},Ea=function(ja,pa,va){return W(ja,pa.restUrl+"/content/groups/"+va)},ra=function(ja,pa,va){return W(ja,pa.restUrl+"/community/groups",va)},oa=function(ja,pa){return W(ja,pa.restUrl+"/portals/self/settings")},xa=function(ja,pa){return W(ja,pa.restUrl+"/portals/self/trustedOrgs",{num:100})},ta=function(ja,pa){return void 0===
pa&&(pa=","),ja.map(function(va){return va.id}).join(pa)}},,,,,,function(T,P){T.exports=M},,,,,,,,,,,,function(T,P,I){function ba(Da,Ca,Ia){var La=Ca.settings.utils.request,Ga=Object(Q.b)({},Ca);Ga=La(Ga[0],Ga[1]).then(Object(N.a)(Ca),function(Na){return Da({type:Ea,payload:Na})});if(Ia){var Ma=Object(Q.a)(Ca,["access","contentstatus","categories"]);Ma=La(Ma[0],Ma[1]);Ia=Ca.settings.config.customSections;var Ha=Ca.parameters.section;if(Object(ya.a)(Ha)||Object(ua.e)(Ia,Ha)&&Object(ya.a)(Object(ua.b)(Ia,
Ha))){var Ka=Object(Q.c)(Ca,Ca.ui.tagsFilter.filterString);Ka=La(Ka[0],Ka[1])}}La=[Ga,Ma,Ka].filter(function(Na){return Na});S()(La).then(function(Na){Da(function(Qa,Pa){var Ra,Sa,Va=Pa[0],Ua=Pa[1],Ta=Pa[2],Xa=Object(Aa.a)(Qa),ab=Qa.settings.utils.iconDir;return{type:wa,payload:{search:Object(W.a)(Object(W.a)({},Va.data),{results:Va.data.results.map(function(Wa){return Object(Y.a)(Xa,ab,Wa)})}),aggregations:(null===(Ra=null==Ua?void 0:Ua.data)||void 0===Ra?0:Ra.aggregations)?{counts:Object(W.g)([],
Ua.data.aggregations.counts).concat((null===(Sa=null==Ta?void 0:Ta.data)||void 0===Sa?0:Sa.aggregations)?Object(W.g)([],Ta.data.aggregations.counts):[]),countInfo:{section:Qa.parameters.section,group:Qa.parameters.filter.group,custom:Qa.settings.config.customSections.filter(function(Wa){return Wa.name===Qa.parameters.section})[0]}}:void 0}}}(Ca,Na));Da(Oa.e)},function(Na){return Da({type:Ea,payload:Na})})}I.d(P,"a",function(){return Ja});I.d(P,"c",function(){return wa});I.d(P,"b",function(){return Ea});
I.d(P,"d",function(){return ra});I.d(P,"f",function(){return oa});I.d(P,"e",function(){return xa});I.d(P,"g",function(){return ta});I.d(P,"h",function(){return ja});I.d(P,"i",function(){return pa});var W=I(0),ca=I(100),Q=I(162),N=I(217);T=I(65);var S=I.n(T),Y=I(78),Z=I(326),da=I(327),fa=I(173),ia=I(266),na=I(328),qa=I(264),ua=I(86),ya=I(329),Aa=I(126),Ba=I(256),Oa=I(199),Ja="LOADING_CONTENT",wa="LOADING_CONTENT_SUCCESS",Ea="LOADING_CONTENT_FAILED",ra="LOADING_NEXT",oa="LOADING_NEXT_SUCCESS",xa="LOADING_NEXT_FAILED",
ta="SUBSCRIPTION_CONTENT_SUCCESS",ja=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.settings.utils.request,Ma=La.parameters.nextQuery.nextStart;Ca({type:ra});Ma=Object(Q.b)({num:Da,start:Ma},La);Ga(Ma[0],Ma[1]).then(Object(N.a)(La),function(Ha){return Ca({type:xa,payload:Ha})}).then(function(Ha){return Ca(Fa(La,Ha))},function(Ha){return Ca({type:xa,payload:Ha})})}},pa=function(Da){return function(Ca,Ia){var La=Ia();Ca({type:Ja});La.settings.config.clearSelectionBetweenSearches&&Ca({type:ca.b});
Ca(va(Da))}},va=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.parameters.section,Ma=La.settings.utils.portal.user,Ha=!!Ma,Ka=La.settings.utils.portal,Na=Ka.isPortal,Qa=Ma&&"org_admin"===Ma.role,Pa=Ma&&Ma.privileges&&-1<Ma.privileges.indexOf("portal:admin:manageCollaborations"),Ra=Ma&&!Na&&Ma.orgId&&Ka.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ka.subscriptionInfo.type);Ca(Object(Z.b)()).then(function(Sa){"livingAtlas"===Ga||"Living Atlas"===Ga?Ca(Object(da.d)(Sa)).then(function(){return ba(Ca,
Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the living atlas info."})}):"myContent"!==Ga&&"myGroups"!==Ga&&"myFavorites"!==Ga&&"subscription"!==Ga||!Ha?"myOrganization"===Ga&&Ha?S()([Ca(Object(ia.d)())].concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return ba(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the organization info."})}):Object(ua.e)(La.settings.config.customSections,Ga)?Ca(Object(qa.e)()).then(function(){return ba(Ca,Ia(),Da)},
function(){return Ca({type:Ea,payload:"Couldn't load the custom section info."})}):ba(Ca,La,Da):S()([Ca(Object(fa.l)())].concat(Ha&&Ma.orgId?[Ca(Object(ia.d)())]:[]).concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return"subscription"===Ga?Ca(Object(Ba.d)()).then(function(){return Ca({type:ta,payload:Ia().results.provisionedContent.content})},function(){return Ca({type:Ea,payload:"Couldn't load provisioned content info."})}):ba(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the user info."})})})}},
Fa=function(Da,Ca){var Ia=Da.settings.utils.iconDir,La=Object(Aa.a)(Da);return{type:oa,payload:Object(W.a)(Object(W.a)({},Ca.data),{results:Ca.data.results.map(function(Ga){return Object(Y.a)(La,Ia,Ga)})})}}},function(T,P,I){I.d(P,"d",function(){return ba});I.d(P,"n",function(){return W});I.d(P,"i",function(){return ca});I.d(P,"j",function(){return Q});I.d(P,"m",function(){return N});I.d(P,"f",function(){return S});I.d(P,"h",function(){return Y});I.d(P,"l",function(){return Z});I.d(P,"c",function(){return da});
I.d(P,"p",function(){return fa});I.d(P,"g",function(){return ia});I.d(P,"e",function(){return na});I.d(P,"q",function(){return qa});I.d(P,"k",function(){return ua});I.d(P,"o",function(){return ya});I.d(P,"r",function(){return Aa});I.d(P,"b",function(){return Ba});I.d(P,"a",function(){return Oa});I.d(P,"u",function(){return Ja});I.d(P,"E",function(){return wa});I.d(P,"y",function(){return Ea});I.d(P,"D",function(){return ra});I.d(P,"z",function(){return oa});I.d(P,"A",function(){return xa});I.d(P,
"w",function(){return ta});I.d(P,"C",function(){return ja});I.d(P,"t",function(){return pa});I.d(P,"G",function(){return va});I.d(P,"v",function(){return Fa});I.d(P,"x",function(){return Da});I.d(P,"H",function(){return Ca});I.d(P,"B",function(){return Ia});I.d(P,"F",function(){return La});I.d(P,"I",function(){return Ga});I.d(P,"s",function(){return Ma});var ba="UPDATE_CUSTOM_FILTER",W="UPDATE_ORG_GROUP_FILTER",ca="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",Q="UPDATE_LIVING_ATLAS_REGION_FILTER",N="UPDATE_ORG_CATEGORIES_FILTER",
S="UPDATE_GROUP_CATEGORIES_FILTER",Y="UPDATE_ITEM_TYPE_FILTER",Z="UPDATE_MODIFIED_FILTER",da="UPDATE_CREATED_FILTER",fa="UPDATE_SHARED_FILTER",ia="UPDATE_GROUP_FILTER",na="UPDATE_FOLDER_FILTER",qa="UPDATE_STATUS_FILTER",ua="UPDATE_MAP_AREA_FILTER",ya="UPDATE_SEARCH_ORG_FILTER",Aa="UPDATE_TAGS_FILTER",Ba="UPDATE_COLLABORATIONS_FILTER",Oa="CLEAR_ALL_FILTERS",Ja=function(Ha,Ka){return{type:ba,payload:{index:Ha,filter:Ka}}},wa=function(Ha){return{type:W,payload:Ha}},Ea=function(Ha){return{type:Y,payload:Ha}},
ra=function(Ha){return{type:N,payload:Ha}},oa=function(Ha){return{type:ca,payload:Ha}},xa=function(Ha){return{type:Q,payload:Ha}},ta=function(Ha){return{type:S,payload:Ha}},ja=function(Ha,Ka){return{type:Z,payload:{section:Ha,modified:Ka}}},pa=function(Ha,Ka){return{type:da,payload:{section:Ha,created:Ka}}},va=function(Ha){return{type:fa,payload:Ha}},Fa=function(Ha){return{type:na,payload:Ha}},Da=function(Ha){return{type:ia,payload:Ha}},Ca=function(Ha){return{type:qa,payload:Ha}},Ia=function(Ha){return{type:ua,
payload:Ha}},La=function(Ha){return{type:ya,payload:Ha}},Ga=function(Ha){return{type:Aa,payload:Ha}},Ma=function(Ha){return{type:Ba,payload:Ha}}},,function(T,P,I){function ba(wa){return!(!wa.urlKey||!wa.customBaseUrl)}function W(wa){return wa.role===na.admin||wa.role===na.accountAdmin}function ca(wa){return Object(ya.a)(wa.roleId)&&0<(wa.roleId||"").length}function Q(wa){return!ca(wa)||ca(wa)&&-1<(wa.privileges||[]).indexOf("portal:admin:viewItems")}function N(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToOrg")}
function S(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToGroup")}function Y(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToPublic")}function Z(wa,Ea){return da(wa)||fa(wa)||Ea.canSharePublic&&ia(wa)}function da(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToGroup")}function fa(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToOrg")}function ia(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToPublic")}I.d(P,"l",function(){return Ba});
I.d(P,"h",function(){return Oa});I.d(P,"m",function(){return Ja});I.d(P,"k",function(){return ba});I.d(P,"i",function(){return W});I.d(P,"j",function(){return ca});I.d(P,"g",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"a",function(){return S});I.d(P,"c",function(){return Y});I.d(P,"d",function(){return da});I.d(P,"e",function(){return fa});I.d(P,"f",function(){return ia});var na,qa=I(63),ua=I(148),ya=I(5),Aa=I(58);!function(wa){wa.user="org_user";wa.accountUser="account_user";wa.publisher=
"org_publisher";wa.accountPublisher="account_publisher";wa.admin="org_admin";wa.accountAdmin="account_admin";wa.viewer="iAAAAAAAAAAAAAAA";wa.dataEditor="iBBBBBBBBBBBBBBB"}(na||(na={}));var Ba=function(wa){var Ea=wa.items;return!!wa.user.orgId&&Ea.every(function(ra){return ra.isOrgItem})},Oa=function(wa){var Ea=wa.items,ra=wa.user,oa=wa.portal;wa=Ea[0];var xa=Object(Aa.c)(wa,ra),ta=ca(ra),ja=Z(ra,oa);if(ta=Object(Aa.a)(wa,ra)&&-1<(ra.privileges||[]).indexOf("portal:admin:updateItems")&&!ta)ta=!ba(oa)||
S(ra)||N(ra)||oa.canSharePublic&&Y(ra)||Z(ra,oa);oa=ta;return!(wa.portal.isPortal&&wa.owner!==ra.username&&-1<wa.owner.indexOf("esri_"))&&(xa||oa||Ba({items:Ea,user:ra})&&ja)},Ja=function(wa,Ea){return Object(qa.a)(Object(ua.a)(wa))(Ea)}},,,,,function(T,P){T.exports=r},,function(T,P,I){function ba(Y,Z){return(null==Y?void 0:Y.owner)===Z.username}function W(Y,Z){var da;if(!(da=ba(Y,Z)))if(Object(Q.a)(Y.isAdmin))da=!!Y.isAdmin;else{da=Y.owner;var fa="admin"===Y.itemControl;da=!(Y.portal.isPortal&&!ba(Y,
Z)&&fa&&-1<da.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(da))&&fa}return da}function ca(Y,Z){return W(Y,Z)||"update"===Y.itemControl}I.d(P,"d",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"a",function(){return ca});I.d(P,"b",function(){return S});var Q=I(5),N=I(51),S=function(Y){var Z=Y.user,da=Y.items;Y=Y.portal;return Object(N.l)({items:da,user:Z})&&Object(N.h)({items:da,user:Z,portal:Y})&&Object(N.g)(Z)&&da[0].itemOwner||Z}},,,,,function(T,
P,I){function ba(){for(var W=[],ca=0;ca<arguments.length;ca++)W[ca]=arguments[ca];return function(Q){return W.reduceRight(function(N,S){return S(N)},Q)}}I.d(P,"a",function(){return ba})},,function(T,P){T.exports=x},,,,function(T,P){T.exports=t},,function(T,P,I){I.d(P,"a",function(){return ba});var ba="CLEAR_SELECTION_STATE"},,,,,,,function(T,P,I){I.d(P,"a",function(){return Y});I.d(P,"b",function(){return Z});var ba=I(63);T=I(5);var W=I(123),ca=I(122),Q=I(117),N=I(121),S=I(120),Y=function(da,fa,ia){return Object(ba.a)(Object(S.a)(da),
Object(N.a)(da),Object(Q.a)(fa),Object(ca.a)(da),Object(W.a)(da))(ia)},Z=Object(ba.a)(Object(T.e)("patchedDescription"),Object(T.e)("thumbURI"),Object(T.e)("iconURI"),Object(T.e)("displayName"),Object(T.e)("badges"))},,,,,,,,function(T,P,I){function ba(Y){return!(!N(Y)&&!S(Y))}function W(Y,Z){return Y.filter(function(da){return da.name===Z})[0]}function ca(Y,Z){return!!W(Y,Z)}I.d(P,"a",function(){return Q});I.d(P,"c",function(){return N});I.d(P,"d",function(){return S});I.d(P,"f",function(){return ba});
I.d(P,"b",function(){return W});I.d(P,"e",function(){return ca});T=I(15);var Q=function(Y){return Y.filters?Y.filters.filter(function(Z){return"object"==typeof Z&&("group"===Z.type||"org"===Z.type)}):[]};T=Object(T.a)(function(Y,Z){if(Z.filters)return Z.filters.reduce(function(da,fa){return"object"==typeof fa&&fa.type===Y?fa:da},void 0)});var N=T("group"),S=T("org")},,,,function(T,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});I.d(P,"c",function(){return ca});I.d(P,"d",function(){return Q});
I.d(P,"e",function(){return N});I.d(P,"h",function(){return S});I.d(P,"i",function(){return Y});I.d(P,"j",function(){return Z});I.d(P,"k",function(){return da});I.d(P,"g",function(){return fa});I.d(P,"f",function(){return ia});var ba="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",W="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",ca="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
Q="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",N="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",S="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
Y="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
Z="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",da="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",fa="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",ia="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
,,,,,,,,function(T,P,I){function ba(Y,Z){if(null==Y?0:Y.length)for(var da=void 0,fa=0;fa<Y.length;fa++)if(Z(da=Y[fa]))return da}function W(Y){return Y.filter(function(Z){return 0<Z.length})}function ca(Y,Z,da){var fa=[];return Z.forEach(function(ia){(da?ia[da].toLowerCase()===Y.toLowerCase():ia.toLowerCase()===Y.toLowerCase())?fa.unshift(ia):fa.push(ia)}),fa}I.d(P,"e",function(){return Q});I.d(P,"f",function(){return N});I.d(P,"c",function(){return ba});I.d(P,"b",function(){return W});I.d(P,"a",function(){return S});
I.d(P,"d",function(){return ca});T=I(15);var Q=function(Y,Z,da){return da.indexOf(Y)===Z},N=Object(T.a)(function(Y,Z){var da={};return Z.filter(function(fa){return!da[fa[Y]]&&(da[fa[Y]]=!0,!0)})}),S=function(Y,Z){return Y.length===Z.length&&Y.reduce(function(da,fa){return da&&-1<Z.indexOf(fa)},!0)}},function(T,P,I){I.d(P,"g",function(){return ca});I.d(P,"k",function(){return Q});I.d(P,"j",function(){return N});I.d(P,"h",function(){return S});I.d(P,"i",function(){return Y});I.d(P,"c",function(){return Z});
I.d(P,"b",function(){return da});I.d(P,"f",function(){return fa});I.d(P,"e",function(){return ia});I.d(P,"d",function(){return na});I.d(P,"a",function(){return qa});I.d(P,"r",function(){return ua});I.d(P,"n",function(){return ya});I.d(P,"s",function(){return Aa});I.d(P,"o",function(){return Ba});I.d(P,"q",function(){return Oa});I.d(P,"p",function(){return Ja});I.d(P,"l",function(){return wa});I.d(P,"m",function(){return Ea});var ba=I(78),W=I(48),ca="SELECT_ITEM",Q="TOGGLE_ITEM",N="SELECT_ITEM_SINGLE",
S="SELECT_ITEM_ASYNC",Y="SELECT_ITEM_ASYNC_FAILED",Z="DESELECT_ITEM",da="DESELECT_ALL",fa="SELECT_ALL",ia="SELECT_ALL_FROM_QUERY_SUCCESS",na="END_BULK_WORKFLOW",qa="CANCEL_BULK_WORKFLOW",ua=function(ra){return function(oa,xa){var ta=xa();if(ta.settings.config.asynchronousItemSelect){oa({type:S,payload:ra});var ja=ta.settings.config.onSelect([Object(ba.b)(ra)]);(null==ja?0:ja.then)&&ja.then(function(){ta.settings.config.singleItemSelect?oa({type:N,payload:ra}):oa({type:ca,payload:ra})},function(){oa({type:Y,
payload:ra})})}else ta.settings.config.singleItemSelect?(oa({type:N,payload:ra}),ta.settings.config.onSelect([Object(ba.b)(ra)])):(oa({type:ca,payload:ra}),ta.settings.config.onSelect([Object(ba.b)(ra)]))}},ya=function(ra,oa){var xa=oa();if(xa.settings.config.disableInitiallySelectedItems){xa=xa.results;var ta=xa.selectedItems,ja=xa.initiallySelectedItems;Object.keys(ta).map(function(pa){return ta[pa]}).filter(function(pa){return!ja[pa.id]}).forEach(function(pa){ra({type:Z,payload:pa})})}else ra({type:da})},
Aa=function(ra){return{type:Q,payload:ra}},Ba=function(ra){return function(oa,xa){var ta=xa();oa({type:Z,payload:ra});ta.settings.config.onDeselect([Object(ba.b)(ra)])}},Oa=function(){return function(ra,oa){var xa=oa();ra({type:fa,payload:xa.ui.pagination.displayItems})}},Ja=function(ra){return{type:ia,payload:ra}},wa=function(ra,oa){var xa=null==oa?void 0:oa();ra({type:qa});null==xa||xa.settings.config.onBack()},Ea=function(ra,oa){var xa=null==oa?void 0:oa();if(null==xa?0:xa.settings.config.onBulkAction){var ta=
xa.settings.config.onBulkAction;xa=xa.results;var ja=xa.selectedItems,pa=xa.initiallySelectedItems;xa=Object.keys(pa).map(function(Ca){return pa[Ca]});var va=Object.keys(ja).map(function(Ca){return ja[Ca]}),Fa=xa.filter(function(Ca){return!ja[Ca.id]}),Da=va.filter(function(Ca){return!pa[Ca.id]});ra({type:W.a});ra({type:na,payload:Da});ta({initiallySelectedItems:xa,allSelectedItems:va,newlySelectedItems:Da,deselectedItems:Fa})}}},function(T,P,I){I.d(P,"a",function(){return W});I.d(P,"b",function(){return ca});
var ba=I(0),W=function(Q){return Q?Q.urlKey?location.protocol+"//"+Q.urlKey+"."+Q.customBaseUrl:location.protocol+"//"+Q.portalHostname:""},ca=function(Q){return Object(ba.a)(Object(ba.a)({},Q),{baseUrl:W(Q)})}},,,,,,,,,,,,,,,,function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q){var N=Object(ba.a),S=Object(ba.a)({},Q),Y=Q.type,Z=Q.typeKeywords?Q.typeKeywords:[],da=null==Y?void 0:Y.toLowerCase(),fa=!1,ia=!1,na=Y=!1;if("ogcfeatureserver"===da)Z="featureshosted";
else if(0<(null==da?void 0:da.indexOf("service"))||"feature collection"===da||"kml"===da||"wms"===da||"wmts"===da||"wfs"===da){var qa=-1<Z.indexOf("Hosted Service");"feature service"===da||"feature collection"===da||"kml"===da||"wfs"===da?(na=-1<Z.indexOf("Table"),fa=-1<Z.indexOf("Route Layer"),ia=-1<Z.indexOf("Markup"),Z=(Y=-1!==Z.indexOf("Spatiotemporal"))&&na?"spatiotemporaltable":na?"table":fa?"routelayer":ia?"markup":Y?"spatiotemporal":qa?"featureshosted":"features"):"map service"===da||"wms"===
da||"wmts"===da?Z=qa||-1<Z.indexOf("Tiled")||"wmts"===da?"maptiles":"mapimages":"scene service"===da?Z=-1<Z.indexOf("Line")?"sceneweblayerline":-1<Z.indexOf("3DObject")?"sceneweblayermultipatch":-1<Z.indexOf("Point")?"sceneweblayerpoint":-1<Z.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<Z.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<Z.indexOf("Polygon")?"sceneweblayerpolygon":-1<Z.indexOf("Building")?"sceneweblayerbuilding":-1<Z.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===
da?(Y=-1<Z.indexOf("Elevation 3D Layer"),Z=-1<Z.indexOf("Tiled Imagery"),Z=Y?"elevationlayer":Z?"tiledimagerylayer":"imagery"):Z="stream service"===da?"streamlayer":"vector tile service"===da?"vectortile":"datastore catalog service"===da?"datastorecollection":"geocoding service"===da?"geocodeservice":"geoprocessing service"===da&&-1<Z.indexOf("Web Tool")?"tool":"layers"}else Z="web map"===da||"cityengine web scene"===da?"maps":"web scene"===da?-1<Z.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":
"web mapping application"===da&&-1<(null==Z?void 0:Z.indexOf("configurableApp"))?"instantapps":"web mapping application"===da||"mobile application"===da||"application"===da||"operation view"===da||"desktop application"===da?"apps":"map document"===da||"map package"===da||"published map"===da||"scene document"===da||"globe document"===da||"basemap package"===da||"mobile basemap package"===da||"mobile map package"===da||"project package"===da||"project template"===da||"pro map"===da||"layout"===da||
"layer"===da&&-1<Z.indexOf("ArcGIS Pro")||"explorer map"===da&&-1<Z.indexOf("Explorer Document")?"mapsgray":"service definition"===da||"csv"===da||"administrative report"===da||"shapefile"===da||"cad drawing"===da||"geojson"===da||"360 vr experience"===da||"netcdf"===da?"datafiles":"explorer add in"===da||"desktop add in"===da||"windows viewer add in"===da||"windows viewer configuration"===da?"appsgray":"arcgis pro add in"===da||"arcgis pro configuration"===da?"addindesktop":"rule package"===da||
"file geodatabase"===da||"csv collection"===da||"kml collection"===da||"windows mobile package"===da||"map template"===da||"desktop application template"===da||"arcpad package"===da||"code sample"===da||"form"===da||"document link"===da||"vector tile package"===da||"operations dashboard add in"===da||"rules package"===da||"image"===da||"workflow manager package"===da||"explorer map"===da&&-1<Z.indexOf("Explorer Mapping Application")||-1<Z.indexOf("Document")?"datafilesgray":"network analysis service"===
da||"geoprocessing service"===da||"geodata service"===da||"geometry service"===da||"geoprocessing package"===da||"locator package"===da||"geoprocessing sample"===da||"workflow manager service"===da||"raster function template"===da||"deep learning package"===da?"toolsgray":"layer"===da||"layer package"===da||"explorer layer"===da?"layersgray":"scene package"===da?"scenepackage":"tile package"===da?"tilepackage":"storymap"===da?"storymap":"storymap theme"===da?"storymaptheme":"web experience"===da?
"experiencebuilder":"web experience template"===da?"webexperiencetemplate":"task file"===da?"taskfile":"report template"===da?"report-template":"statistical data collection"===da?"statisticaldatacollection":"insights workbook"===da?"workbook":"insights model"===da?"insightsmodel":"insights page"===da?"insightspage":"hub initiative"===da?"hubinitiative":"hub page"===da?"hubpage":"hub site application"===da?"hubsite":"relational database connection"===da?"relationaldatabaseconnection":"big data file share"===
da||"data store"===da?"datastorecollection":"image collection"===da?"imagecollection":"desktop style"===da?"desktopstyle":"style"===da?"style":"dashboard"===da?"dashboard":"feed"===da?"feed":"real time analytic"===da?"realtimeanalytics":"big data analytic"===da?"bigdataanalytics":"notebook"===da?"notebook":"notebook code snippets"===da?"notebookcodesnippets":"maps";return N(S,{iconURI:ca+"/"+Z+"16.png"})})},,,function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,
Q){var N=Object(ba.a),S=Object(ba.a)({},Q),Y,Z,da="notebook"!==(null===(Y=Q.type)||void 0===Y?void 0:Y.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(Z=Q.type)||void 0===Z?void 0:Z.toLowerCase())&&(da="notebook-code-snippet-thumb.png");Z=ca.baseUrl+"/home/js/arcgisonline/css/images/"+da;Y=(Q.thumbnail&&(Z=ca.restUrl+"/content/items/"+Q.id+"/info/"+Q.thumbnail+(ca.credential?"?token\x3d"+ca.credential.token:"")),Z);return N(S,{thumbURI:Y})})},function(T,
P,I){I.d(P,"a",function(){return ca});var ba=I(0);T=I(15);var W=function(Q,N){return N.description?N.description.replace(/src=('|")js\/jsapi\/esri\//g,function(S){return"src\x3d"+('"'===S[4]?'"':"'")+Q.baseUrl+"/home/js/jsapi/esri/"}):void 0},ca=Object(T.a)(function(Q,N){return Object(ba.a)(Object(ba.a)({},N),{patchedDescription:W(Q,N)})})},function(T,P,I){I.d(P,"a",function(){return Q});var ba=I(0),W=I(124);T=I(15);var ca=I(58),Q=Object(T.a)(function(N,S){var Y=Object(ba.a),Z=Object(ba.a)({},S),
da,fa=S.type,ia=S.typeKeywords||[],na=fa,qa=(null==N?void 0:N.portalUser)||(null==N?void 0:N.user);if("Feature Service"===fa||"Feature Collection"===fa){if(na=-1<ia.indexOf("Table")?"Table":-1<ia.indexOf("Route Layer")?"Route Layer":-1<ia.indexOf("Markup")?"Markup":"Feature Layer",qa&&Object(ca.d)(S,qa)&&-1<(null==ia?void 0:ia.indexOf("Hosted Service")))ia=(null===(da=null===document||void 0===document?void 0:document.documentElement)||void 0===da?void 0:da.lang)||"en",na=na+" ("+(W.a[ia]||W.a[ia.split("-")[0]]||
W.a.en)+")"}else"Image Service"===fa?(da=-1<ia.indexOf("Elevation 3D Layer"),ia=-1<ia.indexOf("Tiled Imagery"),na=da?"Elevation Layer":ia?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===fa?na="Scene Layer":"Scene Package"===fa?na="Scene Layer Package":"Stream Service"===fa?na="Feature Layer":"Geocoding Service"===fa?na="Locator":"Microsoft Powerpoint"===fa?na="Microsoft PowerPoint":"OGCFeatureServer"===fa?na="OGC Feature Layer":"GeoJson"===fa?na="GeoJSON":"Globe Service"===fa?na="Globe Layer":
"Vector Tile Service"===fa?na="Tile Layer":"netCDF"===fa?na="NetCDF":"Map Service"===fa?na=-1===ia.indexOf("Spatiotemporal")&&(-1<ia.indexOf("Hosted Service")||-1<ia.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":fa&&-1<fa.toLowerCase().indexOf("add in")?na=fa.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===fa?na="Big Data File Share":"Web Mapping Application"===fa&&(null==ia?0:ia.includes("configurableApp"))?na="Instant App":"Data Store"===fa&&(ia.includes("cloudStore_amazon")||ia.includes("cloudStore_azure")?
na+=" (Cloud)":(ia.includes("fileShare")||ia.includes("hdfs")||ia.includes("hive")||ia.includes("bigDataFileShare")&&ia.includes("dataStore"))&&(na+=" (Big Data File Share)"));return Y(Z,{displayName:na})})},function(T,P,I){I.d(P,"a",function(){return ca});var ba=I(0);T=I(15);var W=function(Q,N){var S=[],Y=Q.typeKeywords?Q.typeKeywords:[];return Q.contentStatus&&("org_authoritative"===Q.contentStatus||"public_authoritative"===Q.contentStatus?S.push("authoritative"):"deprecated"===Q.contentStatus&&
S.push("deprecated")),Q.origin&&S.push("collaboration"),Q.groupDesignations&&-1<Q.groupDesignations.indexOf("livingatlas")&&S.push("livingAtlas"),-1<Y.indexOf("Requires Credits")?S.push("premium"):-1<Y.indexOf("Requires Subscription")&&S.push("subscriber"),-1<Y.indexOf("Public Data Collection")&&((null==N?void 0:N.portalUser)||(null==N?void 0:N.user))&&S.push("publicDataCollection"),"Solution"===Q.type&&-1<Q.typeKeywords.indexOf("ArcGIS Solution")&&S.push("solution"),N.isPortal&&"Web Mapping Application"===
Q.type&&(-1<Q.typeKeywords.indexOf("Story Map")&&S.push("retiredStoryMap"),function(Z){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(da){var fa,
ia=-1<da.indexOf(".html");return-1<(null===(fa=Z.url)||void 0===fa?void 0:fa.indexOf("/apps/"+da+(ia?"":"/")))})}(Q)&&S.push("retiredApp")),S},ca=Object(T.a)(function(Q,N){return Object(ba.a)(Object(ba.a)({},N),{badges:W(N,Q)})})},function(T,P,I){I.d(P,"a",function(){return ba});var ba={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},function(T,P,I){I.d(P,"a",function(){return N});I.d(P,"d",function(){return S});I.d(P,"c",function(){return Y});I.d(P,"b",function(){return Z});I.d(P,"f",function(){return da});I.d(P,"h",function(){return fa});I.d(P,"g",function(){return ia});I.d(P,"i",function(){return na});I.d(P,"e",function(){return qa});I.d(P,"m",function(){return ua});I.d(P,"l",function(){return ya});I.d(P,"k",function(){return Aa});
I.d(P,"o",function(){return Ba});I.d(P,"j",function(){return Oa});I.d(P,"p",function(){return Ja});I.d(P,"n",function(){return wa});var ba=I(0);T=I(65);var W=I.n(T),ca=I(30),Q=I(51),N="CHANGE_PAGE",S="CHANGE_SORT_ORDER",Y="CHANGE_SORT_FIELD",Z="CHANGE_SEARCH_STRING",da="FETCH_RESOURCES",fa="FETCH_RESOURCES_SUCCESS",ia="FETCH_RESOURCES_FAILED",na="UPDATE_ACTIVE_FILTERS",qa="CLEAR_ALL_FILTERS",ua=function(Ea){return{type:S,payload:Ea}},ya=function(Ea){return{type:Y,payload:Ea}},Aa=function(Ea){return{type:Z,
payload:Ea}},Ba=function(){return function(Ea,ra){var oa=ra();if(!1===oa.ui.resourceSectionVisible)Ea({type:ia});else{Ea({type:da});var xa=Object(ca.v)(oa.request,oa.item.url),ta=Object(ca.r)(oa.request,oa.portal,oa.item.owner);W()([xa,ta]).then(function(ja){if("Geoprocessing Service"===oa.item.type&&ja[0].tasks&&0<ja[0].tasks.length){var pa=ja[0].tasks.map(function(va){return Object(ca.v)(oa.request,oa.item.url+"/"+va)});W()(pa).then(function(va){Ea({type:fa,payload:{resources:va.map(function(Fa){return Object(ba.a)({type:"task"},
Fa)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ia})})}else"Big Data File Share"===oa.item.type&&ja[0].children&&0<ja[0].children.length?(pa=ja[0].children.map(function(va){return Object(ca.v)(oa.request,oa.item.url+"/"+va.name)}),W()(pa).then(function(va){Ea({type:fa,payload:{resources:va.map(function(Fa,Da){return Object(ba.a)(Object(ba.a)({},ja[0].children[Da]),Fa)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ia})})):ja[0].layers&&0<ja[0].layers.length||ja[0].tables&&0<ja[0].tables.length?(ja[0].layers=ja[0].layers.concat(ja[0].tables),pa=ja[0].layers.map(function(va){return Object(ca.v)(oa.request,oa.item.url+"/"+va.id)}),W()(pa).then(function(va){Ea({type:fa,payload:{resources:va.map(function(Fa,Da){return Object(ba.a)(Object(ba.a)({},ja[0].layers[Da]),Fa)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ia})})):Object(ca.v)(oa.request,oa.item.url).then(function(va){Ea({type:fa,payload:{resources:[va].map(function(Fa){return Object(ba.a)(Object(ba.a)({},oa.item),Fa)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ia})})},function(ja){Ea({type:ia})})}}},
Oa=function(Ea){return{type:N,payload:Ea}},Ja=function(Ea,ra){return{type:na,payload:{index:Ea,filter:ra}}},wa=function(){return{type:qa}}},function(T,P,I){function ba(Q){var N=Object(W.b)(Q.settings.config.customSections,Q.parameters.section);return(null==N?0:N.portal)?Object(ca.b)(N.portal):Q.settings.utils.portal}I.d(P,"a",function(){return ba});var W=I(86),ca=I(101)},,,,,,,,,,,,,,,function(T,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});var ba={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},W="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
,,,,,,function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q){var N=Object(ba.a),S=Object(ba.a)({},Q);var Y=Q.thumbnail?ca.restUrl+"/community/users/"+Q.username+"/info/"+Q.thumbnail+(ca.credential?"?token\x3d"+ca.credential.token:""):void 0;return N(S,{thumbURI:Y})})},,function(T,P){T.exports=l},function(T,P){T.exports=f},,,,,,,,,,,function(T,P,I){function ba(Aa,Ba){var Oa=["",{method:"get",query:Ba.settings.config.addRequestParameters?Object(Q.a)({f:"json",
q:Object(S.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1},Ba.settings.config.addRequestParameters()):{f:"json",q:Object(S.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1}}];return Object(N.a)(ia(Ba),na(Ba),qa(Ba),ua(Ba))(Oa)}function W(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(S.a)(Aa),num:0,countFields:Ba.join(", "),countSize:200}}];return fa(Aa)(Oa)}
function ca(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(S.c)(Aa,Ba),num:0,countFields:"tags",countSize:200}}];return fa(Aa)(Oa)}I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return ca});var Q=I(0),N=I(63);T=I(15);var S=I(179),Y=I(356),Z=I(126),da=I(86),fa=function(Aa){return Object(N.a)(ua(Aa),ya(Aa),qa(Aa))},ia=Object(T.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Aa.parameters.sort.field;return"relevance"!==wa?[Oa,Object(Q.a)(Object(Q.a)({},Ja),
{query:Object(Q.a)(Object(Q.a)({},Ja.query),{sortField:wa})})]:[Oa,Ja]}),na=Object(T.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1];if(Aa.parameters.filter.searchMapArea){var wa=Aa.parameters.extent.area;wa=wa.minx+","+wa.miny+","+wa.maxx+","+wa.maxy;return[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},Ja.query),{bbox:wa})})]}return[Oa,Ja]}),qa=Object(T.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Object(Y.a)(Aa);return wa?[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},
Ja.query),{enriched:wa})})]:[Oa,Ja]}),ua=Object(T.a)(function(Aa,Ba){Ba[0];var Oa=Ba[1],Ja=Aa.parameters,wa=Ja.section;Ja=Ja.filter;var Ea=Object(Z.a)(Aa),ra=Ea.restUrl+"/search";if("myGroups"===wa&&Ja.group)ra=Ea.restUrl+"/content/groups/"+Ja.group.id+"/search",Ja.groupCategories&&(ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value])));else if("livingAtlas"!==wa&&"Living Atlas"!==wa||!Aa.results.livingAtlas.groupId)if(!Ja.orgCategories||"myOrganization"!==wa&&"myContent"!==
wa){if(wa=Object(da.b)(Aa.settings.config.customSections,wa))Object(da.d)(wa)&&Ja.orgCategories&&(ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]))),(wa=Object(da.c)(wa))&&(ra=Ea.restUrl+"/content/groups/"+wa.id+"/search",Ja.groupCategories&&(ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value]))))}else ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]));else ra=Ea.restUrl+"/content/groups/"+Aa.results.livingAtlas.groupId+
"/search",Ja.livingAtlasCategories?(ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasCategories.value])),Ja.livingAtlasRegion&&(ra=ra+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])))):Ja.livingAtlasRegion&&(ra=ra+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])));return[ra,Oa]}),ya=Object(T.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Aa.parameters.section,Ea=Object(da.b)(Aa.settings.config.customSections,
wa);return"myGroups"===wa&&Aa.parameters.filter.group||("livingAtlas"===wa||"Living Atlas"===wa)&&Aa.results.livingAtlas.groupId||Ea&&Object(da.c)(Ea)?[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},Ja.query),{countFields:Ja.query.countFields?Ja.query.countFields.replace("categories","groupcategories"):void 0})})]:[Oa,Ja]})},,,,,,,,function(T,P){var I=function(){return this}();try{I=I||(new Function("return this"))()}catch(ba){"object"==typeof window&&(I=window)}T.exports=I},
,,function(T,P,I){I.d(P,"a",function(){return N});I.d(P,"c",function(){return S});I.d(P,"b",function(){return Y});I.d(P,"d",function(){return Z});I.d(P,"h",function(){return da});I.d(P,"i",function(){return fa});I.d(P,"j",function(){return ia});I.d(P,"e",function(){return na});I.d(P,"g",function(){return qa});I.d(P,"f",function(){return ua});I.d(P,"l",function(){return ya});I.d(P,"k",function(){return Ba});I.d(P,"m",function(){return Oa});T=I(65);var ba=I.n(T);T=I(56);var W=I.n(T),ca=I(30),Q=I(48),
N="ADD_TO_FAVORITES",S="ADD_TO_FAVORITES_SUCCESS",Y="ADD_TO_FAVORITES_FAIL",Z="LOADING_USER_INFO",da="UPDATE_GROUP_CATEGORIES",fa="UPDATE_USER_INFO",ia="UPDATE_USER_INFO_FAILED",na="REMOVE_FROM_FAVORITES",qa="REMOVE_FROM_FAVORITES_SUCCESS",ua="REMOVE_FROM_FAVORITES_FAIL",ya=function(){return function(Ja,wa){var Ea=wa(),ra=Ea.parameters.filter.group,oa=Ea.results.user.groupCategories;if("loaded"===Ea.results.user.status)return ra&&!oa[ra.id]?Ja(Aa(ra.id)):(new W.a).resolve();if("failed"===Ea.results.user.status)return(new W.a).reject();
Ja({type:Z});oa=Ea.settings.utils;Ea=oa.request;oa=oa.portal;return ba()([Object(ca.r)(Ea,oa).then(function(xa){return xa.groups.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(ca.s)(Ea,oa).then(function(xa){return xa.folders.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(ca.t)(Ea,oa,oa.user.favGroupId).then(function(xa){return xa.items.reduce(function(ta,ja){return ta[ja.id]=!0,ta},{})})].concat(ra?[Ja(Aa(ra.id))]:[])).then(function(xa){Ja({type:fa,payload:{groups:xa[0],
folders:xa[1],favorites:xa[2]}})},function(xa){Ja({type:ia})})}},Aa=function(Ja){return function(wa,Ea){var ra=Ea().settings.utils;return Object(ca.f)(ra.request,ra.portal,Ja).then(function(oa){wa({type:da,payload:{id:Ja,categorySchema:oa.categorySchema}})})}},Ba=function(Ja){return function(wa,Ea){var ra=Ea(),oa=ra.settings.utils.portal,xa=oa.restUrl+"/content/items/"+Ja.id+"/share";oa={f:"json",everyone:Ja.access&&"public"===Ja.access||Ja.sharing&&Ja.sharing.access&&"public"===Ja.sharing.access,
org:Ja.access&&"org"===Ja.access||Ja.sharing&&Ja.sharing.access&&"org"===Ja.sharing.access||!1,groups:[oa.user.favGroupId],items:[Ja.id]};wa({type:N,payload:Ja});ra.settings.utils.request(xa,{method:"post",query:oa}).then(function(ta){wa({type:S,payload:Ja})},function(ta){wa({type:Y,payload:Ja})})}},Oa=function(Ja){return function(wa,Ea){var ra=Ea(),oa=ra.settings.utils.portal,xa=oa.user.favGroupId,ta=oa.restUrl+"/content/items/"+Ja.id+"/unshare",ja={f:"json",everyone:!1,org:!1,groups:[xa],items:[Ja.id]};
wa({type:na,payload:Ja});ra.settings.utils.request(ta,{method:"post",query:ja}).then(function(pa){function va(){wa({type:qa,payload:Ja})}"myFavorites"===(ra=Ea()).parameters.section?function Da(){ra.settings.utils.request(oa.restUrl+"/search",{query:{f:"json",q:"(id:"+Ja.id+") (group:"+xa+")"},method:"get"}).then(function(Ca){0<Ca.data.total?setTimeout(function(){Da()},250):(va(),wa(Object(Q.i)()))},function(Ca){va()})}():va()},function(pa){wa({type:ua,payload:Ja})})}}},,,,,function(T,P){T.exports=
g},function(T,P,I){function ba(ra){return Object(N.a)(S.b,wa(ra),Ea(ra),Object(Y.a)(ra.parameters.filter.orgGroup),Object(Z.a)(ra.parameters.filter.status,ra.settings.utils.portal.user),Ja(ra),Object(da.a)(ra.parameters.filter.shared),Object(fa.a)(ra.parameters.filter.dateCreated),Object(fa.b)(ra.parameters.filter.dateModified),Object(ia.a)(Aa.b,{allowedItemTypes:ra.settings.config.allowedItemTypes,itemTypeFilter:ra.parameters.filter.itemType,specialItemQ:ra.settings.config.specialItemQ}),Object(na.b)(ra.parameters.filter.tags),
Object(qa.a)(ra.parameters.filter.origins))([ra.parameters.searchString.current]).join(" ")}function W(ra){return Object(N.a)(S.b,wa(ra),Ja(ra),Object(ia.a)(Aa.b,{allowedItemTypes:ra.settings.config.allowedItemTypes,specialItemQ:ra.settings.config.specialItemQ}))([ra.parameters.searchString.current]).join(" ")}function ca(ra,oa){return Object(N.a)(S.b,wa(ra),Ja(ra),Object(ia.a)(Aa.b,{allowedItemTypes:ra.settings.config.allowedItemTypes,specialItemQ:ra.settings.config.specialItemQ}),Object(na.a)(oa))([ra.parameters.searchString.current]).join(" ")}
I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return ca});var Q=I(0),N=I(63),S=I(99),Y=I(398),Z=I(399),da=I(400),fa=I(323),ia=I(265),na=I(324),qa=I(401);T=I(15);var ua=I(5),ya=I(180),Aa=I(141),Ba=I(126),Oa=I(86),Ja=Object(T.a)(function(ra,oa){var xa=ra.parameters.filter,ta=ra.settings.config,ja=Object(Ba.a)(ra);switch(ra.parameters.section){case "myContent":return ja.user?ja.user&&xa.folder?Object(Q.g)(Object(Q.g)([],oa),['(owner:"'+ja.user.username+'") (ownerfolder:'+
xa.folder.id+")"]):Object(Q.g)(Object(Q.g)([],oa),['(owner:"'+ja.user.username+'")']):oa;case "myFavorites":return ja.user?Object(Q.g)(Object(Q.g)([],oa),["(group:"+ja.user.favGroupId+")"]):oa;case "myGroups":if(ra.results.user.groups){if(ra.parameters.filter.group)return Object(Q.g)(Object(Q.g)([],oa),["(group:"+ra.parameters.filter.group.id+")"]);xa=ra.results.user.groups.map(function(pa){return pa.id});return Object(Q.g)(Object(Q.g)([],oa),["(group:"+xa.join(" OR group:")+")"])}return oa;case "myOrganization":return Object(Q.g)(Object(Q.g)([],
oa),["(orgid:"+ja.id+")"]);case "subscription":return Object(Q.g)(Object(Q.g)([],oa),["("+ra.results.provisionedContent.content.map(function(pa){return"id:"+pa}).join(" OR ")+")"]);case "all":return oa;default:return(xa=ta.customSections.filter(function(pa){return ra.parameters.section===pa.name})[0])?Object(Q.g)(Object(Q.g)([],oa),[xa.baseQuery]):oa}}),wa=Object(T.a)(function(ra,oa){var xa=ra.settings.config.addQueryParameters;try{if(xa&&"function"==typeof xa)return Object(Q.g)(Object(Q.g)([],oa),
[xa(ra)])}catch(ta){}return oa}),Ea=Object(T.a)(function(ra,oa){var xa=Object(Oa.b)(ra.settings.config.customSections,ra.parameters.section);if(xa&&!Object(ua.b)(ra.parameters.filter.customFilter)){var ta=Object.keys(ra.parameters.filter.customFilter).filter(function(ja){return ra.parameters.filter.customFilter[ja]}).reduce(function(ja,pa){var va,Fa=parseInt(pa,10),Da=ra.parameters.filter.customFilter[Fa].value;if(null===(va=null==xa?void 0:xa.filters)||void 0===va?0:va[Fa])if(va=Object(ya.a)("children",
"value",xa.filters[Fa],Da))return Object(Q.g)(Object(Q.g)([],ja),["("+va.q+")"]);return ja},[]).join(" AND ");return Object(Q.g)(Object(Q.g)([],oa),[""+ta])}return oa})},function(T,P,I){function ba(na,qa){return Y("children","value",na,qa)}function W(na,qa){return Z("children","value",na,qa)}function ca(na,qa){return function Ja(ya,Aa,Ba,Oa){var wa,Ea=Ba[ya];return Ea&&0!==Ea.length?Object(ia.a)(Object(ia.a)({},Ba),((wa={})[ya]=Ea.reduce(function(ra,oa){return-1!==Oa.indexOf(oa[Aa])&&ra.push(Ja(ya,
Aa,oa,Oa)),ra},[]),wa)):Object(ia.a)({},Ba)}("children","value",na,qa)}function Q(na){return function(qa,ua){var ya,Aa=ua[qa];return Aa?Object(ia.a)(Object(ia.a)({},ua),((ya={})[qa]=function Ja(Oa){return 0===Oa.length?[]:1!==Oa.length||Oa[0][qa]?1<Oa.length?Oa.reduce(function(wa,Ea){var ra;return Ea[qa]?(wa.push(Object(ia.a)(Object(ia.a)({},Ea),((ra={})[qa]=Ja(Ea[qa]),ra))),wa):(wa.push(Ea),wa)},[]):Ja(Oa[0][qa]):Oa}(Aa),ya)):ua}("children",na)}function N(na,qa){return da("children",na,qa)}function S(na,
qa){return function Oa(ya,Aa,Ba){var Ja=Aa[ya];Ja&&Ja.forEach(function(wa){return Oa(ya,wa,Ba)});Ba(Aa)}("children",na,qa)}function Y(na,qa,ua,ya){var Aa=ua[na];return ua[qa]===ya?ua:Aa?Aa.reduce(function(Ba,Oa){return Ba||Y(na,qa,Oa,ya)},void 0):void 0}function Z(na,qa,ua,ya){if(ua=ua[na])return ua.reduce(function(Aa,Ba){return Ba[qa]===ya[0]?1===ya.length?Ba:Z(na,qa,Ba,ya.slice(1)):Aa},void 0)}function da(na,qa,ua){var ya;return ua(Object(ia.a)(Object(ia.a)({},qa),((ya={})[na]=qa[na]?qa[na].map(function(Aa){return da(na,
Aa,ua)}):void 0,ya)))}function fa(na,qa,ua){return da(na,ua,function(ya){var Aa=ya[qa];if(delete ya[qa],ya[na]){var Ba=ya[na];return delete ya[na],Object(ia.a)(Object(ia.a)({},ya),{value:Aa,children:Ba})}return Object(ia.a)(Object(ia.a)({},ya),{value:Aa})})}I.d(P,"f",function(){return ba});I.d(P,"d",function(){return W});I.d(P,"i",function(){return ca});I.d(P,"e",function(){return Q});I.d(P,"h",function(){return N});I.d(P,"g",function(){return S});I.d(P,"a",function(){return Y});I.d(P,"b",function(){return Z});
I.d(P,"c",function(){return fa});var ia=I(0)},,function(T,P,I){function ba(S){return Object(N.h)(S,function(Y){return Y.count&&delete Y.count,Y})}function W(S,Y,Z){if(Y)return S.counts.filter(function(da){return da.fieldName===Z})[0].fieldValues.forEach(function(da){var fa=da.count;da=da.value.split("/").slice(1);(da=Object(N.d)(Y,da))&&(da.count=fa)}),Y}function ca(S){S=Object(N.c)("categories","title",{title:"root",categories:S});return Object(N.h)(S,function(Y){return Object(Q.a)(Object(Q.a)({},
Y),{value:Y.value.toLowerCase(),displayName:Y.displayName?Y.displayName:Y.value,tooltip:Y.description?Y.description:void 0})}).children}I.d(P,"a",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"b",function(){return ca});var Q=I(0),N=I(180)},,,,,,,function(T,P){function I(){throw Error("setTimeout has not been defined");}function ba(){throw Error("clearTimeout has not been defined");}function W(ua){if(Z===setTimeout)return setTimeout(ua,0);if((Z===I||!Z)&&setTimeout)return Z=setTimeout,
setTimeout(ua,0);try{return Z(ua,0)}catch(ya){try{return Z.call(null,ua,0)}catch(Aa){return Z.call(this,ua,0)}}}function ca(){na&&fa&&(na=!1,fa.length?ia=fa.concat(ia):qa=-1,ia.length&&Q())}function Q(){if(!na){var ua=W(ca);na=!0;for(var ya=ia.length;ya;){fa=ia;for(ia=[];++qa<ya;)fa&&fa[qa].run();qa=-1;ya=ia.length}fa=null;na=!1;(function(Aa){if(da===clearTimeout)return clearTimeout(Aa);if((da===ba||!da)&&clearTimeout)return da=clearTimeout,clearTimeout(Aa);try{da(Aa)}catch(Ba){try{return da.call(null,
Aa)}catch(Oa){return da.call(this,Aa)}}})(ua)}}function N(ua,ya){this.fun=ua;this.array=ya}function S(){}var Y=T.exports={};try{var Z="function"==typeof setTimeout?setTimeout:I}catch(ua){Z=I}try{var da="function"==typeof clearTimeout?clearTimeout:ba}catch(ua){da=ba}!0;var fa,ia=[],na=!1,qa=-1;Y.nextTick=function(ua){var ya=Array(arguments.length-1);if(1<arguments.length)for(var Aa=1;Aa<arguments.length;Aa++)ya[Aa-1]=arguments[Aa];ia.push(new N(ua,ya));1!==ia.length||na||W(Q)};N.prototype.run=function(){this.fun.apply(null,
this.array)};Y.title="browser";Y.browser=!0;Y.env={};Y.argv=[];Y.version="";Y.versions={};Y.on=S;Y.addListener=S;Y.once=S;Y.off=S;Y.removeListener=S;Y.removeAllListeners=S;Y.emit=S;Y.prependListener=S;Y.prependOnceListener=S;Y.listeners=function(ua){return[]};Y.binding=function(ua){throw Error("process.binding is not supported");};Y.cwd=function(){return"/"};Y.chdir=function(ua){throw Error("process.chdir is not supported");};Y.umask=function(){return 0}},,,,function(T,P,I){function ba(Q){var N,S;
return null!==(N=Q.orgId)&&void 0!==N?N:null===(S=Q.portal)||void 0===S?void 0:S.id}function W(Q){var N;if(!Q)return!1;var S=ba(Q),Y=null===(N=Q.portal)||void 0===N?void 0:N.isPortal;return!!S&&!Y&&"public_authoritative"===Q.contentStatus}function ca(Q,N,S){return new Promise(function(Y){var Z=Q.map(function(da){return function(fa,ia,na){var qa="https://"+ia.portalHostname+"/sharing/rest/portals/"+fa;return new Promise(function(ua){na(qa,{method:"get",query:{f:"json"}}).then(function(ya){ya=ya.data;
var Aa=ya.thumbnail,Ba=(ya.allSSL?"https://":"http://")+(ya.urlKey||"")+"."+ya.customBaseUrl+"/";ua({name:ya.name,url:Ba+"home/",thumbnail:Aa?Ba+"sharing/rest/portals/self/resources/"+Aa:"./images/group-no-image.png",id:fa})})})}(da,N,S)});Promise.all(Z).then(function(da){Y(da.filter(function(fa){return fa}))})})}I.d(P,"b",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"a",function(){return ca})},,,,,,function(T,P,I){function ba(fa,ia,na){return fa.filter(function(qa,ua,ya){return ya.indexOf(qa)===
ua&&!ia.hasOwnProperty(qa)&&-1===na.indexOf(qa)})}I.d(P,"c",function(){return N});I.d(P,"d",function(){return S});I.d(P,"a",function(){return Y});I.d(P,"b",function(){return Z});I.d(P,"e",function(){return da});var W=I(0),ca=I(193),Q=I(309),N="USER_THUMBNAILS_LOAD_START",S="USER_THUMBNAILS_LOAD_SUCCESS",Y="ORG_THUMBNAILS_LOAD_START",Z="ORG_THUMBNAILS_LOAD_SUCCESS",da=function(fa,ia){var na=ia(),qa=na.settings.utils,ua=qa.request;qa=qa.portal;var ya=na.ui.pagination;na=ya.displayItems;var Aa=ya.userThumbnailCache,
Ba=ya.pendingUserThumbRequests,Oa=ya.orgThumbnailCache;ya=ya.pendingOrgThumbRequests;Oa=ba(na.filter(ca.c).map(ca.b),Oa,ya);na=ba(na.map(function(Ja){return Ja.owner}),Aa,Ba);if(0!==na.length||0!==Oa.length)fa({type:N,payload:na}),fa({type:Y,payload:Oa}),na=Object(Q.a)(na,qa,ua),ua=Object(ca.a)(Oa,qa,ua),Promise.all([na,ua]).then(function(Ja){var wa=Ja[0];Ja=Ja[1];wa=(null==wa?void 0:wa.reduce(function(Ea,ra){var oa;return Object(W.a)(Object(W.a)({},Ea),((oa={})[ra.username]={thumbnail:ra.thumbURI||
ra.thumbnail,username:ra.username,fullName:ra.fullName,id:ra.id},oa))},{}))||{};Ja=(null==Ja?void 0:Ja.reduce(function(Ea,ra){var oa;return Object(W.a)(Object(W.a)({},Ea),((oa={})[ra.id]=ra,oa))},{}))||{};fa({type:S,payload:wa});fa({type:Z,payload:Ja})})}},,,,,,function(T,P){T.exports=k},function(T,P){T.exports=y},,,,,,,,,,function(T,P){T.exports=u},function(T,P,I){I.d(P,"a",function(){return Z});var ba=I(0);T=I(56);var W=I.n(T);T=I(65);var ca=I.n(T);T=I(15);var Q=I(99),N=I(30),S=I(325),Y=I(126),
Z=Object(T.a)(function(da,fa){var ia=da.settings.utils.request,na=Object(Y.a)(da),qa=new W.a,ua=fa.data.results.filter(function(ya){return ya.orgId&&!da.results.allOrganizations[ya.orgId]}).map(function(ya){return ya.orgId}).filter(Q.e).map(function(ya){return Object(N.m)(ia,na,ya)});return ca()(ua).then(function(ya){qa.resolve(Object(ba.a)(Object(ba.a)({},fa),{data:Object(ba.a)(Object(ba.a)({},fa.data),{organizations:ya.reduce(function(Aa,Ba){var Oa;return Object(ba.a)(Object(ba.a)({},Aa),((Oa={})[Ba.id]=
Object(S.a)(Ba),Oa))},{})})}))},function(ya){qa.reject(ya)}),qa})},,,,,,,,,function(T,P,I){I.d(P,"c",function(){return ba});I.d(P,"d",function(){return W});I.d(P,"e",function(){return ca});I.d(P,"b",function(){return Q});I.d(P,"f",function(){return N});I.d(P,"g",function(){return S});I.d(P,"a",function(){return Y});I.d(P,"h",function(){return Z});I.d(P,"i",function(){return da});I.d(P,"j",function(){return fa});var ba="MAXIMIZE_DLG",W="MINIMIZE_DLG",ca="TOGGLE_EXPANDED_FILTERS",Q="CLOSE_FULLSCREEN_BROWSER",
N="TOGGLE_EXPANDED_SORT",S="UPDATE_SUBLAYER_CARD_STATE",Y="CLOSE_EXPANDED_SORT",Z=function(){return{type:Y}},da=function(){return{type:ca}},fa=function(){return{type:N}}},function(T,P,I){I.d(P,"a",function(){return ca});var ba=I(0),W=I(101),ca=function(Q){var N=Object(ba.a),S=Object(ba.a)({},Q),Y=Object(W.a)(Q);return N(S,{thumbURI:Q.thumbnail?Y+"/sharing/rest/portals/"+Q.id+"/resources/"+Q.thumbnail:Y+"/home/images/group-no-image.png"})}},function(T,P,I){I.d(P,"a",function(){return ca});var ba=I(0),
W=I(101),ca=function(Q){return Object(ba.a)(Object(ba.a)({},Q),{orgUrl:Object(W.a)(Q)+"/home/index.html"})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(T,P){T.exports=E},function(T,P){T.exports=z},function(T,P,I){I.d(P,"a",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"c",function(){return S});I.d(P,"d",function(){return Y});T=I(56);var ba=I.n(T),W=I(30),ca=I(78),Q="UPDATE_PROVISIONED_CONTENT",N="UPDATE_PROVISIONED_CONTENT_FAILED",S="UPDATE_PROVISIONED_CONTENT_SUCCESS",Y=function(){return function(Z,
da){var fa=da();if("loaded"===fa.results.provisionedContent.status)return(new ba.a).resolve();if("failed"===fa.results.provisionedContent.status)return(new ba.a).reject();Z({type:Q});var ia=fa.settings.utils,na=ia.portal;return Object(W.d)(ia.request,na,na.user.username).then(function(qa){Z({type:S,payload:qa.filter(function(ua){return-1<fa.settings.config.allowedItemTypes.indexOf(ua.type)}).map(function(ua){return Object(ca.a)(na,fa.settings.utils.iconDir,ua)})})},function(qa){Z({type:N})})}}},,
,,,,,,function(T,P,I){I.d(P,"a",function(){return Y});I.d(P,"c",function(){return Z});I.d(P,"d",function(){return da});I.d(P,"b",function(){return fa});I.d(P,"e",function(){return ia});var ba=I(0);T=I(65);var W=I.n(T);T=I(56);var ca=I.n(T),Q=I(99),N=I(30);T=I(15);var S=I(86),Y="LOADING_CUSTOM_SECTION_INFO",Z="UPDATE_CUSTOM_SECTION_SCHEMAS",da="UPDATE_CUSTOM_SECTION_INFO_FAILED",fa="UPDATE_CUSTOM_SECTION_GROUPS",ia=function(){return function(ua,ya){function Aa(Ja){ua({type:da})}var Ba=ya();if("loaded"===
Ba.results.customSections.status)return(new ca.a).resolve();if("failed"===Ba.results.customSections.status)return(new ca.a).reject();ua({type:Y});var Oa=Object(Q.f)("id",Ba.settings.config.customSections.filter(S.f).map(S.a).reduce(function(Ja,wa){return Object(ba.g)(Object(ba.g)([],Ja),wa)},[]));return na(ua,ya,Oa).then(function(){return Ba=ya(),W()(Oa.map(function(Ja){return qa(Ba,Ja).then(function(wa){return{id:Ja.id,type:Ja.type,response:wa}})}))},Aa).then(function(Ja){return ua({type:Z,payload:Ja})},
Aa)}},na=function(ua,ya,Aa){var Ba=ya(),Oa=new ca.a;if(0<Aa.length){Ba=Ba.settings.utils;var Ja=Ba.request,wa=Ba.portal;Aa=Aa.filter(function(Ea){return"group"===Ea.type}).map(function(Ea){var ra=Ea.id;return Object(N.e)(Ja,wa,Ea.fetchGroupIdByQuery||"id:"+ra).then(function(oa){return oa.results[0]||{}})});W()(Aa).then(function(Ea){var ra=ya();ua({type:fa,payload:{currentSection:ra.parameters.section,customSections:ra.settings.config.customSections,groups:Ea}});Oa.resolve()})}else Oa.resolve();return Oa},
qa=Object(T.a)(function(ua,ya){var Aa=ua.settings.utils,Ba=Aa.request;Aa=Aa.portal;return ya.staticSchema?(Ba=new ca.a,Ba.resolve({categorySchema:ya.staticSchema}),Ba.then(function(Oa){return Oa})):"group"===ya.type?Object(N.f)(Ba,Aa,ya.id):Object(N.j)(Ba,Aa,ya.id)})},function(T,P,I){function ba(N){if(0<N.length){var S=ca.a.filter(function(Y){return-1===N.indexOf(Y)}).filter(function(Y){return N.reduce(function(Z,da){return-1<Y.indexOf(da)||Z},!1)});return'((type:"'+N.join('" OR type:"')+'")'+(0<
S.length?' AND (-type:"'+S.join('" AND -type:"')+'")':"")+")"}return""}I.d(P,"a",function(){return Q});var W=I(0),ca=I(141);T=I(15);var Q=Object(T.a)(function(N,S,Y){var Z=S.itemTypeFilter,da=S.allowedItemTypes;S=S.specialItemQ;return Z?0<da.length&&S?Object(W.g)(Object(W.g)([],Y),[N[Z.value]+" AND ("+S+" OR ("+ba(da)+"))"]):0<da.length||S?Object(W.g)(Object(W.g)([],Y),[N[Z.value]+" AND ("+(S?""+S:""+ba(da))+")"]):Object(W.g)(Object(W.g)([],Y),[""+N[Z.value]]):S?Object(W.g)(Object(W.g)([],Y),["("+
S+") "+(0<da.length?"OR ("+ba(da)+")":"")]):Object(W.g)(Object(W.g)([],Y),[ba(da)])})},function(T,P,I){I.d(P,"a",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"c",function(){return S});I.d(P,"d",function(){return Y});T=I(65);var ba=I.n(T);T=I(56);var W=I.n(T),ca=I(30),Q="LOADING_ORG_INFO",N="UPDATE_ORG_INFO",S="UPDATE_ORG_INFO_FAILED",Y=function(){return function(Z,da){var fa=da();if("loaded"===fa.results.organization.status)return(new W.a).resolve();if("failed"===fa.results.organization.status)return(new W.a).reject();
Z({type:Q});var ia=fa.settings.utils;fa=ia.request;ia=ia.portal;var na=[Object(ca.j)(fa,ia).then(function(qa){return qa.categorySchema}),Object(ca.c)(fa,ia).then(function(qa){return qa.data.results})];return ia.isPortal&&na.push(Object(ca.o)(fa,ia).then(function(qa){return qa.servers})),ba()(na).then(function(qa){Z({type:N,payload:{schema:qa[0],groups:qa[1],servers:qa[2]}})},function(qa){Z({type:S})})}}},,,,,,,,,,,,,,,,,,,function(T,P){T.exports=q},function(T,P,I){I.d(P,"b",function(){return Z});
I.d(P,"a",function(){return da});I.d(P,"c",function(){return fa});var ba=I(0);T=I(65);var W=I.n(T);T=I(56);var ca=I.n(T),Q=I(30),N=I(51),S=I(78),Y=I(126),Z="UPDATE_FULL_ITEM_DETAILS",da="FETCH_FULL_ITEM_DETAILS_FAILED",fa=function(ia){return function(na,qa){var ua=qa(),ya=Object(Y.a)(ua),Aa=ua.settings.utils.request,Ba=[];Ba.push(Object(Q.r)(Aa,ya,ia.owner).then(function(Ja){return Object(N.m)(ya,Ja)},function(Ja){throw Ja;}));var Oa=ya.restUrl+"/content/items/"+ia.id;ya.user&&ia.owner===ya.user.username&&
(Oa=ya.restUrl+"/content/users/"+ya.user.username+"/items/"+ia.id);Ba.push(Object(Q.v)(Aa,Oa).then(function(Ja){if(Ja.item&&Ja.sharing){var wa=new ca.a;return Object(Q.v)(Aa,ya.restUrl+"/community/groups",{q:"id: "+Ja.sharing.groups.map(function(Ea){return'"'+Ea+'"'}).join(" OR ")}).then(function(Ea){return wa.resolve(Object(ba.a)(Object(ba.a)({},Object(S.a)(ya,ua.settings.utils.iconDir,Ja.item)),{sharing:Ja.sharing,sharedToGroups:Ea.results}))},function(Ea){return wa.reject(Ea)}),wa}return Object(S.a)(ya,
ua.settings.utils.iconDir,Ja)},function(Ja){throw ia.id;}));W()(Ba).then(function(Ja){na({type:Z,payload:{item:Ja[1],owner:Ja[0]}})},function(Ja){na({type:da,payload:Ja})})}}},,function(T,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="CHANGE_SEARCH_SECTION",W=function(ca){return function(Q,N){var S=N();Q({type:ba,payload:{newSection:ca,customSections:S.settings.config.customSections,customSectionGroupSort:S.results.customSections.groupSort}})}}},,function(T,P,I){I.d(P,
"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"d",function(){return ca});I.d(P,"c",function(){return Q});var ba="CHANGE_SORT_ORDER",W="CHANGE_SORT_FIELD",ca=function(N){return{type:ba,payload:N}},Q=function(N){return{type:W,payload:N}}},,,,function(T,P){T.exports=m},function(T,P,I){I.d(P,"b",function(){return N});I.d(P,"a",function(){return S});I.d(P,"c",function(){return Y});I.d(P,"d",function(){return Z});var ba=I(162),W=I(78),ca=I(217),Q=I(199),N="CHANGE_PAGE_SUCCESS",S="CHANGE_PAGE_FAIL",
Y="CHANGING_PAGE",Z=function(da){return function(fa,ia){var na=ia();fa({type:Y,payload:da});var qa=na.settings.utils,ua=qa.portal,ya=qa.iconDir;qa=na.settings.utils.request;var Aa=na.settings.config.resultsPerQuery;Aa=Object(ba.b)({num:Aa,start:(da-1)*Aa+1},na);qa(Aa[0],Aa[1]).then(Object(ca.a)(na),function(Ba){return fa({type:S,payload:{err:Ba}})}).then(function(Ba){fa({type:N,payload:{organizations:Ba.data.organizations,displayItems:Ba.data.results.map(function(Oa){return Object(W.a)(ua,ya,Oa)}),
page:da}});fa(Q.e)},function(Ba){return fa({type:S,payload:{err:Ba}})})}}},,,,,,,,,,,,function(T,P,I){var ba=I(0);T=I(16);var W=I(90);I=function(ca){function Q(){return null!==ca&&ca.apply(this,arguments)||this}return Object(ba.d)(Q,ca),Q.prototype.render=function(N){return N("div",{"class":"ib-ex-results__item-list"},N("div",{"class":"ib-ex-results__no-items-container"},N("div",{"class":"ib-ex-results__no-items-centered"},N("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},N("path",{fill:"#ccc",
d:W.f})),N("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},Q}(T.Component);P.a=I},,function(T,P,I){function ba(W,ca,Q){return Promise.all(W.map(function(N){return function(S,Y,Z){return new Promise(function(da,fa){Z(Y.restUrl+"/community/users/"+S,{method:"get",query:{f:"json"}}).then(function(ia){return da(null==ia?void 0:ia.data)},fa)})}(N,ca,Q)}))}I.d(P,"a",function(){return ba})},function(T,P){T.exports=e},,,,,,,,,,,,,function(T,P,I){I.d(P,"b",function(){return W});I.d(P,"a",
function(){return ca});var ba=I(0);T=I(15);T=Object(T.a)(function(Q,N,S){return N?Object(ba.g)(Object(ba.g)([],S),["("+Q+":["+(N.start+" TO "+N.end+"])")]):S});var W=T("modified"),ca=T("uploaded")},function(T,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return ca});var ba=I(0);T=I(15);var W=Object(T.a)(function(Q,N){if(Q){var S=Object.keys(Q);if(0<S.length)return Object(ba.g)(Object(ba.g)([],N),["tags:("+S.join(" AND ")+")"])}return N}),ca=Object(T.a)(function(Q,N){return 2<Q.length?
Object(ba.g)(Object(ba.g)([],N),["tags:("+Q+"* OR "+Q+")"]):N})},function(T,P,I){I.d(P,"a",function(){return W});T=I(63);P=I(101);var ba=I(227);I=I(228);var W=Object(T.a)(ba.a,I.a,P.b)},function(T,P,I){I.d(P,"a",function(){return N});I.d(P,"b",function(){return S});T=I(56);var ba=I.n(T),W=I(30),ca=I(325),Q=I(150),N="UPDATE_PORTAL_SELF",S=function(){return function(Y,Z){var da=Z(),fa=da.settings.utils,ia=fa.portal;fa=fa.request;var na=ia.user&&ia.user.culture?ia.user.culture:Q.locale;return da.settings.utils.self?
(new ba.a).resolve(da.settings.utils.self):Object(W.n)(fa,ia,na).then(function(qa){qa=Object(ca.a)(qa);return Y({type:N,payload:{self:qa,config:da.settings.config}}),qa})}}},function(T,P,I){I.d(P,"a",function(){return S});I.d(P,"b",function(){return Y});I.d(P,"c",function(){return Z});I.d(P,"d",function(){return da});var ba=I(0),W=I(36);T=I(56);var ca=I.n(T),Q=I(150),N=I(402),S="LOADING_LIVING_ATLAS_INFO",Y="UPDATE_LIVING_ATLAS_INFO",Z="FETCH_LIVING_ATLAS_INFO_FAILED",da=function(fa){return function(ia,
na){var qa=na();if("loaded"===qa.results.livingAtlas.status)return(new ca.a).resolve();if("failed"===qa.results.livingAtlas.status)return(new ca.a).reject();ia({type:S});qa=qa.settings.utils;var ua=qa.portal;return Object(N.a)(qa.request,ua,fa,ua.user&&ua.user.culture?ua.user.culture:Q.locale).then(function(ya){ia({type:Y,payload:Object(ba.a)(Object(ba.a)({},ya),{schema:ya.schema.map(function(Aa){return"region"===Aa.title?Object(ba.a)(Object(ba.a)({},Aa),{displayName:W.regions}):Aa})})})},function(ya){ia({type:Z})})}}},
function(T,P,I){I.d(P,"a",function(){return N});var ba=I(30),W=I(49);T=I(65);var ca=I.n(T),Q=function(S,Y,Z){S({type:"LOADING_COLLABORATIONS"});var da=[];Object.keys(Z).forEach(function(ia){da[ia]=[];0<Z[ia].participants.length&&Z[ia].participants.forEach(function(na){da[na.value]=[]})});var fa=Object.keys(da).map(function(ia){ia=ia.split("__");var na=ia[0],qa=ia[1]?ia[1]:"";return Object(ba.k)(Y.settings.utils.request,Y.settings.utils.portal,Y.settings.utils.portal.id,{query:""!==qa?{collaborationId:na,
participantId:qa,f:"json"}:{collaborationId:na,f:"json"}}).then(function(ua){(ua.data.collaboratedItems||ua.collaboratedItems).forEach(function(ya){if(qa){var Aa=na+"__"+qa;Z[na].participants.filter(function(Ba){return Ba.value===Aa})[0].items.push(Object.keys(ya)[0])}else Z[na].items.push(Object.keys(ya)[0])})},function(){return S({type:"LOADING_COLLABORATIONS_FAILED"})})});return ca()(fa).then(function(){S(Object(W.s)(Z));S({type:"LOADING_COLLABORATIONS_SUCCESS",payload:Z})})},N=function(S,Y){if(S({type:"LOADING_COLLABORATIONS"}),
Y&&Y.parameters&&Y.parameters.filter&&Y.parameters.filter.origins&&0<Object.keys(Y.parameters.filter.origins).length){var Z=Y.parameters.filter.origins;return S(Object(W.s)(Z)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:Z}}return Object(ba.l)(Y.settings.utils.request,Y.settings.utils.portal,Y.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(da){var fa=[];da.data&&da.data.collaborations&&da.data.collaborations.forEach(function(ia){var na=ia.collaborationId,
qa=ia.collaborationName.trim();fa[na]={value:na,label:qa,addClass:"",childOf:"",selected:!1,participants:[],items:[]};ia.participants&&(fa[na].participants=ia.participants.map(function(ua){return 1===(ua=Object.keys(ua).map(function(ya){var Aa=ua[ya].trim();return{value:na+"__"+ya,label:Aa,childOf:na,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?ua[0]:ua}))});Q(S,Y,fa).then(function(){return S(Object(W.s)(fa))},function(){return S({type:"LOADING_COLLABORATIONS_FAILED"})})},function(da){return S({type:"LOADING_COLLABORATIONS_FAILED",
payload:da})})}},function(T,P,I){function ba(W){return"string"==typeof W?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(W):!!W.filters&&-1<W.filters.indexOf("tags")}I.d(P,"a",function(){return ba})},,,,function(T,P){T.exports=d},,,,,,,,,function(T,P){T.exports=a},,,,,,,,function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(180),Q=I(561),N=I(49),S=I(48),Y=I(413),Z=I(552),da=I.n(Z);Z=I(376);var fa=I.n(Z);Z=I(553);var ia=I.n(Z);Z=I(554);var na=I.n(Z);Z=I(555);var qa=
I.n(Z);Z=I(556);var ua=I.n(Z);Z=I(557);var ya=I.n(Z);Z=I(558);var Aa=I.n(Z);Z=I(559);var Ba=I.n(Z);Z=I(560);var Oa=I.n(Z);Z=I(342);var Ja=I.n(Z),wa=I(562);I=function(Ea){function ra(oa){oa=Ea.call(this,oa)||this;return oa.handleCustomFilterToggle=oa.handleCustomFilterToggle.bind(oa),oa.handleMapAreaToggle=oa.handleMapAreaToggle.bind(oa),oa.handleMapAreaKeyUp=oa.handleMapAreaKeyUp.bind(oa),oa.handleSearchOrgToggle=oa.handleSearchOrgToggle.bind(oa),oa.handleCreatedFilterChange=oa.handleCreatedFilterChange.bind(oa),
oa.handleItemTypeFilterChange=oa.handleItemTypeFilterChange.bind(oa),oa.handleModifiedFilterChange=oa.handleModifiedFilterChange.bind(oa),oa.handleSharedFilterChange=oa.handleSharedFilterChange.bind(oa),oa.handleStatusFilterChange=oa.handleStatusFilterChange.bind(oa),oa.handleFolderFilterChange=oa.handleFolderFilterChange.bind(oa),oa.handleGroupFilterChange=oa.handleGroupFilterChange.bind(oa),oa.handleOrgGroupFilterChange=oa.handleOrgGroupFilterChange.bind(oa),oa.handleTagsFilterChange=oa.handleTagsFilterChange.bind(oa),
oa.handleCollaborationFilterChange=oa.handleCollaborationFilterChange.bind(oa),oa.handleOrgCategorySelect=oa.handleOrgCategorySelect.bind(oa),oa.handleClearOrgCategories=oa.handleClearOrgCategories.bind(oa),oa.handleGroupCategorySelect=oa.handleGroupCategorySelect.bind(oa),oa.handleClearGroupCategories=oa.handleClearGroupCategories.bind(oa),oa.handleLACategorySelect=oa.handleLACategorySelect.bind(oa),oa.handleClearLACategories=oa.handleClearLACategories.bind(oa),oa.handleLARegionSelect=oa.handleLARegionSelect.bind(oa),
oa.handleClearLARegion=oa.handleClearLARegion.bind(oa),oa.handleTagsFilterStringChange=oa.handleTagsFilterStringChange.bind(oa),oa}return Object(ba.d)(ra,Ea),ra.prototype.render=function(oa){var xa=this,ta=this.props.stateTree.settings.config,ja=this.props.stateTree.parameters.filter,pa=this.props.stateTree.settings.utils.portal.user,va=this.props.stateTree.settings.utils.portal,Fa=this.props.stateTree.parameters.section,Da=Object(Q.a)(this.props.stateTree),Ca=ta.availableItemTypeFilters.filter(function(Ia){var La=
xa.props.stateTree.results.organization.servers||[];La="livingAtlas"!==Fa&&va.isPortal&&La.some(function(Ga){return"KnowledgeServer"===Ga.serverFunction});return"knowledgeGraphs"!==Ia||La});ta=ta.enableMapAreaFilter?oa(da.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?this.props.stateTree.settings.config.mapAreaFilterText:
W.filterPane.mapArea}):null;Da=Da.map(function(Ia,La){switch(Ia){case "group":return oa(Aa.a,{key:"group-filter",onGroupSelect:xa.handleGroupFilterChange,availableGroups:xa.props.stateTree.results.user.groups,groupFilter:xa.props.stateTree.parameters.filter.group});case "folder":var Ga=xa.props.stateTree.results.user.folders,Ma={title:xa.props.stateTree.settings.utils.portal.user.username,id:"root"};return oa(ya.a,{key:"folder-filter",onFolderSelect:xa.handleFolderFilterChange,availableFolders:Ga?
Object(ba.g)([Ma],Ga):[Ma],folderFilter:xa.props.stateTree.parameters.filter.folder});case "itemType":return oa(ia.a,{key:"item-type-filter",onItemTypeSelect:xa.handleItemTypeFilterChange,availableItemTypes:Ca,itemTypeFilter:xa.props.stateTree.parameters.filter.itemType});case "orgCategories":if((Ga=xa.props.stateTree.results.organization.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,
availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:W.filterPane.categories,prependValue:"/"+Ga.children[0].value+"/"});break;case "livingAtlasCategories":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"la-categories-filter",onCategorySelect:xa.handleLACategorySelect,onClearCategories:xa.handleClearLACategories,availableCategories:Ga.children[0].children,
categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasCategories,title:Ga.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[1]&&Ga.children[1].children)return oa(Ja.a,{key:"la-region-filter",onCategorySelect:xa.handleLARegionSelect,onClearCategories:xa.handleClearLARegion,availableCategories:Ga.children[1].children,categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasRegion,
title:Ga.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(ja.group&&(Ga=xa.props.stateTree.results.user.groupCategories[ja.group.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:W.filterPane.groupCategories,
prependValue:"/"+Ga.children[0].value+"/"});break;case "orgGroups":break;case "modified":return oa(na.a,{key:"modified-filters",onDateModifiedSelect:xa.handleModifiedFilterChange,dateModifiedFilter:xa.props.stateTree.parameters.filter.dateModified,dateModifiedSection:xa.props.stateTree.ui.filters.modifiedSection});case "created":return oa(fa.a,{key:"created-filters",onDateCreatedSelect:xa.handleCreatedFilterChange,dateCreatedFilter:xa.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:xa.props.stateTree.ui.filters.createdSection});
case "shared":return oa(qa.a,{counts:xa.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:xa.handleSharedFilterChange,sharedFilter:xa.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:pa&&!pa.orgId});case "status":Ga=xa.props.stateTree.results.counts.contentStatus;Ma=Ga.orgAuthoritative;var Ha=Ga.publicAuthoritative;return oa(ua.a,{counts:{authoritative:pa&&pa.orgId?Ma+Ha:Ha,deprecated:Ga.deprecated},key:"status-filters",onStatusSelect:xa.handleStatusFilterChange,
statusFilter:xa.props.stateTree.parameters.filter.status});case "tags":return oa(Ba.a,{availableTags:xa.props.stateTree.ui.tagsFilter.visibleTags,filterString:xa.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:xa.handleTagsFilterStringChange,onTagSelect:xa.handleTagsFilterChange,tagsFilter:xa.props.stateTree.parameters.filter.tags});case "collaboration":Ha=xa.props.stateTree.settings.utils.portal;Ha=pa&&!Ha.isPortal&&pa.orgId&&Ha.subscriptionInfo&&-1<["Trial",
"Trial Press","Trial Developer","Evaluation"].indexOf(Ha.subscriptionInfo.type);var Ka=pa&&"org_admin"===pa.role,Na=pa&&pa.privileges&&-1<pa.privileges.indexOf("portal:admin:manageCollaborations");if(Ka&&Na&&!Ha)return oa(Oa.a,{key:"ib-collaborations-filter",onCollaborationSelect:xa.handleCollaborationFilterChange,collaborationsFilter:xa.props.stateTree.parameters.filter.origins?xa.props.stateTree.parameters.filter.origins:[]});default:if("object"==typeof Ia)if("group"===Ia.type){if((Ga=xa.props.stateTree.results.customSections.groupSchemas[Ia.id])&&
Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(ca.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if("org"===Ia.type){if((Ga=
xa.props.stateTree.results.customSections.orgSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(ca.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:Ia.name,prependValue:"/"+
(Ma?Ma.join("/")+"/":"")})}else if(Ia.children)return Ga=xa.props.stateTree.parameters.filter.customFilter[La],oa(wa.a,{key:Ia.displayName+"-filter-accordion",filter:Ia,index:La,onClear:xa.handleCustomFilterToggle,onClick:xa.handleCustomFilterToggle,selectedOption:Ga?Ga.value:void 0})}return null});return ta?[ta,oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)]:oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)},ra.prototype.handleCustomFilterToggle=
function(oa,xa,ta){this.props.dispatch(Object(N.u)(oa,xa?{value:xa,text:ta}:void 0));this.props.dispatch(Object(S.i)())},ra.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(N.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(S.i)())},ra.prototype.handleMapAreaKeyUp=function(oa){switch(oa.key){case "Enter":this.handleMapAreaToggle()}},ra.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(N.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(S.i)())},ra.prototype.handleItemTypeFilterChange=function(oa){this.props.dispatch(Object(N.y)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleModifiedFilterChange=function(oa,xa){this.props.dispatch(Object(N.C)(oa,xa));this.props.dispatch(Object(S.i)())},ra.prototype.handleCreatedFilterChange=function(oa,xa){this.props.dispatch(Object(N.t)(oa,xa));this.props.dispatch(Object(S.i)())},ra.prototype.handleSharedFilterChange=function(oa){this.props.dispatch(Object(N.G)(oa));
this.props.dispatch(Object(S.i)())},ra.prototype.handleStatusFilterChange=function(oa){this.props.dispatch(Object(N.H)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleFolderFilterChange=function(oa){this.props.dispatch(Object(N.v)(oa));this.props.dispatch(Object(S.i)(!0))},ra.prototype.handleGroupFilterChange=function(oa){this.props.dispatch(Object(N.x)(oa));this.props.dispatch(Object(S.i)(!0))},ra.prototype.handleOrgGroupFilterChange=function(oa){this.props.dispatch(Object(N.E)(oa));
this.props.dispatch(Object(S.i)())},ra.prototype.handleTagsFilterChange=function(oa){this.props.dispatch(Object(N.I)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleCollaborationFilterChange=function(oa){this.props.dispatch(Object(N.s)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleOrgCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.orgCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.D)()):this.props.dispatch(Object(N.D)(oa));this.props.dispatch(Object(S.i)())},
ra.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(N.D)());this.props.dispatch(Object(S.i)())},ra.prototype.handleLACategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.z)()):this.props.dispatch(Object(N.z)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleClearLACategories=function(){this.props.dispatch(Object(N.z)());this.props.dispatch(Object(S.i)())},ra.prototype.handleLARegionSelect=
function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasRegion;xa&&xa.value===oa.value?this.props.dispatch(Object(N.A)()):this.props.dispatch(Object(N.A)(oa));this.props.dispatch(Object(S.i)())},ra.prototype.handleClearLARegion=function(){this.props.dispatch(Object(N.A)());this.props.dispatch(Object(S.i)())},ra.prototype.handleGroupCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.groupCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.w)()):this.props.dispatch(Object(N.w)(oa));
this.props.dispatch(Object(S.i)())},ra.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(N.w)());this.props.dispatch(Object(S.i)())},ra.prototype.handleTagsFilterStringChange=function(oa){this.props.dispatch(Object(Y.e)(oa))},ra}(T.Component);P.a=Object(T.connect)(function(Ea){return{stateTree:Ea}},function(Ea){return{dispatch:Ea}})(I)},,,,,,function(T,P,I){function ba(ca){var Q;ca=Object(W.a)(ca);return!0===(null===(Q=ca.portalProperties)||void 0===Q?void 0:Q.semanticSearchEnabled)||
ca.portalUser&&!ca.portalUser.orgId}I.d(P,"a",function(){return ba});var W=I(126)},function(T,P,I){I.d(P,"a",function(){return W});I.d(P,"b",function(){return ca});var ba=I(286),W="VIEW_ITEM_DETAILS",ca=function(Q){return function(N){N({type:W,payload:Q});N(Object(ba.c)(Q))}}},,,,,,function(T,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return ca});var ba="CLOSING_DETAILS_PANE",W="CLOSE_DETAILS_PANE",ca=function(){return{type:ba}}},,,,,,,,,function(T,
P){T.exports=b},function(T,P){T.exports=c},function(T,P){T.exports=h},function(T,P,I){I.d(P,"a",function(){return N});var ba=I(0),W=I(69);T=I(254);var ca=I.n(T);T=I(16);var Q=I(90),N=function(S){function Y(Z){var da=S.call(this,Z)||this;return da.state.searchTerm=da.props.currentSearchString||"",da.debouncedInput=ca()(function(){da.props.changeSearchString.apply(da,[da.state.searchTerm])},400),da.handleInputChange=da.handleInputChange.bind(da),da.handleClear=da.handleClear.bind(da),da}return Object(ba.d)(Y,
S),Y.prototype.componentWillReceiveProps=function(Z){Z.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:Z.currentSearchString})},Y.prototype.render=function(Z){var da=this.props,fa=da.title,ia=da.placeholder;da=da.controls;var na=this.state.searchTerm||"";return Z("div",{"class":"ac-search-area"},Z("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},Z("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),Z("input",{"class":"ac-search-area__input",key:"search-input",title:fa,"aria-label":fa,type:"search",oninput:this.handleInputChange,value:na,placeholder:ia,"aria-controls":da}),na&&Z("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":W.clearSearch},Z("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},Z("path",{d:Q.k,fill:"currentColor"}))))},Y.prototype.handleInputChange=function(Z){this.setState({searchTerm:Z.target.value});
this.debouncedInput()},Y.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},Y}(T.Component)},function(T,P){T.exports=n},,,,,,,,,,,,,,,,,,,,,,function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q){return ca?Object(ba.g)(Object(ba.g)([],Q),["(group:"+ca.id+")"]):Q})},function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q,N){if(ca)switch(ca.value){case "authoritative":return Q&&
Q.orgId&&!Q.portal.isPortal?Object(ba.g)(Object(ba.g)([],N),["((contentstatus:org_authoritative orgid:"+Q.orgId+") OR contentstatus:public_authoritative)"]):Q&&Q.orgId&&Q.portal.isPortal?Object(ba.g)(Object(ba.g)([],N),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(ba.g)(Object(ba.g)([],N),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(ba.g)(Object(ba.g)([],N),["(contentstatus:deprecated)"])}return N})},function(T,P,I){I.d(P,"a",function(){return W});
var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q){return ca?Object(ba.g)(Object(ba.g)([],Q),["(access:"+ca.value+")"]):Q})},function(T,P,I){I.d(P,"a",function(){return W});var ba=I(0);T=I(15);var W=Object(T.a)(function(ca,Q){if(ca){var N=function(S){for(var Y,Z=0,da=Object.keys(S);Z<da.length;Z++){var fa=S[da[Z]];if(fa.selected){Y=fa.items;break}fa=fa.participants.filter(function(ia){return ia.selected});if(0<fa.length){Y=fa[0].items;break}}return Y}(ca);if(N)return N=N.join(" OR "),Object(ba.g)(Object(ba.g)([],
Q),["id:("+N+")"])}return Q})},function(T,P,I){I.d(P,"a",function(){return ca});T=I(56);var ba=I.n(T),W=I(30),ca=function(Q,N,S,Y){function Z(wa){Aa=wa.categorySchema[0].source.split(".")[1];Object(W.e)(Q,N,S.contentCategorySetsGroupQuery).then(da,ua);Object(W.v)(Q,N.restUrl+"/portals/regions",{culture:Y}).then(na,ua)}function da(wa){wa.results[0]?Object(W.v)(Q,N.restUrl+"/content/groups/"+wa.results[0].id+"/search",{q:"typekeywords: "+Aa}).then(fa,ua):ua("The content category sets group could not be found.")}
function fa(wa){1===wa.results.length&&wa.results[0]?Object(W.h)(Q,N,wa.results[0].id).then(ia,ua):ua("The item containing the living atlas categories could not be determined.")}function ia(wa){Ba=wa.categorySchema[0];S.isPortal&&Oa?qa([Ba]):Oa&&qa([Ba,Oa])}function na(wa){Oa={categories:wa.map(function(Ea){return{displayName:Ea.localizedName,title:Ea.region}}).sort(function(Ea,ra){return"wo"===Ea.title.toLowerCase()?-1:Ea.displayName.localeCompare(ra.displayName)}),description:"2.0",displayName:"Regions",
title:"region"};S.isPortal&&Ba?qa([Ba]):Ba&&qa([Ba,Oa])}function qa(wa){Ja.resolve({schema:wa,id:ya})}function ua(wa){Ja.reject(wa)}void 0===Y&&(Y="en");var ya,Aa,Ba,Oa,Ja=new ba.a;return Object(W.e)(Q,N,S.livingAtlasGroupQuery,(null==N?0:N.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(wa){wa.results[0]&&wa.results[0].id?(ya=wa.results[0].id,Object(W.f)(Q,N,ya).then(Z,ua)):ua("The living atlas group could not be found.")},ua),Ja}},,,,,,,function(T,P,I){I.d(P,"a",function(){return ba});
I.d(P,"b",function(){return W});var ba="CHANGE_SEARCH_STRING",W=function(ca){return{type:ba,payload:ca}}},function(T,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});var ba="SHOW_EMPTY_RESULTS",W="CHANGE_RESULT_DISPLAY"},,,function(T,P,I){I.d(P,"a",function(){return W});I.d(P,"c",function(){return ca});I.d(P,"b",function(){return Q});I.d(P,"d",function(){return N});I.d(P,"e",function(){return S});T=I(254);T=I.n(T);var ba=I(162),W="LOADING_TAGS",ca="LOADING_TAGS_SUCCESS",Q="LOADING_TAGS_FAILED",
N="UPDATE_TAGS_FILTER_STRING",S=function(Z){return function(da,fa){da({type:N,payload:Z});2<Z.length&&Y(da,fa(),Z)}},Y=T()(function(Z,da,fa){Z({type:W});var ia=da.settings.utils.request;da=Object(ba.c)(da,fa);ia(da[0],da[1]).then(function(na){Z({type:ca,payload:na.data})},function(na){return Z({type:Q,payload:na})})},400)},,function(T,P,I){I.d(P,"a",function(){return ca});I.d(P,"b",function(){return Q});I.d(P,"c",function(){return N});T=I(16);P=I(428);var ba=I(453),W=I(461);I=I(478);var ca=P.b.config,
Q={parameters:ba.b,settings:P.b,results:W.b,ui:I.b},N=Object(T.combineReducers)({settings:P.a,parameters:ba.a,results:W.a,ui:I.a})},,,function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(49),Q=I(48),N=I(566),S=I.n(N),Y=I(86),Z=I(5),da={itemType:Object(ca.y)(),modified:Object(ca.C)(),created:Object(ca.t)(),shared:Object(ca.G)(),folder:Object(ca.v)(),group:Object(ca.x)(),status:Object(ca.H)(),orgGroup:Object(ca.E)()};I=function(fa){function ia(na){na=fa.call(this,na)||this;return na.handleRemoveMapAreaFilter=
na.handleRemoveMapAreaFilter.bind(na),na.handleRemoveSearchOrgFilter=na.handleRemoveSearchOrgFilter.bind(na),na.handleRemoveGeneralFilter=na.handleRemoveGeneralFilter.bind(na),na.handleRemoveOrgCategoriesFilter=na.handleRemoveOrgCategoriesFilter.bind(na),na.handleRemoveLACategoriesFilter=na.handleRemoveLACategoriesFilter.bind(na),na.handleRemoveLARegionFilter=na.handleRemoveLARegionFilter.bind(na),na.handleRemoveGroupCategoriesFilter=na.handleRemoveGroupCategoriesFilter.bind(na),na.handleClearAll=
na.handleClearAll.bind(na),na.handleRemoveTagsFilter=na.handleRemoveTagsFilter.bind(na),na.handleRemoveCollaborationFilter=na.handleRemoveCollaborationFilter.bind(na),na.handleRemoveCustomFilter=na.handleRemoveCustomFilter.bind(na),na}return Object(ba.d)(ia,fa),ia.prototype.render=function(na){var qa,ua,ya=this,Aa=this.props.stateTree.parameters.filter,Ba=[];if(null===(qa=this.props.staticFilters)||void 0===qa||qa.forEach(function(wa){Ba.push({filterId:wa,text:wa,"static":!0})}),Aa.searchOrg&&"all"===
this.props.stateTree.parameters.section&&(null===(ua=this.props.stateTree.settings.utils.portal.user)||void 0===ua?void 0:ua.credential)&&this.props.stateTree.settings.utils.portal.name&&Ba.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),Aa.searchMapArea&&Ba.push({filterId:"searchMapArea",onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:
W.filterChips.mapArea}),Aa.itemType&&Ba.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.type+": "+Aa.itemType.text}),Aa.dateModified&&Ba.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateModified+": "+Aa.dateModified.label}),Aa.dateCreated&&Ba.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateCreated+": "+Aa.dateCreated.label}),Aa.shared&&Ba.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,
text:W.filterChips.access+": "+Aa.shared.text}),Aa.group&&"myGroups"===this.props.stateTree.parameters.section?Ba.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.group.title}):Aa.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&Ba.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.orgGroup.title}),Aa.folder&&"myContent"===this.props.stateTree.parameters.section&&Ba.push({filterId:"folder",
onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.folder+": "+Aa.folder.title}),Aa.status&&Ba.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.status+": "+Aa.status.text}),Aa.orgCategories)qa=Aa.orgCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:W.filterChips.category+": "+qa.text});Aa.livingAtlasCategories&&(qa=Aa.livingAtlasCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveLACategoriesFilter,text:W.filterChips.category+
": "+qa.text}));Aa.groupCategories&&(qa=Aa.groupCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:W.filterChips.category+": "+qa.text}));Aa.livingAtlasRegion&&(qa=Aa.livingAtlasRegion,Ba.push({filterId:qa.value,onRemove:this.handleRemoveLARegionFilter,text:W.filterChips.region+": "+qa.text}));Aa.tags&&Object.keys(Aa.tags).forEach(function(wa){Ba.push({filterId:wa,onRemove:ya.handleRemoveTagsFilter,text:W.filterChips.tagged+": "+wa})});if(Aa.origins){var Oa=
Aa.origins;Object.keys(Aa.origins).forEach(function(wa){var Ea;Oa[wa].selected?Ba.push({filterId:Oa[wa].value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+Oa[wa].label}):null===(Ea=Oa[wa].participants)||void 0===Ea||Ea.forEach(function(ra){ra.selected&&Ba.push({filterId:ra.value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+ra.label})})})}var Ja=Object(Y.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);
if(Ja&&!Object(Z.b)(Aa.customFilter)&&Object.keys(Aa.customFilter).filter(function(wa){return Aa.customFilter[wa]}).forEach(function(wa){var Ea,ra=parseInt(wa,10);(null===(Ea=null==Ja?void 0:Ja.filters)||void 0===Ea?0:Ea[ra])&&Ba.push({filterId:""+ra,onRemove:ya.handleRemoveCustomFilter,text:Ja.filters[ra].displayName+": "+Aa.customFilter[wa].text})}),0<Ba.length)return na("div",{key:"active-filter-area","class":"ib__active-filters filter-chip-wrap"},na(S.a,{key:"item-browser-filter-controller",filters:Ba,
onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},ia.prototype.handleRemoveCustomFilter=function(na){this.props.dispatch(Object(ca.u)(parseInt(na.target.value,10)));this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveGeneralFilter=function(na){this.props.dispatch(da[na.target.value]);this.props.dispatch(Object(Q.i)("folder"===
na.target.value))},ia.prototype.handleRemoveMapAreaFilter=function(na){this.props.dispatch(Object(ca.B)(!1));this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveSearchOrgFilter=function(na){this.props.dispatch(Object(ca.F)(!1));this.props.dispatch(Object(Q.i)())},ia.prototype.handleClearAll=function(){var na=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:ca.a});this.props.dispatch(Object(Q.i)(na))},ia.prototype.handleRemoveOrgCategoriesFilter=function(na){this.props.dispatch(Object(ca.D)());
this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveLACategoriesFilter=function(na){this.props.dispatch(Object(ca.z)());this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveGroupCategoriesFilter=function(na){this.props.dispatch(Object(ca.w)());this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveLARegionFilter=function(na){this.props.dispatch(Object(ca.A)());this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveTagsFilter=function(na){var qa=this.props.stateTree.parameters.filter.tags;
if(null==qa?0:qa[na.target.value])qa=Object(ba.a)({},qa),delete qa[na.target.value],0<Object.keys(qa).length?this.props.dispatch(Object(ca.I)(qa)):this.props.dispatch(Object(ca.I)()),this.props.dispatch(Object(Q.i)())},ia.prototype.handleRemoveCollaborationFilter=function(na){this.props.dispatch(Object(ca.s)());this.props.dispatch(Object(Q.i)())},ia}(T.Component);P.a=Object(T.connect)(function(fa){return{stateTree:fa}},function(fa){return{dispatch:fa}})(I)},,,,,,,,,,function(T,P,I){I.d(P,"b",function(){return W});
T=I(16);var ba=I(451);I=I(452);var W={config:ba.b,utils:I.b};P.a=Object(T.combineReducers)({config:ba.a,utils:I.a})},,,,,,function(T,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return ca});I.d(P,"c",function(){return Q});var ba=I(78),W="START_CUSTOM_ACTION",ca="END_CUSTOM_ACTION",Q=function(N,S){return function(Y,Z){var da=Z().settings.config.customActions.filter(function(fa){return fa.name===N})[0];da&&(da.asynchronous?(Y({type:W,payload:S}),da.onAction(Object(ba.b)(S)).then(function(){Y({type:ca,
payload:S})},function(){Y({type:ca,payload:S})})):da.onAction(Object(ba.b)(S)))}}},,,,,,,,,,,,,,,,,function(T,P,I){I.d(P,"b",function(){return Y});var ba=I(0);T=I(36);var W=I(100),ca=I(264),Q=I(141),N=I(99),S=I(86),Y={asynchronousItemSelect:!1,usePrimaryButtonStyle:!0,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:T.itemDetails.addToMap,mainInverseActionTitle:T.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},onBulkAction:function(){},preSelect:function(){},
disableOnSelect:!1,baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",cancelButtonText:"Cancel",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:Q.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps experienceApps instantApps sites pages storyMaps mobileApps desktopApps tools analytics locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs csvs reports webTools notebooks tiledImageLayers elevationLayers rasterFunctionTemplates knowledgeGraphs".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{},noItemsFoundText:T.results.noItemsFound,itemSelectionEnabled:!1,disableInitiallySelectedItems:!1};P.a=function(Z,da){switch(void 0===Z&&(Z=Y),da.type){case ca.b:return Object(N.f)("id",Z.customSections.filter(S.f).map(S.a).reduce(function(fa,ia){return Object(ba.g)(Object(ba.g)([],fa),ia)},[]).filter(function(fa){return"object"==
typeof fa&&"group"===fa.type})).forEach(function(fa,ia){fa.id=da.payload.groups[ia].id;delete fa.fetchGroupIdByQuery}),Z;case W.e:return Object(ba.a)(Object(ba.a)({},Z),{itemSelectionEnabled:!0});default:return Z}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(326),ca=I(101),Q={iconDir:"",portal:{},request:function(N){return null}};P.a=function(N,S){switch(void 0===N&&(N=Q),S.type){case W.a:return Object(ba.a)(Object(ba.a)({},N),{self:S.payload.self});default:return N.portal.portalHostname&&
!N.portal.baseUrl&&(N.portal.baseUrl=Object(ca.a)(N.portal)),N}}},function(T,P,I){I.d(P,"b",function(){return S});T=I(16);var ba=I(454),W=I(456),ca=I(457),Q=I(460),N=I(458);I=I(459);var S={extent:ba.b,filter:W.b,nextQuery:ca.b,searchString:N.b,section:I.b,sort:Q.b};P.a=Object(T.combineReducers)({extent:ba.a,filter:W.a,nextQuery:ca.a,searchString:N.a,section:I.a,sort:Q.a})},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(455),ca={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};
P.a=function(Q,N){switch(void 0===Q&&(Q=ca),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{throttling:!1});case W.b:return{area:N.payload,throttling:!0};default:return Q}}},function(T,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return ca});I.d(P,"c",function(){return Q});var ba=I(48),W="UPDATE_EXTENT",ca="UNTHROTTLE_EXTENT",Q=function(N){return function(S,Y){var Z=Y();Z.parameters.extent.throttling||(S({type:W,payload:N}),Z.parameters.filter.searchMapArea&&S(Object(ba.i)()),
setTimeout(function(){S({type:ca})},Z.settings.config.mapAreaThrottleTime))}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(49),ca=I(288),Q={customFilter:{},searchMapArea:!1};P.a=function(N,S){var Y;switch(void 0===N&&(N=Q),S.type){case W.a:return{customFilter:{},searchMapArea:!1};case W.n:return Object(ba.a)(Object(ba.a)({},N),{orgGroup:S.payload});case W.j:return Object(ba.a)(Object(ba.a)({},N),{livingAtlasRegion:S.payload});case W.i:return Object(ba.a)(Object(ba.a)({},N),{livingAtlasCategories:S.payload});
case W.m:return Object(ba.a)(Object(ba.a)({},N),{orgCategories:S.payload});case W.f:return Object(ba.a)(Object(ba.a)({},N),{groupCategories:S.payload});case W.h:return Object(ba.a)(Object(ba.a)({},N),{itemType:S.payload});case W.l:return Object(ba.a)(Object(ba.a)({},N),{dateModified:S.payload.modified});case W.c:return Object(ba.a)(Object(ba.a)({},N),{dateCreated:S.payload.created});case W.p:return Object(ba.a)(Object(ba.a)({},N),{shared:S.payload});case W.e:return Object(ba.a)(Object(ba.a)({},N),
{folder:S.payload});case W.g:return Object(ba.a)(Object(ba.a)({},N),{groupCategories:void 0,group:S.payload});case W.q:return Object(ba.a)(Object(ba.a)({},N),{status:S.payload});case W.k:return Object(ba.a)(Object(ba.a)({},N),{searchMapArea:S.payload});case W.o:return Object(ba.a)(Object(ba.a)({},N),{searchOrg:S.payload,orgCategories:void 0});case W.r:return Object(ba.a)(Object(ba.a)({},N),{tags:S.payload});case W.b:return Object(ba.a)(Object(ba.a)({},N),{origins:S.payload});case W.d:return Object(ba.a)(Object(ba.a)({},
N),{customFilter:Object(ba.a)(Object(ba.a)({},N.customFilter),(Y={},Y[S.payload.index]=S.payload.filter,Y))});case ca.a:return{customFilter:{},searchMapArea:!1};default:return N}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(48),ca={nextStart:-1,total:0};P.a=function(Q,N){switch(void 0===Q&&(Q=ca),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{total:0});case W.c:return{nextStart:N.payload.search.nextStart,total:N.payload.search.total};case W.f:return{nextStart:N.payload.nextStart,
total:N.payload.total};case W.g:return{nextStart:-1,total:N.payload.length};default:return Q}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),ca=I(409),Q={current:"",previous:""};P.a=function(N,S){switch(void 0===N&&(N=Q),S.type){case W.a:return Object(ba.a)(Object(ba.a)({},N),{previous:N.current});case ca.a:return Object(ba.a)(Object(ba.a)({},N),{current:S.payload});default:return N}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(288),W=I(326),ca="all";P.a=function(Q,
N){switch(void 0===Q&&(Q=ca),N.type){case ba.a:return N.payload.newSection;case W.a:var S=N.payload.config.baseSections,Y=N.payload.config.customSections.map(function(Z){return Z.name});return-1<S.indexOf(Q)||-1<Y.indexOf(Q)?Q:0<S.length?S[0]:0<Y.length?Y[0]:"all";default:return Q}}},function(T,P,I){I.d(P,"b",function(){return Y});var ba=I(0),W=I(290),ca=I(288),Q=I(264),N=I(86),S=I(99),Y={field:"relevance",order:"desc"},Z={myContent:"modified",myFavorites:"modified",myGroups:"modified",myOrganization:"modified",
livingAtlas:"relevance",all:"relevance"},da={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};P.a=function(fa,ia){switch(void 0===fa&&(fa=Y),ia.type){case W.b:return Object(ba.a)(Object(ba.a)({},fa),{order:ia.payload});case W.a:var na=ia.payload;return{field:na,order:da[na]||fa.order};case ca.a:na=Object(N.b)(ia.payload.customSections,ia.payload.newSection);if(null==na?0:na.filters){var qa=na.filters.filter(function(ua){return"object"==typeof ua&&
"group"===ua.type})[0];if(null==qa?0:qa.id)if(qa=ia.payload.customSectionGroupSort[qa.id])return qa}na=Z[ia.payload.newSection]||(null==na?void 0:na.sortField);return{field:na||"relevance",order:da[na]||"desc"};case Q.b:qa=ia.payload;na=qa.customSections;qa=Object(N.b)(na,qa.currentSection);if(null==qa?0:qa.filters)if(na=Object(S.f)("id",na.filter(N.f).map(N.a).reduce(function(ua,ya){return Object(ba.g)(Object(ba.g)([],ua),ya)},[]).filter(function(ua){return"object"==typeof ua&&"group"===ua.type})),
qa=qa.filters.filter(function(ua){return"object"==typeof ua&&"group"===ua.type})[0],na=ia.payload.groups[na.indexOf(qa)])return{field:na.sortField||"relevance",order:na.sortOrder||"desc"};return fa;default:return fa}}},function(T,P,I){I.d(P,"b",function(){return ua});T=I(16);var ba=I(462),W=I(465),ca=I(466),Q=I(467),N=I(468),S=I(469),Y=I(471),Z=I(470),da=I(472),fa=I(473),ia=I(474),na=I(475),qa=I(476);I=I(477);var ua={counts:ba.b,displayItems:W.b,livingAtlas:ca.b,loadingItems:Q.b,selectedItems:N.b,
initiallySelectedItems:S.b,failedItemDetails:Z.b,fullItemDetails:Y.b,organization:da.b,user:fa.b,customSections:ia.b,allOrganizations:na.b,users:qa.b,provisionedContent:I.b};P.a=Object(T.combineReducers)({counts:ba.a,displayItems:W.a,loadingItems:Q.a,selectedItems:N.a,failedItemDetails:Z.a,fullItemDetails:Y.a,initiallySelectedItems:S.a,livingAtlas:ca.a,organization:da.a,user:fa.a,customSections:ia.a,allOrganizations:na.a,users:qa.a,provisionedContent:I.a})},function(T,P,I){I.d(P,"b",function(){return W});
T=I(16);var ba=I(463);I=I(464);var W={access:ba.b,contentStatus:I.b};P.a=Object(T.combineReducers)({access:ba.a,contentStatus:I.a})},function(T,P,I){I.d(P,"b",function(){return W});var ba=I(48),W={org:void 0,"private":void 0,"public":void 0,shared:void 0};P.a=function(ca,Q){switch(void 0===ca&&(ca=W),Q.type){case ba.c:if(Q.payload.aggregations&&Q.payload.aggregations.counts){var N=Q.payload.aggregations.counts.filter(function(da){return"access"===da.fieldName})[0];if(N){var S=N.fieldValues.filter(function(da){return"org"===
da.value})[0],Y=N.fieldValues.filter(function(da){return"private"===da.value})[0],Z=N.fieldValues.filter(function(da){return"public"===da.value})[0];N=N.fieldValues.filter(function(da){return"shared"===da.value})[0];return{org:S?S.count:void 0,"private":Y?Y.count:void 0,"public":Z?Z.count:void 0,shared:N?N.count:void 0}}}return ca;default:return ca}}},function(T,P,I){I.d(P,"b",function(){return W});var ba=I(48),W={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};P.a=function(ca,Q){switch(void 0===
ca&&(ca=W),Q.type){case ba.c:if(Q.payload.aggregations&&Q.payload.aggregations.counts){var N=Q.payload.aggregations.counts.filter(function(Z){return"contentstatus"===Z.fieldName})[0];if(N){var S=N.fieldValues.filter(function(Z){return"org_authoritative"===Z.value})[0],Y=N.fieldValues.filter(function(Z){return"public_authoritative"===Z.value})[0];N=N.fieldValues.filter(function(Z){return"deprecated"===Z.value})[0];return{publicAuthoritative:Y?Y.count:0,orgAuthoritative:S?S.count:0,deprecated:N?N.count:
0}}}return ca;default:return ca}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(48),ca=[];P.a=function(Q,N){switch(void 0===Q&&(Q=[]),N.type){case W.c:return N.payload.search.results;case W.g:return N.payload;case W.f:return Object(ba.g)(Object(ba.g)([],Q),N.payload.results);default:return Q}}},function(T,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(327),ca=I(48),Q=I(182),N={categorySchema:void 0,groupId:void 0,status:"initial"};P.a=function(S,Y){switch(void 0===S&&(S=
N),Y.type){case W.a:return Object(ba.a)(Object(ba.a)({},S),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},S),{categorySchema:{displayName:Y.payload.id,value:Y.payload.id,children:Object(Q.b)(Y.payload.schema)},groupId:Y.payload.id,status:"loaded"});case ca.c:return S.categorySchema&&Y.payload.aggregations&&Y.payload.aggregations.countInfo&&"livingAtlas"===Y.payload.aggregations.countInfo.section?Object(ba.a)(Object(ba.a)({},S),{categorySchema:Object(Q.c)(Y.payload.aggregations,Object(Q.a)(S.categorySchema),
"groupCategories")}):S;case W.c:return Object(ba.a)(Object(ba.a)({},S),{status:"failed"});default:return S}}},function(T,P,I){I.d(P,"b",function(){return S});var ba=I(0),W=I(100),ca=I(434),Q=I(71),N=I(173),S={};P.a=function(Y,Z){var da,fa,ia,na,qa,ua,ya,Aa,Ba,Oa,Ja,wa;switch(void 0===Y&&(Y={}),Z.type){case W.h:return Object(ba.a)(Object(ba.a)({},Y),((da={})[Z.payload.id]=Z.payload,da));case W.g:return Object(ba.a)(Object(ba.a)({},Y),((fa={})[Z.payload.id]=void 0,fa));case W.j:return Object(ba.a)(Object(ba.a)({},
Y),((ia={})[Z.payload.id]=void 0,ia));case W.i:return Object(ba.a)(Object(ba.a)({},Y),((na={})[Z.payload.id]=void 0,na));case ca.b:return Object(ba.a)(Object(ba.a)({},Y),((qa={})[Z.payload.id]=Z.payload,qa));case ca.a:return Object(ba.a)(Object(ba.a)({},Y),((ua={})[Z.payload.id]=void 0,ua));case Q.a:return{};case N.a:return Object(ba.a)(Object(ba.a)({},Y),((ya={})[Z.payload.id]=Z.payload,ya));case N.c:return Object(ba.a)(Object(ba.a)({},Y),((Aa={})[Z.payload.id]=void 0,Aa));case N.b:return Object(ba.a)(Object(ba.a)({},
Y),((Ba={})[Z.payload.id]=void 0,Ba));case N.e:return Object(ba.a)(Object(ba.a)({},Y),((Oa={})[Z.payload.id]=Z.payload,Oa));case N.g:return Object(ba.a)(Object(ba.a)({},Y),((Ja={})[Z.payload.id]=void 0,Ja));case N.f:return Object(ba.a)(Object(ba.a)({},Y),((wa={})[Z.payload.id]=void 0,wa));default:return Y}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(100),ca=I(71),Q={};P.a=function(N,S){var Y;switch(void 0===N&&(N={}),S.type){case W.b:return{};case W.f:return Object(ba.a)(Object(ba.a)({},
N),S.payload.reduce(function(fa,ia){var na;return Object(ba.a)(Object(ba.a)({},fa),((na={})[ia.id]=ia,na))},{}));case W.c:var Z=N;var da=S.payload.id;Z[da];return Object(ba.f)(Z,["symbol"==typeof da?da:da+""]);case W.g:return Object(ba.a)(Object(ba.a)({},N),((Z={})[S.payload.id]=S.payload,Z));case W.k:return N[S.payload.id]?(Z=N,da=S.payload.id,Z[da],Object(ba.f)(Z,["symbol"==typeof da?da:da+""])):Object(ba.a)(Object(ba.a)({},N),((da={})[S.payload.id]=S.payload,da));case W.j:return(Y={})[S.payload.id]=
S.payload,Y;case W.e:return Object(ba.a)(Object(ba.a)({},N),S.payload);case ca.a:return{};default:return N}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(100),ca={};P.a=function(Q,N){switch(void 0===Q&&(Q={}),N.type){case W.e:return Object(ba.a)(Object(ba.a)({},Q),N.payload);default:return Q}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(286),ca=I(357),Q={};P.a=function(N,S){var Y;switch(void 0===N&&(N=Q),S.type){case W.b:return N[S.payload.item.id]?(delete (Z=
Object(ba.a)({},N))[S.payload.item.id],Z):N;case ca.a:var Z;return N[S.payload.id]?(delete (Z=Object(ba.a)({},N))[S.payload.id],Z):N;case W.a:return Object(ba.a)(Object(ba.a)({},N),((Y={})[S.payload]=!0,Y));default:return N}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(286),ca={};P.a=function(Q,N){var S;switch(void 0===Q&&(Q=ca),N.type){case W.b:return Object(ba.a)(Object(ba.a)({},Q),((S={})[N.payload.item.id]=N.payload.item,S));case W.a:return Q[N.payload]?(S=Object(ba.a)({},
Q),delete S[N.payload],S):Q;default:return Q}}},function(T,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(266),ca=I(48),Q=I(182),N={categorySchema:void 0,groups:void 0,status:"initial",servers:[]};P.a=function(S,Y){switch(void 0===S&&(S=N),Y.type){case W.a:return Object(ba.a)(Object(ba.a)({},S),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},S),{groups:Y.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(Q.b)(Y.payload.schema)},
status:"loaded",servers:Y.payload.servers||[]});case ca.c:return S.categorySchema&&Y.payload.aggregations&&Y.payload.aggregations.countInfo&&("myOrganization"===Y.payload.aggregations.countInfo.section||"myContent"===Y.payload.aggregations.countInfo.section||"all"===Y.payload.aggregations.countInfo.section)?Object(ba.a)(Object(ba.a)({},S),{categorySchema:Object(Q.c)(Y.payload.aggregations,Object(Q.a)(S.categorySchema),"categories")}):S;case W.c:return Object(ba.a)(Object(ba.a)({},S),{status:"failed"});
default:return S}}},function(T,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(173),ca=I(48),Q=I(182),N={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},status:"initial"};P.a=function(S,Y){var Z,da,fa,ia,na;switch(void 0===S&&(S=N),Y.type){case W.d:return Object(ba.a)(Object(ba.a)({},S),{status:"loading"});case W.i:return Object(ba.a)(Object(ba.a)({},S),{favorites:Y.payload.favorites,folders:Y.payload.folders,groups:Y.payload.groups,status:"loaded"});case W.h:return Object(ba.a)(Object(ba.a)({},
S),{groupCategories:Object(ba.a)(Object(ba.a)({},S.groupCategories),(Z={},Z[Y.payload.id]={value:Y.payload.id,children:Object(Q.b)(Y.payload.categorySchema)},Z))});case ca.c:return Y.payload.aggregations&&Y.payload.aggregations.countInfo&&"myGroups"===Y.payload.aggregations.countInfo.section&&Y.payload.aggregations.countInfo.group&&(Z=Y.payload.aggregations.countInfo.group.id,S.groupCategories[Z])?Object(ba.a)(Object(ba.a)({},S),{groupCategories:Object(ba.a)(Object(ba.a)({},S.groupCategories),(da=
{},da[Z]=Object(Q.c)(Y.payload.aggregations,Object(Q.a)(S.groupCategories[Z]),"groupCategories"),da))}):S;case W.j:return Object(ba.a)(Object(ba.a)({},S),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},S),{favorites:S.favorites?Object(ba.a)(Object(ba.a)({},S.favorites),(fa={},fa[Y.payload.id]=!0,fa)):(ia={},ia[Y.payload.id]=!0,ia)});case W.g:return Object(ba.a)(Object(ba.a)({},S),{favorites:S.favorites?Object(ba.a)(Object(ba.a)({},S.favorites),(na={},na[Y.payload.id]=!1,na)):{}});
default:return S}}},function(T,P,I){function ba(Y,Z,da){return Z.filter(function(fa){return fa.type===Y}).reduce(function(fa,ia){return fa[ia.id]||(fa[ia.id]={value:ia.id,children:Object(N.b)(ia.response.categorySchema)}),fa},Object(W.a)({},da))}I.d(P,"b",function(){return S});var W=I(0),ca=I(264),Q=I(48),N=I(182),S={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};P.a=function(Y,Z){switch(void 0===Y&&(Y=S),Z.type){case ca.a:return Object(W.a)(Object(W.a)({},Y),{status:"loading"});case ca.b:return Object(W.a)(Object(W.a)({},
Y),{groupSort:Z.payload.groups.reduce(function(fa,ia){return fa[ia.id]={field:ia.sortField,order:ia.sortOrder},fa},Y.groupSort)});case ca.c:return Object(W.a)(Object(W.a)({},Y),{orgSchemas:ba("org",Z.payload,Y.orgSchemas),groupSchemas:ba("group",Z.payload,Y.groupSchemas),status:"loaded"});case ca.d:return Object(W.a)(Object(W.a)({},Y),{status:"failed"});case Q.c:if(Z.payload.aggregations){var da=Z.payload.aggregations.countInfo;if(da.custom&&da.custom.filters)return da.custom.filters.filter(function(fa){return"object"==
typeof fa}).reduce(function(fa,ia){var na,qa;return"group"===ia.type?Object(W.a)(Object(W.a)({},Y),{groupSchemas:Object(W.a)(Object(W.a)({},Y.groupSchemas),(na={},na[ia.id]=Object(N.c)(Z.payload.aggregations,Object(N.a)(Y.groupSchemas[ia.id]),"groupCategories"),na))}):"org"===ia.type?Object(W.a)(Object(W.a)({},Y),{orgSchemas:Object(W.a)(Object(W.a)({},Y.orgSchemas),(qa={},qa[ia.id]=Object(N.c)(Z.payload.aggregations,Object(N.a)(Y.orgSchemas[ia.id]),"categories"),qa))}):fa},Y)}return Y;default:return Y}}},
function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),ca=I(295),Q={};P.a=function(N,S){switch(void 0===N&&(N=Q),S.type){case W.c:return Object(ba.a)(Object(ba.a)({},N),S.payload.search.organizations);case W.f:case ca.b:return Object(ba.a)(Object(ba.a)({},N),S.payload.organizations);default:return N}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(286),ca={};P.a=function(Q,N){var S;switch(void 0===Q&&(Q=ca),N.type){case W.b:return Object(ba.a)(Object(ba.a)({},Q),((S=
{})[N.payload.owner.username]=N.payload.owner,S));default:return Q}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(256),ca={content:[],status:"initial"};P.a=function(Q,N){switch(void 0===Q&&(Q=ca),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},Q),{status:"loaded",content:N.payload});default:return Q}}},function(T,P,I){I.d(P,"b",function(){return S});
T=I(16);var ba=I(479),W=I(480),ca=I(484),Q=I(485),N=I(486);I=I(487);var S={sidePanel:ba.b,expanded:W.b,resultPanel:ca.b,filters:Q.b,tagsFilter:N.b,pagination:I.b};P.a=Object(T.combineReducers)({sidePanel:ba.a,expanded:W.a,resultPanel:ca.a,filters:Q.a,tagsFilter:N.a,pagination:I.a})},function(T,P,I){I.d(P,"b",function(){return Y});var ba=I(0),W=I(363),ca=I(357),Q=I(804),N=I(805),S=I(48),Y={closing:!1,type:"hidden"};P.a=function(Z,da){switch(void 0===Z&&(Z=Y),da.type){case W.b:return Object(ba.a)(Object(ba.a)({},
Z),{closing:!0});case W.a:return Object(ba.a)(Object(ba.a)({},Z),{closing:!1,type:"hidden",item:void 0});case ca.a:return Object(ba.a)(Object(ba.a)({},Z),{type:"item",item:da.payload});case Q.a:return Object(ba.a)(Object(ba.a)({},Z),{type:"filter",item:void 0});case N.a:return Object(ba.a)(Object(ba.a)({},Z),{type:"sort",item:void 0});case S.c:return"item"===Z.type&&Z.item&&!da.payload.search.results.filter(function(fa){return Z.item&&fa.id===Z.item.id})[0]?Object(ba.a)(Object(ba.a)({},Z),{closing:!0}):
Z;case S.g:return"item"===Z.type&&Z.item&&!da.payload.filter(function(fa){return Z.item&&fa.id===Z.item.id})[0]?Object(ba.a)(Object(ba.a)({},Z),{closing:!0}):Z;default:return Z}}},function(T,P,I){I.d(P,"b",function(){return N});T=I(481);var ba=I(482),W=I(483),ca=I(16),Q=I(226),N={filters:T.b,sort:ba.b,sublayerCards:W.b,maximized:!1,closing:!1};P.a=Object(ca.combineReducers)({filters:T.a,sort:ba.a,sublayerCards:W.a,maximized:function(S,Y){switch(Y.type){case Q.c:return!0;case Q.d:return!1;default:return S}},
closing:function(S,Y){switch(Y.type){case Q.b:return!0;default:return S}}})},function(T,P,I){I.d(P,"b",function(){return W});var ba=I(226),W=!1;P.a=function(ca,Q){switch(Q.type){case ba.e:return!ca;default:return ca}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(226),W=I(290),ca=!1;P.a=function(Q,N){switch(N.type){case ba.f:return!Q;case ba.a:return!1;case W.a:case W.b:return!Q;default:return Q}}},function(T,P,I){I.d(P,"b",function(){return ca});var ba=I(0),W=I(226),ca={cardStates:{},
overlayOpen:!1};P.a=function(Q,N){var S;switch(N.type){case W.g:return Object(ba.a)(Object(ba.a)({},Q),{cardStates:Object(ba.a)(Object(ba.a)({},Q.cardStates),(S={},S[N.payload.item.id]=N.payload,S)),overlayOpen:N.payload.overlay.visible&&!N.payload.overlay.closing});default:return Q}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),ca=I(410),Q={display:"list",status:"empty"};P.a=function(N,S){switch(void 0===N&&(N=Q),S.type){case W.g:case W.c:case W.f:return Object(ba.a)(Object(ba.a)({},
N),{status:"success"});case W.b:case W.e:return Object(ba.a)(Object(ba.a)({},N),{status:"failed"});case W.a:return Object(ba.a)(Object(ba.a)({},N),{status:"loading"});case W.d:return Object(ba.a)(Object(ba.a)({},N),{status:"loadingNext"});case ca.a:return Object(ba.a)(Object(ba.a)({},N),{display:"table"===N.display?"list":"table"});case ca.b:return Object(ba.a)(Object(ba.a)({},N),{status:"empty"});default:return N}}},function(T,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(49),ca=I(288),Q=
{};P.a=function(N,S){switch(void 0===N&&(N=Q),S.type){case W.a:return{};case W.l:return Object(ba.a)(Object(ba.a)({},N),{modifiedSection:S.payload.section});case W.c:return Object(ba.a)(Object(ba.a)({},N),{createdSection:S.payload.section});case ca.a:return{};default:return N}}},function(T,P,I){I.d(P,"b",function(){return S});var ba=I(0);T=I(63);var W=I(99),ca=I(288),Q=I(413),N=I(48),S={allTags:[],filterString:"",visibleTags:[]};P.a=function(Z,da){switch(void 0===Z&&(Z=S),da.type){case ca.a:return Object(ba.a)(Object(ba.a)({},
Z),{filterString:""});case Q.d:return Object(ba.a)(Object(ba.a)({},Z),{filterString:da.payload,visibleTags:Z.allTags.filter(function(qa){return 0===da.payload.length||-1<qa.value.indexOf(da.payload)})});case Q.a:return Z;case Q.c:return da.payload.aggregations&&(fa=da.payload.aggregations.counts.filter(function(qa){return"tags"===qa.fieldName})[0])?(fa=(ia=Z.allTags,na=fa.fieldValues,Y(ia.concat(na))),Object(ba.a)(Object(ba.a)({},Z),{allTags:fa,visibleTags:fa.filter(function(qa){return 0===Z.filterString.length||
-1<qa.value.indexOf(Z.filterString)})})):Z;case Q.b:return Z;case N.c:var fa;return da.payload.aggregations&&(fa=da.payload.aggregations.counts.filter(function(qa){return"tags"===qa.fieldName})[0])?(fa=Y(fa.fieldValues),Object(ba.a)(Object(ba.a)({},Z),{allTags:fa,visibleTags:fa.filter(function(qa){return 0===Z.filterString.length||-1<qa.value.indexOf(Z.filterString)})})):Z;default:return Z}var ia,na};P=Object(W.f)("value");var Y=Object(T.a)(P,function(Z){return Z.map(function(da){var fa=da.count;
return{value:da.value.trim(),count:fa}})},function(Z){return Z.sort(function(da,fa){return fa.count-da.count})})},function(T,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(295),ca=I(48),Q=I(199),N={page:1,displayItems:[],userThumbnailCache:{},pendingUserThumbRequests:[],orgThumbnailCache:{},pendingOrgThumbRequests:[],status:"loading"};P.a=function(S,Y){switch(void 0===S&&(S=N),Y.type){case W.c:return Object(ba.a)(Object(ba.a)({},S),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},
S),{displayItems:Y.payload.displayItems,page:Y.payload.page,status:"success"});case W.a:return Object(ba.a)(Object(ba.a)({},S),{status:"failed"});case ca.c:return Object(ba.a)(Object(ba.a)({},S),{displayItems:Y.payload.search.results,status:"success",page:1});case ca.g:return Object(ba.a)(Object(ba.a)({},S),{displayItems:Y.payload,status:"success",page:1});case Q.c:return Object(ba.a)(Object(ba.a)({},S),{pendingUserThumbRequests:Object(ba.g)(Object(ba.g)([],S.pendingUserThumbRequests),Y.payload).filter(function(Z,
da,fa){return fa.indexOf(Z)===da})});case Q.d:return Object(ba.a)(Object(ba.a)({},S),{userThumbnailCache:Object(ba.a)(Object(ba.a)({},S.userThumbnailCache),Y.payload),pendingUserThumbRequests:S.pendingUserThumbRequests.filter(function(Z){return!Y.payload[Z]})});case Q.a:return Object(ba.a)(Object(ba.a)({},S),{pendingOrgThumbRequests:Object(ba.g)(Object(ba.g)([],S.pendingOrgThumbRequests),Y.payload).filter(function(Z,da,fa){return fa.indexOf(Z)===da})});case Q.b:return Object(ba.a)(Object(ba.a)({},
S),{orgThumbnailCache:Object(ba.a)(Object(ba.a)({},S.orgThumbnailCache),Y.payload),pendingOrgThumbRequests:S.pendingOrgThumbRequests.filter(function(Z){return!Y.payload[Z]})});default:return S}}},function(T,P,I){var ba=I(0);T=I(16);var W=I(547),ca=I(548),Q=I(571),N=I(294),S=I.n(N),Y=I(100);I=function(Z){function da(){return null!==Z&&Z.apply(this,arguments)||this}return Object(ba.d)(da,Z),da.prototype.render=function(fa){var ia=!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||
!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen;return fa("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},fa(S.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:ia,adjustable:this.props.adjustable,flex:!0},fa(W.a,{key:"big-browser-header"}),fa(ca.a,{key:"big-browser-body"}),this.props.renderFooter&&fa(Q.a,{handleSecondaryClick:this.props.handleCancelClick,handlePrimaryClick:this.props.handleSubmitClick,key:"big-browser-footer",
primaryText:this.props.submitButtonText,secondaryText:this.props.cancelButtonText})))},da}(T.Component);P.a=Object(T.connect)(function(Z){return{closing:Z.ui.expanded.closing,filtersVisible:Z.ui.expanded.filters,sortVisible:Z.ui.expanded.sort,sublayerOverlayOpen:Z.ui.expanded.sublayerCards.overlayOpen,adjustable:"adjustable"===Z.settings.config.layoutMode,renderFooter:!!Z.settings.config.multiSelect,submitButtonText:Z.settings.config.submitButtonText,cancelButtonText:Z.settings.config.cancelButtonText}},
function(Z){return{handleSubmitClick:function(){Z(Y.m)},handleCancelClick:function(){Z(Y.l)}}})(I)},function(T,P){T.exports=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(90);I=function(Q){function N(S){S=Q.call(this,S)||this;return S.handleContract=S.handleContract.bind(S),S.handleClose=S.handleClose.bind(S),S.handleTitleCreate=S.handleTitleCreate.bind(S),S}return Object(ba.d)(N,Q),N.prototype.componentWillReceiveProps=function(S){S.page!==
this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},N.prototype.render=function(S){return S("header",{"class":"ib__big-header"},S("div",{"class":"ib__big-header-title-section"},S("h3",{"class":"ib__big-header-title",id:"ib__big-header-title",afterCreate:this.handleTitleCreate},this.props.dialogTitle),S("button",{key:"main-close-btn","class":"mod__overlay__close","aria-label":W.close,onclick:this.handleClose},S("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",
viewBox:"0 0 24 24",fill:"currentColor"},S("path",{d:ca.k})))))},N.prototype.handleContract=function(){this.props.onBack()},N.prototype.handleClose=function(){this.props.onBack()},N.prototype.handleTitleCreate=function(S){this.titleNode=S},N}(T.Component);P.a=Object(T.connect)(function(Q){return{dialogTitle:Q.settings.config.dialogTitle,onBack:function(){var N,S;null===(S=null===(N=Q.settings.config)||void 0===N?void 0:N.onBack)||void 0===S||S.call(N)},page:Q.ui.pagination.page}},function(){return{}})(I)},
function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(551),Q=I(563),N=I(567),S=I(550),Y=I(372),Z=I.n(Y),da=I(295);Y=I(205);var fa=I.n(Y);Y=I(373);var ia=I.n(Y),na=I(350),qa=I(226),ua=I(333),ya=I(549);I=function(Aa){function Ba(Oa){Oa=Aa.call(this,Oa)||this;return Oa.handlePageChange=Oa.handlePageChange.bind(Oa),Oa.handleCloseMobileFilters=Oa.handleCloseMobileFilters.bind(Oa),Oa}return Object(ba.d)(Ba,Aa),Ba.prototype.render=function(Oa){var Ja=this,wa=this.props.expandedFiltersActive,Ea={"ib__big-section":!0,
"ib__big-filters":!0,"ib__big-filters--hidden":!wa,"ib__big-filters--visible":wa},ra="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,oa={"ib__big-wrapper":!0,"ib__big-wrapper--faded":ra,"ib__big-wrapper--transparent":ra&&0===this.props.pageDisplayItems.length},xa=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return Oa("div",{"class":"ib__big-body","aria-labelledby":Object(ua.slugifySectionName)(this.props.section),
role:"tabpanel"},Oa("div",{"class":"ib-nav-container"},Oa(ya.a,{key:"big-browser-section-tabs"}),"subscription"!==this.props.section&&Oa(S.a,{key:"ib__big-search-area"})),Oa("div",{"class":"ib__big-row",afterCreate:function(ta){ta&&!Ja.scrollContainer&&(Ja.scrollContainer=ta)}},Oa("section",{classes:Ea,key:"fullscreen-filters"},Oa("div",{"class":wa?"":"hide"},Oa("div",{"class":"ib-ex-input__container"},Oa("span",{"class":"ib__big-filter-label"},W.filterPane.filter)),Oa(ca.a,null))),Oa("div",{"class":"ib__big-overlay-filters"},
Oa(ia.a,{key:"mobile-filter-wrap",maxHeight:!0,open:wa,onClose:this.handleCloseMobileFilters,title:W.filterPane.filter,footer:Oa("button",{"class":"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},W.viewResults)},Oa(na.a,{key:"mobile-filters"}))),Oa("section",{"class":"ib__big-section ib__big-results",key:"results-section"},Oa("div",{classes:oa},Oa("div",{"class":"ib-ex-alert-container hide",key:"ib-ex-alert-container"},Oa("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: 0rem .2rem .1rem;\n                                    "},Oa("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),
Oa("span",{"class":"ib-ex-alert-text"},W.groupAddDisclaimer)),Oa(Q.a,{key:"big-browser-input-area"}),Oa(N.a,{key:"big-browser-result-panel"}),1<xa&&"subscription"!==this.props.section&&Oa(Z.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:xa,currentPage:this.props.currentPage,paginationLimitReached:1E4<this.props.itemTotal})),ra&&Oa("div",{"class":"ib-ex__load-container",key:"ib-ex__load-container"},Oa(fa.a,{key:"item-ex-loading"})))))},Ba.prototype.handlePageChange=function(Oa){this.scrollContainer&&
(this.scrollContainer.scrollTop=0);this.props.changePage(Oa)},Ba.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},Ba}(T.Component);P.a=Object(T.connect)(function(Aa){return{expandedFiltersActive:Aa.ui.expanded.filters,resultStatus:Aa.ui.resultPanel.status,paginationStatus:Aa.ui.pagination.status,pageDisplayItems:Aa.ui.pagination.displayItems,currentPage:Aa.ui.pagination.page,itemTotal:Aa.parameters.nextQuery.total,resultsPerQuery:Aa.settings.config.resultsPerQuery,
section:Aa.parameters.section}},function(Aa){return{changePage:function(Ba){Aa(Object(da.d)(Ba))},toggleExpandedFilters:function(){Aa(Object(qa.i)())}}})(I)},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(288),Q=I(48),N=I(333),S=I.n(N),Y=I(125);I=function(Z){function da(fa){fa=Z.call(this,fa)||this;return fa.state={options:(fa.props.user?fa.props.baseSections:fa.props.baseSections.filter(function(ia){return"livingAtlas"===ia||"all"===ia})).map(function(ia){return{value:ia,text:W.header.sectionTitles[ia]}}).concat(fa.props.customSections.map(function(ia){return{value:ia.name,
text:ia.name}}))},fa.handleTabSelect=fa.handleTabSelect.bind(fa),fa}return Object(ba.d)(da,Z),da.prototype.render=function(fa){return fa(S.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,selectedOptionValue:this.props.currentSection,dropdownOnly:!0})},da.prototype.handleTabSelect=function(fa){this.props.changeSearchSection(fa);this.props.search(!0)},da}(T.Component);P.a=Object(T.connect)(function(Z){return{user:Z.settings.utils.portal.user,baseSections:Z.settings.config.baseSections,
customSections:Z.settings.config.customSections,currentSection:Z.parameters.section}},function(Z){return{changeSearchSection:function(da){Z(Object(Y.k)(""));Z(Object(ca.b)(da))},search:function(da){Z(Object(Q.i)(da))}}})(I)},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(285),Q=I.n(ca),N=I(226),S=I(290),Y=I(409),Z=I(48);ca=I(374);var da=I.n(ca),fa=I(375),ia="relevance title owner created modified numviews".split(" "),na={myContent:["relevance","modified","title"],myFavorites:["relevance","modified",
"title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(qa){function ua(ya){ya=qa.call(this,ya)||this;return ya.handleToggleFilters=ya.handleToggleFilters.bind(ya),ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSortFieldChange=ya.handleSortFieldChange.bind(ya),
ya.handleSortOrderChange=ya.handleSortOrderChange.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleSortBlur=ya.handleSortBlur.bind(ya),ya}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=W.header.sectionTitles[this.props.section];Aa=this.props.searchPlaceholderText?this.props.searchPlaceholderText:W.search+" "+(Aa||this.props.section);var Ba=this.props.section;Ba=na[Ba]?Object(ba.g)([],na[Ba]):Object(ba.g)([],ia);return-1===Ba.indexOf(this.props.sortField)&&(this.props.sortField=
Ba[0]),ya("div",{"class":"ib-ex-search-area__container",key:"search-area"},ya(fa.a,{key:"ib-ex-search-area-input",title:W.header.search,placeholder:Aa,currentSearchString:this.props.searchString,changeSearchString:this.handleSearchChange}),ya("div",{"class":"ib-ex-search-area__btn-section"},ya(da.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:Ba,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,
onClick:this.handleSortClick,handleMenuBlur:this.handleSortBlur}),ya(Q.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},ya("div",{"class":"drp-sort__btn-body"},ya("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),ya("span",{"class":"drp-sort__btn-label"},W.filterPane.filter)))))},ua.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},
ua.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya);this.props.search(!0)},ua.prototype.handleSortFieldChange=function(ya){this.props.changeSortField(ya);this.props.search()},ua.prototype.handleSortOrderChange=function(ya){this.props.changeSortOrder(ya);this.props.search()},ua.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},ua.prototype.handleSortBlur=function(){this.props.closeExpandedSort()},ua}(T.Component);P.a=Object(T.connect)(function(qa){return{searchPlaceholderText:qa.settings.config.searchPlaceholderText,
section:qa.parameters.section,searchString:qa.parameters.searchString.current,previousSearchString:qa.parameters.searchString.previous,sortActive:qa.ui.expanded.sort,sortField:qa.parameters.sort.field,sortOrder:qa.parameters.sort.order,expandedFiltersActive:qa.ui.expanded.filters}},function(qa){return{toggleExpandedFilters:function(){qa(Object(N.i)())},toggleExpandedSort:function(){qa(Object(N.j)())},changeSortField:function(ua){qa(Object(S.c)(ua))},changeSortOrder:function(ua){qa(Object(S.d)(ua))},
changeSearchString:function(ua){qa(Object(Y.b)(ua))},search:function(ua){qa(Object(Z.i)(ua))},closeExpandedSort:function(){qa(Object(N.h)())}}})(I)},function(T,P,I){var ba=I(350);P.a=function(W,ca){return ca(ba.a,{key:"big-browser-filters"})}},function(T,P){T.exports=w},function(T,P){T.exports=B},function(T,P){T.exports=A},function(T,P){T.exports=D},function(T,P){T.exports=F},function(T,P){T.exports=v},function(T,P){T.exports=C},function(T,P){T.exports=G},function(T,P){T.exports=H},function(T,P,I){function ba(ca){var Q,
N=ca.settings.utils.portal.user,S=!N;N=!S&&!N.orgId;if(S||N)if(N)S=function(Y){switch(Y.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified created tags".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return W(Y)}}(ca);
else a:switch(ca.parameters.section){case "livingAtlas":S=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":S=["itemType","modified","status"];break a;default:S=W(ca)}else S=function(Y){switch(Y.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");
case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return W(Y)}}(ca);return Q=S,function(Y,Z){var da=Z.indexOf("itemType");Y&&-1<da&&Z.splice(da,1);return Z}(ca.settings.config.disableItemTypeFilters,Q)}function W(ca){return ca.settings.config.customSections.reduce(function(Q,
N){return N.name===ca.parameters.section&&N.filters?N.filters:Q},["itemType","modified","shared"])}I.d(P,"a",function(){return ba})},function(T,P,I){var ba=I(0);T=I(16);var W=I(216),ca=I.n(W);W=I(255);var Q=I.n(W);I=function(N){function S(Y){Y=N.call(this,Y)||this;return Y.handleClear=Y.handleClear.bind(Y),Y.handleClick=Y.handleClick.bind(Y),Y}return Object(ba.d)(S,N),S.prototype.render=function(Y){var Z=this,da=this.props.filter;return Y(Q.a,{key:da.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,
title:da.displayName},Y("ul",{"aria-label":da.displayName,id:da.displayName+"-filter-accordion-tree","class":"ftr-custom__tree",role:"tree"},da.children?da.children.map(function(fa){return Y(ca.a,{key:fa.value,value:fa.value,name:fa.displayName,onToggleClick:Z.handleClick,selectedToggle:Z.props.selectedOption,childOptions:fa.children})}):null))},S.prototype.handleClear=function(){this.props.onClear(this.props.index)},S.prototype.handleClick=function(Y,Z){Y===this.props.selectedOption?this.props.onClick(this.props.index,
void 0):this.props.onClick(this.props.index,Y,Z)},S}(T.Component);P.a=I},function(T,P,I){var ba=I(0),W=I(36),ca=I(178);T=I(16);var Q=I(418),N=I(564),S=I(100);I=function(Y){function Z(){return null!==Y&&Y.apply(this,arguments)||this}return Object(ba.d)(Z,Y),Z.prototype.render=function(da){var fa=this,ia=this.props,na=ia.itemTotal,qa=ia.itemName,ua=ia.dropdownItems,ya=ia.staticFilters,Aa=ia.handleItemClick,Ba=ia.handleClearAllClick,Oa=ia.handleSelectPageClick,Ja=ia.multiselect,wa=ia.maxSelected,Ea=
ia.showSelectAllOnPage,ra=ia.itemsPerPage,oa=ia.pageNumber;ia=ia.showDeselectTooltip;var xa=1E4<=na?W.itemLimitReached.replace("${limit}",ca.format(1E4)):ca.format(na),ta=Math.min((oa-1)*ra+1,na);na=Math.min(oa*ra,na);qa=qa?xa+" "+qa:W.itemTotalInfo.replace("${from}",ta).replace("${to}",na).replace("${total}",xa).replace("-"," - ");Aa=Ja&&0<ua.length&&da(N.a,{key:"ib-item-dropdown",items:ua,maxSelected:wa,handleItemClick:Aa,showDeselectTooltip:ia});ua=Ja&&0<ua.length&&da("button",{key:"clear-selection-button",
"class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--clear-all",onclick:function(ja){fa.handleFocus();Ba()}},W.filterPane.clearSelection);Ea=Ea&&da("button",{key:"select-all-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--select-page",onclick:function(ja){fa.handleFocus();Oa()}},W.filterPane.selectAll);return da("div",{"class":"ib-ex-input__container",key:"ib-result-count-container"},da("div",{"class":"ib-ex-input__container__controls"},da("span",{key:"input-area-results","class":"ib-ex-input-area__result-count"},
qa),Aa,ua,Ea),da(Q.a,{staticFilters:ya,key:"ib-ex__active-filters",theme:"dark",showLabel:W.filterPane.filters+":"}))},Z.prototype.handleFocus=function(){window.setTimeout(function(){var da;null===(da=document.querySelector(".ib-ex-input__container button"))||void 0===da||da.focus()},20)},Z}(T.Component);P.a=Object(T.connect)(function(Y){return{itemName:Y.settings.config.itemName,itemTotal:Y.parameters.nextQuery.total,pageNumber:Y.ui.pagination.page,staticFilters:Y.settings.config.staticFilters,itemsPerPage:Y.settings.config.resultsPerQuery,
dropdownItems:Object.keys(Y.results.selectedItems).map(function(Z){return Y.results.selectedItems[Z]}).filter(function(Z){return!Y.settings.config.disableInitiallySelectedItems||!Y.results.initiallySelectedItems[Z.id]}),multiselect:!!Y.settings.config.multiSelect,maxSelected:Y.settings.config.maxSelected,showDeselectTooltip:Y.settings.config.showDeselectTooltip,showSelectAllOnPage:!!Y.settings.config.multiSelect&&0<Y.parameters.nextQuery.total&&!Y.ui.pagination.displayItems.every(function(Z){return Y.results.selectedItems[Z.id]})&&
(!Y.settings.config.maxSelected||Y.ui.pagination.displayItems.filter(function(Z){return!Y.results.selectedItems[Z.id]}).length+Object.keys(Y.results.selectedItems).length<=Y.settings.config.maxSelected)}},function(Y){return{handleItemClick:function(Z){Y({type:S.c,payload:Z})},handleClearAllClick:function(){Y(S.n)},handleSelectPageClick:function(){Y(Object(S.q)())}}})(I)},function(T,P,I){var ba=I(0),W=I(36),ca=I(150);T=I(16);var Q=I(90),N=I(565),S={open:!1};I=function(Y){function Z(){var da=null!==
Y&&Y.apply(this,arguments)||this;return da.state=S,da.handleBlur=function(fa){var ia;(fa=fa.relatedTarget)&&(null===(ia=da.dropdown)||void 0===ia?0:ia.contains(fa))||da.setState({open:!1})},da.handleClick=function(fa){var ia,na;fa=fa.target;null!==(ia=da.dropdown)&&void 0!==ia&&ia.contains(fa)||((ia=null===(na=da.toggleButton)||void 0===na?void 0:na.contains(fa))?da.setState({open:!da.state.open}):da.state.open&&!ia&&da.setState({open:!1}))},da}return Object(ba.d)(Z,Y),Z.prototype.render=function(da){var fa=
this,ia=this.props,na=ia.items,qa=ia.maxSelected,ua=ia.showDeselectTooltip;ia=qa?W.itemsSelectedMax:W.itemsSelected;var ya=1<na.length?ia.enPlural:ia.en;"en"!==ca.locale.slice(0,2)&&(ya=ia.other);qa=qa?ya.replace("${num}",na.length).replace("${max}",qa):ya.replace("${num}",na.length);return da("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",fa.handleClick)},afterRemoved:function(){document.removeEventListener("click",fa.handleClick);
fa.setState(S)}},da("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(Aa){fa.toggleButton=Aa},afterRemoved:function(){fa.toggleButton=void 0}},da("span",{"class":"selected-dropdown__toggle-button__text"},qa),da("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},da("path",{d:Q.a}))),this.state.open&&da("div",{"class":"selected-dropdown__list__container",
key:"selected-dropdown__list__container",afterCreate:function(Aa){fa.dropdown=Aa},afterRemoved:function(){fa.dropdown=void 0}},da("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},na.map(function(Aa){return da(N.a,{item:Aa,handleCloseClick:fa.props.handleItemClick,handleBlur:fa.handleBlur,showDeselectTooltip:ua,key:Aa.id})}))))},Z}(T.Component);P.a=I},function(T,P,I){var ba=I(0);T=I(16);var W=I(36),ca=I(90);I=function(Q){function N(){return null!==
Q&&Q.apply(this,arguments)||this}return Object(ba.d)(N,Q),N.prototype.render=function(S){var Y=this.props,Z=Y.item,da=Y.handleCloseClick,fa=Y.handleBlur;Y=Y.showDeselectTooltip;var ia="selected-"+Z.id,na="deselect-item-"+Z.id,qa=function(){return S("button",{id:na,"class":"selected-dropdown__list-item__button",onclick:function(){da(Z)},"aria-labelledby":ia,"aria-label":W.deselect,onblur:fa},S("svg",null,S("path",{d:ca.j})))};return S("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:Z.id},
S("img",{src:Z.iconURI,alt:Z.type,"class":"selected-dropdown__list-item__icon"}),S("span",{"class":"selected-dropdown__list-item__description",id:ia},Z.title),Y?S("calcite-tooltip-manager",null,qa(),S("calcite-tooltip",{"reference-element":na},W.deselect)):qa())},N}(T.Component);P.a=I},function(T,P){T.exports=K},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(569),Q=I(568),N=I.n(Q).a;I=function(S){function Y(){return null!==S&&S.apply(this,arguments)||this}return Object(ba.d)(Y,S),Y.prototype.render=
function(Z){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?Z("div",{key:"request-error","class":"ib__results"},Z("div",{"class":"ib-results__message-container"},Z("span",{"class":"ib-results__message"},W.results.tooManyGroups))):Z("div",{key:"request-error","class":"ib__results"},Z("div",{"class":"ib-results__message-container"},Z("span",{"class":"ib-results__message"},W.results.requestError))):
this.props.showSubResources?Z(N,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):Z(ca.a,{key:"ib-ex-item-list"})},Y}(T.Component);P.a=Object(T.connect)(function(S){return{resultStatus:S.ui.resultPanel.status,pageStatus:S.ui.pagination.status,showSubResources:S.settings.config.showSubResources,tooManyGroups:!(!("myGroups"===S.parameters.section&&S.results.user.groups&&175<S.results.user.groups.length)||S.parameters.filter.group)}},
function(){return{}})(I)},function(T,P){T.exports=O},function(T,P,I){var ba=I(0);T=I(16);var W=I(570),ca=I.n(W),Q=I(126),N=I(307);I=function(S){function Y(){return null!==S&&S.apply(this,arguments)||this}return Object(ba.d)(Y,S),Y.prototype.render=function(Z){var da=this,fa=Object(Q.a)(this.props.stateTree),ia=this.props.stateTree.ui.pagination.displayItems.map(function(na){return Z(ca.a,{key:na.id,item:na,organization:"public_authoritative"===na.contentStatus&&da.props.stateTree.results.allOrganizations[na.orgId]?
da.props.stateTree.results.allOrganizations[na.orgId]:void 0,portal:fa,mainAction:da.props.stateTree.settings.config.onSelect,mainInverseAction:da.props.stateTree.settings.config.onDeselect,mainActionTitle:da.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:da.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:da.props.stateTree.settings.config.asynchronousItemSelect,usePrimaryButtonStyle:da.props.stateTree.settings.config.usePrimaryButtonStyle,isSelected:da.props.stateTree.settings.config.preSelect,
customActions:da.props.stateTree.settings.config.customActions,sortField:da.props.stateTree.parameters.sort.field})});return 0<ia.length?Z("div",{key:this.props.key,"class":"ib-ex-results__item-list"},ia):Z(N.a,{key:this.props.key,text:this.props.stateTree.settings.config.noItemsFoundText||""})},Y}(T.Component);P.a=Object(T.connect)(function(S){return{stateTree:S}},function(){return{}})(I)},function(T,P){T.exports=L},function(T,P,I){var ba=I(0);T=function(W){function ca(){return null!==W&&W.apply(this,
arguments)||this}return Object(ba.d)(ca,W),ca.prototype.render=function(Q){var N=this;return Q("footer",{"class":"ib__big-footer"},Q("button",{"class":"ib__big-footer-btn ib__big-footer-btn--secondary",onclick:function(){return N.props.handleSecondaryClick()}},this.props.secondaryText),Q("button",{"class":"ib__big-footer-btn ib__big-footer-btn--primary",onclick:function(){var S,Y;return null===(Y=(S=N.props).handlePrimaryClick)||void 0===Y?void 0:Y.call(S)}},this.props.primaryText))},ca}(I(16).Component);
P.a=T},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(363),Q=I(574),N=I(575),S=I(573),Y=I(589);I=function(Z){function da(fa){fa=Z.call(this,fa)||this;return fa.handleCloseDetailsPane=fa.handleCloseDetailsPane.bind(fa),fa}return Object(ba.d)(da,Z),da.prototype.render=function(fa){var ia=this.props.detailsPaneType,na=this.props.sidePanelType,qa=this.props.closing,ua={"ib-side__container--fade-in":!qa,"ib-side__container--fade-out":qa,"ib-side__container--flyout":"flyout"===ia,"ib-side__container--flyover":"flyover"===
ia};ia={"ib-side__content--flyout":"flyout"===ia,"ib-side__content--in-right":!qa&&"flyout"===ia,"ib-side__content--out-left":qa&&"flyout"===ia,"ib-side__content--flyover":"flyover"===ia,"ib-side__content--in-left":!qa&&"flyover"===ia,"ib-side__content--out-right":qa&&"flyover"===ia};if("sort"===na){var ya=fa(S.a,{key:"sort-pane"});var Aa=W.sortOptions.sort}else if("filter"===na)ya=fa(Q.a,{key:"filter-pane"}),Aa=W.filterPane.filter;else if("item"===na&&this.props.sidePanelItem)ya=fa(N.a,{key:this.props.sidePanelItem.id,
item:this.props.sidePanelItem});else if("hidden"===na)return;return fa(Y.a,{key:"item"===na&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:na,containerClasses:ua,contentClasses:ia,handleClose:this.handleCloseDetailsPane,i18n:W,type:na,title:Aa},ya)},da.prototype.componentWillReceiveProps=function(fa){var ia=this;!this.props.closing&&fa.closing&&("item"===this.props.sidePanelType&&this.props.sidePanelItem?(fa=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&fa.focus():
"filter"===this.props.sidePanelType?(fa=document.getElementById("filter-button"))&&fa.focus():"sort"===this.props.sidePanelType&&(fa=document.getElementById("sort-button"))&&fa.focus(),setTimeout(function(){ia.props.closeDetailsPaneImmediately()},300))},da.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},da}(T.Component);P.a=Object(T.connect)(function(Z){return{detailsPaneType:Z.settings.config.detailsPaneType,sidePanelType:Z.ui.sidePanel.type,sidePanelItem:Z.ui.sidePanel.item}},
function(Z){return{closeDetailsPane:function(){Z(Object(ca.c)())},closeDetailsPaneImmediately:function(){Z({type:ca.a})}}})(I)},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(290),Q=I(48),N=I(216),S=I.n(N),Y="relevance title owner created modified numviews".split(" "),Z={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],
livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(da){function fa(ia){ia=da.call(this,ia)||this;return ia.handleChangeSortField=ia.handleChangeSortField.bind(ia),ia.handleChangeSortAsc=ia.handleChangeSortAsc.bind(ia),ia.handleChangeSortDesc=ia.handleChangeSortDesc.bind(ia),ia}return Object(ba.d)(fa,da),fa.prototype.render=function(ia){var na=this,qa=this.props.section;qa=(Z[qa]?Object(ba.g)([],Z[qa]):Object(ba.g)([],
Y)).map(function(Aa){return ia(S.a,{key:Aa,name:W.sortOptions[Aa],value:Aa,selectedToggle:na.props.sortField,onToggleClick:na.handleChangeSortField})});var ua=this.props.sortField,ya=this.props.sortOrder;return ia("div",{id:"sort-pane-container",key:"sort-pane-container","class":"ib-sort-pane__container"},ia("div",{"class":"ib-sort-pane__body"},ia("h3",{id:"sort-options-title","class":"drp-sort__menu-title"},W.sortOptions.sortBy),ia("ul",{key:"sort-option-section","class":"ib-sort-pane__option-section",
role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},qa),"relevance"!==ua?ia("div",null,ia("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},W.sortOptions.sortDir),ia("ul",{key:"sort-direction-section","class":"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":ya+"-option"},ia(S.a,{key:"sort-asc-toggle",name:W.sortOptions.ascending[ua],value:"asc",onToggleClick:this.handleChangeSortAsc,
selectedToggle:ya}),ia(S.a,{key:"sort-desc-toggle",name:W.sortOptions.descending[ua],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:ya}))):null))},fa.prototype.handleChangeSortField=function(ia){this.props.changeSortField(ia);this.props.search()},fa.prototype.handleChangeSortAsc=function(ia){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},fa.prototype.handleChangeSortDesc=function(ia){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),
this.props.search())},fa}(T.Component);P.a=Object(T.connect)(function(da){return{section:da.parameters.section,sortField:da.parameters.sort.field,sortOrder:da.parameters.sort.order}},function(da){return{changeSortField:function(fa){da(Object(ca.c)(fa))},changeSortOrder:function(fa){da(Object(ca.d)(fa))},search:function(fa){da(Object(Q.i)(fa))}}})(I)},function(T,P,I){var ba=I(0);T=I(16);var W=I(350);I=function(ca){function Q(){return null!==ca&&ca.apply(this,arguments)||this}return Object(ba.d)(Q,
ca),Q.prototype.render=function(N){return N("div",{id:"filter-pane-container",key:"filter-pane-container","class":"ib-filter-pane__container"},N(W.a,{key:"filter-options"}))},Q}(T.Component);P.a=I},function(T,P,I){var ba=I(0),W=I(36),ca=I(178);T=I(16);var Q=I(173),N=I(126),S=I(205),Y=I.n(S),Z=I(587);S=I(576);var da=I.n(S);S=I(577);var fa=I.n(S);S=I(578);var ia=I.n(S);S=I(579);var na=I.n(S);S=I(580);var qa=I.n(S);S=I(581);var ua=I.n(S);S=I(582);var ya=I.n(S);S=I(583);var Aa=I.n(S);S=I(584);var Ba=
I.n(S);S=I(489);var Oa=I.n(S);S=I(585);var Ja=I.n(S);S=I(206);var wa=I.n(S),Ea=I(586),ra=I(588),oa=I(151);I=function(xa){function ta(ja){ja=xa.call(this,ja)||this;return ja.handleItemDetails=ja.handleItemDetails.bind(ja),ja.handleFavorites=ja.handleFavorites.bind(ja),ja}return Object(ba.d)(ta,xa),ta.prototype.render=function(ja){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return ja(Y.a,
{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return ja("div",{"class":"ib-item-pane__message-container"},ja("span",{"class":"ib-results__message"},W.results.requestError));var pa=this.props.stateTree.results.fullItemDetails[this.props.item.id],va=this.props.stateTree.results.users[pa.owner],Fa=Object(N.a)(this.props.stateTree),Da=pa&&this.props.stateTree.results.loadingItems[pa.id],Ca={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":Da},
Ia=new Date(pa.modified),La=new Date(pa.created),Ga=this.props.stateTree.results.allOrganizations[pa.orgId],Ma="public_authoritative"===pa.contentStatus&&pa.orgId&&Ga,Ha=!("Raster function template"===pa.type&&pa.owner.includes("esri_"));return[ja("div",{"class":"ib-item-pane__thumb-container",key:"ib-item-pane__thumb-container"},ja("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","class":"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+
pa.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),ja(Ea.a,{favorites:this.props.stateTree.results.user.favorites,item:pa,onToggleFavorite:this.handleFavorites})),ja("div",{id:"item-pane-container","class":"ib-item-pane__container",key:pa.id+"-container"},ja("div",{classes:Ca},ja("div",{key:"item-details"},ja("h4",{"class":"ib-item-pane__title"},pa.title,"\u00a0",Ha&&ja(wa.a,{key:"view-full-item-details",title:W.viewFullDetails,
handleClick:this.handleItemDetails,focusable:!0},ja("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},ja("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),ja("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),ja("span",{key:"item-owner","class":"ib-item-pane__owner-text"},ja("img",{src:pa.iconURI,"class":"ib-item-pane__type-icon",title:pa.displayName}),pa.displayName,
" ",W.itemDetails.by,"\u00a0",ja("a",{"class":"ib-item-pane__owner-link",title:Ma?W.itemDetails.viewOrg:W.itemDetails.viewUser,target:"_blank",href:Ma?Ga.orgUrl:Fa.baseUrl+"/home/user.html?user\x3d"+pa.owner},Ma?Ga.name:pa.owner)),ja("span",{key:"modified-date","class":"ib-item-pane__modified"},W.itemDetails.lastModified,": "+oa.format(Ia,{selector:"date",formatLength:"long"})),ja("div",{"class":"ib-item-pane__badges"},this.renderBadges(pa,ja)),ja("div",{"class":"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),
ja("span",{key:"snippet","class":"ib-item-pane__snippet"},pa.snippet?pa.snippet:W.itemDetails.noSnippet),ja("h5",{"class":"ib-item-pane__details"},W.itemDetails.details),pa.patchedDescription?ja("span",{key:"item-description",innerHTML:pa.patchedDescription,"class":"ib-item-pane__description"}):ja("span",{key:"item-no-description","class":"ib-item-pane__description"},W.itemDetails.noDescription),ja("h5",{"class":"ib-item-pane__terms-of-use"},W.itemDetails.termsOfUse),pa.licenseInfo?ja("span",{key:"item-terms-of-use",
innerHTML:pa.licenseInfo,"class":"ib-item-pane__license-info"}):ja("span",{key:"item-no-terms-of-use","class":"ib-item-pane__license-info"},W.itemDetails.noTermsOfUse),ja("h5",{"class":"ib-item-pane__credits"},W.itemDetails.attribution),pa.accessInformation?ja("span",{key:"item-access-information",innerHTML:pa.accessInformation,"class":"ib-item-pane__attribution"}):ja("span",{key:"item-no-access-information","class":"ib-item-pane__attribution"},W.itemDetails.noAttribution),Ma?ja("p",null,ja("h5",
{"class":"ib-item-pane__pa-owner"},W.sortOptions.owner),ja("div",{"class":"ib-item-pane__pa-org"},ja("img",{src:Ga.thumbURI,alt:Ga.name,"class":"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),Ga.name),ja("div",{"class":"ib-item-pane__pa-managed"},ja("span",{"class":"ib-item-pane__pa-managed-label"},W.itemDetails.managedBy),ja("div",{"class":"ib-item-pane__pa-manager"},va.thumbURI?ja("img",{src:va.thumbURI,"class":"ib-item-pane__pa-managed-thumb"}):
ja(Z.a,{"class":"ib-item-pane__pa-managed-thumb"}),pa.owner))):null,ja("span",{key:"num-views","class":"ib-item-pane__num-views"},ja("strong",null,W.itemDetails.views),": "+ca.format(pa.numViews)),ja("span",{key:"created-date","class":"ib-item-pane__num-views"},ja("strong",null,W.itemDetails.created),": "+oa.format(La,{selector:"date",formatLength:"long"})),ja(ra.a,{baseUrl:Fa.baseUrl,item:pa}))),Da?ja(Y.a,{key:"item-pane-loading"}):null)]},ta.prototype.renderBadges=function(ja,pa){var va=this,Fa=
this.props.stateTree.settings.utils.portal.user;return ja.badges.map(function(Da){switch(Da){case "authoritative":return pa(da.a,{altOrg:"public_authoritative"===ja.contentStatus&&va.props.stateTree.results.allOrganizations[ja.orgId]?va.props.stateTree.results.allOrganizations[ja.orgId].name:void 0});case "deprecated":return pa(ia.a,null);case "collaboration":return pa(fa.a,null);case "livingAtlas":return pa(na.a,null);case "marketplace":return pa(qa.a,null);case "openData":return pa(ua.a,null);case "premium":return pa(ya.a,
{user:Fa});case "subscriber":return pa(Aa.a,{user:Fa});case "solution":return pa(Ba.a,null);case "publicDataCollection":return pa(Ja.a,null);case "retiredStoryMap":return pa(Oa.a,{isRetiredStoryMap:!0});case "retiredApp":return pa(Oa.a,null)}return null})},ta.prototype.handleItemDetails=function(){var ja=Object(N.a)(this.props.stateTree),pa=this.props.stateTree.ui.sidePanel.item;pa&&window.open(ja.baseUrl+"/home/item.html?id\x3d"+pa.id,"_blank")},ta.prototype.handleFavorites=function(){var ja=this.props.stateTree.ui.sidePanel.item,
pa=this.props.stateTree.results.user.favorites;ja&&pa&&pa[ja.id]?this.props.removeFromFavorites(ja):ja&&pa&&!pa[ja.id]&&this.props.addToFavorites(ja)},ta}(T.Component);P.a=Object(T.connect)(function(xa){return{stateTree:xa}},function(xa){return{addToFavorites:function(ta){xa(Object(Q.k)(ta))},removeFromFavorites:function(ta){xa(Object(Q.m)(ta))}}})(I)},function(T,P){T.exports=J},function(T,P){T.exports=R},function(T,P){T.exports=X},function(T,P){T.exports=aa},function(T,P){T.exports=ea},function(T,
P){T.exports=ka},function(T,P){T.exports=ma},function(T,P){T.exports=sa},function(T,P){T.exports=za},function(T,P){T.exports=ha},function(T,P,I){var ba=I(36);P.a=function(W,ca){var Q=W.favorites;if(!Q)return null;Q=Q[W.item.id];return ca("button",{onclick:W.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,"ib-item-pane__favorites-btn--active":Q}},ca("span",{"class":"screen-readers-only"},Q?ba.itemDetails.isFavorite:ba.itemDetails.notFavorite),ca("svg",{xmlns:"http://www.w3.org/2000/svg",
role:"img",width:"32",height:"32",viewBox:"0 0 32 32"},ca("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),Q?ba.itemDetails.removeFromFavorites:ba.itemDetails.addToFavorites)}},function(T,P,I){P.a=function(ba,W){return W("div",{"class":ba["class"]},W("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},W("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(T,P,I){var ba=I(36);P.a=function(W,ca){var Q=W.item,N=W.baseUrl,S=ba.itemDetails.shared[Q.access?Q.access:Q.sharing&&Q.sharing.access];if(Q.sharedToGroups&&0<Q.sharedToGroups.length){var Y=Q.sharedToGroups.map(function(Z){return ca("a",{"class":"ib-item-pane__group-link",href:N+"/home/group.html?owner\x3d"+Z.owner+"\x26title\x3d"+Z.title,key:Z.id,target:"_blank"},Z.title)}).reduce(function(Z,da,fa){return Z[fa-1]&&Z.push(", "),Z.push(da),Z},[]);S="public"===Q.access||"org"===
Q.access?[S+", ",Y]:Y}else if("shared"===Q.access&&(!Q.sharedToGroups||0===Q.sharedToGroups.length))return null;return ca("span",{key:"shared-with","class":"ib-item-pane__shared"},ca("strong",null,ba.itemDetails.sharedWith),": ",S)}},function(T,P,I){function ba(Q){Q.focus()}T=I(206);var W=I.n(T),ca=I(590);P.a=function(Q,N){var S=Q.key,Y=Q.containerClasses,Z=Q.contentClasses,da=Q.handleClose,fa=Q.i18n,ia=Q.title,na=Q.children,qa=null;return"item"===Q.type&&(qa=N(ca.a,{key:"item-details-footer"})),
N("div",{key:"details-pane",classes:Y,"aria-expanded":"true"},N("div",{key:"content-container",classes:Z},N("header",{"class":"ib-side-body__header"},N("span",{"class":"ib-side-body__title"},ia),N("div",{"class":"ib-side-body__btn-container"},N(W.a,{afterCreate:ba,focusable:!0,handleClick:da,key:"side-panel-close-btn",title:fa.close},N("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},N("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),
N("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),N("section",{key:S,"class":"ib-side-body__content"},na),qa))}},function(T,P,I){var ba=I(0);T=I(16);var W=I(100),ca=I(434);I=function(Q){function N(S){S=Q.call(this,S)||this;return S.handleAddBtnClick=S.handleAddBtnClick.bind(S),S.handleCustomActionClick=S.handleCustomActionClick.bind(S),S}return Object(ba.d)(N,Q),N.prototype.render=function(S){var Y=this,Z=this.props.stateTree.ui.sidePanel.item,da=Z&&!!this.props.stateTree.results.selectedItems[Z.id],
fa={"ib-item-pane__btn--disabled":Z&&!!this.props.stateTree.results.loadingItems[Z.id]},ia=Object(ba.a)(Object(ba.a)({},fa),{"ib-item-pane__btn--active":da}),na=this.props.stateTree.settings.config.customActions.filter(function(qa){return qa.allowed(Z||{})});return S("footer",{"class":"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:S("button",{key:"select-btn","class":"ib-item-pane__select-btn",classes:ia,onclick:this.handleAddBtnClick},da?this.props.stateTree.settings.config.mainInverseActionTitle:
this.props.stateTree.settings.config.mainActionTitle),na.map(function(qa){return S("button",{key:"usage","class":"ib-item-pane__btn",classes:fa,value:qa.name,onclick:Y.handleCustomActionClick},qa.name)}))},N.prototype.handleAddBtnClick=function(){var S=this.props.stateTree.ui.sidePanel.item;S&&(this.props.stateTree.results.selectedItems[S.id]?this.props.deselectItem(S):this.props.selectItem(S))},N.prototype.handleCustomActionClick=function(S){var Y=this.props.stateTree.ui.sidePanel.item;Y&&this.props.customAction(S.target.value,
Y)},N}(T.Component);P.a=Object(T.connect)(function(Q){return{stateTree:Q}},function(Q){return{deselectItem:function(N){Q(Object(W.o)(N))},selectItem:function(N){Q(Object(W.r)(N))},customAction:function(N,S){Q(Object(ca.c)(N,S))}}})(I)},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(592),Q=I(206),N=I.n(Q);I=function(S){function Y(){return null!==S&&S.apply(this,arguments)||this}return Object(ba.d)(Y,S),Y.prototype.render=function(Z){var da=Z("div",{"class":"ib-header__spacer"});this.props.showBackBtn&&
(da=Z(N.a,{handleClick:this.props.onBack,key:"main-back-btn",title:W.back,focusable:!0},Z("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},Z("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var fa=Z("div",{"class":"ib-header__spacer"});return this.props.showCloseBtn&&(fa=Z(N.a,{key:"main-close-btn",title:W.close,focusable:!0,handleClick:this.props.onBack},Z("svg",{role:"img",width:"16",height:"16",
viewBox:"0 0 32 32"},Z("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),Z("div",{classes:{ib__header:!0},key:"header"},Z("div",{key:"section-title-container","class":"ib-header__search-section"},da,Z(ca.a,{key:"section-dropdown"}),fa))},Y}(T.Component);P.a=Object(T.connect)(function(S){return{showBackBtn:S.settings.config.showBackBtn,showCloseBtn:S.settings.config.showCloseBtn,onBack:function(){S.settings.config.onBack()}}},function(){return{}})(I)},
function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(288),Q=I(48),N=I(310),S=I.n(N);N=I(206);var Y=I.n(N);I=function(Z){function da(fa){fa=Z.call(this,fa)||this;var ia=(fa.props.portal.user?fa.props.baseSections:fa.props.baseSections.filter(function(na){return"livingAtlas"===na||"all"===na})).map(function(na){return{value:na,text:W.header.sectionTitles[na]}});return fa.props.customSections.forEach(function(na){var qa={value:na.name,text:na.name};na.addToFront?ia.splice(0,0,qa):ia.push(qa)}),fa.state=
{options:ia},fa.handleOptionSelect=fa.handleOptionSelect.bind(fa),fa}return Object(ba.d)(da,Z),da.prototype.render=function(fa){var ia=this.props.section,na=W.header.sectionTitles[ia];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?fa("h3",{id:"ib-dialog-title","class":"ib-header__dialog-title"},this.props.dialogTitle):fa(S.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},fa("h3",{key:"search-"+
ia+"-dropdown",id:"section-dropdown-toggle","class":"ib-section-dropdown__toggle"},na||ia,"\u00a0",fa("span",{"class":"btn-svg__button-noevent flex"},fa(Y.a,{key:"section-dropdown-button"},fa("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16"},fa("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"}))))))},da.prototype.handleOptionSelect=function(fa){this.props.changeSearchSection(fa);this.props.search(!0)},da}(T.Component);P.a=Object(T.connect)(function(Z){return{baseSections:Z.settings.config.baseSections,
customSections:Z.settings.config.customSections,portal:Z.settings.utils.portal,replaceSectionDropdownWithTitle:!!Z.settings.config.replaceSectionDropdownWithTitle,dialogTitle:Z.settings.config.dialogTitle,section:Z.parameters.section}},function(Z){return{changeSearchSection:function(da){Z(Object(ca.b)(da))},search:function(da){Z(Object(Q.i)(da))}}})(I)},function(T,P,I){var ba=I(0),W=I(36),ca=I(178);T=I(16);var Q=I(285),N=I.n(Q),S=I(418),Y=I(48),Z=I(410),da=I(409),fa=I(363),ia=I(804),na=I(805);I=function(qa){function ua(ya){ya=
qa.call(this,ya)||this;return ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSearchKeyDown=ya.handleSearchKeyDown.bind(ya),ya.handleListClick=ya.handleListClick.bind(ya),ya.handleTableClick=ya.handleTableClick.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleFilterClick=ya.handleFilterClick.bind(ya),ya}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=1E4<=this.props.nextTotal?W.itemLimitReached.replace("${limit}",ca.format(1E4)):ca.format(this.props.nextTotal);
Aa="function"==typeof this.props.replacementItemName?this.props.replacementItemName(Aa):this.props.replacementItemName?Aa+" "+this.props.replacementItemName:W.resultCount+": "+Aa;var Ba=W.header.sectionTitles[this.props.section];Ba=this.props.placeholderText?this.props.placeholderText:W.search+" "+(Ba||this.props.section);var Oa={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};return ya("div",null,ya("div",{key:"search-input-area",
"class":"ib__input-area"},"subscription"!==this.props.section?ya("div",{key:"search-bar-container","class":"ib-input-area__search-bar"},ya("input",{id:"item-browser-search-input","class":"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:Ba,"aria-label":Ba,value:this.props.searchString})):null,ya("div",{classes:Oa},ya("span",{"class":"ib-input-area__result-count"},Aa),ya("div",{"class":"ib-input-area__icon-button-container"},
ya(N.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:W.compactView},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),ya(N.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:W.listView},
ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?[ya("div",{key:"spacer","class":"ib-input-area__spacer"}),ya(N.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?W.close:W.filterPane.filter},ya("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),ya(N.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===this.props.sidePanelType?W.close:W.sortOptions.sort},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:
null))),ya(S.a,{key:"active-filters",theme:"dark"}))},ua.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya.target.value);""===ya.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},ua.prototype.handleSearchKeyDown=function(ya){"Enter"===ya.key&&this.props.search(!0)},ua.prototype.handleTableClick=function(ya){ya.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},ua.prototype.handleListClick=function(ya){ya.preventDefault();
"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},ua.prototype.handleFilterClick=function(ya){ya.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},ua.prototype.handleSortClick=function(ya){ya.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},ua}(T.Component);P.a=Object(T.connect)(function(qa){return{nextTotal:qa.parameters.nextQuery.total,placeholderText:qa.settings.config.searchPlaceholderText,
previousSearchString:qa.parameters.searchString.previous,replacementItemName:qa.settings.config.itemName,resultPanelType:qa.ui.resultPanel.display,searchString:qa.parameters.searchString.current,sidePanelType:qa.ui.sidePanel.type,section:qa.parameters.section}},function(qa){return{search:function(ua){qa(Object(Y.i)(ua))},changeResultDisplay:function(){qa({type:Z.a})},changeSearchString:function(ua){qa(Object(da.b)(ua))},closeDetailsPane:function(){qa(Object(fa.c)())},viewFilters:function(){qa(Object(ia.b)())},
viewSort:function(){qa(Object(na.b)())}}})(I)},function(T,P,I){var ba=I(0),W=I(36);T=I(16);var ca=I(48),Q=I(595),N=I(596),S=I(205),Y=I.n(S);I=function(Z){function da(){var fa=null!==Z&&Z.apply(this,arguments)||this;return fa.handleScroll=function(ia){.99<=(ia.target.scrollTop+ia.target.offsetHeight)/ia.target.scrollHeight&&"loadingNext"!==fa.props.resultPanelStatus&&-1!==fa.props.nextStart&&fa.props.loadMoreContent()},fa.handleCreate=function(ia){setTimeout(function(){ia.scrollHeight<=ia.clientHeight&&
"loadingNext"!==fa.props.resultPanelStatus&&-1!==fa.props.nextStart&&fa.props.loadMoreContent(50)},10)},fa}return Object(ba.d)(da,Z),da.prototype.render=function(fa){var ia=this.props,na=ia.resultPanelStatus,qa=ia.displayItems,ua=ia.showSubmitButton,ya=ia.resultPanelDisplayType;ia=ia.tooManyGroups;switch(na){case "success":case "loadingNext":return fa(Q.a,{key:"item-list-"+ya,i18n:W,showSubmitButton:ua,results:qa,loadingNext:"loadingNext"===na,handleScroll:this.handleScroll,handleCreate:this.handleCreate},
fa(N.a,{key:"result-items"}));case "loading":return fa("div",{key:"loading-items","class":"ib__results"},fa(Y.a,{key:"item-loader",text:W.results.loadingItems}));case "empty":return fa("div",{key:"empty-state","class":"ib__results"},fa("div",{"class":"ib-results__message-container"},fa("span",{"class":"ib-results__message"},W.results.empty)))}return ia?fa("div",{key:"too-many-groups","class":"ib__results"},fa("div",{"class":"ib-results__message-container"},fa("span",{"class":"ib-results__message"},
W.results.tooManyGroups))):fa("div",{key:"request-error","class":"ib__results"},fa("div",{"class":"ib-results__message-container"},fa("span",{"class":"ib-results__message"},W.results.requestError)))},da}(T.Component);P.a=Object(T.connect)(function(Z){return{displayItems:Z.results.displayItems,nextStart:Z.parameters.nextQuery.nextStart,showSubmitButton:Z.settings.config.showSubmitButton,resultPanelDisplayType:Z.ui.resultPanel.display,resultPanelStatus:Z.ui.resultPanel.status,tooManyGroups:!(!("myGroups"===
Z.parameters.section&&Z.results.user.groups&&175<Z.results.user.groups.length)||Z.parameters.filter.group)}},function(Z){return{loadMoreContent:function(da){Z(Object(ca.h)(da))}}})(I)},function(T,P,I){T=I(205);var ba=I.n(T);P.a=function(W,ca){var Q=W.key,N=W.i18n,S=W.loadingNext,Y=W.handleScroll,Z=W.handleCreate,da=W.children;return 0<W.results.length?ca("div",{key:Q,"class":"ib-results__item-list",onscroll:Y,afterCreate:Z},da,S?ca("div",{"class":"ib-results__load-container"},ca(ba.a,{key:"more-items-loader"})):
null):ca("div",{key:"no-items-found","class":"ib-results__item-list ib-results__item-list--none"},ca("span",{style:"font-size: 0.9375rem;"},N.results.noItemsFound))}},function(T,P,I){var ba=I(0);T=I(16);var W=I(126),ca=I(363),Q=I(357),N=I(100),S=I(434),Y=I(597),Z=I.n(Y);Y=I(598);var da=I.n(Y);I=function(fa){function ia(na){na=fa.call(this,na)||this;return na.handleShowItemDetails=na.handleShowItemDetails.bind(na),na.handleSelectionClick=na.handleSelectionClick.bind(na),na.handleCustomActionClick=
na.handleCustomActionClick.bind(na),na.startResizePoll=na.startResizePoll.bind(na),na.resizePoll=na.resizePoll.bind(na),na}return Object(ba.d)(ia,fa),ia.prototype.render=function(na){var qa=this.props.stateTree.results;if(0<qa.displayItems.length)return na("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(qa.displayItems,na))},ia.prototype.mapItemsToChildren=function(na,qa){var ua=this;return na.map(function(ya){var Aa=Object(W.a)(ua.props.stateTree);
return"list"===ua.props.stateTree.ui.resultPanel.display?qa(Z.a,{constrained:ua.state.constrained,key:ya.id+"-card",item:ya,loadingItems:ua.props.stateTree.results.loadingItems,selectedItems:ua.props.stateTree.results.selectedItems,activeItem:ua.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:ua.handleShowItemDetails,onSelectionClick:ua.handleSelectionClick,customActions:ua.props.stateTree.settings.config.customActions,onCustomActionClick:ua.handleCustomActionClick,disableMainAction:ua.props.stateTree.settings.config.disableMainAction,
sortField:ua.props.stateTree.parameters.sort.field,hideEllipses:ua.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===ya.contentStatus&&ua.props.stateTree.results.allOrganizations[ya.orgId]?ua.props.stateTree.results.allOrganizations[ya.orgId]:void 0}):qa(da.a,{key:ya.id+"-cardrow",item:ya,loadingItems:ua.props.stateTree.results.loadingItems,selectedItems:ua.props.stateTree.results.selectedItems,activeItem:ua.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:ua.handleShowItemDetails,
onSelectionClick:ua.handleSelectionClick,customActions:ua.props.stateTree.settings.config.customActions,onCustomActionClick:ua.handleCustomActionClick,disableMainAction:ua.props.stateTree.settings.config.disableMainAction,sortField:ua.props.stateTree.parameters.sort.field,hideEllipses:ua.props.stateTree.settings.config.hideEllipses})})},ia.prototype.handleShowItemDetails=function(na){var qa=this.props.stateTree.ui.sidePanel;qa.item&&qa.item.id===na.id?this.props.closeDetailsPane():this.props.viewItemDetails(na)},
ia.prototype.handleSelectionClick=function(na){this.props.stateTree.results.selectedItems[na.id]?this.props.deselectItem(na):this.props.selectItem(na)},ia.prototype.handleCustomActionClick=function(na,qa){this.props.customAction(na,qa)},ia.prototype.startResizePoll=function(na){this.resizePoll(na)},ia.prototype.resizePoll=function(na){var qa=this;na&&0<na.clientWidth&&(300>na.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<na.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),
setTimeout(function(){qa.resizePoll(na)},250))},ia}(T.Component);P.a=Object(T.connect)(function(fa){return{stateTree:fa}},function(fa){return{closeDetailsPane:function(){fa(Object(ca.c)())},viewItemDetails:function(ia){fa(Object(Q.b)(ia))},deselectItem:function(ia){fa(Object(N.o)(ia))},selectItem:function(ia){fa(Object(N.r)(ia))},customAction:function(ia,na){fa(Object(S.c)(ia,na))}}})(I)},function(T,P){T.exports=V},function(T,P){T.exports=la},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(T,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="VIEW_FILTERS",W=function(){return{type:ba}}},function(T,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="VIEW_SORT",W=function(){return{type:ba}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(T,P,I){I.r(P);var ba=I(0);
T=I(16);var W=I(415);I.d(P,"defaultConfig",function(){return W.a});I.d(P,"reducers",function(){return W.c});I.d(P,"initialState",function(){return W.b});var ca=I(100);I.d(P,"SELECT_ITEM_SINGLE",function(){return ca.j});I.d(P,"SELECT_ITEM",function(){return ca.g});I.d(P,"DESELECT_ITEM",function(){return ca.c});I.d(P,"SELECT_ITEM_ASYNC",function(){return ca.h});I.d(P,"SELECT_ITEM_ASYNC_FAILED",function(){return ca.i});var Q=I(48);I.d(P,"search",function(){return Q.i});var N=I(455);I.d(P,"updateExtent",
function(){return N.c});var S=I(357);I.d(P,"viewItemDetails",function(){return S.b});var Y=I(288);I.d(P,"changeSearchSection",function(){return Y.b});var Z=I(591),da=I(593),fa=I(594),ia=I(572),na=I(488);I=function(qa){function ua(){return null!==qa&&qa.apply(this,arguments)||this}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=this.props.layoutMode,Ba={ib__container:!0,"ib__container--expanded":"fullscreen"===Aa,"ib__container--adjustable":"adjustable"===Aa};switch(Aa){case "fullscreen":return ya(na.a,
{key:"big-browser",containerClasses:Ba});case "adjustable":return ya("div",null,ya(na.a,{key:"big-browser",containerClasses:Ba}),ya("div",{"class":"ib__container--underlay"}));default:return ya("div",{id:"item-browser-container",classes:Ba},ya(ia.a,{key:"side-panel",closing:this.props.sidePanelClosing}),ya(Z.a,{key:"header"}),ya(da.a,{key:"input-area"}),ya(fa.a,{key:"result-panel"}))}},ua}(T.Component);P["default"]=Object(T.connect)(function(qa){return{layoutMode:qa.settings.config.layoutMode,expanded:qa.ui.expanded.maximized,
sidePanelClosing:qa.ui.sidePanel.closing}},function(){return{}})(I)}])})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(U){function M(x){if(r[x])return r[x].exports;var t=r[x]={i:x,l:!1,exports:{}};return U[x].call(t.exports,t,t.exports,M),t.l=!0,t.exports}var r={};return M.m=U,M.c=r,M.d=function(x,t,l){M.o(x,t)||Object.defineProperty(x,t,{enumerable:!0,get:l})},M.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},M.t=function(x,t){if((1&t&&(x=M(x)),8&t)||4&t&&"object"==typeof x&&x&&x.__esModule)return x;var l=Object.create(null);if(M.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:x}),2&t&&"string"!=typeof x)for(var f in x)M.d(l,f,function(g){return x[g]}.bind(null,f));return l},M.n=function(x){var t=x&&x.__esModule?function(){return x["default"]}:function(){return x};return M.d(t,"a",t),t},M.o=function(x,t){return Object.prototype.hasOwnProperty.call(x,
t)},M.p="",M(M.s=868)}({868:function(U,M,r){r.r(M);M["default"]=function(x,t){var l=x.text;return t("div",{"class":"load-bars__container",key:x.key},t("div",{"class":"load-bars__bars"}),l?t("span",{"class":"load-bars__text"},l):null)}}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,
r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,
g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=830)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m=
{},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);
else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");
for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=
a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=
q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,
m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=U},830:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(g){g=l.call(this,g)||this;return g.handleClick=g.handleClick.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var k=this.props,y=k.label,u=k.labelDirection,E=k.key,z=k.title;return g("button",Object(t.a)({afterCreate:k.afterCreate,
key:E,id:E,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":y,"btn-svg__button--tooltip-left":"left"===u,"btn-svg__button--tooltip-right":"right"===u,"btn-svg__button--tooltip-top":"top"===u},onmousedown:this.preventFocus,onclick:this.handleClick},y?{"aria-label":y}:{title:z},{tabindex:!k.focusable&&"-1",value:k.value}),g("div",{"class":"btn-svg__button-content"},this.props.children))},f.prototype.preventFocus=function(g){g.preventDefault()},f.prototype.handleClick=function(g){this.props.handleClick&&
g.target&&(g.target.value=this.props.value,this.props.handleClick(g))},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",
l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=831)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=
0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||
(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;
switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=
[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});
x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};
Object.create;Object.create},16:function(M,r){M.exports=U},831:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(g){g=l.call(this,g)||this;return g.handleToggleClick=g.handleToggleClick.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var k=this.props,y=k.name,u=k.childOptions,E=k.prependValue,z=k.infoTooltip;E=E?""+E+this.props.value:this.props.value;k=!!(k.selectedToggle===E||u&&this.childSelectedRecursive(u,E));var q={"btn-toggle__item":!0,"btn-toggle__item--active":k,
"btn-toggle__item--flex":!!z},m={"btn-toggle__button":!0,"btn-toggle__button--active":k},e=null;return u&&(e=g("ul",{"class":"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(g))),g("li",{key:E,classes:q,role:"treeitem","aria-selected":k?"true":void 0,"aria-expanded":u?k?"true":"false":void 0},g("button",{key:E,classes:m,value:E,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":k?"true":void 0,"aria-label":y,onblur:this.props.handleBlur,
tabindex:"0"},g("span",{"class":"btn-toggle__text",key:"text"},y),this.props.count?g("span",{"class":"btn-toggle__count",key:"count"},"\u00a0","("+this.props.count+")"):null),!!z&&g("calcite-tooltip-manager",{"class":"btn-toggle__item-tooltip"},g("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",color:"neutral",scale:"s",round:!0},g("calcite-icon",{scale:"s",icon:"information"})),g("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},
z)),k?e:null)},f.prototype.preventDefault=function(g){g.preventDefault()},f.prototype.mapChildrenToToggles=function(g){var k=this,y=this.props,u=y.childOptions,E=y.selectedToggle,z=y.onToggleClick,q=y.useFullPathAsValue,m=(y=y.prependValue)?""+y+this.props.value:this.props.value;return u?u.map(function(e){return g(f,{count:e.count,key:e.value,name:e.displayName,value:q?m+"/"+e.value:e.value,showTooltip:k.props.showTooltip,tooltip:e.tooltip,selectedToggle:E,childOptions:e.children,onToggleClick:z,
useFullPathAsValue:q})}):null},f.prototype.childSelectedRecursive=function(g,k){var y=this,u=this.props,E=u.selectedToggle;return u.useFullPathAsValue?g.reduce(function(z,q){return!!(E===k+"/"+q.value||q.children&&y.childSelectedRecursive(q.children,k+"/"+q.value))||z},!1):g.reduce(function(z,q){return!!(E===q.value||q.children&&y.childSelectedRecursive(q.children,y.props.value))||z},!1)},f.prototype.handleToggleClick=function(g){g.preventDefault();this.props.onToggleClick(this.props.prependValue?
""+this.props.prependValue+this.props.value:this.props.value,this.props.name)},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=835)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,
d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?
a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=
1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&
h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,
"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<
d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},18:function(r,x){r.exports=U},339:function(r,x,t){t.d(x,"a",function(){return l});var l=function(f){return function(g){13===g.keyCode&&f(g)}}},525:function(r,x){r.exports=M},835:function(r,x,t){t.r(x);var l=t(0),f=t(525);r=t(18);var g=t(339);t=function(k){function y(u){var E=k.call(this,u)||this;return E.handleDropdownKeyDown=Object(g.a)(E.handleDropdownClick.bind(E)),
E.state={active:!!u.startActive},E.handleDropdownClick=E.handleDropdownClick.bind(E),E.handleClear=E.handleClear.bind(E),E}return Object(l.d)(y,k),y.prototype.render=function(u){var E={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},z={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},q=null;return this.props.clearable&&(q=u("button",{"class":"drp-accordion__clear-btn",onclick:this.handleClear},f.clear)),u("div",{key:this.props.key,
classes:{"drp-accordion__section":!0},role:"tablist"},u("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":""+this.state.active},u("div",{"class":"drp-accordion__wrapper"},u("span",{classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32",
role:"img"},u("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),u("span",null,this.props.title)),q),this.state.active?u("div",{classes:E},this.props.children):null)},y.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},y.prototype.handleClear=function(u){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";u.stopPropagation();this.props.onClear()},y}(r.Component);x["default"]=t}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=829)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=
typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}
function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;
n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;
d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&
a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=U},829:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(){return null!==
l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.render=function(g){var k=this.props,y=k.active,u=k.label,E=k.labelDirection,z=k.key,q=k.ariaControls;return g("button",Object(t.a)({id:z,key:z+"-container",classes:{"btn-icon__button":!0,"btn-icon__button--center":k.center,"btn-icon__button--tooltip":u,"btn-icon__button--tooltip-left":"left"===E,"btn-icon__button--tooltip-right":"right"===E,"btn-icon__button--tooltip-top":"top"===E,"btn-icon__button--active":y},"aria-label":u,onmousedown:this.preventFocus,
onclick:this.props.handleClick,tabindex:this.props.tabindex?""+this.props.tabindex:"0"},q?{"aria-controls":q,"aria-expanded":y?"true":"false"}:{"aria-checked":y},{title:k.title}),this.props.children)},f.prototype.preventFocus=function(g){g.preventDefault()},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/Modals/Overlay":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,
l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),
2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=874)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=
null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}
function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-
1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==
typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,
d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=U},312:function(M,r,x){function t(g){return f[g.vnodeSelector]&&(!g.properties||!g.properties.disabled&&-1!==g.properties.tabindex)||g.properties&&g.properties.tabindex&&-1<parseInt(g.properties.tabindex,10)}var l=
x(0),f={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};M=function(g){function k(y){y=g.call(this,y)||this;return y.registerFirstFocusable=y.registerFirstFocusable.bind(y),y.registerLastFocusable=y.registerLastFocusable.bind(y),y.handleFocusChange=y.handleFocusChange.bind(y),y}return Object(l.d)(k,g),k.prototype.render=function(){var y=this.findFirstFocusable(this.props.children),u=this.findLastFocusable(this.props.children);return y&&u&&(y.properties?y.properties.afterCreate=this.registerFirstFocusable:
y.properties={afterCreate:this.registerFirstFocusable},u.properties?u.properties.afterCreate=this.registerLastFocusable:u.properties={afterCreate:this.registerLastFocusable}),this.props.children},k.prototype.findFirstFocusable=function(y){if(y)for(var u=0;u<y.length;u++){var E=y[u];if(t(E)||E.children&&(E=this.findFirstFocusable(E.children)))return E}},k.prototype.findLastFocusable=function(y){if(y)for(var u=y.length-1;0<=u;u--){var E=y[u];if(t(E)||E.children&&(E=this.findLastFocusable(E.children)))return E}},
k.prototype.registerFirstFocusable=function(y){this.firstFocusableElement&&this.firstFocusableElement!==y&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);y.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=y;setTimeout(function(){y&&y.focus()},10)},k.prototype.registerLastFocusable=function(y){this.lastFocusableElement&&this.lastFocusableElement!==y&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=
y;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},k.prototype.handleFocusChange=function(y){"Tab"!==y.key&&9!==y.keyCode||(y.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),y.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),y.preventDefault()))},k}(x(16).Component);r.a=M},874:function(M,r,x){x.r(r);var t=x(0);
M=x(16);var l=x(312);x=function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Object(t.d)(g,f),g.prototype.componentWillReceiveProps=function(k){!1!==this.props.scrollable&&!1===k.scrollable&&(k=document.getElementsByClassName("mod__overlay-container"),k[0]&&(k[0].scrollTop=0))},g.prototype.render=function(k){return k(l.a,{key:"overlay-focus-trap"},k("div",{classes:{"mod__overlay-container":!0,"mod__overlay-container--adjustable":this.props.adjustable,"mod__overlay-container--closing":this.props.closing,
"mod__overlay-container--no-scroll":!1===this.props.scrollable,"mod__overlay-container--slide-left":"left"===this.props.slide,"mod__overlay-container--slide-right":"right"===this.props.slide,"mod__overlay-container--size-small":"small"===this.props.size||"large"===this.props.size,"mod__overlay-container--size-large":"large"===this.props.size,"mod__overlay-container--flex":this.props.flex},key:this.props.key},this.props.children))},g}(M.Component);r["default"]=x}})})},"arcgis-components/Dropdowns/TextOptionDropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&
f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=840)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=
q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&
(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}
function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};
case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},367:function(r,x){r.exports=M},840:function(r,
x,t){t.r(x);var l=t(0);r=t(16);var f=t(367),g=t.n(f);t=function(k){function y(u){u=k.call(this,u)||this;return u.state={optionElements:[],numOptions:-1,active:!1},u.navId=u.props.key+"-option-dropdown",u.handleOptionBlur=u.handleOptionBlur.bind(u),u.handleOptionClick=u.handleOptionClick.bind(u),u.mapOptionsToButtons=u.mapOptionsToButtons.bind(u),u.registerOptionElement=u.registerOptionElement.bind(u),u.handleOptionKeyDown=u.handleOptionKeyDown.bind(u),u.handleButtonKeyDown=u.handleButtonKeyDown.bind(u),
u}return Object(l.d)(y,k),y.prototype.render=function(u){var E=this,z={"drp-text-option__menu--left":!this.props.justify||"left"===this.props.justify,"drp-text-option__menu--right":"right"===this.props.justify};if(this.props.children&&this.props.children[0])return u(g.a,{key:this.props.key+"-dropdown-base",handleButtonKeyDown:this.handleButtonKeyDown,active:this.state.active,onToggle:function(){E.setState({active:!E.state.active})}},this.props.children[0],u("nav",{id:this.navId,"class":"drp-text-option__menu",
classes:z,style:"\n                        background-color: white;\n                        z-index: 9999999;\n                        margin: 0px;\n                        display: block;\n                        pointer-events: all;\n                        box-shadow: 0 0 16px 0 rgba(0,0,0,0.2);\n                        border: 0;\n                    ",role:"listbox","aria-activedescendant":this.props.selectedOptionValue+"-option"},this.mapOptionsToButtons(u)))},y.prototype.mapOptionsToButtons=
function(u){var E=this;return this.props.options.map(function(z,q){return u("button",{id:z.value+"-option",classes:{"drp-text-option__link":!0,"drp-text-option__link--active":z.value===E.props.selectedOptionValue},key:z.value,onclick:E.handleOptionClick,onkeydown:E.handleOptionKeyDown,value:z.value,dataIndex:q,afterCreate:E.registerOptionElement,role:"option","aria-selected":""+(z.value===E.props.selectedOptionValue),onblur:E.handleOptionBlur},z.text)})},y.prototype.handleOptionBlur=function(u){var E;
(null===(E=document.querySelector("#"+this.navId))||void 0===E?0:E.contains(u.relatedTarget))||this.setState({active:!1})},y.prototype.handleOptionClick=function(u){this.setState({active:!1});this.props.onSelect(u.target.value)},y.prototype.registerOptionElement=function(u){var E;this.setState({optionElements:Object(l.a)(Object(l.a)({},this.state.optionElements),(E={},E[u.dataIndex]=u,E)),numOptions:this.state.numOptions+1})},y.prototype.handleButtonKeyDown=function(u){u.keyCode&&40===u.keyCode&&
this.state.optionElements[0]&&this.state.optionElements[0].focus()},y.prototype.handleOptionKeyDown=function(u){var E=u.target.dataIndex;switch(u.keyCode){case 40:this.state.optionElements[E+1]?this.state.optionElements[E+1].focus():this.state.optionElements[0]&&this.state.optionElements[0].focus();break;case 38:this.state.optionElements[E-1]?this.state.optionElements[E-1].focus():this.state.optionElements[this.state.numOptions]&&this.state.optionElements[this.state.numOptions].focus()}},y}(r.Component);
x["default"]=t}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=
837)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>
q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}
function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=
p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?
p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});
x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=
U},837:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(g){g=l.call(this,g)||this;return g.state={active:!1},g.handleBtnClick=g.handleBtnClick.bind(g),g.handleDropdownClick=g.handleDropdownClick.bind(g),g.handleButtonKeyDown=g.handleButtonKeyDown.bind(g),g.registerCloseHandler=g.registerCloseHandler.bind(g),g.close=g.close.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var k=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&
this.props.children[1]){var y=this.props.children[0],u=k?this.props.children[1]:null;k=k?g("div",{key:"open-dropdown-hook",id:this.props.key+"-hook",afterCreate:this.registerCloseHandler,style:"display: none;"}):null;return g("div",{"class":"drp-basic__container",onclick:this.handleDropdownClick},k,g("span",{id:this.props.key,"class":"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},y),u)}},f.prototype.componentWillReceiveProps=
function(g){!0===this.props.active&&!1===g.active&&document.body.removeEventListener("click",this.close)},f.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},f.prototype.handleBtnClick=function(g){g.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},
f.prototype.handleDropdownClick=function(g){g.stopPropagation();this.setState({active:!this.state.active})},f.prototype.handleButtonKeyDown=function(g){13===g.keyCode||32===g.keyCode?(g.preventDefault(),this.handleBtnClick(g)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(g)},f.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/Navigation/TabNav":function(){define(["../Component",
"../Buttons/SvgButton","../Dropdowns/TextOptionDropdown"],function(U,M,r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return x[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},
t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=876)}({0:function(x,t,l){function f(m,
e){function d(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,
a[b])&&(d[a[b]]=m[a[b]])}return d}function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}function n(w){try{p(a["throw"](w))}catch(B){c(B)}}
function p(w){var B;w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return n.label++,{value:B[1],done:!1};
case 5:n.label++;b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,
sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,
e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},16:function(x,t){x.exports=U},206:function(x,t){x.exports=M},310:function(x,
t){x.exports=r},876:function(x,t,l){l.r(t);l.d(t,"slugifySectionName",function(){return u});var f=l(0);x=l(16);var g=l(310),k=l.n(g);g=l(206);var y=l.n(g),u=function(E){return"nav-tabnav-"+E.replace(" ","-").toLowerCase()};l=function(E){function z(q){q=E.call(this,q)||this;return q.optionElements=[],q.handleBtnClick=q.handleBtnClick.bind(q),q.handleMobileClick=q.handleMobileClick.bind(q),q.handleKeyDown=q.handleKeyDown.bind(q),q}return Object(f.d)(z,E),z.prototype.render=function(q){var m=this;if(!(1>=
this.props.options.length)){var e=this.props.options.map(function(a,b){var c=a.value,h=a.text,n=m.props.selectedOptionValue===c;return q("button",{key:c,classes:{"nav-tabnav__btn":!0,"nav-tabnav__btn--active":n},value:c,onclick:m.handleBtnClick,id:u(c),"aria-selected":n.toString(),role:"tab",afterCreate:function(p){p&&(m.optionElements[b]=p)}},h)}),d=this.props.options.filter(function(a){return a.value===m.props.selectedOptionValue})[0].text;return q("nav",{"class":"nav-tabnav__nav",role:"tablist",
"aria-labelledby":"ib__big-header-title",onkeydown:this.handleKeyDown},this.props.dropdownOnly?"":e,q("div",{classes:{"nav-tabnav__mobile-menu":!0,"nav-tabnav__mobile-menu--always-available":this.props.dropdownOnly}},q(k.a,{key:"ib-ex__section-dropdown",options:this.props.options,onSelect:this.handleMobileClick,selectedOptionValue:this.props.selectedOptionValue},q("h3",{key:"search-"+d+"-dropdown",id:"section-dropdown-toggle","class":"nav-tabnav__section-dropdown-title"},q("span",{"class":"nav-tabnav__section-dropdown-text"},
d),q("span",{"class":"btn-svg__button-noevent"},q(y.a,{key:"section-dropdown-button"},q("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 16 16",fill:"#323232"},q("path",{d:"M8 11.207l-4-4V5.793l4 4 4-4v1.414z"}))))))))}},z.prototype.handleBtnClick=function(q){q.target.value!==this.props.selectedOptionValue&&this.props.onSelect(q.target.value)},z.prototype.handleKeyDown=function(q){q=q.keyCode;var m=this.optionElements,e=m.indexOf(document.activeElement);if((39===q||37===q)&&0<=e){var d=m[e+1]||
m[0];m=m[e-1]||m[m.length-1];(q=39===q?d:m)&&q.focus()}},z.prototype.handleMobileClick=function(q){q!==this.props.selectedOptionValue&&this.props.onSelect(q)},z}(x.Component);t["default"]=l}})})},"arcgis-components/Filters/CategoriesFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle"],function(U,M,r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return x[f].call(g.exports,g,g.exports,t),
g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=
typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=841)}({0:function(x,t,l){function f(m,e){function d(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):
(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(d[a[b]]=m[a[b]])}return d}function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}function n(w){try{p(a["throw"](w))}catch(B){c(B)}}function p(w){var B;w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");
for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return n.label++,{value:B[1],done:!1};case 5:n.label++;b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=
c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=
e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,
d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(x,t){x.exports=M},165:function(x,t){x.exports=r},18:function(x,t){x.exports=U},841:function(x,t,l){l.r(t);var f=l(0);x=l(18);var g=l(131),k=l.n(g);g=l(165);var y=l.n(g);l=function(u){function E(z){z=u.call(this,z)||this;return z.mapCategoriesToToggles=z.mapCategoriesToToggles.bind(z),z.handleToggleClick=z.handleToggleClick.bind(z),
z.handleClearFilter=z.handleClearFilter.bind(z),z}return Object(f.d)(E,u),E.prototype.render=function(z){return z(k.a,{key:this.props.key,title:this.props.title,clearable:!!this.props.categoriesFilter,onClear:this.handleClearFilter,startActive:this.props.startActive},z("ul",{"aria-label":this.props.title,"class":"ftr-categories__tree",role:"tree"},this.mapCategoriesToToggles(z)))},E.prototype.mapCategoriesToToggles=function(z){var q=this;return this.props.availableCategories.map(function(m){return z(y.a,
{count:m.count,key:m.value,name:m.displayName,value:m.value,selectedToggle:q.props.categoriesFilter?q.props.categoriesFilter.value:void 0,childOptions:m.children,onToggleClick:q.handleToggleClick,useFullPathAsValue:!0,prependValue:q.props.prependValue,showTooltip:q.props.showTooltips,tooltip:m.tooltip})})},E.prototype.handleToggleClick=function(z,q){this.props.onCategorySelect({value:z,text:q})},E.prototype.handleClearFilter=function(){this.props.onClearCategories()},E}(x.Component);t["default"]=
l}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component","dojo/i18n!../../Navigation/Pager/nls/resources"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=875)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<
d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}
function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=
w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?
w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});
t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},18:function(r,x){r.exports=
U},343:function(r,x){r.exports=M},875:function(r,x,t){t.r(x);var l=t(0),f=t(343);r=function(g){function k(y){y=g.call(this,y)||this;return y.handleNext=y.handleNext.bind(y),y.handlePrevious=y.handlePrevious.bind(y),y.handlePageBtn=y.handlePageBtn.bind(y),y}return Object(l.d)(k,g),k.prototype.render=function(y){var u=this,E=this.props,z=E.numPages,q=E.currentPage;E=E.paginationLimitReached;var m=Array.apply(null,{length:z}).map(function(a,b){var c=q===b+1;return y("button",{classes:{"nav-pager__btn":!0,
"nav-pager__page-btn--active":c,"nav-pager__page-btn--inactive":!c},id:"page-"+(b+1)+"-button",title:f.page+" "+(b+1),onclick:function(){u.handlePageBtn(b+1)},role:"link",tabindex:"0",key:"page-"+(b+1)+"-button"},""+(b+1))}).reduce(function(a,b,c,h){return 0===c||c===z-1||c===q-1||c===q-2||c===q||1===c&&4===q||c===z-2&&q===z-3||4>=c&&5>q?a.push(b):(c===q-3||c===q+1||5===c&&5>q)&&a.push(y("span",{"class":"nav-pager__dots",key:"dots-"+c},"...")),a},[]),e={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=
q},d={"nav-pager__btn":!0,"nav-pager__btn--disabled":q>=z};return 1<z?y("nav",{"class":"nav-pager__container",key:"pager"},q===z&&E&&y("div",{"class":"nav-pager__limit-container",key:"pagination-limit-container"},y("div",{"class":"nav-pager__limit-inner"},y("p",{"class":"nav-pager__limit-text"},f.paginationLimit))),y("button",{classes:e,id:"previous",title:f.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,tabindex:1>=q?"-1":"0"},f.previous),y("div",{"class":"nav-pager__page-btn-container"},
m),y("button",{classes:d,id:"next",title:f.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:q>=z?"-1":"0"},f.next)):y("span",null)},k.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},k.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},k.prototype.handlePageBtn=function(y){this.props.onPageChange(y)},k}(t(18).Component);x["default"]=r}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component",
"../Buttons/SvgButton"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&
(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=873)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=
q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&
(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}
function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};
case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},206:function(r,x){r.exports=M},312:function(r,
x,t){function l(k){return g[k.vnodeSelector]&&(!k.properties||!k.properties.disabled&&-1!==k.properties.tabindex)||k.properties&&k.properties.tabindex&&-1<parseInt(k.properties.tabindex,10)}var f=t(0),g={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};r=function(k){function y(u){u=k.call(this,u)||this;return u.registerFirstFocusable=u.registerFirstFocusable.bind(u),u.registerLastFocusable=u.registerLastFocusable.bind(u),u.handleFocusChange=u.handleFocusChange.bind(u),u}return Object(f.d)(y,
k),y.prototype.render=function(){var u=this.findFirstFocusable(this.props.children),E=this.findLastFocusable(this.props.children);return u&&E&&(u.properties?u.properties.afterCreate=this.registerFirstFocusable:u.properties={afterCreate:this.registerFirstFocusable},E.properties?E.properties.afterCreate=this.registerLastFocusable:E.properties={afterCreate:this.registerLastFocusable}),this.props.children},y.prototype.findFirstFocusable=function(u){if(u)for(var E=0;E<u.length;E++){var z=u[E];if(l(z)||
z.children&&(z=this.findFirstFocusable(z.children)))return z}},y.prototype.findLastFocusable=function(u){if(u)for(var E=u.length-1;0<=E;E--){var z=u[E];if(l(z)||z.children&&(z=this.findLastFocusable(z.children)))return z}},y.prototype.registerFirstFocusable=function(u){this.firstFocusableElement&&this.firstFocusableElement!==u&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);u.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=u;setTimeout(function(){u&&
u.focus()},10)},y.prototype.registerLastFocusable=function(u){this.lastFocusableElement&&this.lastFocusableElement!==u&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=u;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},y.prototype.handleFocusChange=function(u){"Tab"!==u.key&&9!==u.keyCode||(u.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
u.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),u.preventDefault()))},y}(t(16).Component);x.a=r},873:function(r,x,t){t.r(x);var l=t(0);r=t(16);var f=t(206),g=t.n(f),k=t(312);t=function(y){function u(E){E=y.call(this,E)||this;return E.state={closing:!1,open:E.props.open},E.handleClose=E.handleClose.bind(E),E}return Object(l.d)(u,y),u.prototype.componentWillReceiveProps=function(E){var z=this;this.props.open===E.open||
this.state.closing||(E.open?(this.setState({open:E.open}),setTimeout(function(){var q=document.getElementById(z.props.key+"close");q&&q.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){z.setState({open:!1,closing:!1})},200)))},u.prototype.render=function(E){return E(k.a,{key:"mobile-wrap-focus-trap"},E("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},E("div",{classes:{"mod__mob-wrap-body":!0,
"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},E("div",{"class":"mod__mob-wrap-header"},E("span",{"class":"mod__mob-wrap-title"},this.props.title),E(g.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},E("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},E("path",{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),
E("div",{"class":"mod__mob-wrap-content"},this.props.children),this.props.footer?E("div",{"class":"mod__mob-wrap-footer"},this.props.footer):null)))},u.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},u}(r.Component);x["default"]=t}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(U,M,r,x,t,l){return function(f){function g(y){if(k[y])return k[y].exports;var u=k[y]={i:y,l:!1,exports:{}};return f[y].call(u.exports,u,u.exports,g),u.l=!0,u.exports}var k={};return g.m=f,g.c=k,g.d=function(y,u,E){g.o(y,u)||Object.defineProperty(y,u,{enumerable:!0,get:E})},g.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},g.t=function(y,u){if((1&u&&(y=g(y)),8&u)||4&
u&&"object"==typeof y&&y&&y.__esModule)return y;var E=Object.create(null);if(g.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:y}),2&u&&"string"!=typeof y)for(var z in y)g.d(E,z,function(q){return y[q]}.bind(null,z));return E},g.n=function(y){var u=y&&y.__esModule?function(){return y["default"]}:function(){return y};return g.d(u,"a",u),u},g.o=function(y,u){return Object.prototype.hasOwnProperty.call(y,u)},g.p="",g(g.s=839)}({0:function(f,g,k){function y(a,b){function c(){this.constructor=
a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function u(a,b){var c={},h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&0>b.indexOf(h)&&(c[h]=a[h]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(a);n<h.length;n++)0>b.indexOf(h[n])&&Object.prototype.propertyIsEnumerable.call(a,h[n])&&
(c[h[n]]=a[h[n]])}return c}function E(a,b,c,h){var n,p=arguments.length,w=3>p?b:null===h?h=Object.getOwnPropertyDescriptor(b,c):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(a,b,c,h);else for(var B=a.length-1;0<=B;B--)(n=a[B])&&(w=(3>p?n(w):3<p?n(b,c,w):n(b,c))||w);return 3<p&&w&&Object.defineProperty(b,c,w),w}function z(a,b,c,h){return new (c||(c=Promise))(function(n,p){function w(D){try{A(h.next(D))}catch(F){p(F)}}function B(D){try{A(h["throw"](D))}catch(F){p(F)}}
function A(D){var F;D.done?n(D.value):(F=D.value,F instanceof c?F:new c(function(v){v(F)})).then(w,B)}A((h=h.apply(a,b||[])).next())})}function q(a,b){function c(A){return function(D){return function(F){if(h)throw new TypeError("Generator is already executing.");for(;B;)try{if(h=1,n&&(p=2&F[0]?n["return"]:F[0]?n["throw"]||((p=n["return"])&&p.call(n),0):n.next)&&!(p=p.call(n,F[1])).done)return p;switch(n=0,p&&(F=[2&F[0],p.value]),F[0]){case 0:case 1:p=F;break;case 4:return B.label++,{value:F[1],done:!1};
case 5:B.label++;n=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(p=B.trys,(p=0<p.length&&p[p.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!p||F[1]>p[0]&&F[1]<p[3]))B.label=F[1];else if(6===F[0]&&B.label<p[1])B.label=p[1],p=F;else if(p&&B.label<p[2])B.label=p[2],B.ops.push(F);else{p[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(v){F=[6,v],n=0}finally{h=p=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,D])}}var h,n,p,w,B={label:0,
sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return w={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function m(a,b){for(var c=0,h=b.length,n=a.length;c<h;c++,n++)a[n]=b[c];return a}k.d(g,"d",function(){return y});k.d(g,"a",function(){return d});k.d(g,"f",function(){return u});k.d(g,"c",function(){return E});k.d(g,"b",function(){return z});k.d(g,"e",function(){return q});k.d(g,"g",function(){return m});var e=function(a,
b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(c[n]=h[n])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,c=1,h=arguments.length;c<h;c++)for(var n in b=arguments[c])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},165:function(f,g){f.exports=M},18:function(f,g){f.exports=U},273:function(f,
g){f.exports=r},299:function(f,g){f.exports=x},348:function(f,g){f.exports=t},368:function(f,g){f.exports=l},839:function(f,g,k){k.r(g);var y=k(0),u=k(299);f=k(18);var E=k(348),z=k.n(E);E=k(165);var q=k.n(E);E=k(273);var m=k.n(E);E=k(368);var e=k.n(E);k=function(d){function a(b){var c=d.call(this,b)||this;return c.handleToggleBlur=function(h){var n,p,w;(null===(n=document.querySelector("#dropdown-sort-menu-container"))||void 0===n?0:n.contains(h.relatedTarget))||null===(w=(p=c.props).handleMenuBlur)||
void 0===w||w.call(p)},c.handleSortClick=c.handleSortClick.bind(c),c.handleFieldChange=c.handleFieldChange.bind(c),c.handleOrderChange=c.handleOrderChange.bind(c),c.handleMobileWrapClose=c.handleMobileWrapClose.bind(c),c}return Object(y.d)(a,d),a.prototype.render=function(b){var c=this,h=[b("div",{"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title"},u.sortBy),this.props.availableFields.map(function(n){return b(q.a,{key:n,name:u[n],value:n,onToggleClick:c.handleFieldChange,
selectedToggle:c.props.field,handleBlur:c.handleToggleBlur})})),"relevance"!==this.props.field?b("div",{key:this.props.field,"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},u.sortDir),b(q.a,{key:"ascending-toggle",name:u.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),b(q.a,{key:"descending-toggle",name:u.descending[this.props.field],value:"desc",
onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[b(z.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
b("span",{"class":"drp-sort__btn-label"},u[this.props.field]))),b(e.a,{key:"sort-mobile-wrap",title:u.sort,open:this.props.active,onClose:this.handleMobileWrapClose},h)]:b(m.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},b(z.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),b("span",{"class":"drp-sort__btn-label"},u[this.props.field]))),b("div",{"class":"drp-sort__menu-container",id:"dropdown-sort-menu-container"},h))},a.prototype.stub=function(){},a.prototype.handleSortClick=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a.prototype.handleFieldChange=function(b){var c,h;b===
this.props.field||null!==(h=null===(c=this.props)||void 0===c?void 0:c.onFieldChange)&&void 0!==h&&h.call(c,b)},a.prototype.handleOrderChange=function(b){var c,h;b===this.props.order||null!==(h=null===(c=this.props)||void 0===c?void 0:c.onOrderChange)&&void 0!==h&&h.call(c,b)},a.prototype.handleMobileWrapClose=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a}(f.Component);g["default"]=k}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&
f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=836)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=
q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&
(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}
function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};
case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},367:function(r,x){r.exports=M},836:function(r,
x,t){t.r(x);var l=t(0);r=t(16);var f=t(367),g=t.n(f);t=function(k){function y(u){u=k.call(this,u)||this;return u.state={active:!!u.props.active&&u.props.active,closing:!1},u.handleDrpClick=u.handleDrpClick.bind(u),u}return Object(l.d)(y,k),y.prototype.render=function(u){var E={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&this.props.children[1])return u(g.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,
tabindex:this.props.tabindex},this.props.children[0],u("div",{classes:E},this.props.children[1]))},y.prototype.componentWillReceiveProps=function(u){!1===u.active&&!0===this.props.active&&this.close()},y.prototype.close=function(u){var E=this;this.setState({closing:!0});setTimeout(function(){E.setState({active:!1,closing:!1});E.props.onToggle&&u&&E.props.onToggle()},200)},y.prototype.handleDrpClick=function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&
this.props.onToggle())},y}(r.Component);x["default"]=t}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,
k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,
u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=843)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);
else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=
h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},18:function(t,l){t.exports=U},370:function(t,l){t.exports=r},446:function(t,l){t.exports=x},843:function(t,l,f){f.r(l);var g=f(0),k=f(446);t=f(18);var y=f(131),u=f.n(y);y=f(370);var E=f.n(y);f=function(z){function q(m){m=z.call(this,m)||this;return m.handleDateRangeSelect=m.handleDateRangeSelect.bind(m),
m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,z),q.prototype.render=function(m){return m(u.a,{key:"created-filter-accordion",title:k.dateCreated,clearable:!!this.props.dateCreatedFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":k.dateCreated,"class":"ftr-created__tree",role:"tree"},m(E.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0})))},
q.prototype.handleDateRangeSelect=function(m,e){this.props.onDateCreatedSelect(m,e)},q.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},q}(t.Component);l["default"]=f}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(U,M,r,x,t){return function(l){function f(k){if(g[k])return g[k].exports;
var y=g[k]={i:k,l:!1,exports:{}};return l[k].call(y.exports,y,y.exports,f),y.l=!0,y.exports}var g={};return f.m=l,f.c=g,f.d=function(k,y,u){f.o(k,y)||Object.defineProperty(k,y,{enumerable:!0,get:u})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,y){if((1&y&&(k=f(k)),8&y)||4&y&&"object"==typeof k&&k&&k.__esModule)return k;var u=Object.create(null);if(f.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:k}),2&y&&"string"!=typeof k)for(var E in k)f.d(u,E,function(z){return k[z]}.bind(null,E));return u},f.n=function(k){var y=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(y,"a",y),y},f.o=function(k,y){return Object.prototype.hasOwnProperty.call(k,y)},f.p="",f(f.s=833)}({0:function(l,f,g){function k(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");m(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function y(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(c=Object.getOwnPropertySymbols(d);h<c.length;h++)0>a.indexOf(c[h])&&Object.prototype.propertyIsEnumerable.call(d,c[h])&&(b[c[h]]=d[c[h]])}return b}function u(d,a,b,c){var h,n=arguments.length,p=3>n?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,a,b,c);else for(var w=d.length-1;0<=w;w--)(h=d[w])&&(p=(3>n?h(p):3<n?h(a,b,p):h(a,b))||p);return 3<n&&p&&Object.defineProperty(a,b,p),p}function E(d,a,b,c){return new (b||(b=Promise))(function(h,n){function p(A){try{B(c.next(A))}catch(D){n(D)}}function w(A){try{B(c["throw"](A))}catch(D){n(D)}}function B(A){var D;A.done?h(A.value):(D=A.value,D instanceof b?D:new b(function(F){F(D)})).then(p,
w)}B((c=c.apply(d,a||[])).next())})}function z(d,a){function b(B){return function(A){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;w;)try{if(c=1,h&&(n=2&D[0]?h["return"]:D[0]?h["throw"]||((n=h["return"])&&n.call(h),0):h.next)&&!(n=n.call(h,D[1])).done)return n;switch(h=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++;h=D[1];D=[0];continue;case 7:D=w.ops.pop();w.trys.pop();continue;default:if(!(n=
w.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){w=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))w.label=D[1];else if(6===D[0]&&w.label<n[1])w.label=n[1],n=D;else if(n&&w.label<n[2])w.label=n[2],w.ops.push(D);else{n[2]&&w.ops.pop();w.trys.pop();continue}}D=a.call(d,w)}catch(F){D=[6,F],h=0}finally{c=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,A])}}var c,h,n,p,w={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return p={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function q(d,a){for(var b=0,c=a.length,h=d.length;b<c;b++,h++)d[h]=a[b];return d}g.d(f,"d",function(){return k});g.d(f,"a",function(){return e});g.d(f,"f",function(){return y});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return q});var m=function(d,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(b[h]=c[h])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var h in a=arguments[b])Object.prototype.hasOwnProperty.call(a,h)&&(d[h]=a[h]);return d}).apply(this,arguments)};Object.create;Object.create},151:function(l,f){l.exports=M},165:function(l,f){l.exports=r},18:function(l,f){l.exports=U},225:function(l,f){l.exports=x},425:function(l,f,g){var k=g(0),y=g(225),u=g(151);
f.a=function(E,z){var q=new Date,m=q.getTime();q.setHours(0,0,0,0);q=q.getTime();switch(E){case "today":return{start:q,end:m,label:y.today};case "yesterday":return{start:q-864E5,end:q,label:y.yesterday};case "last7Days":return{start:m-6048E5,end:m,label:y.last7Days};case "last30Days":return{start:m-2592E6,end:m,label:y.last30Days};case "custom":if(z)return m=u.format(new Date(z.start),{selector:"date",formatLength:"short"}),q=u.format(new Date(z.end),{selector:"date",formatLength:"short"}),Object(k.a)(Object(k.a)({},
z),{label:m+"\u2014"+q})}}},442:function(l,f){l.exports=t},523:function(l,f,g){var k=g(0);l=g(18);var y=g(165),u=g.n(y);g=function(E){function z(q){return E.call(this,q)||this}return Object(k.d)(z,E),z.prototype.render=function(q){var m=this;return this.props.options.map(function(e){return q(u.a,{key:e.value,name:e.displayName,value:e.value,selectedToggle:m.props.selectedOption,childOptions:e.childOptions,onToggleClick:m.props.handleOptionClick})})},z}(l.Component);f.a=g},833:function(l,f,g){g.r(f);
var k=g(0),y=g(225);l=g(18);var u=g(442),E=g.n(u),z=g(523),q=g(425);g=function(m){function e(d){var a=m.call(this,d)||this;return a.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===d.selectedOption&&d.range?new Date(d.range.start):void 0,customEnd:"custom"===d.selectedOption&&d.range?new Date(d.range.end):void 0,customRange:"custom"===d.selectedOption&&d.range?d.range:void 0,options:[{value:"today",displayName:y.today},{value:"yesterday",displayName:y.yesterday},
{value:"last7Days",displayName:y.last7Days},{value:"last30Days",displayName:y.last30Days},{value:"custom",displayName:y.custom}]},a.handleFromDateChange=a.handleFromDateChange.bind(a),a.handleToDateChange=a.handleToDateChange.bind(a),a.handleOptionClick=a.handleOptionClick.bind(a),a}return Object(k.d)(e,m),e.prototype.render=function(d){var a,b={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},
c=new Date;if(this.props.preventFutureDate){var h=this.state.customEnd;(!h||h>c)&&(h=c);h={max:h}}else this.state.customEnd&&(h={max:this.state.customEnd});return(this.state.customStart||this.props.preventFutureDate)&&(a=Object(k.a)(Object(k.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:c})),d("div",null,d(z.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),
d("div",{classes:b},d("label",{"aria-label":y.from},y.from,d("div",{"class":"date-selector__pick-wrapper"},d(E.a,{key:"from-picker-"+this.state.uid,onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:h}))),d("label",{"aria-label":y.to},y.to,d("div",{"class":"date-selector__pick-wrapper"},d(E.a,{key:"to-picker-"+this.state.uid,onDateChange:this.handleToDateChange,value:this.state.customEnd,constraints:a})))))},e.prototype.handleFromDateChange=function(d){this.state.customEnd?
(this.setState({customStart:d,customRange:{start:d.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(q.a)("custom",this.state.customRange))):this.setState({customStart:d})},e.prototype.handleToDateChange=function(d){this.state.customStart?(this.setState({customEnd:d,customRange:{start:this.state.customStart.getTime(),end:d.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(q.a)("custom",this.state.customRange))):this.setState({customEnd:d})},
e.prototype.handleOptionClick=function(d){this.props.selectedOption===d?this.props.onDateRangeSelect():this.props.onDateRangeSelect(d,Object(q.a)(d,this.state.customRange))},e}(l.Component);f["default"]=g}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=
r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,
k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=834)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e=
{},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);
else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");
for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=
b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=
m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,
e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},524:function(r,x){r.exports=M},834:function(r,x,t){t.r(x);var l=t(0);r=t(16);var f=t(524),g=t.n(f);t=function(k){function y(u){u=k.call(this,u)||this;return u.processDijit=u.processDijit.bind(u),u.createDijit=u.createDijit.bind(u),u.handleDateChange=u.handleDateChange.bind(u),u}return Object(l.d)(y,
k),y.prototype.render=function(u){return u("div",{key:this.props.key,id:this.props.key,"class":"margin-right-1",afterCreate:this.processDijit})},y.prototype.componentWillReceiveProps=function(u){u.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(l.a)({},u.constraints))},y.prototype.processDijit=function(u){this.state.dijit&&this.state.dijit.destroy();u=this.createDijit(u);u.on("change",this.handleDateChange);this.setState({dijit:u})},
y.prototype.createDijit=function(u){return new g.a({value:this.props.value,constraints:Object(l.a)({},this.props.constraints)},u)},y.prototype.handleDateChange=function(u){this.props.onDateChange(u)},y}(r.Component);x["default"]=t}})})},"arcgis-components/Badges/Retired":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,
f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,
k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=824)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},824:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){var y=g.isRetiredStoryMap?l.tooltips.retiredStoryMap:l.tooltips.retiredApp;return k(f.a,{backgroundColor:"#efe397",
textColor:"#786d1c",key:"retired-badge",size:g.size,text:l.retired,title:y,tooltip:g.tooltip?y:void 0,tooltipDirection:g.tooltipDirection},k("path",{fill:"#786d1c",d:"M14.78 14.645L8.255 1.52a.938.938 0 0 0-.84-.52.938.938 0 0 0-.84.522L.092 14.647A.938.938 0 0 0 .932 16h13.009a.937.937 0 0 0 .838-1.355zm-.724.49a.137.137 0 0 1-.115.065H.933a.137.137 0 0 1-.116-.063.139.139 0 0 1-.008-.135L7.293 1.876a.14.14 0 0 1 .123-.076.138.138 0 0 1 .125.077l6.521 13.124a.138.138 0 0 1-.006.135zM7.495 11.5a.988.988 0 0 1 1 .976v.048a1 1 0 0 1-2 0v-.048a.988.988 0 0 1 1-.976zM7.018 6h.977v4h-.977z"}))}}})})},
"arcgis-components/Badges/Badge":function(){define(function(){return function(U){function M(x){if(r[x])return r[x].exports;var t=r[x]={i:x,l:!1,exports:{}};return U[x].call(t.exports,t,t.exports,M),t.l=!0,t.exports}var r={};return M.m=U,M.c=r,M.d=function(x,t,l){M.o(x,t)||Object.defineProperty(x,t,{enumerable:!0,get:l})},M.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},M.t=
function(x,t){if((1&t&&(x=M(x)),8&t)||4&t&&"object"==typeof x&&x&&x.__esModule)return x;var l=Object.create(null);if(M.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:x}),2&t&&"string"!=typeof x)for(var f in x)M.d(l,f,function(g){return x[g]}.bind(null,f));return l},M.n=function(x){var t=x&&x.__esModule?function(){return x["default"]}:function(){return x};return M.d(t,"a",t),t},M.o=function(x,t){return Object.prototype.hasOwnProperty.call(x,t)},M.p="",M(M.s=813)}({813:function(U,M,r){r.r(M);
M["default"]=function(x,t){var l=x.key,f=x.size,g=x.text,k=x.title,y=x.tooltip,u=x.tooltipDirection,E=x.backgroundColor,z=x.textColor,q=x.children;u={"qual-badge__container":!0,"qual-badge__container--small":"small"===f,"qual-badge__container--tooltip":y,"qual-badge__container--tooltip-left":"left"===u,"qual-badge__container--tooltip-top":"top"===u,"qual-badge__container--tooltip-right":"right"===u,"tooltip-bottom":!u||"bottom"===u,"tooltip-left":"left"===u,"tooltip-top":"top"===u,"tooltip-right":"right"===
u};return"small"===f?t("span",{key:l+"-small",classes:u,"class":"qual-badge__container--small","aria-label":y,style:"background-color: "+E+"; color: "+z+";",title:y?void 0:k},q):t("span",{key:l+"-regular",classes:u,"class":"qual-badge__container--regular","aria-label":y,style:"background-color: "+E+"; color: "+z+";",title:k},t("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 16 16"},q),t("span",{"class":"qual-badge__text"},g))}}})})},"arcgis-components/Filters/MapAreaFilter":function(){define(["../Buttons/ToggleSwitch"],
function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=852)}({528:function(M,r){M.exports=U},852:function(M,r,x){x.r(r);M=x(528);var t=
x.n(M);r["default"]=function(l,f){return f(t.a,{key:"map-area-filter",label:l.text,handleToggleClick:l.handleMapAreaToggle,handleKeyUp:l.handleMapAreaKeyUp,value:l.searchMapArea})}}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,
l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=832)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,
e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?
d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=
1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,
"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<
e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=U},832:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.render=function(g){var k=this.props,y=k.handleToggleClick,u=k.handleKeyUp,E=k.value,z=k.id;return g("label",{"class":"btn-toggle-switch__toggle",key:z||"toggle-switch"},g("span",
{"class":"btn-toggle-switch__label"},k.label),g("input",{id:z+"-input",type:"checkbox","class":"btn-toggle-switch__input",onchange:y,onkeyup:u,checked:E}),g("span",{id:z+"-switch","class":"btn-toggle-switch__switch"}))},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/Filters/ItemTypeFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/ItemTypeFilter/nls/resources"],function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;
var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),
Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=846)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+
" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?
b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,
p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=
p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),
"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},165:function(t,l){t.exports=r},18:function(t,l){t.exports=U},180:function(t,l,f){function g(b,c){return q("children","value",b,c)}function k(b,
c){return m("children","value",b,c)}function y(b,c){return function A(n,p,w,B){var D,F=w[n];return F&&0!==F.length?Object(a.a)(Object(a.a)({},w),((D={})[n]=F.reduce(function(v,C){return-1!==B.indexOf(C[p])&&v.push(A(n,p,C,B)),v},[]),D)):Object(a.a)({},w)}("children","value",b,c)}function u(b){return function(c,h){var n,p=h[c];return p?Object(a.a)(Object(a.a)({},h),((n={})[c]=function A(B){return 0===B.length?[]:1!==B.length||B[0][c]?1<B.length?B.reduce(function(D,F){var v;return F[c]?(D.push(Object(a.a)(Object(a.a)({},
F),((v={})[c]=A(F[c]),v))),D):(D.push(F),D)},[]):A(B[0][c]):B}(p),n)):h}("children",b)}function E(b,c){return e("children",b,c)}function z(b,c){return function B(n,p,w){var A=p[n];A&&A.forEach(function(D){return B(n,D,w)});w(p)}("children",b,c)}function q(b,c,h,n){var p=h[b];return h[c]===n?h:p?p.reduce(function(w,B){return w||q(b,c,B,n)},void 0):void 0}function m(b,c,h,n){if(h=h[b])return h.reduce(function(p,w){return w[c]===n[0]?1===n.length?w:m(b,c,w,n.slice(1)):p},void 0)}function e(b,c,h){var n;
return h(Object(a.a)(Object(a.a)({},c),((n={})[b]=c[b]?c[b].map(function(p){return e(b,p,h)}):void 0,n)))}function d(b,c,h){return e(b,h,function(n){var p=n[c];if(delete n[c],n[b]){var w=n[b];return delete n[b],Object(a.a)(Object(a.a)({},n),{value:p,children:w})}return Object(a.a)(Object(a.a)({},n),{value:p})})}f.d(l,"f",function(){return g});f.d(l,"d",function(){return k});f.d(l,"i",function(){return y});f.d(l,"e",function(){return u});f.d(l,"h",function(){return E});f.d(l,"g",function(){return z});
f.d(l,"a",function(){return q});f.d(l,"b",function(){return m});f.d(l,"c",function(){return d});var a=f(0)},397:function(t,l){t.exports=x},447:function(t,l,f){t=f(397);l.a=[{value:"maps",displayName:"Maps",children:[{value:"webMaps",displayName:"Web maps"},{value:"mapFiles",displayName:"Map files"}]},{value:"layers",displayName:"Layers",children:[{value:"featureLayers",displayName:"Feature layers"},{value:"tileLayers",displayName:"Tile layers"},{value:"mapImageLayers",displayName:"Map image layers"},
{value:"imageryLayers",displayName:"Imagery layers"},{value:"tiledImageLayers",displayName:"Tiled imagery layers"},{value:"elevationLayers",displayName:"Elevation layers"},{value:"sceneLayers",displayName:"Scene layers"},{value:"tables",displayName:"Tables"},{value:"layerFiles",displayName:"Layer files"},{value:"bigDataFileShares",displayName:"Big data file shares"}]},{value:"scenes",displayName:"Scenes"},{value:"apps",displayName:"Apps",children:[{value:"webApps",displayName:"Web apps"},{value:"experienceApps",
displayName:"Experience Builder"},{value:"instantApps",displayName:"Instant Apps"},{value:"sites",displayName:"Sites"},{value:"pages",displayName:"Pages"},{value:"storyMaps",displayName:"StoryMaps"},{value:"mobileApps",displayName:"Mobile apps"},{value:"desktopApps",displayName:"Desktop apps"}]},{value:"tools",displayName:"Tools",children:[{value:"locators",displayName:"Locators"},{value:"geodatabaseAccess",displayName:"Geodatabase access"},{value:"geometricOperations",displayName:"Geometric operations"},
{value:"geoprocessingTasks",displayName:"Geoprocessing tasks"},{value:"networkAnalysis",displayName:"Network analysis"},{value:"webTools",displayName:t.filters.webTools},{value:"rasterFunctionTemplates",displayName:"Raster function templates"},{value:"deepLearningPackages",displayName:"Deep learning packages"},{value:"analytics",displayName:"Analytics"}]},{value:"files",displayName:"Files",children:[{value:"documents",displayName:"Documents"},{value:"images",displayName:"Images"},{value:"pdfs",displayName:"PDFs"},
{value:"csvs",displayName:"CSVs"},{value:"reports",displayName:"Administrative reports"},{value:"rasterFunctionTemplates",displayName:"Raster function templates"}]},{value:"notebooks",displayName:"Notebooks"},{value:"knowledgeGraphs",displayName:"Knowledge graphs"}]},846:function(t,l,f){f.r(l);var g=f(0),k=f(397);t=f(18);var y=f(131),u=f.n(y);y=f(165);var E=f.n(y),z=f(447),q=f(180);f=function(m){function e(d){var a=m.call(this,d)||this;return a.state={availableFilters:Object(q.e)(Object(q.i)({value:"##itemTypeOptionsRoot",
children:z.a},d.availableItemTypes)).children},a.mapItemTypesToToggles=a.mapItemTypesToToggles.bind(a),a.handleToggleClick=a.handleToggleClick.bind(a),a.handleClearFilter=a.handleClearFilter.bind(a),a}return Object(g.d)(e,m),e.prototype.render=function(d){return d(u.a,{key:"item-type-accordion",title:k.itemType,clearable:!!this.props.itemTypeFilter,onClear:this.handleClearFilter},d("ul",{"aria-label":k.itemType,"class":"ftr-item-type__tree",role:"tree"},this.mapItemTypesToToggles(d)))},e.prototype.mapItemTypesToToggles=
function(d){var a=this;return Object(q.e)(Object(q.i)({value:"##itemTypeOptionsRoot",children:z.a},this.props.availableItemTypes)).children.map(function(b){return d(E.a,{key:b.value,name:b.displayName,value:b.value,selectedToggle:a.props.itemTypeFilter?a.props.itemTypeFilter.value:void 0,childOptions:b.children,onToggleClick:a.handleToggleClick})})},e.prototype.handleToggleClick=function(d,a){var b=this.props.itemTypeFilter;b&&b.value===d?this.props.onItemTypeSelect():this.props.onItemTypeSelect({value:d,
text:a})},e.prototype.handleClearFilter=function(){this.props.onItemTypeSelect()},e}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/ModifiedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/ModifiedFilter/nls/resources"],function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),
k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=
typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=847)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):
(a.prototype=d.prototype,new a)}function k(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=
h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},18:function(t,l){t.exports=U},370:function(t,l){t.exports=r},448:function(t,l){t.exports=x},847:function(t,l,f){f.r(l);var g=f(0),k=f(448);t=f(18);var y=f(131),u=f.n(y);y=f(370);var E=f.n(y);f=function(z){function q(m){m=z.call(this,m)||this;return m.handleDateRangeSelect=m.handleDateRangeSelect.bind(m),
m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,z),q.prototype.render=function(m){return m(u.a,{key:"modified-filter-accordion",title:k.dateModified,clearable:!!this.props.dateModifiedFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":k.dateModified,"class":"ftr-modified__tree",role:"tree"},m(E.a,{key:"date-range-selector",selectedOption:this.props.dateModifiedSection,range:this.props.dateModifiedFilter,onDateRangeSelect:this.handleDateRangeSelect})))},q.prototype.handleDateRangeSelect=
function(m,e){this.props.onDateModifiedSelect(m,e)},q.prototype.handleClearFilter=function(){this.props.onDateModifiedSelect()},q}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/SharedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/SharedFilter/nls/resources"],function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,
k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),
2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=848)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=
null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}
function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-
1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==
typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},165:function(t,l){t.exports=r},18:function(t,l){t.exports=U},340:function(t,l){t.exports=x},848:function(t,l,f){f.r(l);var g=f(0),k=f(340);t=f(18);var y=f(131),u=f.n(y);y=f(165);var E=f.n(y);f=function(z){function q(m){m=
z.call(this,m)||this;return m.state={options:[{value:"public",displayName:k.options["public"]},{value:"org",displayName:k.options.org},{value:"shared",displayName:k.options.shared},{value:"private",displayName:k.options["private"]}]},m.mapOptionsToToggles=m.mapOptionsToToggles.bind(m),m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,z),q.prototype.render=function(m){return m(u.a,{key:"shared-accordion",title:k.shared,clearable:!!this.props.sharedFilter,
onClear:this.handleClearFilter},m("ul",{"class":"ftr-shared__tree",role:"tree","aria-label":k.shared},this.mapOptionsToToggles(m)))},q.prototype.mapOptionsToToggles=function(m){var e=this,d=this.state.options;return this.props.hideOrgGroupFilters&&(d=[this.state.options[0],this.state.options[3]]),d.map(function(a){return m(E.a,{count:e.props.counts[a.value],key:a.value,name:a.displayName,value:a.value,selectedToggle:e.props.sharedFilter?e.props.sharedFilter.value:void 0,childOptions:a.childOptions,
onToggleClick:e.handleToggleClick})})},q.prototype.handleToggleClick=function(m,e){var d=this.props.sharedFilter;d&&d.value===m?this.props.onSharedSelect():this.props.onSharedSelect({value:m,text:e})},q.prototype.handleClearFilter=function(){this.props.onSharedSelect()},q}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/StatusFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/StatusFilter/nls/resources"],
function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&
"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=849)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=
e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&
(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}
function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};
case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,
sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,
d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},165:function(t,l){t.exports=r},18:function(t,
l){t.exports=U},407:function(t,l){t.exports=x},849:function(t,l,f){f.r(l);var g=f(0),k=f(407);t=f(18);var y=f(131),u=f.n(y);y=f(165);var E=f.n(y);f=function(z){function q(m){m=z.call(this,m)||this;return m.state={options:[{value:"authoritative",displayName:k.options.authoritative},{value:"deprecated",displayName:k.options.deprecated}]},m.mapOptionsToToggles=m.mapOptionsToToggles.bind(m),m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,
z),q.prototype.render=function(m){return m(u.a,{key:"status-accordion",title:k.status,clearable:!!this.props.statusFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":k.status,"class":"ftr-status__tree",role:"tree"},this.mapOptionsToToggles(m)))},q.prototype.mapOptionsToToggles=function(m){var e=this;return this.state.options.map(function(d){return m(E.a,{key:d.value,name:d.displayName,value:d.value,selectedToggle:e.props.statusFilter?e.props.statusFilter.value:void 0,childOptions:d.childOptions,
onToggleClick:e.handleToggleClick})})},q.prototype.handleToggleClick=function(m,e){var d=this.props.statusFilter;d&&d.value===m?this.props.onStatusSelect():this.props.onStatusSelect({value:m,text:e})},q.prototype.handleClearFilter=function(){this.props.onStatusSelect()},q}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/FolderFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/FolderFilter/nls/resources"],function(U,M,
r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return x[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=844)}({0:function(x,t,l){function f(m,e){function d(){this.constructor=m}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(d[a[b]]=m[a[b]])}return d}
function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}function n(w){try{p(a["throw"](w))}catch(B){c(B)}}function p(w){var B;
w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return n.label++,{value:B[1],done:!1};case 5:n.label++;
b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(x,t){x.exports=M},18:function(x,t){x.exports=U},339:function(x,t,l){l.d(t,"a",
function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},358:function(x,t){x.exports=r},844:function(x,t,l){l.r(t);var f=l(0),g=l(358);x=l(18);var k=l(131),y=l.n(k),u=l(339);l=function(E){function z(q){q=E.call(this,q)||this;return q.handleToggleKeyDown=Object(u.a)(q.handleToggleFilter.bind(q)),q.handleClearKeyDown=Object(u.a)(q.handleClearFilter.bind(q)),q.state={filterString:""},q.handleFilterStringChange=q.handleFilterStringChange.bind(q),q.handleToggleFilter=q.handleToggleFilter.bind(q),
q.handleClearFilter=q.handleClearFilter.bind(q),q.mapFoldersToLinks=q.mapFoldersToLinks.bind(q),q}return Object(f.d)(z,E),z.prototype.render=function(q){return q(y.a,{key:"folder-accordion",title:g.folders,clearable:!!this.props.folderFilter,onClear:this.handleClearFilter,padding:!1},q("div",{"class":"ftr-folder__input-area"},q("input",{"class":"ftr-folder__input",type:"search",placeholder:g.filterFolders,"aria-label":g.filterFolders,oninput:this.handleFilterStringChange,value:this.state.filterString})),
q("ul",{"class":"ftr-folder__list"},this.mapFoldersToLinks(q)))},z.prototype.handleFilterStringChange=function(q){this.setState({filterString:q.target.value})},z.prototype.handleToggleFilter=function(q){var m=q.target.dataset;q=m.id;m=m.title;this.props.folderFilter&&this.props.folderFilter.id===q||this.props.onFolderSelect({id:q,title:m})},z.prototype.handleClearFilter=function(){this.props.folderFilter&&this.props.onFolderSelect()},z.prototype.preventCloseDropdown=function(q){q.stopPropagation()},
z.prototype.mapFoldersToLinks=function(q){var m=this,e={"ftr-folder__link":!0,"ftr-folder__link--active":!this.props.folderFilter};return this.props.availableFolders?[q("li",{"class":"ftr-folder__item",key:"all-user-content"},q("a",{classes:e,"data-id":"all-folder-content","data-title":g.allFolders,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},this.props.folderFilter?q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})):
q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})),g.allFolders))].concat(this.props.availableFolders.filter(function(d){return-1!==d.title.toLowerCase().indexOf(m.state.filterString.toLowerCase())}).map(function(d){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-folder__link--active":m.props.folderFilter&&
m.props.folderFilter.id===d.id,"ftr-folder__link--home":"root"===d.id});return a="root"===d.id?q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z"})):m.props.folderFilter&&m.props.folderFilter.id===d.id?q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})):
q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})),q("li",{"class":"ftr-folder__item",key:d.id},q("a",{classes:b,"data-id":d.id,"data-title":d.title,onclick:m.handleToggleFilter,onkeydown:m.handleToggleKeyDown,tabindex:"0"},a,q("span",{"class":"ftr-folder__title"},d.title)))})):null},z}(x.Component);t["default"]=l}})})},"arcgis-components/Filters/GroupFilter/index":function(){define(["../../Component",
"../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/GroupFilter/nls/resources"],function(U,M,r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return x[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,
"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=
845)}({0:function(x,t,l){function f(m,e){function d(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>
e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(d[a[b]]=m[a[b]])}return d}function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}
function n(w){try{p(a["throw"](w))}catch(B){c(B)}}function p(w){var B;w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=
B;break;case 4:return n.label++,{value:B[1],done:!1};case 5:n.label++;b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});
l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(x,t){x.exports=
M},18:function(x,t){x.exports=U},339:function(x,t,l){l.d(t,"a",function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},359:function(x,t){x.exports=r},845:function(x,t,l){l.r(t);var f=l(0),g=l(359);x=l(18);var k=l(131),y=l.n(k),u=l(339);l=function(E){function z(q){q=E.call(this,q)||this;return q.handleToggleKeyDown=Object(u.a)(q.handleToggleFilter.bind(q)),q.handleClearKeyDown=Object(u.a)(q.handleClearFilter.bind(q)),q.state={filterString:""},q.handleToggleFilter=q.handleToggleFilter.bind(q),
q.handleClearFilter=q.handleClearFilter.bind(q),q.mapGroupsToLinks=q.mapGroupsToLinks.bind(q),q}return Object(f.d)(z,E),z.prototype.render=function(q){var m=this;return q(y.a,{key:"group-accordion",title:this.props.title||g.groups,clearable:!!this.props.groupFilter,onClear:this.handleClearFilter,padding:!1},q("div",{"class":"ftr-group__input-area"},q("input",{"class":"ftr-group__input",type:"search",placeholder:g.filterGroups,"aria-label":g.filterGroups,oninput:function(e){m.setState({filterString:e.target.value})},
value:this.state.filterString})),q("ul",{"class":"ftr-group__list"},this.mapGroupsToLinks(q)))},z.prototype.handleToggleFilter=function(q){var m=q.id;q=q.title;this.props.groupFilter&&this.props.groupFilter.id===m||this.props.onGroupSelect({id:m,title:q})},z.prototype.handleClearFilter=function(){this.props.groupFilter&&this.props.onGroupSelect()},z.prototype.preventCloseDropdown=function(q){q.stopPropagation()},z.prototype.mapGroupsToLinks=function(q){var m=this;if(!this.props.availableGroups)return null;
var e={"ftr-group__link":!0,"ftr-group__link--active":!this.props.groupFilter};return[q("li",{"class":"ftr-group__item",key:"all-user-groups"},q("a",{classes:e,"data-id":"all-group-content","data-title":g.allGroups,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},q("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
q("span",{"class":"ftr-group__link__text"},g.allGroups)))].concat(this.props.availableGroups.filter(function(d){return-1!==d.title.toLowerCase().indexOf(m.state.filterString.toLowerCase())}).map(function(d){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-group__link--active":(null===(a=m.props.groupFilter)||void 0===a?void 0:a.id)===d.id});return q("li",{"class":"ftr-group__item",key:d.id},q("a",{classes:b,onclick:function(){m.handleToggleFilter(d)},onkeydown:m.handleToggleKeyDown,tabindex:"0"},q("svg",
{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},q("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
q("span",{"class":"ftr-group__link__text"},d.title)))}))},z}(x.Component);t["default"]=l}})})},"arcgis-components/Filters/TagsFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/TagsFilter/nls/resources","../../Buttons/CheckToggle"],function(U,M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=
function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,
u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=850)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);
else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=
h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},18:function(t,l){t.exports=U},360:function(t,l){t.exports=r},371:function(t,l){t.exports=x},850:function(t,l,f){f.r(l);var g=f(0),k=f(360);t=f(18);var y=f(131),u=f.n(y);y=f(371);var E=f.n(y);f=function(z){function q(m){m=z.call(this,m)||this;return m.handleFilterStringChange=m.handleFilterStringChange.bind(m),
m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,z),q.prototype.render=function(m){return m(u.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.tags,clearable:!!this.props.tagsFilter,onClear:this.handleClearFilter,padding:!1},m("div",{"class":"ftr-tags__input-area"},m("input",{"class":"ftr-tags__input",type:"search",placeholder:k.filterTags,"aria-label":k.filterTags,oninput:this.handleFilterStringChange,
value:this.props.filterString})),m("ul",{"class":"ftr-tags__tree",role:"tree","aria-label":k.tags},0<this.props.availableTags.length?this.mapTagsToToggles(m):m("p",{"class":"ftr-tags__none"},k.noTags)))},q.prototype.mapTagsToToggles=function(m){var e=this;return this.props.availableTags.map(function(d){return m(E.a,{key:d.value,name:d.value,value:d.value,selectedToggles:e.props.tagsFilter?e.props.tagsFilter:void 0,onToggleClick:e.handleToggleClick})})},q.prototype.handleToggleClick=function(m,e){var d,
a=this.props.tagsFilter;if(a&&a[m]){var b=Object(g.a)({},a);delete b[m];0<Object.keys(b).length?this.props.onTagSelect(b):this.props.onTagSelect()}else a?this.props.onTagSelect(Object(g.a)(Object(g.a)({},a),((b={})[m]=!0,b))):this.props.onTagSelect(((d={})[m]=!0,d))},q.prototype.handleFilterStringChange=function(m){m.preventDefault();this.props.onFilterStringChange(m.target.value)},q.prototype.handleClearFilter=function(){this.props.tagsFilter&&this.props.onTagSelect()},q}(t.Component);l["default"]=
f}})})},"arcgis-components/Buttons/CheckToggle":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=
827)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>
q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}
function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=
p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?
p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});
x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=
U},827:function(M,r,x){function t(g,k,y,u,E){return y?y.map(function(z){return g(f,{key:z.value,name:z.displayName,value:k+"/"+z.value,selectedToggles:E,childOptions:z.children,onToggleClick:u})}):null}x.r(r);var l=x(0),f=function(g){function k(y){y=g.call(this,y)||this;return y.handleToggleClick=y.handleToggleClick.bind(y),y}return Object(l.d)(k,g),k.prototype.render=function(y){var u=this.props,E=u.name,z=u.value,q=u.selectedToggles,m=u.childOptions,e=u.onToggleClick;u=u.showChildren;var d=!(!q||
!q[z]),a={"btn-check-toggle__item":!0,"btn-check-toggle__item--active":d},b={"btn-check-toggle__button":!0,"btn-check-toggle__button--active":d},c=null;return m&&(c=y("ul",{"class":"btn-check-toggle__sub-list"},t(y,z,m,e,q))),y("li",{key:z,classes:a},y("button",{id:"toggle-"+z,key:z,classes:b,value:z,onmousedown:this.preventDefault,onclick:this.handleToggleClick,tabindex:"0"},y("span",{"class":"btn-check-toggle__text",key:"text"},E),this.props.count?y("span",{"class":"btn-check-toggle__count",key:"count"},
"\u00a0","("+this.props.count+")"):null),u||d?c:null)},k.prototype.preventDefault=function(y){y.preventDefault()},k.prototype.handleToggleClick=function(y){y.preventDefault();this.props.onToggleClick(this.props.value,this.props.name)},k}(x(16).Component);r["default"]=f}})})},"arcgis-components/Filters/CollaborationFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/CheckToggle","dojo/i18n!../../Filters/CollaborationFilter/nls/resources"],function(U,
M,r,x){return function(t){function l(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return t[g].call(k.exports,k,k.exports,l),k.l=!0,k.exports}var f={};return l.m=t,l.c=f,l.d=function(g,k,y){l.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:y})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,k){if((1&k&&(g=l(g)),8&k)||4&k&&"object"==typeof g&&
g&&g.__esModule)return g;var y=Object.create(null);if(l.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var u in g)l.d(y,u,function(E){return g[E]}.bind(null,u));return y},l.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(k,"a",k),k},l.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},l.p="",l(l.s=851)}({0:function(t,l,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function k(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}
function y(e,d,a,b){var c,h=arguments.length,n=3>h?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,d,a,b);else for(var p=e.length-1;0<=p;p--)(c=e[p])&&(n=(3>h?c(n):3<h?c(d,a,n):c(d,a))||n);return 3<h&&n&&Object.defineProperty(d,a,n),n}function u(e,d,a,b){return new (a||(a=Promise))(function(c,h){function n(B){try{w(b.next(B))}catch(A){h(A)}}function p(B){try{w(b["throw"](B))}catch(A){h(A)}}function w(B){var A;
B.done?c(B.value):(A=B.value,A instanceof a?A:new a(function(D){D(A)})).then(n,p)}w((b=b.apply(e,d||[])).next())})}function E(e,d){function a(w){return function(B){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;p;)try{if(b=1,c&&(h=2&A[0]?c["return"]:A[0]?c["throw"]||((h=c["return"])&&h.call(c),0):c.next)&&!(h=h.call(c,A[1])).done)return h;switch(c=0,h&&(A=[2&A[0],h.value]),A[0]){case 0:case 1:h=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++;
c=A[1];A=[0];continue;case 7:A=p.ops.pop();p.trys.pop();continue;default:if(!(h=p.trys,(h=0<h.length&&h[h.length-1])||6!==A[0]&&2!==A[0])){p=0;continue}if(3===A[0]&&(!h||A[1]>h[0]&&A[1]<h[3]))p.label=A[1];else if(6===A[0]&&p.label<h[1])p.label=h[1],h=A;else if(h&&p.label<h[2])p.label=h[2],p.ops.push(A);else{h[2]&&p.ops.pop();p.trys.pop();continue}}A=d.call(e,p)}catch(D){A=[6,D],c=0}finally{b=h=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,B])}}var b,c,h,n,p={label:0,sent:function(){if(1&
h[0])throw h[1];return h[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return k});f.d(l,"c",function(){return y});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var q=function(e,d){return(q=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},m=function(){return(m=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=M},18:function(t,l){t.exports=U},371:function(t,l){t.exports=
r},427:function(t,l){t.exports=x},851:function(t,l,f){f.r(l);var g=f(0),k=f(427);t=f(18);var y=f(131),u=f.n(y);y=f(371);var E=f.n(y);f=function(z){function q(m){m=z.call(this,m)||this;return m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(q,z),q.prototype.render=function(m){return m(u.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.collaboration,clearable:this.getSelected(),onClear:this.handleClearFilter},
m("ul",{"class":"ftr-collaborations__tree",role:"tree","aria-label":k.collaborations},0<Object.keys(this.props.collaborationsFilter).length?this.mapCollaborationsToToggles(m):m("p",{"class":"ftr-collaborations__none"},k.noCollaborations)))},q.prototype.getSelected=function(){var m=this.props.collaborationsFilter;return Object.keys(this.props.collaborationsFilter).some(function(e){var d;return!!m[e].selected||(null===(d=m[e].participants)||void 0===d?void 0:d.some(function(a){return!!a.selected}))})},
q.prototype.mapCollaborationsToToggles=function(m){var e=this;this.props.collaborationsFilter.sort(function(b,c){return b.label<c.label?-1:b.label>c.label?1:0});var d=this.props.collaborationsFilter,a=Object.keys(this.props.collaborationsFilter).map(function(b){var c,h=((c={})[b]=d[b].selected,c);c=d[b].participants?d[b].participants.map(function(n){var p;return h=Object(g.a)(Object(g.a)({},h),((p={})[b+"/"+n.value]=n.selected,p)),{value:n.value,displayName:n.label,onToggleClick:e.handleToggleClick,
selectedToggles:h}}):[];return m(E.a,{key:d[b].value,name:d[b].label,value:d[b].value,childOptions:c,selectedToggles:h,onToggleClick:e.handleToggleClick,showChildren:!0})});return a.sort(function(b,c){if(b.children[0].children[0].text&&c.children[0].children[0].text){var h=b.children[0].children[0].text.toLowerCase(),n=c.children[0].children[0].text.toLowerCase();if(h<n)return-1;if(h>n)return 1}return 0}),a},q.prototype.handleToggleClick=function(m,e){var d=this.props.collaborationsFilter;if(d){if(d[m])d[m].selected||
Object.keys(d).forEach(function(b){return d[b].selected=!1}),Object.keys(d).forEach(function(b){d[b].participants.forEach(function(c){c.selected=!1})}),d[m].selected=!d[m].selected;else{var a=m.split("/")[1];Object.keys(d).forEach(function(b){d[b].selected=!1;d[b].participants.forEach(function(c){c.value===a?c.selected=!c.selected:c.selected=!1})})}this.props.onCollaborationSelect(d)}},q.prototype.handleFilterStringChange=function(m){},q.prototype.handleClearFilter=function(){if(this.props.collaborationsFilter){var m=
this.props.collaborationsFilter;Object.keys(m).forEach(function(e){m[e].selected=!1;m[e].participants.forEach(function(d){return d.selected=!1})});this.props.onCollaborationSelect(m)}},q}(t.Component);l["default"]=f}})})},"arcgis-components/Dropdowns/FilterController/index":function(){define(["../../Component","../../Buttons/FilterChip/index","dojo/i18n!../../Dropdowns/FilterController/nls/resources"],function(U,M,r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,
exports:{}};return x[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,
"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=838)}({0:function(x,t,l){function f(m,e){function d(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");
z(m,e);m.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(d[a[b]]=m[a[b]])}return d}function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,
d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}function n(w){try{p(a["throw"](w))}catch(B){c(B)}}function p(w){var B;w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,
e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return n.label++,{value:B[1],done:!1};case 5:n.label++;b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&
c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},
"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,
a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},18:function(x,t){x.exports=U},426:function(x,t){x.exports=M},443:function(x,t){x.exports=r},838:function(x,t,l){function f(E){E.preventDefault()}l.r(t);var g=l(0),k=l(443);x=l(18);var y=
l(426),u=l.n(y);l=function(E){function z(q){q=E.call(this,q)||this;return q.toggleFilterDisplay=q.toggleFilterDisplay.bind(q),q.state={open:!!q.props.startOpen},q}return Object(g.d)(z,E),z.prototype.render=function(q){var m,e=Object(g.g)([],this.props.filters),d={"filter-controller__expand-btn":!0,"filter-controller__expand-btn--active":this.state.open,"filter-controller__expand-btn--dark":"light"===this.props.theme},a={"filter-controller__container":!0,"filter-controller__container--light":"light"===
this.props.theme},b={"filter-controller__chip-container":!0,"margin-right-half":!0,"filter-controller__chip-container--full-width":"full-width"===this.props.mode},c="light"===this.props.theme?"dark":"light";1<this.props.filters.length&&(m=q("button",{key:"filter-controller-toggle-btn",classes:d,onclick:this.toggleFilterDisplay,onmousedown:f},(this.state.open?"-":"+")+" "+(this.props.filters.length-1)));if(d=e.shift())return this.state.open?q("div",{classes:a},q("span",{"class":"filter-controller__label margin-right-half"},
this.props.showLabel),q("div",{classes:b},q(u.a,{filterId:d.filterId,handleRemoveFilter:d.onRemove,key:d.filterId,text:d.text,theme:c,"static":d["static"]}),e.map(function(h){return q(u.a,{filterId:h.filterId,handleRemoveFilter:h.onRemove,key:h.filterId,text:h.text,theme:c,"static":h["static"]})}),m,this.clearableFilters(Object(g.g)([d],e))?q("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null)):q("div",{classes:a},q("span",{"class":"filter-controller__label"},
this.props.showLabel),q("div",{classes:b},q(u.a,{filterId:d.filterId,handleRemoveFilter:d.onRemove,key:d.filterId,text:d.text,theme:c,"static":d["static"]}),m,this.clearableFilters(Object(g.g)([d],e))?q("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null))},z.prototype.toggleFilterDisplay=function(){this.setState({open:!this.state.open})},z.prototype.clearableFilters=function(q){return q.some(function(m){return!m["static"]})},z}(x.Component);t["default"]=
l}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=828)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<
d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}
function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=
w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?
w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});
t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},18:function(r,x){r.exports=
U},522:function(r,x){r.exports=M},828:function(r,x,t){t.r(x);var l=t(0),f=t(522);r=function(g){function k(){return null!==g&&g.apply(this,arguments)||this}return Object(l.d)(k,g),k.prototype.render=function(y){var u=this.props,E=u.filterId,z=u.handleRemoveFilter;u=u.text;return y("span",{id:"filter-chip-"+u,classes:{"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme},key:u},u,this.props["static"]?null:y("button",{"aria-label":f.clear+": "+u,value:E,id:"filter-chip-x-"+
u,"class":"btn-ftr-chip__remove",onclick:z},y("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
y("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},k}(t(18).Component);x["default"]=r}})})},"arcgis-components/Management/LazyLoader":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,
l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=871)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,
e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?
d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=
1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,
"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<
e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=U},871:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.componentDidConnect=function(){var g=this;try{var k=window.require.on("error",function(y){throw Error("Could not lazy-load the '"+g.props.path+"' component. The 'arcgis-components' submodule MUST be registered as 'arcgis-components' in dojoConfig packages in order for lazy component loading to function properly.");
});window.require(["arcgis-components/"+this.props.path],function(y){k.remove();g.setState({Cmp:y["default"]})})}catch(y){this.props.onFail&&this.props.onFail(y)}},f.prototype.render=function(g){return this.state.Cmp?g(this.state.Cmp,Object(t.a)({},this.props.componentProps)):this.props.children&&this.props.children[0]?this.props.children[0]:g("div")},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/ItemCards/AnalysisCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale dojo/number ../../Badges/Retired ../../Loaders/LoaderIcon ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d){return function(a){function b(h){if(c[h])return c[h].exports;var n=c[h]={i:h,l:!1,exports:{}};return a[h].call(n.exports,n,n.exports,b),n.l=!0,n.exports}var c={};return b.m=a,b.c=c,b.d=function(h,n,p){b.o(h,n)||Object.defineProperty(h,n,{enumerable:!0,get:p})},b.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},b.t=function(h,n){if((1&
n&&(h=b(h)),8&n)||4&n&&"object"==typeof h&&h&&h.__esModule)return h;var p=Object.create(null);if(b.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),2&n&&"string"!=typeof h)for(var w in h)b.d(p,w,function(B){return h[B]}.bind(null,w));return p},b.n=function(h){var n=h&&h.__esModule?function(){return h["default"]}:function(){return h};return b.d(n,"a",n),n},b.o=function(h,n){return Object.prototype.hasOwnProperty.call(h,n)},b.p="",b(b.s=862)}({0:function(a,b,c){function h(v,C){function G(){this.constructor=
v}if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");D(v,C);v.prototype=null===C?Object.create(C):(G.prototype=C.prototype,new G)}function n(v,C){var G={},H;for(H in v)Object.prototype.hasOwnProperty.call(v,H)&&0>C.indexOf(H)&&(G[H]=v[H]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(H=Object.getOwnPropertySymbols(v);K<H.length;K++)0>C.indexOf(H[K])&&Object.prototype.propertyIsEnumerable.call(v,H[K])&&
(G[H[K]]=v[H[K]])}return G}function p(v,C,G,H){var K,O=arguments.length,L=3>O?C:null===H?H=Object.getOwnPropertyDescriptor(C,G):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(v,C,G,H);else for(var J=v.length-1;0<=J;J--)(K=v[J])&&(L=(3>O?K(L):3<O?K(C,G,L):K(C,G))||L);return 3<O&&L&&Object.defineProperty(C,G,L),L}function w(v,C,G,H){return new (G||(G=Promise))(function(K,O){function L(X){try{R(H.next(X))}catch(aa){O(aa)}}function J(X){try{R(H["throw"](X))}catch(aa){O(aa)}}
function R(X){var aa;X.done?K(X.value):(aa=X.value,aa instanceof G?aa:new G(function(ea){ea(aa)})).then(L,J)}R((H=H.apply(v,C||[])).next())})}function B(v,C){function G(R){return function(X){return function(aa){if(H)throw new TypeError("Generator is already executing.");for(;J;)try{if(H=1,K&&(O=2&aa[0]?K["return"]:aa[0]?K["throw"]||((O=K["return"])&&O.call(K),0):K.next)&&!(O=O.call(K,aa[1])).done)return O;switch(K=0,O&&(aa=[2&aa[0],O.value]),aa[0]){case 0:case 1:O=aa;break;case 4:return J.label++,
{value:aa[1],done:!1};case 5:J.label++;K=aa[1];aa=[0];continue;case 7:aa=J.ops.pop();J.trys.pop();continue;default:if(!(O=J.trys,(O=0<O.length&&O[O.length-1])||6!==aa[0]&&2!==aa[0])){J=0;continue}if(3===aa[0]&&(!O||aa[1]>O[0]&&aa[1]<O[3]))J.label=aa[1];else if(6===aa[0]&&J.label<O[1])J.label=O[1],O=aa;else if(O&&J.label<O[2])J.label=O[2],J.ops.push(aa);else{O[2]&&J.ops.pop();J.trys.pop();continue}}aa=C.call(v,J)}catch(ea){aa=[6,ea],K=0}finally{H=O=0}if(5&aa[0])throw aa[1];return{value:aa[0]?aa[1]:
void 0,done:!0}}([R,X])}}var H,K,O,L,J={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return L={next:G(0),"throw":G(1),"return":G(2)},"function"==typeof Symbol&&(L[Symbol.iterator]=function(){return this}),L}function A(v,C){for(var G=0,H=C.length,K=v.length;G<H;G++,K++)v[K]=C[G];return v}c.d(b,"d",function(){return h});c.d(b,"a",function(){return F});c.d(b,"f",function(){return n});c.d(b,"c",function(){return p});c.d(b,"b",function(){return w});c.d(b,"e",function(){return B});
c.d(b,"g",function(){return A});var D=function(v,C){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&(G[K]=H[K])})(v,C)},F=function(){return(F=Object.assign||function(v){for(var C,G=1,H=arguments.length;G<H;G++)for(var K in C=arguments[G])Object.prototype.hasOwnProperty.call(C,K)&&(v[K]=C[K]);return v}).apply(this,arguments)};Object.create;Object.create},112:function(a,b){a.exports=
M},117:function(a,b,c){c.d(b,"a",function(){return n});var h=c(0);a=c(15);var n=Object(a.a)(function(p,w){var B=Object(h.a),A=Object(h.a)({},w),D=w.type,F=w.typeKeywords?w.typeKeywords:[],v=null==D?void 0:D.toLowerCase(),C=!1,G=!1,H=D=!1;if("ogcfeatureserver"===v)F="featureshosted";else if(0<(null==v?void 0:v.indexOf("service"))||"feature collection"===v||"kml"===v||"wms"===v||"wmts"===v||"wfs"===v){var K=-1<F.indexOf("Hosted Service");"feature service"===v||"feature collection"===v||"kml"===v||"wfs"===
v?(H=-1<F.indexOf("Table"),C=-1<F.indexOf("Route Layer"),G=-1<F.indexOf("Markup"),F=(D=-1!==F.indexOf("Spatiotemporal"))&&H?"spatiotemporaltable":H?"table":C?"routelayer":G?"markup":D?"spatiotemporal":K?"featureshosted":"features"):"map service"===v||"wms"===v||"wmts"===v?F=K||-1<F.indexOf("Tiled")||"wmts"===v?"maptiles":"mapimages":"scene service"===v?F=-1<F.indexOf("Line")?"sceneweblayerline":-1<F.indexOf("3DObject")?"sceneweblayermultipatch":-1<F.indexOf("Point")?"sceneweblayerpoint":-1<F.indexOf("IntegratedMesh")?
"sceneweblayermesh":-1<F.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<F.indexOf("Polygon")?"sceneweblayerpolygon":-1<F.indexOf("Building")?"sceneweblayerbuilding":-1<F.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===v?(D=-1<F.indexOf("Elevation 3D Layer"),F=-1<F.indexOf("Tiled Imagery"),F=D?"elevationlayer":F?"tiledimagerylayer":"imagery"):F="stream service"===v?"streamlayer":"vector tile service"===v?"vectortile":"datastore catalog service"===v?"datastorecollection":
"geocoding service"===v?"geocodeservice":"geoprocessing service"===v&&-1<F.indexOf("Web Tool")?"tool":"layers"}else F="web map"===v||"cityengine web scene"===v?"maps":"web scene"===v?-1<F.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===v&&-1<(null==F?void 0:F.indexOf("configurableApp"))?"instantapps":"web mapping application"===v||"mobile application"===v||"application"===v||"operation view"===v||"desktop application"===v?"apps":"map document"===v||"map package"===
v||"published map"===v||"scene document"===v||"globe document"===v||"basemap package"===v||"mobile basemap package"===v||"mobile map package"===v||"project package"===v||"project template"===v||"pro map"===v||"layout"===v||"layer"===v&&-1<F.indexOf("ArcGIS Pro")||"explorer map"===v&&-1<F.indexOf("Explorer Document")?"mapsgray":"service definition"===v||"csv"===v||"administrative report"===v||"shapefile"===v||"cad drawing"===v||"geojson"===v||"360 vr experience"===v||"netcdf"===v?"datafiles":"explorer add in"===
v||"desktop add in"===v||"windows viewer add in"===v||"windows viewer configuration"===v?"appsgray":"arcgis pro add in"===v||"arcgis pro configuration"===v?"addindesktop":"rule package"===v||"file geodatabase"===v||"csv collection"===v||"kml collection"===v||"windows mobile package"===v||"map template"===v||"desktop application template"===v||"arcpad package"===v||"code sample"===v||"form"===v||"document link"===v||"vector tile package"===v||"operations dashboard add in"===v||"rules package"===v||
"image"===v||"workflow manager package"===v||"explorer map"===v&&-1<F.indexOf("Explorer Mapping Application")||-1<F.indexOf("Document")?"datafilesgray":"network analysis service"===v||"geoprocessing service"===v||"geodata service"===v||"geometry service"===v||"geoprocessing package"===v||"locator package"===v||"geoprocessing sample"===v||"workflow manager service"===v||"raster function template"===v||"deep learning package"===v?"toolsgray":"layer"===v||"layer package"===v||"explorer layer"===v?"layersgray":
"scene package"===v?"scenepackage":"tile package"===v?"tilepackage":"storymap"===v?"storymap":"storymap theme"===v?"storymaptheme":"web experience"===v?"experiencebuilder":"web experience template"===v?"webexperiencetemplate":"task file"===v?"taskfile":"report template"===v?"report-template":"statistical data collection"===v?"statisticaldatacollection":"insights workbook"===v?"workbook":"insights model"===v?"insightsmodel":"insights page"===v?"insightspage":"hub initiative"===v?"hubinitiative":"hub page"===
v?"hubpage":"hub site application"===v?"hubsite":"relational database connection"===v?"relationaldatabaseconnection":"big data file share"===v||"data store"===v?"datastorecollection":"image collection"===v?"imagecollection":"desktop style"===v?"desktopstyle":"style"===v?"style":"dashboard"===v?"dashboard":"feed"===v?"feed":"real time analytic"===v?"realtimeanalytics":"big data analytic"===v?"bigdataanalytics":"notebook"===v?"notebook":"notebook code snippets"===v?"notebookcodesnippets":"maps";return B(A,
{iconURI:p+"/"+F+"16.png"})})},120:function(a,b,c){c.d(b,"a",function(){return n});var h=c(0);a=c(15);var n=Object(a.a)(function(p,w){var B=Object(h.a),A=Object(h.a)({},w),D,F,v="notebook"!==(null===(D=w.type)||void 0===D?void 0:D.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(F=w.type)||void 0===F?void 0:F.toLowerCase())&&(v="notebook-code-snippet-thumb.png");F=p.baseUrl+"/home/js/arcgisonline/css/images/"+v;D=(w.thumbnail&&(F=p.restUrl+"/content/items/"+
w.id+"/info/"+w.thumbnail+(p.credential?"?token\x3d"+p.credential.token:"")),F);return B(A,{thumbURI:D})})},121:function(a,b,c){c.d(b,"a",function(){return p});var h=c(0);a=c(15);var n=function(w,B){return B.description?B.description.replace(/src=('|")js\/jsapi\/esri\//g,function(A){return"src\x3d"+('"'===A[4]?'"':"'")+w.baseUrl+"/home/js/jsapi/esri/"}):void 0},p=Object(a.a)(function(w,B){return Object(h.a)(Object(h.a)({},B),{patchedDescription:n(w,B)})})},122:function(a,b,c){c.d(b,"a",function(){return w});
var h=c(0),n=c(124);a=c(15);var p=c(58),w=Object(a.a)(function(B,A){var D=Object(h.a),F=Object(h.a)({},A),v,C=A.type,G=A.typeKeywords||[],H=C,K=(null==B?void 0:B.portalUser)||(null==B?void 0:B.user);if("Feature Service"===C||"Feature Collection"===C){if(H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer",K&&Object(p.d)(A,K)&&-1<(null==G?void 0:G.indexOf("Hosted Service")))G=(null===(v=null===document||void 0===document?void 0:document.documentElement)||
void 0===v?void 0:v.lang)||"en",H=H+" ("+(n.a[G]||n.a[G.split("-")[0]]||n.a.en)+")"}else"Image Service"===C?(v=-1<G.indexOf("Elevation 3D Layer"),G=-1<G.indexOf("Tiled Imagery"),H=v?"Elevation Layer":G?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===C?H="Scene Layer":"Scene Package"===C?H="Scene Layer Package":"Stream Service"===C?H="Feature Layer":"Geocoding Service"===C?H="Locator":"Microsoft Powerpoint"===C?H="Microsoft PowerPoint":"OGCFeatureServer"===C?H="OGC Feature Layer":"GeoJson"===
C?H="GeoJSON":"Globe Service"===C?H="Globe Layer":"Vector Tile Service"===C?H="Tile Layer":"netCDF"===C?H="NetCDF":"Map Service"===C?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":C&&-1<C.toLowerCase().indexOf("add in")?H=C.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===C?H="Big Data File Share":"Web Mapping Application"===C&&(null==G?0:G.includes("configurableApp"))?H="Instant App":"Data Store"===C&&(G.includes("cloudStore_amazon")||
G.includes("cloudStore_azure")?H+=" (Cloud)":(G.includes("fileShare")||G.includes("hdfs")||G.includes("hive")||G.includes("bigDataFileShare")&&G.includes("dataStore"))&&(H+=" (Big Data File Share)"));return D(F,{displayName:H})})},123:function(a,b,c){c.d(b,"a",function(){return p});var h=c(0);a=c(15);var n=function(w,B){var A=[],D=w.typeKeywords?w.typeKeywords:[];return w.contentStatus&&("org_authoritative"===w.contentStatus||"public_authoritative"===w.contentStatus?A.push("authoritative"):"deprecated"===
w.contentStatus&&A.push("deprecated")),w.origin&&A.push("collaboration"),w.groupDesignations&&-1<w.groupDesignations.indexOf("livingatlas")&&A.push("livingAtlas"),-1<D.indexOf("Requires Credits")?A.push("premium"):-1<D.indexOf("Requires Subscription")&&A.push("subscriber"),-1<D.indexOf("Public Data Collection")&&((null==B?void 0:B.portalUser)||(null==B?void 0:B.user))&&A.push("publicDataCollection"),"Solution"===w.type&&-1<w.typeKeywords.indexOf("ArcGIS Solution")&&A.push("solution"),B.isPortal&&
"Web Mapping Application"===w.type&&(-1<w.typeKeywords.indexOf("Story Map")&&A.push("retiredStoryMap"),function(F){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(v){var C,
G=-1<v.indexOf(".html");return-1<(null===(C=F.url)||void 0===C?void 0:C.indexOf("/apps/"+v+(G?"":"/")))})}(w)&&A.push("retiredApp")),A},p=Object(a.a)(function(w,B){return Object(h.a)(Object(h.a)({},B),{badges:n(B,w)})})},124:function(a,b,c){c.d(b,"a",function(){return h});var h={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},148:function(a,b,c){c.d(b,"a",function(){return n});var h=c(0);a=c(15);var n=Object(a.a)(function(p,w){var B=Object(h.a),A=Object(h.a)({},w);var D=w.thumbnail?p.restUrl+"/community/users/"+w.username+"/info/"+w.thumbnail+(p.credential?"?token\x3d"+p.credential.token:""):void 0;return B(A,{thumbURI:D})})},15:function(a,b,c){function h(p){return function B(){for(var A=this,D=[],F=0;F<arguments.length;F++)D[F]=
arguments[F];return D.length>=p.length?p.call.apply(p,Object(n.g)([this],D)):function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];return B.call.apply(B,Object(n.g)(Object(n.g)([A],D),v))}}}c.d(b,"a",function(){return h});var n=c(0)},151:function(a,b){a.exports=r},178:function(a,b){a.exports=x},18:function(a,b){a.exports=U},233:function(a,b){a.exports=t},250:function(a,b){a.exports=l},273:function(a,b){a.exports=f},274:function(a,b){a.exports=g},275:function(a,b){a.exports=k},276:function(a,
b){a.exports=y},277:function(a,b){a.exports=u},278:function(a,b){a.exports=E},279:function(a,b){a.exports=z},280:function(a,b){a.exports=q},281:function(a,b){a.exports=m},282:function(a,b){a.exports=e},311:function(a,b){a.exports=d},5:function(a,b,c){function h(v){return 0===Object.keys(v).length&&v.constructor===Object}function n(v){return null!=v}function p(v,C){return D.apply(null,arguments)}function w(v,C){return F.apply(null,arguments)}c.d(b,"b",function(){return h});c.d(b,"a",function(){return n});
c.d(b,"e",function(){return A});c.d(b,"c",function(){return p});c.d(b,"d",function(){return w});var B=c(0);a=c(15);var A=Object(a.a)(function(v,C){var G=Object(B.a)({},C);return delete G[v],G}),D=Object(a.a)(function(v,C){return Object.keys(C).reduce(function(G,H){return G[H]=v(C[H],H,C),G},{})}),F=Object(a.a)(function(v,C){return Object.keys(C).reduce(function(G,H){return v(C[H],H,C)&&(G[H]=C[H]),G},{})})},51:function(a,b,c){function h(ea){return!(!ea.urlKey||!ea.customBaseUrl)}function n(ea){return ea.role===
H.admin||ea.role===H.accountAdmin}function p(ea){return Object(L.a)(ea.roleId)&&0<(ea.roleId||"").length}function w(ea){return!p(ea)||p(ea)&&-1<(ea.privileges||[]).indexOf("portal:admin:viewItems")}function B(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToOrg")}function A(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToGroup")}function D(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToPublic")}function F(ea,ka){return v(ea)||C(ea)||ka.canSharePublic&&G(ea)}
function v(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToGroup")}function C(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToPublic")}c.d(b,"l",function(){return R});c.d(b,"h",function(){return X});c.d(b,"m",function(){return aa});c.d(b,"k",function(){return h});c.d(b,"i",function(){return n});c.d(b,"j",function(){return p});c.d(b,"g",function(){return w});c.d(b,"b",function(){return B});c.d(b,
"a",function(){return A});c.d(b,"c",function(){return D});c.d(b,"d",function(){return v});c.d(b,"e",function(){return C});c.d(b,"f",function(){return G});var H,K=c(63),O=c(148),L=c(5),J=c(58);!function(ea){ea.user="org_user";ea.accountUser="account_user";ea.publisher="org_publisher";ea.accountPublisher="account_publisher";ea.admin="org_admin";ea.accountAdmin="account_admin";ea.viewer="iAAAAAAAAAAAAAAA";ea.dataEditor="iBBBBBBBBBBBBBBB"}(H||(H={}));var R=function(ea){var ka=ea.items;return!!ea.user.orgId&&
ka.every(function(ma){return ma.isOrgItem})},X=function(ea){var ka=ea.items,ma=ea.user,sa=ea.portal;ea=ka[0];var za=Object(J.c)(ea,ma),ha=p(ma),V=F(ma,sa);if(ha=Object(J.a)(ea,ma)&&-1<(ma.privileges||[]).indexOf("portal:admin:updateItems")&&!ha)ha=!h(sa)||A(ma)||B(ma)||sa.canSharePublic&&D(ma)||F(ma,sa);sa=ha;return!(ea.portal.isPortal&&ea.owner!==ma.username&&-1<ea.owner.indexOf("esri_"))&&(za||sa||R({items:ka,user:ma})&&V)},aa=function(ea,ka){return Object(K.a)(Object(O.a)(ea))(ka)}},58:function(a,
b,c){function h(D,F){return(null==D?void 0:D.owner)===F.username}function n(D,F){var v;if(!(v=h(D,F)))if(Object(w.a)(D.isAdmin))v=!!D.isAdmin;else{v=D.owner;var C="admin"===D.itemControl;v=!(D.portal.isPortal&&!h(D,F)&&C&&-1<v.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(v))&&C}return v}function p(D,F){return n(D,F)||"update"===D.itemControl}c.d(b,"d",function(){return h});c.d(b,"c",function(){return n});c.d(b,"a",function(){return p});c.d(b,"b",function(){return A});
var w=c(5),B=c(51),A=function(D){var F=D.user,v=D.items;D=D.portal;return Object(B.l)({items:v,user:F})&&Object(B.h)({items:v,user:F,portal:D})&&Object(B.g)(F)&&v[0].itemOwner||F}},63:function(a,b,c){function h(){for(var n=[],p=0;p<arguments.length;p++)n[p]=arguments[p];return function(w){return n.reduceRight(function(B,A){return A(B)},w)}}c.d(b,"a",function(){return h})},78:function(a,b,c){c.d(b,"a",function(){return D});c.d(b,"b",function(){return F});var h=c(63);a=c(5);var n=c(123),p=c(122),w=
c(117),B=c(121),A=c(120),D=function(v,C,G){return Object(h.a)(Object(A.a)(v),Object(B.a)(v),Object(w.a)(C),Object(p.a)(v),Object(n.a)(v))(G)},F=Object(h.a)(Object(a.e)("patchedDescription"),Object(a.e)("thumbURI"),Object(a.e)("iconURI"),Object(a.e)("displayName"),Object(a.e)("badges"))},862:function(a,b,c){c.r(b);var h=c(0),n=c(112);a=c(18);var p=c(151),w=c(178),B=c(250),A=c.n(B);B=c(274);var D=c.n(B);B=c(275);var F=c.n(B);B=c(276);var v=c.n(B);B=c(277);var C=c.n(B);B=c(278);var G=c.n(B);B=c(279);
var H=c.n(B);B=c(280);var K=c.n(B);B=c(281);var O=c.n(B);B=c(311);var L=c.n(B);B=c(282);var J=c.n(B);B=c(233);var R=c.n(B);B=c(273);var X=c.n(B),aa=c(78);c=function(ea){function ka(ma){var sa=ea.call(this,ma)||this;return sa.state={customActionsOpen:!1,inversedAction:ma.isSelected&&ma.isSelected(Object(aa.b)(sa.props.item)),isLoading:!1},sa.handleActionDropdownToggle=sa.handleActionDropdownToggle.bind(sa),sa.handleCustomActionClick=sa.handleCustomActionClick.bind(sa),sa.handleMainActionClick=sa["handleMainActionClick"+
(sa.props.loadOnMainAction?"Async":"")].bind(sa),sa}return Object(h.d)(ka,ea),ka.prototype.render=function(ma){var sa,za=this,ha=this.props,V=ha.item;ha=ha.sortField;var la=this.props.customActions?this.props.customActions.filter(function(ba){return ba.allowed(za.props.item)}):[],T={"card-ac__container":!0,"card-ac__container-inverse-action":this.state.inversedAction,"card-mc__fader":this.props.loadOnMainAction,"card-mc__fader--loading":this.state.isLoading},P={"card-ac__custom-actions":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,
"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle},I={"card-ac__custom-action-btn":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle};return sa="numviews"===ha?n.viewCount+": "+w.format(V.numViews):"avgrating"===ha?n.rating+": "+V.avgRating.toFixed(2):"created"===ha?n.created+": "+p.format(new Date(V.created),{selector:"date",formatLength:"short"}):n.updated+": "+p.format(new Date(V.modified),{selector:"date",formatLength:"short"}),
ma("div",{classes:T,key:this.props.key},ma("div",{"class":"card-ac__details-container"},ma("div",{"class":"card-ac__thumb-container"},ma("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-ac__thumbnail",style:"\n                                background-image: url("+V.thumbURI+");\n                            "})),ma("div",{"class":"card-ac__details"},ma("h4",{"class":"card-ac__title"},V.title),ma("div",{"class":"card-ac__info-row"},ma("div",
{"class":"card-ac__icon-title-container"},ma("img",{src:V.iconURI,"class":"content-search-item-icon",alt:""}),ma("span",{"class":"card-ac__author-text"},V.displayName+" "+n.by,ma("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?n.viewOrg:n.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+V.owner,target:"_blank"}," "+(this.props.organization?this.props.organization.name:V.owner)))),
ma("span",{"class":"card-ac__info-bullet","aria-hidden":"true"},"\u2022"),ma("span",{"class":"card-ac__info-string"},sa)),ma("p",{"class":"card-ac__snippet"},ma("span",{"class":"card-ac__snippet-text"},V.snippet," "),ma("a",{"class":"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+V.id,target:"_blank"},n.viewItem,ma("svg",{role:"img",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},ma("path",{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),
ma("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),ma("div",{"class":"card-ac__sub-container"},ma("div",{"class":"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(ma)),ma("div",{"class":"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(ma,!0)),ma("div",{"class":"card-ac__action-container card-ac__sub-group"},ma("div",{"class":"card-ac__no-wrap"},this.renderMainActionButton(ma),0<la.length?ma(X.a,{key:V.id+
"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},ma("span",{classes:P,title:n.actions},ma("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},ma("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),ma("div",null,la.map(function(ba,W){return ma("button",{key:ba.name,"class":I,value:W,onclick:za.handleCustomActionClick},ba.name)}))):null))))},ka.prototype.renderLoaderIcon=function(ma){return this.props.loadOnMainAction&&this.state.isLoading?
ma(A.a,{color:"#ffffff"}):null},ka.prototype.renderMainActionButton=function(ma){return ma("button",{"class":"card-ac__btn "+(this.props.usePrimaryButtonStyle?"card-ac__primary-btn":"card-ac__secondary-btn"),onclick:this.handleMainActionClick.bind(this,this.state.inversedAction?"Inverse":"")},this.renderLoaderIcon(ma),this.props[this.state.inversedAction?"mainInverseActionTitle":"mainActionTitle"])},ka.prototype.renderBadges=function(ma,sa){var za=this,ha=sa?"small":"regular";return this.props.item.badges.map(function(V){switch(V){case "authoritative":return ma(D.a,
{size:ha,altOrg:za.props.organization?za.props.organization.name:void 0});case "deprecated":return ma(v.a,{size:ha});case "collaboration":return ma(F.a,{size:ha});case "livingAtlas":return ma(C.a,{size:ha});case "marketplace":return ma(G.a,{size:ha});case "openData":return ma(H.a,{size:ha});case "premium":return ma(K.a,{size:ha,user:za.props.portal.user});case "subscriber":return ma(O.a,{size:ha,user:za.props.portal.user});case "solution":return ma(L.a,{size:ha});case "publicDataCollection":return ma(J.a,
{size:ha});case "retiredStoryMap":return ma(R.a,{size:ha,isRetiredStoryMap:!0});case "retiredApp":return ma(R.a,{size:ha})}return null})},ka.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},ka.prototype.handleMainActionClick=function(ma){this.props.mainAction([Object(aa.b)(this.props.item)])},ka.prototype.handleCustomActionClick=function(ma){this.setState({customActionsOpen:!this.state.customActionsOpen});this.props.customActions&&this.props.customActions[ma.target.value]&&
this.props.customActions[ma.target.value].onAction(Object(aa.b)(this.props.item))},ka}(a.Component);b["default"]=c}})})},"arcgis-components/Loaders/LoaderIcon":function(){define(function(){return function(U){function M(x){if(r[x])return r[x].exports;var t=r[x]={i:x,l:!1,exports:{}};return U[x].call(t.exports,t,t.exports,M),t.l=!0,t.exports}var r={};return M.m=U,M.c=r,M.d=function(x,t,l){M.o(x,t)||Object.defineProperty(x,t,{enumerable:!0,get:l})},M.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},M.t=function(x,t){if((1&t&&(x=M(x)),8&t)||4&t&&"object"==typeof x&&x&&x.__esModule)return x;var l=Object.create(null);if(M.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:x}),2&t&&"string"!=typeof x)for(var f in x)M.d(l,f,function(g){return x[g]}.bind(null,f));return l},M.n=function(x){var t=x&&x.__esModule?function(){return x["default"]}:function(){return x};return M.d(t,"a",
t),t},M.o=function(x,t){return Object.prototype.hasOwnProperty.call(x,t)},M.p="",M(M.s=869)}({869:function(U,M,r){r.r(M);M["default"]=function(x,t){return t("div",{key:x.key||"loader-icon","class":"load-icon__icon"},t("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                fill: currentColor;\n                pointer-events: none;\n                display: inline-block;\n                width: 1em;\n                height: 1em;\n                vertical-align: -0.15em;\n                color: "+
(x.color||"#0079c1")+";\n                transition-property: transform;\n                transition-duration: 0.5s;\n                animation-name: rotate;\n                animation-duration: 1s;\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                transform-origin: 50% 50%;\n            "},t("path",{d:"M16 8A8 8 0 1 1 7 .07v.909a7.1 7.1 0 1 0 2 0v-.91A7.996 7.996 0 0 1 16 8z"})))}}})})},"arcgis-components/Badges/Authoritative":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=812)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=
U},812:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){var y=g.altOrg;return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"authoritative-badge",size:g.size,text:l.authoritative,title:y?l.tooltips.altAuthoritative+" "+y:l.tooltips.authoritative,tooltip:g.tooltip?l.tooltips.authoritative:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),
k("g",{fill:"#2B622B"},k("path",{d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zm0 15a7 7 0 1 1 7-7 7.008 7.008 0 0 1-7 7z"}),k("path",{d:"M11.834 5.146l-5.646 5.647-2.334-2.334a.5.5 0 0 0-.708.707l3.042 3.041 6.353-6.353a.5.5 0 1 0-.707-.707z"}))))}}})})},"arcgis-components/Badges/Collaboration":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,
f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),
2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=815)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},815:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",
key:"collaboration-badge",size:g.size,text:l.collaboration,title:l.tooltips.collaboration,tooltip:g.tooltip?l.tooltips.collaboration:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("g",{fill:"#196FA6"},k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),
k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))))}}})})},"arcgis-components/Badges/Deprecated":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=816)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},816:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#F3DED7",textColor:"#8C2907",key:"deprecated-badge",size:g.size,text:l.deprecated,title:l.tooltips.deprecated,tooltip:g.tooltip?l.tooltips.deprecated:
void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#8C2907",d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zM1 8a6.99 6.99 0 0 1 11.577-5.284l-9.861 9.861A6.964 6.964 0 0 1 1 8zm7 7a6.964 6.964 0 0 1-4.577-1.716l9.861-9.861A6.99 6.99 0 0 1 8 15z"})))}}})})},"arcgis-components/Badges/LivingAtlas":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],
function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==
typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=817)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},817:function(r,
x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"living-atlas-badge",size:g.size,text:l.livingAtlas,title:l.tooltips.livingAtlas,tooltip:g.tooltip?l.tooltips.livingAtlas:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("rect",{width:"16",height:"16",fill:"none"}),k("rect",{width:"16",height:"16",fill:"none"}),k("g",
null,k("path",{d:"M14.75342,4.57031a.50021.50021,0,0,0-.84277-.53906,5.85956,5.85956,0,0,1-1.04541,1.12939A27.86114,27.86114,0,0,1,8.5,8.19922a27.48671,27.48671,0,0,1-4.81445,2.26172,5.9062,5.9062,0,0,1-1.50049.34033.5.5,0,0,0,.022.99951L2.23,11.80029a6.51338,6.51338,0,0,0,1.46027-.30341A5.97993,5.97993,0,0,0,7.5,13.30646V15H5a.5.5,0,0,0,0,1h6a.5.5,0,0,0,0-1H8.5V13.301a5.95318,5.95318,0,0,0,5.25336-7.601A6.38549,6.38549,0,0,0,14.75342,4.57031ZM10.5,11.66357A4.99888,4.99888,0,0,1,4.75793,11.129,30.77175,30.77175,0,0,0,9,9.06543a30.80143,30.80143,0,0,0,3.9082-2.642A5.00026,5.00026,0,0,1,10.5,11.66357Z",
fill:"#196fa6"}),k("path",{d:"M7.06836,2.41943a5.00709,5.00709,0,0,1,4.71045,1.63867.50023.50023,0,1,0,.75684-.6543A6.01019,6.01019,0,0,0,6.88184,1.437a.5.5,0,0,0,.18652.98242Z",fill:"#196fa6"}),k("path",{d:"M2.80176,9.63281a.50023.50023,0,0,0,.47217-.66406A4.98907,4.98907,0,0,1,5.08917,3.29163l.22772.39441a.50008.50008,0,0,0,.86621-.5l-1-1.73193a.50008.50008,0,0,0-.86621.5l.27222.47144A5.988,5.988,0,0,0,2.32959,9.29688.49991.49991,0,0,0,2.80176,9.63281Z",fill:"#196fa6"}))))}}})})},"arcgis-components/Badges/Marketplace":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=818)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=
U},818:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"marketplace-badge",size:g.size,text:l.marketplace,title:l.tooltips.marketplace,tooltip:g.tooltip?l.tooltips.marketplace:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"#196FA6",d:"M15.939 13L12.832 3h-3.65L8.033 6.68 6.811 3H3.16L.054 13H4.13l.96-3.21L6.192 13h3.594l1.104-3.17.993 3.17h4.056zM3.386 12H1.41l2.486-8h1.881l-2.391 8zm2.196-3.856l.893-2.983 1.048 3.156-.895 2.871-1.046-3.044zM9.075 12H7.422l2.496-8h1.943l-2.786 8zm3.409-6.749L14.583 12h-1.966l-1.176-3.755 1.043-2.994z"})))}}})})},
"arcgis-components/Badges/OpenData":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=819)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},819:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"open-data-badge",size:g.size,text:l.openData,title:l.tooltips.openData,tooltip:g.tooltip?l.tooltips.openData:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",
d:"M0 0h16v16H0z"}),k("g",{fill:"#196fa6"},k("path",{d:"M8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.628 8.628 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2 5 1.056 5 2-2.138 2-5 2zM13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.968 11.968 0 0 0 5 .984.5.5 0 0 0 0-1A10.146 10.146 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5z"}))))}}})})},
"arcgis-components/Badges/Premium":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=820)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},820:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){var y=g.user;y=y?y.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"premium-badge",size:g.size,text:l.premium,title:l.tooltips["premium"+y],tooltip:g.tooltip?l.tooltips["premium"+y]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",
viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{d:"M8.05 15.5a.497.497 0 0 1-.25-.067C.6 11.275 1.542 2.038 1.552 1.944a.5.5 0 0 1 .259-.382.507.507 0 0 1 .463-.009 5.15 5.15 0 0 0 5.459-.94.5.5 0 0 1 .64.006c1.817 1.54 3.601 1.844 5.457.932a.5.5 0 0 1 .718.394 16.944 16.944 0 0 1-.344 4.965.5.5 0 1 1-.978-.211 16.952 16.952 0 0 0 .367-3.962 5.57 5.57 0 0 1-5.55-1.098A6.178 6.178 0 0 1 2.51 2.706c-.057 2.086.231 8.651 5.79 11.86a.5.5 0 0 1-.25.934z",
fill:"#196fa6"}),k("path",{d:"M12 15.5a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4zm0-7a3 3 0 1 0 3 3 3.003 3.003 0 0 0-3-3z",fill:"#196fa6"})))}}})})},"arcgis-components/Badges/Subscriber":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=821)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},821:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){var y=g.user;y=y?y.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"subscriber-badge",size:g.size,text:l.subscriber,title:l.tooltips["subscriber"+
y],tooltip:g.tooltip?l.tooltips["subscriber"+y]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{d:"M8.05371,15.5H8.0498a.49939.49939,0,0,1-.25-.06689C.59961,11.27539,1.542,2.0376,1.55225,1.94434A.49966.49966,0,0,1,1.811,1.56152a.50721.50721,0,0,1,.46338-.0083A5.15007,5.15007,0,0,0,7.73291.61328a.51762.51762,0,0,1,.6377,0,5.14642,5.14642,0,0,0,5.4585.93994.50711.50711,0,0,1,.46338.0083.49966.49966,0,0,1,.25879.38281c.01025.09326.95264,9.33105-6.24756,13.48877A.49939.49939,0,0,1,8.05371,15.5Zm0-.5h0ZM2.50977,2.70557c-.05615,2.05469.22266,8.45508,5.542,11.71387,5.31934-3.25879,5.59814-9.65967,5.542-11.71387a6.17691,6.17691,0,0,1-5.542-1.07324A6.18289,6.18289,0,0,1,2.50977,2.70557Z",
fill:"#196fa6"})))}}})})},"arcgis-components/Badges/PublicDataCollection":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=823)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=U},823:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#efe397",textColor:"#786d1c",key:"public-data-collection-badge",size:g.size,text:l.publicDataCollection,title:l.tooltips.publicDataCollection,tooltip:g.tooltip?l.tooltips.publicDataCollection:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#786d1c",d:"M15.721 4.007a.965.965 0 0 0-.03-1.385l-1.413-1.414a.965.965 0 0 0-1.385-.03L2.841 11.23l-1.756 4.097a.371.371 0 0 0 .488.487L5.67 14.06l8.607-8.609zM2.624 14.276l.554-1.294.74.74zm2.338-.924L3.55 11.937l8.007-8.008 1.414 1.415zm8.716-8.716l-1.414-1.414 1.09-1.09a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .434z"})))}}})})},"arcgis-components/Badges/Solution":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=822)}({130:function(r,x){r.exports=M},73:function(r,x){r.exports=
U},822:function(r,x,t){t.r(x);var l=t(73);r=t(130);var f=t.n(r);x["default"]=function(g,k){return k(f.a,{backgroundColor:"#e2deee",textColor:"#312b43",key:"solution-badge",size:g.size,text:l.solution,title:l.tooltips.solution,tooltip:g.tooltip?l.tooltips.solution:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},k("path",{fill:"#312b43",d:"M29.963 7.672a1.586 1.586 0 0 0-1.584-1.585h-5.274a.187.187 0 0 1-.188-.187V3.977A2 2 0 0 0 20.825 2h-9.672A2.095 2.095 0 0 0 9.06 4.093V5.9a.187.187 0 0 1-.187.187H3.598a1.586 1.586 0 0 0-1.584 1.585v4.016a.281.281 0 0 0 .281.28H4.9l.014-.013V9.153a.177.177 0 0 1 .177-.177h21.46a.456.456 0 0 1 .449.45v13.742A1.832 1.832 0 0 1 25.168 25h-8.892a.568.568 0 0 1-.534-.373 3.98 3.98 0 0 0-7.6.373H5.657a.757.757 0 0 1-.757-.757v-3.055A.188.188 0 0 0 4.714 21H2.028l-.014.014v4.58a2.35 2.35 0 0 0 2.347 2.346h4.161a3.963 3.963 0 0 0 6.8.256.569.569 0 0 1 .475-.256h12.065a2.102 2.102 0 0 0 2.101-2.101zM21 5.625a.375.375 0 0 1-.375.375h-9.25A.375.375 0 0 1 11 5.625V4.45a.456.456 0 0 1 .45-.45h9.1a.456.456 0 0 1 .45.45zM12 28a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}),
k("path",{"class":"cls-1",d:"M13.273 17.994a.57.57 0 0 1 .479.262A3.73 3.73 0 0 0 17 20a3.74 3.74 0 0 0 3.403-2.006h3.41a.188.188 0 0 0 .187-.188v-2.589a.187.187 0 0 0-.188-.188H20.8A3.8 3.8 0 0 0 17 12a4.058 4.058 0 0 0-3.69 2.647.568.568 0 0 1-.537.383H1.093a.094.094 0 0 0-.093.093V17.9a.094.094 0 0 0 .094.094zM17 13.9a2.1 2.1 0 1 1-2.1 2.1 2.1 2.1 0 0 1 2.1-2.1z"})))}}})})},"arcgis-components/ItemCards/MiniCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../../Badges/Retired ../../Buttons/SvgButton ../../Loaders/LoaderIcon ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution ../../Dropdowns/TextOptionDropdown".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b){return function(c){function h(p){if(n[p])return n[p].exports;var w=n[p]={i:p,l:!1,exports:{}};return c[p].call(w.exports,w,w.exports,h),w.l=!0,w.exports}var n={};return h.m=c,h.c=n,h.d=function(p,w,B){h.o(p,w)||Object.defineProperty(p,w,{enumerable:!0,get:B})},h.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},h.t=function(p,w){if((1&
w&&(p=h(p)),8&w)||4&w&&"object"==typeof p&&p&&p.__esModule)return p;var B=Object.create(null);if(h.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:p}),2&w&&"string"!=typeof p)for(var A in p)h.d(B,A,function(D){return p[D]}.bind(null,A));return B},h.n=function(p){var w=p&&p.__esModule?function(){return p["default"]}:function(){return p};return h.d(w,"a",w),w},h.o=function(p,w){return Object.prototype.hasOwnProperty.call(p,w)},h.p="",h(h.s=863)}({0:function(c,h,n){function p(G,H){function K(){this.constructor=
G}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");v(G,H);G.prototype=null===H?Object.create(H):(K.prototype=H.prototype,new K)}function w(G,H){var K={},O;for(O in G)Object.prototype.hasOwnProperty.call(G,O)&&0>H.indexOf(O)&&(K[O]=G[O]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(O=Object.getOwnPropertySymbols(G);L<O.length;L++)0>H.indexOf(O[L])&&Object.prototype.propertyIsEnumerable.call(G,O[L])&&
(K[O[L]]=G[O[L]])}return K}function B(G,H,K,O){var L,J=arguments.length,R=3>J?H:null===O?O=Object.getOwnPropertyDescriptor(H,K):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(G,H,K,O);else for(var X=G.length-1;0<=X;X--)(L=G[X])&&(R=(3>J?L(R):3<J?L(H,K,R):L(H,K))||R);return 3<J&&R&&Object.defineProperty(H,K,R),R}function A(G,H,K,O){return new (K||(K=Promise))(function(L,J){function R(ea){try{aa(O.next(ea))}catch(ka){J(ka)}}function X(ea){try{aa(O["throw"](ea))}catch(ka){J(ka)}}
function aa(ea){var ka;ea.done?L(ea.value):(ka=ea.value,ka instanceof K?ka:new K(function(ma){ma(ka)})).then(R,X)}aa((O=O.apply(G,H||[])).next())})}function D(G,H){function K(aa){return function(ea){return function(ka){if(O)throw new TypeError("Generator is already executing.");for(;X;)try{if(O=1,L&&(J=2&ka[0]?L["return"]:ka[0]?L["throw"]||((J=L["return"])&&J.call(L),0):L.next)&&!(J=J.call(L,ka[1])).done)return J;switch(L=0,J&&(ka=[2&ka[0],J.value]),ka[0]){case 0:case 1:J=ka;break;case 4:return X.label++,
{value:ka[1],done:!1};case 5:X.label++;L=ka[1];ka=[0];continue;case 7:ka=X.ops.pop();X.trys.pop();continue;default:if(!(J=X.trys,(J=0<J.length&&J[J.length-1])||6!==ka[0]&&2!==ka[0])){X=0;continue}if(3===ka[0]&&(!J||ka[1]>J[0]&&ka[1]<J[3]))X.label=ka[1];else if(6===ka[0]&&X.label<J[1])X.label=J[1],J=ka;else if(J&&X.label<J[2])X.label=J[2],X.ops.push(ka);else{J[2]&&X.ops.pop();X.trys.pop();continue}}ka=H.call(G,X)}catch(ma){ka=[6,ma],L=0}finally{O=J=0}if(5&ka[0])throw ka[1];return{value:ka[0]?ka[1]:
void 0,done:!0}}([aa,ea])}}var O,L,J,R,X={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return R={next:K(0),"throw":K(1),"return":K(2)},"function"==typeof Symbol&&(R[Symbol.iterator]=function(){return this}),R}function F(G,H){for(var K=0,O=H.length,L=G.length;K<O;K++,L++)G[L]=H[K];return G}n.d(h,"d",function(){return p});n.d(h,"a",function(){return C});n.d(h,"f",function(){return w});n.d(h,"c",function(){return B});n.d(h,"b",function(){return A});n.d(h,"e",function(){return D});
n.d(h,"g",function(){return F});var v=function(G,H){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,O){K.__proto__=O}||function(K,O){for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(K[L]=O[L])})(G,H)},C=function(){return(C=Object.assign||function(G){for(var H,K=1,O=arguments.length;K<O;K++)for(var L in H=arguments[K])Object.prototype.hasOwnProperty.call(H,L)&&(G[L]=H[L]);return G}).apply(this,arguments)};Object.create;Object.create},112:function(c,h){c.exports=
M},150:function(c,h){c.exports=r},151:function(c,h){c.exports=x},178:function(c,h){c.exports=t},18:function(c,h){c.exports=U},233:function(c,h){c.exports=l},239:function(c,h){c.exports=f},250:function(c,h){c.exports=g},274:function(c,h){c.exports=k},275:function(c,h){c.exports=y},276:function(c,h){c.exports=u},277:function(c,h){c.exports=E},278:function(c,h){c.exports=z},279:function(c,h){c.exports=q},280:function(c,h){c.exports=m},281:function(c,h){c.exports=e},282:function(c,h){c.exports=d},311:function(c,
h){c.exports=a},378:function(c,h){c.exports=b},600:function(c,h,n){function p(F){F.stopPropagation()}var w=n(0);c=n(18);var B=n(151),A=n(150),D=n(178);n=function(F){function v(){return null!==F&&F.apply(this,arguments)||this}return Object(w.d)(v,F),v.prototype.formatDate=function(C){return""+B.format(new Date(C),{selector:"date",formatLength:"short",locale:A.locale})},v.prototype.render=function(C){var G,H=this.props,K=H.active,O=H.classes,L=(H.handleShowItemDetails,H.item),J=H.iconUrl,R=H.userUrl,
X=(H.portal,H.sortField);H=H.i18n;return G="numviews"===X?H.viewCount+": "+D.format(L.numViews):"avgrating"===X?H.rating+": "+L.avgRating.toFixed(2):"created"===X?H.created+": "+this.formatDate(L.created):H.updated+": "+this.formatDate(L.modified),C("header",{classes:O},C("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-mc__thumbnail",style:"\n                        background-image: url("+this.props.thumbURI+");\n                    "}),
C("div",{"class":"card-mc__title-container"},C("button",{id:"item-"+L.id+"-card-title","class":"card-mc__title",title:K?H.hideItem:H.viewItem,tabindex:"0"},L.title),C("div",{"class":"card-mc__author-row"},C("img",{src:J,"class":"content-search-item-icon",title:L.displayName}),C("span",{"class":"card-mc__author-text"},H.by,C("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?H.viewOrg:H.viewProfile,href:this.props.organization?this.props.organization.orgUrl:
R,target:"_blank",onclick:p}," "+(this.props.organization?this.props.organization.name:L.owner)))),C("p",{"class":"card-mc__info"},G)))},v}(c.Component);h.a=n},601:function(c,h,n){c=n(378);var p=n.n(c);c=n(239);var w=n.n(c);c=n(250);var B=n.n(c);h.a=function(A,D){var F=A.selected,v=A.handleSelectionClick,C=A.handleIconActionClick,G=A.handleCustomActionClick,H=A.availableMiscActions,K=A.availableIconActions,O=A.loading,L=A.children,J=A.id,R=A.hideEllipses,X=A.i18n,aa=null;A.disableMainAction||(aa=
O?D(B.a,null):D(w.a,{focusable:!0,handleClick:v,key:J+"-selection-btn",title:F?X.remove:X.add},D("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},D("g",{id:"16px",stroke:"none","stroke-width":"1"},D("g",null,D("g",null,D("polygon",F?{points:"3 7 12 7 12 8 3 8"}:{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),D("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));
F=K.map(function(ea){return D(w.a,{focusable:!0,handleClick:C,key:J+"-"+ea.text,title:ea.text,value:ea.value},D("div",{"class":"card-mc__custom-icon-container",innerHTML:ea.icon}))});return D("div",{id:"item-"+J+"-action-row","class":"content-search-item-action-row card-mc__action-row"},L,D("div",{key:"action-container","class":"card-mc__action-container"},D(w.a,{key:J+"-spacer"},D("svg",{height:"16px",width:"0px"})),aa,F,0<H.length&&!R?D(p.a,{key:J+"-actions",options:H,onSelect:G,selectedOptionValue:void 0,
justify:"right"},D(w.a,{focusable:!1,key:J+"-action-btn",title:X.actions},D("svg",{role:"img",width:"16px",height:"16px",style:"transform: translate(0, -2px);"},D("g",{stroke:"none","stroke-width":"1"},D("g",null,D("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))}},863:function(c,h,n){n.r(h);var p=n(0),w=n(112);c=n(18);var B=n(600),A=n(601),D=n(274),F=n.n(D);D=n(275);var v=n.n(D);D=n(276);var C=n.n(D);D=n(277);var G=n.n(D);D=n(278);var H=
n.n(D);D=n(279);var K=n.n(D);D=n(280);var O=n.n(D);D=n(281);var L=n.n(D);D=n(311);var J=n.n(D);D=n(282);var R=n.n(D);D=n(233);var X=n.n(D);n=function(aa){function ea(ka){ka=aa.call(this,ka)||this;return ka.handleShowItemDetails=ka.handleShowItemDetails.bind(ka),ka.handleSelectionClick=ka.handleSelectionClick.bind(ka),ka.handleCustomActionClick=ka.handleCustomActionClick.bind(ka),ka.handleIconActionClick=ka.handleIconActionClick.bind(ka),ka}return Object(p.d)(ea,aa),ea.prototype.render=function(ka){var ma=
this,sa=!!this.props.selectedItems[this.props.item.id],za=!!this.props.loadingItems[this.props.item.id],ha=!(!this.props.activeItem||this.props.activeItem.id!==this.props.item.id),V=this.props.customActions.filter(function(T){return T.allowed(ma.props.item)}).map(function(T){return{value:T.name,text:T.name,icon:T.icon}}),la=V.filter(function(T){return T.icon});V=V.filter(function(T){return!T.icon});return ka("section",{key:this.props.item.id,classes:{"card-mc__container":!0,"card-mc__container--selected":sa,
"card-mc__container--active":ha}},ka("div",{classes:{"card-mc__fader":!0,"card-mc__fader--loading":za},onclick:this.handleShowItemDetails},ka(B.a,{active:ha,classes:{"card-mc__header":!0,"card-mc__header--constrained":!!this.props.constrained},handleShowItemDetails:this.handleShowItemDetails,i18n:w,iconUrl:this.props.item.iconURI,item:this.props.item,key:"mini-card-header",portal:this.props.portal,sortField:this.props.sortField,thumbURI:this.props.item.thumbURI,userUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+
this.props.item.owner,organization:this.props.organization}),ka(A.a,{selected:sa,handleSelectionClick:this.handleSelectionClick,loading:za,id:this.props.item.id,i18n:w,availableMiscActions:V,availableIconActions:la,handleIconActionClick:this.handleIconActionClick,handleCustomActionClick:this.handleCustomActionClick,disableMainAction:this.props.disableMainAction,hideEllipses:this.props.hideEllipses},ka("div",{key:"badges"},this.renderBadges(ka)))))},ea.prototype.renderBadges=function(ka){var ma=this;
return this.props.item.badges.map(function(sa){switch(sa){case "authoritative":return ka(F.a,{size:"small",altOrg:ma.props.organization?ma.props.organization.name:void 0});case "deprecated":return ka(C.a,{size:"small"});case "collaboration":return ka(v.a,{size:"small"});case "livingAtlas":return ka(G.a,{size:"small"});case "marketplace":return ka(H.a,{size:"small"});case "openData":return ka(K.a,{size:"small"});case "premium":return ka(O.a,{size:"small",user:ma.props.portal.user});case "subscriber":return ka(L.a,
{size:"small",user:ma.props.portal.user});case "publicDataCollection":return ka(R.a,{size:"small"});case "solution":return ka(J.a,{size:"small"});case "retiredStoryMap":return ka(X.a,{size:"small",isRetiredStoryMap:!0});case "retiredApp":return ka(X.a,{size:"small"})}return null})},ea.prototype.handleShowItemDetails=function(ka){this.props.onShowItemDetails(this.props.item)},ea.prototype.handleSelectionClick=function(ka){ka.stopPropagation();this.props.onSelectionClick(this.props.item)},ea.prototype.handleIconActionClick=
function(ka){ka.stopPropagation();ka.target.value&&this.props.onCustomActionClick(ka.target.value,this.props.item)},ea.prototype.handleCustomActionClick=function(ka){this.props.onCustomActionClick(ka,this.props.item)},ea}(c.Component);h["default"]=n}})})},"arcgis-components/ItemCards/MiniCardRow/index":function(){define(["../../Component","dojo/i18n!../../ItemCards/nls/resources","../../Buttons/SvgButton","../../Loaders/LoaderIcon","../../Dropdowns/TextOptionDropdown"],function(U,M,r,x,t){return function(l){function f(k){if(g[k])return g[k].exports;
var y=g[k]={i:k,l:!1,exports:{}};return l[k].call(y.exports,y,y.exports,f),y.l=!0,y.exports}var g={};return f.m=l,f.c=g,f.d=function(k,y,u){f.o(k,y)||Object.defineProperty(k,y,{enumerable:!0,get:u})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,y){if((1&y&&(k=f(k)),8&y)||4&y&&"object"==typeof k&&k&&k.__esModule)return k;var u=Object.create(null);if(f.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:k}),2&y&&"string"!=typeof k)for(var E in k)f.d(u,E,function(z){return k[z]}.bind(null,E));return u},f.n=function(k){var y=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(y,"a",y),y},f.o=function(k,y){return Object.prototype.hasOwnProperty.call(k,y)},f.p="",f(f.s=864)}({0:function(l,f,g){function k(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");m(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function y(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(c=Object.getOwnPropertySymbols(d);h<c.length;h++)0>a.indexOf(c[h])&&Object.prototype.propertyIsEnumerable.call(d,c[h])&&(b[c[h]]=d[c[h]])}return b}function u(d,a,b,c){var h,n=arguments.length,p=3>n?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,a,b,c);else for(var w=d.length-1;0<=w;w--)(h=d[w])&&(p=(3>n?h(p):3<n?h(a,b,p):h(a,b))||p);return 3<n&&p&&Object.defineProperty(a,b,p),p}function E(d,a,b,c){return new (b||(b=Promise))(function(h,n){function p(A){try{B(c.next(A))}catch(D){n(D)}}function w(A){try{B(c["throw"](A))}catch(D){n(D)}}function B(A){var D;A.done?h(A.value):(D=A.value,D instanceof b?D:new b(function(F){F(D)})).then(p,
w)}B((c=c.apply(d,a||[])).next())})}function z(d,a){function b(B){return function(A){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;w;)try{if(c=1,h&&(n=2&D[0]?h["return"]:D[0]?h["throw"]||((n=h["return"])&&n.call(h),0):h.next)&&!(n=n.call(h,D[1])).done)return n;switch(h=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++;h=D[1];D=[0];continue;case 7:D=w.ops.pop();w.trys.pop();continue;default:if(!(n=
w.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){w=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))w.label=D[1];else if(6===D[0]&&w.label<n[1])w.label=n[1],n=D;else if(n&&w.label<n[2])w.label=n[2],w.ops.push(D);else{n[2]&&w.ops.pop();w.trys.pop();continue}}D=a.call(d,w)}catch(F){D=[6,F],h=0}finally{c=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,A])}}var c,h,n,p,w={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return p={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function q(d,a){for(var b=0,c=a.length,h=d.length;b<c;b++,h++)d[h]=a[b];return d}g.d(f,"d",function(){return k});g.d(f,"a",function(){return e});g.d(f,"f",function(){return y});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return q});var m=function(d,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(b[h]=c[h])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var h in a=arguments[b])Object.prototype.hasOwnProperty.call(a,h)&&(d[h]=a[h]);return d}).apply(this,arguments)};Object.create;Object.create},112:function(l,f){l.exports=M},18:function(l,f){l.exports=U},239:function(l,f){l.exports=r},250:function(l,f){l.exports=x},378:function(l,f){l.exports=t},864:function(l,
f,g){g.r(f);var k=g(0),y=g(112);l=g(18);var u=g(378),E=g.n(u);u=g(239);var z=g.n(u);u=g(250);var q=g.n(u);g=function(m){function e(d){d=m.call(this,d)||this;return d.handleShowItemDetails=d.handleShowItemDetails.bind(d),d.handleSelectionClick=d.handleSelectionClick.bind(d),d.handleIconActionClick=d.handleIconActionClick.bind(d),d.handleCustomActionClick=d.handleCustomActionClick.bind(d),d}return Object(k.d)(e,m),e.prototype.render=function(d){var a,b=this,c=!!this.props.selectedItems[this.props.item.id],
h=!!this.props.loadingItems[this.props.item.id],n=this.props.activeItem&&this.props.activeItem.id===this.props.item.id,p=this.props.customActions.filter(function(B){return B.allowed(b.props.item)}).map(function(B){return{value:B.name,text:B.name,icon:B.icon}}),w=p.filter(function(B){return!!B.icon});p=p.filter(function(B){return!B.icon});this.props.disableMainAction||(a=h?d(q.a,null):d(z.a,{focusable:!0,handleClick:this.handleSelectionClick,key:this.props.item.id+"-selection-btn",title:c?y.remove:
y.add},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},d("g",{stroke:"none","stroke-width":"1"},c?d("g",{id:"minus-circled-1px-16"},d("g",null,d("polygon",{points:"3 7 12 7 12 8 3 8"}),d("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"}))):d("g",{id:"plus-circled-1px-16"},d("g",null,
d("polygon",{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),d("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));h=w.map(function(B){return d(z.a,{focusable:!0,handleClick:b.handleIconActionClick,key:b.props.item.id+"-"+B.text,title:B.text,value:B.value},
d("div",{"class":"card-mcr__custom-icon-container",innerHTML:B.icon}))});return d("div",{key:this.props.item.id,classes:{"card-mcr__container":!0,"card-mcr__container--selected":c,"card-mcr__container--active":n},onclick:this.handleShowItemDetails},d("img",{src:this.props.item.iconURI,"class":"card-mcr__item-icon",title:this.props.item.displayName,alt:""}),d("button",{id:"item-"+this.props.item.id+"-card-title","class":"card-mcr__item-title",title:n?y.hideItem:y.viewItem,tabindex:"0"},this.props.item.title),
d("div",{"class":"card-mcr__spacer"}),d("div",{"class":"card-mcr__action-container"},a,h,0<p.length&&!this.props.hideEllipses?d(E.a,{key:this.props.item.id+"-actions",options:p,onSelect:this.handleCustomActionClick,selectedOptionValue:void 0,justify:"right"},d(z.a,{key:this.props.item.id+"-action-btn",focusable:!1,title:y.actions},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},d("g",{stroke:"none","stroke-width":"1"},d("g",{id:"ellipses-1px-16"},
d("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))},e.prototype.handleShowItemDetails=function(d){this.props.onShowItemDetails(this.props.item)},e.prototype.handleSelectionClick=function(d){d.stopPropagation();this.props.onSelectionClick(this.props.item)},e.prototype.handleIconActionClick=function(d){d.stopPropagation();d.target.value&&this.props.onCustomActionClick(d.target.value,this.props.item)},e.prototype.handleCustomActionClick=
function(d){this.props.onCustomActionClick(d,this.props.item)},e}(l.Component);f["default"]=g}})})},"arcgisonline/map/core/sameTilingScheme":function(){define([],function(){return function(U,M){for(var r=!1,x=!1,t=0;t<U.lods.length;t++){var l=U.lods[t].scale;U.dpi!==M.dpi&&(l=U.lods[t].scale/U.dpi);for(var f=0;f<M.lods.length;f++){var g=M.lods[f].scale;U.dpi!==M.dpi&&(g=M.lods[f].scale/M.dpi);if(.01>Math.abs(g-l)/g)if(r){x=!0;break}else r=!0;if(g<l)break}if(x)break}return x||r&&(1===U.lods.length||
1===M.lods.length)?!0:!1}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceSceneLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceSceneLayer.html dojo/i18n!../../../nls/arcgisonline dojo/string ../../utils/dom ../../../sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/map/core/sameSpatialReference arcgisonline/map/layer/getServiceInfo ./ReplaceLayer dojo/Deferred arcgisonline/esriGeowConfig".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){x=
r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);return function(){function m(e,d){this.overlayContents=l["default"].substitute(x["default"],{i18n:this.i18n,icons:this.icons})}m.prototype.initUI=function(){var e,d;this.inherited(arguments);this.layerType=null!==(d=null===(e=this.item.serviceInfo.layers)||
void 0===e?void 0:e[0].layerType)&&void 0!==d?d:this.item.serviceInfo.layerType;this._showPreviewStylesTab=!1;f["default"].hideNodes(this._shownPreviewStylesContent)};m.prototype.createItemBrowser=function(){var e=this;this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:t["default"].replaceLayer.selectReplacementLayer,mainActionTitle:t["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent",
"myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(e.isCacheContent?'typekeywords:"ExtractedCache" -':"")+'typekeywords:"Hosted Service" NOT id:'+e.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}};this.inherited(arguments)};m.prototype.checkLayerCompatibility=function(){var e=this,d=new z["default"];if(this.isTile)this.inherited(arguments).then(function(){d.resolve()},
function(h){e.handleLayerSelectionError(h)});else{var a=this.isCacheContent,b=t["default"].replaceLayer.error,c=!0;u["default"](this._selectedReplacementItem.url,null,function(h){e._selectedReplacementItem.getRelatedItems(a?"DataStore2ByRefService":"Service2Service","reverse").then(function(n){var p;if(null===(p=e.item.serviceInfo.layers)||void 0===p?0:p[0]){p=y["default"](e.item.serviceInfo.layers[0].spatialReference,h.layers[0].spatialReference);var w=e.layerType===h.layers[0].layerType;n=0>=n.length;
a||n?p||w?p?a||w?c=!1:b=t["default"].replaceLayer.replaceSceneLayer.layerTypeError:b=t["default"].replaceLayer.differentCoordinateSystem:b=t["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError:b=t["default"].replaceLayer.replaceSceneLayer.sceneLayerPackageError;c?d.reject(Error(b)):d.resolve()}else d.resolve()})},function(h){e.handleLayerSelectionError(h)})}return d};m.prototype.checkForCompatibleStyles=function(e){e=this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");
f["default"].showNode(this._checkStylesSuccess);f["default"].hideNodes(this._checkStylesWarnings);f["default"].hideNode(this._checkStyles);this._primaryBtn.disabled=!1;e&&this._primaryBtn.focus()};m.prototype.handleHelp=function(){var e;window.open(""+q["default"].self.helpBase+((null===(e=q["default"].self.helpMap)||void 0===e?void 0:e.m["120001916"])||""))};m.prototype.replaceLayer=function(){var e={toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),
replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"};return g["default"].request({url:this.portal.portalUrl+"content/users/"+this.portal.user.username+"/replaceService",content:e},{usePost:!0})};return m=r.__decorate([k["default"](E["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/OverwriteFromCloud":function(){define("require exports tslib esri/Evented dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/Deferred ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dijit/_WidgetsInTemplateMixin dojo/_base/lang esri/lang arcgisonline/pages/portal/cloudProvider/BoxConnect arcgisonline/pages/portal/cloudProvider/DropBoxConnect arcgisonline/pages/portal/cloudProvider/GoogleConnect arcgisonline/pages/portal/cloudProvider/OneDriveConnect ../../../sharing/dijit/dialog/ConfirmDialog ./_CreateItemUtilMixin dojo/text!arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function n(){this.templateString=
h["default"]}n.prototype.postMixInProperties=function(){this.inherited(arguments);z["default"].mixin(this,{isBatch:this.items&&1<this.items.length});this.i18n=z["default"].mixin({},u["default"])};n.prototype.startup=function(p,w,B){var A;this.inherited(arguments);this.portal=p;this.cloudProviderInfo=w;this.originalItemToOverwrite=B;this.addItem=null;this.currentCloudProvider="";this.cloudConnect={googleConnect:null,dropBoxConnect:null,oneDriveConnect:null,boxConnect:null,none:null};this.cloudDriveText=
"";this.publishInfo=null;switch(null===(A=this.cloudProviderInfo)||void 0===A?void 0:A.cloudProvider){case "boxConnect":this.currentCloudProvider="boxConnect";this.cloudConnect[this.currentCloudProvider]=new m["default"];this.cloudDriveText="Box";break;case "dropBoxConnect":this.currentCloudProvider="dropBoxConnect";this.cloudConnect[this.currentCloudProvider]=new e["default"];this.cloudDriveText="Dropbox";break;case "oneDriveConnect":this.currentCloudProvider="oneDriveConnect";this.cloudConnect[this.currentCloudProvider]=
new a["default"];this.cloudDriveText="OneDrive";break;case "googleConnect":this.currentCloudProvider="googleConnect";this.cloudConnect[this.currentCloudProvider]=new d["default"];this.cloudDriveText="Google Drive";break;default:this.currentCloudProvider="none",this.cloudDriveText=u["default"].overwriteFromGeoJSON.sourceGeoJSON}return this.initUI()};n.prototype.showModal=function(){var p=this,w=new k["default"],B=u["default"].overwriteFromCloudDlg.overwriteCloudButton+this.cloudDriveText;"none"===
this.currentCloudProvider&&(B=u["default"].updateItemDlg.updateFeatures);this.dlg=new b["default"]({title:u["default"].overwriteFromCloudDlg.originalDialogTitle+this.cloudDriveText,style:{width:"500px",height:"auto"},buttonOkLabel:B});B="";var A=this.cloudProviderInfo.mimeType;switch(A){case "google-apps":case "googlesheets":B=u["default"].overwriteFromCloudDlg.cloudFileTypeGoogleSheets;this.cloudProviderInfo.mimeType="googlesheets";break;case "csv":B=u["default"].overwriteFromCloudDlg.cloudFileTypeCsv;
break;case "excel":case "spreadsheetml":B=u["default"].overwriteFromCloudDlg.cloudFileTypeExcel;break;case "shapeFile":B=u["default"].overwriteFromCloudDlg.cloudFileTypeShapefile;break;case "fgdb":B=u["default"].overwriteFromCloudDlg.cloudFileTypeFgdb;break;case "geojson":B=u["default"].overwriteFromCloudDlg.cloudFileTypeGeoJson;break;default:B=u["default"].overwriteFromCloudDlg.cloudFileTypeExcel}"none"===this.currentCloudProvider&&A.includes("geojson")?(B=q["default"].substitute({title:this.originalItemToOverwrite.title},
u["default"].overwriteFromGeoJSON.description),t["default"](".overwriteInfoNote",this.domNode).addClass("hide")):B=q["default"].substitute({title:this.originalItemToOverwrite.title,fileType:B,cloudDrive:this.cloudDriveText},u["default"].overwriteFromCloudDlg.overwriteInfoText);t["default"](".overwriteInfoText",this.domNode).attr("innerHTML",B);this.dlg.setContent(this.domNode);this.dlg.show();this.own(l["default"](this.dlg,"ok",function(){p.set("readOnly",!0);var D="";p.loaderHelper(!0,u["default"].overwriteFromCloudDlg.defaultLoading);
"none"!==p.currentCloudProvider?(p.cloudConnect[p.currentCloudProvider].GetTokenViaOauth("https://"+p.portal.portalHostname).then(function(F){D="googleConnect"===p.cloudProviderInfo.cloudProvider?["google-apps","googlesheets"].includes(A)?"https://www.googleapis.com/drive/v3/files/"+p.cloudProviderInfo.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://www.googleapis.com/drive/v3/files/"+p.cloudProviderInfo.id+
'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"dropBoxConnect"===p.cloudProviderInfo.cloudProvider?'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'","Dropbox-API-Arg":"{\\"path\\":\\"'+p.cloudProviderInfo.id+'\\"}"}':"oneDriveConnect"===p.cloudProviderInfo.cloudProvider?"https://graph.microsoft.com/v1.0/me/drive/items/"+p.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://api.box.com/2.0/files/"+
p.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}';p.overwriteItem(D)}),function(F){"popupBlocked"===F?p.showError(u["default"].overwriteFromCloudDlg.errors.popupIssue):"InvalidToken"===F||"windowClosed"===F?p.loaderHelper(!1,null):p.showError(F)}):p.overwriteItem(p.cloudProviderInfo.url)}));l["default"](this.dlg,"cancel",function(){p.set("readOnly",!0);p.onCancel()});return w};n.prototype.onCancel=function(){this.dlg&&this.dlg.destroyRecursive()};n.prototype.overwriteItem=
function(p){var w=this;this.loaderHelper(!0,u["default"].overwriteFromCloudDlg.addingItem);this.addExternalItem(p,this.originalItemToOverwrite.title,this.cloudProviderInfo.mimeType).then(function(){w.publishInfo={itemId:w.addItem.id,filetype:w.getNameForMimeType(w.cloudProviderInfo.mimeType,"publish")};w.getPublishParametersForOverwrite().then(function(B){w.publishInfo.item=w.addItem;w.publishInfo.publishParameters=B;w.publishInfo.overwrite=!0;w.publishInfo.deleteSourceItemUponCompletion=!0;w.loaderHelper(!0,
u["default"].overwriteFromCloudDlg.overwriting);w.publishExternalItem().then(function(A){w.updateTypeKeyword(A).then(function(){window.location.href="item.html?id\x3d"+A[0].serviceItemId+"\x26jobid\x3d"+A[0].jobId})})})});(function(B){w.showError(u["default"].overwriteFromCloudDlg.errors.addItemCheckStatusIssue,!0)})};n.prototype.initUI=function(){return new k["default"]};n.prototype.addExternalItem=function(p,w,B){var A=this,D=new k["default"];p={dataUrl:p,async:!0,type:this.getNameForMimeType(B,
"addItemType"),typeKeywords:this.getNameForMimeType(B,"addItemKeywords"),Title:w,filename:w};var F=this.portal;c["default"].addItem(p,this.originalItemToOverwrite.folderId,F).then(function(v){A.addItem=v;c["default"].checkStatus(A.addItem,D,null,F,function(C){D.resolve(C)})});(function(v){A.showError(v);D.reject(v)});return D};n.prototype.getPublishParametersForOverwrite=function(){var p=this,w=new k["default"];c["default"].getPublishParametersForOverwrite(this.originalItemToOverwrite,this.getNameForMimeType(this.cloudProviderInfo.mimeType,
"addItem")).then(function(B){w.resolve(B)});(function(B){p.showError(B);w.reject(B)});return w};n.prototype.publishExternalItem=function(){var p=this,w=new k["default"];c["default"].publishItem(this.publishInfo.item,this.publishInfo,this.portal).then(function(B){w.resolve(B.publishResult)});(function(B){p.showError(B);w.reject(B)});return w};n.prototype.getNameForMimeType=function(p,w){var B="";return B=-1!==w.indexOf("addItem")?-1!==p.indexOf("csv")?"CSV":-1!==p.indexOf("excel")?"Microsoft Excel":
-1!==p.indexOf("shapeFile")?"Shapefile":-1!==p.indexOf("fgdb")?"File Geodatabase":-1!==p.indexOf("geojson")?"GeoJson":-1!==p.indexOf("sheets")?"Microsoft Excel":"CSV":-1!==p.indexOf("csv")?"csv":-1!==p.indexOf("excel")?"excel":-1!==p.indexOf("shapeFile")?"shapefile":-1!==p.indexOf("fgdb")?"fileGeodatabase":-1!==p.indexOf("geojson")?"geojson":-1!==p.indexOf("sheets")?"excel":"csv"};n.prototype.updateTypeKeyword=function(p){var w=this,B=new k["default"],A=this.portal,D=this.originalItemToOverwrite.folderId,
F="Cloud Drive",v=JSON.parse(this.publishInfo.publishParameters);if("address"===v.locationType||v.layers[0]&&"address"===v.layers[0].locationType)F+=",showUnmatchedAddresses,Involved Lookup";else if("none"===v.locationType||v.layers[0]&&"none"===v.layers[0].locationType)F+=",Table";c["default"].updateItem({folderId:D,id:p[0].serviceItemId,typeKeywords:F},A).then(function(){B.resolve()});(function(C){w.showError(C);B.reject(C)});return B};n.prototype.showError=function(p,w){var B=this,A=z["default"].mixin(z["default"].mixin({},
u["default"].overwriteFromCloudDlg.errors.error),p);this._errorDlg=new b["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(A).then(function(){B.set("readOnly",!1);B._errorDlg.hide()});w||null!=this.addItem&&c["default"].deleteItem(this.addItem,this.portal);this.loaderHelper(!1,null);return!1};n.prototype.loaderHelper=function(p,w){var B=w?w:"Loading...";!0===p?(this.showHideDiv(".loader",!0),t["default"](".loader-text",this.domNode).attr("innerHTML",B),t["default"](".overwriteDialog",
this.domNode).style("opacity","0.5"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","none"),this.dlg.okButton.set("disabled",!0),this.dlg.cancelButton.set("disabled",!0)):(t["default"](".loader-text",this.domNode).attr("innerHTML",B),this.showHideDiv(".loader",!1),t["default"](".overwriteDialog",this.domNode).style("opacity","1"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","auto"),this.dlg.okButton.set("disabled",!1),this.dlg.cancelButton.set("disabled",
!1))};n.prototype.showHideDiv=function(p,w){!0===w?t["default"](p).removeClass("hide"):t["default"](p).addClass("hide")};return n=r.__decorate([y["default"](g["default"],f["default"],E["default"],x["default"])],n)}()})},"arcgisonline/pages/portal/cloudProvider/BoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(U,M,r,x,t,l,f,g){x=r.__importDefault(x);t=r.__importDefault(t);
l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);return function(){function k(y){this.boxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(y){var u=this,E=new f["default"],z=y+"/home/cloudDriveOauth-callback2.html";this._oauthSignIn("https://account.box.com/api/oauth2/authorize?redirect_uri\x3d"+z+"\x26response_type\x3dcode\x26client_id\x3d"+x["default"].boxClientId+"\x26locale\x3d"+g["default"].locale,y).then(function(q){u._getTokenValue(q,
"code").then(function(m){u._makeExternalRequests("POST","https://api.box.com/oauth2/token","grant_type\x3dauthorization_code\x26code\x3d"+m+"\x26client_id\x3d"+x["default"].boxClientId+"\x26client_secret\x3d"+x["default"].boxClientSecret+"\x26redirect_uri\x3d"+z).then(function(e){u.boxToken=e.access_token;E.resolve(e.access_token)},function(e){E.reject(e)})})},function(q){E.reject(q)});return E};k.prototype.GetAllFiles=function(y){var u=this,E=new f["default"],z=null===y||void 0===y?void 0:y.searchText,
q=null===y||void 0===y?void 0:y.dropdownFilter;y=null===y||void 0===y?void 0:y.previousOrNext;var m="Bearer "+this.boxToken;y||(this.allPages=[]);var e="https://api.box.com/2.0/search?fields\x3did,name\x26type\x3dfile\x26limit\x3d10";e=z?e+("\x26query\x3d"+z):e+"\x26query\x3dcsv xls";e="all"!==q&&q?"csv"===q?e+"\x26file_extensions\x3dcsv":"excel"===q?e+"\x26file_extensions\x3dxls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx";y&&"next"===y&&(e+="\x26offset\x3d"+
this.allPages[this.allPages.length-1].NextToken);y&&"previous"===y&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e+="\x26offset\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,m,"application/json").then(function(d){var a={files:[],next:d.total_count>d.limit+d.offset?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:a.next,Previous:a.previous,NextToken:d.total_count>d.limit+d.offset?d.limit+
d.offset:!1});for(var b=0;b<d.entries.length;b++){var c=d.entries[b];a.files.push({id:c.id,name:c.name,mimeType:-1!==c.name.indexOf("csv")?"csv":"excel",downloadUrl:"https://api.box.com/2.0/files/"+c.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.boxToken+'"}'})}E.resolve(a)},function(d){E.reject(d)});return E};return k=r.__decorate([l["default"](t["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/CommonCloudProvider":function(){define("require exports tslib ../../../tsutils/declareDecorator dojo/Deferred dojo/Stateful".split(" "),
function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(g){}f.prototype.postscript=function(){};f.prototype._oauthSignIn=function(g,k){var y=new t["default"],u=k+"/home/cloudDriveOauth-callback.html?cloudUrl\x3d"+(g+"\x26currentSourceUrl\x3d"+(window.location.protocol+"//"+window.location.hostname)+"\x26portalHostName\x3d"+k),E=document.createElement("iframe");E.src=u;E.className="hide";document.body.appendChild(E);u=window.addEventListener?
"addEventListener":"attachEvent";(0,window[u])("attachEvent"===u?"onmessage":"message",function(z){z.origin===k&&("popupBlocked"!==z.data&&"windowClosed"!==z.data||y.reject(z.data),y.resolve(z.data))},!1);return y};f.prototype._getTokenValue=function(g,k){var y=new t["default"];k=k.replace(/[[]/,"[").replace(/[]]/,"]");var u=(new RegExp("[?\x26#]"+k+"\x3d([^\x26#]*)")).exec(g);null==u?y.reject("InvalidToken"):y.resolve(u[1]);return y};f.prototype._makeExternalRequests=function(g,k,y,u,E){var z=new t["default"],
q=new XMLHttpRequest;q.open(g,k,!1);u&&q.setRequestHeader("Authorization",u);E&&q.setRequestHeader("Content-type",E);y?q.send(y):q.send();g=JSON.parse(q.responseText);400<=q.status&&z.reject(JSON.parse(q.responseText));z.resolve(g);return z};return f=r.__decorate([x["default"](l["default"])],f)}()})},"arcgisonline/pages/portal/cloudProvider/DropBoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(U,M,r,x,t,l,f,g){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);return function(){function k(y){this.dropBoxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(y){var u=this,E=new f["default"],z="dropbox"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://www.dropbox.com/oauth2/authorize?redirect_uri\x3d"+(y+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
x["default"].dropboxClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,y).then(function(q){u._getTokenValue(q,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(q,"access_token").then(function(e){u.dropBoxToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(q){E.reject(q)});return E};k.prototype.GetAllFiles=function(y){var u=this,E=new f["default"],z=null===y||void 0===y?void 0:y.searchText,q=null===y||void 0===y?void 0:y.dropdownFilter,m=null===y||void 0===
y?void 0:y.previousOrNext;y="Bearer "+this.dropBoxToken;m||(this.allPages=[]);var e="";z=z?" "+z:"";var d=0;m&&"next"===m&&(d=this.allPages[this.allPages.length-1].NextToken);m&&"previous"===m&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d=this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());m="";"csv"===q?(m='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="csv"):"excel"===q?(m='{"path":"","query":"'+z+' xls","mode": "filename_and_content","max_results":10,"start":'+
d+"}",e="excel"):"shapeFile"===q?(m='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="shapeFile"):"fgdb"===q?(m='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="fgdb"):"geoJson"===q?(m='{"path":"","query":"'+z+' .geojson","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="geojson"):(m='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+d+"}",e=
"csv");this._makeExternalRequests("POST","https://api.dropboxapi.com/2/files/search",m,y,"application/json").then(function(a){var b={files:[],next:a.more?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:b.next,Previous:b.previous,NextToken:a.more?a.start:null});for(var c=0;c<a.matches.length;c++){var h=a.matches[c];"file"===h.metadata[".tag"]&&b.files.push({id:h.metadata.id,name:h.metadata.name,mimeType:e,downloadUrl:'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+
u.dropBoxToken+'","Dropbox-API-Arg":"{\\"path\\":\\"'+h.metadata.id+'\\"}"}'})}E.resolve(b)},function(a){E.reject(a)});return E};return k=r.__decorate([l["default"](t["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/GoogleConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(U,M,r,x,t,l,f,g){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);
f=r.__importDefault(f);g=r.__importDefault(g);return function(){function k(y){this.googleToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(y){var u=this,E=new f["default"],z="google"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://accounts.google.com/o/oauth2/v2/auth?scope\x3dhttps://www.googleapis.com/auth/drive.readonly\x26redirect_uri\x3d"+(y+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+x["default"].googleClientId+
"\x26hl\x3d"+g["default"].locale+"\x26state\x3d"+z,y).then(function(q){u._getTokenValue(q,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(q,"access_token").then(function(e){u.googleToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(q){E.reject(q)});return E};k.prototype.GetAllFiles=function(y){var u=this,E=new f["default"],z=null===y||void 0===y?void 0:y.searchText,q=null===y||void 0===y?void 0:y.dropdownFilter;y=null===y||void 0===y?void 0:y.previousOrNext;y||
(this.allPages=[]);var m="",e="https://www.googleapis.com/drive/v3/files?access_token\x3d"+this.googleToken+"\x26pageSize\x3d10\x26q\x3d";z&&(e+="name contains '"+z+"'and");"csv"===q?(e+='(mimeType\x3d"text/csv")',m="csv"):"excel"===q?(e+='(mimeType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"ormimeType\x3d"application/vnd.ms-excel")',m="excel"):"shapeFile"===q?(e+='(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',m="shapeFile"):"fgdb"===q?(e+=
'(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',m="fgdb"):"geoJson"===q?(e+='(name contains "json" or name contains "geojson")and(mimeType\x3d"application/octet-stream"ormimeType\x3d"application/json")',m="geojson"):"sheets"===q?(e+='(mimeType\x3d"application/vnd.google-apps.spreadsheet")',m="googlesheets"):(e+='(mimeType\x3d"text/csv")',m="csv");y&&"next"===y&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-1].NextToken);y&&"previous"===y&&2<=this.allPages.length&&
(this.allPages.pop(),1<this.allPages.length&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,null,"application/json").then(function(d){var a={files:[],next:d.nextPageToken?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:a.next,Previous:a.previous,NextToken:d.nextPageToken?d.nextPageToken:null});for(var b=0;b<d.files.length;b++){var c=d.files[b];a.files.push({id:c.id,name:c.name,mimeType:m,downloadUrl:-1!==
c.mimeType.indexOf("google-apps")?"https://www.googleapis.com/drive/v3/files/"+c.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.googleToken+'"}':"https://www.googleapis.com/drive/v3/files/"+c.id+'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.googleToken+'"}'})}E.resolve(a)},function(d){E.reject(d)});return E};return k=r.__decorate([l["default"](t["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/OneDriveConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(U,M,r,x,t,l,f,g){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);return function(){function k(y){this.oneDriveToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(y){var u=this,E=new f["default"],z="onedrive"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope\x3dfiles.read\x26redirect_uri\x3d"+(y+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
x["default"].oneDriveClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,y).then(function(q){u._getTokenValue(q,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(q,"access_token").then(function(e){u.oneDriveToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(q){E.reject(q)});return E};k.prototype.GetAllFiles=function(y){var u=this,E=new f["default"],z=null===y||void 0===y?void 0:y.searchText,q=null===y||void 0===y?void 0:y.dropdownFilter;y=null===y||void 0===
y?void 0:y.previousOrNext;var m="Bearer "+this.oneDriveToken;y||(this.allPages=[]);var e="",d="https://graph.microsoft.com/v1.0/me/drive/root/search(q\x3d'";z&&(d+=z+" ");"csv"===q?(d+=".csv",e="csv"):"excel"===q?(d+=".xls",e="excel"):"shapeFile"===q?(d+=".zip",e="shapeFile"):"fgdb"===q?(d+=".zip",e="fgdb"):"geoJson"===q?(d+=".geojson .json",e="geojson"):(d+=".csv",e="csv");d+="')?select\x3dname,id,file\x26top\x3d10";y&&"next"===y&&(d+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-1].NextToken);
y&&"previous"===y&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,m,"application/json").then(function(a){var b={files:[],next:a["@odata.nextLink"]?!0:!1,previous:1<=u.allPages.length?!0:!1},c={Next:b.next,Previous:b.previous,NextToken:a["@odata.nextLink"]?u._getNextTokenFromUrl(a["@odata.nextLink"],"skiptoken"):null};u.allPages.push(c);for(c=
0;c<a.value.length;c++){var h=a.value[c];h.file&&("fgdb"!==e&&"shapeFile"!==e||"application/zip"===h.file.mimeType)&&b.files.push({id:h.id,name:h.name,mimeType:e,downloadUrl:"https://graph.microsoft.com/v1.0/me/drive/items/"+h.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.oneDriveToken+'"}'})}E.resolve(b)},function(a){E.reject(a)});return E};k.prototype._getNextTokenFromUrl=function(y,u){u=u.replace(/[[]/,"[").replace(/[]]/,"]");var E=(new RegExp("[?\x26#$]"+u+"\x3d([^\x26#]*)")).exec(y);
return null===E?"":E[1]};return k=r.__decorate([l["default"](t["default"])],k)}()})},"arcgisonline/pages/item/widgets/_metadata":function(){define("require exports tslib dojo/_base/lang dojo/Deferred esri/lang dojo/topic ../../../esriGeowConfig ../../../sharing/util ../../utils/arrays ../../statusUtil dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/utils/metadata".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);
g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);return{_isLoading:!1,_gxeContext:null,_editor:null,_gxeAdaptor:null,_portalItemContext:null,_portalItemAdaptor:null,_formats:{formatDefault:"default",formatArcGIS:"arcgis",formatFGDC:"fgdc",formatINSPIRE:"inspire",formatISO19139:"iso19139",formatISO1913932:"iso19139-3.2",formatISO19115:"iso19115"},configureGeocoders:function(q,m){for(var e=q?x["default"].clone(q):[],d=0;d<e.length;d++){var a=
e[d];if(k["default"].isEsriWorldGeocoder(a)){a.suggest=!0;a.name=E["default"].common.esriWorldGeocoder;a.singleLineFieldName="SingleLine";l["default"].isDefined(a.placefinding)||(a.placefinding=!0);l["default"].isDefined(a.batch)||(a.batch=!0);break}}e=e.filter(function(b){return(null===b||void 0===b?void 0:b.placefinding)&&(null===b||void 0===b?void 0:b.singleLineFieldName)});0<e.length&&(m.arcgisGeocoder=!1,m.geocoders=e)},openLayerEditor:function(q,m){var e=this,d,a,b=new t["default"],c=k["default"].getToken(),
h=g["default"].self,n=0<(null===(d=h.metadataFormats)||void 0===d?void 0:d.length)?x["default"].clone(h.metadataFormats):null,p=(null===(a=h.helperServices)||void 0===a?0:a.geocode)?x["default"].clone(h.helperServices.geocode):[],w=y["default"].find(q.layers||[],function(B){return B.id.toString()===m.toString()});if(null===w||void 0===w?0:w.layerMetadataUrl)w.rawMetadataUrl=w.layerMetadataUrl.split("?")[0];else if(null===w||void 0===w?0:w.url)w.rawMetadataUrl=w.url.split("?")[0]+"/metadata";this._isLoading?
b.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require(["esri/dijit/metadata/context/GxeContext","esri/dijit/metadata/context/GxeAdaptor","esri/dijit/metadata/editor/EditorDialog","esri/dijit/metadata/editor/Editor","dojo/domReady!"],function(B,A,D){var F=E["default"].itemProperties.metadataISO1913932,v={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],arcgisMode:!0,defaultArcGISStyle:null,basemapUrl:null,basemap:null,getOriginalXml:void 0},
C={getAllowDeleteMetadata:function(){return!0},getAllowEditMetadata:function(){return!0},getOriginalXml:void 0,deleteMetadata:function(){var H=new t["default"];k["default"].request({url:w.rawMetadataUrl+"/update/",content:{metadata:"",metadataUploadFormat:"xml"}},{usePost:!0}).then(function(K){(null===K||void 0===K?0:K.statusUrl)?u["default"].checkAsyncJobStatus(K.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{deleted:!0});H.resolve()},function(){f["default"].publish("metadata/layerEditor/updated",
{deleted:!0});H.resolve()}):(H.resolve(),f["default"].publish("metadata/layerEditor/updated",{deleted:!0}))},function(K){return H.resolve()});return H},saveXml:function(H,K){var O=new t["default"];k["default"].request({url:w.rawMetadataUrl+"/update/",content:{metadata:K,metadataUploadFormat:"xml"}},{usePost:!0}).then(function(L){(null===L||void 0===L?0:L.statusUrl)?u["default"].checkAsyncJobStatus(L.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});O.resolve()},
function(){setTimeout(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});O.resolve()},3E3)}):(f["default"].publish("metadata/layerEditor/updated",{changed:!0}),O.resolve())},function(L){return O.resolve()});return O},viewHtml:function(){var H=c?"\x26token\x3d"+c:"",K=new t["default"];H="?format\x3ddefault\x26f\x3dhtml"+H;(null===w||void 0===w?0:w.rawMetadataUrl)?k["default"].openPage(w.rawMetadataUrl+H,!1):k["default"].openPage(w.url.split("?")[0]+"/metadata"+H,!1);K.resolve();
return K}},G=function(){e._editor=new D({title:w.name,gxeAdaptor:e._gxeAdaptor,gxeContext:e._gxeContext});e._editor.show();e._isLoading=!1;b.resolve(e._editor)};if(0<(null===n||void 0===n?void 0:n.length))switch(n[0]){case e._formats.formatFGDC:F=E["default"].itemProperties.metadataFGDC;break;case e._formats.formatINSPIRE:F=E["default"].itemProperties.metadataINSPIRE;break;case e._formats.formatISO19139:F=E["default"].itemProperties.metadataISO19139;break;case e._formats.formatISO19115:F=E["default"].itemProperties.metadataISO19115}v.defaultArcGISStyle=
F;g["default"].extentService?v.basemapUrl=g["default"].extentService:v.basemap="hybrid";e.configureGeocoders(p,v);e._gxeContext=new B(v);(null===w||void 0===w?0:w.hasMetadata)?z.retrieveArcGISXml(w.rawMetadataUrl).then(function(H){C.getOriginalXml=function(){return H};e._gxeAdaptor=new A(C);G()},function(H){C.getOriginalXml=function(){return null};e._gxeAdaptor=new A(C);G()}):(C.getOriginalXml=function(){return null},e._gxeAdaptor=new A(C),G())});(function(B){b.reject()})}),function(B){b.reject()});
return b},openEditor:function(q){var m=this,e,d,a=new t["default"],b=g["default"].self,c=0<(null===(e=b.metadataFormats)||void 0===e?void 0:e.length)?x["default"].clone(b.metadataFormats):null,h=(null===(d=b.helperServices)||void 0===d?0:d.geocode)?x["default"].clone(b.helperServices.geocode):[];this._isLoading?a.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require("esri/dijit/metadata/context/GxeContext esri/dijit/metadata/arcgis/portal/PortalItemContext esri/dijit/metadata/arcgis/portal/PortalItemAdaptor esri/dijit/metadata/editor/EditorDialog esri/dijit/metadata/editor/Editor dojo/domReady!".split(" "),
function(n,p,w,B){var A=E["default"].itemProperties.metadataISO1913932,D={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],defaultArcGISStyle:"",basemapUrl:"",basemap:""};if(0<(null===c||void 0===c?void 0:c.length)){var F=c[0];switch(F){case m._formats.formatFGDC:A=E["default"].itemProperties.metadataFGDC;break;case m._formats.formatINSPIRE:A=E["default"].itemProperties.metadataINSPIRE;break;case m._formats.formatISO19139:A=E["default"].itemProperties.metadataISO19139;break;case m._formats.formatISO19115:A=
E["default"].itemProperties.metadataISO19115}}D.defaultArcGISStyle=A;g["default"].extentService?D.basemapUrl=g["default"].extentService:D.basemap="hybrid";m.configureGeocoders(h,D);m._gxeContext=new n(D);m._portalItemContext=new p({isForPortalItemPage:!0,allowEditMetadata:!0,allowPushToItem:!0,autoPullItem:!0,portalItem:q,portal:b,restBaseUrl:g["default"].restBaseUrl,token:k["default"].getToken(),originalXml:null});m._portalItemAdaptor=new w({portalItemContext:m._portalItemContext,viewHtml:function(){var v=
new t["default"],C=q.itemUrl+"/info/metadata/metadata.xml",G=k["default"].getUser();k["default"].openPage(C+"?format\x3ddefault\x26output\x3dhtml"+((null===G||void 0===G?0:G.token)?"\x26token\x3d"+G.token:""),!1);v.resolve();return v}});y["default"].includes(q.typeKeywords,"Metadata")?m._portalItemAdaptor.readXml("text").then(function(v){m._portalItemContext.originalXml=z.cleanXml(v);m._editor=new B({title:q.title,gxeAdaptor:m._portalItemAdaptor,gxeContext:m._gxeContext});m._editor.show();m._isLoading=
!1;a.resolve(m._editor)}):(m._editor=new B({title:q.title,gxeAdaptor:m._portalItemAdaptor,gxeContext:m._gxeContext}),m._editor.show(),m._isLoading=!1,a.resolve(m._editor))});(function(n){a.reject()})}),function(n){a.reject()});return a}}})},"arcgisonline/pages/utils/metadata":function(){define("require exports tslib dojo/_base/Deferred ../../sharing/util esri/request dojo/i18n!../../nls/arcgisonline".split(" "),function(U,M,r,x,t,l,f){function g(b){var c;return b?"1.0"===(null===(c=b.querySelector("metadata \x3e Esri \x3e ArcGISFormat"))||
void 0===c?void 0:c.textContent):!1}function k(b){return"string"!==typeof b?null:null!==b?0===b.length?null:b.trim():b}function y(b){var c=document.createElement("textarea");c.innerHTML=b;return c.value}function u(b){var c=document.createElement("textarea");c.textContent=b;return c.innerHTML}function E(b,c){var h=b.querySelector(c);return y((null===h||void 0===h?void 0:h.innerHTML)||"")}function z(b,c,h){if(!g(b))return b;var n=b.querySelector("metadata");n=n.querySelector("dataIdInfo")||n.appendChild(b.createElement("dataIdInfo"));
var p=n.querySelector("idCitation")||n.appendChild(b.createElement("idCitation"));n=c===d.title?p:n;(n.querySelector(c)||n.appendChild(b.createElement(c))).textContent=y(h);return b}function q(b,c,h,n,p){var w=new x;p=(new XMLSerializer).serializeToString(c);n&&(p='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e'+p);t["default"].request({url:b,content:{metadataUploadFormat:"xml",metadata:p}},{usePost:!0}).then(function(B){return m(B.statusUrl,h)},function(B){return w.reject(B)}).then(function(B){return w.resolve(c)},
function(B){return w.reject(B)});return w}function m(b,c){var h=new x,n,p=0,w=setInterval(function(){p++;l["default"]({url:b,content:{token:c,f:"json"}}).then(function(B){n=((null===B||void 0===B?void 0:B.status)||"failed").toLowerCase();B=B||{status:"Failed"};if("completed"===n)clearInterval(w),h.resolve(B);else if("failed"===n||400<B.code)clearInterval(w),h.reject(B)},function(B){if("Invalid JSON primitive: ."!==(null===B||void 0===B?void 0:B.message)||10<p)clearInterval(w),h.reject(B)})},1E3);
return h}function e(b){return("0"+(b||0)).slice(-2)}Object.defineProperty(M,"__esModule",{value:!0});M.createLayerXML=M.updateLayerXML=M.updateLayerXMLProperty=M.parseEsriXML=M.setXMLTagValue=M.getXMLTagValue=M.encodeHTMLEntities=M.decodeHTMLEntities=M.cleanXml=M.isValidArcGISMetadata=M.retrieveArcGISXml=void 0;t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);M.retrieveArcGISXml=function(b,c){var h=new x,n=t["default"].getUser(),p=null===n||void 0===n?void 0:n.token,w={f:"xml"};
!c&&n&&(w.token=p);c&&c.token&&(w.token=c.token);l["default"]({url:b,content:w,handleAs:"text",preventCache:!0},{usePost:!0}).then(function(B){return h.resolve(k(B))},function(B){h.resolve(null)});return h};M.isValidArcGISMetadata=g;M.cleanXml=k;M.decodeHTMLEntities=y;M.encodeHTMLEntities=u;M.getXMLTagValue=E;M.setXMLTagValue=z;M.parseEsriXML=function(b){var c={};if(!b)return c;c=[].slice.call(b.querySelectorAll(d.keywords)).map(function(h){return h.textContent}).reduce(function(h,n){return h.concat(n.split(/\n/))},
[]);return{title:E(b,d.title),"abstract":E(b,d["abstract"]),summary:E(b,d.summary),credits:E(b,d.credits),use:E(b,d.use),keywords:c}};M.updateLayerXMLProperty=function(b){var c=b.url,h=b.token;b=z(b.xml,d[b.prop],u(b.value));return q(c,b,h)};M.updateLayerXML=q;M.createLayerXML=function(b){var c=b.url,h=b.portal,n=b.prop,p=b.layer,w=b.value;b=b.token;var B=new Date,A=B.getFullYear(),D=e(B.getMonth()+1),F=e(B.getDate()),v=e(B.getHours()),C=e(B.getMinutes());B=e(B.getSeconds());var G=(h=null===(G=null===
h||void 0===h?void 0:h.metadataFormats)||void 0===G?void 0:G[0])&&a[h]?"\x3cArcGISstyle\x3e"+a[h]+"\x3c/ArcGISstyle\x3e":"";p='\n    \x3cmetadata xml:lang\x3d"en"\x3e\n      \x3cEsri\x3e\n        \x3cCreaDate\x3e'+A+D+F+"\x3c/CreaDate\x3e\n        \x3cCreaTime\x3e"+v+C+B+"00\x3c/CreaTime\x3e\n        \x3cArcGISFormat\x3e1.0\x3c/ArcGISFormat\x3e\n        \x3cModDate\x3e"+A+D+F+"\x3c/ModDate\x3e\n        \x3cModTime\x3e"+v+C+B+"00\x3c/ModTime\x3e\n        "+G+"\n      \x3c/Esri\x3e\n      \x3cdataIdInfo\x3e\n        \x3cidCitation\x3e\n          \x3cresTitle\x3e"+
p.name+'\x3c/resTitle\x3e\n        \x3c/idCitation\x3e\n      \x3c/dataIdInfo\x3e\n      \x3cmdDateSt Sync\x3d"TRUE"\x3e'+A+D+F+"\x3c/mdDateSt\x3e\n    \x3c/metadata\x3e\n  ";p=(new DOMParser).parseFromString(p,"text/xml");p.querySelector("dataIdInfo").appendChild(p.createElement(d[n]));n=z(p,d[n],u(w));return q(c,n,b,!0)};var d;(function(b){b.title="resTitle";b["abstract"]="idAbs";b.summary="idPurp";b.credits="idCredit";b.use="resConst Consts useLimit";b.keywords="searchKeys keyword"})(d||(d={}));
var a={arcgis:f["default"].myOrganization.itemDetailsTab.formats.arcgis,fgdc:f["default"].myOrganization.itemDetailsTab.formats.fgdc,inspire:f["default"].myOrganization.itemDetailsTab.formats.inspire,iso19139:f["default"].myOrganization.itemDetailsTab.formats.iso19139,"iso19139-3.2":f["default"].myOrganization.itemDetailsTab.formats.iso1913932,iso19115:f["default"].myOrganization.itemDetailsTab.formats.iso19115}})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../utils/dom dojo/dom-construct dojo/topic dojo/string dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./httpsResultIssue.html dojo/text!./httpsResultUpdated.html dojo/text!./httpsResultUnchanged.html dojo/text!./httpsUpdate.html ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);return function(){function b(c,h){this.templateString=d["default"];this.WEB_SCENE="Web Scene"}b.prototype.postMixInProperties=
function(){this.inherited(arguments);this.i18n=z["default"]};b.prototype.startup=function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.isWebScene=this.item.type===this.WEB_SCENE;this.updateHttpsDesc.innerHTML=this.i18n.itemProperties[this.isWebScene?"updateSceneLayersToHTTPSDesc":"updateLayersToHTTPSDesc"];this.own(k["default"](this.okBtn,this.okClick.bind(this)),k["default"](this.doneBtn,this.doneClick.bind(this)),k["default"](this.cancelBtn,this.cancelClick.bind(this)),
k["default"](this.toggleIssues,this.issuesToggled.bind(this)),k["default"](this.toggleUpdated,this.updatedToggled.bind(this)),k["default"](this.toggleUnchanged,this.unchangedToggled.bind(this)))};b.prototype.filterForIssues=function(c){return c.filter(function(h){return"failure"===h.layerUrlChange||h.layerRenderingFailures||h.layerQueryUrlFailures||h.itemAccess&&("failure"===h.itemUrlChange||h.itemRenderingFailures||h.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(h){return("success"===
h.layerUrlChange||h.layerRenderingChanged||h.layerQueryUrlChanged)&&!h.layerRenderingFailures&&!h.layerQueryUrlFailures||h.itemAccess&&("success"===h.itemUrlChange||h.itemRenderingChanged||h.itemQueryUrlChanged)&&!h.itemRenderingFailures&&!h.itemQueryUrlFailures})};b.prototype.filterForUnchanged=function(c){return c.filter(function(h){return"none"===h.layerUrlChange&&!h.layerRenderingChanged&&!h.layerRenderingFailures&&!h.layerQueryUrlChanged&&!h.layerQueryUrlFailures&&(!h.itemAccess||h.itemAccess&&
"none"===h.itemUrlChange&&!h.itemRenderingChanged&&!h.itemRenderingFailures&&!h.itemQueryUrlChanged&&!h.itemQueryUrlFailures)})};b.prototype.writeOutIssues=function(c){var h=this;c.length?(this.issuesTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersWithIssues,{n:c.length}),l["default"].empty(this.issues),c.forEach(function(n){n.message="";if("failure"===n.layerUrlChange||n.layerQueryUrlFailures||n.itemQueryUrlFailures)n.message=h.i18n.itemProperties.layerMessages.httpsNotSupported;
else if(n.layerRenderingFailures||n.itemAccess&&n.itemRenderingFailures)n.message=h.i18n.itemProperties.layerMessages[h.isWebScene?"sceneSymbolHttpsNotSupported":"symbolHttpsNotSupported"];l["default"].place(g["default"].substitute(q["default"],n),h.issues,"last")}),t["default"].showNode(this.layersWithIssues)):t["default"].hideNode(this.layersWithIssues)};b.prototype.writeOutUpdated=function(c){var h=this;c.length?(this.updatedTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersUpdated,
{n:c.length}),l["default"].empty(this.updated),c.forEach(function(n){n.message="";"success"===n.layerUrlChange||n.layerRenderingChanged||n.layerQueryUrlChanged?(n.message=h.i18n.itemProperties.layerMessages[h.isWebScene?"updatedInScene":"updatedInMap"],n.itemAccess&&("success"===n.itemUrlChange||n.itemRenderingChanged||n.itemQueryUrlChanged)&&(n.message=h.i18n.itemProperties.layerMessages[h.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"])):n.itemAccess&&("success"===n.itemUrlChange||n.itemRenderingChanged||
n.itemQueryUrlChanged)?n.message=h.i18n.itemProperties.layerMessages[h.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"]:n.layerRenderingChanged&&(n.message=h.i18n.itemProperties.layerMessages[h.isWebScene?"updatedInScene":"updatedInMap"]);l["default"].place(g["default"].substitute(m["default"],n),h.updated,"last")}),t["default"].showNode(this.layersUpdated)):t["default"].hideNode(this.layersUpdated)};b.prototype.writeOutUnchanged=function(c){var h=this;c.length?(this.unchangedTitle.innerHTML=
g["default"].substitute(this.i18n.itemProperties.layersUnchanged,{n:c.length}),l["default"].empty(this.unchanged),c.forEach(function(n){n.message="";l["default"].place(g["default"].substitute(e["default"],n),h.unchanged,"last")}),t["default"].showNode(this.layersUnchanged)):t["default"].hideNode(this.layersUnchanged)};b.prototype.okClick=function(){var c=this;t["default"].hideNode(this.updateHttpsDesc);t["default"].showNode(this.updateHttpsLoading);t["default"].disableNode(this.okBtn,!0);x["default"].switchToHTTPS(this.item.itemData,
this.item).then(function(h){var n=c.filterForIssues(h.layers),p=c.filterForUpdated(h.layers),w=c.filterForUnchanged(h.layers);t["default"].hideNode(c.updateHttpsLoading);E["default"].isDefined(h.configChange)&&"failure"===h.configChange?t["default"].showNode(c.unexpectedError):(c.writeOutIssues(n),c.writeOutUpdated(p),c.writeOutUnchanged(w),n.length?c.issuesToggled():p.length?c.updatedToggled():w.length&&c.unchangedToggled(),n.length||p.length||!w.length?t["default"].showNode(c.updateHttpsResults):
t["default"].showNode(c.noChangesMade));t["default"].hideNode(c.okBtn);t["default"].hideNode(c.cancelBtn);t["default"].showNode(c.doneBtn);f["default"].publish("item-data/change")},function(h){t["default"].hideNode(c.updateHttpsLoading);t["default"].showNode(c.unexpectedError);t["default"].hideNode(c.okBtn);t["default"].hideNode(c.cancelBtn);t["default"].showNode(c.doneBtn)})};b.prototype.cancelClick=function(){f["default"].publish("update-to-https/cancel")};b.prototype.doneClick=function(){f["default"].publish("update-to-https/done")};
b.prototype.toggleSection=function(c,h){t["default"].showHide(h,c.classList.contains("icon-ui-right"));c.classList.toggle("icon-ui-right");c.classList.toggle("icon-ui-down")};b.prototype.issuesToggled=function(){this.toggleSection(this.toggleIssues,this.issues)};b.prototype.updatedToggled=function(){this.toggleSection(this.toggleUpdated,this.updated)};b.prototype.unchangedToggled=function(){this.toggleSection(this.toggleUnchanged,this.unchanged)};return b=r.__decorate([a["default"](y["default"],u["default"])],
b)}()})},"arcgisonline/map/core/urlUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/dom dojo/dom-construct dojo/json dojo/Deferred dojo/DeferredList esri/request esri/lang esri/layers/VectorTileLayer esri/layers/CSVLayer esri/layers/KMLLayer esri/layers/GeoRSSLayer esri/layers/WebTiledLayer esri/layers/WMSLayer esri/layers/WFSLayer esri/layers/WMTSLayer".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){function b(W,ca){var Q=new f;W._ssl&&delete W._ssl;var N=
esriGeowConfig.restBaseUrl+"content/users/"+ca.owner;N+=ca.ownerFolder?"/"+ca.ownerFolder:"";N+="/items/"+ca.id+"/update";var S={text:l.stringify(W),f:"json"},Y={usePost:!0};"http:"===window.location.protocol&&-1<N.indexOf("https://")&&(Y.useProxy=!0);k({url:N,content:S,load:function(Z){Q.resolve()},error:function(Z){Q.reject(Z)}},Y);return Q}function c(W){var ca=W.configLayer,Q=W.from,N=W.to,S=W.type,Y=W.checkRenderer,Z=new f;switch(ca.layerType||ca.type){case "ArcGISFeatureLayer":case void 0:if(ca.url)return h(W);
if(Y)return n(W);Z.resolve({type:"notTested",msg:"No URL"});break;case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":return h(W);case "VectorTileLayer":return p(W);case "CSV":return w(W);case "GeoRSS":return B(W);case "KML":return A(W);case "WebTiledLayer":return ca.wmtsInfo?
D(W):F(W);case "WFS":return v(W);case "WMS":return C(W);case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":Y={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",layerId:ca.id,type:"layer"},ca.portalUrl&&(Q=ca.portalUrl.replace(Q,N),Q!==ca.portalUrl?(ca.portalUrl=Q,M.mixin(Y,{msg:"Portal URL switched to "+N+".",code:"layer_001"})):M.mixin(Y,{msg:"Portal URL is already "+N+".",code:"layer_002"})),Z.resolve(Y);case "OpenStreetMap":Y={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",
layerId:ca.id,type:"layer"},Z.resolve(Y);default:if("table"===S)return h(W);Z.resolve({type:"notTested",msg:"Unknown type"})}return Z}function h(W){var ca=W.configLayer,Q=W.from,N=W.to,S=W.checkRenderer,Y=new f,Z=ca.url,da=ca.url.replace(Q,N),fa={url:Z,origUrl:Z,layerId:ca.id,type:"layer"};if(Z===da)return M.mixin(fa,{url:da,msg:"Layer URL is already "+N+".",code:"layer_002"}),S?G(ca,W,fa).then(function(qa){K(ca,qa).then(function(ua){X(W,ua).then(function(ya){Y.resolve(ya)})})}):G(ca,W,fa).then(function(qa){X(W,
qa).then(function(ua){Y.resolve(ua)})}),Y;if("http://"===Q&&"https://"===N&&-1===Z.indexOf("sampleserver")&&(-1<Z.indexOf(".arcgis.com")||-1<Z.indexOf(".arcgisonline.com")))return ca.url=da,M.mixin(fa,{url:da,msg:"Layer URL switched to "+N+".",code:"layer_001"}),S?G(ca,W,fa).then(function(qa){K(ca,qa).then(function(ua){X(W,ua).then(function(ya){Y.resolve(ya)})})}):G(ca,W,fa).then(function(qa){X(W,qa).then(function(ua){Y.resolve(ua)})}),Y;var ia=1,na=setInterval(function(){esri.id.isBusy()&&3>ia?ia++:
(esri.id.isBusy()&&esri.id.dialog.destroy(),M.mixin(fa,{msg:"Timeout",code:"layer_021"}),G(ca,W,fa).then(function(qa){X(W,qa).then(function(ua){Y.reject(ua)})}),clearInterval(na),delete na)},2E4);Q=da+(-1<da.indexOf("?")?"\x26f\x3djson":"?f\x3djson");k({url:Q,callbackParamName:"callback",load:function(qa,ua){na&&(clearTimeout(na),ca.url=da,M.mixin(fa,{url:da,msg:"Layer URL switched to "+N+".",code:"layer_001"}),S?G(ca,W,fa).then(function(ya){K(ca,ya).then(function(Aa){X(W,Aa).then(function(Ba){Y.resolve(Ba)})})}):
G(ca,W,fa).then(function(ya){X(W,ya).then(function(Aa){Y.resolve(Aa)})}))},error:function(qa){na&&(clearTimeout(na),esri.id.isBusy()?qa&&qa.message&&-1<qa.message.toLowerCase().indexOf("aborted")?(M.mixin(fa,{msg:"Aborted the Sign-In process.",code:"layer_012"}),G(ca,W,fa).then(function(ua){X(W,ua).then(function(ya){Y.reject(ya)})})):(M.mixin(fa,{msg:qa.message,code:"layer_010"}),G(ca,W,fa).then(function(ua){X(W,ua).then(function(ya){Y.reject(ya)})})):(M.mixin(fa,{msg:qa.message,code:"layer_010"}),
G(ca,W,fa).then(function(ua){X(W,ua).then(function(ya){Y.reject(ya)})})))}});return Y}function n(W){var ca=W.configLayer,Q=new f,N={url:"",origUrl:"",layerId:ca.id,msg:"Layer has no URL.",code:"layer_003",type:"layer",renderers:[],symbols:[]};if(ca.featureCollection)if(ca.featureCollection.layers){var S=[];U.forEach(ca.featureCollection.layers,function(Y,Z){if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&Y.layerDefinition.drawingInfo.renderer){var da=new f;L(ca,Y.layerDefinition.drawingInfo.renderer).then(M.hitch(this,
function(fa,ia){ca.featureCollection.layers[fa].layerDefinition.drawingInfo.renderer=ia.renderer;da.resolve(ia)},Z));S.push(da)}Y.featureSet&&Y.featureSet.features&&Y.featureSet.features.length&&Y.featureSet.features[0].symbol&&U.forEach(Y.featureSet.features,function(fa){var ia=new f;J(ca,fa.symbol).then(M.hitch(this,function(na,qa){N.symbols=[qa];ia.resolve(N)},Z));S.push(ia)})});S.length?(new g(S)).addCallback(function(Y){var Z=[],da=[];U.forEach(Y,function(fa){"renderer"===fa[1].type?Z.push(fa[1]):
"symbol"===fa[1].type&&da.push(fa[1])});M.mixin(N,{renderers:Z.length?Z:[],symbols:da.length?da:[]});X(W,N).then(function(fa){Q.resolve(fa)})}):X(W,N).then(function(Y){Q.resolve(Y)})}else X(W,N).then(function(Y){Q.resolve(Y)});else X(W,N).then(function(Y){Q.resolve(Y)});return Q}function p(W){var ca=W.configLayer,Q=W.from,N=W.to,S=new f,Y=ca.styleUrl;if(!ca.styleUrl&&ca.itemId){var Z=esriGeowConfig.restBaseUrl+"content/items/"+ca.itemId+"/resources";if(!esriGeowConfig.self.isPortal){var da=Z.indexOf("://"),
fa=Z.indexOf("/",da+3);Z=Z.substring(0,da+3)+esriGeowConfig.self.portalHostname+Z.substring(fa)}ca.styleUrl=Z+"/styles/root.json"}var ia=ca.styleUrl.replace(Q,N);Q=new u(ia);r.connect(Q,"onLoad",M.hitch(this,function(){var na={url:ia,origUrl:Y,layerId:ca.id,type:"layer"};ca.styleUrl===ia?M.mixin(na,{msg:"Layer URL is already "+N+".",code:"layer_002"}):(ca.styleUrl=ia,M.mixin(na,{msg:"Layer URL switched to "+N+".",code:"layer_001"}));X(W,na).then(function(qa){S.resolve(qa)})}));r.connect(Q,"onError",
M.hitch(this,function(na){X(W,{url:ca.styleUrl,origUrl:ca.styleUrl,layerId:ca.id,msg:na.message,code:"layer_010",type:"layer"}).then(function(qa){S.reject(qa)})}));return S}function w(W){var ca=W.configLayer,Q=W.from,N=W.to,S=W.checkRenderer,Y=new f,Z=ca.url.replace(Q,N),da=ca.url;if(da===Z)return W={url:Z,origUrl:da,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},S?K(ca,W).then(function(fa){Y.resolve(fa)}):Y.resolve(W),Y;W=new E(Z,{columnDelimiter:ca.columnDelimiter,
latitudeFieldName:ca.locationInfo.latitudeFieldName,longitudeFieldName:ca.locationInfo.longitudeFieldName});r.connect(W,"onLoad",M.hitch(this,function(){ca.url=Z;var fa={url:Z,origUrl:da,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};S?K(ca,fa).then(function(ia){Y.resolve(ia)}):Y.resolve(fa)}));r.connect(W,"onError",M.hitch(this,function(fa){Y.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:fa.message,code:"layer_010",type:"layer"})}));return Y}function B(W){var ca=
W.configLayer,Q=W.from,N=W.to,S=W.checkRenderer,Y=new f,Z=ca.url.replace(Q,N),da=ca.url;if(da===Z){var fa={url:Z,origUrl:da,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"};S&&ca.pointSymbol?J(ca,ca.pointSymbol).then(function(ia){fa.symbols=[ia];Y.resolve(fa)}):Y.resolve(fa);return Y}W=new q(Z);r.connect(W,"onLoad",M.hitch(this,function(){ca.url=Z;var ia={url:Z,origUrl:da,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};S&&ca.pointSymbol?
J(ca,ca.pointSymbol).then(function(na){ia.symbols=[na];Y.resolve(ia)}):Y.resolve(ia)}));r.connect(W,"onError",M.hitch(this,function(ia){Y.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:ia.message,code:"layer_010",type:"layer"})}));return Y}function A(W){var ca=W.configLayer,Q=W.from,N=W.to,S=new f,Y=ca.url.replace(Q,N),Z=ca.url;if(Z===Y)return S.resolve({url:Y,origUrl:Z,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),S;Q=Y;N=arcgisonline.sharing.util.getUser();
var da=esriGeowConfig.self.urlKey?esriGeowConfig.self.customBaseUrl:esriGeowConfig.self.portalHostname,fa=Q.indexOf(da);N&&ca.itemId&&-1<fa&&(Q="https://"+esriGeowConfig.self.portalHostname+Q.substring(fa+da.length));N&&(-1<Q.indexOf(esriGeowConfig.self.portalHostname)||-1<Q.indexOf(da))&&(N=arcgisonline.sharing.util.getToken())&&(Q+="?token\x3d"+N);Q=new z(Q);r.connect(Q,"onLoad",M.hitch(this,function(){ca.url=Y;var ia={url:Y,origUrl:Z,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",
type:"layer"};ca.itemId?(W.checkRenderer=!1,X(W,ia).then(function(na){S.resolve(na)})):S.resolve(ia)}));r.connect(Q,"onError",M.hitch(this,function(ia){S.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:ia.message,code:"layer_010",type:"layer"})}));return S}function D(W){var ca=W.configLayer,Q=W.from;W=W.to;var N=new f,S={};ca.wmtsInfo.customParameters&&(S.customParameters=ca.wmtsInfo.customParameters);ca.wmtsInfo.customLayerParameters&&(S.customLayerParameters=ca.wmtsInfo.customLayerParameters);
var Y=ca.wmtsInfo.url.replace(Q,W),Z=ca.wmtsInfo.url;if(Z===Y)return N.resolve({url:Y,origUrl:Z,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var da=function(){var na=!1;U.forEach(layerObj.layers,function(qa){qa.identifier===ca.wmtsInfo.layerIdentifier&&U.forEach(qa.tileMatrixSetInfos,function(ua){if(ua.tileMatrixSet===ca.wmtsInfo.tileMatrixSet){na=!0;layerObj.copyright&&"none"!==layerObj.copyright.toLowerCase()&&(ca.copyright=layerObj.copyright,180<layerObj.copyright.length&&
(ca.copyright=layerObj.copyright.substring(0,180)+"..."));var ya=-1<U.indexOf(qa.formats,"image/png")?"image/png":qa.formats[0];ca.templateUrl=layerObj.getTileUrlTemplate({identifier:qa.identifier,tileMatrixSet:ua.tileMatrixSet,format:ya});-1<ca.templateUrl.indexOf("http://")&&T(Y,ca.templateUrl)&&(ca.templateUrl=ca.templateUrl.replace("http://","https://"));-1<ca.templateUrl.indexOf("http://")?N.reject({url:ca.wmtsInfo.url,origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:"WTMS does not return https URLs.",
code:"layer_013",type:"layer"}):(ca.wmtsInfo.url=Y,N.resolve({url:Y,origUrl:Z,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))}})});na||N.reject({url:ca.wmtsInfo.url,origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:"WMTS is missing layer or tileMatrixSet.",code:"wmts_011",type:"layer"})};layerObj=new a(Y,S);var fa=r.connect(layerObj,"onError",function(na){r.disconnect(fa);r.disconnect(ia);S.serviceMode="KVP";layerObj=new a(Y,S);r.connect(layerObj,"onError",function(qa){N.reject({url:ca.wmtsInfo.url,
origUrl:ca.wmtsInfo.url,layerId:ca.id,msg:qa.message,code:"layer_010",type:"layer"})});r.connect(layerObj,"onLoad",M.hitch(this,function(){da()}))}),ia=r.connect(layerObj,"onLoad",M.hitch(this,function(){r.disconnect(fa);r.disconnect(ia);da()}));return N}function F(W){var ca=W.configLayer,Q=W.from;W=W.to;var N=new f,S=ca.templateUrl.replace(Q,W),Y=ca.templateUrl;if(Y===S)return N.resolve({url:S,origUrl:Y,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var Z=setTimeout(M.hitch(this,
function(){clearTimeout(Z);Z=null;N.reject({url:ca.templateUrl,origUrl:ca.templateUrl,layerId:ca.id,msg:"WebTiledLayer timeout error.",code:"WTL_012",type:"layer"})}),1E4);Q=S;ca.subDomains&&ca.subDomains.length&&(Q=Q.replace("{subDomain}",ca.subDomains[0]));Q=Q.replace("{level}",0).replace("{row}",0).replace("{col}",0);k({url:Q,load:function(da,fa){Z&&(clearTimeout(Z),ca.templateUrl=S,N.resolve({url:S,origUrl:Y,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))},error:function(da){Z&&
(clearTimeout(Z),N.reject({url:ca.templateUrl,origUrl:ca.templateUrl,layerId:ca.id,msg:"WebTiledLayer access error.",code:"WTL_011",type:"layer"}))}});return N}function v(W){var ca=W.config.spatialReference,Q=W.configLayer,N=W.from,S=W.to,Y=W.checkRenderer,Z=new f,da=Q.url.replace(N,S),fa=Q.url;if(fa===da)return W={url:da,origUrl:fa,layerId:Q.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},Y?K(Q,W).then(function(qa){Z.resolve(qa)}):Z.resolve(W),Z;var ia=new d;r.connect(ia,"onError",
M.hitch(this,function(qa){Z.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:qa.message,code:"layer_010",type:"layer"})}));var na={url:da,version:Q.wfsInfo.version,customParameters:Q.wfsInfo.customParameters};ia.initialize(na,function(qa){for(var ua,ya=0;ya<qa.length;ya++)if(qa[ya].name===Q.wfsInfo.name){ua=qa[ya];break}ua?(na={layerName:Q.wfsInfo.name,visible:Q.defaultVisibility,maxFeatures:Q.wfsInfo.maxFeatures?Q.wfsInfo.maxFeatures:3E3,swapXY:Q.wfsInfo.swapXY,geometryType:Q.layerDefinition?Q.layerDefinition.geometryType:
null,wkid:Q.layerDefinition?Q.layerDefinition.spatialReference.wkid:Q.wfsInfo.supportedSpatialReferences?Q.wfsInfo.supportedSpatialReferences[0]:4326,mode:"snapshot"},ia.selectLayer(na,function(Aa){Q.wfsInfo.wfsNamespace=ia.layerNamespace;Q.wfsInfo.featureUrl=ia.getFeatureUrl;-1<Q.wfsInfo.wfsNamespace.indexOf("http://")||-1<Q.wfsInfo.featureUrl.indexOf("http://")?Z.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not return https URLs.",code:"WFS_012",type:"layer"}):(Q.wfsInfo.supportedSpatialReferences=
ua.spatialReferences,-1===U.indexOf([3857,102100],ca.wkid)&&4326!==ca.wkid&&-1===U.indexOf(ia.spatialReferences,ca.wkid)?Z.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not contain map spatial reference.",code:"WFS_013",type:"layer"}):(Q.url=da,Aa={url:da,origUrl:fa,layerId:Q.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"},Y?K(Q,Aa).then(function(Ba){Z.resolve(Ba)}):Z.resolve(Aa)))})):Z.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not contain layer.",
code:"WFS_011",type:"layer"})});return Z}function C(W){var ca=W.configLayer,Q=W.from;W=W.to;var N=new f,S=ca.url.replace(Q,W),Y=ca.url;if(Y===S)return N.resolve({url:S,origUrl:Y,layerId:ca.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var Z=new e(S,{visibleLayers:ca.visibleLayers,customLayerParameters:ca.customLayerParameters,customParameters:ca.customParameters});r.connect(Z,"onLoad",M.hitch(this,function(){-1<Z.getMapURL.indexOf("http://")&&T(S,Z.getMapURL)&&(Z.getMapURL=
Z.getMapURL.replace("http://","https://"));-1<Z.getFeatureInfoURL.indexOf("http://")&&T(S,Z.getFeatureInfoURL)&&(Z.getFeatureInfoURL=Z.getFeatureInfoURL.replace("http://","https://"));-1<Z.copyright.indexOf("http://")&&T(S,Z.copyright)&&(Z.copyright=Z.copyright.replace("http://","https://"));if(-1<Z.getMapURL.indexOf("http://")||-1<Z.getFeatureInfoURL.indexOf("http://"))N.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});else if(-1<
Z.getMapURL.indexOf("https://localhost/")||-1<Z.getFeatureInfoURL.indexOf("https://localhost/"))N.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return valid https URLs.",code:"WMS_012",type:"layer"});else{for(var da=[],fa=0;fa<ca.layers.length;fa++){var ia=M.clone(ca.layers[fa]),na=function(Aa,Ba){U.forEach(Aa,function(Oa){Oa.subLayers&&0<Oa.subLayers.length?na(Oa.subLayers,Ba):Ba.push(Oa)},this)};if(Z.layerInfos){var qa=[];na(Z.layerInfos,qa);Z.layerInfos=qa}qa=!1;for(var ua=
0;ua<Z.layerInfos.length;ua++){var ya=Z.layerInfos[ua];if(ia.name===ya.name)if(qa=!0,ia.legendURL&&ya.legendURL){if(ia.legendURL=ya.legendURL,-1<ia.legendURL.indexOf("http://")&&T(S,ia.legendURL)&&(ia.legendURL=ia.legendURL.replace("http://","https://")),-1<ia.legendURL.indexOf("http://")){N.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});return}}else ia.legendURL=ya.legendURL}if(!qa){N.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,
msg:"WMS layer is missing.",code:"WMS_013",type:"layer"});return}da.push(ia)}ca.url=S;ca.mapUrl=Z.getMapURL;ca.featureInfoUrl=Z.getFeatureInfoURL;ca.copyright=Z.copyright;ca.layers=da;N.resolve({url:S,origUrl:Y,layerId:ca.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"})}}));r.connect(Z,"onError",M.hitch(this,function(da){N.reject({url:ca.url,origUrl:ca.url,layerId:ca.id,msg:da.message,code:"layer_010",type:"layer"})}));return N}function G(W,ca,Q){var N=new f,S=[];W.layers&&U.forEach(W.layers,
function(Z,da){if(Z.layerUrl){var fa=new f;h({configLayer:{url:Z.layerUrl,id:W.id+"_"+da},from:ca.from,to:ca.to,checkRenderer:!1}).then(M.hitch(this,function(ia,na){ia.layerUrl=na.url;fa.resolve(na)},Z),function(ia){fa.resolve(ia)});S.push(fa)}});if(S.length){var Y=[];(new g(S)).addCallback(function(Z){U.forEach(Z,function(da){Y.push(da[1])});Q.queryLayers=Y;N.resolve(Q)})}else N.resolve(Q);return N}function H(W,ca,Q,N){var S=new f,Y=[];Q.layers&&U.forEach(Q.layers,function(da,fa){if(da.layerUrl){var ia=
new f;h({configLayer:{url:da.layerUrl,id:W.id+"_item_"+fa},from:ca.from,to:ca.to,checkRenderer:!1}).then(M.hitch(this,function(na){da.layerUrl=na.url;ia.resolve(na)}),function(na){ia.resolve(na)});Y.push(ia)}});if(Y.length){var Z=[];(new g(Y)).addCallback(function(da){U.forEach(da,function(fa){Z.push(fa[1])});N.item.queryLayers=Z;S.resolve(N)})}else S.resolve(N);return S}function K(W,ca){var Q=new f,N=[];if(W.layerDefinition&&W.layerDefinition.drawingInfo&&W.layerDefinition.drawingInfo.renderer){var S=
new f;L(W,W.layerDefinition.drawingInfo.renderer).then(M.hitch(this,function(Z,da){Z.layerDefinition.drawingInfo.renderer=da.renderer;S.resolve(da)},W),function(Z){S.resolve(Z)});N.push(S)}W.layers&&U.forEach(W.layers,function(Z){if(Z.layerDefinition&&Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.renderer){var da=new f;L(W,Z.layerDefinition.drawingInfo.renderer).then(M.hitch(this,function(fa,ia){fa.layerDefinition.drawingInfo.renderer=ia.renderer;da.resolve(ia)},Z),function(fa){da.resolve(fa)});
N.push(da)}});if(N.length){var Y=[];(new g(N)).addCallback(function(Z){U.forEach(Z,function(da){Y.push(da[1])});ca.renderers=Y;Q.resolve(ca)})}else Q.resolve(ca);return Q}function O(W,ca,Q){var N=new f,S=[];ca.layers&&U.forEach(ca.layers,function(Z){if(Z.layerDefinition&&Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.renderer){var da=new f;L(W,Z.layerDefinition.drawingInfo.renderer).then(M.hitch(this,function(fa){Z.layerDefinition.drawingInfo.renderer=fa.renderer;da.resolve(fa)}),function(fa){da.resolve(fa)});
S.push(da)}});if(S.length){var Y=[];(new g(S)).addCallback(function(Z){U.forEach(Z,function(da){Y.push(da[1])});Q.item.renderers=Y;N.resolve(Q)})}else N.resolve(Q);return N}function L(W,ca){for(var Q=new f,N=[],S=l.stringify(ca),Y=S.indexOf("http://");-1<Y;){var Z=S.indexOf('"',Y+1);Z=S.substring(Y,Z);N.push(R(W,Z));Y=S.indexOf("http://",Y+1)}N.length?(new g(N)).addCallback(function(da){var fa=[];U.forEach(da,function(ia){var na=ia[1];fa.push(na);!0===ia[0]&&(S=S.replace(na.origUrl,na.url))});Q.resolve({renderer:l.parse(S),
origRenderer:ca,layerId:W.id,type:"renderer",symbols:fa})}):Q.resolve({renderer:ca,origRenderer:ca,layerId:W.id,type:"renderer",symbols:[]});return Q}function J(W,ca){var Q=new f;ca?ca.url?R(W,ca.url).then(function(N){ca.url=N.url;Q.resolve(N)},function(N){Q.resolve(N)}):Q.resolve({url:"",origUrl:"",layerId:W.id,msg:"Symbol has no URL.",code:"sym_003",type:"symbol"}):Q.resolve({url:"",origUrl:"",layerId:W.id,msg:"No symbol.",code:"sym_005",type:"symbol"});return Q}function R(W,ca){var Q=new f,N=ca;
if(ca.startsWith("https://"))return Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL already https",code:"sym_002",type:"symbol"}),Q;if(ca.startsWith("http://")){if(ca=ca.replace("http://","https://"),-1<ca.indexOf(esriGeowConfig.self.portalHostname))return Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"}),Q}else return Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL is relative path",code:"sym_004",type:"symbol"}),Q;this.cachedImages=
this.cachedImages||[];for(var S,Y=0;Y<this.cachedImages.length;Y++)if(this.cachedImages[Y].url===ca){S=this.cachedImages[Y];if("success"===S.status)Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"});else if("error"===S.status)Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"});else if("inProgress"===S.status)var Z=setInterval(M.hitch(this,function(na){"success"===na.status?(clearInterval(Z),
Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})):"error"===na.status&&(clearInterval(Z),Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"}))},S),1E3);return Q}S||(S={url:ca,status:"inProgress"},this.cachedImages.push(S));x.byId("imageTesterDiv")||t.create("div",{id:"imageTesterDiv",style:"position:absolute;top:-1000px;left:-1000px"},document.body);var da=Math.random()+"_testImage";
t.create("img",{id:da+"_testImage"},x.byId("imageTesterDiv"));var fa=r.connect(x.byId(da+"_testImage"),"onload",M.hitch(this,function(){r.disconnect(fa);clearTimeout(ia);t.destroy(da+"_testImage");S.status="success";Q.resolve({url:ca,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})})),ia=setTimeout(M.hitch(this,function(){r.disconnect(fa);t.destroy(da+"_testImage");clearTimeout(ia);S.status="error";Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",
code:"sym_010",type:"symbol"})}),5E3);x.byId(da+"_testImage").src=ca;return Q}function X(W,ca){var Q=W.configLayer,N=W.from,S=W.to,Y=W.checkedItemsList,Z=new f;if(Q.itemId&&!ca.item)if(Y[Q.itemId])if("inProgress"===Y[Q.itemId].status)var da=setInterval(M.hitch(this,function(fa,ia){"inProgress"!==Y[fa.itemId].status&&(clearInterval(da),ia.itemAccess=Y[fa.itemId].refObj.itemAccess,ia.item=Y[fa.itemId].refObj.item,Z.resolve(ia))},Q,ca),1E3);else ca.itemAccess=Y[Q.itemId].refObj.itemAccess,ca.item=Y[Q.itemId].refObj.item,
Z.resolve(ca);else Y[Q.itemId]={status:"inProgress",refObj:ca},ea(Q.itemId).then(function(fa){ca.itemAccess=!0;var ia={};if(fa&&fa.url){ca.item={url:fa.url,origUrl:fa.url,type:"layer"};if(P(ca.origUrl,fa.url)&&!P(ca.origUrl,ca.url))M.mixin(ca.item,{url:ca.url,msg:ca.msg,code:ca.code}),ia.url=fa.url.replace(N,S);else if(P(ca.origUrl,fa.url)&&P(ca.origUrl,ca.url))M.mixin(ca.item,{msg:ca.msg,code:ca.code});else if(P(ca.url,fa.url))M.mixin(ca.item,{msg:"Layer URL is already "+S+".",code:"layer_002"});
else if(!P(ca.origUrl,fa.url)&&!P(ca.url,fa.url))if(-1<U.indexOf("CSV GeoRSS KML WebTiledLayer WFS WMS".split(" "),Q.layerType||Q.type))Y[Q.itemId].status="done",Z.resolve(ca);else{var na=M.clone(Q);delete na.itemId;Q.url?na.url=fa.url:Q.styleUrl&&(na.styleUrl=fa.url);var qa=M.clone(W);qa.configLayer=na;c(qa).then(function(ua){ia.url=ua.url;ca.item=ua;aa(W,fa,ca,ia).then(function(ya){Y[Q.itemId].status="done";Z.resolve(ya)})},function(ua){ca.item=ua;aa(W,fa,ca,ia).then(function(ya){Y[Q.itemId].status=
"done";Z.resolve(ya)})});return}aa(W,fa,ca,ia).then(function(ua){Y[Q.itemId].status="done";Z.resolve(ua)})}else fa?(ca.item={url:"",origUrl:"",type:"layer"},aa(W,fa,ca,ia).then(function(ua){Y[Q.itemId].status="done";Z.resolve(ua)})):(ca.itemAccess=!1,Y[Q.itemId].status="done",Z.resolve(ca))},function(fa){ca.itemAccess=!1;Y[Q.itemId].status="done";Z.resolve(ca)});else Z.resolve(ca);return Z}function aa(W,ca,Q,N){var S=W.configLayer,Y=W.checkRenderer,Z=new f;ka(ca.id).then(function(da){if(da&&"Feature Collection"===
ca.type)if(Y&&da.layers){var fa=M.clone(S);delete fa.itemId;fa.featureCollection={layers:da.layers};n({configLayer:fa,from:"http://",to:"https://",checkRenderer:Y,type:null}).then(function(na){M.mixin(Q.item,na);N.text=l.stringify(da);ma(ca,N).then(function(qa){Z.resolve(Q)},function(){M.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Z.resolve(Q)})},function(na){Z.resolve(Q)})}else Z.resolve(Q);else if(da&&da.layers){var ia=!1;H(S,W,da,Q).then(function(na){na.item.queryLayers&&U.forEach(na.item.queryLayers,
function(qa){qa.url!==qa.origUrl&&(ia=!0)});Y?O(S,da,na).then(function(qa){qa.item.renderers&&!ia?U.forEach(qa.item.renderers,function(ua){ua.renderer!==ua.origRenderer&&(ia=!0)}):qa.item.symbols&&!ia&&U.forEach(qa.item.symbols,function(ua){ua.url!==ua.origUrl&&(ia=!0)});ia&&(N.text=l.stringify(da));ma(ca,N).then(function(ua){Z.resolve(qa)},function(){M.mixin(qa.item,{msg:"Item update failure.",code:"layer_020"});Z.resolve(qa)})}):(ia&&(N.text=l.stringify(da)),ma(ca,N).then(function(qa){Z.resolve(na)},
function(){M.mixin(na.item,{msg:"Item update failure.",code:"layer_020"});Z.resolve(na)}))})}else ma(ca,N).then(function(na){Z.resolve(Q)},function(){M.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Z.resolve(Q)})},function(){ma(ca,N).then(function(da){Z.resolve(Q)},function(){M.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Z.resolve(Q)})});return Z}function ea(W){var ca=new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+W,content:{f:"json"},callbackParamName:"callback",
load:function(Q,N){"update"===Q.itemControl||"admin"===Q.itemControl?ca.resolve(Q):ca.reject(Error("No write access"))},error:function(Q){ca.reject(Q)}});return ca}function ka(W){var ca=new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+W+"/data",content:{f:"json"},callbackParamName:"callback",load:function(Q,N){Q&&delete Q._ssl;ba();ca.resolve(Q)},error:function(Q){ca.reject()}});return ca}function ma(W,ca){var Q=new f;if(arcgisonline.isEmpty(ca))Q.resolve({});else{ba();var N=esriGeowConfig.restBaseUrl+
"content/users/"+W.owner;N+=W.ownerFolder?"/"+W.ownerFolder:"";N+="/items/"+W.id+"/update";if("noSave"===ba())Q.resolve({});else{var S={usePost:!0};"http:"===window.location.protocol&&-1<N.indexOf("https://")&&(S.useProxy=!0);k({url:N,content:dojo.mixin(ca,{f:"json"}),callbackParamName:"callback",load:function(Y,Z){Q.resolve(Y)},error:function(Y){Q.reject(Y)}},S)}}return Q}function sa(){var W=new f,ca=[];esriGeowConfig.self.isPortal?k({url:esriGeowConfig.restBaseUrl+"portals/self/servers",content:{f:"json"},
callbackParamName:"callback",load:function(Q,N){Q.servers&&(arcgisonline.sharing.util.setFederatedServers(Q.servers||[]),dojo.forEach(Q.servers,function(S){S.url&&ca.push(S.url.substring(S.url.indexOf("//")))}));W.resolve(ca)},error:function(Q){W.resolve(ca)}}):W.resolve(ca);return W}function za(W,ca){var Q,N;for(Q=0;Q<W.operationalLayers.length;Q++){if(W.operationalLayers[Q].id===ca)return W.operationalLayers[Q];if("GroupLayer"===W.operationalLayers[Q].layerType){var S=W.operationalLayers[Q].layers;
for(N=0;N<S.length;N++)if(S[N].id===ca)return S[N]}}if(W.baseMap.baseMapLayers)for(Q=0;Q<W.baseMap.baseMapLayers.length;Q++){if(W.baseMap.baseMapLayers[Q].id===ca)return W.baseMap.baseMapLayers[Q];if("GroupLayer"===W.baseMap.baseMapLayers[Q].layerType)for(S=W.baseMap.baseMapLayers[Q].layers,N=0;N<S.length;N++)if(S[N].id===ca)return S[N]}if(W.baseMap.elevationLayers)for(Q=0;Q<W.baseMap.elevationLayers.length;Q++)if(W.baseMap.elevationLayers[Q].id===ca)return W.baseMap.elevationLayers[Q];if(W.ground&&
W.ground.layers)for(Q=0;Q<W.ground.layers.length;Q++)if(W.ground.layers[Q].id===ca)return W.ground.layers[Q];if(W.tables)for(Q=0;Q<W.tables.length;Q++)if(W.tables[Q].id===ca)return W.tables[Q];if(W.presentation&&W.presentation.slides)for(N=0;N<W.presentation.slides.length;N++){var Y=W.presentation.slides[N];if(Y.baseMap&&Y.baseMap.baseMapLayers)for(Q=0;Q<Y.baseMap.baseMapLayers.length;Q++){if(Y.baseMap.baseMapLayers[Q].id===ca)return Y.baseMap.baseMapLayers[Q];if("GroupLayer"===Y.baseMap.baseMapLayers[Q].layerType)for(S=
Y.baseMap.baseMapLayers[Q].layers,N=0;N<S.length;N++)if(S[N].id===ca)return S[N]}}}function ha(W,ca){switch(W.layerType||W.type){case "ArcGISFeatureLayer":case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":case void 0:return!W.url||-1<W.url.indexOf("://services")&&
(-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com"))||(-1<W.url.indexOf("://tiles")||-1<W.url.indexOf("://utility"))&&-1<W.url.indexOf(".arcgis.com")?null:la(W.url);case "VectorTileLayer":return!W.styleUrl||-1<W.styleUrl.indexOf(esriGeowConfig.self.portalHostname)||-1<W.styleUrl.indexOf(esriGeowConfig.self.customBaseUrl)||-1<W.styleUrl.indexOf("/items/")||-1<W.styleUrl.indexOf("://tiles")&&-1<W.url.indexOf(".arcgis.com")?null:la(W.styleUrl);case "CSV":case "GeoRSS":case "KML":case "WebTiledLayer":case "WFS":case "WMS":case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":case "OpenStreetMap":return null;
default:return"table"===ca?-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com")?null:la(W.url):null}}function V(W){var ca=[];U.forEach(W.operationalLayers,function(Q){"GroupLayer"===Q.layerType?U.forEach(Q.layers,function(N){ca.push({layer:N,type:"operationalLayers.groupLayer"})}):ca.push({layer:Q,type:"operationalLayers"})});W.baseMap&&(U.forEach(W.baseMap.baseMapLayers,function(Q){"GroupLayer"===Q.layerType?U.forEach(Q.layers,function(N){ca.push({layer:N,type:"baseMapLayers.groupLayer"})}):
(Q.title=Q.title||W.baseMap.title,ca.push({layer:Q,type:"baseMapLayers"}))}),U.forEach(W.baseMap.elevationLayers,function(Q){Q.title=Q.title||W.baseMap.title;ca.push({layer:Q,type:"elevationLayers"})}));W.ground&&U.forEach(W.ground.layers,function(Q){Q.title=Q.title||W.baseMap.title;ca.push({layer:Q,type:"ground"})});U.forEach(W.tables,function(Q){ca.push({layer:Q,type:"tables"})});W.presentation&&W.presentation.slides&&U.forEach(W.presentation.slides,function(Q){Q.baseMap&&Q.baseMap.baseMapLayers&&
U.forEach(Q.baseMap.baseMapLayers,function(N){"GroupLayer"===N.layerType?U.forEach(N.layers,function(S){ca.push({layer:S,type:"slides.baseMapLayers.groupLayer"})}):(N.title=N.title||Q.baseMap.title,ca.push({layer:N,type:"slides.baseMapLayers"}))})});return ca}function la(W){W=I(W);var ca=W.protocol+"://"+W.domain;W.port&&(ca+=":"+W.port);return ca+="/"+W.instance}function T(W,ca){var Q=I(W),N=I(ca);return Q.domain===N.domain?!0:!1}function P(W,ca){if(W&&ca){var Q=W.toLowerCase().indexOf("/featureserver/");
-1<Q&&(W=W.substring(0,Q+14));Q=ca.toLowerCase().indexOf("/featureserver/");-1<Q&&(ca=ca.substring(0,Q+14));Q=W.toLowerCase().indexOf("/mapserver/");-1<Q&&(W=W.substring(0,Q+10));Q=ca.toLowerCase().indexOf("/mapserver/");-1<Q&&(ca=ca.substring(0,Q+10));Q=W.toLowerCase().indexOf("/sceneserver/");-1<Q&&(W=W.substring(0,Q+12));Q=ca.toLowerCase().indexOf("/sceneserver/");-1<Q&&(ca=ca.substring(0,Q+12));if(W===ca)return!0}return!1}function I(W){var ca={};if(!W||!W.length)return ca;var Q=W.indexOf("://");
ca.protocol=W.substr(0,Q);W=W.substr(Q+3,W.length);Q=W.indexOf("/");Q=-1===Q?W.length-1:Q;ca.domain=W.substr(0,Q);-1<ca.domain.indexOf(":")&&(ca.port=ca.domain.substr(ca.domain.indexOf(":")+1),ca.domain=ca.domain.substr(0,ca.domain.indexOf(":")));ca.path=-1===Q||Q+1===W.length?null:W.substr(Q+1,W.length);ca.instance=ca.path.split("/")[0];W=ca.domain.split(".");switch(W.length){case 2:ca.subdomain=null;ca.host=W[0];ca.tld=W[1];break;case 3:ca.subdomain=W[0];ca.host=W[1];ca.tld=W[2];break;case 4:ca.subdomain=
W[0],ca.host=W[1],ca.tld=W[2]+"."+W[3]}ca.host&&ca.tld&&(ca.parentDomain=ca.host+"."+ca.tld);return ca}function ba(){var W=arcgisonline.sharing.util.urlToObject(document.URL);W.query=W.query||{};return W.query.debug}return{getUniqueDomains:function(W){var ca,Q,N=[],S=[],Y=new f,Z=function(ia,na,qa,ua,ya){if(!(ia.url&&-1<ia.url.indexOf(esriGeowConfig.self.portalHostname)||ia.styleUrl&&-1<ia.styleUrl.indexOf(esriGeowConfig.self.portalHostname))){var Aa=!1;U.forEach(ua,function(Ba){if(ia.url&&-1<ia.url.indexOf(Ba)||
ia.styleUrl&&-1<ia.styleUrl.indexOf(Ba))Aa=!0});!Aa&&(ca=ha(ia,ya))&&(-1<na.indexOf(ca)?(Q=na.indexOf(ca),qa[Q].layers.push({id:ia.id,title:ia.title})):(na.push(ca),qa.push({domain:ca,layers:[{id:ia.id,title:ia.title}]})))}},da=function(ia,na){return ia.title.toLowerCase()<na.title.toLowerCase()?-1:1},fa=function(ia,na){ia.layers=ia.layers.sort(da);na.layers=na.layers.sort(da);return ia.domain.toLowerCase()<na.domain.toLowerCase()?-1:1};sa().then(function(ia){var na=V(W);U.forEach(na,function(qa){Z(qa.layer,
N,S,ia,"tables"===qa.type?"table":null)});S=S.sort(fa);Y.resolve(S)});return Y},switchToHTTPS:function(W,ca){ba();var Q=new f,N=M.clone(W),S={from:"http://",to:"https://",checkRenderer:!0,type:null,checkedItemsList:{}},Y=[],Z=[],da=V(W);U.forEach(da,function(fa){var ia={config:W,configLayer:fa.layer};"tables"===fa.type&&(ia.type="table");M.mixin(ia,S);Z.push(fa.layer.id);Y.push(c(ia))});Y.length?(new g(Y)).addCallback(function(fa){var ia=[];U.forEach(fa,function(na){ba();na=na[1];if("notTested"!==
na.type){var qa=za(W,na.layerId),ua={id:na.layerId,title:qa.title};-1<U.indexOf(["layer_001"],na.code)?ua.layerUrlChange="success":-1<U.indexOf(["layer_002","layer_003"],na.code)?ua.layerUrlChange="none":ua.layerUrlChange="failure";na.queryLayers&&(ua.layerQueryUrlChanged=!1,ua.layerQueryUrlFailures=!1,U.forEach(na.queryLayers,function(ya){-1<U.indexOf(["layer_001"],ya.code)?ua.layerQueryUrlChanged=!0:-1<U.indexOf(["layer_002","layer_003"],ya.code)||(ua.layerQueryUrlFailures=!0)}));if(na.renderers||
na.symbols)ua.layerRenderingChanged=!1,ua.layerRenderingFailures=!1,U.forEach(na.renderers,function(ya){U.forEach(ya.symbols,function(Aa){-1<U.indexOf(["sym_010"],Aa.code)&&(ua.layerRenderingFailures=!0);-1<U.indexOf(["sym_001"],Aa.code)&&(ua.layerRenderingChanged=!0)})}),U.forEach(na.symbols,function(ya){-1<U.indexOf(["sym_010"],ya.code)&&(ua.layerRenderingFailures=!0);-1<U.indexOf(["sym_001"],ya.code)&&(ua.layerRenderingChanged=!0)});qa.itemId&&(ua.itemAccess=na.itemAccess)&&(-1<U.indexOf(["layer_001"],
na.item.code)?ua.itemUrlChange="success":-1<U.indexOf(["layer_020"],na.item.code)?(ua.itemUrlChange="success",ua.itemAccess=!1):-1<U.indexOf(["layer_002","layer_003"],na.item.code)?ua.itemUrlChange="none":ua.itemUrlChange="failure",na.item.queryLayers&&(ua.itemQueryUrlChanged=!1,ua.itemQueryUrlFailures=!1,U.forEach(na.item.queryLayers,function(ya){-1<U.indexOf(["layer_001"],ya.code)?ua.itemQueryUrlChanged=!0:-1<U.indexOf(["layer_002","layer_003"],ya.code)||(ua.itemQueryUrlFailures=!0)})),na.item.renderers||
na.item.symbols)&&(ua.itemRenderingChanged=!1,ua.itemRenderingFailures=!1,U.forEach(na.item.renderers,function(ya){U.forEach(ya.symbols,function(Aa){-1<U.indexOf(["sym_010"],Aa.code)&&(ua.itemRenderingFailures=!0);-1<U.indexOf(["sym_001"],Aa.code)&&(ua.itemRenderingChanged=!0)})}),U.forEach(na.item.symbols,function(ya){-1<U.indexOf(["sym_010"],ya.code)&&(ua.itemRenderingFailures=!0);-1<U.indexOf(["sym_001"],ya.code)&&(ua.itemRenderingChanged=!0)}));ia.push(ua)}});W.presentation&&W.presentation.slides&&
U.forEach(W.presentation.slides,function(na){na.baseMap&&na.baseMap.baseMapLayers&&U.forEach(na.baseMap.baseMapLayers,function(qa,ua){if(-1<U.indexOf(Z,qa.id)){var ya=za(W,qa.id);na.baseMap.baseMapLayers[ua]=ya}})});ba();fa=l.stringify(N)===l.stringify(W);ba();fa||"noSave"===ba()?Q.resolve({layers:ia,configChange:"none"}):b(W,ca).then(function(){Q.resolve({layers:ia,configChange:"success"})},function(na){Q.resolve({layers:ia,configChange:"failure"})})}):Q.resolve({layers:[]});return Q},switchDomain:function(W,
ca,Q,N){var S=new f,Y=[];if(!(W&&ca&&Q&&N))return S.resolve({layers:[]}),S;var Z=M.clone(W),da={from:Q,to:N,type:null,checkedItemsList:{}};Q=V(W);U.forEach(Q,function(fa){var ia={configLayer:fa.layer};"tables"===fa.type&&(ia.type="table");M.mixin(ia,da);ha(ia.configLayer,ia.type)===ia.from&&Y.push(c(ia))});Y.length?(new g(Y)).addCallback(function(fa){var ia=[];U.forEach(fa,function(na){ba();na=na[1];var qa=za(W,na.layerId),ua={id:na.layerId,title:qa.title};-1<U.indexOf(["layer_001"],na.code)?ua.layerUrlChange=
"success":-1<U.indexOf(["layer_002","layer_003"],na.code)?ua.layerUrlChange="none":ua.layerUrlChange="failure";qa.itemId&&(ua.itemAccess=na.itemAccess)&&(-1<U.indexOf(["layer_001"],na.item.code)?ua.itemUrlChange="success":-1<U.indexOf(["layer_020"],na.item.code)?(ua.itemUrlChange="success",ua.itemAccess=!1):-1<U.indexOf(["layer_002","layer_003"],na.item.code)?ua.itemUrlChange="none":ua.itemUrlChange="failure");ia.push(ua)});ba();fa=l.stringify(Z)===l.stringify(W);ba();fa||"noSave"===ba()?S.resolve({layers:ia,
configChange:"none"}):b(W,ca).then(function(){S.resolve({layers:ia,configChange:"success"})},function(na){S.resolve({layers:ia,configChange:"failure"})})}):S.resolve({layers:[]});return S}}})},"esri/layers/VectorTileLayer":function(){(function(){var U=function(){try{var r=window.WebGLRenderingContext}catch(k){r=!1}try{for(var x=document.createElement("canvas"),t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],l=null,f=0;f<t.length;++f){try{l=x.getContext(t[f])}catch(k){}if(l)break}var g=l}catch(k){g=
!1}return r&&g?!0:!1}(),M=["dojo/_base/lang","dojo/has","dojo/Deferred","../sniff","./layer"];U&&M.push("./VectorTileLayerImpl");define(M,function(r,x,t,l,f,g){x=g?g:f.createSubclass({declaredClass:"esri.layers.VectorTileLayer",constructor:function(){var k=new t;k.reject(Error("esri.layers.VectorTileLayer is not supported"));k.promise.otherwise(r.hitch(this,function(y){this._errorHandler(y)}))}});x.ACCESS_TOKEN=null;x.supported=function(){return U};r.setObject("layers.VectorTileLayer",x,l);return x})})()},
"esri/layers/CSVLayer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(U,M,r,x,t,l,f,g,k){M=M(f,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(y,u){this.url=y;u=r.mixin({},u);this.columnDelimiter=u.columnDelimiter;this.latitudeFieldName=u.latitudeFieldName;
this.longitudeFieldName=u.longitudeFieldName;var E=u.layerDefinition;E||(E={fields:u.fields||[],geometryType:"esriGeometryPoint",copyrightText:u.copyright},u.fields&&U.forEach(u.fields,function(z){z.type=this._fieldTypeMap[z.type||"String"];z.alias||(z.alias=z.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:E,outFields:u.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=r.hitch(this,this._projectFeatures);this._addFeatures=r.hitch(this,this._addFeatures);this._initCSVLayer(u)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_isWebGLCompatible:function(){return!1},_setMap:function(y){var u=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);
this._csvFC=null;return u},_initCSVLayer:function(y){var u=this;l.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(E){!u._buildCsvFcParam.locationInfo||u.latitudeFieldName&&u.longitudeFieldName||(u.latitudeFieldName=u._buildCsvFcParam.locationInfo.latitudeFieldName,u.longitudeFieldName=u._buildCsvFcParam.locationInfo.longitudeFieldName);u._csvFC=E;var z=E.layerDefinition;z.extent=u._getFCExtent(E);y.outFields||(y.outFields=["*"]);y.timeInfo&&(z.timeInfo=y.timeInfo);u._initFeatureLayer({layerDefinition:z},
y)}).otherwise(this._errorHandler)},_loadFeatures:function(){l.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(y){return l.projectFeatureCollection(y,this._map.spatialReference)},_addFeatures:function(y){y=new k(y.featureSet);this.applyEdits(y.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(y){if(y&&y.featureSet&&y.featureSet.features){y=y.featureSet.features;var u=y.length;
if(1<u){var E=y[0].geometry;var z=new g(E.x,E.y,E.x,E.y);for(--u;0<u;u--)E=y[u].geometry,z.xmin=Math.min(z.xmin,E.x),z.ymin=Math.min(z.ymin,E.y),z.xmax=Math.max(z.xmax,E.x),z.ymax=Math.max(z.ymax,E.y);0>=z.getWidth()&&0>=z.getHeight()&&(z=null)}}return z}});r.setObject("layers.CSVLayer",M,t);return M})},"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E){function z(n){var p=0,w="";M.forEach([","," ",";","|","\t"],function(B){var A=n.split(B).length;A>p&&(p=A,w=B)});return w}function q(n,p){if(!n||"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime()))return!1;var w=!0;if(x("chrome")&&/\d+\W*$/.test(p)){if(p.match(/[^0-9a-zA-Z\s]/))return!1;var B=p.match(/[a-zA-Z]{2,}/);if(B){w=!1;for(var A=0,D=B.length,F=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!w&&
A<=D&&!(w=!F.test(B[A]));)A++;w=!w}}return w}function m(n,p,w){var B=n.indexOf("\n");B=U.trim(n.substr(0,B));var A=p.columnDelimiter;A||(A=z(B));var D=new l({data:n,separator:A});D.fetch({onComplete:function(F,v){var C=0,G={layerDefinition:p.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},H=G.layerDefinition.objectIdField,K=G.layerDefinition.fields;H||M.some(K,function(ha){return"esriFieldTypeOID"===ha.type?(H=ha.name,!0):!1})||(K.push({name:"__OBJECTID",alias:"__OBJECTID",
type:"esriFieldTypeOID",editable:!1}),H="__OBJECTID");var O=D._attributes,L=[],J=[];M.forEach(K,function(ha){"esriFieldTypeDate"===ha.type?L.push(ha.name):("esriFieldTypeDouble"===ha.type||"esriFieldTypeInteger"===ha.type)&&J.push(ha.name)});if(p.locationInfo&&"coordinates"===p.locationInfo.locationType){var R=p.locationInfo.latitudeFieldName;var X=p.locationInfo.longitudeFieldName}else M.forEach(O,function(ha){var V=M.indexOf(b,ha.toLowerCase());-1!==V&&(R=ha);V=M.indexOf(c,ha.toLowerCase());-1!==
V&&(X=ha)}),R&&X&&(p.locationInfo={locationType:"coordinates",latitudeFieldName:R,longitudeFieldName:X});if(R&&X){-1===M.indexOf(J,R)&&J.push(R);-1===M.indexOf(J,X)&&J.push(X);if(U.isArray(p.outFields)&&-1===M.indexOf(p.outFields,"*"))var aa=p.outFields;M.forEach(O,function(ha){M.some(K,function(V){return ha===V.name})||K.push({name:ha,alias:ha,type:ha===R||ha===X?"esriFieldTypeDouble":"esriFieldTypeString"})});O=0;var ea=F.length;for(O;O<ea;O++){var ka=F[O],ma=D.getAttributes(ka),sa={};M.forEach(ma,
function(ha){if(ha&&(ha===R||ha===X||!aa||-1<M.indexOf(aa,ha))){var V=ha;0===ha.length&&M.forEach(K,function(T,P){T.name==="attribute_"+(P-1)&&(ha="attribute_"+(P-1))});if(-1<M.indexOf(L,ha)){V=D.getValue(ka,V);var la=new Date(V);sa[ha]=q(la,V)?la.getTime():null}else-1<M.indexOf(J,ha)?(la=t.parse(D.getValue(ka,V)),ha!==R&&ha!==X||!(isNaN(la)||181<Math.abs(la))||(la=parseFloat(D.getValue(ka,V))),isNaN(la)?sa[ha]=null:sa[ha]=la):sa[ha]=D.getValue(ka,V)}});sa[H]=C;C++;ma=sa[R];var za=sa[X];null==za||
null==ma||isNaN(ma)||isNaN(za)||(aa&&-1===M.indexOf(aa,R)&&delete sa[R],aa&&-1===M.indexOf(aa,X)&&delete sa[X],G.featureSet.features.push({geometry:{x:za,y:ma,spatialReference:{wkid:4326}},attributes:sa}))}G.layerDefinition.name="csv";w&&w(G)}else setTimeout(function(){},1),w&&w(null,Error("File does not seem to contain fields with point coordinates."))},onError:function(F){w&&w(null,F)}});return!0}function e(n,p,w,B,A,D){0===n.length&&A(null);var F=u.getGeometryType(p),v=[];M.forEach(n,function(C){C=
new F(C);C.spatialReference=w;v.push(C)},this);p=[102113,102100,3857];w.wkid&&4326===w.wkid&&B.wkid&&-1<M.indexOf(p,B.wkid)?(M.forEach(v,function(C){C.xmin?(C.xmin=Math.max(C.xmin,-180),C.xmax=Math.min(C.xmax,180),C.ymin=Math.max(C.ymin,-89.99),C.ymax=Math.min(C.ymax,89.99)):C.rings?M.forEach(C.rings,function(G){M.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):C.paths?M.forEach(C.paths,function(G){M.forEach(G,function(H){H[0]=
Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):C.x&&(C.x=Math.min(Math.max(C.x,-180),180),C.y=Math.min(Math.max(C.y,-89.99),89.99))},this),n=[],M.forEach(v,function(C){C=E.geographicToWebMercator(C);102100!==B.wkid&&(C.spatialReference=B);n.push(C.toJson())},this),A(n)):null!==w.wkid&&-1<M.indexOf(p,w.wkid)&&null!==B.wkid&&4326===B.wkid?(n=[],M.forEach(v,function(C){n.push(E.webMercatorToGeographic(C).toJson())},this),A(n)):(p=function(C,G){C&&C.length===
n.length?(n=[],M.forEach(C,function(H){H&&(H.rings&&0<H.rings.length&&0<H.rings[0].length&&0<H.rings[0][0].length&&!isNaN(H.rings[0][0][0])&&!isNaN(H.rings[0][0][1])||H.paths&&0<H.paths.length&&0<H.paths[0].length&&0<H.paths[0][0].length&&!isNaN(H.paths[0][0][0])&&!isNaN(H.paths[0][0][1])||H.xmin&&!isNaN(H.xmin)&&H.ymin&&!isNaN(H.ymin)||H.x&&!isNaN(H.x)&&H.y&&!isNaN(H.y))?n.push(H.toJson()):n.push(null)},this),A(n)):D(C,G)},g.defaults.geometryService?g.defaults.geometryService.project(v,B,U.hitch(this,
p),D):A(null))}function d(n,p){var w=[102113,102100,3857];return n&&p&&n.wkid===p.wkid&&n.wkt===p.wkt||n&&p&&n.wkid&&p.wkid&&-1<M.indexOf(w,n.wkid)&&-1<M.indexOf(w,p.wkid)?!0:!1}function a(n,p,w,B){if(n.featureSet&&0!==n.featureSet.features.length)if(d(w,p))B(n);else{var A=function(C){var G=[];M.forEach(n.featureSet.features,function(H,K){C[K]&&(H.geometry=C[K],G.push(H))},this);B(n)},D=function(C,G){B(n)},F=function(C,G){e(v,n.featureSet.geometryType,p,w,U.hitch(this,A),U.hitch(this,D))};if(n.featureSet.features&&
0<n.featureSet.features.length){var v=[];M.forEach(n.featureSet.features,function(C){if(C.geometry.toJson)v.push(C.geometry);else{var G=u.getGeometryType(n.featureSet.geometryType);v.push(new G(C.geometry))}});p.toJson||(p=new y(p));w.toJson||(w=new y(w));e(v,n.featureSet.geometryType,p,w,U.hitch(this,A),U.hitch(this,F))}else B(n)}}var b="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),c="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),h=
{latFieldStrings:b,longFieldStrings:c,buildCSVFeatureCollection:function(n){var p=new r,w=function(A,D){D?p.errback(D):p.callback(A)},B={url:n.url,handleAs:"text",load:function(A){m(A,n,U.hitch(this,w))},error:function(A){p.errback(A)}};-1<n.url.indexOf("arcgis.com")&&-1<n.url.indexOf("/content/items")&&-1<n.url.indexOf("/data")&&(B.headers={"Content-Type":""});k(B,{usePost:!1});return p},projectFeatureCollection:function(n,p,w){var B=new r;w||(w=new y({wkid:4326}));a(n,w,p,U.hitch(this,function(A){B.callback(A)}));
return B},generateDefaultPopupInfo:function(n){var p={esriFieldTypeDouble:1,esriFieldTypeSingle:1},w={esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},B={esriFieldTypeDate:1},A=null;n=M.map(n.layerDefinition.fields,U.hitch(this,function(D){"NAME"===D.name.toUpperCase()&&(A=D.name);var F="esriFieldTypeOID"!==D.type&&"esriFieldTypeGlobalID"!==D.type&&"esriFieldTypeGeometry"!==D.type,v=null;if(F){var C=D.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+
C+",")||-1<C.indexOf("area")||-1<C.indexOf("length")||-1<C.indexOf("shape")||-1<C.indexOf("perimeter")||-1<C.indexOf("objectid")||C.indexOf("_")===C.length-1||C.indexOf("_i")===C.length-2&&1<C.length)F=!1;D.type in w?v={places:0,digitSeparator:!0}:D.type in p?v={places:2,digitSeparator:!0}:D.type in B&&(v={dateFormat:"shortDateShortTime"})}return U.mixin({},{fieldName:D.name,label:D.alias,isEditable:!0,tooltip:"",visible:F,format:v,stringFieldOption:"textbox"})}));return{title:A?"{"+A+"}":"",fieldInfos:n,
description:null,showAttachments:!1,mediaInfos:[]}},_getSeparator:z,_isValidDate:q,_processCsvData:m,_projectGeometries:e,_sameSpatialReference:d,_projectFeatureSet:a};U.setObject("arcgis.csv",h,f);return h})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(U,M,r,x,t,l){M=M("dojox.data.CsvStore",null,{constructor:function(f){this._attributes=[];this._attributeIndexes=
{};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=!1;f.url&&(this.url=f.url);this._csvData=f.data;f.label?this.label=f.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=f.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in f&&(this.separator=f.separator);"urlPreventCache"in f&&
(this.urlPreventCache=f.urlPreventCache?!0:!1)},url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(f){if(!this.isItem(f))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(f){f=this.getIdentity(f);this.identifier&&(f=this._idMap[f]);return f},getValue:function(f,g,k){this._assertIsItem(f);var y=k;if("string"===typeof g)g=this._attributeIndexes[g],null!=g&&(y=this._dataArray[this._getIndex(f)][g]||
k);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");return y},getValues:function(f,g){var k=this.getValue(f,g);return k?[k]:[]},getAttributes:function(f){this._assertIsItem(f);var g=[];f=this._dataArray[this._getIndex(f)];for(var k=0;k<f.length;k++)""!==f[k]&&g.push(this._attributes[k]);return g},hasAttribute:function(f,g){this._assertIsItem(f);if("string"===typeof g){var k=this._attributeIndexes[g],y=this._dataArray[this._getIndex(f)];return"undefined"!==
typeof k&&k<y.length&&""!==y[k]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");},containsValue:function(f,g,k){var y=void 0;"string"===typeof k&&(y=t.patternToRegExp(k,!1));return this._containsValue(f,g,k,y)},_containsValue:function(f,g,k,y){f=this.getValues(f,g);for(g=0;g<f.length;++g){var u=f[g];if("string"===typeof u&&y)return null!==u.match(y);if(k===u)return!0}return!1},isItem:function(f){if(f&&f[this._storeProp]===this)if(f=f[this._idProp],
this.identifier){if(this._dataArray[this._idMap[f]])return!0}else if(0<=f&&f<this._dataArray.length)return!0;return!1},isItemLoaded:function(f){return this.isItem(f)},loadItem:function(f){},getFeatures:function(){return this._features},getLabel:function(f){if(this.label&&this.isItem(f))return this.getValue(f,this.label)},getLabelAttributes:function(f){return this.label?[this.label]:null},_fetchItems:function(f,g,k){var y=this,u=function(m,e){var d=null;if(m.query){var a;d=[];var b=m.queryOptions?
m.queryOptions.ignoreCase:!1,c={};for(a in m.query){var h=m.query[a];"string"===typeof h&&(c[a]=t.patternToRegExp(h,b))}for(b=0;b<e.length;++b){var n=!0,p=e[b];for(a in m.query)h=m.query[a],y._containsValue(p,a,h,c[a])||(n=!1);n&&d.push(p)}}else d=e.slice(0,e.length);g(d,m)};if(this._loadFinished)u(f,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:f,filter:u});else{this._loadInProgress=!0;var E=r.get({url:y.url,handleAs:"text",preventCache:y.urlPreventCache});
E.addCallback(function(m){try{y._processData(m),u(f,y._arrayOfAllItems),y._handleQueuedFetches()}catch(e){k(e,f)}});E.addErrback(function(m){y._loadInProgress=!1;if(k)k(m,f);else throw m;});var z=null;f.abort&&(z=f.abort);f.abort=function(){var m=E;m&&-1===m.fired&&(m.cancel(),m=null);z&&z.call(f)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,u(f,this._arrayOfAllItems)}catch(m){k(m,f)}else{var q=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");
if(k)k(q,f);else throw q;}},close:function(f){},_getArrayOfArraysFromCsvFileContents:function(f){if(U.isString(f)){var g=RegExp("^\\s+","g"),k=RegExp("\\s+$","g"),y=RegExp('""',"g"),u=[],E=this._splitLines(f);for(f=0;f<E.length;++f){var z=E[f];if(0<z.length){z=z.split(this.separator);for(var q=0;q<z.length;){var m=z[q].replace(g,""),e=m.replace(k,""),d=e.charAt(0),a=e.charAt(e.length-1),b=e.charAt(e.length-2),c=e.charAt(e.length-3);if(2===e.length&&'""'==e)z[q]="";else if('"'==d&&('"'!=a||'"'==a&&
'"'==b&&'"'!=c)){if(q+1===z.length)return;z[q]=m+this.separator+z[q+1];z.splice(q+1,1)}else'"'==d&&'"'==a&&(e=e.slice(1,e.length-1),e=e.replace(y,'"')),z[q]=e,q+=1}u.push(z)}}this._attributes=u.shift();for(f=0;f<this._attributes.length;f++)this._attributeIndexes[this._attributes[f]]=f;this._dataArray=u}},_splitLines:function(f){var g=[],k,y="",u=!1;for(k=0;k<f.length;k++){var E=f.charAt(k);switch(E){case '"':u=!u;y+=E;break;case "\r":u?y+=E:(g.push(y),y="",k<f.length-1&&"\n"==f.charAt(k+1)&&k++);
break;case "\n":u?y+=E:(g.push(y),y="");break;default:y+=E}}""!==y&&g.push(y);return g},_processData:function(f){this._getArrayOfArraysFromCsvFileContents(f);this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(f=0;f<this._dataArray.length;f++){var g=f;this.identifier&&(g=this._dataArray[f][this._attributeIndexes[this.identifier]],this._idMap[g]=f);this._arrayOfAllItems.push(this._createItemFromIdentity(g))}this._loadFinished=
!0;this._loadInProgress=!1},_createItemFromIdentity:function(f){var g={};g[this._storeProp]=this;g[this._idProp]=f;return g},getIdentity:function(f){return this.isItem(f)?f[this._idProp]:null},fetchItemByIdentity:function(f){var g=f.scope?f.scope:x.global;if(this._loadFinished){var k=this._createItemFromIdentity(f.identity);this.isItem(k)||(k=null);f.onItem&&f.onItem.call(g,k)}else{var y=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:f}):(this._loadInProgress=!0,k=r.get({url:y.url,
handleAs:"text"}),k.addCallback(function(u){try{y._processData(u);var E=y._createItemFromIdentity(f.identity);y.isItem(E)||(E=null);f.onItem&&f.onItem.call(g,E);y._handleQueuedFetches()}catch(z){f.onError&&f.onError.call(g,z)}}),k.addErrback(function(u){this._loadInProgress=!1;f.onError&&f.onError.call(g,u)}));else if(this._csvData)try{y._processData(y._csvData),y._csvData=null,k=y._createItemFromIdentity(f.identity),y.isItem(k)||(k=null),f.onItem&&f.onItem.call(g,k)}catch(u){f.onError&&f.onError.call(g,
u)}}},getIdentityAttributes:function(f){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var f=0;f<this._queuedFetches.length;f++){var g=this._queuedFetches[f],k=g.filter,y=g.args;k?k(y,this._arrayOfAllItems):this.fetchItemByIdentity(g.args)}this._queuedFetches=[]}}});U.extend(M,l);return M})},"esri/layers/KMLLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/sniff dojo/io-query dojo/dom-construct dojo/dom-style ../kernel ../config ../lang ../request ../urlUtils ../SpatialReference ../geometry/webMercatorUtils ../dijit/PopupTemplate ./layer ./KMLFolder ./KMLGroundOverlay ./MapImageLayer ./FeatureLayer".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p){var w=M([b],{declaredClass:"esri.layers.KMLLayer",serviceUrl:m.getProtocolForWebResource()+"//utility.arcgis.com/sharing/kml",constructor:function(B,A){this._url=m.urlToObject(this.url=B);this._outSR=A&&A.outSR||new e({wkid:4326});this._options=x.mixin({},A);E.defaults.kmlService&&(this.serviceUrl=E.defaults.kmlService);var D=this.linkInfo=A&&A.linkInfo;D&&(this.visible=!!D.visibility,this._waitingForMap=!!D.viewFormat);(!D||D&&D.visibility&&
!this._waitingForMap)&&this._parseKml();this.refresh=x.hitch(this,this.refresh);this.registerConnectEvents("esri.layers.KMLLayer",!0)},getFeature:function(B){if(B){var A=B.type,D=B.id,F;switch(A){case "esriGeometryPoint":case "esriGeometryPolyline":case "esriGeometryPolygon":(B=this["_"+A])&&(F=x.getObject("_mode._featureMap."+D,!1,B));break;case "GroundOverlay":if(B=this._groundLyr){var v=B.getImages();A=v.length;for(B=0;B<A;B++)if(v[B].id===D){F=v[B];break}}break;case "NetworkLink":t.some(this._links,
function(C){return C.linkInfo&&C.linkInfo.id===D?(F=C,!0):!1});break;case "Folder":for(A=(v=this.folders)?v.length:0,B=0;B<A;B++)if(v[B].id===D){F=v[B];break}}return F}},getLayers:function(){var B=[];this._groundLyr&&B.push(this._groundLyr);this._fLayers&&(B=B.concat(this._fLayers));this._links&&t.forEach(this._links,function(A){A.declaredClass&&B.push(A)});return B},setFolderVisibility:function(B,A){B&&(this._fireUpdateStart(),(B.visible=A)&&(A=this._areLocalAncestorsVisible(B)),this._setState(B,
A),this._fireUpdateEnd())},_eventMap:{"network-link-error":["error"]},onRefresh:function(){},onOpacityChange:function(){},onNetworkLinkError:function(){},_parseKml:function(B){var A=this;this._fireUpdateStart();this._io=q({url:this.serviceUrl,content:{url:this._url.path+this._getQueryParameters(B),model:"simple",folders:"",refresh:this.loaded?!0:void 0,outSR:l.toJson(this._outSR.toJson())},callbackParamName:"callback",load:function(D){A._io=null;A._initLayer(D)},error:function(D){A._io=null;D=x.mixin(Error(),
D);D.message="Unable to load KML: "+(D.message||"");A._fireUpdateEnd(D);A._errorHandler(D)}})},_initLayer:function(B){if(this.loaded){var A=[];t.forEach(this.folders,function(K){K.visible&&A.push(K.id)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale;this._options.opacity=this.opacity;this._removeInternalLayers()}this.name=B.name;this.description=B.description;this.snippet=B.snippet;this.visibility=B.visibility;this.featureInfos=B.featureInfos;var D,F=this.folders=B.folders,
v=[];if(F){var C=F.length;for(D=0;D<C;D++){var G=F[D]=new c(F[D]);-1===G.parentFolderId&&v.push(G)}}F=this._links=B.networkLinks;C=F?F.length:0;for(D=0;D<C;D++)if(!F[D].viewRefreshMode||-1===F[D].viewRefreshMode.toLowerCase().indexOf("onregion")){var H=x.mixin({},this._options);H.linkInfo=F[D];H.id&&(H.id=H.id+"_"+D);G=F[D]=new w(F[D].href,H);G._parentLayer=this;G._parentFolderId=this._getLinkParentId(G.linkInfo.id);G._linkErrorHandle=G.on("error,network-link-error",x.hitch(G,function(K){this._parentLayer.onNetworkLinkError(K.error)}))}if((F=
B.groundOverlays)&&0<F.length)for(H=x.mixin({},this._options),H.id&&(H.id+="_mapImage"),G=this._groundLyr=new n(H),C=F.length,D=0;D<C;D++)G.addImage(new h(F[D]));(B=x.getObject("featureCollection.layers",!1,B))&&0<B.length&&(this._fLayers=[],t.forEach(B,function(K,O){var L=x.getObject("featureSet.features",!1,K);L&&0<L.length&&(H=x.mixin({outFields:["*"],infoTemplate:K.popupInfo?new a(K.popupInfo):null,editable:!1},this._options),H.id&&(H.id=H.id+"_"+O),H.webgl=!1,K.layerDefinition.capabilities="Query,Data",
L=new p(K,H),L.geometryType&&(this["_"+L.geometryType]=L),this._fLayers.push(L))},this),0===this._fLayers.length&&delete this._fLayers);if(!this.loaded)for(C=v.length,D=0;D<C;D++)G=v[D],this._setState(G,G.visible);this._fireUpdateEnd();this.loaded?(this._addInternalLayers(),t.forEach(this.folders,function(K){-1<t.indexOf(A,K.id)?this.setFolderVisibility(K,!0):this.setFolderVisibility(K,!1)},this),this.onRefresh()):(this.loaded=!0,this.onLoad(this))},_addInternalLayers:function(){var B=this._map;this._fireUpdateStart();
this._links&&t.forEach(this._links,function(v){v.declaredClass&&(B.addLayer(v),v._waitingForMap&&(v._waitingForMap=null,v.visible?v._parseKml(B):v._wMap=B))});var A=B.spatialReference,D=this._outSR;if(!A.equals(D))if(A.isWebMercator()&&4326===D.wkid)var F=d.geographicToWebMercator;else if(D.isWebMercator()&&4326===A.wkid)F=d.webMercatorToGeographic;else return;this._groundLyr&&(F&&t.forEach(this._groundLyr.getImages(),function(v){v.extent=F(v.extent)}),B.addLayer(this._groundLyr));(A=this._fLayers)&&
0<A.length&&t.forEach(A,function(v){if(F){var C=v.graphics,G,H,K=C?C.length:0;for(G=0;G<K;G++)(H=C[G].geometry)&&C[G].setGeometry(F(H))}B.addLayer(v)});this.onVisibilityChange(this.visible)},_removeInternalLayers:function(){var B=this._map;this._links&&t.forEach(this._links,function(A){A.declaredClass&&A._io&&A._io.cancel();A._linkErrorHandle&&(A._linkErrorHandle.remove(),A._linkErrorHandle=null)});B&&t.forEach(this.getLayers(),B.removeLayer,B)},_setState:function(B,A){var D=B.featureInfos,F,v,C=
D?D.length:0,G=A?"show":"hide",H=A?"_resume":"_suspend";for(v=0;v<C;v++){var K=D[v];if(F=this.getFeature(K))if("Folder"===K.type)this._setState(F,A&&F.visible);else if("NetworkLink"===K.type)this._setInternalVisibility(F,A);else if(F[H])F[H]();else F[G]()}},_areLocalAncestorsVisible:function(B){var A=B.parentFolderId;for(B=B.visible;B&&-1!==A;)A=this.getFeature({type:"Folder",id:A}),B=B&&A.visible,A=A.parentFolderId;return B},_setInternalVisibility:function(B,A){var D=B._parentLayer,F=B._parentFolderId;
for(A=A&&B.visible;A&&D;)A=A&&D.visible,-1<F&&(A=A&&D._areLocalAncestorsVisible(D.getFeature({type:"Folder",id:F}))),F=D._parentFolderId,D=D._parentLayer;this._setIntState(B,A)},_setIntState:function(B,A){B&&t.forEach(B.getLayers(),function(D){D.linkInfo?B._setIntState(D,A&&D.visible&&B._areLocalAncestorsVisible(B.getFeature({type:"Folder",id:D._parentFolderId}))):D.setVisibility(A)})},_getLinkParentId:function(B){var A=-1;this.folders&&t.some(this.folders,function(D){return D.networkLinkIds&&-1!==
t.indexOf(D.networkLinkIds,B)?(A=D.id,!0):!1});return A},_checkAutoRefresh:function(){var B=this.linkInfo;if(B)if(this.visible){if(this.loaded&&this._map){var A=B.refreshMode,D=B.refreshInterval,F=B.viewRefreshMode;B=B.viewRefreshTime;A&&-1!==A.toLowerCase().indexOf("oninterval")&&0<D&&(this._stopAutoRefresh(),this._timeoutHandle=setTimeout(this.refresh,1E3*D));F&&-1!==F.toLowerCase().indexOf("onstop")&&0<B&&!this._extChgHandle&&(this._extChgHandle=r.connect(this._map,"onExtentChange",this,this._extentChanged))}}else this._stopAutoRefresh(),
r.disconnect(this._extChgHandle),delete this._extChgHandle},_stopAutoRefresh:function(){clearTimeout(this._timeoutHandle);this._timeoutHandle=null},_getQueryParameters:function(B){B=B||this._map;var A={},D=this.linkInfo,F=B&&B.extent;if(this._url.query){x.mixin(A,this._url.query);var v=!!this._url.query.token}u.id&&!v&&(v=u.id.findCredential(this._url.path))&&(A.token=v.token);if(D){v=D.viewFormat;var C=D.httpQuery;D=D.viewBoundScale;if(F&&v){var G=F,H=F,K=F.spatialReference;K&&(K.isWebMercator()?
G=d.webMercatorToGeographic(F):4326===K.wkid&&(H=d.geographicToWebMercator(F)));F=G.getCenter();H=Math.max(H.getWidth(),H.getHeight());D&&(G=G.expand(D));v=v.replace(/\[bboxWest\]/ig,G.xmin).replace(/\[bboxEast\]/ig,G.xmax).replace(/\[bboxSouth\]/ig,G.ymin).replace(/\[bboxNorth\]/ig,G.ymax).replace(/\[lookatLon\]/ig,F.x).replace(/\[lookatLat\]/ig,F.y).replace(/\[lookatRange\]/ig,H).replace(/\[lookatTilt\]/ig,0).replace(/\[lookatHeading\]/ig,0).replace(/\[lookatTerrainLon\]/ig,F.x).replace(/\[lookatTerrainLat\]/ig,
F.y).replace(/\[lookatTerrainAlt\]/ig,0).replace(/\[cameraLon\]/ig,F.x).replace(/\[cameraLat\]/ig,F.y).replace(/\[cameraAlt\]/ig,H).replace(/\[horizFov\]/ig,60).replace(/\[vertFov\]/ig,60).replace(/\[horizPixels\]/ig,B.width).replace(/\[vertPixels\]/ig,B.height).replace(/\[terrainEnabled\]/ig,0);x.mixin(A,g.queryToObject(v))}C&&(C=C.replace(/\[clientVersion\]/ig,u.version).replace(/\[kmlVersion\]/ig,2.2).replace(/\[clientName\]/ig,"ArcGIS API for JavaScript").replace(/\[language\]/ig,U.locale),x.mixin(A,
g.queryToObject(C)))}B=[];for(var O in A)z.isDefined(A[O])&&B.push(O+"\x3d"+A[O]);return(B=B.join("\x26"))?"?"+B:""},setScaleRange:function(B,A){this.inherited(arguments);t.forEach(this.getLayers(),function(D){D.setScaleRange(B,A)})},setOpacity:function(B){this.opacity!=B&&(t.forEach(this.getLayers(),function(A){A.setOpacity(B)}),this.opacity=B,this.onOpacityChange(B))},_setMap:function(B,A){this.inherited(arguments);this._map=B;var D=this._div=k.create("div",null,A);y.set(D,"position","absolute");
this._addInternalLayers();this.evaluateSuspension();return D},_unsetMap:function(B,A){this._io&&this._io.cancel();this._stopAutoRefresh();r.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var D=this._div;D&&(A.removeChild(D),k.destroy(D));this._wMap=this._div=null;this.inherited(arguments)},onVisibilityChange:function(B){this.loaded?(this._fireUpdateStart(),this._setInternalVisibility(this,B),this._checkAutoRefresh(),this._fireUpdateEnd()):this.linkInfo&&B&&(this._waitingForMap||
this._parseKml(this._wMap))},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._parseKml()},getFeatureCollection:function(B){var A,D=[];(B=this.getFeature({type:"Folder",id:B}))&&(A=t.map(B.featureInfos,function(F){if("esriGeometryPoint"===F.type||"esriGeometryPolyline"===F.type||"esriGeometryPolygon"===F.type)return F.id},this))&&0<A.length&&t.forEach(this._fLayers,function(F){var v;var C=F.toJson();C.featureSet.features&&0<C.featureSet.features.length&&(v=t.filter(C.featureSet.features,
function(G){if(-1!==t.indexOf(A,G.attributes[F.objectIdField]))return G},this));v&&0<v.length&&(C.featureSet.features=v,D.push(C))},this);return D},getFeatureCount:function(B){B=this.getFeature({type:"Folder",id:B});var A={points:0,polylines:0,polygons:0};B&&t.forEach(B.featureInfos,function(D){"esriGeometryPoint"===D.type&&(A.points+=1);"esriGeometryPolyline"===D.type&&(A.polylines+=1);"esriGeometryPolygon"===D.type&&(A.polygons+=1)});return A},_extentChanged:function(){this._stopAutoRefresh();this._timeoutHandle=
setTimeout(this.refresh,1E3*this.linkInfo.viewRefreshTime)}});x.setObject("layers.KMLLayer",w,u);return w})},"esri/layers/KMLFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(U,M,r,x,t){U=U(null,{declaredClass:"esri.layers.KMLFolder",constructor:function(l){M.mixin(this,l);t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});M.setObject("layers.KMLFolder",U,x);return U})},"esri/layers/KMLGroundOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./MapImage".split(" "),
function(U,M,r,x,t,l){U=U([l],{declaredClass:"esri.layers.KMLGroundOverlay",constructor:function(f){t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});M.setObject("layers.KMLGroundOverlay",U,x);return U})},"esri/layers/GeoRSSLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(U,M,r,x,t,l,f,g,k){U=U([k],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:g.getProtocolForWebResource()+
"//utility.arcgis.com/sharing/rss",constructor:function(y,u){this._url=g.urlToObject(this.url=y);l.defaults.geoRSSService&&(this.serviceUrl=l.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=f({url:this.serviceUrl,content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?r.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(y){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});M.setObject("layers.GeoRSSLayer",
U,t);return U})},"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){U=U([z],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(e,d){this.pointSymbol=
d&&d.pointSymbol;this.polylineSymbol=d&&d.polylineSymbol;this.polygonSymbol=d&&d.polygonSymbol;this._outSR=d&&(d.outSpatialReference||d.outSR)||new k({wkid:4326});this._options=r.mixin({},d)},parse:function(){},getFeatureLayers:function(){var e=[];this._fLayers&&(e=e.concat(this._fLayers));return e},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(e){var d=this;this._fireUpdateStart();
e=this.parse(e);e.addCallback(function(a){d._io=null;d._initLayer(a)});e.addErrback(function(a){d._io=null;a=r.mixin(Error(),a);a.message="Unable to load resource: "+d.url+" "+(a.message||"");d._fireUpdateEnd(a);d.onError(a)})},_initLayer:function(e){this.loaded&&this._removeInternalLayers();this.name=e.name;this.description=e.description;this.snippet=e.snippet;this.featureInfos=e.featureInfos;this.fullExtent=this.initialExtent=new y(e.lookAtExtent);this.copyright=e.author||e.copyright;var d;(e=r.getObject("featureCollection.layers",
!1,e))&&0<e.length&&(this._fLayers=[],x.forEach(e,function(a,b){var c=r.getObject("featureSet.features",!1,a);c&&0<c.length&&(d=r.mixin({outFields:["*"],infoTemplate:a.popupInfo?new m(a.popupInfo):null,editable:!1},this._options),d.id&&(d.id=d.id+"_"+b),d.webgl=!1,a.layerDefinition.capabilities="Query,Data",c=new q(a,d),c.geometryType&&(this["_"+c.geometryType]=c),this._fLayers.push(c))},this),0===this._fLayers.length&&delete this._fLayers);this.items=[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),
this.pointSymbol&&(e=new E(this.pointSymbol),this._esriGeometryPoint.setRenderer(e)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(e=new E(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(e)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(e=new E(this.polygonSymbol),this._esriGeometryPolygon.setRenderer(e)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),
this.onRefresh())},_addInternalLayers:function(){var e=this._map;this._fireUpdateStart();var d=e.spatialReference,a=this._outSR;if(d.wkid)var b=d._isWebMercator()&&a._isWebMercator()||d.wkid===a.wkid;else if(d.wkt)b=d.wkt===a.wkt;else return;if(!b)if(d._isWebMercator()&&4326===a.wkid)this._converter=u.geographicToWebMercator;else if(a._isWebMercator()&&4326===d.wkid)this._converter=u.webMercatorToGeographic;else return;(d=this._fLayers)&&0<d.length&&x.forEach(d,function(c){if(this._converter){var h=
c.graphics,n,p,w=h?h.length:0;for(n=0;n<w;n++)(p=h[n].geometry)&&h[n].setGeometry(this._converter(p))}e.addLayer(c)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var e=this._map;e&&x.forEach(this.getFeatureLayers(),e.removeLayer,e)},setScaleRange:function(e,d){this.inherited(arguments);x.forEach(this.getFeatureLayers(),function(a){a.setScaleRange(e,d)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(e){this.opacity!=
e&&(x.forEach(this.getFeatureLayers(),function(d){d.setOpacity(e)}),this.opacity=this._options.opacity=e,this.onOpacityChange(e))},onVisibilityChange:function(e){this._fireUpdateStart();x.forEach(this.getFeatureLayers(),function(d){d.setVisibility(e)});this._fireUpdateEnd()},_setMap:function(e,d){this.inherited(arguments);this._map=e;var a=this._div=t.create("div",null,d);l.set(a,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return a},_unsetMap:function(e,d){this._io&&
this._io.cancel();M.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var a=this._div;a&&(d.removeChild(a),t.destroy(a));this._div=null;this.inherited(arguments)}});r.setObject("layers._ServiceGeneratedFeatureCollection",U,g);return U})},"esri/layers/WebTiledLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/url dojo/sniff dojo/string ../config ../kernel ../request ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){function m(e,d){var a=[];if(e&&d&&(d.customLayerParameters||d.customParameters)){var b=M.clone(d.customParameters||{});M.mixin(b,d.customLayerParameters||{});var c=y.urlToObject(e);for(var h in c.query)b.hasOwnProperty(h)||a.push(h+"\x3d"+c.query[h]);e=c.path+(a.length?"?"+a.join("\x26"):"")}return e}U=U(z,{declaredClass:"esri.layers.WebTiledLayer",constructor:function(e,d){d||(d={});this.urlTemplate=e=m(e,d.wmtsInfo);var a=new E(-2.0037508342787E7,-2.003750834278E7,
2.003750834278E7,2.0037508342787E7,new u({wkid:102100})),b=new E(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new u({wkid:102100}));this.initialExtent=d.initialExtent||a;this.fullExtent=d.fullExtent||b;this.tileInfo=d.tileInfo?d.tileInfo:new q({dpi:96,rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},
{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,
scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,
scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147},{level:23,resolution:.01866138385297604,scale:70.5310735}]});this.spatialReference=new u(this.tileInfo.spatialReference.toJson());this.copyright=d.copyright||"";var c=new x(e);a=c.scheme+"://"+c.authority+"/";this.urlPath=e.substring(a.length);this.tileServers=d.tileServers||[];-1===c.authority.indexOf("{subDomain}")&&
this.tileServers.push(a);if(d.subDomains&&0<d.subDomains.length&&1<c.authority.split(".").length){this.subDomains=d.subDomains;var h;r.forEach(d.subDomains,function(B){-1<c.authority.indexOf("${subDomain}")?h=c.scheme+"://"+l.substitute(c.authority,{subDomain:B})+"/":-1<c.authority.indexOf("{subDomain}")&&(h=c.scheme+"://"+c.authority.replace(/\{subDomain\}/gi,B)+"/");this.tileServers.push(h)},this)}this.tileServers=r.map(this.tileServers,function(B){"/"!==B.charAt(B.length-1)&&(B+="/");return B});
this._levelToLevelValue=[];var n=0;r.forEach(this.tileInfo.lods,function(B,A){this._levelToLevelValue[B.level]=B.levelValue||B.level;0===A&&(n=this._levelToLevelValue[B.level])},this);this._wmtsInfo=d.wmtsInfo;var p=M.hitch(this,function(){this.loaded=!0;this.onLoad(this)});if(t("chrome")){a=this.getTileUrl(n,0,0);b=f.defaults.io;var w="with-credentials"===b.useCors?y.canUseXhr(a,!0):-1;(b=-1<w?b.corsEnabledServers[w]:null)&&b.withCredentials?k({url:a,handleAs:"arraybuffer"}).addBoth(function(){p()}):
p()}else p()},getTileUrl:function(e,d,a){e=this._levelToLevelValue[e];var b=this.tileServers[d%this.tileServers.length]+l.substitute(this.urlPath,{level:e,z:e,col:a,x:a,row:d,y:d});b=b.replace(/\{level\}/gi,e).replace(/\{row\}/gi,d).replace(/\{col\}/gi,a).replace(/\{z\}/gi,e).replace(/\{x\}/gi,a).replace(/\{y\}/gi,d);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return y.addProxy(b)},_appendCustomLayerParameters:function(e){var d;if(this._wmtsInfo&&(this._wmtsInfo.customLayerParameters||
this._wmtsInfo.customParameters)){var a=M.clone(this._wmtsInfo.customParameters||{});M.mixin(a,this._wmtsInfo.customLayerParameters||{});for(d in a)e+=(-1===e.indexOf("?")?"?":"\x26")+d+"\x3d"+encodeURIComponent(a[d])}return e}});M.setObject("layers.WebTiledLayer",U,g);return U})},"esri/layers/WMSLayer":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff ../config ../graphic ../kernel ../request ../urlUtils ../dijit/PopupTemplate ../SpatialReference ../geometry/Extent ../geometry/Point ./DynamicMapServiceLayer ./WMSLayerInfo dojo/query".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d){r=r([e],{declaredClass:"esri.layers.WMSLayer",_CRS_TO_EPSG:{84:4326,83:4269,27:4267},_REVERSED_LAT_LONG_RANGES:[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],
[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],_WEB_MERCATOR:[102100,3857,102113,900913],_WORLD_MERCATOR:[3395,54004],allExtents:[],version:null,constructor:function(a,b){var c=u.urlToObject(a);c.query&&(c.query.version||c.query.Version||c.query.VERSION)&&
(this.version=c.query.version||c.query.Version||c.query.VERSION);this.url=a=this._stripParameters(a,"version service request bbox format height width layers srs crs styles transparent bgcolor exceptions time elevation sld wfs".split(" "));this._url=u.urlToObject(a);this._getCapabilitiesURL=a;this._initLayer=x.hitch(this,this._initLayer);this._parseCapabilities=x.hitch(this,this._parseCapabilities);this._getCapabilitiesError=x.hitch(this,this._getCapabilitiesError);b?(this.customParameters=b.customParameters,
this.customLayerParameters=b.customLayerParameters,this.imageFormat=this._getImageFormat(b.format),this.imageTransparency=!1!==b.transparent,this.visibleLayers=b.visibleLayers?b.visibleLayers:[],this.version=b.version||this.version,b.resourceInfo?this._readResourceInfo(b.resourceInfo):this._getCapabilities()):(this.imageFormat="image/png",this.imageTransparency=!0,this.visibleLayers=[],this._getCapabilities());this._blankImageURL=U.toUrl("../images/pixel.png");this.extentProcessor=this._createExtentProcessor(0);
this._createChildLayer()},setVisibleLayers:function(a){this.visibleLayers=(a=this._checkVisibleLayersList(a))?a:[];this.refresh(!0)},setImageFormat:function(a){this.imageFormat=this._getImageFormat(a);this.refresh(!0)},setImageTransparency:function(a){this.imageTransparency=a;this.refresh(!0)},setCustomParameters:function(a,b){this.customParameters=a;this.customLayerParameters=b;this.refresh(!0)},refresh:function(){this._refreshTS=Date.now();this.inherited(arguments);this._childLayer&&this._childLayer.refresh.apply(this._childLayer,
arguments)},getImageUrl:function(a,b,c,h){if(this.visibleLayers&&0!==this.visibleLayers.length){a=this._getImageParams(a,b,c);a=this._mixinCustomLayerParameters(a);b=this.getMapURL;var n;b+=-1===b.indexOf("?")?"?":"";for(n in a)a.hasOwnProperty(n)&&(b+="?"===b.substring(b.length-1,b.length)?"":"\x26",b+=n+"\x3d"+a[n]);b=this.addTimestampToURL(b);h(u.addProxy(b))}else h(this._blankImageURL)},_setMap:function(a,b,c){var h=this.inherited(arguments);a.wrapAround180?this._childLayer&&(this.suspended&&
this._childLayer.suspend(),this._childLayer._setMap(a,h)):this._childLayer=this.extentProcessor=null;return h},_unsetMap:function(a,b){this._childLayer&&this._childLayer._unsetMap(a,this._div);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._childLayer&&this._childLayer.suspend()},onResume:function(){this.inherited(arguments);this._childLayer&&this._childLayer.resume()},_createChildLayer:function(){this._childLayer=new e(null,{extentProcessor:this._createExtentProcessor(1)});
this._childLayer._isChildLayer=!0;this._childLayer.getImageUrl=x.hitch(this,this.getImageUrl);this._childLayer.loaded=!0},_createExtentProcessor:function(a){return x.hitch(this,this._extentProcessor,a)},_extentProcessor:function(a,b){var c=b.extent,h=b.width,n=0;if(c){var p=c.getWidth()/h,w=c.bisect();c=w.extents;var B=c[a];B&&(h=w.marginLeft/p,n=0===a?h:h+c[0].getWidth()/p,h=Math.ceil(B.getWidth()/p),n=Math.ceil(n));c=B}return{extent:c,width:h,marginLeft:n}},_getImageParams:function(a,b,c){var h=
a.spatialReference.wkid;-1===t.indexOf(this.spatialReferences,h)&&a.spatialReference.latestWkid&&(h=a.spatialReference.latestWkid);if(t.some(this._WEB_MERCATOR,function(A){return A==h})){var n=t.filter(this.spatialReferences,function(A){return t.some(this._WEB_MERCATOR,function(D){return D==A})},this);0===n.length&&(n=t.filter(this.spatialReferences,function(A){return t.some(this._WORLD_MERCATOR,function(D){return D==A})},this));h=0<n.length?n[0]:this._WEB_MERCATOR[1]}this.spatialReferences=t.filter(this.spatialReferences,
function(A){return A!==h});this.spatialReferences.unshift(h);n=a.xmin;var p=a.xmax,w=a.ymin;a=a.ymax;var B={SERVICE:"WMS",REQUEST:"GetMap"};B.FORMAT=this.imageFormat;B.TRANSPARENT=this.imageTransparency?"TRUE":"FALSE";B.STYLES="";B.VERSION=this.version;B.LAYERS=this.visibleLayers?this.visibleLayers.toString():null;B.WIDTH=b;B.HEIGHT=c;this.maxWidth<b&&(B.WIDTH=this.maxWidth);this.maxHeight<c&&(B.HEIGHT=this.maxHeight);b=h?h:NaN;isNaN(b)||("1.3.0"==this.version?B.CRS="EPSG:"+b:B.SRS="EPSG:"+b);"1.3.0"==
this.version&&this._useLatLong(b)?B.BBOX=w+","+n+","+a+","+p:B.BBOX=n+","+w+","+p+","+a;return B},_initLayer:function(a,b){this.spatialReference=new z(this.extent.spatialReference);this.initialExtent=new q(this.extent);this.fullExtent=new q(this.extent);this.visibleLayers=this._checkVisibleLayersList(this.visibleLayers);var c=x.hitch(this,function(){this.loaded=!0;this.onLoad(this);var p=this._loadCallback;p&&(delete this._loadCallback,p(this))});if(l("chrome")){var h=f.defaults.io,n="with-credentials"===
h.useCors?u.canUseXhr(this.getMapURL,!0):-1;(h=-1<n?h.corsEnabledServers[n]:null)&&h.withCredentials?y({url:this.getMapURL,handleAs:"text",content:{SERVICE:"WMS",REQUEST:"GetMap"}}).addBoth(function(){c()}):c()}else c()},_readResourceInfo:function(a){a.extent?a.layerInfos?(this.extent=a.extent,this.allExtents[0]=a.extent,this.layerInfos=a.layerInfos,this.description=a.description?a.description:"",this.copyright=a.copyright?a.copyright:"",this.title=a.title?a.title:"",this.getMapURL=a.getMapURL?a.getMapURL:
this._getCapabilitiesURL,this.getFeatureInfoURL=a.getFeatureInfoURL,this.featureInfoFormat=a.featureInfoFormat,this.version=a.version?a.version:"1.3.0",this.maxWidth=a.maxWidth?a.maxWidth:5E3,this.maxHeight=a.maxHeight?a.maxHeight:5E3,this.spatialReferences=a.spatialReferences?a.spatialReferences:[],this.imageFormat=this._getImageFormat(a.format),this.setScaleRange(a.minScale,a.maxScale),this.customLayerParameters=a.customLayerParameters||this.customLayerParameters,this.customParameters=a.customParameters||
this.customParameters,this._initLayer()):this._errorHandler(Error("esri.layers.WMSLayer: unable to find the 'layerInfos' property in resourceInfo")):this._errorHandler(Error("esri.layers.WMSLayer: Unable to find the 'extent' property in resourceInfo."))},_getCapabilities:function(a){var b=this._url.query?this._url.query:{};b.SERVICE="WMS";b.REQUEST="GetCapabilities";this.version&&(b.VERSION=this.version);b=this._mixinCustomParameters(b);var c=this._url.path+"?",h;for(h in b)b.hasOwnProperty(h)&&(c+=
"?"==c.substring(c.length-1,c.length)?"":"\x26",c+=h+"\x3d"+b[h]);y({url:c,handleAs:a||"xml",headers:{"Content-Type":null},load:this._parseCapabilities,error:this._getCapabilitiesError},{usePost:!1})},_parseCapabilities:function(a,b){if(a){if("text"===b.handleAs){try{var c=(new DOMParser).parseFromString(a,"application/xml")}catch(v){}c&&!c.getElementsByTagName("parsererror").length||this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (XML Parse error.)"))}else c=
a;var h=this;this.version=this._getAttributeValue("WMS_Capabilities","version",c,null);this.version||(this.version=this._getAttributeValue("WMT_MS_Capabilities","version",c,"1.3.0"));var n=this._getTag("Service",c);this.title=this._getTagValue("Title",n,"");this.title||(this.title=this._getTagValue("Name",n,""));this.copyright=this._getTagValue("AccessConstraints",n,"");this.description=this._getTagValue("Abstract",n,"");this.maxWidth=parseInt(this._getTagValue("MaxWidth",n,5E3),10);this.maxHeight=
parseInt(this._getTagValue("MaxHeight",n,5E3),10);if(n=this._getTag("Layer",c)){var p=this._getLayerInfo(n),w=0,B=null;n=this._getTag("Capability",c);t.forEach(n.childNodes,function(v){"Layer"==v.nodeName&&(0===w?B=v:(1===w&&p.name&&(p.name="",p.subLayers=[],p.subLayers.push(this._getLayerInfo(B))),p.subLayers.push(this._getLayerInfo(v))),w++)},this);if(p&&(this.layerInfos=p.subLayers,this.layerInfos&&0!==this.layerInfos.length||(this.layerInfos=[p]),this.extent=p.extent,this.extent||(p.extent=new q(this.layerInfos[0].extent.toJson()),
this.extent=p.extent),this.allExtents=p.allExtents,this.allExtents&&this.allExtents.length||(p.allExtents=[],t.forEach(this.layerInfos[0].allExtents,function(v,C){v&&(p.allExtents[C]=new q(v.toJson()))}),this.allExtents=p.allExtents),this.spatialReferences=p.spatialReferences,!this.spatialReferences.length&&0<this.layerInfos.length)){var A=function(v){var C;for(C=0;C<v.subLayers.length;C++){var G=v.subLayers[C],H=G.spatialReferences;!H.length&&G.subLayers&&0<G.subLayers.length&&(H=A(G));if(H.length)return H}return[]};
for(n=0;n<this.layerInfos.length;n++){var D=this.layerInfos[n];this.spatialReferences=this.layerInfos[0].spatialReferences;!this.spatialReferences.length&&D.subLayers&&0<D.subLayers.length&&(this.spatialReferences=A(D));if(this.spatialReferences.length)break}}n=function(v){return(v=M.query("DCPType",h._getTag(v,c)))&&0<v.length&&(v=M.query("HTTP",v[0]))&&0<v.length&&(v=M.query("Get",v[0]))&&0<v.length&&(v=h._getAttributeValue("OnlineResource","xlink:href",v[0],null))?(v.indexOf("\x26")===v.length-
1&&(v=v.substring(0,v.length-1)),h._stripParameters(v,["service","request"])):null};D=function(v){var C=[];0===M.query("Operation",c).length?t.forEach(M.query("Format",h._getTag(v,c)),function(G){C.push(G.text?G.text:G.textContent)}):(t.forEach(M.query("Operation",c),function(G){G.getAttribute("name")===v&&t.forEach(M.query("Format",G),function(H){C.push(H.text?H.text:H.textContent)})}),C.length||t.forEach(M.query("Format",h._getTag(v,c)),function(G){C.push(G.text?G.text:G.textContent)}));return C};
this.getMapURL=n("GetMap")||this._getCapabilitiesURL;this.getMapFormats=D("GetMap");this.getMapFormats.length&&!t.some(this.getMapFormats,function(v){return-1<v.indexOf(this.imageFormat)},this)&&(this.imageFormat=this.getMapFormats[0]);if(this.getFeatureInfoURL=n("GetFeatureInfo"))this.getFeatureInfoFormats=D("GetFeatureInfo"),-1<t.indexOf(this.getFeatureInfoFormats,"text/html")?this.featureInfoFormat="text/html":-1<t.indexOf(this.getFeatureInfoFormats,"text/plain")&&(this.featureInfoFormat="text/plain");
if(!this.featureInfoFormat){var F=function(v){if(v&&(v.queryable=!1,v.subLayers))for(var C=0;C<v.subLayers.length;C++)F(v.subLayers[C])};F(p)}this._initLayer()}else this._errorHandler(Error("esri.layers.WMSLayer: Response does not contain any layers."))}else"xml"===b.handleAs?this._getCapabilities("text"):this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (Response is null.)"))},_getCapabilitiesError:function(a){a&&a.message&&(a.message="GetCapabilities request for "+
this._getCapabilitiesURL+" failed. ("+a.message+")");this._errorHandler(a)},_getLayerInfo:function(a){if(!a)return null;var b=new d;b.name="";b.title="";b.description="";b.allExtents=[];b.spatialReferences=[];b.queryable="1"===a.getAttribute("queryable");b.subLayers=[];var c=this._getTag("LatLonBoundingBox",a);c&&(b.allExtents[0]=this._getExtent(c,4326));var h=this._getTag("EX_GeographicBoundingBox",a);if(h){var n=new q(0,0,0,0,new z({wkid:4326}));n.xmin=parseFloat(this._getTagValue("westBoundLongitude",
h,0));n.ymin=parseFloat(this._getTagValue("southBoundLatitude",h,0));n.xmax=parseFloat(this._getTagValue("eastBoundLongitude",h,0));n.ymax=parseFloat(this._getTagValue("northBoundLatitude",h,0));b.allExtents[0]=n}c||h||(n=new q(-180,-90,180,90,new z({wkid:4326})),b.allExtents[0]=n);b.extent=b.allExtents[0];var p=-1<t.indexOf(["1.0.0","1.1.0","1.1.1"],this.version)?"SRS":"CRS";t.forEach(a.childNodes,function(w){if("Name"==w.nodeName)b.name=(w.text?w.text:w.textContent)||"";else if("Title"==w.nodeName)b.title=
(w.text?w.text:w.textContent)||"";else if("Abstract"==w.nodeName)b.description=(w.text?w.text:w.textContent)||"";else if("BoundingBox"==w.nodeName){var B=w.getAttribute(p);B&&0===B.indexOf("EPSG:")?(B=parseInt(B.substring(5),10),0===B||isNaN(B)||(w="1.3.0"==this.version?this._getExtent(w,B,this._useLatLong(B)):this._getExtent(w,B),b.allExtents[B]=w,b.extent||(b.extent=w))):B&&0===B.indexOf("CRS:")?(B=parseInt(B.substring(4),10),0===B||isNaN(B)||(this._CRS_TO_EPSG[B]&&(B=this._CRS_TO_EPSG[B]),b.allExtents[B]=
this._getExtent(w,B))):(B=parseInt(B,10),0===B||isNaN(B)||(b.allExtents[B]=this._getExtent(w,B)))}else if(w.nodeName==p)w=(w.text?w.text:w.textContent).split(" "),t.forEach(w,function(A){A=-1<A.indexOf(":")?parseInt(A.split(":")[1],10):parseInt(A,10);0===A||isNaN(A)||(this._CRS_TO_EPSG[A]&&(A=this._CRS_TO_EPSG[A]),-1==t.indexOf(b.spatialReferences,A)&&b.spatialReferences.push(A))},this);else if("Style"!=w.nodeName||b.legendURL)"Layer"===w.nodeName&&b.subLayers.push(this._getLayerInfo(w));else if(w=
this._getTag("LegendURL",w))if(w=this._getTag("OnlineResource",w))b.legendURL=w.getAttribute("xlink:href")},this);b.title=b.title||b.name;return b},_getImageFormat:function(a){switch(a?a.toLowerCase():""){case "jpg":return"image/jpeg";case "bmp":return"image/bmp";case "gif":return"image/gif";case "svg":return"image/svg+xml";default:return"image/png"}},getImageFormat:function(){switch(this.imageFormat?this.imageFormat.toLowerCase():""){case "image/jpeg":return"jpg";case "image/bmp":return"bmp";case "image/gif":return"gif";
case "image/svg+xml":return"svg";default:return"png"}},_getExtent:function(a,b,c){if(a){var h=new q;var n=parseFloat(a.getAttribute("minx")),p=parseFloat(a.getAttribute("miny")),w=parseFloat(a.getAttribute("maxx"));a=parseFloat(a.getAttribute("maxy"));c?(h.xmin=isNaN(p)?-1*Number.MAX_VALUE:p,h.ymin=isNaN(n)?-1*Number.MAX_VALUE:n,h.xmax=isNaN(a)?Number.MAX_VALUE:a,h.ymax=isNaN(w)?Number.MAX_VALUE:w):(h.xmin=isNaN(n)?-1*Number.MAX_VALUE:n,h.ymin=isNaN(p)?-1*Number.MAX_VALUE:p,h.xmax=isNaN(w)?Number.MAX_VALUE:
w,h.ymax=isNaN(a)?Number.MAX_VALUE:a);h.spatialReference=new z({wkid:b})}return h},_useLatLong:function(a){var b;for(b=0;b<this._REVERSED_LAT_LONG_RANGES.length;b++){var c=this._REVERSED_LAT_LONG_RANGES[b];if(a>=c[0]&&a<=c[1]){var h=!0;break}}return h},_getTag:function(a,b){var c=M.query(a,b);return c&&0<c.length?c[0]:null},_getTagValue:function(a,b,c){return(a=M.query(a,b))&&0<a.length?a[0].text?a[0].text:a[0].textContent:c},_getAttributeValue:function(a,b,c,h){return(a=M.query(a,c))&&0<a.length?
a[0].getAttribute(b):h},_checkVisibleLayersList:function(a){if(a&&0<a.length&&this.layerInfos&&0<this.layerInfos.length&&"number"==typeof a[0]){var b=[];t.forEach(a,function(c){c<this.layerInfos.length&&b.push(this.layerInfos[c].name)},this);a=b}return a},_stripParameters:function(a,b){var c=u.urlToObject(a),h,n=[];for(h in c.query)c.query.hasOwnProperty(h)&&-1===t.indexOf(b,h.toLowerCase())&&n.push(h+"\x3d"+c.query[h]);return c.path+(n.length?"?"+n.join("\x26"):"")},_getPopupGraphic:function(a,b){var c=
this.visibleLayers;if(!c||0===c.length)return null;var h=this._popupGraphic;h||(h=new E({title:this.title||""}),h.setContent(function(D){var F=document.createElement("div");if(D=D&&D.attributes&&D.attributes.QUERY_URL)F.style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;",F.innerHTML='\x3ciframe sandbox src\x3d"'+D+'" width\x3d"250" height\x3d"147" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" style\x3d"position:absolute;top:0;left:0;width:100%;height:100%;border:0;background:url(\''+
U.toUrl("../dijit/images/loading-throb.gif")+"') transparent center no-repeat;\" onload\x3d\"(event.target || event.srcElement).style.background \x3d 'none';\"\x3e\x3c/iframe\x3e";return F}),h=this._popupGraphic=new g(null,null,{},h),h._layer=this);var n=function(D){var F=[];if(D&&(D.queryable&&D.showPopup&&D.name&&F.push(D.name),D.subLayers))for(var v=0;v<D.subLayers.length;v++){var C=n(D.subLayers[v]);C.length&&(F=F.concat(C))}return F},p=n({subLayers:this.layerInfos});p=t.filter(p,function(D){return-1<
t.indexOf(c,D)});if(p.length){var w=this.getFeatureInfoURL,B=this._getImageParams(a.extent,a.width,a.height);B=this._mixinCustomLayerParameters(B);B.REQUEST="GetFeatureInfo";B.INFO_FORMAT=this.featureInfoFormat;B.QUERY_LAYERS=p.join();B.FEATURE_COUNT=25;"1.3.0"===this.version?(B.I=Math.round(b.x),B.J=Math.round(b.y)):(B.X=Math.round(b.x),B.Y=Math.round(b.y));w+=-1===w.indexOf("?")?"?":"";for(var A in B)B.hasOwnProperty(A)&&(w+="?"===w.substring(w.length-1,w.length)?"":"\x26",w+=A+"\x3d"+B[A]);h.attributes.QUERY_URL=
w;return h}return null},_mixinCustomParameters:function(a){if(this.customParameters)for(var b in this.customParameters)a[b]=encodeURIComponent(this.customParameters[b]);return a},_mixinCustomLayerParameters:function(a){if(this.customLayerParameters||this.customParameters){var b=x.clone(this.customParameters||{});x.mixin(b,this.customLayerParameters||{});for(var c in b)"styles"===c.toLowerCase()&&delete a.STYLES,a[c]=encodeURIComponent(b[c])}return a}});x.setObject("layers.WMSLayer",r,k);return r})},
"esri/layers/WMSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel"],function(U,M,r,x,t){U=U(null,{declaredClass:"esri.layers.WMSLayerInfo",name:null,title:null,description:null,extent:null,legendURL:null,subLayers:[],allExtents:[],spatialReferences:[],queryable:!1,showPopup:!1,constructor:function(l){l&&(this.name=l.name,this.title=l.title,this.description=l.description,this.extent=l.extent,this.legendURL=l.legendURL,this.subLayers=l.subLayers?
l.subLayers:[],this.allExtents=l.allExtents?l.allExtents:[],this.spatialReferences=l.spatialReferences?l.spatialReferences:[],this.queryable=!!l.queryable,this.showPopup=!!l.showPopup)},clone:function(){var l={name:this.name,title:this.title,description:this.description,legendURL:this.legendURL};this.extent&&(l.extent=this.extent.getExtent());l.subLayers=[];r.forEach(this.subLayers,function(g){l.subLayers.push(g.clone())});l.allExtents=[];for(f in this.allExtents){var f=parseInt(f,10);isNaN(f)||(l.allExtents[f]=
this.allExtents[f].getExtent())}l.spatialReferences=[];r.forEach(this.spatialReferences,function(g){l.spatialReferences.push(g)});l.queryable=this.queryable;l.showPopup=this.showPopup;return l}});M.setObject("layers.WMSLayerInfo",U,t);return U})},"esri/layers/WFSLayer":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/on ../request ../kernel ../graphic ../renderers/jsonUtils ../symbols/jsonUtils ../Color ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent ../geometry/Point ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ./LabelClass ./GraphicsLayer".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B){U=U([B],{declaredClass:"esri.layers.WFSLayer",constructor:function(A){this.geometryType=this.describeFeatureTypeUrl=this.getFeatureUrl=this.layerNamespace="";this.fields=[];this.spatialReferences=[];this.fullExtent=null;this.visible=!0;this.renderer=null;this.id="WFSLayer";this._url="";this._version="1.1.0";this._layerName="";this._nsLayerNames={};this._layerDefinedGeometryType="esriGeometryComplex";this._wkid=3857;this._mode="snapshot";
this._maxFeatures=100;this._inverseResponse=this._inverseFilter=!1;this._nsGeometryFieldName=this._getFeatureRequest=this._nsFields="";this._graphicArray=[];this._gmlNS="http://www.opengis.net/gml";this._layerEventHandlers=[];this.customParameters=this._describeFeatureTypeCallback=this._getCapabilitiesCallback=null;this.showLabels=!0;this.labelingInfo=null;A&&(A.id&&(this.id=A.id),this.showLabels=null!==A.showLabels?A.showLabels:!0);this.onError=r.hitch(this,this.onError);this._errorSupport=r.hitch(this,
this._errorSupport);this._parseGml=r.hitch(this,this._parseGml);this._getCapabilities=r.hitch(this,this._getCapabilities);this._getCapabilitiesResponse=r.hitch(this,this._getCapabilitiesResponse);this._describeFeatureTypeResponse=r.hitch(this,this._describeFeatureTypeResponse);this._pointSymbol=new q(q.STYLE_CIRCLE,6,new m(m.STYLE_SOLID,new z([0,255,0]),1),new z([255,0,0]));this._lineSymbol=new m(m.STYLE_SOLID,new z([0,255,0]),3);this._polygonSymbol=new e(e.STYLE_SOLID,new m(m.STYLE_SOLID,new z([255,
0,0]),2),new z([255,255,0,.25]));this.loaded=!1;this._isProjectedOk=!0},initialize:function(A,D){A.id&&(this.id=A.id);A.url&&(this._url=A.url);A.version&&(this._version=A.version);this.customParameters=A.customParameters;this._getCapabilities(D)},selectLayer:function(A,D){this._layerName=A.layerName;this._wkid=A.wkid;this._mode=A.mode;this._maxFeatures=A.maxFeatures;this._inverseResponse=A.swapXY;this._inverseFilter=A.swapXYFilter;this.geometryType=A.geometryType;this._describeFeatureType(D);this.loaded=
!0},toJson:function(){var A={};A.id=this.id;A.url=this._url;A.version=this._version;A.mode="snapshot"===this._mode?0:1;A.name=this._layerName;A.geometryType=this.geometryType;A.wkid=this._wkid;A.maxFeatures=this._maxFeatures;A.swapXY=this._inverseResponse;A.swapXYFilter=this._inverseFilter;A.pointSymbol=this._pointSymbol.toJson();A.lineSymbol=this._lineSymbol.toJson();A.polygonSymbol=this._polygonSymbol.toJson();A.showLabels=this.showLabels;this.labelingInfo&&(A.labelingInfo=x.map(this.labelingInfo,
function(D){return D.toJson()}));this.customParameters&&(A.customParameters=this.customParameters);return A},fromJson:function(A,D){A.id&&(this.id=A.id);A.url&&(this._url=A.url);A.version&&(this._version=A.version);A.mode&&(this._mode=0===A.mode?"snapshot":"onDemand");A.name&&(this._layerName=A.name);A.geometryType&&(this.geometryType=A.geometryType);A.wkid&&(this._wkid=A.wkid);A.maxFeatures&&(this._maxFeatures=A.maxFeatures);A.swapXY&&(this._inverseResponse=A.swapXY);A.swapXYFilter&&(this._inverseFilter=
A.swapXYFilter);A.pointSymbol&&(this._pointSymbol=E.fromJson(A.pointSymbol));A.lineSymbol&&(this._lineSymbol=E.fromJson(A.lineSymbol));A.polygonSymbol&&(this._polygonSymbol=E.fromJson(A.polygonSymbol));this.showLabels=null!=A.showLabels?A.showLabels:!0;A.labelingInfo&&(this.labelingInfo=x.map(A.labelingInfo,function(F){return new w(F)}));this.customParameters=A.customParameters;this._getCapabilities(D);this.loaded=!0},setPointSymbol:function(A){this._pointSymbol=A},setLineSymbol:function(A){this._lineSymbol=
A},setPolygonSymbol:function(A){this._polygonSymbol=A},_setMap:function(A){this._map=A;var D=this.inherited(arguments);this._map&&(this._layerEventHandlers.push(this._map.on("extent-change",r.hitch(this,"refresh"))),this._layerEventHandlers.push(this.on("visibility-change",r.hitch(this,"_visibilityChange"))));this._getFeature();this.refresh();return D},_unsetMap:function(){for(var A=0;A<this._layerEventHandlers.length;A++)t.disconnect(this._layerEventHandlers[A]);this.refresh();this.inherited(arguments)},
refresh:function(){this.clear();this.redraw();"ondemand"===this._mode.toLowerCase()&&this._fireUpdateStart()},redraw:function(){if(this.visible)for(var A=0;A<this._graphicArray.length;A++){var D=this._graphicArray[A],F=D.geometry,v=null;"point"===F.type?v=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"multipoint"===F.type?v=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"polyline"===F.type?v=this.renderer?this.renderer.getSymbol(D):this._lineSymbol:"polygon"===F.type&&(v=
this.renderer?this.renderer.getSymbol(D):this._polygonSymbol);D.setSymbol(v);this.add(D)}},_visibilityChange:function(A){this.visible=A.visible;this.redraw()},onUpdateStart:function(){this._getFeature()},onUpdateEnd:function(){this.clear();this.redraw()},setLabelingInfo:function(A){A?(this.labelingInfo=A,this._fixLabelExpr()):delete this.labelingInfo;this.onLabelingInfoChange()},onLabelingInfoChange:function(){},_fixLabelExpr:function(){var A=/\[([^\[\]]+)\]/ig,D,F=this,v=function(C,G){var H=F._getField(G,
!0);return"["+(H&&H.name||G)+"]"};x.forEach(this.labelingInfo,function(C){if(D=C.labelExpression)C.labelExpression=D.replace(A,v)})},_getField:function(A,D){var F=this.fields;if(!F||0===F.length)return null;var v;D&&(A=A.toLowerCase());x.some(F,function(C){var G=!1;(G=D?C&&C.name.toLowerCase()===A?!0:!1:C&&C.name===A?!0:!1)&&(v=C);return G});return v},setCustomParameters:function(A){this.customParameters=A;this._getFeature();this.refresh()},_getCapabilities:function(A){this._getCapabilitiesCallback=
A;A=r.trim(this._url);if(""===A)this.onError("WFSLayer: url is invalid");else if("1.0.0"!==this._version&&"1.1.0"!==this._version&&"2.0.0"!==this._version)this.onError("WFSLayer: version is invalid");else if(""!==A){var D=A.indexOf("?");D=this._checkForUrlInUrl(A,D);D="?"===A.charAt(A.length-1)?"":-1===D?"?":"\x26";A=A+D+"service\x3dWFS\x26request\x3dGetCapabilities\x26version\x3d"+this._version;A=this._appendCustomParameters(A);g({url:A,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._getCapabilitiesResponse,
this._errorSupport)}},_errorSupport:function(A){this.onError(A)},_getCapabilitiesResponse:function(A){var D,F,v,C=new DOMParser;try{var G=C.parseFromString(A,"text/xml"),H=this._readExceptionReport(G,A);if(H)this.onError("WFSLayer: getCapabilities - returns exception: "+H);else{var K=G.documentElement.attributes.getNamedItem("version");if(K){this._version=K.value;var O="2.0.0"===this._version?"http://www.opengis.net/wfs/2.0":"http://www.opengis.net/wfs";if("2.0.0"===this._version){var L=G.getElementsByTagNameNS("http://www.opengis.net/ows/1.1",
"Operation");for(D=0;D<L.length;D++){if((v=L[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===v.value){var J=L[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Get");this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("xlink:href").value}if(v&&"GetFeature"===v.value){var R=L[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Post");this.getFeatureUrl=R[0].attributes.getNamedItem("xlink:href").value}}}else if("1.1.0"===this._version)for(L=G.getElementsByTagNameNS("http://www.opengis.net/ows",
"Operation"),D=0;D<L.length;D++)(v=L[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===v.value&&(J=L[D].getElementsByTagNameNS("http://www.opengis.net/ows","Get"),this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("xlink:href").value),v&&"GetFeature"===v.value&&(R=L[D].getElementsByTagNameNS("http://www.opengis.net/ows","Post"))&&R.length&&(this.getFeatureUrl=R[0].attributes.getNamedItem("xlink:href").value);else if("1.0.0"===this._version){var X=G.getElementsByTagNameNS(O,"DescribeFeatureType");
if(!X||!X.length){this.onError("WFSLayer: getCapabilities - no describeFeatureType info");return}J=X[0].getElementsByTagNameNS(O,"Get");this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("onlineResource").value;var aa=G.getElementsByTagNameNS(O,"GetFeature");if(!aa||!aa.length){this.onError("WFSLayer: getCapabilities - no GetFeature info");return}(R=aa[0].getElementsByTagNameNS(O,"Post"))&&R.length&&(this.getFeatureUrl=R[0].attributes.getNamedItem("onlineResource").value)}this._nsLayerNames=
{};A=[];var ea=G.getElementsByTagNameNS(O,"FeatureTypeList");for(D=0;D<ea.length;D++){var ka=ea[D].getElementsByTagNameNS(O,"FeatureType");for(F=0;F<ka.length;F++){var ma=ka[F],sa=ma.getElementsByTagNameNS(O,"Name")[0],za=sa.textContent,ha=za.indexOf(":"),V=za.substring(0,ha),la=za.substring(ha+1),T=sa.lookupNamespaceURI(V);null===T&&(T=sa.lookupNamespaceURI(null));this._nsLayerNames[la]={prefix:V,namespace:T};var P=ma.getElementsByTagNameNS(O,"Title"),I=0<P.length?P[0].textContent:"";""===I&&(I=
la);this.spatialReferences=this._readFactoryCodes(this._version,ma);var ba=this._readDefaultBBOX(this._version,ma);A.push({name:la,title:I,spatialReferences:this.spatialReferences,extent:ba})}}this._describeFeatureType();var W=this._getCapabilitiesCallback;W&&W(A)}else this.onError("WFSLayer: getCapabilities - document not recognized.")}}catch(ca){this.onError("WFSLayer: getCapabilities - parsing error")}},_readFactoryCodes:function(A,D){var F,v=[];if("2.0.0"===A||"1.1.0"===A){var C=D.getElementsByTagNameNS("*",
"DefaultSRS");this._addCodeList(v,C[0]);C=D.getElementsByTagNameNS("*","DefaultCRS");this._addCodeList(v,C[0]);C=D.getElementsByTagNameNS("*","OtherSRS");for(F=0;F<C.length;F++)this._addCodeList(v,C[F]);C=D.getElementsByTagNameNS("*","OtherCRS");for(F=0;F<C.length;F++)this._addCodeList(v,C[F])}else"1.0.0"===A&&(C=D.getElementsByTagNameNS("*","SRS"),this._addCodeList(v,C[0]));for(C=!1;0<v.length;){4326===v[0]&&(C=!0);break}C||v.push(4326);return v},_addCodeList:function(A,D){if(D){var F=D.textContent.match(/\d+/g);
0<F.length&&(F=parseInt(F[F.length-1],10),84===F&&(F=4326),A.push(F))}},_readDefaultBBOX:function(A,D){if("2.0.0"===A||"1.1.0"===A){var F=D.getElementsByTagNameNS("*","WGS84BoundingBox");if(!F[0]||!F[0].attributes)return[];var v=F[0].getElementsByTagNameNS("*","LowerCorner");var C=F[0].getElementsByTagNameNS("*","UpperCorner");if(0>=v.length||0>=C.length)return[];var G=v[0].textContent;F=G.indexOf(" ");v=G.substring(0,F);G=G.substring(F+1);F=C[0].textContent;var H=F.indexOf(" ");C=F.substring(0,H);
F=F.substring(H+1)}else if("1.0.0"===A){F=D.getElementsByTagNameNS("*","LatLongBoundingBox");if(!F[0]||!F[0].attributes)return[];v=F[0].attributes.getNamedItem("minx").value;G=F[0].attributes.getNamedItem("miny").value;C=F[0].attributes.getNamedItem("maxx").value;F=F[0].attributes.getNamedItem("maxy").value}v=parseFloat(v,10);G=parseFloat(G,10);C=parseFloat(C,10);F=parseFloat(F,10);return[v,G,C,F]},_describeFeatureType:function(A){if(""!==this._layerName)if(""===this.describeFeatureTypeUrl)this.onError("WFSLayer: invalid describeFeatureType url");
else if(""===this._wkid)this.onError("WFSLayer: invalid wkid");else if("snapshot"!==this._mode&&"onDemand"!==this._mode)this.onError("WFSLayer: invalid mode");else if(""===this._maxFeatures||0>this._maxFeatures||1E6<this._maxFeatures)this.onError("WFSLayer: invalid maxFeatures");else if(this._describeFeatureTypeCallback=A,A=r.trim(this.describeFeatureTypeUrl),""!==A){var D=A.indexOf("?");D=this._checkForUrlInUrl(A,D);var F="?"===A.charAt(A.length-1)?"":-1===D?"?":"\x26",v=this._nsLayerNames[this._layerName];
if(void 0===v)this.onError("WFSLayer: invalid layerName");else D=v.prefix,v=v.namespace,A=A+F+"service\x3dWFS\x26request\x3dDescribeFeatureType\x26version\x3d"+this._version,A+="\x26typeName\x3d",""!==D&&(A+=D+":"),A+=encodeURIComponent(this._layerName),""!==D&&(A+="\x26namespace\x3dxmlns("+D+"\x3d"+encodeURIComponent(v)+")"),A=this._appendCustomParameters(A),g({url:A,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._describeFeatureTypeResponse,this._errorSupport)}},_describeFeatureTypeResponse:function(A){var D=
(new DOMParser).parseFromString(A,"text/xml");if(A=this._readExceptionReport(D,A))this.onError("WFSLayer: DescribeFeatureType - returns exception: "+A);else{this.fields=[];A=D.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","schema");for(D=0;D<A.length;D++){var F=this._readAllFields(A[D]);null!==F&&(this._layerDefinedGeometryType=F[0],this.fields=F[1])}this.geometryType&&""!==this.geometryType||(this.geometryType=this._layerDefinedGeometryType);for(D=0;D<this.fields.length;D++)A=this.fields[D],
"esriFieldTypeGeometry"===A.type&&(this._nsGeometryFieldName=A.name);this.layerNamespace=this._nsLayerNames[this._layerName].namespace;if(0===this.fields.length)this.onError("WFSLayer: DescribeFeatureType - can't get fields");else this._getFeature(),(D=this._describeFeatureTypeCallback)&&D(this.fields)}},_readAllFields:function(A){for(var D=A.childNodes,F=0;F<D.length;F++){var v=D[F];if("element"===v.localName){var C=v.attributes;if(C.name.value===this._layerName)return(D=C.type)?(v=D.value,D=v.indexOf(":"),
v=v.substring(D+1),this._readFieldsFromGlobalComplextType(A,v)):this._readFieldsFromLocalComplextType(v)}}return null},_readFieldsFromGlobalComplextType:function(A,D){for(var F=A.childNodes,v=0;v<F.length;v++){var C=F[v];if("complexType"===C.localName&&C.attributes.name.value===D)return this._readFieldsFromLocalComplextType(C)}return null},_readFieldsFromLocalComplextType:function(A){for(var D=[],F="esriGeometryComplex",v=A.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","element"),C=0;C<
v.length;C++){var G=v[C],H="",K=G.attributes.getNamedItem("name");K&&(H=K.value);if(""!==H){var O=A="",L=G.attributes.getNamedItem("type");K="unknown";if(null!==L){O=L.value;var J=O.indexOf(":");A=O.substring(0,J);O=O.substring(J+1);K=L.lookupNamespaceURI(A);null===K&&(K=L.lookupNamespaceURI(null))}if(""===O){G=G.childNodes;for(var R=0;R<G.length;R++)if(A=G[R],"simpleType"===A.localName){A=A.childNodes;for(R=0;R<A.length;R++)if(node2=A[R],"restriction"===node2.localName){L=node2.attributes.getNamedItem("base");
O=L.value;J=O.indexOf(":");A=O.substring(0,J);O=O.substring(J+1);break}if(""!==O)break}}G="Unknown";switch(O){case "integer":case "nonPositiveInteger":case "negativeInteger":case "long":case "int":case "short":case "byte":case "nonNegativeInteger":case "unsignedLong":case "unsignedInt":case "unsignedShort":case "unsignedByte":case "positiveInteger":G="esriFieldTypeInteger";D.push({name:H,alias:H,type:G,wfsNamespace:K});break;case "float":case "double":case "decimal":G="esriFieldTypeDouble";D.push({name:H,
alias:H,type:G,wfsNamespace:K});break;case "boolean":case "string":case "gYearMonth":case "gYear":case "gMonthDay":case "gDay":case "gMonth":case "anyURI":case "QName":case "NOTATION":case "normalizedString":case "token":case "language":case "IDREFS":case "ENTITIES":case "NMTOKEN":case "NMTOKENS":case "Name":case "NCName":case "ID":case "IDREF":case "ENTITY":G="esriFieldTypeString";D.push({name:H,alias:H,type:G,wfsNamespace:K});break;case "duration":case "dateTime":case "time":case "date":G="esriFieldTypeDate";
D.push({name:H,alias:H,type:G,wfsNamespace:K});break;case "PointPropertyType":case "MultiPointPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPoint";D.push({name:H,alias:H,type:G,wfsNamespace:K});break;case "MultiCurvePropertyType":case "MultiLineStringPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolyline";D.push({name:H,alias:H,type:G,wfsNamespace:K});break;case "MultiSurfacePropertyType":case "MultiPolygonPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolygon";D.push({name:H,
alias:H,type:G,wfsNamespace:K});break;case "GeometryPropertyType":case "MultiGeometryPropertyType":G="esriFieldTypeGeometry",F="esriGeometryComplex",D.push({name:H,alias:H,type:G,wfsNamespace:K})}}}return[F,D]},_getFeature:function(){var A="\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3cGetFeature \n xmlns:xsi\x3d'http://www.w3.org/2001/XMLSchema-instance'\n xmlns:gml\x3d'http://www.opengis.net/gml'\n xmlns:ogc\x3d'http://www.opengis.net/ogc'\n xmlns:wfs\x3d'http://www.opengis.net/wfs'\n";
A="2.0.0"===this._version?A+" xmlns\x3d'http://www.opengis.net/wfs/2.0'\n":A+" xmlns\x3d'http://www.opengis.net/wfs'\n";var D=this._nsLayerNames[this._layerName];if(void 0===D)this.onError("WFSLayer: invalid layerName");else{var F=D.prefix;D=D.namespace;if("ondemand"===this._mode.toLowerCase()&&""===this._nsGeometryFieldName)this.onError("WFSLayer: GetFeature - can't use 'onDemand' mode as geometryFieldName is unknown.");else if(A+=" xmlns:"+F+"\x3d'"+D+"'\n",A="2.0.0"===this._version?A+(" version\x3d'"+
this._version+"' service\x3d'WFS' count\x3d'"+this._maxFeatures+"'\x3e\n"):A+(" version\x3d'"+this._version+"' service\x3d'WFS' maxFeatures\x3d'"+this._maxFeatures+"'\x3e\n"),A="2.0.0"===this._version?A+(" \x3cQuery typeNames\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"):A+(" \x3cwfs:Query typeName\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"),"ondemand"===this._mode.toLowerCase()&&(A=A+"  \x3cogc:Filter xmlns:ogc\x3d'http://www.opengis.net/ogc'\x3e\n   \x3cogc:BBOX\x3e\n    \x3cogc:PropertyName\x3e"+
(F+":"+this._nsGeometryFieldName+"\x3c/ogc:PropertyName\x3e\n"),A+="    \x3cgml:Box srsName\x3d'EPSG:"+this._wkid+"'\x3e\n",A=this._inverseFilter?A+"      \x3cgml:coordinates\x3e{ymin},{xmin} {ymax},{xmax}\x3c/gml:coordinates\x3e\n":A+"      \x3cgml:coordinates\x3e{xmin},{ymin} {xmax},{ymax}\x3c/gml:coordinates\x3e\n",A+="    \x3c/gml:Box\x3e\n   \x3c/ogc:BBOX\x3e\n  \x3c/ogc:Filter\x3e\n"),A="2.0.0"===this._version?A+" \x3c/Query\x3e\n":A+" \x3c/wfs:Query\x3e\n",this._getFeatureRequest=A+"\x3c/GetFeature\x3e\n",
""===this.getFeatureUrl)this.onError("WFSLayer: getFeature - server doesn't support POST method.");else if(""!==this._getFeatureRequest&&this._map&&null!==this._map.spatialReference.wkid){A=this._getFeatureRequest;if("ondemand"===this._mode.toLowerCase()){A=this._map.extent.xmin;F=this._map.extent.ymin;D=this._map.extent.xmax;var v=this._map.extent.ymax,C={},G=this._map.spatialReference,H=new d(this._wkid);this._projectFromSRToSR(G,H,A,F,C)&&(A=C.x,F=C.y);this._projectFromSRToSR(G,H,D,v,C)&&(D=C.x,
v=C.y);A=this._getFeatureRequest.replace(/{xmin}/,A).replace(/{ymin}/,F).replace(/{xmax}/,D).replace(/{ymax}/,v)}F=this._appendCustomParameters(this.getFeatureUrl);g({url:F,handleAs:"text",headers:{"Content-Type":"text/xml"},postData:A},{usePost:!0}).then(this._parseGml,this._errorSupport)}}},_parseGml:function(A){if(this._map&&this._map.spatialReference&&this._map.spatialReference.wkid){var D=(new DOMParser).parseFromString(A,"text/xml");if(A=this._readExceptionReport(D,A))this.onError("WFSLayer: GetFeature - returns exception: "+
A);else this._gmlNS="2.0.0"===this._version?"http://www.opengis.net/gml/3.2":"http://www.opengis.net/gml",""===this._wkid&&(this._wkid=this._map.spatialReference.wkid),this._graphicArray=this._readFeatureMembers(D,this._wkid,2,this._nsLayerNames[this._layerName].namespace,this._layerName),this.fullExtent=this._createFullExtent(this._graphicArray),this.onLabelingInfoChange(),"ondemand"===this._mode.toLowerCase()?this._fireUpdateEnd():this.refresh()}},_limit4326:function(A){for(var D=0;D<A.length;D++){var F=
A[D].geometry;4326===F.spatialReference.wkid&&(F.x=this._limit4326X(F.x),F.y=this._limit4326Y(F.y))}},_limit4326X:function(A){180<=A&&(A=179.99);-180>=A&&(A=-179.99);return A},_limit4326Y:function(A){90<=A&&(A=89.99);-90>=A&&(A=-89.99);return A},_createFullExtent:function(A){for(var D=null,F=0;F<A.length;F++){var v=A[F].geometry,C=null;(C="point"===v.geometryType?new b(v.x,v.y,v.x,v.y,v.spatialReference):v.getExtent())&&(D=null===D?C:D.union(C))}return D},_readExceptionReport:function(A,D){return 0<
A.getElementsByTagNameNS("*","ExceptionReport").length||0<A.getElementsByTagNameNS("*","ServiceExceptionReport").length?D:""},_readFeatureMembers:function(A,D,F,v,C){var G=this._readWkidFromNode(A);-1!=G&&(D=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=[];var K=A.getElementsByTagNameNS("*","featureMembers");for(G=0;G<K.length;G++){var O=K[G];var L=O.getElementsByTagNameNS(v,C);0===L.length&&(L=O.getElementsByTagNameNS(null,C));0===L.length&&(L=O.getElementsByTagNameNS("*",C));for(O=0;O<L.length;O++)this._readLayer(H,
L[O],D,F)}K=A.getElementsByTagNameNS("*","featureMember");for(G=0;G<K.length;G++)for(O=K[G],L=O.getElementsByTagNameNS(v,C),0===L.length&&(L=O.getElementsByTagNameNS(null,C)),0===L.length&&(L=O.getElementsByTagNameNS("*",C)),O=0;O<L.length;O++)this._readLayer(H,L[O],D,F);K=A.getElementsByTagNameNS("*","member");for(G=0;G<K.length;G++)for(O=K[G],L=O.getElementsByTagNameNS(v,C),0===L.length&&(L=O.getElementsByTagNameNS(null,C)),0===L.length&&(L=O.getElementsByTagNameNS("*",C)),O=0;O<L.length;O++)this._readLayer(H,
L[O],D,F);return H},_readLayer:function(A,D,F,v){var C=this._readSrsDimension(D);0!==C&&(v=C);var G=D.childNodes,H="",K=null;for(D=0;D<G.length;D++){var O=G[D];if(1==O.nodeType&&(C=O.localName,"boundedBy"!==C)){O=this._readGeometry(O,F,v);if(!this._isProjectedOk){this._isProjectedOk=!0;break}if(null!==O&&(K=O,H=C,"point"!==K.geometryType||"esriGeometryPolygon"!==this.geometryType&&"esriGeometryPolyline"!==this.geometryType))break}}if(K){F={};for(D=0;D<G.length;D++)if(O=G[D],C=O.localName,v=O.textContent,
C!==H)for(O=0;O<this.fields.length;O++){var L=this.fields[O];L.name==C&&(F[C]="esriFieldTypeDouble"===L.type?parseFloat(v,10):"esriFieldTypeInteger"===L.type?parseInt(v,10):v.trim())}this._convertWFSGeometryToGraphicObjects(A,K,F)}},_convertWFSGeometryToGraphicObjects:function(A,D,F){if("point"===D.geometryType&&("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType)){var v=new y;D=new c(D);v.setGeometry(D);v.setAttributes(F);A.push(v)}else if("multipoint"===D.geometryType&&
("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType))v=new y,D=new h(D),v.setGeometry(D),v.setAttributes(F),A.push(v);else if("polyline"===D.geometryType&&("esriGeometryPolyline"===this.geometryType||"esriGeometryComplex"===this.geometryType))v=new y,D=new n(D),v.setGeometry(D),v.setAttributes(F),A.push(v);else if("polygon"===D.geometryType&&("esriGeometryPolygon"===this.geometryType||"esriGeometryComplex"===this.geometryType))v=new y,D=new p(D),v.setGeometry(D),v.setAttributes(F),
A.push(v);else if("multigeometry"===D.geometryType)for(v=0;v<D.length;v++)this._convertWFSGeometryToGraphicObjects(A,D[v],F)},_readGeometry:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);var C=A.getElementsByTagNameNS(this._gmlNS,"MultiSurface");if(1<=C.length)for(v=0;v<C.length;)return this._readMultiSurface(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"MultiCurve");if(1<=C.length){var G=[];for(v=0;v<C.length;v++){var H=this._readMultiCurve(C[v],
D,F);for(A=0;A<H.length;A++)G.push(H[A])}return{geometryType:"polyline",paths:G,spatialReference:{wkid:this._map.spatialReference.wkid}}}C=A.getElementsByTagNameNS(this._gmlNS,"MultiGeometry");for(v=0;v<C.length;)return this._readMultiGeometry(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"Geometry");for(v=0;v<C.length;)return this._readGeometry(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"GeometryCollection");for(v=0;v<C.length;)return this._readGeometryCollection(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,
"Surface");for(v=0;v<C.length;)return this._readSurface(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"Curve");for(v=0;v<C.length;)return this._readCurve(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"MultiPolygon");for(v=0;v<C.length;)return this._readMultiPolygon(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(v=0;v<C.length;)return this._readPolygon(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"MultiLineString");for(v=0;v<C.length;)return this._readMultiLineString(C[v],
D,F);C=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(v=0;v<C.length;){D=this._readLineString(C[v],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};v=[];for(A=0;A<D.length;A++)v.push(D[A]);F.paths.push(v);return F}C=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");for(v=0;v<C.length;)return this._readLinearRing(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"Box");if(1<=C.length)for(v=0;v<C.length;)return this._readBox(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,
"Envelope");for(v=0;v<C.length;)return this._readEnvelope(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"MultiPoint");if(1<=C.length)for(v=0;v<C.length;)return this._readMultiPoint(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"Point");for(v=0;v<C.length;)return this._readPoint(C[v],D,F);return null},_readGeometryCollection:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};
var C=A.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(A=0;A<C.length;A++){var G=this._readGeometryMember(C[A],D,F);v.push(G)}return v},_readMultiGeometry:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(A=0;A<C.length;A++){var G=this._readGeometryMember(C[A],D,F);v.push(G)}return v},
_readSurface:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);var C=[];C.geometryType="multigeometry";C.spatialReference={wkid:this._map.spatialReference.wkid};var G=A.getElementsByTagNameNS(this._gmlNS,"Point");for(v=0;v<G.length;v++)C.push(this._readPoint(G[v],D,F));G=A.getElementsByTagNameNS(this._gmlNS,"patches");for(v=0;v<G.length;v++){A=this._readPatches(G[v],D,F);for(var H=0;H<A.length;H++)C.push(A[H])}return C},_readMultiSurface:function(A,
D,F){var v;var C=this._readWkidFromNode(A);-1!=C&&(D=C);C=this._readSrsDimension(A);0!==C&&(F=C);var G=[];G.geometryType="multigeometry";G.spatialReference={wkid:this._map.spatialReference.wkid};var H=A.getElementsByTagNameNS(this._gmlNS,"surfaceMember");for(C=0;C<H.length;C++){var K=this._readSurfaceMember(H[C],D,F);for(v=0;v<K.length;v++)G.push(K[v])}H=A.getElementsByTagNameNS(this._gmlNS,"surfaceMembers");for(C=0;C<H.length;C++)for(A=this._readSurfaceMembers(H[C],D,F),v=0;v<A.length;v++)G.push(A[v]);
return G},_readCurve:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var C=A.getElementsByTagNameNS(this._gmlNS,"segments");for(A=0;A<C.length;A++)for(var G=this._readSegments(C[A],D,F),H=0;H<G.length;H++)v.paths.push(G[H]);return v},_readSegments:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];
v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"LineStringSegment");for(A=0;A<C.length;A++){var G=this._readLineStringSegment(C[A],D,F);v.push(G)}return v},_readLineStringSegment:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"posList");0<A.length;)return this._readPosList(A[0],D,F)},_readMultiCurve:function(A,D,F){var v;
var C=this._readWkidFromNode(A);-1!=C&&(D=C);C=this._readSrsDimension(A);0!==C&&(F=C);var G=[];G.spatialReference={wkid:this._map.spatialReference.wkid};var H=A.getElementsByTagNameNS(this._gmlNS,"curveMember");for(C=0;C<H.length;C++){var K=this._readCurveMember(H[C],D,F);for(v=0;v<K.length;v++)G.push(K[v])}H=A.getElementsByTagNameNS(this._gmlNS,"curveMembers");for(C=0;C<H.length;C++)for(K=this._readCurveMembers(H[C],D,F),v=0;v<K.length;v++)G.push(K[v]);return G},_readGeometryMember:function(A,D,
F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);var C=A.getElementsByTagNameNS(this._gmlNS,"Point");for(v=0;v<C.length;)return this._readPoint(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(v=0;v<C.length;){D=this._readLineString(C[v],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};v=[];for(A=0;A<D.length;A++)v.push(D[A]);F.paths.push(v);return F}C=A.getElementsByTagNameNS(this._gmlNS,"Polygon");
for(v=0;v<C.length;)return this._readPolygon(C[v],D,F);return null},_readSurfaceMember:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(A=0;A<C.length;A++){var G=this._readPolygon(C[A],D,F);v.push(G)}return v},_readSurfaceMembers:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);
0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(A=0;A<C.length;A++){var G=this._readPolygon(C[A],D,F);v.push(G)}return v},_readCurveMember:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"LineString");
for(A=0;A<C.length;A++){var G=this._readLineString(C[A],D,F);v.push(G)}return v},_readCurveMembers:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(A=0;A<C.length;A++){var G=this._readLineString(C[A],D,F);v.push(G)}return v},_readBox:function(A,D,F){var v,C,G,H,K=this._readWkidFromNode(A);-1!=
K&&(D=K);K=this._readSrsDimension(A);0!==K&&(F=K);K={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var O=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(v=0;v<O.length;v++)if(C=this._readCoordinates(O[v],D,F)){if(1<=C.length){var L=G=C[0][0];var J=H=C[0][1]}1<=C.length&&(G=C[1][0],H=C[1][1]);K.rings.push([[L,J],[L,H],[G,H],[G,J],[L,J]]);return K}O=A.getElementsByTagNameNS(this._gmlNS,"coord");return 2<=O.length?((A=this._readCoord(O[0],D,F))&&1<=
A.length&&(L=G=A[0][0],J=H=A[0][1]),(D=this._readCoord(O[1],D,F))&&1<=D.length&&(G=D[0][0],H=D[0][1]),K.rings.push([[L,J],[L,H],[G,H],[G,J],[L,J]]),K):null},_readEnvelope:function(A,D,F){var v,C;var G=this._readWkidFromNode(A);-1!=G&&(D=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=A.getElementsByTagNameNS(this._gmlNS,"lowerCorner");for(G=0;G<H.length;G++){var K=this._readCoordinates(H[G],D,F);K&&(v=K[0])}H=A.getElementsByTagNameNS(this._gmlNS,"upperCorner");for(G=0;G<H.length;G++)(A=this._readCoordinates(H[G],
D,F))&&(C=A[0]);return v&&C?{geometryType:"polygon",rings:[[[v[0],v[1]],[v[0],C[1]],[C[0],C[1]],[C[0],v[1]],[v[0],v[1]]]],spatialReference:{wkid:this._map.spatialReference.wkid}}:null},_readPolygon:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);var C={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var G=A.getElementsByTagNameNS(this._gmlNS,"outerBoundaryIs");for(v=0;v<G.length;v++){var H=this._readOuterBoundaryIs(G[v],
D,F);C.rings.push(H)}G=A.getElementsByTagNameNS(this._gmlNS,"innerBoundaryIs");for(v=0;v<G.length;v++)H=this._readInnerBoundaryIs(G[v],D,F),C.rings.push(H);G=A.getElementsByTagNameNS(this._gmlNS,"exterior");for(v=0;v<G.length;v++)H=this._readExterior(G[v],D,F),C.rings.push(H);G=A.getElementsByTagNameNS(this._gmlNS,"interior");for(v=0;v<G.length;v++)H=this._readInterior(G[v],D,F),C.rings.push(H);return C},_readPolygonMember:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);
0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"Polygon");0<A.length;)return this._readPolygon(A[0],D,F);return null},_readMultiPolygon:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v=[];v.geometryType="multigeometry";v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"polygonMember");for(A=0;A<C.length;A++){var G=this._readPolygonMember(C[A],D,F);v.push(G)}return v},_readOuterBoundaryIs:function(A,
D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],D,F);return null},_readInnerBoundaryIs:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],D,F);return null},_readExterior:function(A,D,F){var v=this._readWkidFromNode(A);
-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],D,F);return null},_readInterior:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],D,F);return null},_readPatches:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);
0!==v&&(F=v);v=[];v.spatialReference={wkid:this._map.spatialReference.wkid};var C=A.getElementsByTagNameNS(this._gmlNS,"PolygonPatch");for(A=0;A<C.length;A++)v.push(this._readPolygon(C[A],D,F));return v},_readLineString:function(A,D,F){var v,C;var G=this._readWkidFromNode(A);-1!=G&&(D=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=[];H.spatialReference={wkid:this._map.spatialReference.wkid};var K=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(G=0;G<K.length;G++)if(C=this._readCoordinates(K[G],
D,F))for(v=0;v<C.length;v++){var O=C[v];H.push(O)}K=A.getElementsByTagNameNS(this._gmlNS,"coord");for(G=0;G<K.length;G++)if(C=this._readCoord(K[G],D,F))for(v=0;v<C.length;v++)O=C[v],H.push(O);K=A.getElementsByTagNameNS(this._gmlNS,"posList");for(G=0;G<K.length;G++)if(C=this._readPosList(K[G],D,F))for(v=0;v<C.length;v++)O=C[v],H.push(O);return H},_readLineStringMember:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,
"LineString");0<A.length;)return this._readLineString(A[0],D,F);return null},_readMultiLineString:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var C=A.getElementsByTagNameNS(this._gmlNS,"lineStringMember");for(A=0;A<C.length;A++){var G=this._readLineStringMember(C[A],D,F);G&&v.paths.push(G)}return 1<=v.paths.length?v:null},_readPoint:function(A,D,F){var v;
var C=this._readWkidFromNode(A);-1!=C&&(D=C);C=this._readSrsDimension(A);0!==C&&(F=C);var G=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(C=0;C<G.length;C++)if(v=this._readCoordinates(G[C],D,F))return{geometryType:"point",x:v[0][0],y:v[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};G=A.getElementsByTagNameNS(this._gmlNS,"pos");for(C=0;C<G.length;C++)if((v=this._readPos(G[C],D,F))&&0<v.length)return{geometryType:"point",x:v[0][0],y:v[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};
G=A.getElementsByTagNameNS(this._gmlNS,"coord");for(C=0;C<G.length;C++)if(A=this._readCoord(G[C],D,F))return{geometryType:"point",x:A[0][0],y:A[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};return null},_readPointMember:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);for(A=A.getElementsByTagNameNS(this._gmlNS,"Point");0<A.length;)return this._readPoint(A[0],D,F);return null},_readMultiPoint:function(A,D,F){var v=this._readWkidFromNode(A);
-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);v={geometryType:"multipoint",points:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var C=A.getElementsByTagNameNS(this._gmlNS,"pointMember");for(A=0;A<C.length;A++){var G=this._readPointMember(C[A],D,F);G&&v.points.push([G.x,G.y])}return 1<=v.points.length?v:null},_readLinearRing:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);var C=A.getElementsByTagNameNS(this._gmlNS,"coordinates");
for(v=0;v<C.length;)return this._readCoordinates(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"posList");for(v=0;v<C.length;)return this._readCoordinates(C[v],D,F);C=A.getElementsByTagNameNS(this._gmlNS,"pos");for(v=0;v<C.length;)return this._readPos(C[v],D,F)},_readCoordinatesBody:function(A,D,F){var v=new d(A);D=D.trim();var C=[];C.spatialReference={wkid:this._map.spatialReference.wkid};A=this._isReverse(A,this.version);if(D)if(2===F){if((D=D.match(/[0123456789.\-\+eE]+/g))&&2<=D.length)for(F=
0;F<D.length;F+=2){var G=parseFloat(D[F]);var H=parseFloat(D[F+1]);if(A){var K=H;H=G;G=K}K={};this._projectFromSRToSR(v,this._map.spatialReference,G,H,K)&&(G=K.x,H=K.y);C.push([G,H])}}else if(3===F&&(D=D.match(/[0123456789.\-\+eE]+/g))&&3<=D.length)for(F=0;F<D.length;F+=3)G=parseFloat(D[F]),H=parseFloat(D[F+1]),A&&(K=H,H=G,G=K),K={},this._projectFromSRToSR(v,this._map.spatialReference,G,H,K)&&(G=K.x,H=K.y),C.push([G,H]);return C},_readCoord:function(A,D,F){var v,C=this._readWkidFromNode(A);-1!=C&&
(D=C);C=new d(D);var G=this._readSrsDimension(A);0!==G&&(F=G);var H=this._isReverse(D,this.version),K=[];K.spatialReference={wkid:this._map.spatialReference.wkid};G=0;var O=A.getElementsByTagNameNS(this._gmlNS,"X");for(v=0;v<O.length;){G=this._readFloat(O[v],D,F);break}var L=0;O=A.getElementsByTagNameNS(this._gmlNS,"Y");for(v=0;v<O.length;){L=this._readFloat(O[v],D,F);break}H&&(A=L,L=G,G=A);A={};this._projectFromSRToSR(C,this._map.spatialReference,G,L,A)&&(G=A.x,L=A.y);K.push(H?[L,G]:[G,L]);return K},
_readCoordinates:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);return this._readCoordinatesBody(D,A.textContent,F)},_readPos:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);return this._readCoordinatesBody(D,A.textContent,F)},_readPosList:function(A,D,F){var v=this._readWkidFromNode(A);-1!=v&&(D=v);v=this._readSrsDimension(A);0!==v&&(F=v);return this._readCoordinatesBody(D,A.textContent,F)},
_projectFromSRToSR:function(A,D,F,v,C){if(a.canProject(A,D))return A=new c(F,v,A),D=a.project(A,D),C.x=D.x,C.y=D.y,!0;C.x=F;C.y=v;return this._isProjectedOk=!1},_readFloat:function(A){return(A=A.textContent)?parseFloat(A):0},_readSrsDimension:function(A){return A.attributes&&(A=A.attributes.getNamedItem("srsDimension"))?parseInt(A.value,10):0},_readWkidFromNode:function(A){return A.attributes&&(A=A.attributes.getNamedItem("srsName"))&&(A=A.value.match(/\d+/g))&&0<A.length?(A=parseInt(A[A.length-1],
10),84===A&&(A=4326),parseInt(A,10)):-1},_isReverse:function(A,D){return this._inverseResponse},_appendCustomParameters:function(A){if(this.customParameters)for(var D in this.customParameters)A+=(-1===A.indexOf("?")?"?":"\x26")+D+"\x3d"+encodeURIComponent(this.customParameters[D]);return A},_checkForUrlInUrl:function(A,D){var F=A.toLowerCase().lastIndexOf("http");-1<D&&F>D&&(-1<A.indexOf("?",F)||-1!==A.indexOf("\x26",F)||(D=-1));return D}});r.setObject("layers.WFSLayer",U,k);return U})},"esri/layers/WMTSLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff dojox/xml/parser ../kernel ../lang ../request ../urlUtils ../WKIDUnitConversion ../SpatialReference ../geometry/Point ../geometry/Extent ../geometry/webMercatorUtils ./TiledMapServiceLayer ./TileInfo ./WMTSLayerInfo dojo/query".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){M=M([e],{declaredClass:"esri.layers.WMTSLayer",copyright:null,extent:null,tileUrl:null,spatialReference:null,tileInfo:null,constructor:function(b,c){this.version="1.0.0";this.tileUrl=this._url=b;this.serviceMode="RESTful";this._parseCapabilities=r.hitch(this,this._parseCapabilities);this._getCapabilitiesError=r.hitch(this,this._getCapabilitiesError);this._formatDictionary={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png",
"image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""};c||(c={});if(c.serviceMode)if("KVP"===c.serviceMode||"RESTful"===c.serviceMode)this.serviceMode=c.serviceMode;else return;this.customParameters=c.customParameters;this.customLayerParameters=c.customLayerParameters;this.layerInfo=new a;c.layerInfo&&(this.layerInfo=c.layerInfo,this._identifier=c.layerInfo.identifier,this._tileMatrixSetId=c.layerInfo.tileMatrixSet,
c.layerInfo.format&&(this.format="image/"+c.layerInfo.format),this._style=c.layerInfo.style,this.title=c.layerInfo.title,this._dimension=c.layerInfo.dimension,this._dimension2=c.layerInfo.dimension2);c.resourceInfo?(this.version=c.resourceInfo.version,c.resourceInfo.getTileUrl&&(this._url=this.tileUrl=c.resourceInfo.getTileUrl),this.copyright=c.resourceInfo.copyright,this.layerInfos=c.resourceInfo.layerInfos,this.customParameters=c.resourceInfo.customParameters||this.customParameters,this.customLayerParameters=
c.resourceInfo.customLayerParameters||this.customLayerParameters,this._parseResourceInfo(),this.loaded=!0,this.onLoad(this)):this._getCapabilities()},setActiveLayer:function(b){this.setVisibleLayer(b)},setVisibleLayer:function(b){this._setActiveLayer(b);this.refresh(!0)},setCustomParameters:function(b,c){this.customParameters=b;this.customLayerParameters=c;this.refresh(!0)},getTileUrl:function(b,c,h){b=this._levelToLevelValue[b];b=this.resourceUrls&&0<this.resourceUrls.length?this.resourceUrls[c%
this.resourceUrls.length].template.replace(/\{Style\}/gi,this._style).replace(/\{TileMatrixSet\}/gi,this._tileMatrixSetId).replace(/\{TileMatrix\}/gi,b).replace(/\{TileRow\}/gi,c).replace(/\{TileCol\}/gi,h).replace(/\{dimensionValue\}/gi,this._dimension).replace(/\{dimensionValue2\}/gi,this._dimension2):this.UrlTemplate.replace(/\{level\}/gi,b).replace(/\{row\}/gi,c).replace(/\{col\}/gi,h);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return y.addProxy(b)},getTileUrlTemplate:function(b){var c=
b.identifier,h=b.tileMatrixSet,n=b.format,p=b.style,w=b.dimension,B=b.dimension2;c?b=x.filter(this.layers,function(D){return D.identifier===c})[0]:(b=this.layers[0],c=this.layers[0].identifier);if(b){if(!n)n=b.formats[0];else if(!(-1===n.indexOf("image/")&&-1<x.indexOf(b.formats,n))&&(-1===n.indexOf("image/")&&(n="image/"+n),-1===x.indexOf(b.formats,n))){this.onError(Error("The layer doesn't support the format of "+n));return}if(!p)p=b.styles[0];else if(-1===x.indexOf(b.styles,p)){this.onError(Error("The layer doesn't support the style of "+
p));return}if(!w&&b.dimensions)w=b.dimensions[0];else if(-1===x.indexOf(b.dimensions,w)){this.onError(Error("The layer doesn't support the dimension of "+w));return}if(!B&&b.dimensions2)B=b.dimensions2[0];else if(-1===x.indexOf(b.dimensions2,B)){this.onError(Error("The layer doesn't support the dimension of "+B));return}if(h){var A=x.filter(b.tileMatrixSetInfos,function(D){return D.tileMatrixSet===h})[0];if(!A){this.onError(Error("The tileMatrixSetId "+h+" is not supported by the layer of "+c));return}}else(A=
x.filter(b.tileMatrixSetInfos,function(D){return"GoogleMapsCompatible"===D.tileMatrixSet})[0])||(A=b.tileMatrixSetInfos[0]),h=A.tileMatrixSet;return this._getTileUrlTemplate(c,h,n,p,w,B)}this.onError(Error("couldn't find the layer "+c))},_getTileUrlTemplate:function(b,c,h,n,p,w){b||(b=this._identifier);c||(c=this._tileMatrixSetId);h||(h=this.format);n||""===n||(n=this._style);if(this.resourceUrls&&0<this.resourceUrls.length){var B=this.resourceUrls[0].template;B.indexOf(".xxx")===B.length-4&&(B=B.slice(0,
B.length-4));B=B.replace(/\{Style\}/gi,n);B=B.replace(/\{TileMatrixSet\}/gi,c);B=B.replace(/\{TileMatrix\}/gi,"{level}");B=B.replace(/\{TileRow\}/gi,"{row}");B=B.replace(/\{TileCol\}/gi,"{col}");B=B.replace(/\{dimensionValue\}/gi,p);return B=B.replace(/\{dimensionValue2\}/gi,w)}"KVP"===this.serviceMode?B=this._url+"SERVICE\x3dWMTS\x26VERSION\x3d"+this.version+"\x26REQUEST\x3dGetTile\x26LAYER\x3d"+b+"\x26STYLE\x3d"+n+"\x26FORMAT\x3d"+h+"\x26TILEMATRIXSET\x3d"+c+"\x26TILEMATRIX\x3d{level}\x26TILEROW\x3d{row}\x26TILECOL\x3d{col}":
"RESTful"===this.serviceMode&&(p="",this._formatDictionary[h.toLowerCase()]&&(p=this._formatDictionary[h.toLowerCase()]),B=this._url+b+"/"+n+"/"+c+"/{level}/{row}/{col}"+p);return B},_parseResourceInfo:function(){var b=this.layerInfos,c;"KVP"===this.serviceMode&&(this._url+=-1<this._url.indexOf("?")?"":"?");for(c=0;c<b.length;c++)if(!(this._identifier&&b[c].identifier!==this._identifier||this.title&&b[c].title!==this.title||this._tileMatrixSetId&&b[c].tileMatrixSet!==this._tileMatrixSetId||this.format&&
"image/"+b[c].format!==this.format||this._style&&b[c].style!==this._style)){r.mixin(this,{description:b[c].description,tileInfo:b[c].tileInfo,spatialReference:b[c].tileInfo.spatialReference,fullExtent:b[c].fullExtent,initialExtent:b[c].initialExtent,_identifier:b[c].identifier,_tileMatrixSetId:b[c].tileMatrixSet,format:"image/"+b[c].format,_style:b[c].style});break}for(c=0;c<b.length;c++){var h=b[c].tileInfo;96!==h.dpi&&(x.forEach(h.lods,function(n){n.scale=96*n.scale/h.dpi}),h.dpi=96);x.forEach(h.lods,
function(n){n.resolution=this._getResolution(h.spatialReference.wkid,90.71428571428571*n.scale/96,b[c].tileMatrixSet)},this)}this._setActiveLayer();this.UrlTemplate=this._getTileUrlTemplate();this._levelToLevelValue=[];x.forEach(this.tileInfo.lods,function(n){this._levelToLevelValue[n.level]=n.levelValue?n.levelValue:n.level},this)},_getCapabilities:function(){var b;"KVP"===this.serviceMode?b=-1<this._url.indexOf("?")?this._url+"\x26request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:
this._url+"?request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:"RESTful"===this.serviceMode&&(b=this._url+"/"+this.version+"/WMTSCapabilities.xml");b=this._appendCustomParameters(b);k({url:b,handleAs:"text",load:this._parseCapabilities,error:this._getCapabilitiesError})},_parseCapabilities:function(b){b=b.replace(/ows:/gi,"");b=l.parse(b);var c=U.query("Contents",b)[0];if(c){var h=U.query("OperationsMetadata",b)[0],n=U.query("[name\x3d'GetTile']",h)[0];h=this._url;n=U.query("Get",
n);var p,w=!1;for(p=0;p<n.length;p++){var B=U.query("Constraint",n[p])[0];if(!B||this._getTagWithChildTagValue("AllowedValues","Value",this.serviceMode,B)){h=n[p].attributes[0].nodeValue;w=!0;break}else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","RESTful",B))var A=n[p].attributes[0].nodeValue;else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","KVP",B))var D=n[p].attributes[0].nodeValue}w||("KVP"===this.serviceMode&&A?(h=A,this.serviceMode="RESTful"):"RESTful"===this.serviceMode&&
D&&(h=D,this.serviceMode="KVP"));-1===h.indexOf("/1.0.0/")&&"RESTful"===this.serviceMode&&(h+="/");"KVP"===this.serviceMode&&(h+=-1<h.indexOf("?")?"":"?");this._url=h;this.copyright=this._getTagValues("Capabilities\x3eServiceIdentification\x3eAccessConstraints",b)[0];A=U.query("Layer",c);var F,v=[];this.layers=[];x.forEach(A,function(C){F=this._getTagValues("Identifier",C)[0];v.push(F);this.layers.push(this._getWMTSLayerInfo(F,C,c))},this);this._setActiveLayer();this.loaded=!0;this.onLoad(this)}else this.onError(Error("The WMTS capabilities XML is not valid"))},
_setActiveLayer:function(b){b||(b={});b.identifier&&(this._identifier=b.identifier);b.tileMatrixSet&&(this._tileMatrixSetId=b.tileMatrixSet);b.format&&(this.format=b.format);b.style&&(this._style=b.style);b.dimension&&(this._dimension=b.dimension);b.dimension2&&(this._dimension2=b.dimension2);if(this.layers)if(this._identifier?b=x.filter(this.layers,function(h){return h.identifier===this._identifier},this)[0]:(b=this.layers[0],this._identifier=this.layers[0].identifier),b){if(this.format){if(-1===
this.format.indexOf("image/")&&(this.format="image/"+this.format),-1===x.indexOf(b.formats,this.format)){this.onError(Error("The layer doesn't support the format of "+this.format));return}}else this.format=b.formats[0],-1===this.format.indexOf("image/")&&(this.format="image/"+this.format);if(!this._style)this._style=b.styles[0];else if(-1===x.indexOf(b.styles,this._style)){this.onError(Error("The layer doesn't support the style of "+this._style));return}if(!this._dimension&&b.dimensions)this._dimension=
b.dimensions[0];else if(-1===x.indexOf(b.dimensions,this._dimension)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension));return}if(!this._dimension2&&b.dimensions2)this._dimension2=b.dimensions2[0];else if(-1===x.indexOf(b.dimensions2,this._dimension2)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension2));return}if(this._tileMatrixSetId){var c=x.filter(b.tileMatrixSetInfos,function(h){return h.tileMatrixSet===this._tileMatrixSetId},this)[0];
if(!c){this.onError(Error("The tileMatrixSetId "+this._tileMatrixSetId+" is not supported by the layer of "+this._identifier));return}}else(c=x.filter(b.tileMatrixSetInfos,function(h){return"GoogleMapsCompatible"===h.tileMatrixSet})[0])||(c=b.tileMatrixSetInfos[0]),this._tileMatrixSetId=c.tileMatrixSet;this.description=b.description;this.title=b.title;this.spatialReference=c.tileInfo.spatialReference;this.tileInfo=c.tileInfo;this._levelToLevelValue=[];x.forEach(this.tileInfo.lods,function(h){this._levelToLevelValue[h.level]=
h.levelValue?h.levelValue:h.level},this);102100===this.spatialReference.wkid||102113===this.spatialReference.wkid?this.fullExtent=this.initialExtent=m.geographicToWebMercator(b.gcsExtent):4326===this.spatialReference.wkid?this.fullExtent=this.initialExtent=b.gcsExtent:(this.fullExtent=c.fullExtent,this.initialExtent=c.initialExtent);this.resourceUrls=b.resourceUrls;this.UrlTemplate=this._getTileUrlTemplate();this.layerInfo={identifier:this._identifier,tileMatrixSet:this._tileMatrixSetId,format:this.format,
style:this._style,fullExtent:this.fullExtent,initialExtent:this.initialExtent,tileInfo:this.tileInfo,title:this.title,description:this.description}}else this.onError(Error("couldn't find the layer "+this._identifier))},_getWMTSLayerInfo:function(b,c,h){var n=this._getTagValues("Abstract",c)[0],p=this._getTagValues("Title",c)[0],w=U.query("WGS84BoundingBox",c)[0],B=w?this._getTagValues("LowerCorner",w)[0].split(" "):["-180","-90"],A=w?this._getTagValues("UpperCorner",w)[0].split(" "):["180","90"];
w=parseFloat(B[0]);B=parseFloat(B[1]);var D=parseFloat(A[0]);A=parseFloat(A[1]);w=new q(w,B,D,A,new E({wkid:4326}));A=this._getTagValues("Identifier",U.query("Style",c)[0]);var F=this._getTagValues("Identifier",U.query("Dimension",c)[0]),v=this._getTagValues("Default",U.query("Dimension",c)[0])||this._getTagValues("Value",U.query("Dimension",c)[0]),C=1<U.query("Dimension",c).length?this._getTagValues("Identifier",U.query("Dimension",c)[1]):[],G=1<U.query("Dimension",c).length?this._getTagValues("Default",
U.query("Dimension",c)[1])||this._getTagValues("Value",U.query("Dimension",c)[1]):[];B=this._getTagValues("Format",c);h=this._getLayerMatrixInfos(c,h);b={identifier:b,tileMatrixSetInfos:h,formats:B,styles:A,title:p,description:n,gcsExtent:w,dimensions:v,dimensions2:G};c=U.query("ResourceURL",c);var H=[],K;x.forEach(c,function(O){K=O.getAttribute("template");if(F&&v&&F[0]&&v[0])if(-1<K.indexOf("{"+F+"}"))K=K.replace("{"+F+"}","{dimensionValue}");else{var L=K.toLowerCase().indexOf("{"+F[0].toLowerCase()+
"}");-1<L&&(K=K.substring(0,L)+"{dimensionValue}"+K.substring(L+F[0].length+2))}C&&G&&C[0]&&G[0]&&(-1<K.indexOf("{"+C+"}")?K=K.replace("{"+C+"}","{dimensionValue2}"):(L=K.toLowerCase().indexOf("{"+C[0].toLowerCase()+"}"),-1<L&&(K=K.substring(0,L)+"{dimensionValue2}"+K.substring(L+C[0].length+2))));H.push({template:K,format:O.getAttribute("format"),resourceType:O.getAttribute("resourceType")})});H&&0<H.length&&(b.resourceUrls=H);return b},_getLayerMatrixInfos:function(b,c){var h=[],n=this._getTagValues("TileMatrixSet",
b);if(n&&0!==n.length)return x.forEach(n,function(p){p=this._getLayerMatrixInfo(p,b,c);h.push(p)},this),h},_getLayerMatrixInfo:function(b,c,h){var n=[];c=this._getTagWithChildTagValue("TileMatrixSetLink","TileMatrixSet",b,c);var p=this._getTagValues("TileMatrix",c),w=this._getTagWithChildTagValue("TileMatrixSet","Identifier",b,h),B=this._getTagValues("SupportedCRS",w)[0];var A=parseInt(B.split(":").pop(),10);if(900913==A||3857==A)A=102100;if(-1<B.toLowerCase().indexOf("crs84")||-1<B.toLowerCase().indexOf("crs:84")){A=
4326;var D=!0}else if(-1<B.toLowerCase().indexOf("crs83")||-1<B.toLowerCase().indexOf("crs:83"))A=4269,D=!0;else if(-1<B.toLowerCase().indexOf("crs27")||-1<B.toLowerCase().indexOf("crs:27"))A=4267,D=!0;var F=new E({wkid:A}),v=U.query("TileMatrix",w)[0];h=parseInt(this._getTagValues("TileWidth",v)[0],10);c=parseInt(this._getTagValues("TileHeight",v)[0],10);var C=this._getTagValues("TopLeftCorner",v)[0].split(" ");var G=C[0],H=C[1];1<G.split("E").length&&(C=G.split("E"),G=C[0]*Math.pow(10,C[1]));1<
H.split("E").length&&(C=H.split("E"),H=C[0]*Math.pow(10,C[1]));G=parseFloat(G);H=parseFloat(H);var K=D&&4326===A&&90===G&&-180===H;for(C=0;C<this._flippingAxisForWkids.length;C++)if(B.split(":").pop()>=this._flippingAxisForWkids[C][0]&&B.split(":").pop()<=this._flippingAxisForWkids[C][1]||4326===A&&(!D||K)){4326===A&&90<G&&(G="90");var O=new z(H,G,F);break}C===this._flippingAxisForWkids.length&&(O=new z(G,H,F));if(0===p.length)for(p=U.query("TileMatrix",w),C=0;C<p.length;C++)D=this._getLodFromTileMatrix(p[C],
A,C,b),n.push(D);else for(C=0;C<p.length;C++)D=this._getTagWithChildTagValue("TileMatrix","Identifier",p[C],w),D=this._getLodFromTileMatrix(D,A,C,b),n.push(D);A=U.query("BoundingBox",w)[0];if(A){var L=this._getTagValues("LowerCorner",A)[0].split(" ");var J=this._getTagValues("UpperCorner",A)[0].split(" ")}L&&1<L.length&&J&&1<J.length?(v=parseFloat(L[0]),A=parseFloat(L[1]),L=parseFloat(J[0]),J=parseFloat(J[1])):(L=this._getTagValues("MatrixWidth",v)[0],A=this._getTagValues("MatrixHeight",v)[0],v=O.x,
J=O.y,L=v+L*c*n[0].resolution,A=J-A*h*n[0].resolution);J=L=new q(v,A,L,J,F);O=new d({dpi:96,spatialReference:F,format:this.format,rows:h,cols:c,origin:O,lods:n});return{tileMatrixSet:b,fullExtent:J,initialExtent:L,tileInfo:O}},_getCapabilitiesError:function(b){this.onError(b)},_getLodFromTileMatrix:function(b,c,h,n){var p=this._getTagValues("Identifier",b)[0];b=this._getTagValues("ScaleDenominator",b)[0];1<b.split("E").length?(b=b.split("E"),b=b[0]*Math.pow(10,b[1])):b=parseFloat(b);c=this._getResolution(c,
b,n);return{level:h,levelValue:p,scale:1.058267716535433*b,resolution:c}},_getResolution:function(b,c,h){b=g.isDefined(u[b])?u.values[u[b]]:"default028mm"===h?6370997*Math.PI/180:6378137*Math.PI/180;return 7*c/25E3/b},_getTag:function(b,c){var h=U.query(b,c);return h&&0<h.length?h[0]:null},_getTagValues:function(b,c){var h=[],n=b.split("\x3e"),p;var w=U.query(n[0],c)[0];if(1<n.length){for(p=1;p<n.length-1;p++)w=U.query(n[p],w)[0];n=U.query(n[n.length-1],w)}else n=U.query(n[0],c);n&&0<n.length&&x.forEach(n,
function(B){9>t("ie")?h.push(B.childNodes.length?B.childNodes[0].nodeValue:""):h.push(B.textContent)});return h},_getAttributeValues:function(b,c,h){b=U.query(b,h);var n=[];b&&0<b.length&&x.forEach(b,function(p){n.push(p.getAttribute(c))});return n},_getTagWithChildTagValue:function(b,c,h,n){n=n.childNodes;var p;for(p=0;p<n.length;p++)if(-1<n[p].nodeName.indexOf(b)){if(9>t("ie")){if(g.isDefined(U.query(c,n[p])[0]))var w=U.query(c,n[p])[0].childNodes[0].nodeValue}else g.isDefined(U.query(c,n[p])[0])&&
(w=U.query(c,n[p])[0].textContent);if(w===h||h.split(":")&&w===h.split(":")[1])return n[p]}},_appendCustomParameters:function(b){var c;if(this.customParameters)for(c in this.customParameters)b+=(-1===b.indexOf("?")?"?":"\x26")+c+"\x3d"+encodeURIComponent(this.customParameters[c]);return b},_appendCustomLayerParameters:function(b){var c;if(this.customLayerParameters||this.customParameters){var h=r.clone(this.customParameters||{});r.mixin(h,this.customLayerParameters||{});for(c in h)b+=(-1===b.indexOf("?")?
"?":"\x26")+c+"\x3d"+encodeURIComponent(h[c])}return b},_flippingAxisForWkids:[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,
5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,
3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],
[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]]});r.setObject("layers.WMTSLayer",M,f);return M})},"esri/layers/WMTSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(U,M,r,x){U=U(null,{declaredClass:"esri.layers.WMTSLayerInfo",identifier:null,tileMatrixSet:null,format:null,style:null,tileInfo:null,title:null,fullExtent:null,initialExtent:null,description:null,dimension:null,constructor:function(t){t&&(this.title=t.title,this.tileMatrixSet=
t.tileMatrixSet,this.format=t.format,this.style=t.style,this.tileInfo=t.tileInfo,this.fullExtent=t.fullExtent,this.initialExtent=t.initialExtent,this.identifier=t.identifier,this.description=t.description,this.dimension=t.dimension)}});M.setObject("layers.WMTSLayerInfo",U,x);return U})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../pageUtil ../../../../utils/dom ../../../../utils/strings ../../../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick dojo/dom-construct dojo/on dojo/string dojo/topic esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./domainUpdate.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);return function(){function b(c,h){this.templateString=a["default"];this.i18n=d["default"]}b.prototype.startup=
function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.initHandlers();this.initDomains()};b.prototype.initHandlers=function(){this.own(u["default"](this.doneBtn,this.doneClick.bind(this)),z["default"](this.domainSelect,"change",this.selectedDomainChange.bind(this)),u["default"](this.replaceDomainBtn,this.replaceDomainClick.bind(this)),t["default"].registerKeystrokeHandler(this.domainReplace,this.replaceDomainChange.bind(this)),m["default"].subscribe("item-data/change-complete",
this.itemDataChange.bind(this)))};b.prototype.initDomains=function(){var c=this,h=this.domainSelect.value,n=!1;x["default"].getUniqueDomains(this.item.itemData).then(function(p){E["default"].empty(c.domainSelect);p.forEach(function(w){var B={value:w.domain,innerHTML:w.domain};!c.autoSelectReplacementValue||w.domain!==c.autoSelectReplacementValue&&w.domain!==h||(n=B.selected=!0,c.autoSelectReplacementValue=void 0);E["default"].create("option",B,c.domainSelect)});c.domainSelect.options&&c.domainSelect.options.length?
(n||(l["default"].selectOption(c.domainSelect.options,c.domainSelect.options[0].value),c.lastSelectedDomain=c.domainSelect.options[0].value),c.selectedDomainChange()):(l["default"].hideNodes([c.updateDomainDesc,c.updateDomainContainer,c.replaceDomainLoading,c.replaceDomainFailure,c.layerDetailsContainer]),E["default"].empty(c.replaceDomainSuccess),c.replaceDomainSuccess.innerHTML=c.i18n.itemProperties.noLayersToUpdateDomain,l["default"].showNode(c.replaceDomainSuccess))})};b.prototype.filterForIssues=
function(c){return c.filter(function(h){return"failure"===h.layerUrlChange||h.layerRenderingFailures||h.layerQueryUrlFailures||h.itemAccess&&("failure"===h.itemUrlChange||h.itemRenderingFailures||h.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(h){return("success"===h.layerUrlChange||h.layerRenderingChanged||h.layerQueryUrlChanged)&&!h.layerRenderingFailures&&!h.layerQueryUrlFailures||h.itemAccess&&("success"===h.itemUrlChange||h.itemRenderingChanged||h.itemQueryUrlChanged)&&
!h.itemRenderingFailures&&!h.itemQueryUrlFailures})};b.prototype.containsInvalidProtocol=function(c){return-1===(null===c||void 0===c?void 0:c.indexOf("://"))&&!(f["default"].startsWith(c,"http://")||f["default"].startsWith(c,"https://"))};b.prototype.ensureProtocol=function(c){return this.containsInvalidProtocol(c)?"http://"+c:c};b.prototype.validateDomain=function(c){var h=this.domainSelect.value,n=!!h,p=RegExp("/","g"),w=!0;c?(this.containsInvalidProtocol(c)&&(w=!1),n&&(h.match(p)||[]).length!==
(c.match(p)||[]).length&&(w=!1)):w=!1;return w};b.prototype.doneClick=function(){m["default"].publish("update-domain/done")};b.prototype.setInputError=function(c){this.domainReplace.classList.add("input-error");this.domainReplaceError.classList.add("is-active");this.domainReplaceError.classList.remove("hide")};b.prototype.clearInputError=function(){this.domainReplace.classList.remove("input-error");this.domainReplaceError.classList.remove("is-active");this.domainReplaceError.classList.add("hide")};
b.prototype.selectedDomainChange=function(){var c=this,h=this.domainSelect.value,n=!!h,p="",w;x["default"].getUniqueDomains(this.item.itemData).then(function(B){c.refreshingDomains?c.refreshingDomains=void 0:h!==c.lastSelectedDomain&&(l["default"].hideNode(c.replaceDomainFailure),l["default"].hideNode(c.replaceDomainSuccess));if(n){if(w=B.filter(function(A){return A.domain===h}))w=w.shift(),c.domainReplace.value=w.domain,c.lastSelectedDomain=w.domain,w.layers.forEach(function(A){p+=A.title+"\x3cbr\x3e"}),
c.layerDetails.innerHTML=p;c.clearInputError();l["default"].showHide(c.layerDetailsContainer,w);c.domainReplace.focus()}else l["default"].hideNode(c.layerDetailsContainer);c.replaceDomainChange()})};b.prototype.replaceDomainClick=function(){var c=this,h=this.domainSelect.value,n=this.ensureProtocol(this.domainReplace.value.trim());this.clearInputError();this.validateDomain(n)?(l["default"].hideNodes([this.layerDetailsContainer,this.replaceDomainFailure,this.replaceDomainSuccess]),l["default"].showNode(this.replaceDomainLoading),
x["default"].switchDomain(this.item.itemData,this.item,h,n).then(function(p){l["default"].hideNode(c.replaceDomainLoading);var w=c.filterForIssues(p.layers),B=c.filterForUpdated(p.layers);e["default"].isDefined(p.configChange)&&"failure"===p.configChange?(c.replaceDomainFailureMessage.innerHTML=c.i18n.itemProperties.errorUpdateHTTPS,l["default"].showNode(c.replaceDomainFailure)):w.length?(c.replaceDomainFailureMessage.innerHTML=q["default"].substitute(c.i18n.itemProperties.someLayerDomainsFailed,
{domainName:n,n:w.length}),l["default"].showNode(c.replaceDomainFailure),B.length&&(c.replaceDomainSuccessMessage.innerHTML=q["default"].substitute(c.i18n.itemProperties.someLayerDomainsUpdated,{domainName:n,n:B.length}),l["default"].showNode(c.replaceDomainSuccess))):(c.replaceDomainSuccessMessage.innerHTML=q["default"].substitute(c.i18n.itemProperties.domainUpdateSuccess,{domainName:n}),l["default"].showNode(c.replaceDomainSuccess));c.autoSelectReplacementValue=n;c.domainReplace.value="";c.refreshingDomains=
!0;c.replaceDomainChange();m["default"].publish("item-data/change")},function(p){c.setInputError(p)})):this.setInputError()};b.prototype.replaceDomainChange=function(){var c=this.domainReplace.value.trim(),h=this.domainSelect.value;h=h&&c&&0<c.length&&c!==h;l["default"].disableNode(this.replaceDomainBtn,!h||h&&!this.validateDomain(c));this.clearInputError()};b.prototype.itemDataChange=function(c){"type-options/map"===c.source&&(this.item.itemData=c.itemData,this.initDomains())};return b=r.__decorate([g["default"](k["default"],
y["default"])],b)}()})},"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),function(U,M,r,x,t,l,f,g){var k=this;Object.defineProperty(M,"__esModule",{value:!0});x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);var y=g["default"].restBaseUrl+
"portals/self",u=y+"/trustedOrgs",E=function(q,m){return t["default"].request({url:u+"/"+q+"/update",content:r.__assign({orgId:q},m)},{usePost:!0})},z=g["default"].restBaseUrl+"portals/self/contacts";M["default"]={add:function(q){return t["default"].request({url:y+"/addTrustedOrg",content:q},{usePost:!0})},update:E,suspend:function(q){return E(q,{state:"suspended"})},resume:function(q){return E(q,{state:"active"})},remove:function(q,m){return t["default"].request({url:u+"/"+q+"/delete",content:{message:m,
async:!0}},{usePost:!0})},getCollaborations:function(q){void 0===q&&(q=!1);var m=new x["default"];q=r.__assign({num:100},q&&{hub:!1});t["default"].request({url:u,content:q}).then(function(e){m.resolve(e)},function(){m.resolve({trustedOrgs:[]})});return m},getCoordinators:function(q){var m=new x["default"];t["default"].request({url:z,content:{type:"collaboration",num:100,collaborators:!q}}).then(function(e){m.resolve(e)},function(){m.resolve()});return m},getAllCoordinators:function(){var q=new x["default"];
l["default"].fetchAllResources(z,{type:"collaboration",collaborators:!0},"users").then(function(m){q.resolve(m)},function(){q.resolve([])});return q},getCoordinatorsByOrg:function(q){return t["default"].request({url:z,content:{type:"collaboration",orgId:q}})},getGroupUserCount:function(q,m){return t["default"].request({url:g["default"].restBaseUrl+"community/users",content:{q:""+(m||""),searchUserAccess:"groupMember",groups:q,countFields:"accountid",num:0}})},getCollabGroups:function(q,m){return t["default"].request({url:g["default"].restBaseUrl+
"community/groups",content:{q:"orgid:"+q.id+" memberorgids:"+m}})},getEndedCollabs:function(){var q=new x["default"];f["default"].fetch("ended_collaborations.json").then(function(m){q.resolve(m||[])},function(){q.resolve([])});return q},getCollaborationLimit:function(){var q=new x["default"];t["default"].request({url:y+"/limits",content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(m){var e;q.resolve(null!==(e=null===m||void 0===m?void 0:m.limitValue)&&void 0!==e?e:10)},
function(){q.resolve(10)});return q},getCollaborationByOrgId:function(q){return r.__awaiter(k,void 0,void 0,function(){var m;return r.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t["default"].request({url:u+"/"+q})];case 1:return m=e.sent(),[2,m];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(q){return f["default"].add({key:"ended_collaborations.json",text:JSON.stringify(q)})}}})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),
function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(){}f.fetchAll=function(){return t["default"].fetchAllResources(x["default"].restBaseUrl+"portals/self/resources",{},"resources")};f.fetchPage=function(g,k){void 0===g&&(g=1);void 0===k&&(k=100);return l["default"].request({url:x["default"].restBaseUrl+"portals/self/resources",content:{start:g,num:100<k?100:k}})};f.fetch=function(g){return l["default"].request({url:x["default"].restBaseUrl+
"portals/self/resources/"+g})};f.add=function(g){var k=!g.key;g=r.__assign(r.__assign({url:x["default"].restBaseUrl+"portals/self/addResource"},k&&{form:g}),!k&&{content:g});return l["default"].request(g,{usePost:!0})};f.remove=function(g){return l["default"].request({url:x["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};return f}()})},"arcgis-components/wrappers/Share":function(){define(["../Component","dojo/i18n!../Share/nls/resources","../Share/index"],function(U,
M,r){return function(x){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return x[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=x,t.c=l,t.d=function(f,g,k){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var k=Object.create(null);if(t.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var y in f)t.d(k,y,function(u){return f[u]}.bind(null,y));return k},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=985)}({0:function(x,t,l){function f(m,e){function d(){this.constructor=m}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(m,e){var d={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(d[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(d[a[b]]=m[a[b]])}return d}
function k(m,e,d,a){var b,c=arguments.length,h=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(m,e,d,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(h=(3>c?b(h):3<c?b(e,d,h):b(e,d))||h);return 3<c&&h&&Object.defineProperty(e,d,h),h}function y(m,e,d,a){return new (d||(d=Promise))(function(b,c){function h(w){try{p(a.next(w))}catch(B){c(B)}}function n(w){try{p(a["throw"](w))}catch(B){c(B)}}function p(w){var B;
w.done?b(w.value):(B=w.value,B instanceof d?B:new d(function(A){A(B)})).then(h,n)}p((a=a.apply(m,e||[])).next())})}function u(m,e){function d(p){return function(w){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return n.label++,{value:B[1],done:!1};case 5:n.label++;
b=B[1];B=[0];continue;case 7:B=n.ops.pop();n.trys.pop();continue;default:if(!(c=n.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){n=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))n.label=B[1];else if(6===B[0]&&n.label<c[1])n.label=c[1],c=B;else if(c&&n.label<c[2])n.label=c[2],n.ops.push(B);else{c[2]&&n.ops.pop();n.trys.pop();continue}}B=e.call(m,n)}catch(A){B=[6,A],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([p,w])}}var a,b,c,h,n={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function E(m,e){for(var d=0,a=e.length,b=m.length;d<a;d++,b++)m[b]=e[d];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return q});l.d(t,"f",function(){return g});l.d(t,"c",function(){return k});l.d(t,"b",function(){return y});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(m,e)},q=function(){return(q=Object.assign||function(m){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},101:function(x,t,l){l.d(t,"a",function(){return g});l.d(t,"b",function(){return k});var f=
l(0),g=function(y){return y?y.urlKey?location.protocol+"//"+y.urlKey+"."+y.customBaseUrl:location.protocol+"//"+y.portalHostname:""},k=function(y){return Object(f.a)(Object(f.a)({},y),{baseUrl:g(y)})}},117:function(x,t,l){l.d(t,"a",function(){return g});var f=l(0);x=l(15);var g=Object(x.a)(function(k,y){var u=Object(f.a),E=Object(f.a)({},y),z=y.type,q=y.typeKeywords?y.typeKeywords:[],m=null==z?void 0:z.toLowerCase(),e=!1,d=!1,a=z=!1;if("ogcfeatureserver"===m)q="featureshosted";else if(0<(null==m?
void 0:m.indexOf("service"))||"feature collection"===m||"kml"===m||"wms"===m||"wmts"===m||"wfs"===m){var b=-1<q.indexOf("Hosted Service");"feature service"===m||"feature collection"===m||"kml"===m||"wfs"===m?(a=-1<q.indexOf("Table"),e=-1<q.indexOf("Route Layer"),d=-1<q.indexOf("Markup"),q=(z=-1!==q.indexOf("Spatiotemporal"))&&a?"spatiotemporaltable":a?"table":e?"routelayer":d?"markup":z?"spatiotemporal":b?"featureshosted":"features"):"map service"===m||"wms"===m||"wmts"===m?q=b||-1<q.indexOf("Tiled")||
"wmts"===m?"maptiles":"mapimages":"scene service"===m?q=-1<q.indexOf("Line")?"sceneweblayerline":-1<q.indexOf("3DObject")?"sceneweblayermultipatch":-1<q.indexOf("Point")?"sceneweblayerpoint":-1<q.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<q.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<q.indexOf("Polygon")?"sceneweblayerpolygon":-1<q.indexOf("Building")?"sceneweblayerbuilding":-1<q.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===m?(z=-1<q.indexOf("Elevation 3D Layer"),
q=-1<q.indexOf("Tiled Imagery"),q=z?"elevationlayer":q?"tiledimagerylayer":"imagery"):q="stream service"===m?"streamlayer":"vector tile service"===m?"vectortile":"datastore catalog service"===m?"datastorecollection":"geocoding service"===m?"geocodeservice":"geoprocessing service"===m&&-1<q.indexOf("Web Tool")?"tool":"layers"}else q="web map"===m||"cityengine web scene"===m?"maps":"web scene"===m?-1<q.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===m&&-1<(null==
q?void 0:q.indexOf("configurableApp"))?"instantapps":"web mapping application"===m||"mobile application"===m||"application"===m||"operation view"===m||"desktop application"===m?"apps":"map document"===m||"map package"===m||"published map"===m||"scene document"===m||"globe document"===m||"basemap package"===m||"mobile basemap package"===m||"mobile map package"===m||"project package"===m||"project template"===m||"pro map"===m||"layout"===m||"layer"===m&&-1<q.indexOf("ArcGIS Pro")||"explorer map"===
m&&-1<q.indexOf("Explorer Document")?"mapsgray":"service definition"===m||"csv"===m||"administrative report"===m||"shapefile"===m||"cad drawing"===m||"geojson"===m||"360 vr experience"===m||"netcdf"===m?"datafiles":"explorer add in"===m||"desktop add in"===m||"windows viewer add in"===m||"windows viewer configuration"===m?"appsgray":"arcgis pro add in"===m||"arcgis pro configuration"===m?"addindesktop":"rule package"===m||"file geodatabase"===m||"csv collection"===m||"kml collection"===m||"windows mobile package"===
m||"map template"===m||"desktop application template"===m||"arcpad package"===m||"code sample"===m||"form"===m||"document link"===m||"vector tile package"===m||"operations dashboard add in"===m||"rules package"===m||"image"===m||"workflow manager package"===m||"explorer map"===m&&-1<q.indexOf("Explorer Mapping Application")||-1<q.indexOf("Document")?"datafilesgray":"network analysis service"===m||"geoprocessing service"===m||"geodata service"===m||"geometry service"===m||"geoprocessing package"===
m||"locator package"===m||"geoprocessing sample"===m||"workflow manager service"===m||"raster function template"===m||"deep learning package"===m?"toolsgray":"layer"===m||"layer package"===m||"explorer layer"===m?"layersgray":"scene package"===m?"scenepackage":"tile package"===m?"tilepackage":"storymap"===m?"storymap":"storymap theme"===m?"storymaptheme":"web experience"===m?"experiencebuilder":"web experience template"===m?"webexperiencetemplate":"task file"===m?"taskfile":"report template"===m?
"report-template":"statistical data collection"===m?"statisticaldatacollection":"insights workbook"===m?"workbook":"insights model"===m?"insightsmodel":"insights page"===m?"insightspage":"hub initiative"===m?"hubinitiative":"hub page"===m?"hubpage":"hub site application"===m?"hubsite":"relational database connection"===m?"relationaldatabaseconnection":"big data file share"===m||"data store"===m?"datastorecollection":"image collection"===m?"imagecollection":"desktop style"===m?"desktopstyle":"style"===
m?"style":"dashboard"===m?"dashboard":"feed"===m?"feed":"real time analytic"===m?"realtimeanalytics":"big data analytic"===m?"bigdataanalytics":"notebook"===m?"notebook":"notebook code snippets"===m?"notebookcodesnippets":"maps";return u(E,{iconURI:k+"/"+q+"16.png"})})},120:function(x,t,l){l.d(t,"a",function(){return g});var f=l(0);x=l(15);var g=Object(x.a)(function(k,y){var u=Object(f.a),E=Object(f.a)({},y),z,q,m="notebook"!==(null===(z=y.type)||void 0===z?void 0:z.toLowerCase())?"default_thumb.png":
"notebook-thumb.png";"notebook code snippets"===(null===(q=y.type)||void 0===q?void 0:q.toLowerCase())&&(m="notebook-code-snippet-thumb.png");q=k.baseUrl+"/home/js/arcgisonline/css/images/"+m;z=(y.thumbnail&&(q=k.restUrl+"/content/items/"+y.id+"/info/"+y.thumbnail+(k.credential?"?token\x3d"+k.credential.token:"")),q);return u(E,{thumbURI:z})})},121:function(x,t,l){l.d(t,"a",function(){return k});var f=l(0);x=l(15);var g=function(y,u){return u.description?u.description.replace(/src=('|")js\/jsapi\/esri\//g,
function(E){return"src\x3d"+('"'===E[4]?'"':"'")+y.baseUrl+"/home/js/jsapi/esri/"}):void 0},k=Object(x.a)(function(y,u){return Object(f.a)(Object(f.a)({},u),{patchedDescription:g(y,u)})})},122:function(x,t,l){l.d(t,"a",function(){return y});var f=l(0),g=l(124);x=l(15);var k=l(58),y=Object(x.a)(function(u,E){var z=Object(f.a),q=Object(f.a)({},E),m,e=E.type,d=E.typeKeywords||[],a=e,b=(null==u?void 0:u.portalUser)||(null==u?void 0:u.user);if("Feature Service"===e||"Feature Collection"===e){if(a=-1<d.indexOf("Table")?
"Table":-1<d.indexOf("Route Layer")?"Route Layer":-1<d.indexOf("Markup")?"Markup":"Feature Layer",b&&Object(k.d)(E,b)&&-1<(null==d?void 0:d.indexOf("Hosted Service")))d=(null===(m=null===document||void 0===document?void 0:document.documentElement)||void 0===m?void 0:m.lang)||"en",a=a+" ("+(g.a[d]||g.a[d.split("-")[0]]||g.a.en)+")"}else"Image Service"===e?(m=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),a=m?"Elevation Layer":d?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===
e?a="Scene Layer":"Scene Package"===e?a="Scene Layer Package":"Stream Service"===e?a="Feature Layer":"Geocoding Service"===e?a="Locator":"Microsoft Powerpoint"===e?a="Microsoft PowerPoint":"OGCFeatureServer"===e?a="OGC Feature Layer":"GeoJson"===e?a="GeoJSON":"Globe Service"===e?a="Globe Layer":"Vector Tile Service"===e?a="Tile Layer":"netCDF"===e?a="NetCDF":"Map Service"===e?a=-1===d.indexOf("Spatiotemporal")&&(-1<d.indexOf("Hosted Service")||-1<d.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":
e&&-1<e.toLowerCase().indexOf("add in")?a=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?a="Big Data File Share":"Web Mapping Application"===e&&(null==d?0:d.includes("configurableApp"))?a="Instant App":"Data Store"===e&&(d.includes("cloudStore_amazon")||d.includes("cloudStore_azure")?a+=" (Cloud)":(d.includes("fileShare")||d.includes("hdfs")||d.includes("hive")||d.includes("bigDataFileShare")&&d.includes("dataStore"))&&(a+=" (Big Data File Share)"));return z(q,{displayName:a})})},
123:function(x,t,l){l.d(t,"a",function(){return k});var f=l(0);x=l(15);var g=function(y,u){var E=[],z=y.typeKeywords?y.typeKeywords:[];return y.contentStatus&&("org_authoritative"===y.contentStatus||"public_authoritative"===y.contentStatus?E.push("authoritative"):"deprecated"===y.contentStatus&&E.push("deprecated")),y.origin&&E.push("collaboration"),y.groupDesignations&&-1<y.groupDesignations.indexOf("livingatlas")&&E.push("livingAtlas"),-1<z.indexOf("Requires Credits")?E.push("premium"):-1<z.indexOf("Requires Subscription")&&
E.push("subscriber"),-1<z.indexOf("Public Data Collection")&&((null==u?void 0:u.portalUser)||(null==u?void 0:u.user))&&E.push("publicDataCollection"),"Solution"===y.type&&-1<y.typeKeywords.indexOf("ArcGIS Solution")&&E.push("solution"),u.isPortal&&"Web Mapping Application"===y.type&&(-1<y.typeKeywords.indexOf("Story Map")&&E.push("retiredStoryMap"),function(q){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(m){var e,
d=-1<m.indexOf(".html");return-1<(null===(e=q.url)||void 0===e?void 0:e.indexOf("/apps/"+m+(d?"":"/")))})}(y)&&E.push("retiredApp")),E},k=Object(x.a)(function(y,u){return Object(f.a)(Object(f.a)({},u),{badges:g(u,y)})})},124:function(x,t,l){l.d(t,"a",function(){return f});var f={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(x,t,l){l.d(t,"a",function(){return g});l.d(t,"b",function(){return k});var f=l(0);x=l(15);var g=function(y,u){var E;return u.thumbnail&&(E=y.restUrl+"/community/groups/"+u.id+"/info/"+u.thumbnail+(y.credential?"?token\x3d"+y.credential.token:"")),E},k=Object(x.a)(function(y,u){return Object(f.a)(Object(f.a)({},u),{thumbURI:g(y,u)})})},137:function(x,t,l){l.d(t,"a",function(){return f});
l.d(t,"d",function(){return y});l.d(t,"c",function(){return u});l.d(t,"e",function(){return E});l.d(t,"f",function(){return z});var f,g=l(0),k=l(25);!function(q){q.LOADING="loading";q.LOADED="loaded";q.FAILED="failed"}(f||(f={}));var y=function(q){var m=q.selectedGroups,e=q.selectorItems;return 0===e.length?Object.keys(m).map(function(d){return m[d].group}):Object.keys(m).filter(function(d){return E(m[d],e)}).map(function(d){return m[d].group})},u=function(q){var m=q.initialSelectedGroups,e=q.selectedGroups,
d=Object.keys(e).map(function(a){return e[a].group.id});return Object.keys(m).map(function(a){return m[a].group.id}).filter(function(a){return 0>d.indexOf(a)}).map(function(a){return m[a].group})},E=function(q,m){return!q.selectedByIds||q.selectedByIds.length===m.length},z={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};t.b=function(q,m){switch(void 0===q&&(q=z),m.type){case k.a.DESELECT_GROUPS:return Object(g.a)(Object(g.a)({},
q),{selectedGroups:m.payload.reduce(function(a,b){var c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},q.selectedGroups)});case k.a.REVERT_GROUPS:return m.payload?Object(g.a)(Object(g.a)({},q),{selectedGroups:m.payload.reduce(function(a,b){var c;if(q.initialSelectedGroups[b.id])return Object(g.a)(Object(g.a)({},a),((c={})[b.id]=q.initialSelectedGroups[b.id],c));c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},q.selectedGroups)}):Object(g.a)(Object(g.a)({},q),{selectedGroups:Object(g.a)({},
q.initialSelectedGroups)});case k.a.SELECT_GROUPS:var e=q.selectorItems.map(function(a){return a.id});return Object(g.a)(Object(g.a)({},q),{selectedGroups:m.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=Object(g.a)({selectedByIds:e},b),c))},q.selectedGroups)});case k.a.SET_INITIAL_GROUPS:var d=m.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=b,c))},{});return Object(g.a)(Object(g.a)({},q),{selectedGroups:d,
initialSelectedGroups:Object(g.a)({},d)});case k.a.SET_SELECTOR_ITEMS:return Object(g.a)(Object(g.a)({},q),{selectorItems:m.payload});case k.a.CLEAR_SELECTION:return Object(g.a)(Object(g.a)({},q),{selectedGroups:{}});case k.a.LOADING_GROUPS:return Object(g.a)(Object(g.a)({},q),{status:f.LOADING});case k.a.LOAD_GROUPS_SUCCESS:return Object(g.a)(Object(g.a)({},q),{displayGroups:m.payload.results,total:m.payload.total,status:f.LOADED});case k.a.LOAD_GROUPS_FAIL:return Object(g.a)(Object(g.a)({},q),{displayGroups:[],
status:f.FAILED});case k.a.SET_HAS_GROUPS:return Object(g.a)(Object(g.a)({},q),{hasGroups:m.payload});default:return q}}},139:function(x,t,l){function f(J,R){var X=R(),aa=X.utilities.request,ea=X.resources;X=ea.selectedOptions;var ka=ea.selectedOptionsDirty;ea=Object(c.b)(ea.items);X=ka&&X["public"]===X.total;J(F(w.a.LOADING));0<ea.length&&X?Object(c.a)({items:ea,request:aa}).then(function(ma){ma.length?(ma=ma.some(function(sa){return-1===sa.typeKeywords.indexOf("Public Data Collection")}),J(A(ma?
w.c.PUBLIC_DATA_COLLECTION_DISABLED:w.c.PUBLIC_DATA_COLLECTION_ENABLED))):J(g)})["catch"](function(){J(g)}):J(g)}function g(J,R){var X=R(),aa=X.utilities,ea=aa.portal,ka=aa.request,ma=aa.onComplete;aa=X.resources;var sa=aa.items,za=aa.selectedOptions,ha=aa.portalUser;aa=X.gbState.groups;X=aa.selectedGroups;aa=aa.initialSelectedGroups;var V=Object(e.d)({selectedGroups:X,selectorItems:sa});X=Object(e.c)({initialSelectedGroups:aa,selectedGroups:X});var la=[];Object(d.h)({items:sa,groups:X,portalUser:ha,
restUrl:ea.restUrl,request:ka}).then(function(){return Object(d.g)({items:sa,groups:V,portalUser:ha,request:ka,restUrl:ea.restUrl,selectedOptions:za})})["catch"](function(T){T.results?la=la.concat(Object(h.a)(T.results,sa)):T.message&&la.push({error:T})}).then(function(){return J(C)}).then(function(){var T=R().resources,P=T.items,I=T.dependentItems,ba=I.needGroupSharingUpdate,W=I.notEditable,ca=I.premium,Q=I.needPubliclyEditableWarning,N=I.needEditableWarning,S=I.needDataCollectionEnabled,Y=I.needGroupDependentApplicationWarning,
Z=I.needBDFSDatastoreUpdate,da=T.selectedOptions,fa=(T=T.selectedOptionsDirty)&&da["public"]===da.total;0!==I.needShareLevelUpdate.length||0!==ba.length||0!==W.length||0!==ca.length||0!==Q.length||0!==N.length||0!==S.length||0!==Y.length&&fa||0!==Z.length||0!==Object(d.c)(P,da,T).length?J({type:E.SET_CURRENT_VIEW,payload:w.a.DEPENDENT_ITEM_CONFIRMATION}):ma(0<la.length?{errors:la,selectedOptions:da}:{selectedOptions:da})})["catch"](console.error)}function k(J){return J.filter(function(R){return-1===
R.typeKeywords.indexOf("bigDataFileShare")})}function y(J,R){var X=R(),aa=X.utilities,ea=aa.portal,ka=aa.request,ma=aa.onComplete;aa=X.resources;var sa=aa.dependentItems,za=sa.needBDFSDatastoreUpdate,ha=sa.needShareLevelUpdate,V=sa.needGroupSharingUpdate,la=sa.needEditableWarning,T=aa.selectedOptions;aa=aa.portalUser;sa=X.gbState.groups;X=sa.selectedGroups;var P=sa.selectorItems;if(0!==za.length||0!==ha.length||0!==V.length||0!==la.length){sa=Object(d.g)({items:k(za),groups:[],portalUser:aa,request:ka,
restUrl:ea.restUrl,selectedOptions:T});var I=Object(d.g)({items:Object(z.g)(Object(z.g)([],k(ha)),la),groups:[],portalUser:aa,request:ka,restUrl:ea.restUrl,selectedOptions:T});ea=Object(d.g)({items:V,groups:Object(e.d)({selectedGroups:X,selectorItems:P}),portalUser:aa,request:ka,restUrl:ea.restUrl,selectedOptions:T,ignoreShareLevel:!0});a.Promise.all([sa,I,ea]).then(function(){var ba=Object(z.g)(Object(z.g)(Object(z.g)(Object(z.g)([],za),ha),V),la),W=ba.map(function(ca){return ca.id});ba=ba.filter(function(ca,
Q){return W.indexOf(ca.id)===Q});ma({dependentItems:ba,selectedOptions:T})})["catch"](function(ba){throw ba;})}else ma({selectedOptions:T})}function u(J,R){switch(R().resources.currentMiniDlg){case w.c.OPEN_GROUP_BROWSER:J(B(w.b["public"]));J(F(w.a.GROUP_BROWSER));break;case w.c.REVERT_SHARE_LEVEL:J({type:E.SET_INITIAL_SHARE_LEVEL});J(Object(m.c)());break;case w.c.REVERT_GROUPS:J(B(w.b["public"]));J(Object(m.c)());break;case w.c.EDITABLE_LAYERS:J(g);break;case w.c.SET_SHARE_TO_PRIVATE:J(B(w.b["private"]));
J(Object(m.a)());break;case w.c.PUBLIC_DATA_COLLECTION_DISABLED:J(F(w.a.SHARE));break;case w.c.PUBLIC_DATA_COLLECTION_ENABLED:J(g)}J({type:E.SET_MINI_DIALOG,payload:w.c.NONE})}l.d(t,"a",function(){return E});l.d(t,"k",function(){return A});l.d(t,"g",function(){return D});l.d(t,"j",function(){return F});l.d(t,"d",function(){return f});l.d(t,"i",function(){return y});l.d(t,"h",function(){return u});l.d(t,"c",function(){return H});l.d(t,"b",function(){return K});l.d(t,"e",function(){return O});l.d(t,
"f",function(){return L});var E,z=l(0),q=l(177),m=l(144),e=l(137),d=l(61),a=l(28),b=l(335),c=l(194),h=l(379),n=l(51),p=l(58),w=l(26);!function(J){J.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";J.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";J.SET_CURRENT_VIEW="SET_CURRENT_VIEW";J.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";J.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";J.SET_MINI_DIALOG="SET_MINI_DIALOG";J.SET_SHARE_MODE="SET_SHARE_MODE";J.SET_USER_TYPE="SET_USER_TYPE";J.SET_HELP_MAP="SET_HELP_MAP"}(E||
(E={}));var B=function(J){return{type:E.SET_SELECTED_SHARE_LEVEL,payload:J}},A=function(J){return{type:E.SET_MINI_DIALOG,payload:J}},D=function(){return function(J,R){var X=R(),aa=X.utilities,ea=aa.portal,ka=aa.request;aa=X.resources.items;X=v(X);var ma=ea.urlKey||ea.isPortal?w.e.ORG:w.e.PUBLIC;J({type:E.SET_INITIAL_SHARE_LEVEL});J({type:E.SET_SHARE_MODE,payload:X});J({type:E.SET_USER_TYPE,payload:ma});J(Object(q.a)({selectorItems:aa,anySelectorItemsPrivate:0<R().resources.selectedOptions[w.b["private"]],
shareMode:X,userType:ma})).then(function(){return Object(d.a)(ea,ka)}).then(function(sa){J({type:E.SET_HELP_MAP,payload:sa});J(F(w.a.SHARE))})}},F=function(J){return function(R){R({type:E.SET_CURRENT_VIEW,payload:J})}},v=function(J){var R=J.resources,X=R.items;R=R.portalUser;J=J.utilities.portal;var aa=X[0];if(Object(p.d)(aa,R))return w.d.DEFAULT;aa=!aa.orgId||aa.orgId===R.orgId;return Object(n.h)({items:X,user:R,portal:J})&&aa?w.d.ADMIN:w.d.GROUP},C=function(J,R){var X=R(),aa=X.resources,ea=aa.selectedOptions,
ka=X.utilities,ma=ka.portal,sa=ka.request,za=ka.iconDir;X=X.gbState.groups;var ha=X.selectedGroups,V=X.selectorItems;aa=aa.items.map(function(la){return Object(b.b)({item:la,portal:ma,request:sa,iconDir:za})});return a.Promise.all(aa).then(function(la){return G({dependentItems:la,selectedGroups:ha,selectorItems:V,selectedOptions:ea,request:sa,portal:ma})}).then(function(la){J({type:E.SET_DEPENDENT_ITEMS,payload:la})})},G=function(J){var R=J.dependentItems,X=J.selectedGroups,aa=J.selectorItems,ea=
J.selectedOptions,ka=J.request,ma=J.portal;return new a.Promise(function(sa,za){var ha=Object(d.b)(R).filter(function(T){return T}),V=ha.map(function(T){return T.id}),la=ha.filter(function(T,P){return V.indexOf(T.id)===P});a.Promise.all(la.map(function(T){return Object(b.a)({item:T,selectedOptions:ea,selectedGroups:Object(e.d)({selectedGroups:X,selectorItems:aa}),request:ka,portal:ma})})).then(function(T){var P=[],I=[],ba=[],W=[],ca=[],Q=[],N=[],S=[],Y=[],Z=!Object(d.e)(ea)&&Object(d.d)(ea)===w.b["public"];
T.forEach(function(da,fa){var ia=la[fa];if(da.premium)W.push(ia);else if(da.groupDependentApplication)S.push(ia);else{if(!da.bdfsDatastore)return Z&&da.editable&&Object(c.c)(ia)&&ia.isUpdateLayer?ia.access===w.b["public"]?void Q.push(ia):-1<ia.typeKeywords.indexOf("Public Data Collection")?void ca.push(ia):void N.push(ia):void((da.needsShareLevelUpdate||da.needsGroupSharingUpdate)&&(da.editable?(da.needsShareLevelUpdate&&I.push(ia),da.needsGroupSharingUpdate&&P.push(ia)):ba.push(ia)));Y.push(ia)}});
sa({needGroupSharingUpdate:P,needShareLevelUpdate:I,notEditable:ba,premium:W,needPubliclyEditableWarning:Q,needEditableWarning:ca,needDataCollectionEnabled:N,needGroupDependentApplicationWarning:S,needBDFSDatastoreUpdate:Y})})["catch"](function(T){throw T;})})},H=function(J,R){var X=R(),aa=X.gbState.groups.initialSelectedGroups,ea=X.resources.selectedOptions;X.config.userType===w.e.PUBLIC&&0<ea["private"]&&0<Object.keys(aa).length?J(A(w.c.REVERT_GROUPS)):J(Object(m.c)())},K=function(J,R){var X=R(),
aa=X.resources,ea=aa.portalUser;aa=aa.selectedOptions;Object(n.k)(X.utilities.portal)||Object(n.a)(ea)||!Object(d.e)(aa)&&Object(d.d)(aa)!==w.b["private"]?J(F(w.a.GROUP_BROWSER)):J(A(w.c.OPEN_GROUP_BROWSER))},O=function(J,R){var X=R(),aa=X.resources,ea=aa.portalUser;aa=aa.items;var ka=X.gbState.groups.selectedGroups;Object(n.k)(X.utilities.portal)||Object(n.b)(ea)||!Object(c.d)({items:aa,groupDatas:Object.keys(ka).map(function(ma){return ka[ma]})})?J({type:E.SET_INITIAL_SHARE_LEVEL}):J(A(w.c.REVERT_SHARE_LEVEL))},
L=function(J){return function(R,X){var aa=X(),ea=aa.resources.portalUser,ka=aa.gbState.groups.selectedGroups;!Object(n.k)(aa.utilities.portal)&&!Object(n.b)(ea)&&J===w.b["private"]&&0<Object.keys(ka).length?R(A(w.c.SET_SHARE_TO_PRIVATE)):R(B(J))}}},144:function(x,t,l){l.d(t,"d",function(){return u});l.d(t,"e",function(){return E});l.d(t,"b",function(){return z});l.d(t,"c",function(){return q});l.d(t,"a",function(){return m});l.d(t,"f",function(){return e});var f=l(0),g=l(181),k=l(163),y=l(68),u=function(d){return 1<
d.length&&Object(k.a)(),{type:y.a.SELECT_GROUPS,payload:d.map(function(a){return{group:Object(g.c)(a)}})}},E=function(d){return{type:y.a.SET_INITIAL_GROUPS,payload:d.map(function(a){return Object(f.a)(Object(f.a)({},a),{group:Object(g.c)(a.group)})})}},z=function(d){return 1<d.length&&Object(k.b)(),{type:y.a.DESELECT_GROUPS,payload:d}},q=function(d){return{type:y.a.REVERT_GROUPS,payload:d}},m=function(){return Object(k.c)(),{type:y.a.CLEAR_SELECTION}},e=function(d){return{type:y.a.SET_SELECTOR_ITEMS,
payload:d}}},148:function(x,t,l){l.d(t,"a",function(){return g});var f=l(0);x=l(15);var g=Object(x.a)(function(k,y){var u=Object(f.a),E=Object(f.a)({},y);var z=y.thumbnail?k.restUrl+"/community/users/"+y.username+"/info/"+y.thumbnail+(k.credential?"?token\x3d"+k.credential.token:""):void 0;return u(E,{thumbURI:z})})},15:function(x,t,l){function f(k){return function u(){for(var E=this,z=[],q=0;q<arguments.length;q++)z[q]=arguments[q];return z.length>=k.length?k.call.apply(k,Object(g.g)([this],z)):
function(){for(var m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return u.call.apply(u,Object(g.g)(Object(g.g)([E],z),m))}}}l.d(t,"a",function(){return f});var g=l(0)},159:function(x,t,l){l.d(t,"b",function(){return d});l.d(t,"a",function(){return b});var f=l(0),g=l(181),k=l(30),y=l(163),u=l(54),E=l(68),z=l(28),q=l(61),m=l(38),e=l(26),d=function(D,F){a(F()).then(function(v){var C=F();C=Object(u.b)(C)?C:C.gbState;var G=C.utils;C.ui.focus.focusSelectAll&&Object(y.c)();D({type:E.a.LOAD_GROUPS_SUCCESS,
payload:Object(f.a)(Object(f.a)({},v),{results:v.results.map(function(H){return Object(g.b)(G.portal,H)})})})})["catch"](function(v){var C=F();(Object(u.b)(C)?C:C.gbState).ui.focus.focusSelectAll&&Object(y.c)();D({type:E.a.LOAD_GROUPS_FAIL,payload:v})})},a=function(D){D=Object(u.b)(D)?D:D.gbState;var F=D.utils,v=F.request,C=F.portal,G=D.config;F=G.groupsPerPage;var H=G.withinShare,K=(G.withinAppConfig,D.parameters);G=K.filter;K=K.sort;var O=D.ui.page.currentPageNumber,L={q:A(D),num:F,sortField:K.field,
sortOrder:K.order,start:(O-1)*F+1};return H&&(L.searchUserAccess="groupMember",L.searchUserName=G.currentUsername),G.designationFilter!==m.b.orgSettings||n(C)?new z.Promise(function(J,R){Object(k.g)(v,C,L).then(J,R)}):new z.Promise(function(J){J({query:L.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},b=function(D){var F=D.user;D=D.state;D=Object(u.b)(D)?D:D.gbState;var v=D.utils,C=v.request,G=v.portal;D=Object(f.a)(Object(f.a)({},D),{parameters:Object(f.a)(Object(f.a)({},D.parameters),{filter:Object(f.a)(Object(f.a)({},
D.parameters.filter),{currentUsername:F.username})})});var H={q:A(D),num:100,searchUserAccess:"groupMember",searchUserName:F.username};return(new z.Promise(function(K,O){return Object(k.g)(C,G,H).then(function(L){if(-1!==L.nextStart){var J=Math.ceil(L.total/100)-1,R=[L.results];L=function(aa){R.push(new z.Promise(function(ea,ka){var ma=100*(aa+1)+1;Object(k.g)(C,G,Object(f.a)(Object(f.a)({},H),{start:ma})).then(function(sa){ea(sa.results)},ka)}))};for(var X=0;X<J;X++)L(X);z.Promise.all(R).then(function(aa){K(Object(q.b)(aa))})}else K(L.results)},
O)}))["catch"](function(K){throw K;})},c=function(D){var F,v=D.shareMode,C=D.currentUsername,G=D.portalUser;D=D.userGroups;var H=[];switch(D&&D.forEach(function(K){var O,L=null===(O=K.userMembership)||void 0===O?void 0:O.memberType;!K.isViewOnly||"owner"!==L&&"admin"!==L||H.push(K.id)}),H.length&&(F="(isviewonly:false OR "+H.join(" OR ")+")"),v){case e.d.DEFAULT:return F||"(owner:"+C+" OR isviewonly:false)";case e.d.GROUP:return"owner:"+C+" -capabilities:updateitemcontrol";case e.d.ADMIN:return G.username===
C?"(isviewonly:false OR owner:"+G.username+") -capabilities:updateitemcontrol":"(owner:"+C+" OR isviewonly:false)";default:return""}},h=function(D,F){0!==(null==D?void 0:D.indexOf("id:"))||-1<F.indexOf(D)||F.push(D)},n=function(D){var F,v,C,G,H,K=[],O=[D.featuredItemsGroupQuery,D.basemapGalleryGroupQuery,D.templatesGroupQuery,D["2DStylesGroupQuery"],D.stylesGroupQuery,D.analysisLayersGroupQuery,D.galleryTemplatesGroupQuery];if(D.hasModernHomePageEnabled){var L=(null===(v=null===(F=D.homePageConfig)||
void 0===F?void 0:F.content)||void 0===v?void 0:v.filter(function(J){return"gallery"===J.type&&!!J.groupId}))||[];0<L.length&&L.forEach(function(J){h("id:"+J.groupId,K)})}else O.push(D.homePageFeaturedContent);return O.forEach(function(J){h(J,K)}),null===(C=D.featuredGroups)||void 0===C||C.forEach(function(J){(J=J.id)&&h("id:"+J,K)}),null===(H=null===(G=D.userDefaults)||void 0===G?void 0:G.groups)||void 0===H||H.forEach(function(J){h("id:"+J,K)}),0<K.length?"("+K.join(" OR ")+")":""},p=function(D){var F=
D.portal;switch(D.designationFilter){case m.b.openData:return"isopendata:true";case m.b.updateGroups:return"capabilities:updateitemcontrol";case m.b.distributed:return"capabilities:distributed";case m.b.administrative:return"isleavingdisallowed:true";case m.b.orgSettings:return n(F)||"";default:return""}},w=function(D){var F=D.portal,v=D.username,C=D.currentUsername,G=D.userType,H=D.withinAppConfig;v=D.shareMode===e.d.ADMIN&&C||v;H=F.isPortal&&H?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":
"";switch(D.ownerFilter){case m.d.itemOwner:return"owner:"+v+" "+H;case m.d.inOrg:return"-owner:"+v+" orgid:"+F.id+" "+H;case m.d.outsideOrg:return G===e.e.PUBLIC?"-owner:"+v+" "+H:"(orgid: [0 TO \\{]) -orgid:"+F.id+" "+H;default:return H}},B=function(D){return D?"created: ["+(F=D).start+" TO "+F.end+"]":"";var F},A=function(D){var F=D.utils,v=F.portal;F=F.portalUser;var C=D.config,G=C.shareMode,H=C.userType,K=C.withinAppConfig,O=C.hasIndoorsSpaces;D=D.parameters.filter;var L=D.designationFilter,
J=D.membershipFilter,R=D.dateCreatedFilter,X=D.currentUsername,aa=D.ownerFilter;return[C.baseQ+" "+D.searchString,c({shareMode:G,currentUsername:X,portalUser:F,userGroups:C.userGroups}),O?"-capabilities:distributed":p({designationFilter:L,portal:v}),O?"membershipaccess:org":J?"anyOrg"===J?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+J:"",B(R),w({ownerFilter:aa,portal:v,username:F.username,currentUsername:X,shareMode:G,userType:H,withinAppConfig:K})].filter(function(ea){return ea}).join(" ").trim()}},
16:function(x,t){x.exports=U},163:function(x,t,l){function f(){y("gb__select-all-input")}function g(){y("gb__clear-selection-btn")}function k(){setTimeout(function(){var u=document.querySelector(".gcard-gcc__container");u&&(u=u.querySelector(".btn-2018check__input"))&&u.focus()},50)}function y(u){setTimeout(function(){var E=document.querySelector("#"+u);E&&E.focus()},50)}l.d(t,"c",function(){return f});l.d(t,"a",function(){return g});l.d(t,"b",function(){return k})},170:function(x,t){var l=function(){return this}();
try{l=l||(new Function("return this"))()}catch(f){"object"==typeof window&&(l=window)}x.exports=l},175:function(x,t,l){var f;l.d(t,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(x,t,l){l.d(t,"a",function(){return h});var f=l(0),g=l(54),k=l(144),y=l(159),u=l(313),E=l(314),z=l(186),q=l(30),m=l(28),e=l(25),d=l(61),a=l(68),b=l(192),c=l(58),h=function(p){return function(w,B){var A=B(),D=(Object(g.b)(A)?A:A.gbState).utils,F=D.portal;D=D.portalUser;if(!(p&&
p.selectorItems&&0<p.selectorItems.length))return w(y.b),m.Promise.resolve();var v=p.selectorItems,C=p.userType;w({type:e.a.SET_SHARE_MODE,payload:p.shareMode});w({type:e.a.SET_USER_TYPE,payload:C});w(Object(k.f)(v));F=Object(c.b)({user:D,items:v,portal:F});var G=D.username===F.username?[D]:[D,F];return 1<G.length&&!p.anySelectorItemsPrivate&&w({type:e.a.ENABLE_USER_TOGGLE}),w(Object(z.c)(G)),w(Object(z.h)(F.username)),void 0===A.config.hasTrustedOrgs&&w(u.a),Object(E.a)(B()).then(function(H){return H&&
w({type:b.a.USER_DETAILS_LOADED,payload:H.groups}),w(y.b),m.Promise.all(G.map(function(K){return Object(y.a)({user:K,state:B()})})).then(function(K){K=Object(d.b)(K);var O=K.map(function(L){return L.id});K=K.filter(function(L,J){return O.indexOf(L.id)===J});return w(n(K))})})}},n=function(p){return function(w,B){return new m.Promise(function(A,D){var F=B();F=Object(g.b)(F)?F:F.gbState;var v=F.utils,C=v.portal,G=v.request,H=Object(q.b)(F.groups.selectorItems);F=Object(q.a)(p).map(function(K){return Object(q.i)({itemIds:H,
groupIds:Object(q.b)(K),portal:C,request:G})});m.Promise.all(F).then(function(K){var O=K.reduce(function(J,R){return Object(f.a)(Object(f.a)({},J),R)},{}),L=Object.keys(O);K=p.filter(function(J){return 0<=L.indexOf(J.id)}).map(function(J){return{group:J,selectedByIds:O[J.id].items.map(function(R){return R.itemId})}});w({type:a.a.SET_HAS_GROUPS,payload:0<p.length});w(Object(k.e)(K));A()})["catch"](D)})}}},181:function(x,t,l){l.d(t,"b",function(){return y});l.d(t,"c",function(){return u});l.d(t,"a",
function(){return E});var f=l(63);x=l(5);var g=l(99),k=l(128),y=function(z,q){return Object(f.a)(Object(k.b)(z))(q)},u=Object(f.a)(Object(x.e)("thumbURI")),E=function(z){var q=z.initialSelectedByIds;return!Object(g.a)(z.selectedBy.map(function(m){return m.id}),q)}},186:function(x,t,l){l.d(t,"b",function(){return g});l.d(t,"g",function(){return k});l.d(t,"h",function(){return y});l.d(t,"e",function(){return u});l.d(t,"f",function(){return E});l.d(t,"d",function(){return z});l.d(t,"c",function(){return q});
l.d(t,"a",function(){return m});var f=l(83),g=function(e){return{type:f.a.SET_SEARCH_STRING,payload:e}},k=function(e){return{type:f.a.UPDATE_OWNER_FILTER,payload:e}},y=function(e){return{type:f.a.UPDATE_USERNAME_FILTER,payload:e}},u=function(e){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:e}},E=function(e){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:e}},z=function(e){return{type:f.a.UPDATE_CREATED_ON_FILTER,payload:{section:e.section,created:e.created}}},q=function(e){return{type:f.a.SET_USERS,
payload:e}},m=function(e){return{type:f.a.CLEAR_FILTERS,payload:e}}},189:function(x,t){function l(){throw Error("setTimeout has not been defined");}function f(){throw Error("clearTimeout has not been defined");}function g(c){if(q===setTimeout)return setTimeout(c,0);if((q===l||!q)&&setTimeout)return q=setTimeout,setTimeout(c,0);try{return q(c,0)}catch(h){try{return q.call(null,c,0)}catch(n){return q.call(this,c,0)}}}function k(){a&&e&&(a=!1,e.length?d=e.concat(d):b=-1,d.length&&y())}function y(){if(!a){var c=
g(k);a=!0;for(var h=d.length;h;){e=d;for(d=[];++b<h;)e&&e[b].run();b=-1;h=d.length}e=null;a=!1;(function(n){if(m===clearTimeout)return clearTimeout(n);if((m===f||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(n);try{m(n)}catch(p){try{return m.call(null,n)}catch(w){return m.call(this,n)}}})(c)}}function u(c,h){this.fun=c;this.array=h}function E(){}var z=x.exports={};try{var q="function"==typeof setTimeout?setTimeout:l}catch(c){q=l}try{var m="function"==typeof clearTimeout?clearTimeout:f}catch(c){m=
f}!0;var e,d=[],a=!1,b=-1;z.nextTick=function(c){var h=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)h[n-1]=arguments[n];d.push(new u(c,h));1!==d.length||a||g(y)};u.prototype.run=function(){this.fun.apply(null,this.array)};z.title="browser";z.browser=!0;z.env={};z.argv=[];z.version="";z.versions={};z.on=E;z.addListener=E;z.once=E;z.off=E;z.removeListener=E;z.removeAllListeners=E;z.emit=E;z.prependListener=E;z.prependOnceListener=E;z.listeners=function(c){return[]};
z.binding=function(c){throw Error("process.binding is not supported");};z.cwd=function(){return"/"};z.chdir=function(c){throw Error("process.chdir is not supported");};z.umask=function(){return 0}},192:function(x,t,l){var f;l.d(t,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(x,t,l){function f(m){return"Feature Service"===m.type&&-1<m.typeKeywords.indexOf("Hosted Service")}function g(m){return m.filter(function(e){return e.access!==E.b["public"]&&f(e)})}function k(m){var e=
m.request;m=m.items.map(function(d){return function(a,b){return new y.Promise(function(c){f(a)?Object(u.v)(b,a.url+"/layers").then(function(h){h=h.layers;c((null==h?void 0:h.reduce(function(n,p){return n||p&&-1<p.capabilities.indexOf("Editing")},!1))&&a)},function(){return c(!1)}):c(!1)})}(d,e)});return y.Promise.all(m).then(function(d){return d.filter(function(a){return a})})}l.d(t,"d",function(){return z});l.d(t,"c",function(){return f});l.d(t,"b",function(){return g});l.d(t,"a",function(){return k});
var y=l(28),u=l(30),E=l(26),z=function(m){var e=m.groupDatas;return m.items.filter(function(d){d=d.access?d.access:d.sharing&&d.sharing.access;return d===E.b["private"]||d===E.b.shared}).reduce(function(d,a){return d||q({item:a,groupDatas:e})},!1)},q=function(m){var e=m.item;return m.groupDatas.reduce(function(d,a){return d||!!a.selectedByIds&&0<=a.selectedByIds.indexOf(e.id)},!1)}},204:function(x,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.SET_PAGE="SET_PAGE";g.TOGGLE_SORT_DROPDOWN=
"TOGGLE_SORT_DROPDOWN";g.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},207:function(x,t,l){l.d(t,"b",function(){return k});var f=l(0),g=l(25),k={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};t.a=function(y,u){switch(void 0===y&&(y=k),u.type){case g.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},y),{enableUserToggle:!0});case g.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},
y),{shareMode:u.payload});case g.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},y),{userType:u.payload});case g.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},y),{hasTrustedOrgs:0<u.payload.length});case g.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},y),{userGroups:u.payload});case g.a.SET_SELECTOR_ITEMS:var E=!!u.payload.find(function(z){var q;return-1<(null===(q=null==z?void 0:z.typeKeywords)||void 0===q?void 0:q.indexOf("EditExtensionIndoorsSpaces"))});return Object(f.a)(Object(f.a)({},
y),{hasIndoorsSpaces:E});default:return y}}},208:function(x,t,l){l.d(t,"b",function(){return g});x=l(16);var f=l(209);l=l(38);var g={sort:f.b,filter:l.f};t.a=Object(x.combineReducers)({sort:f.a,filter:l.e})},209:function(x,t,l){l.d(t,"b",function(){return k});var f=l(0),g=l(25),k={field:"title",order:"asc"},y={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};t.a=function(u,E){switch(void 0===u&&(u=k),E.type){case g.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},
u),{field:E.payload,order:y[E.payload]});case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},u),{order:E.payload});default:return u}}},210:function(x,t,l){l.d(t,"b",function(){return y});x=l(16);var f=l(211),g=l(212),k=l(213);l=l(214);var y={page:f.b,sort:g.b,focus:k.b,filter:l.b};t.a=Object(x.combineReducers)({page:f.a,sort:g.a,focus:k.a,filter:l.a})},211:function(x,t,l){l.d(t,"b",function(){return k});var f=l(0),g=l(25),k={currentPageNumber:1};t.a=function(y,u){switch(void 0===y&&(y=k),
u.type){case g.a.CLEAR_FILTERS:case g.a.UPDATE_USERNAME_FILTER:case g.a.UPDATE_OWNER_FILTER:case g.a.UPDATE_CREATED_ON_FILTER:case g.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},y),{currentPageNumber:1});case g.a.SET_PAGE:return Object(f.a)(Object(f.a)({},y),{currentPageNumber:u.payload});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},y),{currentPageNumber:u.payload.num>u.payload.total?1:Math.ceil(u.payload.start/u.payload.num)});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},
y),{currentPageNumber:1});default:return y}}},212:function(x,t,l){l.d(t,"b",function(){return g});var f=l(25),g=!1;t.a=function(k,y){switch(void 0===k&&(k=g),y.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!k;default:return k}}},213:function(x,t,l){l.d(t,"b",function(){return k});var f=l(0),g=l(25),k={focusSelectAll:!1};t.a=function(y,u){switch(u.type){case g.a.LOAD_GROUPS_FAIL:case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},y),{focusSelectAll:!1});
case g.a.CHANGE_SORT_FIELD:case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},y),{focusSelectAll:!0});default:return y}}},214:function(x,t,l){l.d(t,"b",function(){return y});var f=l(0),g=l(25),k=l(38),y={expanded:!1};t.a=function(u,E){switch(E.type){case g.a.CLEAR_FILTERS:switch(E.payload){case void 0:case k.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},u),{dateCreatedSelectedSection:void 0});default:return u}case g.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},u),{expanded:!u.expanded});
case g.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},u),{dateCreatedSelectedSection:E.payload.section});default:return u}}},215:function(x,t,l){l.d(t,"b",function(){return g});var f=l(101),g={portal:{},portalUser:{},request:function(k){return null}};t.a=function(k,y){return void 0===k&&(k=g),y.type,k.portal.portalHostname&&!k.portal.baseUrl&&(k.portal.baseUrl=Object(f.a)(k.portal)),k}},25:function(x,t,l){l.d(t,"a",function(){return u});var f;x=l(0);t=l(204);var g=l(68),k=l(175),y=l(83);
l=l(192);!function(E){E.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";E.SET_SHARE_MODE="SET_SHARE_MODE";E.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var u=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},t.a),g.a),y.a),f),k.a),l.a)},26:function(x,t,l){var f,g,k,y,u;l.d(t,"b",function(){return f});l.d(t,"a",function(){return g});l.d(t,"c",function(){return k});l.d(t,"e",function(){return y});l.d(t,"d",function(){return u});(function(E){E.org="org";E["private"]="private";E["public"]=
"public";E.shared="shared"})(f||(f={}));(function(E){E.LOADING="LOADING";E.SHARE="SHARE";E.GROUP_BROWSER="GROUP_BROWSER";E.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(g||(g={}));(function(E){E.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";E.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";E.REVERT_GROUPS="REVERT_GROUPS";E.EDITABLE_LAYERS="EDITABLE_LAYERS";E.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";E.NONE="NONE";E.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";E.PUBLIC_DATA_COLLECTION_ENABLED=
"PUBLIC_DATA_COLLECTION_ENABLED"})(k||(k={}));(function(E){E.ORG="ORG";E.PUBLIC="PUBLIC"})(y||(y={}));(function(E){E.DEFAULT="DEFAULT";E.ADMIN="ADMIN";E.GROUP="GROUP"})(u||(u={}))},28:function(x,t,l){(function(f,g){x.exports=function(){function k(){var ma=setTimeout;return function(){return ma(y,1)}}function y(){for(var ma=0;ma<w;ma+=2)(0,H[ma])(H[ma+1]),H[ma]=void 0,H[ma+1]=void 0;w=0}function u(ma,sa){var za=this,ha=new this.constructor(z);void 0===ha[X]&&n(ha);var V=za._state;if(V){var la=arguments[V-
1];D(function(){return h(V,ha,la,za._result)})}else b(za,ha,ma,sa);return ha}function E(ma){if(ma&&"object"==typeof ma&&ma.constructor===this)return ma;var sa=new this(z);return m(sa,ma),sa}function z(){}function q(ma,sa,za){sa.constructor===ma.constructor&&za===u&&sa.constructor.resolve===E?function(ha,V){1===V._state?d(ha,V._result):2===V._state?a(ha,V._result):b(V,void 0,function(la){return m(ha,la)},function(la){return a(ha,la)})}(ma,sa):void 0===za?d(ma,sa):"function"==typeof za?function(ha,
V,la){D(function(T){var P=!1,I=function(ba,W,ca,Q){try{ba.call(W,ca,Q)}catch(N){return N}}(la,V,function(ba){P||(P=!0,V!==ba?m(T,ba):d(T,ba))},function(ba){P||(P=!0,a(T,ba))},T._label);!P&&I&&(P=!0,a(T,I))},ha)}(ma,sa,za):d(ma,sa)}function m(ma,sa){if(ma===sa)a(ma,new TypeError("You cannot resolve a promise with itself"));else if(ha=typeof(za=sa),null===za||"object"!==ha&&"function"!==ha)d(ma,sa);else{za=void 0;try{za=sa.then}catch(V){return void a(ma,V)}q(ma,sa,za)}var za,ha}function e(ma){ma._onerror&&
ma._onerror(ma._result);c(ma)}function d(ma,sa){void 0===ma._state&&(ma._result=sa,ma._state=1,0!==ma._subscribers.length&&D(c,ma))}function a(ma,sa){void 0===ma._state&&(ma._state=2,ma._result=sa,D(e,ma))}function b(ma,sa,za,ha){var V=ma._subscribers,la=V.length;ma._onerror=null;V[la]=sa;V[la+1]=za;V[la+2]=ha;0===la&&ma._state&&D(c,ma)}function c(ma){var sa=ma._subscribers,za=ma._state;if(0!==sa.length){for(var ha=void 0,V=void 0,la=ma._result,T=0;T<sa.length;T+=3)ha=sa[T],V=sa[T+za],ha?h(za,ha,
V,la):V(la);ma._subscribers.length=0}}function h(ma,sa,za,ha){var V="function"==typeof za,la=void 0,T=void 0,P=!0;if(V){try{la=za(ha)}catch(I){P=!1,T=I}if(sa===la)return void a(sa,new TypeError("A promises callback cannot return that same promise."))}else la=ha;void 0!==sa._state||(V&&P?m(sa,la):!1===P?a(sa,T):1===ma?d(sa,la):2===ma&&a(sa,la))}function n(ma){ma[X]=aa++;ma._state=void 0;ma._result=void 0;ma._subscribers=[]}var p=Array.isArray?Array.isArray:function(ma){return"[object Array]"===Object.prototype.toString.call(ma)},
w=0,B=void 0,A=void 0,D=function(ma,sa){H[w]=ma;H[w+1]=sa;2===(w+=2)&&(A?A(y):R())},F="undefined"!=typeof window?window:void 0,v=F||{};v=v.MutationObserver||v.WebKitMutationObserver;var C="undefined"==typeof self&&void 0!==f&&"[object process]"==={}.toString.call(f),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=Array(1E3),K,O,L,J,R=void 0;C?R=function(){return f.nextTick(y)}:v?(O=0,L=new v(y),J=document.createTextNode(""),L.observe(J,
{characterData:!0}),R=function(){J.data=O=++O%2}):G?((K=new MessageChannel).port1.onmessage=y,R=function(){return K.port2.postMessage(0)}):R=void 0===F?function(){try{var ma=Function("return this")().require("vertx");return void 0!==(B=ma.runOnLoop||ma.runOnContext)?function(){B(y)}:k()}catch(sa){return k()}}():k();var X=Math.random().toString(36).substring(2),aa=0,ea=function(){function ma(sa,za){this._instanceConstructor=sa;this.promise=new sa(z);this.promise[X]||n(this.promise);p(za)?(this.length=
za.length,this._remaining=za.length,this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(za),0===this._remaining&&d(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}return ma.prototype._enumerate=function(sa){for(var za=0;void 0===this._state&&za<sa.length;za++)this._eachEntry(sa[za],za)},ma.prototype._eachEntry=function(sa,za){var ha=this._instanceConstructor,V=ha.resolve;if(V===E){var la=
V=void 0,T=!1;try{V=sa.then}catch(P){T=!0,la=P}V===u&&void 0!==sa._state?this._settledAt(sa._state,za,sa._result):"function"!=typeof V?(this._remaining--,this._result[za]=sa):ha===ka?(ha=new ha(z),T?a(ha,la):q(ha,sa,V),this._willSettleAt(ha,za)):this._willSettleAt(new ha(function(P){return P(sa)}),za)}else this._willSettleAt(V(sa),za)},ma.prototype._settledAt=function(sa,za,ha){var V=this.promise;void 0===V._state&&(this._remaining--,2===sa?a(V,ha):this._result[za]=ha);0===this._remaining&&d(V,this._result)},
ma.prototype._willSettleAt=function(sa,za){var ha=this;b(sa,void 0,function(V){return ha._settledAt(1,za,V)},function(V){return ha._settledAt(2,za,V)})},ma}(),ka=function(){function ma(sa){this[X]=aa++;this._result=this._state=void 0;this._subscribers=[];if(z!==sa){if("function"!=typeof sa)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ma)(function(za,ha){try{ha(function(V){m(za,V)},function(V){a(za,V)})}catch(V){a(za,V)}})(this,
sa);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ma.prototype["catch"]=function(sa){return this.then(null,sa)},ma.prototype["finally"]=function(sa){var za=this.constructor;return"function"==typeof sa?this.then(function(ha){return za.resolve(sa()).then(function(){return ha})},function(ha){return za.resolve(sa()).then(function(){throw ha;})}):this.then(sa,sa)},ma}();return ka.prototype.then=
u,ka.all=function(ma){return(new ea(this,ma)).promise},ka.race=function(ma){var sa=this;return p(ma)?new sa(function(za,ha){for(var V=ma.length,la=0;la<V;la++)sa.resolve(ma[la]).then(za,ha)}):new sa(function(za,ha){return ha(new TypeError("You must pass an array to race."))})},ka.resolve=E,ka.reject=function(ma){var sa=new this(z);return a(sa,ma),sa},ka._setScheduler=function(ma){A=ma},ka._setAsap=function(ma){D=ma},ka._asap=D,ka.polyfill=function(){var ma=void 0;if(void 0!==g)ma=g;else if("undefined"!=
typeof self)ma=self;else try{ma=Function("return this")()}catch(ha){throw Error("polyfill failed because global object is unavailable in this environment");}var sa=ma.Promise;if(sa){var za=null;try{za=Object.prototype.toString.call(sa.resolve())}catch(ha){}if("[object Promise]"===za&&!sa.cast)return}ma.Promise=ka},ka.Promise=ka,ka}()}).call(this,l(189),l(170))},30:function(x,t,l){function f(H){return H.reduce(function(K,O){return O&&O.relatedItems?K.concat(O.relatedItems.map(function(L){return L})):
K},[])}function g(H,K,O){return H(K,{query:Object(u.a)({f:"json"},O)}).then(function(L){return L.data})}function k(H,K){void 0===K&&(K=100);for(var O=[],L=0;L<Math.ceil(H.length/K);L++)O.push(H.slice(L*K,(L+1)*K));return O.filter(function(J){return 0<J.length})}function y(H){var K=H.itemIds,O=H.request,L=H.groupIds,J=H.portal.restUrl+"/content/itemsgroups";return new E.Promise(function(R,X){O(J,{method:"get",query:{f:"json",items:K,groups:L}}).then(function(aa){R(aa.data)},X)})}l.d(t,"u",function(){return z});
l.d(t,"n",function(){return q});l.d(t,"h",function(){return m});l.d(t,"e",function(){return e});l.d(t,"f",function(){return d});l.d(t,"j",function(){return a});l.d(t,"o",function(){return b});l.d(t,"l",function(){return c});l.d(t,"k",function(){return h});l.d(t,"m",function(){return n});l.d(t,"c",function(){return p});l.d(t,"d",function(){return w});l.d(t,"r",function(){return B});l.d(t,"s",function(){return A});l.d(t,"t",function(){return D});l.d(t,"g",function(){return F});l.d(t,"p",function(){return v});
l.d(t,"q",function(){return C});l.d(t,"v",function(){return g});l.d(t,"a",function(){return k});l.d(t,"i",function(){return y});l.d(t,"b",function(){return G});var u=l(0),E=l(28),z=function(H){return function(K,O){return H({url:K,content:O.query},{usePost:"post"===O.method}).then(function(L){return{data:L}})}},q=function(H,K,O){return g(H,K.restUrl+"/portals/self",{culture:O,"default":!0})},m=function(H,K,O){return g(H,K.restUrl+"/content/items/"+O+"/data")},e=function(H,K,O,L){return g(H,K.restUrl+
"/community/groups",Object(u.a)({q:O},L))},d=function(H,K,O){return g(H,K.restUrl+"/community/groups/"+O+"/categorySchema")},a=function(H,K,O){return g(H,K.restUrl+"/portals/"+(O||K.id)+"/categorySchema")},b=function(H,K){return g(H,K.restUrl+"/portals/"+K.id+"/servers")},c=function(H,K,O,L){return H(K.restUrl+"/portals/"+(O||K.id)+"/collaborationsSummary",L)},h=function(H,K,O,L){return H(K.restUrl+"/portals/"+(O||K.id)+"/collaboratedItems",L)},n=function(H,K,O){return g(H,location.protocol+"//"+
K.portalHostname+"/sharing/rest/portals/"+(O||"self"))},p=function(H,K,O){return H(K.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+K.id+" AND access:public",num:100,start:O||1,sortField:"title",sortOrder:"asc"}}).then(function(L){return L.data.total>L.data.start+L.data.num?p(H,K,L.data.start+L.data.num).then(function(J){return Object(u.a)(Object(u.a)({},J),{data:Object(u.a)(Object(u.a)({},J.data),{results:L.data.results.concat(J.data.results)})})}):L})},w=function(H,K,O,L){return H(K.restUrl+
"/community/users/"+O+"/provisionedListings",{query:{f:"json",num:100,start:L||1}}).then(function(J){var R=E.Promise.all(J.data.provisionedListings.filter(function(aa){return aa.itemId}).map(function(aa){return(new E.Promise(function(ea,ka){H(K.restUrl+"/content/items/"+aa.itemId,{method:"get",query:{f:"json"}}).then(function(ma){ea(ma.data)},ka)}))["catch"](function(ea){return 0})})),X=J.data.provisionedListings.map(function(aa){return g(H,K.restUrl+"/content/items/"+(aa.id||aa.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ea){return ea},
function(ea){})});return J.data.total>J.data.start+J.data.num?w(H,K,O,J.data.start+J.data.num).then(function(aa){return E.Promise.all([R].concat(X)).then(function(ea){return ea[0].results.concat(f(ea.slice(1))).concat(aa)})}):E.Promise.all([R].concat(X)).then(function(aa){return aa[0].filter(function(ea){return void 0!==ea}).concat(f(aa.slice(1)))})})},B=function(H,K,O){return g(H,K.restUrl+"/community/users/"+(O||K.user.username))},A=function(H,K,O){return g(H,K.restUrl+"/content/users/"+(O||K.user.username),
{num:1})},D=function(H,K,O){return g(H,K.restUrl+"/content/groups/"+O)},F=function(H,K,O){return g(H,K.restUrl+"/community/groups",O)},v=function(H,K){return g(H,K.restUrl+"/portals/self/settings")},C=function(H,K){return g(H,K.restUrl+"/portals/self/trustedOrgs",{num:100})},G=function(H,K){return void 0===K&&(K=","),H.map(function(O){return O.id}).join(K)}},313:function(x,t,l){l.d(t,"a",function(){return y});var f=l(30),g=l(54),k=l(175),y=function(u,E){var z=E();z=(Object(g.b)(z)?z:z.gbState).utils;
Object(f.q)(z.request,z.portal).then(function(q){var m;q=(null===(m=null==q?void 0:q.trustedOrgs)||void 0===m?void 0:m.filter(function(e){return-1<e.from.established&&-1<e.to.established}))||[];u({type:k.a.TRUSTED_ORGS_LOADED,payload:q})},function(){u({type:k.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(x,t,l){l.d(t,"a",function(){return y});var f=l(30),g=l(54),k=l(28),y=function(u){u=(Object(g.b)(u)?u:u.gbState).utils;var E=u.request,z=u.portal,q=u.portalUser;return new k.Promise(function(m,
e){Object(f.r)(E,z,q.username).then(function(d){m(d)},function(){m()})})}},335:function(x,t,l){l.d(t,"b",function(){return q});l.d(t,"a",function(){return w});var f=l(0),g=l(28),k=l(30),y=l(78),u=l(61),E=l(194),z=l(26),q=function(D){if(D.depth&&4<D.depth)return g.Promise.resolve([]);switch(D.depth=D.depth?D.depth+1:1,D.item.type){case "Web Map":case "Web Scene":return h(D);case "Web Mapping Application":return e(D);case "Big Data File Share":return d(D);case "Data Store":return a(D);default:return g.Promise.resolve([])}},
m=function(D){var F=D.item,v=D.request,C=D.portal,G=D.iconDir;return F.itemId?new g.Promise(function(H){Object(k.v)(v,C.restUrl+"/content/items/"+F.itemId).then(function(K){0<Object(E.b)([K]).length?Object(E.a)({items:[K],request:v}).then(function(O){K.isUpdateLayer=0<O.length;H(Object(y.a)(C,G,K))},function(){return H(Object(y.a)(C,G,K))}):H(Object(y.a)(C,G,K))},function(){return H(null)})}):g.Promise.resolve(null)},e=function(D){var F=D.item,v=D.request,C=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(v,
C.restUrl+"/content/items/"+F.id+"/data").then(function(K){K||H([]);var O=function(L){var J,R,X,aa,ea,ka,ma,sa,za,ha,V=(null===(J=null==L?void 0:L.map)||void 0===J?0:J.itemId)?[L.map.itemId]:[];J=null!==(aa=null===(X=null===(R=L.values)||void 0===R?void 0:R.itemCollection)||void 0===X?void 0:X.map(function(la){return la.id}))&&void 0!==aa?aa:[];R=null!==(ma=null===(ka=null===(ea=L.values)||void 0===ea?void 0:ea.webmap)||void 0===ka?void 0:ka.split(","))&&void 0!==ma?ma:[];L=null!==(ha=null===(za=
null===(sa=L.values)||void 0===sa?void 0:sa.webscene)||void 0===za?void 0:za.split(","))&&void 0!==ha?ha:[];return Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],V),J),R),L)}(K).map(function(L){return m({item:{itemId:L},request:v,portal:C,iconDir:G})});g.Promise.all(O).then(function(L){var J=L.filter(function(R){return R});L=J.map(function(R){return q({item:R,request:v,portal:C,iconDir:G})});g.Promise.all(L).then(function(R){var X;R=Object(f.g)(Object(f.g)([],J),Object(u.b)(R));(null===(X=K.values)||
void 0===X?0:X.group)&&(F.itemData=K,R.push(F));H(R)})})})})},d=function(D){var F=D.item,v=D.request,C=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(v,C.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(K){if(-1<K.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<K.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(k.v)(v,C.restUrl+"/content/items/"+K.relatedItems[0].id+"/relatedItems",
{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(L){L.relatedItems.push(K.relatedItems[0]);L=b(L.relatedItems,v,C,G);g.Promise.all(L).then(function(J){H(J)})});else{var O=b(K.relatedItems,v,C,G);g.Promise.all(O).then(function(L){H(L)})}})})},a=function(D){var F=D.item,v=D.request,C=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(v,C.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(K){K=
b(K.relatedItems,v,C,G);g.Promise.all(K).then(function(O){H(O)})})})},b=function(D,F,v,C){return D.map(function(G){return c(G,F,v,C)})},c=function(D,F,v,C){return new g.Promise(function(G){Object(k.v)(F,v.restUrl+"/content/items/"+D.id).then(function(H){G(Object(y.a)(v,C,H))})})},h=function(D){var F=D.item,v=D.request,C=D.portal,G=D.iconDir;return new g.Promise(function(H){return function(K){var O=K.portal,L=K.item,J=K.request;return new g.Promise(function(R){if(L.itemData){var X=L.itemData,aa=X.operationalLayers,
ea=X.baseMap,ka=X.tables;X=X.ground;return R(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],(null==ea?void 0:ea.baseMapLayers)||[]),(null==X?void 0:X.layers)||[]),aa||[]),ka||[]))}return Object(k.v)(J,O.restUrl+"/content/items/"+L.id+"/data").then(function(ma){var sa=ma.baseMap,za=ma.tables,ha=ma.ground;return R(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],ma.operationalLayers||[]),(null==sa?void 0:sa.baseMapLayers)||[]),(null==ha?void 0:ha.layers)||[]),za||[]))},function(){return R([])})})}({request:v,
item:F,portal:C}).then(function(K){g.Promise.all(n(K).map(function(O){return m({item:O,request:v,portal:C,iconDir:G})})).then(H)})})},n=function(D){return D.reduce(function(F,v){return(null==v?0:v.itemId)?F.concat(v):(null==v?0:v.layers)&&"GroupLayer"===v.layerType?F.concat(v.layers):F},[])},p={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},w=function(D){var F=D.item,v=D.selectedOptions,C=D.selectedGroups,G=D.request;D=D.portal;
return B({item:F,selectedOptions:v})?g.Promise.resolve(Object(f.a)(Object(f.a)({},p),{editable:!1,premium:!0})):A({item:F,selectedGroups:C,request:G,portal:D,selectedOptions:v}).then(function(H){var K=H.needsGroupSharingUpdate,O;if(!(O=H.needsShareLevelUpdate)){var L,J=!0;Object(u.e)(v)&&(J=!1);O=Object(u.d)(v);O!==z.b["private"]&&O!==z.b.shared||(J=!1);var R=F.access||(null===(L=F.sharing)||void 0===L?void 0:L.access);O=(R===z.b["public"]&&(J=!1),R===O&&(J=!1),O===z.b["private"]&&(R===z.b.shared&&
(J=!1),R===z.b.org&&(J=!1)),J)}return{needsGroupSharingUpdate:K,needsShareLevelUpdate:O,editable:H.editable,premium:!1,groupDependentApplication:H.groupDependentApplication,bdfsDatastore:H.bdfsDatastore}})},B=function(D){var F=D.selectedOptions;D=D.item;return Object(u.e)(F)?!1:Object(u.d)(F)===z.b["public"]?(F=D.typeKeywords,-1<D.owner.toLowerCase().indexOf("esri")&&(-1<(null==F?void 0:F.indexOf("Requires Credits"))||-1<(null==F?void 0:F.indexOf("Requires Subscription")))):!1},A=function(D){var F=
D.item,v=D.selectedGroups,C=D.selectedOptions,G=D.request,H=D.portal;return new g.Promise(function(K,O){var L,J;"Web Mapping Application"===F.type&&(null===(J=null===(L=F.itemData)||void 0===L?void 0:L.values)||void 0===J?0:J.group)?K(Object(f.a)(Object(f.a)({},p),{groupDependentApplication:!0})):"Data Store"!==F.type?Object(k.v)(G,H.restUrl+"/content/users/"+F.owner+(F.ownerFolder?"/"+F.ownerFolder:"")+"/items/"+(F.itemId||F.id)).then(function(R){var X,aa=R.item.itemControl,ea=R.sharing.groups;R=
F.access||(null===(X=F.sharing)||void 0===X?void 0:X.access);Object(u.f)(F)&&C.total===C["public"]?K(Object(f.a)(Object(f.a)({},p),{needsShareLevelUpdate:!0,editable:!1})):aa&&"admin"!==aa&&"update"!==aa?K(Object(f.a)(Object(f.a)({},p),{editable:!1})):R!==z.b["public"]?v.length>ea.length?K(Object(f.a)(Object(f.a)({},p),{needsGroupSharingUpdate:!0})):(X=v.some(function(ka){return 0>ea.indexOf(ka.id)}),K(Object(f.a)(Object(f.a)({},p),{needsGroupSharingUpdate:X}))):K(Object(f.a)({},p))},function(R){Object(k.v)(G,
H.restUrl+"/content/items/"+(F.itemId||F.id)).then(function(X){X=X.access;X===z.b["public"]||X===z.b.org&&C.total===C.org+C["private"]?K(Object(f.a)(Object(f.a)({},p),{editable:!1})):K(Object(f.a)(Object(f.a)({},p),{needsShareLevelUpdate:!0,editable:!1}))},function(X){K(Object(f.a)(Object(f.a)({},p),{needsShareLevelUpdate:!0,editable:!1}))})}):K(Object(f.a)(Object(f.a)({},p),{bdfsDatastore:!0}))})}},336:function(x,t,l){(function(f,g){function k(wa,Ea){return wa.set(Ea[0],Ea[1]),wa}function y(wa,Ea){return wa.add(Ea),
wa}function u(wa,Ea,ra,oa){var xa=-1,ta=wa?wa.length:0;for(oa&&ta&&(ra=wa[++xa]);++xa<ta;)ra=Ea(ra,wa[xa],xa,wa);return ra}function E(wa){var Ea=!1;if(null!=wa&&"function"!=typeof wa.toString)try{Ea=!!(wa+"")}catch(ra){}return Ea}function z(wa){var Ea=-1,ra=Array(wa.size);return wa.forEach(function(oa,xa){ra[++Ea]=[xa,oa]}),ra}function q(wa,Ea){return function(ra){return wa(Ea(ra))}}function m(wa){var Ea=-1,ra=Array(wa.size);return wa.forEach(function(oa){ra[++Ea]=oa}),ra}function e(wa){var Ea=-1,
ra=wa?wa.length:0;for(this.clear();++Ea<ra;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function d(wa){var Ea=-1,ra=wa?wa.length:0;for(this.clear();++Ea<ra;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function a(wa){var Ea=-1,ra=wa?wa.length:0;for(this.clear();++Ea<ra;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function b(wa){this.__data__=new d(wa)}function c(wa,Ea){var ra=Oa(wa)||function(ja){return!!ja&&"object"==typeof ja&&G(ja)&&T.call(ja,"callee")&&(!Q.call(ja,"callee")||"[object Arguments]"==P.call(ja))}(wa)?
function(ja,pa){for(var va=-1,Fa=Array(ja);++va<ja;)Fa[va]=pa(va);return Fa}(wa.length,String):[],oa=ra.length,xa=!!oa,ta;for(ta in wa)!Ea&&!T.call(wa,ta)||xa&&("length"==ta||F(ta,oa))||ra.push(ta);return ra}function h(wa,Ea,ra){var oa=wa[Ea];T.call(wa,Ea)&&(oa===ra||oa!=oa&&ra!=ra)&&(void 0!==ra||Ea in wa)||(wa[Ea]=ra)}function n(wa,Ea){for(var ra=wa.length;ra--;){var oa=wa[ra][0];if(oa===Ea||oa!=oa&&Ea!=Ea)return ra}return-1}function p(wa,Ea,ra,oa,xa,ta,ja){var pa;if(oa&&(pa=ta?oa(wa,xa,ta,ja):
oa(wa)),void 0!==pa)return pa;if(!K(wa))return wa;if(xa=Oa(wa)){if(pa=function(Ca){var Ia=Ca.length,La=Ca.constructor(Ia);Ia&&"string"==typeof Ca[0]&&T.call(Ca,"index")&&(La.index=Ca.index,La.input=Ca.input);return La}(wa),!Ea)return function(Ca,Ia){var La=-1,Ga=Ca.length;for(Ia||(Ia=Array(Ga));++La<Ga;)Ia[La]=Ca[La];return Ia}(wa,pa)}else{var va=Ba(wa),Fa="[object Function]"==va||"[object GeneratorFunction]"==va;if(Ja(wa))return function(Ca,Ia){if(Ia)return Ca.slice();var La=new Ca.constructor(Ca.length);
return Ca.copy(La),La}(wa,Ea);if("[object Object]"==va||"[object Arguments]"==va||Fa&&!ta){if(E(wa))return ta?wa:{};if(pa=function(Ca){return"function"!=typeof Ca.constructor||v(Ca)?{}:(Ia=W(Ca),K(Ia)?ca(Ia):{});var Ia}(Fa?{}:wa),!Ea)return function(Ca,Ia){return B(Ca,Aa(Ca),Ia)}(wa,function(Ca,Ia){return Ca&&B(Ia,O(Ia),Ca)}(pa,wa))}else{if(!X[va])return ta?wa:{};pa=function(Ca,Ia,La,Ga){var Ma=Ca.constructor;switch(Ia){case "[object ArrayBuffer]":return w(Ca);case "[object Boolean]":case "[object Date]":return new Ma(+Ca);
case "[object DataView]":return function(Ka,Na){var Qa=Na?w(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,Ka.byteLength)}(Ca,Ga);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Ka,Na){var Qa=Na?w(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,
Ka.length)}(Ca,Ga);case "[object Map]":return function(Ka,Na,Qa){return u(Na?Qa(z(Ka),!0):z(Ka),k,new Ka.constructor)}(Ca,Ga,La);case "[object Number]":case "[object String]":return new Ma(Ca);case "[object RegExp]":return function(Ka){var Na=new Ka.constructor(Ka.source,L.exec(Ka));return Na.lastIndex=Ka.lastIndex,Na}(Ca);case "[object Set]":return function(Ka,Na,Qa){return u(Na?Qa(m(Ka),!0):m(Ka),y,new Ka.constructor)}(Ca,Ga,La);case "[object Symbol]":return Ha=Ca,ya?Object(ya.call(Ha)):{}}var Ha}(wa,
va,p,Ea)}}ja||(ja=new b);if(ta=ja.get(wa))return ta;if(ja.set(wa,pa),!xa)var Da=ra?function(Ca){var Ia=Aa,La=O(Ca);if(!Oa(Ca)){Ca=Ia(Ca);Ia=-1;for(var Ga=Ca.length,Ma=La.length;++Ia<Ga;)La[Ma+Ia]=Ca[Ia]}return La}(wa):O(wa);return function(Ca,Ia){for(var La=-1,Ga=Ca?Ca.length:0;++La<Ga&&!1!==Ia(Ca[La],La,Ca););}(Da||wa,function(Ca,Ia){Da&&(Ca=wa[Ia=Ca]);h(pa,Ia,p(Ca,Ea,ra,oa,Ia,wa,ja))}),pa}function w(wa){var Ea=new wa.constructor(wa.byteLength);return(new ba(Ea)).set(new ba(wa)),Ea}function B(wa,
Ea,ra,oa){ra||(ra={});for(var xa=-1,ta=Ea.length;++xa<ta;){var ja=Ea[xa],pa=oa?oa(ra[ja],wa[ja],ja,ra,wa):void 0;h(ra,ja,void 0===pa?wa[ja]:pa)}return ra}function A(wa,Ea){var ra,oa=wa.__data__;return("string"==(ra=typeof Ea)||"number"==ra||"symbol"==ra||"boolean"==ra?"__proto__"!==Ea:null===Ea)?oa["string"==typeof Ea?"string":"hash"]:oa.map}function D(wa,Ea){var ra=null==wa?void 0:wa[Ea];a:{var oa=!(!K(ra)||(xa=ra,V&&V in xa))&&(H(ra)||E(ra)?I:J).test(C(ra));break a;var xa}return oa?ra:void 0}function F(wa,
Ea){return!!(Ea=null==Ea?9007199254740991:Ea)&&("number"==typeof wa||R.test(wa))&&-1<wa&&0==wa%1&&wa<Ea}function v(wa){var Ea=wa&&wa.constructor;return wa===("function"==typeof Ea&&Ea.prototype||za)}function C(wa){if(null!=wa){try{return la.call(wa)}catch(Ea){}return wa+""}return""}function G(wa){var Ea;if(Ea=null!=wa)Ea=wa.length,Ea="number"==typeof Ea&&-1<Ea&&0==Ea%1&&9007199254740991>=Ea;return Ea&&!H(wa)}function H(wa){wa=K(wa)?P.call(wa):"";return"[object Function]"==wa||"[object GeneratorFunction]"==
wa}function K(wa){var Ea=typeof wa;return!!wa&&("object"==Ea||"function"==Ea)}function O(wa){if(G(wa))wa=c(wa);else if(v(wa)){var Ea=[],ra;for(ra in Object(wa))T.call(wa,ra)&&"constructor"!=ra&&Ea.push(ra);wa=Ea}else wa=S(wa);return wa}var L=/\w*$/,J=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,X={};X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object DataView]"]=X["[object Boolean]"]=X["[object Date]"]=X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=
X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object Symbol]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0;X["[object Error]"]=X["[object Function]"]=X["[object WeakMap]"]=!1;var aa="object"==typeof self&&self&&self.Object===Object&&self;aa="object"==typeof f&&f&&f.Object===Object&&f||aa||Function("return this")();
var ea=t&&!t.nodeType&&t,ka=ea&&"object"==typeof g&&g&&!g.nodeType&&g;ka=ka&&ka.exports===ea;var ma;ea=Array.prototype;var sa=Function.prototype,za=Object.prototype,ha=aa["__core-js_shared__"],V=(ma=/[^.]+$/.exec(ha&&ha.keys&&ha.keys.IE_PROTO||""))?"Symbol(src)_1."+ma:"",la=sa.toString,T=za.hasOwnProperty,P=za.toString,I=RegExp("^"+la.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ka=ka?aa.Buffer:void 0;ma=aa.Symbol;
var ba=aa.Uint8Array,W=q(Object.getPrototypeOf,Object),ca=Object.create,Q=za.propertyIsEnumerable,N=ea.splice;ea=Object.getOwnPropertySymbols;ka=ka?ka.isBuffer:void 0;var S=q(Object.keys,Object);sa=D(aa,"DataView");var Y=D(aa,"Map");ha=D(aa,"Promise");var Z=D(aa,"Set");aa=D(aa,"WeakMap");var da=D(Object,"create"),fa=C(sa),ia=C(Y),na=C(ha),qa=C(Z),ua=C(aa),ya=(ma=ma?ma.prototype:void 0)?ma.valueOf:void 0;e.prototype.clear=function(){this.__data__=da?da(null):{}};e.prototype["delete"]=function(wa){return this.has(wa)&&
delete this.__data__[wa]};e.prototype.get=function(wa){var Ea=this.__data__;return da?(wa=Ea[wa],"__lodash_hash_undefined__"===wa?void 0:wa):T.call(Ea,wa)?Ea[wa]:void 0};e.prototype.has=function(wa){var Ea=this.__data__;return da?void 0!==Ea[wa]:T.call(Ea,wa)};e.prototype.set=function(wa,Ea){return this.__data__[wa]=da&&void 0===Ea?"__lodash_hash_undefined__":Ea,this};d.prototype.clear=function(){this.__data__=[]};d.prototype["delete"]=function(wa){var Ea=this.__data__;wa=n(Ea,wa);return!(0>wa)&&
(wa==Ea.length-1?Ea.pop():N.call(Ea,wa,1),!0)};d.prototype.get=function(wa){var Ea=this.__data__;wa=n(Ea,wa);return 0>wa?void 0:Ea[wa][1]};d.prototype.has=function(wa){return-1<n(this.__data__,wa)};d.prototype.set=function(wa,Ea){var ra=this.__data__,oa=n(ra,wa);return 0>oa?ra.push([wa,Ea]):ra[oa][1]=Ea,this};a.prototype.clear=function(){this.__data__={hash:new e,map:new (Y||d),string:new e}};a.prototype["delete"]=function(wa){return A(this,wa)["delete"](wa)};a.prototype.get=function(wa){return A(this,
wa).get(wa)};a.prototype.has=function(wa){return A(this,wa).has(wa)};a.prototype.set=function(wa,Ea){return A(this,wa).set(wa,Ea),this};b.prototype.clear=function(){this.__data__=new d};b.prototype["delete"]=function(wa){return this.__data__["delete"](wa)};b.prototype.get=function(wa){return this.__data__.get(wa)};b.prototype.has=function(wa){return this.__data__.has(wa)};b.prototype.set=function(wa,Ea){var ra=this.__data__;if(ra instanceof d){ra=ra.__data__;if(!Y||199>ra.length)return ra.push([wa,
Ea]),this;ra=this.__data__=new a(ra)}return ra.set(wa,Ea),this};var Aa=ea?q(ea,Object):function(){return[]},Ba=function(wa){return P.call(wa)};(sa&&"[object DataView]"!=Ba(new sa(new ArrayBuffer(1)))||Y&&"[object Map]"!=Ba(new Y)||ha&&"[object Promise]"!=Ba(ha.resolve())||Z&&"[object Set]"!=Ba(new Z)||aa&&"[object WeakMap]"!=Ba(new aa))&&(Ba=function(wa){var Ea=P.call(wa);if(wa=(wa="[object Object]"==Ea?wa.constructor:void 0)?C(wa):void 0)switch(wa){case fa:return"[object DataView]";case ia:return"[object Map]";
case na:return"[object Promise]";case qa:return"[object Set]";case ua:return"[object WeakMap]"}return Ea});var Oa=Array.isArray,Ja=ka||function(){return!1};g.exports=function(wa){return p(wa,!0,!0)}}).call(this,l(170),l(366)(x))},354:function(x,t){x.exports=r},366:function(x,t){x.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,
get:function(){return l.i}}),l.webpackPolyfill=1),l}},379:function(x,t,l){function f(y,u){var E=y.filter(function(z){var q;return!z.success&&500===(null===(q=null==z?void 0:z.error)||void 0===q?void 0:q.code)}).map(function(z){var q=Object(k.c)(u,function(m){return m.id===z.itemId});return(null==q?void 0:q.title)||z.itemId});return y.map(function(z){z.error=z.error||{};var q=z.error,m=q.messageCode;q=q.code;return m&&g.errors[m]&&(z.error.message=g.errors[m]),q&&g.errors[q]&&(z.error.message=g.errors[q]),
(500===m||500===q&&E)&&(z.error.details=E,z.error.message=g.errors[500]+" "+(null==E?void 0:E.join(", "))),z}).filter(function(z){return!z.success})}l.d(t,"a",function(){return f});var g=l(39),k=l(99)},38:function(x,t,l){l.d(t,"b",function(){return f});l.d(t,"d",function(){return k});l.d(t,"c",function(){return y});l.d(t,"a",function(){return u});l.d(t,"f",function(){return q});var f,g,k,y,u,E=l(0),z=l(25);!function(m){m.openData="openData";m.updateGroups="updateGroups";m.distributed="distributed";
m.administrative="administrative";m.orgSettings="orgSettings"}(f||(f={}));(g||(g={})).owner="owner";(function(m){m.itemOwner="itemOwner";m.inOrg="inOrg";m.outsideOrg="outsideOrg"})(k||(k={}));(function(m){m.myOrg="org";m.partnered="collaboration";m.anyOrg="anyOrg"})(y||(y={}));(function(m){m.USER="USER";m.OWNER="OWNER";m.DESIGNATION="DESIGNATION";m.DATE_CREATED="DATE_CREATED";m.MEMBERSHIP="MEMBERSHIP"})(u||(u={}));var q={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};t.e=function(m,
e){switch(void 0===m&&(m=q),e.type){case z.a.CLEAR_FILTERS:switch(e.payload){case u.DESIGNATION:return Object(E.a)(Object(E.a)({},m),{designationFilter:void 0});case u.DATE_CREATED:return Object(E.a)(Object(E.a)({},m),{dateCreatedFilter:void 0});case u.OWNER:return Object(E.a)(Object(E.a)({},m),{ownerFilter:void 0});case u.USER:return m;case u.MEMBERSHIP:return Object(E.a)(Object(E.a)({},m),{membershipFilter:void 0});default:return Object(E.a)(Object(E.a)({},m),{designationFilter:void 0,dateCreatedFilter:void 0,
membershipFilter:void 0,ownerFilter:void 0})}case z.a.UPDATE_OWNER_FILTER:return Object(E.a)(Object(E.a)({},m),{ownerFilter:e.payload===m.ownerFilter?void 0:e.payload});case z.a.UPDATE_USERNAME_FILTER:return Object(E.a)(Object(E.a)({},m),{currentUsername:e.payload});case z.a.UPDATE_CREATED_ON_FILTER:return Object(E.a)(Object(E.a)({},m),{dateCreatedFilter:e.payload.created});case z.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(E.a)(Object(E.a)({},m),{designationFilter:e.payload===m.designationFilter?
void 0:e.payload});case z.a.UPDATE_MEMBERSHIP_FILTER:return Object(E.a)(Object(E.a)({},m),{membershipFilter:e.payload===m.membershipFilter?void 0:e.payload});case z.a.SET_USERS:return Object(E.a)(Object(E.a)({},m),{allUsers:e.payload.reduce(function(d,a){var b;return Object(E.a)(Object(E.a)({},d),((b={})[a.username]=a,b))},{})});case z.a.SET_SEARCH_STRING:return Object(E.a)(Object(E.a)({},m),{searchString:e.payload});default:return m}}},386:function(x,t,l){(function(f,g){function k(ra,oa,xa){switch(xa.length){case 0:return ra.call(oa);
case 1:return ra.call(oa,xa[0]);case 2:return ra.call(oa,xa[0],xa[1]);case 3:return ra.call(oa,xa[0],xa[1],xa[2])}return ra.apply(oa,xa)}function y(ra){var oa=-1,xa=null==ra?0:ra.length;for(this.clear();++oa<xa;){var ta=ra[oa];this.set(ta[0],ta[1])}}function u(ra){var oa=-1,xa=null==ra?0:ra.length;for(this.clear();++oa<xa;){var ta=ra[oa];this.set(ta[0],ta[1])}}function E(ra){var oa=-1,xa=null==ra?0:ra.length;for(this.clear();++oa<xa;){var ta=ra[oa];this.set(ta[0],ta[1])}}function z(ra){this.size=
(this.__data__=new u(ra)).size}function q(ra,oa,xa){(void 0===xa||A(ra[oa],xa))&&(void 0!==xa||oa in ra)||e(ra,oa,xa)}function m(ra,oa){for(var xa=ra.length;xa--;)if(A(ra[xa][0],oa))return xa;return-1}function e(ra,oa,xa){"__proto__"==oa&&da?da(ra,oa,{configurable:!0,enumerable:!0,value:xa,writable:!0}):ra[oa]=xa}function d(ra){if(null==ra)ra=void 0===ra?"[object Undefined]":"[object Null]";else if(Z&&Z in Object(ra)){var oa=la.call(ra,Z),xa=ra[Z];try{ra[Z]=void 0;var ta=!0}catch(pa){}var ja=P.call(ra);
ta&&(oa?ra[Z]=xa:delete ra[Z]);ra=ja}else ra=P.call(ra);return ra}function a(ra){return G(ra)&&"[object Arguments]"==d(ra)}function b(ra){return!(!C(ra)||T&&T in ra)&&(F(ra)?ba:O).test(function(oa){if(null!=oa){try{return V.call(oa)}catch(xa){}return oa+""}return""}(ra))}function c(ra,oa,xa,ta,ja){ra!==oa&&ya(oa,function(pa,va){if(ja||(ja=new z),C(pa))!function(Da,Ca,Ia,La,Ga,Ma,Ha){var Ka=B(Da,Ia),Na=B(Ca,Ia),Qa=Ha.get(Na);if(Qa)return void q(Da,Ia,Qa);Ca=Ma?Ma(Ka,Na,Ia+"",Da,Ca,Ha):void 0;if(Qa=
void 0===Ca){var Pa=Oa(Na),Ra=!Pa&&Ja(Na),Sa=!Pa&&!Ra&&wa(Na);Ca=Na;Pa||Ra||Sa?Oa(Ka)?Ca=Ka:G(ab=Ka)&&D(ab)?Ca=function(Wa,db){var cb=-1,Za=Wa.length;for(db||(db=Array(Za));++cb<Za;)db[cb]=Wa[cb];return db}(Ka):Ra?(Qa=!1,Ca=function(Wa,db){if(db)return Wa.slice();var cb=Wa.length;cb=ca?ca(cb):new Wa.constructor(cb);return Wa.copy(cb),cb}(Na,!0)):Sa?(Qa=!1,Va=Na,Ua=(Ta=Va.buffer,Xa=new Ta.constructor(Ta.byteLength),(new W(Xa)).set(new W(Ta)),Xa),Ca=new Va.constructor(Ua,Va.byteOffset,Va.length)):Ca=
[]:function(Wa){if(!G(Wa)||"[object Object]"!=d(Wa))return!1;Wa=Q(Wa);if(null===Wa)return!0;Wa=la.call(Wa,"constructor")&&Wa.constructor;return"function"==typeof Wa&&Wa instanceof Wa&&V.call(Wa)==I}(Na)||Ba(Na)?(Ca=Ka,Ba(Ka)?Ca=function(Wa){var db=H(Wa),cb=void 0,Za=!cb;cb||(cb={});for(var $a=-1,Ya=db.length;++$a<Ya;){var bb=db[$a],eb=void 0;void 0===eb&&(eb=Wa[bb]);if(Za)e(cb,bb,eb);else{var fb=cb,gb=fb[bb];la.call(fb,bb)&&A(gb,eb)&&(void 0!==eb||bb in fb)||e(fb,bb,eb)}}return cb}(Ka):C(Ka)&&!F(Ka)||
(Ca=function(Wa){return"function"!=typeof Wa.constructor||w(Wa)?{}:ua(Q(Wa))}(Na))):Qa=!1}var Va,Ua,Ta,Xa,ab;Qa&&(Ha.set(Na,Ca),Ga(Ca,Na,La,Ma,Ha),Ha["delete"](Na));q(Da,Ia,Ca)}(ra,oa,va,xa,c,ta,ja);else{var Fa=ta?ta(B(ra,va),pa,va+"",ra,oa,ja):void 0;void 0===Fa&&(Fa=pa);q(ra,va,Fa)}},H)}function h(ra,oa){var xa,ta=ra.__data__;return("string"==(xa=typeof oa)||"number"==xa||"symbol"==xa||"boolean"==xa?"__proto__"!==oa:null===oa)?ta["string"==typeof oa?"string":"hash"]:ta.map}function n(ra,oa){var xa=
null==ra?void 0:ra[oa];return b(xa)?xa:void 0}function p(ra,oa){var xa=typeof ra;return!!(oa=null==oa?9007199254740991:oa)&&("number"==xa||"symbol"!=xa&&L.test(ra))&&-1<ra&&0==ra%1&&ra<oa}function w(ra){var oa=ra&&ra.constructor;return ra===("function"==typeof oa&&oa.prototype||ha)}function B(ra,oa){if(("constructor"!==oa||"function"!=typeof ra[oa])&&"__proto__"!=oa)return ra[oa]}function A(ra,oa){return ra===oa||ra!=ra&&oa!=oa}function D(ra){return null!=ra&&v(ra.length)&&!F(ra)}function F(ra){if(!C(ra))return!1;
ra=d(ra);return"[object Function]"==ra||"[object GeneratorFunction]"==ra||"[object AsyncFunction]"==ra||"[object Proxy]"==ra}function v(ra){return"number"==typeof ra&&-1<ra&&0==ra%1&&9007199254740991>=ra}function C(ra){var oa=typeof ra;return null!=ra&&("object"==oa||"function"==oa)}function G(ra){return null!=ra&&"object"==typeof ra}function H(ra){if(D(ra)){var oa=Oa(ra),xa=!oa&&Ba(ra),ta=!oa&&!xa&&Ja(ra),ja=!oa&&!xa&&!ta&&wa(ra);if(oa=oa||xa||ta||ja){xa=ra.length;for(var pa=String,va=-1,Fa=Array(xa);++va<
xa;)Fa[va]=pa(va);xa=Fa}else xa=[];pa=xa.length;for(var Da in ra)oa&&("length"==Da||ta&&("offset"==Da||"parent"==Da)||ja&&("buffer"==Da||"byteLength"==Da||"byteOffset"==Da)||p(Da,pa))||xa.push(Da);ra=xa}else if(C(ra)){Da=w(ra);ja=[];for(ta in ra)("constructor"!=ta||!Da&&la.call(ra,ta))&&ja.push(ta);ra=ja}else{Da=[];if(null!=ra)for(ja in Object(ra))Da.push(ja);ra=Da}return ra}function K(ra){return ra}var O=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=
J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0;J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object Boolean]"]=J["[object DataView]"]=J["[object Date]"]=J["[object Error]"]=J["[object Function]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object WeakMap]"]=
!1;var R="object"==typeof f&&f&&f.Object===Object&&f,X="object"==typeof self&&self&&self.Object===Object&&self;X=R||X||Function("return this")();var aa=t&&!t.nodeType&&t,ea=aa&&"object"==typeof g&&g&&!g.nodeType&&g;R=(aa=ea&&ea.exports===aa)&&R.process;a:{try{var ka=ea&&ea.require&&ea.require("util").types||R&&R.binding&&R.binding("util");break a}catch(ra){}ka=void 0}ka=ka&&ka.isTypedArray;var ma,sa,za;R=Array.prototype;var ha=Object.prototype;ea=X["__core-js_shared__"];var V=Function.prototype.toString,
la=ha.hasOwnProperty,T=(ma=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||""))?"Symbol(src)_1."+ma:"",P=ha.toString,I=V.call(Object),ba=RegExp("^"+V.call(la).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ma=aa?X.Buffer:void 0;aa=X.Symbol;var W=X.Uint8Array,ca=ma?ma.allocUnsafe:void 0,Q=(sa=Object.getPrototypeOf,za=Object,function(ra){return sa(za(ra))}),N=Object.create,S=ha.propertyIsEnumerable,Y=R.splice,Z=aa?aa.toStringTag:
void 0,da=function(){try{var ra=n(Object,"defineProperty");return ra({},"",{}),ra}catch(oa){}}();ma=ma?ma.isBuffer:void 0;var fa=Math.max,ia=Date.now,na=n(X,"Map"),qa=n(Object,"create"),ua=function(){function ra(){}return function(oa){if(!C(oa))return{};if(N)return N(oa);ra.prototype=oa;oa=new ra;return ra.prototype=void 0,oa}}();y.prototype.clear=function(){this.__data__=qa?qa(null):{};this.size=0};y.prototype["delete"]=function(ra){ra=this.has(ra)&&delete this.__data__[ra];return this.size-=ra?
1:0,ra};y.prototype.get=function(ra){var oa=this.__data__;return qa?(ra=oa[ra],"__lodash_hash_undefined__"===ra?void 0:ra):la.call(oa,ra)?oa[ra]:void 0};y.prototype.has=function(ra){var oa=this.__data__;return qa?void 0!==oa[ra]:la.call(oa,ra)};y.prototype.set=function(ra,oa){var xa=this.__data__;return this.size+=this.has(ra)?0:1,xa[ra]=qa&&void 0===oa?"__lodash_hash_undefined__":oa,this};u.prototype.clear=function(){this.__data__=[];this.size=0};u.prototype["delete"]=function(ra){var oa=this.__data__;
ra=m(oa,ra);return!(0>ra)&&(ra==oa.length-1?oa.pop():Y.call(oa,ra,1),--this.size,!0)};u.prototype.get=function(ra){var oa=this.__data__;ra=m(oa,ra);return 0>ra?void 0:oa[ra][1]};u.prototype.has=function(ra){return-1<m(this.__data__,ra)};u.prototype.set=function(ra,oa){var xa=this.__data__,ta=m(xa,ra);return 0>ta?(++this.size,xa.push([ra,oa])):xa[ta][1]=oa,this};E.prototype.clear=function(){this.size=0;this.__data__={hash:new y,map:new (na||u),string:new y}};E.prototype["delete"]=function(ra){ra=h(this,
ra)["delete"](ra);return this.size-=ra?1:0,ra};E.prototype.get=function(ra){return h(this,ra).get(ra)};E.prototype.has=function(ra){return h(this,ra).has(ra)};E.prototype.set=function(ra,oa){var xa=h(this,ra),ta=xa.size;return xa.set(ra,oa),this.size+=xa.size==ta?0:1,this};z.prototype.clear=function(){this.__data__=new u;this.size=0};z.prototype["delete"]=function(ra){var oa=this.__data__;ra=oa["delete"](ra);return this.size=oa.size,ra};z.prototype.get=function(ra){return this.__data__.get(ra)};z.prototype.has=
function(ra){return this.__data__.has(ra)};z.prototype.set=function(ra,oa){var xa=this.__data__;if(xa instanceof u){var ta=xa.__data__;if(!na||199>ta.length)return ta.push([ra,oa]),this.size=++xa.size,this;xa=this.__data__=new E(ta)}return xa.set(ra,oa),this.size=xa.size,this};var ya=function(ra,oa,xa){var ta=-1,ja=Object(ra);xa=xa(ra);for(var pa=xa.length;pa--;){var va=xa[++ta];if(!1===oa(ja[va],va,ja))break}return ra},Aa=function(ra){var oa=0,xa=0;return function(){var ta=ia(),ja=16-(ta-xa);if(xa=
ta,0<ja){if(800<=++oa)return arguments[0]}else oa=0;return ra.apply(void 0,arguments)}}(da?function(ra,oa){return da(ra,"toString",{configurable:!0,enumerable:!1,value:(xa=oa,function(){return xa}),writable:!0});var xa}:K),Ba=a(function(){return arguments}())?a:function(ra){return G(ra)&&la.call(ra,"callee")&&!S.call(ra,"callee")},Oa=Array.isArray,Ja=ma||function(){return!1},wa=ka?function(ra){return function(oa){return ra(oa)}}(ka):function(ra){return G(ra)&&v(ra.length)&&!!J[d(ra)]},Ea;X=(Ea=function(ra,
oa,xa,ta){c(ra,oa,xa,ta)},function(ra,oa){return Aa(function(xa,ta,ja){return ta=fa(void 0===ta?xa.length-1:ta,0),function(){for(var pa=arguments,va=-1,Fa=fa(pa.length-ta,0),Da=Array(Fa);++va<Fa;)Da[va]=pa[ta+va];va=-1;for(Fa=Array(ta+1);++va<ta;)Fa[va]=pa[va];return Fa[ta]=ja(Da),k(xa,this,Fa)}}(ra,oa,K),ra+"")}(function(ra,oa){var xa=-1,ta=oa.length,ja=1<ta?oa[ta-1]:void 0,pa=2<ta?oa[2]:void 0;ja=3<Ea.length&&"function"==typeof ja?(ta--,ja):void 0;var va;if(va=pa){va=oa[0];var Fa=oa[1];if(C(pa)){var Da=
typeof Fa;va=!!("number"==Da?D(pa)&&p(Fa,pa.length):"string"==Da&&Fa in pa)&&A(pa[Fa],va)}else va=!1}va&&(ja=3>ta?void 0:ja,ta=1);for(ra=Object(ra);++xa<ta;)(pa=oa[xa])&&Ea(ra,pa,xa,ja);return ra}));g.exports=X}).call(this,l(170),l(366)(x))},39:function(x,t){x.exports=M},5:function(x,t,l){function f(m){return 0===Object.keys(m).length&&m.constructor===Object}function g(m){return null!=m}function k(m,e){return z.apply(null,arguments)}function y(m,e){return q.apply(null,arguments)}l.d(t,"b",function(){return f});
l.d(t,"a",function(){return g});l.d(t,"e",function(){return E});l.d(t,"c",function(){return k});l.d(t,"d",function(){return y});var u=l(0);x=l(15);var E=Object(x.a)(function(m,e){var d=Object(u.a)({},e);return delete d[m],d}),z=Object(x.a)(function(m,e){return Object.keys(e).reduce(function(d,a){return d[a]=m(e[a],a,e),d},{})}),q=Object(x.a)(function(m,e){return Object.keys(e).reduce(function(d,a){return m(e[a],a,e)&&(d[a]=e[a]),d},{})})},51:function(x,t,l){function f(A){return!(!A.urlKey||!A.customBaseUrl)}
function g(A){return A.role===a.admin||A.role===a.accountAdmin}function k(A){return Object(h.a)(A.roleId)&&0<(A.roleId||"").length}function y(A){return!k(A)||k(A)&&-1<(A.privileges||[]).indexOf("portal:admin:viewItems")}function u(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToOrg")}function E(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToGroup")}function z(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToPublic")}function q(A,D){return m(A)||e(A)||D.canSharePublic&&
d(A)}function m(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToGroup")}function e(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToOrg")}function d(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToPublic")}l.d(t,"l",function(){return p});l.d(t,"h",function(){return w});l.d(t,"m",function(){return B});l.d(t,"k",function(){return f});l.d(t,"i",function(){return g});l.d(t,"j",function(){return k});l.d(t,"g",function(){return y});l.d(t,"b",function(){return u});l.d(t,
"a",function(){return E});l.d(t,"c",function(){return z});l.d(t,"d",function(){return m});l.d(t,"e",function(){return e});l.d(t,"f",function(){return d});var a,b=l(63),c=l(148),h=l(5),n=l(58);!function(A){A.user="org_user";A.accountUser="account_user";A.publisher="org_publisher";A.accountPublisher="account_publisher";A.admin="org_admin";A.accountAdmin="account_admin";A.viewer="iAAAAAAAAAAAAAAA";A.dataEditor="iBBBBBBBBBBBBBBB"}(a||(a={}));var p=function(A){var D=A.items;return!!A.user.orgId&&D.every(function(F){return F.isOrgItem})},
w=function(A){var D=A.items,F=A.user,v=A.portal;A=D[0];var C=Object(n.c)(A,F),G=k(F),H=q(F,v);if(G=Object(n.a)(A,F)&&-1<(F.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(v)||E(F)||u(F)||v.canSharePublic&&z(F)||q(F,v);v=G;return!(A.portal.isPortal&&A.owner!==F.username&&-1<A.owner.indexOf("esri_"))&&(C||v||p({items:D,user:F})&&H)},B=function(A,D){return Object(b.a)(Object(c.a)(A))(D)}},54:function(x,t,l){l.d(t,"b",function(){return y});l.d(t,"a",function(){return u});l.d(t,"c",function(){return E});
x=l(16);t=l(215);var f=l(208),g=l(137),k=l(210);l=l(207);var y=function(z){return!z.gbState},u={config:l.b,parameters:f.b,groups:g.f,ui:k.b,utils:t.b},E=Object(x.combineReducers)({config:l.a,parameters:f.a,groups:g.b,ui:k.a,utils:t.a})},58:function(x,t,l){function f(z,q){return(null==z?void 0:z.owner)===q.username}function g(z,q){var m;if(!(m=f(z,q)))if(Object(y.a)(z.isAdmin))m=!!z.isAdmin;else{m=z.owner;var e="admin"===z.itemControl;m=!(z.portal.isPortal&&!f(z,q)&&e&&-1<m.indexOf("esri_")&&0>["esri_livingatlas",
"esri_demographics","esri_boundaries"].indexOf(m))&&e}return m}function k(z,q){return g(z,q)||"update"===z.itemControl}l.d(t,"d",function(){return f});l.d(t,"c",function(){return g});l.d(t,"a",function(){return k});l.d(t,"b",function(){return E});var y=l(5),u=l(51),E=function(z){var q=z.user,m=z.items;z=z.portal;return Object(u.l)({items:m,user:q})&&Object(u.h)({items:m,user:q,portal:z})&&Object(u.g)(q)&&m[0].itemOwner||q}},61:function(x,t,l){function f(w){var B=w.groupIds,A=w.shareLevelOptions,D=
w.restUrl,F=w.request,v=w.unshare;return E.Promise.all(w.items.map(function(C,G){return new E.Promise(function(H,K){F(D+"/content/items/"+(C.itemId||C.id)+"/"+(v?"unshare":"share"),{method:"post",query:Object(y.a)({f:"json",groups:B,confirmItemControl:!0},A||{})}).then(H,K)})}))["catch"](function(C){throw C;})}function g(w,B){return new E.Promise(function(A,D){var F,v=null===(F=w.helpMap)||void 0===F?void 0:F.m;v?A(v):B(w.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(C){var G;
A(null===(G=C.data.helpMap)||void 0===G?void 0:G.m)},D)})}l.d(t,"h",function(){return q});l.d(t,"g",function(){return m});l.d(t,"b",function(){return e});l.d(t,"e",function(){return d});l.d(t,"d",function(){return a});l.d(t,"f",function(){return n});l.d(t,"c",function(){return p});l.d(t,"a",function(){return g});var k,y=l(0),u=l(30),E=l(28);x=l(26);var z=l(58),q=function(w){var B=w.items,A=w.groups,D=w.restUrl,F=w.request,v=w.portalUser;if(0===B.length)return E.Promise.resolve();var C=Object(u.b)(A);
return B.every(function(G){return Object(z.d)(G,v)})?new E.Promise(function(G,H){if(!A||0===A.length)return G();var K={f:"json",items:Object(u.b)(B),groups:C};F(D+"/content/users/"+v.username+"/unshareItems",{method:"post",query:K}).then(G,H)}):f({items:B,groupIds:C,restUrl:D,request:F,unshare:!0})},m=function(w){var B=w.items,A=w.groups,D=w.restUrl,F=w.request,v=w.portalUser,C=w.selectedOptions;w=w.ignoreShareLevel;if(0===B.length)return E.Promise.resolve();if(!w&&!C)throw"Selected options must be provided unless share level is ignored.";
var G=Object(u.b)(A),H=w?{}:b(C);return B.every(function(K){return Object(z.d)(K,v)})?new E.Promise(function(K,O){F(D+"/content/users/"+v.username+"/shareItems",{method:"post",query:Object(y.a)({f:"json",items:Object(u.b)(B),groups:G,confirmItemControl:!0},H)}).then(function(L){L=L.data;L.results.every(function(J){return J.success})?K():O(L)},O)}):f({items:B,groupIds:G,shareLevelOptions:H,restUrl:D,request:F})},e=function(w){return w.reduce(function(B,A){return Object(y.g)(Object(y.g)([],B),A)},[])},
d=function(w){return 1<Object.keys(w).filter(function(B){return"total"!==B&&0<w[B]}).length},a=function(w){return Object.keys(w).filter(function(B){return"total"!==B}).reduce(function(B,A){return w[A]===w.total?A:B})},b=function(w){return d(w)?{}:c[a(w)]},c=((k={})[x.b["public"]]={org:!1,everyone:!0},k[x.b.org]={org:!0,everyone:!1},k[x.b["private"]]={org:!1,everyone:!1},k[x.b.shared]={org:!1,everyone:!1},k),h="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),
n=function(w){var B,A,D=w.typeKeywords,F=w.type;F=h.some(function(C){return-1<D.indexOf(C)})&&"Real Time Analytic"!==F&&"Big Data Analytic"!==F;var v=!(null===(B=null==w?void 0:w.portal)||void 0===B?0:B.isPortal)&&"Image Service"===w.type&&-1<(null===(A=w.url)||void 0===A?void 0:A.indexOf("://iservices"))&&-1<w.url.indexOf("arcgis.com");w="Knowledge Graph"===w.type;return F||v||w},p=function(w,B,A){return A&&B["public"]===B.total?w.filter(function(D){return-1<D.typeKeywords.indexOf("DeveloperBasemap")}):
[]}},63:function(x,t,l){function f(){for(var g=[],k=0;k<arguments.length;k++)g[k]=arguments[k];return function(y){return g.reduceRight(function(u,E){return E(u)},y)}}l.d(t,"a",function(){return f})},68:function(x,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.LOADING_GROUPS="LOADING_GROUPS";g.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";g.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";g.SELECT_GROUPS="SELECT_GROUPS";g.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";g.DESELECT_GROUPS="DESELECT_GROUPS";g.REVERT_GROUPS=
"REVERT_GROUPS";g.CLEAR_SELECTION="CLEAR_SELECTION";g.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";g.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},78:function(x,t,l){l.d(t,"a",function(){return z});l.d(t,"b",function(){return q});var f=l(63);x=l(5);var g=l(123),k=l(122),y=l(117),u=l(121),E=l(120),z=function(m,e,d){return Object(f.a)(Object(E.a)(m),Object(u.a)(m),Object(y.a)(e),Object(k.a)(m),Object(g.a)(m))(d)},q=Object(f.a)(Object(x.e)("patchedDescription"),Object(x.e)("thumbURI"),Object(x.e)("iconURI"),
Object(x.e)("displayName"),Object(x.e)("badges"))},83:function(x,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.SET_SEARCH_STRING="SET_SEARCH_STRING";g.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";g.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";g.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";g.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";g.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";g.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";g.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";
g.SET_USERS="SET_USERS";g.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},985:function(x,t,l){l.r(t);l.d(t,"ShareWrapper",function(){return e});var f=l(0),g=l(354),k=l.n(g),y=l(16),u=l(30);x=l(386);var E=l.n(x);x=l(336);var z=l.n(x),q=l(139),m=l(61);l.d(t,"unshareItems",function(){return m.h});l.d(t,"shareItems",function(){return m.g});l.d(t,"getShimmedRequest",function(){return u.u});l.d(t,"initialState",function(){return g.initialState});var e=function(){function d(a,b){this.options=b;this.listener=
this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.id="share-wrapper";a.appendChild(this.renderContainer);var c=z()(g.initialState),h=z()(b.initialState);c=E()(c,h,function(B,A){if(Array.isArray(B)&&A)return A});h=b.initialState&&b.initialState.resources&&b.initialState.resources.items;var n=4===b.apiVersion?b.request:Object(u.u)(b.request),p=4===b.apiVersion?b.portal:Object(f.a)(Object(f.a)({},b.portal),{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&
b.portal.user.credential?b.portal.user.credential:void 0}),w=4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons");this.initialState=Object(f.a)(Object(f.a)({},c),{resources:Object(f.a)(Object(f.a)({},c.resources),{portalUser:b.portalUser,items:h}),utilities:Object(f.a)(Object(f.a)({},c.utilities),{request:n,portal:p,iconDir:w}),gbState:Object(f.a)(Object(f.a)({},c.gbState),{utils:Object(f.a)(Object(f.a)({},c.gbState.utils),{request:n,
portal:p,portalUser:b.portalUser}),config:Object(f.a)(Object(f.a)({},c.gbState.config),{groupsPerPage:c.config.groupsPerPage,withinShare:!0,enableFiltering:!0,hasTrustedOrgs:c.config.hasTrustedOrgs})})});this.store=Object(y.applyMiddleware)(y.thunk,Object(y.addListener)(this.listener))(y.createStore)(g.reducers,this.initialState);this.dispatch(Object(q.g)());this.projector=Object(y.createProjector)(this.store,function(B){return B(k.a,{key:"share"})},this.renderContainer)}return d.prototype.remove=
function(){document&&document.documentElement&&document.documentElement.classList.remove("overflow-hidden");this.renderContainer&&this.renderContainer.parentElement&&this.renderContainer.parentElement.removeChild(this.renderContainer)},d.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},d.prototype.getState=function(){return this.store?this.store.getState():this.initialState},d.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},d}()},99:function(x,
t,l){function f(z,q){if(null==z?0:z.length)for(var m=void 0,e=0;e<z.length;e++)if(q(m=z[e]))return m}function g(z){return z.filter(function(q){return 0<q.length})}function k(z,q,m){var e=[];return q.forEach(function(d){(m?d[m].toLowerCase()===z.toLowerCase():d.toLowerCase()===z.toLowerCase())?e.unshift(d):e.push(d)}),e}l.d(t,"e",function(){return y});l.d(t,"f",function(){return u});l.d(t,"c",function(){return f});l.d(t,"b",function(){return g});l.d(t,"a",function(){return E});l.d(t,"d",function(){return k});
x=l(15);var y=function(z,q,m){return m.indexOf(z)===q},u=Object(x.a)(function(z,q){var m={};return q.filter(function(e){return!m[e[z]]&&(m[e[z]]=!0,!0)})}),E=function(z,q){return z.length===q.length&&z.reduce(function(m,e){return m&&-1<q.indexOf(e)},!0)}}})})},"arcgis-components/Share/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/i18n!../Share/nls/resources ../Loaders/LoaderBars ../GroupBrowser/index ../Modals/Overlay".split(" "),function(U,M,r,x,t,l){return function(f){function g(y){if(k[y])return k[y].exports;
var u=k[y]={i:y,l:!1,exports:{}};return f[y].call(u.exports,u,u.exports,g),u.l=!0,u.exports}var k={};return g.m=f,g.c=k,g.d=function(y,u,E){g.o(y,u)||Object.defineProperty(y,u,{enumerable:!0,get:E})},g.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},g.t=function(y,u){if((1&u&&(y=g(y)),8&u)||4&u&&"object"==typeof y&&y&&y.__esModule)return y;var E=Object.create(null);if(g.r(E),
Object.defineProperty(E,"default",{enumerable:!0,value:y}),2&u&&"string"!=typeof y)for(var z in y)g.d(E,z,function(q){return y[q]}.bind(null,z));return E},g.n=function(y){var u=y&&y.__esModule?function(){return y["default"]}:function(){return y};return g.d(u,"a",u),u},g.o=function(y,u){return Object.prototype.hasOwnProperty.call(y,u)},g.p="",g(g.s=877)}({0:function(f,g,k){function y(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+
" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function u(a,b){var c={},h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&0>b.indexOf(h)&&(c[h]=a[h]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(a);n<h.length;n++)0>b.indexOf(h[n])&&Object.prototype.propertyIsEnumerable.call(a,h[n])&&(c[h[n]]=a[h[n]])}return c}function E(a,b,c,h){var n,p=arguments.length,w=3>p?b:null===h?
h=Object.getOwnPropertyDescriptor(b,c):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(a,b,c,h);else for(var B=a.length-1;0<=B;B--)(n=a[B])&&(w=(3>p?n(w):3<p?n(b,c,w):n(b,c))||w);return 3<p&&w&&Object.defineProperty(b,c,w),w}function z(a,b,c,h){return new (c||(c=Promise))(function(n,p){function w(D){try{A(h.next(D))}catch(F){p(F)}}function B(D){try{A(h["throw"](D))}catch(F){p(F)}}function A(D){var F;D.done?n(D.value):(F=D.value,F instanceof c?F:new c(function(v){v(F)})).then(w,
B)}A((h=h.apply(a,b||[])).next())})}function q(a,b){function c(A){return function(D){return function(F){if(h)throw new TypeError("Generator is already executing.");for(;B;)try{if(h=1,n&&(p=2&F[0]?n["return"]:F[0]?n["throw"]||((p=n["return"])&&p.call(n),0):n.next)&&!(p=p.call(n,F[1])).done)return p;switch(n=0,p&&(F=[2&F[0],p.value]),F[0]){case 0:case 1:p=F;break;case 4:return B.label++,{value:F[1],done:!1};case 5:B.label++;n=F[1];F=[0];continue;case 7:F=B.ops.pop();B.trys.pop();continue;default:if(!(p=
B.trys,(p=0<p.length&&p[p.length-1])||6!==F[0]&&2!==F[0])){B=0;continue}if(3===F[0]&&(!p||F[1]>p[0]&&F[1]<p[3]))B.label=F[1];else if(6===F[0]&&B.label<p[1])B.label=p[1],p=F;else if(p&&B.label<p[2])B.label=p[2],B.ops.push(F);else{p[2]&&B.ops.pop();B.trys.pop();continue}}F=b.call(a,B)}catch(v){F=[6,v],n=0}finally{h=p=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,D])}}var h,n,p,w,B={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return w={next:c(0),"throw":c(1),
"return":c(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function m(a,b){for(var c=0,h=b.length,n=a.length;c<h;c++,n++)a[n]=b[c];return a}k.d(g,"d",function(){return y});k.d(g,"a",function(){return d});k.d(g,"f",function(){return u});k.d(g,"c",function(){return E});k.d(g,"b",function(){return z});k.d(g,"e",function(){return q});k.d(g,"g",function(){return m});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=
h}||function(c,h){for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(c[n]=h[n])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,c=1,h=arguments.length;c<h;c++)for(var n in b=arguments[c])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},101:function(f,g,k){k.d(g,"a",function(){return u});k.d(g,"b",function(){return E});var y=k(0),u=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:
location.protocol+"//"+z.portalHostname:""},E=function(z){return Object(y.a)(Object(y.a)({},z),{baseUrl:u(z)})}},117:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){var q=Object(y.a),m=Object(y.a)({},z),e=z.type,d=z.typeKeywords?z.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,c=!1,h=e=!1;if("ogcfeatureserver"===a)d="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||
"wfs"===a){var n=-1<d.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(h=-1<d.indexOf("Table"),b=-1<d.indexOf("Route Layer"),c=-1<d.indexOf("Markup"),d=(e=-1!==d.indexOf("Spatiotemporal"))&&h?"spatiotemporaltable":h?"table":b?"routelayer":c?"markup":e?"spatiotemporal":n?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?d=n||-1<d.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?d=-1<d.indexOf("Line")?"sceneweblayerline":
-1<d.indexOf("3DObject")?"sceneweblayermultipatch":-1<d.indexOf("Point")?"sceneweblayerpoint":-1<d.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<d.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<d.indexOf("Polygon")?"sceneweblayerpolygon":-1<d.indexOf("Building")?"sceneweblayerbuilding":-1<d.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),d=e?"elevationlayer":d?"tiledimagerylayer":"imagery"):d="stream service"===
a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<d.indexOf("Web Tool")?"tool":"layers"}else d="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<d.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==d?void 0:d.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===
a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<d.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<d.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===
a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===
a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<d.indexOf("Explorer Mapping Application")||-1<d.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===
a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":
"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===
a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return q(m,{iconURI:E+"/"+d+"16.png"})})},120:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){var q=Object(y.a),m=Object(y.a)({},z),e,d,a="notebook"!==(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(d=z.type)||void 0===d?void 0:d.toLowerCase())&&(a="notebook-code-snippet-thumb.png");
d=E.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(z.thumbnail&&(d=E.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),d);return q(m,{thumbURI:e})})},121:function(f,g,k){k.d(g,"a",function(){return E});var y=k(0);f=k(15);var u=function(z,q){return q.description?q.description.replace(/src=('|")js\/jsapi\/esri\//g,function(m){return"src\x3d"+('"'===m[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},E=Object(f.a)(function(z,q){return Object(y.a)(Object(y.a)({},
q),{patchedDescription:u(z,q)})})},122:function(f,g,k){k.d(g,"a",function(){return z});var y=k(0),u=k(124);f=k(15);var E=k(58),z=Object(f.a)(function(q,m){var e=Object(y.a),d=Object(y.a)({},m),a,b=m.type,c=m.typeKeywords||[],h=b,n=(null==q?void 0:q.portalUser)||(null==q?void 0:q.user);if("Feature Service"===b||"Feature Collection"===b){if(h=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",n&&Object(E.d)(m,n)&&-1<(null==c?void 0:
c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",h=h+" ("+(u.a[c]||u.a[c.split("-")[0]]||u.a.en)+")"}else"Image Service"===b?(a=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),h=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?h="Scene Layer":"Scene Package"===b?h="Scene Layer Package":"Stream Service"===b?h="Feature Layer":"Geocoding Service"===b?h="Locator":
"Microsoft Powerpoint"===b?h="Microsoft PowerPoint":"OGCFeatureServer"===b?h="OGC Feature Layer":"GeoJson"===b?h="GeoJSON":"Globe Service"===b?h="Globe Layer":"Vector Tile Service"===b?h="Tile Layer":"netCDF"===b?h="NetCDF":"Map Service"===b?h=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?h=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?h="Big Data File Share":"Web Mapping Application"===
b&&(null==c?0:c.includes("configurableApp"))?h="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?h+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(h+=" (Big Data File Share)"));return e(d,{displayName:h})})},123:function(f,g,k){k.d(g,"a",function(){return E});var y=k(0);f=k(15);var u=function(z,q){var m=[],e=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&
("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?m.push("authoritative"):"deprecated"===z.contentStatus&&m.push("deprecated")),z.origin&&m.push("collaboration"),z.groupDesignations&&-1<z.groupDesignations.indexOf("livingatlas")&&m.push("livingAtlas"),-1<e.indexOf("Requires Credits")?m.push("premium"):-1<e.indexOf("Requires Subscription")&&m.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==q?void 0:q.portalUser)||(null==q?void 0:q.user))&&m.push("publicDataCollection"),
"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&m.push("solution"),q.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&m.push("retiredStoryMap"),function(d){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=d.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(z)&&m.push("retiredApp")),m},E=Object(f.a)(function(z,q){return Object(y.a)(Object(y.a)({},q),{badges:u(q,z)})})},124:function(f,g,k){k.d(g,"a",function(){return y});var y={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(f,g,k){k.d(g,"a",function(){return u});k.d(g,"b",function(){return E});var y=k(0);f=k(15);var u=function(z,q){var m;return q.thumbnail&&(m=z.restUrl+"/community/groups/"+q.id+"/info/"+q.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),m},E=Object(f.a)(function(z,q){return Object(y.a)(Object(y.a)({},q),{thumbURI:u(z,q)})})},137:function(f,g,k){k.d(g,"a",function(){return y});
k.d(g,"d",function(){return z});k.d(g,"c",function(){return q});k.d(g,"e",function(){return m});k.d(g,"f",function(){return e});var y,u=k(0),E=k(25);!function(d){d.LOADING="loading";d.LOADED="loaded";d.FAILED="failed"}(y||(y={}));var z=function(d){var a=d.selectedGroups,b=d.selectorItems;return 0===b.length?Object.keys(a).map(function(c){return a[c].group}):Object.keys(a).filter(function(c){return m(a[c],b)}).map(function(c){return a[c].group})},q=function(d){var a=d.initialSelectedGroups,b=d.selectedGroups,
c=Object.keys(b).map(function(h){return b[h].group.id});return Object.keys(a).map(function(h){return a[h].group.id}).filter(function(h){return 0>c.indexOf(h)}).map(function(h){return a[h].group})},m=function(d,a){return!d.selectedByIds||d.selectedByIds.length===a.length},e={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:y.LOADING,total:0,hasGroups:!0};g.b=function(d,a){switch(void 0===d&&(d=e),a.type){case E.a.DESELECT_GROUPS:return Object(u.a)(Object(u.a)({},
d),{selectedGroups:a.payload.reduce(function(h,n){var p=n.id;h[p];return Object(u.f)(h,["symbol"==typeof p?p:p+""])},d.selectedGroups)});case E.a.REVERT_GROUPS:return a.payload?Object(u.a)(Object(u.a)({},d),{selectedGroups:a.payload.reduce(function(h,n){var p;if(d.initialSelectedGroups[n.id])return Object(u.a)(Object(u.a)({},h),((p={})[n.id]=d.initialSelectedGroups[n.id],p));p=n.id;h[p];return Object(u.f)(h,["symbol"==typeof p?p:p+""])},d.selectedGroups)}):Object(u.a)(Object(u.a)({},d),{selectedGroups:Object(u.a)({},
d.initialSelectedGroups)});case E.a.SELECT_GROUPS:var b=d.selectorItems.map(function(h){return h.id});return Object(u.a)(Object(u.a)({},d),{selectedGroups:a.payload.reduce(function(h,n){var p;return Object(u.a)(Object(u.a)({},h),((p={})[n.group.id]=Object(u.a)({selectedByIds:b},n),p))},d.selectedGroups)});case E.a.SET_INITIAL_GROUPS:var c=a.payload.reduce(function(h,n){var p;return Object(u.a)(Object(u.a)({},h),((p={})[n.group.id]=n,p))},{});return Object(u.a)(Object(u.a)({},d),{selectedGroups:c,
initialSelectedGroups:Object(u.a)({},c)});case E.a.SET_SELECTOR_ITEMS:return Object(u.a)(Object(u.a)({},d),{selectorItems:a.payload});case E.a.CLEAR_SELECTION:return Object(u.a)(Object(u.a)({},d),{selectedGroups:{}});case E.a.LOADING_GROUPS:return Object(u.a)(Object(u.a)({},d),{status:y.LOADING});case E.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},d),{displayGroups:a.payload.results,total:a.payload.total,status:y.LOADED});case E.a.LOAD_GROUPS_FAIL:return Object(u.a)(Object(u.a)({},d),{displayGroups:[],
status:y.FAILED});case E.a.SET_HAS_GROUPS:return Object(u.a)(Object(u.a)({},d),{hasGroups:a.payload});default:return d}}},139:function(f,g,k){function y(aa,ea){var ka=ea(),ma=ka.utilities.request,sa=ka.resources;ka=sa.selectedOptions;var za=sa.selectedOptionsDirty;sa=Object(p.b)(sa.items);ka=za&&ka["public"]===ka.total;aa(G(D.a.LOADING));0<sa.length&&ka?Object(p.a)({items:sa,request:ma}).then(function(ha){ha.length?(ha=ha.some(function(V){return-1===V.typeKeywords.indexOf("Public Data Collection")}),
aa(v(ha?D.c.PUBLIC_DATA_COLLECTION_DISABLED:D.c.PUBLIC_DATA_COLLECTION_ENABLED))):aa(u)})["catch"](function(){aa(u)}):aa(u)}function u(aa,ea){var ka=ea(),ma=ka.utilities,sa=ma.portal,za=ma.request,ha=ma.onComplete;ma=ka.resources;var V=ma.items,la=ma.selectedOptions,T=ma.portalUser;ma=ka.gbState.groups;ka=ma.selectedGroups;ma=ma.initialSelectedGroups;var P=Object(b.d)({selectedGroups:ka,selectorItems:V});ka=Object(b.c)({initialSelectedGroups:ma,selectedGroups:ka});var I=[];Object(c.h)({items:V,groups:ka,
portalUser:T,restUrl:sa.restUrl,request:za}).then(function(){return Object(c.g)({items:V,groups:P,portalUser:T,request:za,restUrl:sa.restUrl,selectedOptions:la})})["catch"](function(ba){ba.results?I=I.concat(Object(w.a)(ba.results,V)):ba.message&&I.push({error:ba})}).then(function(){return aa(K)}).then(function(){var ba=ea().resources,W=ba.items,ca=ba.dependentItems,Q=ca.needGroupSharingUpdate,N=ca.notEditable,S=ca.premium,Y=ca.needPubliclyEditableWarning,Z=ca.needEditableWarning,da=ca.needDataCollectionEnabled,
fa=ca.needGroupDependentApplicationWarning,ia=ca.needBDFSDatastoreUpdate,na=ba.selectedOptions,qa=(ba=ba.selectedOptionsDirty)&&na["public"]===na.total;0!==ca.needShareLevelUpdate.length||0!==Q.length||0!==N.length||0!==S.length||0!==Y.length||0!==Z.length||0!==da.length||0!==fa.length&&qa||0!==ia.length||0!==Object(c.c)(W,na,ba).length?aa({type:m.SET_CURRENT_VIEW,payload:D.a.DEPENDENT_ITEM_CONFIRMATION}):ha(0<I.length?{errors:I,selectedOptions:na}:{selectedOptions:na})})["catch"](console.error)}
function E(aa){return aa.filter(function(ea){return-1===ea.typeKeywords.indexOf("bigDataFileShare")})}function z(aa,ea){var ka=ea(),ma=ka.utilities,sa=ma.portal,za=ma.request,ha=ma.onComplete;ma=ka.resources;var V=ma.dependentItems,la=V.needBDFSDatastoreUpdate,T=V.needShareLevelUpdate,P=V.needGroupSharingUpdate,I=V.needEditableWarning,ba=ma.selectedOptions;ma=ma.portalUser;V=ka.gbState.groups;ka=V.selectedGroups;var W=V.selectorItems;if(0!==la.length||0!==T.length||0!==P.length||0!==I.length){V=Object(c.g)({items:E(la),
groups:[],portalUser:ma,request:za,restUrl:sa.restUrl,selectedOptions:ba});var ca=Object(c.g)({items:Object(e.g)(Object(e.g)([],E(T)),I),groups:[],portalUser:ma,request:za,restUrl:sa.restUrl,selectedOptions:ba});sa=Object(c.g)({items:P,groups:Object(b.d)({selectedGroups:ka,selectorItems:W}),portalUser:ma,request:za,restUrl:sa.restUrl,selectedOptions:ba,ignoreShareLevel:!0});h.Promise.all([V,ca,sa]).then(function(){var Q=Object(e.g)(Object(e.g)(Object(e.g)(Object(e.g)([],la),T),P),I),N=Q.map(function(S){return S.id});
Q=Q.filter(function(S,Y){return N.indexOf(S.id)===Y});ha({dependentItems:Q,selectedOptions:ba})})["catch"](function(Q){throw Q;})}else ha({selectedOptions:ba})}function q(aa,ea){switch(ea().resources.currentMiniDlg){case D.c.OPEN_GROUP_BROWSER:aa(F(D.b["public"]));aa(G(D.a.GROUP_BROWSER));break;case D.c.REVERT_SHARE_LEVEL:aa({type:m.SET_INITIAL_SHARE_LEVEL});aa(Object(a.c)());break;case D.c.REVERT_GROUPS:aa(F(D.b["public"]));aa(Object(a.c)());break;case D.c.EDITABLE_LAYERS:aa(u);break;case D.c.SET_SHARE_TO_PRIVATE:aa(F(D.b["private"]));
aa(Object(a.a)());break;case D.c.PUBLIC_DATA_COLLECTION_DISABLED:aa(G(D.a.SHARE));break;case D.c.PUBLIC_DATA_COLLECTION_ENABLED:aa(u)}aa({type:m.SET_MINI_DIALOG,payload:D.c.NONE})}k.d(g,"a",function(){return m});k.d(g,"k",function(){return v});k.d(g,"g",function(){return C});k.d(g,"j",function(){return G});k.d(g,"d",function(){return y});k.d(g,"i",function(){return z});k.d(g,"h",function(){return q});k.d(g,"c",function(){return L});k.d(g,"b",function(){return J});k.d(g,"e",function(){return R});k.d(g,
"f",function(){return X});var m,e=k(0),d=k(177),a=k(144),b=k(137),c=k(61),h=k(28),n=k(335),p=k(194),w=k(379),B=k(51),A=k(58),D=k(26);!function(aa){aa.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";aa.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";aa.SET_CURRENT_VIEW="SET_CURRENT_VIEW";aa.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";aa.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";aa.SET_MINI_DIALOG="SET_MINI_DIALOG";aa.SET_SHARE_MODE="SET_SHARE_MODE";aa.SET_USER_TYPE="SET_USER_TYPE";aa.SET_HELP_MAP=
"SET_HELP_MAP"}(m||(m={}));var F=function(aa){return{type:m.SET_SELECTED_SHARE_LEVEL,payload:aa}},v=function(aa){return{type:m.SET_MINI_DIALOG,payload:aa}},C=function(){return function(aa,ea){var ka=ea(),ma=ka.utilities,sa=ma.portal,za=ma.request;ma=ka.resources.items;ka=H(ka);var ha=sa.urlKey||sa.isPortal?D.e.ORG:D.e.PUBLIC;aa({type:m.SET_INITIAL_SHARE_LEVEL});aa({type:m.SET_SHARE_MODE,payload:ka});aa({type:m.SET_USER_TYPE,payload:ha});aa(Object(d.a)({selectorItems:ma,anySelectorItemsPrivate:0<ea().resources.selectedOptions[D.b["private"]],
shareMode:ka,userType:ha})).then(function(){return Object(c.a)(sa,za)}).then(function(V){aa({type:m.SET_HELP_MAP,payload:V});aa(G(D.a.SHARE))})}},G=function(aa){return function(ea){ea({type:m.SET_CURRENT_VIEW,payload:aa})}},H=function(aa){var ea=aa.resources,ka=ea.items;ea=ea.portalUser;aa=aa.utilities.portal;var ma=ka[0];if(Object(A.d)(ma,ea))return D.d.DEFAULT;ma=!ma.orgId||ma.orgId===ea.orgId;return Object(B.h)({items:ka,user:ea,portal:aa})&&ma?D.d.ADMIN:D.d.GROUP},K=function(aa,ea){var ka=ea(),
ma=ka.resources,sa=ma.selectedOptions,za=ka.utilities,ha=za.portal,V=za.request,la=za.iconDir;ka=ka.gbState.groups;var T=ka.selectedGroups,P=ka.selectorItems;ma=ma.items.map(function(I){return Object(n.b)({item:I,portal:ha,request:V,iconDir:la})});return h.Promise.all(ma).then(function(I){return O({dependentItems:I,selectedGroups:T,selectorItems:P,selectedOptions:sa,request:V,portal:ha})}).then(function(I){aa({type:m.SET_DEPENDENT_ITEMS,payload:I})})},O=function(aa){var ea=aa.dependentItems,ka=aa.selectedGroups,
ma=aa.selectorItems,sa=aa.selectedOptions,za=aa.request,ha=aa.portal;return new h.Promise(function(V,la){var T=Object(c.b)(ea).filter(function(ba){return ba}),P=T.map(function(ba){return ba.id}),I=T.filter(function(ba,W){return P.indexOf(ba.id)===W});h.Promise.all(I.map(function(ba){return Object(n.a)({item:ba,selectedOptions:sa,selectedGroups:Object(b.d)({selectedGroups:ka,selectorItems:ma}),request:za,portal:ha})})).then(function(ba){var W=[],ca=[],Q=[],N=[],S=[],Y=[],Z=[],da=[],fa=[],ia=!Object(c.e)(sa)&&
Object(c.d)(sa)===D.b["public"];ba.forEach(function(na,qa){var ua=I[qa];if(na.premium)N.push(ua);else if(na.groupDependentApplication)da.push(ua);else{if(!na.bdfsDatastore)return ia&&na.editable&&Object(p.c)(ua)&&ua.isUpdateLayer?ua.access===D.b["public"]?void Y.push(ua):-1<ua.typeKeywords.indexOf("Public Data Collection")?void S.push(ua):void Z.push(ua):void((na.needsShareLevelUpdate||na.needsGroupSharingUpdate)&&(na.editable?(na.needsShareLevelUpdate&&ca.push(ua),na.needsGroupSharingUpdate&&W.push(ua)):
Q.push(ua)));fa.push(ua)}});V({needGroupSharingUpdate:W,needShareLevelUpdate:ca,notEditable:Q,premium:N,needPubliclyEditableWarning:Y,needEditableWarning:S,needDataCollectionEnabled:Z,needGroupDependentApplicationWarning:da,needBDFSDatastoreUpdate:fa})})["catch"](function(ba){throw ba;})})},L=function(aa,ea){var ka=ea(),ma=ka.gbState.groups.initialSelectedGroups,sa=ka.resources.selectedOptions;ka.config.userType===D.e.PUBLIC&&0<sa["private"]&&0<Object.keys(ma).length?aa(v(D.c.REVERT_GROUPS)):aa(Object(a.c)())},
J=function(aa,ea){var ka=ea(),ma=ka.resources,sa=ma.portalUser;ma=ma.selectedOptions;Object(B.k)(ka.utilities.portal)||Object(B.a)(sa)||!Object(c.e)(ma)&&Object(c.d)(ma)!==D.b["private"]?aa(G(D.a.GROUP_BROWSER)):aa(v(D.c.OPEN_GROUP_BROWSER))},R=function(aa,ea){var ka=ea(),ma=ka.resources,sa=ma.portalUser;ma=ma.items;var za=ka.gbState.groups.selectedGroups;Object(B.k)(ka.utilities.portal)||Object(B.b)(sa)||!Object(p.d)({items:ma,groupDatas:Object.keys(za).map(function(ha){return za[ha]})})?aa({type:m.SET_INITIAL_SHARE_LEVEL}):
aa(v(D.c.REVERT_SHARE_LEVEL))},X=function(aa){return function(ea,ka){var ma=ka(),sa=ma.resources.portalUser,za=ma.gbState.groups.selectedGroups;!Object(B.k)(ma.utilities.portal)&&!Object(B.b)(sa)&&aa===D.b["private"]&&0<Object.keys(za).length?ea(v(D.c.SET_SHARE_TO_PRIVATE)):ea(F(aa))}}},144:function(f,g,k){k.d(g,"d",function(){return q});k.d(g,"e",function(){return m});k.d(g,"b",function(){return e});k.d(g,"c",function(){return d});k.d(g,"a",function(){return a});k.d(g,"f",function(){return b});var y=
k(0),u=k(181),E=k(163),z=k(68),q=function(c){return 1<c.length&&Object(E.a)(),{type:z.a.SELECT_GROUPS,payload:c.map(function(h){return{group:Object(u.c)(h)}})}},m=function(c){return{type:z.a.SET_INITIAL_GROUPS,payload:c.map(function(h){return Object(y.a)(Object(y.a)({},h),{group:Object(u.c)(h.group)})})}},e=function(c){return 1<c.length&&Object(E.b)(),{type:z.a.DESELECT_GROUPS,payload:c}},d=function(c){return{type:z.a.REVERT_GROUPS,payload:c}},a=function(){return Object(E.c)(),{type:z.a.CLEAR_SELECTION}},
b=function(c){return{type:z.a.SET_SELECTOR_ITEMS,payload:c}}},148:function(f,g,k){k.d(g,"a",function(){return u});var y=k(0);f=k(15);var u=Object(f.a)(function(E,z){var q=Object(y.a),m=Object(y.a)({},z);var e=z.thumbnail?E.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:""):void 0;return q(m,{thumbURI:e})})},15:function(f,g,k){function y(E){return function q(){for(var m=this,e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];return e.length>=
E.length?E.call.apply(E,Object(u.g)([this],e)):function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return q.call.apply(q,Object(u.g)(Object(u.g)([m],e),a))}}}k.d(g,"a",function(){return y});var u=k(0)},159:function(f,g,k){k.d(g,"b",function(){return c});k.d(g,"a",function(){return n});var y=k(0),u=k(181),E=k(30),z=k(163),q=k(54),m=k(68),e=k(28),d=k(61),a=k(38),b=k(26),c=function(C,G){h(G()).then(function(H){var K=G();K=Object(q.b)(K)?K:K.gbState;var O=K.utils;K.ui.focus.focusSelectAll&&
Object(z.c)();C({type:m.a.LOAD_GROUPS_SUCCESS,payload:Object(y.a)(Object(y.a)({},H),{results:H.results.map(function(L){return Object(u.b)(O.portal,L)})})})})["catch"](function(H){var K=G();(Object(q.b)(K)?K:K.gbState).ui.focus.focusSelectAll&&Object(z.c)();C({type:m.a.LOAD_GROUPS_FAIL,payload:H})})},h=function(C){C=Object(q.b)(C)?C:C.gbState;var G=C.utils,H=G.request,K=G.portal,O=C.config;G=O.groupsPerPage;var L=O.withinShare,J=(O.withinAppConfig,C.parameters);O=J.filter;J=J.sort;var R=C.ui.page.currentPageNumber,
X={q:v(C),num:G,sortField:J.field,sortOrder:J.order,start:(R-1)*G+1};return L&&(X.searchUserAccess="groupMember",X.searchUserName=O.currentUsername),O.designationFilter!==a.b.orgSettings||B(K)?new e.Promise(function(aa,ea){Object(E.g)(H,K,X).then(aa,ea)}):new e.Promise(function(aa){aa({query:X.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},n=function(C){var G=C.user;C=C.state;C=Object(q.b)(C)?C:C.gbState;var H=C.utils,K=H.request,O=H.portal;C=Object(y.a)(Object(y.a)({},C),{parameters:Object(y.a)(Object(y.a)({},
C.parameters),{filter:Object(y.a)(Object(y.a)({},C.parameters.filter),{currentUsername:G.username})})});var L={q:v(C),num:100,searchUserAccess:"groupMember",searchUserName:G.username};return(new e.Promise(function(J,R){return Object(E.g)(K,O,L).then(function(X){if(-1!==X.nextStart){var aa=Math.ceil(X.total/100)-1,ea=[X.results];X=function(ma){ea.push(new e.Promise(function(sa,za){var ha=100*(ma+1)+1;Object(E.g)(K,O,Object(y.a)(Object(y.a)({},L),{start:ha})).then(function(V){sa(V.results)},za)}))};
for(var ka=0;ka<aa;ka++)X(ka);e.Promise.all(ea).then(function(ma){J(Object(d.b)(ma))})}else J(X.results)},R)}))["catch"](function(J){throw J;})},p=function(C){var G,H=C.shareMode,K=C.currentUsername,O=C.portalUser;C=C.userGroups;var L=[];switch(C&&C.forEach(function(J){var R,X=null===(R=J.userMembership)||void 0===R?void 0:R.memberType;!J.isViewOnly||"owner"!==X&&"admin"!==X||L.push(J.id)}),L.length&&(G="(isviewonly:false OR "+L.join(" OR ")+")"),H){case b.d.DEFAULT:return G||"(owner:"+K+" OR isviewonly:false)";
case b.d.GROUP:return"owner:"+K+" -capabilities:updateitemcontrol";case b.d.ADMIN:return O.username===K?"(isviewonly:false OR owner:"+O.username+") -capabilities:updateitemcontrol":"(owner:"+K+" OR isviewonly:false)";default:return""}},w=function(C,G){0!==(null==C?void 0:C.indexOf("id:"))||-1<G.indexOf(C)||G.push(C)},B=function(C){var G,H,K,O,L,J=[],R=[C.featuredItemsGroupQuery,C.basemapGalleryGroupQuery,C.templatesGroupQuery,C["2DStylesGroupQuery"],C.stylesGroupQuery,C.analysisLayersGroupQuery,C.galleryTemplatesGroupQuery];
if(C.hasModernHomePageEnabled){var X=(null===(H=null===(G=C.homePageConfig)||void 0===G?void 0:G.content)||void 0===H?void 0:H.filter(function(aa){return"gallery"===aa.type&&!!aa.groupId}))||[];0<X.length&&X.forEach(function(aa){w("id:"+aa.groupId,J)})}else R.push(C.homePageFeaturedContent);return R.forEach(function(aa){w(aa,J)}),null===(K=C.featuredGroups)||void 0===K||K.forEach(function(aa){(aa=aa.id)&&w("id:"+aa,J)}),null===(L=null===(O=C.userDefaults)||void 0===O?void 0:O.groups)||void 0===L||
L.forEach(function(aa){w("id:"+aa,J)}),0<J.length?"("+J.join(" OR ")+")":""},A=function(C){var G=C.portal;switch(C.designationFilter){case a.b.openData:return"isopendata:true";case a.b.updateGroups:return"capabilities:updateitemcontrol";case a.b.distributed:return"capabilities:distributed";case a.b.administrative:return"isleavingdisallowed:true";case a.b.orgSettings:return B(G)||"";default:return""}},D=function(C){var G=C.portal,H=C.username,K=C.currentUsername,O=C.userType,L=C.withinAppConfig;H=
C.shareMode===b.d.ADMIN&&K||H;L=G.isPortal&&L?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(C.ownerFilter){case a.d.itemOwner:return"owner:"+H+" "+L;case a.d.inOrg:return"-owner:"+H+" orgid:"+G.id+" "+L;case a.d.outsideOrg:return O===b.e.PUBLIC?"-owner:"+H+" "+L:"(orgid: [0 TO \\{]) -orgid:"+G.id+" "+L;default:return L}},F=function(C){return C?"created: ["+(G=C).start+" TO "+G.end+"]":"";var G},v=function(C){var G=C.utils,H=G.portal;G=G.portalUser;var K=C.config,
O=K.shareMode,L=K.userType,J=K.withinAppConfig,R=K.hasIndoorsSpaces;C=C.parameters.filter;var X=C.designationFilter,aa=C.membershipFilter,ea=C.dateCreatedFilter,ka=C.currentUsername,ma=C.ownerFilter;return[K.baseQ+" "+C.searchString,p({shareMode:O,currentUsername:ka,portalUser:G,userGroups:K.userGroups}),R?"-capabilities:distributed":A({designationFilter:X,portal:H}),R?"membershipaccess:org":aa?"anyOrg"===aa?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+aa:"",F(ea),D({ownerFilter:ma,
portal:H,username:G.username,currentUsername:ka,shareMode:O,userType:L,withinAppConfig:J})].filter(function(sa){return sa}).join(" ").trim()}},16:function(f,g){f.exports=U},163:function(f,g,k){function y(){z("gb__select-all-input")}function u(){z("gb__clear-selection-btn")}function E(){setTimeout(function(){var q=document.querySelector(".gcard-gcc__container");q&&(q=q.querySelector(".btn-2018check__input"))&&q.focus()},50)}function z(q){setTimeout(function(){var m=document.querySelector("#"+q);m&&
m.focus()},50)}k.d(g,"c",function(){return y});k.d(g,"a",function(){return u});k.d(g,"b",function(){return E})},170:function(f,g){var k=function(){return this}();try{k=k||(new Function("return this"))()}catch(y){"object"==typeof window&&(k=window)}f.exports=k},175:function(f,g,k){var y;k.d(g,"a",function(){return y});(y||(y={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(f,g,k){k.d(g,"a",function(){return w});var y=k(0),u=k(54),E=k(144),z=k(159),q=k(313),m=k(314),e=k(186),d=k(30),a=k(28),
b=k(25),c=k(61),h=k(68),n=k(192),p=k(58),w=function(A){return function(D,F){var v=F(),C=(Object(u.b)(v)?v:v.gbState).utils,G=C.portal;C=C.portalUser;if(!(A&&A.selectorItems&&0<A.selectorItems.length))return D(z.b),a.Promise.resolve();var H=A.selectorItems,K=A.userType;D({type:b.a.SET_SHARE_MODE,payload:A.shareMode});D({type:b.a.SET_USER_TYPE,payload:K});D(Object(E.f)(H));G=Object(p.b)({user:C,items:H,portal:G});var O=C.username===G.username?[C]:[C,G];return 1<O.length&&!A.anySelectorItemsPrivate&&
D({type:b.a.ENABLE_USER_TOGGLE}),D(Object(e.c)(O)),D(Object(e.h)(G.username)),void 0===v.config.hasTrustedOrgs&&D(q.a),Object(m.a)(F()).then(function(L){return L&&D({type:n.a.USER_DETAILS_LOADED,payload:L.groups}),D(z.b),a.Promise.all(O.map(function(J){return Object(z.a)({user:J,state:F()})})).then(function(J){J=Object(c.b)(J);var R=J.map(function(X){return X.id});J=J.filter(function(X,aa){return R.indexOf(X.id)===aa});return D(B(J))})})}},B=function(A){return function(D,F){return new a.Promise(function(v,
C){var G=F();G=Object(u.b)(G)?G:G.gbState;var H=G.utils,K=H.portal,O=H.request,L=Object(d.b)(G.groups.selectorItems);G=Object(d.a)(A).map(function(J){return Object(d.i)({itemIds:L,groupIds:Object(d.b)(J),portal:K,request:O})});a.Promise.all(G).then(function(J){var R=J.reduce(function(aa,ea){return Object(y.a)(Object(y.a)({},aa),ea)},{}),X=Object.keys(R);J=A.filter(function(aa){return 0<=X.indexOf(aa.id)}).map(function(aa){return{group:aa,selectedByIds:R[aa.id].items.map(function(ea){return ea.itemId})}});
D({type:h.a.SET_HAS_GROUPS,payload:0<A.length});D(Object(E.e)(J));v()})["catch"](C)})}}},181:function(f,g,k){k.d(g,"b",function(){return z});k.d(g,"c",function(){return q});k.d(g,"a",function(){return m});var y=k(63);f=k(5);var u=k(99),E=k(128),z=function(e,d){return Object(y.a)(Object(E.b)(e))(d)},q=Object(y.a)(Object(f.e)("thumbURI")),m=function(e){var d=e.initialSelectedByIds;return!Object(u.a)(e.selectedBy.map(function(a){return a.id}),d)}},186:function(f,g,k){k.d(g,"b",function(){return u});
k.d(g,"g",function(){return E});k.d(g,"h",function(){return z});k.d(g,"e",function(){return q});k.d(g,"f",function(){return m});k.d(g,"d",function(){return e});k.d(g,"c",function(){return d});k.d(g,"a",function(){return a});var y=k(83),u=function(b){return{type:y.a.SET_SEARCH_STRING,payload:b}},E=function(b){return{type:y.a.UPDATE_OWNER_FILTER,payload:b}},z=function(b){return{type:y.a.UPDATE_USERNAME_FILTER,payload:b}},q=function(b){return{type:y.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:b}},m=function(b){return{type:y.a.UPDATE_MEMBERSHIP_FILTER,
payload:b}},e=function(b){return{type:y.a.UPDATE_CREATED_ON_FILTER,payload:{section:b.section,created:b.created}}},d=function(b){return{type:y.a.SET_USERS,payload:b}},a=function(b){return{type:y.a.CLEAR_FILTERS,payload:b}}},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function y(){throw Error("clearTimeout has not been defined");}function u(p){if(d===setTimeout)return setTimeout(p,0);if((d===k||!d)&&setTimeout)return d=setTimeout,setTimeout(p,0);try{return d(p,0)}catch(w){try{return d.call(null,
p,0)}catch(B){return d.call(this,p,0)}}}function E(){h&&b&&(h=!1,b.length?c=b.concat(c):n=-1,c.length&&z())}function z(){if(!h){var p=u(E);h=!0;for(var w=c.length;w;){b=c;for(c=[];++n<w;)b&&b[n].run();n=-1;w=c.length}b=null;h=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===y||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(A){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(p)}}function q(p,w){this.fun=p;this.array=w}function m(){}var e=f.exports=
{};try{var d="function"==typeof setTimeout?setTimeout:k}catch(p){d=k}try{var a="function"==typeof clearTimeout?clearTimeout:y}catch(p){a=y}!0;var b,c=[],h=!1,n=-1;e.nextTick=function(p){var w=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)w[B-1]=arguments[B];c.push(new q(p,w));1!==c.length||h||u(z)};q.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions={};e.on=m;e.addListener=m;e.once=
m;e.off=m;e.removeListener=m;e.removeAllListeners=m;e.emit=m;e.prependListener=m;e.prependOnceListener=m;e.listeners=function(p){return[]};e.binding=function(p){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(p){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},192:function(f,g,k){var y;k.d(g,"a",function(){return y});(y||(y={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(f,g,k){function y(a){return"Feature Service"===
a.type&&-1<a.typeKeywords.indexOf("Hosted Service")}function u(a){return a.filter(function(b){return b.access!==m.b["public"]&&y(b)})}function E(a){var b=a.request;a=a.items.map(function(c){return function(h,n){return new z.Promise(function(p){y(h)?Object(q.v)(n,h.url+"/layers").then(function(w){w=w.layers;p((null==w?void 0:w.reduce(function(B,A){return B||A&&-1<A.capabilities.indexOf("Editing")},!1))&&h)},function(){return p(!1)}):p(!1)})}(c,b)});return z.Promise.all(a).then(function(c){return c.filter(function(h){return h})})}
k.d(g,"d",function(){return e});k.d(g,"c",function(){return y});k.d(g,"b",function(){return u});k.d(g,"a",function(){return E});var z=k(28),q=k(30),m=k(26),e=function(a){var b=a.groupDatas;return a.items.filter(function(c){c=c.access?c.access:c.sharing&&c.sharing.access;return c===m.b["private"]||c===m.b.shared}).reduce(function(c,h){return c||d({item:h,groupDatas:b})},!1)},d=function(a){var b=a.item;return a.groupDatas.reduce(function(c,h){return c||!!h.selectedByIds&&0<=h.selectedByIds.indexOf(b.id)},
!1)}},204:function(f,g,k){var y;k.d(g,"a",function(){return y});(function(u){u.SET_PAGE="SET_PAGE";u.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";u.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(y||(y={}))},205:function(f,g){f.exports=x},207:function(f,g,k){k.d(g,"b",function(){return E});var y=k(0),u=k(25),E={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};g.a=function(z,q){switch(void 0===z&&(z=
E),q.type){case u.a.ENABLE_USER_TOGGLE:return Object(y.a)(Object(y.a)({},z),{enableUserToggle:!0});case u.a.SET_SHARE_MODE:return Object(y.a)(Object(y.a)({},z),{shareMode:q.payload});case u.a.SET_USER_TYPE:return Object(y.a)(Object(y.a)({},z),{userType:q.payload});case u.a.TRUSTED_ORGS_LOADED:return Object(y.a)(Object(y.a)({},z),{hasTrustedOrgs:0<q.payload.length});case u.a.USER_DETAILS_LOADED:return Object(y.a)(Object(y.a)({},z),{userGroups:q.payload});case u.a.SET_SELECTOR_ITEMS:var m=!!q.payload.find(function(e){var d;
return-1<(null===(d=null==e?void 0:e.typeKeywords)||void 0===d?void 0:d.indexOf("EditExtensionIndoorsSpaces"))});return Object(y.a)(Object(y.a)({},z),{hasIndoorsSpaces:m});default:return z}}},208:function(f,g,k){k.d(g,"b",function(){return u});f=k(16);var y=k(209);k=k(38);var u={sort:y.b,filter:k.f};g.a=Object(f.combineReducers)({sort:y.a,filter:k.e})},209:function(f,g,k){k.d(g,"b",function(){return E});var y=k(0),u=k(25),E={field:"title",order:"asc"},z={relevance:"desc",title:"asc",created:"desc",
owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};g.a=function(q,m){switch(void 0===q&&(q=E),m.type){case u.a.CHANGE_SORT_FIELD:return Object(y.a)(Object(y.a)({},q),{field:m.payload,order:z[m.payload]});case u.a.CHANGE_SORT_ORDER:return Object(y.a)(Object(y.a)({},q),{order:m.payload});default:return q}}},210:function(f,g,k){k.d(g,"b",function(){return z});f=k(16);var y=k(211),u=k(212),E=k(213);k=k(214);var z={page:y.b,sort:u.b,focus:E.b,filter:k.b};g.a=Object(f.combineReducers)({page:y.a,
sort:u.a,focus:E.a,filter:k.a})},211:function(f,g,k){k.d(g,"b",function(){return E});var y=k(0),u=k(25),E={currentPageNumber:1};g.a=function(z,q){switch(void 0===z&&(z=E),q.type){case u.a.CLEAR_FILTERS:case u.a.UPDATE_USERNAME_FILTER:case u.a.UPDATE_OWNER_FILTER:case u.a.UPDATE_CREATED_ON_FILTER:case u.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(y.a)(Object(y.a)({},z),{currentPageNumber:1});case u.a.SET_PAGE:return Object(y.a)(Object(y.a)({},z),{currentPageNumber:q.payload});case u.a.LOAD_GROUPS_SUCCESS:return Object(y.a)(Object(y.a)({},
z),{currentPageNumber:q.payload.num>q.payload.total?1:Math.ceil(q.payload.start/q.payload.num)});case u.a.LOAD_GROUPS_FAIL:return Object(y.a)(Object(y.a)({},z),{currentPageNumber:1});default:return z}}},212:function(f,g,k){k.d(g,"b",function(){return u});var y=k(25),u=!1;g.a=function(E,z){switch(void 0===E&&(E=u),z.type){case y.a.CHANGE_SORT_FIELD:case y.a.CHANGE_SORT_ORDER:case y.a.TOGGLE_SORT_DROPDOWN:return!E;default:return E}}},213:function(f,g,k){k.d(g,"b",function(){return E});var y=k(0),u=
k(25),E={focusSelectAll:!1};g.a=function(z,q){switch(q.type){case u.a.LOAD_GROUPS_FAIL:case u.a.LOAD_GROUPS_SUCCESS:return Object(y.a)(Object(y.a)({},z),{focusSelectAll:!1});case u.a.CHANGE_SORT_FIELD:case u.a.CHANGE_SORT_ORDER:return Object(y.a)(Object(y.a)({},z),{focusSelectAll:!0});default:return z}}},214:function(f,g,k){k.d(g,"b",function(){return z});var y=k(0),u=k(25),E=k(38),z={expanded:!1};g.a=function(q,m){switch(m.type){case u.a.CLEAR_FILTERS:switch(m.payload){case void 0:case E.a.DATE_CREATED:return Object(y.a)(Object(y.a)({},
q),{dateCreatedSelectedSection:void 0});default:return q}case u.a.TOGGLE_EXPANDED_FILTERS:return Object(y.a)(Object(y.a)({},q),{expanded:!q.expanded});case u.a.UPDATE_CREATED_ON_FILTER:return Object(y.a)(Object(y.a)({},q),{dateCreatedSelectedSection:m.payload.section});default:return q}}},215:function(f,g,k){k.d(g,"b",function(){return u});var y=k(101),u={portal:{},portalUser:{},request:function(E){return null}};g.a=function(E,z){return void 0===E&&(E=u),z.type,E.portal.portalHostname&&!E.portal.baseUrl&&
(E.portal.baseUrl=Object(y.a)(E.portal)),E}},249:function(f,g,k){var y=k(128);g.a=function(u,E){var z=u.group,q=u.stacked,m=u.portal;q={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!z.thumbURI,"gcard-thumbnail--stacked":void 0!==q&&q,"gcard-thumbnail--transparent":u.transparent};if(z.thumbnail&&!z.thumbURI&&m&&(z.thumbURI=Object(y.a)(m,z)),z.thumbURI)return E("img",{src:z.thumbURI,classes:q,alt:z.title});m=!(!z.title.charAt(0)||!z.title.charAt(0).match(/^\w+$/));return E("div",
{key:"group-thumbnail-"+z.id,classes:q},E("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},E("path",{fill:"#"+z.id.substr(z.id.length-6),d:"M0 0h65v65H0z"}),E("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),m?E("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},z.title.slice(0,1).toUpperCase()):E("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(f,g,k){k.d(g,"a",function(){return q});var y;f=k(0);g=k(204);var u=k(68),E=k(175),z=k(83);k=k(192);!function(m){m.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";m.SET_SHARE_MODE="SET_SHARE_MODE";m.SET_USER_TYPE="SET_USER_TYPE"}(y||(y={}));var q=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},g.a),u.a),z.a),y),E.a),k.a)},258:function(f,g){f.exports=t},26:function(f,g,k){var y,u,E,z,q;k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});k.d(g,"c",function(){return E});
k.d(g,"e",function(){return z});k.d(g,"d",function(){return q});(function(m){m.org="org";m["private"]="private";m["public"]="public";m.shared="shared"})(y||(y={}));(function(m){m.LOADING="LOADING";m.SHARE="SHARE";m.GROUP_BROWSER="GROUP_BROWSER";m.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(u||(u={}));(function(m){m.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";m.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";m.REVERT_GROUPS="REVERT_GROUPS";m.EDITABLE_LAYERS="EDITABLE_LAYERS";m.OPEN_GROUP_BROWSER=
"OPEN_GROUP_BROWSER";m.NONE="NONE";m.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";m.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(E||(E={}));(function(m){m.ORG="ORG";m.PUBLIC="PUBLIC"})(z||(z={}));(function(m){m.DEFAULT="DEFAULT";m.ADMIN="ADMIN";m.GROUP="GROUP"})(q||(q={}))},28:function(f,g,k){(function(y,u){f.exports=function(){function E(){var ha=setTimeout;return function(){return ha(z,1)}}function z(){for(var ha=0;ha<D;ha+=2)(0,L[ha])(L[ha+1]),L[ha]=void 0,
L[ha+1]=void 0;D=0}function q(ha,V){var la=this,T=new this.constructor(e);void 0===T[ka]&&B(T);var P=la._state;if(P){var I=arguments[P-1];C(function(){return w(P,T,I,la._result)})}else n(la,T,ha,V);return T}function m(ha){if(ha&&"object"==typeof ha&&ha.constructor===this)return ha;var V=new this(e);return a(V,ha),V}function e(){}function d(ha,V,la){V.constructor===ha.constructor&&la===q&&V.constructor.resolve===m?function(T,P){1===P._state?c(T,P._result):2===P._state?h(T,P._result):n(P,void 0,function(I){return a(T,
I)},function(I){return h(T,I)})}(ha,V):void 0===la?c(ha,V):"function"==typeof la?function(T,P,I){C(function(ba){var W=!1,ca=function(Q,N,S,Y){try{Q.call(N,S,Y)}catch(Z){return Z}}(I,P,function(Q){W||(W=!0,P!==Q?a(ba,Q):c(ba,Q))},function(Q){W||(W=!0,h(ba,Q))},ba._label);!W&&ca&&(W=!0,h(ba,ca))},T)}(ha,V,la):c(ha,V)}function a(ha,V){if(ha===V)h(ha,new TypeError("You cannot resolve a promise with itself"));else if(T=typeof(la=V),null===la||"object"!==T&&"function"!==T)c(ha,V);else{la=void 0;try{la=
V.then}catch(P){return void h(ha,P)}d(ha,V,la)}var la,T}function b(ha){ha._onerror&&ha._onerror(ha._result);p(ha)}function c(ha,V){void 0===ha._state&&(ha._result=V,ha._state=1,0!==ha._subscribers.length&&C(p,ha))}function h(ha,V){void 0===ha._state&&(ha._state=2,ha._result=V,C(b,ha))}function n(ha,V,la,T){var P=ha._subscribers,I=P.length;ha._onerror=null;P[I]=V;P[I+1]=la;P[I+2]=T;0===I&&ha._state&&C(p,ha)}function p(ha){var V=ha._subscribers,la=ha._state;if(0!==V.length){for(var T=void 0,P=void 0,
I=ha._result,ba=0;ba<V.length;ba+=3)T=V[ba],P=V[ba+la],T?w(la,T,P,I):P(I);ha._subscribers.length=0}}function w(ha,V,la,T){var P="function"==typeof la,I=void 0,ba=void 0,W=!0;if(P){try{I=la(T)}catch(ca){W=!1,ba=ca}if(V===I)return void h(V,new TypeError("A promises callback cannot return that same promise."))}else I=T;void 0!==V._state||(P&&W?a(V,I):!1===W?h(V,ba):1===ha?c(V,I):2===ha&&h(V,I))}function B(ha){ha[ka]=ma++;ha._state=void 0;ha._result=void 0;ha._subscribers=[]}var A=Array.isArray?Array.isArray:
function(ha){return"[object Array]"===Object.prototype.toString.call(ha)},D=0,F=void 0,v=void 0,C=function(ha,V){L[D]=ha;L[D+1]=V;2===(D+=2)&&(v?v(z):ea())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var K="undefined"==typeof self&&void 0!==y&&"[object process]"==={}.toString.call(y),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=Array(1E3),J,R,X,aa,ea=void 0;K?ea=function(){return y.nextTick(z)}:
H?(R=0,X=new H(z),aa=document.createTextNode(""),X.observe(aa,{characterData:!0}),ea=function(){aa.data=R=++R%2}):O?((J=new MessageChannel).port1.onmessage=z,ea=function(){return J.port2.postMessage(0)}):ea=void 0===G?function(){try{var ha=Function("return this")().require("vertx");return void 0!==(F=ha.runOnLoop||ha.runOnContext)?function(){F(z)}:E()}catch(V){return E()}}():E();var ka=Math.random().toString(36).substring(2),ma=0,sa=function(){function ha(V,la){this._instanceConstructor=V;this.promise=
new V(e);this.promise[ka]||B(this.promise);A(la)?(this.length=la.length,this._remaining=la.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(la),0===this._remaining&&c(this.promise,this._result))):h(this.promise,Error("Array Methods must be provided an Array"))}return ha.prototype._enumerate=function(V){for(var la=0;void 0===this._state&&la<V.length;la++)this._eachEntry(V[la],la)},ha.prototype._eachEntry=function(V,la){var T=
this._instanceConstructor,P=T.resolve;if(P===m){var I=P=void 0,ba=!1;try{P=V.then}catch(W){ba=!0,I=W}P===q&&void 0!==V._state?this._settledAt(V._state,la,V._result):"function"!=typeof P?(this._remaining--,this._result[la]=V):T===za?(T=new T(e),ba?h(T,I):d(T,V,P),this._willSettleAt(T,la)):this._willSettleAt(new T(function(W){return W(V)}),la)}else this._willSettleAt(P(V),la)},ha.prototype._settledAt=function(V,la,T){var P=this.promise;void 0===P._state&&(this._remaining--,2===V?h(P,T):this._result[la]=
T);0===this._remaining&&c(P,this._result)},ha.prototype._willSettleAt=function(V,la){var T=this;n(V,void 0,function(P){return T._settledAt(1,la,P)},function(P){return T._settledAt(2,la,P)})},ha}(),za=function(){function ha(V){this[ka]=ma++;this._result=this._state=void 0;this._subscribers=[];if(e!==V){if("function"!=typeof V)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ha)(function(la,T){try{T(function(P){a(la,P)},function(P){h(la,
P)})}catch(P){h(la,P)}})(this,V);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ha.prototype["catch"]=function(V){return this.then(null,V)},ha.prototype["finally"]=function(V){var la=this.constructor;return"function"==typeof V?this.then(function(T){return la.resolve(V()).then(function(){return T})},function(T){return la.resolve(V()).then(function(){throw T;})}):this.then(V,V)},ha}();return za.prototype.then=
q,za.all=function(ha){return(new sa(this,ha)).promise},za.race=function(ha){var V=this;return A(ha)?new V(function(la,T){for(var P=ha.length,I=0;I<P;I++)V.resolve(ha[I]).then(la,T)}):new V(function(la,T){return T(new TypeError("You must pass an array to race."))})},za.resolve=m,za.reject=function(ha){var V=new this(e);return h(V,ha),V},za._setScheduler=function(ha){v=ha},za._setAsap=function(ha){C=ha},za._asap=C,za.polyfill=function(){var ha=void 0;if(void 0!==u)ha=u;else if("undefined"!=typeof self)ha=
self;else try{ha=Function("return this")()}catch(T){throw Error("polyfill failed because global object is unavailable in this environment");}var V=ha.Promise;if(V){var la=null;try{la=Object.prototype.toString.call(V.resolve())}catch(T){}if("[object Promise]"===la&&!V.cast)return}ha.Promise=za},za.Promise=za,za}()}).call(this,k(189),k(170))},291:function(f,g,k){var y=k(0);f=k(16);var u=k(634);k=function(E){function z(){return null!==E&&E.apply(this,arguments)||this}return Object(y.d)(z,E),z.prototype.render=
function(q){var m=this.props,e=m.items,d=m.text,a=m.title,b=m.portal;m=m.error;return 0<e.length&&q("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":m}},q("h4",{"class":"dependent-items__title"},a.replace("${num}",e.length.toString())),d&&q("p",{"class":"dependent-items__count"},d),q("ul",{"class":"dependent-items__list"},e.map(function(c){return q(u.a,{key:c.id,item:c,portal:b})})))},z}(f.Component);g.a=k},294:function(f,g){f.exports=l},30:function(f,g,k){function y(L){return L.reduce(function(J,
R){return R&&R.relatedItems?J.concat(R.relatedItems.map(function(X){return X})):J},[])}function u(L,J,R){return L(J,{query:Object(q.a)({f:"json"},R)}).then(function(X){return X.data})}function E(L,J){void 0===J&&(J=100);for(var R=[],X=0;X<Math.ceil(L.length/J);X++)R.push(L.slice(X*J,(X+1)*J));return R.filter(function(aa){return 0<aa.length})}function z(L){var J=L.itemIds,R=L.request,X=L.groupIds,aa=L.portal.restUrl+"/content/itemsgroups";return new m.Promise(function(ea,ka){R(aa,{method:"get",query:{f:"json",
items:J,groups:X}}).then(function(ma){ea(ma.data)},ka)})}k.d(g,"u",function(){return e});k.d(g,"n",function(){return d});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});k.d(g,"j",function(){return h});k.d(g,"o",function(){return n});k.d(g,"l",function(){return p});k.d(g,"k",function(){return w});k.d(g,"m",function(){return B});k.d(g,"c",function(){return A});k.d(g,"d",function(){return D});k.d(g,"r",function(){return F});k.d(g,"s",function(){return v});
k.d(g,"t",function(){return C});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return K});k.d(g,"v",function(){return u});k.d(g,"a",function(){return E});k.d(g,"i",function(){return z});k.d(g,"b",function(){return O});var q=k(0),m=k(28),e=function(L){return function(J,R){return L({url:J,content:R.query},{usePost:"post"===R.method}).then(function(X){return{data:X}})}},d=function(L,J,R){return u(L,J.restUrl+"/portals/self",{culture:R,"default":!0})},a=function(L,
J,R){return u(L,J.restUrl+"/content/items/"+R+"/data")},b=function(L,J,R,X){return u(L,J.restUrl+"/community/groups",Object(q.a)({q:R},X))},c=function(L,J,R){return u(L,J.restUrl+"/community/groups/"+R+"/categorySchema")},h=function(L,J,R){return u(L,J.restUrl+"/portals/"+(R||J.id)+"/categorySchema")},n=function(L,J){return u(L,J.restUrl+"/portals/"+J.id+"/servers")},p=function(L,J,R,X){return L(J.restUrl+"/portals/"+(R||J.id)+"/collaborationsSummary",X)},w=function(L,J,R,X){return L(J.restUrl+"/portals/"+
(R||J.id)+"/collaboratedItems",X)},B=function(L,J,R){return u(L,location.protocol+"//"+J.portalHostname+"/sharing/rest/portals/"+(R||"self"))},A=function(L,J,R){return L(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(X){return X.data.total>X.data.start+X.data.num?A(L,J,X.data.start+X.data.num).then(function(aa){return Object(q.a)(Object(q.a)({},aa),{data:Object(q.a)(Object(q.a)({},aa.data),{results:X.data.results.concat(aa.data.results)})})}):
X})},D=function(L,J,R,X){return L(J.restUrl+"/community/users/"+R+"/provisionedListings",{query:{f:"json",num:100,start:X||1}}).then(function(aa){var ea=m.Promise.all(aa.data.provisionedListings.filter(function(ma){return ma.itemId}).map(function(ma){return(new m.Promise(function(sa,za){L(J.restUrl+"/content/items/"+ma.itemId,{method:"get",query:{f:"json"}}).then(function(ha){sa(ha.data)},za)}))["catch"](function(sa){return 0})})),ka=aa.data.provisionedListings.map(function(ma){return u(L,J.restUrl+
"/content/items/"+(ma.id||ma.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(sa){return sa},function(sa){})});return aa.data.total>aa.data.start+aa.data.num?D(L,J,R,aa.data.start+aa.data.num).then(function(ma){return m.Promise.all([ea].concat(ka)).then(function(sa){return sa[0].results.concat(y(sa.slice(1))).concat(ma)})}):m.Promise.all([ea].concat(ka)).then(function(ma){return ma[0].filter(function(sa){return void 0!==sa}).concat(y(ma.slice(1)))})})},
F=function(L,J,R){return u(L,J.restUrl+"/community/users/"+(R||J.user.username))},v=function(L,J,R){return u(L,J.restUrl+"/content/users/"+(R||J.user.username),{num:1})},C=function(L,J,R){return u(L,J.restUrl+"/content/groups/"+R)},G=function(L,J,R){return u(L,J.restUrl+"/community/groups",R)},H=function(L,J){return u(L,J.restUrl+"/portals/self/settings")},K=function(L,J){return u(L,J.restUrl+"/portals/self/trustedOrgs",{num:100})},O=function(L,J){return void 0===J&&(J=","),L.map(function(R){return R.id}).join(J)}},
312:function(f,g,k){function y(z){return E[z.vnodeSelector]&&(!z.properties||!z.properties.disabled&&-1!==z.properties.tabindex)||z.properties&&z.properties.tabindex&&-1<parseInt(z.properties.tabindex,10)}var u=k(0),E={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};f=function(z){function q(m){m=z.call(this,m)||this;return m.registerFirstFocusable=m.registerFirstFocusable.bind(m),m.registerLastFocusable=m.registerLastFocusable.bind(m),m.handleFocusChange=m.handleFocusChange.bind(m),
m}return Object(u.d)(q,z),q.prototype.render=function(){var m=this.findFirstFocusable(this.props.children),e=this.findLastFocusable(this.props.children);return m&&e&&(m.properties?m.properties.afterCreate=this.registerFirstFocusable:m.properties={afterCreate:this.registerFirstFocusable},e.properties?e.properties.afterCreate=this.registerLastFocusable:e.properties={afterCreate:this.registerLastFocusable}),this.props.children},q.prototype.findFirstFocusable=function(m){if(m)for(var e=0;e<m.length;e++){var d=
m[e];if(y(d)||d.children&&(d=this.findFirstFocusable(d.children)))return d}},q.prototype.findLastFocusable=function(m){if(m)for(var e=m.length-1;0<=e;e--){var d=m[e];if(y(d)||d.children&&(d=this.findLastFocusable(d.children)))return d}},q.prototype.registerFirstFocusable=function(m){this.firstFocusableElement&&this.firstFocusableElement!==m&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);m.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=
m;setTimeout(function(){m&&m.focus()},10)},q.prototype.registerLastFocusable=function(m){this.lastFocusableElement&&this.lastFocusableElement!==m&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=m;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},q.prototype.handleFocusChange=function(m){"Tab"!==m.key&&9!==m.keyCode||(m.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
m.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),m.preventDefault()))},q}(k(16).Component);g.a=f},313:function(f,g,k){k.d(g,"a",function(){return z});var y=k(30),u=k(54),E=k(175),z=function(q,m){var e=m();e=(Object(u.b)(e)?e:e.gbState).utils;Object(y.q)(e.request,e.portal).then(function(d){var a;d=(null===(a=null==d?void 0:d.trustedOrgs)||void 0===a?void 0:a.filter(function(b){return-1<b.from.established&&-1<b.to.established}))||
[];q({type:E.a.TRUSTED_ORGS_LOADED,payload:d})},function(){q({type:E.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(f,g,k){k.d(g,"a",function(){return z});var y=k(30),u=k(54),E=k(28),z=function(q){q=(Object(u.b)(q)?q:q.gbState).utils;var m=q.request,e=q.portal,d=q.portalUser;return new E.Promise(function(a,b){Object(y.r)(m,e,d.username).then(function(c){a(c)},function(){a()})})}},320:function(f,g,k){var y=k(0),u=k(36),E=k(39);f=k(16);var z=k(90);k=function(q){function m(){return null!==q&&q.apply(this,
arguments)||this}return Object(y.d)(m,q),m.prototype.render=function(e){var d=this.props,a=d.onCancel,b=d.title,c=d.onBack;return e("div",{"class":"share-dlg__container-header",key:"share-view-header"},e("h2",{key:"share-view-header-title",id:"modal-title","class":"share-dlg__title"},d.back?e("button",{key:"share-dlg-header-back","class":"share-dlg__back",onclick:c,"aria-label":E.backToShare},e("svg",{viewbox:"0 0 24 24",role:"img"},e("path",{d:z.b})),b):b),e("button",{"class":"mod__overlay__close",
"aria-label":u.close,onclick:a},e("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:z.k}))))},m}(f.Component);g.a=k},335:function(f,g,k){k.d(g,"b",function(){return d});k.d(g,"a",function(){return D});var y=k(0),u=k(28),E=k(30),z=k(78),q=k(61),m=k(194),e=k(26),d=function(C){if(C.depth&&4<C.depth)return u.Promise.resolve([]);switch(C.depth=C.depth?C.depth+1:1,C.item.type){case "Web Map":case "Web Scene":return w(C);case "Web Mapping Application":return b(C);
case "Big Data File Share":return c(C);case "Data Store":return h(C);default:return u.Promise.resolve([])}},a=function(C){var G=C.item,H=C.request,K=C.portal,O=C.iconDir;return G.itemId?new u.Promise(function(L){Object(E.v)(H,K.restUrl+"/content/items/"+G.itemId).then(function(J){0<Object(m.b)([J]).length?Object(m.a)({items:[J],request:H}).then(function(R){J.isUpdateLayer=0<R.length;L(Object(z.a)(K,O,J))},function(){return L(Object(z.a)(K,O,J))}):L(Object(z.a)(K,O,J))},function(){return L(null)})}):
u.Promise.resolve(null)},b=function(C){var G=C.item,H=C.request,K=C.portal,O=C.iconDir;return new u.Promise(function(L){Object(E.v)(H,K.restUrl+"/content/items/"+G.id+"/data").then(function(J){J||L([]);var R=function(X){var aa,ea,ka,ma,sa,za,ha,V,la,T,P=(null===(aa=null==X?void 0:X.map)||void 0===aa?0:aa.itemId)?[X.map.itemId]:[];aa=null!==(ma=null===(ka=null===(ea=X.values)||void 0===ea?void 0:ea.itemCollection)||void 0===ka?void 0:ka.map(function(I){return I.id}))&&void 0!==ma?ma:[];ea=null!==(ha=
null===(za=null===(sa=X.values)||void 0===sa?void 0:sa.webmap)||void 0===za?void 0:za.split(","))&&void 0!==ha?ha:[];X=null!==(T=null===(la=null===(V=X.values)||void 0===V?void 0:V.webscene)||void 0===la?void 0:la.split(","))&&void 0!==T?T:[];return Object(y.g)(Object(y.g)(Object(y.g)(Object(y.g)([],P),aa),ea),X)}(J).map(function(X){return a({item:{itemId:X},request:H,portal:K,iconDir:O})});u.Promise.all(R).then(function(X){var aa=X.filter(function(ea){return ea});X=aa.map(function(ea){return d({item:ea,
request:H,portal:K,iconDir:O})});u.Promise.all(X).then(function(ea){var ka;ea=Object(y.g)(Object(y.g)([],aa),Object(q.b)(ea));(null===(ka=J.values)||void 0===ka?0:ka.group)&&(G.itemData=J,ea.push(G));L(ea)})})})})},c=function(C){var G=C.item,H=C.request,K=C.portal,O=C.iconDir;return new u.Promise(function(L){Object(E.v)(H,K.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(J){if(-1<J.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&
-1<J.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(E.v)(H,K.restUrl+"/content/items/"+J.relatedItems[0].id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(X){X.relatedItems.push(J.relatedItems[0]);X=n(X.relatedItems,H,K,O);u.Promise.all(X).then(function(aa){L(aa)})});else{var R=n(J.relatedItems,H,K,O);u.Promise.all(R).then(function(X){L(X)})}})})},h=function(C){var G=C.item,H=C.request,K=C.portal,O=C.iconDir;return new u.Promise(function(L){Object(E.v)(H,
K.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(J){J=n(J.relatedItems,H,K,O);u.Promise.all(J).then(function(R){L(R)})})})},n=function(C,G,H,K){return C.map(function(O){return p(O,G,H,K)})},p=function(C,G,H,K){return new u.Promise(function(O){Object(E.v)(G,H.restUrl+"/content/items/"+C.id).then(function(L){O(Object(z.a)(H,K,L))})})},w=function(C){var G=C.item,H=C.request,K=C.portal,O=C.iconDir;return new u.Promise(function(L){return function(J){var R=
J.portal,X=J.item,aa=J.request;return new u.Promise(function(ea){if(X.itemData){var ka=X.itemData,ma=ka.operationalLayers,sa=ka.baseMap,za=ka.tables;ka=ka.ground;return ea(Object(y.g)(Object(y.g)(Object(y.g)(Object(y.g)([],(null==sa?void 0:sa.baseMapLayers)||[]),(null==ka?void 0:ka.layers)||[]),ma||[]),za||[]))}return Object(E.v)(aa,R.restUrl+"/content/items/"+X.id+"/data").then(function(ha){var V=ha.baseMap,la=ha.tables,T=ha.ground;return ea(Object(y.g)(Object(y.g)(Object(y.g)(Object(y.g)([],ha.operationalLayers||
[]),(null==V?void 0:V.baseMapLayers)||[]),(null==T?void 0:T.layers)||[]),la||[]))},function(){return ea([])})})}({request:H,item:G,portal:K}).then(function(J){u.Promise.all(B(J).map(function(R){return a({item:R,request:H,portal:K,iconDir:O})})).then(L)})})},B=function(C){return C.reduce(function(G,H){return(null==H?0:H.itemId)?G.concat(H):(null==H?0:H.layers)&&"GroupLayer"===H.layerType?G.concat(H.layers):G},[])},A={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,
bdfsDatastore:!1},D=function(C){var G=C.item,H=C.selectedOptions,K=C.selectedGroups,O=C.request;C=C.portal;return F({item:G,selectedOptions:H})?u.Promise.resolve(Object(y.a)(Object(y.a)({},A),{editable:!1,premium:!0})):v({item:G,selectedGroups:K,request:O,portal:C,selectedOptions:H}).then(function(L){var J=L.needsGroupSharingUpdate,R;if(!(R=L.needsShareLevelUpdate)){var X,aa=!0;Object(q.e)(H)&&(aa=!1);R=Object(q.d)(H);R!==e.b["private"]&&R!==e.b.shared||(aa=!1);var ea=G.access||(null===(X=G.sharing)||
void 0===X?void 0:X.access);R=(ea===e.b["public"]&&(aa=!1),ea===R&&(aa=!1),R===e.b["private"]&&(ea===e.b.shared&&(aa=!1),ea===e.b.org&&(aa=!1)),aa)}return{needsGroupSharingUpdate:J,needsShareLevelUpdate:R,editable:L.editable,premium:!1,groupDependentApplication:L.groupDependentApplication,bdfsDatastore:L.bdfsDatastore}})},F=function(C){var G=C.selectedOptions;C=C.item;return Object(q.e)(G)?!1:Object(q.d)(G)===e.b["public"]?(G=C.typeKeywords,-1<C.owner.toLowerCase().indexOf("esri")&&(-1<(null==G?void 0:
G.indexOf("Requires Credits"))||-1<(null==G?void 0:G.indexOf("Requires Subscription")))):!1},v=function(C){var G=C.item,H=C.selectedGroups,K=C.selectedOptions,O=C.request,L=C.portal;return new u.Promise(function(J,R){var X,aa;"Web Mapping Application"===G.type&&(null===(aa=null===(X=G.itemData)||void 0===X?void 0:X.values)||void 0===aa?0:aa.group)?J(Object(y.a)(Object(y.a)({},A),{groupDependentApplication:!0})):"Data Store"!==G.type?Object(E.v)(O,L.restUrl+"/content/users/"+G.owner+(G.ownerFolder?
"/"+G.ownerFolder:"")+"/items/"+(G.itemId||G.id)).then(function(ea){var ka,ma=ea.item.itemControl,sa=ea.sharing.groups;ea=G.access||(null===(ka=G.sharing)||void 0===ka?void 0:ka.access);Object(q.f)(G)&&K.total===K["public"]?J(Object(y.a)(Object(y.a)({},A),{needsShareLevelUpdate:!0,editable:!1})):ma&&"admin"!==ma&&"update"!==ma?J(Object(y.a)(Object(y.a)({},A),{editable:!1})):ea!==e.b["public"]?H.length>sa.length?J(Object(y.a)(Object(y.a)({},A),{needsGroupSharingUpdate:!0})):(ka=H.some(function(za){return 0>
sa.indexOf(za.id)}),J(Object(y.a)(Object(y.a)({},A),{needsGroupSharingUpdate:ka}))):J(Object(y.a)({},A))},function(ea){Object(E.v)(O,L.restUrl+"/content/items/"+(G.itemId||G.id)).then(function(ka){ka=ka.access;ka===e.b["public"]||ka===e.b.org&&K.total===K.org+K["private"]?J(Object(y.a)(Object(y.a)({},A),{editable:!1})):J(Object(y.a)(Object(y.a)({},A),{needsShareLevelUpdate:!0,editable:!1}))},function(ka){J(Object(y.a)(Object(y.a)({},A),{needsShareLevelUpdate:!0,editable:!1}))})}):J(Object(y.a)(Object(y.a)({},
A),{bdfsDatastore:!0}))})}},36:function(f,g){f.exports=M},379:function(f,g,k){function y(z,q){var m=z.filter(function(e){var d;return!e.success&&500===(null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.code)}).map(function(e){var d=Object(E.c)(q,function(a){return a.id===e.itemId});return(null==d?void 0:d.title)||e.itemId});return z.map(function(e){e.error=e.error||{};var d=e.error,a=d.messageCode;d=d.code;return a&&u.errors[a]&&(e.error.message=u.errors[a]),d&&u.errors[d]&&(e.error.message=
u.errors[d]),(500===a||500===d&&m)&&(e.error.details=m,e.error.message=u.errors[500]+" "+(null==m?void 0:m.join(", "))),e}).filter(function(e){return!e.success})}k.d(g,"a",function(){return y});var u=k(39),E=k(99)},38:function(f,g,k){k.d(g,"b",function(){return y});k.d(g,"d",function(){return E});k.d(g,"c",function(){return z});k.d(g,"a",function(){return q});k.d(g,"f",function(){return d});var y,u,E,z,q,m=k(0),e=k(25);!function(a){a.openData="openData";a.updateGroups="updateGroups";a.distributed=
"distributed";a.administrative="administrative";a.orgSettings="orgSettings"}(y||(y={}));(u||(u={})).owner="owner";(function(a){a.itemOwner="itemOwner";a.inOrg="inOrg";a.outsideOrg="outsideOrg"})(E||(E={}));(function(a){a.myOrg="org";a.partnered="collaboration";a.anyOrg="anyOrg"})(z||(z={}));(function(a){a.USER="USER";a.OWNER="OWNER";a.DESIGNATION="DESIGNATION";a.DATE_CREATED="DATE_CREATED";a.MEMBERSHIP="MEMBERSHIP"})(q||(q={}));var d={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};
g.e=function(a,b){switch(void 0===a&&(a=d),b.type){case e.a.CLEAR_FILTERS:switch(b.payload){case q.DESIGNATION:return Object(m.a)(Object(m.a)({},a),{designationFilter:void 0});case q.DATE_CREATED:return Object(m.a)(Object(m.a)({},a),{dateCreatedFilter:void 0});case q.OWNER:return Object(m.a)(Object(m.a)({},a),{ownerFilter:void 0});case q.USER:return a;case q.MEMBERSHIP:return Object(m.a)(Object(m.a)({},a),{membershipFilter:void 0});default:return Object(m.a)(Object(m.a)({},a),{designationFilter:void 0,
dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case e.a.UPDATE_OWNER_FILTER:return Object(m.a)(Object(m.a)({},a),{ownerFilter:b.payload===a.ownerFilter?void 0:b.payload});case e.a.UPDATE_USERNAME_FILTER:return Object(m.a)(Object(m.a)({},a),{currentUsername:b.payload});case e.a.UPDATE_CREATED_ON_FILTER:return Object(m.a)(Object(m.a)({},a),{dateCreatedFilter:b.payload.created});case e.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(m.a)(Object(m.a)({},a),{designationFilter:b.payload===
a.designationFilter?void 0:b.payload});case e.a.UPDATE_MEMBERSHIP_FILTER:return Object(m.a)(Object(m.a)({},a),{membershipFilter:b.payload===a.membershipFilter?void 0:b.payload});case e.a.SET_USERS:return Object(m.a)(Object(m.a)({},a),{allUsers:b.payload.reduce(function(c,h){var n;return Object(m.a)(Object(m.a)({},c),((n={})[h.username]=h,n))},{})});case e.a.SET_SEARCH_STRING:return Object(m.a)(Object(m.a)({},a),{searchString:b.payload});default:return a}}},39:function(f,g){f.exports=r},422:function(f,
g,k){var y,u=k(0);f=k(39);var E=k(16),z=k(629),q=k(139),m=k(26);k=function(d){function a(){var b=null!==d&&d.apply(this,arguments)||this;return b.handleKeyUp=function(c){"Escape"===c.key&&b.props.handleSecondaryClick()},b}return Object(u.d)(a,d),a.prototype.render=function(b){var c=this,h=this.props,n=h.handleSecondaryClick,p=h.handlePrimaryClick,w=h.text;if(h.dialogExists&&w)return b("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",c.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",
c.handleKeyUp)}},b(z.a,{key:"share-mini-dlg__component",isError:null==w?void 0:w.isError,render:function(){return b("div",{key:"share-mini-dlg","class":"share-mini-dlg"},b("h2",{"class":"share-mini-dlg__title"},w.title),b("p",{"class":"share-mini-dlg__body"},w.body),b("div",{"class":"share-mini-dlg__buttons"},w.secondaryButton&&b("button",{appearance:"outline",onclick:n,id:"share-mini-dlg-secondary","class":"share-dlg__button--secondary share-mini-dlg__cancel-button"},w.secondaryButton),b("button",
{onclick:p,id:"share-mini-dlg-primary","class":"share-dlg__button--primary share-mini-dlg__remove-button"},w.primaryButton)))}}))},a}(E.Component);g.a=Object(E.connect)(function(d){d=d.resources.currentMiniDlg;return{text:e[d],dialogExists:d!==m.c.NONE}},function(d){return{handleSecondaryClick:function(){d(Object(q.k)(m.c.NONE));d(Object(q.j)(m.a.SHARE))},handlePrimaryClick:function(){d(q.h)}}})(k);var e=((y={})[m.c.OPEN_GROUP_BROWSER]={title:f.MiniDlg.changeShareLevelTitle,body:f.MiniDlg.changeShareLevelBody,
primaryButton:f.update,secondaryButton:f.cancel},y[m.c.SET_SHARE_TO_PRIVATE]={title:f.MiniDlg.setShareToPrivateTitle,body:f.MiniDlg.setShareToPrivateBody,primaryButton:f.update,secondaryButton:f.cancel},y[m.c.REVERT_SHARE_LEVEL]={title:f.MiniDlg.revertShareLevelTitle,body:f.MiniDlg.revertShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},y[m.c.REVERT_GROUPS]={title:f.MiniDlg.revertGroupsTitle,body:f.MiniDlg.revertGroupsBody,primaryButton:f.update,secondaryButton:f.cancel},y[m.c.EDITABLE_LAYERS]=
{title:f.MiniDlg.editableLayersTitle,body:f.MiniDlg.editableLayersBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},y[m.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:f.MiniDlg.publicDataCollectionEnabledTitle,body:f.MiniDlg.publicDataCollectionEnabledBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},y[m.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:f.MiniDlg.publicDataCollectionDisabledTitle,body:f.MiniDlg.publicDataCollectionDisabledBody,primaryButton:f.ok,isError:!0},y)},440:function(f,
g,k){k.d(g,"a",function(){return E});k.d(g,"b",function(){return z});f=k(495);g=k(496);var y=k(54),u=k(497);k=k(16);y.a.ui.filter.expanded=860<window.innerWidth;var E={resources:f.b,utilities:g.b,gbState:y.a,config:u.b},z=Object(k.combineReducers)({resources:f.a,utilities:g.a,gbState:y.c,config:u.a})},495:function(f,g,k){function y(d){var a=Object(E.a)(Object(E.a)({},m),{total:d.length});return d.forEach(function(b){switch(b.access?b.access:b.sharing&&b.sharing.access){case q.b["public"]:a[q.b["public"]]++;
break;case q.b.org:a[q.b.org]++;break;case q.b.shared:case q.b["private"]:a[q.b["private"]]++}}),a}k.d(g,"b",function(){return e});var u,E=k(0),z=k(139),q=k(26),m=((u={total:0})[q.b["private"]]=0,u[q.b.org]=0,u[q.b["public"]]=0,u),e={items:[],portalUser:{},selectedOptions:Object(E.a)({},m),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[],
needBDFSDatastoreUpdate:[]},currentMiniDlg:q.c.NONE,isLoading:!1};g.a=function(d,a){var b;switch(void 0===d&&(d=e),a.type){case z.a.SET_HELP_MAP:return Object(E.a)(Object(E.a)({},d),{helpMap:a.payload});case z.a.SET_SELECTED_SHARE_LEVEL:var c=d.selectedOptions.total,h=Object(E.a)(Object(E.a)(Object(E.a)({},m),((b={})[a.payload]=c,b)),{total:c}),n=y(d.items);b=!Object.keys(h).reduce(function(p,w){return p&&h[w]===n[w]},!0);return Object(E.a)(Object(E.a)({},d),{selectedOptions:h,selectedOptionsDirty:b});
case z.a.SET_INITIAL_SHARE_LEVEL:return Object(E.a)(Object(E.a)({},d),{selectedOptions:y(d.items),selectedOptionsDirty:!1});case z.a.SET_DEPENDENT_ITEMS:return Object(E.a)(Object(E.a)({},d),{dependentItems:a.payload});case z.a.SET_MINI_DIALOG:return Object(E.a)(Object(E.a)({},d),{currentMiniDlg:a.payload});default:return d}}},496:function(f,g,k){k.d(g,"b",function(){return y});var y={onCancel:function(){return null},onComplete:function(){return null},request:function(u){return null},portal:{},iconDir:""};
g.a=function(u,E){return void 0===u&&(u=y),E.type,u}},497:function(f,g,k){k.d(g,"b",function(){return E});var y=k(0),u=k(139);f=k(26);var E={groupsPerPage:10,currentView:f.a.LOADING,shareMode:f.d.DEFAULT,userType:f.e.ORG};g.a=function(z,q){switch(void 0===z&&(z=E),q.type){case u.a.SET_CURRENT_VIEW:return Object(y.a)(Object(y.a)({},z),{currentView:q.payload});case u.a.SET_SHARE_MODE:return Object(y.a)(Object(y.a)({},z),{shareMode:q.payload});case u.a.SET_USER_TYPE:return Object(y.a)(Object(y.a)({},
z),{userType:q.payload});default:return z}}},5:function(f,g,k){function y(a){return 0===Object.keys(a).length&&a.constructor===Object}function u(a){return null!=a}function E(a,b){return e.apply(null,arguments)}function z(a,b){return d.apply(null,arguments)}k.d(g,"b",function(){return y});k.d(g,"a",function(){return u});k.d(g,"e",function(){return m});k.d(g,"c",function(){return E});k.d(g,"d",function(){return z});var q=k(0);f=k(15);var m=Object(f.a)(function(a,b){var c=Object(q.a)({},b);return delete c[a],
c}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,h){return c[h]=a(b[h],h,b),c},{})}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,h){return a(b[h],h,b)&&(c[h]=b[h]),c},{})})},51:function(f,g,k){function y(v){return!(!v.urlKey||!v.customBaseUrl)}function u(v){return v.role===h.admin||v.role===h.accountAdmin}function E(v){return Object(w.a)(v.roleId)&&0<(v.roleId||"").length}function z(v){return!E(v)||E(v)&&-1<(v.privileges||[]).indexOf("portal:admin:viewItems")}
function q(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToOrg")}function m(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToGroup")}function e(v){return-1<(v.privileges||[]).indexOf("portal:user:shareToPublic")}function d(v,C){return a(v)||b(v)||C.canSharePublic&&c(v)}function a(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(v){return-1<(v.privileges||[]).indexOf("portal:admin:shareToPublic")}
k.d(g,"l",function(){return A});k.d(g,"h",function(){return D});k.d(g,"m",function(){return F});k.d(g,"k",function(){return y});k.d(g,"i",function(){return u});k.d(g,"j",function(){return E});k.d(g,"g",function(){return z});k.d(g,"b",function(){return q});k.d(g,"a",function(){return m});k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});var h,n=k(63),p=k(148),w=k(5),B=k(58);!function(v){v.user="org_user";v.accountUser="account_user";
v.publisher="org_publisher";v.accountPublisher="account_publisher";v.admin="org_admin";v.accountAdmin="account_admin";v.viewer="iAAAAAAAAAAAAAAA";v.dataEditor="iBBBBBBBBBBBBBBB"}(h||(h={}));var A=function(v){var C=v.items;return!!v.user.orgId&&C.every(function(G){return G.isOrgItem})},D=function(v){var C=v.items,G=v.user,H=v.portal;v=C[0];var K=Object(B.c)(v,G),O=E(G),L=d(G,H);if(O=Object(B.a)(v,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!O)O=!y(H)||m(G)||q(G)||H.canSharePublic&&
e(G)||d(G,H);H=O;return!(v.portal.isPortal&&v.owner!==G.username&&-1<v.owner.indexOf("esri_"))&&(K||H||A({items:C,user:G})&&L)},F=function(v,C){return Object(n.a)(Object(p.a)(v))(C)}},54:function(f,g,k){k.d(g,"b",function(){return z});k.d(g,"a",function(){return q});k.d(g,"c",function(){return m});f=k(16);g=k(215);var y=k(208),u=k(137),E=k(210);k=k(207);var z=function(e){return!e.gbState},q={config:k.b,parameters:y.b,groups:u.f,ui:E.b,utils:g.b},m=Object(f.combineReducers)({config:k.a,parameters:y.a,
groups:u.b,ui:E.a,utils:g.a})},58:function(f,g,k){function y(e,d){return(null==e?void 0:e.owner)===d.username}function u(e,d){var a;if(!(a=y(e,d)))if(Object(z.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!y(e,d)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function E(e,d){return u(e,d)||"update"===e.itemControl}k.d(g,"d",function(){return y});k.d(g,"c",function(){return u});k.d(g,
"a",function(){return E});k.d(g,"b",function(){return m});var z=k(5),q=k(51),m=function(e){var d=e.user,a=e.items;e=e.portal;return Object(q.l)({items:a,user:d})&&Object(q.h)({items:a,user:d,portal:e})&&Object(q.g)(d)&&a[0].itemOwner||d}},61:function(f,g,k){function y(D){var F=D.groupIds,v=D.shareLevelOptions,C=D.restUrl,G=D.request,H=D.unshare;return m.Promise.all(D.items.map(function(K,O){return new m.Promise(function(L,J){G(C+"/content/items/"+(K.itemId||K.id)+"/"+(H?"unshare":"share"),{method:"post",
query:Object(z.a)({f:"json",groups:F,confirmItemControl:!0},v||{})}).then(L,J)})}))["catch"](function(K){throw K;})}function u(D,F){return new m.Promise(function(v,C){var G,H=null===(G=D.helpMap)||void 0===G?void 0:G.m;H?v(H):F(D.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(K){var O;v(null===(O=K.data.helpMap)||void 0===O?void 0:O.m)},C)})}k.d(g,"h",function(){return d});k.d(g,"g",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});k.d(g,
"d",function(){return h});k.d(g,"f",function(){return B});k.d(g,"c",function(){return A});k.d(g,"a",function(){return u});var E,z=k(0),q=k(30),m=k(28);f=k(26);var e=k(58),d=function(D){var F=D.items,v=D.groups,C=D.restUrl,G=D.request,H=D.portalUser;if(0===F.length)return m.Promise.resolve();var K=Object(q.b)(v);return F.every(function(O){return Object(e.d)(O,H)})?new m.Promise(function(O,L){if(!v||0===v.length)return O();var J={f:"json",items:Object(q.b)(F),groups:K};G(C+"/content/users/"+H.username+
"/unshareItems",{method:"post",query:J}).then(O,L)}):y({items:F,groupIds:K,restUrl:C,request:G,unshare:!0})},a=function(D){var F=D.items,v=D.groups,C=D.restUrl,G=D.request,H=D.portalUser,K=D.selectedOptions;D=D.ignoreShareLevel;if(0===F.length)return m.Promise.resolve();if(!D&&!K)throw"Selected options must be provided unless share level is ignored.";var O=Object(q.b)(v),L=D?{}:n(K);return F.every(function(J){return Object(e.d)(J,H)})?new m.Promise(function(J,R){G(C+"/content/users/"+H.username+"/shareItems",
{method:"post",query:Object(z.a)({f:"json",items:Object(q.b)(F),groups:O,confirmItemControl:!0},L)}).then(function(X){X=X.data;X.results.every(function(aa){return aa.success})?J():R(X)},R)}):y({items:F,groupIds:O,shareLevelOptions:L,restUrl:C,request:G})},b=function(D){return D.reduce(function(F,v){return Object(z.g)(Object(z.g)([],F),v)},[])},c=function(D){return 1<Object.keys(D).filter(function(F){return"total"!==F&&0<D[F]}).length},h=function(D){return Object.keys(D).filter(function(F){return"total"!==
F}).reduce(function(F,v){return D[v]===D.total?v:F})},n=function(D){return c(D)?{}:p[h(D)]},p=((E={})[f.b["public"]]={org:!1,everyone:!0},E[f.b.org]={org:!0,everyone:!1},E[f.b["private"]]={org:!1,everyone:!1},E[f.b.shared]={org:!1,everyone:!1},E),w="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),B=function(D){var F,v,C=D.typeKeywords,G=D.type;
G=w.some(function(K){return-1<C.indexOf(K)})&&"Real Time Analytic"!==G&&"Big Data Analytic"!==G;var H=!(null===(F=null==D?void 0:D.portal)||void 0===F?0:F.isPortal)&&"Image Service"===D.type&&-1<(null===(v=D.url)||void 0===v?void 0:v.indexOf("://iservices"))&&-1<D.url.indexOf("arcgis.com");D="Knowledge Graph"===D.type;return G||H||D},A=function(D,F,v){return v&&F["public"]===F.total?D.filter(function(C){return-1<C.typeKeywords.indexOf("DeveloperBasemap")}):[]}},623:function(f,g,k){k.d(g,"a",function(){return z});
var y;f=k(624);g=k(631);var u=k(632),E=k(630);k=k(26);var z=((y={})[k.a.SHARE]=f.a,y[k.a.LOADING]=E.a,y[k.a.GROUP_BROWSER]=g.a,y[k.a.DEPENDENT_ITEM_CONFIRMATION]=u.a,y)},624:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(320),z=k(625),q=k(139),m=k(422),e=k(26);k=function(d){function a(){return null!==d&&d.apply(this,arguments)||this}return Object(y.d)(a,d),a.prototype.render=function(b){var c=this.props,h=c.miniDialogOpen,n=c.onCancel,p=c.attemptToSaveShareState;return[b(E.a,{key:"share-dlg-header",
onCancel:n,title:u.share}),b("div",{key:"share-view-content","class":"share-dlg__contents"},b(z.a,{key:"share-dialog"}),b(m.a,{key:"share-mini-dlg"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:h,onclick:function(){p()}},u.save),b("button",{"class":"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:h,onclick:n},u.cancel))]},a}(f.Component);
g.a=Object(f.connect)(function(d){return{miniDialogOpen:d.resources.currentMiniDlg!==e.c.NONE,onCancel:d.utilities.onCancel}},function(d){return{attemptToSaveShareState:function(){d(q.d)}}})(k)},625:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(90),z=k(626),q=k(628),m=k(139);k=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(y.d)(d,e),d.prototype.render=function(a){var b=this.props,c=b.portal,h=b.resetShareLevel;b=b.selectedOptionsDirty;return a("div",{"class":"share-level__wrap",
key:"share-level__wrap"},a("div",{"class":"share-dlg__header",key:"share-dlg__header"},a("h3",{id:"share-options-title","class":"share-options__title"},u.ShareDialog.setSharingLevel),b&&a("button",{onclick:h,"class":"btn-svg share-options__reset share-dlg__btn-svg"},a("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:E.g})),u.ShareOptions.revert)),a(z.a,{key:"share-options"}),a("hr",{"class":"share-dlg__divider"}),a(q.a,{key:"share-groups-section",
portal:c}))},d}(f.Component);g.a=Object(f.connect)(function(e){return{portal:e.utilities.portal,selectedOptionsDirty:e.resources.selectedOptionsDirty}},function(e){return{resetShareLevel:function(){e(m.e)}}})(k)},626:function(f,g,k){var y,u=k(0),E=k(39);f=k(16);var z=k(26),q=k(627),m=k(139),e=k(51),d=k(61);k=function(n){function p(){return null!==n&&n.apply(this,arguments)||this}return Object(u.d)(p,n),p.prototype.render=function(w){var B=this.props,A=B.handleOptionClick,D=B.selectedOptions,F=B.availableShareLevels,
v=B.showOptions,C=B.userType,G=B.possibleShareLevels,H=B.items;return w("fieldset",{"class":"share-options"},v&&G.map(function(K){var O=z.b[K];K=Object(d.f)(H[0])?E.ShareDialog.sharingLimitedItemDisclaimer:E.ShareDialog.cannotShareToLevelDisclaimer;return w(q.a,{key:O,level:O,handleLevelClick:function(){A(O)},disabledText:K,total:D.total,count:D[O],userType:C,disabled:-1===F.indexOf(O)})}),v&&F.length<G.length&&!Object(d.f)(H[0])&&w("p",{key:"share-options__disclaimer--limited","class":"share-options__disclaimer"},
E.ShareDialog.sharingLimitedDisclaimer),!v&&w("p",{key:"share-options__disclaimer--none","class":"share-options__disclaimer"},E.ShareDialog.noShareDisclaimer))},p}(f.Component);g.a=Object(f.connect)(function(n){var p=n.resources,w=p.portalUser,B=p.items;p=p.selectedOptions;var A=n.config,D=A.userType,F={user:w,items:B,userType:D};A=A.shareMode!==z.d.GROUP;n=c({portal:n.utilities.portal,portalUser:w,selectedOptions:p,userType:D});return{selectedOptions:p,showOptions:A,userType:D,availableShareLevels:n.filter(function(v){return h[v](F)}),
possibleShareLevels:n,items:B}},function(n){return{handleOptionClick:function(p){n(Object(m.f)(p))}}})(k);var a=function(n,p){return p.every(function(w){return w.owner===n.username})},b=function(n,p){return p.every(function(w){return w.owner===n.username||w.portal.id===(null==n?void 0:n.orgId)})},c=function(n){var p=n.portal,w=n.portalUser,B=n.selectedOptions;return n.userType===z.e.PUBLIC?[z.b["private"],z.b["public"]]:p.canSharePublic||0!==B["public"]||Object(e.i)(w)?[z.b["private"],z.b.org,z.b["public"]]:
[z.b["private"],z.b.org]},h=((y={})[z.b["private"]]=function(n){return!0},y[z.b.org]=function(n){var p=n.user,w=n.items;if(n.userType===z.e.PUBLIC)return!1;n=a(p,w);var B=b(p,w);w=Object(e.i)(p)&&!Object(e.j)(p)&&b(p,w);return Object(e.b)(p)&&(n||w)||Object(e.e)(p)&&B},y[z.b["public"]]=function(n){var p=n.user,w=n.items;n=n.userType;if(1===w.length&&Object(d.f)(w[0]))return!1;var B=a(p,w);w=b(p,w);var A=Object(e.i)(p)&&!Object(e.j)(p)&&w;return n===z.e.PUBLIC||Object(e.c)(p)&&(B||A)||Object(e.f)(p)&&
w},y)},627:function(f,g,k){var y,u,E=k(0),z=k(39);f=k(16);var q=k(90),m=k(26);k=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return Object(E.d)(c,b),c.prototype.render=function(h){var n=this.props,p=n.level,w=n.count,B=n.total,A=n.handleLevelClick,D=n.disabled,F=n.disabledText,v=a[p],C=v.description;v=v.title;n.userType===m.e.PUBLIC&&p===m.b["public"]&&(C=z.ShareDialog.everyoneDescriptionPublic);n=w===B;var G=0<w&&!n,H=e(z.ShareOptions[p],w,B);w=e(z.ShareOptions.numItems,
w,B);return h("label",{key:v,id:"share-level-"+p,classes:{"share-options__label":!0,"share-options__label--selected":n,"share-options__label--indeterminate":G,"share-options__label--disabled":D},"aria-label":D&&F?F:void 0},h("input",{type:"radio",name:"sharing-type",key:v,"class":"share-options__input",checked:n,disabled:D,indeterminate:G,onclick:function(K){K.preventDefault();D||A()}}),h("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",
role:"img"},h("path",{d:d[p]})),h("span",{"class":"share-options__content"},h("h4",{"class":"share-options__header"},v,G&&h("span",{"class":"share-options__indeterminate-text","aria-label":D?void 0:H},h("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},h("path",{d:q.d})),
h("span",null,w))),h("p",{"class":"share-options__description"},C)))},c}(f.Component);g.a=k;var e=function(b,c,h){return void 0===b&&(b=""),b.replace("${num}",""+c).replace("${total}",""+h)},d=((y={})[m.b["public"]]=q.c,y[m.b.org]=q.e,y[m.b["private"]]=q.h,y[m.b.shared]=q.h,y),a=((u={})[m.b["private"]]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},u[m.b.shared]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},u[m.b.org]={title:z.ShareDialog.organization,
description:z.ShareDialog.organizationDescription},u[m.b["public"]]={title:z.ShareDialog.everyone,description:z.ShareDialog.everyoneDescription},u)},628:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(249),z=k(90),q=k(139),m=k(51),e=k(181),d=k(68);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Object(y.d)(b,a),b.prototype.render=function(c){var h=this.props,n=h.selectedGroupsDatas,p=h.portal,w=h.handleRemoveGroupsClick,B=h.handleRevertGroupsClick,A=h.handleEditGroupSharingClick,
D=h.groupSharingMixed,F=h.hasGroups,v=h.groupsDirty,C=h.canShareItemToGroup;h=h.selectorItemsLength;return c("div",{"class":"share-groups"},c("h3",{"class":"share-groups__header"},u.groups.setGroupSharing,C&&0<n.length&&!v&&c("button",{"class":"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:w,"aria-haspopup":"true"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:z.k})),u.groups.remove),v&&
c("button",{onclick:B,"class":"btn-svg share-options__reset share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:z.g})),u.ShareOptions.revert)),c("div",{"class":"share-groups__body"},0<n.length?this.getGroupIcons({needsWarning:D,groupDatas:n,portal:p,selectorItemsLength:h,tsx:c}):c("p",{"class":"share-groups__empty"},F?u.groups.noneYet:u.groups.noGroupsToShare),F&&C&&c("button",{onclick:A,id:"edit-group-sharing-button",
"class":"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:z.i})),u.groups.editGroupSharing)))},b.prototype.getGroupIcons=function(c){var h=c.groupDatas,n=c.portal,p=c.tsx,w=c.needsWarning,B=c.selectorItemsLength;c=Math.max(h.length-3,0);return p("div",null,p("div",{key:"group-thumbnails","class":"share-groups__thumbnails"},h.slice(0,3).map(function(A){return p(E.a,
{transparent:A.selectedByIds&&A.selectedByIds.length!==B,group:A.group,stacked:!0,portal:n})}),0<c&&p("span",{"class":"share-groups__plus"},"+"+c)),w&&p("p",{"class":"share-groups__empty"},u.groups.mixedGroupSharing))},b}(f.Component);g.a=Object(f.connect)(function(a){var b,c,h=a.utilities.portal,n=a.resources.portalUser,p=a.gbState.groups,w=p.selectedGroups,B=p.initialSelectedGroups;a=p.selectorItems;p=p.hasGroups;var A=Object.keys(w).map(function(v){return w[v]}).sort(function(v,C){return v.selectedByIds&&
C.selectedByIds?C.selectedByIds.length-v.selectedByIds.length:0}),D=A[A.length-1];D=(D&&D.selectedByIds&&D.selectedByIds.length||0)<(a&&a.length||0);h=!Object(m.k)(h)||Object(m.a)(n)||Object(m.d)(n)&&(b=n.username,c=n.orgId,Object.keys(w).every(function(v){v=w[v].group;var C=c&&c===(null==v?void 0:v.orgId);return b===(null==v?void 0:v.owner)||C}));n=Object.keys(w).length;var F=Object.keys(B);n=F.length!==n||F.reduce(function(v,C){return v||!w[C]||Object(e.a)({selectedBy:(w[C].selectedByIds||[]).map(function(G){return{id:G}}),
initialSelectedByIds:B[C].selectedByIds||[]})},!1);return{selectedGroupsDatas:A,groupSharingMixed:D,hasGroups:p,canShareItemToGroup:h,selectorItemsLength:a.length,groupsDirty:n}},function(a){return{handleRemoveGroupsClick:function(){a({type:d.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){a(q.c)},handleEditGroupSharingClick:function(){a(q.b)}}})(k)},629:function(f,g,k){var y=k(312);g.a=function(u,E){var z=u.render;return E("div",{"class":"mini-dlg__wrapper",key:"mini-dlg__wrapper"},E("div",
{classes:{"mini-dlg":!0,"min-dlg--error":!!u.isError}},E(y.a,{key:"mini-dlg-trap"},z())),E("div",{"class":"mini-dlg__scrim"}))}},63:function(f,g,k){function y(){for(var u=[],E=0;E<arguments.length;E++)u[E]=arguments[E];return function(z){return u.reduceRight(function(q,m){return m(q)},z)}}k.d(g,"a",function(){return y})},630:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(320),z=k(205),q=k.n(z),m=k(422);k=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(y.d)(d,
e),d.prototype.render=function(a){return[a(E.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:u.share}),a("div",{key:"loading-view-content","class":"share-dlg__contents share-loader__container"},a(q.a,{key:"share-loader",text:u.loading}),a(m.a,{key:"share-mini-dlg"})),a("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},a("button",{"class":"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},u.update),a("button",
{"class":"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},u.cancel))]},d}(f.Component);g.a=Object(f.connect)(function(e){return{handleCancelClick:e.utilities.onCancel}},function(e){return{}})(k)},631:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(139),z=k(258),q=k.n(z),m=k(320),e=k(26);k=function(d){function a(){return null!==d&&d.apply(this,arguments)||this}return Object(y.d)(a,d),a.prototype.render=function(b){return[b(m.a,
{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:u.groupSharing}),b("div",{key:"group-browser-view-content-gb","class":"share-dlg__contents share-dlg__contents--wide"},b(q.a,{key:"share-group-browser"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},u.ok))]},a}(f.Component);
g.a=Object(f.connect)(function(d){return{onCancel:d.utilities.onCancel}},function(d){return{closeGroupBrowser:function(){d(Object(E.j)(e.a.SHARE))}}})(k)},632:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(320),z=k(633),q=k(139);k=function(m){function e(d){d=m.call(this,d)||this;return d.state={loading:!1},d}return Object(y.d)(e,m),e.prototype.render=function(d){var a=this,b=this.props,c=b.handlePrimaryClick,h=b.handleCancelClick;b=b.updatable;var n=this.state.loading;return[d(E.a,{key:"share-dlg-header-loading",
onCancel:h,title:u.DependentItems.updateSharing}),d("div",{key:"dependent-item-view-content","class":"share-dlg__contents"},d(z.a,{key:"dependent-items"})),d("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},d("button",{"class":"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:n,onclick:function(){a.setState({loading:!0});c()}},b?u.update:u.ok),b&&d("button",{"class":"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",
onclick:h},u.cancel))]},e}(f.Component);g.a=Object(f.connect)(function(m){var e=m.utilities;m=m.resources;var d=m.dependentItems,a=d.needShareLevelUpdate,b=d.needGroupSharingUpdate,c=d.needEditableWarning,h=m.selectedOptions;return{updatable:0<Object(y.g)(Object(y.g)(Object(y.g)(Object(y.g)([],d.needBDFSDatastoreUpdate),a),b),c).length,handleCancelClick:function(){e.onComplete({selectedOptions:h})}}},function(m){return{handlePrimaryClick:function(){m(q.i)}}})(k)},633:function(f,g,k){var y=k(0),u=
k(39);f=k(16);var E=k(291),z=k(61);k=function(q){function m(){return null!==q&&q.apply(this,arguments)||this}return Object(y.d)(m,q),m.prototype.render=function(e){var d=this.props,a=d.dependentItems,b=a.needGroupSharingUpdate,c=a.notEditable,h=a.premium,n=a.needEditableWarning,p=a.needPubliclyEditableWarning,w=a.needDataCollectionEnabled,B=a.needGroupDependentApplicationWarning,A=a.needBDFSDatastoreUpdate,D=d.portal,F=d.items,v=d.helpMap;d=d.authenticatedItems;a=Object(y.g)(Object(y.g)([],a.needShareLevelUpdate),
b);var C=a.map(function(G){return G.id});a=a.filter(function(G,H){return C.indexOf(G.id)===H});b=1===F.length&&"Web Map"===F[0].type;F=u.DependentItems[b?"premiumItemsWebMap":"premiumItems"];v=v&&e("a",{href:""+D.helpBase+v[120001307]},u.DependentItems[b?"premiumTextMap":"premiumText"]);return e("div",{"class":"dependent-items-confirmation",key:"dependent-items-confirmation"},e(E.a,{key:"need-editable-warning-list",items:n,title:u.DependentItems.needEditableTitle,text:u.DependentItems.needEditableText,
portal:D,error:!0}),e(E.a,{key:"need-editable-warning-public-list",items:p,title:u.DependentItems.needPubliclyEditableTitle,text:u.DependentItems.needPubliclyEditableText,portal:D,error:!0}),e(E.a,{key:"authenticated-items-warning",items:d,title:u.DependentItems.authenticatedItemsTitle,text:u.DependentItems.authenticatedItemsText,portal:D,error:!0}),e(E.a,{key:"need-data-collection-endabled-list",items:w,title:u.DependentItems.needDataCollectionEnabledTitle,text:u.DependentItems.needDataCollectionEnabledText,
portal:D,error:!0}),e(E.a,{key:"group-dependent",items:B,title:u.DependentItems.groupDependentApplicationTitle,text:u.DependentItems.groupDependentApplicationText,portal:D,error:!0}),e(E.a,{key:"needs-update-list",items:a,title:u.DependentItems.updateItemsCount,text:u.DependentItems.confirmationDescription,portal:D}),e(E.a,{key:"premium-items-list",items:h,title:F,text:v,portal:D}),e(E.a,{key:"not-editable-list",items:c,title:u.DependentItems.uneditableItemsCount,portal:D}),e(E.a,{key:"bdfs-datastore-dependent",
items:A,title:u.DependentItems.updateItemsCount,text:u.DependentItems.needBDFSDatastoreUpdateText,portal:D,error:!0}))},m}(f.Component);g.a=Object(f.connect)(function(q){var m=q.resources,e=m.items,d=m.helpMap;q=q.utilities.portal;return{dependentItems:m.dependentItems,authenticatedItems:Object(z.c)(e,m.selectedOptions,m.selectedOptionsDirty),portal:q,helpMap:d,items:e}},function(){return{}})(k)},634:function(f,g,k){var y=k(0),u=k(39);f=k(16);var E=k(101);k=function(z){function q(){return null!==
z&&z.apply(this,arguments)||this}return Object(y.d)(q,z),q.prototype.render=function(m){var e=this.props,d=e.item;e=e.portal;var a=d.name||d.title,b=Object(E.a)(e)+"/home/item.html?id\x3d"+d.id;return m("li",{key:d.id,"class":"dependent-item"},m("h3",{"class":"dependent-item__title"},e?m("a",{href:b,target:"_blank",rel:"noreferrer"},a):m("span",null,a)),m("span",{"class":"dependent-item__details"},d.iconURI&&m("img",{"class":"dependent-item__icon",src:d.iconURI}),m("p",{"class":"dependent-item__description"},
u.DependentItems.itemDescription.replace("${type}",d.displayName||d.type).replace("${owner}",d.owner?d.owner:""))))},q}(f.Component);g.a=k},68:function(f,g,k){var y;k.d(g,"a",function(){return y});(function(u){u.LOADING_GROUPS="LOADING_GROUPS";u.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";u.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";u.SELECT_GROUPS="SELECT_GROUPS";u.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";u.DESELECT_GROUPS="DESELECT_GROUPS";u.REVERT_GROUPS="REVERT_GROUPS";u.CLEAR_SELECTION="CLEAR_SELECTION";
u.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";u.SET_HAS_GROUPS="SET_HAS_GROUPS"})(y||(y={}))},78:function(f,g,k){k.d(g,"a",function(){return e});k.d(g,"b",function(){return d});var y=k(63);f=k(5);var u=k(123),E=k(122),z=k(117),q=k(121),m=k(120),e=function(a,b,c){return Object(y.a)(Object(m.a)(a),Object(q.a)(a),Object(z.a)(b),Object(E.a)(a),Object(u.a)(a))(c)},d=Object(y.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},
83:function(f,g,k){var y;k.d(g,"a",function(){return y});(function(u){u.SET_SEARCH_STRING="SET_SEARCH_STRING";u.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";u.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";u.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";u.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";u.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";u.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";u.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";u.SET_USERS="SET_USERS";u.CLEAR_FILTERS=
"CLEAR_FILTERS"})(y||(y={}))},877:function(f,g,k){k.r(g);var y=k(0);f=k(16);var u=k(440);k.d(g,"reducers",function(){return u.b});k.d(g,"initialState",function(){return u.a});var E=k(623),z=k(294),q=k.n(z),m=k(26);k=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(y.d)(d,e),d.prototype.render=function(a){var b=this.props.currentView;return a("div",{key:"share-container","class":"share-dlg__container"},a(q.a,{key:"sharing-overlay",scrollable:!0,size:b===m.a.GROUP_BROWSER?
"large":"small"},a(E.a[b],{key:b})))},d}(f.Component);g["default"]=Object(f.connect)(function(e){return{currentView:e.config.currentView}},function(e){return{}})(k)},90:function(f,g,k){k.d(g,"a",function(){return y});k.d(g,"b",function(){return u});k.d(g,"c",function(){return E});k.d(g,"d",function(){return z});k.d(g,"e",function(){return q});k.d(g,"h",function(){return m});k.d(g,"i",function(){return e});k.d(g,"j",function(){return d});k.d(g,"k",function(){return a});k.d(g,"g",function(){return b});
k.d(g,"f",function(){return c});var y="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",u="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",E="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
z="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",q="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",m="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
e="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
d="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",a="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",b="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",c="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(f,g,k){function y(e,d){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(d(a=e[b]))return a}function u(e){return e.filter(function(d){return 0<d.length})}function E(e,d,a){var b=[];return d.forEach(function(c){(a?c[a].toLowerCase()===e.toLowerCase():c.toLowerCase()===e.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return z});k.d(g,"f",function(){return q});k.d(g,"c",function(){return y});k.d(g,"b",function(){return u});k.d(g,"a",function(){return m});k.d(g,
"d",function(){return E});f=k(15);var z=function(e,d,a){return a.indexOf(e)===d},q=Object(f.a)(function(e,d){var a={};return d.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),m=function(e,d){return e.length===d.length&&e.reduce(function(a,b){return a&&-1<d.indexOf(b)},!0)}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e){return function(d){function a(c){if(b[c])return b[c].exports;var h=b[c]={i:c,l:!1,exports:{}};return d[c].call(h.exports,h,h.exports,a),h.l=!0,h.exports}var b={};return a.m=d,a.c=b,a.d=function(c,h,n){a.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:n})},a.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,h){if((1&
h&&(c=a(c)),8&h)||4&h&&"object"==typeof c&&c&&c.__esModule)return c;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:c}),2&h&&"string"!=typeof c)for(var p in c)a.d(n,p,function(w){return c[w]}.bind(null,p));return n},a.n=function(c){var h=c&&c.__esModule?function(){return c["default"]}:function(){return c};return a.d(h,"a",h),h},a.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},a.p="",a(a.s=855)}({0:function(d,a,b){function c(F,v){function C(){this.constructor=
F}if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");A(F,v);F.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)}function h(F,v){var C={},G;for(G in F)Object.prototype.hasOwnProperty.call(F,G)&&0>v.indexOf(G)&&(C[G]=F[G]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(G=Object.getOwnPropertySymbols(F);H<G.length;H++)0>v.indexOf(G[H])&&Object.prototype.propertyIsEnumerable.call(F,G[H])&&
(C[G[H]]=F[G[H]])}return C}function n(F,v,C,G){var H,K=arguments.length,O=3>K?v:null===G?G=Object.getOwnPropertyDescriptor(v,C):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(F,v,C,G);else for(var L=F.length-1;0<=L;L--)(H=F[L])&&(O=(3>K?H(O):3<K?H(v,C,O):H(v,C))||O);return 3<K&&O&&Object.defineProperty(v,C,O),O}function p(F,v,C,G){return new (C||(C=Promise))(function(H,K){function O(R){try{J(G.next(R))}catch(X){K(X)}}function L(R){try{J(G["throw"](R))}catch(X){K(X)}}
function J(R){var X;R.done?H(R.value):(X=R.value,X instanceof C?X:new C(function(aa){aa(X)})).then(O,L)}J((G=G.apply(F,v||[])).next())})}function w(F,v){function C(J){return function(R){return function(X){if(G)throw new TypeError("Generator is already executing.");for(;L;)try{if(G=1,H&&(K=2&X[0]?H["return"]:X[0]?H["throw"]||((K=H["return"])&&K.call(H),0):H.next)&&!(K=K.call(H,X[1])).done)return K;switch(H=0,K&&(X=[2&X[0],K.value]),X[0]){case 0:case 1:K=X;break;case 4:return L.label++,{value:X[1],
done:!1};case 5:L.label++;H=X[1];X=[0];continue;case 7:X=L.ops.pop();L.trys.pop();continue;default:if(!(K=L.trys,(K=0<K.length&&K[K.length-1])||6!==X[0]&&2!==X[0])){L=0;continue}if(3===X[0]&&(!K||X[1]>K[0]&&X[1]<K[3]))L.label=X[1];else if(6===X[0]&&L.label<K[1])L.label=K[1],K=X;else if(K&&L.label<K[2])L.label=K[2],L.ops.push(X);else{K[2]&&L.ops.pop();L.trys.pop();continue}}X=v.call(F,L)}catch(aa){X=[6,aa],H=0}finally{G=K=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([J,R])}}var G,
H,K,O,L={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return O={next:C(0),"throw":C(1),"return":C(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O}function B(F,v){for(var C=0,G=v.length,H=F.length;C<G;C++,H++)F[H]=v[C];return F}b.d(a,"d",function(){return c});b.d(a,"a",function(){return D});b.d(a,"f",function(){return h});b.d(a,"c",function(){return n});b.d(a,"b",function(){return p});b.d(a,"e",function(){return w});b.d(a,"g",function(){return B});
var A=function(F,v){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,G){C.__proto__=G}||function(C,G){for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(C[H]=G[H])})(F,v)},D=function(){return(D=Object.assign||function(F){for(var v,C=1,G=arguments.length;C<G;C++)for(var H in v=arguments[C])Object.prototype.hasOwnProperty.call(v,H)&&(F[H]=v[H]);return F}).apply(this,arguments)};Object.create;Object.create},101:function(d,a,b){b.d(a,"a",function(){return h});b.d(a,"b",
function(){return n});var c=b(0),h=function(p){return p?p.urlKey?location.protocol+"//"+p.urlKey+"."+p.customBaseUrl:location.protocol+"//"+p.portalHostname:""},n=function(p){return Object(c.a)(Object(c.a)({},p),{baseUrl:h(p)})}},1019:function(d,a,b){b.d(a,"a",function(){return h});var c=b(204),h=function(){return{type:c.a.TOGGLE_SORT_DROPDOWN}}},128:function(d,a,b){b.d(a,"a",function(){return h});b.d(a,"b",function(){return n});var c=b(0);d=b(15);var h=function(p,w){var B;return w.thumbnail&&(B=
p.restUrl+"/community/groups/"+w.id+"/info/"+w.thumbnail+(p.credential?"?token\x3d"+p.credential.token:"")),B},n=Object(d.a)(function(p,w){return Object(c.a)(Object(c.a)({},w),{thumbURI:h(p,w)})})},137:function(d,a,b){b.d(a,"a",function(){return c});b.d(a,"d",function(){return p});b.d(a,"c",function(){return w});b.d(a,"e",function(){return B});b.d(a,"f",function(){return A});var c,h=b(0),n=b(25);!function(D){D.LOADING="loading";D.LOADED="loaded";D.FAILED="failed"}(c||(c={}));var p=function(D){var F=
D.selectedGroups,v=D.selectorItems;return 0===v.length?Object.keys(F).map(function(C){return F[C].group}):Object.keys(F).filter(function(C){return B(F[C],v)}).map(function(C){return F[C].group})},w=function(D){var F=D.initialSelectedGroups,v=D.selectedGroups,C=Object.keys(v).map(function(G){return v[G].group.id});return Object.keys(F).map(function(G){return F[G].group.id}).filter(function(G){return 0>C.indexOf(G)}).map(function(G){return F[G].group})},B=function(D,F){return!D.selectedByIds||D.selectedByIds.length===
F.length},A={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:c.LOADING,total:0,hasGroups:!0};a.b=function(D,F){switch(void 0===D&&(D=A),F.type){case n.a.DESELECT_GROUPS:return Object(h.a)(Object(h.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var K=H.id;G[K];return Object(h.f)(G,["symbol"==typeof K?K:K+""])},D.selectedGroups)});case n.a.REVERT_GROUPS:return F.payload?Object(h.a)(Object(h.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var K;if(D.initialSelectedGroups[H.id])return Object(h.a)(Object(h.a)({},
G),((K={})[H.id]=D.initialSelectedGroups[H.id],K));K=H.id;G[K];return Object(h.f)(G,["symbol"==typeof K?K:K+""])},D.selectedGroups)}):Object(h.a)(Object(h.a)({},D),{selectedGroups:Object(h.a)({},D.initialSelectedGroups)});case n.a.SELECT_GROUPS:var v=D.selectorItems.map(function(G){return G.id});return Object(h.a)(Object(h.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var K;return Object(h.a)(Object(h.a)({},G),((K={})[H.group.id]=Object(h.a)({selectedByIds:v},H),K))},D.selectedGroups)});
case n.a.SET_INITIAL_GROUPS:var C=F.payload.reduce(function(G,H){var K;return Object(h.a)(Object(h.a)({},G),((K={})[H.group.id]=H,K))},{});return Object(h.a)(Object(h.a)({},D),{selectedGroups:C,initialSelectedGroups:Object(h.a)({},C)});case n.a.SET_SELECTOR_ITEMS:return Object(h.a)(Object(h.a)({},D),{selectorItems:F.payload});case n.a.CLEAR_SELECTION:return Object(h.a)(Object(h.a)({},D),{selectedGroups:{}});case n.a.LOADING_GROUPS:return Object(h.a)(Object(h.a)({},D),{status:c.LOADING});case n.a.LOAD_GROUPS_SUCCESS:return Object(h.a)(Object(h.a)({},
D),{displayGroups:F.payload.results,total:F.payload.total,status:c.LOADED});case n.a.LOAD_GROUPS_FAIL:return Object(h.a)(Object(h.a)({},D),{displayGroups:[],status:c.FAILED});case n.a.SET_HAS_GROUPS:return Object(h.a)(Object(h.a)({},D),{hasGroups:F.payload});default:return D}}},144:function(d,a,b){b.d(a,"d",function(){return w});b.d(a,"e",function(){return B});b.d(a,"b",function(){return A});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});b.d(a,"f",function(){return v});var c=b(0),
h=b(181),n=b(163),p=b(68),w=function(C){return 1<C.length&&Object(n.a)(),{type:p.a.SELECT_GROUPS,payload:C.map(function(G){return{group:Object(h.c)(G)}})}},B=function(C){return{type:p.a.SET_INITIAL_GROUPS,payload:C.map(function(G){return Object(c.a)(Object(c.a)({},G),{group:Object(h.c)(G.group)})})}},A=function(C){return 1<C.length&&Object(n.b)(),{type:p.a.DESELECT_GROUPS,payload:C}},D=function(C){return{type:p.a.REVERT_GROUPS,payload:C}},F=function(){return Object(n.c)(),{type:p.a.CLEAR_SELECTION}},
v=function(C){return{type:p.a.SET_SELECTOR_ITEMS,payload:C}}},148:function(d,a,b){b.d(a,"a",function(){return h});var c=b(0);d=b(15);var h=Object(d.a)(function(n,p){var w=Object(c.a),B=Object(c.a)({},p);var A=p.thumbnail?n.restUrl+"/community/users/"+p.username+"/info/"+p.thumbnail+(n.credential?"?token\x3d"+n.credential.token:""):void 0;return w(B,{thumbURI:A})})},15:function(d,a,b){function c(n){return function w(){for(var B=this,A=[],D=0;D<arguments.length;D++)A[D]=arguments[D];return A.length>=
n.length?n.call.apply(n,Object(h.g)([this],A)):function(){for(var F=[],v=0;v<arguments.length;v++)F[v]=arguments[v];return w.call.apply(w,Object(h.g)(Object(h.g)([B],A),F))}}}b.d(a,"a",function(){return c});var h=b(0)},150:function(d,a){d.exports=r},159:function(d,a,b){b.d(a,"b",function(){return C});b.d(a,"a",function(){return H});var c=b(0),h=b(181),n=b(30),p=b(163),w=b(54),B=b(68),A=b(28),D=b(61),F=b(38),v=b(26),C=function(ea,ka){G(ka()).then(function(ma){var sa=ka();sa=Object(w.b)(sa)?sa:sa.gbState;
var za=sa.utils;sa.ui.focus.focusSelectAll&&Object(p.c)();ea({type:B.a.LOAD_GROUPS_SUCCESS,payload:Object(c.a)(Object(c.a)({},ma),{results:ma.results.map(function(ha){return Object(h.b)(za.portal,ha)})})})})["catch"](function(ma){var sa=ka();(Object(w.b)(sa)?sa:sa.gbState).ui.focus.focusSelectAll&&Object(p.c)();ea({type:B.a.LOAD_GROUPS_FAIL,payload:ma})})},G=function(ea){ea=Object(w.b)(ea)?ea:ea.gbState;var ka=ea.utils,ma=ka.request,sa=ka.portal,za=ea.config;ka=za.groupsPerPage;var ha=za.withinShare,
V=(za.withinAppConfig,ea.parameters);za=V.filter;V=V.sort;var la=ea.ui.page.currentPageNumber,T={q:aa(ea),num:ka,sortField:V.field,sortOrder:V.order,start:(la-1)*ka+1};return ha&&(T.searchUserAccess="groupMember",T.searchUserName=za.currentUsername),za.designationFilter!==F.b.orgSettings||L(sa)?new A.Promise(function(P,I){Object(n.g)(ma,sa,T).then(P,I)}):new A.Promise(function(P){P({query:T.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},H=function(ea){var ka=ea.user;ea=ea.state;ea=Object(w.b)(ea)?
ea:ea.gbState;var ma=ea.utils,sa=ma.request,za=ma.portal;ea=Object(c.a)(Object(c.a)({},ea),{parameters:Object(c.a)(Object(c.a)({},ea.parameters),{filter:Object(c.a)(Object(c.a)({},ea.parameters.filter),{currentUsername:ka.username})})});var ha={q:aa(ea),num:100,searchUserAccess:"groupMember",searchUserName:ka.username};return(new A.Promise(function(V,la){return Object(n.g)(sa,za,ha).then(function(T){if(-1!==T.nextStart){var P=Math.ceil(T.total/100)-1,I=[T.results];T=function(W){I.push(new A.Promise(function(ca,
Q){var N=100*(W+1)+1;Object(n.g)(sa,za,Object(c.a)(Object(c.a)({},ha),{start:N})).then(function(S){ca(S.results)},Q)}))};for(var ba=0;ba<P;ba++)T(ba);A.Promise.all(I).then(function(W){V(Object(D.b)(W))})}else V(T.results)},la)}))["catch"](function(V){throw V;})},K=function(ea){var ka,ma=ea.shareMode,sa=ea.currentUsername,za=ea.portalUser;ea=ea.userGroups;var ha=[];switch(ea&&ea.forEach(function(V){var la,T=null===(la=V.userMembership)||void 0===la?void 0:la.memberType;!V.isViewOnly||"owner"!==T&&
"admin"!==T||ha.push(V.id)}),ha.length&&(ka="(isviewonly:false OR "+ha.join(" OR ")+")"),ma){case v.d.DEFAULT:return ka||"(owner:"+sa+" OR isviewonly:false)";case v.d.GROUP:return"owner:"+sa+" -capabilities:updateitemcontrol";case v.d.ADMIN:return za.username===sa?"(isviewonly:false OR owner:"+za.username+") -capabilities:updateitemcontrol":"(owner:"+sa+" OR isviewonly:false)";default:return""}},O=function(ea,ka){0!==(null==ea?void 0:ea.indexOf("id:"))||-1<ka.indexOf(ea)||ka.push(ea)},L=function(ea){var ka,
ma,sa,za,ha,V=[],la=[ea.featuredItemsGroupQuery,ea.basemapGalleryGroupQuery,ea.templatesGroupQuery,ea["2DStylesGroupQuery"],ea.stylesGroupQuery,ea.analysisLayersGroupQuery,ea.galleryTemplatesGroupQuery];if(ea.hasModernHomePageEnabled){var T=(null===(ma=null===(ka=ea.homePageConfig)||void 0===ka?void 0:ka.content)||void 0===ma?void 0:ma.filter(function(P){return"gallery"===P.type&&!!P.groupId}))||[];0<T.length&&T.forEach(function(P){O("id:"+P.groupId,V)})}else la.push(ea.homePageFeaturedContent);return la.forEach(function(P){O(P,
V)}),null===(sa=ea.featuredGroups)||void 0===sa||sa.forEach(function(P){(P=P.id)&&O("id:"+P,V)}),null===(ha=null===(za=ea.userDefaults)||void 0===za?void 0:za.groups)||void 0===ha||ha.forEach(function(P){O("id:"+P,V)}),0<V.length?"("+V.join(" OR ")+")":""},J=function(ea){var ka=ea.portal;switch(ea.designationFilter){case F.b.openData:return"isopendata:true";case F.b.updateGroups:return"capabilities:updateitemcontrol";case F.b.distributed:return"capabilities:distributed";case F.b.administrative:return"isleavingdisallowed:true";
case F.b.orgSettings:return L(ka)||"";default:return""}},R=function(ea){var ka=ea.portal,ma=ea.username,sa=ea.currentUsername,za=ea.userType,ha=ea.withinAppConfig;ma=ea.shareMode===v.d.ADMIN&&sa||ma;ha=ka.isPortal&&ha?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(ea.ownerFilter){case F.d.itemOwner:return"owner:"+ma+" "+ha;case F.d.inOrg:return"-owner:"+ma+" orgid:"+ka.id+" "+ha;case F.d.outsideOrg:return za===v.e.PUBLIC?"-owner:"+ma+" "+ha:"(orgid: [0 TO \\{]) -orgid:"+
ka.id+" "+ha;default:return ha}},X=function(ea){return ea?"created: ["+(ka=ea).start+" TO "+ka.end+"]":"";var ka},aa=function(ea){var ka=ea.utils,ma=ka.portal;ka=ka.portalUser;var sa=ea.config,za=sa.shareMode,ha=sa.userType,V=sa.withinAppConfig,la=sa.hasIndoorsSpaces;ea=ea.parameters.filter;var T=ea.designationFilter,P=ea.membershipFilter,I=ea.dateCreatedFilter,ba=ea.currentUsername,W=ea.ownerFilter;return[sa.baseQ+" "+ea.searchString,K({shareMode:za,currentUsername:ba,portalUser:ka,userGroups:sa.userGroups}),
la?"-capabilities:distributed":J({designationFilter:T,portal:ma}),la?"membershipaccess:org":P?"anyOrg"===P?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+P:"",X(I),R({ownerFilter:W,portal:ma,username:ka.username,currentUsername:ba,shareMode:za,userType:ha,withinAppConfig:V})].filter(function(ca){return ca}).join(" ").trim()}},16:function(d,a){d.exports=U},163:function(d,a,b){function c(){p("gb__select-all-input")}function h(){p("gb__clear-selection-btn")}function n(){setTimeout(function(){var w=
document.querySelector(".gcard-gcc__container");w&&(w=w.querySelector(".btn-2018check__input"))&&w.focus()},50)}function p(w){setTimeout(function(){var B=document.querySelector("#"+w);B&&B.focus()},50)}b.d(a,"c",function(){return c});b.d(a,"a",function(){return h});b.d(a,"b",function(){return n})},170:function(d,a){var b=function(){return this}();try{b=b||(new Function("return this"))()}catch(c){"object"==typeof window&&(b=window)}d.exports=b},175:function(d,a,b){var c;b.d(a,"a",function(){return c});
(c||(c={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},181:function(d,a,b){b.d(a,"b",function(){return p});b.d(a,"c",function(){return w});b.d(a,"a",function(){return B});var c=b(63);d=b(5);var h=b(99),n=b(128),p=function(A,D){return Object(c.a)(Object(n.b)(A))(D)},w=Object(c.a)(Object(d.e)("thumbURI")),B=function(A){var D=A.initialSelectedByIds;return!Object(h.a)(A.selectedBy.map(function(F){return F.id}),D)}},186:function(d,a,b){b.d(a,"b",function(){return h});b.d(a,"g",function(){return n});b.d(a,
"h",function(){return p});b.d(a,"e",function(){return w});b.d(a,"f",function(){return B});b.d(a,"d",function(){return A});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});var c=b(83),h=function(v){return{type:c.a.SET_SEARCH_STRING,payload:v}},n=function(v){return{type:c.a.UPDATE_OWNER_FILTER,payload:v}},p=function(v){return{type:c.a.UPDATE_USERNAME_FILTER,payload:v}},w=function(v){return{type:c.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:v}},B=function(v){return{type:c.a.UPDATE_MEMBERSHIP_FILTER,
payload:v}},A=function(v){return{type:c.a.UPDATE_CREATED_ON_FILTER,payload:{section:v.section,created:v.created}}},D=function(v){return{type:c.a.SET_USERS,payload:v}},F=function(v){return{type:c.a.CLEAR_FILTERS,payload:v}}},189:function(d,a){function b(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function h(K){if(D===setTimeout)return setTimeout(K,0);if((D===b||!D)&&setTimeout)return D=setTimeout,setTimeout(K,0);try{return D(K,0)}catch(O){try{return D.call(null,
K,0)}catch(L){return D.call(this,K,0)}}}function n(){G&&v&&(G=!1,v.length?C=v.concat(C):H=-1,C.length&&p())}function p(){if(!G){var K=h(n);G=!0;for(var O=C.length;O;){v=C;for(C=[];++H<O;)v&&v[H].run();H=-1;O=C.length}v=null;G=!1;(function(L){if(F===clearTimeout)return clearTimeout(L);if((F===c||!F)&&clearTimeout)return F=clearTimeout,clearTimeout(L);try{F(L)}catch(J){try{return F.call(null,L)}catch(R){return F.call(this,L)}}})(K)}}function w(K,O){this.fun=K;this.array=O}function B(){}var A=d.exports=
{};try{var D="function"==typeof setTimeout?setTimeout:b}catch(K){D=b}try{var F="function"==typeof clearTimeout?clearTimeout:c}catch(K){F=c}!0;var v,C=[],G=!1,H=-1;A.nextTick=function(K){var O=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)O[L-1]=arguments[L];C.push(new w(K,O));1!==C.length||G||h(p)};w.prototype.run=function(){this.fun.apply(null,this.array)};A.title="browser";A.browser=!0;A.env={};A.argv=[];A.version="";A.versions={};A.on=B;A.addListener=B;A.once=
B;A.off=B;A.removeListener=B;A.removeAllListeners=B;A.emit=B;A.prependListener=B;A.prependOnceListener=B;A.listeners=function(K){return[]};A.binding=function(K){throw Error("process.binding is not supported");};A.cwd=function(){return"/"};A.chdir=function(K){throw Error("process.chdir is not supported");};A.umask=function(){return 0}},192:function(d,a,b){var c;b.d(a,"a",function(){return c});(c||(c={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(h){h.SET_PAGE=
"SET_PAGE";h.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";h.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(c||(c={}))},205:function(d,a){d.exports=x},207:function(d,a,b){b.d(a,"b",function(){return n});var c=b(0),h=b(25),n={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};a.a=function(p,w){switch(void 0===p&&(p=n),w.type){case h.a.ENABLE_USER_TOGGLE:return Object(c.a)(Object(c.a)({},p),{enableUserToggle:!0});
case h.a.SET_SHARE_MODE:return Object(c.a)(Object(c.a)({},p),{shareMode:w.payload});case h.a.SET_USER_TYPE:return Object(c.a)(Object(c.a)({},p),{userType:w.payload});case h.a.TRUSTED_ORGS_LOADED:return Object(c.a)(Object(c.a)({},p),{hasTrustedOrgs:0<w.payload.length});case h.a.USER_DETAILS_LOADED:return Object(c.a)(Object(c.a)({},p),{userGroups:w.payload});case h.a.SET_SELECTOR_ITEMS:var B=!!w.payload.find(function(A){var D;return-1<(null===(D=null==A?void 0:A.typeKeywords)||void 0===D?void 0:D.indexOf("EditExtensionIndoorsSpaces"))});
return Object(c.a)(Object(c.a)({},p),{hasIndoorsSpaces:B});default:return p}}},208:function(d,a,b){b.d(a,"b",function(){return h});d=b(16);var c=b(209);b=b(38);var h={sort:c.b,filter:b.f};a.a=Object(d.combineReducers)({sort:c.a,filter:b.e})},209:function(d,a,b){b.d(a,"b",function(){return n});var c=b(0),h=b(25),n={field:"title",order:"asc"},p={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};a.a=function(w,B){switch(void 0===w&&(w=n),B.type){case h.a.CHANGE_SORT_FIELD:return Object(c.a)(Object(c.a)({},
w),{field:B.payload,order:p[B.payload]});case h.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},w),{order:B.payload});default:return w}}},210:function(d,a,b){b.d(a,"b",function(){return p});d=b(16);var c=b(211),h=b(212),n=b(213);b=b(214);var p={page:c.b,sort:h.b,focus:n.b,filter:b.b};a.a=Object(d.combineReducers)({page:c.a,sort:h.a,focus:n.a,filter:b.a})},211:function(d,a,b){b.d(a,"b",function(){return n});var c=b(0),h=b(25),n={currentPageNumber:1};a.a=function(p,w){switch(void 0===p&&(p=n),
w.type){case h.a.CLEAR_FILTERS:case h.a.UPDATE_USERNAME_FILTER:case h.a.UPDATE_OWNER_FILTER:case h.a.UPDATE_CREATED_ON_FILTER:case h.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(c.a)(Object(c.a)({},p),{currentPageNumber:1});case h.a.SET_PAGE:return Object(c.a)(Object(c.a)({},p),{currentPageNumber:w.payload});case h.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},p),{currentPageNumber:w.payload.num>w.payload.total?1:Math.ceil(w.payload.start/w.payload.num)});case h.a.LOAD_GROUPS_FAIL:return Object(c.a)(Object(c.a)({},
p),{currentPageNumber:1});default:return p}}},212:function(d,a,b){b.d(a,"b",function(){return h});var c=b(25),h=!1;a.a=function(n,p){switch(void 0===n&&(n=h),p.type){case c.a.CHANGE_SORT_FIELD:case c.a.CHANGE_SORT_ORDER:case c.a.TOGGLE_SORT_DROPDOWN:return!n;default:return n}}},213:function(d,a,b){b.d(a,"b",function(){return n});var c=b(0),h=b(25),n={focusSelectAll:!1};a.a=function(p,w){switch(w.type){case h.a.LOAD_GROUPS_FAIL:case h.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},p),{focusSelectAll:!1});
case h.a.CHANGE_SORT_FIELD:case h.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},p),{focusSelectAll:!0});default:return p}}},214:function(d,a,b){b.d(a,"b",function(){return p});var c=b(0),h=b(25),n=b(38),p={expanded:!1};a.a=function(w,B){switch(B.type){case h.a.CLEAR_FILTERS:switch(B.payload){case void 0:case n.a.DATE_CREATED:return Object(c.a)(Object(c.a)({},w),{dateCreatedSelectedSection:void 0});default:return w}case h.a.TOGGLE_EXPANDED_FILTERS:return Object(c.a)(Object(c.a)({},w),{expanded:!w.expanded});
case h.a.UPDATE_CREATED_ON_FILTER:return Object(c.a)(Object(c.a)({},w),{dateCreatedSelectedSection:B.payload.section});default:return w}}},215:function(d,a,b){b.d(a,"b",function(){return h});var c=b(101),h={portal:{},portalUser:{},request:function(n){return null}};a.a=function(n,p){return void 0===n&&(n=h),p.type,n.portal.portalHostname&&!n.portal.baseUrl&&(n.portal.baseUrl=Object(c.a)(n.portal)),n}},216:function(d,a){d.exports=t},226:function(d,a,b){b.d(a,"c",function(){return c});b.d(a,"d",function(){return h});
b.d(a,"e",function(){return n});b.d(a,"b",function(){return p});b.d(a,"f",function(){return w});b.d(a,"g",function(){return B});b.d(a,"a",function(){return A});b.d(a,"h",function(){return D});b.d(a,"i",function(){return F});b.d(a,"j",function(){return v});var c="MAXIMIZE_DLG",h="MINIMIZE_DLG",n="TOGGLE_EXPANDED_FILTERS",p="CLOSE_FULLSCREEN_BROWSER",w="TOGGLE_EXPANDED_SORT",B="UPDATE_SUBLAYER_CARD_STATE",A="CLOSE_EXPANDED_SORT",D=function(){return{type:A}},F=function(){return{type:n}},v=function(){return{type:w}}},
249:function(d,a,b){var c=b(128);a.a=function(h,n){var p=h.group,w=h.stacked,B=h.portal;w={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!p.thumbURI,"gcard-thumbnail--stacked":void 0!==w&&w,"gcard-thumbnail--transparent":h.transparent};if(p.thumbnail&&!p.thumbURI&&B&&(p.thumbURI=Object(c.a)(B,p)),p.thumbURI)return n("img",{src:p.thumbURI,classes:w,alt:p.title});B=!(!p.title.charAt(0)||!p.title.charAt(0).match(/^\w+$/));return n("div",{key:"group-thumbnail-"+p.id,classes:w},n("svg",
{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},n("path",{fill:"#"+p.id.substr(p.id.length-6),d:"M0 0h65v65H0z"}),n("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),B?n("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},p.title.slice(0,1).toUpperCase()):n("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(d,a,b){b.d(a,"a",function(){return w});var c;d=b(0);a=b(204);var h=b(68),n=b(175),p=b(83);b=b(192);!function(B){B.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";B.SET_SHARE_MODE="SET_SHARE_MODE";B.SET_USER_TYPE="SET_USER_TYPE"}(c||(c={}));var w=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},a.a),h.a),p.a),c),n.a),b.a)},254:function(d,a){d.exports=l},255:function(d,a){d.exports=f},26:function(d,a,b){var c,h,n,p,w;b.d(a,"b",function(){return c});b.d(a,"a",function(){return h});
b.d(a,"c",function(){return n});b.d(a,"e",function(){return p});b.d(a,"d",function(){return w});(function(B){B.org="org";B["private"]="private";B["public"]="public";B.shared="shared"})(c||(c={}));(function(B){B.LOADING="LOADING";B.SHARE="SHARE";B.GROUP_BROWSER="GROUP_BROWSER";B.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(h||(h={}));(function(B){B.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";B.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";B.REVERT_GROUPS="REVERT_GROUPS";B.EDITABLE_LAYERS=
"EDITABLE_LAYERS";B.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";B.NONE="NONE";B.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";B.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(n||(n={}));(function(B){B.ORG="ORG";B.PUBLIC="PUBLIC"})(p||(p={}));(function(B){B.DEFAULT="DEFAULT";B.ADMIN="ADMIN";B.GROUP="GROUP"})(w||(w={}))},28:function(d,a,b){(function(c,h){d.exports=function(){function n(){var N=setTimeout;return function(){return N(p,1)}}function p(){for(var N=0;N<
R;N+=2)(0,ha[N])(ha[N+1]),ha[N]=void 0,ha[N+1]=void 0;R=0}function w(N,S){var Y=this,Z=new this.constructor(A);void 0===Z[ba]&&L(Z);var da=Y._state;if(da){var fa=arguments[da-1];ea(function(){return O(da,Z,fa,Y._result)})}else H(Y,Z,N,S);return Z}function B(N){if(N&&"object"==typeof N&&N.constructor===this)return N;var S=new this(A);return F(S,N),S}function A(){}function D(N,S,Y){S.constructor===N.constructor&&Y===w&&S.constructor.resolve===B?function(Z,da){1===da._state?C(Z,da._result):2===da._state?
G(Z,da._result):H(da,void 0,function(fa){return F(Z,fa)},function(fa){return G(Z,fa)})}(N,S):void 0===Y?C(N,S):"function"==typeof Y?function(Z,da,fa){ea(function(ia){var na=!1,qa=function(ua,ya,Aa,Ba){try{ua.call(ya,Aa,Ba)}catch(Oa){return Oa}}(fa,da,function(ua){na||(na=!0,da!==ua?F(ia,ua):C(ia,ua))},function(ua){na||(na=!0,G(ia,ua))},ia._label);!na&&qa&&(na=!0,G(ia,qa))},Z)}(N,S,Y):C(N,S)}function F(N,S){if(N===S)G(N,new TypeError("You cannot resolve a promise with itself"));else if(Z=typeof(Y=
S),null===Y||"object"!==Z&&"function"!==Z)C(N,S);else{Y=void 0;try{Y=S.then}catch(da){return void G(N,da)}D(N,S,Y)}var Y,Z}function v(N){N._onerror&&N._onerror(N._result);K(N)}function C(N,S){void 0===N._state&&(N._result=S,N._state=1,0!==N._subscribers.length&&ea(K,N))}function G(N,S){void 0===N._state&&(N._state=2,N._result=S,ea(v,N))}function H(N,S,Y,Z){var da=N._subscribers,fa=da.length;N._onerror=null;da[fa]=S;da[fa+1]=Y;da[fa+2]=Z;0===fa&&N._state&&ea(K,N)}function K(N){var S=N._subscribers,
Y=N._state;if(0!==S.length){for(var Z=void 0,da=void 0,fa=N._result,ia=0;ia<S.length;ia+=3)Z=S[ia],da=S[ia+Y],Z?O(Y,Z,da,fa):da(fa);N._subscribers.length=0}}function O(N,S,Y,Z){var da="function"==typeof Y,fa=void 0,ia=void 0,na=!0;if(da){try{fa=Y(Z)}catch(qa){na=!1,ia=qa}if(S===fa)return void G(S,new TypeError("A promises callback cannot return that same promise."))}else fa=Z;void 0!==S._state||(da&&na?F(S,fa):!1===na?G(S,ia):1===N?C(S,fa):2===N&&G(S,fa))}function L(N){N[ba]=W++;N._state=void 0;N._result=
void 0;N._subscribers=[]}var J=Array.isArray?Array.isArray:function(N){return"[object Array]"===Object.prototype.toString.call(N)},R=0,X=void 0,aa=void 0,ea=function(N,S){ha[R]=N;ha[R+1]=S;2===(R+=2)&&(aa?aa(p):I())},ka="undefined"!=typeof window?window:void 0,ma=ka||{};ma=ma.MutationObserver||ma.WebKitMutationObserver;var sa="undefined"==typeof self&&void 0!==c&&"[object process]"==={}.toString.call(c),za="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,
ha=Array(1E3),V,la,T,P,I=void 0;sa?I=function(){return c.nextTick(p)}:ma?(la=0,T=new ma(p),P=document.createTextNode(""),T.observe(P,{characterData:!0}),I=function(){P.data=la=++la%2}):za?((V=new MessageChannel).port1.onmessage=p,I=function(){return V.port2.postMessage(0)}):I=void 0===ka?function(){try{var N=Function("return this")().require("vertx");return void 0!==(X=N.runOnLoop||N.runOnContext)?function(){X(p)}:n()}catch(S){return n()}}():n();var ba=Math.random().toString(36).substring(2),W=0,
ca=function(){function N(S,Y){this._instanceConstructor=S;this.promise=new S(A);this.promise[ba]||L(this.promise);J(Y)?(this.length=Y.length,this._remaining=Y.length,this._result=Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(Y),0===this._remaining&&C(this.promise,this._result))):G(this.promise,Error("Array Methods must be provided an Array"))}return N.prototype._enumerate=function(S){for(var Y=0;void 0===this._state&&Y<S.length;Y++)this._eachEntry(S[Y],
Y)},N.prototype._eachEntry=function(S,Y){var Z=this._instanceConstructor,da=Z.resolve;if(da===B){var fa=da=void 0,ia=!1;try{da=S.then}catch(na){ia=!0,fa=na}da===w&&void 0!==S._state?this._settledAt(S._state,Y,S._result):"function"!=typeof da?(this._remaining--,this._result[Y]=S):Z===Q?(Z=new Z(A),ia?G(Z,fa):D(Z,S,da),this._willSettleAt(Z,Y)):this._willSettleAt(new Z(function(na){return na(S)}),Y)}else this._willSettleAt(da(S),Y)},N.prototype._settledAt=function(S,Y,Z){var da=this.promise;void 0===
da._state&&(this._remaining--,2===S?G(da,Z):this._result[Y]=Z);0===this._remaining&&C(da,this._result)},N.prototype._willSettleAt=function(S,Y){var Z=this;H(S,void 0,function(da){return Z._settledAt(1,Y,da)},function(da){return Z._settledAt(2,Y,da)})},N}(),Q=function(){function N(S){this[ba]=W++;this._result=this._state=void 0;this._subscribers=[];if(A!==S){if("function"!=typeof S)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof
N)(function(Y,Z){try{Z(function(da){F(Y,da)},function(da){G(Y,da)})}catch(da){G(Y,da)}})(this,S);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return N.prototype["catch"]=function(S){return this.then(null,S)},N.prototype["finally"]=function(S){var Y=this.constructor;return"function"==typeof S?this.then(function(Z){return Y.resolve(S()).then(function(){return Z})},function(Z){return Y.resolve(S()).then(function(){throw Z;
})}):this.then(S,S)},N}();return Q.prototype.then=w,Q.all=function(N){return(new ca(this,N)).promise},Q.race=function(N){var S=this;return J(N)?new S(function(Y,Z){for(var da=N.length,fa=0;fa<da;fa++)S.resolve(N[fa]).then(Y,Z)}):new S(function(Y,Z){return Z(new TypeError("You must pass an array to race."))})},Q.resolve=B,Q.reject=function(N){var S=new this(A);return G(S,N),S},Q._setScheduler=function(N){aa=N},Q._setAsap=function(N){ea=N},Q._asap=ea,Q.polyfill=function(){var N=void 0;if(void 0!==h)N=
h;else if("undefined"!=typeof self)N=self;else try{N=Function("return this")()}catch(Z){throw Error("polyfill failed because global object is unavailable in this environment");}var S=N.Promise;if(S){var Y=null;try{Y=Object.prototype.toString.call(S.resolve())}catch(Z){}if("[object Promise]"===Y&&!S.cast)return}N.Promise=Q},Q.Promise=Q,Q}()}).call(this,b(189),b(170))},284:function(d,a){d.exports=g},285:function(d,a){d.exports=k},30:function(d,a,b){function c(ha){return ha.reduce(function(V,la){return la&&
la.relatedItems?V.concat(la.relatedItems.map(function(T){return T})):V},[])}function h(ha,V,la){return ha(V,{query:Object(w.a)({f:"json"},la)}).then(function(T){return T.data})}function n(ha,V){void 0===V&&(V=100);for(var la=[],T=0;T<Math.ceil(ha.length/V);T++)la.push(ha.slice(T*V,(T+1)*V));return la.filter(function(P){return 0<P.length})}function p(ha){var V=ha.itemIds,la=ha.request,T=ha.groupIds,P=ha.portal.restUrl+"/content/itemsgroups";return new B.Promise(function(I,ba){la(P,{method:"get",query:{f:"json",
items:V,groups:T}}).then(function(W){I(W.data)},ba)})}b.d(a,"u",function(){return A});b.d(a,"n",function(){return D});b.d(a,"h",function(){return F});b.d(a,"e",function(){return v});b.d(a,"f",function(){return C});b.d(a,"j",function(){return G});b.d(a,"o",function(){return H});b.d(a,"l",function(){return K});b.d(a,"k",function(){return O});b.d(a,"m",function(){return L});b.d(a,"c",function(){return J});b.d(a,"d",function(){return R});b.d(a,"r",function(){return X});b.d(a,"s",function(){return aa});
b.d(a,"t",function(){return ea});b.d(a,"g",function(){return ka});b.d(a,"p",function(){return ma});b.d(a,"q",function(){return sa});b.d(a,"v",function(){return h});b.d(a,"a",function(){return n});b.d(a,"i",function(){return p});b.d(a,"b",function(){return za});var w=b(0),B=b(28),A=function(ha){return function(V,la){return ha({url:V,content:la.query},{usePost:"post"===la.method}).then(function(T){return{data:T}})}},D=function(ha,V,la){return h(ha,V.restUrl+"/portals/self",{culture:la,"default":!0})},
F=function(ha,V,la){return h(ha,V.restUrl+"/content/items/"+la+"/data")},v=function(ha,V,la,T){return h(ha,V.restUrl+"/community/groups",Object(w.a)({q:la},T))},C=function(ha,V,la){return h(ha,V.restUrl+"/community/groups/"+la+"/categorySchema")},G=function(ha,V,la){return h(ha,V.restUrl+"/portals/"+(la||V.id)+"/categorySchema")},H=function(ha,V){return h(ha,V.restUrl+"/portals/"+V.id+"/servers")},K=function(ha,V,la,T){return ha(V.restUrl+"/portals/"+(la||V.id)+"/collaborationsSummary",T)},O=function(ha,
V,la,T){return ha(V.restUrl+"/portals/"+(la||V.id)+"/collaboratedItems",T)},L=function(ha,V,la){return h(ha,location.protocol+"//"+V.portalHostname+"/sharing/rest/portals/"+(la||"self"))},J=function(ha,V,la){return ha(V.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+V.id+" AND access:public",num:100,start:la||1,sortField:"title",sortOrder:"asc"}}).then(function(T){return T.data.total>T.data.start+T.data.num?J(ha,V,T.data.start+T.data.num).then(function(P){return Object(w.a)(Object(w.a)({},
P),{data:Object(w.a)(Object(w.a)({},P.data),{results:T.data.results.concat(P.data.results)})})}):T})},R=function(ha,V,la,T){return ha(V.restUrl+"/community/users/"+la+"/provisionedListings",{query:{f:"json",num:100,start:T||1}}).then(function(P){var I=B.Promise.all(P.data.provisionedListings.filter(function(W){return W.itemId}).map(function(W){return(new B.Promise(function(ca,Q){ha(V.restUrl+"/content/items/"+W.itemId,{method:"get",query:{f:"json"}}).then(function(N){ca(N.data)},Q)}))["catch"](function(ca){return 0})})),
ba=P.data.provisionedListings.map(function(W){return h(ha,V.restUrl+"/content/items/"+(W.id||W.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ca){return ca},function(ca){})});return P.data.total>P.data.start+P.data.num?R(ha,V,la,P.data.start+P.data.num).then(function(W){return B.Promise.all([I].concat(ba)).then(function(ca){return ca[0].results.concat(c(ca.slice(1))).concat(W)})}):B.Promise.all([I].concat(ba)).then(function(W){return W[0].filter(function(ca){return void 0!==
ca}).concat(c(W.slice(1)))})})},X=function(ha,V,la){return h(ha,V.restUrl+"/community/users/"+(la||V.user.username))},aa=function(ha,V,la){return h(ha,V.restUrl+"/content/users/"+(la||V.user.username),{num:1})},ea=function(ha,V,la){return h(ha,V.restUrl+"/content/groups/"+la)},ka=function(ha,V,la){return h(ha,V.restUrl+"/community/groups",la)},ma=function(ha,V){return h(ha,V.restUrl+"/portals/self/settings")},sa=function(ha,V){return h(ha,V.restUrl+"/portals/self/trustedOrgs",{num:100})},za=function(ha,
V){return void 0===V&&(V=","),ha.map(function(la){return la.id}).join(V)}},307:function(d,a,b){var c=b(0);d=b(16);var h=b(90);b=function(n){function p(){return null!==n&&n.apply(this,arguments)||this}return Object(c.d)(p,n),p.prototype.render=function(w){return w("div",{"class":"ib-ex-results__item-list"},w("div",{"class":"ib-ex-results__no-items-container"},w("div",{"class":"ib-ex-results__no-items-centered"},w("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},w("path",{fill:"#ccc",d:h.f})),w("p",
{"class":"ib-ex-results__no-items-text"},this.props.text))))},p}(d.Component);a.a=b},372:function(d,a){d.exports=y},373:function(d,a){d.exports=u},374:function(d,a){d.exports=E},375:function(d,a,b){b.d(a,"a",function(){return w});var c=b(0),h=b(69);d=b(254);var n=b.n(d);d=b(16);var p=b(90),w=function(B){function A(D){var F=B.call(this,D)||this;return F.state.searchTerm=F.props.currentSearchString||"",F.debouncedInput=n()(function(){F.props.changeSearchString.apply(F,[F.state.searchTerm])},400),F.handleInputChange=
F.handleInputChange.bind(F),F.handleClear=F.handleClear.bind(F),F}return Object(c.d)(A,B),A.prototype.componentWillReceiveProps=function(D){D.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:D.currentSearchString})},A.prototype.render=function(D){var F=this.props,v=F.title,C=F.placeholder;F=F.controls;var G=this.state.searchTerm||"";return D("div",{"class":"ac-search-area"},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},D("path",
{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"currentColor"})),D("input",{"class":"ac-search-area__input",key:"search-input",title:v,"aria-label":v,type:"search",oninput:this.handleInputChange,value:G,placeholder:C,"aria-controls":F}),G&&D("button",{"class":"ac-search-area__clear",
onclick:this.handleClear,key:"search-input-button","aria-label":h.clearSearch},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},D("path",{d:p.k,fill:"currentColor"}))))},A.prototype.handleInputChange=function(D){this.setState({searchTerm:D.target.value});this.debouncedInput()},A.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},A}(d.Component)},376:function(d,a){d.exports=z},38:function(d,a,b){b.d(a,"b",function(){return c});b.d(a,"d",
function(){return n});b.d(a,"c",function(){return p});b.d(a,"a",function(){return w});b.d(a,"f",function(){return D});var c,h,n,p,w,B=b(0),A=b(25);!function(F){F.openData="openData";F.updateGroups="updateGroups";F.distributed="distributed";F.administrative="administrative";F.orgSettings="orgSettings"}(c||(c={}));(h||(h={})).owner="owner";(function(F){F.itemOwner="itemOwner";F.inOrg="inOrg";F.outsideOrg="outsideOrg"})(n||(n={}));(function(F){F.myOrg="org";F.partnered="collaboration";F.anyOrg="anyOrg"})(p||
(p={}));(function(F){F.USER="USER";F.OWNER="OWNER";F.DESIGNATION="DESIGNATION";F.DATE_CREATED="DATE_CREATED";F.MEMBERSHIP="MEMBERSHIP"})(w||(w={}));var D={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};a.e=function(F,v){switch(void 0===F&&(F=D),v.type){case A.a.CLEAR_FILTERS:switch(v.payload){case w.DESIGNATION:return Object(B.a)(Object(B.a)({},F),{designationFilter:void 0});case w.DATE_CREATED:return Object(B.a)(Object(B.a)({},F),{dateCreatedFilter:void 0});case w.OWNER:return Object(B.a)(Object(B.a)({},
F),{ownerFilter:void 0});case w.USER:return F;case w.MEMBERSHIP:return Object(B.a)(Object(B.a)({},F),{membershipFilter:void 0});default:return Object(B.a)(Object(B.a)({},F),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case A.a.UPDATE_OWNER_FILTER:return Object(B.a)(Object(B.a)({},F),{ownerFilter:v.payload===F.ownerFilter?void 0:v.payload});case A.a.UPDATE_USERNAME_FILTER:return Object(B.a)(Object(B.a)({},F),{currentUsername:v.payload});case A.a.UPDATE_CREATED_ON_FILTER:return Object(B.a)(Object(B.a)({},
F),{dateCreatedFilter:v.payload.created});case A.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(B.a)(Object(B.a)({},F),{designationFilter:v.payload===F.designationFilter?void 0:v.payload});case A.a.UPDATE_MEMBERSHIP_FILTER:return Object(B.a)(Object(B.a)({},F),{membershipFilter:v.payload===F.membershipFilter?void 0:v.payload});case A.a.SET_USERS:return Object(B.a)(Object(B.a)({},F),{allUsers:v.payload.reduce(function(C,G){var H;return Object(B.a)(Object(B.a)({},C),((H={})[G.username]=G,H))},{})});
case A.a.SET_SEARCH_STRING:return Object(B.a)(Object(B.a)({},F),{searchString:v.payload});default:return F}}},416:function(d,a,b){var c,h=b(0);d=b(16);var n=b(54),p=b(535),w=b(38),B=b(532),A=b(534),D=b(533),F=b(536),v=b(26);b=function(G){function H(){return null!==G&&G.apply(this,arguments)||this}return Object(h.d)(H,G),H.prototype.render=function(K){return this.props.availableFilters.map(function(O){return K(C[O],{key:"gb-filter-"+O})})},H}(d.Component);var C=((c={})[w.a.DATE_CREATED]=B.a,c[w.a.OWNER]=
D.a,c[w.a.DESIGNATION]=A.a,c[w.a.USER]=p.a,c[w.a.MEMBERSHIP]=F.a,c);a.a=Object(d.connect)(function(G){var H=Object(n.b)(G)?G:G.gbState,K=H.utils;G=K.portalUser.username;var O=K.portal,L=H.config,J=L.shareMode;K=L.enableUserToggle;H=H.parameters.filter.currentUsername;if(L.withinAppConfig)return{availableFilters:[w.a.OWNER]};if(L.userType===v.e.PUBLIC)switch(J){case v.d.DEFAULT:return{availableFilters:[w.a.OWNER,w.a.DATE_CREATED]};case v.d.GROUP:return{availableFilters:[w.a.DATE_CREATED]}}switch(J){case v.d.DEFAULT:return{availableFilters:Object(h.g)(Object(h.g)([w.a.OWNER],
O.isPortal?[]:[w.a.MEMBERSHIP]),[w.a.DESIGNATION,w.a.DATE_CREATED])};case v.d.GROUP:return{availableFilters:[w.a.DESIGNATION,w.a.DATE_CREATED]};case v.d.ADMIN:return G=K&&G===H?[]:[w.a.OWNER],{availableFilters:Object(h.g)(Object(h.g)(Object(h.g)([],K?[w.a.USER]:[]),G),[w.a.DESIGNATION,w.a.DATE_CREATED])};default:return{availableFilters:[]}}},function(G){return{}})(b)},449:function(d,a){d.exports=q},5:function(d,a,b){function c(F){return 0===Object.keys(F).length&&F.constructor===Object}function h(F){return null!=
F}function n(F,v){return A.apply(null,arguments)}function p(F,v){return D.apply(null,arguments)}b.d(a,"b",function(){return c});b.d(a,"a",function(){return h});b.d(a,"e",function(){return B});b.d(a,"c",function(){return n});b.d(a,"d",function(){return p});var w=b(0);d=b(15);var B=Object(d.a)(function(F,v){var C=Object(w.a)({},v);return delete C[F],C}),A=Object(d.a)(function(F,v){return Object.keys(v).reduce(function(C,G){return C[G]=F(v[G],G,v),C},{})}),D=Object(d.a)(function(F,v){return Object.keys(v).reduce(function(C,
G){return F(v[G],G,v)&&(C[G]=v[G]),C},{})})},51:function(d,a,b){function c(aa){return!(!aa.urlKey||!aa.customBaseUrl)}function h(aa){return aa.role===G.admin||aa.role===G.accountAdmin}function n(aa){return Object(O.a)(aa.roleId)&&0<(aa.roleId||"").length}function p(aa){return!n(aa)||n(aa)&&-1<(aa.privileges||[]).indexOf("portal:admin:viewItems")}function w(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToOrg")}function B(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToGroup")}
function A(aa){return-1<(aa.privileges||[]).indexOf("portal:user:shareToPublic")}function D(aa,ea){return F(aa)||v(aa)||ea.canSharePublic&&C(aa)}function F(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToGroup")}function v(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToOrg")}function C(aa){return-1<(aa.privileges||[]).indexOf("portal:admin:shareToPublic")}b.d(a,"l",function(){return J});b.d(a,"h",function(){return R});b.d(a,"m",function(){return X});b.d(a,"k",function(){return c});
b.d(a,"i",function(){return h});b.d(a,"j",function(){return n});b.d(a,"g",function(){return p});b.d(a,"b",function(){return w});b.d(a,"a",function(){return B});b.d(a,"c",function(){return A});b.d(a,"d",function(){return F});b.d(a,"e",function(){return v});b.d(a,"f",function(){return C});var G,H=b(63),K=b(148),O=b(5),L=b(58);!function(aa){aa.user="org_user";aa.accountUser="account_user";aa.publisher="org_publisher";aa.accountPublisher="account_publisher";aa.admin="org_admin";aa.accountAdmin="account_admin";
aa.viewer="iAAAAAAAAAAAAAAA";aa.dataEditor="iBBBBBBBBBBBBBBB"}(G||(G={}));var J=function(aa){var ea=aa.items;return!!aa.user.orgId&&ea.every(function(ka){return ka.isOrgItem})},R=function(aa){var ea=aa.items,ka=aa.user,ma=aa.portal;aa=ea[0];var sa=Object(L.c)(aa,ka),za=n(ka),ha=D(ka,ma);if(za=Object(L.a)(aa,ka)&&-1<(ka.privileges||[]).indexOf("portal:admin:updateItems")&&!za)za=!c(ma)||B(ka)||w(ka)||ma.canSharePublic&&A(ka)||D(ka,ma);ma=za;return!(aa.portal.isPortal&&aa.owner!==ka.username&&-1<aa.owner.indexOf("esri_"))&&
(sa||ma||J({items:ea,user:ka})&&ha)},X=function(aa,ea){return Object(H.a)(Object(K.a)(aa))(ea)}},530:function(d,a,b){var c=b(0),h=b(69),n=b(284);d=b(16);var p=b(186),w=b(802),B=b(803),A=b(1019),D=b(54),F=b(374),v=b.n(F),C=b(25);F=b(285);var G=b.n(F),H=b(375);b=function(K){function O(L){L=K.call(this,L)||this;return L.handleInputChange=L.handleInputChange.bind(L),L.handleSortFieldChange=L.handleSortFieldChange.bind(L),L.handleSortOrderChange=L.handleSortOrderChange.bind(L),L.handleSortClick=L.handleSortClick.bind(L),
L}return Object(c.d)(O,K),O.prototype.render=function(L){var J=n.substitute(this.props.userFileringEnabled?h.searchGroupsForUser:h.searchGroups,{user:this.props.currentUser});return L("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},L(H.a,{key:"groupbrowser-search-area-input",title:J,placeholder:J,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&
L("div",{"class":"gb-search-area__btn-section"},L(v.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&L(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},
L("div",{"class":"drp-sort__btn-body"},L("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},L("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),L("span",{"class":"drp-sort__btn-label"},h.filter))))},O.prototype.handleInputChange=function(L){this.props.changeSearchString(L);this.props.updateDisplayGroups()},O.prototype.handleSortFieldChange=function(L){this.props.changeSortField(L);this.props.updateDisplayGroups()},O.prototype.handleSortOrderChange=
function(L){this.props.changeSortOrder(L);this.props.updateDisplayGroups()},O.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},O}(d.Component);a.a=Object(d.connect)(function(K){var O=Object(D.b)(K)?K:K.gbState,L=O.ui,J=O.parameters;O=O.config;return{currentSearchString:J.filter.searchString,sortActive:L.sort,sortField:J.sort.field,sortOrder:J.sort.order,filteringEnabled:O.enableFiltering,filtersOpen:L.filter.expanded,isWithinShare:!Object(D.b)(K),userFileringEnabled:O.enableUserToggle,
currentUser:J.filter.currentUsername}},function(K){return{changeSearchString:function(O){return K(Object(p.b)(O))},changeSortField:function(O){return K(Object(w.a)(O))},changeSortOrder:function(O){return K(Object(w.b)(O))},updateDisplayGroups:function(){K(Object(B.a)(1))},toggleSortDropdown:function(){return K(Object(A.a)())},toggleFilterSidebar:function(){K({type:C.a.TOGGLE_EXPANDED_FILTERS})}}})(b)},531:function(d,a,b){var c=b(0),h=b(69);d=b(16);var n=b(54),p=b(416);b=function(w){function B(){return null!==
w&&w.apply(this,arguments)||this}return Object(c.d)(B,w),B.prototype.render=function(A){var D=this.props.filterOpen;return A("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,"ib__big-filters--visible":D,"ib__big-filters--hidden":!D}},A("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!D}},A("h3",{"class":"ib__big-filter-label"},h.filters),A(p.a,{key:"group-browser-filters"})))},B}(d.Component);a.a=Object(d.connect)(function(w){return{filterOpen:(Object(n.b)(w)?
w:w.gbState).ui.filter.expanded}},function(w){return{}})(b)},532:function(d,a,b){d=b(16);var c=b(376);c=b.n(c);var h=b(54),n=b(186),p=b(159);a.a=Object(d.connect)(function(w){w=Object(h.b)(w)?w:w.gbState;return{dateCreatedFilter:w.parameters.filter.dateCreatedFilter,dateCreatedSection:w.ui.filter.dateCreatedSelectedSection}},function(w){return{onDateCreatedSelect:function(B,A){w(Object(n.d)({section:B,created:A}));w(p.b)}}})(c.a)},533:function(d,a,b){var c=b(0),h=b(69);d=b(16);var n=b(54),p=b(186),
w=b(159),B=b(38),A=b(255),D=b.n(A);A=b(216);var F=b.n(A),v=b(26);b=function(C){function G(){return null!==C&&C.apply(this,arguments)||this}return Object(c.d)(G,C),G.prototype.render=function(H){var K=this.props,O=K.currentFilter,L=K.handleOwnerClick,J=K.username,R=K.userType,X=K.portal,aa=K.hasIndoorsSpaces;return H(D.a,{key:"group-owner-filter-accordion",title:h.owner,clearable:!!O,onClear:function(){L(O)},startActive:!0},H("ul",{"class":"ib-filter-pane__list"},Object.keys(B.d).map(function(ea){if(!(ea===
B.d.inOrg&&R===v.e.PUBLIC||ea===B.d.outsideOrg&&(X.isPortal||aa))){var ka=h.ownerTitles[ea];ea===B.d.itemOwner?ka=J:ea===B.d.outsideOrg&&R===v.e.PUBLIC&&(ka=h.ownerTitles.someOneElse);var ma=B.d[ea];return H(F.a,{key:ma,name:ka,value:ma,selectedToggle:O,onToggleClick:function(){L(ma)}})}})))},G}(d.Component);a.a=Object(d.connect)(function(C){var G=Object(n.b)(C)?C:C.gbState;C=G.utils;var H=C.portalUser.username,K=G.parameters.filter,O=K.currentUsername;G=G.config;return{currentFilter:K.ownerFilter,
portal:C.portal,username:G.shareMode===v.d.ADMIN?O:H,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(C){return{handleOwnerClick:function(G){C(Object(p.g)(G));C(w.b)}}})(b)},534:function(d,a,b){var c=b(0),h=b(69);d=b(16);var n=b(54),p=b(186),w=b(159),B=b(38),A=b(255),D=b.n(A);A=b(216);var F=b.n(A),v=b(26);b=function(C){function G(){return null!==C&&C.apply(this,arguments)||this}return Object(c.d)(G,C),G.prototype.render=function(H){var K=this.props,O=K.currentFilter,L=K.handleDesignationClick,
J=K.showSharedUpdate,R=K.portal,X=K.hasIndoorsSpaces;return H(D.a,{key:"group-designation-filter-accordion",title:h.designation,clearable:!!O,onClear:function(){L(O)}},H("ul",{"class":"ib-filter-pane__list"},Object.keys(B.b).filter(function(aa){return!(aa===B.b.updateGroups&&!J)&&(aa!==B.b.openData||!R.isPortal)&&(aa!==B.b.distributed||!X)}).map(function(aa){var ea=B.b[aa];return H(F.a,{key:ea,name:h.designationFilterTitles[aa],value:ea,selectedToggle:O,onToggleClick:function(){L(ea)},infoTooltip:"orgSettings"===
ea?h.orgSettingsTooltip:void 0})})))},G}(d.Component);a.a=Object(d.connect)(function(C){var G=Object(n.b)(C)?C:C.gbState;C=G.utils;var H=C.portalUser.username,K=G.config,O=K.shareMode;G=G.parameters.filter;var L=G.currentUsername;return{currentFilter:G.designationFilter,portal:C.portal,hasIndoorsSpaces:K.hasIndoorsSpaces,showSharedUpdate:(!K.enableUserToggle||H!==L)&&O!==v.d.GROUP}},function(C){return{handleDesignationClick:function(G){C(Object(p.e)(G));C(w.b)}}})(b)},535:function(d,a,b){var c=b(0),
h=b(69);d=b(16);var n=b(54),p=b(186),w=b(159),B=b(255),A=b.n(B);B=b(216);var D=b.n(B);b=function(F){function v(){return null!==F&&F.apply(this,arguments)||this}return Object(c.d)(v,F),v.prototype.render=function(C){var G=this.props,H=G.currentUsername,K=G.portalUsername,O=G.handleUserClick;return C(A.a,{key:"user-toggle-filter-accordion",title:h.viewGroupsFor,clearable:!1,startActive:!0},C("ul",{"class":"ib-filter-pane__list"},G.allUsernames.map(function(L){var J=L===H;return C(D.a,{key:L,name:K===
L?L+" "+h.me:L,value:L,selectedToggle:H,onToggleClick:function(){J||O(L)}})})))},v}(d.Component);a.a=Object(d.connect)(function(F){F=Object(n.b)(F)?F:F.gbState;var v=F.parameters.filter,C=F.utils.portal.portalUser.username;return{currentUsername:v.currentUsername,portalUsername:C,allUsernames:Object.keys(v.allUsers).sort(function(G){return G===C?1:-1})}},function(F){return{handleUserClick:function(v){F(Object(p.a)());F(Object(p.h)(v));F(w.b)}}})(b)},536:function(d,a,b){var c=b(0),h=b(69);d=b(16);
var n=b(54),p=b(186),w=b(159),B=b(255),A=b.n(B);B=b(216);var D=b.n(B),F=b(38);b=function(v){function C(){return null!==v&&v.apply(this,arguments)||this}return Object(c.d)(C,v),C.prototype.render=function(G){var H=this.props,K=H.currentFilter,O=H.hasTrustedOrgs,L=H.handleMembershipClick;if(!H.hasIndoorsSpaces)return G(A.a,{key:"group-membership-filter-accordion",title:h.membership,clearable:!!K,onClear:function(){L(K)},flex:!0},G("ul",{"class":"ib-filter-pane__list"},Object.keys(F.c).filter(function(J){return O||
"partnered"!==J}).map(function(J){var R=F.c[J];return G(D.a,{key:R,name:h.membershipFilterTitles[J],value:R,selectedToggle:K,onToggleClick:function(){L(R)}})})))},C}(d.Component);a.a=Object(d.connect)(function(v){v=Object(n.b)(v)?v:v.gbState;var C=v.config;return{currentFilter:v.parameters.filter.membershipFilter,hasTrustedOrgs:C.hasTrustedOrgs,hasIndoorsSpaces:C.hasIndoorsSpaces}},function(v){return{handleMembershipClick:function(C){v(Object(p.f)(C));v(w.b)}}})(b)},537:function(d,a,b){var c=b(0);
d=b(16);var h=b(205),n=b.n(h),p=b(542),w=b(538),B=b(144),A=b(54),D=b(137);b=function(F){function v(){var C=null!==F&&F.apply(this,arguments)||this;return C.handleGroupCheck=function(G){if(C.props.enableSingleSelection){var H=Object.keys(C.props.selectedGroups).map(function(K){return C.props.selectedGroups[K].group});C.props.deselectGroups(H)}C.props.selectGroups([G])},C.handleGroupUncheck=function(G){C.props.deselectGroups([G])},C.handleGroupRevert=function(G){C.props.revertGroups([G])},C}return Object(c.d)(v,
F),v.prototype.render=function(C){var G=this.props,H=G.selectorItems,K=G.displayGroups,O=G.selectedGroups,L=G.sortField,J=G.initialSelectedGroups,R=G.portal,X=G.shouldDisable,aa=G.disabledText,ea=G.noFilters;G=G.status===D.a.LOADING;var ka={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return C("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?C(n.a,{key:"group-browser-loader-bars"}):null,C("section",{classes:ka,
key:"group-browser-section-totals"},C(w.a,{key:"group-browser-totals"})),C("section",{classes:ka,key:"group-browser-section-groups"},C(p.a,{key:"groups-area",selectorItems:H,displayGroups:K,selectedGroups:O,sortField:L,handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:J,portal:R,noFilters:ea,shouldDisable:X,disabledText:aa})))},v}(d.Component);a.a=Object(d.connect)(function(F){F=Object(A.b)(F)?F:F.gbState;
var v=F.groups,C=F.config,G=F.parameters,H=G.filter,K=H.ownerFilter,O=H.designationFilter,L=H.dateCreatedFilter;return{status:v.status,displayGroups:v.displayGroups,selectedGroups:v.selectedGroups,sortField:G.sort.field,noFilters:!(H.searchString||O||L||K),portal:F.utils.portal,selectorItems:v.selectorItems,initialSelectedGroups:v.initialSelectedGroups,shouldDisable:C.shouldDisable,disabledText:C.disabledText,enableSingleSelection:C.enableSingleSelection}},function(F){return{selectGroups:function(v){return F(Object(B.d)(v))},
deselectGroups:function(v){return F(Object(B.b)(v))},revertGroups:function(v){return F(Object(B.c)(v))}}})(b)},538:function(d,a,b){var c=b(0),h=b(69),n=b(150);d=b(16);var p=b(144),w=b(539),B=b(54),A=b(137),D=b(541);b=function(F){function v(){var C=null!==F&&F.apply(this,arguments)||this;return C.handleSelectAll=function(){C.props.selectGroups(C.props.displayGroups)},C.handleDeselectAll=function(){C.props.deselectGroups(C.props.displayGroups)},C.handleClearSelection=function(){C.props.clearAll()},
C}return Object(c.d)(v,F),v.prototype.render=function(C){var G=this,H=this.props,K=H.displayGroups,O=H.selectedGroups,L=H.selectorItems,J=H.portal,R=H.isWithinShare,X=H.enableSingleSelection;H=function(ka){var ma=ka.fullySelectedGroups,sa=ka.displayGroups.map(function(za){return za.id});return ma.filter(function(za){return 0<=sa.indexOf(za.id)})}({fullySelectedGroups:H.fullySelectedGroups,displayGroups:K});K=K.length===H.length;H=Object.keys(O).map(function(ka){return O[ka]});var aa="en"===n.locale.slice(0,
2),ea=(aa?h.pageRange.en:h.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);aa=(aa?h.total.en:h.total.other).replace("${total}",this.props.totalItems);return C("div",{"class":"gb-total-area__wrap",key:"gb-total-area__wrap"},C("div",{"class":"gb-total-area__container",key:"gb-total-area-checked"},0<H.length&&C(w.a,{key:"selected-groups-dropdown",groups:H,items:L,handleGroupClick:function(ka){G.props.deselectGroups([ka])},
portal:J}),0<H.length&&C("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn","class":"gb-total-area__btn-link",onclick:this.handleClearSelection},h.clearSelection),0===H.length&&C("span",{"class":"gb-total-area__description"},ea,C("span",{"class":"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},aa)),R||X?null:K?C("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleDeselectAll},
h.deselectAllOnPage):C("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleSelectAll},h.selectAllOnPage)),C(D.a,{key:"gb-filter-chips"}))},v}(d.Component);a.a=Object(d.connect)(function(F){var v=Object(B.b)(F)?F:F.gbState,C=v.groups,G=C.total,H=C.selectedGroups,K=C.selectorItems,O=v.config,L=O.groupsPerPage;O=O.enableSingleSelection;var J=v.utils.portal,R=v.ui.page.currentPageNumber,X=0===G?0:L*(R-1)+1;L=G<L*R?G:L*R;return{displayGroups:C.displayGroups,
fullySelectedGroups:Object(A.d)(v.groups),selectedGroups:H,selectorItems:K,startNum:X,endNum:L,totalItems:G,portal:J,isWithinShare:!Object(B.b)(F),enableSingleSelection:O}},function(F){return{selectGroups:function(v){return F(Object(p.d)(v))},deselectGroups:function(v){return F(Object(p.b)(v))},clearAll:function(){return F(Object(p.a)())}}})(b)},539:function(d,a,b){var c=b(0),h=b(69),n=b(150);d=b(16);var p=b(90),w=b(540),B={open:!1};b=function(A){function D(){var F=null!==A&&A.apply(this,arguments)||
this;return F.state=B,F.handleClick=function(v){v=v.target;F.dropdown&&F.dropdown.contains(v)||((v=F.toggleButton&&F.toggleButton.contains(v))?F.setState({open:!F.state.open}):F.state.open&&!v&&F.setState({open:!1}))},F}return Object(c.d)(D,A),D.prototype.render=function(F){var v=this,C=this.props,G=C.groups,H=C.handleGroupClick,K=C.items,O=C.portal;C=1<G.length?h.groupsSelected.enPlural:h.groupsSelected.en;"en"!==n.locale.slice(0,2)&&(C=h.groupsSelected.other);C=C.replace("${num}",G.length);var L=
K.some(function(J){return!!J.username});return F("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",v.handleClick)},afterRemoved:function(){document.removeEventListener("click",v.handleClick);v.setState(B)}},F("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(J){v.toggleButton=J},afterRemoved:function(){v.toggleButton=void 0}},F("span",{"class":"selected-dropdown__toggle-button__text"},
C),F("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},F("path",{d:p.a}))),this.state.open&&F("div",{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(J){v.dropdown=J},afterRemoved:function(){v.dropdown=void 0}},F("h3",{"class":"selected-dropdown__list__title"},h.selectedGroups),F("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",
key:"selected-dropdown__list",role:"menu"},G.map(function(J){return F(w.a,{selectedGroupData:J,itemTotal:K.length,handleCloseClick:H,key:J.group.id,portal:O,isMemberSelector:L})}))))},D}(d.Component);a.a=b},54:function(d,a,b){b.d(a,"b",function(){return p});b.d(a,"a",function(){return w});b.d(a,"c",function(){return B});d=b(16);a=b(215);var c=b(208),h=b(137),n=b(210);b=b(207);var p=function(A){return!A.gbState},w={config:b.b,parameters:c.b,groups:h.f,ui:n.b,utils:a.b},B=Object(d.combineReducers)({config:b.a,
parameters:c.a,groups:h.b,ui:n.a,utils:a.a})},540:function(d,a,b){var c=b(0),h=b(69),n=b(150);d=b(16);var p=b(249),w=b(90);b=function(B){function A(){return null!==B&&B.apply(this,arguments)||this}return Object(c.d)(A,B),A.prototype.render=function(D){var F=this.props,v=F.selectedGroupData,C=F.handleCloseClick,G=F.itemTotal,H=F.portal,K=v.group;v=v.selectedByIds&&v.selectedByIds.length;F=F.isMemberSelector?h.membersSelected:h.itemsSelected;F="en"===n.locale.slice(0,2)?F.en.replace("${num}",v).replace("${total}",
G):F.other.replace("${num}",v).replace("${total}",G);var O=h.deselectGroup.replace("${name}",K.title);return D("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:K.id},D(p.a,{group:K,stacked:!0,portal:H}),D("span",{"class":"selected-dropdown__list-item__description"},K.title,v!==G&&D("span",{"class":"selected-dropdown__list-item__count"},F)),D("button",{"class":"selected-dropdown__list-item__button",onclick:function(){C(K)},"aria-label":O},D("svg",null,D("path",{d:w.j}))))},A}(d.Component);
a.a=b},541:function(d,a,b){var c=b(0),h=b(69),n=b(284);d=b(16);var p=b(54),w=b(38),B=b(449),A=b.n(B),D=b(186),F=b(159),v=b(26);b=function(G){function H(){var K=null!==G&&G.apply(this,arguments)||this;return K.state={filterOpen:!1},K}return Object(c.d)(H,G),H.prototype.render=function(K){var O=this,L=this.props,J=L.activeFilters,R=L.handleClearAllFilters,X=L.handleClearFilter,aa=this.state.filterOpen;if(0!==J.length)return K("div",{"class":"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},
K("div",{"class":"filter-controller__container",key:"filter-controller__container"},K("span",{"class":"filter-controller__label"},h.filters,":"),K("div",{"class":"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},aa?J.map(function(ea){return K(A.a,{filterId:ea.type,handleRemoveFilter:function(ka){X(ea.type)},key:ea.type,text:ea.text})}):K(A.a,{filterId:J[0].type,handleRemoveFilter:function(ea){X(J[0].type)},key:J[0].type,text:J[0].text}),1<J.length&&
K("button",{onclick:function(){return O.setState({filterOpen:!aa})},key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":aa}},(aa?"- ":"+ ")+(J.length-1)),K("button",{"class":"filter-controller__clear-btn",onclick:R},h.clearAll))))},H}(d.Component);a.a=Object(d.connect)(function(G){G=Object(p.b)(G)?G:G.gbState;return{activeFilters:C({filterState:G.parameters.filter,username:G.utils.portalUser.username,isPublic:G.config.userType===v.e.PUBLIC})}},
function(G){return{handleClearAllFilters:function(){G(Object(D.a)());G(F.b)},handleClearFilter:function(H){G(Object(D.a)(H));G(F.b)}}})(b);var C=function(G){var H=G.filterState,K=H.designationFilter,O=H.ownerFilter,L=H.dateCreatedFilter,J=H.membershipFilter;H=G.username;G=G.isPublic;var R=[];K&&R.push({text:n.substitute(h.filterChips.designation,{designation:h.designationFilterTitles[K]}),type:w.a.DESIGNATION});O&&(K=O===w.d.itemOwner&&H||h.ownerTitles[O],O===w.d.outsideOrg&&G&&(K=h.ownerTitles.someOneElse),
R.push({text:n.substitute(h.filterChips.owner,{owner:K}),type:w.a.OWNER}));if(L&&R.push({text:n.substitute(h.filterChips.created,{created:L.label}),type:w.a.DATE_CREATED}),J){var X="";Object.keys(w.c).some(function(aa){return w.c[aa]===J&&(X=aa),X});R.push({text:n.substitute(h.filterChips.membership,{membership:h.membershipFilterTitles[X]}),type:w.a.MEMBERSHIP})}return R}},542:function(d,a,b){var c=b(69);d=b(543);var h=b.n(d);d=b(544);var n=b.n(d),p=b(307),w=b(137);a.a=function(B,A){var D=B.displayGroups,
F=B.handleGroupCheck,v=B.handleGroupUncheck,C=B.selectedGroups,G=B.sortField,H=B.portal,K=B.selectorItems,O=B.initialSelectedGroups,L=B.handleGroupRevert,J=B.shouldDisable,R=B.noFilters,X=B.disabledText;return 0===D.length?A(p.a,{key:"no-group-results",text:R?c.noGroupsAvailable:c.noGroupsFound}):D.map(function(aa){var ea=C[aa.id],ka=ea&&Object(w.e)(ea,K);if(0===K.length)return A(h.a,{checked:ka,group:aa,key:aa.id,sortField:G,onCheckGroup:F,onUncheckGroup:v,portal:H,shouldDisable:J,disabledText:X});
var ma=O[aa.id],sa=!!(ea&&!ka&&ea.selectedByIds&&0<ea.selectedByIds.length);ma=ma&&ma.selectedByIds||[];var za=ea&&ea.selectedByIds||[];ea=K.filter(function(ha){return-1<za.indexOf(ha.id)});return A(n.a,{group:aa,checked:ka,indeterminate:sa,initialSelectedByIds:ma,selectedBy:ea,allSelectorItemIds:K.map(function(ha){return ha.id}),key:aa.id,sortField:G,onCheckGroup:F,onUncheckGroup:v,onRevertGroup:L,portal:H,shouldDisable:J,disabledText:"",selectors:K})})}},543:function(d,a){d.exports=m},544:function(d,
a){d.exports=e},58:function(d,a,b){function c(A,D){return(null==A?void 0:A.owner)===D.username}function h(A,D){var F;if(!(F=c(A,D)))if(Object(p.a)(A.isAdmin))F=!!A.isAdmin;else{F=A.owner;var v="admin"===A.itemControl;F=!(A.portal.isPortal&&!c(A,D)&&v&&-1<F.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(F))&&v}return F}function n(A,D){return h(A,D)||"update"===A.itemControl}b.d(a,"d",function(){return c});b.d(a,"c",function(){return h});b.d(a,"a",function(){return n});
b.d(a,"b",function(){return B});var p=b(5),w=b(51),B=function(A){var D=A.user,F=A.items;A=A.portal;return Object(w.l)({items:F,user:D})&&Object(w.h)({items:F,user:D,portal:A})&&Object(w.g)(D)&&F[0].itemOwner||D}},61:function(d,a,b){function c(R){var X=R.groupIds,aa=R.shareLevelOptions,ea=R.restUrl,ka=R.request,ma=R.unshare;return B.Promise.all(R.items.map(function(sa,za){return new B.Promise(function(ha,V){ka(ea+"/content/items/"+(sa.itemId||sa.id)+"/"+(ma?"unshare":"share"),{method:"post",query:Object(p.a)({f:"json",
groups:X,confirmItemControl:!0},aa||{})}).then(ha,V)})}))["catch"](function(sa){throw sa;})}function h(R,X){return new B.Promise(function(aa,ea){var ka,ma=null===(ka=R.helpMap)||void 0===ka?void 0:ka.m;ma?aa(ma):X(R.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(sa){var za;aa(null===(za=sa.data.helpMap)||void 0===za?void 0:za.m)},ea)})}b.d(a,"h",function(){return D});b.d(a,"g",function(){return F});b.d(a,"b",function(){return v});b.d(a,"e",function(){return C});b.d(a,"d",
function(){return G});b.d(a,"f",function(){return L});b.d(a,"c",function(){return J});b.d(a,"a",function(){return h});var n,p=b(0),w=b(30),B=b(28);d=b(26);var A=b(58),D=function(R){var X=R.items,aa=R.groups,ea=R.restUrl,ka=R.request,ma=R.portalUser;if(0===X.length)return B.Promise.resolve();var sa=Object(w.b)(aa);return X.every(function(za){return Object(A.d)(za,ma)})?new B.Promise(function(za,ha){if(!aa||0===aa.length)return za();var V={f:"json",items:Object(w.b)(X),groups:sa};ka(ea+"/content/users/"+
ma.username+"/unshareItems",{method:"post",query:V}).then(za,ha)}):c({items:X,groupIds:sa,restUrl:ea,request:ka,unshare:!0})},F=function(R){var X=R.items,aa=R.groups,ea=R.restUrl,ka=R.request,ma=R.portalUser,sa=R.selectedOptions;R=R.ignoreShareLevel;if(0===X.length)return B.Promise.resolve();if(!R&&!sa)throw"Selected options must be provided unless share level is ignored.";var za=Object(w.b)(aa),ha=R?{}:H(sa);return X.every(function(V){return Object(A.d)(V,ma)})?new B.Promise(function(V,la){ka(ea+
"/content/users/"+ma.username+"/shareItems",{method:"post",query:Object(p.a)({f:"json",items:Object(w.b)(X),groups:za,confirmItemControl:!0},ha)}).then(function(T){T=T.data;T.results.every(function(P){return P.success})?V():la(T)},la)}):c({items:X,groupIds:za,shareLevelOptions:ha,restUrl:ea,request:ka})},v=function(R){return R.reduce(function(X,aa){return Object(p.g)(Object(p.g)([],X),aa)},[])},C=function(R){return 1<Object.keys(R).filter(function(X){return"total"!==X&&0<R[X]}).length},G=function(R){return Object.keys(R).filter(function(X){return"total"!==
X}).reduce(function(X,aa){return R[aa]===R.total?aa:X})},H=function(R){return C(R)?{}:K[G(R)]},K=((n={})[d.b["public"]]={org:!1,everyone:!0},n[d.b.org]={org:!0,everyone:!1},n[d.b["private"]]={org:!1,everyone:!1},n[d.b.shared]={org:!1,everyone:!1},n),O="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),L=function(R){var X,aa,ea=R.typeKeywords,ka=
R.type;ka=O.some(function(sa){return-1<ea.indexOf(sa)})&&"Real Time Analytic"!==ka&&"Big Data Analytic"!==ka;var ma=!(null===(X=null==R?void 0:R.portal)||void 0===X?0:X.isPortal)&&"Image Service"===R.type&&-1<(null===(aa=R.url)||void 0===aa?void 0:aa.indexOf("://iservices"))&&-1<R.url.indexOf("arcgis.com");R="Knowledge Graph"===R.type;return ka||ma||R},J=function(R,X,aa){return aa&&X["public"]===X.total?R.filter(function(ea){return-1<ea.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(d,
a,b){function c(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];return function(p){return h.reduceRight(function(w,B){return B(w)},p)}}b.d(a,"a",function(){return c})},68:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(h){h.LOADING_GROUPS="LOADING_GROUPS";h.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";h.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";h.SELECT_GROUPS="SELECT_GROUPS";h.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";h.DESELECT_GROUPS="DESELECT_GROUPS";h.REVERT_GROUPS="REVERT_GROUPS";
h.CLEAR_SELECTION="CLEAR_SELECTION";h.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";h.SET_HAS_GROUPS="SET_HAS_GROUPS"})(c||(c={}))},69:function(d,a){d.exports=M},802:function(d,a,b){b.d(a,"a",function(){return h});b.d(a,"b",function(){return n});var c=b(83),h=function(p){return{type:c.a.CHANGE_SORT_FIELD,payload:p}},n=function(p){return{type:c.a.CHANGE_SORT_ORDER,payload:p}}},803:function(d,a,b){b.d(a,"a",function(){return n});var c=b(159),h=b(204),n=function(p){return function(w,B){w({type:h.a.SET_PAGE,
payload:p});w(c.b)}}},83:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(h){h.SET_SEARCH_STRING="SET_SEARCH_STRING";h.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";h.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";h.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";h.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";h.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";h.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";h.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";h.SET_USERS="SET_USERS";
h.CLEAR_FILTERS="CLEAR_FILTERS"})(c||(c={}))},855:function(d,a,b){b.r(a);var c=b(0),h=b(69);d=b(16);var n=b(54);b.d(a,"reducers",function(){return n.c});b.d(a,"initialState",function(){return n.a});var p=b(144);b.d(a,"deselectGroups",function(){return p.b});b.d(a,"selectGroups",function(){return p.d});var w=b(159);b.d(a,"search",function(){return w.b});var B=b(803),A=b(372),D=b.n(A),F=b(530),v=b(531),C=b(537);A=b(373);var G=b.n(A),H=b(416),K=b(226);b=function(O){function L(){var J=null!==O&&O.apply(this,
arguments)||this;return J.handlePageChange=function(R){var X;J.props.setPageAndUpdateGroups(R);(null===(X=J.el)||void 0===X?0:X.parentElement)&&(J.el.parentElement.scrollTop=0)},J}return Object(c.d)(L,O),L.prototype.render=function(J){var R=this,X=this.props,aa=X.currentTotal,ea=X.groupsPerPage,ka=X.currentPage,ma=X.filtersOpen;X=X.toggleFilters;return J("div",{"class":"group-browser__container",afterCreate:function(sa){sa&&!R.el&&(R.el=sa)}},J(F.a,{key:"group-browser-search-area"}),J("div",{"class":"ib__big-row"},
J(v.a,{key:"group-browser-filter-sidebar"}),J(C.a,{key:"group-browser-results-panel"})),J(D.a,{key:"group-browse-pager",numPages:ea>aa?1:Math.ceil(aa/ea),currentPage:ka,onPageChange:this.handlePageChange}),J("div",{"class":"ib__big-overlay-filters"},J(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:ma,onClose:X,title:h.filters},J(H.a,{key:"mobile-filters"}))))},L}(d.Component);a["default"]=Object(d.connect)(function(O){O=Object(n.b)(O)?O:O.gbState;var L=O.ui;return{currentPage:L.page.currentPageNumber,
groupsPerPage:O.config.groupsPerPage,currentTotal:O.groups.total,filtersOpen:L.filter.expanded}},function(O){return{setPageAndUpdateGroups:function(L){O(Object(B.a)(L))},toggleFilters:function(){O(Object(K.i)())}}})(b)},90:function(d,a,b){b.d(a,"a",function(){return c});b.d(a,"b",function(){return h});b.d(a,"c",function(){return n});b.d(a,"d",function(){return p});b.d(a,"e",function(){return w});b.d(a,"h",function(){return B});b.d(a,"i",function(){return A});b.d(a,"j",function(){return D});b.d(a,
"k",function(){return F});b.d(a,"g",function(){return v});b.d(a,"f",function(){return C});var c="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",h="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",n="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
p="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",w="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",B="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
A="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
D="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",F="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",v="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",C="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(d,a,b){function c(A,D){if(null==A?0:A.length)for(var F=void 0,v=0;v<A.length;v++)if(D(F=A[v]))return F}function h(A){return A.filter(function(D){return 0<D.length})}function n(A,D,F){var v=[];return D.forEach(function(C){(F?C[F].toLowerCase()===A.toLowerCase():C.toLowerCase()===A.toLowerCase())?v.unshift(C):v.push(C)}),v}b.d(a,"e",function(){return p});b.d(a,"f",function(){return w});b.d(a,"c",function(){return c});b.d(a,"b",function(){return h});b.d(a,"a",function(){return B});b.d(a,
"d",function(){return n});d=b(15);var p=function(A,D,F){return F.indexOf(A)===D},w=Object(d.a)(function(A,D){var F={};return D.filter(function(v){return!F[v[A]]&&(F[v[A]]=!0,!0)})}),B=function(A,D){return A.length===D.length&&A.reduce(function(F,v){return F&&-1<D.indexOf(v)},!0)}}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],
function(U,M,r,x,t){return function(l){function f(k){if(g[k])return g[k].exports;var y=g[k]={i:k,l:!1,exports:{}};return l[k].call(y.exports,y,y.exports,f),y.l=!0,y.exports}var g={};return f.m=l,f.c=g,f.d=function(k,y,u){f.o(k,y)||Object.defineProperty(k,y,{enumerable:!0,get:u})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,y){if((1&y&&(k=f(k)),8&y)||4&y&&
"object"==typeof k&&k&&k.__esModule)return k;var u=Object.create(null);if(f.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:k}),2&y&&"string"!=typeof k)for(var E in k)f.d(u,E,function(z){return k[z]}.bind(null,E));return u},f.n=function(k){var y=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(y,"a",y),y},f.o=function(k,y){return Object.prototype.hasOwnProperty.call(k,y)},f.p="",f(f.s=856)}({0:function(l,f,g){function k(d,a){function b(){this.constructor=
d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function y(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(c=Object.getOwnPropertySymbols(d);h<c.length;h++)0>a.indexOf(c[h])&&Object.prototype.propertyIsEnumerable.call(d,c[h])&&
(b[c[h]]=d[c[h]])}return b}function u(d,a,b,c){var h,n=arguments.length,p=3>n?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(d,a,b,c);else for(var w=d.length-1;0<=w;w--)(h=d[w])&&(p=(3>n?h(p):3<n?h(a,b,p):h(a,b))||p);return 3<n&&p&&Object.defineProperty(a,b,p),p}function E(d,a,b,c){return new (b||(b=Promise))(function(h,n){function p(A){try{B(c.next(A))}catch(D){n(D)}}function w(A){try{B(c["throw"](A))}catch(D){n(D)}}
function B(A){var D;A.done?h(A.value):(D=A.value,D instanceof b?D:new b(function(F){F(D)})).then(p,w)}B((c=c.apply(d,a||[])).next())})}function z(d,a){function b(B){return function(A){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;w;)try{if(c=1,h&&(n=2&D[0]?h["return"]:D[0]?h["throw"]||((n=h["return"])&&n.call(h),0):h.next)&&!(n=n.call(h,D[1])).done)return n;switch(h=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return w.label++,{value:D[1],done:!1};
case 5:w.label++;h=D[1];D=[0];continue;case 7:D=w.ops.pop();w.trys.pop();continue;default:if(!(n=w.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){w=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))w.label=D[1];else if(6===D[0]&&w.label<n[1])w.label=n[1],n=D;else if(n&&w.label<n[2])w.label=n[2],w.ops.push(D);else{n[2]&&w.ops.pop();w.trys.pop();continue}}D=a.call(d,w)}catch(F){D=[6,F],h=0}finally{c=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,A])}}var c,h,n,p,w={label:0,
sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return p={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function q(d,a){for(var b=0,c=a.length,h=d.length;b<c;b++,h++)d[h]=a[b];return d}g.d(f,"d",function(){return k});g.d(f,"a",function(){return e});g.d(f,"f",function(){return y});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return q});var m=function(d,
a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(b[h]=c[h])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var h in a=arguments[b])Object.prototype.hasOwnProperty.call(a,h)&&(d[h]=a[h]);return d}).apply(this,arguments)};Object.create;Object.create},128:function(l,f,g){g.d(f,"a",function(){return y});g.d(f,"b",function(){return u});
var k=g(0);l=g(15);var y=function(E,z){var q;return z.thumbnail&&(q=E.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),q},u=Object(l.a)(function(E,z){return Object(k.a)(Object(k.a)({},z),{thumbURI:y(E,z)})})},15:function(l,f,g){function k(u){return function z(){for(var q=this,m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return m.length>=u.length?u.call.apply(u,Object(y.g)([this],m)):function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=
arguments[a];return z.call.apply(z,Object(y.g)(Object(y.g)([q],m),d))}}}g.d(f,"a",function(){return k});var y=g(0)},151:function(l,f){l.exports=M},18:function(l,f){l.exports=U},249:function(l,f,g){var k=g(128);f.a=function(y,u){var E=y.group,z=y.stacked,q=y.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!E.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":y.transparent};if(E.thumbnail&&!E.thumbURI&&q&&(E.thumbURI=Object(k.a)(q,E)),E.thumbURI)return u("img",
{src:E.thumbURI,classes:z,alt:E.title});q=!(!E.title.charAt(0)||!E.title.charAt(0).match(/^\w+$/));return u("div",{key:"group-thumbnail-"+E.id,classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},u("path",{fill:"#"+E.id.substr(E.id.length-6),d:"M0 0h65v65H0z"}),u("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),q?u("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},E.title.slice(0,1).toUpperCase()):u("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(l,f){l.exports=r},377:function(l,f){l.exports=x},450:function(l,f){l.exports=t},856:function(l,f,g){g.r(f);var k=g(0),y=g(450),u=g(151);l=g(18);var E=g(249),z=g(308),q=g.n(z);z=g(377);var m=g.n(z);g=function(e){function d(){var a=null!==e&&e.apply(this,arguments)||this;return a.handleCheckClick=function(){var b,c;null!==(c=(b=a.props).shouldDisable)&&void 0!==c&&c.call(b,a.props.group)||(b=a.props.checked?a.props.onUncheckGroup:a.props.onCheckGroup)&&b(a.props.group)},a}return Object(k.d)(d,
e),d.prototype.render=function(a){var b=this.props,c=b.checked,h=b.group,n=b.portal,p=b.key,w=b.shouldDisable;b=h.owner;var B=h.title,A=this.props,D=A.group;var F=D.created;D=D.modified;F=(A=A.sortField)&&"created"===A?y.created+": "+u.format(new Date(F),{selector:"date",formatLength:"medium"}):y.modified+": "+u.format(new Date(0<D?D:F),{selector:"date",formatLength:"medium"});A=(w=!(null==w||!w(this.props.group)))&&this.props.disabledText;return a("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":this.props.checked,
"gcard-gcc__container--disabled":w},key:p,onclick:this.handleCheckClick},a(q.a,{key:"gcard-gcc__checkbox-"+h.id,checked:c,onChange:this.handleCheckClick,title:B}),a(E.a,{group:this.props.group,portal:this.props.portal}),a("div",{"class":"gcard-gcc__flex"},a("div",{"class":"gcard-gcc__title-owner"},a("span",{"class":"gcard-gcc__title"},B),a("a",{href:n.baseUrl+"/home/user.html?user\x3d"+b,"class":"gcard-gcc__owner",target:"_blank"},b),a("span",{"class":"gcard-gcc__small-info"},F),A?a("div",{"class":"gcard-gcc__disabled-text"},
a("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),a("span",{"class":"margin-left-quarter font-size--2"},this.props.disabledText)):null),a("div",{"class":"gcard-gcc__info"},a("span",null,F))),a(m.a,{key:"gcard-gcc__toggle-"+h.id,id:"gcard-toggle-"+h.id,value:c,handleToggleClick:this.handleCheckClick,
label:""}))},d}(l.Component);f["default"]=g}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,
l)},r.p="",r(r.s=825)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<
e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}
function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=
p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?
p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});
x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(M,r){M.exports=
U},825:function(M,r,x){x.r(r);var t=x(0);M=function(l){function f(g){g=l.call(this,g)||this;return g.handleCheckChange=g.handleCheckChange.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var k=Object(t.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),y={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},u=this.props.large?
"20":"16";return g("span",{classes:k,key:this.props.key},g("input",{type:"checkbox",checked:this.props.checked,classes:{"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},indeterminate:this.props.indeterminate,onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,"aria-label":this.props.title,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),g("span",{classes:y},this.props.checked?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",
width:u,height:u,viewBox:"0 0 16 16"},g("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 16 16"},g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},f.prototype.handleCheckChange=function(g){var k,y;g.stopPropagation();g.preventDefault();this.props.disabled||null!==(y=null===(k=this.props)||void 0===k?void 0:k.onChange)&&void 0!==y&&
y.call(k,!this.props.checked)},f}(x(16).Component);r["default"]=M}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox","../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(U,M,r,x,t){return function(l){function f(k){if(g[k])return g[k].exports;var y=g[k]={i:k,l:!1,exports:{}};return l[k].call(y.exports,y,y.exports,f),y.l=!0,y.exports}var g=
{};return f.m=l,f.c=g,f.d=function(k,y,u){f.o(k,y)||Object.defineProperty(k,y,{enumerable:!0,get:u})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,y){if((1&y&&(k=f(k)),8&y)||4&y&&"object"==typeof k&&k&&k.__esModule)return k;var u=Object.create(null);if(f.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:k}),2&y&&"string"!=typeof k)for(var E in k)f.d(u,
E,function(z){return k[z]}.bind(null,E));return u},f.n=function(k){var y=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(y,"a",y),y},f.o=function(k,y){return Object.prototype.hasOwnProperty.call(k,y)},f.p="",f(f.s=857)}({0:function(l,f,g){function k(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}function y(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(c=Object.getOwnPropertySymbols(d);h<c.length;h++)0>a.indexOf(c[h])&&Object.prototype.propertyIsEnumerable.call(d,c[h])&&(b[c[h]]=d[c[h]])}return b}function u(d,a,b,c){var h,n=arguments.length,p=3>n?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=
Reflect.decorate(d,a,b,c);else for(var w=d.length-1;0<=w;w--)(h=d[w])&&(p=(3>n?h(p):3<n?h(a,b,p):h(a,b))||p);return 3<n&&p&&Object.defineProperty(a,b,p),p}function E(d,a,b,c){return new (b||(b=Promise))(function(h,n){function p(A){try{B(c.next(A))}catch(D){n(D)}}function w(A){try{B(c["throw"](A))}catch(D){n(D)}}function B(A){var D;A.done?h(A.value):(D=A.value,D instanceof b?D:new b(function(F){F(D)})).then(p,w)}B((c=c.apply(d,a||[])).next())})}function z(d,a){function b(B){return function(A){return function(D){if(c)throw new TypeError("Generator is already executing.");
for(;w;)try{if(c=1,h&&(n=2&D[0]?h["return"]:D[0]?h["throw"]||((n=h["return"])&&n.call(h),0):h.next)&&!(n=n.call(h,D[1])).done)return n;switch(h=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++;h=D[1];D=[0];continue;case 7:D=w.ops.pop();w.trys.pop();continue;default:if(!(n=w.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){w=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))w.label=D[1];else if(6===D[0]&&w.label<n[1])w.label=
n[1],n=D;else if(n&&w.label<n[2])w.label=n[2],w.ops.push(D);else{n[2]&&w.ops.pop();w.trys.pop();continue}}D=a.call(d,w)}catch(F){D=[6,F],h=0}finally{c=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,A])}}var c,h,n,p,w={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return p={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p}function q(d,a){for(var b=0,c=a.length,h=d.length;b<c;b++,h++)d[h]=
a[b];return d}g.d(f,"d",function(){return k});g.d(f,"a",function(){return e});g.d(f,"f",function(){return y});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return q});var m=function(d,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(b[h]=c[h])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,
b=1,c=arguments.length;b<c;b++)for(var h in a=arguments[b])Object.prototype.hasOwnProperty.call(a,h)&&(d[h]=a[h]);return d}).apply(this,arguments)};Object.create;Object.create},128:function(l,f,g){g.d(f,"a",function(){return y});g.d(f,"b",function(){return u});var k=g(0);l=g(15);var y=function(E,z){var q;return z.thumbnail&&(q=E.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),q},u=Object(l.a)(function(E,z){return Object(k.a)(Object(k.a)({},
z),{thumbURI:y(E,z)})})},15:function(l,f,g){function k(u){return function z(){for(var q=this,m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return m.length>=u.length?u.call.apply(u,Object(y.g)([this],m)):function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return z.call.apply(z,Object(y.g)(Object(y.g)([q],m),d))}}}g.d(f,"a",function(){return k});var y=g(0)},18:function(l,f){l.exports=U},181:function(l,f,g){g.d(f,"b",function(){return E});g.d(f,"c",function(){return z});g.d(f,"a",
function(){return q});var k=g(63);l=g(5);var y=g(99),u=g(128),E=function(m,e){return Object(k.a)(Object(u.b)(m))(e)},z=Object(k.a)(Object(l.e)("thumbURI")),q=function(m){var e=m.initialSelectedByIds;return!Object(y.a)(m.selectedBy.map(function(d){return d.id}),e)}},249:function(l,f,g){var k=g(128);f.a=function(y,u){var E=y.group,z=y.stacked,q=y.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!E.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":y.transparent};
if(E.thumbnail&&!E.thumbURI&&q&&(E.thumbURI=Object(k.a)(q,E)),E.thumbURI)return u("img",{src:E.thumbURI,classes:z,alt:E.title});q=!(!E.title.charAt(0)||!E.title.charAt(0).match(/^\w+$/));return u("div",{key:"group-thumbnail-"+E.id,classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},u("path",{fill:"#"+E.id.substr(E.id.length-6),d:"M0 0h65v65H0z"}),u("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),q?u("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?
"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},E.title.slice(0,1).toUpperCase()):u("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(l,f){l.exports=M},349:function(l,f){l.exports=r},377:function(l,f){l.exports=x},408:function(l,f){l.exports=t},5:function(l,f,g){function k(d){return 0===Object.keys(d).length&&d.constructor===Object}function y(d){return null!=d}function u(d,a){return m.apply(null,arguments)}function E(d,a){return e.apply(null,arguments)}g.d(f,"b",function(){return k});g.d(f,"a",function(){return y});g.d(f,"e",function(){return q});g.d(f,"c",function(){return u});g.d(f,"d",function(){return E});var z=
g(0);l=g(15);var q=Object(l.a)(function(d,a){var b=Object(z.a)({},a);return delete b[d],b}),m=Object(l.a)(function(d,a){return Object.keys(a).reduce(function(b,c){return b[c]=d(a[c],c,a),b},{})}),e=Object(l.a)(function(d,a){return Object.keys(a).reduce(function(b,c){return d(a[c],c,a)&&(b[c]=a[c]),b},{})})},63:function(l,f,g){function k(){for(var y=[],u=0;u<arguments.length;u++)y[u]=arguments[u];return function(E){return y.reduceRight(function(z,q){return q(z)},E)}}g.d(f,"a",function(){return k})},
857:function(l,f,g){g.r(f);var k=g(0),y=g(408);l=g(18);var u=g(249),E=g(308),z=g.n(E);E=g(377);var q=g.n(E),m=g(349),e=g.n(m),d=g(181);g=function(b){function c(){var h=null!==b&&b.apply(this,arguments)||this;return h.handleAssignedLinkClick=function(n){n.stopPropagation()},h.handleCheckClick=function(){var n,p;null!==(p=(n=h.props).shouldDisable)&&void 0!==p&&p.call(n,h.props.group)||(n=h.props.checked?h.props.onUncheckGroup:h.props.onCheckGroup,null==n||n(h.props.group))},h}return Object(k.d)(c,
b),c.prototype.render=function(h){var n=this,p=this.props,w=p.checked,B=p.group,A=p.indeterminate,D=p.key,F=p.selectedBy,v=p.initialSelectedByIds,C=p.portal,G=p.shouldDisable,H=p.disabledText;p=p.selectors;var K=B.title,O=B.id+"-badge",L=a(this.props,h);G=!(null==G||!G(B));var J=Object(m.getBadgeTypes)(B,C).map(function(X){return O+"-"+X}).join(" "),R=null==p?void 0:p.some(function(X){return!!X.username});return h("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":w,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:D,onclick:this.handleCheckClick},h(z.a,{key:"gcard-gcc__checkbox-"+B.id,checked:w,indeterminate:A,onChange:this.handleCheckClick,title:K,describedBy:J}),h(u.a,{group:B,portal:C}),h("span",{key:"gcard-gcc__title","class":"gcard-gcc__title"},h("div",null,K),!!p&&R&&A&&h("div",{id:"partial-assigned-container-"+B.id},h("calcite-popover-manager",null,h("calcite-link",{id:"partial-assigned-"+B.id,onclick:this.handleAssignedLinkClick},y.membersAssigned.replace("${num}",
F.length).replace("${total}",p.length))),h("calcite-popover",{"reference-element":"partial-assigned-"+B.id},h("ul",{"class":"padding-right-1"},F.map(function(X){return h("li",{key:X.username},X.username)}))))),h(e.a,{group:B,portal:C,key:"group-badges",id:O}),h("div",{key:"gcard-gcc__details","class":"gcard-gcc__details"},L,Object(d.a)({selectedBy:F,initialSelectedByIds:v})?h("button",{key:"gcard-gcc__revert-button","class":"gcard-gcc__revert-button",onclick:function(X){var aa,ea;X.stopPropagation();
null===(ea=(aa=n.props).onRevertGroup)||void 0===ea||ea.call(aa,B)}},y.revert):null),G&&h("div",{"class":"gcard-gcc__disabled-text",key:"disabled-text"},h("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},h("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),h("span",{"class":"margin-left-quarter font-size--2"},H)),h(q.a,{key:"gcard-gcc__toggle-"+
B.id,id:"gcard-toggle-"+B.id,value:w,handleToggleClick:this.handleCheckClick,label:""}))},c}(l.Component);f["default"]=g;var a=function(b,c){var h=b.selectedBy,n=b.allSelectorItemIds,p=b.initialSelectedByIds;return 0===n.length||1===n.length||0===p.length&&0===h.length?null:c("span",{key:"gcard-gcc__share-text","class":"gcard-gcc__share-text",innerHTML:(Object(d.a)({selectedBy:h,initialSelectedByIds:p})?y.willBeShared:y.alreadyShared).replace("${num}",h.length).replace("${total}",n.length)})}},99:function(l,
f,g){function k(m,e){if(null==m?0:m.length)for(var d=void 0,a=0;a<m.length;a++)if(e(d=m[a]))return d}function y(m){return m.filter(function(e){return 0<e.length})}function u(m,e,d){var a=[];return e.forEach(function(b){(d?b[d].toLowerCase()===m.toLowerCase():b.toLowerCase()===m.toLowerCase())?a.unshift(b):a.push(b)}),a}g.d(f,"e",function(){return E});g.d(f,"f",function(){return z});g.d(f,"c",function(){return k});g.d(f,"b",function(){return y});g.d(f,"a",function(){return q});g.d(f,"d",function(){return u});
l=g(15);var E=function(m,e,d){return d.indexOf(m)===e},z=Object(l.a)(function(m,e){var d={};return e.filter(function(a){return!d[a[m]]&&(d[a[m]]=!0,!0)})}),q=function(m,e){return m.length===e.length&&m.reduce(function(d,a){return d&&-1<e.indexOf(a)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,
x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=
typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=853)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):
(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");
for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=
b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=
m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,
e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=U},200:function(r,x,t){var l,f;t.d(x,"b",function(){return f});t.d(x,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f=
{}));var g=((l={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
l[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",l[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
l[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",l[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
l[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",l[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
l)},529:function(r,x){r.exports=M},853:function(r,x,t){function l(u,E){var z=[];return u.capabilities&&-1<u.capabilities.indexOf("updateitemcontrol")&&z.push(y.b.sharedUpdate),u.isOpenData&&z.push(y.b.openData),(u.collaborationInfo&&u.collaborationInfo.collaborationId||u.capabilities&&-1<u.capabilities.indexOf("distributed"))&&z.push(y.b.collaboration),E.homePageFeaturedContent&&E.homePageFeaturedContent==="id:"+u.id&&z.push(y.b.featuredContent),E.featuredItemsGroupQuery&&E.featuredItemsGroupQuery===
"id:"+u.id&&z.push(y.b.gallery),u.membershipAccess||z.push(y.b.anyOrg),"collaboration"===u.membershipAccess&&z.push(y.b.partnered),z}t.r(x);t.d(x,"getBadgeTypes",function(){return l});var f=t(0);r=t(16);var g=t(529),k=t.n(g),y=t(200);t=function(u){function E(){return null!==u&&u.apply(this,arguments)||this}return Object(f.d)(E,u),E.prototype.render=function(z){var q=this.props,m=q.id;q=l(q.group,q.portal);return z("div",{"class":"group-badges"},q.map(function(e){return z(k.a,{badgeType:e,key:e,id:m})}))},
E}(r.Component);x["default"]=t}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},x.p="",x(x.s=854)}({0:function(r,x,t){function l(q,m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<
d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}
function h(p){try{n(d["throw"](p))}catch(w){b(w)}}function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=
w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?
w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});
t.d(x,"g",function(){return u});var E=function(q,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},16:function(r,x){r.exports=
U},200:function(r,x,t){var l,f;t.d(x,"b",function(){return f});t.d(x,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f={}));var g=((l={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
l[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",l[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
l[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",l[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
l[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",l[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
l)},341:function(r,x){r.exports=M},854:function(r,x,t){t.r(x);var l=t(0);r=t(16);var f=t(200),g=t(341);t=function(k){function y(){return null!==k&&k.apply(this,arguments)||this}return Object(l.d)(y,k),y.prototype.render=function(u){var E,z=this.props,q=z.badgeType;z=z.id;var m=q===f.b.sharedUpdate?"#ab3c16":"#005e95";return z&&(E=z+"-"+q),u("button",{"class":"group-badge","aria-label":g[q]+": "+g.tooltips[q]},u("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:m,key:"group-badge-icon"},q!==f.b.anyOrg&&q!==f.b.collaboration&&u("path",{d:f.a[q]}),q===f.b.anyOrg&&u("g",null,u("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),u("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),u("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),u("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
q===f.b.collaboration&&u("g",null,u("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),u("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),u("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),u("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),u("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),u("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
u("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
u("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),u("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),u("span",{"class":"group-badge__title",key:"group-badge-title"},g[q]),u("span",{"class":"group-badge__description",key:"group-badge-description"},g.tooltips[q]),u("span",{"class":"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:E},g[q],": ",g.tooltips[q]))},y}(r.Component);x["default"]=t}})})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){Object.defineProperty(M,"__esModule",{value:!0});g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);U=q["default"].uploadLogo;var m=z["default"].GroupWidget.thumbnailDlg,e={title:U.name,drag:U.dragDrop,size:U.bestSize,browse:U.browse,save:q["default"].common.save,cancel:q["default"].common.cancel,fileError:U.validImageRequired,saveError:U.imageEditError,zoom:U.zoom,chooseDiff:U.chooseDiff,
or:m.or,fromMap:m.createFromMap,fromMapDescription:m.createFromMapSub};q=function(d){function a(){L&&document.documentElement.classList.add("overflow-hidden")}var b=d.texts,c=d.height,h=d.zoomToFull,n=d.onSave,p=d.onCancel,w=d.onDelete,B=d.hideSize,A=d.existingImage,D=d.isRound,F=d.fillBackground,v=d.maxSize,C=d.hasDelete,G=d.allowFromMap,H=d.aspectRatio,K=d.contentClass,O=d.itemId,L=d.fromOverlay,J=d.noEdit;d=r.__assign(r.__assign({},e),b);c=t.useReducer(f.reducer,{previewSrc:"",imageScale:1,imageWidth:0,
imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:d,hideSize:B,saving:!1,deleting:!1,saveData:void 0,aspectRatio:H||1,height:c,isRound:D,fillBackground:F,maxSize:v,zoomToFull:h,allowFromMap:G,itemId:O,noEdit:J});var R=c[0],X=c[1];c=t.useMemo(function(){return{state:R,dispatch:X}},[R]);h=t.useRef(null);B=t.useRef(null);D=
d.title;F=d.save;v=d.cancel;var aa=d.fileError;d=d.chooseDiff;t.useEffect(function(){var sa=function(za){"new_thumb"!==za.data.dataType||R.previewSrc===za.data.dataUrl||R.saving||(X(f.setImageFromMap(za.data.dataUrl)),window.parent.removeEventListener("message",sa))};window.parent.addEventListener("message",sa)},[]);t.useEffect(function(){R.fromMapLoaded&&X(f.initSave())},[R.fromMapLoaded]);t.useEffect(function(){R.saveData&&(n(R.saveData),a())},[R.saveData]);t.useEffect(function(){R.saving&&J&&X(f.updateSaveData({blob:u.dataURIToBlob(R.previewSrc),
base64:R.previewSrc,format:R.imageFormat}))},[R.saving,J]);t.useEffect(function(){A&&X(f.editExistingImage(A))},[A]);G=function(){return"edit"===R.currentStep};var ea=function(){return"fromMap"===R.currentStep};H="rtl"===document.documentElement.getAttribute("dir");O=function(){X(f.changeImage())};var ka=function(){X(f.initDelete());w()},ma=function(){p();a()};B.current&&(B.current.loading=R.saving);h.current&&(h.current.loading=R.deleting);return x.h(l.StoreContext.Provider,{value:c},x.h("calcite-modal",
{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:ma,intlClose:z["default"].common.close},x.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":D,"class":"font-size-2 trailer-0"},D),x.h("div",{slot:"content","class":""+(K||"")},x.h("div",{"class":"panel content-node padding-trailer-1 "+(ea()?"":"org-settings__upload-logo-dlg-content")},"upload"===R.currentStep&&x.h(g["default"],null),G()&&x.h(k["default"],
null),ea()&&x.h(y["default"],null))),(G()||ea())&&!C&&x.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:R.saving,onClick:O,"icon-flip-rtl":H?"start":""},d),G()&&R.editingExisting&&void 0!==w&&x.h("calcite-button",{ref:h,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:R.saving,onClick:ka},b["delete"]),!C&&x.h("calcite-button",{slot:"secondary",disabled:R.saving,color:"blue",appearance:"outline",width:"full",
onClick:ma},v),C&&G()&&x.h("calcite-button",{slot:"secondary",disabled:R.saving||R.deleting,color:"blue",appearance:"outline",width:"full",onClick:O},b.changePhoto),x.h("calcite-button",{ref:B,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){ea()?window.postMessage("thumbnail_create","*"):!J&&"edit"!==R.currentStep||!R.previewSrc?E["default"].showAlert("error",aa):X(f.initSave())},disabled:R.deleting},F)))};q.defaultProps={height:412>window.innerWidth?200:300,texts:e,
aspectRatio:1};M["default"]=q})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(U,M,r,x){Object.defineProperty(M,"__esModule",{value:!0});M.useStoreContext=M.StoreContext=void 0;M.StoreContext=r.createContext({});M.useStoreContext=function(){return x.useContext(M.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require","exports","tslib"],function(U,M,r){Object.defineProperty(M,
"__esModule",{value:!0});M.reducer=M.setImageFromMap=M.showFromMapStep=M.editExistingImage=M.updatePreviewImage=M.imageLoaded=M.updateZoomScale=M.updateManuallySettingZoom=M.updateImagePosition=M.updateSrcAndFileName=M.updatePreviewSrc=M.updateSaveData=M.initDelete=M.initSave=M.changeImage=M.SET_IMAGE_FROM_MAP=M.SHOW_FROM_MAP_STEP=M.IMAGE_LOADED=M.EDIT_EXISTING_IMAGE=M.UPDATE_PREVIEW_IMAGE=M.UPDATE_SRC_AND_FILE_NAME=M.UPDATE_ZOOM_SCALE=M.UPDATE_MANUALLY_SETTING_ZOOM=M.UPDATE_IMAGE_POSITION=M.UPDATE_PREVIEW_SRC=
M.UPDATE_SAVE_DATA=M.INIT_DELETE=M.INIT_SAVE=M.CHANGE_IMAGE=void 0;M.CHANGE_IMAGE="CHANGE_IMAGE";M.INIT_SAVE="INIT_SAVE";M.INIT_DELETE="INIT_DELETE";M.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";M.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";M.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";M.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";M.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";M.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";M.UPDATE_PREVIEW_IMAGE="UPDATE_PREVIEW_IMAGE";M.EDIT_EXISTING_IMAGE=
"EDIT_EXISTING_IMAGE";M.IMAGE_LOADED="IMAGE_LOADED";M.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";M.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";M.changeImage=function(){return{type:M.CHANGE_IMAGE}};M.initSave=function(){return{type:M.INIT_SAVE}};M.initDelete=function(){return{type:M.INIT_DELETE}};M.updateSaveData=function(x){return{type:M.UPDATE_SAVE_DATA,payload:x}};M.updatePreviewSrc=function(x){return{type:M.UPDATE_PREVIEW_SRC,payload:x}};M.updateSrcAndFileName=function(x){return{type:M.UPDATE_SRC_AND_FILE_NAME,
payload:x}};M.updateImagePosition=function(x){return{type:M.UPDATE_IMAGE_POSITION,payload:x}};M.updateManuallySettingZoom=function(x){return{type:M.UPDATE_MANUALLY_SETTING_ZOOM,payload:x}};M.updateZoomScale=function(x){return{type:M.UPDATE_ZOOM_SCALE,payload:x}};M.imageLoaded=function(x){return{type:M.IMAGE_LOADED,payload:x}};M.updatePreviewImage=function(x){return{type:M.UPDATE_PREVIEW_IMAGE,payload:x}};M.editExistingImage=function(x){return{type:M.EDIT_EXISTING_IMAGE,payload:x}};M.showFromMapStep=
function(){return{type:M.SHOW_FROM_MAP_STEP}};M.setImageFromMap=function(x){return{type:M.SET_IMAGE_FROM_MAP,payload:x}};M.reducer=function(x,t){var l=t.payload;switch(t.type){case M.CHANGE_IMAGE:return r.__assign(r.__assign({},x),{currentStep:"upload",editingExisting:!1,previewSrc:""});case M.INIT_SAVE:return r.__assign(r.__assign({},x),{saving:!0});case M.INIT_DELETE:return r.__assign(r.__assign({},x),{deleting:!0});case M.UPDATE_SAVE_DATA:return r.__assign(r.__assign({},x),{saveData:r.__assign(r.__assign({},
l),{fileName:x.fileName,isModified:x.isModified})});case M.UPDATE_PREVIEW_SRC:return r.__assign(r.__assign({},x),{previewSrc:l,imageScale:1,currentStep:"edit"});case M.UPDATE_SRC_AND_FILE_NAME:return r.__assign(r.__assign({},x),{previewSrc:l.previewSrc,fileName:l.fileName,imageScale:1,currentStep:x.noEdit?"upload":"edit"});case M.UPDATE_PREVIEW_IMAGE:return r.__assign(r.__assign({},x),{previewImage:l});case M.UPDATE_IMAGE_POSITION:var f=r.__assign({},x);void 0!==l.imageTop&&(f.imageTop=l.imageTop);
void 0!==l.imageLeft&&(f.imageLeft=l.imageLeft);return r.__assign(r.__assign({},f),{isModified:!0});case M.UPDATE_MANUALLY_SETTING_ZOOM:return r.__assign(r.__assign({},x),{manuallySettingZoom:l});case M.EDIT_EXISTING_IMAGE:return r.__assign(r.__assign({},x),{editingExisting:!0,previewSrc:l,currentStep:"edit",loadingImage:!0});case M.UPDATE_ZOOM_SCALE:return r.__assign(r.__assign({},x),{imageScale:l.imageScale,zoomValue:l.zoomValue,isModified:!0});case M.IMAGE_LOADED:f=x.height;var g=x.zoomToFull,
k=x.aspectRatio,y={};if(x.editingExisting)g=l.width,y={imageWidth:g,imageHeight:g,imageScale:f/g,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:l};else{var u=1===k?f:f*k,E=l.clientWidth,z=l.clientHeight;y="fromMap"===x.currentStep;y={imageWidth:E,imageHeight:z,imageTop:f/2-z/2,imageLeft:f*k/2-E/2,currentStep:y?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:l,fromMapLoaded:y};g&&(l=u/(E>z?E:z),y=r.__assign(r.__assign({},y),{imageScale:l,manuallySettingZoom:!0,
zoomValue:""+(50+Math.log(l)/Math.log(1.1)),isModified:!0}))}l=r.__assign(r.__assign({},x),y);return l;case M.SHOW_FROM_MAP_STEP:return r.__assign(r.__assign({},x),{currentStep:"fromMap"});case M.SET_IMAGE_FROM_MAP:return r.__assign(r.__assign({},x),{previewSrc:l,imageScale:1});default:return r.__assign({},x)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(U,M,r,x,t,l,f,g){var k=this;Object.defineProperty(M,"__esModule",{value:!0});g=r.__importDefault(g);M["default"]=function(){var y=l.useStoreContext(),u=y.state,E=y.dispatch,z=u.texts;y=u.hideSize;var q=u.allowFromMap,m=t.useRef(null),e=t.useRef(null);t.useEffect(function(){m.current&&m.current.focus()},[m.current]);var d=function(c){c.preventDefault()},a=function(c){var h=e.current;if(h.value||c){var n=c||h.files[0];n&&((null===n||void 0===n?0:n.name)&&/\.(gif|jpg|jpeg|png)$/i.test(n.name)?
(c=new FileReader,c.onload=function(p){return r.__awaiter(k,void 0,void 0,function(){return r.__generator(this,function(w){E(f.updateSrcAndFileName({previewSrc:p.target.result,fileName:n.name||(null===h||void 0===h?void 0:h.value)||""}));return[2]})})},c.readAsDataURL(n)):g["default"].showAlert("error",z.fileError))}},b=function(){E(f.showFromMapStep())};return x.h("div",{"class":"text-center",onDragOver:d,onDragEnter:d,onDrop:function(c){c.preventDefault();a(c.dataTransfer.files[0])},"aria-label":z.drag},
x.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},x.h("calcite-icon",{icon:"upload"})),x.h("div",{"class":"trailer-0"},x.h("div",{"class":"font-size-1","aria-label":z.drag},z.drag),!y&&x.h("div",{"aria-label":z.size},z.size)),x.h("button",{ref:m,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){e.current.click()},onKeyDown:function(c){13===c.keyCode&&(c.preventDefault(),e.current.click())},"aria-label":z.browse},x.h("div",{"class":"flex flex-align-center"},
(!u.noEdit||!u.fileName)&&x.h(x.Fragment,null,x.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",z.browse),u.noEdit&&u.fileName&&x.h(x.Fragment,null,u.fileName," ",x.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),x.h("input",{ref:e,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){a()}}),q&&x.h("div",{tabIndex:0,onClick:b},x.h("p",{"class":"text-center leader-1 trailer-half"},x.h("b",
{"class":"horizontal-lines"},x.h("span",null,z.or))),x.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},x.h("p",{"class":"trailer-0"},x.h("span",{"class":"flex-center font-size-1"},x.h("div",{"class":"flex flex-align-center"},x.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",z.fromMap)),x.h("span",{"class":"display-block font-size--2"},z.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(U,M,r,x,t,l,f,g,k,y){Object.defineProperty(M,"__esModule",{value:!0});l=r.__importDefault(l);f=r.__importDefault(f);y=r.__importDefault(y);M["default"]=function(){var u=g.useStoreContext(),E=u.state,z=u.dispatch,q=E.texts,m=t.useRef(null),e=t.useRef(null),d=E.height*E.aspectRatio;u=E.height+60+"px";var a={width:d+60+"px",height:u};d={width:d+"px",height:E.height+"px"};var b={transform:"scale("+E.imageScale+")",top:E.imageTop+"px",left:E.imageLeft+"px",transformOrigin:E.transformOrigin.x+
"% "+E.transformOrigin.y+"%"};t.useEffect(function(){m.current&&m.current.focus()},[m.current]);t.useEffect(function(){e.current&&z(k.updatePreviewImage(e.current))},[e.current]);var c=function(){z(k.imageLoaded(e.current))},h=function(){y["default"].showAlert("error",q.fileError);z(k.changeImage())},n=function(p){E.manuallySettingZoom?z(k.updateManuallySettingZoom(!1)):z(k.updateZoomScale({imageScale:Math.pow(1.1,p.target.value-50),zoomValue:p.target.value}))};return x.h("div",{"class":"edit-thumb-display",
onWheel:function(p){p.preventDefault();p=0<p.deltaY?1*E.imageScale/1.1:1.1*E.imageScale;z(k.updateZoomScale({imageScale:p,zoomValue:""+(50+Math.log(p)/Math.log(1.1))}))}},x.h(f["default"],{imageContainer:m.current}),x.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:u}},x.h(l["default"],{onDrag:function(p){z(k.updateImagePosition({imageTop:E.imageTop+p.top,imageLeft:E.imageLeft+p.left}))},style:a},x.h("div",{ref:m,"class":"crop-thumb-clear",tabIndex:0,style:d,onKeyDown:function(p){var w=
!1;switch(p.key){case "ArrowUp":z(k.updateImagePosition({imageTop:E.imageTop-1}));w=!0;break;case "ArrowDown":z(k.updateImagePosition({imageTop:E.imageTop+1}));w=!0;break;case "ArrowLeft":z(k.updateImagePosition({imageLeft:E.imageLeft-1}));w=!0;break;case "ArrowRight":z(k.updateImagePosition({imageLeft:E.imageLeft+1})),w=!0}w&&p.preventDefault()}},E.previewSrc&&x.h("img",{ref:e,src:E.previewSrc,alt:"","class":"preview-image "+(E.loadingImage?"visibility-hidden":""),style:b,onLoad:c,onError:h})))),
"edit"===E.currentStep&&x.h("label",{htmlFor:"","class":"trailer-half leader-half"},q.zoom,x.h("input",{type:"range",value:E.zoomValue,onInput:n,onChange:n,"aria-label":q.zoom}),x.h("span",{"class":"clearfix"},x.h("span",{"class":"left inline-block leader-half"},x.h("calcite-icon",{icon:"image",scale:"s"})),x.h("span",{"class":"right"},x.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(U,M,r,x){Object.defineProperty(M,"__esModule",{value:!0});M["default"]=function(t){var l=t.style,f=t.onDrag;t=t.children;var g=x.useState(!1),k=g[0],y=g[1];g=x.useState(void 0);var u=g[0],E=g[1];g=function(){y(!0)};var z=function(m){var e=m.touches,d=m.clientX,a=m.clientY;if(void 0===d||void 0===a){if(null===e||void 0===e||!e.length)return;d=e[0].clientX;a=e[0].clientY}k&&(u?(e=u.top,m=u.left,a-=e,d-=m,f({top:a,left:d}),E({top:e+a,left:m+d})):E({top:a,left:d}))},q=function(){y(!1);
E(void 0)};return r.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:l,onMouseDown:g,onTouchStart:g,onMouseMove:z,onTouchMove:z,onMouseUp:q,onTouchEnd:q,onMouseOut:q},t)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(U,M,r,x,t,l,f,g,k){var y=this;Object.defineProperty(M,"__esModule",{value:!0});k=r.__importDefault(k);
M["default"]=function(u){var E=u.imageContainer;u=l.useStoreContext();var z=u.state,q=u.dispatch,m=z.texts,e=t.useRef(null),d=function(c){var h=c.image,n=c.context,p=c.selectionX,w=c.selectionY,B=c.selectionWidth,A=c.selectionHeight,D=c.canvasWidth,F=c.canvasHeight,v=c.minWidth,C=c.minHeight,G=c.drawDimensions,H=c.scaleFactor;c=e.current;c.width=D<v?v:D*H;c.height=F<C?C:F*H;z.maxSize&&(c.width>z.maxSize&&(c.width=z.maxSize),c.height>z.maxSize&&(c.height=z.maxSize));D=G.left*c.width;F=G.top*c.height;
v=G.width*c.width;G=G.height*c.height;!z.isRound&&z.fillBackground&&(n.fillStyle="#efefef",n.fillRect(0,0,c.width,c.height));n.drawImage(h,p,w,B,A,D,F,v,G);z.isRound&&(n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(c.width/2,c.height/2,c.height/2,0,2*Math.PI),n.closePath(),n.fill());h=c.toDataURL("image/png");n=g.dataURIToBlob(h);return{base64:h,blob:n}},a=function(){return new Promise(function(c,h){var n=new Image;-1<z.previewSrc.indexOf("arcgis.com")&&(n.crossOrigin="Anonymous");
n.onload=function(){if(.01>Math.abs(z.aspectRatio-n.width/n.height)&&!z.isModified)c({blob:g.dataURIToBlob(z.previewSrc),base64:z.previewSrc,format:z.imageFormat});else{var p=z.height*z.aspectRatio,w=z.height;var B=z.previewImage.getBoundingClientRect();var A=E.getBoundingClientRect();var D=(A.left-B.left)/B.width;var F=(A.right-B.left)/B.width;var v=(A.top-B.top)/B.height;B=(A.bottom-B.top)/B.height;A=0>D?0:D;var C=0>v?0:v,G=1<F?1:F,H=1<B?1:B,K=z.previewImage.getBoundingClientRect();var O=E.getBoundingClientRect();
O={left:(0<K.left-O.left?K.left-O.left:0)/O.width,top:(0<K.top-O.top?K.top-O.top:0)/O.height,width:((K.right>O.right?O.right:K.right)-(K.left<O.left?O.left:K.left))/O.width,height:((K.bottom>O.bottom?O.bottom:K.bottom)-(K.top<O.top?O.top:K.top))/O.height};K=e.current.getContext("2d");D={image:n,context:K,selectionX:A*z.imageWidth,selectionY:C*z.imageHeight,selectionWidth:G*z.imageWidth-A*z.imageWidth,selectionHeight:H*z.imageHeight-C*z.imageHeight,canvasWidth:F*z.imageWidth-D*z.imageWidth,canvasHeight:B*
z.imageHeight-v*z.imageHeight,minWidth:p,minHeight:w,drawDimensions:O,scaleFactor:1};try{var L=d(r.__assign({},D));if(1E7<L.blob.size||0===L.blob.size)K.clearRect(0,0,e.current.width,e.current.height),L=d(r.__assign(r.__assign({},D),{scaleFactor:1600/n.width}))}catch(J){"NS_ERROR_FAILURE"!==J.name?k["default"].showAlert("error",m.saveError):(K.clearRect(0,0,e.current.width,e.current.height),L=d(r.__assign(r.__assign({},D),{scaleFactor:1600/n.width})))}c({blob:null===L||void 0===L?void 0:L.blob,base64:null===
L||void 0===L?void 0:L.base64,format:z.imageFormat})}};n.onerror=function(){k["default"].showAlert("error",m.fileError)};n.src=z.previewSrc})},b=function(){return r.__awaiter(y,void 0,void 0,function(){var c;return r.__generator(this,function(h){switch(h.label){case 0:return[4,a()];case 1:return c=h.sent(),q(f.updateSaveData(r.__assign({},c))),[2]}})})};t.useEffect(function(){z.saving&&b()},[z.saving]);return x.h("canvas",{ref:e,"class":"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require",
"exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.dataURIToBlob=void 0;M.dataURIToBlob=function(r){var x=atob(r.split(",")[1]);r=r.split(",")[0].split(":")[1].split(";")[0];for(var t=new ArrayBuffer(x.length),l=new Uint8Array(t),f=0;f<x.length;f++)l[f]=x.charCodeAt(f);return new Blob([t],{type:r})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(U,M,r,x,t,l,f,g){Object.defineProperty(M,"__esModule",{value:!0});l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);M["default"]=function(){var k=t.useStoreContext().state;k=(f["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+k.itemId;if(g["default"].isPortal()){var y=f["default"].self.portalHostname.replace(/^[^\/]*/,"");k=k.replace("/apps/",y+"/apps/");k+="\x26extentService\x3d"+encodeURI(f["default"].extentService)}return x.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},x.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:k,width:"600",height:"399"}),x.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},x.h(l["default"],null)))}})},"arcgisonline/pages/components/UpdateViewModal":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline preact preact/hooks preact/compat arcgisonline/esriGeowConfig".split(" "),function(U,M,r,x,
t,l,f,g){Object.defineProperty(M,"__esModule",{value:!0});x=r.__importDefault(x);g=r.__importDefault(g);M["default"]=function(k){var y=k.title,u=k.active,E=k.itemId,z=k.hasDerivative,q=k.onClose,m=function(e){if(null!==e&&void 0!==e&&e.data){var d=JSON.parse(e.data);e=d.type;d=d.value;"create"===e&&(null===d||void 0===d?0:d.id)?(window.location.href="item.html?id\x3d"+(null===d||void 0===d?void 0:d.id),q()):"update"!==e&&"close"!==e||!d||q()}};l.useEffect(function(){window.addEventListener("message",
m);return function(){window.removeEventListener("message",m)}},[]);k=""+g["default"].createViewUrl+E+(z?"\x26hasDerivative\x3dtrue":"");return t.h(t.Fragment,null,f.createPortal(t.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-lablledby":"update-view-modal-title",active:u,oncalciteModalClose:q,intlClose:x["default"].common.close,fullscreen:!0,noPadding:!0},t.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"update-view-modal-title"},y),t.h("div",{slot:"content","class":"flex manage-areas"},
u&&t.h("iframe",{"class":"flex-1 manage-areas__iframe",src:k}))),document.body))}})},"arcgisonline/pages/dijit/Card/_getItemClasses":function(){define("require exports tslib ../../utils/arrays ../../utils/organization dojo/sniff arcgisonline/pages/utils/mapViewer".split(" "),function(U,M,r,x,t,l,f){Object.defineProperty(M,"__esModule",{value:!0});x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);M["default"]=function(g,k){var y,u,E,z=g.url||"";var q=g.isHostedService;var m=g.serviceInfo||
{},e=null!==(u=null===m||void 0===m?void 0:m.capabilities)&&void 0!==u?u:"";u=null===k||void 0===k?void 0:k.userRole;z=k&&-1<z.indexOf(k.orgId);e=-1<e.indexOf("Editing");m=x["default"].includes(g.typeKeywords,"Multi Services View")||m.isMultiServicesView;var d=g.isAdminView?null===u||void 0===u?void 0:u.canUpdateOrgItems():g.canUpdate;q=q&&!m&&(d||e&&(null===u||void 0===u?void 0:u.canEditFeaturesFullControl())&&z);q=null!==(E=g.canEditService)&&void 0!==E?E:q;g.isEditableByUser=q;E=l["default"]("trident");
q=t["default"].isMobile();E=E||q;u="Scene Service"===g.type&&x["default"].includes(g.typeKeywords,"Voxel");m=g.portal.isPortal;q=[].concat(g.types);q.push(g.hasResources?"has-resources":"");q.push(g.hasViewStyle?"has-viewStyle":"");q.push(g.url?"has-url":"");q.push(!m&&x["default"].includes(g.typeKeywords,"Presentation Map")?"has-presentation":"");q.push((null===k||void 0===k?0:k.isOrgUser)&&"Form"===g.type?"is-surveyForm":"");q.push(g.portal&&!g.portal.isPortal&&(null===k||void 0===k?0:k.isOrgUser)&&
"Form"===g.type?"is-surveyFormBrowser":"");q.push(g.isConfigurableApp?"can-configure":"");q.push(g.isEditableByUser&&"Feature Service"===g.type?"can-edit-service":"");q.push(u?"is-voxel":"");q.push(g.isOwner?"is-owner":"");q.push(g.isAdmin?"is-admin":"");q.push((null===k||void 0===k?0:k.isOrgUser)?"":"is-public-user");q.push((null===k||void 0===k?0:k.isOrgAdmin)?"is-admin":"");q.push(g.canUpdate?"can-update":"is-viewer");q.push(x["default"].includes(g.typeKeywords,"Web AppBuilder")&&g.canUpdate&&
!g.origin?"can-edit-wab":"");q.push(!m&&g.canUpdate?"can-create-presentation":"");q.push((null===k||void 0===k?0:k.isOrgUser)&&"Notebook"===g.type?"is-notebook":"");u=-1<(null===(y=g.openIn)||void 0===y?void 0:y.indexOf("mapViewer"));q.push(u&&!E?"is-map-viewer-beta":"");q.push(k&&(null===k||void 0===k?void 0:k.defaultMapViewer)!==f.MapViewerType.Modern?"is-map-viewer-classic":"is-map-viewer-modern");"OGCFeatureServer"===g.type&&q.push("no-legacy-viewer-support");g.addBlockClasses(q);return q}})},
"arcgisonline/pages/dijit/OrgPopup/OrgPopup":function(){define("require exports tslib esri/Evented dojo/text!./OrgPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/popup dijit/TooltipDialog arcgisonline/pages/utils/dom arcgisonline/pages/utils/focus arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);
f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);return function(){function d(a,b){this.templateString=t["default"];this.i18n=l["default"];this.icons=m["default"]}d.prototype.postCreate=function(){this.inherited(arguments);this.dialog=new E["default"]({"class":"profile-popup",title:"",content:this.domNode,_onKey:this.handleDialogKeydown.bind(this)});
this.render();this.addEventListeners()};d.prototype.open=function(){var a=this;u["default"].open({popup:this.dialog,orient:["below","above"],around:this.opener,onCancel:function(){a.opener.focus();a.close()}});this.dialog.domNode.parentElement.classList.add("profile-popup__container");var b=q["default"].getFocusableElements(this.dialog.domNode);this.firstFocusItem=b[0];this.lastFocusItem=b[b.length-1];this.firstFocusItem.focus();setTimeout(function(){z["default"].showHide(a.descToggle,a.descEl.scrollHeight>
a.descEl.clientHeight)},100)};d.prototype.close=function(){u["default"].close(this.dialog);this.dialog.destroy();this.destroy();this.emit("close")};d.prototype.render=function(){z["default"].showHide(this.descContainer,!!this.item.verified.description);this.item.verified.description&&(this.descEl.innerHTML=this.item.verified.description)};d.prototype.addEventListeners=function(){var a=this;this.own(f["default"](this.closeIcon,"click",function(){u["default"].close(a.dialog)}),f["default"](this.domNode,
"click",function(b){b.stopPropagation()}),f["default"](document.body,"click",function(){a.close()}),f["default"](this.descToggle,"click",function(){return a.handleDescToggle()}))};d.prototype.handleDialogKeydown=function(a){var b=this;if(a.keyCode===g["default"].TAB)if(a.stopPropagation(),this.lastFocusItem!==a.target||a.shiftKey)a.shiftKey&&this.firstFocusItem===a.target&&(a.preventDefault(),this.opener.focus(),this.close());else{a.preventDefault();var c=q["default"].getFocusableElements(document.body);
c.forEach(function(h,n){h===b.opener&&c[n+1].focus()});this.close()}};d.prototype.handleDescToggle=function(){this.descContainer.classList.toggle("profile-popup__bio-container--expanded")};return d=r.__decorate([e["default"](y["default"],k["default"],x["default"])],d)}()})},"arcgisonline/pages/dijit/CardMobile":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/text!./CardMobile/CardMobile.html ../utils/formatters ./Card/_CardBase".split(" "),function(U,M,r,x,t,l,f){x=r.__importDefault(x);
t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);return function(){function g(k){this.templateString=t["default"];this.alwaysShowDrag=this.draggable=!1}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.item.ownerText=l["default"].formatOwnerText(this.item,!0)};g.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};g.prototype.setDraggable=
function(k){(this.draggable=k)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return g=r.__decorate([x["default"](f["default"])],g)}()})},"arcgisonline/pages/dijit/CardWide":function(){define("require exports tslib ../../tsutils/declareDecorator ./Card/_CardBase dojo/text!./CardWide/CardWide.html".split(" "),function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(){this.isWide=!0;this.templateString=
l["default"]}f.prototype.postCreate=function(){this.inherited(arguments)};return f=r.__decorate([x["default"](t["default"])],f)}()})},"arcgisonline/pages/dijit/TableRow":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../utils/formatters ../../esriGeowConfig ./ItemShareSummary ../utils/item ../utils/setItemUrls ../utils/icons ../utils/dom ./Card/_getItemClasses ../item/_Actions ./_CheckReadonlyMixin dojo/text!./TableRow/templates/TableRow.html dojo/text!./Card/OpenDropdown.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ./OrgPopup/OrgPopup preact ../components/Favorite".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);D=r.__importDefault(D);return function(){function F(v,C){this.template=h["default"];this.i18n=p["default"];this.fullDate=u["default"].fullDate;this.completeDate=u["default"].completeDate;this.capitalize=u["default"].capitalize;this.empty=u["default"].empty;this.shortenNumber=u["default"].shortenNumber;this.getAccess=u["default"].getAccess;this.getAccessIcon=u["default"].getAccessIcon;this.show=u["default"].show;this.hide=u["default"].hide;
this.icons=e["default"];this.cssClasses=[];this.dropdownClass=this.removedRow=this.activeRow=this.selectClass=this.checked="";this.recordSelection=this.favoritesDisabled=this.showShareGroups=this.hasSharedOwnershipGroups=this.showSource=this.fullItemTypes=this.isRemoved=this.isSelected=this.select=!1}F.prototype.postMixInProperties=function(){var v=this,C,G;this.inherited(arguments);this.formatDisplayName=u["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.templateString=this.template||
h["default"];this.checked=this.isSelected?"checked":"";this.selectClass=this.select?"":"hide";this.activeRow=this.isSelected?"table-select-row-active":"";this.removedRow=this.isRemoved?"table-select-row-removed":"";this.dropdownClass=2<this.itemIndex?"dropdown-up":"";if(null===(C=this.item)||void 0===C?0:C.classification)this.favoritesDisabled=!this.portalUser,this.item.openIn.forEach(function(H){return m["default"][H](v.item)}),this.item.premiumClass=this.item.isPremium?"":"hide",this.cssClasses=
a["default"](this.item,this.portalUser),this.item.isAdmin=this.item.isAdmin||(null===(G=this.portalUser)||void 0===G?void 0:G.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId,this.item.canShare=this.allowShare&&q["default"].canShareItem(this.item,this.portalUser),this.item.ownerText=u["default"].formatOwnerText(this.item),this.item.badges=q["default"].getBadges(this.item,!1,this.portalUser)};F.prototype.postCreate=function(){var v=this,C,G;this.inherited(arguments);this.cssClasses&&this.cssClasses.forEach(function(J){return J&&
v.domNode.classList.add(J)});!this.favoritesDisabled&&0<t["default"](".js-favorites-container",this.domNode).length&&(this.favorite=A.render(A.h(D["default"],{item:this.item}),this.domNode.querySelector(".js-favorites-container")));if(0<t["default"](".js-open-dropdown-container",this.domNode).length){var H=this.domNode.querySelector(".js-open-dropdown-container"),K=l["default"].substitute(n["default"],{item:this.item,i18n:p["default"],icons:e["default"]},null,this);x["default"].place(K,H);(null===
(C=this.item.portal)||void 0===C?0:C.isPortal)&&d["default"].hideNodes(H.querySelectorAll(".js-hide-portal"))}C=this.item;H=this.portalUser;K=this.allowShare;var O=this.telemetry,L=this.showShareGroups;(null===(G=this.item)||void 0===G?0:G.classification)&&new z["default"]({item:C,portalUser:H,showShareGroups:L,allowShare:K,telemetry:O},this.domNode.querySelector(".js-share-summary"));if("Feature Service"===C.type||"Feature Collection"===C.type)G=this.domNode.querySelector(".js-layers-tables"),K=
this.domNode.querySelector(".js-layers-tables-toggle"),G&&K&&E["default"].deepLayerSearchEnabled&&d["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:C,layers:C.sublayers,portal:C.portal,api:3,user:H,searchTerm:this.searchTerm,config:E["default"],telemetry:this.telemetry,tooltip:this.formatDisplayName(C.displayName),i18nNoService:p["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:p["default"].SelectLayersWFS.noLayers},G).appendChild(K);this._addEventListeners()};
F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy();this.favorite&&A.render(null,this.domNode.querySelector(".js-favorites-container"),this.favorite)};F.prototype._addEventListeners=function(){var v;this.own(t["default"](".js-table-select-checkbox",this.domNode).on("change",this._toggleSelected.bind(this)),t["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),t["default"](".js-action",this.domNode).on("click",this._handleAction.bind(this)),
t["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),t["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),g["default"].subscribe("view/items/"+this.item.id+"/deselect",this._deselect.bind(this)));var C=this.domNode.querySelector(".js-verified-owner-link");C&&this.own(f["default"](C,"click",this.showOrgPopup.bind(this)));(null===(v=this.item)||
void 0===v?0:v.watch)&&this.own(this.item.watch(this._itemUpdate.bind(this)))};F.prototype._handleAction=function(v){var C=this;v.preventDefault();var G=v.target.getAttribute("data-action");if(G&&b["default"][G]&&("share"!==G||!this.checkReadonly(this.item.portal))){var H={evt:v,item:this.item,user:this.portalUser,portal:this.item.portal,telemetry:this.telemetry};if("share"!==G||this.item.isOwner)b["default"][G](H);else this.item.getOwnerProfile(!0,!0).then(function(K){C.item.itemOwner=K;b["default"].share(H)})}};
F.prototype.selectItem=function(){this.domNode.classList.add("table-select-row-active");this.item.isSelected=!0;this.domNode.querySelector(".js-table-select-checkbox").checked=!0};F.prototype._select=function(){this.selectItem();g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("table-select-row-active");this.item.isSelected=!1;this.domNode.querySelector(".js-table-select-checkbox").checked=!1;g["default"].publish("view/deselect",this.item)};
F.prototype._toggleSelected=function(){var v;if(this.domNode.classList.contains("table-select-row-active")){var C="Unselect row";this._deselect()}else C="Select row",this._select();this.recordSelection&&(null===(v=this.telemetry)||void 0===v?void 0:v.logEvent({category:"Select",action:C,count:1}))};F.prototype._itemUpdate=function(v,C,G){g["default"].publish("item/update",{item:this.item,name:v,oldValue:C,value:G})};F.prototype._showProfile=function(v){g["default"].publish("profile/show",v)};F.prototype.showOrgPopup=
function(v){v.stopPropagation();(new B["default"]({item:this.item,opener:v.target})).open()};F.prototype._shareItemDropdown=function(v){this.domNode.querySelector(".js-item-share-dropdown").blur()};F.prototype._categorizeItem=function(v){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=r.__decorate([w["default"](k["default"],y["default"],c["default"])],F)}()})},"arcgisonline/pages/components/Favorite":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic ../../sharing/geow/Content arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/pages/pageUtil".split(" "),
function(U,M,r,x,t,l,f,g,k){Object.defineProperty(M,"__esModule",{value:!0});t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);U=function(y){function u(){var E=null!==y&&y.apply(this,arguments)||this;E.buttonRef=x.createRef();E.handleClick=function(z){var q=E.state.isFavorite,m=E.props.item;E.checkReadonly(m.portal)||(E.setState(function(e){return{isFavorite:!e.isFavorite}}),m.set("isFavorite",q),(q?f["default"].removeFromFavorites(m):
f["default"].addToFavorites(m)).then(function(){E.buttonRef.current.blur()},function(e){l["default"].publish("alert/show",{type:"error",text:null===e||void 0===e?void 0:e.message});E.setState(function(d){return{isFavorite:!d.isFavorite}});m.set("isFavorite",q)}))};return E}r.__extends(u,y);u.prototype.componentDidMount=function(){this.setState({isFavorite:this.props.item.isFavorite})};u.prototype.checkReadonly=function(E){return(null===E||void 0===E?0:E.isPortal)&&E.isReadOnly?(k["default"].createSpecifiedDialog(g["default"]).show({title:t["default"].common.errorTitle,
message:t["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};u.prototype.render=function(){var E=this.state.isFavorite;return x.h("span",null,x.h("button",{onClick:this.handleClick,ref:this.buttonRef,role:"checkbox","aria-label":t["default"].common.favorite,"aria-checked":E?"true":"false","class":"favorites__button position-relative card-action "+(E?"btn-link-yellow":"")},x.h("calcite-icon",{icon:E?"star-f":"star",scale:"s"}),x.h("span",{"aria-hidden":"true","class":"favorites__tooltip"},
E?t["default"].common.unfavorite:t["default"].common.favorite)))};return u}(x.Component);M["default"]=U})},"arcgisonline/pages/utils/dropdown":function(){define(["require","exports","tslib","calcite-web/js/calcite-web","dojo/query"],function(U,M,r,x,t){Object.defineProperty(M,"__esModule",{value:!0});M.dropdown=void 0;x=r.__importDefault(x);t=r.__importDefault(t);M.dropdown=function(){x["default"].dropdown();t["default"](".dropdown-link").on("mouseover",function(l){var f;null===(f=l.target)||void 0===
f?void 0:f.focus()})}})},"arcgisonline/pages/components/SearchFeedback":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline preact/hooks".split(" "),function(U,M,r,x,t,l){Object.defineProperty(M,"__esModule",{value:!0});M.SearchFeedback=void 0;t=r.__importDefault(t);M.SearchFeedback=function(f){var g=f.telemetry,k=f.searchTerm,y=f.page,u=f.onlyOrg,E=f.section,z=f.enriched,q=f.onSubmit,m=l.useState(1);f=m[0];var e=m[1];m=l.useState({dontSee:!1,irrelevant:!1,filters:!1,
notEnoughInfo:!1});var d=m[0],a=m[1];u=E+" "+(u?"org only":"all");E=l.useState("");var b=E[0],c=E[1],h={category:"search result page feedback "+(1===f?"1":"2"),pageName:u,statusCode:z?"enriched":"not enriched",pageUrl:window.location.href,number:Math.ceil(y.start/y.num),searchquery:k};return x.h("div",null,1===f&&x.h("div",{"class":"leader-1 trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 flex flex-center"},x.h("div",{"class":"flex-1"},x.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-quarter"},
t["default"].searchFeedback.areTheseResultsHelpful),x.h("p",{"class":"text-off-black font-size--2 trailer-0"},t["default"].searchFeedback.helpUsImprove)),x.h("calcite-button",{"icon-start":"thumbs-up",appearance:"outline","class":"padding-left-1",onClick:function(){g.logEvent(r.__assign(r.__assign({},h),{label:"yes"}));e(3);q()}},t["default"].searchFeedback.helpful),x.h("calcite-button",{appearance:"outline","icon-start":"thumbs-down","class":"padding-left-1",onClick:function(){g.logEvent(r.__assign(r.__assign({},
h),{label:"no"}));e(2)}},t["default"].searchFeedback.notHelpful)),2===f&&x.h("div",{"class":"trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1"},x.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-0"},t["default"].searchFeedback.whatMakes),x.h("p",{"class":"text-off-black font-size--2 trailer-half"},t["default"].searchFeedback.selectAllThatApply),Object.keys(d).map(function(n){return x.h("calcite-chip",{"class":"margin-right-half trailer-half",
value:n,appearance:d[n]?"solid":"clear",color:d[n]?"blue":"grey",onClick:function(){var p;a(r.__assign(r.__assign({},d),(p={},p[n]=!d[n],p)))}},t["default"].searchFeedback[n])}),x.h("div",{"class":"leader-1"},x.h("calcite-label",null,x.h("span",{"class":"display-block padding-trailer-half"},t["default"].searchFeedback.tellUsMore),x.h("calcite-input",{type:"textarea",maxLength:250,oncalciteInputInput:function(n){return c(n.detail.value)}})),x.h("div",{"class":"flex flex-end trailer-1"},x.h("span",
{"class":"font-size--2 text-darker-gray"},b.length," / ",250))),x.h("div",{"class":"flex flex-end"},x.h("calcite-button",{appearance:"outline",color:"blue",onClick:function(){e(3);q()},"class":"margin-right-quarter"},t["default"].searchFeedback.close),x.h("calcite-button",{appearance:"solid",color:"blue",onClick:function(){e(3);Object.keys(d).filter(function(n){return d[n]}).forEach(function(n){g.logEvent(r.__assign(r.__assign({},h),{label:n}))});b&&g.logEvent(r.__assign(r.__assign({},h),{details:b,
label:"other"}));q()}},t["default"].searchFeedback.sendFeedback))),3===f&&x.h("calcite-alert",{label:t["default"].searchFeedback.thankYou,active:!0,color:"green",icon:"check-circle",scale:"m","intl-close":"Close"},x.h("div",{slot:"title"},t["default"].searchFeedback.thankYou)))}})},"arcgisonline/pages/utils/search":function(){define(["require","exports","tslib","arcgisonline/esriGeowConfig"],function(U,M,r,x){Object.defineProperty(M,"__esModule",{value:!0});M.separateFilterFromQuery=M.semanticSearchEnabled=
void 0;x=r.__importDefault(x);M.semanticSearchEnabled=function(t,l){var f;return!!(x["default"].semanticSearchEnabled&&(null===(f=null===t||void 0===t?void 0:t.portalProperties)||void 0===f?0:f.semanticSearchEnabled))||l&&!l.orgId};M.separateFilterFromQuery=function(t){var l=/(tags:".+?")/gi;l=null===t||void 0===t?void 0:t.match(l);null===l||void 0===l?void 0:l.forEach(function(f){t=t.replace(new RegExp(f),"")});return{q:t,filter:(null===l||void 0===l?void 0:l.join(" "))||""}}})},"arcgisonline/pages/dijit/Pagination":function(){define("require exports tslib dojo/on dojo/topic dojo/query dojo/string dojo/dom-attr dojo/dom-class dojo/_base/event dijit/_TemplatedMixin dijit/_WidgetBase calcite-web/js/calcite-web ../pageUtil ../utils/dom ../utils/icons dojo/text!./Pagination/templates/Number.html dojo/text!./Pagination/templates/Ellipsis.html dojo/text!./Pagination/templates/Pagination.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function n(p,w){this.templateString=
b["default"];this.pageSizeLabel=c["default"].contentPage.paginationPerPage;this.i18n=c["default"];this.icons=e["default"];this.smallestPageSize=this.num=20;this.topic=""}n.prototype.postCreate=function(){this.inherited(arguments);this._addEventListeners();this.hideDropdown&&m["default"].hideNode(this._pageDropdown)};n.prototype.render=function(p){this.total=p.total;this.start=p.start;this.nextStart=p.nextStart;this.end=-1===this.nextStart?this.total:this.nextStart-1;this.currentPage=(this.start-1)/
this.num+1;this.pages=Math.ceil(this.total/this.num);this._updateUI()};n.prototype._addEventListeners=function(){var p=this;this.own(x["default"](this.next,"click",function(w){y["default"].stop(w);p.nextPage()}),x["default"](this.pageLinks,"click",function(w){var B;y["default"].stop(w);w=g["default"].get(w.target,"data-page");null===(B=p.telemetry)||void 0===B?void 0:B.logEvent({pageUrl:window.location.href,category:"Change page",action:w});p.selectPage(w)}),x["default"](this.previous,"click",function(w){y["default"].stop(w);
p.previousPage()}),l["default"](".js-page-num-link",this.domNode).on("click",function(w){w=w.target.getAttribute("data-num");p.updateNum(w)}))};n.prototype._updateUI=function(){var p=this.currentPage,w=Math.min(this.pages,Math.floor(1E4/this.num)),B=l["default"](".js-btn-previous",this.domNode),A=l["default"](".js-btn-next",this.domNode);l["default"](".js-btn",this.domNode).addClass("btn-transparent");1===p?B.addClass("btn-disabled").attr("tabindex",-1):B.removeClass("btn-disabled").removeAttr("tabindex");
-1===this.nextStart||1E4<this.nextStart+this.num?A.addClass("btn-disabled").attr("tabindex",-1):A.removeClass("btn-disabled").removeAttr("tabindex");this._pageNumLabel.innerHTML=f["default"].substitute(this.pageSizeLabel,{num:this.num});l["default"](".js-page-num-link",this.domNode).removeClass("is-active");l["default"](".js-page-num-link[data-num\x3d'"+this.num+"']",this.domNode).addClass("is-active");if(1<w){A=Math.max(4,p);var D=12<w&&w<A+3;B=[];if(6>w)for(A=1;A<=w;A++)B.push(A);else{if(4<p)B.push(1,
"..."),D||B.push(p-1,p);else for(var F=1;F<=p;F++)B.push(F);if(4>p&&4<w)for(F=p+1;4>=F;F++)B.push(F);if(D)for(A=w-3;A<=w;A++)B.push(A);else if(2<w-A)B.push(A+1,"...",w);else for(A+=1;A<=w;A++)B.push(A)}this.pageLinks.innerHTML='\x3cul class\x3d"clear-list-style flex-center"\x3e'+B.reduce(function(v,C){var G=C===p;return v+f["default"].substitute("..."===C?a["default"]:d["default"],{pageNum:C,"is-active":G?"no-pointer pagination-btn--active":"btn-transparent pagination-btn--inactive",label:f["default"].substitute(G?
c["default"].contentPage.paginationActive:c["default"].contentPage.paginationLink,{pageNum:C}),current:G?"aria-current\x3d'true' tabindex\x3d'-1'":""})},"")+"\x3c/ul\x3e";k["default"].remove(this.domNode,"hide");k["default"].remove(this.navigation,"hide")}else this.total>this.smallestPageSize?(k["default"].add(this.navigation,"hide"),k["default"].remove(this.domNode,"hide")):k["default"].add(this.domNode,"hide");l["default"](".js-over-limit",this.domNode).removeClass("is-active");1E4<=this.total&&
1E4<=this.start+this.num&&l["default"](".js-over-limit",this.domNode).addClass("is-active")};n.prototype.setInitialProperties=function(p){this.start=p.start||this.start;this.num=p.num||this.num;this._updateUI()};n.prototype.selectPage=function(p){this.currentPage=parseInt(p||1,10);this.start=(this.currentPage-1)*this.num+1;this.nextStart=this.start+this.num>this.total?-1:this.start+this.num;this.end=-1===this.nextStart?this.total:this.nextStart-1;this._updateUI();this.topic||q["default"].updateQueryParams({start:this.start,
num:this.num});t["default"].publish(this.topic+"pagination/page",this.getCurrentPageObj())};n.prototype.nextPage=function(){var p;this.currentPage=Math.min(this.currentPage+1,this.pages);null===(p=this.telemetry)||void 0===p?void 0:p.logEvent({pageUrl:window.location.href,category:"Change page",action:"Next"});this.selectPage(this.currentPage)};n.prototype.previousPage=function(){var p;this.currentPage=Math.max(this.currentPage-1,1);null===(p=this.telemetry)||void 0===p?void 0:p.logEvent({pageUrl:window.location.href,
category:"Change page",action:"Prev"});this.selectPage(this.currentPage)};n.prototype.updateNum=function(p){var w,B=parseInt(p,10);B!==this.num&&(this.num=B,this.pages=Math.ceil(this.total/this.num),null===(w=this.telemetry)||void 0===w?void 0:w.logEvent({pageUrl:window.location.href,category:"Row count per page",action:p}),this.selectPage(1),z["default"].bus.emit("dropdown:close"))};n.prototype.getCurrentPageObj=function(){return{num:this.num,total:this.total,start:this.start,end:this.end,nextStart:this.nextStart,
currentPage:this.currentPage,pages:this.pages}};n.prototype.hide=function(){this.domNode.classList.add("hide")};n.prototype.show=function(){this.domNode.classList.remove("hide")};return n=r.__decorate([h["default"](E["default"],u["default"])],n)}()})},"arcgisonline/pages/dijit/ControlBar":function(){define("require exports tslib calcite-web/js/calcite-web dojo/debounce dojo/dom-construct dojo/string dojo/topic dojo/on dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ./SearchInput ../components/ViewToggle ../components/SortDropdown ../components/Refresh ../organization/widgets/SearchDropdown ../pageUtil ../utils/icons ../utils/productGlyphs dojo/text!./ControlBar/templates/ControlBar.html dojo/text!./ControlBar/templates/Filters.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator preact preact/compat".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=
r.__importDefault(p);w=r.__importDefault(w);return function(){function D(F,v){this.templateString=h["default"];this.i18n=p["default"];this.icons=b["default"];this.productGlyphs=c["default"];this.showOnResize=!0;this.mobileBreakPoint=860;this.screenWidth=1080;this.telemetryOptions=this.telemetry=void 0;this.collapsed=!1;this.hideMobileActions=!0;this.refresh=!1;this.refreshLabel="";this.dontUpdateQueryParams=!1}D.prototype.postMixInProperties=function(){this.inherited(arguments);this.showFilters=this.showFilters.bind(this);
this.hideFilters=this.hideFilters.bind(this);this.searchActionClass=this.actions?"control-bar__search--has-actions":"";this.filterActiveClass=this.collapsed?"":"is-active";this.hideFilterClass=this.noFilters?"hide":"";this.hideActionClass=this.hideMobileActions?"control-bar--hide-mobile-actions":"";this.positionAbsoluteClass=this.absolute?"control-bar--absolute":"";this.search.cssTheme="control-bar__search-input flex-1";this.queryParams=a["default"].getQueryParams();this.hideRightClass=this.filterContainer||
this.views||this.sort?"":"control-bar--hide-right";this.marginClass=this.noMargin?"control-bar--no-margin":""};D.prototype.postCreate=function(){var F=this,v,C,G,H,K;this.inherited(arguments);if(this.filterContainer){var O=l["default"].toDom(f["default"].substitute(n["default"],{i18n:p["default"],icons:b["default"]})),L=this.filterContainer.parentNode;L.insertBefore(O,this.filterContainer);L.querySelector(".js-filters-insert").appendChild(this.filterContainer);this.filtersWrap=L.querySelector(".js-filters-mobile-wrap");
this.filtersWrapParent=L;("false"===this.queryParams.showFilters||this.noFilters||this.collapsed)&&this.filtersWrap.classList.add("is-collapsed")}this.search&&(this.searchDropdown&&(this.search.searchBy=null!==(v=this.queryParams.searchBy)&&void 0!==v?v:"fullname"),this.search.topic=this.topic,this.telemetry&&(null===(C=this.telemetryOptions)||void 0===C?0:C.search)&&(this.search.telemetry=this.telemetry),this._searchInput=new z["default"](this.search,this.domNode.querySelector(".js-control-bar-search")));
this.views&&(this.views.topic=this.topic,this.telemetry&&(null===(G=this.telemetryOptions)||void 0===G?0:G.viewToggle)&&(this.views.telemetry=this.telemetry),this._viewToggle=B.render(B.h(q["default"],r.__assign({},this.views)),this.domNode.querySelector(".js-control-bar-view-dropdown")));this.refresh&&(v=this.domNode.querySelector(".js-control-bar-refresh"),v.classList.remove("hide"),B.render(B.h(e["default"],{topic:this.topic,label:this.refreshLabel}),v));this.sort&&(v={options:this.sort,topic:this.topic,
telemetry:this.telemetry&&(null===(H=this.telemetryOptions)||void 0===H?0:H.sortOrderToggle)?this.telemetry:null},this._sortDropdown=B.render(B.h(m["default"],r.__assign({},v)),this.domNode.querySelector(".js-control-bar-sort-dropdown")));this.searchDropdown&&(this._searchDropdown=new d["default"]({},this.domNode.querySelector(".js-control-bar-search-dropdown")));this.actions?this.domNode.querySelector(".js-control-bar-actions").innerHTML=f["default"].substitute(this.actions,{i18n:p["default"],icons:b["default"],
productGlyphs:c["default"]}):l["default"].destroy(this.domNode.querySelector(".js-control-bar-actions"));this.noFilters&&(null===(K=this.filterContainer)||void 0===K?void 0:K.parentNode.removeChild(this.filterContainer));if(this.sticky)var J=setInterval(function(){var R;0<(null===(R=F.domNode)||void 0===R?void 0:R.clientHeight)&&(clearInterval(J),F.initStickyInterface())},100);this.filtersWrap&&("false"===this.queryParams.showFilters?(this.hideFilters(),this.showOnResize=!1):this.resizeHandler(),
window.innerWidth<this.mobileBreakPoint&&this.insideOverlay&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap));this.domNode.querySelector(".js-toggle-filters").setAttribute("aria-expanded",this.collapsed?"false":"true");this.own(y["default"](".js-toggle-filters",this.domNode).on("click",function(){return F.toggleFilters()}),k["default"](window,"resize",t["default"](function(){return F.resizeHandler()},30)),y["default"](".js-collapse-filters-button",this.filtersWrap).on("click",
function(){return F.hideFilters()}),g["default"].subscribe(this.topic+"search/error",this.showSearchError.bind(this)),g["default"].subscribe(this.topic+"search/update",this.hideSearchError.bind(this)))};D.prototype.destroy=function(){this.domNode&&(this.sort&&A.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-sort-dropdown")),this.views&&A.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-view-dropdown")));this.inherited(arguments)};D.prototype.setSearchValue=function(F){g["default"].publish("search/setValue",
F,!0);this._searchInput.setValue(F,!0)};D.prototype.getSearchValue=function(){return this._searchInput.getValue()};D.prototype.toggleFilters=function(){var F,v;if(null===(F=this.telemetryOptions)||void 0===F?0:F.filterToggle)null===(v=this.telemetry)||void 0===v?void 0:v.logEvent({category:"Control Bar Filter Toggle",action:this.collapsed?"show":"hide",pageUrl:window.location.href});this.collapsed?this.showFilters():this.hideFilters();this.screenWidth>this.mobileBreakPoint&&(this.showOnResize=!this.collapsed)};
D.prototype.showFilters=function(){var F=window.document.documentElement;this.collapsed=!1;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!0});this.filtersWrap&&this.filtersWrap.classList.remove("is-collapsed");var v=this.domNode.querySelector(".js-toggle-filters");v.classList.add("is-active");v.setAttribute("aria-expanded","true");this.screenWidth<this.mobileBreakPoint&&F.classList.add("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.hideFilters=
function(){var F=window.document.documentElement;this.collapsed=!0;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!1});this.filtersWrap&&this.filtersWrap.classList.add("is-collapsed");var v=this.domNode.querySelector(".js-toggle-filters");v.classList.remove("is-active");v.setAttribute("aria-expanded","false");F.classList.remove("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.resizeHandler=function(){var F=window.innerWidth,v=window.document.documentElement;
!this.collapsed&&900<=this.screenWidth&&900>F&&this.hideFilters();this.showOnResize&&this.collapsed&&900>this.screenWidth&&900<=F&&this.showFilters();(720>this.screenWidth&&720<=F||720<=this.screenWidth&&720>F)&&g["default"].publish("view/refresh");this._searchInput&&480<=this.screenWidth&&480>F&&g["default"].publish("search/setPlaceholder",p["default"].common.search);this._searchInput&&480>this.screenWidth&&480<=F&&this._searchInput.setPlaceholder();F>this.mobileBreakPoint&&v.classList.remove("filters-open");
this.moveFilters(F);this.screenWidth=F};D.prototype.setPlaceholder=function(F){this._searchInput.setPlaceholder(F)};D.prototype.focus=function(){var F;null===(F=this._searchInput)||void 0===F?void 0:F.focus()};D.prototype.initStickyInterface=function(){window.scrollTo(0,0);x["default"].sticky();this._scrollingSideMenu=this.filterContainer.querySelector(".js-scrolling-side-menu");this._scrollingMenusStart=this.domNode.getBoundingClientRect().top;this._scrollingOptionsMenuPlaceHolder=l["default"].create("div",
{"class":"js-scrolling-top-menu-placeholder hide",style:"height:\n          "+(this.domNode.clientHeight+Number(getComputedStyle(this.domNode)["margin-bottom"].split("px")[0]))+"px;"},this.domNode,"before");this.own(x["default"].bus.on("scrolling:at",this.stickyCallback?this._handlePageScrollWithCallback.bind(this):this.handlePageScroll.bind(this)))};D.prototype.showSearchError=function(F,v){var C;(null===(C=this._searchInput)||void 0===C?void 0:C.id)===v&&(C=this.domNode.querySelector(".js-control-bar-search-error"),
C.innerHTML=F,C.classList.add("is-active"),this.domNode.querySelector("js-control-bar-search-wrap").classList.add("ontrol-bar__search--error"))};D.prototype.hideSearchError=function(F){this._searchInput&&this._searchInput.id===F&&(F=this.domNode.querySelector(".js-control-bar-search-error"),F.innerHTML="",F.classList.remove("is-active"),this.domNode.querySelector(".js-control-bar-search-wrap").classList.remove("control-bar__search--error"))};D.prototype._handlePageScrollWithCallback=function(F,v){this.handlePageScroll();
this.stickyCallback(F,v)};D.prototype.handlePageScroll=function(){var F=document.documentElement,v=this.domNode.clientHeight;(window.pageYOffset||F.scrollTop)>=this._scrollingMenusStart?(this._scrollingOptionsMenuPlaceHolder.classList.remove("hide"),this.domNode.classList.add("fixed-to"),window.innerWidth>this.mobileBreakPoint?(this._scrollingSideMenu.classList.add("fixed-to"),this._scrollingSideMenu.style.top=v+"px"):this._scrollingSideMenu.style.top="0"):(this._scrollingOptionsMenuPlaceHolder.classList.add("hide"),
this.domNode.classList.remove("fixed-to"),this._scrollingSideMenu.classList.remove("fixed-to"),this._scrollingSideMenu.style.top="0")};D.prototype.moveFilters=function(F){this.insideOverlay&&this.filtersWrap&&(this.screenWidth<this.mobileBreakPoint&&F>=this.mobileBreakPoint&&l["default"].place(this.filtersWrap,this.filtersWrapParent,"first"),this.screenWidth>=this.mobileBreakPoint&&F<this.mobileBreakPoint&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap))};return D=
r.__decorate([w["default"](E["default"],u["default"])],D)}()})},"arcgisonline/pages/dijit/SearchInput":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/debounce dojo/dom-class dojo/on dojo/i18n!../../nls/arcgisonline dojo/text!./SearchInput/SearchInput.html dijit/_TemplatedMixin dijit/_WidgetBase esri/libs/sanitizer/Sanitizer ../utils/icons ../utils/dom ../utils/strings".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e){x=r.__importDefault(x);t=r.__importDefault(t);
l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);return function(){function d(a,b){var c=this;this.templateString=y["default"];this.i18n=k["default"];this.icons=q["default"];this.queryParam=this.cssTheme=this.searchTerm="";this.hasSearchBy=!1;this.topic=this.searchBy="";this.dontDebounce=!1;this.sanitizer=
new z["default"];this.searchStarted=this.cancelDebounce=!1;this._searchWithDebounce=l["default"](function(h){c.cancelDebounce||c._search(h);c.cancelDebounce=!1},1E3)}d.prototype.postMixInProperties=function(){this.inherited(arguments);this.searchTerm=this.params.searchTerm||"";this.cssTheme=this.cssTheme||"";this.queryParam=this.params.queryParam||"searchTerm";this.searchBy=this.params.searchBy||"";this.topic=this.params.topic||"";this.params.validateInput&&(this.validateInput=this.params.validateInput.bind(this));
this.params.generateErrorMessage&&(this.generateErrorMessage=this.params.generateErrorMessage.bind(this))};d.prototype.postCreate=function(){var a=this;this.inherited(arguments);this.searchInput.value=this.searchTerm;m["default"].showHide(this.clearBtn,!!this.searchTerm);this.clearBtn.innerHTML=q["default"].getIconWithTitle("x","16",k["default"].manageLicenses.clearLabel,this.id+"_clear_btn");this.own(g["default"](this.searchInput,"input",function(b){m["default"].showHide(a.clearBtn,!!a.searchInput.value);
b=b.target.value;(2<b.length||0===b.length)&&b!==a.searchTerm&&(a.searchTerm=b,t["default"].publish(a.topic+"search/wait",a.sanitizer.sanitize(b),a.queryParam),a._testAndSearch(b,!!b))}),g["default"](this.searchInput,"focus",function(b){f["default"].add(b.target.parentNode,"control-bar__search--active");a.searchInput.value&&m["default"].showNode(a.clearBtn);t["default"].publish("search/focus",a.searchTerm)}),g["default"](this.searchInput,"blur",function(b){f["default"].remove(b.target.parentNode,
"control-bar__search--active");a.searchStarted=!1}),g["default"](this.searchInput,"keydown",function(b){13===b.keyCode&&a._testAndSearch(b.target.value,!1)}),g["default"](this.clearBtn,"click",function(){a.searchInput.value="";m["default"].hideNode(a.clearBtn);a.searchTerm="";t["default"].publish(a.topic+"search/wait","",a.queryParam);a._testAndSearch("",!1);a.searchInput.focus()}),t["default"].subscribe("membersSearchBy/update",function(b){a.hasSearchBy&&(a.searchBy=b)}))};d.prototype.focus=function(){this.searchInput.focus()};
d.prototype.setValue=function(a,b){this.searchTerm=a;this.searchInput.value=a;m["default"].showHide(this.clearBtn,!!this.searchTerm);b||(t["default"].publish(this.topic+"search/wait",this.sanitizer.sanitize(a),this.queryParam),this._testAndSearch(a,!1))};d.prototype.getValue=function(){return this.searchInput.value};d.prototype.setPlaceholder=function(a,b){a=a||this.placeholder;b||(this.placeholder=a);this.searchInput.placeholder=a;this.searchInput.setAttribute("aria-label",a)};d.prototype.validateInput=
function(a,b){return!0};d.prototype.generateErrorMessage=function(a,b){return k["default"].controlBar.invalidSyntax};d.prototype._testAndSearch=function(a,b){void 0===b&&(b=!0);this.validateInput(a,this.searchBy)?(this.cancelDebounce=!1,b&&!this.dontDebounce?this._searchWithDebounce(a):(this._search(a),this.cancelDebounce=!0)):t["default"].publish(this.topic+"search/error",this.generateErrorMessage(a,this.searchBy),this.id)};d.prototype._search=function(a){var b,c=this.sanitizer.sanitize(a);c=e["default"].escapeQuestionMarks(c);
t["default"].publish(this.topic+"search/update",c,this.searchBy,this.id);null===(b=this.telemetry)||void 0===b?void 0:b.logEvent({category:"Search",action:this.searchStarted?"update":"start",label:a,pageUrl:window.location.href});this.searchStarted=!0};return d=r.__decorate([x["default"](E["default"],u["default"])],d)}()})},"arcgisonline/pages/components/ViewToggle":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic arcgisonline/pages/pageUtil calcite-web/js/calcite-web".split(" "),
function(U,M,r,x,t,l,f,g){Object.defineProperty(M,"__esModule",{value:!0});t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);U=function(k){function y(){var u=null!==k&&k.apply(this,arguments)||this;u.domNodeRef=x.createRef();u.toggleView=function(E){var z;E.stopPropagation();E=E.target.dataset.view;u.updateUI(E);null===(z=u.props.telemetry)||void 0===z?void 0:z.logEvent({category:"Control Bar View Selector",action:E,pageUrl:window.location.href});g["default"].bus.emit("dropdown:close")};
u.closeMenu=function(){var E;g["default"].bus.emit("dropdown:close");(null===(E=u.domNodeRef.current)||void 0===E?void 0:E.querySelector(".js-toggle-view-dropdown")).focus()};u.updateUI=function(E){u.setState({activeView:E});u.props.topic||f["default"].updateQueryParams({view:E});l["default"].publish(u.props.topic+"view/toggle",E)};return u}r.__extends(y,k);y.prototype.componentDidMount=function(){this.updateUI(this.props.activeView)};y.prototype.handleToggle=function(u){if(this.domNodeRef.current){var E=
this.domNodeRef.current;setTimeout(function(){if(E.classList.contains("is-active")){var z=E.querySelectorAll(".js-view-option")[0];null===z||void 0===z?void 0:z.focus()}},0)}};y.prototype.render=function(){var u=this,E=this.state.activeView,z=this.props.views;return x.h("div",{"class":"control-bar__action control-bar__action--view js-dropdown flex",ref:this.domNodeRef},x.h("button",{"class":"control-bar__btn\r\n          flex flex-align-center js-dropdown-toggle js-toggle-view-dropdown","aria-label":t["default"].viewToggle.selectView,
"aria-haspopup":"true","aria-controls":"viewmenu",onClick:function(q){return u.handleToggle(q)}},x.h("calcite-icon",{"class":"margin-right-quarter icon-inline",icon:E,scale:"s"}),x.h("span",{"class":"control-bar__btn-text"},t["default"].viewToggle[E])),x.h("div",{"class":"control-bar__overlay"}),x.h("div",{"class":"control-bar__dropdown-menu dropdown-menu",role:"menu",id:"viewmenu","aria-labelledby":"viewmenutitle"},x.h("h3",{"class":"control-bar__dropdown-menu__title",id:"viewmenutitle"},t["default"].viewToggle.view,
x.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":t["default"].common.close},x.h("calcite-icon",{"class":"icon-inline incon-inline--on-left",icon:"x",scale:"m"}))),x.h("nav",null,z.map(function(q){return x.h("button",{"class":"js-view-option dropdown-link control-bar__dropdown-item "+(q===E?"is-active":""),"data-view":q,role:"menuitem",onClick:u.toggleView},x.h("calcite-icon",{"class":"icon-inline",icon:q,scale:"s",flipRtl:!0}),x.h("span",
{"class":"control-bar__dropdown-item__label"},t["default"].viewToggle[q]))}),x.h("div",{"tab-index":"0","class":"js-focus-fence",onClick:this.closeMenu}))))};y.defaultProps={activeView:"grid",views:["table","list","grid"],topic:""};return y}(x.Component);M["default"]=U})},"arcgisonline/pages/components/SortDropdown":function(){define("require exports tslib preact ../utils/arrays dojo/i18n!../../nls/arcgisonline dojo/topic ../pageUtil calcite-web/js/calcite-web".split(" "),function(U,M,r,x,t,l,f,g,
k){Object.defineProperty(M,"__esModule",{value:!0});t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);var y={title:{asc:"alphabetical",desc:"reverseAlphabetical"},owner:{asc:"alphabetical",desc:"reverseAlphabetical"},modified:{asc:"leastRecent",desc:"mostRecent"},added:{asc:"leastRecent",desc:"mostRecent"},numviews:{asc:"leastToMost",desc:"mostToLeast"},relevance:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},lastlogin:{asc:"leastRecent",
desc:"mostRecent"},name:{asc:"alphabetical",desc:"reverseAlphabetical"},fullname:{asc:"alphabetical",desc:"reverseAlphabetical"},joined:{asc:"leastRecent",desc:"mostRecent"},level:{asc:"alphabetical",desc:"reverseAlphabetical"},role:{asc:"alphabetical",desc:"reverseAlphabetical"},created:{asc:"leastRecent",desc:"mostRecent"},email:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldAlias:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldName:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldType:{asc:"alphabetical",
desc:"reverseAlphabetical"},defaultFSOrder:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},mfaenabled:{asc:"ascending",desc:"descending"},membertype:{asc:"alphabetical",desc:"reverseAlphabetical"},username:{asc:"alphabetical",desc:"reverseAlphabetical"},layerName:{asc:"alphabetical",desc:"reverseAlphabetical"},layerType:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetName:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetPath:{asc:"alphabetical",desc:"reverseAlphabetical"},machine:{asc:"alphabetical",
desc:"reverseAlphabetical"},containerId:{asc:"alphabetical",desc:"reverseAlphabetical"},runtimeName:{asc:"alphabetical",desc:"reverseAlphabetical"},version:{asc:"alphabetical",desc:"reverseAlphabetical"},avgrating:{asc:"highestRated",desc:"highestRated",disabled:!0},custom:{asc:"mostRecent",desc:"leastRecent",disabled:!0},type:{asc:"alphabetical",desc:"reverseAlphabetical"}};U=function(u){function E(){var z=null!==u&&u.apply(this,arguments)||this;z.domNodeRef=x.createRef();z.state={ascending:!0,property:"",
label:"",sortEnabled:!0,disabled:!1,showOnlyRelevance:!1};z.sortDisable=function(){z.setState({showOnlyRelevance:!0})};z.sortEnable=function(){z.setState({showOnlyRelevance:!1})};z.handleSortOptionClick=function(q){var m;f["default"].publish(z.props.topic+"sort/update",q);null===(m=z.props.telemetry)||void 0===m?void 0:m.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleSortClick=function(q){var m;f["default"].publish(z.props.topic+"sort/update",
r.__assign(r.__assign({},z.state),{ascending:q}));null===(m=z.props.telemetry)||void 0===m?void 0:m.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleToggle=function(){if(z.domNodeRef.current){var q=z.domNodeRef.current;if(!q.classList.contains("is-active")){var m=q.querySelectorAll(".control-bar__dropdown-item")[0];m&&setTimeout(function(){m.focus()})}}};z.sortUpdate=function(q){var m,e=z.props,d=e.dontUpdateQueryParams;e=e.topic;var a=
q.ascending,b=q.property;q=q.label;z.state.sortEnabled||k["default"].bus.emit("dropdown:close");z.setState({ascending:a,property:b,label:q,ascendingLabel:l["default"].gallery[y[b].asc],descendingLabel:l["default"].gallery[y[b].desc],disabled:!(null===(m=y[b])||void 0===m||!m.disabled)});d||e||g["default"].updateQueryParams({sortOrder:a?"asc":"desc",sortField:b})};return z}r.__extends(E,u);E.prototype.componentDidMount=function(){var z=this,q=t["default"].find(this.props.options,function(e){return e.active}),
m=y[q.property];this.setState(r.__assign(r.__assign({},q),{ascendingLabel:l["default"].gallery[m.asc],descendingLabel:l["default"].gallery[m.desc],disabled:null===m||void 0===m?void 0:m.disabled}));this.sortUpdateHandler=f["default"].subscribe(this.props.topic+"sort/update",function(e){return z.sortUpdate(e)});this.sortDisableHandler=f["default"].subscribe(this.props.topic+"sort/disable",function(){return z.sortDisable()});this.sortEnableHandler=f["default"].subscribe(this.props.topic+"sort/enable",
function(){return z.sortEnable()})};E.prototype.componentWillUnmount=function(){[this.sortDisableHandler,this.sortEnableHandler,this.sortUpdateHandler].forEach(function(z){z.remove()})};E.prototype.render=function(){var z=this,q=this.state,m=q.label,e=q.ascendingLabel,d=q.descendingLabel,a=q.ascending,b=q.property,c=q.showOnlyRelevance;q=q.disabled;var h=this.props.options;return x.h("div",{"class":"control-bar__action control-bar__sort-dropdown js-dropdown",ref:this.domNodeRef},x.h("button",{"class":"control-bar__btn flex flex-align-center js-toggle-sort-dropdown js-dropdown-toggle js-toggle-btn",
"aria-label":l["default"].gallery.changeSortDirection,"aria-haspopup":"true","aria-controls":"sortmenu",onClick:function(){return z.handleToggle()}},x.h("calcite-icon",{"class":"margin-right-quarter",icon:"sort-descending",scale:"s"}),x.h("span",{"class":"control-bar__btn-text js-sort-label"},m)),x.h("div",{"class":"control-bar__overlay"}),x.h("div",{"class":"control-bar__dropdown-menu dropdown-menu js-control-bar-sort-dropdown",role:"menu",id:"sortmenu","aria-labelledby":"sortmenutitle"},x.h("h3",
{"class":"control-bar__dropdown-menu__title",id:"sortmenutitle"},l["default"].gallery.sortBy,x.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":"${i18n.common.close}"},x.h("calcite-icon",{icon:"x",scale:"m"}))),x.h("nav",{"class":"js-sort-options"},h.map(function(n){return x.h("button",{"class":"js-sort-option control-bar__dropdown-item dropdown-link padding-right-1 "+(b===n.property?"is-active":"")+"\n                  "+("relevance"===
n.property&&c?"hide":""),"data-property":b,"data-order":"${sortOrder}",role:"menuitem",onClick:function(){return z.handleSortOptionClick(n)}},x.h("span",{"class":"control-bar__dropdown-item__label"},n.label))})),x.h("div",{"class":"js-sort-direction-section leader-half "+(q?"hide":"")},x.h("h3",{"class":"control-bar__dropdown-menu__title"},l["default"].gallery.sortDirection),x.h("nav",{"class":"js-sort-direction-options"},x.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+
(a?"is-active":""),"data-value":"asc",role:"menuitem",onClick:function(){return z.handleSortClick(!0)}},x.h("span",{"class":"control-bar__dropdown-item__label js-ascending-label"},e)),x.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+(a?"":"is-active"),"data-value":"desc",role:"menuitem",onClick:function(){return z.handleSortClick(!1)}},x.h("span",{"class":"control-bar__dropdown-item__label js-descending-label"},d))))))};E.defaultProps={topic:""};
return E}(x.Component);M["default"]=U})},"arcgisonline/pages/components/Refresh":function(){define(["require","exports","tslib","dojo/topic","preact"],function(U,M,r,x,t){Object.defineProperty(M,"__esModule",{value:!0});x=r.__importDefault(x);U=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}r.__extends(f,l);f.prototype.onRefresh=function(){x["default"].publish(this.props.topic+"refresh")};f.prototype.render=function(){var g=this;return t.h("div",null,t.h("calcite-button",
{label:this.props.label,onClick:function(){return g.onRefresh()},appearance:"transparent",color:"neutral",iconStart:"refresh",scale:"s"}))};f.defaultProps={topic:"",label:""};return f}(t.Component);M["default"]=U})},"arcgisonline/pages/organization/widgets/SearchDropdown":function(){define("require exports tslib ../../utils/icons ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/query dojo/dom-class dojo/topic dojo/text!./templates/members/SearchDropdown.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);return function(){function z(q,m){this.templateString=u["default"];this.i18n=E["default"];this.icons=x["default"]}z.prototype.setSelection=function(q){var m=g["default"]("[data-property*\x3d"+q+"]",this.domNode);0<m.length&&(k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active"),m.addClass("is-active"),this._searchLabel.innerHTML=m.innerHTML(),y["default"].publish("membersSearchBy/update",q))};z.prototype.postCreate=function(){this._searchLabel.innerHTML=this.i18n.myOrganization.membersTab.fullName;this._addEventListeners()};z.prototype._addEventListeners=function(){this.own(g["default"](".js-search-dropdown-property").on("click",this._optionSelect.bind(this)))};z.prototype._optionSelect=function(q){q.preventDefault();k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active");k["default"].add(q.target,"is-active");var m=q.target.getAttribute("data-property");this._searchLabel.innerHTML=q.target.textContent;y["default"].publish("membersSearchBy/update",m)};return z=r.__decorate([t["default"](f["default"],l["default"])],z)}()})},"arcgisonline/pages/utils/productGlyphs":function(){define(["require","exports"],function(U,M){var r={dashboard:{path:"M25.819 28H23.18a.181.181 0 0 1-.181-.181V13.18a.181.181 0 0 1 .181-.181h2.638a.181.181 0 0 1 .181.181V27.82a.181.181 0 0 1-.181.181zM21 27.816v-9.631a.184.184 0 0 0-.184-.185h-2.631a.184.184 0 0 0-.185.184v9.631a.184.184 0 0 0 .184.185h2.631a.184.184 0 0 0 .185-.184zm9.82.184a.18.18 0 0 0 .18-.18v-7.64a.18.18 0 0 0-.18-.18h-2.64a.18.18 0 0 0-.18.18v7.64a.18.18 0 0 0 .18.18zM7 9.267v10.475c.706.033 3.538-1.718 4.274-4.7.679-2.751 3.485-2.864 4.443-2.94 1.766-.14 3.588-.607 4.566-2.798A.216.216 0 0 0 20.085 9H7.267A.267.267 0 0 0 7 9.267zm18.997-1.053A4.411 4.411 0 0 0 21.63 4H2.684A.684.684 0 0 0 2 4.684V21.81A3.19 3.19 0 0 0 5.19 25h9.565a.245.245 0 0 0 .245-.245v-2.362a.393.393 0 0 0-.393-.393H6.38A1.385 1.385 0 0 1 5 20.619V7.349A.348.348 0 0 1 5.348 7h16.324A1.346 1.346 0 0 1 23 8.363v1.28a.357.357 0 0 0 .357.357h2.599a.046.046 0 0 0 .046-.046z",
fill:"#ee9e01"},experienceBuilder:{path:"M30.85 12.82l-2.85 5v7.44A1.78 1.78 0 0 1 26.22 27H25V7.75a.76.76 0 0 0-.75-.75H12V1.31a.28.28 0 0 1 .42-.25L17.51 4h8.71A1.78 1.78 0 0 1 28 5.78v4.42l2.54 1.47a.83.83 0 0 1 .31 1.15zM12 18h8v-6h-8zm7.62 5H7.75a.76.76 0 0 1-.75-.75V4H5.78A1.78 1.78 0 0 0 4 5.78V13l-2.89 5a.85.85 0 0 0 .31 1.15L4 20.59v4.61A1.78 1.78 0 0 0 5.78 27h8.62l5.18 3a.28.28 0 0 0 .42-.24v-6.39a.38.38 0 0 0-.38-.37z",fill:"#09b8ca"},geoBIM:{path:"M17.802 21.398l6.2 2.557-5.14 2.133a.772.772 0 0 1-1.06-.717zM9.311 7.868a.604.604 0 0 1-.003-1.122L16 4.169l8.12 3.148-8.119 3.184zm-3.5 1.541l8.387 3.413v12.554a.772.772 0 0 1-1.06.717l-6.297-2.736a1.639 1.639 0 0 1-1.03-1.521zM3.844 6.03a1.316 1.316 0 0 0-.827 1.22v17.395a1.316 1.316 0 0 0 .827 1.221L16 30.888l12.983-5.317v-2.423l-7.156-3.023 7.156-2.963v-1.95l-5.101-2.2-3.867 1.516L24 16.123l-6.199 2.505v-5.711l.073-.122 11.108-4.487v-1.95l-12.47-5.047a1.384 1.384 0 0 0-1.027 0z",
fill:"#11ad1d"},notebooks:{path:"M2.941 25A.906.906 0 0 1 2 24.135v-.271A.906.906 0 0 1 2.941 23h3.118a.906.906 0 0 1 .941.864v.271a.906.906 0 0 1-.941.865zm3.118-8A.906.906 0 0 0 7 16.135v-.271A.906.906 0 0 0 6.059 15H2.941a.906.906 0 0 0-.941.864v.271a.906.906 0 0 0 .941.865zm0-8A.906.906 0 0 0 7 8.135v-.271A.906.906 0 0 0 6.059 7H2.941A.906.906 0 0 0 2 7.864v.271A.906.906 0 0 0 2.941 9zm9.44 16h-3.726a.773.773 0 0 1-.773-.774V6.171A.172.172 0 0 1 11.172 6H15.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H5.342A1.345 1.345 0 0 0 4 4.343V5h2.059A2.904 2.904 0 0 1 9 7.858v.277A2.907 2.907 0 0 1 6.059 11H4v2h2.059A2.907 2.907 0 0 1 9 15.864v.271A2.907 2.907 0 0 1 6.059 19H4v2h2.059A2.907 2.907 0 0 1 9 23.864v.271A2.907 2.907 0 0 1 6.059 27H4v1.405a.595.595 0 0 0 .595.595H15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM20 3.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5.5v18a.5.5 0 0 1-.5.5h-4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-25a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.499.5z",
fill:"#6e6e6e"},online:{path:"M25.479 23.504a.231.231 0 0 1 .204 0l3.933 1.939a.12.12 0 0 1 0 .216l-8.273 4.078a.822.822 0 0 1-.727 0l-8.274-4.078a.12.12 0 0 1 0-.216l3.933-1.94a.231.231 0 0 1 .205 0l4.206 2.075a.663.663 0 0 0 .587 0zM12.342 18.6a.12.12 0 0 0 0 .215l8.344 4.112a.663.663 0 0 0 .586 0l8.344-4.112a.12.12 0 0 0 0-.215l-8.534-4.208a.231.231 0 0 0-.205 0zm-2.438-6.434C7.397 6.051 15.42 2.655 18.687 7.96a.185.185 0 0 0 .236.07c3.545-1.654 6.604.885 5.75 4.528a.278.278 0 0 0 .146.312l6.048 2.982a.093.093 0 0 0 .132-.1 7.18 7.18 0 0 0-2.683-4.454.185.185 0 0 1-.068-.13A7.287 7.287 0 0 0 20.1 4.43a.185.185 0 0 1-.143-.047C14.775-.32 6.919 2.959 6.302 10.003a.185.185 0 0 1-.102.15c-9.865 4.91-4.46 18.472 5.924 12.182-9.26 1.228-8.848-9.392-2.22-10.169z",
fill:"#5763f8"},sites:{path:"M2.656 29A.656.656 0 0 1 2 28.344V6.185A3.189 3.189 0 0 1 5.185 3H29.72a.281.281 0 0 1 .281.281v22.53A3.194 3.194 0 0 1 26.81 29zm2.838-3h21.211a.295.295 0 0 0 .296-.295V13.494a.493.493 0 0 0-.493-.494H5v12.506a.494.494 0 0 0 .494.494zM23 9.91a.09.09 0 0 0 .09.09h3.82a.09.09 0 0 0 .09-.09V6.026A.026.026 0 0 0 26.974 6h-3.948a.026.026 0 0 0-.026.026zM6.633 6A1.597 1.597 0 0 0 5 7.595V10h14.523A.477.477 0 0 0 20 9.523V6.477A.477.477 0 0 0 19.523 6zM16 22v-5h7v5zm-7-2v-3h3v3z",
fill:"#7842ed"},storyMaps:{path:"M25.5 0C23.015 0 21 .953 21 3.433v8.517a1.467 1.467 0 0 0 .43 1.038l3.837 3.827a.33.33 0 0 0 .466 0l3.836-3.827A1.467 1.467 0 0 0 30 11.95V3.433C30 .953 27.985 0 25.5 0zm0 8.1a2.6 2.6 0 1 1 2.6-2.599A2.599 2.599 0 0 1 25.5 8.1zm-7.856.453c.294-.153.312-.457.312-.788v-2.31a.104.104 0 0 0-.129-.1 6.128 6.128 0 0 0-2.248 1.19.14.14 0 0 1-.167.008c-3.437-2.283-8.543-1.52-12.131-.988-.432.064-1.762.34-2.164.424A.146.146 0 0 0 1 6.133V26.69a.147.147 0 0 0 .05.11.134.134 0 0 0 .116.035A36.394 36.394 0 0 1 9.5 25.781c3.283.054 4.403.96 4.967 1.513l.915.897a.164.164 0 0 0 .23 0l.916-.897a5.98 5.98 0 0 1 3.972-1.47 25.341 25.341 0 0 1 5.715.516c.718.109 1.46.22 2.186.312l1.251.16a.308.308 0 0 0 .348-.305v-7.375a.161.161 0 0 0-.303-.077l-.107.2a7.218 7.218 0 0 1-6.902 3.766 10.455 10.455 0 0 0-5.688.796V9.454a.89.89 0 0 1 .332-.693 2.058 2.058 0 0 1 .312-.208zM14 23.817c-3.071-1.38-5.998-.808-9.447-.293l-.253.036a.263.263 0 0 1-.3-.259V8.525a.098.098 0 0 1 .084-.097l.804-.115c2.518-.372 6.303-1.048 8.708.515a.89.89 0 0 1 .404.746z",
fill:"#4fbaa9"},webAppBuilder:{path:"M15.044 19.974a.188.188 0 0 1-.192-.001l-3.762-2.35a.188.188 0 0 1-.09-.16v-4.098a.188.188 0 0 1 .096-.163l3.761-2.178a.188.188 0 0 1 .182-.001l3.863 2.179a.188.188 0 0 1 .098.165v4.095a.187.187 0 0 1-.092.161zm15.13-1.04a.052.052 0 0 0 .099.022 8.048 8.048 0 0 0 .67-3.147 7.155 7.155 0 0 0-3.507-6.213L17.59 3.768a4.054 4.054 0 0 0-1.968-.627 3.95 3.95 0 0 0-1.894.485c-.607.334-1.132.67-1.278.754a2.951 2.951 0 0 0-1.39 2.506v1.078a.2.2 0 0 0 .307.167l1.365-.87a4.988 4.988 0 0 1 2.319-.792 4.62 4.62 0 0 1 2.219.792s8.442 5.017 9.392 5.576a7.045 7.045 0 0 1 3.513 6.084zM9.546 23.55l.947-.547a.2.2 0 0 0 0-.345l-1.369-.79a4.326 4.326 0 0 1-2.13-3.842V7.286a7.16 7.16 0 0 1 3.63-6.083l.081-.05a.025.025 0 0 0-.012-.045l-.25-.005a8.333 8.333 0 0 0-3.887.994A7.102 7.102 0 0 0 3.069 8.31v10.786a3.96 3.96 0 0 0 1.89 3.362c.894.545 1.605.974 1.81 1.092a2.787 2.787 0 0 0 2.777 0zm4.383 6.37l9.997-5.773a3.959 3.959 0 0 0 1.967-3.32c.021-.929.034-1.604.034-1.806a2.786 2.786 0 0 0-1.39-2.406l-1.123-.57a.2.2 0 0 0-.289.177v1.604a4.45 4.45 0 0 1-2.218 3.842l-3.708 2.14a3.366 3.366 0 0 1-.256.135L11.6 27.128a6.427 6.427 0 0 1-3.343.938 7.137 7.137 0 0 1-3.513-1.038c-.09-.052-.38-.226-.797-.479a.094.094 0 0 0-.134.12 7.182 7.182 0 0 0 2.942 3.25 7.241 7.241 0 0 0 3.587 1.028 7.243 7.243 0 0 0 3.587-1.028z",
fill:"#09b8ca"},urban:{path:"M32 14l-4 .003a1 1 0 0 0-1 1V21a1 1 0 0 1-1 1h-2V5.451l-7.598-3.335A1 1 0 0 0 15 3.03V25a1 1 0 0 1-1 1h-2V11.24h-.02L7.5 9l-4.48 2.24H3V20H0v4h5a1 1 0 0 0 1-1V12.717L7.5 12l1.5.717V28a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6.094l3 1.317V24a2 2 0 0 0 2 2h5.02A1.977 1.977 0 0 0 30 24.024V17h2z",fill:"#3DB8FF"},instant:{path:"M11.206 4.805v-1.38a2.231 2.231 0 0 1 2.23-2.231h13.168a2.231 2.231 0 0 1 2.231 2.23v11.15a2.231 2.231 0 0 1-2.23 2.231h-1.398V5.555a.75.75 0 0 0-.75-.75zM30.94 27.204l-5.447-4.41a.211.211 0 0 0-.344.164v2.225H8.197a1.344 1.344 0 0 1-1.344-1.344V11.665a.75.75 0 0 1 .75-.75h9.872a.75.75 0 0 1 .75.75l-.003 7.534a2.422 2.422 0 0 1-.798 1.796l-.945.855h4.3a1.075 1.075 0 0 0 1.074-1.075v-10.54a2.231 2.231 0 0 0-2.23-2.23H5.354a2.148 2.148 0 0 0-2.13 2.23v16.507a2.231 2.231 0 0 0 2.23 2.231l19.695-.003v2.725a.211.211 0 0 0 .344.164l5.447-4.41a.158.158 0 0 0 0-.245z",
fill:"#83a238"}},x=[];Object.keys(r).forEach(function(t){x[t]='\x3csvg viewBox\x3d"0 0 32 32" width\x3d"32" height\x3d"32" fill\x3d"'+r[t].fill+'"\x3e\x3cpath d\x3d"'+r[t].path+'"/\x3e\x3c/svg\x3e'});return x})},"arcgisonline/pages/search/widgets/_baseTab":function(){define("require exports tslib ../../pageUtil ../../searchUtil ../../content/widgets/_baseTab ../../utils/arrays ../../utils/dom dojo/Deferred dojo/hash dojo/_base/lang dojo/query dojo/topic ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);return function(){function e(){this._sort={property:"relevance",label:m["default"].sortDropdown.relevance,ascending:!1};this._initialRestrict=!0;this._folder={};this._groupWidgets=[];this._onlyOrg=
!0}e.prototype._updateTab=function(d){var a;d=d.target.id;var b=window.location.hash.replace("#","")||"content";d&&this.page&&(this.page._activeID=d);var c=x["default"].getQueryParams();c.t&&delete c.t;if(null===(a=this.page)||void 0===a?0:a._savedQueryParams)this.page._savedQueryParams[b]=c;y["default"](d)};e.prototype._disableOrgRestrictionFlags=function(){this._initialRestrict=this._onlyOrg=!1};e.prototype._updateOnlyOrg=function(d){var a,b,c;this._onlyOrg=d;var h=(null===(a=this.portal)||void 0===
a?void 0:a.name)&&this.portal.canSearchPublic;a=null===(b=this.portalUser)||void 0===b?void 0:b.isOrgAdmin;b=d&&(null===(c=this.portal)||void 0===c?void 0:c.hasCategorySchema);c=this._onlyOrg;g["default"].showHide(this.domNode.querySelector(".js-filter-category-container"),b);d||(this._initialCategory=null,x["default"].removeQueryParams(["categories"]),z["default"].publish("filter/remove",{param:"categories"},!0));if(b=document.getElementById("locationFilter"))g["default"].showHide(b,d),d||(x["default"].removeQueryParams(["bbox"]),
z["default"].publish("filter/remove",{param:"bbox"}));g["default"].showHide(this.domNode.querySelector(".js-filter-tags-container"),c);(h||a)&&x["default"].updateQueryParams({restrict:this._onlyOrg});this.render();z["default"].publish("aggregations/refresh")};e.prototype._applyQueryParameters=function(){this.inherited(arguments);var d=x["default"].getQueryParams();this._applySortParameters(d);this._applyRestrictParameter(d)};e.prototype._applySortParameters=function(d){var a=this,b=t["default"].readCookie(),
c=y["default"](),h=["avgrating","modified","numviews"],n,p;if(!d.sortField&&b.sortField)var w=b.sortField;else d.sortField&&(w=d.sortField);!d.sortOrder&&b.sortOrder?n="asc"===b.sortOrder:d.sortOrder&&(n="asc"===d.sortOrder);w&&("groups"===(null===c||void 0===c?void 0:c.toLowerCase())&&f["default"].includes(h,w)&&(w="relevance"),p=f["default"].find(this._sortOptions,function(B){return B.property===w}))&&(this._sort=u["default"].clone(p),this._sort.ascending=n,this._sortOptions.forEach(function(B){var A=
B.property===p.property;if(B.active=A)B.ascending=a._sort.ascending}))};e.prototype._applyRestrictParameter=function(d){d.restrict&&(this._initialRestrict="true"===d.restrict)};e.prototype._applyRestrictFilter=function(){var d,a,b,c=(null===(d=this.portal)||void 0===d?void 0:d.name)&&this.portal.canSearchPublic;d=null===(a=this.portal)||void 0===a?void 0:a.isPortal;a=null===(b=this.portalUser)||void 0===b?void 0:b.isOrgAdmin;b=!this.portalUser;var h=!!this.portal.urlKey;!d&&(c||a||b&&h)&&(E["default"](".js-org-only-wrap",
this.domNode).removeClass("hide"),this._onlyOrg=this._initialRestrict)};e.prototype._initializeRestrictUI=function(){var d=this;if(!this.portalUser&&this.portal.urlKey)var a=this.portal.getOrgIsVerified(this.portal.id);else a=new k["default"],a.resolve(!0);return a.then(function(b){d._orgRestrictToggle&&d._orgRestrictToggle.setChecked(d._onlyOrg,!0);b=d.portal.hasCategorySchema&&(d._initialRestrict||d.portal.isPortal);var c=d._onlyOrg&&d.portalUser&&d.portalUser.isOrgUser;d._initialRestrict||!d._initialCategoryFilter&&
!d._initialTagsFilter||(d._initialCategory=null,d._initialTagsFilter=null,x["default"].removeQueryParams(["categories","tags"]));g["default"].showHide(d.domNode.querySelector(".js-filter-category-container"),b);g["default"].showHide(d.domNode.querySelector(".js-filter-tags-container"),c)})};return e=r.__decorate([q["default"](l["default"])],e)}()})},"arcgisonline/pages/content/widgets/_baseTab":function(){define("require exports tslib ../../../esriGeowConfig ../../../sharing/util ../../organization/widgets/ProfilePopup ../../pageUtil ../../components/Group/OrgSettingsFilterTooltip ../../_filterStateMixin ../../dijit/_CheckReadonlyMixin ../../dijit/CategoryView ../../utils/arrays ../../utils/culture ../../utils/dom ../../utils/icons ../../utils/user ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/_base/lang dojo/query dojo/hash dojo/topic dojo/dom-construct dojo/Deferred preact esri/Evented esri/libs/sanitizer/Sanitizer dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_empty.html arcgisonline/pages/utils/search ../../utils/queryHandler".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);F=r.__importDefault(F);v=r.__importDefault(v);C=r.__importDefault(C);G=r.__importDefault(G);K=r.__importStar(K);return function(){function O(){this.widgetsInTemplate=!0;this.icons=m["default"];this._selection=[];this._selectionInView=[];this._items=[];this._filterState={};this._categoriesFilter={};this._searchTerm="";this._initialView="table";this._sort={property:"title",label:C["default"].sortDropdown.title,
ascending:!0};this._page={start:1,num:20,total:0,nextStart:-1};this._sortOptions=[{property:"relevance",label:C["default"].sortDropdown.relevance,ascending:!1,hide:!0},{property:"modified",label:C["default"].sortDropdown.modified,active:!0,ascending:!1},{property:"title",label:C["default"].sortDropdown.title,ascending:!0},{property:"numviews",label:C["default"].sortDropdown.views,ascending:!1}];this._emptyTemplate=G["default"];this._firstLoad=!0;this._disableOrgRestriction=!1;this._showAggregationCount=
!0;this._index_numTries=x["default"].index_numTries||10;this._index_syncDelay=x["default"].index_syncDelay||500;this.sanitizer=new v["default"]}O.prototype.postCreate=function(){this.inherited(arguments);this.semanticSearchEnabled=H.semanticSearchEnabled(this.portal,this.portalUser);this.page._currentTabName=p["default"]();this.page._tabState&&this.page._tabState[this.page._currentTabName]&&f["default"].updateQueryParams(this.page._tabState[this.page._currentTabName]);this._applyQueryParameters()};
O.prototype.startup=function(){var L=this,J=new A["default"];this.inherited(arguments);this._selection=[];this._items=[];this._addEventListeners();this._applyFilters();this._getCounts(this.group);this.preventFirstRender?J.resolve(!0):this.render().then(function(R){L._firstLoad&&(L._firstLoad=!1);J.resolve(R)});return J};O.prototype.destroy=function(){this.inherited(arguments);this.page._currentTabName&&(this.page._tabState=this.page._tabState||{},this.page._tabState[this.page._currentTabName]=f["default"].getQueryParams());
this._resetState();var L=this.page&&this.page._queryStringParams&&this.page._queryStringParams.id;f["default"].setQueryParams(L?{id:L}:{});this._popup&&this._popup.close()};O.prototype.render=function(){var L=this;return this._getItems().then(function(J){return L._updateState(J).then(function(R){return L._getFavorites(R)}).then(function(R){return L._updateView(R)})})};O.prototype.getItemIDs=function(L){return(L||this._items||[]).map(function(J){return J.id}).join(",")};O.prototype.getQueryParamString=
function(){var L=K.objectToQuery(this._getParams())||"";return 1E3<L.length?L.substring(0,1E3):L};O.prototype._mustDefendLastPage=function(L){return 0<L&&(this._firstLoad&&this._initialStart>L||this._page.start>L)};O.prototype._defendLastPage=function(L){var J,R=this.portal;L=(Math.ceil(L.total/this._page.num)-1)*this._page.num+1;L=0<L?L:1;this._firstLoad&&(this._initialStart=L);this._page.start=L;L=(null===(J=this._getFilter)||void 0===J?void 0:J.call(this))||"";return R.queryItems(this._getParams(),
this._disableOrgRestriction,this.contentUser,L)};O.prototype._getItems=function(){var L=this,J,R=new A["default"],X=this.portal,aa=this._getParams(),ea=(null===(J=this._getFilter)||void 0===J?void 0:J.call(this))||"";X.queryItems(aa,this._disableOrgRestriction,this.contentUser,ea).then(function(ka){L._mustDefendLastPage(ka.total)?L._defendLastPage(ka).then(function(ma){return R.resolve(ma)},function(ma){R.reject(ma)}):R.resolve(ka)},function(ka){R.reject(ka)});return R};O.prototype._getFavorites=
function(L){if(!this._skipFavorite){var J=this.portal,R=J.getPortalUser();return e["default"].checkForFavorites(R,J,L)}};O.prototype._getFilter=function(){var L,J,R,X=this._filterQ||"";return 0<(null===(J=null===(L=this._filterState)||void 0===L?void 0:L.tags)||void 0===J?void 0:J.length)?(L=null===(R=this._filterState)||void 0===R?void 0:R.tags.map(function(aa){return'"'+aa.value+'"'}).join(" OR "),(X?X+" OR ":"")+" (tags:("+L+"))"):X};O.prototype._resetState=function(){this._selection=[];this._selectionInView=
[];this._items=[];this._filterState={};this._categoriesFilter={};this._filters={};this._searchTerm="";this._page={start:1,num:20,total:0,nextStart:-1};this._sort={property:"title",label:C["default"].sortDropdown.title,ascending:!0}};O.prototype._addEventListeners=function(){var L=this;this.own(n["default"](".js-deselect",this.domNode).on("click",this._deselectAll.bind(this)),w["default"].subscribe("filter/update",this._filterUpdate.bind(this)),w["default"].subscribe("filter/clear",this._filterClear.bind(this)),
w["default"].subscribe("filter/remove",this._filterRemove.bind(this)),w["default"].subscribe("refine/update",this._refineUpdate.bind(this)),w["default"].subscribe("view/refresh",this.render.bind(this)),w["default"].subscribe("view/select",this._viewSelect.bind(this)),w["default"].subscribe("view/deselect",this._viewDeselect.bind(this)),w["default"].subscribe("view/deselectAll",this._viewDeselectAll.bind(this)),w["default"].subscribe("view/update",this._updateSelectedView.bind(this)),w["default"].subscribe("sort/update",
this._sortUpdate.bind(this)),w["default"].subscribe("search/wait",this._searchWait.bind(this)),w["default"].subscribe("search/update",this._searchUpdate.bind(this)),w["default"].subscribe("pagination/page",this._paginationPage.bind(this)),w["default"].subscribe("items/refresh",this._itemsRefresh.bind(this)),w["default"].subscribe("item/categorize",function(J,R){return L._openCategoryView(J,R)}),w["default"].subscribe("profile/show",this._showProfile.bind(this)),w["default"].subscribe("profile/hide",
this._hideProfile.bind(this)),w["default"].subscribe("shareCheckDlg/update",this._shareCheckUpdate.bind(this)),w["default"].subscribe("categorySchema/updated",this._updateCategories.bind(this)),w["default"].subscribe("aggregations/refresh",this._getCounts.bind(this)))};O.prototype._filterUpdate=function(L){var J=this,R,X,aa,ea,ka=L.isCategory?"categories":L.param;ka=L.isBBox?"bbox":ka;L.isCategory?this._filterState.categories=this._categoryUpdate(L):L.isBBox?this._filterState.bbox=[L.selected[0]]:
this._filterState[ka]=L.selected;this._paginationReset();ka=Object.keys(this._filterState||{}).filter(function(ma){return!!J._filterState[ma]});null===(X=null===(R=this.page)||void 0===R?void 0:R.telemetry)||void 0===X?void 0:X.logEvent({category:"Filter",action:L.param,label:null===(ea=null===(aa=L.selected)||void 0===aa?void 0:aa[0])||void 0===ea?void 0:ea.label,count:ka.length,attribute:ka.sort().join(",")});L.isLoading||this.render()};O.prototype._categoryUpdate=function(L){var J=this;this._categoriesFilter[L.id]=
L.selected;return Object.keys(this._categoriesFilter).map(function(R){return J._categoriesFilter[R]}).reduce(function(R,X){return R.concat(X)})};O.prototype._filterClear=function(){var L=this;this._paginationReset();Object.keys(this._filterState).forEach(function(J){return delete L._filterState[J]});this._categoriesFilter={};this.render()};O.prototype._filterRemove=function(L,J){var R=L.isCategory?"categories":L.param;R=L.isBBox?"bbox":R;this._paginationReset();this._filterState[R]&&0<this._filterState[R].length&&
(this._filterState[R]=this._filterState[R].filter(function(X){return X.value!==L.value}));J||this.render()};O.prototype._refineUpdate=function(L){this._paginationReset();this._searchTerm=L;this.render();this._getCounts(this.group)};O.prototype._viewSelect=function(L){E["default"].find(this._selection,function(J){return J.id===L.id})||(L.isSelected=!0,this._selection.push(L));this._updateSelectedView()};O.prototype._viewDeselect=function(L){L.isSelected=!1;this._selection=this._selection.filter(function(J){return J.id!==
L.id});this._updateSelectedView()};O.prototype._viewDeselectAll=function(){this._selection=[];this._updateSelectedView()};O.prototype._updateSelectedView=function(){var L,J,R;null===(L=this._rangeText)||void 0===L?void 0:L.classList.remove("visually-hidden");null===(R=null===(J=this._pagination)||void 0===J?void 0:J.domNode)||void 0===R?void 0:R.classList.remove("visually-hidden");this._updateSelectionInView();0<this._selectionInView.length?(n["default"](".hide-if-selected").addClass("hide"),n["default"](".show-if-selected").removeClass("hide"),
this.filterSelectedViewActions&&this.filterSelectedViewActions(this._selectionInView)):(n["default"](".hide-if-selected").removeClass("hide"),n["default"](".show-if-selected").addClass("hide"));this.selectedCount&&(this.selectedCount.innerHTML=z["default"].getString(this.i18n.GroupWidget.selected,this._selectionInView.length))};O.prototype._openCategoryView=function(L,J){this.checkReadonly()||(this._categoryView=new u["default"]({portal:this.portal,items:L?[L]:this._selectionInView,group:this.group,
opener:J},B["default"].place(B["default"].create("div"),this.domNode,"after")),this._categoryView.open())};O.prototype._updateView=function(L){var J,R=this._hasFilters();w["default"].publish("view/update",this._items,this._selection,R);this._pagination.render(this._page);L=this._pagination.getCurrentPageObj();R=!R&&0===L.end||0===L.end&&this._initialMembershipRequestToggle;this._rangeText.textContent=f["default"].getPageRangeString({start:0===L.total?0:L.start,end:-1===L.end?0:L.end,total:L.total});
q["default"].showHide(this._rangeText,!R);null===(J=this._popup)||void 0===J?void 0:J.close();return!0};O.prototype._deselectAll=function(){this._selection=[];w["default"].publish("view/deselectAll");this._updateSelectedView()};O.prototype._searchWait=function(L,J){var R,X,aa;w["default"].publish("view/loading",L);null===(R=this._rangeText)||void 0===R?void 0:R.classList.add("visually-hidden");null===(aa=null===(X=this._pagination)||void 0===X?void 0:X.domNode)||void 0===aa?void 0:aa.classList.add("visually-hidden");
R={};R[J||"searchTerm"]=L;f["default"].updateQueryParams(R)};O.prototype._searchUpdate=function(L){L&&-1<L.indexOf("*")?w["default"].publish("alert/show",{type:"error",text:C["default"].search.error.wildCardSearchError}):(this._paginationReset(),this._searchTerm=L);this.render();this._getCounts(this.group)};O.prototype._sortUpdate=function(L){this._paginationReset();this._sort.property=L.property;this._sort.ascending=L.ascending;this.render()};O.prototype._paginationReset=function(){this._page.start=
1;this._pagination&&this._pagination.set("start",this._page.start)};O.prototype._paginationPage=function(L){this._page.num=L.num;this._page.start=L.start;this.render()};O.prototype._itemsRefresh=function(L){var J=this,R=null===L||void 0===L?void 0:L.removedItems,X=null===L||void 0===L?void 0:L.forcedDelay,aa=(null===L||void 0===L?void 0:L.numTries)||0,ea;(null===R||void 0===R?0:R.length)?setTimeout(function(){J._getItems().then(function(ka){ea=ka.items||[];(null===R||void 0===R?0:R.length)&&R.some(function(ma){return E["default"].find(ea,
function(sa){return ma.id===sa.id||ma.itemId===sa.id})})?aa===J._index_numTries?J.render().then(function(){return w["default"].publish("items/refreshComplete")}):(L=r.__assign(r.__assign({},L),{numTries:aa+1}),J._itemsRefresh(L)):ea&&ea.length?J._updateState(ka).then(J._getFavorites.bind(J)).then(J._updateView.bind(J)).then(function(){return w["default"].publish("items/refreshComplete")}):(J._pagination.previousPage(),w["default"].publish("items/refreshComplete"))})},this._index_syncDelay):X?setTimeout(function(){J.render().then(function(){return w["default"].publish("items/refreshComplete")})},
X):this.render().then(function(){return w["default"].publish("items/refreshComplete")})};O.prototype._updateState=function(L){var J=new A["default"];this._items=this._setSelected(L.items);this._updateSelectionInView();this._page.start=L.start;this._page.total=L.total;this._page.nextStart=L.nextStart;this._pagination&&this._pagination.set("start",this._page.start);J.resolve(L);return J};O.prototype._updateSelectionInView=function(){var L=this;this._selectionInView=this._selection.filter(function(J){return E["default"].find(L._items,
function(R){return J.id===R.id})})};O.prototype._setSelected=function(L){var J=this;return L.map(function(R){var X=E["default"].find(J._selection,function(aa){return aa.id===R.id});R.isSelected=X?!0:!1;return R})};O.prototype._hasFilters=function(){var L=this,J=Object.keys(this._filterState).filter(function(R){return 0<L._filterState[R].length});return this._searchTerm&&0<this._searchTerm.length||J&&0<J.length||this._initialMembershipRequestToggle};O.prototype._findOwnerSortOptionIndex=function(){var L=
-1;this._sortOptions.forEach(function(J,R){"owner"===J.property&&(L=R)});return L};O.prototype._addOwnerSortOption=function(){-1===this._findOwnerSortOptionIndex()&&this._sortOptions.push({property:"owner",label:C["default"].sortDropdown.owner,ascending:!0})};O.prototype._removeOwnerSortOption=function(){var L=this._findOwnerSortOptionIndex();-1<L&&this._sortOptions.splice(L,1)};O.prototype._showProfile=function(L){var J=this;this._popup&&this._popup.close();this._popup=new l["default"]({username:L.target.getAttribute("data-owner"),
opener:L.target,portal:this.portal});this._popup.open();c["default"].once(this._popup,"close",function(){J._popup=void 0})};O.prototype._hideProfile=function(){this._popup&&this._popup.close()};O.prototype._shareCheckUpdate=function(){this._itemsRefresh({forcedDelay:1500})};O.prototype._getCounts=function(L){var J,R;if(this._showAggregationCount){var X=L?"content/groups/"+L.id+"/search":"search",aa=L?"":this.portal.id?"orgid:"+this.portal.id:"",ea=(null===(J=null===x["default"]||void 0===x["default"]?
void 0:x["default"].viewQueries)||void 0===J?void 0:J.none)||"";J={q:aa,countFields:"access,contentstatus,"+(L?"groupCategories":"categories"),countSize:200,num:0};this.semanticSearchEnabled&&(J.enriched=!0);this.getAggregationQuery&&(J.q=this.getAggregationQuery());if(J.q||L){0>(null===(R=J.q)||void 0===R?void 0:R.indexOf(ea))&&(J.q=J.q+" "+ea);L=x["default"].restBaseUrl+X;if(R=this._getFilter())J.filter=R+" "+(J.filter||"");t["default"].request({url:L,content:J}).then(function(ka){ka.aggregations&&
ka.aggregations.counts&&ka.aggregations.counts.forEach(function(ma){w["default"].publish("aggregations/update",ma)})})}}};O.prototype._updateCategories=function(L,J){var R=this;L?J?this.group.categorySchema=L:this.portal&&(this.portal.categories=L,x["default"].self.hasCategorySchema=!0):J?delete this.group.categorySchema:(delete this.portal.categories,x["default"].self.hasCategorySchema=!1);setTimeout(function(){return R._getCounts(R.group)},1200)};O.prototype.getDebugParameters=function(){var L=
h["default"].clone(this.page._queryStringParams),J={_qtBoost:"",_qtbConfig:""};return 2===Object.keys(L).filter(function(R){return R in J}).map(function(R){J[R]=L[R];return R}).length?J:{}};O.prototype.renderOrgSettingsTooltip=function(){var L;if(null!==(L=this._specialGroupsFilter)&&void 0!==L&&L.domNode&&(L=this._specialGroupsFilter.domNode.querySelector('li[data-value\x3d"orgSettings"]'))){var J=document.createElement("div");J.classList.add("-margin-left-half");D.render(D.h(g["default"],{}),J);
L.classList.add("flex","flex-align-center");L.appendChild(J)}};return O=r.__decorate([d["default"](a["default"],b["default"],F["default"],k["default"],y["default"])],O)}()})},"arcgisonline/pages/components/Group/OrgSettingsFilterTooltip":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../nls/arcgisonline"],function(U,M,r,x,t){Object.defineProperty(M,"__esModule",{value:!0});t=r.__importDefault(t);M["default"]=function(){return x.h("arcgis-information",{label:t["default"].searchPage.moreInfo,
placement:"bottom-trailing"},x.h("p",{"class":"trailer-0"},t["default"].GroupsWidget.orgSettingsTooltip))}})},"arcgisonline/pages/_filterStateMixin":function(){define("require exports tslib ./pageUtil ./utils/arrays ./utils/clone".split(" "),function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(){this._initialLoading=!0;this._initialStart=1;this._initialNum=20;this._initialMembershipRequestToggle=!1}f.prototype._applyQueryParameters=
function(){var g=x["default"].getQueryParams();this._applySortParameters(g);this._applyViewParameter(g);this._applyPaginationParameter(g);this._applyTypeParameter(g);this._applyMembershipRequestParameter(g);this._applyDateParameter(g);this._applyDateUploadedParameter(g);this._applyDateCreatedParameter(g);this._applyFolderParameter(g);this._applySharingParameter(g);this._applyStatusParameter(g);this._applyRoleParameter(g);this._applyUserTypeParameter(g);this._applyOwnerParameter(g);this._applySpecialGroupsParameter(g);
this._applyCategoriesParameter(g);this._applyLevelParameter(g);this._applyLastLoginParameter(g);this._applySearchInputParameter(g);this._applySearchByParameter(g);this._applyTagsParameter(g);this._applyBBoxParameter(g);this._applyCollaborationParameter(g);this._applyGroupsParameter(g);this._applyAppParameter(g);this._applyCreditsParameter(g)};f.prototype._applyFilters=function(){this._applyPagination();this._applyItemTypeFilter();this._applySpecialGroupsFilter();this._applyDateFilter();this._applyDateUploadedFilter();
this._applyDateCreatedFilter();this._applyFolderFilter();this._applyMembershipRequestFilter();this._applySharingFilter();this._applyStatusFilter();this._applyRoleFilter();this._applyUserTypeFilter();this._applyGroupFilter();this._applyAppFilter();this._applyCreditsFilter();this._applyLastLoginFilter();this._applyOwnerFilter();this._applyCategoryFilter();this._applyLevelFilter();this._applySearchInput();this._applySearchByDropdown();this._applyTagsFilter();this._applyBBoxFilter();this._applyCollaborationFilter()};
f.prototype._applySortParameters=function(g){if(g.sortField){var k=g.sortField;if(k&&this._sortOptions&&this._sortOptions.length){var y=t["default"].find(this._sortOptions,function(u){return u.property===k});y&&(this._sort=l["default"](y))}}g.sortOrder&&this._sort&&(this._sort.ascending="asc"===g.sortOrder)};f.prototype._applyViewParameter=function(g){g.view&&(this._initialView=g.view)};f.prototype._applyPaginationParameter=function(g){if(g.num){var k=parseInt(g.num,10);-1<[20,60,100].indexOf(k)&&
(this._initialNum=k,this._page&&this._page.num&&(this._page.num=this._initialNum))}g.start&&this._page&&(this._initialStart=parseInt(g.start,10)||1,0<this._initialStart%this._page.num&&(this._initialStart=Math.floor(this._initialStart/this._page.num)*this._page.num+1,this._page&&this._page.start&&(this._page.start=this._initialStart)))};f.prototype._applyTypeParameter=function(g){g.focus&&(this._initialTypeFilter="layers-weblayers"===g.focus?"layers":g.focus)};f.prototype._applyDateParameter=function(g){g.modified&&
(this._initialDateFilter=g.modified,this._initialDateFilterTo=g.modified_to?g.modified_to:void 0,this._initialDateFilterFrom=g.modified_from?g.modified_from:void 0)};f.prototype._applyDateCreatedParameter=function(g){g.created&&(this._initialDateCreatedFilter=g.created,this._initialDateCreatedFilterTo=g.created_to?g.created_to:void 0,this._initialDateCreatedFilterFrom=g.created_from?g.created_from:void 0)};f.prototype._applyDateUploadedParameter=function(g){g.uploaded&&(this._initialDateUploadedFilter=
g.uploaded,this._initialDateUploadedFilterTo=g.uploaded_to?g.uploaded_to:void 0,this._initialDateUploadedFilterFrom=g.uploaded_from?g.uploaded_from:void 0)};f.prototype._applyFolderParameter=function(g){g.folder&&(this._initialFolderFilter=g.folder)};f.prototype._applyMembershipRequestParameter=function(g){g._membershipRequestToggle&&(this._initialMembershipRequestToggle="true"===g._membershipRequestToggle)};f.prototype._applySharingParameter=function(g){g.access&&(this._initialSharingFilter=g.access)};
f.prototype._applyStatusParameter=function(g){g.contentstatus&&(this._initialStatusFilter=g.contentstatus)};f.prototype._applyRoleParameter=function(g){g.memberType?this._initialRoleFilter=g.memberType:g.role&&(this._initialRoleFilter=g.role)};f.prototype._applyUserTypeParameter=function(g){g.userLicenseType&&(this._initialUserTypeFilter=g.userLicenseType)};f.prototype._applyGroupsParameter=function(g){g.group&&(this._initialGroupFilter=g.group)};f.prototype._applyAppParameter=function(g){g.app&&
(this._initialAppFilter=g.app)};f.prototype._applyCreditsParameter=function(g){g.availablecredits&&(this._initialCreditsFilter=g.availablecredits)};f.prototype._applyOwnerParameter=function(g){g.owner&&(this._initialOwnerFilter=g.owner)};f.prototype._applySpecialGroupsParameter=function(g){g.specialGroups&&(this._initialSpecialGroupsFilter=g.specialGroups)};f.prototype._applyCategoriesParameter=function(g){if(g.categories)try{this._initialCategoryFilter=JSON.parse(g.categories)}catch(k){}if(g.regions){this._initialCategoryFilter=
this._initialCategoryFilter||[];try{this._initialCategoryFilter=this._initialCategoryFilter.concat(JSON.parse(g.regions))}catch(k){}}};f.prototype._applySearchByParameter=function(g){g.searchBy&&(this._initialSearchBy=g.searchBy)};f.prototype._applySearchInputParameter=function(g){g.searchTerm&&(this._initialSearchInput=g.searchTerm)};f.prototype._applyTagsParameter=function(g){g.tags&&(this._initialTagsFilter=g.tags.split(","))};f.prototype._applyBBoxParameter=function(g){if(g.bbox){g.sortField=
"bbox";var k=g.bbox.split(",");4===k.length&&(this._initialBBoxFilter=[[k[0],k[1]],[k[2],k[3]]],this._initialBBoxLabel=g.bboxLabel)}};f.prototype._applyCollaborationParameter=function(g){g.origin&&(this._initialCollaborationFilter=g.origin)};f.prototype._applyLevelParameter=function(g){g.level&&(this._initialLevelFilter=g.level)};f.prototype._applyLastLoginParameter=function(g){g.lastlogin&&(this._initialDateFilter=g.lastlogin,this._initialDateFilterTo=g.lastlogin_to?g.lastlogin_to:void 0,this._initialDateFilterFrom=
g.lastlogin_from?g.lastlogin_from:void 0)};f.prototype._applyPagination=function(){this._pagination&&this._pagination.setInitialProperties({num:this._initialNum,start:this._initialStart});this._page&&(this._page.num=this._initialNum,this._page.start=this._initialStart)};f.prototype._applyItemTypeFilter=function(){this._initialTypeFilter&&this._typeFilter&&this._typeFilter.select&&this._typeFilter.select(this._initialTypeFilter)};f.prototype._applyDateFilter=function(){this._initialDateFilter&&this._dateFilter&&
this._dateFilter.select&&this._dateFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applyDateCreatedFilter=function(){this._initialDateCreatedFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateCreatedFilter,this._initialDateCreatedFilterFrom,this._initialDateCreatedFilterTo)};f.prototype._applyFolderFilter=function(){this._initialFolderFilter&&this._folderList&&(this._folderList.setInitialFolder(this._initialFolderFilter),
this._folderListMobile.setInitialFolder(this._initialFolderFilter))};f.prototype._applyMembershipRequestFilter=function(){var g;this._initialMembershipRequestToggle&&(null===(g=this._membershipRequestToggle)||void 0===g?0:g.isChecked)&&this._membershipRequestToggle.setChecked(this._initialMembershipRequestToggle)};f.prototype._applyDateUploadedFilter=function(){this._initialDateUploadedFilter&&this._dateCreatedFilter&&this._dateCreatedFilter.select&&this._dateCreatedFilter.select(this._initialDateUploadedFilter,
this._initialDateUploadedFilterFrom,this._initialDateUploadedFilterTo)};f.prototype._applySharingFilter=function(){this._initialSharingFilter&&this._sharingFilter&&this._sharingFilter.select&&this._sharingFilter.select(this._initialSharingFilter)};f.prototype._applyStatusFilter=function(){this._initialStatusFilter&&this._statusFilter&&this._statusFilter.select&&this._statusFilter.select(this._initialStatusFilter)};f.prototype._applyRoleFilter=function(){this._initialRoleFilter&&this._roleFilter&&
this._roleFilter.select&&this._roleFilter.select(this._initialRoleFilter)};f.prototype._applyUserTypeFilter=function(){this._initialUserTypeFilter&&this._userTypeFilter&&this._userTypeFilter.select&&this._userTypeFilter.select(this._initialUserTypeFilter)};f.prototype._applyGroupFilter=function(){this._initialGroupFilter&&this._groupFilter&&this._groupFilter.select&&this._groupFilter.select(this._initialGroupFilter)};f.prototype._applyAppFilter=function(){this._initialAppFilter&&this._appFilter&&
this._appFilter.select&&this._appFilter.select(this._initialAppFilter)};f.prototype._applyCreditsFilter=function(){this._initialCreditsFilter&&this._creditsFilter&&this._creditsFilter.select&&this._creditsFilter.select(this._initialCreditsFilter)};f.prototype._applyLastLoginFilter=function(){this._initialDateFilter&&this._lastLoginFilter&&this._lastLoginFilter.select&&this._lastLoginFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applySpecialGroupsFilter=
function(){var g;this._initialSpecialGroupsFilter&&(null===(g=this._specialGroupsFilter)||void 0===g?0:g.select)&&this._specialGroupsFilter.select(this._initialSpecialGroupsFilter)};f.prototype._applyOwnerFilter=function(){this._initialOwnerFilter&&this._ownerFilter&&this._ownerFilter.select&&this._ownerFilter.select(this._initialOwnerFilter)};f.prototype._applyCategoryFilter=function(){this._initialCategoryFilter&&this._categoryFilter&&this._categoryFilter.select&&this._categoryFilter.select(this._initialCategoryFilter,
this._initialLoading)};f.prototype._applyLevelFilter=function(){this._initialLevelFilter&&this._levelFilter&&this._levelFilter.select&&this._levelFilter.select(this._initialLevelFilter)};f.prototype._applySearchInput=function(){var g,k=this._searchInput||(null===(g=this._controlBar)||void 0===g?void 0:g._searchInput);this._initialSearchInput&&(null===k||void 0===k?0:k.setValue)&&k.setValue(this._initialSearchInput)};f.prototype._applySearchByDropdown=function(){var g=this._searchByDropdown||this._controlBar&&
this._controlBar._searchDropdown;this._initialSearchBy&&g&&g.setSelection&&g.setSelection(this._initialSearchBy)};f.prototype._applyTagsFilter=function(){this._initialTagsFilter&&this._tagsFilter&&this._tagsFilter.select&&this._tagsFilter.select(this._initialTagsFilter)};f.prototype._applyBBoxFilter=function(){this._initialBBoxFilter&&this._bBoxFilter&&this._bBoxFilter.addExtentFilter&&this._bBoxFilter.addExtentFilter(this._initialBBoxFilter,this._initialBBoxLabel)};f.prototype._applyCollaborationFilter=
function(){this._initialCollaborationFilter&&this._collaborationFilter&&this._collaborationFilter.select&&this._collaborationFilter.select(this._initialCollaborationFilter)};return f}()})},"arcgisonline/pages/dijit/CategoryView":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/query dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/alerts ../utils/arrays ../utils/categories ../utils/icons ./Overlay ./Alert ./CategoryView/CategoryListItem dojo/text!./CategoryView/templates/CategoryView.html dojo/text!./CategoryView/templates/Category.html dojo/text!./CategoryView/templates/CategoryGroup.html dojo/text!./CategoryView/templates/_undo.html dojo/i18n!../../nls/arcgisonline ../utils/dom".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
w=r.__importDefault(w);B=r.__importDefault(B);return function(){function A(D,F){this.title=w["default"].contentCategories.categorizeItems;this.id="categoryView";this.overlayContents=f["default"].substitute(c["default"],{i18n:w["default"],icons:e["default"]});this.shouldScroll=!1;this.constrain=!0;this.i18n=w["default"];this.icons=e["default"];this.history=[];this.historyIndex=null;this.itemDijits=[]}A.prototype.postCreate=function(){this.categories=this.group?this.group.categorySchema:this.portal.categories;
this.rootNode=m["default"].getRootNode(this.categories);this.inherited(arguments);g["default"].place(f["default"].substitute(p["default"],{i18n:w["default"],icons:e["default"]}),this._overlayActionBar)};A.prototype.destroy=function(){var D;this.inherited(arguments);this.itemDijits.forEach(function(F){F.destroy()});null===(D=this.drag)||void 0===D?void 0:D.destroy()};A.prototype.render=function(){var D=this,F=this.domNode.querySelector(".js-item-wrapper");this.items.forEach(function(v){D.itemDijits.push((new b["default"]({item:v,
categorySchema:D.categories,isGroup:!!D.group})).placeAt(F))});this.updateHistory();this.buildCategoryTree();this.setCheckboxState();this.attachDragEvents();this.own(t["default"].subscribe("categories/update",this.setCheckboxState.bind(this)),t["default"].subscribe("categories/update",this.updateHistory.bind(this)),l["default"](".js-category-select-checkbox",this.domNode).on("change",this.toggleCategory.bind(this)),l["default"](".js-undo",this.domNode).on("click",this.back.bind(this)),l["default"](".js-redo",
this.domNode).on("click",this.forward.bind(this)))};A.prototype.attachDragEvents=function(){var D=this;this.drag=u["default"](B["default"].querySelectorAllAsArray(".js-category-card, .js-category-group",this.domNode),{copy:!0,moves:function(F,v,C){return C.classList.contains("js-name")||C.classList.contains("category-view-name")},accepts:function(F,v,C,G){return!v.classList.contains("js-category-group")}});this.drag.on("over",function(F,v,C){v.classList.contains("js-category-card")&&v.classList.add("card-select-active")});
this.drag.on("out",function(F,v,C){v.classList.contains("js-category-card")&&v.classList.remove("card-select-active")});this.drag.on("drop",function(F,v,C,G){if(v&&v.classList.contains("js-category-card")){C=F.querySelector(".js-name").getAttribute("data-category-path");var H=v.getAttribute("data-item-id");v=q["default"].find(D.itemDijits,function(K){return K.item.id===H});F.parentNode.removeChild(F);v.addCategory(C);D.updateHistory()}})};A.prototype.updateHistory=function(){var D=this.itemDijits.map(function(F){return F.updateCategories(!0)});
this.history=this.history.slice(0,this.historyIndex||0);this.history.push(D);this.historyIndex=this.history.length;this.setUndoRedoVisibility()};A.prototype.setUndoRedoVisibility=function(){this.domNode.querySelector(".js-redo").disabled=this.historyIndex===this.history.length;this.domNode.querySelector(".js-undo").disabled=2>this.historyIndex;this._primaryBtn.disabled=1===this.historyIndex};A.prototype.back=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.history[(this.historyIndex||
0)-2]&&(--this.historyIndex,this.renderFromHistory())};A.prototype.forward=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.historyIndex<this.history.length&&(this.historyIndex+=1,this.renderFromHistory())};A.prototype.renderFromHistory=function(){var D=this;this.history[this.historyIndex-1].forEach(function(F,v){D.itemDijits[v].setCategories(F)});this.setCheckboxState();this.setUndoRedoVisibility()};A.prototype.buildCategoryTree=function(){this.domNode.querySelector(".js-category-root").innerHTML=
this.categoriesToDom(this.categories[0].categories,"",!0)};A.prototype.categoriesToDom=function(D,F,v){var C=this;D=D.reduce(function(G,H){var K=F?F+"/"+H.title:"/"+H.title,O=H.categories?C.categoriesToDom(H.categories,K):"";return G+f["default"].substitute(h["default"],{title:H.title,children:O,path:K,icons:e["default"]})},"");return v?D:f["default"].substitute(n["default"],{categories:D,icons:e["default"]})};A.prototype.setCheckboxState=function(){var D=this;B["default"].querySelectorAllAsArray(".js-category-select-checkbox",
this.domNode).forEach(function(F){var v=F.value,C=D.itemDijits.filter(function(G){G=G.updateCategories();var H=0<G.filter(function(K){return-1<K.indexOf(v+"/")}).length;return 0<G.length&&(-1<G.indexOf(v)||H)}).length;F.indeterminate=0<C&&C<D.items.length;F.checked=C===D.items.length})};A.prototype.toggleCategory=function(D){var F=D.target,v=F.value;this.itemDijits.forEach(function(C){F.checked||F.indeterminate?C.addCategory(v):C.removeCategory(v)});this.setCheckboxState();this.updateHistory()};A.prototype.handlePrimary=
function(){this.submit()};A.prototype.submit=function(){var D=this,F=this.itemDijits.map(function(v){var C={};C[v.item.id]=D.group?v.updateCategories(!0):{categories:v.updateCategories(!0)};return C});F={url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(F)}};E["default"].request(F,{usePost:!0}).then(function(v){D.itemDijits.forEach(function(C){C.saveCategories()});new a["default"]({type:"success",text:w["default"].contentCategories.success},
g["default"].create("div",null,document.body));setTimeout(function(){t["default"].publish("aggregations/refresh",D.group);t["default"].publish("view/refresh");t["default"].publish("view/deselectAll");D.close()},1E3)},function(v){"GWM_0021"===(null===v||void 0===v?void 0:v.messageCode)&&z["default"].showAlert("error",v.message)})};return A=r.__decorate([x["default"](y["default"],k["default"],d["default"])],A)}()})},"arcgisonline/pages/dijit/CategoryView/CategoryListItem":function(){define("require exports tslib dojo/_base/lang ../Card/_CardBase ../CategoryPicker dojo/text!./templates/CategoryListViewCard.html arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,r,x,t,l,f,g){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);return function(){function k(y,u){this.templateString=f["default"];this.categories=x["default"].clone(y.isGroup?y.item.groupCategories:y.item.categories)}k.prototype.postCreate=function(){this.inherited(arguments);this.categoryPicker=new l["default"]({categories:this.categories,schema:this.categorySchema},this._chipWrap);this.categoryPicker.startup()};k.prototype.destroy=
function(){this.inherited(arguments);this.categoryPicker.destroy()};k.prototype._cardOpen=function(){return!1};k.prototype.updateCategories=function(y){return this.categories=this.categoryPicker.getCategories(y)};k.prototype.setCategories=function(y){this.categories=y;this.categoryPicker.setCategories(y,!0)};k.prototype.addCategory=function(y){0<this.categories.filter(function(u){return-1<u.indexOf(y+"/")}).length||(this.categoryPicker.addCategory(y),this.categories=this.categoryPicker.getCategories())};
k.prototype.removeCategory=function(y){this.categoryPicker.removeCategory(y);this.categories=this.categoryPicker.getCategories()};k.prototype.saveCategories=function(){this.item.categories=this.updateCategories()};return k=r.__decorate([g["default"](t["default"])],k)}()})},"arcgisonline/pages/search/widgets/_groups":function(){define("require exports tslib ../../../esriGeowConfig ../../pageUtil ../../searchUtil ../../dijit/FilterDate ../../dijit/FilterStatus ../../dijit/ToggleSwitch ../../dijit/Pagination ../../dijit/ControlBar ../../groups/widgets/_GroupCard ../../groups/widgets/_GroupCardMobile ./filters/_groups ./_baseTab ../../utils/search ../../../sharing/util ../../../tsutils/declareDecorator dojo/Deferred dojo/string dojo/_base/lang dojo/query dojo/topic dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_groups.html preact arcgisonline/pages/components/SearchFeedback".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);p=r.__importDefault(p);
w=r.__importDefault(w);B=r.__importDefault(B);return function(){function F(){this.templateString=B["default"];this.widgetsInTemplate=!0;this._sortOptions=[{property:"relevance",label:w["default"].sortDropdown.relevance,ascending:!1,active:!0},{property:"owner",label:w["default"].sortDropdown.owner,ascending:!0},{property:"title",label:w["default"].sortDropdown.title,ascending:!0}]}F.prototype.postMixInProperties=function(){this._resetState();this.portal.isPortal&&this._disableOrgRestrictionFlags();
this._filters=h["default"].clone(q["default"].filterStatus);this._sortOptions[0].hide=!1;this.restrictSearch=c["default"].substitute(w["default"].searchResults.restrictSearch,{name:this.portal.name||""});this._searchTerm=t["default"].getQueryParams().q;this._sort={property:"relevance",label:w["default"].sortDropdown.relevance,ascending:!1}};F.prototype.startup=function(){var v=this,C=new b["default"];this.inherited(arguments);this.render().then(function(G){v._addEventListeners();v._firstLoad&&(v._firstLoad=
!1);C.resolve(G)});return C};F.prototype.postCreate=function(){var v;this.inherited(arguments);this._orgRestrictToggle=new k["default"]({label:this.restrictSearch,labelPosition:"left",labelClasses:"tablet-leader-half trailer-half font-size--1 js-org-only-wrap hide",isChecked:!0},this.domNode.querySelector(".js-restrict-toggle"));this._filters.created.minDate=this.portal.created;this._dateFilter=new f["default"](this._filters.created,this.domNode.querySelector(".js-filter-date"));this._filterStatus=
new g["default"](this._filters,this.domNode.querySelector(".js-filter-status"));var C=(null===(v=this.portal)||void 0===v?0:v.isPortal)?w["default"].siteHeader.searchAgoEnterprise:w["default"].siteHeader.searchAgo;this._controlBar=new u["default"]({search:{placeholder:C,searchTerm:this.page._searchTerm,queryParam:"q"},sort:this._sortOptions,filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetry:this.page.telemetry,telemetryOptions:{search:!0,
viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}},this.domNode.querySelector(".js-control-bar"));this._pagination=new y["default"]({start:this._initialStart,num:this._page.num,telemetry:this.page.telemetry},this.domNode.querySelector(".js-pagination"));this._applyRestrictFilter();p["default"].publish("sort/update",h["default"].clone(this._sort))};F.prototype._addEventListeners=function(){var v=this;this.inherited(arguments);this.own(p["default"].subscribe("view/update",this._renderList.bind(this)),
this._orgRestrictToggle.on("change",this._updateOnlyOrg.bind(this)),n["default"](".js-bucket-select",this.domNode).on("click",this._updateTab.bind(this)),p["default"].subscribe("sort/update",l["default"].updateCookie),n["default"](".js-content",this.domNode).on("click",function(C){var G;(null===(G=C.target)||void 0===G?0:G.classList.contains("js-group-owner"))&&v._showProfile.bind(v)(C)}));this._initializeRestrictUI()};F.prototype.destroy=function(){this.inherited(arguments)};F.prototype.render=function(){return this._getGroups().then(this._updateState.bind(this)).then(this._updateView.bind(this))};
F.prototype._defendLastPage=function(v){v=(Math.ceil(v.total/this._page.num)-1)*this._page.num+1;v=0<v?v:1;this._firstLoad&&(this._initialStart=v);this._page.start=v;return this._getGroups()};F.prototype._getGroups=function(){var v=this,C=new b["default"],G=x["default"].restBaseUrl+"community/groups",H=this._getParams();d["default"].request({url:G,content:H}).then(function(K){K.items=K.results;v._mustDefendLastPage(K.total)?v._defendLastPage(K).then(function(O){O.items=O.results;C.resolve(O)},function(O){C.reject(O)}):
C.resolve(K)},function(K){400===(null===K||void 0===K?void 0:K.code)&&"unable to perform group search."===K.message.toLowerCase()?C.resolve({items:[],nextStart:-1,start:1,total:0}):C.reject(K)});return C};F.prototype._getParams=function(){var v,C,G="relevance"===this._sort.property?"":this._sort.property,H=this._sort.ascending?"asc":"desc",K=this.portal.isPortal,O=this.portalUser||{},L=O.orgId;O=L&&O.isOrgAdmin;L=!L||L&&(this.portal.canSearchPublic||O);O=K||(null===(v=this.portal)||void 0===v?void 0:
v.name)&&!0===this._onlyOrg;v=0<(null===(C=this._filterState.created)||void 0===C?void 0:C.length)?" "+this._filterState.created[0].q:"";L=O||!(!O&&L);K=K&&x["default"].portalLivingAtlasConfigEnabled?' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"':"";C=L?" orgid:"+this.portal.id:"";this._disableOrgRestriction=!L;L=e.separateFilterFromQuery(this._searchTerm||"");O=L.q;this._filterQ=L.filter;G={q:(O?"("+O+")":"")+" "+C+v+K,num:this._page.num,start:this._firstLoad?this._initialStart:
this._page.start,sortField:G,sortOrder:H};this.semanticSearchEnabled&&(G.enriched=!0);return G};F.prototype._renderList=function(v,C,G){var H=this,K,O;this._groupWidgets.forEach(function(R){return R.destroy()});this._groupWidgets=[];C=this.domNode.querySelector(".js-search-feedback");A.render(A.h(null,null),C);C.classList.add("hide");if(0<v.length){var L=this.domNode.querySelector(".js-content");L.innerHTML="";var J=720>=window.innerWidth?z["default"]:E["default"];v.forEach(function(R,X){var aa=new J({item:R,
itemIndex:X,portalUser:H.portalUser,portal:H.portal});H._groupWidgets.push(aa);aa.startup();aa.placeAt(L)})}else this.domNode.querySelector(".js-content").innerHTML="\x3cp class\x3d'text-center block leader-1'\x3e\x3cspan class\x3d'inline-block text-constrain'\x3e"+w["default"].search.noGroups+"\x3c/span\x3e\x3c/p\x3e";this.page.telemetry&&this._searchTerm&&this._searchTerm!==this.feedbackSearchTerm&&((null===(K=this.portal)||void 0===K?0:K.eueiEnabled)||this.portalUser&&!this.portalUser.orgId)&&
(C.classList.remove("hide"),A.render(A.h(D.SearchFeedback,{telemetry:this.page.telemetry,searchTerm:this._searchTerm,page:this._page,onlyOrg:this._onlyOrg&&!(null===(O=this.portalUser)||void 0===O||!O.orgId),section:"group",enriched:e.semanticSearchEnabled(this.portal,this.portalUser),onSubmit:function(){return H.feedbackSearchTerm=H._searchTerm}}),C))};F.prototype._getCounts=function(){};return F=r.__decorate([a["default"](m["default"])],F)}()})},"arcgisonline/pages/groups/widgets/_GroupCard":function(){define("require exports tslib ../../dijit/Card/_CardBase ../../portal/PortalGroup ../../utils/dom ../../utils/formatters ../../utils/icons ../../../tsutils/declareDecorator arcgis-components/wrappers/BasicWrappers/GroupBadges dojo/query dojo/topic dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_listTemplate.html".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);return function(){function m(e,d){this.templateString=q["default"];this.i18n=z["default"];this.icons=g["default"];this.hide=f["default"].hide;this.show=f["default"].show;this.firstChar=f["default"].firstChar;this.stripHTML=
f["default"].stripHTML;this.fullDate=f["default"].fullDate;this.getGroupAccess=f["default"].getGroupAccess;this.getGroupAccessIcon=f["default"].getGroupAccessIcon}m.prototype.postMixInProperties=function(){var e,d;this.itemIndex=this.itemIndex||0;this.group=new t["default"](r.__assign(r.__assign({},this.item),{portal:this.portal}));this.group.isBackedByEnterpriseGroup=!("enterprise"!==this.group.provider||!this.group.providerGroupName);this.group.canDelete=this.group._canDeleteGroup(null,this.page);
this.group.canLeave=!this.group.isOwner&&(this.group.isMember||this.group.isManager)&&!this.group.isBackedByEnterpriseGroup&&(!this.page.isAdminView||this.page.isAdminView&&this.page.canAssignToGroups);this.group.fillColor="#"+this.group.id.substr(this.group.id.length-6);this.group.useLetter=!(null===(e=this.group.title.charAt(0))||void 0===e||!e.match(/^\w+$/));this.group.applications=(null===(d=this.group.userMembership)||void 0===d?void 0:d.applications)||0;this.group.hasApplications=0<this.group.applications;
this.group.accessIcon=f["default"].getGroupAccessIcon(this.group.access)};m.prototype.postCreate=function(){var e;(null===(e=this.page)||void 0===e?0:e.isAdminView)&&this.page.canAssignToGroups?(u["default"](".js-leave-group",this.domNode).forEach(function(d){d.innerHTML=""+g["default"].inline["sign-out"][16]+z["default"].GroupWidget.removeUserFromGroup}),this.group.isBackedByEnterpriseGroup&&l["default"].hideNode(this.domNode.querySelector(".js-leave-group"))):this.group.leavingDisallowed&&l["default"].hideNode(u["default"](".js-leave-group",
this.domNode).shift());this.portal.id&&new y["default"](this.domNode.querySelector(".js-group-badges"),{key:this.group.id,group:this.group,portal:this.portal});this.own(u["default"](".js-group-card-title",this.domNode).on("click",this._cardOpen.bind(this)))};m.prototype._cardOpen=function(e){E["default"].publish("card/open",this.itemIndex,e)};return m=r.__decorate([k["default"](x["default"])],m)}()})},"arcgis-components/wrappers/BasicWrappers/GroupBadges":function(){define(["../../GroupBadges/index",
"../../wrappers/BasicWrappers/BasicWrapper"],function(U,M){return function(r){function x(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,x),f.l=!0,f.exports}var t={};return x.m=r,x.c=t,x.d=function(l,f,g){x.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},x.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},x.t=function(l,
f){if((1&f&&(l=x(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(x.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var k in l)x.d(g,k,function(y){return l[y]}.bind(null,k));return g},x.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return x.d(f,"a",f),f},x.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},x.p="",x(x.s=965)}({0:function(r,x,t){function l(q,
m){function e(){this.constructor=q}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(q,m);q.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(q,m){var e={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>m.indexOf(d)&&(e[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(q);a<d.length;a++)0>m.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(q,
d[a])&&(e[d[a]]=q[d[a]])}return e}function g(q,m,e,d){var a,b=arguments.length,c=3>b?m:null===d?d=Object.getOwnPropertyDescriptor(m,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(q,m,e,d);else for(var h=q.length-1;0<=h;h--)(a=q[h])&&(c=(3>b?a(c):3<b?a(m,e,c):a(m,e))||c);return 3<b&&c&&Object.defineProperty(m,e,c),c}function k(q,m,e,d){return new (e||(e=Promise))(function(a,b){function c(p){try{n(d.next(p))}catch(w){b(w)}}function h(p){try{n(d["throw"](p))}catch(w){b(w)}}
function n(p){var w;p.done?a(p.value):(w=p.value,w instanceof e?w:new e(function(B){B(w)})).then(c,h)}n((d=d.apply(q,m||[])).next())})}function y(q,m){function e(n){return function(p){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,a&&(b=2&w[0]?a["return"]:w[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,w[1])).done)return b;switch(a=0,b&&(w=[2&w[0],b.value]),w[0]){case 0:case 1:b=w;break;case 4:return h.label++,{value:w[1],done:!1};
case 5:h.label++;a=w[1];w=[0];continue;case 7:w=h.ops.pop();h.trys.pop();continue;default:if(!(b=h.trys,(b=0<b.length&&b[b.length-1])||6!==w[0]&&2!==w[0])){h=0;continue}if(3===w[0]&&(!b||w[1]>b[0]&&w[1]<b[3]))h.label=w[1];else if(6===w[0]&&h.label<b[1])h.label=b[1],b=w;else if(b&&h.label<b[2])h.label=b[2],h.ops.push(w);else{b[2]&&h.ops.pop();h.trys.pop();continue}}w=m.call(q,h)}catch(B){w=[6,B],a=0}finally{d=b=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([n,p])}}var d,a,b,c,h={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function u(q,m){for(var e=0,d=m.length,a=q.length;e<d;e++,a++)q[a]=m[e];return q}t.d(x,"d",function(){return l});t.d(x,"a",function(){return z});t.d(x,"f",function(){return f});t.d(x,"c",function(){return g});t.d(x,"b",function(){return k});t.d(x,"e",function(){return y});t.d(x,"g",function(){return u});var E=function(q,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(q,m)},z=function(){return(z=Object.assign||function(q){for(var m,e=1,d=arguments.length;e<d;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(q[a]=m[a]);return q}).apply(this,arguments)};Object.create;Object.create},349:function(r,x){r.exports=U},385:function(r,x){r.exports=M},965:function(r,
x,t){t.r(x);var l=t(0);r=t(385);r=t.n(r);var f=t(349),g=t.n(f).a;t=function(k){function y(u,E){return k.call(this,g,u,E)||this}return Object(l.d)(y,k),y}(r.a);x["default"]=t}})})},"arcgis-components/wrappers/BasicWrappers/BasicWrapper":function(){define(["../../Component"],function(U){return function(M){function r(t){if(x[t])return x[t].exports;var l=x[t]={i:t,l:!1,exports:{}};return M[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var x={};return r.m=M,r.c=x,r.d=function(t,l,f){r.o(t,l)||Object.defineProperty(t,
l,{enumerable:!0,get:f})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,l){if((1&l&&(t=r(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)r.d(f,g,function(k){return t[k]}.bind(null,g));return f},r.n=function(t){var l=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(l,"a",l),l},r.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},r.p="",r(r.s=926)}({0:function(M,r,x){function t(z,q){function m(){this.constructor=z}if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");u(z,q);z.prototype=null===q?Object.create(q):(m.prototype=q.prototype,new m)}function l(z,q){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,
e)&&0>q.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(z);d<e.length;d++)0>q.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(z,e[d])&&(m[e[d]]=z[e[d]])}return m}function f(z,q,m,e){var d,a=arguments.length,b=3>a?q:null===e?e=Object.getOwnPropertyDescriptor(q,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,q,m,e);else for(var c=z.length-1;0<=c;c--)(d=z[c])&&(b=(3>a?
d(b):3<a?d(q,m,b):d(q,m))||b);return 3<a&&b&&Object.defineProperty(q,m,b),b}function g(z,q,m,e){return new (m||(m=Promise))(function(d,a){function b(n){try{h(e.next(n))}catch(p){a(p)}}function c(n){try{h(e["throw"](n))}catch(p){a(p)}}function h(n){var p;n.done?d(n.value):(p=n.value,p instanceof m?p:new m(function(w){w(p)})).then(b,c)}h((e=e.apply(z,q||[])).next())})}function k(z,q){function m(h){return function(n){return function(p){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=
1,d&&(a=2&p[0]?d["return"]:p[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,p[1])).done)return a;switch(d=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++;d=p[1];p=[0];continue;case 7:p=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==p[0]&&2!==p[0])){c=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3]))c.label=p[1];else if(6===p[0]&&c.label<a[1])c.label=a[1],a=p;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(p);else{a[2]&&c.ops.pop();c.trys.pop();continue}}p=q.call(z,c)}catch(w){p=[6,w],d=0}finally{e=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([h,n])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function y(z,q){for(var m=0,e=q.length,d=z.length;m<e;m++,d++)z[d]=q[m];return z}x.d(r,
"d",function(){return t});x.d(r,"a",function(){return E});x.d(r,"f",function(){return l});x.d(r,"c",function(){return f});x.d(r,"b",function(){return g});x.d(r,"e",function(){return k});x.d(r,"g",function(){return y});var u=function(z,q){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(m[d]=e[d])})(z,q)},E=function(){return(E=Object.assign||function(z){for(var q,m=1,e=arguments.length;m<
e;m++)for(var d in q=arguments[m])Object.prototype.hasOwnProperty.call(q,d)&&(z[d]=q[d]);return z}).apply(this,arguments)};Object.create;Object.create},18:function(M,r){M.exports=U},926:function(M,r,x){x.r(r);var t=x(0),l=x(18);M=function(){function f(g,k,y){var u=this;this.SET_PROPS="SET_PROPS";var E=Object(l.connect)(function(z){return Object(t.a)({},z)},function(){return{}})(g);this.renderContainer=k;this.store=Object(l.createStore)(function(z,q){var m=q.payload;return q.type===u.SET_PROPS?m:z},
y);this.projector=Object(l.createProjector)(this.store,function(z){return z(E,Object(t.a)({},y))},this.renderContainer)}return f.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},f.prototype.getProps=function(){return this.store.getState()},f.prototype.setProps=function(g){this.store.dispatch({type:this.SET_PROPS,payload:g})},f.prototype.watchProps=
function(g){var k=this;return this.store.subscribe(function(){return g(k.store.getState())})},f}();r["default"]=M}})})},"arcgisonline/pages/groups/widgets/_GroupCardMobile":function(){define("require exports tslib ./_GroupCard ../../../tsutils/declareDecorator dojo/text!./templates/_mobileTemplate.html".split(" "),function(U,M,r,x,t,l){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);return function(){function f(){this.templateString=l["default"]}f.prototype.postCreate=function(){};
return f=r.__decorate([t["default"](x["default"])],f)}()})},"arcgisonline/pages/search/widgets/filters/_groups":function(){define(["require","exports","tslib","dojo/i18n!../../../../nls/arcgisonline"],function(U,M,r,x){x=r.__importDefault(x);return{filterStatus:{created:{param:"created",chipText:x["default"].GroupWidget.dateCreatedLabel}}}})},"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n,p,w,B,A,D,F,v,C,G,H,K,O){x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importDefault(b);c=r.__importDefault(c);h=r.__importDefault(h);n=r.__importDefault(n);
p=r.__importDefault(p);w=r.__importDefault(w);B=r.__importDefault(B);A=r.__importDefault(A);D=r.__importDefault(D);F=r.__importDefault(F);v=r.__importDefault(v);C=r.__importDefault(C);G=r.__importDefault(G);H=r.__importDefault(H);O=r.__importStar(O);return function(){function L(J){this.i18n=v["default"];this.esriPortalConfig=H["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=r.__assign({},J);this.portalUser=
J.portalUser||null;this.portal=J.portal||null}L.prototype.destroy=function(){K.render(null,this.footerDiv)};L.prototype.postMixInProperties=function(){this.inherited(arguments);h["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=O.queryToObject(window.location.search.slice(1))};L.prototype.startup=function(){this.inherited(arguments);this.telemetry=A["default"].init({config:this.portal});var J=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===(null===
J||void 0===J?void 0:J["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};L.prototype.toggleErrors=function(J){this._hideErrors=!J;this._showErrors=J};L.prototype._setPageTitleAttr=function(J){window.document.title=J};L.prototype._setIsLoadedAttr=function(J){this.isLoaded=J};L.prototype.showLoader=function(){w["default"].activateNode(this._loader);w["default"].hideNode(this._content)};
L.prototype.hideLoader=function(){w["default"].deactivateNode(document.querySelector(".js-page-loader"));w["default"].showNode(document.querySelector(".js-content-wrapper"));w["default"].deactivateNode(this._loader);w["default"].showNode(this._content)};L.prototype.removeError=function(){var J=document.querySelector(".js-alert");J&&a["default"].destroy(J)};L.prototype.hideErrors=function(){var J=document.querySelector(".js-alert");J&&a["default"].empty(J)};L.prototype.showAlert=function(J){var R=
J.type||"success";J=J.text||"";this._alert&&this._alert.destroy();this._alert=p["default"].showAlert(R,J)};L.prototype.showError=function(J){this._showError(J)};L.prototype._addEventListeners=function(){this.own(e["default"].subscribe("alert/show",this.showAlert.bind(this)),e["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),e["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),e["default"].subscribe("page/showError",this._showError.bind(this)),q["default"](window,"resize",
u["default"](function(){return e["default"].publish("window/resize")},300)))};L.prototype._buildPage=function(){var J=this,R;this.set("pageTitle",H["default"].portalName||this.i18n.common.arcgis);var X=t["default"].locale.split("-");document.documentElement.lang=-1!==t["default"].locale.indexOf("-")?[X[0],X[1].toUpperCase()].join("-"):X[0];this.pageNode=this.pageNode||k["default"].body();this.flexFix=a["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=a["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new D["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());a["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=a["default"].create("div",null,this.contentWrapper,"last"),this.footer=K.h(F["default"],
{id:"footer",portal:this.portal}),K.render(this.footer,this.footerDiv));this.skipToContent&&(X=m["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:v["default"]}),a["default"].place(X,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(aa){aa.preventDefault();aa.stopPropagation();if(aa=document.getElementById(J.skipToContent))aa.tabIndex=
-1,aa.focus()}));this.set("htmlCssClasses");(null===(R=this.portalUser)||void 0===R?0:R.orgId)&&this.setBlockedClasses()};L.prototype.setBlockedClasses=function(){C["default"].getBlockedApps().then(function(J){var R={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(R).forEach(function(X){-1<(null===J||void 0===J?void 0:J.indexOf(X))&&(X=R[X],document.documentElement.classList.add(X),
document.body.classList.add(X))})})};L.prototype._setHtmlCssClassesAttr=function(){var J=[],R=this.portal,X=R.getPortalUser(),aa=X&&X.isOrgUser,ea=X&&X.licenses,ka;J.push(R.isPortal?"is-on-premise":"is-online");J.push(X?"is-signed-in":"is-signed-out");Object.keys(ea||{}).forEach(function(ma){ka=ea[ma];!ka.valid&&ka.className&&J.push(ka.className)});J.push(H["default"].webAppBuilderEnabled&&aa?"is-wab-enabled":"");J.push(H["default"].showCreateDashboard&&aa?"is-createDashboard-enabled":"");J.push(H["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");b["default"].add(document.querySelector("html"),J.join(" "))};L.prototype._request=function(J,R){return n["default"].request(J,R)};L.prototype._showError=function(J){var R=null;R=J&&J.message||this.i18n.common.errors.genericError.message;var X=document.querySelector(".js-alert")||a["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),aa=null;if(!(this._hideErrors||J&&("SB_0001"===J.messageCode||"SB_0002"===J.messageCode)||403!==
J.code&&"GWM_0003"===J.messageCode)){if(!this._item&&this.portalUser&&J&&403===J.code){if(-1!==J.message.indexOf("world/utilities.gpserver"))return;R=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===J||void 0===J?void 0:J.messageCode)?(R=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):R&&"Item does not exist or is inaccessible."===R?(R=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):R&&"Your request has timed out."===R?R=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&J&&"string"===typeof J&&-1<J.indexOf("ERROR 002555")?(R=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):R&&-1<R.indexOf("Your account is out of storage space and your item cannot be updated.")?(R=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):R=J.messageHTML?J.messageHTML:n["default"].htmlEncode(R);
aa=a["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+R+"\x3c/div\x3e");if(this._showErrors&&J&&499!==J.code&&498!==J.code&&404!==J.code)if(this._forceErrorToast||this.isLoaded&&!J.forceErrorNode)p["default"].showAlert("error",R);else{y["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");y["default"](".js-content-wrapper").removeClass("hide");R=document.querySelector(".view-background");var ea=document.querySelectorAll("header.subnav").length?
1:0;a["default"].place(X,R,ea);a["default"].place(aa,X,"only")}e["default"].publish("ago/page/error",{error:J});return J}};L.prototype._createTab=function(J,R){var X=this.tabDijit=new J(g["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},R||{}),a["default"].create("div",{},this._content)),aa=new l["default"];X.startup().then(function(){x["default"].init();aa.resolve(X)});return aa};L.prototype._destroyTab=function(){var J=this,R=new l["default"],
X=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;f["default"](X,function(){J.showLoader();(z["default"].findWidgets(J._content)||[]).forEach(function(aa){aa.destroy?aa.destroy():aa.destroyRecursive&&aa.destroyRecursive()});a["default"].empty(J._content);p["default"].clearAlerts();R.resolve(!0)});return R};L.prototype._disableTabs=function(){var J=this;this._clearTabHandlerOverrides();var R=document.querySelectorAll(".js-subnav-link");w["default"].forEachNode(R,function(X){J._disabledTabHandlers.push(q["default"](X,
"click",function(aa){aa.stopPropagation();aa.preventDefault()}));d["default"].set(X,"aria-disabled",!0);b["default"].add(X,"disabled")})};L.prototype._enableTabs=function(){var J=this;setTimeout(function(){J._clearTabHandlerOverrides();var R=document.querySelectorAll(".js-subnav-link");w["default"].forEachNode(R,function(X){d["default"].set(X,"aria-disabled",!1);b["default"].remove(X,"disabled")})},500)};L.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(J){return J.remove()})};L.prototype.getMemberDefaults=function(){var J,R=null===(J=this.portalUser)||void 0===J?void 0:J.userRole;J=(null===R||void 0===R?void 0:R.isAdmin())||(null===R||void 0===R?void 0:R.canManageSecurity());return this.portalUser&&this.portal.id&&J?this.portal.getMemberDefaults():(J=new l["default"],J.resolve(),J)};L.prototype.getHomePageConfig=function(){var J=new l["default"];if(!this.portalUser||!this.portal.id)return J.resolve(),
J;var R=B["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=R)?this.portal.getHomePageConfig().then(function(){J.resolve()}):J.resolve();return J};return L=r.__decorate([G["default"](E["default"],c["default"])],L)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(U,M,r,x,
t,l,f,g,k,y){Object.defineProperty(M,"__esModule",{value:!0});x=r.__importDefault(x);t=r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);y=r.__importDefault(y);M["default"]=function(u){var E=u.id,z=u.portal;u=k.useState(!1);var q=u[0],m=u[1];u=k.useState([]);var e=u[0],d=u[1];k.useEffect(function(){var p=f["default"].subscribe("contact-us-link/update",b);return function(){var w;null===(w=null===p||void 0===p?void 0:p.remove)||void 0===w?void 0:w.call(p)}},[]);k.useEffect(function(){a()},
[e]);var a=function(){var p,w,B=r.__assign(r.__assign(r.__assign({},y["default"].common),y["default"].siteFooter),{helpLabel:y["default"].supportPage.helpLabel}),A=z.portalUser,D=z.isPortal,F=window.location.href;-1<F.indexOf("?useExisting\x3d1")&&(F=F.substring(0,F.length-14));m(-1<F.indexOf("viewer.html")&&-1===F.indexOf("returnUrl")&&!t["default"].isMobile());var v=[];(x["default"].footerLinks||[]).forEach(function(C){var G,H,K="${i18n.legal}"===(null===C||void 0===C?void 0:C.title),O=!!(K&&(null===
A||void 0===A?0:A.accountId)),L="${i18n.help}"===(null===C||void 0===C?void 0:C.title)||"support.html"===(null===C||void 0===C?void 0:C.url),J=!(L&&!A&&"public"===z.access&&(D||!D&&z.customBaseUrl));K=!K&&!L||K&&!O||L&&!J;O=null===(G=C.title)||void 0===G?void 0:G.indexOf("${i18n.");G=null===(H=C.title)||void 0===H?void 0:H.indexOf("}");H=-1<O&&-1<G?""+B[C.title.substring(O+7,G)]:C.title;if(C.url){-1===C.url.indexOf("http")&&-1===C.url.indexOf("mailto:")&&q&&(C.url="support.html"===C.url?z.helpBase||
""+x["default"].baseUrl+C.url:""+x["default"].baseUrl+C.url);if("${i18n.help}"===C.title||"support.html"===C.url)C.url=z.helpBase;K&&v.push({href:C.url,target:"_blank",title:H})}else D&&"contactUs"===C.type?(G=x["default"].portalName||"ArcGIS.com",K=escape(F),C="mailto:"+C.email,v.push({id:E+"_contactEsri",href:C+('?subject\x3d"A comment about '+G+'"\x26body\x3d"I have the following comment about the ')+(G+" Web site. %0AReferring page: "+K+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:H})):"reportAbuse"===C.type&&(K=escape(F),C="mailto:"+C.email+'?subject\x3d"Concerns about an item"',v.push({href:C+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+K+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:H}))});b(null===(w=null===(p=z.portalProperties)||void 0===p?
void 0:p.links)||void 0===w?void 0:w.contactUs,v)},b=function(p,w){w=null!==w&&void 0!==w?w:e;p=null!==p&&void 0!==p?p:{visible:!1,url:""};var B={id:E+"_customContactUs",href:p.url,title:y["default"].siteFooter.customContactUs,className:p.visible?"footer__contact-us":"footer__contact-us hide"},A=l["default"].findIndex(w,function(D){return D.id===E+"_customContactUs"});-1<A?w[A]=B:(A=l["default"].findIndex(w,function(D){return D.id===E+"_contactEsri"}),-1<A?w.splice(A,0,B):w.push(B));d(w)};u=E+"_links";
var c=q?"\x26nbsp;. ":"",h=e.filter(function(p){return!p.className||-1===p.className.indexOf("hide")}),n=h.map(function(p,w){var B,A,D,F=null!==(B=p.id)&&void 0!==B?B:E+"_link"+w;B=p.href;var v=null!==(A=p.target)&&void 0!==A?A:"";A=null!==(D=p.className)&&void 0!==D?D:"";D=w===h.length-1;return g.h(g.Fragment,null,g.h("a",{id:F,href:B,className:A,target:v},p.title),D?null:g.h("span",null,c))});return g.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},g.h("span",{id:u,"class":"esriItemLinks"},n),g.h("div",{"class":"esri-footer-barrier"}))}})},"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryPicker.html":'\x3cdiv class\x3d"leader-half"\x3e\r\n  \x3cdiv\r\n    class\x3d"js-add-category-error alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter"\r\n  \x3e\r\n    ${i18n.contentCategories.addCategoryError}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"category-picker"\x3e\r\n    \x3cdiv class\x3d"font-size--1 category-picker__chip-wrap js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide category-picker__default-text font-size--1" data-dojo-attach-point\x3d"defaultTextContainer"\x3e${defaultText}\x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-add-category-dropdown leader-half trailer-half category-picker__dropdown"\x3e\r\n      \x3cspan class\x3d"font-size--1 category-picker__dropdown-btn"\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size--1 js-add-category-dropdown-button"\r\n          tabindex\x3d"0"\r\n          aria-haspopup\x3d"true"\r\n          aria-expanded\x3d"false"\r\n          type\x3d"button"\r\n        \x3e\r\n          \x3cspan class\x3d"text-green"\x3e${!icons.inline.plus-f.16}\x3c/span\r\n          \x3e${i18n.contentCategories.addCategory}${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"dropdown-menu leader-quarter category-picker__dropdown-menu"\x3e\r\n        \x3cdiv class\x3d"category-picker-search-wrap"\x3e\r\n          \x3cinput\r\n            type\x3d"text"\r\n            class\x3d"add-category-input js-add-category-input leader-0"\r\n            placeholder\x3d"${i18n.contentCategories.filterCategories}"\r\n            aria-label\x3d"${i18n.contentCategories.addCategoryToItem}"\r\n          /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\r\n          class\x3d"js-add-category-dropdown-menu category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open"\r\n          role\x3d"menu"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/Category.html":'\x3cli class\x3d"js-category-picker-item filter-tree-item category-picker--add-category-dropdown ${isActive}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3cspan class\x3d"category-picker--add-category-dropdown-icon"\x3e${icons.check.16}\x3c/span\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link category-picker--add-category-dropdown-link js-add-category-dropdown-link ${isSelected}" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e${title}\x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"${role}"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryChip.html":'\x3cspan class\x3d"label filter-label js-category-chip" data-category-name\x3d"${category}"\x3e\r\n  ${category:formatCategoryChip}\r\n  \x3cbutton class\x3d"js-category-chip-remove btn-link filter-label-remove margin-left-quarter right" aria-label\x3d"${removeText}" data-category-name\x3d"${category}"\x3e${icons.x.16}\x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/InlineEdit.html":'\x3cdiv\x3e\r\n    \x3ch1 class\x3d"${titleClass} break-word flex text-ellipsis" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"if-name js-view subnav-title__name" id\x3d"${titleId}"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn btn-transparent padding-leader-quarter font-size--3 ${editButtonClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h1\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditTextArea.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e\r\n            ${!icons.inline.edit.16} ${i18n.common.edit}\r\n        \x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-quarter" for\x3d"${inputId}"\x3e\r\n            ${inputLabel}\r\n            \x3ctextarea\r\n                id\x3d"${inputId}"\r\n                data-dojo-attach-point\x3d"_input"\r\n                name\x3d"snippet"\r\n                rows\x3d"${rows}"\r\n                class\x3d"js-snippet-input display-block resize-v"\x3e${value}\x3c/textarea\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n                \x3cdiv class\x3d"hide inline-edit__characters-left" data-dojo-attach-point\x3d"_charactersLeft"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-quarter"\x3e\r\n                \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditFieldValueType.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${inputLabel}\r\n      \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_input"\x3e\x3c/select\x3e\r\n      \x3c!-- \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_type"\x3e\x3c/select\x3e --\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"text-right"\x3e\r\n        \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditRichText.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"trailer-2"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray ${editButtonUpdatePermissionClasses} font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide leader-1" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-half" for\x3d"${inputId}"\x3e${inputLabel}\x3c/label\x3e\r\n        \x3cdiv id\x3d"${inputId}" class\x3d"rich-text" data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right leader-half"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditCustom.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"leader-1 padding-leader-half"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3ch5 class\x3d"trailer-half"\x3e\r\n            ${viewTitle}\r\n        \x3c/h5\x3e\r\n        \x3cp class\x3d"js-view break-word"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n        ${formTitle}\r\n        \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRename.html":'\x3cdiv\x3e\r\n    \x3ch5 class\x3d"font-size-1 trailer-0 leader-0 sub-nav-title break-word" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0"\x3e\r\n            \x3ca target\x3d"_blank" href\x3d"${layerUrl}" class\x3d"if-name js-view"\x3e\x3c/a\x3e\r\n        \x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-darker-gray if-can-renameLayer" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"column-12 padding-leader-half padding-trailer-half hide" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"input-group leader-0"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"input-group-input" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input"\x3e\r\n            \x3cspan class\x3d"input-group-button padding-right-quarter"\x3e\r\n                \x3cbutton class\x3d"btn" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n                \x3cbutton class\x3d"btn-link btn btn-clear btn-two cancel-title-edit" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRenameSubnav.html":'\x3cdiv class\x3d"flex-1 flex"\x3e\r\n    \x3ch5 class\x3d"trailer-0 leader-0 break-word flex" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0 js-view subnav-breadcrumb flex-1 text-ellipsis"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-white" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditNotebookTags.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton\r\n      class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right"\r\n      aria-label\x3d"${inputLabel}"\r\n    \x3e\r\n      ${!icons.inline.edit.16}${i18n.common.edit}\r\n    \x3c/button\x3e\r\n    \x3ch4 class\x3d"panel-header if-tag if-can-update"\x3e${viewTitle}\x3c/h5\x3e\r\n    \x3cp class\x3d"js-view"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n    ${formTitle}\r\n    \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_option.html":'\x3ca\r\n  href\x3d"#${id}"\r\n  data-tab\x3d"${id}"\r\n  data-logClick\x3d"${logClick}"\r\n  role\x3d"tab"\r\n  aria-selected\x3d"false"\r\n  class\x3d"js-subnav-link subnav-link ${isActive} ${show:hide} ${classes:empty}"\r\n  aria-controls\x3d"tabcontent"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer"\x3e${label}\x3c/a\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_title.html":'\x3cdiv class\x3d"js-subnav-edit subnav-edit flex flex-column flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title ${_titleTypeSize}" id\x3d"pagetitle"\x3e${titleText}\x3c/h1\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_paths.html":'\x3cdiv class\x3d"flex flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title flex flex-align-center margin-right-1 ${_titleTypeSize} js-subnav-paths" id\x3d"pagetitle"\x3e\r\n    ${paths}\r\n  \x3c/h1\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_path.html":'\x3ca href\x3d"#" class\x3d"subnav-breadcrumb js-subnav-path ${lastPath} text-ellipsis"\x3e\r\n  \x3cspan class\x3d"${showBack} inline-block padding-right-quarter subnav-breadcrumb-back"\x3e${icons.arrow-left.24}\x3c/span\x3e${title}\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/SubNav.html":'\x3cheader class\x3d"subnav" role\x3d"banner"\x3e\r\n  \x3cdiv class\x3d"subnav-wrap grid-container flex phone-flex-column js-subnav-wrap"\x3e\r\n    \x3cdiv class\x3d"flex flex-1 flex-align-center phone-flex-column ${_titleTypeSize}"\x3e\r\n      \x3cspan class\x3d"js-subnav-title-wrap flex-1 flex"\x3e${!titleHTML}\x3c/span\x3e\r\n      \x3cbutton class\x3d"js-subnav-expand subnav-expand ${hideLinks}"\x3e\r\n        \x3cspan class\x3d"js-subnav-current-label subnav-expand__current-label no-pointer inline-block margin-right-half margin-left-0"\x3e${activeLabel}\x3c/span\x3e\r\n        \x3csvg class\x3d"subnav-expand-icon no-pointer" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16"\x3e\r\n          \x3cpath fill\x3d"#FFF" d\x3d"M8 11.5l-7-7h14z"/\x3e\r\n        \x3c/svg\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cnav class\x3d"subnav-links ${hideLinks} js-subnav-links flex-0 flex" role\x3d"tablist" aria-labelledby\x3d"pagetitle"\x3e${!linksHTML}\x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/header\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterSingle.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca role\x3d"option" aria-selected\x3d"false" href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/ClearAll.html":'\x3cbutton class\x3d"js-clear-filter btn-link btn-link-off-black font-size--3 right ${hide}" data-filter-param\x3d"${param}"\x3e${i18n.groupSelector.clear}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/FilterTree/templates/FilterTree.html":'\x3cul class\x3d"filter-tree"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterTree/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item ${selected} ${single} js-filter-tree-item" data-value\x3d"${value}"\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"${value}"\x3e${label}\x3c/a\x3e\r\n  \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\r\n  ${list}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterDate/templates/FilterDate.html":'\x3cul class\x3d"filter-tree"\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"today"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.today}" data-value\x3d"today"\x3e${i18n.filters.today}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"yesterday"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.yesterday}" data-value\x3d"yesterday"\x3e${i18n.filters.yesterday}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last7Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last7Days}" data-value\x3d"last7Days"\x3e${i18n.filters.last7Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last30Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last30Days}" data-value\x3d"last30Days"\x3e${i18n.filters.last30Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item hide" data-dojo-attach-point\x3d"_neverOption" data-value\x3d"never"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.never}" data-value\x3d"never"\x3e${i18n.filters.never}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"custom"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.customRange}" data-value\x3d"custom"\x3e${i18n.filters.customRange}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-custom-date-select hide font-size--3 margin-left-1 margin-right-0"\x3e\r\n      \x3clabel class\x3d"trailer-quarter" for\x3d"${uid}-start"\x3e\r\n        ${i18n.filters.from}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-start" data-dojo-attach-point\x3d"customStart" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customStartError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-0" for\x3d"${uid}-end"\x3e\r\n        ${i18n.filters.to}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-end" data-dojo-attach-point\x3d"customEnd" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customEndError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterItemType/templates/FilterItemType.html":'\x3cul class\x3d"filter-tree" role\x3d"tree" aria-label\x3d"${i18n.filters.filterByItemType}"\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps" data-label\x3d"Maps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps"\x3eMaps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-webmaps" data-label\x3d"Web maps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-webmaps"\x3eWeb maps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-mapfiles" data-label\x3d"Map files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-mapfiles"\x3eMap files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers" data-label\x3d"Layers"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers"\x3eLayers\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-features" data-label\x3d"Feature layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-features"\x3eFeature layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiles" data-label\x3d"Tile layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiles"\x3eTile layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-mapimage" data-label\x3d"Map image layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-mapimage"\x3eMap image layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-imagery" data-label\x3d"Imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-imagery"\x3eImagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-scenelayers" data-label\x3d"Scene layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-scenelayers"\x3eScene layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item hide" data-value\x3d"layers-weblayers-videolayers" data-label\x3d"Video layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-videolayers"\x3eVideo layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiledimagelayers" data-label\x3d"Tiled imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiledimagelayers"\x3eTiled imagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-elevationlayers" data-label\x3d"Elevation layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-elevationlayers"\x3eElevation layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tables" data-label\x3d"Tables" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tables"\x3eTables\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-layerfiles" data-label\x3d"Layer files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-layerfiles"\x3eLayer files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"scenes" data-label\x3d"Scenes" role\x3d"treeitem"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"scenes"\x3eScenes\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications" data-label\x3d"Apps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications"\x3eApps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-dashboards" data-label\x3d"Dashboards" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-dashboards"\x3eDashboards\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-experience" data-label\x3d"Experience Builder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-experience"\x3eExperience Builder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-instant-apps" data-label\x3d"Instant Apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-instant-apps"\x3eInstant Apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-sites" data-label\x3d"Sites" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-sites"\x3eSites\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-type-storymap js-filter-public" data-value\x3d"applications-storymap" data-label\x3d"Storymaps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-storymap"\x3eStorymaps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-wab" data-label\x3d"Web AppBuilder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-wab"\x3eWeb AppBuilder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-apps" data-label\x3d"GeoBIM applications" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-apps"\x3eGeoBIM applications\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-projects" data-label\x3d"GeoBIM projects" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-projects"\x3eGeoBIM projects\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-desktop" data-label\x3d"Desktop apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-desktop"\x3eDesktop apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-mobile" data-label\x3d"Mobile apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-mobile"\x3eMobile apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-web" data-label\x3d"Web apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-web"\x3eWeb apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cdiv class\x3d"margin-left-1 margin-right-0 trailer-quarter"\x3e\r\n        \x3chr class\x3d"leader-quarter trailer-0"\x3e\r\n        \x3clabel class\x3d"toggle-switch clearfix leader-half"\x3e\r\n          \x3cspan class\x3d"toggle-switch-label left font-size--2"\x3e${i18n.filters.onlyRegistered}\x3c/span\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"toggle-switch-input js-registered-only"\x3e\r\n          \x3cspan class\x3d"toggle-switch-track right"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools" data-label\x3d"Tools"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools"\x3eTools\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-locators" data-label\x3d"Locators" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-locators"\x3eLocators\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geodatabase" data-label\x3d"Geodatabase access" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geodatabase"\x3eGeodatabase access\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geometric" data-label\x3d"Geometric operations" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geometric"\x3eGeometric operations\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geoprocessing" data-label\x3d"Geoprocessing tasks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geoprocessing"\x3eGeoprocessing tasks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-network" data-label\x3d"Network analysis" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-network"\x3eNetwork analysis\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-analytics" data-label\x3d"Analytics" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-analytics"\x3eAnalytics\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files" data-label\x3d"Files"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files"\x3eFiles\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-document" data-label\x3d"Documents" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-document"\x3eDocuments\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-image" data-label\x3d"Images" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-image"\x3eImages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-pdf" data-label\x3d"PDFs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-pdf"\x3ePDFs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-csv" data-label\x3d"CSVs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-csv"\x3eCSVs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-report" data-label\x3d"Administrative reports" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-report"\x3eAdministrative reports\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-raster" data-label\x3d"Raster function templates" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-raster"\x3eRaster function templates\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights" data-label\x3d"Insights"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights"\x3eInsights\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-workbooks" data-label\x3d"Workbooks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-workbooks"\x3eWorkbooks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-models" data-label\x3d"Models" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-models"\x3eModels\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-themes" data-label\x3d"Themes" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-themes"\x3eThemes\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-notebookServer-enabled" data-value\x3d"notebooks" data-label\x3d"Notebooks"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"notebooks"\x3eNotebooks\x3c/button\x3e\r\n  \x3c/li\x3e\r\n  \x3cdiv class\x3d"if-bulk-publishing-enabled"\x3e\r\n    \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-on-premise" data-value\x3d"data-stores" data-label\x3d"Data stores"\x3e\r\n      \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"data-stores"\x3eData stores\x3c/button\x3e\r\n    \x3c/li\x3e\r\n  \x3c/div\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-knowledge-graph-item hide" data-value\x3d"knowledgeGraphs" data-label\x3d"Knowledge Graphs"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"knowledgeGraphs"\x3eKnowledge graphs\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterTags/templates/FilterTags.html":'\x3cdiv\x3e\r\n  \x3cinput type\x3d"search" class\x3d"js-tag-search filters--accordion--input" placeholder\x3d"${i18n.filters.filterTags}" aria-label\x3d"${i18n.filters.filterTags}" aria-controls\x3d"tagsList"\x3e\r\n  \x3cul class\x3d"js-tags-list filter-tree filter max-height max-height--short" role\x3d"listbox" aria-multiselectable\x3d"true" aria-label\x3d"${i18n.filters.filterByTag}" id\x3d"tagsList" tabindex\x3d"0"\x3e\x3c/ul\x3e\r\n  \x3cdiv class\x3d"hide js-no-tags font-size--2 padding-left-1 padding-right-1 padding-trailer-1"\x3e${!i18n.filters.noTagsFound}\x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterTags/templates/Option.html":'\x3cli class\x3d"filter-tree-item js-filter-tree-item ${isActive}" data-value\x3d"${value}" role\x3d"option" ${selected}\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link filter-tree-link--multiple js-filter-tree-link ${isActive}" data-value\x3d"${value}"\x3e${icons.inline.check.16}${value}\x3cspan class\x3d"filter-tree-count margin-left-quarter inline-block no-pointer hide"\x3e${countLabel}\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterStatus.html":'\x3cdiv class\x3d"padding-left-1 inline-block flex-1 filter-chip-wrap hide" data-dojo-attach-point\x3d"filterChipWrap"\x3e\r\n    \x3cspan class\x3d"font-size--2 margin-right-half filter-chips-label"\x3e${i18n.GroupWidget.filters}\x3c/span\x3e\r\n    \x3cspan class\x3d"margin-right-half break-word filter-chips" data-dojo-attach-point\x3d"filterChips"\x3e\x3c/span\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-off-black font-size--2 filter-clear-all" data-dojo-attach-point\x3d"clearAll"\x3e${i18n.GroupWidget.clearAll}\x3c/a\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterChip.html":'\x3cspan class\x3d"filter-chip margin-right-half js-filter-chip" data-filter\x3d"${filter.param}" data-value\x3d"${selected.value}"\x3e\r\n  \x3cspan class\x3d"filter-chip-text"\x3e${filter.chipText} ${selected.label}\x3c/span\x3e\r\n  \x3cbutton\r\n    class\x3d"filter-chip--remove js-filter-chip-remove"\r\n    data-filter\x3d"${filter.param}"\r\n    data-value\x3d"${selected.value}"\r\n    aria-label\x3d"${i18n.FilterDlg.removeFilterBtn}: \'${filter.chipText} ${selected.simpleLabel}\'"\r\n  \x3e${icons.x.16}\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterBBox/FilterBBox.html":'\x3cdiv  style\x3d"width: 100%" class\x3d"js-filter-bbox" id\x3d"filterBBox"\x3e\x3c/div\x3e  \r\n',"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategory.html":'\x3cdiv\x3e\r\n  \x3c!-- if categories exist --\x3e\r\n  \x3cdiv class\x3d"js-category-filter hide"\x3e\r\n    \x3cul class\x3d"filter-tree js-uncategorized" role\x3d"tree"\x3e\x3c/ul\x3e\r\n    \x3cul class\x3d"filter-tree js-category-root position-relative" role\x3d"tree"\x3e\x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- if no categories but user is able to set up --\x3e\r\n  \x3cdiv class\x3d"padding-left-1 padding-right-1 js-no-categories-action hide"\x3e\r\n    \x3ch5 class\x3d"font-size-0 avenir-regular leader-half trailer-quarter"\x3e${noCategoriesText}\x3c/h5\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half"\x3e${filterDescription}\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small btn-wrap btn-clear trailer-half js-setup-categories"\x3e${setupText}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Category.html":'\x3cli class\x3d"js-filter-tree-item filter-tree-item-single filter-tree-item ${isActive} ${isParent}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${title}" class\x3d"filter-tree-link js-filter-tree-link" data-category-name\x3d"${title}" data-category-path\x3d"${path}" data-category-description\x3d"${description}"\x3e\r\n    ${title}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"${normalizedPath}"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Uncategorized.html":'\x3cli class\x3d"js-filter-tree-item-uncategorized filter-tree-item-single filter-tree-item"\x3e\r\n  \x3ca href\x3d"#" class\x3d"js-filter-tree-link-uncategorized filter-tree-link"\x3e\r\n    ${i18n.contentCategories.uncategorized}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"_none_"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/FilterCategory/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"group"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/FilterCategory/templates/EditSchemaButton.html":'\x3cbutton class\x3d"js-edit-categories btn-link btn-link-off-black margin-left-1 font-size--3 inline-block tooltip hide" aria-label\x3d"${contentCategoriesStrings.configureCategories}"\x3e${icons.edit.16}\r\n\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/CategoryEdit.html":'\x3cdiv class\x3d"grid-container"\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-content-loading is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-category-wrapper hide"\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-setup-explanation hide"\x3e\r\n      \x3cnav class\x3d"category-setup-options js-standard-categories-nav"\x3e\r\n        \x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option is-active" data-category-set\x3d"custom"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.contentCategories.customTitle}\x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--3 trailer-0"\x3e${i18n.contentCategories.customText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-14 pre-1 post-1 leader-1 trailer-1"\x3e\r\n      \x3cdiv class\x3d"js-category-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-edit-explanation"\x3e\r\n      \x3cp\x3e${i18n.contentCategories.editCategorySchemaExplanation}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Node.html":'\x3cli class\x3d"category-editor-item category-editor-item__offset ${isOpen} ${isParent} js-category-edit-li" role\x3d"treeitem" data-category-path\x3d"${path}"\x3e\r\n  \x3cbutton class\x3d"category-editor-expand category-edit-expand__absolute js-toggle-item"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n      \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n      \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n      \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cspan class\x3d"category-edit-item js-category-edit-item" data-current-category\x3d"${title}"\x3e\r\n    \x3cspan class\x3d"category-edit-item--title js-category-edit-title"\x3e${title} \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path:lowerCase}"\x3e\x3c/span\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"category-edit-item--actions js-category-edit-actions inline-block right if-renameDeleteFromSchema"\x3e\r\n      \x3cbutton class\x3d"tooltip category-edit-item--action js-category-edit-button" aria-label\x3d"${i18n.contentCategories.editCategory}"\x3e\r\n        ${icons.edit.16}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"tooltip tooltip-bottom-right category-edit-item--action category-edit-item--action--delete js-category-delete-button" aria-label\x3d"${i18n.contentCategories.deleteCategory}"\x3e\r\n        ${icons.trash.16}\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3cform class\x3d"category-edit-form flex js-category-edit-form"\x3e\r\n      \x3clabel class\x3d"flex-1 overflow-visible trailer-0" for\x3d"category-editor-${title:hyphenate}-input"\x3e\r\n        \x3cspan class\x3d"screen-readers-only"\x3e${i18n.contentCategories.categoryName}\x3c/span\x3e\r\n        \x3cinput id\x3d"category-editor-${title:hyphenate}-input" type\x3d"text" value\x3d"${title}" class\x3d"js-category-item-input category-edit-form__input"\x3e\r\n        \x3cdiv class\x3d"js-category-item-input-error input-error-message"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cspan class\x3d"category-edit-form__actions"\x3e\r\n        \x3cbutton class\x3d"js-category-edit-submit tooltip tooltip-bottom btn-link category-edit-form__action category-edit-form__action--green" type\x3d"submit" disabled aria-label\x3d"${saveText}"\x3e${icons.check.24}\x3c/button\x3e\r\n        \x3cbutton class\x3d"js-category-cancel-edit tooltip tooltip-bottom btn-link category-edit-form__action" aria-label\x3d"${i18n.common.cancel}"\x3e${icons.x.24}\x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/form\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"category-edit--delete-warning category-edit--messaging js-category-edit-delete-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-explanation font-size--1 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-red btn-small js-delete-confirm"\x3e${i18n.contentCategories.deleteCategory}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-delete"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--edit-warning category-edit--messaging js-category-edit-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-0"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-edit-explanation font-size--2 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small js-edit-confirm"\x3e${i18n.contentCategories.continue}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-edit calcite-web-btn calcite-web-btn-clear"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--loader category-edit--messaging js-category-loader hide"\x3e\r\n    \x3ch4 class\x3d"trailer-half font-size-1"\x3e${i18n.contentCategories.updating}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.contentCategories.noNavigate}\x3c/p\x3e\r\n    \x3cdiv class\x3d"progress-bar leader-1 margin-left-0"\x3e\r\n      \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-category-loader-bar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"js-loading-message font-size--2 leader-half padding-left-1 text-right"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Group.html":'\x3cul role\x3d"group" class\x3d"category-editor-group category-editor-group--spaced js-category-group"\x3e\r\n  ${categories}\r\n  \x3cbutton class\x3d"js-add-sibling category-editor-add-sibling tooltip tooltip-right" aria-label\x3d"${ariaText}" data-category-path\x3d"${path}"\x3e\r\n    \x3csvg class\x3d"category-editor-add-sibling-icon" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"20" height\x3d"20" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath fill\x3d"#828282" d\x3d"M12 8.57H8.572V12H7.429V8.57H4V7.428h3.429V4h1.144v3.428H12V8.57z"/\x3e\r\n      \x3ccircle fill\x3d"none" stroke\x3d"#828282" stroke-miterlimit\x3d"10" stroke-dasharray\x3d"1.9519,0.9759" cx\x3d"8" cy\x3d"8" r\x3d"7"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/ul\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/_count.html":'\x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path}"\x3e(${num})\x3c/span\x3e',"url:arcgisonline/pages/dijit/CategoryEdit/templates/_standard.html":'\x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option" data-category-set\x3d"${key}"\x3e\r\n  \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e\r\n    ${title}\r\n    \x3ca href\x3d"${helpBase}${helpLink}" aria-label\x3d"${i18n.addItemFrm.learnMore}" class\x3d"tooltip right" target\x3d"_blank"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M11.5 1A10.5 10.5 0 1 0 22 11.5 10.499 10.499 0 0 0 11.5 1zm0 20.1a9.6 9.6 0 1 1 9.6-9.6 9.61 9.61 0 0 1-9.6 9.6zM13 18h-3v-1h1V8h1v9h1zM11.5 6.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM12 9h-2V8h2z"/\x3e\x3c/svg\x3e\r\n    \x3c/a\x3e\r\n  \x3c/h4\x3e\r\n  \x3cp class\x3d"font-size--3 trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterSingleWithSearch/templates/FilterSingleWithSearch.html":'\x3csection class\x3d"accordion-section ${activeClass} ${cssClasses}"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e${!icons.chevron-down.16}${title}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n          \x3cinput class\x3d"filters--accordion--input" type\x3d"search" data-dojo-attach-point\x3d"_searchInput" placeholder\x3d"${searchText}" aria-label\x3d"${searchText}"\x3e\r\n      \x3c/div\x3e\r\n    \x3cdiv class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"  data-dojo-attach-point\x3d"_filterList"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollaboration/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} ${addClass} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}" data-parent\x3d"${childOf}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollaboration/templates/FilterEmpty.html":'\x3cdiv class\x3d"filter-tree-link"\x3e${noOptionsMessage}\x3c/div\x3e',"url:arcgisonline/pages/dijit/ToggleSwitch/templates/ToggleSwitch.html":'\x3clabel class\x3d"toggle-switch clearfix ${labelClasses} ${hasTooltip}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"toggle-switch-input" aria-label\x3d"${label}" data-dojo-attach-point\x3d"_checkbox"\x3e\r\n  \x3cspan class\x3d"toggle-switch-track ${direction}" data-dojo-attach-point\x3d"toggleTrack"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"inline-block margin-${direction}-half toggle-switch-label ${tooltipClass} padding-leader-quarter padding-trailer-quarter" data-dojo-attach-point\x3d"_label"\x3e\r\n    \x3cspan class\x3d"toggle-switch-label--text" data-dojo-attach-point\x3d"labelWrapper"\x3e${!label}\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loaderContainer" class\x3d"toggle-switch__loader-container hide"\x3e\r\n    \x3ccalcite-loader scale\x3d"l" inline data-dojo-attach-point\x3d"loader"\x3e\x3c/calcite-loader\x3e\r\n  \x3c/div\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/Favorite/Favorite.html":'\x3cspan\x3e\r\n  \x3cbutton class\x3d"card-action tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.favorite}" data-dojo-attach-point\x3d"button"\x3e\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummary.html":'\x3cdiv class\x3d"share-summary ${directionClass} ${responsiveClass}"\x3e\r\n  \x3cbutton class\x3d"js-share-button share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short"\x3e\r\n    \x3cspan class\x3d"js-icon share-summary__level flex flex-center"\x3e${!levelIcon}\x3c/span\x3e\r\n    \x3cspan class\x3d"js-sharing-plus-icon share-summary__plus"\x3e${!icons.plus.16}\x3c/span\x3e\r\n    \x3cspan class\x3d"share-summary__group share-summary__group--unknown"\x3e\r\n      ${!icons.users.16}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummaryOverflow.html":'\x3cspan class\x3d"share-summary__overflow"\x3e\x26#43;${num}\x3c/span\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPicker.html":'\x3cdiv class\x3d"${containerClass}"\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half flex js-member-picker-header"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size--1 flex-1" id\x3d"folder-picker-label"\x3e${i18n.changeOwner.selectFolder}\x3c/h4\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black right js-folder-picker-cancel"\x3e\r\n      ${i18n.common.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput\r\n    class\x3d"member-picker-search js-search-input"\r\n    placeholder\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-label\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-controls\x3d"folder-results-list"\r\n    type\x3d"search"\r\n    autocomplete\x3d"off"\r\n  /\x3e\r\n\r\n  \x3cul\r\n    class\x3d"js-member-picker-results folder-picker-results member-picker-results--border"\r\n    id\x3d"folder-results-list"\r\n    role\x3d"menu"\r\n    aria-labelledby\x3d"folder-picker-label"\r\n    data-dojo-attach-point\x3d"_resultsDropdown"\r\n  \x3e\r\n    \x3cli class\x3d"folder-list-item js-no-folder hide" data-title\x3d"no-folder" role\x3d"none"\x3e\r\n      \x3cspan\r\n        class\x3d"folder-list-link folder-list-link--expanded"\r\n        data-id\x3d"no-folder"\r\n        data-title\x3d"no-folder"\r\n        role\x3d"menuitem"\r\n        aria-selected\x3d"false"\r\n        data-dojo-attach-point\x3d"_folderLink"\r\n      \x3e\r\n        ${i18n.folderDlg.noFolders}\r\n        \x3cbutton class\x3d"js-create-folder-inline create-folder-inline-link btn-link font-size--2"\x3e\r\n          ${i18n.folderDlg.noFolderLabel}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/li\x3e\r\n  \x3c/ul\x3e\r\n  \x3cbutton\r\n    class\x3d"js-create-new-folder btn-link btn-link-dark-blue padding-leader-quarter padding-trailer-quarter leader-half padding-left-half padding-right-half font-size--2"\r\n  \x3e\r\n    ${!icons.inline.folder-plus.16} ${i18n.changeOwner.createNewFolder}\r\n  \x3c/button\x3e\r\n  \x3cform class\x3d"hide js-create-folder-form position-relative leader-half"\x3e\r\n    \x3cinput\r\n      class\x3d"folder-list-link folder-list-link--large leader-0 trailer-0 js-create-folder-input"\r\n      type\x3d"text"\r\n      maxlength\x3d"125"\r\n      value\x3d""\r\n      placeholder\x3d"${i18n.changeOwner.enterFolderName}"\r\n      aria-label\x3d"${i18n.changeOwner.enterFolderName}"\r\n    /\x3e\r\n    \x3cspan class\x3d"change-owner-new-folder-icon"\x3e${!icons.inline.folder-plus.16}\x3c/span\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.save}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show folder-list-action--green folder-list-action--left js-folder-create-save"\r\n      type\x3d"submit"\r\n    \x3e\r\n      ${!icons.check.24}\r\n    \x3c/button\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.cancel}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show js-folder-create-cancel"\r\n    \x3e\r\n      ${!icons.x.24}\r\n    \x3c/button\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"js-create-folder-error-message input-error-message"\x3e\r\n    ${i18n.folderDlg.passwordMin}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPickerRow.html":'\x3cli class\x3d"folder-list-item" data-title\x3d"${folder.title}" role\x3d"none"\x3e\r\n  \x3cspan \r\n    class\x3d"folder-list-link folder-list-link--expanded" \r\n    data-id\x3d"${folder.id}"\r\n    data-title\x3d"${folder.title}"\r\n    role\x3d"menuitem"\r\n    aria-selected\x3d"false"\r\n    data-dojo-attach-point\x3d"_folderLink"\x3e\r\n    ${!folderIcon}${folder.title}\r\n  \x3c/span\x3e\r\n\x3c/li\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/ChangeOwner.html":'\x3cdiv class\x3d"change-owner-container padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-owner-area visibility-hidden"\x3e\r\n      \x3ch4 class\x3d"font-size--1 js-item-owner-label"\x3e${i18n.changeOwner.itemOwner}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex change-owner-card js-owner-edit input-error--no-icon"\x3e\r\n        \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 js-fullname"\x3eFullname\x3c/h4\x3e\r\n          \x3cp class\x3d"trailer-0 font-size--2 js-username"\x3eUsername\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black change-owner-card-edit js-owner-edit-button"\r\n          aria-label\x3d"${i18n.changeOwner.title}"\r\n        \x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cp class\x3d"input-error-message js-member-select-error position-absolute"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-member-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-area visibility-hidden leader-1"\x3e\r\n      \x3ch4 class\x3d"font-size--1"\x3e${i18n.changeOwner.folder}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex trailer-2 change-owner-card js-folder-edit"\x3e\r\n        \x3cdiv class\x3d"flex-0 js-folder-icon"\x3e${icons.inline.folder.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 js-folder-name"\x3e${i18n.folderDlg.noFolderLabel}\x3c/h4\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black change-owner-card-edit js-folder-edit-button" aria-label\x3d"${i18n.changeOwner.title}"\x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-picker hide"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/MoveItem.html":'\x3cdiv class\x3d"padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.updating}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-folder-picker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/SaveItem.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.titleLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTitle"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextTitle}" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half clearfix"\x3e\r\n    ${i18n.tagsLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTagsContainer"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"categories-container"\x3e\r\n    \x3clabel class\x3d"calcite-web-label trailer-0 clearfix categories-container"\r\n      data-dojo-attach-point\x3d"saveItemCategoriesContainer"\r\n      for\x3d"saveItemCategoryPicker"\x3e\r\n      ${i18n.categoriesLabel}\r\n    \x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemCategories" id\x3d"saveItemCategoryPicker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.summaryLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemSummary"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextSummary}" maxlength\x3d"250" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-select" for\x3d"itemFolderComboBox"\x3e\r\n    ${i18n.saveInFolderLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemFolder"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n         id\x3d"itemFolderComboBox"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExportDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"exportDialog" id\x3d"export-dialog" title\x3d"${i18n.exportDialogTitle}" execute\x3d""\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemForm"\x3e\x3c/div\x3e\r\n    \x3cfieldset data-dojo-attach-point\x3d"featureCollectionDiv" class\x3d"featureCollectionOnly hide"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"generalizeChk" name\x3d"generalize"\x3e${i18n.generalize}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"generalize" checked\x3e${i18n.keepOrig}\x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_message" class\x3d"break_word"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"exportingLabel" style\x3d"visibility:hidden;"\x3e${i18n.exportingLabel}\x3c/span\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" type\x3d"button" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn" type\x3d"button" data-dojo-attach-point\x3d"exportBtn"\x3e${i18n.exportLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/DefineExtent.html":'\x3cdiv\x3e\r\n  \x3cspan\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin05 extent-search backward-compatible-extent-search inline-block" data-dojo-attach-point\x3d"_extentSearchContainer"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"calcite secondary btn btn-blue small right" id\x3d"extent-dlg-draw-button" data-dojo-attach-point\x3d"_buttonSetExtent"\x3e\r\n      ${i18n.drawExtent}\r\n    \x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv id\x3d"extent-map-container" style\x3d"width:500px; max-width: 100%; height:340px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"inline-block leader-half"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input inline-block" id\x3d"extent-left" data-dojo-attach-point\x3d"_extentLeft"\r\n           data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-right" data-dojo-attach-point\x3d"_extentRight" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr\x3e\r\n  \x3cdiv class\x3d"inline-block"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-top" data-dojo-attach-point\x3d"_extentTop" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-bottom" data-dojo-attach-point\x3d"_extentBottom" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExtentDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"extent-dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"right esriFloatTrailing margin-right-1 extent-ltr-margin-right-0"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"cancel"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_okBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"primary"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\r\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html":'\x3cdiv\x3e\r\n  \x3cdiv id\x3d"rateLimiting" class\x3d"rateLimiting"\x3e\r\n    \x3cp\x3e${i18n.rateLimiting.instructions}\x3c/p\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_enableLimits" type\x3d"checkbox" value\x3d"true" name\x3d"enableRateLimiting"/\x3e\r\n    \x3clabel class\x3d"esriLeadingMargin05 esriTrailingMargin1 inline-block trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.hitRate}\x3c/label\x3e\r\n    \x3cdiv class\x3d"rateLimitingDiv esriLeadingMargin108 clearfix"\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1000"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitRate"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\',constraints:{min:1, max:1000000, places:0}" /\x3e\r\n      \x3clabel class\x3d"canDisable esriLeadingMargin1 esriTrailingMargin1 inline-block left leader-half trailer-0 padding-right-half" for\x3d"referrerUri"\x3e\r\n        ${i18n.rateLimiting.per}\r\n      \x3c/label\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitCount"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\', constraints:{min:1, max:1000000, places:0}"/\x3e\r\n\r\n      \x3cselect class\x3d"esriUnits left inline-block" data-dojo-attach-point\x3d"_interval" data-dojo-type\x3d"dijit/form/Select" data-dojo-props\x3d"disabled:true" style\x3d"width:8.75em;"\x3e\r\n        \x3coption value\x3d"1"\x3e${i18n.rateLimiting.second}\x3c/option\x3e\r\n        \x3coption value\x3d"60"\x3e${i18n.rateLimiting.minute}\x3c/option\x3e\r\n        \x3coption value\x3d"3600"\x3e${i18n.rateLimiting.hour}\x3c/option\x3e\r\n        \x3coption value\x3d"86400"\x3e${i18n.rateLimiting.day}\x3c/option\x3e\r\n        \x3coption value\x3d"604800"\x3e${i18n.rateLimiting.week}\x3c/option\x3e\r\n        \x3coption value\x3d"2628000"\x3e${i18n.rateLimiting.month}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3clabel class\x3d"esriTrailingMargin05 trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.referrerUri}\x3c/label\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cinput data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_referrerUrl" data-dojo-props\x3d"placeHolder:\'${i18n.registerApp.urlPlaceHolder}\'" type\x3d"text" class\x3d"left referrerUrl"/\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_delBtn" data-dojo-props\x3d"disabled:true, label:\'${i18n.registerApp.del}\'"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_addBtn" data-dojo-props\x3d"label:\'${i18n.registerApp.add}\'"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin93 trailer-half referralUris" data-dojo-type\x3d"dijit/form/MultiSelect" data-dojo-attach-point\x3d"_referrers" data-dojo-props\x3d"size:4, name:\'referral_uris\'"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/UploadProgressBar/UploadProgressBar.html":'\x3cdiv class\x3d"upload-progress-bar flex-1 flex-column-justify-center margin-right-1 margin-left-half position-relative"\x3e\r\n  \x3cdiv class\x3d"progress-bar"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill" data-dojo-attach-point\x3d"_uploadProgressFill"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--3 upload-percent-label" data-dojo-attach-point\x3d"_uploadPercentLabel"\x3e0%\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e \r\n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\r\n\x3c/span\x3e\r\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:esri/dijit/VisibleScaleRangeSlider/templates/ScaleMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.section}"\x3e\r\n    \x3cdiv class\x3d"${css.header}"\x3e${labels.current}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_currentScaleLabel" class\x3d"${css.item} ${css.current}"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_scaleInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${css.input}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"${css.section}" data-dojo-attach-point\x3d"dap_recommendedScaleSection"\x3e\r\n    \x3cdiv class\x3d"${css.header}" data-dojo-attach-point\x3d"dap_scaleListHeader"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3col data-dojo-attach-point\x3d"dap_recommendedScales" class\x3d"${css.list}"\x3e\r\n        \x3cli data-dojo-attach-point\x3d"dap_mapScaleItem" class\x3d"${css.item} ${css.selectable}"\x3e\x3c/li\x3e\r\n        \x3c!--additional list items added dynamically--\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/dijit/VisibleScaleRangeSlider/templates/ScalePreview.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.header}"\x3e${labels.preview}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_scalePreviewThumbnail" class\x3d"${css.thumbnail}"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\r\n  \x3cp data-dojo-attach-point\x3d"_message"\x3e\x3c/p\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_itemPropertiesDlg"  data-dojo-type\x3d"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg" data-dojo-props\x3d"typeInfo:\'${_typeInfo}\', showFile:false, showUrl:false, showFolders:${showFolders}"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sceneProperties hide"\x3e\r\n      \x3cdiv class\x3d"sceneDataDisplay hide"\x3e\r\n          \x3cdiv\x3e${i18n.publishTileServiceDlg.displayInLbl}\x3c/div\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-globalWkid" data-dojo-attach-point\x3d"_globalWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"global"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_globalWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-localWkid" data-dojo-attach-point\x3d"_localWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"local"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_localWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"sceneMultipatch hide"\x3e\r\n        \x3clabel\x3e\r\n          \x3cinput id\x3d"${id}-enableUpdates" data-dojo-attach-point\x3d"_enableSceneUpdates" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" value\x3d"true"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_enableSceneUpdatesLabel"\x3e${i18n.publishTileServiceDlg.enableUpdates}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilePropertiesContainer"\x3e\r\n    \x3clabel\x3e${i18n.publishTileServiceDlg.tileSchemeLabel}\x3c/label\x3e\r\n    \x3cdiv class\x3d"tilePropertiesRadios"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-agoBasemap" data-dojo-attach-point\x3d"_agoBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"ago"\x3e${i18n.publishTileServiceDlg.matchAGOLBasemaps}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-custom" data-dojo-attach-point\x3d"_customBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"custom"\x3e${i18n.publishTileServiceDlg.matchOwnBasemap}\r\n      \x3c/label\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"_customBasemapUrl" class\x3d"custom esriLeadingMargin2" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"disabled:true,placeholder:\'${i18n.publishTileServiceDlg.tileSchemePlaceholder}\'"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilesOnDemandContainer"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-tilesOnDemand" data-dojo-attach-point\x3d"_tilesOnDemand" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.enableTilesOnDemand}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"visibleScaleRange hide"\x3e\r\n      \x3clabel class\x3d"tileRange"\x3e${i18n.publishTileServiceDlg.scaleRangeLabel}\x3c/label\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_visibleScaleRangeContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader js-visible-range-loader overlay-white position-relative hide" data-dojo-attach-point\x3d"_visibleRangeLoader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text hide" data-dojo-attach-point\x3d"_visibleRangeLoaderMsg"\x3e${!i18n.common.loading}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_increaseScaleWarning"\x3e\r\n      ${i18n.publishTileServiceDlg.increaseScaleWarning}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"vectorTileProperties leader-half hide" data-dojo-attach-point\x3d"_selectAttributesContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_selectAttributesBtn"\x3e${i18n.itemProperties.configureAttributes.selectAttributes}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"viewProperties hide"\x3e\r\n    \x3clabel\x3e ${i18n.publishTileServiceDlg.createViewOptionsLabel}\x3c/label\x3e\r\n    \x3clabel\x3e\r\n      \x3cinput id\x3d"${id}-preserveIds" data-dojo-attach-point\x3d"_preserveIds" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.preserveLayerIds}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\r\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptions.html":'\x3cdiv class\x3d"advanced-offline-options grid-container js-accordion"\x3e\r\n  \x3csection class\x3d"accordion-section is-active"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-attachments-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-1 avenir-demi"\x3e${i18n.itemProperties.advancedOptions.editableFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"featuresAndAttachments" data-sync\x3d"syncFeaturesAndAttachments"\r\n            class\x3d"js-editable-features js-edit-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"features"\r\n            data-sync\x3d"syncFeaturesUploadAttachments" class\x3d"js-editable-features js-edit-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesOnly}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"none"\r\n            data-sync\x3d"uploadFeaturesAndAttachments" class\x3d"js-editable-features js-edit-none"\x3e\r\n          ${i18n.itemProperties.advancedOptions.neverGetUpdates}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half avenir-demi"\x3e${i18n.itemProperties.advancedOptions.readonlyFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"true"\r\n            class\x3d"js-readonly-features js-readonly-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"false"\r\n            class\x3d"js-readonly-features js-readonly-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.readonlyFeaturesOnly}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsFootNote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3csection class\x3d"accordion-section is-active leader-1"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e ${i18n.itemProperties.advancedOptions.tilePackageTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-package-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.tilePackageDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"webmap" class\x3d"js-tile-option js-tile-webmap"\x3e\r\n          ${i18n.itemProperties.advancedOptions.useBasemapInWebmap}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"mobile" class\x3d"js-tile-option js-tile-mobile"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e${i18n.itemProperties.advancedOptions.useTilePackageOnMobile}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half padding-left-2 hide advanced-offline-options__option-input-container js-file-name-container"\x3e\r\n              \x3clabel class\x3d"trailer-0"\x3e\r\n                ${i18n.itemProperties.advancedOptions.packageFileName}\r\n                \x3cinput type\x3d"text" class\x3d"js-tile-mobile-file-name" placeholder\x3d"${i18n.itemProperties.advancedOptions.fileNamePlaceholder}"\x3e\r\n                \x3cdiv class\x3d"input-error-message js-tile-mobile-file-name-error"\x3e\x3c/div\x3e\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"font-size--2"\x3e${i18n.itemProperties.advancedOptions.enterTilePackageFileName}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- hide the third option until Apps team supports it --\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex hide"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"uploaded" class\x3d"js-tile-option js-tile-org"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e\r\n              ${i18n.itemProperties.advancedOptions.useUploadedTilePackage}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"hide leader-half padding-left-2 padding-trailer-1 advanced-offline-options__option-input-container js-tile-search-container"\x3e\r\n              \x3cinput type\x3d"search" class\x3d"input-minimal js-tile-search" placeholder\x3d"${i18n.itemProperties.advancedOptions.findPackage}"\x3e\r\n              \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3cdiv class\x3d"advanced-offline-options__search-results trailer-1 js-search-results"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.tilePackageFootnote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3cdiv class\x3d"position-relative js-update-loader-container advanced-offline-options__loader-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_optionsLoader" class\x3d"loader js-update-loader overlay-white fullscreen"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${i18n.itemProperties.updatingItemLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ca class\x3d"js-learn-more" target\x3d"_blank"\x3e${i18n.itemProperties.advancedOptions.learnMore}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptionSearchItem.html":'\x3cbutton class\x3d"btn-link flex advanced-offline-options__search-result-item"\x3e\r\n    \x3cdiv class\x3d"margin-right-half"\x3e\r\n        \x3cimg src\x3d"js/arcgisonline/img/item-types/tilepackage16.svg" class\x3d"advanced-offline-options__search-result-item-img"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-1 advanced-offline-options__search-result-item-title"\x3e${title}\x3c/div\x3e\r\n\x3c/button\x3e',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/ManageSceneCache.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_optionsContainer"\x3e\r\n    ${i18n.description}\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildFullContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildFullRadio" checked\x3e ${i18n.rebuildFull}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildLayersRadio"\x3e ${i18n.rebuildLayers}\r\n      \x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildPartialContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"_rebuildPartialAttrContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_portalOptionsContainer"\x3e\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalFullRadio"\x3e ${i18n.rebuildFullCache}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"loader js-caching-loader overlay-white position-relative leader-1 padding-trailer-1" data-dojo-attach-point\x3d"_caching"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${!i18n.republishing}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv data-dojo-attach-point\x3d"_sceneLayerSelectContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"_sceneLayerSelectLabel"\x3e${i18n.selectLayers}\x3c/label\x3e\r\n    \x3cdiv class\x3d"scene-layer-list trailer-1" data-dojo-attach-point\x3d"_sceneLayerContainer"\x3e\r\n      \x3c!-- create scene layers here--\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"right inline-block padding-right-1" data-dojo-attach-point\x3d"_buttonBar"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-blue" disabled\x3d"true" data-dojo-attach-point\x3d"_rebuildBtn"\x3e${i18n.rebuildLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JobStatusDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg job-status-dlg" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_statusContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_statusInfo"\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.status}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStatus"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.startTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStartTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.endTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobEndTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.duration}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobDuration"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_jobAdminDetailsContainer"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.machine}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobMachine"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.user}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobUser"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.jobId}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobIdLinkContainer"\x3e\x3ca data-dojo-attach-point\x3d"_jobIdLink" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_jobIdText"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"loader overlay-white position-relative js-status-loader" data-dojo-attach-point\x3d"_statusLoader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${!i18n.awaitingInfo}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-blue" data-dojo-attach-point\x3d"_cancelJobBtn"\x3e${i18n.cancelJob}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/AppendData/templates/_table-row.html":'\x3cdiv class\x3d"table-select-row" role\x3d"row"\x3e\r\n    \x3c!-- Field Name --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-field text-ellipsis"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width display-block"\x3e${displayName}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n    \x3c!-- Match Field --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-matchField text-ellipsis" data-dojo-attach-point\x3d"matchFieldsContainer"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width" data-dojo-attach-point\x3d"matchFieldValue" data-value\x3d"__none"\x3e${!i18n.appendDataDlg.none}\x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"matchFields" class\x3d"leader-0 hide"\x3e\x3c/select\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/loader.html":'\x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 is-active"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${location}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/sharing/dijit/AppendData/templates/_appendData.html":'\x3cdiv\x3e\r\n    \x3csection class\x3d"padding-leader-half content-node append-data"\x3e\r\n\r\n            \x3c!--Step 1--\x3e\r\n            \x3cdiv class\x3d"step-1 hide" data-dojo-attach-point\x3d"step1"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1Title}\x3c/label\x3e\r\n                \x3cul class\x3d"trailer-half"\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet1}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet2}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet3}\x3c/li\x3e\r\n                    \x3cli data-dojo-attach-point\x3d"step1Bullet4"\x3e${i18n.appendDataDlg.messageStep1Bullet4}\x3c/li\x3e\r\n                \x3c/ul\x3e\r\n                \x3cform data-dojo-attach-point\x3d"fileForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n                    \x3clabel\x3e\r\n                        ${i18n.appendDataDlg.fileName}\r\n                        \x3cinput name\x3d"file" type\x3d"file" accept\x3d".zip, .csv, .xls, .xlsx, .geojson" data-dojo-attach-point\x3d"fileInput"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"zipSelect"\x3e\r\n                        ${i18n.appendDataDlg.contents}\r\n                        \x3cselect name\x3d"type" data-dojo-attach-point\x3d"supportedTypes" class\x3d"text-left"\x3e\x3c/select\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/form\x3e\r\n                \x3cp class\x3d"trailer-quarter"\x3e${i18n.appendDataDlg.note}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!--Step 2--\x3e\r\n            \x3cdiv class\x3d"step-2 padding-right-half hide" data-dojo-attach-point\x3d"step2"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${!i18n.appendDataDlg.messageStep2}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"serviceLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseServiceLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"serviceLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"dataLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"dataLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3c!-- Update Existing Features--\x3e\r\n                \x3cdiv class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesLbl}\x3c/div\x3e\r\n                \x3cp class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesMsg}\x3c/p\x3e\r\n                \x3clabel class\x3d"inline-block margin-right-half trailer-half align-middle updateFeatures js-updateFeatures js-attributesOnly"\x3e\r\n                    \x3cinput name\x3d"updateExistingFeatures" type\x3d"checkbox" data-dojo-attach-point\x3d"updateExistingFeatures"/\x3e\r\n                    ${i18n.appendDataDlg.updateExistingFeatures}\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"margin-left-1 updateFeatures js-updateFeatures-container js-updateFeatures"\x3e\r\n                    \x3c!-- UID field matching --\x3e\r\n                    \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.selectFields}\x3c/p\x3e\r\n                    \x3cdiv class\x3d"trailer-half"\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"fromField" class\x3d"margin-right-half inline-block"\x3e\x3c/select\x3e\r\n                        \x3cspan class\x3d"margin-right-half"\x3e${i18n.appendDataDlg.matchesTo}\x3c/span\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"toField" class\x3d"inline-block"\x3e\x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.skipInserts}\r\n                        \x3cinput name\x3d"skipInserts" type\x3d"checkbox" data-dojo-attach-point\x3d"skipInserts"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-updateGeometry js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.updateGeometryOnly}\r\n                        \x3cinput name\x3d"updateGeometry" type\x3d"checkbox" data-dojo-attach-point\x3d"updateGeometry"/\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Table View --\x3e\r\n                \x3cbutton class\x3d"btn-link trailer-half btn-fill" data-value\x3d"false" data-dojo-attach-point\x3d"showFieldMatchingLink"\x3e${i18n.appendDataDlg.showFieldMatching}\x3c/button\x3e\r\n                \x3cdiv class\x3d"js-table-wrap table-select trailer-half js-view hide" role\x3d"table" data-dojo-attach-point\x3d"fieldMatching"\x3e\r\n                    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\r\n                        \x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header is-ascending" aria-sort\x3d"ascending" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.fields}\x3c/button\x3e\x3c/span\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"matchField" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.matchField}\x3c/button\x3e\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Loader --\x3e\r\n            \x3cdiv class\x3d"hide analyze-loader-wrap js-analyze-loader-wrap"\x3e\x3c/div\x3e\r\n\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.chooseArchiveOption}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.chooseArchiveOption}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameScheme}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item stepper__radio-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForArchive}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"replace"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\r\n            \x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/span\r\n          \x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeSwapped}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsBothLayers}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForReplacement}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-replace_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- End radio --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-column"\x3e\r\n        \x3cdiv class\x3d"replace-lyr-preview-label flex flex-space-between"\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.replacementLayer}\x3c/span\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.currentLayer}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.archiveOption}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.chooseArchiveOption}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/img/Archive_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1,.cls-13{fill:none}.cls-1{stroke:#323232;stroke-miterlimit:10}.cls-1,.cls-13,.cls-14{stroke-linecap:round}.cls-2{fill:#323232}.cls-14,.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}.cls-13,.cls-14{stroke:#ff3636;stroke-linejoin:round}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M389.51 132.42c-7 0-14.06 4.57-19.41 13.84M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z" fill\x3d"#ff3636"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5zM198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M228.88 135.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM219.41 140.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM209.94 146l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM281.65 156.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM264.44 166.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM254.97 172l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM234.02 129.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM223.7 135.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM214.23 140.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM173.75 157.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM226.57 188.4l2.6 1.5 16.36-9.44-2.6-1.5-16.36 9.44zM229.86 157.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM244.49 149.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M222.59 169.2a3.88 3.88 0 011.86 2h10.31L219 162.18v5.95a9.28 9.28 0 013.59 1.07zM213.09 169.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"217.85" cy\x3d"171.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 217.85 171.934)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M213.12 174.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM224.45 172.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M350.67 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M350.33 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L294.75 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L406.25 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M320.2 143.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM295.25 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM344.61 186.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM344.45 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM399.69 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M319.5 171.9l19.92 11.5 19.79-11.43-19.92-11.5-19.79 11.43z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M321.07 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM295.25 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM345.48 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM346.18 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM400.56 155.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M338.55 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath fill\x3d"#ffe0e0" d\x3d"M229.17 189.9l-55.42-32 55.08-31.8 55.42 32-55.08 31.8z" opacity\x3d".5"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M232.93 150v-1.73a2.8 2.8 0 00-2.57-2.27h-3.29a2.8 2.8 0 00-2.57 2.27V150"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M235.47 170h-12.94l-2.35-20h17.64l-2.35 20z"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M219.5 149h19v4h-19z"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M223.6 155.6l1.2 12M227.2 155.6l.4 12M230.8 155.6l-.4 12M234.4 155.6l-1.2 12"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.65 87a29.18 29.18 0 011.35-8.41 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"archive-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3ctext class\x3d"archive-lyr-archive-svg" x\x3d"395" y\x3d"137" text-anchor\x3d"start"\x3e${i18n.replaceLayer.archivedSvg}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/img/Replace_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1{fill:none;stroke:#323232;stroke-linecap:round;stroke-miterlimit:10}.cls-2{fill:#323232}.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.68 85.94a30.38 30.38 0 011.32-7.35 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M137.07 82.96l-.68-.74-3.62 3.34-3.07-3.86-.78.63 3.73 4.7 4.42-4.07zM153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"replace-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceSceneLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.replaceSceneLayer.archive}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.replaceSceneLayer.archive}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.coordinateSystem}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.layerTypesShouldMatch}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3c!-- Radio \'checked\' needed for summary --\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n            class\x3d"hide"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-1"\x3e\x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replaceSceneLayer.archiveDetails}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.replaceSceneLayer.updateArchive}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n   \x3cdiv class\x3d"overwriteDialog"\x3e\r\n       \x3cp class\x3d"overwriteInfoText"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoText}\x3c/p\x3e\r\n       \x3cp class\x3d"overwriteInfoNote"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoNote}\x3c/p\x3e\r\n   \x3c/div\x3e \r\n   \x3c!-- Loader --\x3e\r\n   \x3cdiv class\x3d"loader loader-connectDataset is-active hide padding-leader-3 padding-trailer-3"\x3e\r\n     \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n     \x3cdiv class\x3d"loader-text"\x3e${i18n.overwriteFromCloudDlg.defaultLoading}\x3c/div\x3e\r\n   \x3c/div\x3e \r\n \x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultIssue.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUpdated.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUnchanged.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate.html":'\x3cdiv class\x3d"clearfix"\x3e\r\n  \x3cdiv class\x3d"leader-half font-size--1" data-dojo-attach-point\x3d"updateHttpsDesc"\x3e${i18n.itemProperties.updateLayersToHTTPSDesc}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"updateHttpsLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingLayersToHTTPS}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingLayersToHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide update-https-results" data-dojo-attach-point\x3d"updateHttpsResults"\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersWithIssues"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleIssues"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"text-red" data-dojo-attach-point\x3d"issuesTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"issues"\x3e\x3c!-- write out issues here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUpdated"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUpdated"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"updatedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"updated"\x3e\x3c!-- write out updated here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUnchanged"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUnchanged"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"unchangedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"unchanged"\x3e\x3c!-- write out unchanged here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"noChangesMade"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.noLayersToUpdateHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"unexpectedError"\x3e${i18n.itemProperties.errorUpdateHTTPS}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 inline-block esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"okBtn"\x3e${i18n.itemProperties.updateLayers}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"updateDomainDesc"\x3e${i18n.itemProperties.updateDomainDesc}\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"updateDomainContainer"\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-update-select"\x3e\r\n        ${i18n.common.find}\x3cbr\x3e\r\n        \x3cselect class\x3d"select-full" data-dojo-attach-point\x3d"domainSelect" id\x3d"domain-update-select"\x3e\x3c/select\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-replace-input"\x3e\r\n        ${i18n.common.replace}\x3cbr\x3e\r\n        \x3cinput id\x3d"domain-replace-input" data-dojo-attach-point\x3d"domainReplace"\x3e\r\n        \x3cdiv class\x3d"hide input-error-message" data-dojo-attach-point\x3d"domainReplaceError"\x3e\r\n          ${i18n.itemProperties.siteReferenceInvalid}\r\n        \x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"inline-block align-top"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear btn-small" data-dojo-attach-point\x3d"replaceDomainBtn" disabled\x3e${i18n.common.replace}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingDomains}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingDomains}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainFailure"\x3e\r\n    \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainFailureMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainSuccess"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainSuccessMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"layerDetailsContainer"\x3e\r\n    ${i18n.itemProperties.layersWithDomain}\r\n    \x3cdiv class\x3d"font-size--2" data-dojo-attach-point\x3d"layerDetails"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearfix leader-1 esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/Card.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap tooltip" aria-label\x3d"${selectItem}"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-card-select-check-mark" value\x3d"${item.id}" data-id\x3d"${item.id}" ${checked}\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${!item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-quarter flex"\x3e\r\n        \x3cspan class\x3d"js-layers-tables font-size--2"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray card-created" title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center leader-quarter"\x3e\r\n      \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis font-size--2 inline-block"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center flex-justify-end card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/OpenDropdown.html":'\x3cdiv class\x3d"display-block dropdown js-dropdown"\x3e\r\n  \x3cbutton class\x3d"card-action js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false" aria-label\x3d"${i18n.siteHeader.moreOptions}"\x3e\r\n    ${icons.ellipsis-f.16}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-menu-constrained dropdown-right" role\x3d"menu"\x3e\r\n    \x3c!-- Primary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"item.html?id\x3d${item.id}${telemetryParams:empty}" class\x3d"dropdown-link"\x3e${i18n.itemLinks.viewDetails}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-pdf js-action" data-action\x3d"download"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3cbutton role\x3d"menuitem" class\x3d"dropdown-link js-item-categorize if-allow-categorization"\x3e${i18n.items.categorize}\x3c/button\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-file if-download js-action" data-action\x3d"download"\x3e${i18n.itemLinks.download}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-explorer js-action" data-action\x3d"download"\x3e${i18n.itemLinks.openExplorer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadStyleUrl:empty}" class\x3d"dropdown-link if-resources"\x3e${i18n.itemLinks.downloadStyle}\x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-map-viewer-classic"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapNewViewerUrl:empty}" data-href\x3d"${item.mapNewViewerUrl:empty}" class\x3d"dropdown-link if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.addToNewViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemProperties.openViewerFullEditingRole}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"if-map-viewer-modern"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewerWithControl}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"if-geoBIM"\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.geoBIMUrl:empty}" class\x3d"dropdown-link if-create-GeoBIM"\x3e${i18n.itemLinks.openGeoBIM}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene if-3d"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.url:empty}" target\x3d"_blank" class\x3d"dropdown-link if-app"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-mobile"\x3e${i18n.itemLinks.getApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-link"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workforceViewerUrl:empty}" class\x3d"dropdown-link if-workforceProject-and-not-blocked"\x3e${i18n.itemLinks.openWorkforce}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workflowViewerUrl:empty}"  class\x3d"dropdown-link if-workflow"\x3e${i18n.itemLinks.openWorkflow}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyViewerUrl:empty}" class\x3d"dropdown-link if-surveyFormBrowser-and-not-blocked"\x3e${i18n.itemLinks.openSurveyBrowser}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyAppUrl:empty}" class\x3d"dropdown-link if-surveyForm-and-not-blocked"\x3e${i18n.itemLinks.openSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyManageUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.manageSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyEditUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.editSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.insightsViewerUrl:empty}" class\x3d"dropdown-link if-insights-and-not-blocked"\x3e${i18n.itemLinks.openInsights}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.urbanViewerUrl:empty}" class\x3d"dropdown-link if-urbanModel"\x3e${i18n.itemLinks.openUrbanModel}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.orthoMakerUrl:empty}" class\x3d"dropdown-link if-orthoMaker"\x3e${i18n.itemLinks.openOrthoMaker}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.missionViewerUrl:empty}" class\x3d"dropdown-link if-mission"\x3e${i18n.itemLinks.openMission}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.geoAIStudioUrl:empty}" class\x3d"dropdown-link if-geoAIStudioProject"\x3e${i18n.itemLinks.openGeoAIStudio}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubInitiativeUrl:empty}" class\x3d"dropdown-link if-hubInitiative-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubEventUrl:empty}" class\x3d"dropdown-link if-hubEvent-and-not-blocked"\x3e${i18n.itemLinks.viewInHub}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectEditUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.editHubProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotViewerUrl:empty}" class\x3d"dropdown-link if-bigDataAnalytic if-realTimeAnalytic"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotFeedUrl:empty}" class\x3d"dropdown-link if-feedLayer"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.vrExperienceUrl:empty}" class\x3d"dropdown-link if-vrExperience-and-not-blocked js-hide-portal"\x3e${i18n.itemLinks.openVRExperience}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.cityEngineViewerUrl:empty}" class\x3d"dropdown-link if-city-engine"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburViewerUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburProjectUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.viewExcaliburProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburMediaUrl:empty}" class\x3d"dropdown-link if-excaliburMedia"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-dashboard-and-not-blocked"\x3e${i18n.itemLinks.dashboardView}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardEditUrl:empty}" class\x3d"dropdown-link if-can-edit-dashboard"\x3e${i18n.itemLinks.dashboardEdit}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.fieldMapsUrl:empty}" class\x3d"dropdown-link if-fieldMaps"\x3e${i18n.itemLinks.fieldMaps}\x3c/a\x3e\r\n    \x3cdiv class\x3d"if-notebookServer-enabled"\x3e\r\n      \x3cspan class\x3d"if-can-create-notebooks"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.notebookViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-notebook"\x3e${i18n.itemLinks.openNotebook}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- Web Experience Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperience-and-not-blocked" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperience"\x3e${i18n.common.edit}\x3c/a\x3e\r\n\r\n    \x3c!-- Web Experience Template Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperienceTemplate-and-not-blocked"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperienceTemplate"\x3e${i18n.common.edit}\x3c/a\x3e\r\n    \x3cspan class\x3d"if-published-webExperienceTemplate-and-not-blocked"\x3e\r\n      \x3ca href\x3d"${item.webExperienceCreateUrl:empty}" class\x3d"dropdown-link if-can-create-webExperienceTemplate if-published-webExperienceTemplate-and-not-blocked if-no-public-user js-open-btn"\x3e${i18n.itemLinks.createWebExperience}\x3c/a\x3e\r\n    \x3c/span\x3e\r\n\r\n    \x3c!-- Secondary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.wabEditUrl:empty}" class\x3d"dropdown-link if-can-edit-wab-and-not-blocked"\x3e${i18n.itemLinks.editApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene-2"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openDesktop}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openArcMap}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-pro if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"pro"\x3e${i18n.itemLinks.openPro}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-no-presentation if-map"\x3e${i18n.siteHeader.createPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openPresentationUrl:empty}" class\x3d"dropdown-link if-presentation"\x3e${i18n.siteHeader.viewPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-create-presentation"\x3e${i18n.siteHeader.editPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureUrl:empty}" class\x3d"dropdown-link if-can-configure"\x3e${i18n.itemProperties.configureApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.viewStyleUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-vectorTile if-viewStyle"\x3e${i18n.itemLinks.viewStyle}\x3c/a\x3e\r\n\r\n    \x3c!-- Storymap Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureStoryMapUrl:empty}" class\x3d"dropdown-link if-editable-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.editStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.editStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.storyMapViewerUrl:empty}" class\x3d"dropdown-link if-published-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.viewStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.viewStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-published-storymap-theme"\x3e\r\n      \x3ca\r\n        class\x3d"dropdown-link"\r\n        href\x3d"${item.newStoryMapFromThemeUrl:empty}"\r\n      \x3e\r\n        ${i18n.itemLinks.newStoryFromTheme}\r\n      \x3c/a\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.newStoryMapCollectionFromThemeUrl:empty}" class\x3d"dropdown-link"\x3e\r\n        ${i18n.itemLinks.newCollectionFromTheme}\r\n      \x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3ca\r\n      href\x3d"${item.configureStoryMapThemeUrl:empty}"\r\n      class\x3d"dropdown-link if-editable-storymap-theme"\r\n    \x3e\r\n      ${i18n.itemLinks.editStorymapTheme}\r\n    \x3c/a\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/OrgPopup/OrgPopup.html":'\x3cdiv\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"hide popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"profile-popup__loader loader"\x3e\r\n    \x3cdiv class\x3d"profile-popup__loader-bars loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-left" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"profile-popup__top-section flex flex-align-center"\x3e\r\n      \x3cimg src\x3d"${item.verified.thumbnail}" class\x3d"profile-popup__org-thumbnail margin-right-1"\x3e\r\n      \x3cdiv class\x3d"flex-1 font-size-1 avenir-demi"\x3e\r\n        ${item.verified.name}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"profile-popup__org-bottom" data-dojo-attach-point\x3d"bottomSection"\x3e\r\n      \x3cdiv class\x3d"profile-popup__bio-container" data-dojo-attach-point\x3d"descContainer"\x3e\r\n        \x3cp class\x3d"profile-popup__bio-section trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n        \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-popup__more-toggle" data-dojo-attach-point\x3d"descToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3ca href\x3d"${item.verified.url}"  target\x3d"_blank"\x3e${i18n.myOrganization.homeTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n        \x3ca href\x3d"${item.verified.url}gallery.html"  target\x3d"_blank" class\x3d"margin-left-1"\x3e${i18n.myOrganization.galleryTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/MinimalCard.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}" tabindex\x3d"0"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center" tabindex\x3d"0"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3ca data-dojo-attach-point\x3d"thumbLink" href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size-0 leader-quarter trailer-quarter text-ellipsis avenir-bold"\x3e\x3ca data-dojo-attach-point\x3d"titleLink" class\x3d"card-title-link minimal-card__title-link display-block text-ellipsis" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2"\x3e${item.displayName:formatDisplayName}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CardMobile/CardMobile.html":'\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"js-card block card card-mobile trailer-half" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size-1"\x3e${item.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half flex"\x3e\r\n      \x3cspan class\x3d"flex-0"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cspan class\x3d"left inline-block margin-right-1 margin-left-0 font-size--3 text-darker-gray"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 16 16" width\x3d"16" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n          \x3cpath fill\x3d"currentColor" d\x3d"M8 7h3v1H7V3h1zm4.803 5.803a7.5 7.5 0 1 1 0-10.606 7.5 7.5 0 0 1 0 10.606zm-.636-9.97A6.591 6.591 0 0 0 .927 7H2v1H.927A6.567 6.567 0 0 0 7 14.073v-1.38h1v1.38a6.591 6.591 0 0 0 4.167-11.24z"/\x3e\r\n        \x3c/svg\x3e\r\n        ${item.modified:fullDate}\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"right inline-block card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/CardWide/CardWide.html":'\x3cdiv\r\n  class\x3d"js-card block card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} card-wide trailer-1"\r\n  data-id\x3d"${item.id}"\r\n\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap"\x3e\r\n    \x3cinput\r\n      type\x3d"checkbox"\r\n      class\x3d"checkbox-custom-input js-card-select-check-mark"\r\n      value\x3d"${item.id}"\r\n      aria-label\x3d"${selectItem}"\r\n      data-id\x3d"${item.id}"\r\n      ${checked}\r\n    /\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\r\n        \x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z" /\x3e\r\n      \x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\r\n        \x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z" /\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  \x3ca\r\n    class\x3d"card-wide-image-wrap card-wide-image-wrap--static js-default-open"\r\n    href\x3d"${item.defaultOpenUrl:empty}"\r\n    aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\r\n  \x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 text-center thumbnail-icon"\r\n        \x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\r\n      \x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image--static js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"" /\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding card-content--static"\x3e\r\n    \x3cdiv class\x3d"padding-left-half padding-right-half padding-leader-half card-last"\x3e\r\n      \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\r\n        \x3ca class\x3d"card-title-link js-card-title-link" href\x3d"item.html?id\x3d${item.id}"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/h4\x3e\r\n      \x3cdiv class\x3d"js-layers-tables font-size--2"\x3e\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half flex ${hasSublayers:show}"\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half leader-quarter"\x3e${item.snippet}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-half leader-quarter text-darker-gray"\x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1 card-created"\r\n          title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\r\n          \x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1"\r\n          title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\r\n          \x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan class\x3d"inline-block margin-right-1"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"js-sublayers"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 card-badges js-card-badges trailer-half"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center clearfix"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TableRow/templates/TableRow.html":'\x3cdiv class\x3d"table-select-row ${activeRow} ${removedRow}" role\x3d"row"\x3e\r\n  \x3clabel class\x3d"table-select-cell table-select-checkbox ${selectClass}" role\x3d"cell"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"js-table-select-checkbox" aria-label\x3d"${i18n.GroupWidget.selectItem}" ${checked}\x3e\r\n  \x3c/label\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-extra-wide" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-title flex flex-1"\x3e\r\n        \x3ca href\x3d"./item.html?id\x3d${item.id}" class\x3d"flex-1 overflow-hidden"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"padding-left-half padding-right-half table-select-item-type full-width"\x3e\r\n        \x3cspan class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"js-layers-tables"\x3e\x3c/span\x3e\r\n          \x3cspan class\x3d"js-layers-tables-toggle display-block text-ellipsis" title\x3d"${item.displayName:formatDisplayName}"\x3e\r\n            \x3cimg src\x3d"${item.svgIconUrl16}" width\x3d"16" height\x3d"16" alt\x3d"${item.displayName}" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/span\x3e\r\n        \x3cspan class\x3d"table-select-item-type--badges"\x3e${!item.badges}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-favorites-container inline-block"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-open-dropdown-container ${dropdownClass}"\x3e\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${item.modified:fullDate}\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e${!item.ownerText}\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/tableHeader.html":'\x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-checkbox ${selectClass}"  role\x3d"columnheader"\x3e\r\n    \x3clabel class\x3d"table-select-cell-sort table-select-check-all"\x3e\r\n      \x3cinput type\x3d"checkbox" aria-label\x3d"${i18n.filters.selectAll}" class\x3d"js-select-all"\x3e\r\n    \x3c/label\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.filters.titleHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"modified" data-sort-order\x3d"desc"\x3e${i18n.filters.modifiedHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"owner" data-sort-order\x3d"asc"\x3e${i18n.filters.owner}\x3c/button\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItemsYetExplanation}\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItems}\x3c/div\x3e',"url:arcgisonline/pages/dijit/View/templates/View.html":'\x3cdiv\x3e\r\n  \x3c!-- Table View --\x3e\r\n  \x3cdiv class\x3d"hide content-table-view js-table-wrap table-select js-view" role\x3d"table"\x3e\r\n    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide content-grid-view block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up js-grid-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Mobile View --\x3e\r\n  \x3cdiv class\x3d"hide content-mobile-view block-group block-group-1-up js-mobile-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- List View --\x3e\r\n  \x3cdiv class\x3d"hide content-list_view block-group block-group-1-up js-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Empty View (no results) --\x3e\r\n  \x3cdiv class\x3d"hide js-empty-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- None View (tabula rasa) --\x3e\r\n  \x3cdiv class\x3d"hide js-none-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Loader --\x3e\r\n  \x3cdiv class\x3d"hide js-loader-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up gallery-card-wrap js-gallery-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery List View --\x3e\r\n  \x3cdiv class\x3d"hide block-group block-group-1-up  gallery-list-wrap js-gallery-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide js-search-feedback"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Pagination/templates/Number.html":'\x3cli\x3e\x3ca href\x3d"#" class\x3d"js-btn btn btn-small pagination-btn ${is-active}" data-page\x3d"${pageNum}" aria-label\x3d"${label}" ${current}\x3e${pageNum}\x3c/a\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Ellipsis.html":'\x3cli\x3e\x3cspan class\x3d"avenir-light text-light-gray btn-small pagination-btn--inactive"\x3e${pageNum}\x3c/span\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Pagination.html":'\x3cdiv class\x3d"text-center trailer-1 padding-leader-1" data-dojo-attach-point\x3d"pagination"\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow margin-auto trailer-1 js-over-limit"\x3e${i18n.contentPage.errors.overItemLimit}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cnav class\x3d"pagination margin-auto" data-dojo-attach-point\x3d"navigation" role\x3d"navigation" aria-label\x3d"${i18n.contentPage.paginationLabel}"\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationPrevious}" class\x3d"js-btn-previous js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"previous"\x3e${i18n.common.previous}\x3c/a\x3e\r\n          \x3cspan class\x3d"js-pagination-links pagination-links" data-dojo-attach-point\x3d"pageLinks"\x3e\x3c/span\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationNext}" class\x3d"js-btn-next js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"next"\x3e${i18n.common.next}\x3c/a\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0" data-dojo-attach-point\x3d"_pageDropdown"\x3e\r\n      \x3cdiv class\x3d"dropdown dropdown-up js-dropdown padding-leader-quarter right full-width phone-leader-half"\x3e\r\n        \x3c!-- extends side-nav --\x3e\r\n        \x3cbutton class\x3d"btn-link font-size--2 btn-link-black js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_pageNumLabel"\x3e\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n        \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link is-active" role\x3d"menuitem" data-num\x3d"20"\x3e20\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"60"\x3e60\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"100"\x3e100\x3c/button\x3e\r\n        \x3c/nav\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SearchInput/SearchInput.html":'\x3cdiv class\x3d"full-width position-relative"\x3e\r\n  \x3cinput type\x3d"search" placeholder\x3d"${placeholder}" aria-label\x3d"${placeholder}" class\x3d"flex-1 input-minimal search-input ${cssTheme}" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray search-input__clear-btn hide" data-dojo-attach-point\x3d"clearBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/members/SearchDropdown.html":'\x3cdiv class\x3d"control-bar__action js-dropdown control-bar--search-dropdown"\x3e\r\n    \x3cbutton class\x3d"control-bar__btn js-toggle-search-dropdown js-dropdown-toggle" aria-label\x3d"${i18n.myOrganization.membersTab.searchMembersBy}" aria-controls\x3d"sortmenu" data-dojo-attach-point\x3d"_toggleLink" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n        \x3cspan class\x3d"control-bar__btn-text js-search-label" data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"control-bar__dropdown-menu dropdown-menu js-control-bar-search-dropdown" role\x3d"menu" id\x3d"searchmenu" aria-labelledby\x3d"searchmenutitle"\x3e\r\n        \x3ch3 class\x3d"control-bar__dropdown-menu__title" id\x3d"searchmenutitle"\x3e\r\n            ${i18n.myOrganization.membersTab.searchMembersBy}\r\n            \x3cbutton class\x3d"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n                ${!icons.x.24}\r\n            \x3c/button\x3e\r\n        \x3c/h3\x3e\r\n        \x3cnav class\x3d"js-search-options"\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item is-active"  role\x3d"menuitem" data-property\x3d"fullname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"username"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.username}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"firstname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.firstName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"lastname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.lastName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n        \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/ControlBar.html":'\x3cdiv class\x3d"control-bar ${hideActionClass} ${hideRightClass} ${marginClass} ${positionAbsoluteClass}"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3cdiv class\x3d"js-control-bar-actions control-bar__section control-bar__section--left flex flex-center flex-0"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__search ${searchActionClass} flex-1 flex js-control-bar-search-wrap"\x3e\r\n        \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search-dropdown js-control-bar-search-dropdown hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search__error input-error-message js-control-bar-search-error"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__section control-bar__section--right flex flex-center js-control-bar-right-section"\x3e\r\n        \x3cdiv class\x3d"js-control-bar-view-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-sort-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-filter-toggle ${hideFilterClass}"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn ${filterActiveClass} js-toggle-filters" aria-controls\x3d"view-filters-wrap"\x3e\r\n            ${!icons.inline.sliders.16}\x3cspan class\x3d"control-bar__btn-text"\x3e${i18n.controlBar.filter}\x3c/span\x3e\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-refresh control-bar__refresh hide"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/Filters.html":'\x3cdiv class\x3d"view--filters js-filters-mobile-wrap" id\x3d"view-filters-wrap"\x3e\r\n  \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"view--filters--wrap flex-column"\x3e\r\n    \x3cdiv class\x3d"view--filters--header clearfix flex-0"\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-1"\x3e\r\n        ${i18n.controlBar.filter}\r\n        \x3cbutton class\x3d"js-collapse-filters-button control-bar__dropdown-menu__close control-bar__dropdown-menu__close--flush control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n          ${icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filters-insert flex-1 view--filters--content leader-quarter"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"view--filters--footer flex-0"\x3e\r\n      \x3cbutton class\x3d"btn display-block margin-auto js-collapse-filters-button js-view-filter-results-button"\x3e${i18n.controlBar.viewResults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryListViewCard.html":'\x3cdiv class\x3d"card ${selectCardClass} ${selectedClass} ${removedClass} card-wide trailer-1 js-category-card category-card" data-item-id\x3d"${item.id}"\x3e\r\n  \x3cspan class\x3d"category-card-image flex-0 panel panel-no-border tablet-hide"\x3e\r\n    \x3cimg class\x3d"card-image--static card-image--contained js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"${item.title}"\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"flex-1 padding-leader-half padding-trailer-half padding-left-1 padding-right-1"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3ch4 class\x3d"trailer-0 font-size-0"\x3e${item.title}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-quarter flex"\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"text-ellipsis flex-1" data-owner\x3d"${item.owner}"\x3e${item.owner}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-half"\x3e${item.snippet}\x26nbsp;\x3c/p\x3e\r\n    \x3cdiv class\x3d"font-size--1 js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryView.html":'\x3cdiv class\x3d"full-height"\x3e\r\n  \x3cdiv class\x3d"grid-container full-height"\x3e\r\n    \x3cdiv class\x3d"column-7 tablet-column-6 full-height padding-leader-1 padding-trailer-1"\x3e\r\n      \x3cdiv\r\n        class\x3d"panel panel-white padding-left-half padding-right-half padding-top-half padding-bottom-half category-tree-full-height"\r\n      \x3e\r\n        \x3cul\r\n          class\x3d"category-editor-group category-editor-group--fixed-height js-category-group js-category-root"\r\n          role\x3d"tree"\r\n        \x3e\x3c/ul\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-17 tablet-column-6 full-height phone-hide"\x3e\r\n      \x3cdiv class\x3d"js-item-wrapper margin-left-1 category-list-items full-height"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/Category.html":'\x3cli class\x3d"category-editor-item category-view-item" role\x3d"treeitem"\x3e\r\n  \x3clabel class\x3d"category-view-checkbox flex"\x3e\r\n    \x3cspan class\x3d"category-view-checkbox-input-wrap flex-0"\x3e\r\n      \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-category-select-checkbox" value\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"checkbox-custom"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan class\x3d"category-editor-name js-name category-editor-name--draggable" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"category-view-path"\x3e${path}\x3c/span\x3e\x3cspan class\x3d"category-view-name"\x3e${title}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  ${children}\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryGroup.html":'\x3cul class\x3d"category-editor-group category-view-group js-category-group js-category-root" role\x3d"tree"\x3e\r\n  ${categories}\r\n\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryView/templates/_undo.html":'\x3cnav class\x3d"leader-quarter right margin-right-1"\x3e\r\n  \x3cbutton class\x3d"js-undo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.undo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M20 9v6a4.004 4.004 0 0 1-4 4H2.5v-2H16a2.002 2.002 0 0 0 2-2V9a2.002 2.002 0 0 0-2-2H3.914l3.182 3.181-1.414 1.414L.086 6 5.682.405l1.414 1.414L3.914 5H16a4.004 4.004 0 0 1 4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cbutton class\x3d"js-redo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.redo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M0 9v6a4.004 4.004 0 0 0 4 4h13.5v-2H4a2.002 2.002 0 0 1-2-2V9a2.002 2.002 0 0 1 2-2h12.086l-3.182 3.181 1.414 1.414L19.914 6 14.318.405l-1.414 1.414L16.086 5H4a4.004 4.004 0 0 0-4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/nav\x3e',
"url:arcgisonline/pages/content/widgets/templates/_empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noItemsYet}\x3c/h3\x3e\r\n  \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${message}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/search/widgets/templates/_content.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex phone-flex-column"\x3e\r\n      \x3cdiv class\x3d"view--filters--width"\x3e\r\n        \x3cfieldset class\x3d"radio-group radio-group--2-up leader-0 flex-0"\x3e\r\n          \x3cinput class\x3d"radio-group-input js-bucket-select" value\x3d"content" type\x3d"radio" id\x3d"content" name\x3d"search_type" checked/\x3e\r\n          \x3clabel class\x3d"radio-group-label phone-trailer-0" for\x3d"content"\x3e${i18n.contentPage.content}\x3c/label\x3e\r\n          \x3cinput class\x3d"radio-group-input js-bucket-select" value\x3d"groups" type\x3d"radio" id\x3d"groups" name\x3d"search_type"/\x3e\r\n          \x3clabel class\x3d"radio-group-label phone-trailer-0" for\x3d"groups"\x3e${i18n.common.groups}\x3c/label\x3e\r\n        \x3c/fieldset\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"clearfix padding-trailer-1 padding-leader-quarter flex"\x3e\r\n\r\n        \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-center"\x3e\r\n          \x3c!-- Current/Total counts --\x3e\r\n          \x3cspan class\x3d"padding-right-1 font-size--2 flex-0" data-dojo-attach-point\x3d"_rangeText"\x3e\x3c/span\x3e\r\n\r\n          \x3c!-- Filter Status --\x3e\r\n          \x3cdiv class\x3d"inline-block filter-status js-filter-status"\x3e\x3c/div\x3e\r\n\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3csection class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3c!-- Left Side --\x3e\r\n      \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n        \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n        \x3c!-- Filters --\x3e\r\n        \x3cdiv class\x3d"js-filters"\x3e\r\n          \x3chr class\x3d"leader-half trailer-half js-org-only-wrap tablet-hide hide"\x3e\r\n\r\n          \x3c!-- restrict search to org --\x3e\r\n          \x3cdiv class\x3d"js-restrict-toggle"\x3e\x3c/div\x3e\r\n\r\n          \x3chr class\x3d"leader-0 trailer-0 tablet-show"\x3e\r\n\r\n          \x3c!-- Filters --\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n\r\n            \x3c!-- Categories --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-category-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.categories}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content max-height"\x3e\x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Item Type --\x3e\r\n            \x3csection class\x3d"accordion-section is-active"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.itemType}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\r\n                  \x3cdiv class\x3d"js-filter-type"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- 8 Geography - Set Extent --\x3e\r\n            \x3csection class\x3d"accordion-section if-no-public-user if-signed-in" id\x3d"locationFilter"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.viewer.geocode.dialogTitle}\x3c/h4\x3e\r\n\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content extent-search filter"\x3e\r\n                \x3cdiv class\x3d"js-filter-bbox"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n          \x3c/section\x3e\r\n\r\n            \x3c!-- Creation Date --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateModified}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Tags --\x3e\r\n            \x3cdiv class\x3d"js-filter-tags-container"\x3e\r\n              \x3csection class\x3d"accordion-section"\x3e\r\n                  \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.tags}\x3c/h4\x3e\r\n                  \x3cdiv class\x3d"accordion-content"\x3e\x3cdiv class\x3d"js-filter-tags"\x3e\x3c/div\x3e\x3c/div\x3e\r\n              \x3c/section\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Sharing Status --\x3e\r\n            \x3csection class\x3d"accordion-section js-filter-sharing-wrap if-signed-in"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.sharedHeader}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-sharing"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Content Quality --\x3e\r\n            \x3csection class\x3d"accordion-section js-content-quality"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.status}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-authoritative"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Collaboration Content --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.collaboration}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-collaboration"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_listTemplate.html":'\x3cdiv class\x3d"card block card-wide trailer-1"\x3e\r\n  \x3cdiv class\x3d"full-width panel panel-white panel-no-border padding-trailer-0 border-box"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cdiv class\x3d"position-relative left"\x3e\r\n        \x3cspan class\x3d"notification-dot notification-dot-${group.applications} notification-dot--top-left"\x3e${group.applications}\x3c/span\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${group.id}" class\x3d"card-image-small display-block padding-right-1 padding-left-0 group-card-thumbnail js-group-card-title" title\x3d"${i18n.GroupsWidget.viewGroupDetails}"\x3e\r\n          \x3cimg src\x3d"${group.thumbnailUrl}" alt\x3d"" class\x3d"${group.thumbnail:hide}"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${group.thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"${group.fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath class\x3d"${group.useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n            \x3ctext class\x3d"${group.useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n            \x3c/text\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"group-card-content border-box padding-trailer-half right"\x3e\r\n        \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n          \x3ch4 class\x3d"trailer-0 phone-trailer-half font-size-1 full-width text-ellipsis margin-right-1 margin-left-0"\x3e\r\n            \x3ca href\x3d"group.html?id\x3d${group.id}" title\x3d"${group.title}" class\x3d"text-ellipsis js-group-card-title"\x3e${group.title:stripHTML}\x3c/a\x3e\r\n          \x3c/h4\x3e\r\n          \x3cbutton data-group-id\x3d"${group.id}" class\x3d"flex-0 btn-link btn-link-off-black font-size--2 js-remove-group ${group.canDelete:hide}"\x3e${!icons.inline.trash.16}${i18n.GroupWidget.deleteGroup}\x3c/button\x3e\r\n          \x3cbutton data-group-id\x3d"${group.id}" class\x3d"flex-0 btn-link btn-link-off-black font-size--2 js-leave-group ${group.canLeave:hide}"\x3e${!icons.inline.sign-out.16}${i18n.GroupWidget.leaveGroup}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray phone-leader-half"\x3e${i18n.GroupWidget.ownerLabel} \x3cbutton class\x3d"btn-link js-group-owner tooltip" data-owner\x3d"${group.owner}" aria-label\x3d"${i18n.viewsWidget.viewUserprofile}"\x3e${group.owner}\x3c/button\x3e\x3c/p\x3e\r\n        \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"inline-block margin-right-1 margin-left-0"\x3e${i18n.GroupWidget.dateCreatedLabel} ${group.created:fullDate}\x3c/span\x3e\x3cspan class\x3d"inline-block margin-right-1 margin-left-0"\x3e${i18n.GroupWidget.dateModifiedLabel} ${group.modified:fullDate}\x3c/span\x3e\r\n          \x3cspan class\x3d"inline-block"\x3e\r\n            ${i18n.groupsPage.viewableByChipText}\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e\r\n              ${!group.accessIcon}${group.access:getGroupAccess}\r\n            \x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/p\x3e\r\n        \x3cdiv class\x3d"flex leader-half"\x3e\r\n          \x3cdiv class\x3d"js-group-badges flex-0"\x3e\x3c/div\x3e\r\n          \x3cp class\x3d"flex-1 font-size--2 trailer-0 leader-quarter break-word ${group.snippet:hide}"\x3e${group.snippet:stripHTML}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton data-group-id\x3d"${group.id}" class\x3d"btn-link btn-link-off-black font-size--2 leader-1 js-view-membership-requests ${group.hasApplications:hide}"\x3e\r\n          ${!icons.inline.envelope.16}${i18n.GroupWidget.membershipRequests}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_mobileTemplate.html":'\x3ca href\x3d"group.html?id\x3d${group.id}" class\x3d"block card card-mobile trailer-half"\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"position-relative flex-0"\x3e\r\n        \x3cspan class\x3d"notification-dot notification-dot-${group.applications} notification-dot--top-left"\x3e${group.applications}\x3c/span\x3e\r\n        \x3cspan class\x3d"card-image-small display-block padding-right-1 padding-left-0 group-card-thumbnail"\x3e\r\n          \x3cdiv class\x3d"${group.thumbnail:hide}"\x3e\r\n            \x3cimg src\x3d"${group.thumbnailUrl}" alt\x3d"${group.title}" class\x3d"display-block"\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"${group.thumbnail:show}"\x3e\r\n            \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"display-block"\x3e\r\n              \x3cpath fill\x3d"${group.fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n              \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n              \x3cpath class\x3d"${group.useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n              \x3ctext class\x3d"${group.useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n                \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n                \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n              \x3c/text\x3e\r\n            \x3c/svg\x3e\r\n          \x3c/div\x3e\r\n        \x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex flex-align-center"\x3e\r\n        \x3cdiv\x3e\r\n          \x3ch4 class\x3d"trailer-0 font-size-1"\x3e\r\n            ${group.title:stripHTML}\r\n          \x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray"\x3e${i18n.GroupWidget.ownerLabel} ${group.owner}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/search/widgets/templates/_groups.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex phone-flex-column"\x3e\r\n      \x3cdiv class\x3d"view--filters--width"\x3e\r\n        \x3cfieldset class\x3d"radio-group radio-group--2-up leader-0 flex-0"\x3e\r\n          \x3cinput class\x3d"radio-group-input js-bucket-select" value\x3d"content" type\x3d"radio" id\x3d"content" name\x3d"search_type"/\x3e\r\n          \x3clabel class\x3d"radio-group-label phone-trailer-0" for\x3d"content"\x3e${i18n.contentPage.content}\x3c/label\x3e\r\n          \x3cinput class\x3d"radio-group-input js-bucket-select" value\x3d"groups" type\x3d"radio" id\x3d"groups" name\x3d"search_type" checked/\x3e\r\n          \x3clabel class\x3d"radio-group-label phone-trailer-0" for\x3d"groups"\x3e${i18n.common.groups}\x3c/label\x3e\r\n        \x3c/fieldset\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"clearfix padding-trailer-1 padding-leader-quarter flex"\x3e\r\n\r\n        \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-center"\x3e\r\n          \x3c!-- Current/Total counts --\x3e\r\n          \x3cspan class\x3d"padding-right-1 font-size--2 flex-0" data-dojo-attach-point\x3d"_rangeText"\x3e\x3c/span\x3e\r\n\r\n          \x3c!-- Filter Status --\x3e\r\n          \x3cdiv class\x3d"inline-block filter-status js-filter-status"\x3e\x3c/div\x3e\r\n\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3csection class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3c!-- Left Side --\x3e\r\n      \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n        \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n        \x3c!-- Filters --\x3e\r\n        \x3cdiv class\x3d"js-filters"\x3e\r\n          \x3chr class\x3d"leader-half trailer-half js-org-only-wrap tablet-hide hide"\x3e\r\n\r\n          \x3c!-- restrict search to org --\x3e\r\n          \x3cdiv class\x3d"js-restrict-toggle"\x3e\x3c/div\x3e\r\n\r\n          \x3chr class\x3d"leader-0 trailer-0 tablet-show"\x3e\r\n\r\n          \x3c!-- Filters --\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n            \x3c!-- Creation Date --\x3e\r\n            \x3csection class\x3d"accordion-section is-active"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateCreated}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content block-group block-group-1-up"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Seach Feedback --\x3e\r\n        \x3cdiv class\x3d"hide js-search-feedback"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/templates/_loader.html":'\x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n\x3c/div\x3e',"*now":function(U){U(['dojo/i18n!*preload*arcgisonline/pages/nls/search*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("arcgisonline/pages/search","require exports tslib ./pageUtil ./utils/date ./utils/notebook ./dijit/SubNav ./search/widgets/_content ./search/widgets/_groups ./basePage ../sharing/util ../tsutils/declareDecorator dojo/Deferred dojo/query dojo/string dojo/dom-construct dojo/topic dojo/has ./utils/queryHandler dojo/i18n!../nls/arcgisonline dojo/text!./item/widgets/templates/_loader.html ./utils/search".split(" "),function(U,M,r,x,t,l,f,g,k,y,u,E,z,q,m,e,d,a,b,c,h,n){x=r.__importDefault(x);t=
r.__importDefault(t);l=r.__importDefault(l);f=r.__importDefault(f);g=r.__importDefault(g);k=r.__importDefault(k);y=r.__importDefault(y);u=r.__importDefault(u);E=r.__importDefault(E);z=r.__importDefault(z);q=r.__importDefault(q);m=r.__importDefault(m);e=r.__importDefault(e);d=r.__importDefault(d);a=r.__importDefault(a);b=r.__importStar(b);c=r.__importDefault(c);h=r.__importDefault(h);return function(){function p(){this.baseClass="flex-1 overflow-visible view-background";this.skipToContent="main-content-area";
this._telemetryWorkflowStarted=!1;this._savedQueryParams={}}p.prototype.postCreate=function(){var w=this;this.inherited(arguments);this._hideErrors=!0;this.own(d["default"].subscribe("view/update",function(B,A,D){var F,v,C;B=w.tabDijit.getItemIDs.bind(w.tabDijit)(B);A=w.tabDijit.getQueryParamString.bind(w.tabDijit)();D=n.semanticSearchEnabled(w.portal,w.portalUser)?"enriched":"";w._telemetryWorkflowStarted?(w._filterUpdate&&(null===(v=w.telemetry)||void 0===v?void 0:v.stepWorkflow("search","filter",
{statusCode:B,details:w._filterUpdate,pageUrl:window.location.href,searchQuery:A,attribute:D}),w._filterUpdate=!1),w._searchTermUpdate&&(null===(C=w.telemetry)||void 0===C?void 0:C.stepWorkflow("search","update",{statusCode:B,details:w._searchTermUpdate,pageUrl:window.location.href,searchQuery:A,attribute:D}),w._searchTermUpdate=!1)):(w._telemetryWorkflowStarted=!0,null===(F=w.telemetry)||void 0===F?void 0:F.startWorkflow("search",{details:w._searchTerm,statusCode:B,pageUrl:window.location.href,searchQuery:A,
attribute:D}),x["default"].removeQueryParams(["scope"]))}))};p.prototype.startup=function(){var w=this;this.inherited(arguments);this._renderPage().then(function(){return w.emit("ready")},function(B){w._showError(B);w.emit("error",B)})};p.prototype.destroy=function(){this._destroyTab();e["default"].empty(this._tabs);this.inherited(arguments)};p.prototype._renderPage=function(){var w=this,B=new z["default"];this._tabs=new f["default"]({titleText:c["default"].common.search},e["default"].create("div",
{},this.domNode,"next"));this._loader=e["default"].place(m["default"].substitute(h["default"],{i18n:c["default"]}),this.domNode,"next");this._content=e["default"].create("main",{"class":"hide tab-content",id:"tabcontent","aria-live":"polite",role:"tabpanel"},this.domNode,"next");this._searchTerm=b.queryToObject(window.location.search.substring(1)).q;q["default"](".esri-header-search").addClass("hide");this.set("bodyCssClasses");this._updateTab(window.location.hash&&window.location.hash.substring(1),
!0).then(function(){w.hideLoader();w._loadEventHandlers();B.resolve()});return B};p.prototype._updateTab=function(w,B){var A=this,D=new z["default"],F=w||b.queryToObject(window.location.search.substring(1)).t||"content",v;this._destroyTab().then(function(){A._currentView=F||"content";switch(F){case "groups":v=k["default"];break;default:v=g["default"]}if(!B){var C=A._savedQueryParams&&A._savedQueryParams[F]||{};A._searchTerm&&(C.q=A._searchTerm,x["default"].setQueryParams(C))}A._createTab(v).then(function(G){return D.resolve(G)})});
return D};p.prototype._loadEventHandlers=function(){var w=this;window.addEventListener("popstate",function(){var B="#"===window.location.hash.charAt(0)?window.location.hash.substring(1):window.location.hash;w._updateTab(B).then(function(){w.hideLoader();if(w._activeID){var A=document.getElementById(w._activeID);A&&A.focus()}})});this.own(d["default"].subscribe("/dojo/hashchange",function(B){(a["default"]("ie")||a["default"]("trident")||a["default"]("edge"))&&w._updateTab(B).then(function(){return w.hideLoader()})}),
d["default"].subscribe("pagination/page",this._scrollToTop.bind(this)),d["default"].subscribe("filter/update",function(B){B.selected&&B.selected.length&&(w._filterUpdate=B.chipText+" "+(B.selected[0].simpleLabel||B.selected[0].label))}),d["default"].subscribe("search/update",function(B){w._searchTermUpdate=B}),d["default"].subscribe("card/open",function(B,A){if(A&&A.target&&A.target.href){var D=A.target.classList.contains("js-card-title-link")?"item%20title":"card%20dropdown%20item%20details";A.target.href=
A.target.href+"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+(w.tabDijit._page.start+B)+"\x26searchTerm\x3d"+w._searchTerm+"\x26searchFacet\x3d"+D}}))};p.prototype._setBodyCssClassesAttr=function(){var w=document.body.className.split(" "),B=this.portal.isPortal,A=!!this.portalUser,D=A&&this.portalUser.isOrgUser,F=A&&this.portalUser.isOrgAdmin,v=[];v.push(A?"is-signed-in":"is-signed-out");v.push(B?"is-on-premise":"is-online");v.push(D?"":"is-public-user");v.push(F?"is-admin":"");v.push(l["default"].notebookServerConfigured()?
"has-notebookServer-enabled":"");w=(w||[]).filter(function(C){return 0===C.indexOf("dj_")});v=v.concat(w||[]);document.body.className=v.join(" ")};p.prototype._formatDate=function(w){!1===w instanceof Date&&(w=new Date(w));return w?t["default"].format(w,"long-month-day-year"):""};p.prototype._formatSharing=function(w){var B=c["default"].GroupWidget,A=w.access;if("private"===A)var D=B.privatemsg;else"public"===A?(D=B.publicLabel,w.isOpenDataEnabled&&(D+=" "+this.i18n.GroupWidget.accessOpenData)):"org"===
A&&(D=B.organization);w.isSharedOwnership&&(D+=this.i18n.GroupWidget.sharedOwnershipMembers);return D};p.prototype._htmlEncode=function(w){return u["default"].htmlEncode(w)};p.prototype._scrollToTop=function(){var w=q["default"](".control-bar").shift().getBoundingClientRect().top;0>w&&window.scrollBy(0,w)};return p=r.__decorate([E["default"](y["default"])],p)}()});