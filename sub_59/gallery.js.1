// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importDefault(F);r=v.__importDefault(r);A=v.__importDefault(A);G=v.__importDefault(G);H=v.__importDefault(H);O=v.__importStar(O);return function(){function M(K){this.i18n=r["default"];this.esriPortalConfig=H["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=v.__assign({},K);this.portalUser=
K.portalUser||null;this.portal=K.portal||null}M.prototype.destroy=function(){J.render(null,this.footerDiv)};M.prototype.postMixInProperties=function(){this.inherited(arguments);k["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=O.queryToObject(window.location.search.slice(1))};M.prototype.startup=function(){this.inherited(arguments);this.telemetry=B["default"].init({config:this.portal});var K=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===(null===
K||void 0===K?void 0:K["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};M.prototype.toggleErrors=function(K){this._hideErrors=!K;this._showErrors=K};M.prototype._setPageTitleAttr=function(K){window.document.title=K};M.prototype._setIsLoadedAttr=function(K){this.isLoaded=K};M.prototype.showLoader=function(){y["default"].activateNode(this._loader);y["default"].hideNode(this._content)};
M.prototype.hideLoader=function(){y["default"].deactivateNode(document.querySelector(".js-page-loader"));y["default"].showNode(document.querySelector(".js-content-wrapper"));y["default"].deactivateNode(this._loader);y["default"].showNode(this._content)};M.prototype.removeError=function(){var K=document.querySelector(".js-alert");K&&a["default"].destroy(K)};M.prototype.hideErrors=function(){var K=document.querySelector(".js-alert");K&&a["default"].empty(K)};M.prototype.showAlert=function(K){var U=
K.type||"success";K=K.text||"";this._alert&&this._alert.destroy();this._alert=q["default"].showAlert(U,K)};M.prototype.showError=function(K){this._showError(K)};M.prototype._addEventListeners=function(){this.own(e["default"].subscribe("alert/show",this.showAlert.bind(this)),e["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),e["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),e["default"].subscribe("page/showError",this._showError.bind(this)),p["default"](window,"resize",
u["default"](function(){return e["default"].publish("window/resize")},300)))};M.prototype._buildPage=function(){var K=this,U;this.set("pageTitle",H["default"].portalName||this.i18n.common.arcgis);var Z=t["default"].locale.split("-");document.documentElement.lang=-1!==t["default"].locale.indexOf("-")?[Z[0],Z[1].toUpperCase()].join("-"):Z[0];this.pageNode=this.pageNode||h["default"].body();this.flexFix=a["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=a["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new D["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());a["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=a["default"].create("div",null,this.contentWrapper,"last"),this.footer=J.h(F["default"],
{id:"footer",portal:this.portal}),J.render(this.footer,this.footerDiv));this.skipToContent&&(Z=m["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:r["default"]}),a["default"].place(Z,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(ca){ca.preventDefault();ca.stopPropagation();if(ca=document.getElementById(K.skipToContent))ca.tabIndex=
-1,ca.focus()}));this.set("htmlCssClasses");(null===(U=this.portalUser)||void 0===U?0:U.orgId)&&this.setBlockedClasses()};M.prototype.setBlockedClasses=function(){A["default"].getBlockedApps().then(function(K){var U={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(U).forEach(function(Z){-1<(null===K||void 0===K?void 0:K.indexOf(Z))&&(Z=U[Z],document.documentElement.classList.add(Z),
document.body.classList.add(Z))})})};M.prototype._setHtmlCssClassesAttr=function(){var K=[],U=this.portal,Z=U.getPortalUser(),ca=Z&&Z.isOrgUser,fa=Z&&Z.licenses,ka;K.push(U.isPortal?"is-on-premise":"is-online");K.push(Z?"is-signed-in":"is-signed-out");Object.keys(fa||{}).forEach(function(ma){ka=fa[ma];!ka.valid&&ka.className&&K.push(ka.className)});K.push(H["default"].webAppBuilderEnabled&&ca?"is-wab-enabled":"");K.push(H["default"].showCreateDashboard&&ca?"is-createDashboard-enabled":"");K.push(H["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");b["default"].add(document.querySelector("html"),K.join(" "))};M.prototype._request=function(K,U){return n["default"].request(K,U)};M.prototype._showError=function(K){var U=null;U=K&&K.message||this.i18n.common.errors.genericError.message;var Z=document.querySelector(".js-alert")||a["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),ca=null;if(!(this._hideErrors||K&&("SB_0001"===K.messageCode||"SB_0002"===K.messageCode)||403!==
K.code&&"GWM_0003"===K.messageCode)){if(!this._item&&this.portalUser&&K&&403===K.code){if(-1!==K.message.indexOf("world/utilities.gpserver"))return;U=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===K||void 0===K?void 0:K.messageCode)?(U=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):U&&"Item does not exist or is inaccessible."===U?(U=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):U&&"Your request has timed out."===U?U=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&K&&"string"===typeof K&&-1<K.indexOf("ERROR 002555")?(U=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):U&&-1<U.indexOf("Your account is out of storage space and your item cannot be updated.")?(U=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):U=K.messageHTML?K.messageHTML:n["default"].htmlEncode(U);
ca=a["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+U+"\x3c/div\x3e");if(this._showErrors&&K&&499!==K.code&&498!==K.code&&404!==K.code)if(this._forceErrorToast||this.isLoaded&&!K.forceErrorNode)q["default"].showAlert("error",U);else{x["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");x["default"](".js-content-wrapper").removeClass("hide");U=document.querySelector(".view-background");var fa=document.querySelectorAll("header.subnav").length?
1:0;a["default"].place(Z,U,fa);a["default"].place(ca,Z,"only")}e["default"].publish("ago/page/error",{error:K});return K}};M.prototype._createTab=function(K,U){var Z=this.tabDijit=new K(g["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},U||{}),a["default"].create("div",{},this._content)),ca=new l["default"];Z.startup().then(function(){w["default"].init();ca.resolve(Z)});return ca};M.prototype._destroyTab=function(){var K=this,U=new l["default"],
Z=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;f["default"](Z,function(){K.showLoader();(z["default"].findWidgets(K._content)||[]).forEach(function(ca){ca.destroy?ca.destroy():ca.destroyRecursive&&ca.destroyRecursive()});a["default"].empty(K._content);q["default"].clearAlerts();U.resolve(!0)});return U};M.prototype._disableTabs=function(){var K=this;this._clearTabHandlerOverrides();var U=document.querySelectorAll(".js-subnav-link");y["default"].forEachNode(U,function(Z){K._disabledTabHandlers.push(p["default"](Z,
"click",function(ca){ca.stopPropagation();ca.preventDefault()}));c["default"].set(Z,"aria-disabled",!0);b["default"].add(Z,"disabled")})};M.prototype._enableTabs=function(){var K=this;setTimeout(function(){K._clearTabHandlerOverrides();var U=document.querySelectorAll(".js-subnav-link");y["default"].forEachNode(U,function(Z){c["default"].set(Z,"aria-disabled",!1);b["default"].remove(Z,"disabled")})},500)};M.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(K){return K.remove()})};M.prototype.getMemberDefaults=function(){var K,U=null===(K=this.portalUser)||void 0===K?void 0:K.userRole;K=(null===U||void 0===U?void 0:U.isAdmin())||(null===U||void 0===U?void 0:U.canManageSecurity());return this.portalUser&&this.portal.id&&K?this.portal.getMemberDefaults():(K=new l["default"],K.resolve(),K)};M.prototype.getHomePageConfig=function(){var K=new l["default"];if(!this.portalUser||!this.portal.id)return K.resolve(),
K;var U=C["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=U)?this.portal.getHomePageConfig().then(function(){K.resolve()}):K.resolve();return K};return M=v.__decorate([G["default"](E["default"],d["default"])],M)}()})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(V,L,v,w,t,l){function f(x,u,E){void 0===E&&(E={cssClasses:"",preventAutoDismiss:!1});g();var z=E.cssClasses,p=E.preventAutoDismiss;
E=E.liveRegion;var m=document.createElement("div");document.body.appendChild(m);return new w["default"]({type:x,text:u,cssClasses:z||"",preventAutoDismiss:!!p,liveRegion:E},m)}function g(){t["default"].forEachNode(document.querySelectorAll(".alert"),function(x){var u,E;null===(E=null===(u=l["default"].byNode(x))||void 0===u?void 0:u.destroy)||void 0===E?void 0:E.call(u)})}function h(x,u){var E=u.reduce(function(p,m){return p+"\x3cli\x3e"+m+"\x3c/li\x3e"},""),z=document.createElement("div");document.body.appendChild(z);
return new w["default"]({type:x,text:"",listHTML:"\x3cul\x3e"+E+"\x3c/ul\x3e"},z)}Object.defineProperty(L,"__esModule",{value:!0});L.showAlertList=L.clearAlerts=L.showAlert=void 0;w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);L.showAlert=f;L.clearAlerts=g;L.showAlertList=h;L["default"]={clearAlerts:g,showAlert:f,showAlertList:h}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);return function(){function z(p,m){this.templateString=x["default"];this.i18n=u["default"];this.icons=t["default"];this.cssClasses="";this.preventAutoDismiss=!1}z.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=t["default"]["check-circle"]["32"],
this.iconAltText=u["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=t["default"]["exclamation-mark-circle"]["32"],this.iconAltText=u["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=t["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=u["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};z.prototype.postCreate=function(){var p=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){p.domNode&&p.domNode.classList.add("is-active")},10)};z.prototype.startup=function(){this.inherited(arguments);w["default"].postToLiveRegion(this.text,this.liveRegion)};z.prototype._addEventListeners=function(){"success"===this.type&&this.own(h["default"](this.domNode).on("mouseover",E["default"].hitch(this,this._clearAlertTimer)),
h["default"](this.domNode).on("mouseout",E["default"].hitch(this,this._setAlertTimer)));this.own(h["default"](".js-alert-close",this.domNode).on("click",E["default"].hitch(this,this._dismiss)))};z.prototype._setAlertTimer=function(){var p=this;this._timeout||(this._timeout=window.setTimeout(function(){p._dismiss()},4E3))};z.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};z.prototype._dismiss=function(p){var m=this;p&&p.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){m.destroy()},300)};z.prototype.dismiss=function(){var p=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){p.destroy()},300)};return z=v.__decorate([l["default"](f["default"],g["default"])],z)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(V,L,v,w,t,
l,f,g,h,x){Object.defineProperty(L,"__esModule",{value:!0});w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);x=v.__importDefault(x);L["default"]=function(u){var E=u.id,z=u.portal;u=h.useState(!1);var p=u[0],m=u[1];u=h.useState([]);var e=u[0],c=u[1];h.useEffect(function(){var q=f["default"].subscribe("contact-us-link/update",b);return function(){var y;null===(y=null===q||void 0===q?void 0:q.remove)||void 0===y?void 0:y.call(q)}},[]);h.useEffect(function(){a()},
[e]);var a=function(){var q,y,C=v.__assign(v.__assign(v.__assign({},x["default"].common),x["default"].siteFooter),{helpLabel:x["default"].supportPage.helpLabel}),B=z.portalUser,D=z.isPortal,F=window.location.href;-1<F.indexOf("?useExisting\x3d1")&&(F=F.substring(0,F.length-14));m(-1<F.indexOf("viewer.html")&&-1===F.indexOf("returnUrl")&&!t["default"].isMobile());var r=[];(w["default"].footerLinks||[]).forEach(function(A){var G,H,J="${i18n.legal}"===(null===A||void 0===A?void 0:A.title),O=!!(J&&(null===
B||void 0===B?0:B.accountId)),M="${i18n.help}"===(null===A||void 0===A?void 0:A.title)||"support.html"===(null===A||void 0===A?void 0:A.url),K=!(M&&!B&&"public"===z.access&&(D||!D&&z.customBaseUrl));J=!J&&!M||J&&!O||M&&!K;O=null===(G=A.title)||void 0===G?void 0:G.indexOf("${i18n.");G=null===(H=A.title)||void 0===H?void 0:H.indexOf("}");H=-1<O&&-1<G?""+C[A.title.substring(O+7,G)]:A.title;if(A.url){-1===A.url.indexOf("http")&&-1===A.url.indexOf("mailto:")&&p&&(A.url="support.html"===A.url?z.helpBase||
""+w["default"].baseUrl+A.url:""+w["default"].baseUrl+A.url);if("${i18n.help}"===A.title||"support.html"===A.url)A.url=z.helpBase;J&&r.push({href:A.url,target:"_blank",title:H})}else D&&"contactUs"===A.type?(G=w["default"].portalName||"ArcGIS.com",J=escape(F),A="mailto:"+A.email,r.push({id:E+"_contactEsri",href:A+('?subject\x3d"A comment about '+G+'"\x26body\x3d"I have the following comment about the ')+(G+" Web site. %0AReferring page: "+J+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:H})):"reportAbuse"===A.type&&(J=escape(F),A="mailto:"+A.email+'?subject\x3d"Concerns about an item"',r.push({href:A+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+J+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:H}))});b(null===(y=null===(q=z.portalProperties)||void 0===q?
void 0:q.links)||void 0===y?void 0:y.contactUs,r)},b=function(q,y){y=null!==y&&void 0!==y?y:e;q=null!==q&&void 0!==q?q:{visible:!1,url:""};var C={id:E+"_customContactUs",href:q.url,title:x["default"].siteFooter.customContactUs,className:q.visible?"footer__contact-us":"footer__contact-us hide"},B=l["default"].findIndex(y,function(D){return D.id===E+"_customContactUs"});-1<B?y[B]=C:(B=l["default"].findIndex(y,function(D){return D.id===E+"_contactEsri"}),-1<B?y.splice(B,0,C):y.push(C));c(y)};u=E+"_links";
var d=p?"\x26nbsp;. ":"",k=e.filter(function(q){return!q.className||-1===q.className.indexOf("hide")}),n=k.map(function(q,y){var C,B,D,F=null!==(C=q.id)&&void 0!==C?C:E+"_link"+y;C=q.href;var r=null!==(B=q.target)&&void 0!==B?B:"";B=null!==(D=q.className)&&void 0!==D?D:"";D=y===k.length-1;return g.h(g.Fragment,null,g.h("a",{id:F,href:C,className:B,target:r},q.title),D?null:g.h("span",null,d))});return g.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},g.h("span",{id:u,"class":"esriItemLinks"},n),g.h("div",{"class":"esri-footer-barrier"}))}})},"arcgisonline/pages/gallery/widgets/_my-orgs-featured-content":function(){define("require exports tslib dojo/_base/lang dojo/query dojo/topic dojo/dom-class dojo/promise/all dojo/Deferred dojo/string ../../portal/PortalGroup ../../content/widgets/filters/_content ./_lazyLoadTab ../../dijit/FilterSingle ../../dijit/FilterDate ../../dijit/FilterItemType ../../dijit/FilterCategory ../../dijit/FilterTags ../../dijit/FilterBBox ../../dijit/ControlBar ../../dijit/FilterStatus ../../dijit/ViewWithLazyLoad arcgisonline/sharing/util arcgisonline/esriGeowConfig dojo/text!./templates/_gallery.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../../utils/queryHandler".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importStar(F);return function(){function r(){var A=this;this._collapsedColumnSize="19";this._expandedColumnSize="24";this._numberOfItemsPerPage=this._page.num;this._getParams=function(){var G,H,J,O,M,K=A.featuredItemsGroup,U=A._sort.ascending?"asc":"desc",Z=null!==(H=null===(G=null===y["default"]||void 0===y["default"]?void 0:y["default"].viewQueries)||void 0===G?void 0:G.none)&&
void 0!==H?H:"";G=null!==(O=null===(J=null===y["default"]||void 0===y["default"]?void 0:y["default"].viewQueries)||void 0===J?void 0:J.web)&&void 0!==O?O:"";J=(null===(M=A.portal)||void 0===M?void 0:M.isPortal)&&' -owner:"esri_apps" -owner:"esri"'||"";var ca=A._filterState||{};M=ca.categories;O=ca.bbox;H=ca.areas;var fa=A._sort.property,ka;A._lazyLoadThisPage||(A._page.num=A._numberOfItemsPerPage);A._searchTerm&&!A._searchInProgress&&("relevance"!==fa&&(A._updateSort({label:B["default"].sortDropdown.relevance,
property:"relevance",ascending:"asc"}),fa="relevance"),A._searchInProgress=!0);var ma=K?"group:"+K.id:A.portal.id?"orgid:"+A.portal.id:"";K={q:Object.keys(ca).filter(function(ra){return"tags"!==ra}).reduce(function(ra,za){var ia=(ca[za]||[]).filter(function(T){return T.active});if(0<ia.length&&"categories"!==za&&"areas"!==za&&"bbox"!==za){if(ia[0].q)return ka=ia.map(function(T){return T.q}).join(" OR "),ra+" ("+ka+") ";ka=ia.map(function(T){return T.value}).join(" OR ");return ra+" "+za+":("+ka+") "}return ra},
A._searchTerm+" "+ma)+(Z+J)+(K?"":G),num:A._page.num,start:A._firstLoad?A._initialStart:A._page.start,sortField:"relevance"===fa?"":fa,sortOrder:U};M?K.categories=encodeURIComponent(M.map(function(ra){return JSON.stringify(Array.isArray(ra.value)?ra.value:[ra.value])}).join("\x26categories\x3d")):A._firstLoad&&A._categoryFilter&&A._queryParams.categories&&(K.categories=encodeURIComponent(JSON.parse(A._queryParams.categories).map(function(ra){return JSON.stringify(Array.isArray(ra)?ra:[ra])}).join("\x26categories\x3d")));
H&&(K.areas=H.map(function(ra){return ra.value}).join(","));0<(null===O||void 0===O?void 0:O.length)&&(K.bbox=O[0].value);return K=w["default"].mixin(K,A.getDebugParameters())}}r.prototype.postMixInProperties=function(){this._resetState();this._filters=w["default"].clone(E["default"].filterStatus);this._addOwnerSortOption();this.templateString=C["default"];this.widgetsInTemplate=!0;this._sortOptions=[{property:"owner",label:B["default"].sortDropdown.owner,ascending:!0},{property:"modified",label:B["default"].sortDropdown.modified,
ascending:!1},{property:"title",label:B["default"].sortDropdown.title,ascending:!0},{property:"numviews",label:B["default"].sortDropdown.views,ascending:!1},{property:"relevance",label:B["default"].sortDropdown.relevance,active:!0,ascending:!1}];this._sort={property:"relevance",label:B["default"].sortDropdown.relevance,ascending:!1}};r.prototype.postCreate=function(){this.inherited(arguments);860>=window.innerWidth&&(this._initialView="grid");this._queryParams=F.queryToObject(window.location.search.substr(1));
var A=x["default"].substitute(this._emptyTemplate,{i18n:B["default"],message:B["default"].emptyStates.myOrganization});this._filters.modified.minDate=this.portal.created;this._dateFilter=new m["default"](v.__assign(v.__assign({},this._filters.modified),{constrainWidthOnError:!0}),this.domNode.querySelector(".js-filter-date"));this._bBoxFilter=new b["default"]({bbox:this._filters.bbox,sanitizer:this.sanitizer},this.domNode.querySelector(".js-filter-bbox"));this._typeFilter=new e["default"]({portal:this.portal},
this.domNode.querySelector(".js-filter-type"));this._statusFilter=new p["default"](this._filters.status,this.domNode.querySelector(".js-filter-authoritative"));this._filterStatus=new k["default"](this._filters,this.domNode.querySelector(".js-filter-status"));this._view=new n["default"]({emptyView:A,select:!1,sortOptions:this._sortOptions,portalUser:this.portalUser,scrollingTopMenu:t["default"](".js-scrolling-top",this.domNode),scrollingSideMenu:t["default"](".js-scrolling-side-menu",this.domNode),
galleryFilters:t["default"](".js-gallery-filters",this.domNode),scrollToTopButton:this.domNode.querySelector(".js-go-to-top"),lazyLoadItems:this._lazyLoadNextPage.bind(this),activeView:"grid",hasSharedOwnershipGroups:this.page.hasSharedOwnershipGroups},this.domNode.querySelector(".js-content"));this._controlBar=new d["default"]({search:{placeholder:B["default"].gallery.searchGallery,searchTerm:this._searchTerm},views:{activeView:this._initialView,views:["list","grid"]},sort:this._sortOptions,sticky:!0,
stickyCallback:this._view.handleScrollPage.bind(this._view),filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetry:this.page.telemetry,telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}},this.domNode.querySelector(".js-control-bar"));this._selection=[];this._items=[];this._updateSort();l["default"].publish("view/toggle",this._initialView);this.page._hideErrors=!0;this.own(t["default"](".js-go-to-top",
this.domNode).on("click",this._scrollToTopAndBlurTarget.bind(this)))};r.prototype._initStickyInterface=function(){this._view&&this._view.initLaziness(this.featuredItemsGroup?1E3:60)};r.prototype.startup=function(){var A=this,G,H,J=new h["default"];g["default"]({orgCategories:this.portalUser&&(null===(H=(G=this.portal).getCategories)||void 0===H?void 0:H.call(G))||(new h["default"]).resolve({}),featuredItemsGroup:this._getFeaturedItemsGroup()}).then(function(O){A.orgCategories=O.orgCategories;A._tagsFilter=
new a["default"]({portal:A.portal,aggregationQuery:A._getAggregationQuery.bind(A,O.featuredItemsGroup),sanitizer:A.sanitizer},A.domNode.querySelector(".js-filter-tags"));if(O.featuredItemsGroup&&("org"===A._getAccountTypeRelativeToPage()||O.featuredItemsGroup.isPublic))return A.featuredItemsGroup=O.featuredItemsGroup,A.featuredItemsGroup.sortField&&!A._queryParams.sortField&&A._updateSort({label:B["default"].sortDropdown["numviews"===A.featuredItemsGroup.sortField?"views":A.featuredItemsGroup.sortField],
property:A.featuredItemsGroup.sortField,ascending:"asc"===A.featuredItemsGroup.sortOrder}),A.featuredItemsGroup.getCategories()}).then(function(){var O,M;(null===(M=null===(O=A.featuredItemsGroup)||void 0===O?void 0:O.categorySchema)||void 0===M?0:M.length)?A._categoryFilter=new c["default"]({user:A.portalUser,portal:A.portal,group:A.featuredItemsGroup||A.orgCategories,disableEdit:!0,filterContainer:A.domNode.querySelector(".js-filter-category-container")},A.domNode.querySelector(".js-filter-category")):
f["default"].add(A.domNode.querySelector(".js-filter-category-container"),"hide")}).then(this.render.bind(this),function(O){return 0}).then(function(O){A._addEventListeners();A._categoryFilter&&(A._applyCategoryFilter(),A._getCounts(A.featuredItemsGroup||A.orgCategories));A._applyFilters();A.portalUser&&A.portalUser.isOrgUser||A.portal.isVerified||f["default"].add(A._tagsFilter.domNode.parentNode.parentNode,"hidden-border");A._firstLoad&&(A._firstLoad=!1);A._initStickyInterface();J.resolve(O)});return J};
r.prototype.destroy=function(){this._categoryFilter&&this._categoryFilter.destroy();this._removeOwnerSortOption()};r.prototype._getAggregationQuery=function(A){return this._searchTerm+" "+(A?"group:"+A.id:this.portal.id?"orgid:"+this.portal.id:"")};r.prototype._getAccountTypeRelativeToPage=function(){var A;return this.portal.id&&(null===(A=this.portal.portalUser)||void 0===A?void 0:A.orgId)===this.portal.id?"org":q["default"].getUser()&&"public"||"anon"};r.prototype._updateSort=function(A){A&&w["default"].mixin(this._sort,
A);l["default"].publish("sort/update",w["default"].clone(this._sort))};r.prototype._scrollToTopAndBlurTarget=function(A){A.currentTarget.blur();window.scroll({top:64,left:0,behavior:"smooth"})};r.prototype._getFeaturedItemsGroup=function(){var A=this,G=new h["default"],H,J={q:this.portal.featuredItemsGroupQuery,num:1};if(!this.portal.featuredItemsGroupQuery)return G.resolve(null);this.portal.queryGroups(J,!0).then(function(O){H=O.total&&O.results.length?O.results.shift():{};G.resolve(new u["default"](w["default"].mixin(H,
{portal:A.portal})))});return G};return r=v.__decorate([D["default"](z["default"])],r)}()})},"arcgisonline/pages/content/widgets/filters/_content":function(){define(["require","exports","tslib","../../../../esriGeowConfig","dojo/i18n!../../../../nls/arcgisonline"],function(V,L,v,w,t){var l;w=v.__importDefault(w);t=v.__importDefault(t);v=w["default"].portal||{};V=v.id;L=v.isPortal;v=!L&&!(null===(l=v.user)||void 0===l?0:l.orgId);return{filterStatus:{sharing:{param:"access",chipText:t["default"].filters.shared,
multiselect:!1,options:{owner:{label:t["default"].itemSharing.owner,value:"owner",q:"(access:private OR access:shared)",aggregationFields:["shared","private"],options:{shared:{label:t["default"].itemSharing.shared,value:"shared",q:"access:shared"},"private":{label:t["default"].itemSharing["private"],value:"private",q:"access:private"}}},org:{label:t["default"].itemSharing.org,value:"org",q:"access:org"},"public":{label:t["default"].itemSharing["public"],value:"public",q:"access:public"}}},modified:{param:"modified",
chipText:t["default"].filters.modified},created:{param:"uploaded",chipText:t["default"].filters.created},added:{param:"added",chipText:t["default"].GroupWidget.dateAdded},bbox:{param:"bbox",chipText:t["default"].itemProperties.extent},status:{param:"contentstatus",chipText:t["default"].filters.statusChip,options:{org_authoritative:{label:t["default"].filters.authoritative,value:"org_authoritative",aggregationFields:v?["public_authoritative"]:["org_authoritative","public_authoritative"],q:(v?"contentstatus:public_authoritative":
"(contentstatus:org_authoritative"+(L?"":" orgid:"+V)+") OR contentstatus:public_authoritative")||"contentstatus:public_authoritative"},deprecated:{label:t["default"].filters.deprecated,value:"deprecated"}}},collaboration:{param:"origin",chipText:t["default"].filters.collaborationChip,options:{}}}}})},"arcgisonline/pages/gallery/widgets/_lazyLoadTab":function(){define("require exports tslib arcgisonline/sharing/util dojo/topic dojo/Deferred ../../content/widgets/_baseTab dojo/text!./templates/_empty.html ../../../esriGeowConfig ../../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);return function(){function u(){this._initialView="grid";this._emptyTemplate=g["default"]}u.prototype._lazyLoadNextPage=function(E){this._page.start+(E||this._page.num)<=this._page.total&&(this._lazyLoadThisPage=!0,this._page.start+=this._page.num,this._page.num=E||this._page.num,this.render())};u.prototype._getItemsForFeaturedGroup=
function(){var E=this,z=new l["default"],p=this.portal,m=this._getParams(),e=Object.keys(m).map(function(c){return c+"\x3d"+m[c]}).join("\x26");w["default"].request({url:h["default"].restBaseUrl+"content/groups/"+this.featuredItemsGroup.id+"/search?"+e}).then(function(c){return p.toPortalItems(null,!1,c)}).then(function(c){E._mustDefendLastPage(c.total)?E._defendLastPage(c).then(function(a){return z.resolve(a)},function(a){z.reject(a)}):z.resolve(c)},function(c){z.reject(c)});return z};u.prototype._getItems=
function(){var E=this,z;if(this.featuredItemsGroup)return this._getItemsForFeaturedGroup();var p=new l["default"],m=this.portal,e=(null===(z=this._getFilter)||void 0===z?void 0:z.call(this))||"";m.queryItems(this._getParams(),this._disableOrgRestriction,this.portalUser,e).then(function(c){E._mustDefendLastPage(c.total)?E._defendLastPage(c).then(function(a){return p.resolve(a)},function(a){p.reject(a)}):p.resolve(c)},function(c){p.reject(c)});return p};u.prototype._updateView=function(E){var z;E=this._hasFilters();
t["default"].publish("view/update",this._items,this._selection,E,this._page.total,this._lazyLoadThisPage);this._lazyLoadThisPage=!1;null===(z=this._popup)||void 0===z?void 0:z.close();return!0};return u=v.__decorate([x["default"](f["default"])],u)}()})},"arcgisonline/pages/content/widgets/_baseTab":function(){define("require exports tslib ../../../esriGeowConfig ../../../sharing/util ../../organization/widgets/ProfilePopup ../../pageUtil ../../components/Group/OrgSettingsFilterTooltip ../../_filterStateMixin ../../dijit/_CheckReadonlyMixin ../../dijit/CategoryView ../../utils/arrays ../../utils/culture ../../utils/dom ../../utils/icons ../../utils/user ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/_base/lang dojo/query dojo/hash dojo/topic dojo/dom-construct dojo/Deferred preact esri/Evented esri/libs/sanitizer/Sanitizer dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_empty.html arcgisonline/pages/utils/search ../../utils/queryHandler".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);F=v.__importDefault(F);r=v.__importDefault(r);A=v.__importDefault(A);G=v.__importDefault(G);J=v.__importStar(J);return function(){function O(){this.widgetsInTemplate=!0;this.icons=m["default"];this._selection=[];this._selectionInView=[];this._items=[];this._filterState={};this._categoriesFilter={};this._searchTerm="";this._initialView="table";this._sort={property:"title",label:A["default"].sortDropdown.title,
ascending:!0};this._page={start:1,num:20,total:0,nextStart:-1};this._sortOptions=[{property:"relevance",label:A["default"].sortDropdown.relevance,ascending:!1,hide:!0},{property:"modified",label:A["default"].sortDropdown.modified,active:!0,ascending:!1},{property:"title",label:A["default"].sortDropdown.title,ascending:!0},{property:"numviews",label:A["default"].sortDropdown.views,ascending:!1}];this._emptyTemplate=G["default"];this._firstLoad=!0;this._disableOrgRestriction=!1;this._showAggregationCount=
!0;this._index_numTries=w["default"].index_numTries||10;this._index_syncDelay=w["default"].index_syncDelay||500;this.sanitizer=new r["default"]}O.prototype.postCreate=function(){this.inherited(arguments);this.semanticSearchEnabled=H.semanticSearchEnabled(this.portal,this.portalUser);this.page._currentTabName=q["default"]();this.page._tabState&&this.page._tabState[this.page._currentTabName]&&f["default"].updateQueryParams(this.page._tabState[this.page._currentTabName]);this._applyQueryParameters()};
O.prototype.startup=function(){var M=this,K=new B["default"];this.inherited(arguments);this._selection=[];this._items=[];this._addEventListeners();this._applyFilters();this._getCounts(this.group);this.preventFirstRender?K.resolve(!0):this.render().then(function(U){M._firstLoad&&(M._firstLoad=!1);K.resolve(U)});return K};O.prototype.destroy=function(){this.inherited(arguments);this.page._currentTabName&&(this.page._tabState=this.page._tabState||{},this.page._tabState[this.page._currentTabName]=f["default"].getQueryParams());
this._resetState();var M=this.page&&this.page._queryStringParams&&this.page._queryStringParams.id;f["default"].setQueryParams(M?{id:M}:{});this._popup&&this._popup.close()};O.prototype.render=function(){var M=this;return this._getItems().then(function(K){return M._updateState(K).then(function(U){return M._getFavorites(U)}).then(function(U){return M._updateView(U)})})};O.prototype.getItemIDs=function(M){return(M||this._items||[]).map(function(K){return K.id}).join(",")};O.prototype.getQueryParamString=
function(){var M=J.objectToQuery(this._getParams())||"";return 1E3<M.length?M.substring(0,1E3):M};O.prototype._mustDefendLastPage=function(M){return 0<M&&(this._firstLoad&&this._initialStart>M||this._page.start>M)};O.prototype._defendLastPage=function(M){var K,U=this.portal;M=(Math.ceil(M.total/this._page.num)-1)*this._page.num+1;M=0<M?M:1;this._firstLoad&&(this._initialStart=M);this._page.start=M;M=(null===(K=this._getFilter)||void 0===K?void 0:K.call(this))||"";return U.queryItems(this._getParams(),
this._disableOrgRestriction,this.contentUser,M)};O.prototype._getItems=function(){var M=this,K,U=new B["default"],Z=this.portal,ca=this._getParams(),fa=(null===(K=this._getFilter)||void 0===K?void 0:K.call(this))||"";Z.queryItems(ca,this._disableOrgRestriction,this.contentUser,fa).then(function(ka){M._mustDefendLastPage(ka.total)?M._defendLastPage(ka).then(function(ma){return U.resolve(ma)},function(ma){U.reject(ma)}):U.resolve(ka)},function(ka){U.reject(ka)});return U};O.prototype._getFavorites=
function(M){if(!this._skipFavorite){var K=this.portal,U=K.getPortalUser();return e["default"].checkForFavorites(U,K,M)}};O.prototype._getFilter=function(){var M,K,U,Z=this._filterQ||"";return 0<(null===(K=null===(M=this._filterState)||void 0===M?void 0:M.tags)||void 0===K?void 0:K.length)?(M=null===(U=this._filterState)||void 0===U?void 0:U.tags.map(function(ca){return'"'+ca.value+'"'}).join(" OR "),(Z?Z+" OR ":"")+" (tags:("+M+"))"):Z};O.prototype._resetState=function(){this._selection=[];this._selectionInView=
[];this._items=[];this._filterState={};this._categoriesFilter={};this._filters={};this._searchTerm="";this._page={start:1,num:20,total:0,nextStart:-1};this._sort={property:"title",label:A["default"].sortDropdown.title,ascending:!0}};O.prototype._addEventListeners=function(){var M=this;this.own(n["default"](".js-deselect",this.domNode).on("click",this._deselectAll.bind(this)),y["default"].subscribe("filter/update",this._filterUpdate.bind(this)),y["default"].subscribe("filter/clear",this._filterClear.bind(this)),
y["default"].subscribe("filter/remove",this._filterRemove.bind(this)),y["default"].subscribe("refine/update",this._refineUpdate.bind(this)),y["default"].subscribe("view/refresh",this.render.bind(this)),y["default"].subscribe("view/select",this._viewSelect.bind(this)),y["default"].subscribe("view/deselect",this._viewDeselect.bind(this)),y["default"].subscribe("view/deselectAll",this._viewDeselectAll.bind(this)),y["default"].subscribe("view/update",this._updateSelectedView.bind(this)),y["default"].subscribe("sort/update",
this._sortUpdate.bind(this)),y["default"].subscribe("search/wait",this._searchWait.bind(this)),y["default"].subscribe("search/update",this._searchUpdate.bind(this)),y["default"].subscribe("pagination/page",this._paginationPage.bind(this)),y["default"].subscribe("items/refresh",this._itemsRefresh.bind(this)),y["default"].subscribe("item/categorize",function(K,U){return M._openCategoryView(K,U)}),y["default"].subscribe("profile/show",this._showProfile.bind(this)),y["default"].subscribe("profile/hide",
this._hideProfile.bind(this)),y["default"].subscribe("shareCheckDlg/update",this._shareCheckUpdate.bind(this)),y["default"].subscribe("categorySchema/updated",this._updateCategories.bind(this)),y["default"].subscribe("aggregations/refresh",this._getCounts.bind(this)))};O.prototype._filterUpdate=function(M){var K=this,U,Z,ca,fa,ka=M.isCategory?"categories":M.param;ka=M.isBBox?"bbox":ka;M.isCategory?this._filterState.categories=this._categoryUpdate(M):M.isBBox?this._filterState.bbox=[M.selected[0]]:
this._filterState[ka]=M.selected;this._paginationReset();ka=Object.keys(this._filterState||{}).filter(function(ma){return!!K._filterState[ma]});null===(Z=null===(U=this.page)||void 0===U?void 0:U.telemetry)||void 0===Z?void 0:Z.logEvent({category:"Filter",action:M.param,label:null===(fa=null===(ca=M.selected)||void 0===ca?void 0:ca[0])||void 0===fa?void 0:fa.label,count:ka.length,attribute:ka.sort().join(",")});M.isLoading||this.render()};O.prototype._categoryUpdate=function(M){var K=this;this._categoriesFilter[M.id]=
M.selected;return Object.keys(this._categoriesFilter).map(function(U){return K._categoriesFilter[U]}).reduce(function(U,Z){return U.concat(Z)})};O.prototype._filterClear=function(){var M=this;this._paginationReset();Object.keys(this._filterState).forEach(function(K){return delete M._filterState[K]});this._categoriesFilter={};this.render()};O.prototype._filterRemove=function(M,K){var U=M.isCategory?"categories":M.param;U=M.isBBox?"bbox":U;this._paginationReset();this._filterState[U]&&0<this._filterState[U].length&&
(this._filterState[U]=this._filterState[U].filter(function(Z){return Z.value!==M.value}));K||this.render()};O.prototype._refineUpdate=function(M){this._paginationReset();this._searchTerm=M;this.render();this._getCounts(this.group)};O.prototype._viewSelect=function(M){E["default"].find(this._selection,function(K){return K.id===M.id})||(M.isSelected=!0,this._selection.push(M));this._updateSelectedView()};O.prototype._viewDeselect=function(M){M.isSelected=!1;this._selection=this._selection.filter(function(K){return K.id!==
M.id});this._updateSelectedView()};O.prototype._viewDeselectAll=function(){this._selection=[];this._updateSelectedView()};O.prototype._updateSelectedView=function(){var M,K,U;null===(M=this._rangeText)||void 0===M?void 0:M.classList.remove("visually-hidden");null===(U=null===(K=this._pagination)||void 0===K?void 0:K.domNode)||void 0===U?void 0:U.classList.remove("visually-hidden");this._updateSelectionInView();0<this._selectionInView.length?(n["default"](".hide-if-selected").addClass("hide"),n["default"](".show-if-selected").removeClass("hide"),
this.filterSelectedViewActions&&this.filterSelectedViewActions(this._selectionInView)):(n["default"](".hide-if-selected").removeClass("hide"),n["default"](".show-if-selected").addClass("hide"));this.selectedCount&&(this.selectedCount.innerHTML=z["default"].getString(this.i18n.GroupWidget.selected,this._selectionInView.length))};O.prototype._openCategoryView=function(M,K){this.checkReadonly()||(this._categoryView=new u["default"]({portal:this.portal,items:M?[M]:this._selectionInView,group:this.group,
opener:K},C["default"].place(C["default"].create("div"),this.domNode,"after")),this._categoryView.open())};O.prototype._updateView=function(M){var K,U=this._hasFilters();y["default"].publish("view/update",this._items,this._selection,U);this._pagination.render(this._page);M=this._pagination.getCurrentPageObj();U=!U&&0===M.end||0===M.end&&this._initialMembershipRequestToggle;this._rangeText.textContent=f["default"].getPageRangeString({start:0===M.total?0:M.start,end:-1===M.end?0:M.end,total:M.total});
p["default"].showHide(this._rangeText,!U);null===(K=this._popup)||void 0===K?void 0:K.close();return!0};O.prototype._deselectAll=function(){this._selection=[];y["default"].publish("view/deselectAll");this._updateSelectedView()};O.prototype._searchWait=function(M,K){var U,Z,ca;y["default"].publish("view/loading",M);null===(U=this._rangeText)||void 0===U?void 0:U.classList.add("visually-hidden");null===(ca=null===(Z=this._pagination)||void 0===Z?void 0:Z.domNode)||void 0===ca?void 0:ca.classList.add("visually-hidden");
U={};U[K||"searchTerm"]=M;f["default"].updateQueryParams(U)};O.prototype._searchUpdate=function(M){M&&-1<M.indexOf("*")?y["default"].publish("alert/show",{type:"error",text:A["default"].search.error.wildCardSearchError}):(this._paginationReset(),this._searchTerm=M);this.render();this._getCounts(this.group)};O.prototype._sortUpdate=function(M){this._paginationReset();this._sort.property=M.property;this._sort.ascending=M.ascending;this.render()};O.prototype._paginationReset=function(){this._page.start=
1;this._pagination&&this._pagination.set("start",this._page.start)};O.prototype._paginationPage=function(M){this._page.num=M.num;this._page.start=M.start;this.render()};O.prototype._itemsRefresh=function(M){var K=this,U=null===M||void 0===M?void 0:M.removedItems,Z=null===M||void 0===M?void 0:M.forcedDelay,ca=(null===M||void 0===M?void 0:M.numTries)||0,fa;(null===U||void 0===U?0:U.length)?setTimeout(function(){K._getItems().then(function(ka){fa=ka.items||[];(null===U||void 0===U?0:U.length)&&U.some(function(ma){return E["default"].find(fa,
function(ra){return ma.id===ra.id||ma.itemId===ra.id})})?ca===K._index_numTries?K.render().then(function(){return y["default"].publish("items/refreshComplete")}):(M=v.__assign(v.__assign({},M),{numTries:ca+1}),K._itemsRefresh(M)):fa&&fa.length?K._updateState(ka).then(K._getFavorites.bind(K)).then(K._updateView.bind(K)).then(function(){return y["default"].publish("items/refreshComplete")}):(K._pagination.previousPage(),y["default"].publish("items/refreshComplete"))})},this._index_syncDelay):Z?setTimeout(function(){K.render().then(function(){return y["default"].publish("items/refreshComplete")})},
Z):this.render().then(function(){return y["default"].publish("items/refreshComplete")})};O.prototype._updateState=function(M){var K=new B["default"];this._items=this._setSelected(M.items);this._updateSelectionInView();this._page.start=M.start;this._page.total=M.total;this._page.nextStart=M.nextStart;this._pagination&&this._pagination.set("start",this._page.start);K.resolve(M);return K};O.prototype._updateSelectionInView=function(){var M=this;this._selectionInView=this._selection.filter(function(K){return E["default"].find(M._items,
function(U){return K.id===U.id})})};O.prototype._setSelected=function(M){var K=this;return M.map(function(U){var Z=E["default"].find(K._selection,function(ca){return ca.id===U.id});U.isSelected=Z?!0:!1;return U})};O.prototype._hasFilters=function(){var M=this,K=Object.keys(this._filterState).filter(function(U){return 0<M._filterState[U].length});return this._searchTerm&&0<this._searchTerm.length||K&&0<K.length||this._initialMembershipRequestToggle};O.prototype._findOwnerSortOptionIndex=function(){var M=
-1;this._sortOptions.forEach(function(K,U){"owner"===K.property&&(M=U)});return M};O.prototype._addOwnerSortOption=function(){-1===this._findOwnerSortOptionIndex()&&this._sortOptions.push({property:"owner",label:A["default"].sortDropdown.owner,ascending:!0})};O.prototype._removeOwnerSortOption=function(){var M=this._findOwnerSortOptionIndex();-1<M&&this._sortOptions.splice(M,1)};O.prototype._showProfile=function(M){var K=this;this._popup&&this._popup.close();this._popup=new l["default"]({username:M.target.getAttribute("data-owner"),
opener:M.target,portal:this.portal});this._popup.open();d["default"].once(this._popup,"close",function(){K._popup=void 0})};O.prototype._hideProfile=function(){this._popup&&this._popup.close()};O.prototype._shareCheckUpdate=function(){this._itemsRefresh({forcedDelay:1500})};O.prototype._getCounts=function(M){var K,U;if(this._showAggregationCount){var Z=M?"content/groups/"+M.id+"/search":"search",ca=M?"":this.portal.id?"orgid:"+this.portal.id:"",fa=(null===(K=null===w["default"]||void 0===w["default"]?
void 0:w["default"].viewQueries)||void 0===K?void 0:K.none)||"";K={q:ca,countFields:"access,contentstatus,"+(M?"groupCategories":"categories"),countSize:200,num:0};this.semanticSearchEnabled&&(K.enriched=!0);this.getAggregationQuery&&(K.q=this.getAggregationQuery());if(K.q||M){0>(null===(U=K.q)||void 0===U?void 0:U.indexOf(fa))&&(K.q=K.q+" "+fa);M=w["default"].restBaseUrl+Z;if(U=this._getFilter())K.filter=U+" "+(K.filter||"");t["default"].request({url:M,content:K}).then(function(ka){ka.aggregations&&
ka.aggregations.counts&&ka.aggregations.counts.forEach(function(ma){y["default"].publish("aggregations/update",ma)})})}}};O.prototype._updateCategories=function(M,K){var U=this;M?K?this.group.categorySchema=M:this.portal&&(this.portal.categories=M,w["default"].self.hasCategorySchema=!0):K?delete this.group.categorySchema:(delete this.portal.categories,w["default"].self.hasCategorySchema=!1);setTimeout(function(){return U._getCounts(U.group)},1200)};O.prototype.getDebugParameters=function(){var M=
k["default"].clone(this.page._queryStringParams),K={_qtBoost:"",_qtbConfig:""};return 2===Object.keys(M).filter(function(U){return U in K}).map(function(U){K[U]=M[U];return U}).length?K:{}};O.prototype.renderOrgSettingsTooltip=function(){var M;if(null!==(M=this._specialGroupsFilter)&&void 0!==M&&M.domNode&&(M=this._specialGroupsFilter.domNode.querySelector('li[data-value\x3d"orgSettings"]'))){var K=document.createElement("div");K.classList.add("-margin-left-half");D.render(D.h(g["default"],{}),K);
M.classList.add("flex","flex-align-center");M.appendChild(K)}};return O=v.__decorate([c["default"](a["default"],b["default"],F["default"],h["default"],x["default"])],O)}()})},"arcgisonline/pages/components/Group/OrgSettingsFilterTooltip":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../nls/arcgisonline"],function(V,L,v,w,t){Object.defineProperty(L,"__esModule",{value:!0});t=v.__importDefault(t);L["default"]=function(){return w.h("arcgis-information",{label:t["default"].searchPage.moreInfo,
placement:"bottom-trailing"},w.h("p",{"class":"trailer-0"},t["default"].GroupsWidget.orgSettingsTooltip))}})},"arcgisonline/pages/_filterStateMixin":function(){define("require exports tslib ./pageUtil ./utils/arrays ./utils/clone".split(" "),function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(){this._initialLoading=!0;this._initialStart=1;this._initialNum=20;this._initialMembershipRequestToggle=!1}f.prototype._applyQueryParameters=
function(){var g=w["default"].getQueryParams();this._applySortParameters(g);this._applyViewParameter(g);this._applyPaginationParameter(g);this._applyTypeParameter(g);this._applyMembershipRequestParameter(g);this._applyDateParameter(g);this._applyDateUploadedParameter(g);this._applyDateCreatedParameter(g);this._applyFolderParameter(g);this._applySharingParameter(g);this._applyStatusParameter(g);this._applyRoleParameter(g);this._applyUserTypeParameter(g);this._applyOwnerParameter(g);this._applySpecialGroupsParameter(g);
this._applyCategoriesParameter(g);this._applyLevelParameter(g);this._applyLastLoginParameter(g);this._applySearchInputParameter(g);this._applySearchByParameter(g);this._applyTagsParameter(g);this._applyBBoxParameter(g);this._applyCollaborationParameter(g);this._applyGroupsParameter(g);this._applyAppParameter(g);this._applyCreditsParameter(g)};f.prototype._applyFilters=function(){this._applyPagination();this._applyItemTypeFilter();this._applySpecialGroupsFilter();this._applyDateFilter();this._applyDateUploadedFilter();
this._applyDateCreatedFilter();this._applyFolderFilter();this._applyMembershipRequestFilter();this._applySharingFilter();this._applyStatusFilter();this._applyRoleFilter();this._applyUserTypeFilter();this._applyGroupFilter();this._applyAppFilter();this._applyCreditsFilter();this._applyLastLoginFilter();this._applyOwnerFilter();this._applyCategoryFilter();this._applyLevelFilter();this._applySearchInput();this._applySearchByDropdown();this._applyTagsFilter();this._applyBBoxFilter();this._applyCollaborationFilter()};
f.prototype._applySortParameters=function(g){if(g.sortField){var h=g.sortField;if(h&&this._sortOptions&&this._sortOptions.length){var x=t["default"].find(this._sortOptions,function(u){return u.property===h});x&&(this._sort=l["default"](x))}}g.sortOrder&&this._sort&&(this._sort.ascending="asc"===g.sortOrder)};f.prototype._applyViewParameter=function(g){g.view&&(this._initialView=g.view)};f.prototype._applyPaginationParameter=function(g){if(g.num){var h=parseInt(g.num,10);-1<[20,60,100].indexOf(h)&&
(this._initialNum=h,this._page&&this._page.num&&(this._page.num=this._initialNum))}g.start&&this._page&&(this._initialStart=parseInt(g.start,10)||1,0<this._initialStart%this._page.num&&(this._initialStart=Math.floor(this._initialStart/this._page.num)*this._page.num+1,this._page&&this._page.start&&(this._page.start=this._initialStart)))};f.prototype._applyTypeParameter=function(g){g.focus&&(this._initialTypeFilter="layers-weblayers"===g.focus?"layers":g.focus)};f.prototype._applyDateParameter=function(g){g.modified&&
(this._initialDateFilter=g.modified,this._initialDateFilterTo=g.modified_to?g.modified_to:void 0,this._initialDateFilterFrom=g.modified_from?g.modified_from:void 0)};f.prototype._applyDateCreatedParameter=function(g){g.created&&(this._initialDateCreatedFilter=g.created,this._initialDateCreatedFilterTo=g.created_to?g.created_to:void 0,this._initialDateCreatedFilterFrom=g.created_from?g.created_from:void 0)};f.prototype._applyDateUploadedParameter=function(g){g.uploaded&&(this._initialDateUploadedFilter=
g.uploaded,this._initialDateUploadedFilterTo=g.uploaded_to?g.uploaded_to:void 0,this._initialDateUploadedFilterFrom=g.uploaded_from?g.uploaded_from:void 0)};f.prototype._applyFolderParameter=function(g){g.folder&&(this._initialFolderFilter=g.folder)};f.prototype._applyMembershipRequestParameter=function(g){g._membershipRequestToggle&&(this._initialMembershipRequestToggle="true"===g._membershipRequestToggle)};f.prototype._applySharingParameter=function(g){g.access&&(this._initialSharingFilter=g.access)};
f.prototype._applyStatusParameter=function(g){g.contentstatus&&(this._initialStatusFilter=g.contentstatus)};f.prototype._applyRoleParameter=function(g){g.memberType?this._initialRoleFilter=g.memberType:g.role&&(this._initialRoleFilter=g.role)};f.prototype._applyUserTypeParameter=function(g){g.userLicenseType&&(this._initialUserTypeFilter=g.userLicenseType)};f.prototype._applyGroupsParameter=function(g){g.group&&(this._initialGroupFilter=g.group)};f.prototype._applyAppParameter=function(g){g.app&&
(this._initialAppFilter=g.app)};f.prototype._applyCreditsParameter=function(g){g.availablecredits&&(this._initialCreditsFilter=g.availablecredits)};f.prototype._applyOwnerParameter=function(g){g.owner&&(this._initialOwnerFilter=g.owner)};f.prototype._applySpecialGroupsParameter=function(g){g.specialGroups&&(this._initialSpecialGroupsFilter=g.specialGroups)};f.prototype._applyCategoriesParameter=function(g){if(g.categories)try{this._initialCategoryFilter=JSON.parse(g.categories)}catch(h){}if(g.regions){this._initialCategoryFilter=
this._initialCategoryFilter||[];try{this._initialCategoryFilter=this._initialCategoryFilter.concat(JSON.parse(g.regions))}catch(h){}}};f.prototype._applySearchByParameter=function(g){g.searchBy&&(this._initialSearchBy=g.searchBy)};f.prototype._applySearchInputParameter=function(g){g.searchTerm&&(this._initialSearchInput=g.searchTerm)};f.prototype._applyTagsParameter=function(g){g.tags&&(this._initialTagsFilter=g.tags.split(","))};f.prototype._applyBBoxParameter=function(g){if(g.bbox){g.sortField=
"bbox";var h=g.bbox.split(",");4===h.length&&(this._initialBBoxFilter=[[h[0],h[1]],[h[2],h[3]]],this._initialBBoxLabel=g.bboxLabel)}};f.prototype._applyCollaborationParameter=function(g){g.origin&&(this._initialCollaborationFilter=g.origin)};f.prototype._applyLevelParameter=function(g){g.level&&(this._initialLevelFilter=g.level)};f.prototype._applyLastLoginParameter=function(g){g.lastlogin&&(this._initialDateFilter=g.lastlogin,this._initialDateFilterTo=g.lastlogin_to?g.lastlogin_to:void 0,this._initialDateFilterFrom=
g.lastlogin_from?g.lastlogin_from:void 0)};f.prototype._applyPagination=function(){this._pagination&&this._pagination.setInitialProperties({num:this._initialNum,start:this._initialStart});this._page&&(this._page.num=this._initialNum,this._page.start=this._initialStart)};f.prototype._applyItemTypeFilter=function(){this._initialTypeFilter&&this._typeFilter&&this._typeFilter.select&&this._typeFilter.select(this._initialTypeFilter)};f.prototype._applyDateFilter=function(){this._initialDateFilter&&this._dateFilter&&
this._dateFilter.select&&this._dateFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applyDateCreatedFilter=function(){this._initialDateCreatedFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateCreatedFilter,this._initialDateCreatedFilterFrom,this._initialDateCreatedFilterTo)};f.prototype._applyFolderFilter=function(){this._initialFolderFilter&&this._folderList&&(this._folderList.setInitialFolder(this._initialFolderFilter),
this._folderListMobile.setInitialFolder(this._initialFolderFilter))};f.prototype._applyMembershipRequestFilter=function(){var g;this._initialMembershipRequestToggle&&(null===(g=this._membershipRequestToggle)||void 0===g?0:g.isChecked)&&this._membershipRequestToggle.setChecked(this._initialMembershipRequestToggle)};f.prototype._applyDateUploadedFilter=function(){this._initialDateUploadedFilter&&this._dateCreatedFilter&&this._dateCreatedFilter.select&&this._dateCreatedFilter.select(this._initialDateUploadedFilter,
this._initialDateUploadedFilterFrom,this._initialDateUploadedFilterTo)};f.prototype._applySharingFilter=function(){this._initialSharingFilter&&this._sharingFilter&&this._sharingFilter.select&&this._sharingFilter.select(this._initialSharingFilter)};f.prototype._applyStatusFilter=function(){this._initialStatusFilter&&this._statusFilter&&this._statusFilter.select&&this._statusFilter.select(this._initialStatusFilter)};f.prototype._applyRoleFilter=function(){this._initialRoleFilter&&this._roleFilter&&
this._roleFilter.select&&this._roleFilter.select(this._initialRoleFilter)};f.prototype._applyUserTypeFilter=function(){this._initialUserTypeFilter&&this._userTypeFilter&&this._userTypeFilter.select&&this._userTypeFilter.select(this._initialUserTypeFilter)};f.prototype._applyGroupFilter=function(){this._initialGroupFilter&&this._groupFilter&&this._groupFilter.select&&this._groupFilter.select(this._initialGroupFilter)};f.prototype._applyAppFilter=function(){this._initialAppFilter&&this._appFilter&&
this._appFilter.select&&this._appFilter.select(this._initialAppFilter)};f.prototype._applyCreditsFilter=function(){this._initialCreditsFilter&&this._creditsFilter&&this._creditsFilter.select&&this._creditsFilter.select(this._initialCreditsFilter)};f.prototype._applyLastLoginFilter=function(){this._initialDateFilter&&this._lastLoginFilter&&this._lastLoginFilter.select&&this._lastLoginFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applySpecialGroupsFilter=
function(){var g;this._initialSpecialGroupsFilter&&(null===(g=this._specialGroupsFilter)||void 0===g?0:g.select)&&this._specialGroupsFilter.select(this._initialSpecialGroupsFilter)};f.prototype._applyOwnerFilter=function(){this._initialOwnerFilter&&this._ownerFilter&&this._ownerFilter.select&&this._ownerFilter.select(this._initialOwnerFilter)};f.prototype._applyCategoryFilter=function(){this._initialCategoryFilter&&this._categoryFilter&&this._categoryFilter.select&&this._categoryFilter.select(this._initialCategoryFilter,
this._initialLoading)};f.prototype._applyLevelFilter=function(){this._initialLevelFilter&&this._levelFilter&&this._levelFilter.select&&this._levelFilter.select(this._initialLevelFilter)};f.prototype._applySearchInput=function(){var g,h=this._searchInput||(null===(g=this._controlBar)||void 0===g?void 0:g._searchInput);this._initialSearchInput&&(null===h||void 0===h?0:h.setValue)&&h.setValue(this._initialSearchInput)};f.prototype._applySearchByDropdown=function(){var g=this._searchByDropdown||this._controlBar&&
this._controlBar._searchDropdown;this._initialSearchBy&&g&&g.setSelection&&g.setSelection(this._initialSearchBy)};f.prototype._applyTagsFilter=function(){this._initialTagsFilter&&this._tagsFilter&&this._tagsFilter.select&&this._tagsFilter.select(this._initialTagsFilter)};f.prototype._applyBBoxFilter=function(){this._initialBBoxFilter&&this._bBoxFilter&&this._bBoxFilter.addExtentFilter&&this._bBoxFilter.addExtentFilter(this._initialBBoxFilter,this._initialBBoxLabel)};f.prototype._applyCollaborationFilter=
function(){this._initialCollaborationFilter&&this._collaborationFilter&&this._collaborationFilter.select&&this._collaborationFilter.select(this._initialCollaborationFilter)};return f}()})},"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline ../pageUtil arcgisonline/sharing/dijit/dialog/GeneralDlg".split(" "),function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(){}
f.prototype.checkReadonly=function(g){g||(g=this.portal);return(null===g||void 0===g?0:g.isPortal)&&g.isReadOnly?(t["default"].createSpecifiedDialog(l["default"]).show({title:w["default"].common.errorTitle,message:w["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};f.prototype.memberActionGuard=function(g,h){return-1<["manageItems","viewGroups","viewProfile"].indexOf(g)?!1:this.checkReadonly(h)};return f}()})},"arcgisonline/pages/dijit/CategoryView":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/query dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/alerts ../utils/arrays ../utils/categories ../utils/icons ./Overlay ./Alert ./CategoryView/CategoryListItem dojo/text!./CategoryView/templates/CategoryView.html dojo/text!./CategoryView/templates/Category.html dojo/text!./CategoryView/templates/CategoryGroup.html dojo/text!./CategoryView/templates/_undo.html dojo/i18n!../../nls/arcgisonline ../utils/dom".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);
y=v.__importDefault(y);C=v.__importDefault(C);return function(){function B(D,F){this.title=y["default"].contentCategories.categorizeItems;this.id="categoryView";this.overlayContents=f["default"].substitute(d["default"],{i18n:y["default"],icons:e["default"]});this.shouldScroll=!1;this.constrain=!0;this.i18n=y["default"];this.icons=e["default"];this.history=[];this.historyIndex=null;this.itemDijits=[]}B.prototype.postCreate=function(){this.categories=this.group?this.group.categorySchema:this.portal.categories;
this.rootNode=m["default"].getRootNode(this.categories);this.inherited(arguments);g["default"].place(f["default"].substitute(q["default"],{i18n:y["default"],icons:e["default"]}),this._overlayActionBar)};B.prototype.destroy=function(){var D;this.inherited(arguments);this.itemDijits.forEach(function(F){F.destroy()});null===(D=this.drag)||void 0===D?void 0:D.destroy()};B.prototype.render=function(){var D=this,F=this.domNode.querySelector(".js-item-wrapper");this.items.forEach(function(r){D.itemDijits.push((new b["default"]({item:r,
categorySchema:D.categories,isGroup:!!D.group})).placeAt(F))});this.updateHistory();this.buildCategoryTree();this.setCheckboxState();this.attachDragEvents();this.own(t["default"].subscribe("categories/update",this.setCheckboxState.bind(this)),t["default"].subscribe("categories/update",this.updateHistory.bind(this)),l["default"](".js-category-select-checkbox",this.domNode).on("change",this.toggleCategory.bind(this)),l["default"](".js-undo",this.domNode).on("click",this.back.bind(this)),l["default"](".js-redo",
this.domNode).on("click",this.forward.bind(this)))};B.prototype.attachDragEvents=function(){var D=this;this.drag=u["default"](C["default"].querySelectorAllAsArray(".js-category-card, .js-category-group",this.domNode),{copy:!0,moves:function(F,r,A){return A.classList.contains("js-name")||A.classList.contains("category-view-name")},accepts:function(F,r,A,G){return!r.classList.contains("js-category-group")}});this.drag.on("over",function(F,r,A){r.classList.contains("js-category-card")&&r.classList.add("card-select-active")});
this.drag.on("out",function(F,r,A){r.classList.contains("js-category-card")&&r.classList.remove("card-select-active")});this.drag.on("drop",function(F,r,A,G){if(r&&r.classList.contains("js-category-card")){A=F.querySelector(".js-name").getAttribute("data-category-path");var H=r.getAttribute("data-item-id");r=p["default"].find(D.itemDijits,function(J){return J.item.id===H});F.parentNode.removeChild(F);r.addCategory(A);D.updateHistory()}})};B.prototype.updateHistory=function(){var D=this.itemDijits.map(function(F){return F.updateCategories(!0)});
this.history=this.history.slice(0,this.historyIndex||0);this.history.push(D);this.historyIndex=this.history.length;this.setUndoRedoVisibility()};B.prototype.setUndoRedoVisibility=function(){this.domNode.querySelector(".js-redo").disabled=this.historyIndex===this.history.length;this.domNode.querySelector(".js-undo").disabled=2>this.historyIndex;this._primaryBtn.disabled=1===this.historyIndex};B.prototype.back=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.history[(this.historyIndex||
0)-2]&&(--this.historyIndex,this.renderFromHistory())};B.prototype.forward=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.historyIndex<this.history.length&&(this.historyIndex+=1,this.renderFromHistory())};B.prototype.renderFromHistory=function(){var D=this;this.history[this.historyIndex-1].forEach(function(F,r){D.itemDijits[r].setCategories(F)});this.setCheckboxState();this.setUndoRedoVisibility()};B.prototype.buildCategoryTree=function(){this.domNode.querySelector(".js-category-root").innerHTML=
this.categoriesToDom(this.categories[0].categories,"",!0)};B.prototype.categoriesToDom=function(D,F,r){var A=this;D=D.reduce(function(G,H){var J=F?F+"/"+H.title:"/"+H.title,O=H.categories?A.categoriesToDom(H.categories,J):"";return G+f["default"].substitute(k["default"],{title:H.title,children:O,path:J,icons:e["default"]})},"");return r?D:f["default"].substitute(n["default"],{categories:D,icons:e["default"]})};B.prototype.setCheckboxState=function(){var D=this;C["default"].querySelectorAllAsArray(".js-category-select-checkbox",
this.domNode).forEach(function(F){var r=F.value,A=D.itemDijits.filter(function(G){G=G.updateCategories();var H=0<G.filter(function(J){return-1<J.indexOf(r+"/")}).length;return 0<G.length&&(-1<G.indexOf(r)||H)}).length;F.indeterminate=0<A&&A<D.items.length;F.checked=A===D.items.length})};B.prototype.toggleCategory=function(D){var F=D.target,r=F.value;this.itemDijits.forEach(function(A){F.checked||F.indeterminate?A.addCategory(r):A.removeCategory(r)});this.setCheckboxState();this.updateHistory()};B.prototype.handlePrimary=
function(){this.submit()};B.prototype.submit=function(){var D=this,F=this.itemDijits.map(function(r){var A={};A[r.item.id]=D.group?r.updateCategories(!0):{categories:r.updateCategories(!0)};return A});F={url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(F)}};E["default"].request(F,{usePost:!0}).then(function(r){D.itemDijits.forEach(function(A){A.saveCategories()});new a["default"]({type:"success",text:y["default"].contentCategories.success},
g["default"].create("div",null,document.body));setTimeout(function(){t["default"].publish("aggregations/refresh",D.group);t["default"].publish("view/refresh");t["default"].publish("view/deselectAll");D.close()},1E3)},function(r){"GWM_0021"===(null===r||void 0===r?void 0:r.messageCode)&&z["default"].showAlert("error",r.message)})};return B=v.__decorate([w["default"](x["default"],h["default"],c["default"])],B)}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),
function(V,L,v,w,t,l){function f(p,m){var e=new l["default"],c=[];w["default"].self.hasCategorySchema&&m.length?(p=g([],p),p.forEach(function(a){var b={};b[a]={categories:m};c.push(b)}),t["default"].request({url:w["default"].restBaseUrl+"content/updateItems",content:{items:JSON.stringify(c)}},{usePost:!0}).then(function(){return e.resolve()},function(){return e.resolve()})):e.resolve();return e}function g(p,m){var e=[].concat(p||[]);(null!==m&&void 0!==m?m:[]).forEach(function(c){c&&-1===e.indexOf(c)&&
e.push(c)});return e}function h(p){delete p.isOpen;delete p.depth;delete p.order;p.categories&&(p.categories=p.categories.map(h));return p}function x(p,m,e){void 0===m&&(m="");void 0===e&&(e={});e.__total=e.__total||0;p.forEach(function(c){var a=m+"/"+c.title;a=a.trim();e.__total+=1;e[a]=e.__total;c.categories&&x(c.categories,a,e)});return e}function u(p){var m;(p=null===(m=null===p||void 0===p?void 0:p[0])||void 0===m?void 0:m.title)&&"/"!==p.charAt(0)&&(p="/"+p);return p||"/Categories"}function E(p,
m){return{id:p.id,categories:m?p.groupCategories:p.categories}}function z(p){var m=p.group;p=p.portal;return t["default"].request({url:w["default"].restBaseUrl+(m?"content/groups/"+m.id+"/search":"search"),content:{num:0,q:m?"":"orgid:"+p.id,countFields:m?"groupCategories":"categories",countSize:200}}).then(function(e){return e.aggregations.counts[0].fieldValues})}Object.defineProperty(L,"__esModule",{value:!0});L.getCounts=L.simplifyItemObject=L.getRootNode=L.getSchemaOrder=L.cleanSchema=L.concatUniqueIds=
L.setItemCategories=void 0;w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);L.setItemCategories=f;L.concatUniqueIds=g;L.cleanSchema=h;L.getSchemaOrder=x;L.getRootNode=u;L.simplifyItemObject=E;L.getCounts=z;L["default"]={setItemCategories:f,concatUniqueIds:g,cleanSchema:h,getSchemaOrder:x,getRootNode:u,simplifyItemObject:E,getCounts:z}})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);return function(){function n(){this.i18n=
d["default"];this.icons=c["default"];this.templateString=b["default"];this.hide=e["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=g["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=d["default"].common.save;
this.loadingText=d["default"].common.loading;this.uid=null}n.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=u["default"]();this.srcNodeRef||(this.srcNodeRef=x["default"].place(x["default"].create("div"),document.body,"last"))};n.prototype.postCreate=function(){this.inherited(arguments);x["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||h["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
h["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&h["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&h["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};n.prototype._addEventListeners=function(){var q=this;this.own(l["default"].subscribe("overlay/open",function(){return q.open()}),w["default"](window,"resize",t["default"](function(y){return q.resizeHandler(y)},
30)),w["default"](this.closeBtn,"click",function(y){return q.handleCancel(y)}),w["default"](this._backArrow,"click",function(){return q.close()}),w["default"](this._primaryBtn,"click",function(y){return q.handlePrimary(y)}),w["default"](this._cancelBtn,"click",function(y){return q.handleCancel(y)}),w["default"](this._backgroundScrim,"click",function(y){return q.handleScrimClick(y)}),w["default"](document,"keyup",function(y){"Escape"===y.key&&q.close()}))};n.prototype.open=function(){var q=this;this.defaultOpener=
document.activeElement;var y=document.documentElement,C=y.scrollTop,B=document.body.scrollTop,D=y.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;f["default"](this.domNode).addClass("is-active");var F=a["default"].getFocusableElements(this.domNode);0<F.length&&F[0].focus();this._trapHandler=a["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=D)||setTimeout(function(){g["default"]("ios")&&(q._bodyScrollTop=Math.max(window.pageYOffset,
C,B));h["default"].add(y,q._preventScrollClass)},300)};n.prototype.close=function(q){var y=this,C,B;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(D){!0===D&&y._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",q);q=this.opener||this.defaultOpener||document.body;null===(C=null===q||void 0===q?void 0:q.setFocus)||void 0===C?void 0:C.call(q);null===(B=null===q||void 0===q?void 0:q.focus)||
void 0===B?void 0:B.call(q)};n.prototype.confirmClose=function(q){var y=new E["default"];q=confirm(q);y.resolve(q);return y};n.prototype.showLoader=function(q){this._overlayLoaderText.textContent=q||"";this._overlayLoader.classList.add("is-active")};n.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};n.prototype.setUnsaved=function(q){this._unsavedChanges=q};n.prototype.handlePrimary=function(q){};n.prototype.handleHelp=function(q){};
n.prototype.handleCancel=function(q){this.close()};n.prototype.handleScrimClick=function(q){this.closeOnScrimClick&&q.target===q.currentTarget&&this.close()};n.prototype.resizeHandler=function(q){q=window.innerWidth;this._screenWidth>=this.maxWidth&&q<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&q>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=q};n.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(h["default"].remove(document.documentElement,this._preventScrollClass),g["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};n.prototype._destroy=function(){var q=this;this.domNode&&a["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return q.destroy()},300)};return n=v.__decorate([k["default"](p["default"],z["default"],m["default"])],n)}()})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],
function(){dojox.uuid.generateRandomUuid=function(){function V(){for(var l=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>l.length;)l="0"+l;return l}var L=V(),v=V();v=v.substring(0,4)+"-4"+v.substring(5,8);var w=V();w="8"+w.substring(1,4)+"-"+w.substring(4,8);var t=V();return(L+"-"+v+"-"+w+t).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(V){V.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";
dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(L,v){if(!L)throw v||(v="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(v);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(L){L=L.toString();var v=V.isString(L)&&36==L.length&&L==L.toLowerCase();if(v){L=
L.split("-");v=5==L.length&&8==L[0].length&&4==L[1].length&&4==L[2].length&&4==L[3].length&&12==L[4].length;for(var w in L){var t=parseInt(L[w],16);v=v&&isFinite(t)}}return v};dojox.uuid.getVariant=function(L){if(!dojox.uuid._ourVariantLookupTable){var v=dojox.uuid.variant,w=[];w[0]=v.NCS;w[1]=v.NCS;w[2]=v.NCS;w[3]=v.NCS;w[4]=v.NCS;w[5]=v.NCS;w[6]=v.NCS;w[7]=v.NCS;w[8]=v.DCE;w[9]=v.DCE;w[10]=v.DCE;w[11]=v.DCE;w[12]=v.MICROSOFT;w[13]=v.MICROSOFT;w[14]=v.UNKNOWN;w[15]=v.UNKNOWN;dojox.uuid._ourVariantLookupTable=
w}L=L.toString();L=L.charAt(19);L=parseInt(L,16);dojox.uuid.assert(0<=L&&16>=L);return dojox.uuid._ourVariantLookupTable[L]};dojox.uuid.getVersion=function(L){dojox.uuid.assert(dojox.uuid.getVariant(L)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");L=L.toString();L=L.charAt(14);return parseInt(L,16)};dojox.uuid.getNode=function(L){dojox.uuid.assert(dojox.uuid.getVersion(L)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");
L=L.toString();return L.split("-")[4]};dojox.uuid.getTimestamp=function(L,v){dojox.uuid.assert(dojox.uuid.getVersion(L)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");L=L.toString();v||(v=null);switch(v){case "string":case String:return dojox.uuid.getTimestamp(L,Date).toUTCString();case "hex":var w=L.split("-"),t=w[0],l=w[1];w=w[2];w=w.slice(1);t=w+l+t;dojox.uuid.assert(15==t.length);return t;case null:case "date":case Date:return w=L.split("-"),t=parseInt(w[0],
16),l=parseInt(w[1],16),w=(parseInt(w[2],16)&4095)<<16,w=4294967296*(w+l),w+=t,new Date(w/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+v)}};return dojox.uuid})},"arcgisonline/pages/dijit/CategoryView/CategoryListItem":function(){define("require exports tslib dojo/_base/lang ../Card/_CardBase ../CategoryPicker dojo/text!./templates/CategoryListViewCard.html arcgisonline/tsutils/declareDecorator".split(" "),function(V,L,v,w,t,l,f,g){w=v.__importDefault(w);
t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);return function(){function h(x,u){this.templateString=f["default"];this.categories=w["default"].clone(x.isGroup?x.item.groupCategories:x.item.categories)}h.prototype.postCreate=function(){this.inherited(arguments);this.categoryPicker=new l["default"]({categories:this.categories,schema:this.categorySchema},this._chipWrap);this.categoryPicker.startup()};h.prototype.destroy=function(){this.inherited(arguments);
this.categoryPicker.destroy()};h.prototype._cardOpen=function(){return!1};h.prototype.updateCategories=function(x){return this.categories=this.categoryPicker.getCategories(x)};h.prototype.setCategories=function(x){this.categories=x;this.categoryPicker.setCategories(x,!0)};h.prototype.addCategory=function(x){0<this.categories.filter(function(u){return-1<u.indexOf(x+"/")}).length||(this.categoryPicker.addCategory(x),this.categories=this.categoryPicker.getCategories())};h.prototype.removeCategory=function(x){this.categoryPicker.removeCategory(x);
this.categories=this.categoryPicker.getCategories()};h.prototype.saveCategories=function(){this.item.categories=this.updateCategories()};return h=v.__decorate([g["default"](t["default"])],h)}()})},"arcgisonline/pages/dijit/Card/_CardBase":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Favorite ../ItemShareSummary ../../utils/formatters ../../utils/item ../../utils/setItemUrls ../../utils/icons ../../utils/arrays ../../utils/dom ../../item/_Actions ../../../esriGeowConfig ./_getItemClasses dojo/text!./Card.html dojo/text!./OpenDropdown.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../OrgPopup/OrgPopup".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=
v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);var D;(function(F){F.notebook="notebookViewer";F.map="mapViewer";F.newMap="newMapViewer";F.download="download";F.desktop="openDesktop";F.pro="openPro";F.story="storyMapViewer"})(D||(D={}));return function(){function F(r){this.i18n=y["default"];this.template=n["default"];this.fullDate=z["default"].fullDate;this.completeDate=z["default"].completeDate;this.empty=z["default"].empty;this.getAccess=z["default"].getAccess;
this.getAccessIcon=z["default"].getAccessIcon;this.formatNumViews=z["default"].formatNumViews;this.formatViewsLabel=z["default"].formatViewsLabel;this.hasSharedOwnershipGroups=this.fullItemTypes=!1;this.hide=z["default"].hide;this.show=z["default"].show;this.icons=e["default"];this.isImage=!1;this.imageClass="";this.cssClasses=[];this.select=this.favoritesDisabled=!1;this.checked=this.selectedClass="";this.selectItem=y["default"].GroupWidget.selectItem;this.disabled="disabled";this.addSearchTelemetryParams=
!1;this.searchTerm="";this.canCreateNotebooks=!1}F.prototype.postMixInProperties=function(){var r=this,A,G,H,J,O,M;this.formatDisplayName=z["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.favoritesDisabled=!this.portalUser;this.selectCardClass=this.select?"card-select":"";this.isSelected&&(this.selectedClass="card-select-active",this.checked="checked",this.selectItem=y["default"].GroupWidget.unselectItem);this.hasSublayers=!(null===(A=this.item.sublayers)||void 0===A||!A.length);
this.removedClass=this.isRemoved?"card-select-removed":"";this.item.canShare=this.allowShare&&p["default"].canShareItem(this.item,this.portalUser);this.item.isAdmin=null!==(G=this.item.isAdmin)&&void 0!==G?G:(null===(H=this.portalUser)||void 0===H?void 0:H.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId;this.item.snippet=250<this.item.snippet.length?this.item.snippet.substring(0,250)+"\u2026":this.item.snippet;this.item.badges=p["default"].getBadges(this.item,this.isWide,this.portalUser);
this.item.ownerText=z["default"].formatOwnerText(this.item);this.item.accessIcon=z["default"].getAccessIcon(this.item.access);this.canCreateNotebooks=null===(J=this.portalUser)||void 0===J?void 0:J.userRole.canCreateNotebooks();this.item.openIn.forEach(function(K){return m["default"][K](r.item)});this.item.downloadUrl="file"===this.item.classification?m["default"].getItemDataUrl(this.item):"";this.item.defaultOpenUrl=this._getDefaultOpenUrl(this.item);this.item.defaultOpenIcon=this.item.defaultOpenIcon||
"launch";this.item.defaultOpenSvg=null!==(M=null===(O=e["default"].inline[this.item.defaultOpenIcon])||void 0===O?void 0:O["16"])&&void 0!==M?M:e["default"].inline.launch["16"];this.item.defaultOpenText=this._getDefaultOpenText(this.item);this._setDefaultThumbnail(this.item);this.cssClasses=k["default"](this.item,this.portalUser);"Image"===this.item.type&&(this.isImage=!0,this.imageClass="card--image-item")};F.prototype._setDefaultThumbnail=function(r){var A;r.thumbnailUrl=null!==(A=this.useMostRecentToken(r.thumbnailUrl))&&
void 0!==A?A:"";"Notebook"===r.type&&(A=d["default"].baseUrl+"js/arcgisonline/css/images/notebook-thumb.png",r.thumbnailUrl=r.thumbnailUrl||A);r.largeThumbnailUrl=""+r.thumbnailUrl+(-1<r.thumbnailUrl.search("\\?token\x3d")?"\x26":"?")+"w\x3d400"};F.prototype.useMostRecentToken=function(r){var A,G=this.item.portal.getPortalUser(),H=null===(A=null===G||void 0===G?void 0:G.credential)||void 0===A?void 0:A.token;return m["default"].swivelToken(r,null===G||void 0===G?void 0:G.token,H)};F.prototype._getDefaultOpenText=
function(r){return"Notebook"!==r.type||this.canCreateNotebooks?this.item.defaultOpenText||y["default"].itemLinks.viewDetails:y["default"].itemLinks.viewDetails};F.prototype.postCreate=function(){var r=this,A,G;this.inherited(arguments);this.cssClasses.filter(function(U){return U}).forEach(function(U){return r.domNode.classList.add(U)});var H=this.item,J=this.portalUser,O=this.domNode.querySelector(".js-favorites-container"),M=this.domNode.querySelector(".js-open-dropdown-container"),K=this.domNode.querySelector(".js-default-open");
this.favoritesDisabled||(this._favoriteDijit=new u["default"]({item:H},O));M&&w["default"].place(l["default"].substitute(q["default"],{item:H,i18n:y["default"],icons:e["default"],telemetryParams:this.addSearchTelemetryParams?"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+this.itemIndex+"\x26searchTerm\x3d"+this.searchTerm+"\x26searchFacet\x3dcard%20dropdown%20item%20details":""},null,this),M);if("Feature Service"===H.type||"Feature Collection"===H.type)O=this.domNode.querySelector(".js-layers-tables"),
M=this.domNode.querySelector(".js-layers-tables-toggle"),O&&M&&d["default"].deepLayerSearchEnabled&&a["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:H,layers:H.sublayers,portal:H.portal,api:3,user:J,searchTerm:this.searchTerm,config:d["default"],telemetry:this.telemetry,border:!0,tooltip:this.formatDisplayName(H.displayName),i18nNoService:y["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:y["default"].SelectLayersWFS.noLayers},O).appendChild(M);
new E["default"]({item:H,portalUser:J,right:!0,canShare:this.item.canShare,allowShare:this.allowShare,showShareGroups:this.showShareGroups&&this.isWide,telemetry:this.telemetry},this.domNode.querySelector(".js-share-summary"));if(K){H=this.item.defaultOpenUrl;if(H===D.download||H===D.desktop||H===D.pro)K.classList.add("js-action"),K.setAttribute("data-action",this.item.defaultOpenUrl);this.item.defaultOpenUrl===D.newMap&&(H="modern"===this.item.portal.defaultMapViewer&&this.item.canOpenInNewMapViewer?
this.item.newMapViewerUrl:this.item.mapViewerUrl,K.href=H,K.setAttribute("data-href",H));(H=this.item.openIn)&&H[0]&&H[0]!==D.map&&this.item[H[0]+"Url"]&&K.setAttribute("target","_blank")}this._addEventListeners();(null===(A=this.item.portal)||void 0===A?0:A.isPortal)&&a["default"].hideNodes(null===(G=this.domNode)||void 0===G?void 0:G.querySelectorAll(".js-hide-portal"))};F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy()};F.prototype._getDefaultOpenUrl=function(r){var A=
"item.html?id\x3d"+r.id,G=r.openIn&&r.openIn[0];return r.defaultOpenText===y["default"].itemLinks.openDesktop?D.desktop:r.defaultOpenText===y["default"].itemLinks.openPro?D.pro:r.defaultOpenText===y["default"].itemLinks.openVRExperience?r.vrExperienceUrl:!G||G!==D.notebook||this.portalUser&&this.portalUser.userRole.canCreateNotebooks()?G&&G!==D.map&&r[G+"Url"]?r[G+"Url"]:"download-to"===r.defaultOpenIcon||c["default"].includes(r.types,"is-pdf")?D.download:G===D.map?D.newMap:G===D.story?D.story:A:
A};F.prototype._addEventListeners=function(){var r=this;this.own(t["default"](".js-card-select-check-mark-wrap",this.domNode).on("click",function(G){G.stopPropagation()}),t["default"](".js-card-select-check-mark",this.domNode).on("change",function(G){r[G.target.checked?"_select":"_deselect"]()}),t["default"](this.domNode).on("click",this._toggleSelected.bind(this)),t["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),t["default"](".js-action",this.domNode).on("click",
this._handleAction.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),t["default"](".js-card-image",this.domNode).on("error",this._cardImageError.bind(this)),t["default"](".js-card-title-link",this.domNode).on("click",this._cardOpen.bind(this)),t["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),t["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),this.item.watch(this._itemUpdate.bind(this)));
var A=this.domNode.querySelector(".js-verified-owner-link");A&&this.own(f["default"](A,"click",this.showOrgPopup.bind(this)));this._favoriteDijit&&this.own(this._favoriteDijit.on("click",function(G){G.stopPropagation()}))};F.prototype._handleAction=function(r){var A=this;r.preventDefault();var G=r.currentTarget.getAttribute("data-action"),H=this.item,J=this.portalUser,O=this.item.portal;if(G&&b["default"][G])if("share"!==G||this.item.isOwner)b["default"][G]({evt:r,item:H,user:J,portal:O});else this.item.getOwnerProfile(!0,
!0).then(function(M){A.item.itemOwner=M;b["default"].share({evt:r,item:H,user:J,portal:O})})};F.prototype._select=function(){this.domNode.classList.add("card-select-active");this.item.isSelected=!0;var r=this.domNode.querySelector(".js-card-select-check-mark");r.parentNode.setAttribute("aria-label",y["default"].GroupWidget.unselectItem);r.checked=!0;g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("card-select-active");this.item.isSelected=
!1;var r=this.domNode.querySelector(".js-card-select-check-mark");r&&(r.parentNode.setAttribute("aria-label",y["default"].GroupWidget.selectItem),r.checked=!1);g["default"].publish("view/deselect",this.item)};F.prototype._toggleSelected=function(r){"ARCGIS-LAYERS-AND-TABLES-SUMMARY-POPUP"!==r.target.tagName&&this.select&&(this.domNode.classList.contains("card-select-active")?this._deselect():this._select())};F.prototype._showProfile=function(r){r.stopPropagation();g["default"].publish("profile/show",
r)};F.prototype.showOrgPopup=function(r){r.stopPropagation();(new B["default"]({item:this.item,opener:r.target})).open()};F.prototype._cardImageError=function(r){r.preventDefault();r.target.src="js/arcgisonline/css/images/default_thumb.png"};F.prototype._cardOpen=function(r){g["default"].publish("card/open",this.itemIndex,r)};F.prototype._itemUpdate=function(r,A,G){g["default"].publish("item/update",{item:this.item,name:r,oldValue:A,value:G})};F.prototype._shareItemDropdown=function(r){this.domNode.querySelector(".js-item-share-dropdown").blur()};
F.prototype._categorizeItem=function(){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=v.__decorate([C["default"](h["default"],x["default"])],F)}()})},"arcgisonline/pages/dijit/Favorite":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-class dojo/on dojo/topic dojo/text!./Favorite/Favorite.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/icons ../../sharing/geow/Content ./_CheckReadonlyMixin".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);return function(){function e(c,a){this.templateString=g["default"];this.i18n=h["default"]}e.prototype.postMixInProperties=function(){this.inherited(arguments)};e.prototype.postCreate=function(){this.inherited(arguments);
this._setState(this.item.isFavorite);this._addEventListeners()};e.prototype.getFavorite=function(){var c=this;E["default"].isFavorite(this.item).then(function(a){c._setState(a)},function(){c._setState(!1)})};e.prototype._setState=function(c){void 0!==this.button&&((this.isFavorite=c)?(this.button.setAttribute("aria-label",h["default"].common.unfavorite),t["default"].add(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.isFavorite+"\x3c/span\x3e"+
z["default"]["star-f"]["16"]):(this.button.setAttribute("aria-label",h["default"].common.favorite),t["default"].remove(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.notFavorite+"\x3c/span\x3e"+z["default"].star["16"]))};e.prototype._addEventListeners=function(){this.own(l["default"](this.button,"click",this._clickHandler.bind(this)))};e.prototype._clickHandler=function(c){var a=this;this.checkReadonly(this.item.portal)||(c=this.isFavorite?
"removeFromFavorites":"addToFavorites",this._setState(!this.isFavorite),this.item.set("isFavorite",this.isFavorite),p["default"][c](this.item).then(function(){a.button.blur()},function(b){f["default"].publish("alert/show",{type:"error",text:null===b||void 0===b?void 0:b.message});a._setState(!a.isFavorite);a.item.set("isFavorite",!a.isFavorite)}))};return e=v.__decorate([w["default"](u["default"],x["default"],m["default"])],e)}()})},"arcgisonline/pages/dijit/ItemShareSummary":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/on dojo/dom-construct dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../utils/icons ../utils/dom ../utils/item dojo/text!./ItemShareSummary/ItemShareSummary.html dojo/text!./ItemShareSummary/ItemShareSummaryOverflow.html dojo/i18n!../../nls/arcgisonline ../item/_Actions ../organization/widgets/GroupIcon".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);return function(){function a(b,d){this.templateString=z["default"];this.i18n=m["default"];this.icons=x["default"];this.showShareGroups=
this.canShare=this.right=!1;this.responsive=!0;this.totalGroups=0;this.responsiveClass=this.directionClass=""}a.prototype.postMixInProperties=function(){this.inherited(arguments);var b={"private":x["default"].user["16"],shared:x["default"].user["16"],org:x["default"].organization["16"],"public":x["default"].globe["16"]},d={"private":m["default"].itemSharing.owner,shared:m["default"].itemSharing.owner,org:m["default"].itemSharing.org,"public":m["default"].itemSharing["public"]};this.levelIcon=this.item.access&&
b[this.item.access]||"";this.levelTooltip=m["default"].itemSharing.shareLevel+" "+d[this.item.access];this.right&&(this.directionClass="share-summary--right");this.responsive&&(this.responsiveClass="share-summary--responsive")};a.prototype.postCreate=function(){var b=this,d;this.inherited(arguments);var k=!this.showShareGroups&&"shared"===this.item.access,n=this.showShareGroups&&0<(null===(d=this.item.groupData)||void 0===d?void 0:d.length),q=this.domNode.querySelector(".js-share-button"),y=m["default"].itemSharing.updateSharing;
d=m["default"].itemSharing.ariaLabels.privateGroups;"shared"!==this.item.access&&(d=m["default"].itemSharing.ariaLabels[""+this.item.access+(n?"Groups":"")]);this.allowShare&&(this.item.canShare||E["default"].canShareItem(this.item,this.portalUser))?(this.own(t["default"](q,"click",this.handleClick.bind(this))),q.classList.add("share-summary__button--editable")):(y=l["default"].create("span"),l["default"].place(y,q,"before"),y.innerHTML=q.innerHTML,q.parentNode.removeChild(q),q=y,u["default"].addClasses(q,
"share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short".split(" ")),q.querySelector(".js-icon").tabIndex=0,y="");var C=""+y+(y?", ":"")+m["default"].itemSharing.shareLevel+" "+d;q.setAttribute("aria-label",m["default"].itemSharing.shareLevel+" "+d+" "+y);q.setAttribute("data-tooltip",C);n&&(this.totalGroups=this.item.sharedGroups||0,this.item.groupData.slice(0,3).forEach(function(B){B.id=B.id||B.groupId;B.title=B.title||B.groupTitle;B.thumbnail=
B.thumbnail||B.groupThumbnail;new c["default"]({group:B,portal:b.item.portal,size:"24",letterSize:"16",tooltipClass:"",cssClasses:"flex-0 share-summary__group"},l["default"].create("div",{},q))}),3<this.totalGroups&&l["default"].place(f["default"].substitute(p["default"],{num:this.totalGroups-3}),q,"last"));k&&this.domNode.classList.add("share-summary--show-unknown-group");n&&this.domNode.classList.add("share-summary--show-unknown-group-responsive");k||n||(this.domNode.querySelector(".js-sharing-plus-icon").classList.add("hide"),
this.domNode.classList.add("share-summary--no-groups"))};a.prototype.handleClick=function(b){var d=this;b.preventDefault();b.stopPropagation();var k=this.item,n=this.telemetry,q=k.portal,y=this.portalUser;this.item.isOwner?e["default"].share({evt:b,item:k,user:y,portal:q,telemetry:n}):this.item.getOwnerProfile(!0,!0).then(function(C){d.item.itemOwner=C;e["default"].share({evt:b,item:k,user:y,portal:q,telemetry:n})})};return a=v.__decorate([w["default"](h["default"],g["default"])],a)}()})},"arcgisonline/pages/item/_Actions":function(){define("require exports tslib dojo/_base/lang dojo/_base/event dojo/on dojo/aspect dojo/dom-attr dojo/topic dojo/promise/all dojo/Deferred dojo/cookie dojo/json dojo/dom-class dojo/dom-construct dojo/string dojo/has esri/config esri/lang ../pageUtil ../portal/PortalItem ../utils/strings ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Content ../../map/utils/getMapCookie ../../sharing/dijit/dialog/ConfirmDialog ../dijit/ChangeOwner ../dijit/MoveItem ../../sharing/dijit/dialog/DeleteWarningDlg ../../sharing/dijit/dialog/ExportDlg ../../sharing/dijit/dialog/ExtentDlg ../../sharing/dijit/dialog/GeneralDlg ../../sharing/dijit/dialog/ShareOwnershipDlg ../../sharing/utilShare ../../sharing/dijit/dialog/RateLimiting ../../sharing/dijit/dialog/LayerTimeSettings ../../sharing/dijit/dialog/UpdateItemDlg ../../sharing/dijit/dialog/PublishTileServiceDlg ../../sharing/dijit/dialog/CreateAppDlg ../organization/widgets/ProfilePopup ./widgets/AdvancedOfflineOptions/AdvancedOfflineOptions ../../sharing/dijit/dialog/AttachCodeDlg ../../sharing/dijit/dialog/OpenMapDlg ../../sharing/dijit/dialog/ManageSceneCache ../../sharing/dijit/dialog/JobStatusDlg ../../sharing/dijit/AppendData ../dijit/ReplaceLayer/ReplaceLayer ../dijit/ReplaceLayer/ReplaceSceneLayer ../../sharing/dijit/dialog/OverwriteFromCloud ../../sharing/dijit/dialog/_CreateItemUtilMixin ./widgets/_metadata ./widgets/typeOptions/mapOptions/httpsUpdate ./widgets/typeOptions/mapOptions/domainUpdate ../utils/setItemUrls ../utils/item ../utils/alerts ../utils/arrays ../utils/dom ../utils/number ../utils/verified ../utils/icons ../serviceUtil ../components/Collaborations/collab-service esri/request arcgis-components/wrappers/Share dojo/i18n!../../nls/arcgisonline ../portal/PortalUser preact ../components/ConfirmDialog ../statusUtil ../components/ImageUploadModal/ImageUploadModal ../components/UpdateViewModal".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za,ia,T,la,S,P,I,ba,W,aa,Q,N,R,X,Y,da,ea,ha,na,qa,ua,ya,Aa,Ba,Oa,Ja,wa,Ea,sa,oa){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);
a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importDefault(F);r=v.__importDefault(r);A=v.__importDefault(A);G=v.__importDefault(G);H=v.__importDefault(H);J=v.__importDefault(J);O=v.__importDefault(O);M=v.__importDefault(M);K=v.__importDefault(K);U=v.__importDefault(U);Z=v.__importDefault(Z);ca=v.__importDefault(ca);
fa=v.__importDefault(fa);ka=v.__importDefault(ka);ma=v.__importDefault(ma);ra=v.__importDefault(ra);za=v.__importDefault(za);ia=v.__importDefault(ia);T=v.__importDefault(T);la=v.__importDefault(la);S=v.__importDefault(S);P=v.__importDefault(P);I=v.__importDefault(I);ba=v.__importDefault(ba);W=v.__importDefault(W);aa=v.__importDefault(aa);Q=v.__importDefault(Q);N=v.__importDefault(N);R=v.__importDefault(R);X=v.__importDefault(X);Y=v.__importDefault(Y);da=v.__importDefault(da);ea=v.__importDefault(ea);
ha=v.__importDefault(ha);na=v.__importDefault(na);qa=v.__importDefault(qa);ua=v.__importDefault(ua);ya=v.__importDefault(ya);Ba=v.__importDefault(Ba);Oa=v.__importDefault(Oa);wa=v.__importDefault(wa);Ea=v.__importDefault(Ea);sa=v.__importDefault(sa);oa=v.__importDefault(oa);return function(xa){function ta(){return null!==xa&&xa.apply(this,arguments)||this}v.__extends(ta,xa);ta.openDefault=function(ja){var pa,va=ja.evt,Fa=ja.item,Da=null===(pa=null===Fa||void 0===Fa?void 0:Fa.openIn)||void 0===pa?
void 0:pa[0],Ca="Operation View"===Fa.type||"Dashboard"===Fa.type;pa="appViewer"===Da||"StoryMap"===Fa.type;var Ia="mapViewer"===Da,La="notebookViewer"===Da,Ga=Y["default"].includes(Fa.types,"is-desktop")||Y["default"].includes(Fa.types,"is-desktopPro"),Ma=Y["default"].includes(Fa.types,"is-pro"),Ha=Fa.types.some(function(Na){return-1<["is-download","is-pdf","is-file"].indexOf(Na)}),Ka=Y["default"].includes(Fa.types,"is-downloadImage");(Da=Ca?null:document.querySelector(".js-open-"+(pa?"url":Da)))?
(va=g["default"].get(Da,"href"),pa?window.open(va):Ia?this.newMapViewer(ja):window.location.href=va):La?window.open(Fa.notebookViewerUrl,"_blank").focus():Ga?this.openDesktop(ja):Ma?this.openPro(ja):Ha?this.download(ja):Ka?this.downloadImage(ja):Ca?(Da=Array.prototype.slice.call(document.querySelectorAll(".js-open-btn")).filter(function(Na){return 0!==(null===Na||void 0===Na?void 0:Na.offsetHeight)}).shift(),va=Da.getAttribute("href"),"Dashboard"===Fa.type?window.open(va):window.location.href=va):
t["default"].stop(va)};ta.exportData=function(ja){var pa=ja.evt,va=ja.item,Fa=new G["default"],Da=ja.layerId||g["default"].get(pa.currentTarget,"data-layerId");ja=ja.layer||(b["default"].isDefined(Da)?d["default"].findLayer(Da,va.layers):va.layers);Fa.show(va,ja,g["default"].get(pa.target,"data-type"));l["default"](Fa,"done",function(Ca){Fa.hide().then(function(){window.location.href="item.html?id\x3d"+Ca.itemId})})};ta.exportImagery=function(ja){var pa=ja.item,va=pa.portal||{},Fa=this._getAvailableCredits(va),
Da=va.isPortal?null:new u["default"];if(!va.isPortal){va=qa["default"].fetchExportImageryCredits(pa);var Ca=va.canceller;va.dfd.then(function(La){var Ga=La.outputValue;La.success&&Ga.credits?(La=e["default"].substitute(Ba["default"].exportDlg.costForTilePackage,{credits:ea["default"].format(Ga.credits),availableCredits:ea["default"].format(Fa)}),Da.resolve({success:Fa>=Ga.credits,code:1,message:La})):Da.reject(Ba["default"].errorWidget.defaultError);return null},function(){return Da.reject(Ba["default"].errorWidget.defaultError)})}var Ia=
new G["default"];Ia.show(pa,pa.layers,g["default"].get(ja.evt.target,"data-type"),{waitForCredits:Da,canceller:Ca});l["default"](Ia,"done",function(La){Ia.hide().then(function(){window.location.href="item.html?id\x3d"+La.itemId})})};ta.appendData=function(ja){var pa=ja.evt,va=ja.page,Fa=ja.item;ja=b["default"].isDefined(ja.layerId)?ja.layerId:g["default"].get(pa.currentTarget,"data-layerId");ja=b["default"].isDefined(ja)?d["default"].findLayer(ja,Fa.layers):null;var Da=(new la["default"]({item:Fa,
layer:ja,layers:ja?[ja]:Fa.layers})).show();l["default"](Da,"hide",function(Ca){va._showDataLastUpdated(Fa);Da.destroyRecursive()})};ta.overwriteFromCloud=function(ja){var pa=ja.page.portal,va=ja.item,Fa=new I["default"];ba["default"].getCloudProviderItemResource(va).then(function(Da){Fa.startup(pa,Da,va);Fa.showModal()},this._showError);l["default"](Fa,"hide",function(Da){Fa.destroyRecursive()})};ta.download=function(ja){ja=ja.item;y["default"]._fetchItemData(ja,this.getItemDataUrl(ja))};ta.openDesktop=
function(ja){var pa=ja.evt,va=ja.item,Fa=va.portal||{};pa=pa&&g["default"].get(pa.target,"data-type")||"arcmap";var Da=va.url||"",Ca="Map Service"===va.type,Ia="Image Service"===va.type,La=y["default"].onAGOLFederatedServer(Da)||y["default"].onFederatedServer(Da),Ga=-1!==Da.indexOf(".arcgis.com/")&&-1!==Da.indexOf("//landscape"),Ma=va.openPkg,Ha=va.openData;Da=va.openLyr;"pro"===pa?this.openPro(ja):(Fa.isPortal||!Ca&&!Ia||va.isHostedService||va.isServiceProxy||La||Ga||(Da=!0),ja=Ma?this._getItemPkgPath(va):
Ha?this.getItemDataUrl(va):Da?this._getLyrPath(va):this._getPItemPath(va),Da?y["default"].openPageAndCount(va.id,ja):y["default"]._fetchItemData(va,ja))};ta.openPro=function(ja){ja=ja.item;var pa=this._getPItemXPath(ja);ja.openLyr?y["default"].openPageAndCount(ja.id,pa):y["default"]._fetchItemData(ja,pa)};ta.share=function(ja,pa){var va,Fa,Da,Ca,Ia=ja.items||(ja.item?[ja.item]:[]),La=ja.item||Ia[0]||{},Ga=document.createElement("div");Ga.classList.add("share-item-wrapper");document.body.appendChild(Ga);
var Ma=ja.telemetryWorkflow,Ha=ja.user.portal||(null===(va=ja.page)||void 0===va?void 0:va.portal),Ka=ja.user||(null===(Fa=ja.page)||void 0===Fa?void 0:Fa.portalUser),Na=Ia.length,Qa=window.location.href,Pa=-1<Qa.indexOf("item.html")?"item":"content",Ra=ja.telemetry||(null===(Da=ja.page)||void 0===Da?void 0:Da.telemetry);!Ma&&Ra&&(Ma=Ra.startWorkflow("share",{details:La.access,pageUrl:Qa,pageName:Pa,count:Na}));var Sa=function(){var Ua;document.documentElement.classList.remove("overflow-hidden");
Ga.parentElement.removeChild(Ga);null===(Ua=null===pa||void 0===pa?void 0:pa.target)||void 0===Ua?void 0:Ua.focus()};document.documentElement.classList.add("overflow-hidden");var Va=new u["default"];Ha.canHavePartnerCollab()?ua["default"].getCollaborations().then(function(Ua){var Ta;Ua=(null===(Ta=null===Ua||void 0===Ua?void 0:Ua.trustedOrgs)||void 0===Ta?void 0:Ta.filter(function(Xa){return-1<Xa.from.established&&-1<Xa.to.established}))||[];Va.resolve(Ua)}):Va.resolve([]);Va.then(function(Ua){new Aa.ShareWrapper(Ga,
{apiVersion:3,portal:Ha,portalUser:Ka,request:ya["default"],initialState:{resources:{items:Ia},utilities:{onCancel:function(){Ma&&Ra&&Ra.cancelWorkflow("share",{pageName:Pa,pageUrl:Qa});Sa()},onComplete:function(Ta){var Xa,ab=0<(null===(Xa=null===Ta||void 0===Ta?void 0:Ta.errors)||void 0===Xa?void 0:Xa.length)&&Ta.errors[0];if(Ma){Xa={pageName:Pa,pageUrl:Qa,count:Na,details:void 0,error:void 0};if(Ta.selectedOptions){var Wa=Ta.selectedOptions,db=Object.keys(Ta.selectedOptions).filter(function($a){return"total"!==
$a}).reduce(function($a,Ya){if(!$a||Wa[Ya]>Wa[$a])$a=Ya;return $a},null);Xa.details=Wa[db]===Wa.total?db:"mixed"}ab&&ab.notSharedWith&&(Xa.error=ab.notSharedWith);Ra&&Ra.endWorkflow("share",Xa)}Sa();ab?X["default"].showAlert("error",ab.error.message):1===Ia.length?X["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemUpdated,[Ia[0].title])):X["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemsUpdated,[Ia[0].title,Ia.length-1]));var cb=
Ia.reduce(function($a,Ya){var bb;return v.__assign(v.__assign({},$a),(bb={},bb[Ya.id]=!0,bb))},{}),Za=Ia[0].portal;Ta=(Ta&&Ta.dependentItems||[]).filter(function($a){return!cb[$a.id]}).map(function($a){return new k["default"](w["default"].mixin($a,{portal:Za}))});Ia=Ia.concat(Ta);x["default"](Ia.map(w["default"].hitch(d["default"],"getItemSharing"))).then(function($a){Ia.forEach(function(Ya,bb){Ca=$a[bb];var eb=(Ca.groups||[]).map(function(fb){return{id:fb.id,thumbnail:fb.thumbnail,title:fb.title}});
w["default"].mixin(Ya,{access:(null===Ca||void 0===Ca?void 0:Ca.access)||Ya.access,sharing:Ca,groupData:eb,sharedGroups:Ca.total||0});Ya.contentStatus=R["default"].getContentStatus(Ya)});return x["default"](Ia.map(ha["default"].getVerifiedInfo))}).then(function($a){$a.forEach(function(Ya,bb){Ia[bb].verified=Ya});Ia.forEach(function(Ya){var bb="public"===Ya.access,eb=Ya.types||[];eb=Y["default"].concatUnique(eb,bb?["is-public"]:["is-not-public"]);eb=Y["default"].filterOut(eb,bb?["is-not-public"]:["is-public"]);
Ya.types=eb.concat();Ya.set("sharing",Ya.sharing)});h["default"].publish("view/updateShare",Ia);h["default"].publish("view/deselectAll",{})})}},config:{groupsPerPage:100,hasTrustedOrgs:0<Ua.length}}})})};ta.shareOwnership=function(ja){ja.portal.getPortalUser().getGroups().then(function(pa){var va=ja.item||{},Fa=ja.items||[va],Da=va.type,Ca=new D["default"]({"class":"sharedOwnershipDlg",title:Ba["default"].sharingDlg.sharedOwnershipTitle,buttonOk:Ba["default"].common.ok,buttonCancel:Ba["default"].common.cancel,
style:{height:"auto"}}),Ia=new O["default"]({value:{items:Fa,groups:pa}}),La;Ca.setContent(Ia.domNode);Ia.startup().then(function(){Ca.show()});var Ga=h["default"].subscribe("/dlg/onOk",function(){Ia.validate().then(function(){Ia.shareWithSelectedGroup().then(function(){x["default"](Fa.map(w["default"].hitch(d["default"],"getItemSharing"))).then(function(Ha){Fa.forEach(function(Ka,Na){La=Ha[Na];w["default"].mixin(Ka,{access:(null===La||void 0===La?void 0:La.access)||Ka.access,sharing:La})});Fa[0].set("sharing",
Fa[0].sharing);h["default"].publish("view/deselectAll",{});ja.item&&("Web Map"===Da||"Web Scene"===Da?(a["default"].defaults.io.errorHandler=function(){},M["default"].checkWebMapContent({webMapId:va.id,webMapItemCard:va,webMapConfig:va.itemData,confirmItemControl:!0})):"Web Mapping Application"===Da&&M["default"].checkWebAppContent({webAppId:va.id,webAppItemCard:va,confirmItemControl:!0}))});Ca.hide().then(function(){Ma.remove();Ga.remove()})},function(Ha){Ha&&Ha.messageCode&&"GWM_0021"===Ha.messageCode&&
ja.page._showError(Ha)})})});var Ma=h["default"].subscribe("/dlg/onCancel",function(){Ma.remove();Ga.remove()})})};ta.rateLimiting=function(ja){(new K["default"]({item:ja.item,user:ja.user})).showModal()};ta.timeSettings=function(ja){var pa=ja.item,va=ja.evt,Fa=ja.user;ja=ja.layerId||g["default"].get(va.target,"data-layerId");ja=d["default"].findLayer(ja,pa.layers);(new U["default"]({item:pa,layer:ja,user:Fa})).showModal()};ta.toggleFavorite=function(ja){var pa=ja.item,va=ja.item.isFavorite;ja=ja.evt;
var Fa=new u["default"];t["default"].stop(ja);C["default"][va?"removeFromFavorites":"addToFavorites"](pa).then(function(Da){var Ca,Ia;(null===(Ca=null===Da||void 0===Da?void 0:Da.notSharedWith)||void 0===Ca?0:Ca.length)||(null===(Ia=null===Da||void 0===Da?void 0:Da.notUnsharedFrom)||void 0===Ia?0:Ia.length)?Fa.reject({message:Ba["default"].itemProperties.error.cantShareFavorites}):(pa.set("isFavorite",!va),Fa.resolve(pa.isFavorite))},function(Da){Fa.reject("item not provisioned"===(null===Da||void 0===
Da?void 0:Da.message)?{message:Ba["default"].itemProperties.error.noShareListedItem}:Da)});return Fa};ta.updateData=function(ja){var pa=ja.item,va=g["default"].get(ja.evt.target,"data-type"),Fa=pa.thumbnail&&-1===pa.thumbnail.indexOf("thumbnail/ago_downloaded.")&&-1===pa.thumbnail.indexOf("thumbnail/thumbnail.");if("append"===va)return this.appendData(ja);if("overwriteFromCloud"===va)return this.overwriteFromCloud(ja);var Da=new Z["default"];Da.show(pa);var Ca=h["default"].subscribe("itemData/update",
function(){Ca.remove();"Vector Tile Service"!==pa.type||Fa?Da.hide():(pa.set({thumbnail:"",thumbnailUrl:""}),pa.getThumbnail(!0).then(function(Ia){Da.hide()},function(){Da.hide()}))});l["default"].once(Da._updateItemDialog,"hide",function(){Da._updateItemDialog.destroyRecursive();Da.destroy()})};ta.publishService=function(ja,pa,va){void 0===pa&&(pa="file");var Fa=ja.item,Da=ja.user;ja=ja.page;var Ca=m["default"].create("div",null,document.body,"last"),Ia=Da;Fa.owner!==Da.username&&(Ia=new Oa["default"](Fa.itemOwner));
pa=da["default"].createElement("arcgis-new-item",{isActive:!0,portal:Fa.portal,user:Ia,existingItem:Fa,config:q["default"],api:3,telemetry:ja.telemetry,existingItemType:pa,existingItemPublishType:va},Ca);pa.addEventListener("workflowCancel",function(){h["default"].publish("folders/refresh",{forcedDelay:1E3});m["default"].destroy(Ca)});pa.addEventListener("workflowComplete",function(La){var Ga=La.detail;La=Ga.id;var Ma=Ga.response,Ha=Ga.jobId,Ka=Ga.serviceType,Na=Ga.item;Ga=Ga.newItemMode;if(null===
Ma||void 0===Ma?0:Ma.success)if(m["default"].destroy(Ca),Ma=Ha?"\x26jobid\x3d"+Ha:"",Ha="Map Service"===Ka?Na.tileAutoCreation?"#overview/manageTiles":"#settings/manageTiles":"","tileLayer"===Ga)window.location.href="item.html?id\x3d"+La+Ma+Ha;else switch(null===Na||void 0===Na?void 0:Na.type){case "Tile Package":window.location.href="item.html?id\x3d"+La+Ma+(Ka?"#settings/buildCache":"");break;case "Service Definition":window.location.href="item.html?id\x3d"+La+Ma+("Map Service"===Ka?"#settings/manageTiles":
"");break;default:window.location.href="item.html?id\x3d"+La+Ma}})};ta.publishTiles=function(ja){var pa=this,va=ja.item,Fa=ja.user,Da=ja.layer,Ca=va&&va.itemOwner&&va.itemOwner.folders,Ia=g["default"].get(ja.evt.target,"data-type"),La=this._getPublishingTypeMessage(va,Ia);this._getPublishingCostMessage(va,Ia).then(function(Ga){La=Ga&&Ga.message||La;if(!Ga||Ga.availableCredits>=Ga.totalCost)if("features"===Ia){var Ma=document.createElement("div"),Ha=function(Ka){Ja.render(Ja.h(oa["default"],{title:Ba["default"].itemProperties.publishViewLayer,
active:Ka,itemId:va.id,onClose:function(){Ha(!1)}}),Ma)};Ha(!0)}else["vectorTiles","tiles"].includes(Ia)?pa.publishService(ja,"tileLayer",Ia):(new ca["default"]({portal:va.portal,folders:Ca,portalUser:Fa,message:La,item:va,showFolders:!0,type:Ia||"tiles",serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ka){var Na=null===Ka||void 0===Ka?void 0:Ka.id;Ka=!(null===Ka||void 0===Ka||!Ka.cacheOnDemand);Na&&(window.location.href="item.html?id\x3d"+Na+("tiles"===Ia?Ka?"":"#settings/manageTiles":
"scenes"===Ia?"#settings/buildCache":""))});else pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta.publishImagery=function(ja){var pa=this,va=ja.item,Fa=ja.user,Da=ja.layer,Ca=va&&va.itemOwner&&va.itemOwner.folders,Ia=g["default"].get(ja.evt.target,"data-type"),La=this._getImageServiceTypeMessage(Ia);this._getPublishingCostMessage(va,Ia).then(function(Ga){La=Ga&&Ga.message||La;!Ga||Ga.availableCredits>=Ga.totalCost?(new ca["default"]({portal:va.portal,
folders:Ca,portalUser:Fa,message:La,item:va,showFolders:!0,type:Ia,serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ma){if(Ma=null===Ma||void 0===Ma?void 0:Ma.id)window.location.href="item.html?id\x3d"+Ma}):pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta._getImageServiceTypeMessage=function(ja){return"dynamicImagery"===ja?Ba["default"].publishImageServiceDlg.dynamicImageryLayerDesc:Ba["default"].publishImageServiceDlg.tileImageryLayerDesc};
ta._getPublishingTypeMessage=function(ja,pa){switch(pa){case "wfs":var va="wfsServiceDetailsDesc";break;case "ogcfeatures":va="ogcFeatureServiceDetailsDesc";break;case "scenes":va="sceneServiceDetailsDesc";break;case "features":va="viewServiceDetailsDesc";break;case "vectorTiles":va="vectorServiceDetailsDesc";break;default:va="serviceDetailsDesc"}return Ba["default"].publishTileServiceDlg[va]};ta._getAvailableCredits=function(ja){var pa,va;return(null===(pa=ja.user)||void 0===pa?void 0:pa.availableCredits)||
(null===(va=ja.subscriptionInfo)||void 0===va?void 0:va.availableCredits)||0};ta._getPublishingCostMessage=function(ja,pa){var va=new u["default"];if("scenes"!==pa)va.resolve(null);else{var Fa=Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,Da=this._getAvailableCredits(ja.portal||{});qa["default"].fetchScenePublishingCredits(ja,ja.layers||[]).then(function(Ca){Fa=e["default"].substitute(Ba["default"].publishTileServiceDlg.createLayerCost,{credits:ea["default"].format(Ca),availableCredits:ea["default"].format(Da)});
Fa=Da>=Ca?e["default"].substitute(Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,{createLayerCost:Fa}):Fa;va.resolve({totalCost:Ca,availableCredits:Da,message:Fa})})}return va};ta.moveItem=function(ja){var pa,va=ja.page.portal,Fa=ja.portalUser||(null===(pa=ja.item)||void 0===pa?void 0:pa.itemOwner)||va.getPortalUser(),Da=ja.currentFolder&&ja.currentFolder.id||ja.item&&ja.item.folderId||Fa.username,Ca=ja.selectedItems||[ja.item];ja=new r["default"]({items:Ca,owner:Fa,portal:va,currentFolder:Da});
ja.open();ja.on("close",function(Ia){h["default"].publish("folders/refresh");if(Ia){var La=Ia.newFolder;Ia=Ia.error;if(La&&!Ia)if(h["default"].publish("items/itemDetailRefresh",La),Da&&"all"!==Da){Ca.forEach(function(Ka){w["default"].mixin(Ka,{folder:La,folderId:La.id,ownerFolder:La.id})});h["default"].publish("items/refresh",{removedItems:Ca});var Ga=h["default"].subscribe("items/refreshComplete",function(){h["default"].publish("view/deselectAll");Ga.remove();h["default"].publish("folders/refreshAndSelect");
h["default"].publish("aggregations/refresh")})}else h["default"].publish("view/deselectAll",{}),h["default"].publish("aggregations/refresh");else if(Ia){var Ma=null===Ia||void 0===Ia?void 0:Ia.movedItems;if((null===Ma||void 0===Ma?0:Ma.length)&&Da&&"all"!==Da){h["default"].publish("items/refresh",{removedItems:null===Ia||void 0===Ia?void 0:Ia.movedItems});var Ha=h["default"].subscribe("items/refreshComplete",function(){Ha.remove();h["default"].publish("aggregations/refresh")})}}}})};ta.openLayerMetadata=
function(ja){var pa,va,Fa=ja.item,Da=ja.evt,Ca=null!==(pa=ja.page)&&void 0!==pa?pa:null===(va=null===ja||void 0===ja?void 0:ja.scope)||void 0===va?void 0:va.page,Ia=Da.target;ja=ja.layerId||g["default"].get(Ia,"data-layerId");var La=!1,Ga=!1;da["default"].disableNode(Ia,!0);W["default"].openLayerEditor(Fa,ja).then(function(Ma){var Ha=[],Ka=function(){da["default"].disableNode(Ia,!1)};Ha.push(Ma.gxeAdaptor.on("metadata-save",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||
void 0===Qa?0:Qa.success)La=!0,Ga=!1}));Ha.push(Ma.gxeAdaptor.on("metadata-delete",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||void 0===Qa?0:Qa.success)Ga=!0,La=!1}));Ha.push(f["default"].after(Ma.dialog,"show",Ka));Ha.push(f["default"].after(Ma.dialog,"hide",Ka));Ha.push(f["default"].after(Ma,"onDialogClose",function(){Ka();Ha.forEach(function(Na){var Qa;null===(Qa=null===Na||void 0===Na?void 0:Na.remove)||void 0===Qa?void 0:Qa.call(Na)});(La||Ga)&&setTimeout(function(){Ca._item.set("serviceChanged",
!0)},500)}))})};ta.viewMetadata=function(ja){ja=ja.item.itemUrl+"/info/metadata/metadata.xml";var pa=y["default"].getUser();y["default"].openPage(ja+"?format\x3ddefault\x26output\x3dhtml"+((null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:""),!1)};ta.editMetadata=function(ja){var pa=ja.item,va=ja.evt.target,Fa=!1;da["default"].disableNode(va,!0);W["default"].openEditor(pa).then(function(Da){var Ca=[],Ia=function(){da["default"].disableNode(va,!1)};Ca.push(Da.gxeAdaptor.on("metadata-save",
function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Y["default"].concatUnique(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Fa=!0}));Ca.push(Da.gxeAdaptor.on("metadata-delete",function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Y["default"].filterOut(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Fa=!1}));Ca.push(f["default"].after(Da.dialog,"show",Ia));
Ca.push(f["default"].after(Da.dialog,"hide",Ia));Ca.push(f["default"].after(Da,"onDialogClose",function(){Ia();Ca.forEach(function(La){var Ga;null===(Ga=null===La||void 0===La?void 0:La.remove)||void 0===Ga?void 0:Ga.call(La)});Fa&&setTimeout(function(){y["default"].request({url:pa.portal.portalUrl+"content/items/"+pa.id}).then(function(La){pa.set("accessInformation",La.accessInformation);pa.set("description",La.description);pa.set("licenseInfo",La.licenseInfo);pa.set("snippet",La.snippet);pa.set("tags",
La.tags);pa.set("title",La.title);pa.set("serviceChanged",!0)})},500)}))})};ta.setExtent=function(ja){};ta.setSearchExtent=function(ja){ja=ja.item;var pa=ja.proxyFilter||{};ja=ja.unsavedSearchExtent||pa.searchExtent||null;var va=new H["default"];ja=ja?n["default"].stringToArray(ja,",",!1):null;va._publish=function(Fa){h["default"].publish("searchExtent/update",Fa)};ja=4===(null===ja||void 0===ja?void 0:ja.length)?[[Number(ja[0]),Number(ja[1])],[Number(ja[2]),Number(ja[3])]]:null;va.show(ja);l["default"].once(va._extentDialog,
"hide",function(){va._extentDialog.destroyRecursive();va.destroyRecursive()})};ta.reassignItem=function(ja){var pa,va,Fa,Da,Ca=ja.item||{},Ia=ja.items||[Ca],La=null===(pa=ja.page)||void 0===pa?void 0:pa.telemetry;pa=ja.portal||ja.page&&ja.page.portal||{};var Ga=(null===Ca||void 0===Ca?void 0:Ca.itemOwner)||ja.owner,Ma=(null===(va=ja.owner)||void 0===va?void 0:va.getCurrentFolder())||{};va=null===(Fa=Ca.resultData)||void 0===Fa?void 0:Fa.length;Fa="Feature Service"===(null===(Da=null===Ca||void 0===
Ca?void 0:Ca.sourceData)||void 0===Da?void 0:Da.type);var Ha=ja.dontRemoveFromList||!1;if(!Ca.isHostedService&&va||Ca.isHostedService&&Fa&&("WFS"===Ca.type||Ca.isDataView||"Map Service"===Ca.type||"Scene Service"===Ca.type)){var Ka=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});Ka.show({title:Ba["default"].common.notice,message:Ba["default"].common.errors.reassignSourceItemWithRelated}).then(function(){return Ka.hide()})}else Da=new F["default"]({items:Ia,
owner:Ga,portal:pa,telemetry:La,currentFolder:Ma}),Da.open(),Da.on("close",function(Na){var Qa;if(Na){var Pa=Na.newOwner,Ra=Na.newFolder,Sa=Na.error;Na=Na.updatedItems;if(Pa&&Ra&&!Sa)if(Ha=Ha||Pa===Ga.username&&(null===(Qa=ja.folder)||void 0===Qa?void 0:Qa.isAll),Ia.forEach(function(Ta){w["default"].mixin(Ta,{owner:Pa})}),ja.noRedirect){h["default"].publish("items/refresh",Ha?{forcedDelay:1E3}:{removedItems:Ia});var Va=h["default"].subscribe("items/refreshComplete",function(){Va.remove();h["default"].publish("folders/refreshAndSelect");
Sa||h["default"].publish("view/deselectAll",{});h["default"].publish("aggregations/refresh")})}else window.location.href="item.html?id\x3d"+Ca.id;if(Sa){Na.map(function(Ta){return Y["default"].find(Ia,function(Xa){return Xa.id===Ta.itemId})}).forEach(function(Ta){w["default"].mixin(Ta,{owner:Pa})});h["default"].publish("items/refresh",{forcedDelay:1E3});var Ua=h["default"].subscribe("items/refreshComplete",function(){Ua.remove();h["default"].publish("aggregations/refresh")})}}})};ta.deleteItem=function(ja){var pa=
this,va=ja.item,Fa=va.portal||{},Da,Ca,Ia,La,Ga,Ma,Ha=function(Ka){if(Ka&&Ka.success)if(ja.noRedirect){h["default"].publish("items/refresh",{removedItems:[va]});var Na=h["default"].subscribe("items/refreshComplete",function(){h["default"].publish("view/deselectAll");Na.remove();Ma.hide();h["default"].publish("alert/show",{type:"success",text:Ba["default"].itemProperties.itemDeleteSuccess});h["default"].publish("aggregations/refresh")})}else window.location.href=(null===Ia||void 0===Ia?0:Ia.id)?"item.html?id\x3d"+
Ia.id:va.isAdmin&&!va.isOwner?"content.html?user\x3d"+va.owner:"content.html";else Ma.hide(),ja.noRedirect?h["default"].publish("alert/show",{type:"error",text:Ba["default"].common.errors[(null===Ka||void 0===Ka?void 0:Ka.messageCode)||""]||Ka}):pa._showError(Ka)};x["default"]({canBeDeleted:Fa.isPortal?va.canBeDeleted():null,sourceData:va.getSourceData(),resultData:va.getResultData()}).then(function(Ka){var Na,Qa,Pa;Da=null===(Na=Ka.canBeDeleted)||void 0===Na?void 0:Na.success;Ca=!Da&&(null===(Qa=
Ka.canBeDeleted)||void 0===Qa?void 0:Qa.offendingItems)||[];Ia=Ka.sourceData;La=Ka.resultData;Ga=!Ia&&(null===La||void 0===La?void 0:La.length)&&!va.isHostedService;Na=Ba["default"].itemProperties.deleteItemBlocked+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e';Qa=Ba["default"].itemProperties.deleteSourceItem+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e\x3cbr/\x3e'+Ba["default"].itemProperties.deleteSourceItemMsg;var Ra=Ga?Qa:Na,Sa="",Va=Fa.helpBase+Fa.helpMap.m["120001208"];
Na=La||Ca||void 0;var Ua=(null===Na||void 0===Na?0:Na.length)?Na.length-5:0,Ta=(null===Na||void 0===Na?0:Na.length)?Na.map(function(Xa){return"id:"+(Xa.id||Xa.itemId)}).join(" OR "):"";Fa.isPortal?Da?(Ma=new A["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){d["default"].deleteItem(va).then(Ha,Ha)},!0),l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})):Da||Ca.length?(Ka=((null===(Pa=Ka.canBeDeleted)||void 0===
Pa?void 0:Pa.offendingItems)||[]).map(function(Xa){return y["default"].request({url:Fa.portalUrl+"content/items/"+Xa.itemId})}),x["default"](Ka).then(function(Xa){Ca=Xa;Ca=Ca.map(function(ab){return new k["default"](w["default"].mixin(ab,{portal:Fa}))});Ca.forEach(function(ab,Wa){5>Wa&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',{relItem:ab,i18n:Ba["default"]}))});Sa+=5<Ca.length?
e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"";Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va});Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,
style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(ab){"onOk"===ab&&d["default"].deleteItem(va).then(Ha,Ha)})):(Ma=new J["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}));l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})})):(Pa=Ka.canBeDeleted,h["default"].publish("alert/show",{type:"error",text:Pa&&(Pa.messageCode&&Ba["default"].common.errors[Pa.messageCode]||Pa.message||
Ba["default"].common.errors.genericError.message)})):(!La||!La.length||pa.isFeedWithSingleHostedFeatureLayer(va,La)||pa.isHostedFeatureLayerFromFeed(va,La)?(Ma=new A["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){d["default"].deleteItem(va).then(Ha,Ha)},!0)):(La.forEach(function(Xa,ab){5>ab&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',
{relItem:Xa,i18n:Ba["default"]}))}),Sa+=5<La.length?e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"",Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va}),Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,
buttonCancelLabel:Ba["default"].common.noLabel,style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(Xa){"onOk"===Xa&&d["default"].deleteItem(va).then(Ha,Ha)})):(Ma=new J["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}))),l["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()}))},function(Ka){h["default"].publish("alert/show",{type:"error",text:Ka&&(Ka.messageCode&&Ba["default"].common.errors[Ka.messageCode]||
Ka.message||Ba["default"].common.errors.genericError.message)})})};ta.toggleAttachments=function(ja){var pa=ja.item,va=ja.evt,Fa=pa.isDataView,Da=Ba["default"].itemProperties,Ca=Fa?Da.showAttachments:Da.enableAttachments,Ia=Fa?Da.hideAttachments:Da.disableAttachments,La=Fa?Da.showingAttachments:Da.enablingAttachments,Ga=Fa?Da.hidingAttachments:Da.disablingAttachments,Ma=Fa?Da.enablingAttachmentsViewMessage:Da.enablingAttachmentsMessage;Da=Fa?Da.disableAttachmentsViewMessage:Da.disableAttachmentsMessage;
var Ha=ja.layerId||g["default"].get(va.target,"data-layerId"),Ka=ja.layer||d["default"].findLayer(Ha,pa.layers),Na=Ka.hasAttachments,Qa=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,busyMessage:Na?Ga:La,style:{width:"460px",height:"auto"}}),Pa=function(){Qa.set("disabled",!0);d["default"].enableAttachments(pa,Ka,!Na).then(function(){pa.set("maxAgeCheck",!0);g["default"].set(va.target,"innerHTML",na["default"].inline.attachment["16"]+(Na?
Ca:Ia));Qa.hide()},function(Ra){Ra=Ra&&(Ra.messageCode&&Ba["default"].common.errors[Ra.messageCode]||Ra.message||Ba["default"].common.errors.genericError.message);Qa.hide();h["default"].publish("alert/show",{type:"error",text:Ra})})};ja=function(Ra){Qa.show({title:Na?Ia:Ca,message:Ra}).then(function(Sa){"onOk"===Sa&&Pa()})};Fa?Pa():ja(Na?Da:Ma)};ta.createApp=function(ja){var pa,va=ja.item,Fa=ja.portal;ja=ja.evt;if(null===(pa=null===ja||void 0===ja?void 0:ja.target)||void 0===pa?0:pa.href)return window.open(ja.target.href,
"_blank");var Da=va.isHostedTemplate;pa="wab"===g["default"].get(ja.target,"data-type")||Y["default"].includes(va.typeKeywords,"Web AppBuilder for ArcGIS");ja=g["default"].get(ja.target,"data-type")||null;Da=Da||pa;var Ca=new fa["default"]({item:va});pa={isWab:pa};if(ja){"webscene"===ja&&Fa.isPortal&&(pa.typeInfo="webscene_portal");if("storymap"===ja)return window.open(q["default"].storymapsUrl+"/stories/new?"+("Web Scene"===va.type?"webscene":"webmap")+"\x3d"+va.id,"_blank");(va=Da?Ca.showModal(pa):
Ca.showWizard(pa))&&va.then(function(Ia){if(null===Ia||void 0===Ia?0:Ia.configureUrl)window.location.href=Ia.configureUrl})}};ta.profilePopup=function(ja){var pa=this,va=ja.item,Fa=ja.evt;(va=ja.profile||va.owner||(ja.user?ja.user.username||ja.user:null))&&!this._popup&&(this._popup=new ka["default"]({username:va,opener:Fa.target,portal:ja.page.portal}),this._popup.open(),l["default"].once(this._popup,"close",function(){pa._popup=void 0}))};ta.advancedOfflineOptions=function(ja){var pa=document.createElement("div");
document.body.appendChild(pa);(new ma["default"]({item:ja.item,page:ja.page},pa)).open()};ta.attachCode=function(ja){var pa=ja.item;ja=pa.codeAttachment;var va=d["default"].createSpecifiedDialog(ra["default"],{item:pa,sharing:pa.sharing});va.show(ja);f["default"].after(va,"onUpload",function(){pa.set("codeAttachmentChanged",!0);va.hide()})};ta.deleteCode=function(ja){var pa=ja.item;ja=ja.item;var va=ja.portal,Fa=ja.codeAttachment;ja="Web Mapping Application"===pa.type&&Y["default"].includes(pa.typeKeywords,
"Web AppBuilder");Fa&&d["default"].createSpecifiedDialog(A["default"]).showMsgTitleButton(""+Ba["default"].itemProperties.removeAttachmentMsg+(ja?"":"\x3cbr\x3e\x3cbr\x3e"+Ba["default"].itemProperties.removeAttachmentUpdate),Ba["default"].itemProperties.removeAttachmentTitle,Ba["default"].itemProperties.removeAttachmentButton,function(){y["default"].request({url:va.portalUrl+"content/items/"+Fa.id}).then(function(Da){Da=new k["default"](w["default"].mixin(Da,{portal:pa.portal}));d["default"].deleteItem(Da).then(function(){pa.set("codeAttachment",
null)})})})};ta.thumbnail=function(ja){var pa=this,va=document.getElementById("item-thumb-modal-container");va||(va=document.createElement("div"),va.id="item-thumb-modal-container",document.body.appendChild(va));var Fa=function(){Ja.render(null,va)},Da=Ba["default"].GroupWidget.thumbnailDlg;Ja.render(Ja.h(sa["default"],{contentClass:"esriThumbnailDlg",onSave:function(Ca){return v.__awaiter(pa,void 0,void 0,function(){var Ia,La,Ga,Ma,Ha,Ka,Na,Qa,Pa,Ra,Sa;return v.__generator(this,function(Va){switch(Va.label){case 0:Ia=
new FormData,La="thumbnail"+(new Date).getTime()+"."+Ca.format,Ia.append("thumbnail",Ca.blob,La),Ia.append("f","json"),Ga=ja.item,Ma=ja.page.portalUser,Ka=(Ha=Ga.itemOwner)?Ha.userContentUrl:Ma.userContentUrl,Na=Ga.folderId&&"/"!==Ga.folderId?"/"+Ga.folderId:"",Qa=""+Ka+Na+"/items/"+Ga.id+"/update",Va.label=1;case 1:return Va.trys.push([1,4,,5]),[4,y["default"].request({url:Qa,form:Ia,timeout:12E4},{usePost:!0})];case 2:return Va.sent(),[4,Ma.getItem(Ga.id)];case 3:return Pa=Va.sent(),Ra=Ga.thumbnailUrl,
Pa.thumbnailUrl&&(Sa=-1<Pa.thumbnailUrl.indexOf("?token\x3d"),Ra=""+Pa.thumbnailUrl+(Sa?"\x26":"?")+"ts\x3d"+(new Date).getTime()),Ga.set("thumbnailUrl",Ra),Fa(),[3,5];case 4:return Va.sent(),[3,5];case 5:return[2]}})})},onCancel:Fa,allowFromMap:!0,height:293,aspectRatio:1.5,zoomToFull:!0,fillBackground:!0,itemId:ja.item.id,texts:{title:Da.createThumb,drag:Da.uploadImage,size:Da.dragAndDrop}}),va)};ta.newMapViewer=function(ja){var pa=ja.item;ja=ja.evt;var va=g["default"].get(ja.currentTarget,"data-href")||
pa.mapNewViewerUrl,Fa=-1<va.indexOf("useExisting\x3d1"),Da=pa.canOpenInNewMapViewer;"modern"===pa.portal.defaultMapViewer&&Da?window.location=g["default"].get(ja.currentTarget,"href")||pa.newMapViewerUrl:"Web Map"!==pa.type&&Fa?window.location=va:B["default"]().then(function(Ca){if(Ca&&!0===Ca.c){var Ia=new za["default"];Ia.show(va,Ca);l["default"].once(Ia._dialog,"hide",function(){Ia._dialog.destroyRecursive();Ia.destroy()})}else window.location=va})};ta.whatsNew=function(ja){var pa=new u["default"],
va=ja.key,Fa=ja.endDate,Da=ja.redirectUrl,Ca=ja.disableDebugBlock,Ia=new Date((new Date).getTime()+31556926E3),La={},Ga=new Date,Ma=y["default"].getCookie("esri_whatsnew")||{},Ha={closeable:!1,showCancel:!!Da,buttonOkLabel:Da?Ba["default"].common.learnMore:Ba["default"].common.gotIt,buttonCancelLabel:Ba["default"].common.gotIt,className:"whatsNewDlg"},Ka=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";if(Ga<Fa&&(Ca||!q["default"].isDebug))if(Ma[va])pa.resolve(!0);else{var Na=
new D["default"](Ha);Da?(p["default"].add(Na.okButton.domNode,"hide"),Fa=m["default"].create("a",{className:"btn right learn-more-link icon-ui-link-external",href:Da,target:"_blank",innerHTML:Ba["default"].addItemFrm.learnMore},Na.actionBarNode,"last")):Fa=Na.okButton;l["default"].once(Fa,"click",function(){Na.hide()});l["default"].once(Na,"hide",function(){La[va]=!0;E["default"]("esri_whatsnew",z["default"].stringify(w["default"].mixin(Ma,La)),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"});pa.resolve(!0)});
Na.show({message:ja.message||"",title:ja.title||""})}else Ma[va]&&(delete Ma[va],E["default"]("esri_whatsnew",z["default"].stringify(Ma),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"})),pa.resolve(!0);return pa};ta.shareSocial=function(ja){var pa=ja.evt.target;ja=ja.item;ja="public"===(null===ja||void 0===ja?void 0:ja.access);var va=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});ja?window.open(g["default"].get(pa,"href")):va.show({title:Ba["default"].itemLinks.shareItem,
message:b["default"].substitute({appTitle:q["default"].portalName||"ArcGIS.com"},Ba["default"].itemLinks.shareItemMsg)}).then(function(){va.hide().then(function(){window.open(g["default"].get(pa,"href"))})})};ta.sceneJobStatus=function(ja){var pa=ja.item,va=ja.item;ja=va.portal;var Fa=va.portal.isPortal,Da=pa.properties.cacheJobUrl;va=pa.lastCachingJobStatus;var Ca=pa.serverToken?"?token\x3d"+pa.serverToken:"",Ia=Fa?""+Da+Ca:pa.adminUrl+"/"+Da+Ca;pa=Fa?Da:pa.adminUrl+"/"+Da+Ca;(new T["default"]).show(ja,
ja.portalUser,Ia,pa,va)};ta.manageSceneCache=function(ja){var pa=ja.item,va=ja.page;ja=ja.item.portal.isPortal?va._hostedFederatedServer:void 0;va=pa.sourceData||{};(new ia["default"]).show(va,pa,ja)};ta.markItemAsAuthoritative=function(ja){var pa,va=ja.item,Fa=((null===(pa=va.portal)||void 0===pa?0:pa.isVerified)&&"public"===va.access?"public":"org")+"_authoritative";va._setContentStatusTo(Fa).then(function(Da){Da.success&&(va.set("protected",!0),h["default"].publish("item/protect",{protect:!0}),
va.set("contentStatus",Fa));return ha["default"].getVerifiedInfo(va)}).then(function(Da){va.set("verified",Da)})};ta.markItemAsDeprecated=function(ja){var pa=ja.item;pa._setContentStatusTo("deprecated").then(function(va){va.success&&(pa.set("contentStatus","deprecated"),pa.set("verified",!1))})};ta.removeContentStatus=function(ja){var pa=ja.item;pa._setContentStatusTo("").then(function(va){va.success&&(pa.set("contentStatus",""),pa.set("verified",!1))})};ta.httpsUpdate=function(ja){var pa=document.createDocumentFragment();
ja=new aa["default"](ja,m["default"].create("div",null,pa));var va=d["default"].createDialogWrapper({className:"update-to-https-dlg",draggable:!c["default"]("touch"),title:Ba["default"].itemProperties.updateLayersToHTTPS},pa);pa=function(){va.hide()};ja.startup();ja.own(h["default"].subscribe("update-to-https/done",pa),h["default"].subscribe("update-to-https/cancel",pa));va.show()};ta.domainUpdate=function(ja){var pa=document.createDocumentFragment(),va=new Q["default"](ja,m["default"].create("div",
null,pa)),Fa=d["default"].createDialogWrapper({className:"update-domains-dlg",draggable:!c["default"]("touch"),title:Ba["default"].itemProperties.domainsTitle},pa);va.startup();va.own(h["default"].subscribe("update-domain/done",function(){Fa.hide()}));Fa.show();setTimeout(function(){va.domainReplace.value&&va.domainReplace.focus()},200)};ta.replaceLayer=function(ja){(new S["default"]({item:ja.item,page:ja.page},m["default"].place(m["default"].create("div"),document.body.lastChild,"after"))).open()};
ta.replaceSceneLayer=function(ja){(new P["default"]({item:ja.item},m["default"].place(m["default"].create("div"),document.body.lastChild,"after"))).open()};ta.updateSourceUrlToHttps=function(ja){var pa=ja.page,va=ja.item;ja=q["default"].restBaseUrl+"/portals/checkurl";var Fa=[200,301,302,304,307,401,403,407,498,499],Da=null===va||void 0===va?void 0:va.url,Ca=(null===va||void 0===va?void 0:va.sourceUrl)&&n["default"].startsWith(va.sourceUrl,"http://"),Ia=null===va||void 0===va?void 0:va.sourceUrl;
if(Ca){var La=Ia.replace("http://","https://");y["default"].request({url:ja+"?url\x3d"+encodeURIComponent(La+"?f\x3djson")},{addToken:!1}).then(function(Ga){Ga&&!Ga.code&&Y["default"].includes(Fa,Ga.httpStatusCode)?pa.updateItem({url:La}).then(function(){va.set({url:Da,sourceUrl:La});h["default"].publish("item/proxy-url-update",{sourceUrl:La});X["default"].showAlert("success",Ba["default"].itemProperties.upgradeToHttpsSuccess)}):X["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)},
function(Ga){X["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)})}};ta.downloadImage=function(ja){d["default"].downloadImage(ja).then(function(pa){pa&&pa.url&&(window.location=pa.url)})};ta.refreshSnapshot=function(ja){var pa,va,Fa,Da,Ca=ja.item;ja=ja.page;var Ia=(null===(va=null===(pa=Ca.adminServiceInfo)||void 0===pa?void 0:pa.properties)||void 0===va?0:va.serviceInfo)?JSON.parse(Ca.adminServiceInfo.properties.serviceInfo):{};pa=((null===Ia||void 0===Ia?void 0:Ia.layers)||
[]).filter(function(Ua){return-1<Ua.queryPolicy.indexOf("createSnapshot")}).map(function(Ua){return Ua.id}).map(function(Ua){var Ta;return null===(Ta=Ca.serviceInfo.layers.filter(function(Xa){return Xa.id===Ua}).shift())||void 0===Ta?void 0:Ta.name});var La=ja._hostedFederatedServer.url+"/rest/services/System/PublishingTools/GPServer/Refresh%20Service",Ga=La+"/submitJob";va=null===(Da=null===(Fa=Ca.url.split("/rest/services/"))||void 0===Fa?void 0:Fa[1])||void 0===Da?void 0:Da.split("/");var Ma=(Fa=
2===(va.indexOf("MapServer")||va.indexOf("FeatureServer")))?va[1]:va[0],Ha={f:"json",token:Ca.adminServerToken,serviceType:"MapServer",serviceName:Ma,serviceFolder:Fa?va[0]:null},Ka=document.getElementById("refresh-snapshot-dialog"),Na=document.getElementById("refresh-snapshot-error-dialog");Ka||(Ka=document.createElement("div"),Ka.id="refresh-shapshot-dialog",document.body.appendChild(Ka));Na||(Na=document.createElement("div"),Na.id="refresh-snapshot-error-dialog",document.body.appendChild(Na));
var Qa=Ba["default"].itemProperties.snapshot.refresh;Fa=Ba["default"].itemProperties.snapshot.description+'\x3cdiv class\x3d"leader-half margin-left-1 margin-right-1"\x3e'+pa.join("\x3cbr\x3e")+"\x3c/div\x3e";Da=Ba["default"].common;var Pa=Da.ok,Ra=Da.cancel,Sa=function(){Ja.render(null,Na);document.body.removeChild(Na)},Va=function(){Ja.render(Ja.h(wa["default"],{autoCloseOnOk:!0,hideCancel:!0,hideClose:!1,renderHtmlDescription:!1,onOk:Sa,onCancel:Sa,strings:{title:Qa,description:Ba["default"].itemProperties.snapshot.inProgress,
ok:Pa,cancel:Ra},width:"s"}),Na)};Ja.render(Ja.h(wa["default"],{autoCloseOnOk:!1,hideCancel:!1,hideClose:!1,renderHtmlDescription:!0,onOk:function(Ua){y["default"].request({url:Ga,content:Ha},{usePost:!0}).then(function(Ta){Ja.render(null,Ka);X["default"].showAlert("success",Ba["default"].itemProperties.snapshot.success.replace("${name}",Ma));Ea["default"].checkAsyncJobStatus(La+"/jobs/"+Ta.jobId).then(function(){null===Ua||void 0===Ua?void 0:Ua();X["default"].showAlert("success",Ba["default"].itemProperties.snapshot.finished.replace("${name}",
Ma))},function(Xa){null===Ua||void 0===Ua?void 0:Ua();Va()})},function(Ta){null===Ua||void 0===Ua?void 0:Ua();Va()})},onCancel:function(){Ja.render(null,Ka);document.body.removeChild(Ka)},strings:{title:Qa,description:Fa,ok:Pa,cancel:Ra},width:"s"}),Ka)};ta._getItemPkgPath=function(ja){var pa=ja.portal.getPortalUser();return ja.itemUrl+"/item.pkinfo"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getPItemPath=function(ja){var pa=ja.portal.getPortalUser();
return ja.itemUrl+"/item.pitem"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getPItemXPath=function(ja){var pa=ja.portal.getPortalUser();return ja.itemUrl+"/item.pitemx"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ta._getLyrPath=function(ja){var pa=ja.portal.getPortalUser();return ja.url+"?f\x3dlyr\x26v\x3d9.3"+("public"!==ja.access&&(null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:"")};ta._showError=
function(ja){var pa=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});pa.show({title:ja.title||Ba["default"].addItemFrm.errors.error.title,message:ja.message||Ba["default"].addItemFrm.errors.error.message}).then(function(){pa.hide()})};ta.isFeedWithSingleHostedFeatureLayer=function(ja,pa){return"Feed"===ja.type&&ja.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feature Service"===pa[0].type&&Y["default"].includes(pa[0].typeKeywords,
"Hosted Service")};ta.isHostedFeatureLayerFromFeed=function(ja,pa){return"Feature Service"===ja.type&&ja.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feed"===pa[0].type&&Y["default"].includes(pa[0].typeKeywords,"Hosted Service")};return ta}(N["default"])})},"arcgisonline/map/utils/getMapCookie":function(){define(["dojo/Deferred","dojo/json"],function(V,L){return function(){var v=window.sessionStorage&&window.sessionStorage.getItem("Esri_webmap"),w=new V;v&&v.length?w.resolve(L.parse(v)):
w.resolve(null);return w}})},"arcgisonline/pages/dijit/ChangeOwner":function(){define("require exports tslib dojo/promise/all dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ../components/MemberPicker ../components/MemberThumb ./ChangeOwner/FolderPicker ../portal/PortalUser ../../tsutils/declareDecorator ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/organization ../../esriGeowConfig dojo/text!./ChangeOwner/templates/ChangeOwner.html dojo/i18n!../../nls/arcgisonline ../utils/icons ./OverlayConfirm preact".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);y=v.__importDefault(y);return function(){function B(D,
F){this.title=n["default"].changeOwner.title;this.i18n=n["default"];this.icons=q["default"];this.constrain=!0;this.overlayContents=t["default"].substitute(k["default"],{i18n:n["default"],icons:q["default"]});this.maxWidth=600;this.closeOnScrimClick=!1}B.prototype.postMixInProperties=function(){this.inherited(arguments)};B.prototype.postCreate=function(){this.inherited(arguments);this._initialOpen=!0;this.group||(this._folderArea=this.domNode.querySelector(".js-folder-area"),this._folderEdit=this.domNode.querySelector(".js-folder-edit"),
this._folderEditButton=this.domNode.querySelector(".js-folder-button"));this._ownerArea=this.domNode.querySelector(".js-owner-area");this._ownerEdit=this.domNode.querySelector(".js-owner-edit");this._ownerEditButton=this.domNode.querySelector(".js-owner-edit-button");this._loader=this.domNode.querySelector(".js-overlay-loader");var D=this.portal.portalUser.userRole;this.canReassignOrgItems=D.isAdmin()||D.canReassignOrgItems();this.canReassignOwnItems=!this.canReassignOrgItems&&D.canReassignOwnItems();
this._primaryBtn.disabled=!0};B.prototype.open=function(){this.inherited(arguments);this._initUI();this._addListeners()};B.prototype.close=function(D){this.inherited(arguments)};B.prototype._destroy=function(){this.inherited(arguments);C.render(null,this.domNode.querySelector(".js-member-picker"));C.render(null,this.domNode.querySelector(".js-member-thumb"))};B.prototype.handlePrimary=function(){var D=this;this.disableButtons();!this.group&&this.canReassignOwnItems?this.reassignItems():this._folderPicker&&
this._folderPicker.hasUnsavedChanges()?this._folderPicker.saveNewfolder().then(function(F){D._folder=F;D._reassign()},this._reassign.bind(this)):this._reassign()};B.prototype.disableButtons=function(){this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0};B.prototype.enableButtons=function(){this._primaryBtn.disabled=!1;this._cancelBtn.disabled=!1};B.prototype._addListeners=function(){var D=this;this._ownerEdit.addEventListener("click",this._openOwnerSelect.bind(this));this.group||(this._folderEdit.addEventListener("click",
this._openFolderSelect.bind(this)),this.own(this._folderPicker.on("selectUpdate",this._folderSelectUpdate.bind(this)),this._folderPicker.on("folderCreated",function(F){return D._createdFolder=F}),this._folderPicker.on("cancel",this._folderSelectCancel.bind(this))))};B.prototype.initUIUtil=function(){var D=this.items||[this.group],F=D[0].owner;D=D.every(function(r){return r.owner===F});return{firstOwner:F,sameOwner:D}};B.prototype._initUI=function(){var D=this,F=this.initUIUtil(),r=F.firstOwner;this.sameOwner=
F.sameOwner;this.group&&(this.domNode.querySelector(".js-item-owner-label").innerHTML=n["default"].changeOwner.groupOwner);this.memberPickerProps={portal:this.portal,group:this.group,showCancel:!this.group&&this.sameOwner,selectUpdate:this._memberSelectUpdate.bind(this),selectCancel:this._memberSelectCancel.bind(this),showMemberPicker:!0,adminOnly:this.adminOnly};this.sameOwner&&(this.memberPickerProps.excludedUsernames=[r]);this._memberPicker=C.render(C.h(x.MemberPicker,this.memberPickerProps),this.domNode.querySelector(".js-member-picker"));
this.group||(this._folderPicker=new E["default"]({portal:this.portal,user:this.owner},this.domNode.querySelector(".js-folder-picker")));this.sameOwner?this._fetchUser(r).then(function(A){D._owner=A;D._memberSelectUpdate(D._owner)}):(this._openOwnerSelect(),this._fadeIn())};B.prototype._fetchUser=function(D){var F=this;return a["default"].request({url:d["default"].restBaseUrl+"/community/users/"+D+"/"}).then(function(r){return new z["default"](v.__assign(v.__assign({},r),{portal:F.portal}))})};B.prototype._fadeIn=
function(){var D=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");D.classList.add("animate-fade-in")};B.prototype._compileRequests=function(){var D=this;if(this.group)return[this.group].map(this._reassignGroup.bind(this));var F=[],r=[],A=[],G=this._owner.username===this.owner.username,H=b["default"].getUserRole(this.owner).isCustom();this.items.forEach(function(J){G&&J.owner===D._owner.username&&!H?F.push(J):
r.push(J)});0<F.length&&A.push(this._moveItems(F));0<r.length&&r.forEach(function(J){return A.push(D._reassignItem(J))});return A};B.prototype.reassignUtil=function(D){return c["default"].find(this.items,function(F){return F.id===D.itemId})};B.prototype._reassign=function(){var D=this,F=this._compileRequests();this._loader.classList.add("is-active");w["default"](F).then(function(r){var A=r.filter(function(J){return J.success}).map(function(J){return J.item}),G=r.filter(function(J){return J.error&&
!J.success}),H=r.filter(function(J){return J.moveItems});0<H.length&&(H[0].results||[]).forEach(function(J){var O=D.reassignUtil(J);J.success?A.push({success:!0,item:O}):G.push({error:J.error,item:O})});0===G.length&&0<A.length?D._handleSuccess(A):0<G.length&&0===A.length?D._handleError(G[0]):0<G.length&&0<A.length&&D._handlePartialSuccess(A,G[0]);0===r[0].length&&D._handleSuccess(r[0])},function(r){D._handleError(r)})};B.prototype.getTransferError=function(D){var F=n["default"].changeOwner.transferErrors.general;
(null===D||void 0===D?0:D.messageCode)&&(D=n["default"].changeOwner.transferErrors[D.messageCode])&&(F=D);return F};B.prototype.reassignItems=function(){return v.__awaiter(this,void 0,void 0,function(){var D,F,r,A,G,H;return v.__generator(this,function(J){switch(J.label){case 0:D=this.portal.portalUser.username,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,a["default"].request({url:d["default"].restBaseUrl+"/content/users/"+D+"/reassignItems",content:{targetUsername:this._owner.username,items:this.items.map(function(O){return O.id}).join(",")}},
{usePost:!0})];case 2:F=J.sent();if(A=F.results.some(function(O){if(O.error)return r=O.error,!0}))return G=this.getTransferError(r),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[2];e["default"].showAlert("success",n["default"].changeOwner.transferSuccess);this.close({newOwner:this._owner,newFolder:this.reassignFolderName});return[3,4];case 3:return H=J.sent(),G=this.getTransferError(H),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[3,4];case 4:return[2]}})})};
B.prototype.canReassignItems=function(){return v.__awaiter(this,void 0,void 0,function(){var D,F,r,A,G,H,J,O;return v.__generator(this,function(M){switch(M.label){case 0:D=this.portal.portalUser.username,F=this.domNode.querySelector(".js-member-select-error"),this._ownerEdit.classList.remove("input-error"),F.classList.remove("is-active"),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,a["default"].request({url:d["default"].restBaseUrl+"/content/users/"+D+"/canReassignItems?token\x3d"+a["default"].getToken(),
content:{targetUsername:this._owner.username,items:this.items.map(function(K){return K.id}).join(",")}},{usePost:!0})];case 2:return M.sent(),[3,4];case 3:return r=M.sent(),A=r.messageCode,G="",H=n["default"].changeOwner.warnings,J=H.cantReceiveItems,O=H.cantOwnItems,"CONT_0291"===A?G=J:"CONT_0292"===A&&(G=O),G&&(F.innerHTML=G,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error")),[3,4];case 4:return[2]}})})};B.prototype._reassignItem=function(D){var F=this._owner.username===this._folder.id?
"/":this._folder.title,r=new l["default"];a["default"].request({url:d["default"].restBaseUrl+"/content/users/"+D.owner+"/items/"+D.id+"/reassign",content:{targetUsername:this._owner.username,targetFolderName:F}},{usePost:!0}).then(function(){return r.resolve({success:!0,item:D})},function(A){return r.resolve({error:A,item:D})});return r};B.prototype._moveItems=function(D){var F=this._folder.username===this._folder.id?"/":this._folder.id,r=D.filter(function(G){return(G.ownerFolder||"/")!==F}),A=new l["default"];
0===r.length?A.resolve([]):a["default"].request({url:d["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:r.map(function(G){return G.id}).join(","),folder:F}},{usePost:!0}).then(function(G){return A.resolve({moveItems:!0,results:G.results})},function(G){return A.resolve({error:G,items:D})});return A};B.prototype._reassignGroup=function(){return a["default"].request({url:d["default"].restBaseUrl+"/community/groups/"+this.group.id+"/reassign",content:{targetUsername:this._owner.username}},
{usePost:!0})};B.prototype._handleSuccess=function(D){this._loader.classList.remove("is-active");if(this.telemetry&&!this.group){var F=this._folder.title===this._createdFolder;this.telemetry.logEvent({category:"change owner folder option",label:this._folder.id===this._owner.username?"default":F?"new":"custom"})}D={newOwner:this._owner,updatedItems:D};this.group||(e["default"].showAlert("success",n["default"].changeOwner.success),D.newFolder=this._folder);this.close(D)};B.prototype.showErrorPopup=
function(D){var F=this;D=new y["default"]({title:n["default"].common.errorTitle,description:D,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});D.domNode.classList.add("position-absolute");D.domNode.classList.add("fullscreen");this._overlay.appendChild(D.domNode);D.show().then(function(){F._ownerEditButton.focus()});this.enableButtons()};B.prototype._handleError=function(D){D=D.messageCode?this._getErrorText(D):this._getErrorText(D.error,D.item);this._loader.classList.remove("is-active");
this.showErrorPopup(D)};B.prototype._handlePartialSuccess=function(D,F){var r=F.error,A=F.item;this._loader.classList.remove("is-active");A=this._getErrorText(r,A);r={newOwner:this._owner,updatedItems:D,error:r};this.group||(e["default"].showAlert("error",A),r.newFolder=this._folder);this.close(r)};B.prototype._getErrorText=function(D,F){var r=this.group?n["default"].GroupWidget.error.cantReassignGroup:n["default"].changeOwner.cantChangeOwner,A=this._owner.username;if(null===D||void 0===D?0:D.messageCode)switch(D.messageCode){case "COM_0046":r=
t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupName,{name:A,groupName:this.group.title});break;case "CONT_0014":r=t["default"].substitute(n["default"].folderDlg.invalid.itemExists,[F.title,this._folder.folderAttributeName||this._folder.title]);break;case "COM_1065":r=D.message&&D.message.match(/\d+/)[0];r=t["default"].substitute(n["default"].GroupWidget.error.groupMaxOtherUser,{name:A,numGroups:r});break;case "COM_1076":r=t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupOpenData,
{name:A});break;case "COM_1084":r=t["default"].substitute(n["default"].GroupWidget.error.errorReassignGroupPrivileges,{name:A});break;case "COM_1070":r=n["default"].common.errors.COM_1070;break;default:n["default"].common.errors[D.messageCode]&&(r=n["default"].common.errors[D.messageCode]),403===D.code&&(r=n["default"].errorWidget.accessDeniedResource)}return r};B.prototype._openOwnerSelect=function(D){null===D||void 0===D?void 0:D.preventDefault();C.render(C.h(x.MemberPicker,v.__assign(v.__assign({},
this.memberPickerProps),{showMemberPicker:!0,showCancel:!this._initialOpen})),this.domNode.querySelector(".js-member-picker"));m["default"].setVisibility(this._ownerArea,!1);this.group||(m["default"].setVisibility(this._folderArea,!1),m["default"].hideNode(this._folderPicker.domNode))};B.prototype._openFolderSelect=function(D){D&&D.preventDefault();this.group||(m["default"].showNode(this._folderPicker.domNode),m["default"].setVisibility(this._folderArea,!1),this._folderPicker.focus());m["default"].setVisibility(this._ownerArea,
!1)};B.prototype._folderSelectUpdate=function(D){this._folder=D;m["default"].hideNode(this._folderPicker.domNode);m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._ownerArea,!0);this._populateCurrentFolder();this._folderEditButton&&this._folderEditButton.focus()};B.prototype._folderSelectCancel=function(){m["default"].hideNode(this._folderPicker.domNode);m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._ownerArea,!0);this._folderEditButton&&
this._folderEditButton.focus()};B.prototype._memberSelectUpdate=function(D){var F=this;this._owner=D;C.render(C.h(x.MemberPicker,v.__assign(v.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));m["default"].setVisibility(this._ownerArea,!0);C.render(C.h(u.MemberThumb,{member:D,cssClasses:"member-browser-row-thumbnail margin-right-half"}),this.domNode.querySelector(".js-member-thumb"));this.domNode.querySelector(".js-fullname").innerHTML=D.fullName;
this.domNode.querySelector(".js-username").innerHTML=D.username;this._folder=null;this._ownerEditButton.focus();if(!this._initialOpen||this.group)this._primaryBtn.disabled=!1;this.group?this._fadeIn():this.canReassignOrgItems?(this._ownerEdit.classList.add("btn-disabled"),D.folders?(this._populateCurrentFolder(),this._folderPicker.updateUser(D),this._ownerEdit.classList.remove("btn-disabled"),this._fadeIn()):D.getFolders().then(function(r){D.folders=r;F._owner.folders=r;F._populateCurrentFolder();
F._folderPicker.updateUser(D);F._ownerEdit.classList.remove("btn-disabled");F._fadeIn()})):this.canReassignOwnItems&&(this._initialOpen||this._populateTransferFolder(),this._fadeIn());D.privileges?this._validateSelectedMember():this._fetchUser(D.username).then(function(r){F._owner=r;!r.privileges&&F.canReassignOwnItems?F.canReassignItems():F._validateSelectedMember()});this._initialOpen&&this._openOwnerSelect();this._initialOpen&&!this.group&&this.canReassignOwnItems&&(this._initialOpen=!1)};B.prototype._memberSelectCancel=
function(){C.render(C.h(x.MemberPicker,v.__assign(v.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));this._ownerEdit.focus();m["default"].setVisibility(this._ownerArea,!0);this._folder&&!this.group&&m["default"].setVisibility(this._folderArea,!0);this._ownerEditButton.focus();this.canReassignOwnItems&&this._populateTransferFolder();!this._owner.privileges&&this.canReassignOwnItems?this.canReassignItems():this._validateSelectedMember()};B.prototype._validateSelectedMember=
function(){var D,F=this.domNode.querySelector(".js-member-select-error");this._ownerEdit.classList.remove("input-error");F.classList.remove("is-active");var r=!1,A=b["default"].getUserRole(this._owner),G=A.isCustom(),H=!!this.group,J=this._owner.username===this.portal.portalUser.username;H||!G||A.canCreateItem()||J||(r=n["default"].changeOwner.warnings.cantOwnItems);(null===(D=this.group)||void 0===D?0:D.isOpenDataEnabled)&&!A.canDesignateOpenDataGroups()&&(r=n["default"].changeOwner.warnings.cantOwnOpenData);
D=A.isAdmin()||G&&A.canCreateUpdateCapableGroup();H&&this.group.isSharedOwnership&&!D&&(r=n["default"].changeOwner.warnings.cantOwnAccessUpdateGroups);H&&G&&!A.canCreateGroup()&&(r=n["default"].changeOwner.warnings.cantOwnGroups);H||J||!this.canReassignOwnItems||!G||A.canReceiveUserItems()||(r=n["default"].changeOwner.warnings.cantReceiveItems);r&&"string"===typeof r&&(F.innerHTML=r,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error"))};B.prototype._populateTransferFolder=function(){m["default"].setVisibility(this._folderArea,
!0);m["default"].setVisibility(this._folderEdit,!0);this._folderEdit.classList.add("change-owner-card--disabled");m["default"].hideNode(this.domNode.querySelector(".js-folder-edit-button"));var D=new Date,F=D.getDate(),r=D.getMonth()+1;F=(10>F?"0":"")+F;r=(10>r?"0":"")+r;D=D.getFullYear().toString();this.reassignFolderName=this.portal.portalUser.username+"_"+D+"_"+r+"_"+F;this.domNode.querySelector(".js-folder-name").innerHTML=this.reassignFolderName};B.prototype._populateCurrentFolder=function(){var D;
m["default"].setVisibility(this._folderArea,!0);m["default"].setVisibility(this._folderEdit,!0);m["default"].hideNode(this._folderPicker.domNode);if(!this._folder){var F=this.items[0].ownerFolder,r=this.items.every(function(G){return G.ownerFolder===F}),A=c["default"].find(this._owner.folders,function(G){return G.id===F});this._folder=r&&A?A:this._owner.folders[0]}this.domNode.querySelector(".js-folder-name").innerHTML=this._folder.title;r=q["default"].inline[this._folder.id===this._owner.username?
"home":"folder"]["16"];this.domNode.querySelector(".js-folder-icon").innerHTML=r;null===(D=this._folderEditButton)||void 0===D?void 0:D.focus();this._initialOpen&&(m["default"].setVisibility(this._folderArea,!1),this._initialOpen=!1)};return B=v.__decorate([p["default"](g["default"],f["default"],h["default"])],B)}()})},"arcgisonline/pages/components/MemberPicker":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ../utils/keys ../portal/PortalUser ./MemberPickerRow ./preactHooks arcgisonline/sharing/dijit/_LevelAwareMixin".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z){var p=this;Object.defineProperty(L,"__esModule",{value:!0});L.MemberPicker=void 0;l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);x=v.__importDefault(x);L.MemberPicker=function(m){var e=E.useSetState({showCancel:m.showCancel||!0,selected:null,totalMembers:0,showMoreMembers:!1,showNoResults:!1,members:[],searchInput:"",initialFocus:!1}),c=e[0],a=e[1],b=t.useRef(null);e=t.useRef(null);t.useEffect(function(){k().then(function(O){a({totalMembers:O});
100>=O||m.allowEmptySearch?n().then(function(M){return a({members:M})}):a({showMoreMembers:!0})})},[]);t.useEffect(function(){var O=c.initialFocus;b.current&&O&&(d(),a({initialFocus:!1}))},[b,c.initialFocus]);t.useEffect(function(){m.showMemberPicker&&d()},[m.showMemberPicker]);t.useEffect(function(){a({showCancel:m.showCancel})},[m.showCancel]);var d=function(){var O;null===(O=b.current)||void 0===O?void 0:O.focus()},k=function(){return v.__awaiter(p,void 0,void 0,function(){var O,M,K;return v.__generator(this,
function(U){switch(U.label){case 0:return O=y("",1),M=q(),[4,f["default"].request({url:M,content:O})];case 1:return K=U.sent(),[2,K.total]}})})},n=function(O){return v.__awaiter(p,void 0,void 0,function(){var M,K,U,Z;return v.__generator(this,function(ca){switch(ca.label){case 0:return M=m.portal,K=y(O),U=q(),[4,f["default"].request({url:U,content:K})];case 1:return Z=ca.sent(),[2,(Z.results||Z.users).map(function(fa){return new x["default"](v.__assign(v.__assign({},fa),{portal:M}))})]}})})},q=function(){var O=
m.group;return(null===O||void 0===O?0:O.isBackedByEnterpriseGroup)?g["default"].restBaseUrl+"/community/groups/"+O.id+"/userlist":g["default"].restBaseUrl+"/portals/self/users/search"},y=function(O,M){var K,U,Z=m.group,ca=m.portal,fa=m.adminOnly,ka=z.LevelAwareInfo.LICENSE_LEVELS,ma=ka.ONE;ka=ka.ONE_PLUS_EDIT;ma=Z?"":"-level:"+ma+" -level:"+ka+" ";Z=(null===Z||void 0===Z?0:Z.leavingDisallowed)||(null===Z||void 0===Z?0:Z.hiddenMembers)||fa?"role:org_admin":"";fa=O?"("+O+")":"";ka=ca.isPortal?"-username:esri_livingatlas -username:esri_boundaries -username:esri_demographics -username:esri_nav":
"";if(null===(K=m.excludedUsernames)||void 0===K?0:K.length)ka=m.excludedUsernames.reduce(function(ra,za){return""+ra+(ra?" ":"")+"-username:"+za},ka);K={num:M||100,sortField:"relevance",sortOrder:"asc"};(null===(U=m.group)||void 0===U?0:U.isBackedByEnterpriseGroup)?K.name=O:K.q=fa+" "+ma+" "+Z+" orgid:"+ca.id+" "+ka;return K};t.useEffect(function(){var O=c.members,M=c.searchInput,K=c.totalMembers;0<(null===O||void 0===O?void 0:O.length)?a({showMoreMembers:!1,showNoResults:!1,selected:0}):a({showNoResults:0<
M.length,showMoreMembers:0===M.length&&100<=K})},[c.members,c.totalMembers]);var C=function(O){var M=c.members,K=c.selected;m.selectUpdate(O||M[K])},B=function(O,M){var K=c.members;a({showCancel:!0});var U=O,Z=K.length-1;O>Z?U=0:0>O&&(U=Z);a({selected:U});M||C(K[U])},D=function(){var O;null===(O=b.current)||void 0===O?void 0:O.focus()},F=function(){a(function(O){return{showCancel:!O.showCancel}})};E.useEventListener("keydown",function(O){var M=c.members,K=c.selected;if(m.showMemberPicker)switch(O.keyCode){case h.ESCAPE:m.selectCancel();
break;case h.ENTER:O.preventDefault();(null===M||void 0===M?0:M[K])&&C();break;case h.UP:O.preventDefault();B(K-1,!0);break;case h.DOWN:O.preventDefault(),B(K+1,!0)}});var r=c.members,A=c.showCancel,G=c.selected,H=c.showMoreMembers,J=c.showNoResults;return w.h("div",{ref:e,"class":"member-picker "+(m.showMemberPicker?"":"hide")},w.h("div",{"class":"font-size--1 trailer-half flex"},w.h("h4",{"class":"trailer-0 font-size--1 flex-1",id:"member-picker-label"},l["default"].changeOwner.newOwner),w.h("button",
{"class":"btn-link font-size--1 flex-0 btn-link-off-black right "+(A?"":"hide"),onClick:m.selectCancel},l["default"].common.cancel)),w.h("label",{"for":"member-picker-input","class":"visually-hidden"},l["default"].changeOwner.searchMembers),w.h("input",{id:"member-picker-input","class":"member-picker-search",ref:b,onInput:function(O){var M=c.totalMembers;O=O.target.value;O!==c.searchInput&&a({searchInput:O});(2<(null===O||void 0===O?void 0:O.length)||0<M&&100>=M||m.allowEmptySearch&&0===(null===O||
void 0===O?void 0:O.length))&&n(O).then(function(K){return a({members:K})});0===O.length&&a({showNoResults:!1});0===O.length&&!m.allowEmptySearch&&100<=M&&a({members:[],showMoreMembers:!0})},placeholder:l["default"].changeOwner.searchMembers,"aria-controls":"member-results-list",type:"search",autocomplete:"off"}),0<r.length&&w.h("ul",{"class":"member-picker-results",id:"member-results-list",role:"menu","aria-labelledby":"member-picker-label"},r.map(function(O,M){return w.h(u.MemberPickerRow,{key:O.id,
member:O,isSelected:M===G,index:M,handleCancel:F,handleSelect:B,handleFocus:D})})),J&&w.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},l["default"].changeOwner[m.group?"noUsersFoundGroup":"noUsersFoundItem"]),H&&w.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},l["default"].changeOwner.tooManyUsers))}})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(V,L){Object.defineProperty(L,"__esModule",{value:!0});
L.DOWN=L.RIGHT=L.UP=L.LEFT=L.TAB=L.SPACEBAR=L.ENTER=L.ESCAPE=void 0;L.ESCAPE=27;L.ENTER=13;L.SPACEBAR=32;L.TAB=9;L.LEFT=37;L.UP=38;L.RIGHT=39;L.DOWN=40;L["default"]={ESCAPE:L.ESCAPE,ENTER:L.ENTER,TAB:L.TAB,UP:L.UP,DOWN:L.DOWN,LEFT:L.LEFT,RIGHT:L.RIGHT,SPACEBAR:L.SPACEBAR}})},"arcgisonline/pages/components/MemberPickerRow":function(){define(["require","exports","preact","./MemberThumb","preact/hooks"],function(V,L,v,w,t){Object.defineProperty(L,"__esModule",{value:!0});L.MemberPickerRow=void 0;L.MemberPickerRow=
function(l){var f=l.member,g=l.isSelected,h=l.handleSelect,x=l.handleFocus,u=l.index,E=v.createRef();l=f.fullName;var z=f.username;t.useEffect(function(){g&&E.current&&E.current.scrollIntoView({behavior:"smooth"})},[g,E]);return v.h("li",{"class":"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center "+(g?"is-active":""),ref:E,role:"menuitem","aria-selected":g,"tab-index":"0",onFocus:x,onClick:function(){h(u)}},v.h(w.MemberThumb,{member:f,
cssClasses:"member-browser-row-thumbnail margin-right-half"}),v.h("div",{"class":"flex-1 flex flex-column margin-left-half"},v.h("h4",{"class":"member-browser-row-name avenir-bold font-size--1 trailer-0"},l),v.h("p",{"class":"trailer-0 font-size--2"},z)))}})},"arcgisonline/pages/components/MemberThumb":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig ../utils/strings".split(" "),function(V,L,v,w,t,l,f){Object.defineProperty(L,"__esModule",{value:!0});L.MemberThumb=
void 0;f=v.__importDefault(f);L.MemberThumb=function(g){var h=g.member,x=g.cssClasses;g=g.showTooltip;var u=t.useState(null),E=u[0],z=u[1],p=t.useState(null);u=p[0];var m=p[1],e=t.useState(null);p=e[0];var c=e[1];e=t.useState(!1);var a=e[0],b=e[1];t.useEffect(function(){var k,n,q;b(!1);z(h.thumbnailUrl||h.defaultThumbnailUrl);if(h.thumbnailUrl&&h.thumbnailUrl!==h.defaultThumbnailUrl){var y=(null===(n=null===(k=l.userInfo)||void 0===k?void 0:k.credential)||void 0===n?void 0:n.token)||(null===(q=l.userInfo)||
void 0===q?void 0:q.token);y&&-1===h.thumbnailUrl.indexOf("token")&&z(function(C){return""+C+(-1<h.thumbnailUrl.indexOf("?")?"\x26":"?")+"token\x3d"+y});m("");c("#FFFFFF")}else d()},[h]);var d=function(){var k=h.fullName,n=h.username;k.trim()?(k=k.split(" "),m(k[0].substring(0,1)+(k[1]?k[1].substring(0,1):""))):h.username&&m(n.substring(0,2));k=h.id;k=(null===k||void 0===k?void 0:k.substr(k.length-6))||"";f["default"].isValidHex(k)||(k=f["default"].stringToHex(h.username));k=f["default"].hexToRgb(k);
c("rgba("+k.r+","+k.g+","+k.b+",0.2)");b(!0)};return w.h("div",{"aria-label":g?h.fullName:"","class":g?"tooltip":""},w.h("div",{"class":"member-thumb "+(x||""),style:{backgroundColor:p}},w.h("img",{src:E,onError:d,alt:"","class":"margin-left-0 "+(a?"hide":"")}),w.h("div",{"class":"member-thumb__initials "+(a?"":"hide")},u),w.h("div",{"class":"member-thumb__edit-mask"},w.h("calcite-icon",{icon:"plusCircle",scale:"l"}))))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require",
"exports","tslib","preact/hooks"],function(V,L,v,w){Object.defineProperty(L,"__esModule",{value:!0});L.useAsyncReference=L.useDebounce=L.useSetState=L.useEventListener=L.useWindowSize=void 0;L.useWindowSize=function(t){function l(){g({width:window.innerWidth,height:window.innerHeight})}t="object"!==typeof window;t=w.useState({width:t?1200:window.innerWidth,height:t?800:window.innerHeight});var f=t[0],g=t[1];w.useEffect(function(){window.addEventListener("resize",l);return function(){window.removeEventListener("resize",
l)}},[]);return f};L.useEventListener=function(t,l,f){void 0===f&&(f=window);var g=w.useRef();w.useEffect(function(){g.current=l},[l]);w.useEffect(function(){if(f&&f.addEventListener){var h=function(x){return g.current(x)};f.addEventListener(t,h);return function(){f.removeEventListener(t,h)}}},[t,f])};L.useSetState=function(t){void 0===t&&(t={});var l=w.useState(t);t=l[0];var f=l[1];l=w.useCallback(function(g){f(function(h){return v.__assign(v.__assign({},h),g instanceof Function?g(h):g)})},[f]);
return[t,l]};L.useDebounce=function(t,l){var f=w.useState(t),g=f[0],h=f[1];w.useEffect(function(){var x=setTimeout(function(){h(t)},l);return function(){clearTimeout(x)}},[t,l]);return g};L.useAsyncReference=function(t){var l=w.useRef(t),f=w.useState(!1)[1];return[l,function(g){Object.is(l.current,g)||(l.current=g,f(function(h){return!h}))}]}})},"arcgisonline/pages/dijit/ChangeOwner/FolderPicker":function(){define("require exports tslib dojo/text!./templates/FolderPicker.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dojo/Deferred dojo/debounce dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator ../../../sharing/util ../../utils/organization ../../../esriGeowConfig ./FolderPickerRow ../../utils/dom ../../utils/keys ../../utils/icons".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);d=v.__importDefault(d);return function(){function k(n,q){this.templateString=w["default"];this.i18n=t["default"];
this.icons=d["default"];this._rows=[];this._selectedIndex=0;this._creatingFolder=!1}k.prototype.postMixInProperties=function(){this.inherited(arguments);this.containerClass=this.isMoveItem?"move-item-container":"member-picker"};k.prototype.postCreate=function(){var n=this,q;this.inherited(arguments);this.itemFolders=null===(q=this.items)||void 0===q?void 0:q.map(function(y){return y.ownerFolder});this._searchInput=this.domNode.querySelector(".js-search-input");this._noFolderRow=this.domNode.querySelector(".js-no-folder");
this._createFolderInlineLink=this._noFolderRow.querySelector(".js-create-folder-inline");this._createFolderInlineLink.addEventListener("click",this._showNewFolder.bind(this,!0));this._searchInput.addEventListener("input",g["default"](this._updateResults.bind(this),300));this.domNode.addEventListener("keydown",this._handleKeys.bind(this));this._newFolderForm=this.domNode.querySelector(".js-create-folder-form");this._newFolderForm.addEventListener("submit",function(y){var C,B;null===(B=null===(C=n.saveNewfolder(y))||
void 0===C?void 0:C.then)||void 0===B?void 0:B.call(C,function(D){n.emit("selectUpdate",D)})});this._newFolderInput=this._newFolderForm.querySelector(".js-create-folder-input");this._newFolderInput.addEventListener("input",g["default"](this._updateFolderResults.bind(this),300));this.isMoveItem?(q=this.domNode.querySelector(".js-folder-picker-cancel"),q.parentElement.removeChild(q),this._resultsDropdown.classList.add("move-item")):this.domNode.querySelector(".js-folder-picker-cancel").addEventListener("click",
function(y){n._cancelNewFolder();n._buildFolderList();n.emit("cancel")});this._createFolderButton=this.domNode.querySelector(".js-create-new-folder");this._createFolderButton.addEventListener("click",this._showNewFolder.bind(this,!1));this._showHideCreate()};k.prototype.shouldHideCreate=function(){var n=m["default"].getUserRole(this.portal.portalUser);return this.portal.portalUser.username!==this.user.username&&n.isCustom()&&n.canReassignOrgItems()};k.prototype._showHideCreate=function(){var n=this.shouldHideCreate();
a["default"].showHide(this._createFolderButton,!n);a["default"].showHide(this._createFolderInlineLink,!n)};k.prototype._buildFolderList=function(){var n=this,q;this._rows.forEach(function(C){return C.destroy()});this._rows=(this.user.folders||[]).map(function(C,B){var D=new c["default"]({folder:C,user:n.user,isMoveItem:n.isMoveItem},x["default"].place(x["default"].create("li"),n._resultsDropdown));D.on("select",function(){return n.emit("selectUpdate",C)});D.on("select",function(){return n._select(B)});
D.on("hover",function(){return n._active(B,!0)});return D});var y=null===(q=this.itemFolders)||void 0===q?void 0:q.filter(function(C,B){return C&&n.itemFolders.indexOf(C)===B});1===(null===y||void 0===y?void 0:y.length)?(q=this._rows.filter(function(C){return C.folder.id===y[0]})[0],q=this._rows.indexOf(q),-1!==q&&(this._active(q),this._select(q))):this._active(0);this._searchInput.value=""};k.prototype._updateResults=function(){var n=this._searchInput.value.toLowerCase(),q=this._rows.filter(function(y){var C=
y.folder.title.toLowerCase();C=!n||-1<C.indexOf(n);a["default"].showHide(y.domNode,C);return C});0===q.length&&(this._createFolderInlineLink.innerHTML=h["default"].substitute(this.i18n.folderDlg.createFolderInline,[n]));a["default"].showHide(this._noFolderRow,0===q.length)};k.prototype._checkMatchingFolder=function(n){var q=n.toLowerCase();return 0<this._rows.filter(function(y){return y.folder.title.toLowerCase()===q}).length};k.prototype._updateFolderResults=function(){this._checkMatchingFolder(this._newFolderInput.value)?
this._displayError("Unable to create folder.",this._newFolderInput.value):this._closeErrorMessage()};k.prototype._handleKeys=function(n){if(!this._creatingFolder)switch(n.keyCode){case b.ESCAPE:this.emit("cancel");break;case b.ENTER:n.preventDefault();this._createFolderInlineLink===document.activeElement?this._showNewFolder(!0):this._createFolderButton===document.activeElement&&this._showNewFolder(!1);if(n=this._rows[this._selectedIndex])this.emit("selectUpdate",n.folder),this._select(this._selectedIndex);
break;case b.UP:n.preventDefault();this._active(this._selectedIndex-1);break;case b.DOWN:n.preventDefault(),this._active(this._selectedIndex+1)}};k.prototype._select=function(n){if(n||0===n){var q=this._rows.length-1;n>q&&(n=0);0>n&&(n=q)}this._rows[n].select();this._rows.forEach(function(y,C){C!==n&&y.deselect()})};k.prototype._active=function(n,q){if(n||0===n){var y=this._rows.length-1;n>y&&(n=0);0>n&&(n=y);this._selectedIndex=n;this._rows[n].active();if(!q){var C=this._rows[n].domNode;y=C.parentElement;
var B=C.offsetTop;C=C.offsetHeight;var D=B+C;B<y.scrollTop?y.scrollTop=B:D>y.scrollTop+y.offsetHeight&&(y.scrollTop=B-y.offsetHeight+C)}}this._rows.filter(function(F,r){return r!==n}).forEach(function(F){return F.deactivate()})};k.prototype._showNewFolder=function(n){var q=this;this._creatingFolder=!0;n?(a["default"].hideNode(this._noFolderRow),this.saveNewfolder(void 0,!0).then(function(y){q.emit("selectUpdate",y)})):(a["default"].hideNode(this._createFolderButton),a["default"].showNode(this._newFolderForm),
this._active(),this._newFolderInput.focus(),this._newFolderForm.querySelector(".js-folder-create-cancel").addEventListener("click",this._cancelNewFolder.bind(this)))};k.prototype._cancelNewFolder=function(n){null===n||void 0===n?void 0:n.preventDefault();this._closeErrorMessage();this._creatingFolder=!1;a["default"].hideNode(this._newFolderForm);this._newFolderInput.value="";this.shouldHideCreate()||a["default"].showNode(this._createFolderButton)};k.prototype.focus=function(){this._searchInput.focus()};
k.prototype.updateUser=function(n){this.user=n;this._buildFolderList();this._showHideCreate()};k.prototype.hasUnsavedChanges=function(){return this._creatingFolder&&0<this._newFolderInput.value.length};k.prototype.saveNewfolder=function(n,q){var y=this;null===n||void 0===n?void 0:n.preventDefault();var C=e["default"].restBaseUrl+"/content/users/"+this.user.username+"/createFolder",B=q?this._searchInput.value:this._newFolderInput.value,D={title:B};if(null!==B&&void 0!==B&&B.trim())if(this._checkMatchingFolder(B))this._newFolderInput.focus();
else return this.emit("folderCreated",B),p["default"].request({url:C,content:D},{usePost:!0}).then(function(F){var r=new f["default"];!0===(null===F||void 0===F?void 0:F.success)&&(y._cancelNewFolder(),y.user.folders.unshift(F.folder),y._buildFolderList(),y._select(0),y._active(0),r.resolve(F.folder));return r},function(F){y._displayError(F.message,B)});else this._displayError(this.i18n.folderDlg.invalid.provideName,B)};k.prototype._displayError=function(n,q){var y;"Unable to create folder."===n&&
(y=""===q?this.i18n.folderDlg.invalid.provideName:h["default"].substitute(this.i18n.folderDlg.invalid.sameFolderName,[q]));var C=this.domNode.querySelector(".js-create-folder-error-message");C.innerHTML=y||n;this._newFolderInput.focus();C.classList.add("is-active");this._newFolderInput.classList.add("error")};k.prototype._closeErrorMessage=function(){this.domNode.querySelector(".js-create-folder-error-message").classList.remove("is-active");this._newFolderInput.classList.remove("error")};return k=
v.__decorate([z["default"](E["default"],u["default"],l["default"])],k)}()})},"arcgisonline/pages/dijit/ChangeOwner/FolderPickerRow":function(){define("require exports tslib dojo/text!./templates/FolderPickerRow.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(V,L,v,w,t,l,f,g,h,x){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);
h=v.__importDefault(h);x=v.__importDefault(x);return function(){function u(E,z){this.templateString=w["default"];this.i18n=t["default"];this.icons=l["default"]}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.folderIcon=l["default"].inline[this.user.username===this.folder.id?"home":"folder"]["16"]};u.prototype.postCreate=function(){var E=this;this.inherited(arguments);this._folderLink.addEventListener("click",function(z){z.preventDefault();E.emit("select")});this.domNode.addEventListener("click",
function(z){return E.emit("select")});this._folderLink.addEventListener("mouseover",function(z){return E.emit("hover")})};u.prototype.active=function(){this._folderLink.classList.add("is-active")};u.prototype.deactivate=function(){this._folderLink.classList.remove("is-active")};u.prototype.select=function(){this._folderLink.setAttribute("aria-selected","true");this._folderLink.classList.add("is-selected")};u.prototype.deselect=function(){this._folderLink.setAttribute("aria-selected","false");this._folderLink.classList.remove("is-selected")};
return u=v.__decorate([x["default"](h["default"],g["default"],f["default"])],u)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=v.__importDefault(w);t=v.__importDefault(t);
l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(e,c){this.templateString=t["default"];this.i18n=l["default"];this.icons=u["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses="";this.noMask=!1;this._confirmDfd=new f["default"]}m.prototype.postCreate=
function(){this.inherited(arguments);this.domNode.removeAttribute("title");var e=".js-confirm-btn",c=".js-cancel-btn";this.isActions&&(e=".js-action-one",c=".js-action-two",z["default"].hideNode(this._buttons),z["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(e);this._cancelBtn=this.domNode.querySelector(c);z["default"].showHide(this._closeBtn,this.showClose);this.showActions||(z["default"].hideNode(this._buttons),z["default"].hideNode(this._actions));this.noMask&&
this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};m.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};m.prototype._addEventListeners=function(){this.own(x["default"](this._confirmBtn,
this._confirmResolve.bind(this,"onOk")),x["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),x["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};m.prototype._confirmResolve=function(e){var c=this;this._hide();setTimeout(function(){c._confirmDfd.resolve(e);c.destroy();c.emit("close")},300)};m.prototype._hide=function(){this.domNode.classList.remove("is-active")};m.prototype.show=function(){var e=this;window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add("is-active");
setTimeout(function(){e.showClose?e._closeBtn.focus():e._cancelBtn.focus();E["default"].trapFocus(e.domNode)},300);return this._confirmDfd};m.prototype.hide=function(){var e=this;this._hide();setTimeout(function(){e.destroy()},300)};return m=v.__decorate([p["default"](h["default"],g["default"],w["default"])],m)}()})},"arcgisonline/pages/dijit/MoveItem":function(){define("require exports tslib dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ./OverlayConfirm ./ChangeOwner/FolderPicker ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/icons ../../esriGeowConfig dojo/text!./ChangeOwner/templates/MoveItem.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);return function(){function d(k,n){this.title=a["default"].itemProperties.moveToFolder;
this.i18n=a["default"];this.icons=m["default"];this.constrain=!0;this.overlayContents=w["default"].substitute(c["default"],{i18n:a["default"],icons:m["default"]});this.maxWidth=600;this.loadingText=a["default"].common.updating}d.prototype.postMixInProperties=function(){this.inherited(arguments)};d.prototype.postCreate=function(){this.inherited(arguments);this._loader=this.domNode.querySelector(".js-overlay-loader")};d.prototype.open=function(){this.inherited(arguments);this.initUI();this.addListeners()};
d.prototype.close=function(k){this.inherited(arguments)};d.prototype.handlePrimary=function(){var k=this,n;(null===(n=this._folderPicker)||void 0===n?0:n.hasUnsavedChanges())?this._folderPicker.saveNewfolder().then(function(q){k._folder=q;k.updateItems()},this.updateItems.bind(this)):this.updateItems()};d.prototype.addListeners=function(){this.own(this._folderPicker.on("selectUpdate",this.folderSelectUpdate.bind(this)))};d.prototype.initUI=function(){this._folderPicker=new x["default"]({portal:this.portal,
user:this.owner,isMoveItem:!0,items:this.items},this.domNode.querySelector(".js-folder-picker"));this.memberSelectUpdate(this.owner);this._primaryBtn.disabled=!0};d.prototype.fadeIn=function(){var k=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");k.classList.add("animate-fade-in");u["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};d.prototype.updateItems=function(){var k=this;this.moveItems(this.items).then(function(n){n=
n.results||[];var q=n.filter(function(B){return B.success}).map(function(B){return B.item}),y=n.filter(function(B){return B.error&&!B.success}),C=n.filter(function(B){return B.moveItems});0<C.length&&(C[0].results||[]).forEach(function(B){var D=z["default"].find(k.items,function(F){return F.id===B.itemId});B.success?q.push({success:!0,item:D}):y.push({error:B.error,item:D})});0===y.length&&0<q.length?k.handleSuccess(q):0<y.length&&0===q.length?k.handleError(y[0]):0<y.length&&0<q.length&&k.handlePartialSuccess(q,
y[0]);0===n.length&&k.handleSuccess()},this.handleError.bind(this))};d.prototype.moveItems=function(k){this._loader.classList.add("is-active");var n=this._folder.username===this._folder.id?"/":this._folder.id,q=k.filter(function(C){return(C.ownerFolder||"/")!==n}),y=new t["default"];0===q.length?y.resolve({moveItems:!0,results:[]}):p["default"].request({url:e["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:q.map(function(C){return C.id}).join(","),folder:n}},
{usePost:!0}).then(function(C){return y.resolve({moveItems:!0,results:C.results})},function(C){return y.resolve({error:C,items:k})});return y};d.prototype.handleSuccess=function(k){this._loader.classList.remove("is-active");k={newOwner:this._owner,newFolder:this._folder,updatedItems:k};E["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);this.close(k)};d.prototype.handleError=function(k){var n,q=k.error,y=k.itemId;k=q;"CONT_0014"===
q.messageCode&&(q=null===(n=this.items.filter(function(C){return C.id===y}))||void 0===n?void 0:n[0])&&(k=w["default"].substitute(a["default"].folderDlg.invalid.itemExists,[q.title,this._folder.folderAttributeName||this._folder.title]));this._loader.classList.remove("is-active");n=new h["default"]({title:a["default"].common.errorTitle,description:this._folder?k:a["default"].folderDlg.invalid.selectFolder,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});n.domNode.classList.add("position-absolute");
n.domNode.classList.add("fullscreen");this._overlay.appendChild(n.domNode);n.show()};d.prototype.handlePartialSuccess=function(k,n){var q,y=n.itemId,C=n.error;this._loader.classList.remove("is-active");var B={newOwner:this._owner,updatedItems:k,error:C},D=null===(q=this.items.filter(function(F){return F.id===y}))||void 0===q?void 0:q[0];E["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);"CONT_0014"===C.messageCode&&E["default"].showAlert("error",
w["default"].substitute(a["default"].folderDlg.invalid.itemExists,[D.title,this._folder.folderAttributeName||this._folder.title]));B.newFolder=this._folder;this.close(B)};d.prototype.openFolderSelect=function(k){null===k||void 0===k?void 0:k.preventDefault();u["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};d.prototype.folderSelectUpdate=function(k){this._folder=k;this.populateCurrentFolder();this._primaryBtn.disabled=!1};d.prototype.memberSelectUpdate=function(k){var n=
this;this._owner=k;this._folder=null;k.folders?(this.populateCurrentFolder(),this._folderPicker.updateUser(k),this.openFolderSelect(),this.fadeIn()):k.getFolders().then(function(q){k.folders=q;n._owner.folders=q;n.populateCurrentFolder();n._folderPicker.updateUser(k);n.fadeIn()})};d.prototype.populateCurrentFolder=function(){if(!this._folder){var k=this.items[0].ownerFolder,n=this.items.every(function(y){return y.ownerFolder===k}),q=z["default"].find(this._owner.folders,function(y){return y.id===
k});this._folder=n&&q?q:this._owner.folders[0]}};return d=v.__decorate([b["default"](f["default"],l["default"],g["default"])],d)}()})},"arcgisonline/sharing/dijit/dialog/DeleteWarningDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg");V.require("dijit.Dialog");V.require("dijit._Widget");V.require("dijit._Templated");V.declare("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg",
[L._Widget,L._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"delete-warning-dialog" class\x3d"general-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.deleteWarningDlgTitle}"\x3e\r\n    \x3cdiv id\x3d"delete-warning-dialog-content" class\x3d"leader-quarter break-word"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriFloatTrailing right leader-1 clearfix flex flex-align-center"\x3e\r\n      \x3cspan id\x3d"delete-status" class\x3d"text-right margin-right-half" style\x3d"display: none;"\x3e${!i18n.deletingSpace}\x3c/span\x3e\r\n\t\x3c!-- "primary" / "calcite orange" used since this is a delete confirmation --\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-submit" class\x3d"jevent calcite orange btn-delete" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.deleteLabel}\r\n      \x3c/button\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-close" class\x3d"jevent cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
handler:null,manualHide:!1,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.DeleteWarningDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").deleteWarningDlg)},postCreate:function(){this.loadConnections()},show:function(w,t,l,f){this.handler=l;this.clear();
if(null==t||""==t)t="item";L.byId("button_delete-warning-submit").set("disabled",!1);L.byId("button_delete-warning-close").set("disabled",!1);this.manualHide=f;l="";l=1==w?V.string.substitute(this.i18n.confirmDeleteItem,[t]):V.string.substitute(this.i18n.confirmDeleteItems,[w,t]);V.byId("delete-warning-dialog-content").innerHTML=l;V.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel;V.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel;V.style(V.byId("delete-status"),
"display","none");L.byId("delete-warning-dialog").show()},showMsg:function(w,t,l){null!=w&&0!=w.length&&(this.handler=t,this.clear(),L.byId("button_delete-warning-submit").set("disabled",!1),L.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=l,V.byId("delete-warning-dialog-content").innerHTML=w,V.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel,V.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel,V.style(V.byId("delete-status"),"display",
"none"),L.byId("delete-warning-dialog").show())},showMsgTitleButton:function(w,t,l,f,g){null!=w&&0!=w.length&&(this.handler=f,this.clear(),L.byId("button_delete-warning-submit").set("disabled",!1),L.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=g,V.byId("delete-warning-dialog-content").innerHTML=w,V.byId("delete-warning-dialog_title").innerHTML=t,V.byId("button_delete-warning-submit_label").innerHTML=l,V.style(V.byId("delete-status"),"display","none"),L.byId("delete-warning-dialog").show())},
renameDeleteButton:function(w){L.byId("button_delete-warning-submit").set("label",w)},renameCancelButton:function(w){L.byId("button_delete-warning-close").set("label",w)},clear:function(){},loadConnections:function(){this.own(V.query("#button_delete-warning-close").connect("onclick",function(w){w.preventDefault();if(this.onHide)this.onHide();L.byId("delete-warning-dialog").hide()}.bind(this)),V.query("#button_delete-warning-submit").connect("onclick",V.hitch(this,"submitRequest")))},submitRequest:function(w){w.preventDefault();
this.handler();this.manualHide?(V.style(V.byId("delete-status"),"display","inline-block"),L.byId("button_delete-warning-submit").set("disabled",!0),L.byId("button_delete-warning-close").set("disabled",!0)):L.byId("delete-warning-dialog").hide()},hide:function(){L.byId("delete-warning-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/ExportDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/serviceUtil ../../../pages/utils/categories ../../../pages/utils/dom ../../util ../SaveItem ./GeneralDlg ../../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/promise/all dojo/string dojo/on dojo/topic esri/config esri/lang esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExportDlg.html ../ComboBox".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=
v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);var D;(function(F){F.ShapeFile="Shapefile";F.CSV="CSV";F.FileGDB="File Geodatabase";F.GeoJson="GeoJson";F.FeatureCollection="Feature Collection";F.KML="KML";F.Excel="Excel";F.TilePackage="Tile Package";F.GeoPackage="GeoPackage"})(D||(D={}));return function(){function F(){this.declaredClass="arcgisonline.sharing.dijit.dialog.ExportDlg";this.widgetsInTemplate=!0;this.templateString=B["default"];this.layerId=-1;
this.init=!1;this.checkStatusInterval=null;this.checkingStatus=!1;this.statusCheckIntervalTime=4E3;this._setMessageAttr={node:"_message",type:"innerHTML"};this.typeLookup={shapefileType:D.ShapeFile,csvType:D.CSV,fileGDB:D.FileGDB,geoJson:D.GeoJson,featureCollection:D.FeatureCollection,kmlType:D.KML,excelType:D.Excel,CSV:"CSV Collection",KML:"KML Collection",Excel:"Microsoft Excel",tilePackage:D.TilePackage};this.requiredBorder="1px dotted orangered";this.normalBorder="1px solid #bbb"}F.prototype.onDone=
function(r){};F.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=v.__assign(v.__assign(v.__assign({},C["default"].common),C["default"].exportDlg),{defaultError:C["default"].errorWidget.defaultError,generalize:C["default"].addLayerFromFileDlg.generalize,keepOrig:C["default"].addLayerFromFileDlg.keepOrig,notEnoughCreditsTitle:C["default"].publishTileServiceDlg.notEnoughCreditsTitle,itemProperties:C["default"].itemProperties});this._webMercatorValues={3857:1,102113:1,102100:1,
900913:1}};F.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.init=!0,this.saveItem=new x["default"]({},this.saveItemForm))};F.prototype.startup=function(){this.inherited(arguments);n["default"].defaults.io.proxyUrl=w["default"].proxyServer;w["default"].proxyUrl&&(n["default"].defaults.io.proxyUrl=w["default"].proxyUrl)};F.prototype.destroy=function(){this._onSaveItemValidateHandle&&(this._onSaveItemValidateHandle.remove(),this._onSaveItemValidateHandle=null);this.exportDialog.destroyRecursive();
this._pendingCanceller=this.exportDialog=null;this.inherited(arguments)};F.prototype.show=function(r,A,G,H){var J=this;this.showDlg(r,A,G);H&&setTimeout(function(){J._message.style.maxWidth=J.saveItem.domNode.clientWidth+"px";J.setWait(!0);H.waitForCredits.then(function(O){J._pendingCanceller=null;if(O.success)return J.set("message",O.message),J.unsetWait();J.displayError(O,J.i18n.notEnoughCreditsTitle)},function(O){J._pendingCanceller=null;J.displayError(O)});J._pendingCanceller=H.canceller},0)};
F.prototype.showShapefile=function(r,A){this.showDlg(r,A,D.ShapeFile)};F.prototype.showCSV=function(r,A){this.showDlg(r,A,D.CSV)};F.prototype.showFileGDB=function(r,A){this.showDlg(r,A,D.FileGDB)};F.prototype.showGeoJson=function(r,A){this.showDlg(r,A,D.GeoJson)};F.prototype.showFeatureCollection=function(r,A){this.showDlg(r,A,D.FeatureCollection)};F.prototype.showDlg=function(r,A,G){this.clear();this.item=r;this.setDialogTitle(G);this.setLayerDetails(A);this.checkForStaleData(r,A);this.initTags();
this.initCategories();this.exportDialog.show();r=this.onCancel.bind(this);this.own(z["default"](this.exportDialog.closeButtonNode,r),d["default"](this.cancelBtn,"click",r),d["default"](this.exportBtn,"click",this.onExport.bind(this)));this.exportDialog.closeButtonNode.tabIndex=0};F.prototype.checkForStaleData=function(r,A){var G,H,J,O;(null===(G=r.layers)||void 0===G?0:G.length)&&"Feature Service"===r.type&&-1<r.typeKeywords.indexOf("Hosted Service")&&(A&&!A.length?O=null===(H=A.editingInfo)||void 0===
H?void 0:H.lastEditDate:r.layers.forEach(function(M){var K;(J=null===(K=M.editingInfo)||void 0===K?void 0:K.lastEditDate)&&(!O||O<J)&&(O=J)}))};F.prototype.initTags=function(){var r=this;this.saveItem.loadTags().then(function(){r.saveItem.set("tags",[])})};F.prototype.initCategories=function(){this.saveItem.loadCategories(this.item.categories)};F.prototype.setDialogTitle=function(r){this.exportType=r;r=this.i18n.itemProperties;var A=this.i18n.exportDialogTitle;D.ShapeFile===this.exportType?A=r.exportToShapefile:
D.CSV===this.exportType?A=r.exportToCSVFile:D.FileGDB===this.exportType?A=r.exportToFileGDB:D.GeoJson===this.exportType?A=r.exportToGeoJson:D.FeatureCollection===this.exportType?A=r.exportToFeatureCollection:D.KML===this.exportType?A=r.exportToKML:D.Excel===this.exportType?A=r.exportToExcel:D.TilePackage===this.exportType?A=r.exportToTilePackage:D.GeoPackage===this.exportType&&(A=r.exportToGeoPackage);this.exportDialog.set("title",A)};F.prototype.setLayerDetails=function(r){var A,G,H,J;this._isTableLayer=
this._isWebMercator=!1;r&&q["default"].isDefined(r.id)?(this.layerId=r.id,this._layers=[r],this.saveItem.set("title",r.name),this._isWebMercator=(null===(G=null===(A=r.extent)||void 0===A?void 0:A.spatialReference)||void 0===G?void 0:G.wkid)in this._webMercatorValues,this._extent=r.extent):r&&r.length&&(this._layers=r,this._isWebMercator=(null===(J=null===(H=r[0].extent)||void 0===H?void 0:H.spatialReference)||void 0===J?void 0:J.wkid)in this._webMercatorValues,this._isTableLayer=r.every(function(O){return"Table"===
O.type}),this._extent=r[0].extent,this.saveItem.set("title",1===r.length?r[0].name:this.item.title));this._isWebMercator&&!this._isTableLayer&&this.exportType===D.FeatureCollection&&(this.featureCollectionDiv.classList.remove("hide"),this.generalizeChk.checked=!0)};F.prototype.clear=function(){this.exportDialog.set("title",this.i18n.exportDialogTitle);this.item=null;this.layerId=-1;this.checkStatusInterval=this.exportResponse=this.exportType=null;this.checkingStatus=!1;this.saveItem.set("title","");
this.saveItem.set("tags",[]);this.saveItem.set("summary","");this.saveItem.set("requires",["title"]);this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!0;this._onSaveItemValidateHandle=k["default"].subscribe("onSaveItemValidate",this.validate.bind(this));this.saveItem.hideRow("folder");g["default"].forEachNode(this.saveItem.domNode.querySelectorAll(".select2-container.select2-container-multi"),function(r){r.style.minWidth="33px"});this.featureCollectionDiv.classList.add("hide");
this.generalizeChk.checked=!1};F.prototype.hide=function(){return this.exportDialog.hide()};F.prototype.validate=function(r){r=this.saveItem.get("title");this.exportBtn.disabled=!r};F.prototype.validates=function(){return!!this.saveItem.get("title")};F.prototype.setWait=function(r){this.exportDialog.domNode.style.cursor="wait";r?this.set("message",this.i18n.estimatingCredits):this.exportingLabel.style.visibility="visible";this.exportBtn.disabled=!0};F.prototype.unsetWait=function(){this.exportDialog.domNode.style.cursor=
"default";this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!1};F.prototype.exportImageryItem=function(){var r=this,A=this.saveItem.get("title");A=l["default"].exportImageryToTilePackage(this.item,A);var G=A.dfd;this._pendingCanceller=A.canceller;G.then(function(H){var J=H.success;H=H.outputValue;r._pendingCanceller=null;J&&H.itemId?(r.exportResponse={exportItemId:H.itemId},r.updateExportedItemDetails({itemId:H.itemId,statusMessage:""})):r.displayError(r.i18n.defaultError)},function(){r._pendingCanceller=
null;r.displayError(r.i18n.defaultError)})};F.prototype.exportItem=function(){var r=this;if(this._moveFailed)this.updateItem(this._moveFailed.itemId,"/").then(function(M){r.unsetWait();r.onDone(M)});else{this.setWait();if("Image Service"===this.item.type&&D.TilePackage===this.exportType)return this.exportImageryItem();var A=this.saveItem.get("title"),G=this.generalizeChk.checked,H={maxAllowableOffset:1,quantizationParameters:{tolerance:1}},J=D.ShapeFile;D.CSV===this.exportType?J=D.CSV:D.FileGDB===
this.exportType?J=D.FileGDB:D.GeoJson===this.exportType?J=D.GeoJson:D.FeatureCollection===this.exportType?J=D.FeatureCollection:D.KML===this.exportType?J="kml":D.Excel===this.exportType?J="excel":D.GeoPackage===this.exportType&&(J="geoPackage");var O=this._layers.map(function(M){return G?v.__assign({id:M.id},H):{id:M.id}});A={itemId:this.item.id,title:A,exportFormat:J,exportParameters:-1<this.layerId?{layers:O}:G?H:null};this.item.isOwner&&this.item.isDataView&&(A.exportParameters=v.__assign(v.__assign({},
A.exportParameters||{}),{enforceFieldVisibility:!0}));D.FileGDB===this.exportType&&(A.exportParameters=v.__assign(v.__assign({},A.exportParameters||{}),{exportContingentValues:!0}));A.exportParameters&&(A.exportParameters=JSON.stringify(A.exportParameters));J=h["default"].getUser();h["default"].request({url:w["default"].restBaseUrl+"content/users/"+J.username+"/export",content:A},{usePost:!0}).then(this.handleExport.bind(this),this.displayError.bind(this))}};F.prototype.handleExport=function(r){!r||
r.code||r.message?this.displayError(r):(this.exportResponse=r,this.checkStatusInterval=setInterval(this.checkStatus.bind(this),this.statusCheckIntervalTime))};F.prototype.checkStatus=function(){var r=this;if(this.exportResponse&&!this.checkingStatus){var A={jobId:this.exportResponse.jobId,jobType:"export"},G=h["default"].getUser();G=w["default"].restBaseUrl+"content/users/"+G.username+"/items/"+this.exportResponse.exportItemId+"/status";this.checkingStatus=!0;h["default"].request({url:G,content:A}).then(function(H){r.handleStatusCheck(H);
r.checkingStatus=!1},function(H){r.displayError(H);r.checkingStatus=!1})}};F.prototype.handleStatusCheck=function(r){"completed"===(null===r||void 0===r?void 0:r.status)?(clearInterval(this.checkStatusInterval),this.updateExportedItemDetails(r)):"failed"===r.status&&(clearInterval(this.checkStatusInterval),this.updateExportedItemDetailsAndFail(r))};F.prototype.updateExportedItemDetailsAndFail=function(r){var A=this;this.getItemDetails(this.exportResponse.exportItemId).then(function(G){var H=[],J=
w["default"].self.hasCategorySchema&&A.saveItem.get("categories")||[];0<J.length&&H.push(f["default"].setItemCategories([G.id],J));H.push(A.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){A.unsetWait();A.displayFailure(r.statusMessage)})})};F.prototype.updateExportedItemDetails=function(r){var A=this;this.getItemDetails(r.itemId).then(function(G){var H=[],J=w["default"].self.hasCategorySchema&&A.saveItem.get("categories")||[];0<J.length&&H.push(f["default"].setItemCategories([G.id],
J));H.push(A.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){A.unsetWait();A.onDone(r)})})};F.prototype.moveItem=function(r,A){var G=this,H=new c["default"],J=h["default"].getUser();J=w["default"].restBaseUrl+"content/users/"+J.username+"/items/"+r+"/move";var O={folder:A||"/"};this._moveFailed=null;A&&"/"!==A&&""!==A?h["default"].request({url:J,content:O},{usePost:!0}).then(function(M){H.resolve(M)},function(M){if(M&&"CONT_0011"===M.messageCode){var K=G.saveItem.get("title");K=b["default"].substitute(G.i18n.duplicateFound,
{type:G.exportType,title:K});t["default"].createSpecifiedDialog(u["default"]).show({title:G.i18n.errorTitle,message:K});G._moveFailed=v.__assign(v.__assign({},M),{itemId:r,folderId:A});G.unsetWait()}}):H.resolve({itemId:r});return H};F.prototype.updateItem=function(r,A){var G=this.saveItem.get("title"),H=this.saveItem.get("tags"),J=this.saveItem.get("summary"),O=this.saveItem.get("folderId"),M=w["default"].restBaseUrl+"content/items/"+this.exportResponse.exportItemId+"/data",K=h["default"].getUser();
K=w["default"].restBaseUrl+"content/users/"+K.username;A&&0<A.length&&(K+="/"+A);K+="/items/"+this.exportResponse.exportItemId+"/update";G={title:G,tags:H,snippet:J};this._moveFailed||(G.folderId=O);D.KML===this.exportType&&(G.url=M);return h["default"].request({url:K,content:G},{usePost:!0}).then(this.moveItem.bind(this,r,O))};F.prototype.getItemDetails=function(r){return h["default"].request({url:w["default"].restBaseUrl+"content/items/"+r})};F.prototype.goToItem=function(r){var A=this;this.hide().then(function(){A.unsetWait();
window.location.href=w["default"].baseUrl+"item.html?id\x3d"+r})};F.prototype.checkTitle=function(){var r=this.saveItem.get("title"),A=this.saveItem.get("folderId"),G=this.typeLookup[this.exportType]||this.exportType,H=h["default"].getUser().username;return h["default"].request({url:w["default"].restBaseUrl+"search",content:{q:'title:"'+r+'" AND type:"'+G+'" AND owner:"'+H+'" AND ownerfolder:"'+(A&&"/"!==A?A:"root")+'"'}})};F.prototype.displayFailure=function(r){var A=this;if(r)try{var G=JSON.parse(r)}catch(O){G=
r}var H=t["default"].createSpecifiedDialog(u["default"]);H.onOkClick=function(){H.hide();A.onCancel()};var J=this.i18n.errorTitle;G.message&&(r=G.message);H.show({title:J,message:r})};F.prototype.displayError=function(r,A){var G=this;A=A||this.i18n.errorTitle;if(r){var H=t["default"].createSpecifiedDialog(u["default"]);H.onOkClick=function(){H.hide();G.onCancel()};H.show({title:A,message:(null===r||void 0===r?0:r.code)&&r.message?r.message:r})}};F.prototype.onExport=function(){var r=this;this.validates()&&
this.checkTitle().then(function(A){0<A.total?(A=r.saveItem.get("title"),A=b["default"].substitute(r.i18n.duplicateFound,{type:r.typeLookup[r.exportType]||r.exportType,title:A}),t["default"].createSpecifiedDialog(u["default"]).show({title:r.i18n.errorTitle,message:A})):r.exportItem()})};F.prototype.onCancel=function(r){var A,G;null===(A=null===r||void 0===r?void 0:r.preventDefault)||void 0===A?void 0:A.call(r);null===(G=this._pendingCanceller)||void 0===G?void 0:G.call(this);this.hide();this.destroy()};
return F=v.__decorate([E["default"](p["default"],m["default"],e["default"],y["default"])],F)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);
f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);return function(){function c(){}c.getDateFields=function(a){return((null===a||void 0===a?void 0:a.fields)||[]).filter(function(b){return"esriFieldTypeDate"===(null===b||void 0===b?void 0:b.type)})};c.fetchServerToken=function(a,b){var d=a.portal,k=b||a.url;return k?m["default"].request({url:m["default"].getSecureUrl(d.portalUrl+
"generateToken"),content:{serverUrl:k}},{usePost:!0}).then(function(n){return n.token}):null};c.fetchItemAdminUrl=function(a,b){var d;return a.portal.isPortal?(null===b||void 0===b?0:b.adminUrl)&&b.url?this.getAdminUrl(a,b):a.url:(null===(d=a.url)||void 0===d?void 0:d.replace("/rest/","/rest/admin/"))||null};c.getAdminUrl=function(a,b){var d=a.url;d=d.replace(d.split("/rest/")[0],b.adminUrl);return a.isSDS||"Knowledge Graph"===a.type?d.replace("/rest/","/rest/admin/"):d.replace("/rest/","/admin/").replace("/FeatureServer",
".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};c.fetchServiceLayers=function(a){return m["default"].request({url:a+"/layers"}).then(function(b){return(null===b||void 0===b?void 0:b.layers)||[]})};c.renameServiceLayers=function(a,b){var d=new w["default"],k=b.adminUrl+"/"+a.layerId,n={name:a.layerRename};"Map Service"===b.type?(k+="/edit",n={layerDefinition:JSON.stringify(n)}):
(k+="/updateDefinition",n={updateDefinition:JSON.stringify(n),async:!1});m["default"].request({url:k,content:n},{usePost:!0}).then(function(){return d.resolve()},function(q){return d.reject(q)});return d};c.updateServiceDefinition=function(a){var b=a.layerId,d=a.item;a=a.definition;var k=new w["default"];m["default"].request({url:d.adminUrl+"/"+b+"/updateDefinition",content:{updateDefinition:JSON.stringify(a),async:!1}},{usePost:!0}).then(function(){return k.resolve()},function(n){return k.reject(n)});
return k};c.queryGeocodeCounts=function(a){var b=[],d=a.url,k={where:"1\x3d1",returnCountOnly:!0},n=a.reviewTable,q=d+"/"+(a.layers||[])[0].id+"/query",y=new w["default"];a.canUpdate&&a.isHostedService&&a.hasGeocodeReviewTable?(b.push(m["default"].request({url:q,content:k})),n&&(a=d+"/"+n.id+"/query",b.push(m["default"].request({url:a,content:k}))),l["default"](b).then(function(C){var B=(null===C||void 0===C?void 0:C.length)&&C[0].count||0;y.resolve({successful:B,total:B+(1<(null===C||void 0===C?
void 0:C.length)&&C[1].count||0)})},function(C){y.resolve(null)})):y.resolve(null);return y};c.adjustHostedServerForProtocol=function(a){return"https:"===location.protocol?a.replace("http:","https:").replace(":6080",":6443"):a.replace("https:","http:").replace(":6443",":6080")};c.checkForResources=function(a){var b=a.itemUrl+"/resources/styles/root.json";"Vector Tile Service"!==a.type||g["default"].isDefined(a.hasResources)?(b=new w["default"],b.resolve(!!a.hasResources)):b=m["default"].request({url:b}).then(function(){return!0},
function(){return!1});return b};c.setFeatureServiceScaleRanges=function(a){var b=this,d=new w["default"],k=a.url,n=a.sourceData||{},q=a.featureLayers||[];!a.numViews&&a.isHostedService&&"Feature Service"===a.type&&"Service Definition"!==n.type?l["default"](q.map(function(y){return b.setScaleRange(k+"/"+y.id,a,y.id)})).then(function(){return d.resolve(!0)}):d.resolve(!0);return d};c.setScaleRange=function(a,b,d){var k=new w["default"],n=new h["default"](a);a=b.adminUrl;d=g["default"].isDefined(d)?
"/"+d:"";var q=""+a+d+"/updateDefinition";n.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){n.statisticsPlugin.getSuggestedScaleRange().then(function(y){y={updateDefinition:t["default"].stringify({maxScale:y.maxScale||0,minScale:y.relaxedMinScale||0})};m["default"].request({url:q,content:y},{usePost:!0}).then(function(){return k.resolve(b)},function(){return k.resolve(b)})},function(y){k.resolve(b)})});return k};c.getSuggestedScaleRange=function(a){var b=new w["default"],d=new h["default"](a);
d.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){d.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(k){return b.resolve(k)},function(k){b.resolve(null)})},function(k){b.resolve(null)});return b};c.encodeServiceName=function(a,b){if(f["default"]("ie")||f["default"]("trident")||f["default"]("edge")){var d=a.indexOf("admin/services/Hosted/"),k=m["default"].isPortal()&&!b?-1<a.indexOf(".MapServer")?a.indexOf(".MapServer"):-1<a.indexOf(".VectorTileServer")?
a.indexOf(".VectorTileServer"):a.indexOf("/SceneServer"):a.indexOf("/FeatureServer");0<d&&(a=a.substring(0,d+22)+encodeURIComponent(a.substring(d+22,k))+a.substring(k))}return a};c.getImageryToTilePackageParams=function(a,b){var d,k=a.id,n=a.itemUrl||a.portal.portalUrl+"content/items/"+k,q=a.portal.getPortalUser();q=(null===(d=null===q||void 0===q?void 0:q.credential)||void 0===d?void 0:d.token)||(null===q||void 0===q?void 0:q.token);return{inputImageryLayer:JSON.stringify({itemId:k,url:n+"?token\x3d"+
q}),outputTilePackage:b||"tpk"+k,context:"{}"}};c.exportImageryToTilePackage=function(a,b,d){a=c.getImageryToTilePackageParams(a,b);a=v.__assign(v.__assign({},a),{f:"json"});return c.createImageryTask({taskName:"ExportToTilePackage",inputParameters:a,updateDelay:2E4,statusCallback:d,outputParameterName:"outTilePackage"})};c.fetchExportImageryCredits=function(a){a=c.getImageryToTilePackageParams(a);a={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:a}),f:"json",context:"{}"};
return c.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:a,updateDelay:2E3,outputParameterName:"outCost"})};c.createImageryTask=function(a){var b=a.taskName,d=a.updateDelay,k=a.inputParameters,n=a.outputParameterName,q=a.statusCallback,y=new w["default"],C=new u["default"](e["default"].self.helperServices.rasterAnalytics.url+"/"+b);d&&C.setUpdateDelay(d);var B,D=!1,F=function(r){return!D&&y.reject(r)};C.on("error",F);C.submitJob(k,function(r){if(!D)if("esriJobSucceeded"===
r.jobStatus){if(!n)return y.resolve({success:!0});C.getResultData(r.jobId,n).then(function(A){y.resolve({success:null!=(null===A||void 0===A?void 0:A.value),outputValue:null===A||void 0===A?void 0:A.value})},F)}else y.resolve({success:!1})},function(r){B=r.jobId;null===q||void 0===q?void 0:q(r)},F);return{canceller:function(){B&&(D=!0,C.cancelJobStatusUpdates(B),C.cancelJob(B,null,null))},dfd:y}};c.fetchBuildingSceneSubLayer=function(a,b,d){return new Promise(function(k){m["default"].request({url:a+
"/layers/"+b+"/sublayers/"+d}).then(function(n){k({layerId:b,subLayer:n})},function(){k({layerId:b,subLayer:{}})})})};c.fetchPartialUpdateBuildingScenePublishingCredits=function(a,b,d){var k=this,n=b.serviceInfo||{},q=n.layers||[],y=a.url+"/extractChanges",C={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},B={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",r={name:n.name,etype:"tilegencnt",
stype:"scene"},A;return new Promise(function(G){var H=[];d.forEach(function(J){var O,M;A=q.find(function(K){return K.id===J.id});(null===(O=A.sublayers)||void 0===O?void 0:O.filter(function(K){return"3DObject"===K.layerType}).map(function(K){return K.id})).forEach(function(K){H.push(k.fetchBuildingSceneSubLayer(b.url,J.id,K))});A.isTextured=!(null===(M=null===A||void 0===A?void 0:A.multiPatchInfo)||void 0===M||!M.hasTexture);B[J.id]=A});Promise.all(H).then(function(J){var O={};J.forEach(function(M){var K=
M.subLayer,U=K.associatedLayerID;K=K.serviceUpdateTimeStamp.lastUpdate;O[U]=M.layerId;C.layers.push(U);C.layerServerGens.push({id:U,serverGen:K})});m["default"].request({url:y,content:v.__assign(v.__assign({},C),{layers:JSON.stringify(C.layers),layerServerGens:JSON.stringify(C.layerServerGens)})},{usePost:!0}).then(function(M){(null===M||void 0===M?0:M.edits)?(Object.keys(M.edits).forEach(function(K){K=M.edits[K];var U=K.objectIds;D[B[O[K.id]].isTextured?"textured":"untextured"]+=U.adds.length+U.updates.length+
U.deletes.length}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:v.__assign({num:D.textured,task:"textured"},r)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:v.__assign({num:D.untextured,task:"nontextured"},r)}):null}).then(function(K){var U,Z;K=((null===(U=null===K||void 0===K?void 0:K.textured)||void 0===U?void 0:U.credits)||0)+((null===(Z=null===K||void 0===K?void 0:K.untextured)||void 0===Z?void 0:Z.credits)||0);G(K)},function(){G(0)})):G(0)},function(M){G(0)})},
function(){G(0)})})};c.fetchPartialUpdateScenePublishingCredits=function(a,b,d){var k=new w["default"],n=(a.adminServiceInfo||{}).layers||[],q=b.serviceInfo||{},y=q.layers||[];a=a.url+"/extractChanges";var C={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},B={},D={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",r={name:q.name,etype:"tilegencnt",stype:"scene"},A;d.forEach(function(G){var H;C.layers.push(G.id);
(A=z["default"].find(n,function(O){return O.id===G.id}))||1!==n.length||(A=n[0]);if(A){var J=G.id;J!==A.id&&(J=A.id);A.isTextured=!(null===(H=null===A||void 0===A?void 0:A.multiPatchInfo)||void 0===H||!H.hasTexture);B[J]=A}});y.forEach(function(G){-1<C.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&C.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});m["default"].request({url:a,content:v.__assign(v.__assign({},C),{layers:JSON.stringify(C.layers),layerServerGens:JSON.stringify(C.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(H){H=G.edits[H];var J=H.objectIds;D[B[H.id].isTextured?"textured":"untextured"]+=J.adds.length+J.updates.length+J.deletes.length}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:v.__assign({num:D.textured,task:"textured"},r)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:v.__assign({num:D.untextured,task:"nontextured"},r)}):null}).then(function(H){var J,
O;H=((null===(J=null===H||void 0===H?void 0:H.textured)||void 0===J?void 0:J.credits)||0)+((null===(O=null===H||void 0===H?void 0:H.untextured)||void 0===O?void 0:O.credits)||0);k.resolve(H)},function(){k.resolve(0)})):k.resolve(0)},function(G){k.resolve(0)});return k};c.fetchScenePublishingCredits=function(a,b,d){var k=new w["default"],n=a.adminServiceInfo||{},q=n.layers||[],y=a.url+"/query",C={},B={},D={textured:0,untextured:0},F=(a.portal||{}).portalUrl+"portals/self/usageCost",r={name:n.name,
etype:"tilegencnt",stype:"scene"},A;b.length&&d?q.forEach(function(G){var H;G.isTextured=!(null===(H=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===H||!H.hasTexture);B[G.id]=G;C[G.id]="1\x3d1"}):b.forEach(function(G){var H;(A=z["default"].find(q,function(O){return O.id===G.id}))||1!==q.length||(A=q[0]);if(A){var J=G.id;J!==A.id&&(J=A.id);A.isTextured=!(null===(H=null===A||void 0===A?void 0:A.multiPatchInfo)||void 0===H||!H.hasTexture);B[J]=A;C[J]="1\x3d1"}});m["default"].request({url:y,content:v.__assign(v.__assign({},
{}),{layerDefs:JSON.stringify(C),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(H){D[B[H.id].isTextured?"textured":"untextured"]+=H.count}),l["default"]({textured:0<D.textured?m["default"].request({url:F,content:v.__assign({num:D.textured,task:"textured"},r)}):null,untextured:0<D.untextured?m["default"].request({url:F,content:v.__assign({num:D.untextured,task:"nontextured"},r)}):null}).then(function(H){var J,O;H=((null===(J=null===H||void 0===
H?void 0:H.textured)||void 0===J?void 0:J.credits)||0)+((null===(O=null===H||void 0===H?void 0:H.untextured)||void 0===O?void 0:O.credits)||0);k.resolve(H)},function(){k.resolve(0)})):k.resolve(0)},function(){k.resolve(0)});return k};c.getServerLicenseInfo=function(a){a+="/admin/system/licenses";return m["default"].request({url:a},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};c.findManagedDataStoreItems=function(a){a+="/admin/data/findItems";return m["default"].request({url:a,
content:{managed:!0}},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};c.findRasterStoreItems=function(a){a+="/admin/data/findItems";return m["default"].request({url:a,content:{types:"rasterStore",decrypt:!0}},{useProxy:e["default"].isDebug||m["default"].shouldUseProxy(a)})};c.isBackedBySDS=function(a){var b,d=new w["default"],k=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new p["default"]({portalUser:k});var n=!1,
q;k&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!E["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(y){q=((null===y||void 0===y?void 0:y.items)||y||[]).filter(function(C){var B;return"arcgis data store"===(null===(B=null===C||void 0===C?void 0:C.provider)||void 0===B?void 0:B.toLowerCase())});n=!(null===q||void 0===q||!q.length);d.resolve(n)},function(){d.resolve(n)}):d.resolve(n);return d};c.isImageManagementTask=function(a){if(!a||-1===a.indexOf("RasterAnalysisTools")||
-1===a.indexOf("GPServer/"))return!1;a=a.slice(a.indexOf("GPServer/")+9);-1<a.indexOf("/")&&(a=a.slice(0,a.indexOf("/")));var b="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return a&&-1<b.indexOf(a.toLowerCase())};c.getBackingDataStoreInfo=function(a){var b,d=new w["default"],k=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new p["default"]({portalUser:k});var n=
!0,q=!1,y=!1,C=!1,B,D,F;k&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!E["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(r){r=(null===r||void 0===r?void 0:r.items)||r||[];B=r.filter(function(A){var G;return"arcgis data store"===(null===(G=null===A||void 0===A?void 0:A.provider)||void 0===G?void 0:G.toLowerCase())});D=r.filter(function(A){var G,H,J;return"arcgis data store"===(null===(G=null===A||void 0===A?void 0:A.provider)||void 0===G?void 0:G.toLowerCase())&&
"spatiotemporal"===(null===(J=null===(H=A.info)||void 0===H?void 0:H.dsFeature)||void 0===J?void 0:J.toLowerCase())});F=r.filter(function(A){var G,H,J,O;return"arcgis data store"===(null===(G=null===A||void 0===A?void 0:A.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(H=A.type)||void 0===H?void 0:H.toLowerCase())&&"graphstore"===(null===(O=null===(J=A.info)||void 0===J?void 0:J.dsFeature)||void 0===O?void 0:O.toLowerCase())});n=0===r.length;q=!(null===B||void 0===B||!B.length);
y=!(null===D||void 0===D||!D.length);C=!(null===F||void 0===F||!F.length);d.resolve({isSDS:q,isSTDS:y,isGraph:C,none:n})},function(){d.resolve({isSDS:q,isSTDS:y,isGraph:C,none:n})}):d.resolve({isSDS:q,isSTDS:y,isGraph:C,none:n});return d};c.cacheMaxAgeCheck=function(a,b){var d;if(!a.ignoreCache&&a.layers&&"Feature Service"===a.type&&a.isHostedService&&0<(null===(d=null===b||void 0===b?void 0:b.adminServiceInfo)||void 0===d?void 0:d.cacheMaxAge)&&(a.ignoreCache=function(){var n=this;this.ignoreCacheFlagTimestamp=
(new Date).getTime();var q=function(y){y.content=y.content||{};y.content._ts=n.ignoreCacheFlagTimestamp;return y};this.ignoreCacheFlag||(x["default"].setRequestPreCallback(q),this.ignoreCacheFlag=!0)},a.layers)){var k=0;a.layers.forEach(function(n){var q;(null===(q=n.editingInfo)||void 0===q?0:q.lastEditDate)&&k<n.editingInfo.lastEditDate&&(k=n.editingInfo.lastEditDate)});0<k&&((new Date).getTime()-k)/1E3<b.adminServiceInfo.cacheMaxAge&&a.ignoreCache()}};c.isServiceProxy=function(a){var b=(a||"").toLowerCase();
a=-1<b.indexOf("/servers/")&&-1<b.indexOf("/rest/services/");var d=e["default"].self.isPortal&&-1<b.indexOf(e["default"].self.portalHostname);b=!e["default"].self.isPortal&&-1<b.indexOf(".arcgis.com");return a&&(d||b)};c.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return c}()})},"arcgisonline/sharing/dijit/SaveItem":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/CategoryPicker ../../pages/utils/arrays ../../pages/utils/dom ../../pages/utils/storage ../util ../geow/Folder ../../tsutils/declareDecorator arcgis-components/wrappers/Tags dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/i18n!../../nls/arcgisonline dojo/text!./templates/SaveItem.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);return function(){function q(y,C){this.declaredClass=
"arcgisonline.sharing.dijit.SaveItem";this.widgetsInTemplate=!0;this.templateString=n["default"];this.baseClass="esriAGOSaveItemForm";this.init=!1;this.folders={}}q.prototype.postMixInProperties=function(){this.i18n=v.__assign(v.__assign(v.__assign({},k["default"].common),k["default"].saveItem),{addTags:k["default"].itemCompleteness.addTags})};q.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.saveItemTags=new z.TagsWrapper(this.saveItemTagsContainer,{activeTags:[],knownTags:[],
maxWidth:"100%",minWidth:"100%"}),this.getFolders(),this.init=!0)};q.prototype.startup=function(){this.inherited(arguments);this.initHandlers()};q.prototype.hideRow=function(y){g["default"].hideNodes(this.domNode.querySelectorAll(".save-item-"+y+"-row"))};q.prototype.loadTags=function(y){var C=x["default"].getUser();y&&(C=y);return x["default"].loadUserTags(C.username)};q.prototype.loadCategories=function(y){var C=this,B=new c["default"],D=this.domNode.querySelectorAll(".categories-container");w["default"].self.hasCategorySchema?
x["default"].request({url:w["default"].restBaseUrl+"portals/self/categorySchema"}).then(function(F){C.categories=new l["default"]({categories:y||[],schema:F.categorySchema},C.saveItemCategories);C.categories.startup();g["default"].showNodes(D);B.resolve()},function(){g["default"].hideNodes(D);B.resolve()}):(g["default"].hideNodes(D),B.resolve());return B};q.prototype.initHandlers=function(){var y=this.validate.bind(this);this.own(a["default"](this.saveItemFolder,"change",this.onFolderChange.bind(this)),
a["default"](this.saveItemTitle,"change",y),a["default"](this.saveItemSummary,"change",y),t["default"].registerKeystrokeHandler(this.saveItemTitle,y),t["default"].registerKeystrokeHandler(this.saveItemSummary,y))};q.prototype.validate=function(){var y,C;if(!this.beingDestroyed){var B=!0,D=this.saveItemTitle.get("value"),F=(null===(C=null===(y=this.saveItemTags)||void 0===y?void 0:y.getTags())||void 0===C?void 0:C.join(","))||"";y=this.saveItemSummary.get("value");null===this.requires?B=!!(D&&F&&y):
(f["default"].includes(this.requires,"title")&&(B=B&&!!D),f["default"].includes(this.requires,"tags")&&(B=B&&0!==F.length),f["default"].includes(this.requires,"summary")&&(B=B&&!!y));b["default"].publish("onSaveItemValidate",[B])}};q.prototype.getFolders=function(){var y=this,C=x["default"].getUser();if(null!==C){var B=new d["default"]({url:null,data:{identifier:"name",items:[]}});B.newItem({name:C.username,id:""});this.saveItemFolder.set("store",B);this.saveItemFolder.set("value",C.username);u["default"].getFolders(function(D){var F=
null,r=h["default"].getCookie("ESRI_Content");r&&r.folderId&&(F=r.folderId);y.foldersJson=D.folders;D.folders.forEach(function(A,G){B.newItem({name:A.title,id:A.id});y.folders["id"+A.id]=A.title.replace(/"/g,'\\"');F===A.id&&(y.saveItemFolder.set("value",A.title),y.folderId=F,y.folderName=A.title)});B.save({})},function(D){})}};q.prototype.onFolderChange=function(y){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(B){B.forEach(function(D){D.name[0]===y&&(C.folderId=D.id[0],C.folderName=
D.name[0])})}})};q.prototype._setTitleAttr=function(y){this.saveItemTitle.set("value",y)};q.prototype._getTitleAttr=function(){return this.saveItemTitle.get("value")};q.prototype._setTagsAttr=function(y){this.saveItemTags.setTags(y)};q.prototype._getTagsAttr=function(){return this.saveItemTags.getTags()};q.prototype._setCategoriesAttr=function(y){var C=this;y&&y.forEach(function(B){C.categories.addCategory(B)})};q.prototype._getCategoriesAttr=function(){return this.categories.getCategories(!0)};q.prototype._setSummaryAttr=
function(y){this.saveItemSummary.set("value",y)};q.prototype._getSummaryAttr=function(){return this.saveItemSummary.get("value")};q.prototype._setFolderAttr=function(y){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(B){B.forEach(function(D){D.name[0]===y&&(C.folderId=D.id[0],C.folderName=D.name[0],C.saveItemFolder.set("value",C.folderName))})}})};q.prototype._getFolderAttr=function(){return this.folderName};q.prototype._setFolderIdAttr=function(y){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(B){B.forEach(function(D){D.id[0]===
y&&(C.folderId=D.id[0],C.folderName=D.name[0],C.saveItemFolder.set("value",D.name[0]))})}})};q.prototype._getFolderIdAttr=function(){return this.folderId};q.prototype._setRequiresAttr=function(y){this.requires=y?y:null};q.prototype._setTitlePlaceHolderAttr=function(y){this.saveItemTitle.set("placeHolder",y)};q.prototype._setTagsPlaceHolderAttr=function(y){this.saveItemTitle.set("placeHolder",y)};q.prototype._setSummaryPlaceHolderAttr=function(y){this.saveItemSummary.set("placeHolder",y)};return q=
v.__decorate([E["default"](m["default"],p["default"],e["default"])],q)}()})},"arcgisonline/pages/dijit/CategoryPicker":function(){define("require exports tslib dojo/has dojo/topic dojo/query dojo/string dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/categories ../utils/formatters ../utils/icons dojo/text!./CategoryPicker/templates/CategoryPicker.html dojo/text!./CategoryPicker/templates/Category.html dojo/text!./CategoryPicker/templates/CategoryGroup.html dojo/text!./CategoryPicker/templates/CategoryChip.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dom ../../esriGeowConfig esri/Evented".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);
return function(){function y(C,B){var D=this;this.templateString=m["default"];this.i18n=b["default"];this.icons=p["default"];this.defaultText="";this.categoriesLimit=20;this.globalClickListener=function(F){F=F.target;F.classList.contains("js-add-category-dropdown-link")||F.classList.contains("js-add-category-dropdown-button")||F.classList.contains("js-add-category-input")||D.closeCategoryDropdown()}}y.prototype.postMixInProperties=function(){var C=this,B,D,F;this.inherited(arguments);this.rootNode=
E["default"].getRootNode(this.schema);this.schema=(null===(D=null===(B=this.schema)||void 0===B?void 0:B[0])||void 0===D?void 0:D.categories)||[];this.categories=(null===(F=this.categories)||void 0===F?void 0:F.map(function(r){return C.removeRoot(r)}))||[];this.alwaysOpen=this.alwaysOpen||!1;this.categorySortHash=E["default"].getSchemaOrder(this.schema)};y.prototype.startup=function(){var C,B;this.inherited(arguments);if(null===(C=n["default"].portal)||void 0===C?0:C.maxCategoriesPerItem)this.categoriesLimit=
null===(B=n["default"].portal)||void 0===B?void 0:B.maxCategoriesPerItem;this.domNode.querySelector(".js-add-category-error").textContent=f["default"].substitute(b["default"].contentCategories.addCategoryError,{number:this.categoriesLimit});this.setCategories(this.categories);this.addEventListeners()};y.prototype.hideError=function(){l["default"](".js-add-category-error",this.domNode).removeClass("is-active")};y.prototype.setCategories=function(C,B){var D=this;C.map(function(F){return B?D.removeRoot(F):
F}).filter(function(F){return D.categorySortHash[F]});this.categories=C.map(function(F){return B?D.removeRoot(F):F}).filter(function(F){return D.categorySortHash[F]});this.rebuildCategoryChips();this.buildCategoryDropdown();this.alwaysOpen&&this.domNode.classList.add("category-picker--always-open")};y.prototype.getCategories=function(C){var B=C?this.rootNode:"";return this.categories.map(function(D){return""+B+D})};y.prototype.removeCategory=function(C,B){var D=this,F;this.categories.length<=this.categoriesLimit&&
k["default"].forEachNode(this.domNode.querySelectorAll(".js-add-category-error"),function(H){return H.classList.remove("is-active")});var r=this.domNode.querySelector(".js-category-chip[data-category-name\x3d'"+C+"']"),A=this.domNode.querySelector(".js-category-picker-item[data-category-path\x3d'"+C+"']"),G=A&&k["default"].querySelectorAllAsArray(".js-category-picker-item.is-active",A);G=null===G||void 0===G?void 0:G.map(function(H){return H.getAttribute("data-category-path")});if(-1<this.categories.indexOf(C)||
0<(null===G||void 0===G?void 0:G.length))null===(F=null===r||void 0===r?void 0:r.parentNode)||void 0===F?void 0:F.removeChild(r),this.categories=this.categories.filter(function(H){return H!==C}),A.classList.remove("is-active"),G.forEach(function(H){D.removeCategory(H)}),B&&t["default"].publish("categories/update"),this.emit("change",this.categories),this.rebuildCategoryChips();this.buildCategoryDropdown()};y.prototype.addCategory=function(C,B){if(0>this.categories.indexOf(C))if(this.categories=this.categories.filter(function(A){return 0>
C.indexOf(A+"/")}),this.categories.length<this.categoriesLimit){this.categories.push(C);var D=this.domNode.querySelector('.js-category-picker-item[data-category-path\x3d"'+C+'"]'),F=0<l["default"](D.parentElement).closest(".js-category-picker-item").length,r=[D];if(F)for(;D.parentElement.parentElement.classList.contains("js-category-picker-item");)D=D.parentElement.parentElement,r.push(D);r.forEach(function(A){return A.classList.add("is-active")});B&&t["default"].publish("categories/update");this.emit("change",
this.categories);this.rebuildCategoryChips()}else k["default"].querySelectorAllAsArray(".js-add-category-error",this.domNode).forEach(function(A){return A.classList.add("is-active")})};y.prototype.disable=function(){this.domNode.classList.add("category-picker--disabled")};y.prototype.enable=function(){this.domNode.classList.remove("category-picker--disabled")};y.prototype.buildCategoryDropdown=function(){if(this.domNode){var C=this.domNode.querySelector(".js-add-category-dropdown-menu");C&&(C.innerHTML=
this.categoriesToDom(this.schema,"",!0))}};y.prototype.categoriesToDom=function(C,B,D){var F=this;C=C.reduce(function(r,A){var G=B?B+"/"+A.title:"/"+A.title,H=A.categories?F.categoriesToDom(A.categories,G):"",J=G===F.selectedCategory?"is-selected":"",O=-1<F.categories.indexOf(G)||0<F.categories.filter(function(M){return-1<M.indexOf(G+"/")}).length;return r+f["default"].substitute(e["default"],{title:A.title,children:H,path:G,isActive:O?"is-active":"",isSelected:J,icons:p["default"]})},"");return f["default"].substitute(c["default"],
{categories:C,icons:p["default"],role:D?"tree":"group"})};y.prototype.addEventListeners=function(){this.inherited(arguments);this.own(l["default"](".js-add-category-dropdown-menu",this.domNode).on("click",this.treeLinkClick.bind(this)),l["default"](".js-category-chip-wrap",this.domNode).on("click",this.categoryChipClick.bind(this)),l["default"](".js-add-category-dropdown-button",this.domNode).on("click",this.toggleCategoryDropdown.bind(this)),l["default"](".js-add-category-input",this.domNode).on("keydown",
this.addCategoryKeyDown.bind(this)),l["default"](".js-add-category-input",this.domNode).on("keyup",this.addCategoryKeyUp.bind(this)))};y.prototype.treeLinkClick=function(C){var B,D=C.target;g["default"].contains(D,"js-add-category-dropdown-link")&&(C.preventDefault(),C=D.getAttribute("data-category-path"),D.parentNode.classList.contains("is-active")?this.removeCategory(C,!0):this.addCategory(C,!0),null===(B=this.domNode.querySelector(".js-add-category-input"))||void 0===B?void 0:B.focus())};y.prototype.categoryChipClick=
function(C){C.preventDefault();C=C.target;g["default"].contains(C,"js-category-chip-remove")&&(C=C.getAttribute("data-category-name"),this.removeCategory(C,!0))};y.prototype.toggleCategoryDropdown=function(){this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")?this.closeCategoryDropdown():this.openCategoryDropdown()};y.prototype.openCategoryDropdown=function(){var C=this.domNode.querySelector(".js-add-category-input"),B=this.domNode.querySelector(".js-add-category-dropdown");
C.value="";B.classList.add("is-active");C.focus();window.addEventListener("click",this.globalClickListener);if(w["default"]("trident")||w["default"]("edge"))C=this.domNode.closest(".dijitContentPane"),this.originalScrollTop&&this.originalScrollTop!==C.scrollTop?C.scrollTop=this.originalScrollTop:(this.originalScrollTop=C.scrollTop,C.scrollTop+=2)};y.prototype.closeCategoryDropdown=function(){this.alwaysOpen||(k["default"].querySelectorAllAsArray(".js-add-category-dropdown",this.domNode).forEach(function(C){return C.classList.remove("is-active")}),
this.selectedCategory=null);window.removeEventListener("click",this.globalClickListener);this.buildCategoryDropdown()};y.prototype.addCategoryKeyDown=function(C){9===C.keyCode?this.closeCategoryDropdown():13===C.keyCode&&this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")&&C.preventDefault()};y.prototype.addCategoryKeyUp=function(C){var B,D,F=C.keyCode,r=null===(B=C.target)||void 0===B?void 0:B.value;B=k["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",
this.domNode);var A=k["default"].querySelectorAllAsArray(".js-category-picker-item",this.domNode);k["default"].hideNodes(B);k["default"].hideNodes(A);var G=function(H){return-1<H.getAttribute("data-category-path").toLowerCase().indexOf(r.toLowerCase())};A=B.filter(function(H){var J=G(H);H=0<k["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",H.parentNode).filter(G).length;return J||H}).map(function(H){var J;H.classList.remove("hide");null===(J=H.parentNode)||void 0===J?void 0:J.classList.remove("hide");
return H});B=this.domNode.querySelector(".js-add-category-dropdown-link.is-selected");switch(F){case 27:this.closeCategoryDropdown();break;case 13:C.preventDefault();B&&(F=B.getAttribute("data-category-path"),(null===(D=B.parentNode)||void 0===D?0:D.classList.contains("is-active"))?this.removeCategory(F,!0):this.addCategory(F,!0),B.classList.add("is-selected"));break;case 40:case 38:C.preventDefault(),C=A.indexOf(B),D=A[C+1]?A[C+1]:A[0],C=A[C-1]?A[C-1]:A[A.length-1],F=40===F?D:C,B&&B.classList.remove("is-selected"),
g["default"].add(F,"is-selected"),this.selectedCategory=F.getAttribute("data-category-path")}};y.prototype.rebuildCategoryChips=function(){var C=this,B=this.domNode.querySelector(".js-category-chip-wrap");h["default"].empty(B);var D=this.categories.sort(function(F,r){return C.categorySortHash[F]-C.categorySortHash[r]});D.forEach(function(F){var r=f["default"].substitute(b["default"].contentCategories.removeCategoryX,{category:F});F=f["default"].substitute(a["default"],{category:F,removeText:r,icons:p["default"]},
null,z["default"]);h["default"].place(F,B)});this.defaultText&&k["default"].showHide(this.defaultTextContainer,0===D.length)};y.prototype.removeRoot=function(C){return C.replace(new RegExp(this.rootNode+"/"),"/")};return y=v.__decorate([d["default"](u["default"],x["default"],q["default"])],y)}()})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),
function(V,L,v,w,t,l,f,g,h,x){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);return function(){function u(){}u.createFolder=function(E,z,p){var m=l["default"].getUser();return(m=m&&(m.username||m.email))?this.createFolderByUser(m,E,z,p):null};u.createFolderByUser=function(E,z,p,m){var e=this;l["default"].getUser()&&l["default"].request({url:w["default"].restBaseUrl+"content/users/"+E+
"/createFolder",content:z},{usePost:!0}).then(function(c){var a;if(null===(a=e._userFolders)||void 0===a?0:a[E])e._userFolders[E]=null;p(c)},function(c){m(c)})};u.deleteFolder=function(E,z,p){var m=l["default"].getUser();return(m=m&&(m.username||m.email))?this.deleteFolderByUser(m,E,z,p):null};u.deleteFolderByUser=function(E,z,p,m){var e=this;z=w["default"].restBaseUrl+"content/users/"+E+"/"+z+"/delete";l["default"].getUser()&&l["default"].request({url:z},{usePost:!0}).then(function(c){var a;if(null===
(a=e._userFolders)||void 0===a?0:a[E])e._userFolders[E]=null;p(c)},function(c){m(c)})};u.getFolders=function(E,z,p){var m=l["default"].getUser();return(m=m&&(m.username||m.email))?this.getFoldersByUser(m,E,z,p):null};u.getFoldersByUser=function(E,z,p,m){var e=this,c;if(l["default"].getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,E,z,p,m),75);else{"function"!==typeof p&&(m=p,p=null);this._userFolders||(this._userFolders={});var a=w["default"].restBaseUrl+"content/users/"+
E;m={num:m?100:1};a=(null===(c=this._userFolders[E])||void 0===c?void 0:c.folders)&&t["default"](this._userFolders[E].folders)||this._fetchAllItems(a,m).then(function(b){e._userFolders[E]={folders:b};e._isRequestingFolders=!1;return t["default"](b)},function(b){throw b;});this._isRequestingFolders=!this._userFolders[E]||!this._userFolders[E].folders;h["default"](a,z,p)}};u._fetchAllItems=function(E,z){var p=this,m={};return this._fetchItems(E,z,m).then(function(e){if(1<z.num&&e.total>z.num){var c=
Math.ceil(e.total/z.num),a=e.nextStart,b=[];1===(null===e||void 0===e?void 0:e.start)?m=e:m.items=m.items.concat(e.items);for(var d=0;d<c-1;d++)b.push(p._fetchItems(E,v.__assign(v.__assign({},z),{start:a}),m)),a+=e.num;return f["default"](b).then(function(k){(k||[]).forEach(function(n){m.items=m.items.concat(n.items)});return m})}return e},function(e){throw e;})};u._fetchItems=function(E,z,p){return l["default"].request({url:E,content:z}).then(function(m){return m},function(m){throw m;})};u.foldersToStore=
function(E){return new x["default"]({data:{label:"title",items:[{name:"Anonymous User",children:E}]}})};u.updateMoveToMenu=function(E,z,p,m,e){g["default"].publish("updateItemToolbar",[{folders:E,folderId:z,folderName:p,onClickHandler:m,customMenuItem:e}])};u.updateMoveToMenuByUser=function(E,z,p,m,e){g["default"].publish("updateItemToolbar",[{username:E,folders:z,folderId:p,folderName:m,onClickHandler:e}])};return u}()})},"arcgis-components/wrappers/Tags":function(){define(["../Component","../Inputs/Tags/index"],
function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==
typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=987)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=
typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}
function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;
q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;
a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&
b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,m){return(E=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},713:function(v,w){v.exports=L},987:function(v,w,t){t.r(w);
t.d(w,"TagsWrapper",function(){return x});var l=t(0),f=t(16);v=t(713);t=t.n(v);var g=function(u,E){switch(E.type){case "UPDATE_ACTIVE_TAGS":return Object(l.a)(Object(l.a)({},u),{activeTags:E.payload});case "UPDATE_KNOWN_TAGS":return Object(l.a)(Object(l.a)({},u),{knownTags:E.payload});default:return u}},h=Object(f.connect)(function(u){return{activeTags:u.activeTags,knownTags:u.knownTags}},function(u){return{onChange:function(E){u({type:"UPDATE_ACTIVE_TAGS",payload:E})}}})(t.a),x=function(){function u(E,
z){this.renderContainer=E;this.store=Object(f.createStore)(g,{activeTags:z.activeTags,knownTags:z.knownTags});this.projector=Object(f.createProjector)(this.store,function(p){return p(h,Object(l.a)({key:"wrapped-tags"},z))},this.renderContainer)}return u.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},u.prototype.focus=function(){var E=this.renderContainer.querySelector("input");
E&&E.focus()},u.prototype.getTags=function(){return this.store.getState().activeTags},u.prototype.setTags=function(E){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:E})},u.prototype.getKnownTags=function(){return this.store.getState().knownTags},u.prototype.setKnownTags=function(E){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:E})},u.prototype.watchTags=function(E){var z=this,p=this.store.getState().activeTags;return this.store.subscribe(function(){var m=z.store.getState().activeTags;
m!==p&&E(p=m)})},u}()}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component","dojo/i18n!../../Inputs/Tags/nls/resources"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=859)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<
c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}
function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});
t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(v,w){v.exports=
V},417:function(v,w){v.exports=L},545:function(v,w,t){w.a=function(l,f){var g=l.name;return f("li",{"class":"inp-tags__tag",key:g},f("span",{title:g,"class":"inp-tags__tag-innards",onkeydown:l.onKeyDown,id:"tag-"+g,tabindex:"-1"},g,f("button",{"class":"inp-tags__tag-remove-btn","data-value":g,onclick:l.onRemove,tabindex:"-1",type:"button"},f("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},f("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},
546:function(v,w,t){var l=t(417);w.a=function(f,g){var h=f.onSuggestionFocus,x=f.onSuggestionBlur,u=f.onSuggestionClick,E=f.onSuggestionKeyDown;if(!f.visible)return null;var z=f.matchingTags.map(function(m,e){return g("li",{id:"suggestion-"+e,classes:{"inp-tags__suggestion":!0,"inp-tags__suggestion--grey":0==e%2,"inp-tags__suggestion--white":0!=e%2},"data-value":m,"data-index":e,key:m,title:m,onfocus:h,onblur:x,onmousedown:u,onkeydown:E,tabindex:"0"},m)}),p=g("div",{"class":"inp-tags__no-suggestions",
id:"no-matching-div"},g("div",{"class":"inp-tags__no-suggestions-text",id:"no-matching-text"},l.noTagsFound));return g("ul",{id:"tag-suggestions","class":"inp-tags__suggestions",key:"tag-suggestions"},z[0]?z:p)}},859:function(v,w,t){t.r(w);var l=t(0);v=t(18);var f=t(417),g=t(545),h=t(546);t=function(x){function u(E){E=x.call(this,E)||this;return E.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},E.handleInputBlur=E.handleInputBlur.bind(E),E.handleInputChange=E.handleInputChange.bind(E),
E.handleInputFocus=E.handleInputFocus.bind(E),E.handleInputKeyDown=E.handleInputKeyDown.bind(E),E.handleSuggestionBlur=E.handleSuggestionBlur.bind(E),E.handleSuggestionClick=E.handleSuggestionClick.bind(E),E.handleSuggestionFocus=E.handleSuggestionFocus.bind(E),E.handleSuggestionKeyDown=E.handleSuggestionKeyDown.bind(E),E.handleWidgetClick=E.handleWidgetClick.bind(E),E.spliceTag=E.spliceTag.bind(E),E.handleTagInputKeyDown=E.handleTagInputKeyDown.bind(E),E}return Object(l.d)(u,x),u.prototype.render=
function(E){var z=this,p={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},m=this.props.knownTags.filter(function(e){return-1!==e.toLowerCase().indexOf(z.state.value.toLowerCase())&&-1===z.props.activeTags.indexOf(e)});return E("div",{id:"tags-container",classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+
";\n                    "},E("ul",{classes:p,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(e){return e}).map(function(e){return E(g.a,{name:e,onRemove:z.spliceTag,onKeyDown:z.handleTagInputKeyDown})}),E("input",{id:"tags-input","class":"inp-tags__input",placeholder:f.addTags,value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),E(h.a,{matchingTags:m,onSuggestionBlur:this.handleSuggestionBlur,
onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},u.prototype.handler=function(E){},u.prototype.addTag=function(E,z){var p=this;void 0===z&&(z=!0);var m=[];E.split(",").forEach(function(c){(c=p.stripHTML(c.trim()))&&-1===p.props.activeTags.indexOf(c)&&-1===m.indexOf(c)&&m.push(c)});this.props.onChange(this.props.activeTags.concat(m));var e=document.getElementById("tags-input");
e&&z&&e.focus()},u.prototype.spliceTag=function(E){E=E.currentTarget||E.target;var z=Object(l.g)([],this.props.activeTags);z.splice(this.props.activeTags.indexOf(E.dataset.value),1);this.props.onChange(z)},u.prototype.handleInputBlur=function(E){var z=this;setTimeout(function(){var p=document.getElementById("tags-container");(null==p?0:p.contains(document.activeElement))||(z.addTag(E.target.value,!1),z.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},u.prototype.handleInputChange=
function(E){this.setState({value:E.target.value})},u.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},u.prototype.handleInputKeyDown=function(E){switch(E.key){case "Enter":E.target.value&&(this.addTag(E.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&(z.focus(),z.value=""));break;case "Tab":var z;E.target.value&&(E.preventDefault(),this.addTag(E.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&
(z.focus(),z.value=""));break;case "Backspace":E.target.value||(E=Object(l.g)([],this.props.activeTags),E.pop(),this.props.onChange(E),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":z=document.getElementById("suggestion-0");this.state.isTyping&&z?(E.preventDefault(),z.focus()):this.setState({isTyping:!0});break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;
default:this.setState({isTyping:!0})}},u.prototype.handleSuggestionBlur=function(E){E.preventDefault();this.setState({isFocused:!1,isTyping:!1})},u.prototype.handleSuggestionClick=function(E){E.preventDefault();this.addTag(E.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(E=document.getElementById("tags-input"))&&(E.focus(),E.value="")},u.prototype.handleSuggestionFocus=function(E){E.preventDefault();this.setState({isFocused:!0,isTyping:!0})},u.prototype.handleSuggestionKeyDown=
function(E){switch(E.preventDefault(),E.key){case "Up":case "ArrowUp":0===E.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(E.target["data-index"]-1)));break;case "Down":case "ArrowDown":(E=document.getElementById("suggestion-"+(E.target["data-index"]+1)))?E.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(E);break;case "Escape":E.preventDefault(),
this.focusElement(document.getElementById("tags-input"))}},u.prototype.handleWidgetClick=function(E){(E=document.getElementById("tags-input"))&&E.focus()},u.prototype.handleTagInputKeyDown=function(E){var z=document.activeElement.getAttribute("title");if(z){var p=this.props.activeTags.indexOf(z);switch(E.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<p?"tag-"+this.props.activeTags[p-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(p<
this.props.activeTags.length-1?"tag-"+this.props.activeTags[p+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":E=Object(l.g)([],this.props.activeTags),E.splice(this.props.activeTags.indexOf(z),1),this.props.onChange(E),this.focusElement(document.getElementById("tag-"+this.props.activeTags[p<this.props.activeTags.length-1?p+1:p-1]))}}},u.prototype.focusElement=function(E){E&&E.focus()},
u.prototype.stripHTML=function(E){return E&&E.replace(/<(?:.|\s)*?>/g,"")},u}(v.Component);w["default"]=t}})})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(g,h){this.autoComplete=!1;this.templateString=l["default"]}return f=v.__decorate([w["default"](t["default"])],
f)}()})},"arcgisonline/sharing/dijit/dialog/ExtentDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../DefineExtent dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExtentDlg.html".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z){var p=L("arcgisonline.sharing.dijit.dialog.ExtentDlg",[g,h,x],{declaredClass:"arcgisonline.sharing.dijit.dialog.ExtentDlg",basePath:V.toUrl("arcgisonline/sharing/dijit/dialog"),
templateString:z,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=v.mixin({},E.common);this.i18n=v.mixin(this.i18n,E.viewer.geocode);this.i18n=v.mixin(this.i18n,E.generalDlg);this.i18n=v.mixin(this.i18n,E.extentDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},_loadConnections:function(){this.own(w(this._cancelBtn,"click",v.hitch(this,"_cancelBtnClick")),w(this._okBtn,"click",v.hitch(this,"_okBtnClick")),t.subscribe("define-extent/update",
v.hitch(this,"_publish")))},_cancelBtnClick:function(m){m.preventDefault();this._extentDialog.hide()},_okBtnClick:function(m){m.preventDefault();this.setExtent()},hide:function(){this._defineExtent._destroyMap();this._extentDialog.hide()},show:function(m){this._defineExtent||(this._defineExtent=new u({id:"defineExtent"},this._extentContainer),this._defineExtent.startup());this._defineExtent.set("extent",m);this._extentDialog.show()},setExtent:function(){var m=this._defineExtent.get("extent");m&&this._publish(m);
this.hide()},_publish:function(m){t.publish("extent/update",m)}});p.prototype.statics={getInstance:function(){this._instance||(this._instance=new p);return this._instance}};return p})},"arcgisonline/sharing/dijit/DefineExtent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/number dojo/topic esri/dijit/Search esri/map esri/layers/ImageParameters esri/layers/ArcGISTiledMapServiceLayer esri/geometry/Extent esri/geometry/Point esri/geometry/webMercatorUtils esri/SpatialReference esri/symbols/SimpleLineSymbol esri/toolbars/draw esri/graphic esri/dijit/Popup dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../map/core/projectExtent ../../map/utils/clipOnHorizon ../../map/utils/createExtentSearchOptions ../util ../../pages/pageUtil ../../pages/utils/dom ../../pages/utils/number ../../esriGeowConfig ./dialog/GeneralDlg dojo/i18n!../../nls/arcgisonline dojo/text!./templates/DefineExtent.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za){return L([G,H,J],{declaredClass:"arcgisonline.sharing.dijit.DefineExtent",basePath:V.toUrl("arcgisonline/sharing/dijit"),templateString:za,widgetsInTemplate:!0,numberPattern:"#.#",_setExtentAttr:function(ia){(this.extent=ia)&&2===ia.length&&2===ia[0].length&&2===ia[1].length?(this._initMap(ia),this._extentTop.set("value",fa.format(Math.round(1E3*this.extent[1][1])/1E3)),this._extentLeft.set("value",
fa.format(Math.round(1E3*this.extent[0][0])/1E3)),this._extentRight.set("value",fa.format(Math.round(1E3*this.extent[1][0])/1E3)),this._extentBottom.set("value",fa.format(Math.round(1E3*this.extent[0][1])/1E3))):(this._initMap(null),this._extentTop.set("value",""),this._extentLeft.set("value",""),this._extentRight.set("value",""),this._extentBottom.set("value",""))},_getExtentAttr:function(){var ia=[[],[]],T=this._extentTop.get("value"),la=this._extentLeft.get("value"),S=this._extentBottom.get("value"),
P=this._extentRight.get("value"),I=E.parse(T),ba=E.parse(la),W=E.parse(S),aa=E.parse(P);if(this._isValidExtentInput(T,la,P,S,I,ba,aa,W)){ia[1][1]=I;ia[0][0]=ba;ia[1][0]=aa;ia[0][1]=W;if(this._isValidWGS84Extent(ia))return ia;Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})}else Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+
"\x3cbr\x3e"+this.i18n.error.errorValueBigger})},postMixInProperties:function(){this.inherited(arguments);this.i18n=v.mixin({},ra.common);this.i18n=v.mixin(this.i18n,ra.viewer.geocode);this.i18n=v.mixin(this.i18n,ra.generalDlg);this.i18n=v.mixin(this.i18n,ra.extentDlg)},postCreate:function(){this.symbol=new n(n.STYLE_SOLID,new t([255,0,0]),2);this.defaultExtent=new a(-121,21.72,-76,61.28,new k({wkid:4326}));this._loadConnections()},destroy:function(){this.inherited(arguments);this._destroyMap()},
_loadConnections:function(){var ia=v.hitch(this,"_checkRange");this.own(u(this._extentTop,"blur",ia),u(this._extentLeft,"blur",ia),u(this._extentRight,"blur",ia),u(this._extentBottom,"blur",ia),u(this._buttonSetExtent,"click",v.hitch(this,"_toggleMapNavigation")))},_isValidWGS84Extent:function(ia){ia=[ia[0].join(","),ia[1].join(",")].join();ia=w.map(ia.split(","),function(T){return parseFloat(T)});return-90<=ia[3]&&90>=ia[3]&&-180<=ia[2]&&180>=ia[2]&&-180<=ia[0]&&180>=ia[0]&&-90<=ia[1]&&90>=ia[1]&&
ia[2]>ia[0]&&ia[3]>ia[1]},_isValidExtentInput:function(ia,T,la,S,P,I,ba,W){return!(0===ia.length||0===T.length||0===la.length||0===S.length||isNaN(P)||isNaN(I)||isNaN(ba)||isNaN(W))},_destroyMap:function(){if(this.map){try{this.map.destroy()}catch(T){}var ia=this.map.infoWindow;ia&&ia.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(T){}this.geocoder=null}l.byId("extent-map-container")&&g.empty(l.byId("extent-map-container"))},_setProjectedExtent:function(ia){ia=M(ia[0]);
u.once(this.map,"extent-change",v.hitch(this,"_drawBoundingBox",ia));this.map.setExtent(ia,!0)},_drawBoundingBox:function(ia){this._drawBox(ia)},_checkRange:function(ia){if(ia){var T=ia.target.value,la=E.parse(T);ia=ia.target.id;var S=!1;if("extent-left"===ia){if(0===T.length||isNaN(la))Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>la||180<la)Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
S=!0;S&&(this.extent&&2===this.extent.length&&2==this.extent[0].length&&2===this.extent[1].length?this._extentLeft.set("value",fa.format(Math.round(1E3*this.extent[0][0])/1E3)):this._extentLeft.set("value",""))}else if("extent-right"===ia){if(0===T.length||isNaN(la))Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>la||180<la)Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentRight.set("value",fa.format(Math.round(1E3*this.extent[1][0])/1E3)):this._extentRight.set("value",""))}else if("extent-top"===ia){if(0===T.length||isNaN(la))Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>la||90<la)Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),
S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentTop.set("value",fa.format(Math.round(1E3*this.extent[1][1])/1E3)):this._extentTop.set("value",""))}else{if(0===T.length||isNaN(la))Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>la||90<la)Z.createSpecifiedDialog(ma).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),S=!0;S&&(this.extent&&
2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?this._extentBottom.set("value",fa.format(Math.round(1E3*this.extent[0][1])/1E3)):this._extentBottom.set("value",""))}null!=this.map&&0<this._extentTop.get("value").length&&0<this._extentLeft.get("value").length&&0<this._extentRight.get("value").length&&0<this._extentBottom.get("value").length?(T=[[],[]],T[1][1]=E.parse(this._extentTop.get("value")),T[0][0]=E.parse(this._extentLeft.get("value")),T[1][0]=E.parse(this._extentRight.get("value")),
T[0][1]=E.parse(this._extentBottom.get("value")),this._isValidWGS84Extent(T)?(T=new a(T[0][0],T[0][1],T[1][0],T[1][1],new k({wkid:4326})),O(T,this.map.spatialReference,v.hitch(this,"_setProjectedExtent"),null,this.map)):this._deleteBox()):null!=this.map&&this._deleteBox()}},_initMap:function(ia){var T=this.defaultExtent;null!=ia&&(T=new a(ia[0][0],ia[0][1],ia[1][0],ia[1][1],new k({wkid:4326})));if(this.map){if(null!=ia)u.once(this.map,"extent-change",v.hitch(this,"_drawBoundingBox",T));this.map.setExtent(T,
!0)}else{this.map=new m("extent-map-container",{showAttribution:!1,wrapAround180:!1,center:[-31,10],zoom:1});var la=new e;la.format="png24";la=new c(ka.extentService,{imageParameters:la});this.map.addLayer(la);null!=ia&&this.own(this.map.on("load",v.hitch(this,"_onMapLoad",T)));this.own(la.on("update",v.hitch(this,"_onUpdate")));this.toolbar=new q(this.map,{showTooltips:!1});this.own(this.toolbar.on("draw-complete",v.hitch(this,"_onDrawEnd")));this.mapNavigation=!0;f.set(this._buttonSetExtent,"innerHTML",
this.i18n.drawExtent);this.geocoder||(ia=K(this.map),ia.showInfoWindowOnSelect=!1,this.geocoder=new p(ia,g.create("div",{id:"extentSearch"},this._extentSearchContainer,"only")),this.geocoder.startup(),this.own(this.geocoder.on("select-result",v.hitch(this,"_onSearchResult"))))}},_onMapLoad:function(ia){x(".action.zoomTo").forEach(ca.hideNode);O(ia,this.map.spatialReference,v.hitch(this,"_setProjectedExtent"),null,this.map)},_drawBox:function(ia){this.map.graphics.clear();null!==ia&&this.map.graphics.add(new y(ia,
this.symbol))},_deleteBox:function(){this.map.graphics.clear()},_onUpdate:function(){this.map.reposition()},_toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(q.EXTENT),this.map.showZoomSlider(),this.mapNavigation=!1,f.set(this._buttonSetExtent,"innerHTML",this.i18n.enableMapPanning)):(this.toolbar.deactivate(),this.map.enableMapNavigation(),this.mapNavigation=!0,f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent))},_onSearchResult:function(ia){if(ia.result){ia=ia.result;
var T=ia.feature.geometry,la=ia.extent;if("polygon"===T.type){var S=T.getExtent().expand(1.1);var P=T.getCentroid()}else"polyline"===T.type?(S=T.getExtent().expand(1.1),P=T.getPoint(0,0)):"multipoint"===T.type?(S=T.getExtent().expand(1.1),P=T.getPoint(0)):(S=la||arcgisonline.map.main.map.extent.centerAt(T).expand(.0625),P=T);this._deleteBox();this.popup||(this.popup=new C(null,g.create("div",{"class":"blueTheme"},l.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);this.popup.setContent("\x3cdiv\x3e\x3cspan\x3e"+
ia.name+"\x3c/span\x3e\x3c/div\x3e");u.once(this.map,"extent-change",v.hitch(this,function(){this._drawBox(S);this.popup.show(P);setTimeout(v.hitch(this,function(){this.popup.hide()}),3E3)}));this.map.setExtent(S,!0);ia=S;4326!==S.spatialReference.wkid&&(ia=d.webMercatorToGeographic(S));this._extentTop.set("value",fa.format(Math.round(1E3*ia.ymax)/1E3));this._extentLeft.set("value",fa.format(Math.round(1E3*ia.xmin)/1E3));this._extentRight.set("value",fa.format(Math.round(1E3*ia.xmax)/1E3));this._extentBottom.set("value",
fa.format(Math.round(1E3*ia.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(ia.ymax);this.extent[0][0]=parseFloat(ia.xmin);this.extent[1][0]=parseFloat(ia.xmax);this.extent[0][1]=parseFloat(ia.ymin);z.publish("define-extent/change",ia)}},_onDrawEnd:function(ia){this._deleteBox();if(.01>ia.width){var T=.01;ia=new a(ia.xmin-T,ia.ymin,ia.xmin+T,ia.ymax,new k({wkid:4326}))}.01>ia.height&&(T=.01,ia=new a(ia.xmin,ia.ymin-T,ia.xmax,ia.ymin+T,new k({wkid:4326})));ia=M(ia.geographicGeometry);
u.once(this.map,"extent-change",v.hitch(this,"_drawBoundingBox",ia));this.map.setExtent(ia,!0);T=ia;4326!==ia.spatialReference.wkid&&(T=d.webMercatorToGeographic(ia));this._extentTop.set("value",fa.format(Math.round(1E3*T.ymax)/1E3));this._extentLeft.set("value",fa.format(Math.round(1E3*T.xmin)/1E3));this._extentRight.set("value",fa.format(Math.round(1E3*T.xmax)/1E3));this._extentBottom.set("value",fa.format(Math.round(1E3*T.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(T.ymax);this.extent[0][0]=
parseFloat(T.xmin);this.extent[1][0]=parseFloat(T.xmax);this.extent[0][1]=parseFloat(T.ymin);z.publish("define-extent/change",T)}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za){function ia(T,la){T&&la&&(T._layer=la,T._sourceLayer=la)}L=L([d,k,n,t],{declaredClass:"esri.dijit.Search",templateString:b,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(T,la){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new ka("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:a.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:a.widgets.Search.main.placeholder,highlightSymbol:(new G(V.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new M).setColor(new ra([181,56,46,.9])).setFont(new K("14px",K.STYLE_NORMAL,K.VARIANT_NORMAL,K.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new B(a.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};var S=v.mixin({},this.options,T);this.set(S);this._updateActiveSource();this._i18n=a;this._defaultSR=new F(4326);this.domNode=la},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(v.hitch(this,this._init))},postCreate:function(){var T=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(g(this.submitNode,q,v.hitch(this,this._searchButton)));this.own(g(this.sourcesBtnNode,q,v.hitch(this,this._toggleSourcesMenu)));this.own(g(this.inputNode,q,v.hitch(this,this._inputClick)));this.own(g(this.clearNode,q,v.hitch(this,this._clearButton)));this.own(g(this.formNode,"submit",v.hitch(this,function(la){la.preventDefault();this._cancelSuggest();this.search()})));this.own(g(this.inputNode,"keyup",v.hitch(this,
function(la){this._inputKey(la)})));this.own(g(this.sourcesBtnNode,"keyup",v.hitch(this,function(la){this._sourceBtnKey(la)})));this.own(g(this.suggestionsNode,"li:click, li:keyup",function(la){T._suggestionsEvent(la,this)}));this.own(g(this.sourcesNode,"li:click, li:keyup",function(la){T._sourcesEvent(la,this)}));this.own(g(this.inputNode,"input, paste",v.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(g(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",v.hitch(this,function(la){this._showMoreResultsClick(la)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",v.hitch(this,function(la){this._moreResultsClick(la)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",v.hitch(this,function(la){this._switchCoordinatesClick(la)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();e.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();z.get(this.inputNode,"value")&&z.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);p.remove(this.containerNode,
this.css.hasValue);z.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){m.set(this.domNode,"display","block")},hide:function(){m.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(p.add(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(p.remove(this.containerNode,
this.css.searchExpanded),p.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(T){this.enableButtonMode&&("undefined"===typeof T&&(T=!this.expanded),T?this.expand():this.collapse())},search:function(T){var la=new l;this._mapLoaded().then(v.hitch(this,function(){this._searchDeferred(T).then(v.hitch(this,function(S){var P=S.results;this.set("searchResults",P);0===S.numResults&&(this._noResults(S.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",S);this._selectFirstResult(P,S.activeSourceIndex);la.resolve(P)}),v.hitch(this,function(S){la.reject(S)}))}));return la.promise},suggest:function(T){var la=new l;this._mapLoaded().then(v.hitch(this,function(){this._suggestDeferred(T).then(v.hitch(this,function(S){if(S){var P=S.results;this.set("suggestResults",P);this._insertSuggestions(P,S.value);this.emit("suggest-results",S);la.resolve(P)}}),v.hitch(this,function(S){la.reject(S)}))}));return la.promise},select:function(T){var la=
this._getDefaultSymbol(T),S=this.labelSymbol,P=this.sources,I=this.activeSourceIndex,ba=this.enableHighlight,W=this.enableLabel,aa=this.autoNavigate,Q=this.showInfoWindowOnSelect,N=this.enableInfoWindow,R=this.infoTemplate,X=T.feature?new r(T.feature.toJson()):null,Y=X?T.feature._sourceLayer:null;ia(X,Y);if(I===this._allIndex){var da=this._getSourceIndexOfResult(T);if(null!==da){var ea=P[da];I=da}}else ea=P[I];ea&&(ea.hasOwnProperty("highlightSymbol")&&(la=ea.highlightSymbol),ea.hasOwnProperty("labelSymbol")&&
(S=ea.labelSymbol),ea.hasOwnProperty("enableHighlight")&&(ba=ea.enableHighlight),ea.hasOwnProperty("enableLabel")&&(W=ea.enableLabel),ea.hasOwnProperty("autoNavigate")&&(aa=ea.autoNavigate),ea.hasOwnProperty("showInfoWindowOnSelect")&&(Q=ea.showInfoWindowOnSelect),ea.hasOwnProperty("enableInfoWindow")&&(N=ea.enableInfoWindow),ea.hasOwnProperty("infoTemplate")?R=ea.infoTemplate:ea.featureLayer&&ea.featureLayer.infoTemplate&&(R=ea.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(X){P=
this.highlightGraphic;var ha=this.graphicsLayer;da=this.labelGraphic;var na=v.mixin({},X.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(T),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(T)}),qa=null;N&&(qa=R);da?(da.setGeometry(X.geometry),da.setAttributes(na),da.setSymbol(S),S&&"textsymbol"===S.type&&da.symbol.setText(T.name)):(da=new r(X.geometry,
S,na),ia(da,Y),S&&"textsymbol"===S.type&&da.symbol.setText(T.name),W&&(ha?ha.add(da):this.map&&this.map.graphics&&this.map.graphics.add(da)));P?(P.setGeometry(X.geometry),P.setAttributes(na),P.setInfoTemplate(qa),P.setSymbol(la)):(P=new r(X.geometry,la,na,qa),ia(P,Y),ba&&(ha?ha.add(P):this.map&&this.map.graphics&&this.map.graphics.add(P)));P&&P.symbol&&"textsymbol"===P.symbol.type&&P.symbol.setText(T.name);this.map&&this.map.infoWindow&&N&&Q&&(this.map.infoWindow.setFeatures([P]),la=this._getPointFromGeometry(P.geometry),
this.map.infoWindow.show(la));this.map&&aa&&T&&T.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(T.extent,!0);this.set("highlightGraphic",P);this.set("labelGraphic",da)}this.set("selectedResult",T);this.emit("select-result",{result:T,source:ea,sourceIndex:I})},focus:function(){y.focus(this.inputNode)},blur:function(){this.inputNode.blur();y.curNode&&y.curNode.blur()},clearGraphics:function(){var T=this.highlightGraphic,la=this.graphicsLayer,S=this.labelGraphic;
T&&(la?la.remove(T):this.map&&this.map.graphics&&this.map.graphics.remove(T));S&&(la?la.remove(S):this.map&&this.map.graphics&&this.map.graphics.remove(S));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var T=new l;if(this.map)if(this.map.loaded)T.resolve();else g.once(this.map,"load",v.hitch(this,function(){T.resolve()}));else T.resolve();return T.promise},_init:function(){this._getMapLayers().then(v.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();y.focus(this.inputNode)},_error:function(T){return Error(this.declaredClass+" "+T)},_searchDeferred:function(T){var la=new l,S=this.value,P=this.activeSourceIndex;T&&T.hasOwnProperty("index")&&(P=T.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var I={magicKey:this.magicKey,text:S};T?"string"===typeof T?(I.text=T,T=this._searchQueries(I)):T="object"===typeof T&&T.hasOwnProperty("magicKey")?this._searchQueries(T):"object"===
typeof T&&T.hasOwnProperty("geometry")?this._searchQueries({geometry:T}):"object"===typeof T&&T.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(T):"object"===typeof T&&"point"===T.type?this._searchQueries({point:T}):T instanceof Array&&2===T.length?this._searchQueries({latlon:T}):this._searchQueries(I):T=this._searchQueries(I);T.always(v.hitch(this,function(ba){ba=this._formatResults(ba,P,S);la.resolve(ba)}));return la.promise},_suggestDeferred:function(T){var la=new l;this._deferreds.push(la);
T||(T=this.value);var S=this.activeSourceIndex;this._suggestQueries({text:T}).always(v.hitch(this,function(P){var I;if(P)for(var ba=0;ba<P.length;ba++)P[ba]&&(I=!0);I?(P=this._formatResults(P,S,T),la.resolve(P)):la.resolve()}));return la.promise},_getDefaultSymbol:function(T){var la;this.map&&(la=this.map.getBasemap());la||(la="topo");if(T&&T.feature&&T.feature.geometry)var S=T.feature.geometry.type;"polyline"===S?S="line":"circle"===S||"extent"===S?S="polygon":"multipoint"===S&&(S="point");if(S){if(T=
za.getSchemes({theme:"default",basemap:la,geometryType:S}))var P=T.primaryScheme;if(P){P.color&&P.hasOwnProperty("opacity")&&(P.color.a=P.opacity);var I=P;T=P.color;P=P.size;switch(S){case "point":var ba=new H;ba.setColor(T);ba.setSize(null!==P?P:I.size);S=new J;S.setColor(I.outline.color);S.setWidth(I.outline.width);ba.setOutline(S);break;case "line":ba=new J;ba.setColor(T);ba.setWidth(null!==P?P:I.width);break;case "polygon":ba=new O,ba.setColor(T),S=new J,S.setColor(I.outline.color),S.setWidth(I.outline.width),
ba.setOutline(S)}I=ba}}return I},_selectFirstResult:function(T,la){if(this.autoSelect&&T){var S;la===this._allIndex?S=this._getFirstResult(T):T[la]&&T[la][0]&&(S=T[la][0]);S&&this.select(S)}},_getSourceIndexOfResult:function(T){var la=this.searchResults;if(la)for(var S in la)if(la[S]&&la[S].length)for(var P=0;P<la[S].length;P++)if(la[S][P]===T)return parseInt(S,10);return null},_getFirstResult:function(T){if(T)for(var la in T)if(T[la]&&T[la][0])return T[la][0];return!1},_onFocus:function(){this.map&&
"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var T=new l;if(this.addLayersFromMap&&this.map){var la=[],S=this.map.graphicsLayerIds;if(S&&S.length){for(var P=
0;P<S.length;P++){var I=this.map.getLayer(S[P]);I&&la.push(this._featureLayerLoaded(I))}A(la).always(v.hitch(this,function(ba){for(var W,aa=this.sources,Q=0;Q<ba.length;Q++)ba[Q]&&ba[Q].loaded&&"Feature Layer"===ba[Q].type&&(aa.push({featureLayer:ba[Q],enableSuggestions:!0}),W=!0);W&&this.set("sources",aa);T.resolve()}))}else T.resolve()}else T.resolve();return T.promise},_switchCoordinatesClick:function(T){T.preventDefault();if(T=z.get(T.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
T),this.search()},_moreResultsClick:function(T){T.preventDefault();var la=T.target;T=parseInt(z.get(la,"data-source-index"),10);la=parseInt(z.get(la,"data-index"),10);var S=this.searchResults;S&&S[T]&&(T=S[T][la])&&this.select(T)},_showMoreResultsClick:function(T){T.preventDefault();if(T=E.byId(this._moreResultsId)){p.toggle(T,this.css.searchShowMoreResults);var la=E.byId(this._moreResultsId+"_show");la&&(p.contains(T,this.css.searchShowMoreResults)?z.set(la,"textContent",a.widgets.Search.main.hideMoreResults):
z.set(la,"textContent",a.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(T){var la=new l;if(T.loaded)la.resolve(T);else if(T.loadError)la.reject(this._error("Layer failed to load."));else{var S=g.once(T,"load",v.hitch(this,function(){P.remove();la.resolve(T)}));var P=g.once(T,"error",v.hitch(this,function(){S.remove();la.reject(this._error("Layer could not be loaded."))}))}return la.promise},_getObjectSize:function(T){var la=0,S;for(S in T)T.hasOwnProperty(S)&&la++;return la},
_sourcesEvent:function(T,la){var S=z.get(la,"data-index"),P=h("li",this.sourcesNode),I=w.indexOf(P,la);S!==this._allIndex&&(S=parseInt(S,10));"click"===T.type||T.keyCode===f.ENTER?(this.set("activeSourceIndex",S),y.focus(this.inputNode),this._hideSourcesMenu()):T.keyCode===f.UP_ARROW?(T.stopPropagation(),T.preventDefault(),S=I-1,0>S?y.focus(this.sourcesBtnNode):y.focus(P[S])):T.keyCode===f.DOWN_ARROW?(T.stopPropagation(),T.preventDefault(),S=I+1,S>=P.length?y.focus(this.sourcesBtnNode):y.focus(P[S])):
T.keyCode===f.ESCAPE&&(this._hideSourcesMenu(),y.focus(this.inputNode))},_suggestionsEvent:function(T,la){var S=z.get(la,"data-source-index"),P=parseInt(z.get(la,"data-index"),10),I=h("li",this.suggestionsNode),ba=this.sources,W=w.indexOf(I,la);S!==this._allIndex&&(S=parseInt(S,10));var aa;this._clearQueryTimeout();"click"===T.type||T.keyCode===f.ENTER?((I=this.suggestResults)&&I[S]&&I[S][P]&&(aa=I[S][P]),aa&&(aa.index=S,ba[S].featureLayer?(S=ba[S].featureLayer.objectIdField,aa[this._objectIdIdentifier]=
aa.feature.attributes[S],this.set("value",this._getSuggestionName(aa)),this.set("selectedFeatureId",aa.feature.attributes[S])):aa.magicKey&&aa.text&&(this.set("value",aa.text),this.set("magicKey",aa.magicKey)),this.search(aa),y.focus(this.inputNode))):T.keyCode===f.BACKSPACE||T.keyCode===f.DELETE?y.focus(this.inputNode):T.keyCode===f.UP_ARROW?(T.stopPropagation(),T.preventDefault(),aa=W-1,0>aa?y.focus(this.inputNode):y.focus(I[aa])):T.keyCode===f.DOWN_ARROW?(T.stopPropagation(),T.preventDefault(),
aa=W+1,aa>=I.length?y.focus(this.inputNode):y.focus(I[aa])):T.keyCode===f.ESCAPE&&(this._hideMenus(),y.focus(this.inputNode))},_getResultName:function(T){var la;T.hasOwnProperty("name")&&null!==T.name&&(la=T.name.toString());la||(la=a.widgets.Search.main.untitledResult);return la},_getSuggestionName:function(T){var la;T.hasOwnProperty("name")&&null!==T.name&&(la=T.name.toString());T=T.text||la;T||(T=a.widgets.Search.main.untitledResult);return T},_searchResultHTML:function(T){var la="";if(T.feature&&
T.feature.attributes&&T.feature.attributes.Addr_type&&"LatLong"===T.feature.attributes.Addr_type){var S=T.name.split(" ");if(2===S.length){var P=S[0];var I=S[1]}I&&P?(T=parseFloat(P),I=parseFloat(I),S=I+", "+T,la+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',la+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.lonlat+"\x3c/div\x3e",la=la+(T+", "+I)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),T===I||90<T||-90>T||180<I||-180>I||(la+=
'\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",la+='\x3ca data-switch-coordinates\x3d"'+S+'" tabindex\x3d"0" href\x3d"#"\x3e'+S+"\x3c/a\x3e\x3c/div\x3e")):la=T.name}else la=T.name;return la},_moreResultsHTML:function(T){var la="",S="",P=this.searchResults,I=this.sources,ba=0;if(P){S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';S+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+a.widgets.Search.main.showMoreResults+
"\x3c/a\x3e";S=S+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');S+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var W in P)if(P[W]){var aa=P[W].length;if(aa){var Q=1===aa&&P[W][0]===T;if(1<this._getObjectSize(P)&&!Q){var N=this._getSourceName(W);S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+N+"\x3c/div\x3e"}if(aa&&!Q){S+="\x3cul\x3e";N=I[W].maxResults||this.maxResults;for(Q=0;Q<aa&&Q<N;++Q)if(P[W][Q]!==T){var R=this._getResultName(P[W][Q]);
S+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+Q+'" data-source-index\x3d"'+W+'" href\x3d"#"\x3e'+R+"\x3c/a\x3e\x3c/li\x3e";ba++}S+="\x3c/ul\x3e"}}}S+="\x3c/div\x3e\x3c/div\x3e"}ba&&(la+=S);return la},_validField:function(T,la){return T.getField(la)},_validFields:function(T,la){if(T&&la&&la.length){for(var S=0;S<la.length;S++)if(!this._validField(T,la[S]))return!1;return!0}return!1},_getCodedName:function(T,la){if(T&&T.length)for(var S=0,P=T.length;S<P;S++){var I=T[S];if(I.code===la)return I.name}},
_getCodedValue:function(T,la,S){if(T&&T.length)for(var P=0,I=T.length;P<I;P++){var ba=T[P],W=ba.name,aa=la;S||(W=W.toLowerCase(),aa=aa.toLowerCase());if(W===aa)return ba.code}return!1},_whereClause:function(T,la,S,P,I){var ba=null;if(T){var W="",aa=this.reHostedFS.test(la.url);aa&&this._containsNonLatinCharacter(T)&&(W="N");if(S&&S.length)for(var Q=0,N=S.length;Q<N;Q++){var R="";R=T.replace(/'/g,"''");var X=S[Q],Y=la.getField(X),da=la.getDomain(X);da&&"codedValue"===da.type&&(R=this._getCodedValue(da.codedValues,
R,P));!1!==R&&(Y=Y.type,"esriFieldTypeString"===Y||"esriFieldTypeDate"===Y?P&&"search"===I?R=X+" \x3d "+W+"'"+R+"'":(X=aa?X:"UPPER("+X+")",R=aa?R:R.toUpperCase(),R=X+" LIKE "+W+"'"+(P?R+"%":"%"+R+"%")+"'"):"esriFieldTypeOID"===Y||"esriFieldTypeSmallInteger"===Y||"esriFieldTypeInteger"===Y||"esriFieldTypeSingle"===Y||"esriFieldTypeDouble"===Y?(R=parseFloat(R),R=isNaN(R)?!1:X+" \x3d "+R):R=X+" \x3d "+R,R&&(ba=ba?ba+" or ":"",ba+=R))}}return ba},_suggest:function(T){T||(T={index:this.activeSourceIndex,
text:this.value});var la=new l,S=T.index,P=this.sources[S],I=this.enableSuggestions;P.hasOwnProperty("enableSuggestions")&&(I=P.enableSuggestions);var ba=0;if(T.hasOwnProperty("text")&&T.text){var W=v.trim(T.text);ba=T.text.length}T=P.minCharacters||this.minCharacters;if(I&&W&&ba>=T&&this._supportsPagination(P)){var aa="";P.prefix&&(aa+=P.prefix);aa+=W;P.suffix&&(aa+=P.suffix);var Q=this._defaultSR;this.map&&(Q=this.map.spatialReference);I={};P.locator?(P.categories&&(I.categories=P.categories),P.locator.outSpatialReference=
Q,this.map&&P.localSearchOptions&&P.localSearchOptions.hasOwnProperty("distance")&&P.localSearchOptions.hasOwnProperty("minScale")&&(ba=this._getScale(),!P.localSearchOptions.minScale||ba&&ba<=parseFloat(P.localSearchOptions.minScale))&&(I.location=this.map.extent.getCenter(),I.distance=P.localSearchOptions.distance),I.text=aa,P.useMapExtent&&this.map&&this.map.extent&&(I.searchExtent=this.map.extent),P.searchExtent&&(I.searchExtent=P.searchExtent),I.maxSuggestions=P.maxSuggestions||this.maxSuggestions,
P.sourceCountry&&(I.countryCode=P.sourceCountry),P.countryCode&&(I.countryCode=P.countryCode),P.locator.suggestLocations(I).then(v.hitch(this,function(N){la.resolve(N)}),v.hitch(this,function(N){N||(N=this._error("Locator suggestLocations could not be performed."));la.reject(N)}))):P.featureLayer?this._featureLayerLoaded(P.featureLayer).then(v.hitch(this,function(){var N=this._getDisplayField(P),R=P.searchFields||[N],X=[];P.suggestionTemplate?P.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(ha,
na){X.push(na)}):X=[N];-1===w.indexOf(X,P.featureLayer.objectIdField)&&X.push(P.featureLayer.objectIdField);N=this._validField(P.featureLayer,N);var Y=this._validFields(P.featureLayer,X),da=this._validFields(P.featureLayer,R);if(N&&Y&&da){N=new ma;P.hasOwnProperty("suggestQueryParams")&&v.mixin(N,P.suggestQueryParams);N.outSpatialReference=Q;N.returnGeometry=!1;N.num=P.maxSuggestions||this.maxSuggestions;N.outFields=X;P.useMapExtent&&this.map&&this.map.extent&&(N.geometry=this.map.extent);P.searchExtent&&
(N.geometry=P.searchExtent);if(R=this._whereClause(aa,P.featureLayer,R,P.exactMatch,"suggest")){N.where=R;var ea=!0}ea?P.featureLayer.queryFeatures(N,v.hitch(this,function(ha){var na;(ha=ha.features)&&(na=this._hydrateResults(ha,S,!0));la.resolve(na)}),v.hitch(this,function(ha){ha||(ha=this._error("FeatureLayer queryFeatures errored with suggestions"));la.reject(ha)})):la.resolve()}else la.reject(this._error("Invalid FeatureLayer field"))})):la.reject(this._error("Invalid source"))}else la.resolve();
return la.promise},_supportsPagination:function(T){var la;T.locator?la=!0:T.featureLayer&&T.featureLayer.advancedQueryCapabilities&&T.featureLayer.advancedQueryCapabilities.supportsPagination&&(la=!0);return la},_suggestQueries:function(T){var la=this.sources,S=this.activeSourceIndex,P=[];if(S===this._allIndex)for(S=0;S<la.length;S++){var I=T;I.index=S;I=this._suggest(I);P.push(I)}else T.index=S,I=this._suggest(T),P.push(I);return A(P)},_getPointFromGeometry:function(T){switch(T.type){case "extent":var la=
T.getCenter();break;case "multipoint":la=T.getPoint(0);break;case "point":la=T;break;case "polygon":la=T.getCentroid();break;case "polyline":la=T.getPoint(0,0)}return la},_searchQueries:function(T){T.hasOwnProperty("index")||(T.index=this.activeSourceIndex);var la=[];if(T.index===this._allIndex)for(var S=this.sources,P=0;P<S.length;P++){var I=T;I.index=P;I=this._search(I);la.push(I)}else T=this._search(T),la.push(T);return A(la)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),
y.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(T){T||(T={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(T.text=null,T[this._objectIdIdentifier]=this.selectedFeatureId);var la,S=new l,P=T.index,I=this.sources[P],ba;T.hasOwnProperty("text")&&T.text&&(ba=v.trim(T.text));if(I){var W="";I.prefix&&!T.magicKey&&(W+=I.prefix);W+=ba;I.suffix&&!T.magicKey&&(W+=I.suffix);var aa=this._defaultSR;this.map&&
(aa=this.map.spatialReference);if(I.locator)if(T.hasOwnProperty("text")&&ba){var Q={};I.categories&&(Q.categories=I.categories);I.locationType&&(Q.locationType=I.locationType);aa&&(I.locator.outSpatialReference=aa);if(this.map&&I.localSearchOptions&&I.localSearchOptions.hasOwnProperty("distance")&&I.localSearchOptions.hasOwnProperty("minScale")){var N=this._getScale();if(!I.localSearchOptions.minScale||N&&N<=parseFloat(I.localSearchOptions.minScale))Q.location=this.map.extent.getCenter(),Q.distance=
I.localSearchOptions.distance}Q.address={};Q.maxLocations=I.maxResults||this.maxResults;I.useMapExtent&&this.map&&this.map.extent&&(Q.searchExtent=this.map.extent);I.searchExtent&&(Q.searchExtent=I.searchExtent);I.sourceCountry&&(Q.countryCode=I.sourceCountry);I.countryCode&&(Q.countryCode=I.countryCode);T.magicKey&&(Q.magicKey=T.magicKey);I.singleLineFieldName?Q.address[I.singleLineFieldName]=W:Q.address["Single Line Input"]=W;I.outFields&&(Q.outFields=I.outFields);I.locator.addressToLocations(Q).then(v.hitch(this,
function(R){R=this._hydrateResults(R,P,!1);S.resolve(R)}),v.hitch(this,function(R){R||(R=this._error("Locator addressToLocations could not be performed"));S.reject(R)}))}else T.geometry?(la=this._getPointFromGeometry(T.geometry.geometry))?this._reverseGeocodePoint(P,la).then(function(R){S.resolve(R)},function(R){S.reject(R)}):S.reject(this._error("Invalid point to reverse geocode")):T.point?this._reverseGeocodePoint(P,T.point).then(function(R){S.resolve(R)},function(R){S.reject(R)}):T.latlon?(Q=new U(T.latlon,
this._defaultSR),this._reverseGeocodePoint(P,Q).then(function(R){S.resolve(R)},function(R){S.reject(R)})):T.hasOwnProperty("text")&&!ba?S.resolve([]):S.reject(this._error("Invalid query type for Locator"));else I.featureLayer?this._featureLayerLoaded(I.featureLayer).then(v.hitch(this,function(){var R=this._getDisplayField(I),X=I.searchFields||[R];R=this._validField(I.featureLayer,R);var Y=this._validFields(I.featureLayer,X);if(R&&Y){R=new ma;I.hasOwnProperty("searchQueryParams")&&v.mixin(R,I.searchQueryParams);
aa&&(R.outSpatialReference=aa,Y=this.map&&this.map.getMaxResolution()||1/fa.getUnitValueForSR(aa))&&(R.maxAllowableOffset=Y);R.returnGeometry=!0;I.outFields&&(R.outFields=I.outFields);if(!T.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(I)&&(R.num=I.maxResults||this.maxResults);I.useMapExtent&&this.map&&this.map.extent&&(R.geometry=this.map.extent);I.searchExtent&&(R.geometry=I.searchExtent);var da=I.exactMatch}T.hasOwnProperty("text")&&ba?(X=this._whereClause(W,I.featureLayer,
X,da,"search"))?(R.where=X,X=!0):X=!1:T.hasOwnProperty(this._objectIdIdentifier)?(R.objectIds=[T[this._objectIdIdentifier]],X=!0):T.geometry?(R.geometry=T.geometry,X=!0):T.point?(R.geometry=T.point,X=!0):T.latlon?(la=new U(T.latlon,this._defaultSR),R.geometry=la,X=!0):(T.hasOwnProperty("text")&&!ba?S.resolve([]):S.reject(this._error("Invalid query type for FeatureLayer")),X=!1);X?I.featureLayer.queryFeatures(R,v.hitch(this,function(ea){ea=ea.features;var ha;ea&&(ha=this._hydrateResults(ea,P,!1));
S.resolve(ha)}),v.hitch(this,function(ea){ea||(ea=this._error("FeatureLayer queryFeatures could not be performed"));S.reject(ea)})):S.resolve()}else S.reject(this._error("Invalid FeatureLayer field"))})):S.reject(this._error("Invalid source"))}else S.reject(this._error("Source is undefined"));return S.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(T,la,S){S={activeSourceIndex:la,value:S,numResults:0,numErrors:0,errors:null,results:null};
var P={},I={};if(T)if(la===this._allIndex)for(la=0;la<T.length;la++)T[la]&&(T[la]instanceof Error?(P[la]=T[la],S.numErrors++):(I[la]=T[la],S.numResults+=T[la].length));else T[0]&&(T[0]instanceof Error?(P[la]=T[0],S.numErrors++):(I[la]=T[0],S.numResults+=T[0].length));S.numErrors&&(S.errors=P);S.numResults&&(S.results=I);return S},_reverseGeocodePoint:function(T,la){var S=new l,P=this.sources[T];if(la&&P){var I=P.locationToAddressDistance||this.locationToAddressDistance;P.locator.outSpatialReference=
this._defaultSR;this.map&&(P.locator.outSpatialReference=this.map.spatialReference);P.locator.locationToAddress(la,I,v.hitch(this,function(ba){ba=this._hydrateResults([ba],T,!1);S.resolve(ba)}),v.hitch(this,function(ba){ba||(ba=this._error("Locator locationToAddress could not be performed"));S.reject(ba)}))}else S.reject(this._error("No point or source defined for reverse geocoding"));return S.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var T=0;T<this._deferreds.length;T++)this._deferreds[T].cancel(this.declaredClass+
" cancelling request");this._deferreds=[]},_sourceBtnKey:function(T){if(T){var la=h("li",this.sourcesNode);T.keyCode===f.UP_ARROW?(T.stopPropagation(),T.preventDefault(),this._showSourcesMenu(),(T=la.length)&&y.focus(la[T-1])):T.keyCode===f.DOWN_ARROW&&(T.stopPropagation(),T.preventDefault(),this._showSourcesMenu(),la[0]&&y.focus(la[0]))}},_inputKey:function(T){if(T){var la=h("li",this.suggestionsNode),S=this.suggestResults;if(T.keyCode===f.TAB||T.keyCode===f.ESCAPE)this._cancelSuggest(),this._hideMenus();
else if(T.keyCode===f.UP_ARROW)T.stopPropagation(),T.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),(T=la.length)&&y.focus(la[T-1]);else if(T.keyCode===f.DOWN_ARROW)T.stopPropagation(),T.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),la[0]&&y.focus(la[0]);else{if(T.ctrlKey||T.metaKey||T.keyCode===f.copyKey||T.keyCode===f.LEFT_ARROW||T.keyCode===f.RIGHT_ARROW||T.keyCode===f.ENTER)return T;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();
this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(v.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(T){return this._sourceNames[T]},_loadSources:function(T){T=
w.filter(T,function(la){return!!la.featureLayer});T=w.map(T,function(la){return this._featureLayerLoaded(la.featureLayer)},this);return A(T)},_createSourceNameMap:function(T){return this._loadSources(T).then(v.hitch(this,function(){var la=w.map(T,function(S){return S.name||S.featureLayer&&S.featureLayer.name||a.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(T,la);return la}))},_getDuplicateSourceNameIndexes:function(T){var la={},S=[];w.forEach(T,function(P,I){la.hasOwnProperty(P)?
(-1===S.indexOf(la[P])&&S.push(la[P]),S.push(I)):T.lastIndexOf(P)!==I&&(la[P]=I)});return S},_preventDuplicateSourceNames:function(T,la){if(la&&1<la.length){var S=this._getDuplicateSourceNameIndexes(la);w.forEach(S,function(P){la[P]+=this._getFieldsString(T[P])},this)}},_getFieldsString:function(T){var la="",S=T.featureLayer;if(S){T=T.searchFields||[this._getDisplayField(T)];for(var P=0;P<T.length;P++){la=0===P?la+": ":la+", ";var I=T[P],ba=S.getFieldLabel(I);la+=ba||I}}return la},_splitResult:function(T,
la){var S=u.escapeString(la);return T.replace(new RegExp("(^|)("+S+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(T,la){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var S=this.sources;if(T){var P=e.create("div");for(var I in T)if(T[I]&&T[I].length){var ba=this._getSourceName(I);1<S.length&&this.activeSourceIndex===this._allIndex&&e.create("div",{className:this.css.searchMenuHeader,textContent:ba},P);ba=e.create("ul",{role:"menu"},
P);for(var W=S[I].maxSuggestions||this.maxSuggestions,aa=0;aa<T[I].length&&aa<W;++aa){var Q=e.create("li",{"data-index":aa,"data-source-index":I,role:"menuitem",tabindex:0},ba),N=this._getSuggestionName(T[I][aa]);N=this._splitResult(N,la);for(var R=N.length,X=0;X<R;X++){var Y=N[X];Y.toLowerCase()===la.toLowerCase()?e.create("strong",{textContent:Y},Q):(Y=document.createTextNode(Y),e.place(Y,Q))}}}}P?(e.place(P,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(e.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(T){if(this.enableSourcesMenu&&T&&1<T.length){var la,S=this.activeSourceIndex,P=e.create("ul",{role:"menu"});if(this.enableSearchingAll){var I="";S===this._allIndex&&(I="active");e.create("li",{"data-index":this._allIndex,role:"menuitem",className:I,tabIndex:0,textContent:a.widgets.Search.main.all},P)}for(la=0;la<T.length;la++){I="";la===S&&(I=this.css.activeSource);var ba=this._getSourceName(la);e.create("li",{"data-index":la,role:"menuitem",
className:I,tabIndex:0,textContent:ba},P)}p.add(this.containerNode,this.css.hasMultipleSources);e.place(P,this.sourcesNode,"only")}else p.remove(this.containerNode,this.css.hasMultipleSources),e.empty(this.sourcesNode)},_showLoading:function(){p.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){p.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(p.add(this.containerNode,this.css.hasValue),z.set(this.clearNode,"title",a.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(T){var la;T&&(la=v.trim(T));var S=e.create("div",{className:this.css.searchNoResultsBody});T&&la?(e.create("div",{className:this.css.searchNoResultsHeader,textContent:a.widgets.Search.main.noResults},S),e.create("div",{className:this.css.searchNoResultsText,textContent:C.substitute({value:'"'+T+'"'},a.widgets.Search.main.noResultsFound)},S)):(T=e.create("div",
{},S),e.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},T),e.create("span",{className:this.css.searchNoValueText,textContent:a.widgets.Search.main.emptyValue},T));e.place(S,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){p.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();p.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){p.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){p.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();p.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();p.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();p.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(T){if(T&&(T=T.fields)&&T.length)for(var la=0;la<T.length;la++){var S=T[la];if("esriFieldTypeString"===S.type)return S.name}return""},_getDisplayField:function(T){return T.displayField||T.featureLayer.displayField||this._getFirstStringField(T.featureLayer)},_validLocation:function(T){return T&&"number"===typeof T.x&&"number"===typeof T.y},_validExtent:function(T){return T&&"number"===typeof T.xmin&&
"number"===typeof T.ymin&&"number"===typeof T.xmax&&"number"===typeof T.ymax},_hydrateResult:function(T,la,S){var P={},I=this._defaultSR;la=this.sources[la];this.map&&(I=this.map.spatialReference);if(T.hasOwnProperty("text")&&T.hasOwnProperty("magicKey"))return T;if(T.hasOwnProperty("geometry")){var ba=new r(T.toJson());P.feature=ba;(ba=P.feature.geometry)&&ba.setSpatialReference(I)}else if(T.hasOwnProperty("location")&&this._validLocation(T.location)){var W=new U(T.location.x,T.location.y,I);ba=
{};T.hasOwnProperty("attributes")&&(ba=T.attributes);T.hasOwnProperty("address")&&"object"===typeof T.address&&v.mixin(ba,T.address);T.hasOwnProperty("score")&&(ba.score=T.score);P.feature=new r(W,null,ba,null)}!P.feature&&S&&(ba={},T.hasOwnProperty("attributes")&&(ba=T.attributes),T.hasOwnProperty("score")&&(ba.score=T.score),P.feature=new r(null,null,ba,null));if(P.feature){if(T.hasOwnProperty("extent")&&this._validExtent(T.extent))P.extent=new Z(T.extent),P.extent.setSpatialReference(I);else if(P.feature&&
P.feature.geometry)switch(P.feature.geometry.type){case "extent":P.extent=P.feature.geometry;break;case "multipoint":P.extent=ca.getDenormalizedExtent(P.feature.geometry);break;case "polygon":P.extent=ca.getDenormalizedExtent(P.feature.geometry);break;case "polyline":P.extent=ca.getDenormalizedExtent(P.feature.geometry);break;case "point":this.map?(I=this.zoomScale,la&&la.zoomScale&&(I=la.zoomScale),this._getScale()>I?P.extent=fa.getExtentForScale(this.map,I).centerAt(P.feature.geometry):P.extent=
this.map.extent.centerAt(P.feature.geometry)):P.extent=new Z({xmin:P.feature.geometry.x-.25,ymin:P.feature.geometry.y-.25,xmax:P.feature.geometry.x+.25,ymax:P.feature.geometry.y+.25,spatialReference:this._defaultSR})}else P.extent=null;P.name="";la.featureLayer?la.suggestionTemplate&&S?P.name=C.substitute(T.attributes,la.suggestionTemplate):la.searchTemplate?P.name=C.substitute(T.attributes,la.searchTemplate):(ba=this._getDisplayField(la),S=la.featureLayer.getField(ba),I=la.featureLayer.getDomain(ba),
ba&&T.hasOwnProperty("attributes")&&T.attributes.hasOwnProperty(ba)&&(T=T.attributes[ba],I&&"codedValue"===I.type?P.name=this._getCodedName(I.codedValues,T):S&&"esriFieldTypeDate"===S.type&&!isNaN(T)?P.name=c.format(new Date(T)):P.name=T)):T.address&&la.searchTemplate?P.name=C.substitute(T.address,la.searchTemplate):T.hasOwnProperty("name")?P.name=T.name:T.hasOwnProperty("attributes")&&"object"===typeof T.attributes&&T.attributes.LongLabel?P.name=T.attributes.LongLabel:T.hasOwnProperty("attributes")&&
"object"===typeof T.attributes&&T.attributes.Match_addr?(P.name=T.attributes.Match_addr,T.attributes.Addr_type&&"POI"===T.attributes.Addr_type&&T.attributes.StAddr&&T.attributes.City?P.name+=" - "+T.attributes.StAddr+", "+T.attributes.City:T.attributes.Addr_type&&"POI"===T.attributes.Addr_type&&T.attributes.City&&(P.name+=" - "+T.attributes.City)):T.hasOwnProperty("address")&&"string"===typeof T.address?P.name=T.address:T.hasOwnProperty("address")&&"object"===typeof T.address&&T.address.hasOwnProperty("Address")?
T.address.hasOwnProperty("Match_addr")?P.name=T.address.Match_addr:T.address.hasOwnProperty("Address")&&(P.name=T.address.Address):P.feature&&P.feature.geometry&&(P.name=P.feature.geometry.x+","+P.feature.geometry.y);la.featureLayer&&P.feature&&ia(P.feature,la.featureLayer);return P}},_getScale:function(){var T;this.map&&"function"===typeof this.map.getScale&&(T=this.map.getScale());return T},_hydrateResults:function(T,la,S,P){P=[];var I=0;if(T&&T.length)for(I;I<T.length;I++){var ba=this._hydrateResult(T[I],
la,S);ba&&P.push(ba)}return P},_containsNonLatinCharacter:function(T){for(var la=0;la<T.length;la++)if(255<T.charCodeAt(la))return!0;return!1},_setPlaceholder:function(T){var la="",S=this.sources[T];T===this._allIndex?la=this.allPlaceholder||a.widgets.Search.main.allPlaceholder:S&&S.placeholder&&(la=S.placeholder);var P=a.widgets.Search.main.all;S&&(P=this._getSourceName(T));z.set(this.sourceNameNode,"textContent",P);z.set(this.inputNode,"placeholder",la);z.set(this.inputNode,"title",la)},_updateActiveSource:function(){var T=
this.sources,la=this.activeSourceIndex,S;T&&T[la]&&(S=T[la]);S?this.set("activeSource",S):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(T){T?(p.toggle(this.containerNode,this.css.searchExpanded,this.expanded),p.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),p.add(this.containerNode,this.css.hasButtonMode)):(p.remove(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),
p.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(T){T&&1===T.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(T){this._set("enableSourcesMenu",T);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(T){this._set("enableSearchingAll",T);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},
_setSourcesAttr:function(T){this._createSourceNameMap(T).then(v.hitch(this,function(la){this._sourceNames=la;this._created&&(this._setDefaultActiveSourceIndex(T),this._hideMenus(),this._insertSources(T))}));this._set("sources",T)},_setAllPlaceholderAttr:function(T){this._set("allPlaceholder",T);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(T){this._set("activeSourceIndex",T);this._updateActiveSource();this._created&&(this._setPlaceholder(T),this._hideMenus(),
this._insertSources(this.sources))},_setMaxLengthAttr:function(T){this._set("maxLength",T);this._created&&z.set(this.inputNode,"maxLength",T)},_setValueAttr:function(T){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",T);this._created&&(z.set(this.inputNode,"value",T),this._checkStatus())},_setVisibleAttr:function(T){this._set("visible",T);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(T){this._set("enableButtonMode",T);this._created&&this._updateButtonMode(T)},
_setThemeAttr:function(T){this._created&&(p.remove(this.domNode,this.theme),p.add(this.domNode,T));this._set("theme",T)}});v.setObject("dijit.Search",L,D);return L})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(V,L,v,w,t,l,f,g,h,x,u){V=V(x,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],
"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(E){this._geocodeHandler=L.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=L.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=L.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(E){this.outSpatialReference=E},_geocodeHandler:function(E,
z,p,m,e){try{var c=E.candidates;z=[];var a,b=c.length,d=E.spatialReference,k;for(a=0;a<b;a++){var n=c[a];if(k=n.location)k.spatialReference=d;z[a]=new u(n)}this._successHandler([z],"onAddressToLocationsComplete",p,e)}catch(q){this._errorHandler(q,m,e)}},_geocodeAddressesHandler:function(E,z,p,m,e){try{var c=E.locations;z=[];var a,b=c.length,d=E.spatialReference,k;for(a=0;a<b;a++){if(k=c[a].location)k.spatialReference=d;z[a]=new u(c[a])}this._successHandler([z],"onAddressesToLocationsComplete",p,e)}catch(n){this._errorHandler(n,
m,e)}},addressToLocations:function(E,z,p,m,e){var c;if(E.address){m=p;p=z;z=E.outFields;e=E.searchExtent;var a=E.countryCode;var b=E.magicKey;var d=E.distance;var k=E.categories;E.location&&this.normalization&&(c=E.location.normalize());var n=E.locationType;var q=E.maxLocations;var y=E.forStorage;E=E.address}e&&(e=e.shiftCentralMeridian());var C=this.outSpatialReference;E=this._encode(L.mixin({},this._url.query,E,{f:"json",outSR:C&&t.toJson(C.toJson()),outFields:z&&z.join(",")||null,searchExtent:e&&
t.toJson(e.toJson()),category:k&&k.join(",")||null,countryCode:a||null,magicKey:b||null,distance:d||null,location:c||null,locationType:n||null,maxLocations:q||null,forStorage:y||null}));var B=this._geocodeHandler,D=this._errorHandler,F=new w(h._dfdCanceller);F._pendingDfd=g({url:this._url.path+"/findAddressCandidates",content:E,callbackParamName:"callback",load:function(r,A){B(r,A,p,m,F)},error:function(r){D(r,m,F)}});return F},suggestLocations:function(E){var z=new w(h._dfdCanceller);E.hasOwnProperty("location")&&
this.normalization&&(E.location=E.location.normalize());E.searchExtent&&(E.searchExtent=E.searchExtent.shiftCentralMeridian());E=this._encode(L.mixin({},this._url.query,{f:"json",text:E.text,maxSuggestions:E.maxSuggestions,searchExtent:E.searchExtent&&t.toJson(E.searchExtent.toJson()),category:E.categories&&E.categories.join(",")||null,countryCode:E.countryCode||null,location:E.location||null,distance:E.distance||null},{f:"json"}));E=g({url:this._url.path+"/suggest",content:E,callbackParamName:"callback"});
z._pendingDfd=E;E.then(L.hitch(this,function(p){p=p.suggestions||[];this.onSuggestLocationsComplete(p);z.resolve(p)}),L.hitch(this,function(p){this._errorHandler(p);z.reject(p)}));return z},addressesToLocations:function(E,z,p){var m=this.outSpatialReference,e=[],c=E.categories,a=E.locationType,b=E.countryCode;v.forEach(E.addresses,function(q,y){e.push({attributes:q})});E=this._encode(L.mixin({},this._url.query,{category:c&&c.join(",")||null,locationType:a||null,sourceCountry:b||null},{addresses:t.toJson({records:e})},
{f:"json",outSR:m&&t.toJson(m.toJson())}));var d=this._geocodeAddressesHandler,k=this._errorHandler,n=new w(h._dfdCanceller);n._pendingDfd=g({url:this._url.path+"/geocodeAddresses",content:E,callbackParamName:"callback",load:function(q,y){d(q,y,z,p,n)},error:function(q){k(q,p,n)}});return n},_reverseGeocodeHandler:function(E,z,p,m,e){try{var c=new u({address:E.address,location:E.location,score:100});this._successHandler([c],"onLocationToAddressComplete",p,e)}catch(a){this._errorHandler(a,m,e)}},locationToAddress:function(E,
z,p,m){E&&this.normalization&&(E=E.normalize());var e=this.outSpatialReference;E=this._encode(L.mixin({},this._url.query,{outSR:e&&t.toJson(e.toJson()),location:E&&t.toJson(E.toJson()),distance:z,f:"json"}));var c=this._reverseGeocodeHandler,a=this._errorHandler,b=new w(h._dfdCanceller);b._pendingDfd=g({url:this._url.path+"/reverseGeocode",content:E,callbackParamName:"callback",load:function(d,k){c(d,k,p,m,b)},error:function(d){a(d,m,b)}});return b},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},
onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});L.setObject("tasks.Locator",V,f);return V})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(V,L,v,w,t){V=V(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(l){L.mixin(this,l);this.location=new t(this.location)}});L.setObject("tasks.AddressCandidate",V,w);return V})},"esri/styles/basic":function(){define(["dojo/_base/array",
"dojo/_base/lang","dojo/has","../kernel","../Color"],function(V,L,v,w,t){function l(x,u){if(x){var E={};E.color=new t(x.color);E.opacity=x.opacity||1;switch(u){case "point":E.outline={color:new t(x.outline.color),width:x.outline.width};E.size=x.size;break;case "line":E.width=x.width;break;case "polygon":E.outline={color:new t(x.outline.color),width:x.outline.width}}}return E}function f(x){if("esriGeometryPoint"===x||"esriGeometryMultipoint"===x)x="point";else if("esriGeometryPolyline"===x)x="line";
else if("esriGeometryPolygon"===x||"esriGeometryMultiPatch"===x)x="polygon";return x}var g={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,
77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},
secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,
1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},h={};(function(){var x,u,E;for(x in g){var z=g[x];var p=z.basemapGroups;var m=h[x]={basemaps:[].concat(p.light).concat(p.dark),point:{},line:{},polygon:{}};for(u in p){var e=p[u];for(E=0;E<e.length;E++){var c=e[E];z.pointSchemes&&(m.point[c]=z.pointSchemes[u]);z.lineSchemes&&(m.line[c]=
z.lineSchemes[u]);z.polygonSchemes&&(m.polygon[c]=z.polygonSchemes[u])}}}})();v={getAvailableThemes:function(x){var u=[],E;for(E in g){var z=g[E];var p=h[E];x&&-1===V.indexOf(p.basemaps,x)||u.push({name:z.name,label:z.label,description:z.description,basemaps:p.basemaps.slice(0)})}return u},getSchemes:function(x){var u=x.theme,E=x.basemap,z=f(x.geometryType);x=h[u];var p;(x=(x=x&&x[z])&&x[E])&&(p={primaryScheme:l(x.primary,z),secondarySchemes:V.map(x.secondary,function(m){return l(m,z)})});return p},
cloneScheme:function(x){if(x){var u=L.mixin({},x);u.color&&(u.color=new t(u.color));u.outline&&(u.outline={color:u.outline.color&&new t(u.outline.color),width:u.outline.width})}return u}};L.setObject("styles.basic",v,w);return v})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/sniff dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-geometry ../kernel ../sniff ./_toolbar ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../graphic ../geometry/jsonUtils ../geometry/webMercatorUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/Rect dojo/i18n!../nls/jsapi".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B){var D=V(m,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(F,r){this.markerSymbol=new e(e.STYLE_SOLID,10,new c(c.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this.lineSymbol=new c(c.STYLE_SOLID,new t([255,0,0]),2);this.fillSymbol=new a(a.STYLE_SOLID,new c(c.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this._points=[];this._mouse=!f("esri-touch")&&!f("esri-pointer");
this._defaultOptions={showTooltips:!0,drawTime:75,tolerance:8,tooltipOffset:15};this._options=L.mixin(L.mixin({},this._defaultOptions),r||{});if(g("ios")||g("android"))this._options.showTooltips=!1;this._onKeyDownHandler=L.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=L.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=L.hitch(this,this._onMouseUpHandler);this._onClickHandler=L.hitch(this,this._onClickHandler);this._onMouseMoveHandler=L.hitch(this,this._onMouseMoveHandler);
this._onMouseDragHandler=L.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=L.hitch(this,this._onDblClickHandler);this._updateTooltip=L.hitch(this,this._updateTooltip);this._hideTooltip=L.hitch(this,this._hideTooltip);this._redrawGraphic=L.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(F){this.respectDrawingVertexOrder=F},setMarkerSymbol:function(F){this.markerSymbol=F},setLineSymbol:function(F){this.lineSymbol=F},
setFillSymbol:function(F){this.fillSymbol=F},activate:function(F,r){this._geometryType&&this.deactivate();var A=this.map,G=w.connect,H=D;this._options=L.mixin(L.mixin({},this._options),r||{});A.navigationManager.setImmediateClick(!1);switch(F){case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.TRIANGLE:case H.CIRCLE:case H.ELLIPSE:case H.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=G(A,"onClick",this._onClickHandler);this._mouse?
(this._onMouseDownHandler_connect=G(A,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(A,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(A,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(A,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(A,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(A,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=
G(A,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(A,"onSwipeMove",this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(A,"onSwipeEnd",this._onMouseUpHandler));break;case H.POINT:this._onClickHandler_connect=G(A,"onClick",this._onClickHandler);break;case H.LINE:case H.EXTENT:case H.FREEHAND_POLYLINE:case H.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._mouse?(this._onMouseDownHandler_connect=G(A,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=
G(A,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(A,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(A,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(A,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(A,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=G(A,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(A,"onSwipeMove",
this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(A,"onSwipeEnd",this._onMouseUpHandler));break;case H.POLYLINE:case H.POLYGON:case H.MULTI_POINT:A.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=G(A,"onClick",this._onClickHandler);this._onDblClickHandler_connect=G(A,"onDblClick",this._onDblClickHandler);this._dblClickZoom=A.isDoubleClickZoom;A.disableDoubleClickZoom();break;default:return}this._onKeyDown_connect=G(A,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=
G(A,"onExtentChange",this._redrawGraphic);this._geometryType=F;this._toggleTooltip(!0);A.snappingManager&&"freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&(A.snappingManager._startSelectionLayerQuery(),A.snappingManager._setUpSnapping());this.onActivate(this._geometryType)},deactivate:function(){var F=this.map;this._clear();var r=w.disconnect;r(this._onMouseMoveHandler_connect);r(this._onMouseDownHandler_connect);r(this._onMouseDragHandler_connect);r(this._onMouseUpHandler_connect);
r(this._onMouseDownHandler2_connect);r(this._onMouseDragHandler2_connect);r(this._onMouseUpHandler2_connect);r(this._onClickHandler_connect);r(this._onDblClickHandler_connect);r(this._onKeyDown_connect);r(this._redrawConnect);this._onMouseDownHandler_connect=this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=
this._onKeyDown_connect=this._redrawConnect=null;F.snappingManager&&(F.snappingManager._stopSelectionLayerQuery(),F.snappingManager._killOffSnapping());switch(this._geometryType){case D.CIRCLE:case D.ELLIPSE:case D.TRIANGLE:case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.RECTANGLE:case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:this._activateMapTools(!0,!1,!1,!0);break;case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:this._dblClickZoom&&
F.enableDoubleClickZoom()}r=this._geometryType;this._geometryType=null;F.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(r)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._graphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},finishDrawing:function(){var F=this._points,r=this.map.spatialReference,A=D;F=F.slice(0,F.length);switch(this._geometryType){case A.POLYLINE:if(!this._graphic||2>
F.length)return;var G=new n(r);G.addPath([].concat(F));break;case A.POLYGON:if(!this._graphic||3>F.length)return;G=new q(r);F=[].concat(F,[F[0].offset(0,0)]);q.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();G.addRing(F);break;case A.MULTI_POINT:G=new y(r),v.forEach(F,function(H){G.addPoint(H)})}w.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(G)},_drawEnd:function(F){if(F){var r=this.map.spatialReference,A;this.onDrawEnd(F);
r&&(r.isWebMercator()?A=k.webMercatorToGeographic(F,!0):4326===r.wkid&&(A=d.fromJson(F.toJson())));this.onDrawComplete({geometry:F,geographicGeometry:A})}},_normalizeRect:function(F,r,A){var G=F.x;F=F.y;var H=r.x;r=r.y;return{x:Math.min(G,H),y:Math.max(F,r),width:Math.abs(G-H),height:Math.abs(F-r),spatialReference:A}},_onMouseDownHandler:function(F){this._dragged=!1;if(this.map.snappingManager)var r=this.map.snappingManager._snappingPoint;var A=r||F.mapPoint,G=D;r=this.map;var H=r.spatialReference;
this._points.push(A.offset(0,0));switch(this._geometryType){case G.LINE:this._graphic=r.graphics.add(new b(new n({paths:[[[A.x,A.y],[A.x,A.y]]],spatialReference:H}),this.lineSymbol),!0);r.snappingManager&&r.snappingManager._setGraphic(this._graphic);break;case G.FREEHAND_POLYLINE:this._oldPoint=F.screenPoint;A=new n(H);A.addPath(this._points);this._graphic=r.graphics.add(new b(A,this.lineSymbol),!0);r.snappingManager&&r.snappingManager._setGraphic(this._graphic);break;case G.CIRCLE:case G.ELLIPSE:case G.TRIANGLE:case G.ARROW:case G.LEFT_ARROW:case G.RIGHT_ARROW:case G.UP_ARROW:case G.DOWN_ARROW:case G.RECTANGLE:case G.FREEHAND_POLYGON:this._oldPoint=
F.screenPoint,A=new q(H),A.addRing(this._points),this._graphic=r.graphics.add(new b(A,this.fillSymbol),!0),r.snappingManager&&r.snappingManager._setGraphic(this._graphic)}f("esri-touch")&&F.preventDefault();if(1===this._points.length)this.onDrawStart()},_onMouseMoveHandler:function(F){if(this.map.snappingManager)var r=this.map.snappingManager._snappingPoint;F=r||F.mapPoint;r=this._graphic.geometry;switch(this._geometryType){case D.POLYLINE:case D.POLYGON:var A=this._points.length,G=!!r.getPoint(0,
A);F=F.offset(0,0);G?r.setPoint(0,A,F):r.insertPoint(0,A,F);this._graphic.setGeometry(r)}},_onMouseDragHandler:function(F){if(this._graphic||this._points.length)if(f("esri-touch")&&!this._points.length)F.preventDefault();else{this._dragged=!0;if(this.map.snappingManager)var r=this.map.snappingManager._snappingPoint;var A=this._points[0],G=r||F.mapPoint,H=this.map,J=H.spatialReference;r=this._graphic;var O=D,M=H.toScreen(A),K=H.toScreen(G),U=[];U=K.x-M.x;K=K.y-M.y;var Z=Math.sqrt(U*U+K*K);switch(this._geometryType){case O.CIRCLE:this._hideTooltip();
r.geometry=q.createCircle({center:M,r:Z,numberOfPoints:60,map:H});r.setGeometry(r.geometry);break;case O.ELLIPSE:this._hideTooltip();r.geometry=q.createEllipse({center:M,longAxis:U,shortAxis:K,numberOfPoints:60,map:H});r.setGeometry(r.geometry);break;case O.TRIANGLE:this._hideTooltip();U=[[0,-Z],[.8660254037844386*Z,.5*Z],[-.8660254037844386*Z,.5*Z],[0,-Z]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.ARROW:this._hideTooltip();A=K/Z;H=U/Z;G=.25*H*Z;J=.25*Z/(K/U);Z*=
.25*A;U=[[U,K],[U-G*(1+24/J),K+24*H-Z],[U-G*(1+12/J),K+12*H-Z],[-12*A,12*H],[12*A,-12*H],[U-G*(1-12/J),K-12*H-Z],[U-G*(1-24/J),K-24*H-Z],[U,K]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.LEFT_ARROW:this._hideTooltip();U=0>=U?[[U,0],[.75*U,K],[.75*U,.5*K],[0,.5*K],[0,-.5*K],[.75*U,-.5*K],[.75*U,-K],[U,0]]:[[0,0],[.25*U,K],[.25*U,.5*K],[U,.5*K],[U,-.5*K],[.25*U,-.5*K],[.25*U,-K],[0,0]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.RIGHT_ARROW:this._hideTooltip();
U=0<=U?[[U,0],[.75*U,K],[.75*U,.5*K],[0,.5*K],[0,-.5*K],[.75*U,-.5*K],[.75*U,-K],[U,0]]:[[0,0],[.25*U,K],[.25*U,.5*K],[U,.5*K],[U,-.5*K],[.25*U,-.5*K],[.25*U,-K],[0,0]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.UP_ARROW:this._hideTooltip();U=0>=K?[[0,K],[-U,.75*K],[-.5*U,.75*K],[-.5*U,0],[.5*U,0],[.5*U,.75*K],[U,.75*K],[0,K]]:[[0,0],[-U,.25*K],[-.5*U,.25*K],[-.5*U,K],[.5*U,K],[.5*U,.25*K],[U,.25*K],[0,0]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);
break;case O.DOWN_ARROW:this._hideTooltip();U=0<=K?[[0,K],[-U,.75*K],[-.5*U,.75*K],[-.5*U,0],[.5*U,0],[.5*U,.75*K],[U,.75*K],[0,K]]:[[0,0],[-U,.25*K],[-.5*U,.25*K],[-.5*U,K],[.5*U,K],[.5*U,.25*K],[U,.25*K],[0,0]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.RECTANGLE:this._hideTooltip();U=[[0,0],[U,0],[U,K],[0,K],[0,0]];r.geometry=this._toPolygon(U,M.x,M.y);r.setGeometry(r.geometry);break;case O.LINE:r.setGeometry(L.mixin(r.geometry,{paths:[[[A.x,A.y],[G.x,G.y]]]}));
break;case O.EXTENT:r&&H.graphics.remove(r,!0);r=new C(this._normalizeRect(A,G,J));r._originOnly=!0;this._graphic=H.graphics.add(new b(r,this.fillSymbol),!0);H.snappingManager&&H.snappingManager._setGraphic(this._graphic);break;case O.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));r.geometry._insertPoints([G.offset(0,0)],0);r.setGeometry(r.geometry);break;case O.FREEHAND_POLYGON:this._hideTooltip();
if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));r.geometry._insertPoints([G.offset(0,0)],0);r.setGeometry(r.geometry)}f("esri-touch")&&F.preventDefault()}},_canDrawFreehandPoint:function(F){if(!this._oldPoint)return!1;var r=this._oldPoint.x-F.screenPoint.x,A=this._oldPoint.y-F.screenPoint.y,G=this._options.tolerance;if((0>r?-1*r:r)<G&&(0>A?-1*A:A)<G)return!1;r=new Date;if(r-this._startTime<this._options.drawTime)return!1;
this._startTime=r;this._oldPoint=F.screenPoint;return!0},_onMouseUpHandler:function(F){if(this._dragged&&this._graphic){0===this._points.length&&this._points.push(F.mapPoint.offset(0,0));if(this.map.snappingManager)var r=this.map.snappingManager._snappingPoint;var A=this._points[0];r=r||F.mapPoint;var G=this.map.spatialReference,H=D;switch(this._geometryType){case H.CIRCLE:case H.ELLIPSE:case H.TRIANGLE:case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.RECTANGLE:var J=
this._graphic.geometry;break;case H.LINE:J=new n({paths:[[[A.x,A.y],[r.x,r.y]]],spatialReference:G});break;case H.EXTENT:J=(new C(this._normalizeRect(A,r,G))).getExtent();break;case H.FREEHAND_POLYLINE:J=new n(G);J.addPath([].concat(this._points,[r.offset(0,0)]));break;case H.FREEHAND_POLYGON:J=new q(G),A=[].concat(this._points,[r.offset(0,0),this._points[0].offset(0,0)]),q.prototype.isClockwise(A)||this.respectDrawingVertexOrder||A.reverse(),J.addRing(A)}f("esri-touch")&&F.preventDefault();this._clear();
this._drawEnd(J)}else this._clear()},_isPointToPointTool:function(F){switch(F){case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:return!0;default:return!1}},_onClickHandler:function(F){if(this.map.snappingManager)var r=this.map.snappingManager._snappingPoint;r=r||F.mapPoint;F=this.map;var A=F.toScreen(r),G=D;if(this._isPointToPointTool(this._geometryType)){var H=this._points[this._points.length-1];if(r&&H&&r.x===H.x&&r.y===H.y)return;this._points.push(r.offset(0,0))}switch(this._geometryType){case G.POINT:this.onDrawStart();
this._drawEnd(r.offset(0,0));this._setTooltipMessage(0);break;case G.POLYLINE:1===this._points.length?(r=new n(F.spatialReference),r.addPath(this._points),this._graphic=F.graphics.add(new b(r,this.lineSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=w.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,r.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol));
break;case G.POLYGON:1===this._points.length?(r=new q(F.spatialReference),r.addRing(this._points),this._graphic=F.graphics.add(new b(r,this.fillSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=w.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,r.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol));break;
case G.MULTI_POINT:r=this._points;1===r.length?(A=new y(F.spatialReference),A.addPoint(r[r.length-1]),this._graphic=F.graphics.add(new b(A,this.markerSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic),this.onDrawStart()):(this._graphic.geometry.addPoint(r[r.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case G.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],A.x,A.y);break;case G.LEFT_ARROW:this._addShape([[0,
0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],A.x,A.y);break;case G.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],A.x,A.y);break;case G.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],A.x,A.y);break;case G.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],A.x,A.y);break;case G.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,
24],[0,-48]],A.x,A.y);break;case G.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],A.x-48,A.y+48);break;case G.CIRCLE:this._clear();this.onDrawStart();this._drawEnd(q.createCircle({center:A,r:48,numberOfPoints:60,map:F}));break;case G.ELLIPSE:this._clear(),this.onDrawStart(),this._drawEnd(q.createEllipse({center:A,longAxis:48,shortAxis:24,numberOfPoints:60,map:F}))}this._setTooltipMessage(this._points.length)},_addShape:function(F,r,A){this._setTooltipMessage(0);this._clear();this.onDrawStart();
this._drawEnd(this._toPolygon(F,r,A))},_toPolygon:function(F,r,A){var G=this.map,H=new q(G.spatialReference);H.addRing(v.map(F,function(J){return G.toMap({x:J[0]+r,y:J[1]+A})}));return H},_onDblClickHandler:function(F){var r=this._points,A=this.map.spatialReference,G=D;f("esri-touch")&&r.push(F.mapPoint);var H=r[r.length-1],J=r[r.length-2];r=H&&J&&H.x===J.x&&H.y===J.y?r.slice(0,r.length-1):r.slice(0,r.length);switch(this._geometryType){case G.POLYLINE:if(!this._graphic||2>r.length){w.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._onClickHandler(F);return}var O=new n(A);O.addPath([].concat(r));break;case G.POLYGON:if(!this._graphic||3>r.length)return;O=new q(A);F=[].concat(r,[r[0].offset(0,0)]);q.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();O.addRing(F);break;case G.MULTI_POINT:O=new y(A),v.forEach(r,function(M){O.addPoint(M)})}w.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(O)},_onKeyDownHandler:function(F){F.keyCode===h.ESCAPE&&
(w.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(F){this._options.showTooltips&&(F?this._tooltip||(this._tooltip=x.create("div",{"class":"esriMapTooltip"},this.map.container),E.isBodyLtr()||u.set(this._tooltip,"direction","rtl"),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=w.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=
w.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=w.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(w.disconnect(this._onTooltipMouseEnterHandler_connect),w.disconnect(this._onTooltipMouseLeaveHandler_connect),w.disconnect(this._onTooltipMouseMoveHandler_connect),x.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var F=this._tooltip;F&&(F.style.display="none")},_setTooltipMessage:function(F){var r=this._tooltip;if(r){var A=
"";switch(this._geometryType){case D.POINT:A=B.toolbars.draw.addPoint;break;case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.TRIANGLE:case D.RECTANGLE:case D.CIRCLE:case D.ELLIPSE:A=B.toolbars.draw.addShape;break;case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:A=B.toolbars.draw.freehand;break;case D.POLYLINE:case D.POLYGON:A=B.toolbars.draw.start;1===F?A=B.toolbars.draw.resume:2<=F&&(A=B.toolbars.draw.complete);break;case D.MULTI_POINT:A=
B.toolbars.draw.addMultipoint,1<=F&&(A=B.toolbars.draw.finish)}r.innerHTML=A}},_updateTooltip:function(F){var r=this._tooltip;if(r){if(F.clientX||F.pageY){var A=F.clientX;F=F.clientY}else A=F.clientX+l.body().scrollLeft-l.body().clientLeft,F=F.clientY+l.body().scrollTop-l.body().clientTop;r.style.display="none";u.set(r,{left:A+this._options.tooltipOffset+"px",top:F+"px"});r.style.display=""}},_redrawGraphic:function(F,r,A,G){(A||this.map.wrapAround180)&&(F=this._graphic)&&F.setGeometry(F.geometry)},
onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawStart:function(){},onDrawEnd:function(){}});L.mixin(D,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});L.setObject("toolbars.Draw",
D,z);return D})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../Evented"],function(V,L,v,w,t){V=V([t],{declaredClass:"esri.toolbars._Toolbar",constructor:function(l){this.map=l},_cursors:{move:"pointer","move-v":"pointer","move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(l,f,g,h){var x=this.map;
l&&(this._mapNavState={isDoubleClickZoom:x.isDoubleClickZoom,isClickRecenter:x.isClickRecenter,isPan:x.isPan,isRubberBandZoom:x.isRubberBandZoom,isKeyboardNavigation:x.isKeyboardNavigation,isScrollWheelZoom:x.isScrollWheelZoom},x.disableDoubleClickZoom(),x.disableClickRecenter(),x.disablePan(),x.disableRubberBandZoom(),x.disableKeyboardNavigation());f&&x.hideZoomSlider();g&&x.hidePanArrows();h&&x.graphics.disableMouseEvents()},_activateMapTools:function(l,f,g,h){var x=this.map,u=this._mapNavState;
l&&u&&(u.isDoubleClickZoom&&x.enableDoubleClickZoom(),u.isClickRecenter&&x.enableClickRecenter(),u.isPan&&x.enablePan(),u.isRubberBandZoom&&x.enableRubberBandZoom(),u.isKeyboardNavigation&&x.enableKeyboardNavigation(),u.isScrollWheelZoom&&x.enableScrollWheelZoom());f&&x.showZoomSlider();g&&x.showPanArrows();h&&x.graphics.enableMouseEvents()},_deactivateScrollWheel:function(){var l=this.map;this._scrollWheelState={isScrollWheelZoom:l.isScrollWheelZoom,isScrollWheelPan:l.isScrollWheelPan};l.disableScrollWheelZoom();
l.disableScrollWheelPan()},_activateScrollWheel:function(){var l=this.map,f=this._scrollWheelState;f&&(f.isScrollWheelZoom&&l.enableScrollWheelZoom(),f.isScrollWheelPan&&l.enableScrollWheelPan())}});L.setObject("toolbars._Toolbar",V,w);return V})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e){var c=v("dijit.layout._Splitter",[z,p],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);w.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=L(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",d=l.getMarginBox(this.child.domNode)[b],k=V.filter(this.container.getChildren(),function(n){return"center"==n.region})[0];
b=l.getContentBox(k.domNode)[b]-10;return Math.min(this.child.maxSize,d+b)},_startDrag:function(b){this.cover||(this.cover=t.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));w.add(this.cover,"dijitSplitterCoverActive");this.fake&&t.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),w.add(this.domNode,"dijitSplitterShadow"),t.place(this.fake,this.domNode,"after"));w.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&w.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var d=this._factor,k=this.horizontal,n=k?"pageY":"pageX",q=b[n],y=this.domNode.style;k=k?"h":"w";var C=f.getComputedStyle(this.child.domNode),B=l.getMarginBox(this.child.domNode,C)[k],D=this._computeMaxSize(),F=Math.max(this.child.minSize,l.getPadBorderExtents(this.child.domNode,C)[k]+10);k=this.region;var r="top"==k||"bottom"==k?"top":"left",A=parseInt(y[r],10),
G=this._resize,H=h.hitch(this.container,"_layoutChildren",this.child.id);k=this.ownerDocument;this._handlers=this._handlers.concat([x(k,u.move,this._drag=function(J,O){var M=J[n]-q,K=d*M+B,U=Math.max(Math.min(K,D),F);(G||O)&&H(U);y[r]=M+A+d*(U-K)+"px"}),x(k,"dragstart",function(J){J.stopPropagation();J.preventDefault()}),x(this.ownerDocumentBody,"selectstart",function(J){J.stopPropagation();J.preventDefault()}),x(k,u.release,h.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(b){b=
"mouseover"==b.type||"mouseenter"==b.type;w.toggle(this.domNode,"dijitSplitterHover",b);w.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b)},_stopDrag:function(b){try{this.cover&&w.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&t.destroy(this.fake),w.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
L(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var b;b=this._handlers.pop();)b.remove()},_onKeyDown:function(b){this._resize=!0;var d=this.horizontal,k=1;switch(b.keyCode){case d?g.UP_ARROW:g.LEFT_ARROW:k*=-1;case d?g.DOWN_ARROW:g.RIGHT_ARROW:break;default:return}d=l.getMarginSize(this.child.domNode)[d?"h":"w"]+this._factor*k;this.container._layoutChildren(this.child.id,Math.max(Math.min(d,this._computeMaxSize()),this.child.minSize));
b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),a=v("dijit.layout._Gutter",[z,p],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);w.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});v=v("dijit.layout.BorderContainer",m,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:c,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var d=b.region,k=b.isLeftToRight();"leading"==d&&(d=k?"left":"right");"trailing"==d&&(d=k?"right":"left");d&&"center"!=d&&(b.splitter||this.gutters)&&!b._splitterWidget&&(k=b.splitter?this._splitterClass:a,h.isString(k)&&
(k=h.getObject(k)),k=new k({id:b.id+"_splitter",container:this,child:b,region:d,live:this.liveSplitters}),k.isSplitter=!0,b._splitterWidget=k,d="bottom"==d||d==(this.isLeftToRight()?"right":"left"),t.place(k.domNode,b.domNode,d?"before":"after"),k.startup())},layout:function(){this._layoutChildren()},removeChild:function(b){var d=b._splitterWidget;d&&(d.destroy(),delete b._splitterWidget);this.inherited(arguments)},getChildren:function(){return V.filter(this.inherited(arguments),function(b){return!b.isSplitter})},
getSplitter:function(b){return V.filter(this.getChildren(),function(d){return d.region==b})[0]._splitterWidget},resize:function(b,d){if(!this.cs||!this.pe){var k=this.domNode;this.cs=f.getComputedStyle(k);this.pe=l.getPadExtents(k,this.cs);this.pe.r=f.toPixelValue(k,this.cs.paddingRight);this.pe.b=f.toPixelValue(k,this.cs.paddingBottom);f.set(k,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(b,d){if(this._borderBox&&this._borderBox.h){var k=[];V.forEach(this._getOrderedChildren(),
function(n){k.push(n);n._splitterWidget&&k.push(n._splitterWidget)});e.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},k,b,d)}},destroyRecursive:function(){V.forEach(this.getChildren(),function(b){var d=b._splitterWidget;d&&d.destroy();delete b._splitterWidget});this.inherited(arguments)}});v.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};h.mixin(v.ChildWidgetProperties,m.ChildWidgetProperties);h.extend(E,v.ChildWidgetProperties);
v._Splitter=c;v._Gutter=a;return v})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(V,L,v,w,t,l,f,g){L=L("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(V.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(h){this.inherited(arguments);
h.region&&v.add(h.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var h=V.map(this.getChildren(),function(x,u){return{pane:x,weight:["center"==x.region?Infinity:0,x.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(x.region)?1:-1),u]}},this);h.sort(function(x,u){for(var E=x.weight,z=u.weight,p=0;p<E.length;p++)if(E[p]!=z[p])return E[p]-z[p];return 0});return V.map(h,function(x){return x.pane})},layout:function(){g.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(h,x){this.inherited(arguments);this._started&&this.layout()},removeChild:function(h){this.inherited(arguments);this._started&&this.layout();v.remove(h.domNode,this.baseClass+"Pane");w.set(h.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});w.set(h.domNode,/top|bottom/.test(h.region)?"width":"height","auto")}});L.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};t.extend(l,L.ChildWidgetProperties);return L})},"arcgisonline/map/utils/clipOnHorizon":function(){define(["./contains"],
function(V){return function(L){V([102113,102100,3857],L.spatialReference.wkid)&&(L.xmin=Math.max(L.xmin,-20037507),L.xmax=Math.min(L.xmax,20037507),L.ymin=Math.max(L.ymin,-19971868),L.ymax=Math.min(L.ymax,19971868));return L}})},"arcgisonline/map/utils/createExtentSearchOptions":function(){define("dojo/_base/lang dojo/_base/array esri/lang esri/tasks/locator ../../esriGeowConfig ../../sharing/util dojo/i18n!../../nls/arcgisonline".split(" "),function(V,L,v,w,t,l,f){function g(){var h=V.clone(((t&&
t.self||{}).helperServices||{}).geocode||[]),x=!1;v.isDefined(t.geocodeAutoComplete)&&(x=t.geocodeAutoComplete);L.forEach(h,V.hitch(this,function(u){u.enableSuggestions=!0===u.suggest&&x?!0:!1;delete u.suggest;var E=l.isEsriWorldGeocoder(u);if(E||u.enableSuggestions)E&&(u.name=u.name||f.common.esriWorldGeocoder,u.enableSuggestions=x,u.placefinding=u.batch=u.esri=!0,u.outFields=["Match_addr","Addr_type","StAddr","City"]),u.placeholder=u.placeholder||f.viewer.findLocationText,u.singleLineFieldName=
u.singleLineFieldName||"SingleLine",u.highlightSymbol=null,u.localSearchOptions={minScale:3E5,distance:5E4};u.locator=new w(u.url)}));return h=L.filter(h,function(u){return v.isDefined(u.singleLineFieldName)&&v.isDefined(u.placefinding)&&u.placefinding})}return function(h,x){var u=v.isDefined(t.geocodeAutoComplete)?t.geocodeAutoComplete:!1,E=g();u={map:h,enableSuggestions:u,minCharacters:3,maxResults:5,suggestionDelay:100,value:x||null,autoNavigate:!1,activeSourceIndex:"all",sources:[].concat(E)};
1===u.sources.length&&delete u.activeSourceIndex;return u}})},"arcgisonline/sharing/dijit/dialog/ShareOwnershipDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/Select dojox/form/TriStateCheckBox ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/editor dojo/store/Memory dojo/store/Observable ./_CreateItemUtilMixin dojo/topic esri/Evented esri/arcgis/Portal ../../geow/Account ../../geow/Content ../../util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa){return V("arcgisonline.sharing.dijit.dialog.ShareOwnershipDlg",[g,h,x,M],{baseClass:"esriSharedOwnershipDlg table-layout",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cp data-dojo-attach-point\x3d"_message"\x3e${i18n.sharingDlg.sharedOwnershipMsg}\x3c/p\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"${id}-groups" data-dojo-attach-point\x3d"_groups" \x3e\x3c/div\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_footerMessage"\x3e${i18n.sharingDlg.settingsMsg}\x3c/p\x3e',
onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},fa)},postCreate:function(){this.inherited(arguments);U.getSelf(f.hitch(this,function(ka){this._loadConnections();this._portal=new K.Portal({url:esriGeowConfig.restBaseUrl,self:ka});this._connect=this._portal.on("load",f.hitch(this,function(){this._connect.remove();this._portalUser=this._portal.getPortalUser();this.set("disabled",!0,this.i18n.sharingDlg.fetchingGroups);return this._loadData().then(f.hitch(this,
function(ma){this._createGrid(ma);this.set("disabled",!1);O.publish("shareOwnership/load")}),f.hitch(this,function(ma){O.publish("shareOwnership/load")}))}))}))},startup:function(){this.inherited(arguments);var ka=new e,ma=O.subscribe("shareOwnership/load",function(){ma.remove();ka.resolve()});return ka},destroy:function(){w(".dijit",this.contentNode).map(dijit.byNode).forEach(function(ka){ka.destroyRecursive?ka.destroyRecursive():ka.destroy&&ka.destroy();ka=null});this._groups.destroy();this._groupsStore=
this._groups=null;this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._portalUser=this._portal=null},_createGrid:function(ka){ka=[A({field:"visible",autoSave:!0},q),{field:"title"}];this._groups=new (V([F,r]))({selectionMode:"none",store:this._groupsStore,showHeader:!1,showLoadingMessage:!1,columns:ka,sort:[{attribute:"title",descending:!1}]},this._groups);this._groups.startup();this._groups.on(".dgrid-cell.field-visible:click",f.hitch(this,function(ma){ma=
this._groups.cell(ma).element.widget;"mixed"===(ma&&ma.get("checked")||!1)&&ma.set("checked",!0)}))},_loadConnections:function(){this.own(O.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){C.focus(this._focusNode)}),250)})),O.subscribe("/esri/disable",f.hitch(this,function(ka,ma){this.set("disabled",ka,ma,!0)})))},_loadData:function(){var ka=new e,ma=c.map(this.items||[],f.hitch(this,function(ra){return this._getGroupsItemSharedWith(ra)}));this._sharedOwnershipGroups=
this._getSharedOwnershipGroups(this.groups);this._groupsStore=new H(new G({idProperty:"id",data:this._sharedOwnershipGroups}));p(ma).then(f.hitch(this,function(ra){ka[this._sharedOwnershipGroups&&this._sharedOwnershipGroups.length?"resolve":"reject"](this._sharedOwnershipGroups)}));return ka},_setValueAttr:function(ka){this.items=ka.items.map(function(ma){return f.mixin({},ma)});this.groups=ka.groups.map(function(ma){return f.mixin({},ma)})},_getValueAttr:function(){return{selected:this._groupsStore.query({visible:"on"}).map(function(ka){return ka.id}),
unselected:this._groupsStore.query({visible:!1}).map(function(ka){return ka.id})}},_setFocusAttr:function(ka){ka=w(ka,this.domNode);C.focus(ka&&ka.length?ka[0]:this._title.domNode)},_setDisabledAttr:function(ka,ma,ra){this.set("readOnly",ka,ma,ra)},_setReadOnlyAttr:function(ka,ma,ra){w(".dijit",this.domNode).map(dijit.byNode).forEach(function(za){za.set("disabled",ka)});w("a",this.domNode)[ka?"addClass":"removeClass"]("disabledLink");w("label, p, span",this.domNode)[ka?"addClass":"removeClass"]("disabled");
ra||(ka&&ma&&O.publish("/dlg/busyMessage",ma),O.publish("/esri/disable",ka,ma))},shareWithSelectedGroup:function(){var ka=new e,ma=c.map(this.items||[],"return item.id;").join(","),ra=this.items&&this.items.length?this.items[0].owner:null,za={owner:ra,items:ma,groups:this.get("value").selected.join(","),confirmItemControl:!0};ma={owner:ra,items:ma,groups:this.get("value").unselected.join(",")};this.set("disabled",!0,this.i18n.sharingDlg.sharingItems);p([this._shareItems(za),this._unshareItems(ma)]).then(f.hitch(this,
function(){this.set("disabled",!1);ka.resolve()}),f.hitch(this,function(ia){this.set("disabled",!1);ka.reject(ia)}));return ka},_shareItems:function(ka){var ma=new e;ka.groups&&ka.groups.length?Z.shareItems(ka,f.hitch(this,function(ra){this.set("disabled",!1);ma.resolve(ra)}),f.hitch(this,function(ra){ma.reject(ra)})):ma.resolve([]);return ma},_unshareItems:function(ka){var ma=new e;ka.groups&&ka.groups.length?Z.unshareItems(ka,f.hitch(this,function(ra){this.set("disabled",!1);ma.resolve(ra)}),f.hitch(this,
function(ra){ma.reject(ra)})):ma.resolve([]);return ma},_getGroupsItemSharedWith:function(ka){ka=this._portal.portalUrl+"content/items/"+ka.id+"/groups";var ma=this.items&&this.items.length||0,ra,za=new e;ca.request({url:ka}).then(f.hitch(this,function(ia){ia=this._getSharedOwnershipGroups(ia.admin).concat(this._getSharedOwnershipGroups(ia.member)).concat(this._getSharedOwnershipGroups(ia.other));c.forEach(ia||[],f.hitch(this,function(T){if(ra=this._groupsStore.get(T.id))ra.shareCount=ra.shareCount?
ra.shareCount+1:1,ra.visible=ra.shareCount===ma?"on":"mixed",this._groupsStore.put(ra)}));za.resolve(ia)}));return za},_getSharedOwnershipGroups:function(ka){var ma,ra=this._portalUser&&this._portalUser.username;return c.filter(ka||[],f.hitch(this,function(za){ma=za.capabilities&&za.capabilities.join(",")||"";return(za.owner===ra||!za.isViewOnly||za.userMembership&&"admin"===za.userMembership.memberType)&&-1<ma.toLowerCase().indexOf("updateitemcontrol")}))},validate:function(){var ka=new e;this._focusNode=
null;var ma=this._checkRequired();ma=ma.then(f.hitch(this,function(ra){ka.resolve(ra)}),f.hitch(this,function(ra){this._showError(ra);ka.reject(ra)}));return ka},_checkRequired:function(){var ka=new e;ka.resolve(!0);return ka},_showError:function(ka){ka=f.mixin(f.mixin({},fa.publishWizard.errors.error),ka);this._errorDlg=new y({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ka).then(f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,
function(){C.focus(this._focusNode)}),250)}));return!1}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b){function d(n){return function(q){this._isLoaded?
this.inherited(n,arguments):this.loadDropDown(g.hitch(this,n,q))}}var k=L("dijit.form._SelectMenu",z,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"selectstart",function(n){n.preventDefault();n.stopPropagation()}))},focus:function(){var n=!1,q=this.parentWidget.value;g.isArray(q)&&(q=q[q.length-1]);q&&V.forEach(this.parentWidget._getChildren(),function(y){y.option&&
q===y.option.value&&(n=!0,this.focusChild(y,!1))},this);n||this.inherited(arguments)}});t=L("dijit.form.Select"+(x("dojo-bidi")?"_NoBidi":""),[u,E,c],{baseClass:"dijitSelect dijitValidationTextBox",templateString:b,_buttonInputDisabled:x("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var n=this.srcNodeRef.selectedIndex||
0;this._set("value",this.options[0<=n?n:0].value)}this.dropDown=new k({id:this.id+"_menu",parentWidget:this});w.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(n){if(n.value||n.label){var q=g.hitch(this,"_setValueAttr",n);n=new p({option:n,label:("text"===this.labelType?(n.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):n.label)||this.emptyLabel,onClick:q,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:n.disabled||
!1});n.focusNode.setAttribute("role","option");return n}return new m({ownerDocument:this.ownerDocument})},_addOptionItem:function(n){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(n))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(n){}},focusChild:function(n){n&&this.set("value",n.option)},_getFirst:function(){var n=this._getChildren();return n.length?n[0]:null},
_getLast:function(){var n=this._getChildren();return n.length?n[n.length-1]:null},childSelector:function(n){return(n=a.byNode(n))&&n.getParent()==this.dropDown},onKeyboardSearch:function(n,q,y,C){n&&this.focusChild(n)},_loadChildren:function(n){if(!0===n)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{V.forEach(this._getChildren(),function(y){y.destroyRecursive()});var q=new p({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(q)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(n){this.inherited(arguments);v.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(n){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(n){this._set("required",n);this.focusNode.setAttribute("aria-required",n);this._refreshState()},_setOptionsAttr:function(n){this._isLoaded=!1;this._set("options",n)},_setDisplay:function(n){n=("text"===this.labelType?(n||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):n)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" aria-selected\x3d"true" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+n+"\x3c/span\x3e"},
validate:function(n){n=this.disabled||this.isValid(n);this._set("state",n?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",n?"false":"true");var q=n?"":this._missingMsg;q&&this.focused&&this._hasBeenBlurred?e.show(q,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode);this._set("message",q);return n},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);e.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=l.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"selectstart",function(q){q.preventDefault();q.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var n=this._keyNavCodes;delete n[f.LEFT_ARROW];delete n[f.RIGHT_ARROW]},_setStyleAttr:function(n){this.inherited(arguments);w.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(n){this._loadChildren(!0);this._isLoaded=!0;n()},destroy:function(n){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(n),delete this.dropDown);e.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){e.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});x("dojo-bidi")&&(t=
L("dijit.form.Select",t,{_setDisplay:function(n){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));t._Menu=k;t.prototype._onContainerKeydown=d("_onContainerKeydown");t.prototype._onContainerKeypress=d("_onContainerKeypress");return t})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z){return t("dijit.form._FormSelectWidget",z,{multiple:!1,options:null,store:null,_setStoreAttr:function(p){this._created&&this._deprecatedSetStore(p)},query:null,_setQueryAttr:function(p){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:p})},queryOptions:null,_setQueryOptionsAttr:function(p){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:p})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(p){var m=this.options||[];if(null==p)return m;if(h.isArrayLike(p))return V.map(p,"return this.getOptions(item);",this);h.isString(p)&&(p={value:p});h.isObject(p)&&(V.some(m,function(e,c){for(var a in p)if(!(a in e)||e[a]!=p[a])return!1;p=c;return!0})||(p=-1));return 0<=p&&p<m.length?m[p]:null},addOption:function(p){V.forEach(h.isArrayLike(p)?p:[p],function(m){m&&h.isObject(m)&&this.options.push(m)},this);this._loadChildren()},removeOption:function(p){p=this.getOptions(h.isArrayLike(p)?
p:[p]);V.forEach(p,function(m){m&&(this.options=V.filter(this.options,function(e){return e.value!==m.value||e.label!==m.label}),this._removeOptionItem(m))},this);this._loadChildren()},updateOption:function(p){V.forEach(h.isArrayLike(p)?p:[p],function(m){var e=this.getOptions({value:m.value}),c;if(e)for(c in m)e[c]=m[c]},this);this._loadChildren()},setStore:function(p,m,e){g.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(p,m,e)},_deprecatedSetStore:function(p,m,e){var c=this.store;e=e||{};if(c!==p){for(var a;a=this._notifyConnections.pop();)a.remove();p.get||(h.mixin(p,{_oldAPI:!0,get:function(b){var d=new L;this.fetchItemByIdentity({identity:b,onItem:function(k){d.resolve(k)},onError:function(k){d.reject(k)}});return d.promise},query:function(b,d){var k=new L(function(){n.abort&&n.abort()});k.total=new L;var n=this.fetch(h.mixin({query:b,onBegin:function(q){k.total.resolve(q)},
onComplete:function(q){k.resolve(q)},onError:function(q){k.reject(q)}},d));return new E(k)}}),p.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[v.after(p,"onNew",h.hitch(this,"_onNewItem"),!0),v.after(p,"onDelete",h.hitch(this,"_onDeleteItem"),!0),v.after(p,"onSet",h.hitch(this,"_onSetItem"),!0)]));this._set("store",p)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);e.query&&this._set("query",e.query);e.queryOptions&&this._set("queryOptions",e.queryOptions);p&&p.query&&(this._loadingStore=!0,this.onLoadDeferred=new L,this._queryRes=p.query(this.query,this.queryOptions),u(this._queryRes,h.hitch(this,function(b){if(this.sortByLabel&&!e.sort&&b.length)if(p.getValue)b.sort(w.createSortFunction([{attribute:p.getLabelAttributes(b[0])[0]}],p));else{var d=this.labelAttr;b.sort(function(k,n){return k[d]>n[d]?1:n[d]>
k[d]?-1:0})}e.onFetch&&(b=e.onFetch.call(this,b,e));V.forEach(b,function(k){this._addOptionForItem(k)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(h.hitch(this,function(k,n,q){n==q?this._onSetItem(k):(-1!=n&&this._onDeleteItem(k),-1!=q&&this._onNewItem(k))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:m);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),h.hitch(this,function(b){this.onLoadDeferred.reject(b)})));return c},_setValueAttr:function(p,m){this._onChangeActive||(m=null);if(this._loadingStore)this._pendingValue=p;else if(null!=p){p=h.isArrayLike(p)?V.map(p,function(a){return h.isObject(a)?a:{value:a}}):h.isObject(p)?[p]:[{value:p}];p=V.filter(this.getOptions(p),function(a){return a&&a.value});var e=this.getOptions()||[];this.multiple||p[0]&&p[0].value||!e.length||(p[0]=e[0]);V.forEach(e,function(a){a.selected=V.some(p,
function(b){return b.value===a.value})});e=V.map(p,function(a){return a.value});if("undefined"!=typeof e&&"undefined"!=typeof e[0]){var c=V.map(p,function(a){return a.label});this._setDisplay(this.multiple?c:c[0]);this.inherited(arguments,[this.multiple?e:e[0],m]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var p=V.map([].concat(this.get("selectedOptions")),function(m){return m&&"label"in m?m.label:m?m.value:null},this);return this.multiple?p:p[0]},_setDisplayedValueAttr:function(p){this.set("value",
this.getOptions("string"==typeof p?{label:p}:p))},_loadChildren:function(){this._loadingStore||(V.forEach(this._getChildren(),function(p){p.destroyRecursive()}),V.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var p=[].concat(this.value);if(p&&p[0]){var m=this;V.forEach(this._getChildren(),function(e){var c=V.some(p,function(a){return e.option&&a===e.option.value});c&&!m.multiple&&
(m.focusedChild=e);f.toggle(e.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),c);e.domNode.setAttribute("aria-selected",c?"true":"false")},this)}},_getValueFromOpts:function(){var p=this.getOptions()||[];if(!this.multiple&&p.length){var m=V.filter(p,function(e){return e.selected})[0];if(m&&m.value)return m.value;p[0].selected=!0;return p[0].value}return this.multiple?V.map(V.filter(p,function(e){return e.selected}),function(e){return e.value})||[]:""},_onNewItem:function(p,m){m&&m.parent||
this._addOptionForItem(p)},_onDeleteItem:function(p){this.removeOption({value:this.store.getIdentity(p)})},_onSetItem:function(p){this.updateOption(this._getOptionObjForItem(p))},_getOptionObjForItem:function(p){var m=this.store,e=this.labelAttr&&this.labelAttr in p?p[this.labelAttr]:m.getLabel(p);return{value:e?m.getIdentity(p):null,label:e,item:p}},_addOptionForItem:function(p){var m=this.store;m.isItemLoaded&&!m.isItemLoaded(p)?m.loadItem({item:p,onItem:function(e){this._addOptionForItem(e)},scope:this}):
(p=this._getOptionObjForItem(p),this.addOption(p))},constructor:function(p){this._oValue=(p||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);l.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?x("\x3e *",this.srcNodeRef).map(function(p){return"separator"===p.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:p.getAttribute("data-"+g._scopeName+"-value")||p.getAttribute("value"),
label:String(p.innerHTML),selected:p.getAttribute("selected")||!1,disabled:p.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);v.after(this,"onChange",h.hitch(this,"_updateSelection"));var p=this.store;p&&(p.getIdentity||p.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(p,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var p;p=this._notifyConnections.pop();)p.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(V,L,v,w){return V("dijit.DropDownMenu",w,{templateString:v,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(t){this._moveToPopup(t);t.stopPropagation();t.preventDefault()},
_onLeftArrow:function(t){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else t.stopPropagation(),t.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){return L("dijit._MenuBase",[E,
m,p,z],{selected:null,_setSelectedAttr:function(e){this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){t.toggle(this.domNode,"dijitMenuActive",e);t.toggle(this.domNode,"dijitMenuPassive",!e);this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(e){var c=u.byNode(e);return e.parentNode==this.containerNode&&
c&&c.focus},postCreate:function(){var e=this,c="string"==typeof this.childSelector?this.childSelector:l.hitch(this,"childSelector");this.own(g(this.containerNode,g.selector(c,f.enter),function(){e.onItemHover(u.byNode(this))}),g(this.containerNode,g.selector(c,f.leave),function(){e.onItemUnhover(u.byNode(this))}),g(this.containerNode,g.selector(c,x),function(a){e.onItemClick(u.byNode(this),a);a.stopPropagation()}),g(this.containerNode,g.selector(c,"focusin"),function(){e._onItemFocus(u.byNode(this))}));
this.inherited(arguments)},onKeyboardSearch:function(e,c,a,b){this.inherited(arguments);if(e&&(-1==b||e.popup&&1==b))this.onItemClick(e,c)},_keyboardSearchCompare:function(e,c){return e.shortcutKey?c==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else(e=this._getTopMenu())&&e._isMenuBar&&e.focusNext()},
_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(e){this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(e)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"})},this.passivePopupDelay));this._hoveredChild=
e;e._set("hovering",!0)},_onChildDeselect:function(e){this._stopPopupTimer();this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;e._closePopup()},this.popupDelay))},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);e._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,c){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(e);if(e.disabled)return!1;if(e.popup){this.set("selected",e);this.set("activated",!0);var a=/^key/.test(c._origType||c.type)||0==c.clientX&&0==c.clientY;this._openItemPopup(e,
a)}else this.onExecute(),e._onClick?e._onClick(c):e.onClick(c)},_openItemPopup:function(e,c){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var a=e.popup;a.parentMenu=this;this.own(this._mouseoverHandle=g.once(a.domNode,"mouseover",l.hitch(this,"_onPopupHover")));var b=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&b.focusChild(e);b._cleanUp()},onExecute:l.hitch(this,
"_cleanUp",!0),onClose:function(){b._mouseoverHandle&&(b._mouseoverHandle.remove(),delete b._mouseoverHandle)}},c);this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(w.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(e){if(this._hoveredChild&&this._hoveredChild!=e)this.onItemUnhover(this._hoveredChild);this.set("selected",e)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(e){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);e&&this.set("selected",null)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(V,L,v,w,t,l,f,g,h,x){return L("dojox.form.TriStateCheckBox",[h,x],{templateString:g,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(u){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(u,E){var z=v.indexOf(this.states,u);0<=z&&(this._currentState=z,this._stateType=this._getStateType(u),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(u){V.deprecated("setChecked("+u+") is deprecated. Use set('checked',"+u+") instead.","","2.0");this.set("checked",u)},_setStatesAttr:function(u){if(w.isArray(u))this._set("states",u);else if(w.isString(u)){var E={"true":!0,"false":!1,mixed:"mixed"};u=u.split(/\s*,\s*/);for(var z=0;z<u.length;z++)u[z]=void 0!==E[u[z]]?E[u[z]]:!1;this._set("states",u)}},_setReadOnlyAttr:function(u){this._set("readOnly",u);
f.set(this.focusNode,"readOnly",u)},_setValueAttr:function(u,E){"string"==typeof u&&0>v.indexOf(this.states,u)&&(""==u&&(u="on"),this.stateValues.True=u,u=!0);this._created&&(this._currentState=v.indexOf(this.states,u),this.set("checked",u,E),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(u){this.stateValues.True=u[0]?u[0]:this.stateValues.True;this.stateValues.Mixed=u[1]?u[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&l("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&l("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(u){if(this.readOnly||this.disabled)return t.stop(u),!1;this.click();return this.onClick(u)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var u=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=u;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(u){return u?"mixed"==u?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(V,L,v){return V("dgrid.OnDemandGrid",[L,v],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(V,L,v,w,t,l,f){function g(u,E){E&&E.nodeType&&u.appendChild(E)}function h(u,
E,z,p){if(this.formatter){p=this.formatter;var m=this.grid.formatterScope;z.innerHTML="string"===typeof p&&m?m[p](E,u):this.formatter(E,u)}else null!=E&&z.appendChild(document.createTextNode(E))}var x=8>w("ie")&&!w("quirks");L=L("dgrid.Grid",l,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(u){return"object"!=typeof u?this.columns[u]:this.cell(u).column},listType:"grid",cell:function(u,E){if(u.column&&u.element)return u;u.target&&u.target.nodeType&&(u=u.target);if(u.nodeType){do{if(this._rowIdToObject[u.id])break;
var z=u.columnId;if(z){E=z;var p=u;break}u=u.parentNode}while(u&&u!=this.domNode)}if(!p&&"undefined"!=typeof E){var m=this.row(u);if(z=m&&m.element){z=z.getElementsByTagName("td");for(var e=0;e<z.length;e++)if(z[e].columnId==E){p=z[e];break}}}if(null!=u)return{row:m||this.row(u),column:E&&this.column(E),element:p}},createRowCells:function(u,E,z,p){var m=t("table.dgrid-row-table[role\x3dpresentation]"),e=9>w("ie")||w("quirks")?t(m,"tbody"):m,c,a,b;z=z||this.subRows;var d=0;for(c=z.length;d<c;d++){var k=
z[d];var n=t(e,"tr");k.className&&t(n,"."+k.className);var q=0;for(a=k.length;q<a;q++){var y=k[q];var C=y.id;var B=y.field?".field-"+f.escapeCssIdentifier(y.field,"-"):"";(b="function"===typeof y.className?y.className(p):y.className)&&(B+="."+b);B=t(u+(".dgrid-cell.dgrid-cell-padding"+(C?".dgrid-column-"+f.escapeCssIdentifier(C,"-"):"")+B.replace(/ +/g,"."))+"[role\x3d"+("th"===u?"columnheader":"gridcell")+"]");B.columnId=C;x?(C=t(B,"!dgrid-cell-padding div.dgrid-cell-padding"),B.contents=C):C=B;
if(b=y.colSpan)B.colSpan=b;if(b=y.rowSpan)B.rowSpan=b;E(C,y);n.appendChild(B)}}return m},left:function(u,E){u.element||(u=this.cell(u));return this.cell(this._move(u,-(E||1),"dgrid-cell"))},right:function(u,E){u.element||(u=this.cell(u));return this.cell(this._move(u,E||1,"dgrid-cell"))},renderRow:function(u,E){var z=this.createRowCells("td",function(p,m){var e=u;m.get?e=m.get(u):"field"in m&&"_item"!=m.field&&(e=e[m.field]);m.renderCell?g(p,m.renderCell(u,e,p,E)):h.call(m,u,e,p,E)},E&&E.subRows,
u);return t("div[role\x3drow]\x3e",z)},renderHeader:function(){var u=this,E=this.headerNode,z=E.childNodes.length;for(E.setAttribute("role","row");z--;)t(E.childNodes[z],"!");z=this.createRowCells("th",function(p,m){var e=m.headerNode=p;x&&(p=p.parentNode);var c=m.field;c&&(p.field=c);m.renderHeaderCell?g(e,m.renderHeaderCell(e)):("label"in m||m.field)&&e.appendChild(document.createTextNode("label"in m?m.label:m.field));!1!==m.sortable&&c&&"_item"!=c&&(p.sortable=!0,p.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[z.id=this.id+"-header"]=this.columns;E.appendChild(z);this._sortListener&&this._sortListener.remove();this._sortListener=v(z,"click,keydown",function(p){if("click"==p.type||32==p.keyCode||!w("opera")&&13==p.keyCode){var m=p.target,e,c;do if(m.sortable){var a=[{attribute:e=m.field||m.columnId,descending:(c=u._sort[0])&&c.attribute==e&&!c.descending}];e={bubbles:!0,cancelable:!0,grid:u,parentType:p.type,sort:a};v.emit(p.target,"dgrid-sort",
e)&&(u._sortNode=m,u.set("sort",a));break}while((m=m.parentNode)&&m!=E)}})},resize:function(){var u=this.headerNode.firstChild,E=this.contentNode,z;this.inherited(arguments);if(!w("ie")||7<w("ie")&&!w("quirks"))E.style.width="",E&&u&&(z=u.offsetWidth)!=E.offsetWidth&&(E.style.width=z+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(u,E){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(u){var E=
this.columns,z;for(z in E){var p=E[z];if(p.field==u)return p.headerNode}},updateSortArrow:function(u,E){this._lastSortedArrow&&(t(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),t(this._lastSortedArrow,"!"),delete this._lastSortedArrow);E&&(this._sort=u);if(u[0]){var z=u[0].attribute,p=u[0].descending;z=this._sortNode||this._findSortArrowParent(z);delete this._sortNode;if(z){z=z.contents||z;var m=this._lastSortedArrow=t("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");m.innerHTML=
"\x26nbsp;";z.insertBefore(m,z.firstChild);t(z,p?".dgrid-sort-down":".dgrid-sort-up");this.resize()}}},styleColumn:function(u,E){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(u,"-"),E)},_configColumns:function(u,E){var z=[],p=E instanceof Array;f.each(E,function(m,e){"string"==typeof m&&(E[e]=m={label:m});p||m.field||(m.field=e);e=m.id=m.id||(isNaN(e)?e:u+e);this._configColumn&&(this._configColumn(m,e,E,u),e=m.id);p&&(this.columns[e]=m);
m.grid=this;"function"===typeof m.init&&m.init();z.push(m)},this);return p?E:z},_destroyColumns:function(){var u=this.subRows,E=u&&u.length,z,p;this.cleanup();for(z=0;z<E;z++){var m=0;for(p=u[z].length;m<p;m++){var e=u[z][m];"function"===typeof e.destroy&&e.destroy()}}},configStructure:function(){var u=this.subRows,E=this._columns=this.columns;this.columns=!E||E instanceof Array?{}:E;if(u)for(E=0;E<u.length;E++)u[E]=this._configColumns(E+"-",u[E]);else this.subRows=[this._configColumns("",E)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(u){this._destroyColumns();this.subRows=null;this.columns=u;this._updateColumns()},_setSubRows:function(u){this._destroyColumns();this.subRows=u;this._updateColumns()},setColumns:function(u){V.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",u)},setSubRows:function(u){V.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",u)},_updateColumns:function(){this.configStructure();this.renderHeader();
this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});L.appendIfNode=g;L.defaultRenderCell=h;return L})},"put-selector/put":function(){(function(V){var L,v=/[-+,> ]/;V([],L=function(w,t){function l(u){function E(){c&&e&&c!=e&&(e==u&&(z||(z=v.test(k)&&w.createDocumentFragment()))?z:e).insertBefore(c,m||null)}for(var z,p,m,e,c,a=arguments,b=a[0],d=0;d<a.length;d++){var k=a[d];if("object"==
typeof k){p=!1;if(k instanceof Array){c=w.createDocumentFragment();for(var n=0;n<k.length;n++)c.appendChild(l(k[n]));k=c}if(k.nodeType)c=k,E(),e=k,m=0;else for(n in k)c[n]=k[n]}else if(p)p=!1,c.appendChild(w.createTextNode(k));else{1>d&&(u=null);p=!0;if(b=k.replace(f,function(q,y,C,B,D,F){y&&(E(),"-"==y||"+"==y?(e=(m=c||e).parentNode,c=null,"+"==y&&(m=m.nextSibling)):("\x3c"==y?e=c=(c||e).parentNode:(","==y?e=u:c&&(e=c),c=null),m=0),c&&(e=c));if((q=!C&&B)||!c&&(C||D))"$"==q?(q=a[++d],e.appendChild(w.createTextNode(q))):
(q=q||l.defaultTag,(y=x&&a[d+1]&&a[d+1].name)&&(q="\x3c"+q+' name\x3d"'+y+'"\x3e'),c=h&&~(g=q.indexOf("|"))?w.createElementNS(h[q.slice(0,g)],q.slice(g+1)):w.createElement(q));if(C)if("$"==B&&(B=a[++d]),"#"==C)c.id=B;else if(y=(q=c.className)&&(" "+q+" ").replace(" "+B+" "," "),"."==C)c.className=q?(y+B).substring(1):B;else if("!"==k){var r;x?l("div",c,"\x3c").innerHTML="":(r=c.parentNode)&&r.removeChild(c)}else y=y.substring(1,y.length-1),y!=q&&(c.className=y);D&&("$"==F&&(F=a[++d]),"style"==D?c.style.cssText=
F:(C="!"==D.charAt(0)?(D=D.substring(1))&&"removeAttribute":"setAttribute",F=""===F?D:F,h&&~(g=D.indexOf("|"))?c[C+"NS"](h[D.slice(0,g)],D.slice(g+1),F):c[C](D,F)));return""}))throw new SyntaxError("Unexpected char "+b+" in "+k);E();e=b=c||e}}u&&z&&u.appendChild(z);return b}v=t||v;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,g,h=!1;w=w||document;var x="object"==typeof w.createElement;l.addNamespace=function(u,E){w.createElementNS?(h||
(h={}))[u]=E:w.namespaces.add(u,E)};l.defaultTag="div";l.forDocument=L;return l})})(function(V,L,v){v=v||L;"function"===typeof define?define([],function(){return v()}):"undefined"==typeof window?require("./node-html")(module,v):put=v()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(V,L,v,w,t,l,f,g,
h,x){function u(n,q){return t("#"+f.escapeCssIdentifier(n),q)[0]}function E(n,q){x(document.body,n,".dgrid-scrollbar-measure");var y=n["offset"+q]-n["client"+q];n.className="";n.parentNode&&document.body.removeChild(n);return y}function z(n){var q=n?"."+n.replace(d,"."):"";this._class&&(q="!"+this._class.replace(d,"!")+q);x(this.domNode,q);this._class=n}function p(){return this._class}function m(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function e(n){"undefined"!==typeof n.x&&
(this.bodyNode.scrollLeft=n.x);"undefined"!==typeof n.y&&(this.bodyNode.scrollTop=n.y)}h("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var c,a;l.add("dom-scrollbar-width",function(n,q,y){return E(y,"Width")});l.add("dom-scrollbar-height",function(n,q,y){return E(y,"Height")});l.add("dom-rtl-scrollbar-left",function(n,q,y){n=x("div");x(document.body,y,".dgrid-scrollbar-measure[dir\x3drtl]");x(y,n);q=!!l("ie")||!!l("trident")||n.offsetLeft>=l("dom-scrollbar-width");y.className=
"";y.parentNode&&document.body.removeChild(y);x(n,"!");y.removeAttribute("dir");return q});var b=0,d=/ +/g,k=7>l("ie")&&!l("quirks")?function(){if(this._started){var n=document.documentElement;var q=n.clientWidth;n=n.clientHeight;var y=this._prevWinDims||[];if(y[0]!==q||y[1]!==n)this.resize(),this._prevWinDims=[q,n]}}:function(){this._started&&this.resize()};return L("dgrid.List",l("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,
addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(n,q){var y=this;(this._Row=function(C,B,D){this.id=C;this.data=B;this.element=D}).prototype.remove=function(){y.removeRow(this.element)};q&&(this.srcNodeRef=q=q.nodeType?q:u(q));this.create(n,q)},listType:"list",create:function(n,q){var y=this.domNode=q||x("div");if(n){this.params=n;L.safeMixin(this,n);var C=n["class"]||n.className||y.className;this._sort=n.sort||[];delete this.sort}else this._sort=
[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=y.id=y.id||this.id||"dgrid_"+b++;null===this.useTouchScroll&&(this.useTouchScroll=!l("dom-scrollbar-width"));this.buildRendering();C&&z.call(this,C);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var n=this.domNode,q=this.addUiClasses,y=this;var C=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();n.className="";x(n,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(q?".ui-widget":""));var B=this.headerNode=x(n,"div.dgrid-header.dgrid-header-row"+(q?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(l("quirks")||8>l("ie"))&&x(n,"div.dgrid-spacer");var D=this.bodyNode=x(n,"div.dgrid-scroller");l("ff")&&(D.tabIndex=-1);this.headerScrollNode=x(n,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(q?".ui-widget-header":""));var F=
this.footerNode=x("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));x(n,F);C&&(n.className+=" dgrid-rtl"+(l("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));w(D,"scroll",function(r){y.showHeader&&(B.scrollLeft=r.scrollLeft||D.scrollLeft);r.stopPropagation();w.emit(n,"scroll",{scrollTarget:D})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=x(this.bodyNode,"div.dgrid-content"+(q?".ui-widget-content":""));this._listeners.push(this._resizeHandle=w(window,"resize",
f.throttleDelayed(k,this)))},postCreate:l("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var n=this.bodyNode,q=this.headerNode,y=this.footerNode,C=q.offsetHeight,B=this.showFooter?y.offsetHeight:0,D=l("quirks")||7>l("ie");this.headerScrollNode.style.height=n.style.marginTop=C+"px";n.style.marginBottom=
B+"px";D&&(n.style.height="",n.style.height=Math.max(this.domNode.offsetHeight-C-B,0)+"px",B&&(y.style.bottom="1px",setTimeout(function(){y.style.bottom=""},0)));c||(c=l("dom-scrollbar-width"),a=l("dom-scrollbar-height"),l("ie")&&(c++,a++),f.addCssRule(".dgrid-scrollbar-width","width: "+c+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+a+"px"),17==c||D||(f.addCssRule(".dgrid-header-row","right: "+c+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+c+"px")));D&&(q.style.width=
n.clientWidth+"px",setTimeout(function(){q.scrollLeft=n.scrollLeft},0))},addCssRule:function(n,q){var y=f.addCssRule(n,q);this.cleanAddedRules&&this._listeners.push(y);return y},on:function(n,q){var y=w(this.domNode,n,q);l("dom-addeventlistener")||this._listeners.push(y);return y},cleanup:function(){var n=this.observers,q;for(q in this._rowIdToObject)if(this._rowIdToObject[q]!=this.columns){var y=u(q,this.domNode);y&&this.removeRow(y,!0)}for(q=0;q<n.length;q++)(y=n[q])&&y.cancel();this.observers=
[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var n=this._listeners.length;n--;)this._listeners[n].remove();delete this._listeners}this._started=!1;this.cleanup();x(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(n,q,y,C,B){if(q){var D=this.insertRow(n,q,y,C,B);x(D,".dgrid-highlight"+(this.addUiClasses?
".ui-state-highlight":""));setTimeout(function(){x(D,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return D}},adjustRowIndices:function(n){var q=n.rowIndex;if(-1<q){do-1<n.rowIndex&&(this.maintainOddEven&&-1<(n.className+" ").indexOf("dgrid-row ")&&x(n,"."+(1==q%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==q%2?"dgrid-row-odd":"dgrid-row-even")),n.rowIndex=q++);while((n=n.nextSibling)&&n.rowIndex!=q)}},renderArray:function(n,q,y){function C(){var ka=arguments;if(-1<O)for(var ma=0;ma<
ka.length;ma++){var ra=ka[ma],za=Z[ra?0:Z.length-1];if(za=za&&B(za)){var ia=za[ra?"previousSibling":"nextSibling"];ia&&(ia=r.row(ia));ia&&ia.element!=za&&(ra=ra?"unshift":"push",n[ra](ia.data),Z[ra](ia.element),y.count++)}}}function B(ka){return!v.isDescendant(ka,r.domNode)&&u(ka.id)?r.row(ka.id.slice(r.id.length+5)).element:ka}function D(ka){K=r.insertRow(ka,M,null,A++,y);K.observerIndex=O;return K}function F(ka){U=ka.slice(0);(H=q?q.parentNode:r.contentNode)&&H.parentNode&&(H!==r.contentNode||ka.length)?
(H.insertBefore(M,q||null),(K=ka[ka.length-1])&&r.adjustRowIndices(K)):G[O]&&r.cleanEmptyObservers&&r._onEmptyRender(O);Z=ka;J&&(J.rows=Z)}y=y||{};var r=this,A=y.start||0,G=this.observers,H;q||(this._lastCollection=n);if(n.observe&&this.shouldObserveStore){r._numObservers++;var J=n.observe(function(ka,ma,ra){var za;if(-1<ma&&Z[ma]){var ia=Z.splice(ma,1)[0];ia.parentNode==H&&((za=ia.nextSibling)&&ma!=ra&&za.rowIndex--,r.removeRow(ia));y.count--;r._processScroll&&r._processScroll()}if(-1<ra){if(Z.length)if(0===
ra)var T=(T=Z[ra])&&B(T);else{if(T=Z[ra-1])T=B(T),T=(T.connected||T).nextSibling}else T=r._getFirstRowSibling&&r._getFirstRowSibling(H);ia&&T&&ia.id===T.id&&(T=(T.connected||T).nextSibling);T&&!T.parentNode&&(T=u(T.id));ia=q&&q.parentNode||T&&T.parentNode||r.contentNode;if(ia=r.newRow(ka,ia,T,y.start+ra,y))if(ia.observerIndex=O,Z.splice(ra,0,ia),!za||ra<ma)za=(za=ia.previousSibling)&&za.rowIndex+1!=ia.rowIndex&&0!=ia.rowIndex?za:ia;y.count++}0===ma?C(1,1):ma===n.length-(-1===ra?0:1)&&C(0,0);ma!=ra&&
za&&r.adjustRowIndices(za);r._onNotification(Z,ka,ma,ra)},!0);var O=G.push(J)-1}var M=document.createDocumentFragment(),K,U;if(n.map){var Z=n.map(D,console.error);if(Z.then)return n.then(function(ka){n=ka;return Z.then(function(ma){F(ma);C(1,1,0,0);return U})})}else{Z=[];for(var ca=0,fa=n.length;ca<fa;ca++)Z[ca]=D(n[ca])}F(Z);C(1,1,0,0);return U},_onEmptyRender:function(n){"undefined"!==typeof n&&(this.observers[n].cancel(),this.observers[n]=0,this._numObservers--)},_onNotification:function(n,q,y,
C){},renderHeader:function(){},_autoId:0,insertRow:function(n,q,y,C,B){var D=B.parentId;D=this.id+"-row-"+(D?D+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(n):this._autoId++);var F=u(D,this.domNode),r=F&&F.previousSibling;F&&(F===y&&(y=(y.connected||y).nextSibling),this.removeRow(F));F=this.renderRow(n,B);F.className=(F.className||"")+" dgrid-row "+(1==C%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[F.id=D]=n;q.insertBefore(F,
y||null);r&&this.adjustRowIndices(r);F.rowIndex=C;return F},renderRow:function(n,q){return x("div",""+n)},removeRow:function(n,q){n=n.element||n;delete this._rowIdToObject[n.id];q||x(n,"!")},row:function(n){var q;if(n instanceof this._Row)return n;n.target&&n.target.nodeType&&(n=n.target);if(n.nodeType){do{var y=n.id;if(q=this._rowIdToObject[y])return new this._Row(y.substring(this.id.length+5),q,n);n=n.parentNode}while(n&&n!=this.domNode)}else return"object"==typeof n?q=this.store.getIdentity(n):
(q=n,n=this._rowIdToObject[this.id+"-row-"+q]),new this._Row(q,n,u(this.id+"-row-"+q,this.domNode))},cell:function(n){return{row:this.row(n)}},_move:function(n,q,y,C){var B;var D=B=n.element;q=q||1;do if(n=B[0>q?"previousSibling":"nextSibling"]){do if((B=n)&&-1<(B.className+" ").indexOf(y+" ")){D=B;q+=0>q?1:-1;break}while(n=(!C||!B.hidden)&&B[0>q?"lastChild":"firstChild"])}else if(B=B.parentNode,!B||B===this.bodyNode||B===this.headerNode)break;while(q);return D},up:function(n,q,y){n.element||(n=this.row(n));
return this.row(this._move(n,-(q||1),"dgrid-row",y))},down:function(n,q,y){n.element||(n=this.row(n));return this.row(this._move(n,q||1,"dgrid-row",y))},scrollTo:l("touch")?function(n){return this.useTouchScroll?this.inherited(arguments):e.call(this,n)}:e,getScrollPosition:l("touch")?function(){return this.useTouchScroll?this.inherited(arguments):m.call(this)}:m,get:function(n){var q="_get"+n.charAt(0).toUpperCase()+n.slice(1);return"function"===typeof this[q]?this[q].apply(this,[].slice.call(arguments,
1)):this[n]},set:function(n,q){if("object"===typeof n)for(var y in n)this.set(y,n[y]);else y="_set"+n.charAt(0).toUpperCase()+n.slice(1),"function"===typeof this[y]?this[y].apply(this,[].slice.call(arguments,1)):this[n]=q;return this},_getClass:p,_setClass:z,_getClassName:p,_setClassName:z,_setSort:function(n,q){this._sort="string"!=typeof n?n:[{attribute:n,descending:q}];this.refresh();this._lastCollection&&(n.length&&("string"!=typeof n&&(q=n[0].descending,n=n[0].attribute),this._lastCollection.sort(function(y,
C){var B=y[n],D=C[n];void 0===B&&(B="");void 0===D&&(D="");return B==D?0:B>D==!q?1:-1})),this.renderArray(this._lastCollection))},sort:function(n,q){V.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",n,q)},_getSort:function(){return this._sort},_setShowHeader:function(n){var q=this.headerNode;this.showHeader=n;x(q,(n?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();n&&(q.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(n){V.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",n)},_setShowFooter:function(n){this.showFooter=n;x(this.footerNode,(n?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],function(V){V.add("dom-contains",function(x,u,E){return!!E.contains});var L=[],v,w,t,l=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f=setTimeout,g=clearTimeout;V.add("requestidlecallback",function(x){return"function"===typeof x.requestIdleCallback});var h={defaultDelay:15,
throttle:function(x,u,E){var z=!1;E=E||h.defaultDelay;return function(){z||(z=!0,x.apply(u,arguments),f(function(){z=!1},E))}},throttleDelayed:function(x,u,E){var z=!1;E=E||h.defaultDelay;return function(){if(!z){z=!0;var p=arguments;f(function(){z=!1;x.apply(u,p)},E)}}},debounce:function(x,u,E){var z;E=E||h.defaultDelay;return function(){z&&(g(z),z=null);var p=arguments;z=f(function(){z=null;x.apply(u,p)},E)}},each:function(x,u,E){var z;if(x)if("number"===typeof x.length){var p=0;for(z=x.length;p<
z;p++)u.call(E,x[p],p,x)}else for(p in x)u.call(E,x[p],p,x)},contains:function(x,u){return V("dom-contains")?x.contains(u):x.compareDocumentPosition(u)&8},addCssRule:function(x,u){v||(v=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(v),v=v.sheet||v.styleSheet,w=v.deleteRule?"deleteRule":"removeRule",t=v.cssRules?"cssRules":"rules");var E=L.length;L[E]=(v.cssRules||v.rules).length;v.addRule?v.addRule(x,u):v.insertRule(x+"{"+u+"}",L[E]);return{get:function(z){return v[t][L[E]].style[z]},
set:function(z,p){"undefined"!==typeof L[E]&&(v[t][L[E]].style[z]=p)},remove:function(){var z=L[E],p;if(void 0!==z){v[w](z);L[E]=void 0;var m=E+1;for(p=L.length;m<p;m++)L[m]>z&&L[m]--}}}},escapeCssIdentifier:function(x,u){return"string"===typeof x?x.replace(l,u||"\\$1"):x}};return h})},"xstyle/has-class":function(){define(["dojo/has"],function(V){var L={};return function(){for(var v,w=arguments,t=0;t<w.length;t++)if(v=w[t],!L[v]){L[v]=!0;var l=v.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=V(l[2]),
g=-l[4];(0<g?g<=f&&(-l[5]||g)>=f:!!f)==!l[1]&&(document.documentElement.className+=" has-"+v)}}})},"xstyle/css":function(){define(["require"],function(V){function L(v,w,t){var l=document.documentElement;v=l.insertBefore(document.createElement(v),l.firstChild);v.id=w;w=(v.currentStyle||getComputedStyle(v,null)||{})[t];l.removeChild(v);return w}return{load:function(v,w,t,l){function f(u){var E=L("x-parse",null,"content"),z=u&&(u.sheet||u.styleSheet);E&&"none"!=E&&"normal"!=E?w([eval(E)],function(p){u?
p.process(u,t):(p.processAll(),t(z))}):t(z)}var g=w.toUrl(v);if(g.match(/!$/)){var h={wait:!1};g=g.slice(0,-1)}var x=w.cache&&w.cache["url:"+g];if(null!=x)x.xCss&&(x=x.cssText),"string"==typeof x?V(["./core/load-css"],function(u){f(u.insertCss(x))}):f();else{if("none"==L("div",v.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return f();V(["./core/load-css"],function(u){u(g,f,h)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(V,L,v,w,t,l,f,g,h){return v("dgrid.OnDemandList",[V,L],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var x=this;f(this.bodyNode,"scroll",g[this.pagingMethod](function(u){x._processScroll(u)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(x,u){function E(k){h(d,"!");if(k)throw z._refreshDeferred&&(z._refreshDeferred.reject(k),delete z._refreshDeferred),k;}var z=this,p=u&&u.container||this.contentNode,m={query:x,count:0,options:u},e,c=this.preload,a,b={node:h(p,"div.dgrid-preload",{rowIndex:0}),count:0,query:x,next:m,options:u};b.node.style.height="0";m.node=e=h(p,"div.dgrid-preload");m.previous=b;e.rowIndex=this.minRowsPerPage;c?((m.next=c.next)&&e.offsetTop>=c.node.offsetTop?m.previous=c:(m.next=c,m.previous=
c.previous),m.previous.next=m,m.next.previous=m):this.preload=m;var d=h(e,"-div.dgrid-loading");h(d,"div.dgrid-below").innerHTML=this.loadingMessage;u=w.mixin(this.get("queryOptions"),u,{start:0,count:this.minRowsPerPage},"level"in x?{queryLevel:x.level}:null);this._trackError(function(){return a=x(u)});if("undefined"===typeof a)E();else return t.when(z.renderArray(a,e,u),function(k){return t.when("undefined"===typeof a.total?a.length:a.total,function(n){var q=k.length,y=e.parentNode,C=z.noDataNode;
h(d,"!");"queryLevel"in u||(z._total=n);0===n&&y&&(C&&(h(C,"!"),delete z.noDataNode),z.noDataNode=C=h("div.dgrid-no-data"),y.insertBefore(C,z._getFirstRowSibling(y)),C.innerHTML=z.noDataMessage);for(var B=C=0;B<q;B++)C+=z._calcRowHeight(k[B]);q&&C&&(z.rowHeight=C/q);C=z.rowHeight*z.bufferRows;C>z.farOffRemoval&&(z.farOffRemoval=C);n-=q;m.count=n;e.rowIndex=q;n?e.style.height=Math.min(n*z.rowHeight,z.maxEmptySpace)+"px":(e.style.display="none",u.count++);z._previousScrollPosition&&y&&y.offsetHeight&&
(z.scrollTo(z._previousScrollPosition),delete z._previousScrollPosition);z._processScroll();z._refreshDeferred&&(z._refreshDeferred.resolve(a),delete z._refreshDeferred);return k},E)},E),a},refresh:function(x){var u=this,E=x&&x.keepScrollPosition;"undefined"===typeof E&&(E=this.keepScrollPosition);E&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){E=this._refreshDeferred=new t;var z=u.renderQuery(function(p){return u.store.query(u.query,p)});"undefined"===
typeof z&&E.reject();return E.then(function(p){u._refreshTimeout=setTimeout(function(){f.emit(u.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:u,results:p});u._refreshTimeout=null},0);delete u._refreshDeferred;return p},function(p){delete u._refreshDeferred;throw p;})}},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(x){return x.lastChild},_calcRowHeight:function(x){var u=x.nextSibling;return u&&!/\bdgrid-preload\b/.test(u.className)?
u.offsetTop-x.offsetTop:x.offsetHeight},lastScrollTop:0,_processScroll:function(x){function u(M,K,U,Z){var ca=p.farOffRemoval,fa=M.node;if(K>2*ca){for(var ka,ma=fa[U],ra=0,za=0,ia=[];ka=ma;){var T=p._calcRowHeight(ka);if(ra+T+ca>K||0>ma.className.indexOf("dgrid-row")&&0>ma.className.indexOf("dgrid-loading"))break;ma=ka[U];ra+=T;za+=ka.count||1;p.removeRow(ka,!0);ia.push(ka)}M.count+=za;Z?(fa.rowIndex-=za,E(M)):fa.style.height=fa.offsetHeight+ra+"px";var la=h("div",ia);setTimeout(function(){h(la,"!")},
1)}}function E(M,K){M.node.style.height=Math.min(M.count*p.rowHeight,K?Infinity:p.maxEmptySpace)+"px"}function z(M,K){do M=K?M.next:M.previous;while(M&&!M.node.offsetWidth);return M}var p=this,m=p.bodyNode;x=x&&x.scrollTop||this.getScrollPosition().y;m=m.offsetHeight+x;var e=p.preload,c=p.lastScrollTop,a=p.bufferRows*p.rowHeight,b=a-p.rowHeight,d,k,n,q=!0;for(p.lastScrollTop=x;e&&!e.node.offsetWidth;)e=e.previous;for(;e&&e!=y;){var y=p.preload;p.preload=e;var C=e.node;var B=C.offsetTop;if(m+1+b<B)e=
z(e,q=!1);else if(x-1-b>B+C.offsetHeight)e=z(e,q=!0);else{var D=((C.rowIndex?x-a:m)-B)/p.rowHeight;B=(m-x+2*a)/p.rowHeight;B+=Math.min(Math.abs(Math.max(Math.min((x-c)*p.rowHeight,p.maxRowsPerPage/2),p.maxRowsPerPage/-2)),10);0==C.rowIndex&&(D-=B);D=Math.max(D,0);10>D&&0<D&&B+D<p.maxRowsPerPage&&(B+=Math.max(0,D),D=0);B=Math.min(Math.max(B,p.minRowsPerPage),p.maxRowsPerPage,e.count);if(0==B)e=z(e,q);else{B=Math.ceil(B);D=Math.min(Math.floor(D),e.count-B);var F=w.mixin(p.get("queryOptions"),e.options);
e.count-=B;var r=C,A=p.queryRowsOverlap,G=(0<C.rowIndex||C.offsetTop>x)&&e;if(G){var H=e.previous;H&&(u(H,x-(H.node.offsetTop+H.node.offsetHeight),"nextSibling"),0<D&&H.node==C.previousSibling?(D=Math.min(e.count,D),e.previous.count+=D,E(e.previous,!0),C.rowIndex+=D,A=0):B+=D,e.count-=D);F.start=C.rowIndex-A;F.count=Math.min(B+A,p.maxRowsPerPage);C.rowIndex=F.start+F.count}else{if(e.next)if(u(e.next,e.next.node.offsetTop-m,"previousSibling",!0),r=C.nextSibling,r==e.next.node)e.next.count+=e.count-
D,e.next.node.rowIndex=D+B,E(e.next),e.count=D,A=0;else var J=!0;F.start=e.count;F.count=Math.min(B+A,p.maxRowsPerPage)}J&&r&&r.offsetWidth&&(J=r.offsetTop);E(e);"level"in e.query&&(F.queryLevel=e.query.level);if("queryLevel"in F||!(F.start>p._total||0>F.count)){C=h(r,"-div.dgrid-loading[style\x3dheight:"+B*p.rowHeight+"px]");h(C,"div.dgrid-"+(G?"below":"above")).innerHTML=p.loadingMessage;C.count=B;var O=e.query(F);if(void 0===p._trackError(function(){return O})){h(C,"!");return}(function(M,K,U,
Z){n=t.when(p.renderArray(Z,M,F),function(ca){k=Z;r=M.nextSibling;h(M,"!");if(U&&r&&r.offsetWidth){var fa=p.getScrollPosition();p.scrollTo({x:fa.x,y:fa.y+r.offsetTop-U,preserveMomentum:!0})}t.when(Z.total||Z.length,function(ka){"queryLevel"in F||(p._total=ka);K&&(K.count=ka-K.node.rowIndex,0===K.count&&F.count++,E(K))});p._processScroll();return ca},function(ca){h(M,"!");throw ca;})}).call(this,C,G,J,O);e=e.previous}}}}n&&(d=this._refreshDeferred)&&(delete this._refreshDeferred,t.when(n,function(){d.resolve(k)}))},
removeRow:function(x,u){if(x){var E=x.previousSibling,z=x.nextSibling,p;if(p=E)p=E.observerIndex,p=null!=p?p:E.previousObserverIndex;E=p;if(p=z)p=z.observerIndex,p=null!=p?p:z.nextObserverIndex;z=x.observerIndex;x.observerIndex=void 0;u&&(x.nextObserverIndex=p,x.previousObserverIndex=E);if(this.cleanEmptyObservers&&-1<z&&z!==E&&z!==p&&(E=this.observers,p=E[z])){if(!u)for(var m=p.rows,e=0;e<m.length;e++)if(m[e]!=x&&l.isDescendant(m[e],this.domNode))return this.inherited(arguments);p.cancel();this._numObservers--;
E[z]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(V,L,v,w,t,l,f){function g(x){return x}function h(x){if("object"!==typeof x)x=Error(x);else if("cancel"===x.dojoType)return;x.grid=this;t.emit(this.domNode,"dgrid-error",{grid:this,error:x,cancelable:!0,bubbles:!0})}return L("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,
noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};l.before(this,"configStructure",v.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(x){x.set&&(this._columnsWithSet[x.field]=x);this.inherited(arguments)},
_updateNotifyHandle:function(x){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);x&&"function"===typeof x.notify&&this.shouldObserveStore&&(this._notifyHandle=l.after(x,"notify",v.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(x,u,E){this._updateNotifyHandle(x);this.store=x;this.dirty={};this.set("query",u,E)},_setQuery:function(x,u){var E=u&&u.sort;this.query=void 0!==x?x:this.query;this.queryOptions=u||this.queryOptions;this._started&&(E?this.set("sort",
E):this.refresh())},setStore:function(x,u,E){V.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",x,u,E)},setQuery:function(x,u){V.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",x,u)},_getQueryOptions:function(){var x=v.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)x.sort=this._sort;return x},_getQuery:function(){var x=this.query;return"object"==typeof x&&null!=x?v.delegate(x,{}):
x},_setSort:function(x,u){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(x,u){this.inherited(arguments);x&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var x=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return x},renderArray:function(){var x=this,u=this.inherited(arguments);this.store||w.when(u,function(E){E.length&&x.noDataNode&&
f(x.noDataNode,"!")});return u},_onEmptyRender:function(){},insertRow:function(x,u,E,z,p){var m=this.store,e=this.dirty;m=m&&m.getIdentity(x);var c;m in e&&!(m in this._updating)&&(c=e[m]);c&&(x=v.delegate(x,c));return this.inherited(arguments)},updateDirty:function(x,u,E){var z=this.dirty,p=z[x];p||(p=z[x]={});p[u]=E},setDirty:function(x,u,E){V.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(x,u,E)},save:function(){function x(b,d){return function(k){var n=u._columnsWithSet,
q=u._updating,y;if("function"===typeof k.set)k.set(d);else for(y in d)k[y]=d[y];for(y in n){var C=n[y].set(k);void 0!==C&&(k[y]=C)}q[b]=!0;return w.when(E.put(k),function(){delete z[b];delete q[b]})}}var u=this,E=this.store,z=this.dirty,p=new w,m=p.promise,e=function(b){var d;return u.getBeforePut||!(d=u.row(b).data)?function(){return E.get(b)}:function(){return d}},c;for(c in z){var a=x(c,z[c]);m=m.then(e(c)).then(a)}p.resolve();return m},revert:function(){this.dirty={};this.refresh()},_trackError:function(x){"string"==
typeof x&&(x=v.hitch(this,x));try{var u=x()}catch(E){h.call(this,E)}return w.when(u,g,v.hitch(this,h))},newRow:function(){var x=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return x},removeRow:function(x,u){var E={element:x};!u&&this.noDataMessage&&this.up(E).element===x&&this.down(E).element===x&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(V,L,v,w,t,l,f,g,h,x){function u(a,b){for(var d=a.unselectable=b?"on":"",k=a.getElementsByTagName("*"),n=k.length;--n;)"INPUT"!==k[n].tagName&&"TEXTAREA"!==k[n].tagName&&(k[n].unselectable=d)}function E(a,b){var d=a.bodyNode,k=b?"text":21>t("ff")?"-moz-none":"none";p&&"msUserSelect"!==p?d.style[p]=k:t("dom-selectstart")?b||a._selectstartHandle?b&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):a._selectstartHandle=w(d,"selectstart",function(n){var q=n.target&&
n.target.tagName;"INPUT"!==q&&"TEXTAREA"!==q&&n.preventDefault()}):(u(d,!b),b||a._unselectableHandle)?b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle):a._unselectableHandle=f.after(a,"renderRow",function(n){u(n,!0);return n})}t.add("dom-comparedocumentposition",function(a,b,d){return!!d.compareDocumentPosition});t.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});t.add("css-user-select",function(a,b,d){a=d.style;
b=["Khtml","O","ms","Moz","Webkit"];d=b.length;var k="userSelect";do if("undefined"!==typeof a[k])return k;while(d--&&(k=b[d]+"UserSelect"));return!1});t.add("dom-selectstart","undefined"!==typeof document.onselectstart);var z=t("mac")?"metaKey":"ctrlKey",p=t("css-user-select"),m=(g=t("pointer"))&&"MS"===g.slice(0,2),e=g?g+(m?"Down":"down"):"mousedown",c=g?g+(m?"Up":"up"):"mouseup";"WebkitUserSelect"===p&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(p=!1);return L("dgrid.Selection",
null,{selectionDelegate:".dgrid-row",selectionEvents:e+","+c+",dgrid-cellfocusin",selectionTouchEvents:t("touch")?h.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){V.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?E(this,a):E(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(!l.isRight(a)&&this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==c||b==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===e&&this.isSelected(b))this._waitForMouseUp=
b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var d=a.keyCode?a.ctrlKey:a[z];this._lastSelected===b?this.select(b,null,!d||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var d=this._lastSelected,k=a.keyCode?a.ctrlKey:a[z];if(!a.shiftKey){var n=k?null:!0;d=null}this.select(b,d,n);d||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){if(a[z]||
!this.isSelected(b)||1!==this.getSelectedCount())(2===a.button?this.isSelected(b):a.keyCode?a.ctrlKey:a[z])||this.clearSelection(null,!0),this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=this,b=this.contentNode,d=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};t("touch")&&!t("pointer")&&this.selectionTouchEvents?(w(b,h.selector(d,this.selectionTouchEvents),function(k){a._handleSelect(k,
this);a._ignoreMouseSelect=this}),w(b,w.selector(d,this.selectionEvents),function(k){a._ignoreMouseSelect!==this?a._handleSelect(k,this):k.type===c&&(a._ignoreMouseSelect=null)})):w(b,w.selector(d,this.selectionEvents),function(k){a._handleSelect(k,this)});this.addKeyHandler&&this.addKeyHandler(32,function(k){a._handleSelect(k,k.target)});if(this.allowSelectAll)this.on("keydown",function(k){k[z]&&65==k.keyCode&&!/\bdgrid-input\b/.test(k.target.className)&&(k.preventDefault(),a[a.allSelected?"clearSelection":
"selectAll"]())});this._setStore&&f.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(q,y,C){q=y||q&&q[b.idProperty||"id"];if(null!=q&&(y=(q=b.row(q))&&b.selection[q.id]))b[C](q,null,y)}var b=this,d=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(d&&d.notify){var k=f.before(d,"notify",function(q,y){q||a(q,y,"deselect")});var n=f.after(d,"notify",function(q,y){a(q,y,"select")},!0);
this._removeDeselectSignals=function(){k.remove();n.remove()}}else k=f.before(this,"removeRow",function(q,y){var C;y||(C=this.row(q))&&C.id in this.selection&&this.deselect(C)}),this._removeDeselectSignals=function(){k.remove()}},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],d=this._selectionTriggerEvent;var k={bubbles:!0,grid:this};d&&(k.parentType=d.type);k[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];w.emit(this.contentNode,
"dgrid-"+a,k)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,d){"undefined"===typeof d&&(d=!0);a.element||(a=this.row(a));if(!1===d||this.allowSelect(a)){var k=this.selection;var n=!!k[a.id];null===d&&(d=!n);var q=a.element;d||this.allSelected?k[a.id]=d:delete this.selection[a.id];q&&(d?x(q,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):x(q,"!dgrid-selected!ui-state-active"));d!==n&&q&&this._selectionEventQueues[(d?
"":"de")+"select"].push(a);if(b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(k=this._determineSelectionDirection(q,b),k||(b=document.getElementById(b.id),k=this._determineSelectionDirection(q,b));a.element!=b&&(a=this[k](a));)this._select(a,null,d)}else this._lastSelected=q}},_determineSelectionDirection:t("dom-comparedocumentposition")?function(a,b){var d=b.compareDocumentPosition(a);return d&1?!1:2===d?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":
"up"},select:function(a,b,d){this._select(a,b,d);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var d in this.selection)a!==d&&this._select(d,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var a=
0,b;for(b in this.selection)b&&(a+=1);return a},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);v.when(b,function(d){var k=a.selection,n,q;for(n=0;n<d.length;n++){var y=
a.row(d[n]);(q=y.id in k?k[y.id]:a.allSelected)&&a._select(y,null,q)}a._fireSelectionEvents()});return b}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/dom-class dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E){function z(F,r){F.value=r;if("radio"==F.type||"checkbox"==F.type)F.checked=F.defaultChecked=!!r}function p(F,r){if("number"==typeof r)F=
isNaN(F)?F:parseFloat(F);else if("boolean"==typeof r)F="true"==F?!0:"false"==F?!1:F;else if(r instanceof Date){var A=new Date(F);F=isNaN(A.getTime())?F:A}return F}function m(F,r){return"function"==typeof r.get?p(r.get("value")):p(r["checkbox"==r.type||"radio"==r.type?"checked":"value"])}function e(F,r,A,G,H){if((A&&A.valueOf())!=(G&&G.valueOf())){var J=r.element;var O=r.row;var M=r.column;if(M.field&&O)if(r={grid:F,cell:r,rowId:O.id,oldValue:A,value:G,bubbles:!0,cancelable:!0},H&&H.type&&(r.parentType=
H.type),l.emit(J,"dgrid-datachange",r))F.updateDirty?(F.updateDirty(O.id,M.field,G),M.autoSave&&setTimeout(function(){F._trackError("save")},0)):O.data[M.field]=G;else{var K;(K=J.widget)?(K._dgridIgnoreChange=!0,K.set("value",A),setTimeout(function(){K._dgridIgnoreChange=!1},0)):(K=J.input)&&z(K,A);return A}}return G}function c(F,r,A){var G=F.cell(r.domNode||r),H=G.column,J;var O=F._activeCell;if(!r.isValid||r.isValid())if(A=e(F,G,O?F._activeValue:r._dgridLastValue,m(H,r),A),O?F._activeValue=A:r._dgridLastValue=
A,"radio"===r.type&&r.name&&!H.editOn&&H.field)for(J in O=F.row(r),h("input[type\x3dradio][name\x3d"+r.name+"]",F.contentNode).forEach(function(M){var K=F.row(M);M!==r&&M._dgridLastValue&&(M._dgridLastValue=!1,F.updateDirty?F.updateDirty(K.id,H.field,!1):K.data[H.field]=!1)}),F.dirty)O.id!==J&&F.dirty[J][H.field]&&F.updateDirty(J,H.field,!1)}function a(F){var r=F.parentNode||F.domNode&&F.domNode.parentNode;r&&t.contains(r,D)||(r=F.focusNode||F.domNode||F);return r}function b(F){if(F){var r=F.parentNode||
F.domNode&&F.domNode.parentNode;r&&t.contains(r,D)||(r=F.domNode||F);return r}}function d(F,r){isNaN(r)&&(r=isNaN(F.tabIndex)?-1:F.tabIndex);return E("div",{className:D,tabIndex:r},F)}function k(F){var r=F.editor,A=F.editOn,G=F.grid,H="string"!=typeof r;var J=F.editorArgs||{};"function"==typeof J&&(J=J.call(G,F));if(H){var O=new r(J);H=O.focusNode||O.domNode;H.className+=" dgrid-input";g("mac")&&A&&/checkbox|radio/i.test(H.type)?(F=d(O.domNode,F.tabIndex),l(F,"blur",function(){O._dgridIgnoreChange||
c(G,O,{type:"widget"})})):A||O.connect(O,"onChange",function(){O._dgridIgnoreChange||c(G,O,{type:"widget"})})}else{var M=function(K){var U=K.target;"_dgridLastValue"in U&&-1<U.className.indexOf("dgrid-input")&&c(G,U,K)};F.grid._hasInputListener||(G._hasInputListener=!0,G.on("change",function(K){M(K)}));O=H=E(("textarea"==r?"textarea":"input[type\x3d"+r+"]")+".dgrid-input",L.mixin({name:F.field,tabIndex:isNaN(F.tabIndex)?-1:F.tabIndex},J));g("mac")&&A&&/checkbox|radio/i.test(r)&&(F=d(O),O.tabIndex=
0,O.removeAttribute("tabindex"));if(9>g("ie")||g("ie")&&g("quirks"))"radio"==r||"checkbox"==r?l(O,"click",function(K){M(K)}):l(O,"change",function(K){M(K)})}return O}function n(F,r){function A(){var U=H._activeCell;M.blur();"function"===typeof H.focus&&setTimeout(function(){H.focus(U)},J&&9>g("ie")?15:0)}var G=k(F),H=F.grid,J=G.domNode,O=b(G),M=a(G),K=J?function(){G.set("value",G._dgridLastValue)}:function(){z(G,G._dgridLastValue);c(F.grid,G)};l(M,"keydown",function(U){U=U.keyCode||U.which;27==U?
(K(),H._activeValue=G._dgridLastValue,A()):13==U&&!1!==F.dismissOnEnter&&A()});(F._editorBlurHandle=l.pausable(a(G),"blur",function(U){if(!G.dropDown||!G.dropDown.domNode.contains(U.relatedTarget||document.activeElement)){if(U&&U.target){var Z=U.target;if((Z=t.contains(Z,D)&&Z)&&U.relatedTarget===(G.focusNode||G)){Z.focus();return}}c(H,G,{type:"widget"});U=O.parentNode;Z=U.children.length-1;var ca={alreadyHooked:!0},fa=H.cell(O);l.emit(fa.element,"dgrid-editor-hide",{grid:H,cell:fa,column:F,editor:G,
bubbles:!0,cancelable:!1});F._editorBlurHandle.pause();U.removeChild(O);if(fa.row){for(E(fa.element,"!dgrid-cell-editing");Z--;)E(U.firstChild,"!");u.appendIfNode(U,F.renderCell(F.grid.row(U).data,H._activeValue,U,H._activeOptions?L.delegate(ca,H._activeOptions):ca))}H._focusedEditorCell=H._activeCell=H._activeValue=H._activeOptions=null}})).pause();return G}function q(F,r,A,G){var H=F.domNode;H||z(F,G);A.innerHTML="";E(A,".dgrid-cell-editing");E(A,b(F));H&&!r.editOn?r.grid._editorsPendingStartup.push([F,
r,A,G]):y(F,r,A,G)}function y(F,r,A,G){var H=r.grid;F.domNode&&(F._started||F.startup(),F._dgridIgnoreChange=!0,F.set("value",G),setTimeout(function(){F._dgridIgnoreChange=!1},0));F._dgridLastValue=G;H._activeCell&&(H._activeValue=G,l.emit(A,"dgrid-editor-show",{grid:H,cell:H.cell(A),column:r,editor:F,bubbles:!0,cancelable:!1}))}function C(F){for(var r=F._editorsPendingStartup,A=r.length;A--;)y.apply(null,r[A]);F._editorsPendingStartup=[]}function B(F){function r(Z){H.grid._activeCell=O;q(H.editorInstance,
H,O,K);H._editTimer=setTimeout(function(){var ca=a(G);ca.focus&&ca.focus();H._editorBlurHandle&&H._editorBlurHandle.resume();H._editTimer=null;Z.resolve(G)},0)}var A,G;F.column||(F=this.cell(F));if(!F||!F.element)return null;var H=F.column;var J=H.field;var O=F.element.contents||F.element;if(G=H.editorInstance){if(H.grid._activeCell!=O){var M=F.row;var K=(A=this.dirty&&this.dirty[M.id])&&J in A?A[J]:H.get?H.get(M.data):M.data[J];if(!H.canEdit||H.canEdit(F.row.data,K)){var U=new w;F=a(G);F.offsetWidth?
(F.blur(),setTimeout(function(){r(U)},0)):r(U);return U.promise}}}else if(H.editor&&(G=O.widget||O.input))return U=new w,G.focus&&G.focus(),U.resolve(G),U.promise;return null}var D="dgrid-editor-focus-wrapper";L.getObject("dgrid.editor",!0);return dgrid.editor=function(F,r,A){function G(M){var K=M.grid,U;if(!K.edit){K.edit=B;K._editorsPendingStartup=[];J.push(l(K.domNode,".dgrid-input:focusin",function(){K._focusedEditorCell=K.cell(this)}));var Z=K._editorFocusoutHandle=l.pausable(K.domNode,".dgrid-input:focusout",
function(ca){K._focusedEditorCell&&K._focusedEditorCell.element.contains(ca.target)||(K._focusedEditorCell=null)});J.push(Z);J.push(f.before(K,"removeRow",function(ca){var fa=K._focusedEditorCell;ca=K.row(ca);fa&&ca&&fa.row.id===ca.id&&(U=fa,Z.pause(),setTimeout(function(){Z.resume();U=null},0))}));J.push(f.after(K,"insertRow",function(ca){var fa=K.row(ca);U&&U.row.id===fa.id&&K.edit(K.cell(fa,U.column.id));return ca}));J.push(f.after(K,"renderArray",function(ca){x(ca,function(fa){fa.length?C(K):
K._editorsPendingStartup=[]});return ca}));J.push(f.after(K,"_onNotification",function(){C(K)}))}}var H=F.renderCell||u.defaultRenderCell,J=[];F||(F={});F.editor=r=r||F.editor||"text";F.editOn=A=A||F.editOn;var O="string"!=typeof r;F.widgetArgs&&(V.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),F.editorArgs=F.widgetArgs);f.after(F,"init",A?function(){G(F);F.editorInstance=n(F,H)}:function(){var M=F.grid;G(F);O&&J.push(f.before(M,"removeRow",function(K){if(K=(K=M.cell(K,
F.id).element)&&(K.contents||K).widget)M._editorFocusoutHandle.pause(),K.destroyRecursive(),M._editorFocusoutHandle.resume()}))});f.after(F,"destroy",function(){v.forEach(J,function(M){M.remove()});F._editorBlurHandle&&F._editorBlurHandle.remove();F._editTimer&&clearTimeout(F._editTimer);A&&O&&F.editorInstance.destroyRecursive();F.grid.edit=null;F.grid._editorsPendingStartup=null});F.renderCell=A?function(M,K,U,Z){var ca=F.grid;Z&&Z.alreadyHooked||l("TD"==U.tagName?U:U.parentNode,A,function(){ca._activeOptions=
Z;ca.edit(this)});return H.call(F,M,K,U,Z)}:function(M,K,U,Z){if(!F.canEdit||F.canEdit(M,K))M=k(F),q(M,F,U,K),U[O?"widget":"input"]=M;else return H.call(F,M,K,U,Z)};return F}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(V,L,v,w){V=function(t){function l(u,E){var z=t[u];z&&(t[u]=function(p){var m;"put"===u&&(m=t.getIdentity(p));if(x)return z.apply(this,arguments);x=!0;try{var e=z.apply(this,arguments);v(e,function(c){E("object"==
typeof c&&c||p,m)});return e}finally{x=!1}})}var f=[],g=0;t=L.delegate(t);t.notify=function(u,E){g++;for(var z=f.slice(),p=0,m=z.length;p<m;p++)z[p](u,E)};var h=t.query;t.query=function(u,E){E=E||{};var z=h.apply(this,arguments);if(z&&z.forEach){var p=L.mixin({},E);delete p.start;delete p.count;var m=t.queryEngine&&t.queryEngine(u,p),e=g,c=[],a;z.observe=function(b,d){1==c.push(b)&&f.push(a=function(n,q){v(z,function(y){var C=y.length!=E.count,B;if(++e!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var D=-1,F=-1;if(void 0!==q){var r=[].concat(y);m&&!n&&(r=m(y));var A=0;for(B=y.length;A<B;A++){var G=y[A];if(t.getIdentity(G)==q&&!(0>r.indexOf(G))){var H=G;D=A;!m&&n||y.splice(A,1);break}}}m?n&&(m.matches?m.matches(n):m([n]).length)&&(A=-1<D?D:y.length,y.splice(A,0,n),F=w.indexOf(m(y),n),y.splice(A,1),E.start&&0==F||!C&&F==y.length?F=-1:y.splice(F,0,n)):n&&(void 0!==q?F=D:E.start||(F=t.defaultIndex||0,y.splice(F,0,n)));if((-1<D||-1<F)&&(d||!m||D!=F))for(C=c.slice(),A=0;y=C[A];A++)y(n||H,D,F)})});
var k={};k.remove=k.cancel=function(){var n=w.indexOf(c,b);-1<n&&(c.splice(n,1),c.length||f.splice(w.indexOf(f,a),1))};return k}}return z};var x;l("put",function(u,E){t.notify(u,E)});l("add",function(u){t.notify(u)});l("remove",function(u){t.notify(void 0,u)});return t};L.setObject("dojo.store.Observable",V);return V})},"arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/array dojo/dom-form dojo/io-query dojo/json dojo/Deferred dojo/promise/all esri/lang arcgisonline/esriGeowConfig arcgisonline/pages/utils/categories arcgisonline/sharing/util esri/geometry/webMercatorUtils esri/geometry/Extent arcgisonline/sharing/dijit/Role arcgisonline/pages/statusUtil dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){return{addItem:function(b,d,k,n){var q=k&&k.getPortalUser(),y=d&&"/"!==d?d:"",C=b instanceof FormData,B={url:(k&&k.portalUrl)+"content/users/"+(n||q.username)+(y?"/"+y:"")+"/addItem"};d=b&&("FORM"===b.tagName||"FORM"===b.nodeName||C)?"form":"content";var D,F,r,A=new g;B[d]=b;u.self.hasCategorySchema&&B[d].categories&&(C?B[d].categories.value=f.stringify(B[d].categories):B[d].categories=f.stringify(B[d].categories));z.request(B,{usePost:!0}).then(L.hitch(this,
function(G){if(C)if(b.keys)for(r=b.keys(),D={};!(F=r.next()).done;)"file"!==F.value&&(D[F.value]=b.get(F.value));else D=G;else D=B.form?t.toObject(b):b;D.title=L.isArray(D.title)?D.title[0]:D.title;D=L.mixin(G,D,{folderId:y});A.resolve(D)}),function(G){A.reject(G)});return A},updateItem:function(b,d){var k=d&&d.getPortalUser();k=(d&&d.portalUrl)+"content/users/"+(b.owner||k.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/update";var n=L.mixin({},b),q=new g;delete n.owner;
u.self.hasCategorySchema&&n.categories&&(n.categories=f.stringify(n.categories));z.request({url:k,content:n},{usePost:!0}).then(L.hitch(this,function(y){q.resolve(b)}),function(y){q.reject(y)});return q},setCategories:function(b,d){!b.categories||d&&0!==d.length||(d=b.categories);return E.setItemCategories([b.id],d)},addItemResource:function(b,d,k){var n=d&&d.getPortalUser();return z.request({url:(d&&d.portalUrl)+"content/users/"+(b.owner||n.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:
"")+"/items/"+b.id+"/addResources",content:k},{usePost:!0}).then(L.hitch(this,function(q){return q}))},getCloudProviderItemResource:function(b){return z.request({url:u.restBaseUrl+"content/items/"+b.id+"/resources/cloudProvider.json"}).then(L.hitch(this,function(d){return d}))},getPublishParametersForOverwrite:function(b,d){var k=new g;this._fetchPublishParameters(b,d).then(L.hitch(this,function(n){this._fetchServiceInfo(b).then(L.hitch(this,function(q){var y="";"CSV"==d?(y=L.mixin(L.mixin({},q.layers&&
q.layers[0]),{fields:n.layerInfo.fields}),y=L.mixin(n,{layerInfo:y,name:n.name||b.title.replace(/ /g,"_")})):y="Microsoft Excel"==d?this._generateExcelOverwritePublishParameters(n,q):{name:b.title?b.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};y=q?L.mixin(y,q):y;k.resolve(y)}),L.hitch(this,function(q){k.reject(q)}))}),L.hitch(this,function(n){k.reject(n)}));return k},_fetchPublishParameters:function(b,d){var k=u.restBaseUrl+"content/items/"+b.id+"/info/publishParameters.json";!d||"CSV"!==
d&&"Microsoft Excel"!==d?(k=new g,k.resolve(!1)):k=z.request({url:k}).then(L.hitch(this,function(n){return n}));return k},_fetchServiceInfo:function(b){b=b.url;var d={addToken:(z.isHostedService(b)||z.isAgolService(b))&&!1!==u.isMultiTenant},k=new g,n;h([z.request({url:b},d),z.request({url:b+"/layers"},d)]).then(L.hitch(this,function(q){var y={},C=q&&1<q.length&&q[1],B=C&&C.layers;C=C&&C.tables;B&&B.length&&(w.forEach(B,function(D){delete D.fields}),y.layers=B);C&&C.length&&(y.tables=C);n=L.mixin(q[0],
y);k.resolve(n)}));return k},_generateExcelOverwritePublishParameters:function(b,d){d.name=b.name;d.sourceSR=b.sourceSR;d.targetSR=b.targetSR;for(var k=0;k<d.tables.length;k++)"Review"!=d.tables[k].name&&(d.layers[d.layers.length]=d.tables[k]);for(k=0;k<d.layers.length;k++)d.layers[k].excelSheetId=b.layers[k].excelSheetId,d.layers[k].locationType=b.layers[k].locationType,d.layers[k].latitudeFieldName=b.layers[k].latitudeFieldName,d.layers[k].longitudeFieldName=b.layers[k].longitudeFieldName,d.layers[k].geocodeServiceUrl=
b.layers[k].geocodeServiceUrl,d.layers[k].sourceLocale=b.layers[k].sourceLocale,d.layers[k].sourceCountry=b.layers[k].sourceCountry,d.layers[k].standardizedFieldNames=b.layers[k].standardizedFieldNames,d.layers[k].addressFields=b.layers[k].addressFields;return d},deleteItem:function(b,d){var k=(d&&d.getPortalUser()).userContentUrl+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/delete";return z.request({url:k},{usePost:!0})},publishItem:function(b,d,k){var n=(k&&k.getPortalUser()).username;
k=(k&&k.portalUrl)+"content/users/"+n+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/publish";var q=new g;d.publishParameters=f.stringify(d.publishParameters);z.request({url:k,content:d},{usePost:!0}).then(L.hitch(this,function(y){if(u.self.hasCategorySchema&&b.categories){var C=[];(y.services||[]).forEach(function(B){C.push(this.setCategories({id:B.id,categories:b.categories}))},this);h(C).then(L.hitch(this,function(){q.resolve(L.mixin(b,{publishResult:y.services||[]}))}))}else q.resolve(L.mixin(b,
{publishResult:y.services||[]}))}),function(y){q.reject(y)});return q},createService:function(b,d,k,n){var q=new g,y,C=n&&n.getPortalUser();z.request({url:(n&&n.portalUrl)+"content/users/"+(b.owner||C.username)+"/createService",content:d},{usePost:!0}).then(function(B){return y=B}).then(L.hitch(this,this.addToDefinition,k)).then(L.hitch(this,function(B){q.resolve(L.mixin(b,{createResult:B||[]}))}),L.hitch(this,function(B){this.deleteItem(L.mixin(y,{id:y.itemId}),n).then(function(){q.reject(B)})}));
return q},addToDefinition:function(b,d){var k=new g;if(b){var n=d.encodedServiceURL.replace("rest/services","rest/admin/services");z.request({url:n+"/addToDefinition",content:{addToDefinition:b,async:!0}},{usePost:!0}).then(function(q){return c.checkAsyncJobStatus(q.statusURL)}.bind(this),function(q){k.reject(q)}.bind(this)).then(L.hitch(this,function(q){k.resolve(L.mixin(d,{addToDefinitionResult:q}))}),function(q){k.reject(q)})}else k.resolve(d);return k},moveItem:function(b,d,k){var n=new g,q=k&&
k.getPortalUser();q=b.owner||q.username;k=(k&&k.portalUrl)+"content/users/"+q+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/move";q={folder:d&&d!==q?d:"/"};(b.folderId||"/")!==q.folder?z.request({url:k,content:q},{usePost:!0}).then(L.hitch(this,function(y){n.resolve(L.mixin(b,{folderId:d}))})):n.resolve(b);return n},serviceNameAvailable:function(b,d){var k=d&&d.getPortalUser(),n={name:b.title.replace(/ /g,"_"),type:b.type||"Feature Service"};return z.request({url:d.url+"portals/"+
k.orgId+"/isServiceNameAvailable",content:n})},analyzeItem:function(b,d,k){d=L.mixin({enableGlobalGeocoding:!0,sourceLocale:v.locale.split("-")[0]},d||{});b=L.mixin({},{analyzeParameters:d,filetype:b.fileType||b.type&&b.type.toLowerCase()||"",itemid:b.id});k=k.url+"/content/features/analyze";b.analyzeParameters=f.stringify(b.analyzeParameters);return z.request({url:k,content:b},{usePost:!0})},createTemplatedApplication:function(b,d,k,n){var q=b,y=n&&n.sharing?n.sharing:{},C=n&&n.isEveryoneChecked?
n:null,B=L.isArray(d.typeKeywords)?-1<w.indexOf(d.typeKeywords,"selfConfigured"):-1<d.typeKeywords.indexOf("selfConfigured"),D=L.isArray(d.typeKeywords)?-1<w.indexOf(d.typeKeywords,"configurableApp"):-1<d.typeKeywords.indexOf("configurableApp");n=L.isArray(d.typeKeywords)?-1<w.indexOf(d.typeKeywords,"Web AppBuilder for ArcGIS"):-1<d.typeKeywords.indexOf("Web AppBuilder for ArcGIS");var F,r=L.hitch(this,function(G){var H=new g;if(G.shareWithWebMap){var J=u.restBaseUrl+"content/items/"+G.id+"/share",
O="public"===y.access||C&&C.isEveryoneChecked()||!1,M="org"===y.access||C&&C.isAccountChecked()||!1,K=y.groups||C&&C.getSharedGroups()||[];K=w.map(K,"return item.id;");O={f:"json",everyone:O,org:M,groups:K.join(","),items:[G.id]};u.self.hasCategorySchema&&O.categories&&(O.categories=f.stringify(O.categories));z.request({url:J,content:O},{usePost:!0}).then(L.hitch(this,function(){H.resolve(G)}))}else H.resolve(G);return H});if(q&&n)return b=new g,q.folderId&&"/"!==q.folderId&&(q.folder=q.folderId),
n=window.location.protocol+"//"+window.location.host+z.getHomeAppContext()+"/apps/webappbuilder/index.html?",n+=l.objectToQuery({title:q.title,tags:q.tags,summary:q.description,folder:q.folder,categories:q.categories&&q.categories.length?f.stringify(q.categories):void 0}),b.resolve(L.mixin(q,{configureUrl:n})),b;if(q){n=z.parseUrl(d.url);delete b.typeKeywords;var A=window.location.protocol+"//"+n.host+(n.port&&"443"!==n.port&&"80"!==n.port?":"+n.port:"")+n.path;A="https:"===window.location.protocol?
z.getSecureUrl(A):z.getHttpUrl(A);q=L.mixin({type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, JavaScript, Ready To Use"+(B?" ,selfConfigured":"")+(D?", configurableApp":""),thumbnailURL:z.getStaticImagesUrl()+"/webapp.png",url:A},q);q.text=f.stringify(L.mixin({},{source:d.id,folderId:q.folderId,values:b.webSceneId?{webscene:b.webSceneId}:b.webMapId?{webmap:b.webMapId}:b.groupId?{group:b.groupId}:{}}));return this.addItem(q,q.folderId,k).then(L.hitch(this,function(G){return r(L.mixin(q,
{id:G.id})).then(L.hitch(this,function(H){var J=H.url.indexOf("?"),O=-1!==J?H.url.substr(J,H.url.length):"";O+=O&&O.length?"\x26":"?";O+="appid\x3d"+G.id;A=H.url.substr(0,-1!==J?J:H.url.length)+O;return this.updateItem({id:G.id,url:A,folderId:H.folderId},k).then(L.hitch(this,function(){return B?(F=B?A+"\x26edit\x3dtrue":u.baseUrl+("webmap/configureApp.html?appid\x3d"+G.id),F+=G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:"",L.mixin(H,G,{configureUrl:F,url:A})):D?(F=window.location.protocol+
"//"+window.location.host+z.getHomeAppContext()+"/apps/configure-template/index.html?appid\x3d"+G.id,L.mixin(H,G,{configureUrl:F,url:A})):z.request({url:u.restBaseUrl+"content/items/"+d.id+"/data"}).then(L.hitch(this,function(M){F=M&&M.configurationSettings?u.baseUrl+"webmap/configureApp.html?appid\x3d"+G.id+(G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:""):u.baseUrl+"item.html?id\x3d"+G.id;return L.mixin(H,G,{configureUrl:F,url:A})}))}))}))}),L.hitch(this,function(G){G&&409===G.code&&
(G=q,G={title:a.addItemFrm.errors.error.title,message:x.substitute({type:G.type,title:G.title},a.addItemFrm.errors.itemExists.message)});throw G;}))}},checkStatus:function(b,d,k,n){var q=(n&&n.getPortalUser()).userContentUrl;b?z.request({url:q+"/items/"+b.id+"/status",content:{jobId:b.jobId}}).then(L.hitch(this,function(y){y=y||{status:"failed"};if("completed"===y.status)return d.resolve(b);if("failed"===y.status||""===y.status)return y=c.getStatusError(y),d.reject({message:y});k=(k||500)+250;setTimeout(L.hitch(this,
function(){this.checkStatus(b,d,k,n)}),k)}),L.hitch(this,function(y){d.reject(y)})):d.reject()},_getBatchGeocodeServers:function(b){if(!this._batchGeocoderServers){var d=b.getPortalUser(),k=-1<w.indexOf(d.privileges,"portal:user:createItem")&&-1<w.indexOf(d.privileges,"premium:user:geocode"),n=/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/ig,q=/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/ig,y,C,B=[];w.forEach(b.helperServices&&b.helperServices.geocode||[],function(D){y=
!!D.url.match(n);C=!!D.url.match(q);(y&&!b.isPortal&&k||C||D.batch)&&B.push({isWorldGeocodeServer:y||C,isWorldGeocodeServerProxy:C,label:D.name,value:D.url,url:D.url,name:D.name})});this._batchGeocoderServers=B}return this._batchGeocoderServers},getPortalDefaultExtentAsGCS:function(b){if(b=b.defaultExtent||null){b=p.webMercatorToGeographic(new m(b));var d=b.spatialReference._getInfo();if(d){if(b.xmin>b.xmax){var k=d.valid[1]-b.xmin,n=b.xmax-d.valid[0];k>n?b.xmax=d.valid[1]+n:b.xmin=d.valid[0]-k}return Math.round(1E4*
b.xmin)/1E4+","+Math.round(1E4*b.ymin)/1E4+","+Math.round(1E4*b.xmax)/1E4+","+Math.round(1E4*b.ymax)/1E4}}return null},itemExists:function(b,d,k){var n=b.title;k=k&&"/"!==k?k:"root";var q="Data Store"===b.type?b.type.toLowerCase():b.type;d={q:'title:"'+n+'" AND type:"'+q+'" AND owner:"'+d+'" AND ownerfolder:"'+k+'"',num:1};var y,C=new dojo.Deferred;z.request({url:u.restBaseUrl+"search",content:d}).then(function(B){B&&B.total?(y=B.results&&B.results.shift(),b&&b.id===y.id||n!==y.title?C.resolve({itemExists:!1}):
(B=b.isFile?x.substitute({type:b.fileExtension,item:b.item,name:b.name||b.title,title:b.title},a.addItemFrm.errors.itemExistsFile.message):x.substitute({type:q,item:b.item,title:n},a.addItemFrm.errors.itemExists.message),C.resolve({itemExists:!0,message:B}))):C.resolve({itemExists:!1})}.bind(this));return C},noSQLCheck:function(b,d){return b.connectionUri===d.noSQLConnectionURI&&b.database===d.noSQLDataBase&&b.username===d.noSQLUsername},getAllNoSQLDatastorePromises:function(b){var d=new g,k=[];z.request({url:u.restBaseUrl+
"search?q\x3dtype%3A'Data+Store'\x26bbox\x3d\x26sortField\x3d\x26sortOrder\x3d"}).then(function(n){if(n&&n.total){var q=[];n.results.forEach(function(y){y.typeKeywords.includes("nosql")&&q.push(y)});0!==q.length&&q.forEach(function(y){k.push(function(){var C=new g;z.request({url:u.restBaseUrl+"content/items/"+y.id+"/data"}).then(function(B){this.noSQLCheck(B.info.connectionProperties,b)?C.resolve({itemExists:!0}):C.resolve({itemExists:!1})}.bind(this));return C}.call(this))}.bind(this))}d.resolve({allPromises:k})}.bind(this));
return d},checkForDuplicateNoSQL:function(b){var d=new g;this.getAllNoSQLDatastorePromises(b).then(function(k){h(k.allPromises).then(function(n){var q;0!==n.length?(n.forEach(function(y){!0===y.itemExists&&(q=!0)}),q?d.resolve({itemExists:!0}):d.resolve({itemExists:!1})):d.resolve({itemExists:!1})})}.bind(this));return d},hasCreateLayer:function(b){var d={managed:!0},k=b&&(b.user||b.getPortalUser&&b.getPortalUser()),n=new e({portalUser:k}),q,y,C,B,D;if(b.isPortal&&k&&(n.isBasedOnAdmin()||n.isBasedOnPublisher()))return b.getFederatedServers().then(L.hitch(this,
function(F){(y=(q=w.filter(F.servers||[],L.hitch(this,function(r){return r.isHosted})))&&q.length?q[0]:null)?(C=y.adminUrl+"/admin/data/findItems",D=z.request({url:C,content:d},{useProxy:!0}).then(L.hitch(this,function(r){return(B=w.filter(r.items||r||[],L.hitch(this,function(A){return A&&A.provider&&"arcgis data store"===A.provider.toLowerCase()})))&&B.length?!0:!1}),L.hitch(this,function(r){return!1}))):(D=new g,D.resolve(!1));return D}));b=new g;b.resolve(!0);return b}}})},"arcgisonline/pages/statusUtil":function(){define("require exports tslib dojo/Deferred dojo/on dojo/json dojo/topic esri/lang esri/urlUtils ./pageUtil ./utils/arrays ./utils/polling esri/tasks/Geoprocessor ../sharing/util dojo/i18n!../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);return function(){function e(){}e.checkStatus=function(c){var a=new w["default"],b=this.getJobUrl(c),d=this.getJobId(c),k=p["default"].isPortal(),n="Scene Service"===c.type,q=k&&n&&!this.isSceneFromFeatures(c);
c.canUpdate&&c.isHostedService&&!c.isUtilityNetwork&&("Feature Service"===c.type||(k||b&&d)&&"Image Service"===c.type||n||"Vector Tile Service"===c.type||k&&"Map Service"===c.type)?(c.set("status","processing"),b&&d?this.checkJobStatus(c,500):n&&!q||!(d||"Feature Service"===c.type&&(this.isFeaturesFromPackage(c)||this.isFeaturesFromExcel(c))||"Map Service"===c.type&&!this.isTileFromFeatures(c)||"Vector Tile Service"===c.type&&c.sourceData&&!this.isVectorTileFromFeatures(c))?k||this.isVectorTileFromFeatures(c)?
c.set("status","completed"):this.checkServiceStatus(c,500,a):"Vector Tile Service"===c.type&&c.sourceData&&this.isVectorTileFromPackage(c)||"Feature Service"===c.type&&this.isFeaturesFromExcel(c)?this.checkItemStatusCallSupport(c,500,a):(c.set("firstStatus",!0),this.checkItemStatus(c,500,a))):c.set("status","completed");a.resolve(c);return a};e.checkItemStatusCallSupport=function(c,a,b){var d=this;this.supportsItemStatusCall(c).then(function(k){k?(c.set("firstStatus",!0),d.checkItemStatus(c,a,b)):
d.checkServiceStatus(c,a,b)})};e.supportsItemStatusCall=function(c){return p["default"].request({url:c.userItemUrl+"/status",content:{jobId:c.jobId}}).then(function(a){var b;return"item status doesn't exist"===(null===(b=null===a||void 0===a?void 0:a.statusMessage)||void 0===b?void 0:b.toLowerCase())?!1:!0},function(){return!1})};e.isFeaturesFromPackage=function(c){var a,b=null===(a=c.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===c.type&&0<(null===b||void 0===b?void 0:b.indexOf("Package"))};
e.isFeaturesFromExcel=function(c){var a,b=null===(a=c.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===c.type&&"Microsoft Excel"===b};e.isTileFromFeatures=function(c){var a;return"Map Service"===c.type&&"Feature Service"===(null===(a=c.sourceData)||void 0===a?void 0:a.type)};e.isSceneFromFeatures=function(c){var a;return"Scene Service"===c.type&&"Feature Service"===(null===(a=c.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromFeatures=function(c){var a;return"Vector Tile Service"===
c.type&&"Feature Service"===(null===(a=c.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromPackage=function(c){var a,b;return"Vector Tile Service"===c.type&&0<(null===(b=null===(a=c.sourceData)||void 0===a?void 0:a.type)||void 0===b?void 0:b.indexOf("Package"))};e.getJobId=function(c){var a=h["default"].urlToObject(document.URL),b=c.properties||{};c.jobId=c.jobId||b.jobId||a&&a.query&&a.query.jobid||null;return c.jobId};e.getJobUrl=function(c){var a=(c.properties&&c.properties.jobUrl||"").split("/jobs/");
c.jobUrl=a.shift();c.jobId=c.jobUrl?a.shift():null;return c.jobUrl};e.checkItemStatus=function(c,a,b){var d=this,k;void 0===a&&(a=500);var n=c.portal.isPortal,q=c.userItemUrl+"/status",y={jobId:c.jobId};"image service"===(null===(k=c.type)||void 0===k?void 0:k.toLowerCase())&&(y.jobType="publishImageService");p["default"].request({url:q,content:y}).then(function(C){C=C||{status:"failed"};var B=n&&"failed"===C.status&&-1<C.statusMessage.toLowerCase().indexOf("job not found.");"completed"===C.status||
B?c.set({firstStatus:void 0,status:"completed",readyForGeocodeReview:!0,readyToRetrieveServiceLayers:!0}):"failed"===C.status||400<C.code||""===C.status?(c.set("statusError",d.getStatusError(C)),c.set("status","failed")):(c.set("status","processing"),C.jobInfo.jobId&&(c.set("jobId",C.jobInfo.jobId),c.firstStatus?c.set({firstStatus:!1,status:"completed"}):c.set("status","processing")),a+=250,setTimeout(function(){return d.checkItemStatus(c,a,b)},a))},function(C){c.set("statusError",d.getStatusError(C));
c.set("status","failed")})};e.checkServiceStatus=function(c,a,b){var d=this;void 0===a&&(a=500);var k=c.adminUrl+"/status",n={};if("Scene Service"===c.type||"Vector Tile Service"===c.type)k=c.adminUrl;c.adminServerToken&&(n.token=c.adminServerToken);p["default"].request({url:k,content:n},{useProxy:p["default"].shouldUseProxy(k)}).then(function(q){var y,C;q.status=(null===(y=q.realTimeState)||void 0===y?void 0:y.toLowerCase())||(null===(C=q.status)||void 0===C?void 0:C.toLowerCase())||(q.currentVersion&&
q.capabilities?"started":"failed");if("Scene Service"===c.type||"Vector Tile Service"===c.type)q.status="PROCESSING"===q.cacheExecutionStatus||"SUBMITTED"===q.cacheExecutionStatus?"processing":"started";"started"===q.status?c.set({status:"completed",readyForGeocodeReview:!0}):"failed"===q.status||400<q.code||""===q.status?(c.set("statusError",d.getStatusError(q)),c.set("status","failed")):(c.set("status","processing"),a+=250,setTimeout(function(){return d.checkServiceStatus(c,a,b)},a))},function(q){c.set("statusErrorCode",
null===q||void 0===q?void 0:q.code);c.set("statusError",d.getStatusError(q));c.set("status","failed")})};e.checkVectorTileServiceJobStatus=function(c,a,b){var d=this;void 0===a&&(a=500);void 0===b&&(b=0);var k=new w["default"];if("Vector Tile Service"===c.type){var n=c.adminUrl,q={},y=null!==b&&void 0!==b?b:0;c.adminServerToken&&(q.token=c.adminServerToken);p["default"].request({url:n,content:q},{useProxy:p["default"].shouldUseProxy(n)}).then(function(C){C.code?10<y?(c.set("statusErrorCode",null===
C||void 0===C?void 0:C.code),c.set("statusError",d.getStatusError(C)),c.set("status","failed"),k.resolve(C)):(a+=1E3,setTimeout(function(){d.checkVectorTileServiceJobStatus(c,a,y+1)},a)):(C.status="PROCESSING"===C.cacheExecutionStatus||"SUBMITTED"===C.cacheExecutionStatus?"processing":"started","started"===C.status?(c.set("status","completed"),k.resolve(C)):"failed"===C.status||400<C.code||""===C.status?(c.set("statusError",d.getStatusError(C)),c.set("status","failed"),k.resolve(C)):(c.set("status",
"processing"),a+=1E3,setTimeout(function(){return d.checkVectorTileServiceJobStatus(c,a)},a)))},function(C){10<y?(c.set("statusErrorCode",null===C||void 0===C?void 0:C.code),c.set("statusError",d.getStatusError(C)),c.set("status","failed"),k.resolve(C)):(a+=1E3,setTimeout(function(){d.checkVectorTileServiceJobStatus(c,a,y+1)},a))})}else k.resolve();return k};e.checkJobStatus=function(c,a){var b=this,d;void 0===a&&(a=3E3);var k=null===(d=(c.portal.getPortalUser()||{}).credential)||void 0===d?void 0:
d.token,n=c.jobId;d=c.jobUrl;var q=c.properties;if(q&&"processing"===q.jobStatus){c.set("status","processing");var y=new z["default"](d+(k?"?token\x3d"+k:""));t["default"](y,"status-update",function(B){"esriJobExecuting"!==B.jobInfo.jobStatus?(c.set("status","completed"),C&&clearInterval(C)):c.set("status","processing")});t["default"](y,"error",function(B){var D;B=B.error||B;(null===(D=null===B||void 0===B?void 0:B.message)||void 0===D?0:D.indexOf("not found."))?(c.set("status","completed"),q&&(q.jobId&&
delete q.jobId,q.jobUrl&&delete q.jobUrl,q.jobStatus&&delete q.jobStatus,q.jobType&&delete q.jobType,c.set("properties",q))):(c.set("statusError",b.getStatusError(B)),c.set("status","failed"));C&&clearInterval(C)});var C=setInterval(function(){return y.checkJobStatus(n)},a)}else c.set("status","completed")};e.checkSceneCachingJobStatus=function(c,a,b,d){var k=this;void 0===a&&(a=3E3);var n=p["default"].isPortal(),q=!(!c.portalUser||!c.portalUser.isOrgAdmin),y=c.cachingJobUrl||c.properties&&c.properties.cacheJobUrl,
C=n?["esriJobSucceeded","esriJobFailed","esriJobCancelled"]:["Completed","Failed"],B=n?"esriJobFailed":"Failed",D=n?"jobStatus":"status",F=n?y:c.adminUrl+"/"+y;n&&q&&(F=F.replace("/rest/","/admin/").replace("/SceneCachingControllers/GPServer/","/SceneCachingControllers.GPServer/"),D="status");var r=n?{useProxy:p["default"].shouldUseProxy(F)}:{};if(y)var A=setInterval(function(){p["default"].request({url:F},r).then(function(G){d&&f["default"].publish(d,G);u["default"].includes(C,G[D])?(G[D]===B&&(c.set("status",
"failed"),b&&b.reject(G)),clearInterval(A),c.set("cachingJobUrl",void 0),c.set("status","completed"),b&&b.resolve(G)):c.set("status","processing")},function(G){var H;(null===(H=null===G||void 0===G?void 0:G.message)||void 0===H?0:H.indexOf("not found."))?(c.set("cachingJobUrl",void 0),c.set("status","completed"),b&&b.resolve()):(c.set("statusError",k.getStatusError(G)),c.set("status","failed"),b&&b.reject(G))})},a);else c.set("cachingJobUrl",void 0),c.set("status","completed"),b&&b.resolve({})};e.getStatusError=
function(c){var a=(null===c||void 0===c?void 0:c.statusMessage)||m["default"].addItemFrm.errors.publishError.message;return a?x["default"].isJson(a)?l["default"].parse(a):a:c};e.checkAsyncJobStatus=function(c,a){var b=new w["default"],d=0,k,n=function(){p["default"].request({url:c},a).then(function(q){q=q||{status:"Failed"};k=q.status||q.jobStatus;k=g["default"].isDefined(k)?k.toLowerCase():k;u["default"].includes(["esrijobsucceeded","completed"],k)?b.resolve(q):u["default"].includes(["esrijobfailed",
"failed"],k)||400<q.code?b.reject(q):setTimeout(n,E["default"].asyncIntervalTimerFunction(d++))},function(q){b.reject(q)})};setTimeout(n,E["default"].asyncIntervalTimerFunction(d++));return b};e.checkAsyncJobStatusWithVaryingInterval=function(c,a){var b=new w["default"],d=0,k,n=function(){setTimeout(function(){d++;p["default"].request({url:c}).then(function(q){q=q||{status:"Failed"};k=q.status||q.jobStatus;k=g["default"].isDefined(k)?k.toLowerCase():k;u["default"].includes(["esrijobsucceeded","completed"],
k)?b.resolve(q):u["default"].includes(["esrijobfailed","failed"],k)||400<q.code?b.reject(q):n()},function(q){return b.reject(q)})},a(d))};n();return b};e.getEndTime=function(c){var a=p["default"].isPortal();if(((null===c||void 0===c?0:c.startTime)||(null===c||void 0===c?0:c.submittedTime))&&((null===c||void 0===c?0:c.totalTime)||(null===c||void 0===c?0:c.duration))){var b=(a?c.submittedTime:c.startTime)||0;b=a?b:1E3*b;c=a?g["default"].isDefined(c.duration)?c.duration:void 0:g["default"].isDefined(c.totalTime)?
1E3*c.totalTime:void 0;return b+c}if(a&&c.jobStatus&&c.messages&&(c=u["default"].find(c.messages||[],function(k){return"esriJobMessageTypeInformative"===k.type&&0===k.description.indexOf("Succeeded at ")})))try{b=c.description.indexOf(" (Elapsed Time: ");var d=c.description.substring(14,b).trim();return(new Date(d)).getTime()}catch(k){}};return e}()})},"arcgisonline/pages/utils/polling":function(){define(["require","exports"],function(V,L){function v(w){return 1E3*L.ASYNC_POLLING_INTERVALS[-1<w&&
w<L.ASYNC_POLLING_INTERVALS.length-1?w:L.ASYNC_POLLING_INTERVALS.length-1]}Object.defineProperty(L,"__esModule",{value:!0});L.asyncIntervalTimerFunction=L.ASYNC_POLLING_INTERVALS=void 0;L.ASYNC_POLLING_INTERVALS=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];L.asyncIntervalTimerFunction=v;L["default"]={ASYNC_POLLING_INTERVALS:L.ASYNC_POLLING_INTERVALS,asyncIntervalTimerFunction:v}})},"arcgisonline/sharing/utilShare":function(){define("require exports tslib ../esriGeowConfig ./util ./dijit/dialog/ShareCheckDlg ./dijit/dialog/ConfirmDialog ./geow/Community dojo/promise/all dojo/Deferred dojo/string esri/lang esri/request dojo/i18n!../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(){}m.isEmpty=function(e){return e?JSON.stringify(e)===JSON.stringify({}):!1};m.checkWebMapContent=function(e){var c=this,a=function(b){var d={};d.webMapId=b.webMapId;d.mainItemCard=
b.webMapItemCard;delete d.mainItemCard.needsUpdate;d.mainItemSharing=b.webMapItemSharing;d.mainConfig=b.webMapConfig;d.itemCards=b.itemCards||{};for(var k in d.itemCards)delete d.itemCards[k].needsUpdate;d.itemsSharing={};d.newAccess=b.newAccess;d.needUpdateHandler=b.needUpdateHandler;d.dontNeedUpdateHandler=b.dontNeedUpdateHandler;d.confirmItemControl=b.confirmItemControl;c.getMainItemCard(d)};e.useTimer?(this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout(function(){c.waitHandler=
null;a(e)},2E3)):a(e)};m.checkWebAppContent=function(e){var c={};c.webAppId=e.webAppId;c.mainItemCard=e.webAppItemCard;c.mainItemSharing=e.webAppItemSharing;c.mainConfig=e.webAppConfig;c.itemCards=e.itemCards||{};c.itemsSharing={};this.getMainItemCard(c)};m.getMainItemCard=function(e){var c=this,a=function(b){b.newAccess?(b.mainItemSharing=b.newAccess,c.getMainConfig(b)):"private"!==b.mainItemCard.access&&("shared"===b.mainItemCard.access?c.getMainSharingInfo(b):c.getMainConfig(b))};e.mainItemCard?
a(e):t["default"].request({url:w["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)}).then(function(b){e.mainItemCard=b;a(e);return!0},function(b){return b})};m.getMainSharingInfo=function(e){var c=this;if(e.mainItemSharing)this.getMainConfig(e);else{var a=t["default"].getUser();a=w["default"].restBaseUrl+"content/users/"+a.username;e.mainItemCard.ownerFolder&&(a+="/"+e.mainItemCard.ownerFolder);a+="/items/"+(e.webMapId||e.webAppId);var b=t["default"].getToken();z["default"]({url:a+
(b?"?f\x3djson\x26token\x3d"+b:"?f\x3djson"),callbackParamName:"callback",load:function(d){e.mainItemSharing=d.sharing;c.getMainConfig(e)},error:function(d){c.getMainConfig(e)}},{disableIdentityLookup:!0})}};m.getMainConfig=function(e){var c=this;if(e.mainConfig)e.webMapId?this.readWebMapConfig(e):this.readWebAppConfig(e);else return t["default"].request({url:w["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)+"/data"}).then(function(a){e.mainConfig=a;e.webMapId?c.readWebMapConfig(e):
c.readWebAppConfig(e)},function(a){})};m.checkForItemSharing=function(e){var c=this;if(e.newAccess&&"shared"!==e.newAccess.access||!e.newAccess&&"shared"!==e.mainItemCard.access)this.checkAccessOfItems(e);else{var a=[],b;for(b in e.itemCards){var d=e.itemCards[b];"shared"!==d.access&&"org"!==d.access||!d.ownerFolder&&null!==d.ownerFolder||a.push(this.getItemSharingInfo(d))}a.length?h["default"](a).then(function(k){k.forEach(function(n){n=n.length?n[1]:n;e.itemsSharing[n.item.id]=n.sharing});c.checkAccessOfItems(e)}):
this.checkAccessOfItems(e)}};m.checkAccessOfItems=function(e){var c=this,a=t["default"].getUser(),b=e.newAccess?e.newAccess.access:e.mainItemCard.access,d=[],k;for(k in e.itemCards){var n=e.itemCards[k];"shared"===b&&"public"!==n.access&&e.mainItemSharing&&void 0!==n.ownerFolder&&a.username!==n.owner&&d.push(this.getOwnerGroups(n,e))}d.length?h["default"](d).then(function(q){c._checkAccessOfItems(e)}):this._checkAccessOfItems(e)};m._checkAccessOfItems=function(e){var c=this,a=!1,b=e.newAccess?e.newAccess.access:
e.mainItemCard.access,d=[],k;for(k in e.itemCards){var n=e.itemCards[k],q=n.access,y=!1;e.containsPremiumContent=this.isPremiumContent(n);if("public"===b&&"public"!==q)y=!0;else if("org"===b&&"public"!==q&&"org"!==q)y=!0;else if("shared"===b&&"private"===q)y=!0;else if("shared"!==b||"shared"!==q&&"org"!==q)"Web Map"!==n.type&&"Web Scene"!==n.type?delete e.itemCards[k]:e.itemCards[k].needsUpdate=!1;else if(e.mainItemSharing)if(e.itemsSharing[k]&&void 0!==n.ownerFolder){q=e.mainItemSharing.groups;for(var C=
e.itemsSharing[k].groups,B=!1,D=0;D<q.length;D++)if(-1===C.indexOf(q[D])){B=y=!0;break}B||delete e.itemCards[k]}else y=!0;else y=!0;(y&&e.webAppId||"Web Map"===n.type||"Web Scene"===n.type)&&d.push(this.checkWebMapInWebApp(n.id,e));a=a||y}var F=function(r,A){var G=A.newAccess?A.newAccess.access:A.mainItemCard.access;r?A.needUpdateHandler?A.needUpdateHandler(A):l["default"].prototype.statics.getInstance().show(A):"public"===G&&"Web Map"===A.mainItemCard.type&&A.containsPremiumContent?c.showPremiumContentDlg(A):
A.dontNeedUpdateHandler&&A.dontNeedUpdateHandler(A)};d.length?h["default"](d).then(function(r){r.forEach(function(A){1<A.length&&E["default"].isDefined(A.length?A[1]:A)&&(a=a||A.length?A[1]:A)});F(a,e)}):this.isEmpty(e.itemCards)?e.dontNeedUpdateHandler&&e.dontNeedUpdateHandler(e):F(a,e)};m.isPremiumContent=function(e){e=e.typeKeywords||[];return-1<e.indexOf("Requires Subscription")||-1<e.indexOf("Requires Credits")};m.showPremiumContentDlg=function(e){var c=this;-1<document.location.href.indexOf("viewer.html")||
(e=""+w["default"].helpBase+w["default"].helpMap["120001307"],this.premiumContentDlg||(this.premiumContentDlg=new f["default"]({showCancel:!1,buttonOk:p["default"].common.ok,style:{width:"200px"}}),this.premiumContentDlg.show({message:u["default"].substitute('${i18n.shareMapDlg.premiumLayerMsg} \x3ca href\x3d"${helpLinkPremium}" target\x3d"_blank"\x3e${i18n.shareMapDlg.premiumLayerMsgLearnMore}\x3c/a\x3e',{i18n:p["default"],helpLinkPremium:e}),title:p["default"].common.premiumcontent}).then(function(a){c.premiumContentDlg.hide();
c.premiumContentDlg=null})))};m.readWebMapConfig=function(e){var c=this,a,b,d=!1,k=[],n=e.mainConfig.operationalLayers;e.mainConfig.tables&&e.mainConfig.tables.length&&(n=n.concat(e.mainConfig.tables));for(var q=n.length-1;0<=q;q--){var y=n[q];if(y.itemId)d=!0,e.itemCards[y.itemId]||k.push(this.getItemCard(y.itemId)),("ArcGISTiledMapServiceLayer"===y.layerType||"ArcGISTiledElevationServiceLayer"===y.layerType||"ArcGISSceneServiceLayer"===y.layerType)&&(null===(a=y.layers)||void 0===a?0:a.length)&&
y.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&k.push(c.getItemCard(F.layerItemId))});else if("GroupLayer"===y.layerType)for(var C=n[q],B=C.layers.length-1;0<=B;B--){var D=C.layers[B];D.itemId&&(d=!0,e.itemCards[D.itemId]||k.push(this.getItemCard(D.itemId)))}y.layers&&y.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&k.push(c.getItemCard(F.layerItemId))})}for(q=e.mainConfig.baseMap.baseMapLayers.length-1;0<=q;q--)a=e.mainConfig.baseMap.baseMapLayers[q],
a.itemId&&(d=!0,e.itemCards[a.itemId]||k.push(this.getItemCard(a.itemId)));if(e.mainConfig.baseMap.elevationLayers)for(q=e.mainConfig.baseMap.elevationLayers.length-1;0<=q;q--)a=e.mainConfig.baseMap.elevationLayers[q],a.itemId&&(d=!0,e.itemCards[a.itemId]||k.push(this.getItemCard(a.itemId)));k.length?h["default"](k).then(function(F){F.forEach(function(G){G=G.length?G[1]:G;G.id&&(e.itemCards[G.id]=G)});var r=[],A=[];F.forEach(function(G){G=G.length?G[1]:G;G.id&&("Map Service"===G.type||"Scene Service"===
G.type)&&-1<G.typeKeywords.indexOf("Hosted Service")&&!e.itemCards[G.id].data&&(r.push(c.getItemData(G.id)),A.push(G.id))});r.length?h["default"](r).then(function(G){G.forEach(function(H,J){var O=e.itemCards[A[J]];O.data=H.length?H[1]:H;var M=[];O.data.layers&&O.data.layers.forEach(function(K){K.layerItemId&&(e.itemCards[K.layerItemId]||M.push(c.getItemCard(K.layerItemId)))});M.length?h["default"](M).then(function(K){K.forEach(function(U){U=U.length?U[1]:U;U.id&&(e.itemCards[U.id]=U)});c.checkForItemSharing(e)},
function(K){c.checkForItemSharing(e)}):c.checkForItemSharing(e)},c)},function(G){c.checkForItemSharing(e)}):c.checkForItemSharing(e)},function(F){c.checkForItemSharing(e)}):d?this.checkForItemSharing(e):null===(b=e.dontNeedUpdateHandler)||void 0===b?void 0:b.call(e,e)};m.readWebAppConfig=function(e){var c=this;if(e.mainConfig.values&&e.mainConfig.values.webmap||e.mainConfig.map&&e.mainConfig.map.itemId||e.mainConfig.values&&e.mainConfig.values.webscene){var a=[];e.mainConfig&&(e.mainConfig.values?
e.mainConfig.values.webscene?a=e.mainConfig.values.webscene.split(","):e.mainConfig.values.webmap&&(a=e.mainConfig.values.webmap.split(",")):a=e.mainConfig.map&&e.mainConfig.map.itemId?[e.mainConfig.map.itemId]:[]);var b=[];a.forEach(function(d){e.itemCards[d]||b.push(c.getItemCard(d))});b.length?h["default"](b).then(function(d){d.forEach(function(k){k=k.length?k[1]:k;e.itemCards[k.id]=k});c.checkForItemSharing(e)}):this.checkForItemSharing(e)}};m.checkWebMapInWebApp=function(e,c){var a=new x["default"],
b={access:c.mainItemCard.access};c.mainItemSharing&&c.mainItemSharing.groups&&(b.groups=c.mainItemSharing.groups);this.checkWebMapContent({webMapId:e,webMapItemCard:c.itemCards[e],newAccess:b,needUpdateHandler:function(d){c.itemCards[e].webMapInfo=d;a.resolve(!0)},dontNeedUpdateHandler:function(d){a.resolve(!1)}});return a};m.getItemCard=function(e,c){var a=this;c=c||new x["default"];if("inProgress"===this.itemCards[e])setTimeout(function(){a.getItemCard(e,c)},1E3);else if(this.itemCards[e])delete this.itemCards[e].needsUpdate,
c.resolve(this.itemCards[e]);else{this.itemCards[e]="inProgress";var b=w["default"].restBaseUrl+"content/items/"+e,d=t["default"].getToken();z["default"]({url:b+(d?"?f\x3djson\x26token\x3d"+d:"?f\x3djson"),callbackParamName:"callback",load:function(k){a.itemCards[e]=k;c.resolve(k)},error:function(k){delete a.itemCards[e];c.reject(k)}},{disableIdentityLookup:!0})}return c};m.getItemData=function(e,c){var a=this,b;c=c||new x["default"];if(this.itemCards[e]&&"inProgress"===this.itemCards[e].data)setTimeout(function(){a.getItemData(e,
c)},1E3);else if(null===(b=this.itemCards[e])||void 0===b?0:b.data)c.resolve(this.itemCards[e].data);else{this.itemCards[e].data="inProgress";b=w["default"].restBaseUrl+"content/items/"+e+"/data";var d=t["default"].getToken();z["default"]({url:b+(d?"?f\x3djson\x26token\x3d"+d:"?f\x3djson"),callbackParamName:"callback",load:function(k){a.itemCards[e].data=k;c.resolve(k)},error:function(k){delete a.itemCards[e].data;c.reject(k)}},{disableIdentityLookup:!0})}return c};m.getItemSharingInfo=function(e){var c=
w["default"].restBaseUrl+"content/users/"+e.owner;e.ownerFolder&&(c+="/"+e.ownerFolder);c+="/items/"+e.id;e=t["default"].getToken();return z["default"]({url:c+(e?"?f\x3djson\x26token\x3d"+e:"?f\x3djson"),callbackParamName:"callback"},{disableIdentityLookup:!0})};m.getOwnerGroups=function(e,c){var a=this,b=new x["default"];this.ownerGroups[e.owner]?b.resolve():g["default"].getProfile(e.owner,function(d){d=(d.groups||[]).map(function(k){return k.id});a.ownerGroups[e.owner]=d;b.resolve()},function(){b.resolve()});
return b};m.itemCards=[];m.ownerGroups=[];return m}()})},"arcgisonline/sharing/dijit/dialog/ShareCheckDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.ShareCheckDlg");V.require("dijit.Dialog");V.require("dijit._Widget");V.require("dijit._Templated");V.require("arcgisonline.sharing.util");V.declare("arcgisonline.sharing.dijit.dialog.ShareCheckDlg",[L._Widget,
L._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" id\x3d"shareCheck-dialog" title\x3d"${i18n.shareChecksDlgTitle}" execute\x3d""\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      .esri .dojoxGridHeader .dojoxGridCellFocus, .esri .dojoxGridHeader .dojoxGridCell {\r\n        border-bottom: 1px solid #CCC;\r\n      }\r\n    \x3c/style\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckTopMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojotype\x3d"dijit.layout.BorderContainer" design\x3d"headline" gutters\x3d"false" style\x3d"width:100%; height:120px; margin:20px 0 10px 0;"\x3e\r\n      \x3cdiv dojoType\x3d"dijit.layout.ContentPane" dojoAttachPoint\x3d"shareCheckGrid" region\x3d"top" style\x3d"height:118px;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckBottomMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"editableLayerDiv" style\x3d"clear:both; display:none; background-color:rgba(240, 201, 206, 1); border:2px solid rgb(255, 0, 0); margin-top:10px; padding:8px;"\x3e\r\n      \x3cspan dojoAttachPoint\x3d"editableLayerMsg"\x3e\x3c/span\x3e\r\n      \x3ca dojoAttachPoint\x3d"editableLayerHelpLink" href\x3d"JavaScript:void(0);" dojoAttachEvent\x3d"onClick:onLearnHowClick"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing clearfix leader-1" style\x3d"padding-top:5px; padding-bottom:5px;"\x3e\r\n      \x3cbutton dojoAttachEvent\x3d"onClick:onCancelClick" dojoAttachPoint\x3d"exitButton" class\x3d"jevent cancel btn-two right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridUpdateButton" dojoAttachEvent\x3d"onClick:onUpdateClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.UpdateSharingBtn}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridOkButton" dojoAttachEvent\x3d"onClick:onCancelClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button" style\x3d"display:none;"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
grid:null,gridId:"shareCheckGridNode",oneLayerMissingDataCollection:!1,oneLayerNotMissingDataCollection:!1,oneLayerNotEditable:!1,statics:{_instance:null,getInstance:function(){this._instance&&L.byId("shareCheckGridNode")&&L.byId("shareCheckGridNode").destroy();null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareCheckDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;
V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").myOrganization.creditsTab);V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").shareCheckDlg)},show:function(w){var t=V.hitch(this,function(z,p,m){var e=!1,c=!1;if(("public"===z||"org"===z)&&void 0!==m.ownerFolder)return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:c};if("shared"===z)if(void 0!==m.ownerFolder){e=!0;z=this.info.itemsSharing[g]?this.info.itemsSharing[g].groups:[];m=arcgisonline.sharing.utilShare.ownerGroups[m.owner];
for(var a=0;a<p.length;a++)if(-1===V.indexOf(z,p[a])&&(!esri.isDefined(m)||esri.isDefined(m)&&-1<V.indexOf(m,p[a])))return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:c}}else c=!0;return{userCanUpdate:!1,hasItemWithKnownGroupDetails:e,unknownGroupDetails:c}});this.info=w;w=!1;var l=this.info.mainItemCard.access,f="Web Scene"===this.info.mainItemCard.type,g;for(g in this.info.itemCards){var h=this.info.itemCards[g],x=this.info.mainItemSharing?this.info.mainItemSharing.groups:
[];if(!1===h.needsUpdate){if(h.webMapInfo){for(var u in h.webMapInfo.itemCards){var E=t(l,x,h.webMapInfo.itemCards[u]);w=E.userCanUpdate;0-E.unknownGroupDetails;if(w)break}if(w)break}}else if(E=t(l,x,h),w=E.userCanUpdate,0-E.unknownGroupDetails,w)break}w?(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML=this.info.webMapId?f?this.i18n.textBottomWebScene:this.i18n.textBottomWebmap:this.i18n.textBottomWebapp,
V.style(this.exitButton.domNode,"display",""),V.style(this.shareGridUpdateButton.domNode,"display",""),V.style(this.shareGridOkButton.domNode,"display","none")):(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML="",V.style(this.exitButton.domNode,"display","none"),V.style(this.shareGridUpdateButton.domNode,"display","none"),V.style(this.shareGridOkButton.domNode,"display",""));this.oneLayerMissingDataCollection=
this.oneLayerNotMissingDataCollection=this.oneLayerNotEditable=!1;this.editableLayerMsg.innerHTML="";V.style(this.editableLayerDiv,"display","none");this.checkEditableLayers();L.byId("shareCheck-dialog").show()},displayLayers:function(){var w=V.create("table",{border:"1",style:"width: 100%; height: 100%"},this.shareCheckItemsDiv),t=V.create("tbody",{},w);t=V.create("tr",{},t);V.create("span",{innerHTML:this.i18n.titleItem},V.create("td",{},t));V.create("span",{innerHTML:this.i18n.titleOwner},V.create("td",
{},t));for(var l in this.info.itemCards){var f=this.info.itemCards[l];t=V.create("tr",{},w);V.create("span",{innerHTML:f.title},V.create("td",{},t));V.create("span",{innerHTML:f.owner},V.create("td",{},t))}},checkEditableLayers:function(){var w=function(h,x){for(var u in h){var E=h[u];E&&!1!==E.needsUpdate&&"Feature Service"===E.type&&("admin"===E.itemControl||"update"===E.itemControl)&&-1<V.indexOf(E.typeKeywords,"Hosted Service")&&(x.push(arcgisonline.sharing.util.getJson(E.url+"/layers")),t.push(E))}};
if("public"===this.info.mainItemCard.access){var t=[],l=[];w(this.info.itemCards,l);for(var f in this.info.itemCards){var g=this.info.itemCards[f];g.webMapInfo&&w(g.webMapInfo.itemCards,l)}l.length?(new V.DeferredList(l)).addCallback(V.hitch(this,function(h){V.forEach(h,function(x,u){if(x[1].layers&&x[1].layers.length&&x[1].layers[0]&&-1<x[1].layers[0].capabilities.indexOf("Editing")){var E=t[u];E.isEditable=!0;this.editableLayerMsg.innerHTML="* "+this.i18n.layerIsEditable+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+
(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e";V.style(this.editableLayerDiv,"display","");-1===V.indexOf(E.typeKeywords,"Public Data Collection")?(this.oneLayerMissingDataCollection=!0,E.missingDataCollection=!0):this.oneLayerNotMissingDataCollection=!0}else this.oneLayerNotEditable=!0},this);this.oneLayerMissingDataCollection&&(this.editableLayerMsg.innerHTML=this.oneLayerNotMissingDataCollection?"* "+this.i18n.usePublicDataCollection+
"\x3c/br\x3e** "+this.i18n.layerIsEditable+"\x3c/br\x3e\x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e":"* "+this.i18n.usePublicDataCollection+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e",
V.style(this.editableLayerDiv,"display",""),this.oneLayerNotMissingDataCollection||this.oneLayerNotEditable||(this.shareCheckBottomMsg.innerHTML="",V.style(this.exitButton.domNode,"display","none"),V.style(this.shareGridUpdateButton.domNode,"display","none"),V.style(this.shareGridOkButton.domNode,"display","")));this.createGrid()})):this.createGrid()}else this.createGrid()},createGrid:function(){var w=[[{name:this.i18n.titleLayer,field:"name",width:"320px"},{name:this.i18n.titleOwner,field:"owner",
width:"320px"}]],t=[],l;for(l in this.info.itemCards){var f=this.info.itemCards[l];if(!1!==f.needsUpdate){var g=f.isEditable&&"public"===this.info.mainItemCard.access,h=f.missingDataCollection,x="";if("admin"===f.itemControl||"update"===f.itemControl)if(this.oneLayerMissingDataCollection&&this.oneLayerNotMissingDataCollection)x=h?" *":" **";else if(this.oneLayerMissingDataCollection||this.oneLayerNotMissingDataCollection)if(h||g)x=" *";t.push({id:f.id,name:f.title+x,owner:f.owner})}if(f.webMapInfo)for(var u in f.webMapInfo.itemCards)x=
f.webMapInfo.itemCards[u],g=x.isEditable&&"public"===this.info.mainItemCard.access,h=x.missingDataCollection,t.push({id:x.id,name:x.title+(this.oneLayerMissingDataCollection&&h||!this.oneLayerMissingDataCollection&&g?" *":""),owner:x.owner})}this.memory=new V.store.Memory({data:t,idProperty:"id"});this.store=new V.data.ObjectStore({objectStore:this.memory});this.grid=new v.grid.DataGrid({store:this.store,structure:w,id:this.gridId,style:{border:"1px #CCC solid"},selectionMode:"none"},V.create("div",
null,this.shareCheckGrid.domNode));this.grid.startup();L.byId("shareCheck-dialog").resize();esri.isTouchEnabled&&(this.gridScrollBox=this.grid.views.views[0].scrollboxNode,esri.setScrollable(this.gridScrollBox))},updateSharing:function(){var w=this.info.mainItemCard.access,t=[];if("public"===w||"org"===w)for(var l in this.info.itemCards){if(w=this.info.itemCards[l],void 0===w.ownerFolder||!1===w.needsUpdate||w.missingDataCollection||t.push(this.shareItemByID(w)),w.webMapInfo)for(var f in w.webMapInfo.itemCards){var g=
w.webMapInfo.itemCards[f];void 0===g.ownerFolder||w.missingDataCollection||t.push(this.shareItemByID(g))}}else{var h=this.info.mainItemSharing?this.info.mainItemSharing.groups:[];t=[];for(l in this.info.itemCards){w=this.info.itemCards[l];if(void 0!==w.ownerFolder&&!1!==w.needsUpdate){var x="",u="",E=this.info.itemsSharing[l]?this.info.itemsSharing[l].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[w.owner];V.forEach(h,function(p){-1===V.indexOf(E,p)&&(!esri.isDefined(z)||esri.isDefined(z)&&
-1<V.indexOf(z,p))&&(x+=u+p,u=",")},this);x.length&&t.push(this.shareItemByID(w,x))}if(w.webMapInfo)for(f in w.webMapInfo.itemCards)g=w.webMapInfo.itemCards[f],void 0!==g.ownerFolder&&(u=x="",E=w.webMapInfo.itemsSharing[f]?w.webMapInfo.itemsSharing[f].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[g.owner],V.forEach(h,function(p){-1===V.indexOf(E,p)&&(!esri.isDefined(z)||esri.isDefined(z)&&-1<V.indexOf(z,p))&&(x+=u+p,u=",")},this),x.length&&t.push(this.shareItemByID(g,x)))}}t.length?(new V.DeferredList(t)).addCallback(V.hitch(this,
function(p){V.forEach(p,function(m){m=m[1];m.itemId&&delete arcgisonline.sharing.utilShare.itemCards[m.itemId]});setTimeout(function(){V.publish("onShareUpdate",null);V.publish("shareCheckDlg/update")},100);this.hide()})):this.hide()},shareItemByID:function(w,t){var l=this.info.mainItemCard.access;l={everyone:"public"===l,account:"org"===l||"org"===w.access,confirmItemControl:this.info&&this.info.confirmItemControl?!0:!1};t&&(l.groups=t);var f=new V.Deferred;arcgisonline.sharing.geow.Content.shareItemByID(w,
l,V.hitch(this,function(g){f.callback(g)}),V.hitch(this,function(g){f.errback(g)}));return f},onLearnHowClick:function(){},onUpdateClick:function(){this.updateSharing()},onCancelClick:function(){this.hide()},hide:function(){this.store.close();delete this.store;delete this.memory;this.grid.destroy();delete this.grid;this.grid=this.store=this.memory=null;L.byId("shareCheck-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/RateLimiting":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/query dojo/parser dojo/ready dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojo/Deferred dijit/Dialog dijit/form/Button dojo/json arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog dojox/validate/regexp esri/Evented dojo/text!arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A){return V("arcgisonline.sharing.dijit.dialog.RateLimiting",[c],{templateString:r,baseClass:"esriRateLimiting",buildRendering:function(){this.inherited(arguments);var G=w.doc.createDocumentFragment();this._templateDijit=new (V([c,a,b],{templateString:g.substitute(this.templateString,{i18n:A},null,this)}));this._content=E.place(this._templateDijit.domNode,G,"first");this.inherited(arguments);this.domNode.appendChild(this._content)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=L.mixin(L.mixin({},A.common),A.itemProperties);this.serviceProxyParams=this.serviceProxyParams&&(this.serviceProxyParams.hitsPerInterval||this.serviceProxyParams.referrers)?this.serviceProxyParams:this.item&&this.item.serviceProxyParams||null},postCreate:function(){this.inherited(arguments);this._enableLimits=this._templateDijit._enableLimits;this._hitRate=this._templateDijit._hitRate;this._hitCount=this._templateDijit._hitCount;this._interval=
this._templateDijit._interval;this._referrerUrl=this._templateDijit._referrerUrl;this._referrers=this._templateDijit._referrers;this._addBtn=this._templateDijit._addBtn;this._delBtn=this._templateDijit._delBtn;this._loadConnections();this.set("value",this.serviceProxyParams)},destroy:function(){this._templateDijit.destroyRecursive();this._templateDijit=null;this.inherited(arguments)},_loadConnections:function(){this.own(h(this._enableLimits,"change",L.hitch(this,function(G){this._hitRate.set("disabled",
!0!==G);this._hitCount.set("disabled",!0!==G);this._interval.set("disabled",!0!==G);z(".canDisable")[!0!==G?"addClass":"removeClass"]("disabled");t[!0!==G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")})),h(this._addBtn,"click",L.hitch(this,function(){this._referrerUrl.isValid()&&(this._addReferralUrl(this._referrerUrl.get("value").split(/[ ,]+/)),this._referrerUrl.set("value",""))})),h(this._delBtn,"click",L.hitch(this,function(){this._referrers.getSelected().orphan();this._delBtn.set("disabled",
!this._referrers.getSelected().length)})),h(this._referrers,"blur, click",L.hitch(this,function(){this._delBtn.set("disabled",!this._referrers.getSelected().length)})))},_setDisabledAttr:function(G){var H=e.findWidgets(this.domNode).concat(e.findWidgets(this._content));v.forEach(H,function(J){J.set("disabled",G)});t[G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_addReferralUrl:function(G){var H;v.forEach(G,L.hitch(this,function(J){J&&((H=z("option",this._referrers.containerNode).some(function(O){return O.value.toLowerCase()===
J.toLowerCase()}))||this._referrers.containerNode.appendChild(E.create("option",{value:J,innerHTML:J})))}))},isValid:function(){return this._enableLimits.get("checked")&&!this._hitRate.isValid()?A.rateLimiting.errors.invalidHitRate:!0},_setValueAttr:function(G){this.serviceProxyParams=G;this._enableLimits.set("value",null);G&&(G.hitsPerInterval&&(this._hitRate.set("value",G.hitsPerInterval),this._interval.set("value",G.intervalSeconds),this._enableLimits.set("value","true"),this._extractUnits(G.intervalSeconds)),
this._addReferralUrl(G.referrers))},_extractUnits:function(G){var H=this._interval.options,J=parseInt(G,10);G=1;(H=v.filter(H,function(O){return 0===J%parseInt(O.value,10)}))&&H.length&&(G=H[H.length-1].value,this._interval.set("value",G),this._hitCount.set("value",Math.floor(J/parseInt(G,10))))},_getValueAttr:function(){var G={},H=[];z("option",this._referrers.containerNode).forEach(function(J){H.push(J.value)});this._enableLimits.get("checked")&&(G.hitsPerInterval=parseInt(this._hitRate.get("value"),
10),G.intervalSeconds=parseInt(this._hitCount.get("value"),10)*parseInt(this._interval.get("value"),10));H&&H.length&&(G.referrers=H);return G},showModal:function(G){var H=new k,J=new n({}),O=this.item.folderId,M=w.doc.createDocumentFragment(),K=E.place(this.domNode,M),U=E.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons"},K);K=new q({"class":"calcite cancel right btn-two",label:this.i18n.cancel,type:"button"},E.create("button",{},U));U=new q({"class":"calcite primary right",label:this.i18n.ok,
type:"button"},E.create("button",{},U));this.own(h(U,"click",L.hitch(this,function(){this.set("disabled",!0);var Z=esriGeowConfig.restBaseUrl+"content/users/"+this.item.owner+"/"+(O?O+"/":"")+"items/"+this.item.id,ca=this.isValid();if(!0!==ca)this._showError(ca),this.set("disabled",!1);else{var fa=this.get("value");return C.request({url:Z+"/update",content:{serviceProxyParams:y.stringify(fa)}},{usePost:!0}).then(L.hitch(this,function(){this.item.serviceProxyParams=fa;J.hide()}),L.hitch(this,function(ka){this._showError(ka);
this.set("disabled",!1)}))}})),h(K,"click",L.hitch(this,function(){J.hide()})),h(J,"hide",L.hitch(this,function(){J.destroyRecursive();H.resolve(this.item)})));J.set("title",G&&G.title||this.i18n.rateLimitingTitle);J.setContent(M);J.show();return H},_showError:function(G){G=G.error||G||this.i18n.errors.error;G.code=G.messageCode||G.code;G=this.i18n.errors[G.code]||G||this.i18n.errors.error;G.details=G.details&&L.isArray(G.details)&&G.details.length?v.filter(G.details,"return item !\x3d\x3d null"):
null;if(G.details&&G.details.length){var H="\x3cul\x3e";v.forEach(G.details,function(O){H+="\x3cli\x3e"+O+"\x3c/li\x3e"});H+="\x3c/ul\x3e\x3cbr/\x3e";G.message=G.message?"\x3cdiv\x3e"+G.message+"\x3c/div\x3e\x3cbr/\x3e"+H:H}if(G.message&&-1===G.message.indexOf("Request canceled")){G=L.mixin(L.mixin({hideCancel:!0},this.i18n.errors.error),G);var J=new B({});return J.show(G).then(L.hitch(this,function(){J.hide().then(dojo.hitch(this,function(){this.set("disabled",!1)}))}))}}})})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(V,L,v){var w=V.getObject("validate.regexp",!0,v);return w=v.validate.regexp={ipAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowDottedDecimal&&(t.allowDottedDecimal=!0);"boolean"!=typeof t.allowDottedHex&&(t.allowDottedHex=!0);"boolean"!=typeof t.allowDottedOctal&&(t.allowDottedOctal=!0);"boolean"!=typeof t.allowDecimal&&(t.allowDecimal=!0);"boolean"!=typeof t.allowHex&&(t.allowHex=!0);"boolean"!=typeof t.allowIPv6&&(t.allowIPv6=!0);"boolean"!=
typeof t.allowHybrid&&(t.allowHybrid=!0);var l=[];t.allowDottedDecimal&&l.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t.allowDottedHex&&l.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");t.allowDottedOctal&&l.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");t.allowDecimal&&l.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
t.allowHex&&l.push("0[xX]0*[\\da-fA-F]{1,8}");t.allowIPv6&&l.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");t.allowHybrid&&l.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t="";0<l.length&&(t="("+l.join("|")+")");return t},host:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowIP&&(t.allowIP=!0);"boolean"!=typeof t.allowLocal&&(t.allowLocal=!1);"boolean"!=typeof t.allowPort&&(t.allowPort=!0);"boolean"!=typeof t.allowNamed&&
(t.allowNamed=!1);var l=t.allowPort?"(\\:\\d+)?":"",f="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.?)";t.allowIP&&(f+="|"+w.ipAddress(t));t.allowLocal&&(f+="|localhost");t.allowNamed&&(f+="|^[^-][a-zA-Z0-9_-]*");return"("+f+")"+l},url:function(t){t="object"==typeof t?t:{};"scheme"in t||(t.scheme=[!0,!1]);return L.buildGroupRE(t.scheme,function(l){return l?"(https?|ftps?)\\://":""})+w.host(t)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowCruft&&(t.allowCruft=!1);t.allowPort=!1;var l="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+w.host(t);t.allowCruft&&(l="\x3c?(mailto\\:)?"+l+"\x3e?");return l},emailAddressList:function(t){t="object"==typeof t?t:{};"string"!=typeof t.listSeparator&&(t.listSeparator="\\s;,");var l=w.emailAddress(t);return"("+l+"\\s*["+t.listSeparator+"]\\s*)*"+l+"\\s*["+t.listSeparator+"]?\\s*"},numberFormat:function(t){t=
"object"==typeof t?t:{};"undefined"==typeof t.format&&(t.format="###-###-####");return L.buildGroupRE(t.format,function(l){return L.escapeString(l,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowTerritories&&(t.allowTerritories=!0);"boolean"!=typeof t.allowMilitary&&(t.allowMilitary=!0);
var l="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";t.allowTerritories&&(l+="|AS|FM|GU|MH|MP|PW|PR|VI");t.allowMilitary&&(l+="|AA|AE|AP");return"("+l+")"}}}})},"arcgisonline/sharing/dijit/dialog/LayerTimeSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/query dojo/on dojo/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Select dijit/form/Button dojo/Deferred arcgisonline/sharing/util ../../../pages/serviceUtil arcgisonline/sharing/dijit/dialog/ConfirmDialog esri/Evented dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B){return V("arcgisonline.sharing.dijit.dialog.LayerTimeSettings",[E,C],{baseClass:"esriLayerTimeSettings",postMixInProperties:function(){this.inherited(arguments);this.i18n=L.mixin({},B.common);this.i18n=L.mixin(this.i18n,B.layerTimeSettings);this.portal=this.item&&this.item.portal||{};this._isPortal=n.isPortal()},buildRendering:function(){var D=document.createDocumentFragment();t.create("p",{innerHTML:this.i18n.header},D);this._enableTimeChk=
new c({checked:!1,name:"enableTimeCheckbox"});D.appendChild(this._enableTimeChk.domNode);t.create("label",{"for":"enableTimeCheckbox","class":"esriLeadingMargin1 inline-block trailer-half",innerHTML:this.i18n.enableTimeLbl},D);t.create("br",{},D);t.create("p",{innerHTML:this.i18n.fieldsetLbl,"class":"trailer-half"},D);this._fieldSet=t.create("fieldset",{"class":"esriLeadingMargin2 padding-left-1 trailer-half fieldset-checkbox"},D);this._timeEventsRdio=new a({name:"times",checked:!0},t.create("input",
{},this._fieldSet));t.create("label",{"for":"timeEvents","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeEventsLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeEventsDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"timeEventsSelect","class":"esriFloatLeading timeEvent",innerHTML:this.i18n.timeFieldLbl},this._timeEventsDiv);this._timeEventsSelect=new b({maxHeight:200,name:"timeEventsSelect"},t.create("select",{},this._timeEventsDiv));
t.create("br",{},this._fieldSet);this._timeRangesRdio=new a({name:"times","class":"timeRangeRdio"},t.create("input",{},this._fieldSet));t.create("label",{"for":"timeRanges","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeRangesLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeRangesDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"startTimeSelect","class":"esriFloatLeading timeRange",innerHTML:this.i18n.startTimeLbl},this._timeRangesDiv);
this._startTimeSelect=new b({maxHeight:200,name:"startTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);t.create("label",{"for":"endTimeSelect","class":"esriFloatLeading timeRange leader-half",innerHTML:this.i18n.endTimeLbl},this._timeRangesDiv);this._endTimeSelect=new b({maxHeight:200,name:"endTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);this.inherited(arguments);
this.domNode.appendChild(D)},postCreate:function(){this.timeInfo=this.get("timeInfo");this.fields=this.get("dateFields");this._loadConnects();this._loadLayerFields();this._loadTimeInfo()},_loadConnects:function(){this.own(x(this._timeRangesRdio,"change",L.hitch(this,function(D){v.forEach(m.findWidgets(this._timeRangesDiv),function(F){F.set("disabled",!D)})})),x(this._timeEventsRdio,"change",L.hitch(this,function(D){this.options&&1<this.options.length&&v.forEach(m.findWidgets(this._timeEventsDiv),
function(F){F.set("disabled",!D)})})),x(this._enableTimeChk,"change",L.hitch(this,function(D){var F=this.options&&1<this.options.length;v.forEach(m.findWidgets(this._fieldSet),function(r){D=!F&&-1<r["class"].indexOf("timeRange")?!1:D;r.set("disabled",!D)});this[this._timeRangesRdio.get("checked")?"_timeEventsRdio":"_timeRangesRdio"].onChange(!1)})))},_getValueAttr:function(){return this._enableTimeChk.get("checked")?this._timeEventsRdio.get("checked")?{timeInfo:{startTimeField:this._timeEventsSelect.get("value")}}:
{timeInfo:{startTimeField:this._startTimeSelect.get("value"),endTimeField:this._endTimeSelect.get("value")}}:{timeInfo:this._isPortal?null:{}}},_setDisabledAttr:function(D){v.forEach(m.findWidgets(this.domNode),function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-btn").map(dijit.byNode).forEach(function(F){F.set("disabled",D)});dojo.query(".js-timeOptions-msg")[D?"removeClass":"addClass"]("hide")},_getTimeInfoAttr:function(){var D=this.layer;return this.timeInfo||D.timeInfo||{}},_getDateFieldsAttr:function(){return q.getDateFields(this.layer)},
_loadLayerFields:function(){this.options=v.map(this.fields,L.hitch(this,function(D){return{label:D.alias||D.name,value:D.name}}));this._timeEventsSelect.set("options",this.options);this._timeEventsSelect.set("value",this.options[0].value);this.options&&1<this.options.length&&(this._startTimeSelect.set("options",L.clone(this.options)),this._startTimeSelect.set("value",this.options[0].value),this._endTimeSelect.set("options",L.clone(this.options)),this._endTimeSelect.set("value",this.options[1].value))},
_loadTimeInfo:function(){var D=this.timeInfo||{};this._enableTimeChk.set("checked",D.startTimeField);this._timeEventsSelect.set("value",D.startTimeField);this._startTimeSelect.set("value",D.startTimeField);this._endTimeSelect.set("value",D.endTimeField||this._endTimeSelect.get("value"));this._timeRangesRdio.set("checked",this.timeInfo.startTimeField&&this.timeInfo.endTimeField);this._timeEventsRdio.set("checked",!this.timeInfo.endTimeField)},showModal:function(D){var F=new k,r=new e({style:{width:"450px"}}),
A=w.doc.createDocumentFragment();t.place(this.domNode,A);var G=t.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons right"},A);t.create("span",{"class":"hide margin-right-half js-timeOptions-msg",innerHTML:B.timeSettingsDlg.statusMsg},G);var H=new d({"class":"calcite primary js-timeOptions-btn",label:this.i18n.ok,type:"button"},t.create("button",{},G));G=new d({"class":"calcite cancel js-timeOptions-btn",label:this.i18n.cancel,type:"button"},t.create("button",{},G));this.own(x(G,"click",
L.hitch(this,function(){r.hide()})),x(r,"hide",L.hitch(this,function(){r.destroyRecursive();F.resolve(this.item)})),x(H,"click",L.hitch(this,function(){this.set("disabled",!0);var J=this.get("value"),O={updateDefinition:u.stringify(J)},M=(this.item.adminUrl||this.item.url.replace("/rest/","/rest/admin/"))+"/"+this.layer.id+"/updateDefinition";J.timeInfo&&J.timeInfo.startTimeField&&J.timeInfo.startTimeField===J.timeInfo.endTimeField?(this.set("disabled",!1),this._showError(B.itemProperties.error.sameTimeField)):
n.request({url:M,content:O},{usePost:!0}).then(L.hitch(this,function(K){this.item.set("maxAgeCheck",!0);this.layer=L.mixin(this.layer,J);r.hide();F.resolve(J)}),L.hitch(this,function(K){this.set("disabled",!1);return this._showError(K)}))})));r.set("title",D&&D.title||B.timeSettingsDlg.timeSettingsDlgTitle);r.setContent(A);r.show();return F},_showError:function(D){D=D&&D.error||D||this.i18n.errors.genericError;D.code=D.messageCode||D.code;D=this.i18n.errors[D.code]||D||this.i18n.errors.error;D.details=
D.details&&L.isArray(D.details)&&D.details.length?v.filter(D.details,"return item !\x3d\x3d null"):null;if(D.details&&D.details.length){var F="\x3cul\x3e";v.forEach(D.details,function(A){F+="\x3cli\x3e"+A+"\x3c/li\x3e"});F+="\x3c/ul\x3e\x3cbr/\x3e";D.message=D.message?"\x3cdiv\x3e"+D.message+"\x3c/div\x3e\x3cbr/\x3e"+F:F}if(D.message&&-1===D.message.indexOf("Request canceled")){D=L.mixin(L.mixin({hideCancel:!0},this.i18n.errors.error),D);var r=new y({});return r.show(D).then(L.hitch(this,function(){r.hide().then(dojo.hitch(this,
function(){this.set("disabled",!1)}))}))}}})})},"arcgisonline/sharing/dijit/dialog/UpdateItemDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/CheckBox,dijit/form/Button,dijit/InlineEditBox,dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/pages/pageUtil,arcgisonline/pages/utils/dom,arcgisonline/pages/dijit/UploadProgressBar,arcgisonline/sharing/util,arcgisonline/sharing/geow/Community,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Item,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/dijit/dialog/TagsDlg,dojo/promise/all,dojo/number"],
function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.UpdateItemDlg");V.require("dijit.form.SimpleTextarea");V.require("dijit.form.TextBox");V.require("dijit.form.CheckBox");V.require("dijit.form.Button");V.require("dijit.InlineEditBox");V.require("dijit.Dialog");V.require("dijit._Widget");V.require("dijit._Templated");V.require("arcgisonline.pages.pageUtil");V.require("arcgisonline.pages.utils.dom");V.require("arcgisonline.pages.dijit.UploadProgressBar");V.require("arcgisonline.sharing.util");
V.require("arcgisonline.sharing.geow.Community");V.require("arcgisonline.sharing.geow.Content");V.require("arcgisonline.sharing.geow.Item");V.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");V.require("arcgisonline.sharing.dijit.dialog.TagsDlg");V.require("dojo.promise.all");V.require("dojo.number");V.declare("arcgisonline.sharing.dijit.dialog.UpdateItemDlg",[L._Widget,L._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,
itemAPI:arcgisonline.sharing.geow.Item,pageUtil:arcgisonline.pages.pageUtil,domUtil:arcgisonline.pages.utils.dom,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_updateItemDialog" title\x3d"${i18n.updateItem}" dojoAttachEvent\x3d"hide:clear" execute\x3d"" class\x3d"update-item-dlg"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_errorDiv"\x3e\x3c/div\x3e\r\n    \x3cform dojoAttachPoint\x3d"_updateItemForm" enctype\x3d"multipart/form-data"\x3e\r\n      \x3cdiv dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemFolderInput" type\x3d"hidden" value\x3d"0"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"id" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemIdInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"name" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemNameInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"title" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTitleInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"tags" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTagsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"type" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTypeInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"typeKeywords" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemKeywordsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"description" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateDescriptionInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"snippet" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateSnippetInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"accessInformation" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateAccessInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"licenseInfo" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateLicenseInfoInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"extent" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateExtentInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"overwrite" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateOverwriteInput" type\x3d"hidden" value\x3d"true"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"async" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" dojoAttachPoint\x3d"_updateAsyncInput" value\x3d"true"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv\x3e\x3clabel class\x3d"font-size--1" dojoAttachPoint\x3d"_replaceUpdateVerLabel"\x3e${i18n.replaceUpdatedVersionMsg}\x3c/label\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3clabel class\x3d"esriFloatLeading esriTrailingMargin2" style\x3d"margin-top:6px;" for\x3d"update-item-file"\x3e${i18n.itemLabel}\x3c/label\x3e\r\n        \x3cinput type\x3d"file" dojoAttachPoint\x3d"_updateItemFile" id\x3d"update-item-file" name\x3d"file" size\x3d"40" class\x3d"esriFileInput"\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"overwrite_section" class\x3d"hide" style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3cinput id\x3d"overwriteService" type\x3d"checkbox" name\x3d"overwriteService" dojotype\x3d"dijit.form.CheckBox" checked\x3d"checked" dojoAttachPoint\x3d"_overwriteService"/\x3e\r\n        \x3clabel id\x3d"overwriteServiceLbl" for\x3d"overwriteService"\x3e${i18n.overwriteService} ${i18n.keepFieldsSame}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"update-item-keepdescription" style\x3d"width:100%;display:none;"\x3e\r\n        \x3cdiv style\x3d"padding-bottom:5px; padding-top:2px;"\x3e\r\n          \x3clabel\x3e${i18n.updateItemDescription}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"line-height:23px"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" checked\x3d"checked" dojoAttachPoint\x3d"_useDescKeepRadio" id\x3d"useDescription:keep"/\x3e\r\n          \x3clabel for\x3d"useDescription:keep"\x3e${i18n.keepExistingProperties}\x3c/label\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" dojoAttachPoint\x3d"_useDescUpdateRadio" id\x3d"useDescription:update"/\x3e\r\n          \x3clabel for\x3d"useDescription:update"\x3e${i18n.useUploadedProperties}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-half trailer-half flex"\x3e\r\n        \x3cdiv class\x3d"flex flex-1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_waitingSpan" class\x3d"hide flex-column-justify-center"\x3e${i18n.uploadingItem}\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_uploadProgressBar"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:_handleCancel" dojoAttachPoint\x3d"_cancelBtn" id\x3d"button_update-item-cancel" class\x3d"jevent cancel margin-right-half" type\x3d"cancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton id\x3d"button_update-item" type\x3d"button" dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:uploadItem" class\x3d"primary" dojoAttachPoint\x3d"_updateItemBtn"\x3e${i18n.updateItem}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
item:null,admin:null,i18n:null,_replaceUpdateVerLabel:null,_updateItemDialog:null,_updateItemForm:null,_updateItemBtn:null,_cancelBtn:null,_waitingSpan:null,_useDescUpdateRadio:null,_useDescKeepRadio:null,_updateItemFile:null,_errorDiv:null,_updateItemFolderInput:null,_updateItemIdInput:null,_updateItemNameInput:null,_updateItemTitleInout:null,_updateItemTagsInput:null,_updateItemTypeInput:null,_updateItemKeywordsInput:null,_updateDescriptonInput:null,_updateSnippetInput:null,_updateAccessInput:null,
_updateLicenseInfoInput:null,_updateExtentInput:null,_updateOverwriteInput:null,_updateAsyncInput:null,statics:{_instance:null,getInstance:function(){null===this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.UpdateItemDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").updateItemDlg);V.mixin(this.i18n,{updating:V.i18n.getLocalization("arcgisonline",
"arcgisonline").addItemFrm.updating})},postCreate:function(){},show:function(w,t){var l={Shapefile:1,"File Geodatabase":1,GeoJson:1,CSV:1,"Microsoft Excel":1},f=w&&w.publishParameters&&"address"===w.publishParameters.locationType;this.item=w;t&&null!==this.adminUser&&(this.admin=t);"Layer Package"==w.type&&V.style(V.byId("update-item-keepdescription"),"display","block");"Vector Tile Service"===w.type?(V.attr(this._replaceUpdateVerLabel,"innerHTML",this.i18n.overwriteStyle),this._updateItemDialog.set("title",
this.i18n.updateStyle),this._updateItemBtn.set("label",this.i18n.updateStyle)):(this.itemName=this.item.sourceData&&this.item.sourceData.name||this.item.name,V.attr(this._replaceUpdateVerLabel,"innerHTML",V.string.substitute(this.i18n.replaceUpdatedVersionMsg,[this.itemName])));w&&w.type in l&&w.relatedService?this._overwriteService.set("checked",!1):w&&w.sourceData?(this._updateItemDialog.set("title",this.i18n.updateFeatures),this._updateItemBtn.set("label",this.i18n.updateFeatures),l=V.string.substitute(f?
this.i18n.overwriteServiceWithCreditsMsg:this.i18n.overwriteServiceMsg,[w.title,w.sourceData.name]),V.attr(this._replaceUpdateVerLabel,"innerHTML",l)):this._overwriteService.set("checked",!1);w&&w.sourceData&&(esri.hide(this._overwriteService.domNode),V.attr("overwriteServiceLbl","innerHTML",this.i18n.keepFieldsSame),V.removeClass("overwrite_section","hide"));this._updateItemDialog.show();this._uploadProgressBar=new arcgisonline.pages.dijit.UploadProgressBar({},this._uploadProgressBar);this._uploadProgressBar.startup();
this._uploadProgressBar.hide()},clear:function(){this._updateItemFile.value="";this._useDescKeepRadio.set("checked",!0);this._useDescUpdateRadio.set("checked",!1);this._overwriteService.set("checked",!0)},_handleCancel:function(w){w.preventDefault();this._updateItemDialog.hide()},hide:function(){this._disable(!1);this._updateItemDialog.hide()},uploadItem:function(w){w.preventDefault();if(0===this._updateItemFile.value.length)return arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.errorLabel,
message:this.i18n.error.providePath}),!1;w=this._fetchItem(this.item).then(V.hitch(this,"loadFile"));if(this.item.sourceData||this.item.relatedService&&this._overwriteService.get("checked"))V.attr(this._waitingSpan,"innerHTML",this.i18n.updating),w=w.then(V.hitch(this,"_updateServiceData",this.item.sourceData||this.item)).then(V.hitch(this,"_resetServiceTitle",this.item));return w.then(V.hitch(this,function(t){t&&!t.success&&t.error&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:t.error.message||this.i18n.error.errorWhileUpdate});t&&t.serviceItemId?(this._disable(!1),this._updateItemDialog.hide(),window.location="item.html?id\x3d"+t.serviceItemId+(t.jobId?"\x26jobid\x3d"+t.jobId:"")):V.publish("itemData/update",[""]);return!0}),V.hitch(this,function(t){V.isObject(t)&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,message:t.message||this.i18n.error.errorWhileUpdate});this._disable(!1)}))},_updateServiceData:function(w){var t=
new V.Deferred;this._checkStatus(w,500,V.hitch(this,function(l){var f=esriGeowConfig.restBaseUrl+"content/users/"+l.owner+"/publish",g,h,x={itemid:l.id,filetype:{"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel"}[l.type.toLowerCase()],overwrite:!0,publishParameters:V.json.stringify({name:this.item.title?this.item.title.replace(/ /g,"_"):l.title.replace(/ /g,"_")})};V.attr(this._waitingSpan,"innerHTML",this.i18n.updating);V.promise.all([this._fetchPublishParameters(this.item),
this._fetchServiceInfo(this.item.relatedService||this.item)]).then(V.hitch(this,function(u){g=u[1];(h=u[0])&&"CSV"===l.type?(u=V.mixin(V.mixin({},g.layers&&g.layers[0]),{fields:h.layerInfo.fields}),x.publishParameters=V.mixin(h,{layerInfo:u,name:h.name||l.title.replace(/ /g,"_")})):h&&"Microsoft Excel"===l.type?(x.publishParameters=this._generateExcelOverwritePublishParameters(h,g),g=null):x.publishParameters={name:l.title?l.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};x.publishParameters=
g?V.json.stringify(V.mixin(x.publishParameters,g)):x.publishParameters;return this.util.request({url:f,content:x},{usePost:!0}).then(V.hitch(this,function(E){t.resolve(E&&E.services&&E.services[0]||{serviceItemId:l.id})}),V.hitch(this,function(E){t.reject(E)}))}))}));return t},_generateExcelOverwritePublishParameters:function(w,t){t.name=w.name;t.sourceSR=w.sourceSR;t.targetSR=w.targetSR;for(var l=0;l<t.tables.length;l++)"Review"!=t.tables[l].name&&(t.layers[t.layers.length]=t.tables[l]);for(l=0;l<
t.layers.length;l++)t.layers[l].excelSheetId=w.layers[l].excelSheetId,t.layers[l].locationType=w.layers[l].locationType,t.layers[l].latitudeFieldName=w.layers[l].latitudeFieldName,t.layers[l].longitudeFieldName=w.layers[l].longitudeFieldName,t.layers[l].geocodeServiceUrl=w.layers[l].geocodeServiceUrl,t.layers[l].sourceLocale=w.layers[l].sourceLocale,t.layers[l].sourceCountry=w.layers[l].sourceCountry,t.layers[l].standardizedFieldNames=w.layers[l].standardizedFieldNames,t.layers[l].addressFields=w.layers[l].addressFields;
return JSON.stringify(t)},_resetServiceTitle:function(w,t){var l=new V.Deferred,f=this.util.getUser(),g=w.title||"",h=w.folderId||w.ownerFolder;f=esriGeowConfig.restBaseUrl+"content/users/"+(w.owner||f.username)+"/"+(h?h+"/":"")+"items/"+w.id+"/update";g=-1!==w.typeKeywords.indexOf("Involved Lookup")?{title:g,typeKeywords:w.typeKeywords.toString()+",showUnmatchedAddresses"}:{title:g};this.util.request({url:f,content:g},{usePost:!0}).then(V.hitch(this,function(){l.resolve(t)}),V.hitch(this,function(){l.resolve(t)}));
return l},_fetchServiceInfo:function(w){w=w.url;var t={addToken:(this.util.isHostedService(w)||this.util.isAgolService(w))&&!1!==esriGeowConfig.isMultiTenant},l=new V.Deferred,f;V.promise.all([this.util.request({url:w},t),this.util.request({url:w+"/layers"},t)]).then(V.hitch(this,function(g){var h={},x=g&&1<g.length&&g[1],u=x&&x.layers;x=x&&x.tables;u&&u.length&&(V.forEach(u,function(E){delete E.fields}),h.layers=u);x&&x.length&&(h.tables=x);f=V.mixin(g[0],h);l.resolve(f)}));return l},_fetchPublishParameters:function(w){var t=
esriGeowConfig.restBaseUrl+"content/items/"+w.id+"/info/publishParameters.json";w.publishParameters?(t=new V.Deferred,t.resolve(w.publishParameters)):!w.sourceData||"CSV"!==w.sourceData.type&&"Microsoft Excel"!==w.sourceData.type?(t=new V.Deferred,t.resolve(!1)):t=this.util.request({url:t}).then(V.hitch(this,function(l){return l}));return t},_fetchItem:function(w){if(w.sourceData)var t=this.util.request({url:esriGeowConfig.restBaseUrl+"content/items/"+w.sourceData.id}).then(V.hitch(this,function(l){l.folderId=
l.ownerFolder;return l}));else t=new V.Deferred,t.resolve(w);return t},loadFile:function(w){var t=new V.Deferred,l=this._updateItemFile.value,f=l.lastIndexOf("\\"),g=w.type;-1<f&&(l=l.substring(f+1,l.length));l=l.replace(/ /g,"_");if("Vector Tile Service"!==w.type&&this.itemName!=l)return w=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),w.show({title:this.i18n.errorLabel,message:V.string.substitute(this.i18n.error.sameFileName,[this.itemName])}),this._updateItemFile.value=
"",t.reject(!0),t;if("Vector Tile Service"===w.type){f=/(?:\.([^.]+))?$/;var h=l.replace(/^.*(\\|\/|:)/,"");if("json"!==(l?f.exec(h)[1].toLowerCase():""))return w=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),w.show({title:this.i18n.errorLabel,message:this.i18n.error.invalidStyleFileExtension}),this._updateItemFile.value="",t.reject(!0),t}this._disable(!0);l=!0;"Layer Package"==g&&(l=V.byId("useDescription:keep").checked);this._updateItemNameInput.set("value",this.itemName);
this._updateItemTitleInput.set("value",w.title);this._updateItemTagsInput.set("value",w.tags);this._updateItemTypeInput.set("value",g);this._updateItemKeywordsInput.set("value",w.typeKeywords);this._updateAccessInput.set("value",w.accessInformation);this._updateLicenseInfoInput.set("value",w.licenseInfo);this._updateItemFolderInput.set("value",w.folderId);l?(this._updateDescriptionInput.set("value",w.description),this._updateSnippetInput.set("value",w.snippet),this._updateExtentInput.set("value",
w.extent)):(this._updateDescriptionInput.set("value",""),this._updateSnippetInput.set("value",""),this._updateExtentInput.set("value",""));var x=function(u,E){if(!u.success||"completed"!==u.status&&u.status){var z=this.i18n.error.errorWhileUpdate;u&&u.error&&u.error.message&&(z=u.error.message);-1<z.indexOf("The request size is greater than the max allowed of 1024MB")&&(z=this.i18n.error.exceedFileSizeLimit);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:z});t.reject(!0)}else t.resolve(!0)};g=function(u){this._disable(!1);t.reject(u)};w&&"Vector Tile Service"===w.type?this._updateItemResource(w,this._updateItemForm).then(V.hitch(this,x),V.hitch(this,g)):(this._uploadProgressBar.reset(),this._uploadProgressBar.show(),this.itemAPI.update.call(this.itemAPI,w,this._updateItemForm,this._updateItemFile.files[0]).then(function(u){this._uploadProgressBar.hide();x(u)}.bind(this),g.bind(this)));return t},_updateItemResource:function(w,t){var l=this.util.getUser(),
f=w.folderId||w.ownerFolder;l={url:esriGeowConfig.restBaseUrl+"content/users/"+(w.owner||l.username)+"/"+(f?f+"/":"")+"/items/"+w.id+"/updateResources",form:t,content:{resourcesPrefix:"styles",filename:"root.json"}};V.query("input",t).forEach(V.hitch(this,function(g){g&&"file"!==g.name&&V.attr(g,"name","")}));return this.util.request(l,{usePost:!0}).then(V.hitch(this,function(g){return g}),V.hitch(this,function(g){throw{message:this.i18n.error.invalidStyleFile};}))},_checkStatus:function(w,t,l){this.util.request({url:esriGeowConfig.restBaseUrl+
"content/users/"+w.owner+(w.ownerFolder&&"/"!==w.ownerFolder?"/"+w.ownerFolder:"")+"/items/"+w.id+"/status"}).then(V.hitch(this,function(f){f=f||{status:"failed"};"completed"===f.status?l(w):(t=(t||500)+250,setTimeout(V.hitch(this,function(){this._checkStatus(w,t,l)}),t))}))},_disable:function(w){this._updateItemBtn.set("disabled",w);this._cancelBtn.set("disabled",w);this.domUtil.showHide(this._waitingSpan,w);V.style(this._waitingSpan,"display",w?"inline-block":"none")}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(V,L,v,w){return V("dijit.form.SimpleTextarea",w,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);v("ie")&&this.cols&&
L.add(this.textbox,"dijitTextAreaCols")},filter:function(t){t&&(t=t.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(t){if(this.maxLength){var l=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,"");l=f.length-l;if(0<l){var g=this.textbox;if(g.selectionStart){var h=g.selectionStart,x=0;v("opera")&&(x=(this.textbox.value.substring(0,h).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,h-l-x)+f.substring(h-x);g.setSelectionRange(h-l,h-l)}else this.ownerDocument.selection&&
(g.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-l),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C){b=w("dijit._InlineEditor",[a,b,d],{templateString:C,contextRequire:V,postMixInProperties:function(){this.inherited(arguments);this.messages=h.getLocalization("dijit","common",this.lang);L.forEach(["buttonSave","buttonCancel"],function(B){this[B]||(this[B]=this.messages[B])},this)},buildRendering:function(){this.inherited(arguments);var B="string"==typeof this.editor?E.getObject(this.editor)||V(this.editor):this.editor,D=this.sourceStyle,
F="line-height:"+D.lineHeight+";",r=g.getComputedStyle(this.domNode);L.forEach(["Weight","Family","Size","Style"],function(G){r["font"+G]!=D["font"+G]&&(F+="font-"+G+":"+D["font"+G]+";")},this);L.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(G){this.domNode.style[G]=D[G]},this);var A=this.inlineEditBox.width;"100%"==A?(F+="width:100%;",this.domNode.style.display="block"):F+="width:"+(A+(Number(A)==A?"px":""))+";";A=E.delegate(this.inlineEditBox.editorParams,
{style:F,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new B(A,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var B=this.editWidget;this.inlineEditBox.autoSave?this.own(v.after(B,"onChange",E.hitch(this,"_onChange"),!0),z(B,"keydown",E.hitch(this,"_onKeyDown"))):"intermediateChanges"in B&&(B.set("intermediateChanges",
!0),this.own(v.after(B,"onChange",E.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var B=this.editWidget;return String(B.get("displayedValue"in B||"_getDisplayedValueAttr"in B?"displayedValue":
"value"))},_onKeyDown:function(B){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!B.altKey&&!B.ctrlKey&&(B.keyCode==u.ESCAPE?(B.stopPropagation(),B.preventDefault(),this.cancel(!0)):B.keyCode==u.ENTER&&"INPUT"==B.target.tagName&&(B.stopPropagation(),B.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&c.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(c._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){q.selectInputText(this.editWidget.focusNode)}))}});a=w("dijit.InlineEditBox"+(p("dojo-bidi")?"_NoBidi":""),a,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:y,editorWrapper:b,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=p("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(z(this.displayNode,e,E.hitch(this,"_onClick")),z(this.displayNode,"mouseover, focus",E.hitch(this,"_onMouseOver")),z(this.displayNode,"mouseout, blur",E.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=E.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);l.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(B){x.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",B)},_setDisabledAttr:function(B){this.domNode.setAttribute("aria-disabled",B?"true":"false");B?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);l.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",B);this._set("disabled",B)},_onMouseOver:function(){this.disabled||l.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){l.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(B){this.disabled||(B&&(B.stopPropagation(),B.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
t.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var B=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?E.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:g.getComputedStyle(this.displayNode),save:E.hitch(this,"save"),cancel:E.hitch(this,"cancel"),
textDir:this.textDir},B);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var D=this.wrapperWidget;l.add(this.displayNode,"dijitOffScreen");l.remove(D.domNode,"dijitOffScreen");g.set(D.domNode,{visibility:"visible"});t.set(this.displayNode,"tabIndex","-1");var F=D.editWidget,r=this;m(F.onLoadDeferred,E.hitch(D,function(){F.set("displayedValue"in F||"_setDisplayedValueAttr"in F?"displayedValue":"value",r.value);this.defer(function(){D.saveButton&&D.saveButton.set("disabled",
"intermediateChanges"in F);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(B){var D=this.wrapperWidget;g.set(D.domNode,{visibility:"hidden"});l.add(D.domNode,"dijitOffScreen");l.remove(this.displayNode,"dijitOffScreen");t.set(this.displayNode,"tabIndex",this._savedTabIndex);B&&
c.focus(this.displayNode)},save:function(B){if(!this.disabled&&this.editing){this._set("editing",!1);var D=this.wrapperWidget.getValue();this.set("value",D);this._showText(B)}},setValue:function(B){x.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",B)},_setValueAttr:function(B){B=E.trim(B);var D=this.renderAsHtml?B:B.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":D||this.noValueIndicator;this._set("value",B);this._started&&this.defer(function(){this.onChange(B)})},getValue:function(){x.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(B){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(B))}});p("dojo-bidi")&&(a=w("dijit.InlineEditBox",
a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));a._InlineEditor=b;return a})},"arcgisonline/pages/dijit/UploadProgressBar":function(){define("require exports tslib dojo/topic dojo/text!./UploadProgressBar/UploadProgressBar.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../utils/dom ../utils/culture ../../tsutils/declareDecorator".split(" "),function(V,L,v,w,t,l,f,g,h,x,u){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);
f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);return function(){function E(z,p){this.templateString=t["default"];this.i18n=l["default"]}E.prototype.startup=function(){this.inherited(arguments);this.own(w["default"].subscribe("item/upload-progress-update",this._onProgressUpdate.bind(this)))};E.prototype.hide=function(){h["default"].hideNode(this.domNode)};E.prototype.show=function(){h["default"].showNode(this.domNode)};E.prototype.reset=
function(){this._uploadPercentLabel.textContent=this._uploadProgressFill.style.width="0%";this._uploadPercentLabel.innerHTML=x["default"].getPercentString(0);this._uploadProgressFill.style.width="0%"};E.prototype._onProgressUpdate=function(z){this._uploadProgressFill.classList[100===z?"add":"remove"]("upload-progress-bar__fill--full");this._uploadPercentLabel.innerHTML=x["default"].getPercentString(z/100);this._uploadProgressFill.style.width=z+"%"};return E=v.__decorate([u["default"](g["default"],
f["default"])],E)}()})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],function(V,L,v,w,t){w=v.__importDefault(w);t=v.__importDefault(t);return function(){function l(){}l.getString=function(f,g,h){var x,u="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),E="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),z=null!==(x=l.getRootLocale(t["default"].locale))&&void 0!==x?x:"en";h?h.number=g:h={number:g};return 1===g||-1<u.indexOf(z)?
w["default"].substitute(f.single,h):1!==g&&-1<E.indexOf(z)?w["default"].substitute(f.multiple,h):w["default"].substitute(f.unknown,h)};l.stripCultureFormat=function(f,g){if((null===f||void 0===f?0:f.length)&&(null===g||void 0===g?0:g.length)){var h=f.indexOf("-"+g);if(-1<h)return f.substring(0,h)}return f};l.getRootLocale=function(f){if(null===f||void 0===f?0:f.length){f=f.split("-")[0];if(null===f||void 0===f?0:f.length)f=f.toLowerCase();return f}return f};l.getLocaleFormat=function(f){if(null===
f||void 0===f?0:f.length)if(f=f.split("-"),1<f.length)return f[1].toLowerCase()};l.getTrialLocale=function(f){var g=["pt-br","pt-pt","zh-cn","zh-hk","zh-tw"];return-1<(null===f||void 0===f?void 0:f.indexOf("-"))&&-1===g.indexOf(f)?this.getRootLocale(f):f};l.getActualCulture=function(f,g){var h,x=null!==(h=null===f||void 0===f?void 0:f.toLowerCase())&&void 0!==h?h:"",u=x.split("-");if(1<u.length){if(h=g.filter(function(E){return E.culture===x}).shift())return x;h=g.filter(function(E){return E.culture===
u[0]}).shift();if(null===h||void 0===h?0:h.cultureFormats){if(h.cultureFormats.filter(function(E){return E.format===u[1]}).shift())return h.culture}else if(h)return h.culture}return f};l.getSelectedFormat=function(f,g){return g.filter(function(h){return h.format===f}).shift()};l.getPercentString=function(f){var g=t["default"].locale.toLowerCase();return"ar"===g?"%"+100*f:f.toLocaleString(g,{style:"percent"})};return l}()})},"arcgisonline/sharing/geow/Item":function(){define("require exports tslib ../../esriGeowConfig ../util dojo/Deferred dojo/dom-form dojo/topic dojo/promise/all esri/request".split(" "),
function(V,L,v,w,t,l,f,g,h,x){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);return function(){function u(){}u.addItem=function(E,z,p){return u._action(E,z,p,"addItem")};u.update=function(E,z,p){return u._action(E,z,p,"update")};u._action=function(E,z,p,m){if(t["default"].getUser())return m=u._getActionItemUrl(E,m),E=5242880<p.size?u._multiPartAction(m,z,p,E):u._postForm(m,z)};u._multiPartAction=
function(E,z,p,m){var e=new l["default"],c=function(k){e.reject(k)},a=function(k){k.isMultipart=!0;e.resolve(k)},b=function(k){u._commitItem(m,z).then(a,c)},d=function(k){u._cancelItem(m);"Request canceled"!==k.message&&c.call(u,k)};u._startMultipartRequest(E,m.fileName?m.fileName:p.name).then(function(k){k.success?(m.id=k.id,u._addItemParts(m,p).then(b,d)):c.call(u,k.error)},c);return e};u._postForm=function(E,z){return t["default"].request({url:E,form:z,timeout:0},{usePost:!0})};u._startMultipartRequest=
function(E,z){return t["default"].request({url:E,content:{multipart:!0,filename:z,async:!0}},{usePost:!0})};u.generatePart=function(E,z){var p,m,e,c,a,b,d,k,n;return v.__generator(this,function(q){switch(q.label){case 0:p=E.name,m=E.size,e=5242880,c=Math.ceil(m/e),a=0,1E4<c&&(e=Math.ceil(m/1E4),c=Math.ceil(m/e)),q.label=1;case 1:if(!(a<c))return[3,3];b=new FormData;d=a*e;k=E.slice(d,d+e);a++;n={partNum:a,size:k.size};b.append("partNum",String(n.partNum));b.append("streamdata","true");b.append("f",
"json");b.append("token",z);b.append("file",k,p);return[4,{partData:n,formData:b}];case 2:return q.sent(),[3,1];case 3:return[2]}})};u._addItemParts=function(E,z){var p=this,m=z.size,e=new l["default"],c={};this.pendingRequests=[];var a=3;g["default"].subscribe("cancel-item-upload",function(){p.pendingRequests.forEach(function(n){n&&!n.isFulfilled()&&n.cancel()})});var b=u.generatePart(z,t["default"].getToken()),d=!0,k=function(){if(d){var n=[];u.uploadError=!1;for(var q=0;q<a;q++){var y=b.next(),
C=y.value;if(y.done){d=!1;break}n.push(C)}h["default"](n.map(function(B){var D=new l["default"];return u._addPartWithRetries(E,B.partData,B.formData,1,m,c,D)})).then(function(){d||e.resolve();a=u.uploadError?Math.ceil(a/2):Math.min(++a,10);k()},function(B){d=!1;e.reject(B)})}};k();return e};u._addPartWithRetries=function(E,z,p,m,e,c,a){var b=u._getActionItemUrl(E,"addPart");b=x["default"]({url:b,form:p,timeout:0},{returnProgress:!0,disableIdentityLookup:!0}).then(function(d){d.success?a.resolve(d):
a.reject(d.error)},function(d){m++;u.uploadError=!0;"Request canceled"!==d.message&&7>=m?u._addPartWithRetries(E,z,p,m,e,c,a):a.reject(d)},function(d){d.loaded&&"upload"===d.transferType&&(c[z.partNum.toString()]=d.loaded,d=Object.keys(c).reduce(function(k,n){return k+c[n]},0),g["default"].publish("item/upload-progress-update",Math.floor(d/e*100)))});u.pendingRequests.push(b);return a};u._commitItem=function(E,z){var p=u._getActionItemUrl(E,"commit");var m=z instanceof FormData?{title:E.fileName,
type:E.fileType}:v.__assign({},f["default"].toObject(z));return t["default"].request({url:p,content:m},{usePost:!0})};u._cancelItem=function(E){E=u._getActionItemUrl(E,"cancel");return t["default"].request({url:E},{usePost:!0})};u._getUserUrl=function(E){var z=t["default"].getUser();z=z.username||z.email;return w["default"].restBaseUrl+"content/users/"+(E.owner||z)};u._getActionItemUrl=function(E,z){var p=this._getUserUrl(E);E.folderId&&(p=p+"/"+E.folderId);return p="addItem"===z?p+"/addItem":p+"/items/"+
E.id+"/"+z};u.uploadError=!1;return u}()})},"arcgisonline/sharing/dijit/dialog/TagsDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/MultiSelect,dijit/form/SimpleTextarea,arcgisonline/sharing/geow/Content"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.TagsDlg");V.require("dijit._Widget");V.require("dijit._Templated");V.require("dijit.Dialog");V.require("dijit.form.MultiSelect");V.require("dijit.form.SimpleTextarea");
V.require("arcgisonline.sharing.geow.Content");V.declare("arcgisonline.sharing.dijit.dialog.TagsDlg",[L._Widget,L._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_tagsDialog" dojoAttachPoint\x3d"onHide:clear" title\x3d"${i18n.tagDlgTitle}" class\x3d"tagsForm"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_tagsErrorDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentTagsDiv" style\x3d"display:block;"\x3e\r\n\t\t\x3clabel \x3e${i18n.selectTag}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t    \x3cselect dojoAttachPoint\x3d"_tagsSelect" dojoType\x3d"dijit.form.MultiSelect" style\x3d"width:100%;height:150px;"\x3e\x3c/select\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_cancelBtn" dojotype\x3d"dijit.form.Button" class\x3d"cancel" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.cancel}\x3c/div\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_submitBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" type\x3d"submit" dojoAttachEvent\x3d"onClick:getSelectedTags" style\x3d"float:right;"\x3e${i18n.useSelected}\x3c/div\x3e  \r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentNoTagsDiv" style\x3d"display:none;"\x3e\r\n\t\t\x3clabel\x3e${i18n.tagsNotAvailable}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv id\x3d"button_tags-ok" dojoAttachPoint\x3d"_okBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.ok}\x3c/div\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
_tagsDialog:null,_contentTagsDiv:null,_contentNoTagsDiv:null,_tagsSelect:null,i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TagsDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").tagsDlg)},postCreate:function(){},_handleCancelClick:function(w){w.preventDefault();
this._tagsDialog.hide()},clear:function(){this._tagsSelect.reset();V.style(this._contentTagsDiv,"display","none");V.style(this._contentNoTagsDiv,"display","none")},hide:function(){this._tagsDialog.hide()},show:function(w){this.clear();var t=arcgisonline.sharing.util.getUser(),l=esriGeowConfig.restBaseUrl+"community/users/";l=w&&(w.username||w.email)?l+(w.username?w.username:w.email):l+t.username;arcgisonline.sharing.util.getJson(l+"/tags",V.hitch(this,this._handleTagResponse),V.hitch(this,this._handleError));
this._tagsDialog.show()},_handleTagResponse:function(w){0==w.tags.length?V.style(this._contentNoTagsDiv,"display",""):(V.style(this._contentTagsDiv,"display",""),V.empty(this._tagsSelect.domNode),V.forEach(w.tags,function(t){V.create("option",{innerHTML:t.tag,value:t.tag},this._tagsSelect.domNode)},this))},_handleError:function(w){},getSelectedTags:function(w){w.preventDefault();w=[];w=this._tagsSelect.get("value");V.publish("onSelectedTagsUpdate",[w.toString()])}})})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),
function(V,L,v,w,t,l){l=L("dijit.form.MultiSelect"+(w("dojo-bidi")?"_NoBidi":""),l,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(g){this.containerNode.appendChild(g);this.domNode.scrollTop=this.domNode.offsetHeight;g=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=
g},this);this._set("value",this.get("value"))},getSelected:function(){return t("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return V.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(f){w("android")?t("option",this.containerNode).orphan().forEach(function(g){var h=g.ownerDocument.createElement("option");h.value=g.value;h.selected=-1!=V.indexOf(f,g.value);h.text=g.text;h.originalText=
g.originalText;this.containerNode.appendChild(h)},this):t("option",this.containerNode).forEach(function(g){g.selected=-1!=V.indexOf(f,g.value)});this.inherited(arguments)},invertSelection:function(f){var g=[];t("option",this.containerNode).forEach(function(h){h.selected||g.push(h.value)});this._setValueAttr(g,!(!1===f||null==f))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&v.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));
this.inherited(arguments)}});w("dojo-bidi")&&(l=L("dijit.form.MultiSelect",l,{addSelected:function(f){f.getSelected().forEach(function(g){g.text=this.enforceTextDirWithUcc(this.restoreOriginalText(g),g.text)},this);this.inherited(arguments)},_setTextDirAttr:function(f){this.textDir==f&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",f),t("option",this.containerNode).forEach(function(g){this._created||g.value!==g.text||(g.value=g.text);g.text=this.enforceTextDirWithUcc(g,g.originalText||
g.text)},this))}}));return l})},"arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/CheckBox dijit/form/TextBox dijit/form/RadioButton dijit/form/Select ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys ./_CreateItemUtilMixin ./ItemPropertiesDlg dojo/topic esri/IdentityManager esri/lang esri/Evented esri/arcgis/Portal ../../geow/Account ./_PublishTileServiceDlgMixin ../../../esriGeowConfig ../../util ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/serviceUtil ../../../pages/statusUtil ../../../map/core/canUseForPublish esri/map esri/tasks/Geoprocessor esri/dijit/VisibleScaleRangeSlider ../../../pages/isGeographic preact ../../../pages/components/SelectLayerProperties dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za,ia,T,la,S,P,I,ba,W,aa){return V("arcgisonline.sharing.dijit.dialog.PublishTilesDlg2",[g,h,x,Z,M],{baseClass:"esriPublishTilesDlg",showFolders:!1,_typeInfo:"mapserver",userFolders:"",templateString:aa,onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},W);this._portalUser=(this._portal=ca.portal)&&this._portal.getPortalUser();switch(this.type){case "tiles":this._typeInfo=
"mapserver";break;case "scenes":this._typeInfo="sceneserver";break;case "features":this._typeInfo="featureserver";break;case "vectorTiles":this._typeInfo="vectortileserver";break;case "tiledImagery":case "dynamicImagery":this._typeInfo="imageserver";break;default:this._typeInfo=this.type}},postCreate:function(){this.inherited(arguments);U.getSelf(f.hitch(this,function(Q){this._loadConnections();this._portal?this._init():(this._portal=new K.Portal({url:ca.restBaseUrl,self:Q}),this._portal.on("load",
f.hitch(this,function(){this._connect&&this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){this._restBaseUrl=ca.allSSL?this._portal.portalUrl.replace("http:/","https:/"):this._portal.portalUrl;this._contentUrl=this._restBaseUrl+"content";this._publishUrl=this._contentUrl+"/users/"+this._portalUser.username;this.set("message",this.get("message"));this._portal&&!this._portal.isPortal&&(this.cacheStorageInfo.storageFormat="esriMapCacheStorageModeExploded");
this._itemPropertiesDlg.on("load",f.hitch(this,function(){this._loadData().then(f.hitch(this,function(Q){this._itemPropertiesDlg.set("focus","title");"sceneserver"===this._typeInfo&&this._itemPropertiesDlg._title.set("disabled",!0);ca.self.hasCategorySchema&&(Q=[],this.fsItem?Q=this.fsItem.categories||Q:this._selectedService&&(Q=this._selectedService.categories||Q),this._itemPropertiesDlg.set("categories",Q))}))}))},destroy:function(){w(".dijit",this.contentNode).map(k.byNode).forEach(function(Q){Q.destroyRecursive?
Q.destroyRecursive():Q.destroy&&Q.destroy();Q=null});this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._tagsDijit=this._portalUser=this._portal=null},_loadConnections:function(){this.own(H.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)})),H.subscribe("/esri/disable",f.hitch(this,function(Q,N){this.set("disabled",Q,N,!0)})),L(this._agoBasemapRadio,"click",f.hitch(this,
function(){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._updateLODs(this.lods)})),L(this._customBasemapRadio,"click",f.hitch(this,function(){w(".visibleScaleRange",this.domNode).addClass("hide");this._isUserDefinedTileInfo=!0;this._customBasemapUrl.set("disabled",!1);this.userDefinedTileInfo&&this._updateLODs(this.userDefinedTileInfo.lods)})),L(this._customBasemapUrl,"keyup",f.hitch(this,function(Q){Q.keyCode===r.ENTER&&(F.stop(Q),this._customBasemapUrl.onChange(this._customBasemapUrl.get("value")))})),
L(this._customBasemapUrl,"change",f.hitch(this,function(Q){Q&&Q.length?(this._customBasemapUrl.set("disabled",!0),this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._fetchTileLayerInfo(Q,this._type).then(f.hitch(this,function(N){this.userDefinedTileInfoUrl=Q;this.userDefinedTileInfo=N;this._updateLODs(N.lods);this._customBasemapUrl.set("disabled",!1);this.set("disabled",this._buildingVisibleRange)}),f.hitch(this,function(N){this.userDefinedTileInfo=null;this._showError(N)}))):
(this.userDefinedTileInfo=null,w(".visibleScaleRange",this.domNode).addClass("hide"))})),L(this._tilesOnDemand,"click",f.hitch(this,"_visibleScaleRangeChange")),L(this._selectAttributesContainer,"click",this._selectAttributesClick.bind(this)))},_selectAttributesClick:function(){var Q=this.fsItem&&this.fsItem.layers||this._selectedServiceLayers,N=this.vtLayerProperties||this.fsItem&&this.fsItem.adminServiceInfo&&this.fsItem.adminServiceInfo.layerProperties||[],R=u.create("div",null,document.body,"last");
I.render(I.h(ba["default"],{layers:Q,layerProperties:N,className:"normalize-modal",onCancel:function(){this._selectAttributesBtn.focus();I.render(null,R)}.bind(this),onSubmit:function(X){this.vtLayerProperties=X;this.vectorTilePublishParams=f.mixin(this.vectorTilePublishParams||{},{layerProperties:X});this._selectAttributesBtn.focus();I.render(null,R)}.bind(this)}),R);R.firstChild.classList.add("bring-modal-to-front")},_updateLODs:function(Q){(Q=Q||this.lods)&&this.set("calculatedScales",this._calculateConstraints({layers:[{minScale:Q[0].scale,
maxScale:Q[Q.length-1].scale}]}))},_adjustDefaultLODs:function(Q){var N=Q.maxScale||0,R=Q.minScale||this.lods[0].scale;this.lods=c.filter(this.lods,function(X){return X.scale>=N&&X.scale<=R});return this._updateLODs(this.lods)},_getLayers:function(Q){return Q&&Q.length?c.map(Q,function(N){N.layerDefinition&&(N=f.mixin(N,N.layerDefinition),delete N.layerDefinition);return N}):null},_getLayerDefs:function(Q){return Q&&Q.length?c.filter(Q,function(N){return N.layerDefinition}).map(function(N){return{id:N.id,
layerDefinition:N.layerDefinition}}):null},_loadData:function(){if("imageserver"===this._typeInfo)return this._loadImageData();var Q=new e;"wfs"!==this._type&&"ogcfeatures"!==this._type&&this.fsItem?(this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._selectedService=f.mixin({},this.fsItem),this._fetchFSInfo(this._selectedService).then(f.hitch(this,function(N){this._featureServiceJson=N.serviceInfo;this._selectedLayers=(this._selectedService.itemData=N.itemData)&&N.itemData.layers;
this._spatialReference=this._featureServiceJson&&this._featureServiceJson.spatialReference||{wkid:4326};"scenes"!==this._type||P(this._spatialReference)||(this._spatialReference.wkid?w(".sceneProperties .sceneDataDisplay",this.domNode).removeClass("hide"):(w(".sceneProperties .sceneDataDisplay",this.domNode).addClass("hide"),this._globalWkidRadio.set("checked",!0)));this._itemPropertiesDlg.set("summary",this._selectedService.snippet||"");this._itemPropertiesDlg.set("tags",this._selectedService.tags);
this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this._selectedService.title));this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders);v.set(this._globalWkidRadioLabel,"innerHTML",E.substitute(this.i18n.publishTileServiceDlg.globalWkid,{wkid:"4326"}));v.set(this._localWkidRadioLabel,"innerHTML",E.substitute(this.i18n.publishTileServiceDlg.localWkid,{wkid:""+this._spatialReference.wkid||4326}));this._selectedServiceLayers=N.layers&&N.layers.layers;this.set("calculatedScales",
this._calculateConstraints(N.layers));"tiles"===this._type&&this._checkTilesOnDemandSupport(N.layers);this.set("disabled",this._buildingVisibleRange);this.fsItem.isMultipatchFeatureService&&(w(".sceneProperties .sceneMultipatch",this.domNode).removeClass("hide"),N=this._featureServiceJson&&-1<this._featureServiceJson.capabilities.indexOf("ChangeTracking"),this._enableSceneUpdates.set("disabled",N));"vectorTiles"===this._type&&this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",
!0);Q.resolve(this._selectedService)}),f.hitch(this,function(N){this._showError(N);Q.reject(N)}))):(this.fsItem&&(this._itemPropertiesDlg.set("summary",this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders)),Q.resolve(this.fsItem));return Q},_loadImageData:function(){var Q=new e;this.fsItem?(this._itemPropertiesDlg.set("summary",
this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders),Q.resolve(this.fsItem)):Q.reject(Error("Cannot locate image service item"));return Q},_getSuggestedTitle:function(Q,N){if("features"!==this._type)return N;var R=Q&&Q.resultData||[],X=this._type.toLowerCase(),Y="Feature Service";N=this.sublayer&&this.sublayer.name&&
N+"_"+this.sublayer.name||N;switch(X){case "wfs":Y="WFS";break;case "ogcfeatures":Y="OGCFeatureService";break;case "scenes":Y="Scene Service";break;case "features":Y="Feature Service";break;default:Y="Feature Service"}R=c.filter(R,function(da){return da.type&&da.type===Y&&-1<da.title.indexOf(N)});return N+(R.length?"_"+(R.length+1):"_1")},_setMessageAttr:{node:"_message",type:"innerHTML"},_getMessageAttr:function(){if(this.message)return this.message;var Q=this._type.toLowerCase(),N=W.publishTileServiceDlg;
switch(Q){case "wfs":return N.wfsServiceDetailsDesc;case "ogcfeatures":return N.ogcFeatureServiceDetailsDesc;case "scenes":return N.sceneServiceDetailsDesc;case "features":return N.viewServiceDetailsDesc;case "vectortiles":return N.vectorServiceDetailsDesc;default:return N.serviceDetailsDesc}},_setTypeAttr:function(Q){this._type=Q;"tiles"===Q?w(".tileProperties",this.domNode).removeClass("hide"):"vectorTiles"===Q?(w(".vectorTileProperties",this.domNode).removeClass("hide"),ma.showNode(this._tilePropertiesContainer),
ma.hideNode(this._tilesOnDemandContainer),this._customBasemapUrl.set("placeholder",this._customBasemapUrl.get("placeholder").replace("/MapServer","/VectorTileServer"))):"scenes"===Q?w(".sceneProperties",this.domNode).removeClass("hide"):"features"===Q&&(Q=(this.fsItem&&this.fsItem.layers||this._selectedServiceLayers||[]).some(function(N,R){return N&&N.id!==R}))&&(this._preserveIds.set("checked",Q),w(".viewProperties",this.domNode).removeClass("hide"))},_checkTilesOnDemandSupport:function(Q){var N=
!1;ca.tilesOnDemandEnabled&&Q&&Q.layers&&(N=!c.some(Q.layers,function(R){return!1===ia(R,!1)}));b[N?"remove":"add"](this._tilesOnDemandContainer,"hide");this._tilesOnDemand.set("checked",N)},_enableChangeTrackingOnSource:function(){var Q=new e,N=this.fsItem,R=N.isMultipatchFeatureService,X=this._featureServiceJson,Y=X&&X.capabilities||"";X=0<Y.indexOf("ChangeTracking");N=N.adminUrl+"/updateDefinition";Y={capabilities:X?Y:Y+",ChangeTracking"};R&&!X&&this._enableSceneUpdates.checked?fa.request({url:N,
content:{async:!0,updateDefinition:JSON.stringify(Y)}},{usePost:!0}).then(function(da){da.statusURL?za.checkAsyncJobStatus(da.statusURL).then(function(){Q.resolve(!0)},function(){Q.resolve(!0)}):Q.resolve(!0)}):Q.resolve(!0);return Q},_getBusyMessageAttr:function(){var Q=this._type.toLowerCase(),N=W.publishTileServiceDlg;switch(Q){case "wfs":return N.publishingWfsService;case "ogcfeatures":return N.publishingOGCFeatureService;case "scenes":return N.publishingSceneService;case "features":return N.publishingViewService;
case "tiledimagery":return W.connectDataset.publishing;case "dynamicimagery":return W.connectDataset.publishing;default:return N.publishingTileService}},_setShowFoldersAttr:function(Q){this._showFolders=Q},_setItemAttr:function(Q){if(!this.fsItem||this.fsItem&&Q.url!==this.fsItem.url)this.fsItem=f.mixin({},Q),this._created&&this._loadData().then(f.hitch(this,function(N){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._agoBasemapRadio.set("checked",!0);this._itemPropertiesDlg.set("focus",
"title");ca.self.hasCategorySchema&&this._itemPropertiesDlg.set("categories",this.fsItem.categories)}))},_setFoldersAttr:function(Q){var N=this._portalUser&&this._portalUser.username;this._userFolders=Q.map(function(R){R&&R.id===N&&(R=f.mixin(R,{id:"/"}));return R})},_setFocusAttr:function(Q){Q=w(Q,this.domNode);D.focus(Q&&Q.length?Q[0]:this._title.domNode)},_setDisabledAttr:function(Q,N,R){this.set("readOnly",Q,N,R)},_setReadOnlyAttr:function(Q,N,R){w(".dijit",this.domNode).map(k.byNode).forEach(function(X){X.set("disabled",
Q)});w("a",this.domNode)[Q?"addClass":"removeClass"]("disabledLink");w("label",this.domNode)[Q?"addClass":"removeClass"]("disabled");this._itemPropertiesDlg.set("disabled",Q);R||(Q&&N&&H.publish("/dlg/busyMessage",N),H.publish("/esri/disable",Q,N))},_setCalculatedScalesAttr:function(Q){this._buildingVisibleRange=!0;var N={constraints:Q,minScale:Q.minScale,maxScale:Q.maxScale||18055.954822},R=this.fsItem&&this.fsItem.url||this._selectedService&&this._selectedService.url,X=this.fsItem&&this.fsItem.layers||
this._selectedServiceLayers,Y=f.clone(this.userDefinedTileInfo&&this.userDefinedTileInfo.lods?this.userDefinedTileInfo.lods:this.tileCacheInfo.lods);"tiles"===this.type?(w(".visibleScaleRange",this.domNode).removeClass("hide"),this._visibleScaleRangeSlider&&(this._visibleScaleRangeSlider.destroyRecursive(),u.empty(this._visibleScaleRangeContainer)),this._visibleScaleRangeChangeHandler&&(this._visibleScaleRangeChangeHandler.remove(),this._visibleScaleRangeChangeHandler=void 0),R?(ma.showNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),ma.activateNode(this._visibleRangeLoader),p(c.map(X,f.hitch(this,function(da){return ra.getSuggestedScaleRange(R+"/"+da.id)}))).then(f.hitch(this,function(da){var ea,ha,na;da.forEach(f.hitch(this,function(qa,ua){qa&&(ea=O.isDefined(ea)?qa&&qa.minScale>ea?qa.minScale:ea:qa?qa.minScale:Q.minScale,na=O.isDefined(na)?qa&&qa.maxScale&&qa.maxScale<na?qa.maxScale:na:qa&&qa.maxScale?qa.maxScale:18055.954822,ha=O.isDefined(ha)?qa&&qa.minScale&&qa.minScale<ha?qa.minScale:ha:(qa&&
qa.minScale?qa.minScale:Q.minScale)||this.SCALE_MIN)}));this._maxSupportedMinScale=Q.minScale||this.SCALE_MIN;this._calculatedMinScale=(this._cacheOnDemandMinScale=ha||ea)||Q.minScale;N.minScale=this._calculatedMinScale;N.maxScale=na||N.maxScale;N.minScale>Q.minScale&&0<Q.minScale&&(N.minScale=Q.minScale);N.maxScale>=N.minScale&&0<N.minScale&&(N.maxScale=this._normalizeMaxScale(N.minScale,N.maxScale,Y));this._visibleScaleRangeSlider=new S(N,u.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();
this._visibleScaleRangeChangeHandler=L(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ma.deactivateNode(this._visibleRangeLoader);ma.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}),f.hitch(this,function(){this._calculatedMinScale=
Q.minScale;this._visibleScaleRangeSlider=new S(N,u.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=L(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);ma.deactivateNode(this._visibleRangeLoader);ma.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);
this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}))):(this._calculatedMinScale=void 0,this._visibleScaleRangeSlider=new S(N,u.create("div",null,this._visibleScaleRangeContainer)),this._visibleScaleRangeSlider.startup(),this._visibleScaleRangeChangeHandler=L(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange")),this.own(this._visibleScaleRangeChangeHandler),ma.deactivateNode(this._visibleRangeLoader),ma.hideNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),this._buildingVisibleRange=!1,this.set("disabled",this._buildingVisibleRange),this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))):(this._buildingVisibleRange=!1,this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))},_visibleScaleRangeChange:function(){var Q=this._tilesOnDemand.get("checked");if(this._calculatedMinScale&&this._visibleScaleRangeSlider&&this._visibleScaleRangeSlider._started){var N=this._visibleScaleRangeSlider.get("minScale");
(0===N&&0!==this._calculatedMinScale||N>this._calculatedMinScale)&&Q?(ma.showNode(this._increaseScaleWarning),this._increaseScaleWarning.scrollIntoView(!1)):ma.hideNode(this._increaseScaleWarning)}else ma.hideNode(this._increaseScaleWarning)},_getItemAttr:function(){return"wfs"===this._type?this.get("wfsItem"):"ogcfeatures"===this._type?this.get("ogcFeatureItem"):"scenes"===this._type?this.get("sceneItem"):"features"===this._type?this.get("viewItem"):"vectorTiles"===this._type?this.get("vectorTileItem"):
this.get("tileItem")},_getOgcFeatureItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N={name:Q.title.replace(/ /g,"_")};return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:N,outputType:"OGCFeatureService"},publishParams:N}},_getWfsItemAttr:function(){var Q=this._itemPropertiesDlg.get("item");var N=f.mixin({},{name:Q.title.replace(/ /g,"_"),wfsProperties:{title:Q.title,"abstract":Q.snippet,keyword:Q.tags}});return{item:Q,publishContent:{itemid:this.fsItem.id,
filetype:"featureService",publishParameters:N,outputType:"WFS"},publishParams:N}},_getSceneItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N=this._globalWkidRadio.get("checked"),R=this._featureServiceJson;var X=f.mixin({},{name:Q.title.replace(/ /g,"_")});N||(X=f.mixin(X,{targetSR:R.spatialReference}));return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:X,outputType:"sceneService",buildInitialCache:!1},publishParams:X}},_getTileItemAttr:function(){var Q=
this._visibleScaleRangeSlider.get("actualMaxScale"),N=this._visibleScaleRangeSlider.get("minScale")||this._maxSupportedMinScale||this.SCALE_MIN,R=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):f.clone(this.tileCacheInfo),X=f.clone(this.cacheStorageInfo),Y={minScale:N,maxScale:Q},da=this._tilesOnDemand.get("checked");var ea=this._itemPropertiesDlg.get("item");R.dpi&&!R.preciseDpi&&(R.preciseDpi=R.dpi);for(var ha=0;ha<R.lods.length;ha++)delete R.lods[ha].label;if(!R.lods.some(function(qa){return qa.scale<=
N&&qa.scale>=Q},this)){ha=R.lods.filter(function(qa){return qa.scale>=N},this).reverse().shift();var na=R.lods.filter(function(qa){return qa.scale<=Q},this).shift();ha&&(N=ha.scale,Y.minScale=N);na&&(Q=na.scale,Y.maxScale=Q)}R=f.mixin(Y,{name:ea.title.replace(/ /g,"_"),tilingSchema:{tileCacheInfo:R,tileImageInfo:this.tileImageInfo,cacheStorageInfo:X}});ca.tilesOnDemandEnabled&&(R.cacheOnDemand=da)&&(R.cacheOnDemandMinScale=this._cacheOnDemandMinScale,R.capabilities="Map,ChangeTracking");return{item:ea,
publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:R,outputType:"tiles",buildInitialCache:!1},publishParams:R}},_getVectorTileItemAttr:function(){var Q=this._featureServiceJson;Q=Q.layers&&Q.layers.length?Q.layers[0]:{};var N={minScale:Q.minScale||0,maxScale:Q.maxScale||0};Q=this._itemPropertiesDlg.get("item");var R=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):void 0;N=f.mixin(N,{name:Q.title.replace(/ /g,"_")},this.vectorTilePublishParams);R&&(N.tilingSchema.tileCacheInfo=
R);return{item:Q,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:N,outputType:"vectorTiles",buildInitialCache:!1},publishParams:N}},_getViewItemAttr:function(){var Q=this._itemPropertiesDlg.get("item"),N=this._featureServiceJson,R=this._preserveIds.get("checked"),X=this._selectedLayers||[],Y;N=f.mixin({},{name:Q.title.replace(/ /g,"_"),isView:!0,sourceSchemaChangesAllowed:!0,isUpdatableView:!0,spatialReference:N.spatialReference,initialExtent:N.initialExtent,capabilities:"Query",
preserveLayerIds:R});this._portal&&this._portal.isPortal&&(Y=this._getDataSourceType(this.fsItem))&&Y.dataSourceType&&(N=f.mixin(N,{options:Y}));R||X.forEach(function(da,ea){da.id=ea});return{item:Q,createParams:N}},_validate:function(){var Q=new e;this._focusNode=null;var N=this._itemPropertiesDlg._validate();N=N.then(f.hitch(this,"_checkRequired"));N=N.then(f.hitch(this,function(R){Q.resolve(R)}),f.hitch(this,function(R){this._showError(R);Q.reject(R)}));return Q},_checkRequired:function(){var Q=
new e;if("tiles"===this._type){if(!this._featureServiceJson)var N=this.i18n.publishWizard.errors.selectedServiceNotExist;this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=w("input",this._customBasemapUrl.domNode)[0],N=this.i18n.publishWizard.errors.customTileBasemapNotSpecified)}"vectorTiles"===this._type&&(this._featureServiceJson||(N=this.i18n.publishWizard.errors.selectedServiceNotExist),this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=w("input",this._customBasemapUrl.domNode)[0],
N=this.i18n.publishWizard.errors.customTileBasemapNotSpecified));if(N)return Q.reject(N),Q;A.serviceNameAvailable(this._itemPropertiesDlg.get("item"),this._portal).then(f.hitch(this,function(R){R&&R.available?Q.resolve(!0):(this._focusNode=w("input",this._itemPropertiesDlg._title.domNode)[0],Q.reject(W.addItemFrm.errors.serviceNameExists))}));return Q},publishSceneService:function(){return this._enableChangeTrackingOnSource().then(this.publishService.bind(this))},publishImageService:function(Q){var N=
new e,R=this.fsItem.url,X=f.hitch(this,function(Y){this._showError(Y);throw Error(Y);});J.getCredential(R).then(function(Y){this._createNewImageServiceItem().then(function(da){this._publishImageServiceGP(R,da,Y.token).then(function(ea){N.resolve(ea)},X)}.bind(this),X)}.bind(this),X);return N},publishService:function(){var Q=this.get("item"),N=Q.publishContent,R=this._tilesOnDemand.get("checked"),X,Y="scenes"===this.type,da=new e,ea=new e;A.publishItem(f.mixin(Q,{owner:this.fsItem.owner}),N,this._portal).then(f.hitch(this,
function(ha){var na=ha&&ha.publishResult?ha.publishResult[0]:null;na&&na.error?(na.serviceItemId&&A.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal),this._showError(na.error||W.addItemFrm.errors.error),da.reject()):(A.checkStatus({id:na.serviceItemId,jobId:na.jobId},ea,500,this._portal),ea.then(f.hitch(this,function(qa){A.moveItem({id:qa.id,folderId:this.fsItem.ownerFolder,owner:this.fsItem.owner},Q.item.folderId,this._portal).then(f.hitch(this,function(ua){(X=f.mixin(Q.item,
ua,!Y&&this._selectedService&&this._selectedService.itemData?{text:d.stringify(this._selectedService.itemData)}:{}))&&delete X.typeKeywords;A.updateItem(X,this._portal).then(f.hitch(this,function(){this.set("disable",!1);da.resolve({id:na.serviceItemId,jobId:na.jobId,cacheOnDemand:R})}))}))}),f.hitch(this,function(qa){A.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal);this._showError(qa)})))}),f.hitch(this,function(ha){this._showError(ha)}));return da},createViewService:function(){var Q=
this.get("item"),N={createParameters:d.stringify(Q.createParams),outputType:"featureService",isView:!0},R=this.fsItem&&this.fsItem.serviceInfo||{},X=this.serviceLayers||this.fsItem.layers,Y,da,ea=new e;R=X.map(function(ha){Y=f.mixin({},ha);delete Y.fields;delete Y.indexes;delete Y.relationships;return Y}).map(f.hitch(this,this._addAdminLayerInfo,R));X=c.filter(R||[],f.hitch(this,function(ha){return ha&&"Table"===ha.type}));R=c.filter(R||[],f.hitch(this,function(ha){return ha&&"Feature Layer"===ha.type}));
A.createService(f.mixin(Q,{owner:this.fsItem.owner}),N,d.stringify({layers:R,tables:X}),this._portal).then(f.hitch(this,function(ha){return A.moveItem({id:ha&&ha.createResult&&ha.createResult.itemId,owner:this.fsItem.owner},Q.item.folderId,this._portal)}),f.hitch(this,function(ha){this._showError(ha);throw Error(ha);})).then(f.hitch(this,function(ha){this._selectedService&&this._selectedService.itemData&&this._selectedService.itemData.layers&&this.sublayer&&(this._selectedService.itemData.layers=
this._selectedService.itemData.layers.filter(function(na){return na.id===this.sublayer.id}.bind(this)),this._selectedService.itemData.layers[0]&&(this._selectedService.itemData.layers[0].id=0));da=f.mixin(Q.item,ha,this._selectedService&&this._selectedService.itemData?{text:d.stringify(this._selectedService.itemData)}:{});da=f.mixin(da,{folderId:null});delete da.typeKeywords;delete da.type;delete da.wabType;return A.updateItem(da,this._portal)})).then(f.hitch(this,function(ha){ea.resolve(f.mixin({},
da,ha))}));return ea},_addAdminLayerInfo:function(Q,N){var R=/(\/(MapServer|FeatureServer)).*/ig,X=this.fsItem.url;R=X&&X.replace(R,"").replace(/^.*\//,"").replace(/\?.*$/,"");return f.mixin(N,{adminLayerInfo:{viewLayerDefinition:{sourceServiceName:R||N.name,sourceLayerId:N.id,sourceLayerFields:"*"}}})},_getDataSourceType:function(Q){Q=Q&&Q.adminServiceInfo&&Q.adminServiceInfo.adminServiceInfo||{};Q=Q.database&&Q.database.datasource||{};return{dataSourceType:Q.name&&(-1<Q.name.indexOf("/nosqlDatabases")?
"spatiotemporal":-1<Q.name.indexOf("/enterpriseDatabases")?"relational":null)}},showModal:function(Q){var N=new e,R,X=this._type,Y=this.dialog=new B({title:"features"===X?this.i18n.itemProperties.publishViewLayer:this.i18n.publishTileServiceDlg.publishTileDialogTitle,style:{height:"auto"}});Y.setContent(this.domNode);Y.show();this.own(L(Y.okButton,"click",f.hitch(this,function(){H.publish("/esri/disable",!0,this.get("busyMessage"));this._validate().then(f.hitch(this,function(){R="tiledImagery"===
X||"dynamicImagery"===X?this.publishImageService():"features"!==X?"scenes"===X?this.publishSceneService():this.publishService():this.createViewService();R.then(f.hitch(this,function(da){Y.hide().then(f.hitch(this,function(){N.resolve(da)}))}))}))})),L(Y,"hide",f.hitch(this,function(){Y.destroyRecursive()})));return N},_createNewImageServiceItem:function(){var Q=new e,N=this._itemPropertiesDlg.get("item"),R=N.title.replace(/ /g,"_");R={title:N.title,outputType:"imageService",tags:N.tags,snippet:N.snippet,
createParameters:d.stringify("tiledImagery"===this.type?{name:R,capabilities:"Image, TilesOnly"}:{name:R,capabilities:"Image, Metadata, Mensuration",properties:{description:"",isManaged:"true",isCached:"true",colormapToRGB:"false",esriImageServiceSourceType:"esriImageServiceSourceTypeDataset",allowCopy:"true",allowAnalysis:"true",allowFunction:"true"}})};A.createService(f.mixin(N,{owner:this.fsItem.owner}),R,null,this._portal).then(f.hitch(this,function(X){var Y=X&&X.createResult&&X.createResult.itemId;
if(!Y)return Q.reject();X.owner=this.fsItem.owner;X.id=Y;X.url=X.createResult.serviceUrl;X.folderId=N.folderId;delete X.createResult;A.moveItem({id:Y,owner:X.owner},N.folderId,this._portal).then(function(){Q.resolve(X)})}),f.hitch(this,function(X){Q.reject(X)}));return Q},_publishImageServiceGP:function(Q,N,R){var X=new e,Y=!1,da="tiledImagery"===this.type,ea=f.hitch(this,function(qa){if(!Y){Y=!0;var ua={id:N.id,owner:N.owner,folderId:N.folderId,title:N.title,tags:N.tags,snippet:N.snippet,properties:d.stringify({jobUrl:ha+
"/CopyRaster/jobs/"+qa.jobId+"?f\x3djson",jobStatus:"processing",jobId:qa.jobId,jobType:"GPServer"})},ya=f.hitch(this,function(){this.set("disable",!1);X.resolve({id:N.id,jobId:qa.jobId})});A.updateItem(ua,this._portal).then(ya,ya)}}),ha=this._portal.helperServices.rasterAnalytics.url,na=ha+"/CopyRaster";Q+=R?"?token\x3d"+R:"";da={inputRaster:d.stringify(da?{url:Q}:{tiled_url:Q}),outputName:d.stringify({itemId:N.id})};na=new la(na);na.setUpdateDelay(5E3);na.submitJob(da,null,ea);na.onError=f.hitch(this,
function(qa){A.deleteItem({id:N.id,folderId:N.folderId},this._portal);X.reject(qa)});return X},_showError:function(Q){Q=f.mixin(f.mixin({},W.publishWizard.errors.error),Q);var N=f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)});this._errorDlg=new B({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.own(L(this._errorDlg.closeButtonNode,"click",N));this._errorDlg.show(Q).then(N);
return!1}})})},"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg":function(){define("esri/lang dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dojox/form/Uploader dijit/registry dijit/form/TextBox dijit/form/RadioButton dijit/ConfirmDialog dijit/focus dgrid/OnDemandGrid dgrid/editor dojo/store/Observable dojo/store/Memory esri/dijit/Tags arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin dijit/form/SimpleTextarea dijit/form/Textarea dijit/form/Select dojo/topic esri/Evented esri/arcgis/Portal arcgisonline/pages/portal/PortalItem arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil arcgisonline/pages/utils/categories arcgisonline/pages/utils/dom arcgisonline/pages/dijit/CategoryPicker arcgisonline/sharing/geow/Account arcgisonline/sharing/util arcgisonline/sharing/geow/Folder esri/geometry/Extent esri/SpatialReference ../../../map/core/sameSpatialReference ../../../map/core/projectExtent dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za,ia,T,la,S,P,I,ba,W,aa,Q){return L("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg",[h,x,u,J,ca],{baseClass:"esriItemPropertiesDlg",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cdiv class\x3d"wabdiv"\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab2DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'checked:true,name:"wabtype"\' value\x3d"2d" /\x3e${i18n.addItemFrm.2d}\x3c/label\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab3DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'name:"wabtype"\' value\x3d"3d" /\x3e${i18n.addItemFrm.3d}\x3c/label\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-half"\x3e\x3c/p\x3e\x3cform id\x3d"_createForm" data-dojo-attach-point\x3d"_form" enctype\x3d"multipart/form-data" action\x3d"" method\x3d"POST"\x3e\x3clabel for\x3d"uploader" class\x3d"file"\x3e${i18n.addLayerFromFileDlg.fileLabel}\x3c/label\x3e\x3cdiv data-dojo-attach-point\x3d"_files" class\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" data-dojo-props\x3d\'label:"Browse", name:"file", showInput:"before"\'\x3e\x3c/div\x3e\x3cbr class\x3d"file" /\x3e\x3cdiv data-dojo-attach-point\x3d"_zip" class\x3d"zip esriLeadingMargin80 hide"\x3e\x3clabel for\x3d"archiveSelect"\x3e${i18n.addItemFrm.itemContents}\x3c/label\x3e\x3cselect data-dojo-attach-point\x3d"_zipContents" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:25%;"\x3e\x3coption value\x3d"shapefile" selected\x3e${i18n.addItemFrm.typeShapefile}\x3c/option\x3e\x3coption value\x3d"filegeodatabase"\x3e${i18n.addItemFrm.itemFileGeodatabase}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-url" class\x3d"url hide trailer-0"\x3e${i18n.publishWizard.urlItemLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-url" class\x3d"required url trailer-half hide" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'disabled:true, name:"url", trim:true, placeHolder:"${i18n.addLayerFromUrlDlg.enterUrl}"\'\x3e\x3c/div\x3e\x3cbr class\x3d"url hide" /\x3e\x3clabel for\x3d"${id}-title" class\x3d"trailer-0"\x3e${i18n.publishWizard.titleLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-title" tabindex\x3d"0" class\x3d"required title trailer-half" data-dojo-attach-point\x3d"_title" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'name:"title", trim:true, placeHolder:"${i18n.publishWizard.titlePlaceHolder}"\'\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-tags" data-dojo-attach-point\x3d"_tagsDijitLbl" class\x3d"tagsLbl leader-0 trailer-0"\x3e${i18n.publishWizard.tagsLbl}\x3cspan class\x3d"screen-readers-only" id\x3d"tags-required"\x3e${i18n.publishWizard.tagsRequired}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"position-relative hide js-tags-mask"\x3e\x3cdiv class\x3d"tags-disabled-mask"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}-tags" class\x3d"trailer-half" data-dojo-attach-point\x3d"_tagsDijit" data-dojo-type\x3d"esri/dijit/Tags" data-dojo-props\x3d"name: \'tags\', width:\'100%\', minWidth:\'100%\', maxWidth:\'100%\'"\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-summary" class\x3d"trailer-0 leader-half"\x3e${i18n.publishWizard.summaryLbl}\x3c/label\x3e\x3ctextarea id\x3d"${id}-summary" tabindex\x3d"0" class\x3d"required snippet trailer-0" maxlength\x3d"250" data-dojo-attach-point\x3d"_summaryDijit" class\x3d"summaryTextBox dijitPlaceHolder" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-props\x3d\'name:"snippet", trim:true, placeHolder:"${i18n.publishWizard.summaryPlaceHolder}", value: "${i18n.publishWizard.summaryPlaceHolder}"\'\x3e\x3c/textarea\x3e\x3cbr /\x3e\x3cdiv class\x3d"hide categories-container"\x3e\x3clabel class\x3d"trailer-0 leader-half" data-dojo-attach-point\x3d"_categoriesLbl" for\x3d"itemPropCategoryPicker"\x3e${i18n.addItemFrm.categories}${i18n.addItemFrm.colon}\x3c/label\x3e\n\x3cdiv class\x3d"categoriesPickerSection" data-dojo-attach-point\x3d"_categoriesContainer" id\x3d"itemPropCategoryPicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-folders" data-dojo-attach-point\x3d"_foldersDijitLbl" class\x3d"folderDropdown trailer-0 leader-half hide" style\x3d"clear:both;"\x3e\x3cspan class\x3d"saveFolderLbl"\x3e${i18n.publishWizard.saveFolderLbl}\x3c/span\x3e\x3cselect id\x3d"${id}-folders" tabindex\x3d"0"  class\x3d"folderDropdownSelect folderDropdown hide" data-dojo-attach-point\x3d"_folders" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:77%;" data-dojo-props\x3d\'maxHeight:"200"\'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/form\x3e\x3c/div\x3e',
onOk:function(){},onCancel:function(){},onLoad:function(){},postMixInProperties:function(){this.inherited(arguments);this._errorDlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance();this.i18n=g.mixin({},Q);this._maxFileSize=1E9;this._analyzeTypes={csv:1};this._type=this.typeInfo;var N=b("ESRI_Content");this._selectedFolderId=(N?k.parse(N):{}).folderId||null;this._portalUser=(this._portal=ma.portal)&&(this._portal.portalUser||this._portal.user||this._portal.getPortalUser())},
postCreate:function(){this.inherited(arguments);d.add(this._summaryDijit.domNode,"dijitPlaceHolder");var N=this._files.displayInput;d.add(N,"placeHolder");w.set(N,"value","Select File");this._tagsDijit&&this._tagsDijit._inputTextBox&&this._tagsDijit._inputTextBox.set&&this._tagsDijit._inputTextBox.set("aria-describedby","tags-required");this._tagsDijitLbl&&this._tagsDijit._inputTextBox&&w.set(this._tagsDijitLbl,"for",this._tagsDijit._inputTextBox.id);la.getSelf(g.hitch(this,function(R){this._loadConnections();
this._portal?this._init():(this._portal=new fa.Portal({url:ma.restBaseUrl,self:R}),this._connect=this._portal.on("load",g.hitch(this,function(X){this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){return m([S.loadUserTags(this._portalUser.username),this._getFolders()]).then(g.hitch(this,function(N){N&&N[0]&&this._tagsDijit.set("knownTags",N[0]);this.item&&this.item.type&&!this.item.declaredClass&&(this.item=new ka(g.mixin(this.item,{portal:this._portal})));
this._tagsDijit.set("value",this.item&&this.item.tags||"");this._summaryDijit.set("value",Q.publishWizard.summaryPlaceHolder);this._loadFolders(N[1]&&N[1].folders||[],this._folders);this._supportedType=!this.item||"Web Scene"!==this.item.type&&"Web Map"!==this.item.type?null:this.item.type;this.set("showWAB","wab"!==this._type||this._supportedType?!1:!0);this._supportedType&&this.wab2DRadio.set("checked","Web Map"===this._supportedType);this.onLoad()}))},destroy:function(){t(".dijit",this.contentNode).map(q.byNode).forEach(function(N){N.destroyRecursive?
N.destroyRecursive():N.destroy?N.destroy():N=null});this.inherited(arguments);this._grid&&(this._grid.destroy(),this._grid=null);this._tagsDijit&&(this._tagsDijit.destroyRecursive(),this._tagsDijit=null);this._analyzedFile?O.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(N){this._tagsDijit=this._portalUser=this._portal=this._analyzedFile=null})):this._tagsDijit=this._portalUser=this._portal=null;this._errorDlg&&(this._errorDlg._dialog&&this._errorDlg._dialog.destroyRecursive(),
this._errorDlg.destroyRecursive(),this._errorDlg=null)},startup:function(){this.inherited(arguments);this._initializeCategoryPicker(this.categories||[])},disableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.remove("hide");this._categories&&this._categories.disable()},enableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.add("hide");this._categories&&this._categories.enable()},_initializeCategoryPicker:function(N){if(ma.self.hasCategorySchema){var R=
function(X){this._categories=new T({categories:N||[],schema:X},E.create("div",null,this._categoriesContainer));this._categories.startup();ia.showNodes(t(".categories-container",this.domNode));this._initializingCategoryPicker=!1}.bind(this);this.item&&this.item.portal&&this.item.portal.getCategories&&this.item.portal.getCategories instanceof Function?(this._initializingCategoryPicker=!0,this.item.portal.getCategories().then(R)):(this._initializingCategoryPicker=!0,S.request({url:ma.restBaseUrl+"portals/self/categorySchema"}).then(function(X){R(X.categorySchema)}.bind(this)))}},
_getWebMapAuthoringInfo:function(){return{authoringApp:"WebMapViewer",authoringAppVersion:S.isPortal()?"10.6":"6.1",version:"2.11"}},addItem:function(){var N=new c,R,X;this._validate().then(g.hitch(this,function(){Z.publish("/esri/disable",!0,Q.addItemFrm.addingItem);if(this._analyzedFile)R=this._updateItem().then(g.hitch(this,function(da){return da}));else if("webmap"===this._type)R=this._fetchBaseMap().then(g.hitch(this,function(da){return X=da})).then(g.hitch(this,"_projectPortalExtent")).then(g.hitch(this,
function(da){var ea=this.get("item");ea.text=X?k.stringify(X):ea.text;ea.extent=da;return O.addItem(ea,this.get("folder"),this._portal)}));else if("dashboard_map"===this._type){var Y=this.get("item");Y.text=z.substitute(Y.text,{mapId:this.item.id});R=O.addItem(Y,this.get("folder"),this._portal)}else R=O.addItem(this.showFile?this.get("form"):this.get("item"),this.get("folder"),this._portal);R.then(g.hitch(this,function(da){Z.publish("/esri/disable",!1);N.resolve(da)}),g.hitch(this,function(da){Z.publish("/esri/disable",
!1);da&&409===da.code&&(da=this.get("item"),da={title:Q.addItemFrm.errors.error.title,message:V.substitute({type:da.type,title:da.title},Q.addItemFrm.errors.itemExists.message)});N.reject(da)}))}),g.hitch(this,function(Y){Z.publish("/esri/disable",!1);N.reject(Y)}));return N},_fetchBaseMap:function(){var N=this._portal&&this._portal.defaultBasemap||null,R=this._getWebMapAuthoringInfo(),X,Y,da,ea=function(){Y=a.map(N.baseMapLayers||[],g.hitch(this,function(na,qa){X=g.clone(na);X=g.mixin(X,{opacity:1,
layerType:"ArcGISTiledMapServiceLayer",visibility:!0,id:"defaultBasemap_"+qa});da=0===qa?na.spatialReference||na.resourceInfo&&na.resourceInfo.spatialReference:da;delete X.resourceInfo;return X}));return g.mixin({operationalLayers:[],spatialReference:da||this._portal&&this.portal.defaultExtent&&this.portal.defaultExtent.spatialReference,baseMap:g.mixin(N,{baseMapLayers:Y})},R)};if(N&&N.id)var ha=fa.PortalUtil.request(this._portal.portalUrl+"content/items/"+N.id+"/data").then(g.hitch(this,function(na){return na}),
g.hitch(this,function(na){return ea()}));else N?(ha=new c,ha.resolve(ea())):(ha=new c,ha.resolve());return ha},_projectPortalExtent:function(N){var R=new c;N=this._portal&&this._portal.defaultExtent||null;var X=new I(N),Y=new ba({wkid:102100});N&&X.spatialReference.wkid!==Y.wkid?aa(X,Y,g.hitch(this,function(da){da[0]?R.resolve(O.getPortalDefaultExtentAsGCS({defaultExtent:da[0]})):R.resolve(O.getPortalDefaultExtentAsGCS(this._portal))})):R.resolve(O.getPortalDefaultExtentAsGCS(this._portal));return R},
_extent2String:function(N,R){R=R||4;var X=+N.xmin.toFixed(R),Y=+N.ymin.toFixed(R),da=+N.xmax.toFixed(R),ea=+N.ymax.toFixed(R);return isNaN(X)||isNaN(Y)||isNaN(da)||isNaN(ea)?"":X+","+Y+","+da+","+ea},_loadConnections:function(){this.own(Z.subscribe("/esri/disable",g.hitch(this,function(N){this.set("readOnly",N)})),t(".dijitTextArea",this.contentNode).on("focus",g.hitch(this,function(N){N=this._summaryDijit;N.get("value")===Q.publishWizard.summaryPlaceHolder&&(d.remove(N.domNode,"dijitPlaceHolder"),
N.set("value",""))})),t(".dijitTextArea",this.contentNode).on("blur",g.hitch(this,function(N){N=this._summaryDijit;""===N.get("value")&&(d.add(N.domNode,"dijitPlaceHolder"),N.set("value",Q.publishWizard.summaryPlaceHolder))})),v(this._errorDlg,"hide",g.hitch(this,function(){this._focusNode&&setTimeout(g.hitch(this,function(){D.focus(this._focusNode)}),250)})),v(this._tagsDijitLbl,"click",g.hitch(this,function(N){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),
v(this._tagsDijit.domNode,"focusout",g.hitch(this,function(N){t(".select2-choices",this._tagsDijit.domNode).removeClass("focus")})),v(this._tagsDijit.domNode,"focusin",g.hitch(this,function(N){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),v(this._foldersDijitLbl,"click",g.hitch(this,function(N){this._folders.focus()})))},_setTitleAttr:function(N){return this._title.set("value",N||"")},_getTitleAttr:function(){return this._title.get("value")},
_setShowFileAttr:function(N){N||(t(".file",this.contentNode).style("display","none"),t(".dijitUploader input",this.contentNode).attr("disabled","disabled"),this._files.set("disabled",!0))},_setShowUrlAttr:function(N){N&&(t(".url",this.contentNode).removeClass("hide"),this._url.set("disabled",!1))},_setShowFoldersAttr:function(N){t(".folderDropdown",this.domNode)[N?"removeClass":"addClass"]("hide")},_setFoldersAttr:function(N){this._userFolders=N;this._folders.set("options",a.map(N,"return {label:item.title, value:item.id};"));
this._folders.set("value",this._selectedFolderId||"/")},_setShowWABAttr:function(N){t(".wab",this.domNode)[N?"removeClass":"addClass"]("hide")},_setMessageAttr:{node:"_message",type:"innerHTML"},_setTypeAttr:function(N){w.set(this._type,"value",N)},_setTypeInfoAttr:function(N){this._type=N},_setTagsAttr:function(N){this._tagsDijit.set("value",N||"")},_setCategoriesAttr:function(N){if(ma.self.hasCategorySchema)if(!this._categories||this._initializingCategoryPicker)var R=setInterval(function(){this._categories&&
!this._initializingCategoryPicker&&(clearInterval(R),this._categories.setCategories(N||[],!0))}.bind(this),50);else this._categories.setCategories(N||[],!0)},_setSummaryAttr:function(N){d[N?"remove":"add"](this._summaryDijit.domNode,"dijitPlaceHolder");this._summaryDijit.set("value",N||Q.publishWizard.summaryPlaceHolder);this._summaryDijit.resize()},_setBatchGeocodersAttr:function(N){this._geocoders.set("options",N);this._geocoders.set("value",N[0].value,!1);this._batchGeocoders=N;this._selectedGeocoder=
N[0]},_setFocusAttr:function(N){var R=q.byId(this.id+"-"+N);if(R)setTimeout(g.hitch(this,function(){R.focus()}),250);else{var X=t(N,this.domNode);setTimeout(g.hitch(this,function(){D.focus(X&&X.length?X[0]:this._title.domNode)}),250)}},_setDisabledAttr:function(N){this._disable(N)},_setReadOnlyAttr:function(N){t(".dijit",this.domNode).map(q.byNode).forEach(function(R){R.set("readOnly",N)});t(".dijitButtonContents",this._files.domNode).forEach(function(R){w.set(R,"readonly",N);d[N?"add":"remove"](R,
"dijitDisabled dijitTextBoxDisabled")});d[N?"add":"remove"](this._tagsDijit.domNode,"dijitDisabled dijitTextBoxDisabled");t("input",this._tagsDijit.domNode).forEach(function(R){w.set(R,"readonly",N)});t("a",this.contentNode)[N?"addClass":"removeClass"]("disabledLink");t(".dijitSelect .dijitButtonText",this.contentNode)[N?"addClass":"removeClass"]("dijitTextBoxDisabled");this._folders.set("disabled",N);this._summaryDijit.set("disabled",N);t(".dijitUploader input",this.contentNode).attr("readonly",
"readonly")},_getFormAttr:function(){var N=this._checkThumbnailURL(g.mixin({},this.itemInfo[this._type])),R=E.create("div",null,this._form);N=g.mixin(N,{tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==Q.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):""});N=this._adjustItemInfo(N);for(var X in N)E.place(E.create("input",{name:X,type:"text",value:N[X],"class":"hide"}),R);return l.byId("_createForm")},_getItemAttr:function(){var N=this._checkThumbnailURL(g.mixin({},
this.itemInfo[this._type]));N=g.mixin(N,{title:this._title.get("value"),tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==Q.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):"",folderId:this.get("folder"),wabType:"wab"===this._type?this.get("WABType"):null});N=this._adjustItemInfo(N);ma.self.hasCategorySchema&&this._categories&&(N.categories=this._categories.getCategories(!0));this._supportedType&&(N=g.mixin(N,{webmap:this.item.id}));return N},_adjustItemInfo:function(N){var R=
this._type,X=N.text,Y=this._portal&&this._portal.helperServices||[];Y=Y.defaultElevationLayers?g.clone(Y.defaultElevationLayers):[];if(X&&("webscene"===R||"webscene_portal"===R)&&Y&&Y.length){var da=JSON.parse(X);Y=Y.map(function(ea){ea=g.mixin(ea,{title:ea.title||ea.name||"Elevation",id:ea.id||ea.name||(new Date).getTime()+""});ea.name&&delete ea.name;return ea});da.baseMap.elevationLayers=Y;da.ground.layers=Y;N.text=JSON.stringify(da)}if("dashboard"===R||"dashboard_map"===R)N.typeKeywords="ArcGIS Dashboards",
da=JSON.parse(X||"{}"),da.version=45,N.text=JSON.stringify(da),delete N.thumbnailURL,N.thumbnailUrl="dashboard"===R?"https://static.arcgis.com/images/dashboards.png":N.thumbnailUrl;return N},_getWABTypeAttr:function(){return this.wab2DRadio.get("checked")?"HTML":"HTML3D"},_getFolderAttr:function(){var N=this._folders.get("value");N=this._portalUser?"/"===N||N===this._portalUser.username?null:N:"/"===N?null:N;return this.showFolders?N:this._selectedFolderId},_getFolders:function(){var N=new c;this._portalUser.getFolders?
this._portalUser.getFolders().then(g.hitch(this,function(R){N.resolve({folders:R})}),g.hitch(this,function(R){N.reject(R)})):P.getFolders(g.hitch(this,function(R){N.resolve(R)}),g.hitch(this,function(R){N.reject(R)}),!1);return N},_getFileInfo:function(N){var R=new c,X=/(?:\.([^.]+))?$/;N=N&&N.length&&N[0]||{};var Y=N.name.replace(/^.*(\\|\/|:)/,"");X=Y?X.exec(Y)[1].toLowerCase():"";var da=Y?Y.substring(0,Y.lastIndexOf(".")):"";this._isValidFileType(X)||R.reject(Q.addItemFrm.errors.unknownType);window&&
window.FileReader&&N.size>this._maxFileSize&&R.reject(Q.addItemFrm.errors.fileToLarge);R.resolve(g.mixin(N,{title:da,fileType:X,origName:Y}));return R},_deleteAnalyzedFile:function(){if(this._analyzedFile)var N=O.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(){this._analyzeResult=this._analyzedFile=null}));else N=new c,N.resolve(!0);return N},_toOptions:function(N,R){var X=[];R&&(N=g.mixin({},Q.addItemFrm.notUsed,N));for(var Y in N)X.push({label:N[Y],value:Y});return X},_addFile:function(){var N=
this.get("form");if(N)return N=O.addItem(N,this.get("folder"),this._portal),N.then(g.hitch(this,function(R){Z.publish("/esri/disable",!1);return R}),g.hitch(this,function(R){Z.publish("/esri/disable",!1);this._showError(R)}))},_updateItem:function(){var N=this._analyzedFile,R=this.get("item"),X=!1,Y;for(Y in R)N[Y]&&N[Y]===R[Y]?delete R[Y]:X=!0;X?R=O.updateItem(g.mixin(R,{id:N.id,folderId:N.folderId}),this._portal).then(g.hitch(this,function(da){return g.mixin(N,da)})):(R=new c,R.resolve(N));return R},
_getPublishParameters:function(N){var R=this._geocoder||"none";N=this._getDefaultPublishParameters(N);var X=this._analyzeResult&&this._analyzeResult.publishParameters,Y=X&&X.standardizedFieldNames,da=this._grid&&this._grid.store;if(X)if("addressTypes"===R){var ea=0,ha={},na=Y;da.query(function(ua){"unknown"!==ua.locationType&&ua.locationType in na&&(ha[ua.locationType]=ua.name,ea++)});if(1>ea)return{error:this.i18n.errors.noAddressFields};N.publishParameters.locationType="address";N.publishParameters.addressFields=
ha}else if("locationTypes"===R){var qa={locationType:"coordinates",latitudeFieldName:null,longitudeFieldName:null};na=g.mixin({},this.i18n.addItemFrm[R]);da.query(function(ua){"unknown"!==ua.locationType&&ua.locationType in na&&(qa[ua.locationType+"FieldName"]=ua.name)});if(!qa.latitudeFieldName||!qa.longitudeFieldName)return{error:this.i18n.errors.noLocationFields};g.mixin(N,qa)}else N.publishParameters.locationType="none";return N},_getDefaultPublishParameters:function(N){var R=N.type.toLowerCase(),
X={itemId:N.id,filetype:R},Y=this._analyzeResult&&this._analyzeResult.publishParameters;"tile package"===R&&(X.filetype="tilePackage",X.buildInitialCache=!0);X.publishParameters=g.mixin(Y||{},{name:N.title.replace(/ /g,"_"),maxRecordCount:2E3});Y&&(X.hasStaticData=!0,X.publishParameters.layerInfo=g.mixin(Y.layerInfo||{},{capabilities:"Query"}),X.publishParameters.persistErrorRecordsForReview=!0);return X},_analyze:function(){var N={};Z.publish("/esri/disable",!0,"Uploading file...");return this._addFile().then(g.hitch(this,
function(R){Z.publish("/esri/disable",!0,"Analyzing file...");this._analyzedFile=R;this._portal._isPortal||!this._selectedGeocoder.isWorldGeocodeServer?N.geocodeServiceUrl=encodeURI(this._selectedGeocoder):this._selectedGeocoder.isWorldGeocodeServer&&(N.sourceCountry=this._analyzeResult?this._countries.get("value").toLowerCase():"",N.sourceCountryHint=this._analyzeResult?"":this._sourceCountry);return O.analyzeItem(R,N,this._portal).then(g.hitch(this,function(X){this._analyzeResult=this._analyzedFile.analyzeResult=
X;this._createGrid(X);d.remove(this.geocoding,"hide");Z.publish("/esri/disable",!1);return this._analyzedFile}))}))},_validate:function(){var N=new c;var R=this._checkRequired(this.get("item"));R=R.then(g.hitch(this,"_itemExists",this.get("item")));R=R.then(g.hitch(this,function(X){N.resolve(X)}),g.hitch(this,function(X){this._focusNode&&D.focus(this._focusNode);N.reject(X)}));return N},_isValidFileType:function(N){var R=!0;this.showFile&&this.validTypes?(this.validTypes=this.validTypes instanceof
Array?this.validTypes:[this.validTypes],-1===a.indexOf(this.validTypes,N)&&(R=!1)):this.itemInfo[type.toLowerCase()]||(R=!1);return R},_checkThumbnailURL:function(N){this.item&&this.item.thumbnail&&this.item.thumbnailUrl?N.thumbnailUrl=this.item.thumbnailUrl:(N.thumbnailURL&&(N.thumbnailURL=S.getStaticImagesUrl()+N.thumbnailURL),this._portal.isPortal&&N.thumbnailURL&&0!==N.thumbnailURL.indexOf("http")&&(N.thumbnailURL=window.location.protocol+"//"+window.location.host+N.thumbnailURL));return N},_isEmpty:function(N){return(this.trim?
/^\s*$/:/^$/).test(N)},_disable:function(N){this._folders.set("disabled",N);this._summaryDijit.set("disabled",N);!this.showFiles&&N&&t(".dijitUploader input",this.contentNode).attr("disabled","disabled")},_loadFolders:function(N,R){var X=b("ESRI_Content");X=X?k.parse(X):{};var Y=X.folderId||null;this._selectedFolderId=X.folderId||null;(!N||!N.length||N&&N.length&&N[0].title!==this._portalUser.username)&&N.unshift({title:this._portalUser.username,id:"/"});R.options=a.map(N,"return {label:item.title, value:item.id};");
R.set("value",Y||this._portalUser.username)},_loadCountries:function(N,R){var X=this._portal.getPortalUser(),Y=[];X=(this._portal.region||X.region||portal.ipCntryCode||"world").toLowerCase();X="wo"===X?"world":X;for(var da in N)Y.push({label:N[da],value:da.toLowerCase()});Y=Y.sort(function(ea,ha){return ea.label<ha.label?-1:ea.label>ha.label?1:0});R.set("options",Y);R.set("value",X,!1);this._sourceCountry=X},_checkRequired:function(){var N=new c,R,X;t(".required",this.contentNode).map(q.byNode).every(g.hitch(this,
function(Y){return!d.contains(Y.domNode,"hide")&&this._isEmpty(Y.get("value"))?(X=Y.domNode||Y,this._focusNode=t("input",X)[0],R=g.mixin({},Q.publishWizard.errors.error,Q.publishWizard.errors.required[Y.get("name")]),!1):!0}));R?N.reject(R):N.resolve(!0);return N},_itemExists:function(N){var R=new c,X=this._type in{mapserver:1,featureserver:1,sceneserver:1,wfs:1,ogcFeatures:1,vectortileserver:1,imageserver:1},Y="wfs"===this._type||"ogcFeatures"===this._type,da=Y?/[.@#%&*+=\-\\';,\/|\\":<>()\?]/g.test(N.title):
X?/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(N.title):/[<>]/g.test(N.title),ea=N.title.match(/^\d/)?!0:!1,ha=this.itemInfo[N.type.toLowerCase()]?this.itemInfo[N.type.toLowerCase()].type:N.type;this._itemExistsCheck(N).then(function(na){da||X&&120<N.title.length?(this._focusNode=t("input",this._title.domNode)[0],R.reject(X?Q.addItemFrm.errors.invalidServiceTitle:Q.addItemFrm.errors.invalidItemTitle)):Y&&ea?R.reject(Q.addItemFrm.errors.invalidCharactersStartsWithNumber):na?(this._focusNode=t("input",this._title.domNode)[0],
na=V.substitute({type:ha,title:N.title},Q.addItemFrm.errors.itemExists.message),R.reject({title:Q.addItemFrm.errors.error.title,message:na})):R.resolve(!1)}.bind(this));return R},_itemExistsCheck:function(N){var R=N.title,X=this.get("folder"),Y=this.itemInfo[N.type.toLowerCase()]?this.itemInfo[N.type.toLowerCase()].type:N.type,da=this._portalUser.username,ea=new dojo.Deferred;S.request({url:ma.restBaseUrl+"search",content:{q:'title:"'+R+'" AND type:"'+Y+'" AND owner:"'+da+'" AND ownerfolder:"'+(X&&
"/"!==X?X:"root")+'"',num:1}}).then(dojo.hitch(this,function(ha){ha&&ha.total?ea.resolve(this._isSameTitle(N,ha.results.shift())):ea.resolve(!1)}));return ea},_isSameTitle:function(N,R){return(N&&N.title)===(R&&R.title)},_showError:function(N){N.messageCode&&"GWM_0011"===N.messageCode&&(N=g.mixin(N,{message:Q.common.errors.spamContentItemCreate}));N=g.mixin(g.mixin({},Q.publishWizard.errors.error),N);this._errorDlg.show(N);this._disable(!1);return!1}})})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d){return L("dojox.form.Uploader",[m,p,e,c,a],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:b.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:d,baseClass:"dijitUploader "+p.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();x.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=u.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(k){for(var n=0,q,y=[];q=k[n++];)q&&q.name&&y.push(q.name);this.displayInput.value=y.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(k){},onBegin:function(k){},onProgress:function(k){},onComplete:function(k){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(k){},
upload:function(k){k=k||{};k.uploadType=this.uploadType;this.inherited(arguments)},submit:function(k){k=k?k.tagName?k:this.getForm():this.getForm();k=E.toObject(k);k.uploadType=this.uploadType;this.upload(k)},reset:function(){delete this._files;this._disconnectButton();w.forEach(this._inputs,u.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var k=[];this.supports("multiple")?w.forEach(this._files,function(n,q){k.push({index:q,name:n.name,size:n.size,type:n.type})},
this):w.forEach(this._inputs,function(n,q){n.value&&k.push({index:q,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)})},this);return k},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(k){},_setDisabledAttr:function(k){this.disabled!=k&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",k?"none":""))},_getButtonStyle:function(k){this.btnSize={w:f.get(k,"width"),h:f.get(k,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var k=this._getFileFieldName();this.focusNode=this.inputNode=u.create("input",{type:"file",name:k,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&x.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(t.connect(this.inputNode,"change",this,function(k){this._files=this.inputNode.files;this.onChange(this.getFileList(k));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(t.connect(this.inputNode,"focus",this,function(){g.add(this.domNode,this.focusedClass)})),this._cons.push(t.connect(this.inputNode,"blur",this,function(){g.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){w.forEach(this._cons,t.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(V,L,v,w,t,l,f,g,h,x){t.add("FormData",function(){return!!window.FormData});t.add("xhr-sendAsBinary",function(){var u=window.XMLHttpRequest&&new window.XMLHttpRequest;return u&&!!u.sendAsBinary});t.add("file-multiple",function(){return!!{"true":1,"false":1}[w.get(document.createElement("input",{type:"file"}),"multiple")]});return l("dojox.form.uploader._Base",[g,h,x],{getForm:function(){if(!this.form)for(var u=this.domNode;u&&u.tagName&&u!==document.body;){if("form"==u.tagName.toLowerCase()){this.form=
u;break}u=u.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(u){f.stop(u);this.submit(this.form)}))},supports:function(u){switch(u){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return t("file-multiple");case "FormData":return t(u);
case "sendAsBinary":return t("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(u){return u.substring(u.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(u){var E=Math.round(u/1024*1E5)/1E5,z=Math.round(u/1048576*1E5)/1E5,p=Math.round(u/1073741824*1E5)/1E5,m=u;1<E&&(m=E.toFixed(1)+" kb");1<z&&(m=z.toFixed(1)+" mb");1<p&&(m=p.toFixed(1)+" gb");return{kb:E,mb:z,gb:p,bytes:u,value:m}}})})},"dojox/form/uploader/_HTML5":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo dojo/request dojo/has".split(" "),
function(V,L,v,w,t,l){return V("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(f){this.upload(f[0])})},_drop:function(f){w.stopEvent(f);this._files=f.dataTransfer.files;this.onChange(this.getFileList())},upload:function(f){this.onBegin(this.getFileList());
this.uploadWithFormData(f)},addDropTarget:function(f,g){g||(this.connect(f,"dragenter",w.stopEvent),this.connect(f,"dragover",w.stopEvent),this.connect(f,"dragleave",w.stopEvent));this.connect(f,"drop","_drop")},uploadWithFormData:function(f){function g(p){E._xhrProgress(p);"load"===p.type&&(E.onComplete(z.response.data),z.response.xhr.removeEventListener("load",g,!1),z.response.xhr.upload.removeEventListener("progress",g,!1),z=null)}if(this.getUrl()){var h=new FormData,x=this._getFileFieldName();
v.forEach(this._files,function(p,m){h.append(x,p)},this);if(f){f.uploadType=this.uploadType;for(var u in f)h.append(u,f[u])}var E=this,z=t(this.getUrl(),{method:"POST",data:h,handleAs:"json",uploadProgress:!0,headers:{Accept:"application/json"}},!0);z.promise.response.otherwise(function(p){E.onError(p)});l("native-xhr2")?(z.response.xhr.addEventListener("load",g,!1),z.response.xhr.upload.addEventListener("progress",g,!1)):z.promise.then(function(p){E.onComplete(p)})}},_xhrProgress:function(f){if(f.lengthComputable){var g=
{bytesLoaded:f.loaded,bytesTotal:f.total,type:f.type,timeStamp:f.timeStamp};"load"==f.type?(g.percent="100%",g.decimal=1):(g.decimal=f.loaded/f.total,g.percent=Math.ceil(f.loaded/f.total*100)+"%");this.onProgress(g)}}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(V,L,v,w,t,l,f){return v("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);
"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(g){var h={};this.getForm();var x=this.getUrl(),u=this;g=g||{};g.uploadType=this.uploadType;var E=L.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);t.forEach(this._inputs,function(z,p){""!==z.value&&(E.appendChild(z),h[z.name]=z.value)},this);if(g)for(nm in g)void 0===h[nm]&&L.create("input",{name:nm,value:g[nm],type:"hidden"},E);f.post(x,{form:E,
handleAs:"json",content:g}).then(function(z){L.destroy(E);if(z.ERROR||z.error)u.onError(z);else u.onComplete(z)},function(z){L.destroy(E);u.onError(z)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),function(V,L,v,w,t,l,f,g,h,x){return t("dojox.form.uploader._Flash",[],{swfPath:l.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),
preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");this.inherited(arguments)},onReady:function(u){},onLoad:function(u){},onFileChange:function(u){},onFileProgress:function(u){},getFlashFileList:function(){return this._files},
flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(u){this.onBegin(this.getFileList());u=u||{};u.returnType="F";u.uploadType=this.uploadType;this.flashMovie.doUpload(u)},_change:function(u){this._files=this._files.concat(u);h.forEach(u,function(E){E.bytesLoaded=0;E.bytesTotal=E.size;this._fileMap[E.name+"_"+E.size]=E},this);this.onChange(this._files);this.onFileChange(u)},_complete:function(u){this._getCustomEvent().type="load";this.onComplete(u)},
_progress:function(u){this._fileMap[u.name+"_"+u.bytesTotal].bytesLoaded=u.bytesLoaded;var E=this._getCustomEvent();this.onFileProgress(u);this.onProgress(E)},_error:function(u){this.onError(u)},_onFlashBlur:function(u){},_getCustomEvent:function(){var u={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},E;for(E in this._fileMap)u.bytesTotal+=this._fileMap[E].bytesTotal,u.bytesLoaded+=this._fileMap[E].bytesLoaded;u.decimal=u.bytesLoaded/u.bytesTotal;u.percent=Math.ceil(u.bytesLoaded/
u.bytesTotal*100)+"%";return u},_connectFlash:function(){this._subs=[];this._cons=[];var u=g.hitch(this,function(E,z){this._subs.push(f.subscribe(this.id+E,this,z))});u("/filesSelected","_change");u("/filesUploaded","_complete");u("/filesProgress","_progress");u("/filesError","_error");u("/filesCanceled","onCancel");u("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&w.set(this.domNode,"tabIndex",this.tabIndex)},
_createFlashUploader:function(){var u=this.btnSize.w,E=this.btnSize.h;if(u){var z=this.getUrl();if(z&&0>z.toLowerCase().indexOf("http")&&0!=z.indexOf("/")){var p=window.location.href.split("/");p.pop();p=p.join("/")+"/";z=p+z}this.inputNode=v.create("div",{className:"dojoxFlashNode"},this.domNode,"first");L.set(this.inputNode,{position:"absolute",top:"-2px",width:u+"px",height:E+"px",opacity:0});u={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():
""),width:u,height:E,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:z,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new x(u,this.inputNode);this.flashObject.onError=
g.hitch(function(m){});this.flashObject.onReady=g.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=g.hitch(this,function(m){this.flashMovie=m;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),
function(V,L,v,w,t,l,f,g,h){function x(e){e=V.delegate(E,e);if(!("path"in e))return null;"id"in e||(e.id="dojox-embed-flash-"+u++);return e}var u=0,E={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};if(t("ie")){var z=function(e){e=x(e);if(!e)return null;var c,a=e.path;if(e.vars){var b=[];for(c in e.vars)b.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(e.vars[c]));e.params.FlashVars=b.join("\x26");delete e.vars}a=
'\x3cobject id\x3d"'+h.escape(String(e.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+h.escape(String(e.width))+'" height\x3d"'+h.escape(String(e.height))+'"'+(e.style?' style\x3d"'+h.escape(String(e.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+h.escape(String(a))+'" /\x3e';if(e.params)for(c in e.params)a+='\x3cparam name\x3d"'+h.escape(c)+'" value\x3d"'+h.escape(String(e.params[c]))+'" /\x3e';return{id:e.id,markup:a+"\x3c/object\x3e"}};var p=function(){for(var e=
10,c=null;!c&&7<e;)try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e--)}catch(a){}return c?(e=c.GetVariable("$version").split(" ")[1].split(","),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();L.addOnWindowUnload(function(){var e=function(){};w("object").reverse().style("display","none").forEach(function(c){for(var a in c)if("FlashVars"!=a&&"function"==typeof c[a])try{c[a]=e}catch(b){}})})}else z=function(e){e=
x(e);if(!e)return null;var c,a=e.path;if(e.vars){var b=[];for(c in e.vars)b.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(e.vars[c]));e.params.flashVars=b.join("\x26");delete e.vars}a='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+h.escape(String(a))+'" id\x3d"'+h.escape(String(e.id))+'" width\x3d"'+h.escape(String(e.width))+'" height\x3d"'+h.escape(String(e.height))+'"'+(e.style?' style\x3d"'+h.escape(String(e.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';
if(e.params)for(c in e.params)a+=" "+h.escape(c)+'\x3d"'+h.escape(String(e.params[c]))+'"';return{id:e.id,markup:a+" /\x3e"}},p=function(){var e=navigator.plugins["Shockwave Flash"];return e&&e.description?(e=e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();var m=function(e,c){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=p.major;this.minimumVersion=e.minimumVersion||9;this.domNode=this.movie=this.id=null;c&&(c=l.byId(c));setTimeout(V.hitch(this,function(){if(e.expressInstall||this.available&&this.available>=this.minimumVersion)if(e&&c)this.init(e,c);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};V.extend(m,{onReady:function(e){},onLoad:function(e){},onError:function(e){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(e,c){this.destroy();c=l.byId(c||this.domNode);if(!c)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var a=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;m.initialized&&(this.id=m.place(e,c),this.domNode=c,setTimeout(V.hitch(this,
function(){this.movie=this.byId(this.id,e.doc);this.onReady(this.movie);this._poller=setInterval(V.hitch(this,function(){try{a=this.movie.PercentLoaded()}catch(b){}if(100==a)this._onload();else if(0==a&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(e){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var e=V.delegate({id:!0,movie:!0,domNode:!0,
onReady:!0,onLoad:!0}),c;for(c in this)e[c]||delete this[c];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(e,c){c=c||document;return c.embeds[e]?c.embeds[e]:c[e]?c[e]:window[e]?window[e]:document[e]?document[e]:null}});V.mixin(m,{minSupported:8,available:p.major,supported:p.major>=p.required,minimumRequired:p.required,version:p,initialized:!1,onInitialize:function(){m.initialized=!0},__ie_markup__:function(e){return z(e)},proxy:function(e,c){v.forEach(c instanceof Array?
c:[c],function(a){this[a]=V.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+v.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},e)}});m.place=function(e,c){var a=z(e);c=l.byId(c);c||(c=g.doc.createElement("div"),c.id=a.id+"-container",g.body().appendChild(c));return a?(c.innerHTML=a.markup,a.id):null};m.onInitialize();
V.setObject("dojox.embed.Flash",m);return m})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(V,L,v){return V("dijit.ConfirmDialog",[L,v],{})})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(V,L,v,w){return V("dijit._ConfirmDialogMixin",L,{actionBarTemplate:w,buttonOk:v.buttonOk,_setButtonOkAttr:{node:"okButton",
attribute:"label"},buttonCancel:v.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"esri/dijit/Tags":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/html dojo/keys dojo/on dojo/query dojo/string dojo/store/Memory dijit/focus dijit/form/TextBox dijit/registry dijit/Tooltip dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard ../kernel ../lang dojo/i18n!../nls/jsapi dojo/NodeList-traverse dojo/NodeList-manipulate dojo/_base/sniff".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F){d=L([n,d,k],{declaredClass:"esri.dijit.Tags",templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',baseClass:"esriTags",_attachmentNode:"",_autocompleteList:"",_grid:"",_store:"",_matchParam:"",_idProperty:"",_gridId:"",_filterId:"",_placeHolder:"",_noDataMsg:"",_maxWidth:"",_minWidth:"",_inputTextBox:"",_gridHasFocus:!1,_metaKeyPressed:!1,_shiftKeyPressed:!1,_CSS_STYLES:{CLASS_SELECTOR:".",ALL_SELECTOR:"\x3e",MULTI:"select2-container select2-container-multi",
CHOICES:"select2-choices",CHOICE:"select2-search-choice",SEARCH_CHOICE_FOCUS:"select2-search-choice-focus",SEARCH_FIELD:"select2-search-field",CLOSE_ICON:"select2-search-choice-close"},values:[],_selRows:[],_CHOICE_SELECTOR:"",_CHOICE_FOCUS:"",_CHOICE_FOCUS_ALL:"",tooltipPosition:[],constructor:function(r){this._idProperty=r.idProperty||"tag";this._maxWidth=r.maxWidth||"auto";this._minWidth=r.minWidth||"auto";this._matchParam=r.matchParam||"first";this.values=[];this._selRows=[];this._CHOICE_ALL_SELECTOR=
this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE+this._CSS_STYLES.ALL_SELECTOR;this._CHOICE_FOCUS=this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.SEARCH_CHOICE_FOCUS;this._CHOICE_FOCUS_ALL=this._CHOICE_FOCUS+this._CSS_STYLES.ALL_SELECTOR},postMixInProperties:function(){this.inherited(arguments);var r=(new Date).getTime();this._tagsId="userTags-"+r;this._gridId="grid-"+r;this._filterId="filter-"+r;this._isIE8=9>h("ie");this.i18n={};v.mixin(this.i18n,F.widgets.tags)},postCreate:function(){if(this._isIE8)this._textTags=
new c({trim:!0,placeHolder:this.i18n.addTags,style:{minWidth:this.minWidth,maxWidth:this.maxWidth}},f.create("div",{id:this._tagsId},this.domNode)),this._textTags.startup(),l.add(this._textTags.domNode,"ie8Style");else{this._attachmentNode=f.create("div",{id:this._tagsId,className:"grid_1"},this.domNode);this._createContainerNode();this._createTagList();this._createDropDownList();this._createInput();var r=v.hitch(this,function(O,M,K){M=this._inputTextBox?this._inputTextBox.get("value")+"":"";if(1>
M.length)return!0;if(!O.tag)return!1;O=(O.tag+"").toLowerCase().match(new RegExp("^"+M.toLowerCase()));return null!==O&&0<O.length?!0:!1}),A=v.hitch(this,function(O,M,K){M=this._inputTextBox?this._inputTextBox.get("value")+"":"";return 1>M.length?!0:O.tag?(O.tag+"").toLowerCase().indexOf(M.toLowerCase())?!0:!1:!1}),G=[{field:this._idProperty}],H=[{attribute:this._idProperty,ascending:!0}];this._store=new m({idProperty:this._idProperty,data:[]});this._grid=new (L([q,y,C]))({store:this._store,showHeader:!1,
noDataMessage:this.i18n.noTagsFound,selectionMode:"extended",allowSelectAll:!0,cellNavigation:!1,columns:G,sort:H,renderRow:this._renderItem},this._dropDownList);this._grid.startup();l.add(this._grid.domNode,"gridHeightLimiter");this._grid.query="first"===this._matchParam?r:A;var J;this.own(this._inputTextBox.watch("value",v.hitch(this,function(O,M,K){J&&(clearTimeout(J),J=null);this._grid.refresh()})));this.own(this._grid.on(".dgrid-row:click",v.hitch(this,function(O){var M="";this._shiftKeyPressed||
this._metaKeyPressed?O.shiftKey||O.metaKey||O.ctrlKey||(M=this._selRows[0],this._createTags(M),this._store.remove(M),this._grid.refresh(),this._resetInputTextBox()):(M=this._grid.row(O).data.tag,this._createTags(M),this._store.remove(M),this._grid.refresh(),this._resetInputTextBox())})));this.own(this._grid.on("dgrid-deselect",v.hitch(this,function(O){this._selRows=[];for(var M in this._grid.selection)this._grid.selection.hasOwnProperty(M)&&this._selRows.push(M)})));this.own(this._grid.on("dgrid-select",
v.hitch(this,function(O){this._selRows=[];for(var M in this._grid.selection)this._grid.selection.hasOwnProperty(M)&&this._selRows.push(M)})));this.own(this.connect(this.domNode,"keydown","_keydownHandler"));window.onkeydown=v.hitch(this,function(O){if(O.shiftKey||O.ctrlKey||224===O.keyCode)this._metaKeyPressed=!0});this.own(this.connect(document,"onkeydown",v.hitch(this,function(O){this._metaKeyPressed=this._shiftKeyPressed=!0})))}},_keydownHandler:function(r){this._clearMessage();if(void 0!==e.curNode.value)var A=
e.curNode.value.length;var G=z(this._CHOICE_FOCUS,w.byId(this.id)),H=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,w.byId(this.id)).last();switch(r.keyCode){case u.RIGHT_ARROW:this._navigate(G,A,H,"right");this._hideGrid();break;case u.LEFT_ARROW:this._navigate(G,A,H,"left");this._hideGrid();break;case u.DOWN_ARROW:r.preventDefault();this._unhighlightTag(G);"none"===g.get(this._gridId,"display")&&this._showGrid();this._gridHasFocus||(this._grid.focus(this._setFocusOnFirstRow(this._grid,
0)),this._gridHasFocus=!0);break;case u.UP_ARROW:break;case u.BACKSPACE:if(0===A&&0===z(this._CHOICE_FOCUS_ALL).length&&void 0!==z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1]){var J=z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1].title;if(0<z("li",this._attachmentNode).length&&(f.destroy(H[0]),void 0!==J))try{this._store.add({tag:J})}catch(M){}}if(0<z(this._CHOICE_FOCUS_ALL).length&&(J=z(this._CHOICE_FOCUS_ALL).text(),f.destroy(G[0]),void 0!==J))try{this._store.add({tag:J})}catch(M){}this._grid.refresh();
0===A&&this._hideGrid();this._removeTag(J);this._emitRemoved(J);this._emitChanged();this.validate();break;case u.CTRL:this._metaKeyPressed=!0;break;case u.META:this._metaKeyPressed=!0;break;case u.SHIFT:this._shiftKeyPressed=!0;break;case u.ENTER:if(0<A){A=this._stripHTML(e.curNode.value);A=A.split(",");var O=[];V.forEach(A,function(M,K){-1===V.indexOf(O,M)&&O.push(p.trim(M))});V.forEach(O,v.hitch(this,function(M,K){this._isEmpty(M)||this._contains(this.values,M)||this._createTags(M)}))}else{for(A=
0;A<this._selRows.length;A++)this._createTags(this._selRows[A]),this._store.remove(this._selRows[A]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();r.preventDefault();e.focus(w.byId(this._filterId));break;case u.TAB:if(e.curNode.id!==this._filterId||0!==A){if(0<A)A=this._stripHTML(e.curNode.value),A=A.split(","),O=[],V.forEach(A,function(M,K){-1===V.indexOf(O,M)&&O.push(p.trim(M))}),V.forEach(O,v.hitch(this,function(M,K){this._isEmpty(M)||this._contains(this.values,M)||this._createTags(M)}));
else{for(A=0;A<this._selRows.length;A++)this._createTags(this._selRows[A]),this._store.remove(this._selRows[A]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();r.preventDefault();e.focus(w.byId(this._filterId))}break;case u.ESCAPE:this._hideGrid();break;default:-1<A&&("none"===g.get(w.byId(this._gridId),"display")&&this._showGrid(),this._unhighlightTag(G)),this._metaKeyPressed=!1}},_blurHandler:function(r,A,G){if(!this.focused){r=this._stripHTML(this._inputTextBox.value);if(0<
r.length){var H=[];r=r.split(",");V.forEach(r,function(J,O){-1===V.indexOf(H,J)&&H.push(p.trim(J))});V.forEach(H,v.hitch(this,function(J,O){this._isEmpty(J)||this._contains(this.values,J)||this._createTags(J)}));this._resetInputTextBox()}this._hideGrid()}this.validate()},isValid:function(){var r=this.get("value");return this.required?D.isDefined(r)&&0<r.length:!0},validate:function(){this._created&&!this.isValid()?(t.set(this.domNode,"aria-invalid","true"),this._displayMessage(this.i18n.required)):
(t.set(this.domNode,"aria-invalid","false"),this._displayMessage(null))},_clearMessage:function(){this._displayMessage(null)},_displayMessage:function(r){var A=this._isIE8?this._textTags.domNode:w.byId(this._tagsId);r&&this.focused?b.show(r,A):b.hide(A)},_resetInputTextBox:function(){a.byId(this._filterId).set("value","")},_isEmpty:function(r){r=r.replace(/^\s+|\s+$/,"");return 0===r.length?!0:!1},_navigate:function(r,A,G,H){0<r.length&&1>A?("right"===H?this._hightlightTag(r.next()):this._hightlightTag(r.prev()),
this._unhighlightTag(r)):1>A&&this._hightlightTag(G)},_contains:function(r,A){return 0<=V.indexOf(r,A)},_hightlightTag:function(r){r.addClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_unhighlightTag:function(r){r.removeClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_removeTag:function(r){r&&-1!==V.indexOf(this.values,r)&&this.values.splice(V.indexOf(this.values,r),1)},_hideGrid:function(){w.byId(this._gridId)&&g.set(w.byId(this._gridId),"display","none");this._gridHasFocus=!1},_showGrid:function(){g.set(w.byId(this._gridId),
"display","block");var r=g.get(w.byId(this._attachmentNode),"width");g.set(w.byId(this._gridId),"width",r+"px")},_setFocusOnFirstRow:function(r,A){return z(".dgrid-content .dgrid-cell",this._grid.domNode)[A]||z(".dgrid-content .dgrid-row",this._grid.domNode)[A]},_createTags:function(r){z(this._CHOICE_FOCUS,w.byId(this.id)).removeClass("select2-search-choice-focus");var A=f.create("li",null,this._autocompleteList);l.add(A,this._CSS_STYLES.CHOICE);A=f.create("div",{title:r},A);x.set(A,this._htmlEncode(r));
A=f.create("a",{href:"#"},A);l.add(A,this._CSS_STYLES.CLOSE_ICON);E(A,"click",v.hitch(this,function(G){var H=p.trim(G.target.parentElement.textContent);try{this._store.add({tag:H})}catch(J){}this._grid.refresh();this._removeTag(H);this._emitRemoved(H);this._emitChanged();f.destroy(G.target.parentNode.parentNode);G.preventDefault()}));A=a.byId(this._filterId);f.place(A.domNode,this._autocompleteList,"last");this._hideGrid();this.values.push(r);this._emitAdded(r);this._emitChanged()},_emitAdded:function(r){this.emit("tags-add",
{tag:r})},_emitRemoved:function(r){this.emit("tags-remove",{tag:r})},_emitChanged:function(){this.emit("tags-change",{tags:this.get("tags")})},_renderItem:function(r){return f.create("div",{innerHTML:r.tag})},_createContainerNode:function(){this._containerNode=f.create("div",null,this._attachmentNode);l.add(this._containerNode,this._CSS_STYLES.MULTI);g.set(this._containerNode,"maxWidth",this._maxWidth);g.set(this._containerNode,"minWidth",this._minWidth)},_createTagList:function(){this._autocompleteList=
f.create("ul",null,this._containerNode);l.add(this._autocompleteList,this._CSS_STYLES.CHOICES)},_createInput:function(){var r=f.create("li",null,this._autocompleteList,"last");l.add(r,this._CSS_STYLES.SEARCH_FIELD);this._inputTextBox=new c({id:this._filterId,placeHolder:this.i18n.addTags,intermediateChanges:!0,trim:!0,style:{border:"none"}},r);l.add(this._inputTextBox,"inputTextBox");g.set(this._inputTextBox,"width",this._minWidth);(8<h("ie")||4<h("trident"))&&l.add(this._inputTextBox.domNode,"ieStyle");
this.own(e.watch("curNode",v.hitch(this,this._blurHandler)))},_createDropDownList:function(){this._dropDownList=f.create("div",{id:this._gridId},this._containerNode);l.add(this._dropDownList,"dropDownList");g.set(this._dropDownList,"width",this._minWidth)},focus:function(){e.focus(this.domNode);this._isIE8?this._textTags.focus():this._inputTextBox.focus()},reset:function(){this.clearTags()},prepopulate:function(r){V.forEach(r,v.hitch(this,function(A,G){this._createTags(A);this._store.remove(A)}))},
clearTags:function(){var r=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,w.byId(this.id)),A=!1,G;0<r.length&&(A=!0,V.forEach(r,v.hitch(this,function(H,J){try{G=z(this._CHOICE_ALL_SELECTOR,w.byId(this.id))[0].title,this._store.add({tag:G})}catch(O){}f.destroy(H);this._emitRemoved(G)})),this.values=[],A&&this._emitChanged())},addStyledTags:function(r,A){l.add(w.byId(A),this._CSS_STYLES.MULTI);var G=f.create("ul",null,w.byId(A));l.add(G,this._CSS_STYLES.CHOICES);g.set(G,"border","none");
V.forEach(r,function(H,J){var O=f.create("li",null,G);g.set(O,"padding","3px 5px 3px 5px");l.add(O,"select2-search-resultSet");O=f.create("div",{title:H},O);x.set(O,H)})},_getUniqueTags:function(r){var A=[],G;V.forEach(r,v.hitch(this,function(H){G=this._stripHTML(H);D.isDefined(G)&&0<G.length&&A.push(G)}));return V.filter(A,v.hitch(this,function(H,J){return V.indexOf(A,H)===J}))},_setValueAttr:function(r){this._setTagsAttr(r)},_getValueAttr:function(){return this._getTagsAttr()},_setTagsAttr:function(r){!r||
r instanceof Array||(r=r.split(","));this._isIE8?this._textTags&&this._textTags.set("value",this._getUniqueTags(r).join(",")):(this.clearTags(),this.prepopulate(r?this._getUniqueTags(r):[]))},_getTagsAttr:function(){return this._isIE8?this._textTags?this._textTags.get("value"):"":this.values?this.values.join(","):""},_setRequiredAttr:function(r){this.required=r},_getRequiredAttr:function(){return this.required},_setMinWidthAttr:function(r){this.minWidth=r},_setMaxWidthAttr:function(r){this.maxWidth=
r},_setKnownTagsAttr:function(r){if(!this._isIE8){var A=[],G;for(G=0;G<r.length;G++)0>V.indexOf(this.values,r[G])&&A.push(r[G]);this._store=new m({idProperty:this._idProperty,data:A});this._grid.set("store",this._store);this._grid.refresh()}},_stripHTML:function(r){return r&&r.replace(/<(?:.|\s)*?>/g,"")},_htmlEncode:function(r){return r?r.replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;"):r}});v.setObject("dijit.Tags",d,B);return d})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(V,L,v,w,t,l,f,g){function h(C){C.preventDefault()}var x={checkbox:1,radio:1,button:1},u=/\bdgrid-cell\b/,E=/\bdgrid-row\b/,z=V("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=w.mixin({},z.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=w.mixin({},z.defaultHeaderKeyMap))},postCreate:function(){function C(F){var r=F.target;return r.type&&(!x[r.type]||32==F.keyCode)}function B(F){function r(){D._focusedHeaderNode&&
(D._focusedHeaderNode.tabIndex=-1);if(D.showHeader){if(A)for(var O=0,M,K=D.headerNode.getElementsByTagName("th");M=K[O];++O){if(G.test(M.className)){D._focusedHeaderNode=J=M;break}}else D._focusedHeaderNode=J=D.headerNode;J&&(J.tabIndex=D.tabIndex)}}var A=D.cellNavigation,G=A?u:E,H=F===D.headerNode,J=F;H?(r(),L.after(D,"renderHeader",r,!0)):L.after(D,"renderArray",function(O){return g.when(O,function(M){var K=D._focusedNode||J;if(G.test(K.className)&&f.contains(F,K))return M;for(var U=0,Z=F.getElementsByTagName("*"),
ca;ca=Z[U];++U)if(G.test(ca.className)){K=D._focusedNode=ca;break}K.tabIndex=D.tabIndex;return M})});D._listeners.push(v(F,"mousedown",function(O){C(O)||D._focusOnNode(O.target,H,O)}));D._listeners.push(v(F,"keydown",function(O){if(!O.metaKey&&!O.altKey){var M=D[H?"headerKeyMap":"keyMap"][O.keyCode];M&&!C(O)&&M.call(D,O)}}))}this.inherited(arguments);var D=this;this.tabableHeader&&(B(this.headerNode),this._listeners.push(v(this.headerNode,"dgrid-cellfocusin",function(){D.scrollTo({x:this.scrollLeft})})));
B(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(C){if(!this._focusedNode)return this.inherited(arguments);var B=this,D=document.activeElement===this._focusedNode,F=this[this.cellNavigation?"cell":"row"](this._focusedNode),r=F.row||F,A;C=C.element||C;C===r.element&&((A=this.down(r,!0))&&A.element!==C||(A=this.up(r,!0)),this._removedFocus={active:D,rowId:r.id,columnId:F.column&&F.column.id,siblingId:A&&A.element!==C?A.id:void 0},setTimeout(function(){B._removedFocus&&
B._restoreFocus(r.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(C){var B=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(B);return B},_restoreFocus:function(C){var B=this._removedFocus,D;if((C=(C=C&&this.row(C))&&C.element&&C.id===B.rowId?C:"undefined"!==typeof B.siblingId&&this.row(B.siblingId))&&C.element){if(!C.element.parentNode.parentNode){B.wait=!0;return}"undefined"!==typeof B.columnId&&(D=this.cell(C,B.columnId))&&
D.element&&(C=D);B.active&&0!==C.element.offsetHeight?this._focusOnNode(C,!1,null):(l(C.element,".dgrid-focus"),C.element.tabIndex=this.tabIndex,this._focusedNode=C.element)}delete this._removedFocus},addKeyHandler:function(C,B,D){return L.after(this[D?"headerKeyMap":"keyMap"],C,B,!0)},_ensureRowScroll:function(C){var B=this.getScrollPosition().y;B>C.offsetTop?this.scrollTo({y:C.offsetTop}):B+this.contentNode.offsetHeight<C.offsetTop+C.offsetHeight&&this.scrollTo({y:C.offsetTop-this.contentNode.offsetHeight+
C.offsetHeight})},_ensureColumnScroll:function(C){var B=this.getScrollPosition().x,D=C.offsetLeft;if(B>D)this.scrollTo({x:D});else{var F=this.bodyNode.clientWidth;C=C.offsetWidth;var r=D+C;B+F<r&&this.scrollTo({x:F>C?r-F:D})}},_ensureScroll:function(C,B){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!B&&this._ensureRowScroll(C.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(C.element)},_focusOnNode:function(C,B,D){var F="_focused"+(B?
"Header":"")+"Node",r=this[F],A=this.cellNavigation?"cell":"row",G=this[A](C),H;if(C=G&&G.element){if(this.cellNavigation){var J=C.getElementsByTagName("input");var O=0;for(H=J.length;O<H;O++){var M=J[O];if((-1!=M.tabIndex||"_dgridLastValue"in M)&&!M.disabled){8>t("ie")&&(M.style.position="relative");M.focus();8>t("ie")&&(M.style.position="");var K=!0;break}}}null!==D&&(D=w.mixin({grid:this},D),D.type&&(D.parentType=D.type),D.bubbles||(D.bubbles=!0));r&&(l(r,"!dgrid-focus[!tabIndex]"),8>t("ie")&&
(r.style.position=""),D&&(D[A]=this[A](r),v.emit(r,"dgrid-cellfocusout",D)));r=this[F]=C;D&&(D[A]=G);F=this.cellNavigation?u:E;!K&&F.test(C.className)&&(8>t("ie")&&(C.style.position="relative"),C.tabIndex=this.tabIndex,C.focus());l(C,".dgrid-focus");D&&v.emit(r,"dgrid-cellfocusin",D);this._debouncedEnsureScroll(G,B)}},focusHeader:function(C){this._focusOnNode(C||this._focusedHeaderNode,!0)},focus:function(C){(C=C||this._focusedNode)?this._focusOnNode(C,!1):this.contentNode.focus()}}),p=z.moveFocusVertical=
function(C,B){if(this._focusOnNode&&C.target!==this.contentNode){var D=this.cellNavigation,F=this[D?"cell":"row"](C);F=D&&F.column.id;var r=this.down(this._focusedNode,B,!0);D&&(r=this.cell(r,F));this._focusOnNode(r,!1,C);C.preventDefault()}};V=z.moveFocusUp=function(C){p.call(this,C,-1)};var m=z.moveFocusDown=function(C){p.call(this,C,1)},e=z.moveFocusPageUp=function(C){p.call(this,C,-this.pageSkip)},c=z.moveFocusPageDown=function(C){p.call(this,C,this.pageSkip)},a=z.moveFocusHorizontal=function(C,
B){if(this.cellNavigation&&C.target!==this.contentNode){var D=!this.row(C);this._focusOnNode(this.right(this["_focused"+(D?"Header":"")+"Node"],B),D,C);C.preventDefault()}},b=z.moveFocusLeft=function(C){a.call(this,C,-1)},d=z.moveFocusRight=function(C){a.call(this,C,1)},k=z.moveHeaderFocusEnd=function(C,B){if(this.cellNavigation){var D=this.headerNode.getElementsByTagName("th");this._focusOnNode(D[B?0:D.length-1],!0,C)}C.preventDefault()},n=z.moveHeaderFocusHome=function(C){k.call(this,C,!0)},q=z.moveFocusEnd=
function(C,B){var D=this,F=this.cellNavigation,r=this.contentNode,A=r.scrollTop+(B?0:r.scrollHeight);r=r[B?"firstChild":"lastChild"];var G=-1<r.className.indexOf("dgrid-preload"),H=G?r[(B?"next":"previous")+"Sibling"]:r,J=H.offsetTop+(B?0:H.offsetHeight);if(G){for(;H&&0>H.className.indexOf("dgrid-row");)H=H[(B?"next":"previous")+"Sibling"];if(!H)return}if(!G||1>r.offsetHeight)F&&(H=this.cell(H,this.cell(C).column.id)),this._focusOnNode(H,!1,C);else{t("dom-addeventlistener")||(C=w.mixin({},C));var O=
L.after(this,"renderArray",function(M){O.remove();return g.when(M,function(K){K=K[B?0:K.length-1];F&&(K=D.cell(K,D.cell(C).column.id));D._focusOnNode(K,!1,C)})})}A===J&&C.preventDefault()},y=z.moveFocusHome=function(C){q.call(this,C,!0)};z.defaultKeyMap={32:h,33:e,34:c,35:q,36:y,37:b,38:V,39:d,40:m};z.defaultHeaderKeyMap={32:h,35:k,36:n,37:b,39:d};return z})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(V,L,v){var w=V.NodeList;L.extend(w,{_buildArrayFromCallback:function(t){for(var l=
[],f=0;f<this.length;f++){var g=t.call(this[f],this[f],l);g&&(l=l.concat(g))}return l},_getUniqueAsNodeList:function(t){for(var l=[],f=0,g;g=t[f];f++)1==g.nodeType&&-1==v.indexOf(l,g)&&l.push(g);return this._wrap(l,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(t,l){var f=this._getUniqueAsNodeList(t);f=l?V._filterResult(f,l):f;return f._stash(this)},_getRelatedUniqueNodes:function(t,l){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(l),t)},children:function(t){return this._getRelatedUniqueNodes(t,
function(l,f){return L._toArray(l.childNodes)})},closest:function(t,l){return this._getRelatedUniqueNodes(null,function(f,g){do if(V._filterResult([f],t,l).length)return f;while(f!=l&&(f=f.parentNode)&&1==f.nodeType);return null})},parent:function(t){return this._getRelatedUniqueNodes(t,function(l,f){return l.parentNode})},parents:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[];l.parentNode;)l=l.parentNode,g.push(l);return g})},siblings:function(t){return this._getRelatedUniqueNodes(t,
function(l,f){for(var g=[],h=l.parentNode&&l.parentNode.childNodes,x=0;x<h.length;x++)h[x]!=l&&g.push(h[x]);return g})},next:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=l.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[],h=l;h=h.nextSibling;)1==h.nodeType&&g.push(h);return g})},prev:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=l.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(t){return this._getRelatedUniqueNodes(t,function(l,f){for(var g=[],h=l;h=h.previousSibling;)1==h.nodeType&&g.push(h);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(t,l){return 0!=l%2})},odd:function(){return this.filter(function(t,l){return 0==
l%2})}});return w})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");V.require("dojox.grid.DataGrid");V.declare("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",
type:"Map Document"},msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",
type:"Map Package"},mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",
type:"Image Collection"},photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1,notebook:esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:
!1},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",
typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",
typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},
gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:v.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:v.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:v.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",
name:"addressFields",select:"addressTypes",editable:"true",type:v.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:v.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',width:"16px",editable:!0,type:v.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(V,L,v,w,t,l,f,g,h){var x=l("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new g(this)},get:function(u,E){if(E&&"_item"==this.field&&!this.fields)return E;if(E&&this.fields){var z=[],p=this.grid.store;L.forEach(this.fields,function(m){z=z.concat(p.getValues(E,m))});return z}return E||"string"!==typeof u?E?this.field?"_item"==this.field?E:this.grid.store.getValue(E,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var u=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,u=!0);this.updating||(this.beginUpdate(),u=!0);if(u){var E=this;this._endUpdateDelay=setTimeout(function(){delete E._endUpdateDelay;E.endUpdate()},this.updateDelay)}}},_onSet:function(u,E,z,p){this._checkUpdateStatus();u=this.getItemIndex(u);-1<u&&this.updateRow(u)},_createItem:function(u,E){var z=this._hasIdentity?this.store.getIdentity(u):w.toJson(this.query)+":idx:"+E+":sort:"+w.toJson(this.getSortProps());
return this._by_idty[z]={idty:z,item:u}},_addItem:function(u,E,z){this._by_idx[E]=this._createItem(u,E);z||this.updateRow(E)},_onNew:function(u,E){this._checkUpdateStatus();var z=this.get("rowCount");this._addingItem=!0;this.updateRowCount(z+1);this._addingItem=!1;this._addItem(u,z);this.showMessage()},_onDelete:function(u){this._checkUpdateStatus();u=this._getItemIndex(u,!0);if(0<=u){this._pages=[];this._eop=this._bop=-1;var E=this._by_idx[u];this._by_idx.splice(u,1);delete this._by_idty[E.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(u)&&(this.selection.deselect(u),this.selection.selected.splice(u,1))},_onRevert:function(){this._refresh()},setStore:function(u,E,z){this._requestsPending(0)||(this._setQuery(E,z),this._setStore(u),this._refresh(!0))},setQuery:function(u,E){this._requestsPending(0)||(this._setQuery(u,E),this._refresh(!0))},setItems:function(u){this.items=u;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(u,E){this.query=u;this.queryOptions=E||this.queryOptions},_setStore:function(u){this.store&&this._store_connects&&L.forEach(this._store_connects,this.disconnect,this);if(this.store=u){u=this.store.getFeatures();var E=[];this._canEdit=!!u["dojo.data.api.Write"]&&!!u["dojo.data.api.Identity"];this._hasIdentity=!!u["dojo.data.api.Identity"];u["dojo.data.api.Notification"]&&!this.items&&(E.push(this.connect(this.store,"onSet","_onSet")),E.push(this.connect(this.store,
"onNew","_onNew")),E.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&E.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=E}},_onFetchBegin:function(u,E){this.scroller&&(this.rowCount!=u&&(E.isRender?(this.scroller.init(u,this.keepRows,this.rowsPerPage),this.rowCount=u,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(u)),u?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(u,E){this.scroller&&(u&&0<u.length&&(L.forEach(u,function(z,p){this._addItem(z,E.start+p,!0)},this),this.updateRows(E.start,u.length),E.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),t("ie")&&h.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[E.start]=
!1)},_onFetchError:function(u,E){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[E.start]=!1;this.onFetchError(u,E)},onFetchError:function(u,E){},_fetch:function(u,E){u=u||0;if(this.store&&!this._pending_requests[u]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[u]=!0;try{if(this.items){var z=this.items,p=this.store;this.rowsPerPage=z.length;
var m={start:u,count:this.rowsPerPage,isRender:E};this._onFetchBegin(z.length,m);var e=0;L.forEach(z,function(a){p.isItemLoaded(a)||e++});if(0===e)this._onFetchComplete(z,m);else{var c=function(a){e--;0===e&&this._onFetchComplete(z,m)};L.forEach(z,function(a){p.isItemLoaded(a)||p.loadItem({item:a,onItem:c,scope:this})},this)}}else this.store.fetch({start:u,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:E,onBegin:v.hitch(this,"_onFetchBegin"),
onComplete:v.hitch(this,"_onFetchComplete"),onError:v.hitch(this,"_onFetchError")})}catch(a){this._onFetchError(a,{start:u,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(u){var E=this._by_idx[u];return!E||E&&!E.item?(this._preparePage(u),null):E.item},getItemIndex:function(u){return this._getItemIndex(u,!1)},_getItemIndex:function(u,E){if(!E&&!this.store.isItem(u))return-1;
for(var z=this._hasIdentity?this.store.getIdentity(u):null,p=0,m=this._by_idx.length;p<m;p++){var e=this._by_idx[p];if(e&&(z&&e.idty==z||e.item===u))return p}return-1},filter:function(u,E){this.query=u;E&&this._clearData();this._fetch()},_getItemAttr:function(u,E){var z=this.getItem(u);return z?this.store.getValue(z,E):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(u){return this._pending_requests[u]},
_rowToPage:function(u){return this.rowsPerPage?Math.floor(u/this.rowsPerPage):u},_pageToRow:function(u){return this.rowsPerPage?this.rowsPerPage*u:u},_preparePage:function(u){(u<this._bop||u>=this._eop)&&!this._addingItem&&(u=this._rowToPage(u),this._needPage(u),this._bop=u*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(u){this._pages[u]||(this._pages[u]=!0,this._requestPage(u))},_requestPage:function(u){u=this._pageToRow(u);0<Math.min(this.rowsPerPage,
this.get("rowCount")-u)&&(this._requests++,this._requestsPending(u)||setTimeout(v.hitch(this,"_fetch",u,!1),1))},getCellName:function(u){return u.field},_refresh:function(u){this._clearData();this._fetch(0,u)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var u=this.getCell(this.getSortIndex());if(u){var E=u.sortDesc,z=!(0<this.sortInfo);return[{attribute:u.field,descending:"undefined"==typeof E?
z:z?!E:E}]}return this.sortFields?this.sortFields:null},styleRowState:function(u){if(this.store&&this.store.getState){for(var E=this.store.getState(u.index),z="",p=0,m=["inflight","error","inserting"],e;e=m[p];p++)if(E[e]){z=" dojoxGridRow-"+e;break}u.customClasses+=z}},onStyleRow:function(u){this.styleRowState(u);this.inherited(arguments)},canEdit:function(u,E){return this._canEdit},_copyAttr:function(u,E){var z=this.getItem(u);return this.store.getValue(z,E)},doStartEdit:function(u,E){this._cache[E]||
(this._cache[E]=this._copyAttr(E,u.field));this.onStartEdit(u,E)},doApplyCellEdit:function(u,E,z){this.store.fetchItemByIdentity({identity:this._by_idx[E].idty,onItem:v.hitch(this,function(p){var m=this.store.getValue(p,z);"number"==typeof m?u=isNaN(u)?u:parseFloat(u):"boolean"==typeof m?u="true"==u?!0:"false"==u?!1:u:m instanceof Date&&(m=new Date(u),u=isNaN(m.getTime())?u:m);this.store.setValue(p,z,u);this.onApplyCellEdit(u,E,z)})})},doCancelEdit:function(u){this._cache[u]&&(this.updateRow(u),delete this._cache[u]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(u,E){this.onApplyEdit(u)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var u=v.hitch(this,function(E){E.length&&(L.forEach(E,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:u}):u(this.selection.getSelected())}}});x.cell_markupFactory=function(u,E,z){var p=v.trim(h.attr(E,"field")||"");p&&(z.field=p);z.field=
z.field||z.name;if(p=v.trim(h.attr(E,"fields")||""))z.fields=p.split(",");u&&u(E,z)};x.markupFactory=function(u,E,z,p){return f.markupFactory(u,E,z,v.partial(x.cell_markupFactory,p))};return x})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(V,L,v){return V("dojox.grid.DataSelection",v,{constructor:function(w){w.keepSelection&&(this.preserver=new L(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var w=
v.prototype.getFirstSelected.call(this);return-1==w?null:this.grid.getItem(w)},getNextSelected:function(w){w=this.grid.getItemIndex(w);w=v.prototype.getNextSelected.call(this,w);return-1==w?null:this.grid.getItem(w)},getSelected:function(){for(var w=[],t=0,l=this.selected.length;t<l;t++)this.selected[t]&&w.push(this.grid.getItem(t));return w},addToSelection:function(w){if("none"!=this.mode){var t=null;t="number"==typeof w||"string"==typeof w?w:this.grid.getItemIndex(w);v.prototype.addToSelection.call(this,
t)}},deselect:function(w){if("none"!=this.mode){var t=null;t="number"==typeof w||"string"==typeof w?w:this.grid.getItemIndex(w);v.prototype.deselect.call(this,t)}},deselectAll:function(w){var t=null;w||"number"==typeof w?(t="number"==typeof w||"string"==typeof w?w:this.grid.getItemIndex(w),v.prototype.deselectAll.call(this,t)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(V,
L,v,w){return V("dojox.grid._SelectionPreserver",null,{constructor:function(t){this.selection=t;var l=this.grid=t.grid;this.reset();this._connects=[L.connect(l,"_setStore",this,"reset"),L.connect(l,"_addItem",this,"_reSelectById"),L.connect(t,"onSelected",v.hitch(this,"_selectById",!0)),L.connect(t,"onDeselected",v.hitch(this,"_selectById",!1)),L.connect(t,"deselectAll",this,"reset")]},destroy:function(){this.reset();w.forEach(this._connects,L.disconnect);delete this._connects},reset:function(){this._selectedById=
{}},_reSelectById:function(t,l){t&&this.grid._hasIdentity&&(this.selection.selected[l]=this._selectedById[this.grid.store.getIdentity(t)])},_selectById:function(t,l){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=l,g=this.grid;if("number"==typeof l||"string"==typeof l)f=(f=g._by_idx[l])&&f.item;f&&(this._selectedById[g.store.getIdentity(f)]=!!t);return f}}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(V,L,v,w){return V("dijit.form.Textarea",[w,v],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);L.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(V,L,v,w,t,l,f){v.add("textarea-needs-help-shrinking",function(){var g=l.body(),h=L.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},g,"last"),x=h.scrollHeight>=h.clientHeight;g.removeChild(h);return x});return V("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(t(g,"focus, resize",w.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",w.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(g){this.inherited(arguments);this.resize()},_estimateHeight:function(){var g=this.textbox;g.rows=(g.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function g(){var e=!1;""===h.value&&(h.value=" ",e=!0);var c=h.scrollHeight;e&&(h.value="");return c}var h=this.textbox;"hidden"==h.style.overflowY&&(h.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(g()||h.offsetHeight){var x=g()+Math.max(h.offsetHeight-h.clientHeight,0),u=x+"px";u!=h.style.height&&(h.style.height=u,h.rows=1);if(v("textarea-needs-help-shrinking")){var E=g(),z=h.style.minHeight,p=4,m=h.scrollTop;h.style.minHeight=u;for(h.style.height="auto";0<x;){h.style.minHeight=
Math.max(x-p,4)+"px";u=g();E-=u;x-=E;if(E<p)break;E=u;p<<=1}h.style.height=x+"px";h.style.minHeight=z;h.scrollTop=m}h.style.overflowY=g()>h.clientHeight?"auto":"hidden";"hidden"==h.style.overflowY&&(h.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"arcgisonline/map/core/sameSpatialReference":function(){define(["esri/lang","arcgisonline/map/utils/contains"],function(V,L){return function(v,w){var t=[102113,102100,3857];return v&&w&&v.wkt==w.wkt&&(v.wkid==w.wkid||V.isDefined(v.latestWkid)&&
v.latestWkid==w.wkid||V.isDefined(w.latestWkid)&&v.wkid==w.latestWkid||V.isDefined(v.latestWkid)&&v.latestWkid==w.latestWkid)||v&&w&&v.wkid&&w.wkid&&L(t,v.wkid)&&L(t,w.wkid)?!0:!1}})},"arcgisonline/sharing/dijit/dialog/_PublishTileServiceDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojo/promise/all,dojo/Deferred,esri/geometry/Extent,arcgisonline/sharing/util"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin");V.require("dojo.promise.all");
V.require("dojo.Deferred");V.require("esri.geometry.Extent");V.require("arcgisonline.sharing.util");V.declare("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin",null,{_util:arcgisonline.sharing.util,SCALE_MIN:5.91657527591555E8,SCALE_MAX:0,tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,
scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},
{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,
scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},tileImageInfo:{format:"PNG32",compressionQuality:0,antialiasing:!0},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128},vectorTilePublishParams:{tilingSchema:{tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:2.95828763795777E8},{level:1,resolution:39135.75848200009,scale:1.47914381897889E8},{level:2,resolution:19567.87924099992,scale:7.3957190948944E7},{level:3,resolution:9783.93962049996,scale:3.6978595474472E7},{level:4,resolution:4891.96981024998,scale:1.8489297737236E7},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,
scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,
resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},
tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}},lods:[{level:0,label:"1:591,657,528",scale:5.91657527591555E8},{level:1,label:"1:295,828,764",scale:2.95828763795777E8},{level:2,label:"1:147,914,382",scale:1.47914381897889E8},{level:3,label:"1:73,957,191",scale:7.3957190948944E7},{level:4,label:"1:36,978,595",scale:3.6978595474472E7},{level:5,label:"1:18,489,298",scale:1.8489297737236E7},
{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,
label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],statusCheckIntervalTime:2500,_fetchFSInfo:function(w){var t=new V.Deferred,l=w&&w.url,f=w?esriGeowConfig.restBaseUrl+"content/items/"+w.id+"/data":null;l&&f?V.promise.all({serviceInfo:this._fetchServiceInfo(l),
layers:this._fetchServiceLayers(l),itemData:this._fetchItemData(f,w)}).then(V.hitch(this,function(g){t.resolve(V.mixin({},g))})):t.reject(this.i18n.publishWizard.errors.noItemUrl||{message:"Item does not specify a url."});return t},_fetchServiceInfo:function(w){return this._util.request({url:w})},_fetchServiceLayers:function(w){return this._util.request({url:w+"/layers"}).then(V.hitch(this,function(t){return{layers:t.layers}}))},_fetchItemData:function(w,t){return this._util.request({url:w}).then(V.hitch(this,
function(l){var f=[],g="features"===this._type,h;V.forEach(l&&l.layers||[],V.hitch(this,function(x,u){x&&(h=V.mixin({},g?{id:x.id}:{id:u,layerUrl:t.url+"/"+x.id,layerItemId:t.id,layerDefinition:x.layerDefinition}),x.popupInfo&&(h=V.mixin(h,{popupInfo:x.popupInfo})),!g&&esri.isDefined(x.showLegend)&&(h=V.mixin(h,{showLegend:x.showLegend})));f.push(h)}));return f&&f.length?V.mixin(l,{layers:f}):null}))},_computeScale:function(w,t){var l={width:esri.config.defaults.map.width,extent:new esri.geometry.Extent(w),
spatialReference:w.spatialReference||t};return esri.geometry.getScale(l)},_fetchTileLayerInfo:function(w,t){var l=new V.Deferred,f=t&&"vectorTiles"===t,g=function(h){return-1<window.location.href.indexOf("https:")&&h&&-1<h.indexOf("http:")};-1<(f?w.indexOf("/VectorTileServer"):w.indexOf("/MapServer"))?this._util.request({url:w,timeout:1E4},{useProxy:g(w),addToken:!1}).then(V.hitch(this,function(h){h&&h.singleFusedMapCache&&h.tileInfo?l.resolve(this._addScaleLabels(h.tileInfo)):h&&f&&h.tileInfo?l.resolve(h.tileInfo):
l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.noTilingSchemeFound})}),V.hitch(this,function(h){l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.mapServiceError})})):l.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.badMapServiceUrl});return l},_addScaleLabels:function(w){if(w&&w.lods)return V.forEach(w&&w.lods||[],V.hitch(this,function(t){t.label="1:"+V.number.format(Math.round(t.scale),{pattern:"#,###,###,##0"})})),
w},_calculateConstraints:function(w){var t={minScale:null,maxScale:null},l=function(f){if(!esri.isDefined(t.minScale))t.minScale=f.minScale;else if(f.minScale>t.minScale||0===f.minScale)t.minScale=f.minScale;esri.isDefined(t.maxScale)?f.maxScale<t.maxScale&&(t.maxScale=f.maxScale):t.maxScale=f.maxScale};w?w.layers&&V.forEach(w.layers,l):(t.minScale=this.SCALE_MIN,t.maxScale=this.SCALE_MAX);return t},_normalizeMaxScale:function(w,t,l){if(w<=t&&l){for(t=l.length-1;0<=t;t--)if(w<l[t].scale){var f=t+
2;break}f=f>l.length-1?l.length-1:f;return l[f].scale}return t}})})},"esri/dijit/VisibleScaleRangeSlider":function(){define("../kernel ./_EventedWidget ./_Tooltip ./VisibleScaleRangeSlider/_RecommendedScaleRangeBounds ./VisibleScaleRangeSlider/_SlideEvent ./VisibleScaleRangeSlider/ScaleMenu ./VisibleScaleRangeSlider/ScalePreview ./VisibleScaleRangeSlider/ScaleRanges dijit/form/DropDownButton dijit/popup dojo/_base/array dojo/_base/lang dojo/aspect dojo/debounce dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/string dojox/form/HorizontalRangeSlider dojo/i18n!../nls/jsapi".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y){L=L.createSubclass([v],{declaredClass:"esri.dijit.VisibleScaleRangeSlider",baseClass:"esriVisibleScaleRangeSlider",css:{currentScaleIndicator:"esriCurrentScaleIndicator",currentScaleIndicatorContainer:"esriCurrentScaleIndicatorContainer",scaleIndicator:"esriScaleIndicator",scaleIndicatorContainer:"esriScaleIndicatorContainer"},disabled:!1,map:null,layer:null,region:"en-US",minScale:0,maxScale:0,intermediateChanges:!1,labels:y.widgets.visibleScaleRangeSlider,
_slider:null,_currentScaleIndicator:null,_scalePreview:null,_maxScaleButton:null,_minScaleButton:null,_mapUpdateHandler:null,_scaleRanges:null,_scheduleScaleRangeChangeEmit:null,_getSliderIndexRange:function(C){C=Math.floor(C);return{min:C,max:C+.99999}},_setDisabledAttr:function(C){this._slider.set("disabled",C);this._maxScaleButton.set("disabled",C);this._minScaleButton.set("disabled",C);this._set("disabled",C)},_setMapAttr:function(C){this._set("map",C);this._mapUpdateHandler&&this._mapUpdateHandler.remove();
this._slider.set("disabled",!0);this._ensureMap().then(this._updateFromMap)},_setConstraintsAttr:function(C){this._set("constraints",C);this._setUpSlider({minScale:C.minScale,maxScale:C.maxScale})},_updateFromMap:function(C){var B=C.getMinScale(),D=C.getMaxScale();this._setUpSlider({minScale:B,maxScale:D});this._updateCurrentScaleIndicator();C=C.on("zoom-end",E.hitch(this,this._updateCurrentScaleIndicator));this.own(C);this._mapUpdateHandler=C},_setUpSlider:function(C){var B=C.maxScale;C=C.minScale;
this._slider.set("disabled",this.get("disabled"));this._scaleRanges.set("scaleRangeBounds",{minScale:C,maxScale:B});var D=this._getSliderIndexRange(this._scaleRanges.length-1);this._slider.set("maximum",D.max);this._silentSliderUpdate({maxScale:B,minScale:C})},_ensureMap:function(){return this._untilLoaded(this.map)},_untilLoaded:function(C){var B=new m;if(C)if(C.loaded)B.resolve(C);else C.on("load",function(){B.resolve(C)});else B.reject(Error("could not load resource"));return B.promise},_updateCurrentScaleIndicator:function(){var C=
this._scaleRanges.clampScale(this.map.getScale());C=this._mapScaleToSlider(C)/this._slider.maximum;this.isLeftToRight()||(C=1-C);b.set(this._currentScaleIndicator,{left:100*C+"%"})},_setLayerAttr:function(C){this._set("layer",C);this._ensureScaleRangeProvider().then(this._ensureLayer).then(this._updateMinMaxScaleFromLayer)},_ensureLayer:function(){return this._untilLoaded(this.layer)},_updateMinMaxScaleFromLayer:function(C){this.set({minScale:C.minScale,maxScale:C.maxScale})},_mapSliderToScale:function(C){var B=
this._getSliderIndexRange(C),D=this._scaleRanges.findScaleRangeByIndex(C);return this._mapToRange(C,B.min,B.max,D.minScale,D.maxScale)},_mapToRange:function(C,B,D,F,r){return F+(C-B)*(r-F)/(D-B)},_setRegionAttr:function(C){this._set("region",C);this._scalePreview.set("source",g.getScalePreviewSource(C))},_getMinimumAttr:function(){return this._mapSliderToScale(this._slider.minimum)},_getMaximumAttr:function(){return this._mapSliderToScale(this._slider.maximum)},_getActualMaxScaleAttr:function(){return this._scaleRanges.clampMaxScale(this.maxScale)},
_setMaxScaleAttr:function(C){this._set("maxScale",C);this._ensureScaleRangeProvider().then(E.hitch(this,function(){C=this._scaleRanges.clampMaxScale(C);this._set("maxScale",this._layerConstrainedMaxScale(C));this._silentSliderUpdate({maxScale:C});this._scheduleScaleRangeChangeEmit()}))},_silentSliderUpdate:function(C){var B=C.minScale,D=C.maxScale,F=this._scaleRanges;C=this._slider;void 0!==B&&(B=this._mapScaleToSlider(F.clampMinScale(B)),C.set("value",B,!1,!1));void 0!==D&&(B=this._mapScaleToSlider(F.clampMaxScale(D)),
C.set("value",B,!1,!0))},_mapScaleToSlider:function(C){var B=this._scaleRanges.scaleToRangeIndex(C),D=this._getSliderIndexRange(B);B=this._scaleRanges.findScaleRangeByIndex(B);return this._mapToRange(C,B.minScale,B.maxScale,D.min,D.max)},_getActualMinScaleAttr:function(){return this._scaleRanges.clampMinScale(this.minScale)},_setMinScaleAttr:function(C){this._set("minScale",C);this._ensureScaleRangeProvider().then(E.hitch(this,function(){C=this._scaleRanges.clampMinScale(C);this._set("minScale",this._layerConstrainedMinScale(C));
this._silentSliderUpdate({minScale:C});this._scheduleScaleRangeChangeEmit()}))},_ensureScaleRangeProvider:function(){if(this.map)return this._ensureMap();var C=new m;this.constraints&&C.resolve();return C.promise},_emitScaleRangeChange:function(){this.emit("scale-range-change",{minScale:this.minScale,maxScale:this.maxScale})},_layerConstrainedMinScale:function(C){var B=E.getObject("tileInfo.lods",!1,this.layer)||[];var D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===
this.layer.declaredClass);return 0<B.length&&!D?(B=B[0].scale,D=this._scaleRanges.get("firstRange"),(D=.85<this._mapToRange(C,D.maxScale,D.minScale,0,1))?B:C>B?B:C):this._scaleRanges.beyondMinScale(C)?0:C},_layerConstrainedMaxScale:function(C){var B=E.getObject("tileInfo.lods",!1,this.layer)||[],D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===this.layer.declaredClass);return 0<B.length&&!D?(B=B[B.length-1].scale,C<B?B:C):this._scaleRanges.beyondMaxScale(C)?
0:C},constructor:function(){this._scaleRanges=new (g.createSubclass([w]));this._scheduleScaleRangeChangeEmit=p(E.hitch(this,this._emitScaleRangeChange),0);this._ensureMap=E.hitch(this,this._ensureMap);this._ensureScaleRangeProvider=E.hitch(this,this._ensureScaleRangeProvider);this._ensureLayer=E.hitch(this,this._ensureLayer);this._updateMinMaxScaleFromLayer=E.hitch(this,this._updateMinMaxScaleFromLayer);this._updateFromMap=E.hitch(this,this._updateFromMap)},buildRendering:function(){this.inherited(arguments);
this._initSlider();this._initScalePreview();this._initCurrentScaleIndicator();this._initScaleMenus()},_initSlider:function(){var C=new (q.createSubclass([t]))({baseClass:"esriHorizontalSlider",showButtons:!1,intermediateChanges:this.intermediateChanges,disabled:!0});this._slider=C;C.placeAt(this.domNode);C.startup();this.own(C.on("slide-onmousemove, slidemax-onmousemove",E.hitch(this,function(B){this._updateScalePreview(B.movable.handle)})),C.on("slide-onmovestop, slidemax-onmovestop",E.hitch(this,
function(B){e.contains(B.movable.handle,"dijitSliderThumbHover")||this._closeScalePreview()})),C.on("change",E.hitch(this,function(){var B=Math.round(this._mapSliderToScale(this._getSliderMin())),D=Math.round(this._mapSliderToScale(this._getSliderMax()));this.set({minScale:B,maxScale:D})})),z.after(C,"_setValueAttr",E.hitch(this,this._updateLabelMenus)))},_getSliderMin:function(){return this._slider.get("value")[0]},_getSliderMax:function(){return this._slider.get("value")[1]},_updateLabelMenus:function(){var C=
this._maxScaleButton;this._minScaleButton.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMin()));C.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMax()))},_initScalePreview:function(){var C=new f;C.startup();x.moveOffScreen(C);u.forEach([this._slider._movable.handle,this._slider._movableMax.handle],function(B){B.onmouseenter=E.hitch(this,this._updateScalePreview,B);B.onmouseleave=E.hitch(this,this._closeScalePreview)},this);this.own(C);this._scalePreview=C},_closeScalePreview:function(){x.close(this._scalePreview)},
_updateScalePreview:function(C){if(!this.disabled){var B=this._scalePreview;x.moveOffScreen(B);var D=this._slider,F=C===D.sliderHandle?this._getSliderMin():this._getSliderMax(),r=a.position(C),A=a.position(B.domNode);D=a.position(D.sliderBarContainer);var G=this.isLeftToRight();F=this._scaleRanges.getScalePreviewSpriteBackgroundPosition(F);B.set("backgroundPosition",F);r=r.x-D.x;A=.5*A.w;x.open({parent:this,popup:B,around:C,orient:r<A?G?["above","below"]:["above-alt","below-alt"]:r<D.w-A?["above-centered",
"below-centered"]:G?["above-alt","below-alt"]:["above","below"]})}},_initCurrentScaleIndicator:function(){if(this.map){var C=c.create("div",{className:this.css.scaleIndicatorContainer+" "+this.css.currentScaleIndicatorContainer},this._slider.sliderBarContainer),B=c.create("div",{className:this.css.scaleIndicator+" "+this.css.currentScaleIndicator},C);this._currentScaleIndicator=B;this.createTooltip(B);C=k(B,"mouseover",E.hitch(this,function(){var D=n.substitute(this.labels.currentScaleTooltip,{scaleLabel:this._scaleRanges.getScaleRangeLabel(this._mapScaleToSlider(this.map.getScale()))});
this.findTooltip(B).set("label",D)}));this.own(C)}},_initScaleMenus:function(){var C=new l,B=new l;this.own(C.on("scale-selected",E.hitch(this,function(r){D.closeDropDown();this.set("minScale",r.scale)})));this.own(B.on("scale-selected",E.hitch(this,function(r){F.closeDropDown();this.set("maxScale",r.scale)})));var D=new h({baseClass:"esriScaleMenuButton esriMinScaleMenuButton",dropDown:C,dropDownPosition:["below","above"]});D.toggleDropDown();D.toggleDropDown();var F=new h({baseClass:"esriScaleMenuButton esriMaxScaleMenuButton",
dropDown:B,dropDownPosition:["below","above"]});F.toggleDropDown();F.toggleDropDown();this.own(z.before(D,"openDropDown",E.hitch(this,function(){var r=this._scaleRanges.findScaleRange(this.get("actualMaxScale")).minScale;C.set("options",{label:D.label,scale:{current:this.get("actualMinScale"),map:this._getMapScale(),min:this.get("minimum"),max:r}})})));this.own(z.before(F,"openDropDown",E.hitch(this,function(){var r=this._scaleRanges.findScaleRange(this.get("actualMinScale")).maxScale;B.set("options",
{label:F.label,scale:{current:this.get("actualMaxScale"),map:this._getMapScale(),min:r,max:this.get("maximum")}})})));D.placeAt(this.domNode);F.placeAt(this.domNode);C.startup();B.startup();D.startup();F.startup();this._minScaleButton=D;this._maxScaleButton=F},_getMapScale:function(){return this.map?this.map.getScale():-1},startup:function(){this.inherited(arguments);this.watch("intermediateChanges",function(C,B,D){this._slider.set(C,D)})}});E.setObject("dijit.VisibleScaleRangeSlider",L,V);return L})},
"esri/dijit/_Tooltip":function(){define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(V,L,v,w,t){return v(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments);this._started||L.forEach(this._tooltips,function(l){l.startup()})},destroy:function(){this.inherited(arguments);L.forEach(this._tooltips,function(l){l.destroy()});this._tooltips=null},createTooltips:function(l){L.forEach(l,
function(f){this.createTooltip(f.node,f.label)},this)},createTooltip:function(l,f){var g=this._getConnectId(l);g&&(g="object"===typeof f?w.mixin({},f,{connectId:g}):{connectId:g,label:f},g=new V(g),this._started&&g.startup(),this._tooltips.push(g))},_getConnectId:function(l){var f;if(l){if(w.isArray(l)){var g=[];L.forEach(l,function(h){(f=this._getNode(h))&&g.push(f)});if(0===g.length)return}else if(g=this._getNode(l),!g)return;return g}},_getNode:function(l){return t.byId(l.domNode||l)},findTooltip:function(l){var f=
this._getNode(l),g;if(l){l=this._tooltips;var h=l.length;for(var x=0;x<h;x++){var u=l[x];if(g=w.isArray(u.connectId)?-1<L.indexOf(u.connectId,f):u.connectId===f)return u}}}})})},"esri/dijit/VisibleScaleRangeSlider/_RecommendedScaleRangeBounds":function(){define(["./recommendedScales","dojo/_base/declare"],function(V,L){return L(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._RecommendedScaleRangeBounds",beyondMinScale:function(v){var w=this.get("firstRange"),t=w.minScale;w=V.getRecommendedScale(w.id)||
w.maxScale;return v<=t&&v>w},beyondMaxScale:function(v){var w=this.get("lastRange"),t=w.maxScale;w=V.getRecommendedScale(w.id)||w.minScale;return v<w&&v>=t}})})},"esri/dijit/VisibleScaleRangeSlider/recommendedScales":function(){define(["dojo/_base/lang"],function(V){var L={_recommendedScales:{world:1E8,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,
street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100},getRecommendedScale:function(v){return L._recommendedScales[v]},all:function(){return V.clone(L._recommendedScales)}};return L})},"esri/dijit/VisibleScaleRangeSlider/_SlideEvent":function(){define(["dojo/_base/array","dojo/_base/declare"],function(V,L){return L(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._SlideEvent",_events:["onMouseMove","onFirstMove",{name:"onMoveStop",hookTo:"destroy"}],postCreate:function(){this.inherited(arguments);
this._extendMover(this._movable);this._extendMover(this._movableBar,"rangebar");this._extendMover(this._movableMax,"max")},_extendMover:function(v,w){if(v){var t=v.mover,l={};V.forEach(this._events,function(f){if("object"===typeof f){var g=f.name;var h=f.hookTo}else g=f;var x=t.prototype[g]||function(){};var u="slide"+(w||"")+"-"+g.toLowerCase();var E=function(){x.apply(this,arguments);this.widget.emit(u,{movable:v})};if(h){var z=t.prototype[h];l[h]=function(){z.apply(this,arguments);E.apply(this,
arguments)}}l[g]=E});t.extend(l)}}})})},"esri/dijit/VisibleScaleRangeSlider/ScaleMenu":function(){define("../../kernel ../_EventedWidget ../_Tooltip ./recommendedScales ./ScaleRanges dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/has dojo/keys dojo/number dojo/on dojo/query dojo/string dojox/html/entities dojox/lang/functional/object dojo/i18n!../../nls/jsapi dojo/text!./templates/ScaleMenu.html dijit/form/TextBox".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y){L=g([L,l,f,v],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScaleMenu",templateString:y,baseClass:"esriScaleMenu",labels:q.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",section:"esriSection",content:"esriContent",current:"esriCurrent",input:"esriInput",list:"esriList",item:"esriItem",inline:"esriInline",selectable:"esriSelectable",hidden:"esriHidden"},_elementValueMap:null,_elements:null,_scaleRangeCategories:null,_scaleRanges:null,
_rangeToScaleAndNodeLookup:null,constructor:function(){this._scaleRanges=new t},buildRendering:function(){this.inherited(arguments);this._rangeToScaleAndNodeLookup={map:{scale:null,node:this.dap_mapScaleItem}};var C=this.labels,B=C.featuredScaleLabels,D=w.all(),F=this.css.item+" "+this.css.selectable,r;h.forEach(n.keys(D),function(H){r=B[H];var J=D[H],O=d.substitute(r,{scaleLabel:this._formatScale(J)});O=E.create("li",{innerHTML:O,className:F},this.dap_recommendedScales);this._rangeToScaleAndNodeLookup[H]=
{scale:J,node:O}},this);var A=E.create("span",{innerHTML:C.setTo,className:this.css.inline}),G=E.create("span",{innerHTML:C.selectOne,className:this.css.inline});z.set(this.dap_scaleListHeader,"innerHTML",d.substitute(C.setToSelectOne,{setTo:A.outerHTML,selectOne:G.outerHTML}))},_formatScale:function(C){return"1:"+c.format(C)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,a.selector("."+this.css.item+"."+this.css.selectable,"click"),x.hitch(this,function(C){C=C.target===
this.dap_mapScaleItem?this.options.scale.map:this._parseScale(C.target.innerHTML);this._emitScaleSelected(C)})));this.dap_scaleInput.on("keyDown",x.hitch(this,function(C){C.keyCode===e.ENTER&&this._handleCustomScaleInput()}));this.createTooltip(this.dap_scaleInput,this.labels.customScaleInputTooltip)},_emitScaleSelected:function(C){this.emit("scale-selected",{scale:C})},_handleCustomScaleInput:function(){var C=this._parseScale(this.dap_scaleInput.get("value"));isNaN(C)||this._emitScaleSelected(this._scaleRanges.clampScale(C))},
_parseScale:function(C){C=k.decode(C).replace(/.*\(/,"").replace(/\).*$/,"").replace(/.*1:/,"").replace(/[^0-9.\s]/g,"");return c.parse(C)},_setOptionsAttr:function(C){var B=C.scale,D=this._formatScale(B.current);z.set(this.dap_currentScaleLabel,"innerHTML",C.label);this.dap_scaleInput.set("value",D,!1);D=d.substitute(this.labels.featuredScaleLabels.current,{scaleLabel:this._formatScale(B.map)});this._rangeToScaleAndNodeLookup.map.scale=B.map;z.set(this.dap_mapScaleItem,"innerHTML",D);u.toggle(this.dap_mapScaleItem,
this.css.hidden,-1===B.map);this._scaleRanges.set("scaleRangeBounds",{minScale:B.min,maxScale:B.max});this._hideOutOfScaleRanges();this._set("options",C)},_hideOutOfScaleRanges:function(){var C=b("."+this.css.item+"."+this.css.selectable,this.dap_recommendedScales),B=this._scaleRanges;h.forEach(n.keys(this._rangeToScaleAndNodeLookup),function(D){D=this._rangeToScaleAndNodeLookup[D];u.toggle(D.node,this.css.hidden,!B.contains(D.scale))},this);C=C.every(function(D){return"none"===p.get(D,"display")});
u.toggle(this.dap_recommendedScaleSection,this.css.hidden,C)}});x.setObject("dijit.ScaleMenu",L,V);return L})},"esri/dijit/VisibleScaleRangeSlider/ScaleRanges":function(){define(["./scalePreviewUtil","dojo/_base/array","dojo/_base/declare","dojo/Stateful","dojo/i18n!../../nls/jsapi"],function(V,L,v,w,t){v=v(w,{_scaleRangeStops:[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},
{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"state",minScale:3999999},{id:"states",minScale:6999999},{id:"country",minScale:14999999},{id:"countries",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}],_allRanges:null,_ranges:null,length:0,constructor:function(){this._allRanges=
this.getScaleRanges()},_scaleRangeBoundsSetter:function(l){this._ranges=l=this.getScaleRanges(l.maxScale,l.minScale);this.length=l.length},getScaleRanges:function(l,f){var g=this._scaleRangeStops,h=g.length;l=0<=l?l:0;f=0<f?f:g[h-1].minScale;var x=l;var u=[];for(var E=0;E<h;E++){var z=Math.min(g[E].minScale,f);var p=Math.min(z,f);l<=z&&x<f&&u.push({id:g[E].id,maxScale:Math.max(x,l),minScale:p});x=p+1}u.reverse();return this._ensureValidBoundaryRanges(u)},_ensureValidBoundaryRanges:function(l){var f=
l[0];f.minScale===f.maxScale&&(l.shift(),l[0].minScale+=1);f=l[l.length-1];f.minScale===f.maxScale&&(l.pop(),--l[l.length-1].maxScale);return l},getScalePreviewSpriteBackgroundPosition:function(l){l=this._toFullRangeIndex(l);return V.getScalePreviewSpriteBackgroundPosition(l)},_toFullRangeIndex:function(l){l=this.findScaleRangeByIndex(Math.floor(l));for(var f=this._allRanges,g=f.length,h=0,x=0;x<g;x++)if(f[x].id===l.id){h=x;break}return h},getScaleRangeLabel:function(l){l=this._ranges[this._clampScaleRangeIndex(l)];
return t.widgets.visibleScaleRangeSlider.scaleRangeLabels[l.id]},findScaleRange:function(l){var f=this._ranges;if(l>=f[0].maxScale)return f[0];if(l<=f[f.length-1].minScale)return f[f.length-1];for(var g=0;g<f.length;g++){var h=f[g];if(l>=h.maxScale&&l<=h.minScale){var x=h;break}}return x},findScaleRangeByIndex:function(l){l=this._clampScaleRangeIndex(l);return this._ranges[l]},clampScale:function(l){return Math.min(this.get("minScale"),Math.max(this.get("maxScale"),l))},_minScaleGetter:function(){return this.get("firstRange").minScale},
_maxScaleGetter:function(){return this.get("lastRange").maxScale},_firstRangeGetter:function(){return this._ranges[0]},_lastRangeGetter:function(){var l=this._ranges;return l[l.length-1]},clampMinScale:function(l){return 0===l?this.get("minScale"):this.clampScale(l)},clampMaxScale:function(l){return this.clampScale(l)},_clampScaleRangeIndex:function(l){if(0>=l)return 0;var f=this._ranges.length-1;return l>f?f:Math.floor(l)},scaleToRangeIndex:function(l){return L.indexOf(this._ranges,this.findScaleRange(l))},
contains:function(l){for(var f=this._ranges,g=!1,h,x=0;x<f.length;x++)if(h=f[x],l>=h.maxScale&&l<=h.minScale){g=!0;break}return g}});v.getScalePreviewSource=function(l){return V.getScalePreviewSource(l)};return v})},"esri/dijit/VisibleScaleRangeSlider/scalePreviewUtil":function(){define(["dojo/_base/array","require"],function(V,L){var v={_supportedRegions:"ar-iq ar-kw bg-bg cs-cz da-dk da-gl da-gl de-at de-ch de-de de-li el-gr en-ae en-au en-ca en-ca en-eg en-gb en-hk en-id en-ie en-ie en-il en-in en-iq en-ke en-lu en-mo en-my en-nz en-rw en-sg en-us en-us en-vi en-vi en-wo en-za es-ar es-ar es-bo es-bo es-cl es-cl es-co es-co es-cr es-cr es-es es-gt es-gt es-mx es-mx es-ni es-ni es-pe es-pe es-pr es-pr es-sv es-sv es-ve et-ee fi-fi fi-fi fr-ci fr-fr fr-ma fr-mg fr-ml fr-tn is-is is-is it-it ja-jp ja-jp ko-kr lt-lt lv-lv nl-be nl-nl nl-sr nl-sr nn-no nn-no pl-pl pt-br pt-br pt-pt ro-ro ru-ru sk-sk sv-se sv-se th-th zh-cn zh-tw".split(" "),
_defaultRegion:"en-us",_getSupportedRegion:function(w){w=w?w.toLowerCase():"";return-1<V.indexOf(v._supportedRegions,w)?w:v._defaultRegion},getScalePreviewSource:function(w){w="./images/scalePreview/"+v._getSupportedRegion(w)+".jpg";return"url("+L.toUrl(w)+")"},getScalePreviewSpriteBackgroundPosition:function(w){return"-"+w%5*128+"px -"+128*Math.floor(w/5)+"px"}};return v})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(V,L,v){var w={};
L.mixin(v,{keys:function(t){var l=[],f;for(f in t)f in w||l.push(f);return l},values:function(t){var l=[],f;for(f in t)f in w||l.push(t[f]);return l},filterIn:function(t,l,f){f=f||V.global;l=v.lambda(l);var g={},h;for(h in t)if(!(h in w)){var x=t[h];l.call(f,x,h,t)&&(g[h]=x)}return g},forIn:function(t,l,f){f=f||V.global;l=v.lambda(l);for(var g in t)g in w||l.call(f,t[g],g,t);return f},mapIn:function(t,l,f){f=f||V.global;l=v.lambda(l);var g={},h;for(h in t)h in w||(g[h]=l.call(f,t[h],h,t));return g}});
return v})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(V,L,v){var w=L.getObject("lang.functional",!0,V),t={},l=1<"ab".split(/a*/).length?String.prototype.split:function(h){var x=this.split.call(this,h);(h=h.exec(this))&&0==h.index&&x.unshift("");return x},f=function(h){var x=[],u=l.call(h,/\s*->\s*/m);if(1<u.length)for(;u.length;)h=u.pop(),x=u.pop().split(/\s*,\s*|\s+/m),u.length&&u.push("(function("+x.join(", ")+"){ return ("+h+"); })");
else if(h.match(/\b_\b/))x=["_"];else{u=h.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var E=h.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(u||E)u&&(x.push("$1"),h="$1"+h),E&&(x.push("$2"),h+="$2");else{u=h.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var z={};v.forEach(u,function(p){z.hasOwnProperty(p)||(x.push(p),z[p]=1)})}}return{args:x,body:h}},g=function(h){return h.length?function(){var x=h.length-1,u=w.lambda(h[x]).apply(this,arguments);for(--x;0<=x;--x)u=w.lambda(h[x]).call(this,u);return u}:function(x){return x}};L.mixin(w,{rawLambda:function(h){return f(h)},buildLambda:function(h){h=f(h);return"function("+h.args.join(",")+"){return ("+h.body+");}"},lambda:function(h){if("function"==typeof h)return h;
if(h instanceof Array)return g(h);if(t.hasOwnProperty(h))return t[h];var x=f(h);return t[h]=new Function(x.args,"return ("+x.body+");")},clearLambdaCache:function(){t={}}});return w})},"esri/dijit/VisibleScaleRangeSlider/ScalePreview":function(){define("../../kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has dojo/i18n!../../nls/jsapi dojo/text!./templates/ScalePreview.html".split(" "),function(V,L,v,w,t,l,f,g,h){L=w([v,L],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScalePreview",
baseClass:"esriScalePreview",templateString:h,labels:g.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",thumbnail:"esriThumbnail"},source:null,_setSourceAttr:function(x){this.source!==x&&(this._set("source",x),l.set(this.dap_scalePreviewThumbnail,"backgroundImage",x))},backgroundPosition:null,_setBackgroundPositionAttr:function(x){this.backgroundPosition!==x&&(this._set("backgroundPosition",x),l.set(this.dap_scalePreviewThumbnail,"backgroundPosition",x))}});t.setObject("dijit.ScalePreview",
L,V);return L})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(V,L,v,w){return V("dojox.form.HorizontalRangeSlider",[w,L],{templateString:v})})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){var e=function(b,d){return b-d};x=V("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=v.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(e);var b=this,d=V(c,{constructor:function(){this.widget=b}});this._movableMax=new E(this.sliderHandleMax,{mover:d});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);d=V(a,{constructor:function(){this.widget=b}});this._movableBar=new E(this.progressBar,{mover:d});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var d=b.target===this.sliderHandleMax,k=b.target===this.progressBar,n=L.delegate(h,this.isLeftToRight()?{PREV_ARROW:h.LEFT_ARROW,NEXT_ARROW:h.RIGHT_ARROW}:{PREV_ARROW:h.RIGHT_ARROW,NEXT_ARROW:h.LEFT_ARROW}),q=0,y=!1;switch(b.keyCode){case n.HOME:this._setValueAttr(this.minimum,!0,d);t.stop(b);return;case n.END:this._setValueAttr(this.maximum,!0,d);t.stop(b);return;case n.PREV_ARROW:case n.DOWN_ARROW:y=
!0;case n.NEXT_ARROW:case n.UP_ARROW:q=1;break;case n.PAGE_DOWN:y=!0;case n.PAGE_UP:q=this.pageIncrement;break;default:this.inherited(arguments);return}y&&(q=-q);q&&(k?this._bumpValue([{change:q,useMaxValue:!1},{change:q,useMaxValue:!0}]):this._bumpValue(q,d),t.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(l("ie")||p.focus(this.sliderHandleMax),t.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,
d){var k=L.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,d);this._setValueAttr(k,!0,d)},_getBumpValue:function(b,d){var k=d?1:0,n=f.getComputedStyle(this.sliderBarContainer),q=g.getContentBox(this.sliderBarContainer,n);n=this.discreteValues;k=this.value[k];if(1>=n||Infinity==n)n=q[this._pixelCount];n--;k=this.maximum>this.minimum?(k-this.minimum)*n/(this.maximum-this.minimum)+b:0;0>k&&(k=0);k>n&&(k=n);return k*(this.maximum-
this.minimum)/n+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(l("ie")||p.focus(this.progressBar),t.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){l("ie")||p.focus(this.progressBar);var d=g.position(this.sliderBarContainer,!0),k=g.position(this.progressBar,!0),n=b[this._mousePixelCoord],q=k[this._startingPixelCoord];k=q+k[this._pixelCount];q=this._isReversed()?n<=q:n>=k;n=this._isReversed()?d[this._pixelCount]-n+d[this._startingPixelCoord]:n-d[this._startingPixelCoord];
this._setPixelValue(n,d[this._pixelCount],!0,q);t.stop(b)}},_setPixelValue:function(b,d,k,n){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,d),this._setValueAttr(b,k,n))},_getValueByPixelValue:function(b,d){var k=this.discreteValues;if(1>=k||Infinity==k)k=d;k--;return(this.maximum-this.minimum)*Math.round((0>b?0:d<b?d:b)/(d/k))/k+this.minimum},_setValueAttr:function(b,d,k){var n=L.clone(this.value);L.isArray(b)?n=b:n[k?1:0]=b;this._lastValueReported="";this.valueNode.value=b=n;n.sort(e);
this.sliderHandle.setAttribute("aria-valuenow",n[0]);this.sliderHandleMax.setAttribute("aria-valuenow",n[1]);z.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(d,k)},_printSliderBar:function(b,d){var k=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,n=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,q=k;k>n&&(k=n,n=q);var y=this._isReversed()?100*(1-k):100*k,C=this._isReversed()?100*(1-n):100*n,B=this._isReversed()?
100*(1-n):100*k;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),q=this.slideDuration/10,0!==q){0>q&&(q=0-q);var D={},F={},r={};D[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:y,units:"%"};F[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:C,units:"%"};r[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:B,units:"%"};r[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(n-k),units:"%"};k=w.animateProperty({node:this.sliderHandle.parentNode,duration:q,properties:D});n=w.animateProperty({node:this.sliderHandleMax.parentNode,duration:q,properties:F});q=w.animateProperty({node:this.progressBar,duration:q,properties:r});m.combine([k,n,q]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=y+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
C+"%",this.progressBar.style[this._handleOffsetCoord]=B+"%",this.progressBar.style[this._progressPixelSize]=100*(n-k)+"%"}});var c=V("dijit.form._SliderMoverMax",u,{onMouseMove:function(b){var d=this.widget,k=d._abspos;k||(k=d._abspos=g.position(d.sliderBarContainer,!0),d._setPixelValue_=L.hitch(d,"_setPixelValue"),d._isReversed_=d._isReversed());b=b[d._mousePixelCoord]-k[d._startingPixelCoord];d._setPixelValue_(d._isReversed_?k[d._pixelCount]-b:b,k[d._pixelCount],!1,!0)},destroy:function(b){u.prototype.destroy.apply(this,
arguments);var d=this.widget;d._abspos=null;d._setValueAttr(d.value,!0)}}),a=V("dijit.form._SliderBarMover",u,{onMouseMove:function(b){var d=this.widget;if(!d.disabled&&!d.readOnly){var k=d._abspos,n=d._bar,q=d._mouseOffset;k||(k=d._abspos=g.position(d.sliderBarContainer,!0),d._setPixelValue_=L.hitch(d,"_setPixelValue"),d._getValueByPixelValue_=L.hitch(d,"_getValueByPixelValue"),d._isReversed_=d._isReversed());n||(n=d._bar=g.position(d.progressBar,!0));q||(q=d._mouseOffset=b[d._mousePixelCoord]-n[d._startingPixelCoord]);
b=b[d._mousePixelCoord]-k[d._startingPixelCoord]-q;pixelValues=[b,b+n[d._pixelCount]];pixelValues.sort(e);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=n[d._pixelCount]);pixelValues[1]>=k[d._pixelCount]&&(pixelValues[1]=k[d._pixelCount],pixelValues[0]=k[d._pixelCount]-n[d._pixelCount]);k=[d._getValueByPixelValue(d._isReversed_?k[d._pixelCount]-pixelValues[0]:pixelValues[0],k[d._pixelCount]),d._getValueByPixelValue(d._isReversed_?k[d._pixelCount]-pixelValues[1]:pixelValues[1],k[d._pixelCount])];
d._setValueAttr(k,!1,!1)}},destroy:function(){u.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return x})},"dojox/fx":function(){define(["./fx/_base"],function(V){return V})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(V,L,v,w,t,l,f,g,h){V=L.getObject("dojox.fx",!0);
L.mixin(V,{anim:v.anim,animateProperty:v.animateProperty,fadeTo:v._fade,fadeIn:v.fadeIn,fadeOut:v.fadeOut,combine:w.combine,chain:w.chain,slideTo:w.slideTo,wipeIn:w.wipeIn,wipeOut:w.wipeOut});V.sizeTo=function(x){var u=x.node=t.byId(x.node),E=x.method||"chain";x.duration||(x.duration=500);"chain"==E&&(x.duration=Math.floor(x.duration/2));var z,p,m,e,c,a=null,b=function(d){return function(){var k=l.getComputedStyle(d),n=k.position,q=k.width,y=k.height;z="absolute"==n?d.offsetTop:parseInt(k.top)||0;
m="absolute"==n?d.offsetLeft:parseInt(k.left)||0;c="auto"==q?0:parseInt(q);a="auto"==y?0:parseInt(y);e=m-Math.floor((x.width-c)/2);p=z-Math.floor((x.height-a)/2);"absolute"!=n&&"relative"!=n&&(k=l.coords(d,!0),z=k.y,m=k.x,d.style.position="absolute",d.style.top=z+"px",d.style.left=m+"px")}}(u);u=v.animateProperty(L.mixin({properties:{height:function(){b();return{end:x.height||0,start:a}},top:function(){return{start:z,end:p}}}},x));E=v.animateProperty(L.mixin({properties:{width:function(){return{start:c,
end:x.width||0}},left:function(){return{start:m,end:e}}}},x));return w["combine"==x.method?"combine":"chain"]([u,E])};V.slideBy=function(x){var u,E,z=function(p){return function(){var m=l.getComputedStyle(p),e=m.position;u="absolute"==e?p.offsetTop:parseInt(m.top)||0;E="absolute"==e?p.offsetLeft:parseInt(m.left)||0;"absolute"!=e&&"relative"!=e&&(m=f.coords(p,!0),u=m.y,E=m.x,p.style.position="absolute",p.style.top=u+"px",p.style.left=E+"px")}}(x.node=t.byId(x.node));z();x=v.animateProperty(L.mixin({properties:{top:u+
(x.top||0),left:E+(x.left||0)}},x));g.connect(x,"beforeBegin",x,z);return x};V.crossFade=function(x){var u=x.nodes[0]=t.byId(x.nodes[0]),E=h.style(u,"opacity"),z=x.nodes[1]=t.byId(x.nodes[1]);h.style(z,"opacity");return w.combine([v[0==E?"fadeIn":"fadeOut"](L.mixin({node:u},x)),v[0==E?"fadeOut":"fadeIn"](L.mixin({node:z},x))])};V.highlight=function(x){var u=x.node=t.byId(x.node);x.duration=x.duration||400;var E=x.color||"#ffff99",z=h.style(u,"backgroundColor");"rgba(0, 0, 0, 0)"==z&&(z="transparent");
x=v.animateProperty(L.mixin({properties:{backgroundColor:{start:E,end:z}}},x));"transparent"==z&&g.connect(x,"onEnd",x,function(){u.style.backgroundColor=z});return x};V.wipeTo=function(x){x.node=t.byId(x.node);var u=x.node,E=u.style,z=x.width?"width":"height",p={};p[z]={start:function(){E.overflow="hidden";if("hidden"==E.visibility||"none"==E.display)return E[z]="1px",E.display="",E.visibility="",1;var m=h.style(u,z);return Math.max(m,1)},end:x[z]};return v.animateProperty(L.mixin({properties:p},
x))};return V})},"arcgisonline/pages/isGeographic":function(){define(["require","exports","tslib","esri/WKIDUnitConversion"],function(V,L,v,w){w=v.__importDefault(w);return function(t){t=t||{};return t.wkid?!w["default"].hasOwnProperty(t.wkid):t.wkt?/^\s*GEOGCS/i.test(t.wkt):!1}})},"arcgisonline/pages/components/SelectLayerProperties":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),function(V,L,v,w,t,l){Object.defineProperty(L,"__esModule",
{value:!0});t=v.__importDefault(t);l=v.__importDefault(l);V=function(f){function g(){var h=null!==f&&f.apply(this,arguments)||this;h.state={active:!0,layerProperties:h.props.layerProperties};h.excludedFieldTypes=["esriFieldTypeOID","esriFieldTypeGlobalID"];h.toggleLayerPropertyField=function(x,u){var E=v.__spreadArray([],h.state.layerProperties),z=l["default"].findIndex(E,function(m){return m.id===x});if(-1<z){var p=E[z];l["default"].includes(p.additionalFields,u)?(p.additionalFields=l["default"].filterOut(p.additionalFields,
[u]),0===p.additionalFields.length&&E.splice(z,1)):p.additionalFields.push(u)}else E.push({id:x,additionalFields:[u]});h.setState({layerProperties:E})};h.save=function(){h.setState({active:!1});h.props.onSubmit(h.state.layerProperties)};h.cancel=function(){h.setState({active:!1,layerProperties:h.props.layerProperties});setTimeout(function(){h.props.onCancel()},400)};return h}v.__extends(g,f);g.prototype.componentWillUnmount=function(){document.documentElement.classList.remove("overflow-hidden")};
g.prototype.render=function(){var h=this,x,u=this.props,E=u.layers,z=u.onSubmit,p=this.state;u=p.active;var m=p.layerProperties;p=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuild:t["default"].itemProperties.configureAttributes.description;var e=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuildCache:t["default"].itemProperties.configureAttributes.select;E=null!==(x=null===E||void 0===E?void 0:E.map(function(c,a){var b,d=c.id,k=c.name,n=c.fields;
n=null!==(b=null===n||void 0===n?void 0:n.map(function(q,y){var C=q.type,B=q.name,D=q.alias,F=(m||[]).some(function(r){return(null===r||void 0===r?void 0:r.id)===d&&-1<r.additionalFields.indexOf(B)});return l["default"].includes(h.excludedFieldTypes,C)?null:w.h("label",{"class":"font-size--2 trailer-0",key:y},w.h("input",{type:"checkbox",checked:F,onChange:function(){return h.toggleLayerPropertyField(d,B)}})," ",D||B)}))&&void 0!==b?b:n;return w.h(w.Fragment,{key:a},w.h("div",{"class":"avenir-demi"},
k),w.h("div",{"class":"margin-left-1"},n))}))&&void 0!==x?x:E;return w.h("calcite-modal",{active:u,"intl-close":t["default"].common.close,role:"dialog","aria-modal":"true",oncalciteModalClose:this.cancel,"disable-outside-close":!0},w.h("h3",{slot:"header","class":"font-size-2 trailer-0"},t["default"].itemProperties.configureAttributes.selectAttributes),w.h("div",{slot:"content","class":"position-relative"},w.h("div",{"class":"trailer-half"},p),E),w.h("calcite-button",{slot:"secondary",width:"full",
appearance:"outline",color:"blue",onClick:function(){return h.cancel()}},t["default"].common.cancel),w.h("calcite-button",{slot:"primary",width:"full",color:"blue",appearance:"solid",onClick:function(){z(m)}},e))};return g}(w.Component);L["default"]=V})},"arcgisonline/sharing/dijit/dialog/CreateAppDlg":function(){define("require esri/declare esri/Evented esri/kernel esri/lang esri/request dojo/_base/lang dojo/_base/window dojo/_base/array dojo/topic dojo/string dojo/query dojo/on dojo/json dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/Deferred dojo/when dojo/io-query dojox/widget/Wizard dojox/widget/WizardPane dijit/Dialog dijit/registry ./ConfirmDialog ./ItemPropertiesDlg ./BrowseItemsDlg ./ConfirmDialog ./_CreateItemUtilMixin ../../../esriGeowConfig ../../../pages/utils/arrays ../../../map/utils/previewInTemplate ../../../map/utils/openMap dijit/_WidgetBase arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca){return L([U,v],{showModal:function(fa){var ka=new k,ma=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ra=fa.isWab,za="Web Scene"===ma.type,ia=Z.getHomeAppContext(),T=fa.message,la,S=new F({title:fa.title||ca.itemProperties.createNewApp,buttonOk:ca.common.ok,buttonCancel:ca.common.cancel,busyMessage:ca.addItemFrm.addingItem,style:{width:"550px",height:"auto"}}),P=new r({typeInfo:ra?
"wab":"configapp",message:T||(ra?ca.items.createWABMessage:ca.itemProperties.createAppTitle),showFolders:!0,showFile:!1,item:ma});this.item&&(P.set("summary",this.item.isHostedTemplate?"":this.item.snippet),P.set("title",this.item.isHostedTemplate?"":this.item.title),P.set("tags",this.item.isHostedTemplate?[]:this.item.tags),J.self.hasCategorySchema&&P.set("categories",this.item.categories||[]));S.setContent(P.domNode);S.show();P.set("focus","title");this.own(z(S,"ok",f.hitch(this,function(){x.publish("/esri/disable",
!0,ca.addItemFrm.addingItem);P._validate().then(f.hitch(this,function(){ra?(ma=f.mixin({},P.get("item")),S.hide().then(f.hitch(this,function(){this.redirectToAppBuilder(ma)}))):(la=P.get("item"),this.item.isHostedTemplate||(la=f.mixin(la,{shareWithWebMap:!0},za?{webSceneId:this.item.id}:{webMapId:this.item.id})),Z.isPortal()&&ma.url&&0===ma.url.indexOf("/")&&ma.url&&-1===ma.url.indexOf(ia)&&(ma.url=ia+ma.url),H.createTemplatedApplication(la,ma,this.item.portal,this.item).then(function(I){la=I;S.hide()}))}),
f.hitch(this,function(I){x.publish("/esri/disable",!1);this._showError(I)}))})),z(S,"hide",function(){ka.resolve(la)}));return ka},showWizard:function(fa){var ka=new k,ma=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ra=new B({title:ca.items.newWebMappingAppTitle,"class":"esriCreateAppDlg"}),za=this.item&&this.item.portal||fa.portal||{};fa=this.item?O.includes(ma.types,"is-map"):!0;var ia="Web Scene"===ma.type,T;fa=fa?this.item?"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":
"arcgisonline/sharing/dijit/dialog/PluginConfigurableApps":"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer";var la=[new A({messageLeft:ca.browseItemsDlg.instructionsLeft,messageRight:ca.browseItemsDlg.instructionsRight,item:this.item,"class":"esriBrowseItemsDlg"}),new r({message:ca.itemProperties.createAppTitle,typeInfo:"configapp",showFolders:!0,showFile:!1,showUrl:!1,item:this.item})],S=f.hitch(this,function(R){x.publish("/esri/disable",R,ca.addItemFrm.addingItem);E(".dojoxWizardButtons .dijitButton").map(D.byNode).forEach(function(X){X.set("disabled",
R)})}),P=f.hitch(this,function(R){return R._validate()}),I=x.subscribe("/esri/browseitems/close",f.hitch(this,function(R,X){if("create-app"===R)aa.nextButton.onClick();else"on-view-item"===R?window.open("item.html?id\x3d"+X.id):"download-app"===R?Z.downloadWebMappingApp(X):"preview-app"===R&&M(ma,X)})),ba=f.hitch(this,function(R){R._validate().then(f.hitch(this,function(X){S(!0);X=la[0].get("selection");var Y=Z.getHomeAppContext(),da=la[1].get("item");Z.isPortal()&&X.url&&0===X.url.indexOf("/")&&
X.url&&-1===X.url.indexOf(Y)&&(X.url=Y+X.url);T=da;this.item&&!this.item.isHostedTemplate&&(T=f.mixin(T,{shareWithWebMap:!0},ia?{webSceneId:this.item.id}:{webMapId:this.item.id}));H.createTemplatedApplication(da,X,za,this.item).then(f.hitch(this,function(ea){this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label});ra.hide().then(f.hitch(this,function(){setTimeout(function(){window.location=ea.configureUrl},400)}))}),f.hitch(this,function(ea){S(!1);
this._showError(ea)}))}),f.hitch(this,function(X){S(!1);this._showError(X)}))}),W=f.hitch(this,function(R){ra.hide().then(f.hitch(this,function(){ka.resolve(!1)}))}),aa=new y({nextButtonLabel:ca.publishWizard.nextButtonLabel,previousButtonLabel:ca.publishWizard.previousButtonLabel,doneButtonLabel:ca.publishWizard.doneButtonLabel,cancelButtonLabel:ca.publishWizard.cancelButtonLabel,"class":"esriCreateApp",hideDisabled:!0,doneFunction:ba,cancelFunction:W}),Q=la[1];la[0].addPlugin(fa);var N=z(ra,"hide",
f.hitch(this,function(R){N.remove();h.forEach(la,function(X){X.destroyRecursive();X=null});I.remove();aa.destroyRecursive();ra.destroyRecursive();(R=document.getElementById("create-dropdown"))&&R.focus()}));h.forEach(la,function(R,X){(new C({content:R.domNode,passFunction:f.partial(P,R),doneFunction:X===la.length-1?f.partial(ba,R):null})).placeAt(aa)});m.after(aa,"_checkButtons",function(){aa.selectedChildWidget.isFirstChild?aa.nextButton.domNode.style.display="none":aa.selectedChildWidget.isLastChild&&
Q.set("focus","title")});E(".dojoxWizardButtons",aa.domNode).addClass("esriFloatTrailing");a.add(aa.nextButton.domNode,["calcite","primary"]);a.add(aa.cancelButton.domNode,["calcite","cancel"]);a.add(aa.previousButton.domNode,["calcite","default btn-back icon-ui-left"]);a.add(aa.doneButton.domNode,["calcite","primary"]);this.item&&(Q.set("summary",this.item.isHostedTemplate?"":this.item.snippet),Q.set("title",this.item.isHostedTemplate?"":this.item.title),Q.set("tags",this.item.isHostedTemplate?"":
this.item.tags),J.self.hasCategorySchema&&Q.set("categories",this.item.categories||[]));aa.startup();b.create("span",{"class":"spinner hide",innerHTML:ca.common.pleaseWait},E(".dojoxWizardButtons",aa.domNode)[0],"first");ra.setContent(aa.domNode);ra.show().then(function(){ra.closeButtonNode&&(ra.closeButtonNode.tabIndex=0)}.bind(this));document.documentElement.scrollTop=document.body.scrollTop=(document.documentElement.scrollTop||document.body.scrollTop)+1;return ka},showCreateDefaultItem:function(fa){var ka=
new F({title:fa.title||ca.common.create,buttonOk:ca.common.ok,buttonCancel:ca.common.cancel,style:{width:"550px",height:"auto"}}),ma=fa.typeInfo,ra=new r({typeInfo:ma,item:fa.item,message:fa.message,showFolders:!0,showFile:!1,showUrl:fa.showUrl}),za=null;"dashboard_map"===ma&&fa&&fa.item&&(ra.set("title",fa.item.title),J.self.hasCategorySchema&&ra.set("categories",fa.item.categories||[]));ka.setContent(ra.domNode);ka.show();z(ka,"hide",function(){var la=document.getElementById("create-dropdown");
la&&la.focus()});var ia=z(ka.okButton,"click",f.hitch(this,function(){fa.isWAB?ra._validate().then(f.hitch(this,function(la){za=ra.get("item");this.telemetry&&this.label&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label,attribute:ra.wab2DRadio.checked?"2d":"3d"});ka.hide().then(f.hitch(this,function(){setTimeout(function(){this.redirectToAppBuilder(za)}.bind(this),400)}))}),f.hitch(this,function(la){this._showError(la)})):ra.addItem().then(f.hitch(this,
function(la){ka.hide().then(f.hitch(this,function(){T.remove();ia.remove();"webmap"===ma?K(la.id):"webscene"===ma||"webscene_portal"===ma?window.location="./webscene/viewer.html?webscene\x3d"+la.id:"urbanmodel"===ma?window.location=(J.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+la.id:"dashboard"===ma||"dashboard_map"===ma?(this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:"dashboard"}),setTimeout(function(){this.redirectToAppBuilder(la)}.bind(this),
400)):window.location="ipynb"===ma||"notebook"===ma?"notebook/notebook.html?id\x3d"+la.id:"item.html?id\x3d"+(la.serviceItemId||la.id)+(la.jobId?"\x26jobid\x3d"+la.jobId:"")}))}),f.hitch(this,function(la){this._showError(la)}))}));var T=z.once(ka.cancelButton,"click",f.hitch(this,function(){T.remove();ia.remove()}))},redirectToAppBuilder:function(fa){fa.folderId&&"/"!==fa.folderId&&(fa.folder=fa.folderId);var ka={title:fa.title,tags:fa.tags,summary:fa.snippet,folder:fa.folder,appType:fa.wabType},
ma="Dashboard"===fa.type?"../apps/dashboards/"+fa.id+"#mode\x3dedit":"../apps/webappbuilder/index.html?";J.self.hasCategorySchema&&fa.categories&&fa.categories.length&&f.mixin(ka,{categories:p.stringify(fa.categories)});fa.wabType&&(ka=f.mixin(ka,{appType:fa.wabType,webmap:fa.webmap}),ma+=q.objectToQuery(ka));window.location=ma},_showError:function(fa){fa=f.mixin(f.mixin({},ca.publishWizard.errors.error),fa);this._errorDlg=new F({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(fa).then(f.hitch(this,
function(){this._errorDlg.hide()}));return!1}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(V,L,v,w,t,l,f,g){return L("dojox.widget.Wizard",[w,t,l],{templateString:g,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",
cancelFunction:null,hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var h=V.mixin({cancel:f.getLocalization("dijit","common",this.lang).buttonCancel},f.getLocalization("dojox.widget","Wizard",this.lang)),x;for(x in h)this[x+"ButtonLabel"]||(this[x+"ButtonLabel"]=h[x])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(V.isString(this.cancelFunction)&&
(this.cancelFunction=V.getObject(this.cancelFunction)),this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=v.subscribe(this.id+"-selectChild",V.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var h=this.selectedChildWidget,x=h.isLastChild||this.nextButton.get("disabled");this.nextButton.set("disabled",
x);this._setButtonClass(this.nextButton);h.doneFunction?(this.doneButton.domNode.style.display="",x&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(h){h.domNode.style.display=this.hideDisabled&&h.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},
destroy:function(){v.unsubscribe(this._subscription);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){l("dijit-legacy-requires")&&h(0,function(){require(["dijit/layout/StackController"])});v=v("dijit.layout.StackContainer",p,{doLayout:!0,
persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);w.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var m=this.getChildren();V.forEach(m,this._setupChild,this);this.persist?this.selectedChildWidget=E.byId(L(this.id+"_selectedChild")):V.some(m,function(c){c.selected&&(this.selectedChildWidget=c);return c.selected},
this);var e=this.selectedChildWidget;!e&&m[0]&&(e=this.selectedChildWidget=m[0],e.selected=!0);x.publish(this.id+"-startup",{children:m,selected:e,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var m=this.selectedChildWidget;m&&this._showChild(m)}this.inherited(arguments)},_setupChild:function(m){var e=m.domNode,c=t.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",m.domNode,"replace"),a=
m["aria-label"]||m.title||m.label;a&&c.setAttribute("aria-label",a);t.place(e,c);m._wrapper=c;this.inherited(arguments);"none"==e.style.display&&(e.style.display="block");m.domNode.removeAttribute("title")},addChild:function(m,e){this.inherited(arguments);this._started&&(x.publish(this.id+"-addChild",m,e),this.layout(),this.selectedChildWidget||this.selectChild(m))},removeChild:function(m){var e=V.indexOf(this.getChildren(),m);this.inherited(arguments);t.destroy(m._wrapper);delete m._wrapper;this._started&&
x.publish(this.id+"-removeChild",m);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===m&&(this.selectedChildWidget=void 0,this._started)){var c=this.getChildren();c.length&&this.selectChild(c[Math.max(e-1,0)])}this._started&&this.layout()}},selectChild:function(m,e){m=E.byId(m);if(this.selectedChildWidget!=m){var c=this._transition(m,this.selectedChildWidget,e);this._set("selectedChildWidget",m);x.publish(this.id+"-selectChild",m,this._focused);this.persist&&L(this.id+"_selectedChild",
this.selectedChildWidget.id)}return u(c||!0)},_transition:function(m,e){e&&this._hideChild(e);var c=this._showChild(m);m.resize&&(this.doLayout?m.resize(this._containerContentBox||this._contentBox):m.resize());return c},_adjacent:function(m){var e=this.getChildren(),c=V.indexOf(e,this.selectedChildWidget);c+=m?1:e.length-1;return e[c%e.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(m){x.publish(this.id+
"-containerKeyDown",{e:m,page:this})},layout:function(){var m=this.selectedChildWidget;m&&m.resize&&(this.doLayout?m.resize(this._containerContentBox||this._contentBox):m.resize())},_showChild:function(m){var e=this.getChildren();m.isFirstChild=m==e[0];m.isLastChild=m==e[e.length-1];m._set("selected",!0);m._wrapper&&w.replace(m._wrapper,"dijitVisible","dijitHidden");return m._onShow&&m._onShow()||!0},_hideChild:function(m){m._set("selected",!1);m._wrapper&&w.replace(m._wrapper,"dijitHidden","dijitVisible");
m.onHide&&m.onHide()},closeChild:function(m){if(!m.onClose||m.onClose(this,m))this.removeChild(m),m.destroyRecursive()},destroyDescendants:function(m){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;V.forEach(this.getChildren(),function(e){m||this.removeChild(e);e.destroyRecursive(m)},this);this._descendantsBeingDestroyed=!1}});v.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(z,v.ChildWidgetProperties);return v})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dijit/layout/ContentPane"],function(V,L,v){return L("dojox.widget.WizardPane",v,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);V.isString(this.passFunction)&&(this.passFunction=V.getObject(this.passFunction));V.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=V.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},
_checkPass:function(){var w=!0;if(this.passFunction&&V.isFunction(this.passFunction)){var t=this.passFunction();switch(typeof t){case "boolean":w=t;break;case "string":alert(t),w=!1}}return w},done:function(){this.doneFunction&&V.isFunction(this.doneFunction)&&this.doneFunction()}})})},"arcgisonline/sharing/dijit/dialog/BrowseItemsDlg":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/mouse dojo/topic dojo/query dojo/parser dijit/registry dijit/TooltipDialog dijit/popup dojo/promise/all dojo/Deferred dgrid/Grid dgrid/extensions/Pagination dgrid/OnDemandGrid dgrid/Selection dgrid/selector dgrid/Keyboard dgrid/util/mouse dgrid/util/touch put-selector/put dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/arcgis/Portal esri/Evented esri/PluginTarget arcgisonline/sharing/util arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig ./_AppTemplateFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline ../_RefreshMixin ../_Empty dojo/NodeList-dom".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za,ia){var T=V(null,{idProperty:"id",constructor:function(la){V.safeMixin(this,la)},get:function(la,S){return K.PortalUtil.request(this.portalUrl+"content/items/"+la,S).then(function(P){return new K.PortalItem(L.mixin(P,{portal:this.portal}))})},getIdentity:function(la){return la[this.idProperty]},query:function(la,S){var P=L.isObject(la)?la:{q:la};if(S&&(P=L.mixin(P,{num:S.count,start:(S.start||0)+
1}),S.sort&&S.sort.length)){var I=S.sort[0];P=L.mixin(P,{sortField:encodeURIComponent("created"===I.attribute?"uploaded":I.attribute),sortOrder:I.descending?"desc":"asc"})}P=this.portal.queryItems(P,!0).then(function(ba){ba.results.total=ba.total;return ba.results});return K.PortalResult(P)}});return V("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg",[J,O,M,Z],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"top-bar clearfix"\x3e\x3cdiv  class\x3d"left instructions"\x3e\x3cspan class\x3d"font-size-0 messageLeft hide" data-dojo-attach-point\x3d"messageNodeLeft"\x3e\x3c/span\x3e\x3ch2 class\x3d"font-size-0 trailer-0 inline-block messageRight"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"messageNodeRight"\x3e\x3c/span\x3e\x3ca data-dojo-attach-point\x3d"helpLink" class\x3d"icon-ui-question icon-ui-flush margin-left-half hide" title\x3d"${i18n.common.learnMoreConfigurableApps}" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}_search"class\x3d"searchBar right"\x3e\x3cinput tabIndex\x3d"0" placeholder\x3d"${i18n.search.searchTitle}" aria-label \x3d"${i18n.search.searchTitle}" class\x3d"esriSearchBox dijitTextBox" type\x3d"search"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gallery"\x3e\x3cdiv class\x3d"gallery-left  quiet-scroll"\x3e\x3cul class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"templates gallery-right"\x3e\x3cp id\x3d"${id}_filterTitle" class\x3d"filter-title hide" data-dojo-attach-point\x3d"filterDescription"\x3e\x3c/p\x3e\x3cdiv id\x3d"${id}_grid"class\x3d"dgrid-autoheight quiet-scroll"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"loader-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv  data-dojo-attach-point\x3d"infoPanel" id\x3d"template-info-panel"\x3e\x3c/div\x3e\x3c/div\x3e',
galleryTemplate:'\x3cdiv style\x3d\'opacity:1;\' class\x3d\'grid-item gallery-view\' tabIndex\x3d"0" aria-label\x3d"${item.title}"\x3e\x3cdiv class\x3d\'grid-item-thumbnail-wrap\'\x3e${item:_formatThumbnail}\x3cp class\x3d"template-overlay" style\x3d"display:none;"\x3e${i18n.browseItemsDlg.selectDetails}\x3c/p\x3e\x3c/div\x3e${item:_formatItemTitle}\x3c/div\x3e',infoPanelTemplate:'\x3cdiv class\x3d"template-info-wrapper"\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"on-next"\x3e${i18n.browseItemsDlg.configure}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
baseClass:"esriBrowseItems",i18n:ra,postCreate:function(){this.inherited(arguments);this._portalUser=(this._portal=ka.portal)&&(this._portal.user||this._portal.getPortalUser());fa.getSelf(L.hitch(this,function(la){this._canSearchPublic=la.canSearchPublic;this._currentFilter=L.mixin(this._currentFilter||{},{get:function(S){return L.isArray(this[S])&&1<this[S].length?"("+this[S].join(" OR ")+") ":this[S]?this[S]+" ":""},toString:function(){return{q:this.get("groups")+this.get("tags")+this.get("persistentTypekeywords")+
this.get("typekeywords")+this.get("types")+(this.query||"")+(this.search||"")+' -type:"Attachment"'}}});la.canSearchPublic=!0;this._portal?this.itemQuery&&this._fetchData():(this._portal=new K.Portal({url:ka.restBaseUrl,self:la}),this._portal.on("load",L.hitch(this,function(){this.addPlugin(this.plugin).then(L.hitch(this,function(){}))})));e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide")}))},destroy:function(){this.inherited(arguments);this._grid&&this._grid.destroy();
this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove());this._queryTimer&&clearTimeout(this._queryTimer);this._grid=this._portal=null},addPlugin:function(la){var S=new n;la?this.inherited(arguments).then(L.hitch(this,function(P){this.galleryTemplate=this.plugIn&&this.plugIn.galleryTemplate||this.galleryTemplate;(this.helpLinkUrl=this.plugIn&&this.plugIn.helpLinkUrl||"")?(g.set(this.helpLink,"href",this.helpLinkUrl),l.remove(this.helpLink,"hide")):l.add(this.helpLink,"hide");
this._fetchData().then(function(){S.resolve(P)})})):S.resolve(!0);return S},_setItemQueryAttr:function(la){this.itemQuery=la},_setPluginAttr:function(la){this.plugin=la},_setMessageAttr:function(la){this.set("messageRight",la)},_setMessageRightAttr:function(la){g.set(this.messageNodeRight,"innerHTML",la);l.remove(this.messageNodeRight,"hide")},_setMessageLeftAttr:function(la){g.set(this.messageNodeLeft,"innerHTML",la);l.remove(this.messageNodeLeft,"hide")},_setDisabledAttr:function(la){var S=a.findWidgets(this.domNode).concat(a.findWidgets(this._content));
v.forEach(S,function(P){P.set("disabled",la)});l[la?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_setSortAttr:function(la){this.sortAttribute=la},_setSortDescendingAttr:function(la){this.sortDescending=la},_getSelectionAttr:function(){var la=this._grid.selection,S;for(S in la)break;return S&&this._grid.row(S).data},_getInfoPanelTemplateAttr:function(){return this.plugIn&&this.plugIn.infoPanelTemplate||this.infoPanelTemplate},_getGalleryTemplateAttr:function(){return this.plugIn&&
this.plugIn.galleryTemplate||this.galleryTemplate},_validate:function(){return!!this.get("selection")},_clearQueryTimeout:function(){clearTimeout(this._queryTimer);this._queryTimer=null},_clearClosePanelTimeout:function(){clearTimeout(this._panelClosing);this._panelClosing=null;v.forEach(this._panelClickHandles,"item.remove();");z.empty("template-info-panel")},_createGrid:function(){var la=V([q,y,B,F,za]),S=new H(new T({portal:this._portal})),P=this._currentFilter,I=L.hitch(this,function(ba){ba.snippet=
ba.snippet||"";ba.title=ba.title||"";var W=G("div");ba=h.substitute(this.get("galleryTemplate"),{item:ba,i18n:ra},null,this);z.place(ba,W);return W});this._grid=new la({store:S,query:P.toString(),selectionMode:"single",pagingLinks:2,rowsPerPage:this.plugIn&&this.plugIn.rowsPerPage||8,noDataMessage:h.substitute(ia,{message:ra.emptyStates.noContentAvailable,width:256}),showLoadingMessage:!1,renderRow:I,sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},this.id+"_grid");
this._grid.startup();this.own(x(this.domNode,"click",L.hitch(this,function(ba){E.byId("close-panel")&&E.byId("close-panel").click()})),this._grid.addKeyHandler(13,L.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.addKeyHandler(32,L.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.on(r.enterRow,L.hitch(this,function(ba){!1===l.contains(this.domNode,"showing")&&this._showOverlay(!0,ba)})),this._grid.on(r.leaveRow,L.hitch(this,function(ba){this._showOverlay(!1,
ba)})),this._grid.on(".dgrid-row:click",L.hitch(this,function(ba){if(!1===l.contains(this.domNode,"showing")){ba.preventDefault();t.stop(ba);this._clearClosePanelTimeout();var W=this.get("selection");this._showOverlay(!1,ba);z.place(h.substitute(this.get("infoPanelTemplate"),{item:W,i18n:ra,previewButtonWidth:this._previewButtonWidth(W),hideDownload:this._hideDownload(W)},function(aa){return esri.isDefined(aa)?aa:""},this),this.infoPanel);l.add(this.domNode,"showing");m.publish("/esri/browseitems/showInfoTemplate",
!0);setTimeout(L.hitch(this,function(){e("#template-info-panel *",this.domNode).forEach(function(Q){Q.tabIndex=0});var aa=this.domNode.querySelector("#create-app");aa&&aa.focus()}),500);this._panelClickHandles=[e(".template-info-showing .thumbnail img",this.domNode).on("error",L.hitch(this,function(aa){g.set(aa.target,"src",W.thumbnailUrl)})),e(".panel-actions .btn").on("click",L.hitch(this,function(aa){aa.preventDefault();t.stop(aa);"close-panel"===aa.target.id?(l.remove(this.domNode,"showing"),
e("#template-info-panel *",this.domNode).forEach(function(Q){Q.tabIndex=-1}),m.publish("/esri/browseitems/showInfoTemplate",!1),this._panelClosing=setTimeout(L.hitch(this,function(){v.forEach(void 0,"item.remove();")},250))):m.publish("/esri/browseitems/close",aa.target.id,this.get("selection"))})),e("#template-info-panel").on("click",L.hitch(this,function(aa){aa.preventDefault();t.stop(aa)}))]}})),this._grid.on("dgrid-refresh-complete",L.hitch(this,function(ba){e(".templates",this.domNode).removeClass("fade");
e("#loader-wrap",this.domNode).addClass("hide");e(".dgrid-footer",this.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide")})),this._grid.on("refresh",L.hitch(this,function(){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=e(".grid-item-thumb",this._grid.domNode).on("load",L.hitch(this,function(ba){(ba=this._grid.row(ba))&&ba.element&&e(".grid-item",ba.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=e(".grid-item-thumb",this._grid.domNode).on("error",L.hitch(this,function(ba){g.set(ba.target,"src",ca.getStaticImagesUrl()+"/desktopapp.png")}))})),x(E.byId(this.id+"_search"),"keyup, input",L.hitch(this,function(ba){ba.preventDefault();this._clearQueryTimeout();this._queryTimer=setTimeout(L.hitch(this,function(){this._currentFilter.search=g.get(ba.target,"value");this._fetchItems(this._currentFilter).then(L.hitch(this,function(){this._clearQueryTimeout()}))}),this.searchKeypressDelay||
450)})),x(E.byId(this.id+"_search"),"search",L.hitch(this,function(ba){this._queryTimer||(ba.preventDefault(),this._currentFilter.search=g.get(ba.target,"value"),this._fetchItems(this._currentFilter))})))},_createFilters:function(){if(this.plugIn&&this.plugIn.filters){var la=this.plugIn.filters,S=this.plugIn.filterStrings,P=e(".filters",this.domNode)[0];for(I in la)z.create("li",{"class":"instant"===I?"active":"",innerHTML:"\x3ca id\x3d'"+I+"'  href\x3d'#'\x3e"+S[I].title+"\x3c/a\x3e"},P);var I=L.mixin({},
la.instant||{});this._currentFilter.tags=v.map(I.tags||[],function(ba){return'tags:"'+ba+'"'});this._currentFilter.typekeywords=[].concat(v.map(I.typekeywords||[],function(ba){return'typekeywords:"'+ba+'"'}));this.plugIn.filters.instant&&(g.set(this.filterDescription,"innerHTML",ra.appTemplateFilters.instant.description),this.filterDescription.classList.remove("hide"));this.own(x(P,"li a:click",L.hitch(this,function(ba){ba.preventDefault();var W=ba.target;e(".active",P).removeClass("active");l.add(W.parentNode,
"active");e(".templates",this.domNode).addClass("fade");setTimeout(L.hitch(this,function(){l["all"===W.id?"add":"remove"](this.filterDescription,"hide");var aa=this._portal.isPortal&&S[W.id].descriptionPortal||S[W.id].description||"";"narrate"===W.id&&this._portal.isPortal&&(aa=ka.baseUrl.replace("/home/","/apps/storymaps/"),aa=h.substitute(S[W.id].descriptionPortal,{linkStart:'\x3ca href\x3d"'+aa+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));g.set(this.filterDescription,"innerHTML",aa)}),225);
ba=L.mixin({},la[W.id]||{});this._currentFilter.tags=v.map(ba.tags||[],function(aa){return'tags:"'+aa+'"'});this._currentFilter.typekeywords=[].concat(v.map(ba.typekeywords||[],function(aa){return'typekeywords:"'+aa+'"'}));this._fetchItems(this._currentFilter)})));l.add(this.domNode,"filters")}else l.add(this.domNode,"nofilters"+(this.plugIn&&this.plugIn.extraClasses?" "+this.plugIn.extraClasses.join(" "):""))},_showOverlay:function(la,S){var P=this._grid.row(S);P&&e(".template-overlay",P.element).style("display",
la?"":"none")},_fetchData:function(){if(this._portal)return this._user=this._portalUser||this._portal&&this._portal.getPortalUser(),this.plugIn&&this.plugIn.fetchData?this.plugIn.fetchData():this._fetchItems(this.itemQuery);var la=new n;la.resolve(!1);return la},_fetchItems:function(la,S){var P={sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},I=new n;e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide");e("#loader-wrap",this.domNode).removeClass("hide");
setTimeout(L.hitch(this,function(){this._currentFilter=L.mixin(this._currentFilter,la);this._grid?this._grid.set("query",this._currentFilter.toString(),P):(this._createFilters(),this._createGrid());I.resolve(this._grid)}),60);return I},_formatThumbnail:function(la){var S=la.thumbnailUrl||ca.getStaticImagesUrl()+"/desktopapp.png";la.thumbnailUrl=S;return"\x3cimg class\x3d'grid-item-thumb' width\x3d'187px' height\x3d'125px' alt\x3d'' src\x3d'"+S+"'\x3e"},_formatInfoPanelImage:function(la){var S=la.screenshots&&
la.screenshots.length?la.screenshots[0]:null;return S?la.itemUrl+"/info/"+S:la.thumbnailUrl},_formatItemTitle:function(la){return"\x3ch3 class\x3d'font-size-0 trailer-0'\x3e"+(la.title||la.name||"\x3cNo Title\x3e")+"\x3c/h3\x3e"},_hideDownload:function(la){var S=la.typeKeywords&&-1<la.typeKeywords.indexOf("indoors"),P=la.typeKeywords&&-1<la.typeKeywords.indexOf("instantApp"),I=la.typeKeywords&&-1<la.typeKeywords.indexOf("story"),ba=la.typeKeywords&&-1<la.typeKeywords.indexOf("Configurable")&&-1<la.typeKeywords.indexOf("createAppWithoutMap");
la="/apps/instant/filtergallery/index.html"===la.url&&-1<window.location.pathname.indexOf("group.html");var W=ka.self.isPortal;return S||P||la||W&&ba&&!P&&!S&&!I?"hide":""},_previewButtonWidth:function(la){return"hide"===this._hideDownload(la)?"btn-wide":""}})})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E){function z(m){m.noDataNode?(x(m.noDataNode,"!"),delete m.noDataNode):m.cleanup();m.contentNode.innerHTML=""}function p(m){if(m.loadingNode)x(m.loadingNode,"!"),delete m.loadingNode;else if(m._oldPageNodes){for(var e in m._oldPageNodes)m.removeRow(m._oldPageNodes[e]);delete m._oldPageNodes;m._oldPageObserver&&(m._oldPageObserver.cancel(),m._numObservers--,delete m._oldPageObserver)}delete m._isLoading}return L("dgrid.extensions.Pagination",V,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:E,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var m=this,e=this.paginationNode=x(this.footerNode,"div.dgrid-pagination"),c=this.paginationStatusNode=x(e,"div.dgrid-status"),a=this.i18nPagination;c.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();c.innerHTML=g.substitute(a.status,{start:1,end:1,total:0});e=this.paginationNavigationNode=
x(e,"div.dgrid-navigation");this.firstLastArrows&&(c=this.paginationFirstNode=x(e,"span.dgrid-first.dgrid-page-link","\u00ab"),c.setAttribute("aria-label",a.gotoFirst),c.tabIndex=0);this.previousNextArrows&&(c=this.paginationPreviousNode=x(e,"span.dgrid-previous.dgrid-page-link","\u2039"),c.setAttribute("aria-label",a.gotoPrev),c.tabIndex=0);this.paginationLinksNode=x(e,"span.dgrid-pagination-links");this.previousNextArrows&&(c=this.paginationNextNode=x(e,"span.dgrid-next.dgrid-page-link","\u203a"),
c.setAttribute("aria-label",a.gotoNext),c.tabIndex=0);this.firstLastArrows&&(c=this.paginationLastNode=x(e,"span.dgrid-last.dgrid-page-link","\u00bb"),c.setAttribute("aria-label",a.gotoLast),c.tabIndex=0);this._listeners.push(l(e,".dgrid-page-link:click,.dgrid-page-link:keydown",function(b){if("keydown"!==b.type||13===b.keyCode)if(b=this.className,!(m._isLoading||-1<b.indexOf("dgrid-page-disabled"))){var d=m._currentPage;var k=Math.ceil(m._total/m.rowsPerPage);this===m.paginationPreviousNode?m.gotoPage(d-
1):this===m.paginationNextNode?m.gotoPage(d+1):this===m.paginationFirstNode?m.gotoPage(1):this===m.paginationLastNode?m.gotoPage(k):"dgrid-page-link"===b&&m.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var m=this.pageSizeOptions,e=this.paginationSizeSelect;if(m&&m.length){if(!e){e=this.paginationSizeSelect=x(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var c=this._paginationSizeChangeHandle=l(e,"change",w.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(c)}for(c=e.options.length=0;c<m.length;c++)x(e,"option",m[c],{value:m[c],selected:this.rowsPerPage===m[c]});this._updateRowsPerPageOption()}else m&&m.length||!e||(x(e,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(m){this.pageSizeOptions=m&&m.sort(function(e,
c){return e-c});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var m=this.rowsPerPage,e=this.pageSizeOptions,c=this.paginationSizeSelect;c&&(0>v.indexOf(e,m)?this._setPageSizeOptions(e.concat([m])):c.value=""+m)},_setRowsPerPage:function(m){this.rowsPerPage=m;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function m(F,r){if(c.pagingTextBox&&F==d&&1<q){var A=x(b,"input.dgrid-page-input[type\x3dtext][value\x3d$]",d);A.setAttribute("aria-label",
a.jumpPage);c._pagingTextBoxHandle=l(A,"change",function(){var H=+this.value;!isNaN(H)&&0<H&&H<=q&&c.gotoPage(+this.value)});C&&"INPUT"===C.tagName&&A.focus()}else{var G=F===d;A=x(b,"span"+(G?".dgrid-page-disabled":"")+".dgrid-page-link",F+(r?" ":""));A.setAttribute("aria-label",a.gotoPage);A.tabIndex=G?-1:0;B===F&&(G?F<q?B++:D.focus():A.focus());G||(D=A)}}function e(F,r){x(F,(r?".":"!")+"dgrid-page-disabled");F.tabIndex=r?-1:0}var c=this,a=this.i18nPagination,b=this.paginationLinksNode,d=this._currentPage,
k=this.pagingLinks,n=this.paginationNavigationNode,q=Math.ceil(this._total/this.rowsPerPage),y=this._pagingTextBoxHandle,C=document.activeElement,B,D;C&&u.contains(this.paginationNavigationNode,C)?"dgrid-page-link"===C.className&&(B=+C.innerHTML):C=null;y&&y.remove();b.innerHTML="";f(".dgrid-first, .dgrid-previous",n).forEach(function(F){e(F,1===d)});f(".dgrid-last, .dgrid-next",n).forEach(function(F){e(F,d>=q)});if(k&&0<q){m(1,!0);n=d-k;for(2<n?x(b,"span.dgrid-page-skip","..."):n=2;n<Math.min(d+
k+1,q);n++)m(n,!0);d+k+1<q&&x(b,"span.dgrid-page-skip","...");1<q&&m(q)}else c.pagingTextBox&&m(d);C&&-1===C.tabIndex&&(k=f("[tabindex\x3d'0']",this.paginationNavigationNode),C===this.paginationPreviousNode||C===this.paginationFirstNode?C=k[0]:k.length&&(C=k[k.length-1]),C&&C.focus())},refresh:function(){var m=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(e){setTimeout(function(){l.emit(m.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:m,results:e})},
0);return e})},_onNotification:function(m){m.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(m,e){var c=this,a=this.inherited(arguments);this._lastCollection=null;e||(this._topLevelRequest&&this._topLevelRequest!==m&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof m.cancel&&(this._topLevelRequest=m),t.when(m,function(){c._topLevelRequest&&delete c._topLevelRequest}));return a},insertRow:function(){var m=this._oldPageNodes,e=this.inherited(arguments);
m&&e===m[e.id]&&delete m[e.id];return e},gotoPage:function(m){var e=this,c=new t;this._trackError(function(){var a=e.rowsPerPage,b=(m-1)*a,d=w.mixin(e.get("queryOptions"),{start:b,count:a}),k=e.contentNode,n;if(e.showLoadingMessage){z(e);var q=e.loadingNode=x(k,"div.dgrid-loading");q.innerHTML=e.loadingMessage}else{e._oldPageNodes=q={};k=k.children;var y=0;for(n=k.length;y<n;y++)q[k[y].id]=k[y];e._oldPageObserver=e.observers.pop()}e._isLoading=!0;var C=e.store.query(e.query,d);t.when(e.renderArray(C,
null,d),function(B){p(e);e.scrollTo({y:0});t.when(C.total,function(D){D||(e.noDataNode&&(x(e.noDataNode,"!"),delete e.noDataNode),e.noDataNode=x(e.contentNode,"div.dgrid-no-data"),e.noDataNode.innerHTML=e.noDataMessage);e.paginationStatusNode.innerHTML=g.substitute(e.i18nPagination.status,{start:Math.min(b+1,D),end:Math.min(D,b+a),total:D});e._total=D;e._currentPage=m;e._rowsOnPage=B.length;e._updateNavigation()});(7>h("ie")||h("ie")&&h("quirks"))&&e.resize();c.resolve(C)},function(B){p(e);c.reject(B)});
return c.promise})||c.reject();return c.promise}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),function(V,L,v,w,t,l,f){v.getObject("dgrid.selector",!0);return dgrid.selector=function(g,h){function x(a){return!m.allowSelect(m.row(a))}function u(a){return function(b){var d=b.rows,k=d.length;b="false";var n;for(n=0;n<k;n++){var q=m.cell(d[n],g.id).element;q&&(q=(q.contents||q).input)&&!q.disabled&&
(q.checked=a,q.setAttribute("aria-checked",a))}if("checkbox"==e.type){d=m.selection;k=!1;for(n in d)if(d[n]!=m.allSelected){k=!0;break}e.indeterminate=k;e.checked=m.allSelected;k?b="mixed":m.allSelected&&(b="true");e.setAttribute("aria-checked",b)}}}function E(a){if("click"==a.type||32==a.keyCode||!l("opera")&&13==a.keyCode||0===a.keyCode){var b=m.row(a);m._selectionTriggerEvent=a;if(b){if(m.allowSelect(b)){var d=m._lastSelected&&m.row(m._lastSelected);"radio"==h?d&&d.id==b.id||(m.clearSelection(),
m.select(b,null,!0),m._lastSelected=b.element):b&&(a.shiftKey?u(!0)({rows:[b]}):d=null,d=a.shiftKey?d:null,m.select(d||b,b,d?void 0:null),m._lastSelected=b.element)}}else f(this,(m.allSelected?"!":".")+"dgrid-select-all"),m[m.allSelected?"clearSelection":"selectAll"]();m._selectionTriggerEvent=null}}function z(){m._hasSelectorInputListener=!0;p.push(m.on(".dgrid-selector:click,.dgrid-selector:keydown",E));var a=m._handleSelect;m._handleSelect=function(k){this.cell(k).column!=g&&a.apply(this,arguments)};
if("function"==typeof g.disabled){var b=m.allowSelect,d=g.disabled;m.allowSelect=function(k){var n=b.call(this,k);return d===x?n:n&&!d.call(g,k.data)}}g.disabled=x;p.push(m.on("dgrid-select",u(!0)));p.push(m.on("dgrid-deselect",u(!1)))}var p=[],m,e;g||(g={});g.type&&(g.selectorType=g.type,V.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));g.selectorType=h=h||g.selectorType||"checkbox";g.sortable=!1;var c="function"==typeof h?h:function(a,b,d){var k=b.parentNode;m._hasSelectorInputListener||
z();var n=g.disabled;f(k&&k.contents?k:b,".dgrid-selector");b=b.input||(b.input=f(b,"input[type\x3d"+h+"]",{tabIndex:isNaN(g.tabIndex)?-1:g.tabIndex,disabled:n&&("function"==typeof n?n.call(g,d):n),checked:a}));b.setAttribute("aria-checked",!!a);return b};t.after(g,"init",function(){m=g.grid});t.after(g,"destroy",function(){L.forEach(p,function(a){a.remove()});m._hasSelectorInputListener=!1});g.renderCell=function(a,b,d,k,n){b=(b=a&&m.row(a))&&m.selection[b.id];c(b,d,a)};g.renderHeaderCell=function(a){var b=
"label"in g?g.label:g.field||"";"radio"!=h&&m.allowSelectAll?c(!1,a,{}):(a.appendChild(document.createTextNode(b)),m._hasSelectorInputListener||z());e=a.lastChild};return g}})},"dgrid/util/mouse":function(){define(["dojo/_base/lang","dojo/on","dojo/dom","dojo/query"],function(V,L,v){function w(l,f){return function(g,h){return L(g,l+":"+f,function(x){if(!v.isDescendant(x.relatedTarget,this))return h.call(this,x)})}}var t={enterRow:w(".dgrid-content .dgrid-row","mouseover"),enterCell:w(".dgrid-content .dgrid-cell",
"mouseover"),enterHeaderCell:w(".dgrid-header .dgrid-cell","mouseover"),leaveRow:w(".dgrid-content .dgrid-row","mouseout"),leaveCell:w(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:w(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:w};V.getObject("dgrid.util.mouse",!0);V.mixin(dgrid.util.mouse,t);return t})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(V,L){function v(t,l,f,g){if(!(1<f.targetTouches.length)){var h=f.changedTouches[0],x=h.screenX,
u=h.screenY;g&&f.preventDefault();var E=V(t,"touchend",function(z){var p=z.changedTouches[0];z.targetTouches.length||(Math.abs(p.screenX-x)<w.tapRadius&&Math.abs(p.screenY-u)<w.tapRadius&&(g&&z.preventDefault(),l.call(this,z)),E.remove())})}}var w={tapRadius:10,dbltapTime:250,selector:function(t,l,f){return function(g,h){var x=l.bubble;x?l=x:!1!==f&&(f=!0);return V(g,l,function(u){var E=u.target;3==E.nodeType&&(E=E.parentNode);for(;!L.matches(E,t,g);)if(E==g||!f||!(E=E.parentNode))return;return h.call(E,
u)})}},countCurrentTouches:function(t,l){if(!("touches"in t))return-1;var f,g,h;for(g=f=0;h=t.touches[f];++f)l.contains(h.target)&&++g;return g},tap:function(t,l){return V(t,"touchstart",function(f){v(t,l,f)})},dbltap:function(t,l){var f,g;return V(t,"touchstart",function(h){f?v(t,function(x){if(f){var u=x.changedTouches[0];Math.abs(u.screenX-f.screenX)<w.tapRadius&&Math.abs(u.screenY-f.screenY)<w.tapRadius&&(g&&clearTimeout(g),f=g=null,l.call(this,x))}},h,!0):v(t,function(x){f=x.changedTouches[0];
g=setTimeout(function(){f=g=null},w.dbltapTime)},h)})}};return w})},"arcgisonline/sharing/dijit/dialog/_AppTemplateFiltersMixin":function(){define(["dojo/_base/declare"],function(){return{rootNodes:{app:{instant:{typekeywords:["instantApp"]},all:{},collect:{typekeywords:["collect"]},compare:{typekeywords:["compare"]},"3dscene":{typekeywords:["3Dscene","twoDthreeD"]},analyze:{typekeywords:["summarize"]},imagery:{typekeywords:["interpret"]},present:{typekeywords:["gallery"]},local:{typekeywords:["local"]},
route:{typekeywords:["route"]},showcase:{typekeywords:["showcase"]}}}}})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(V,L,v,w){function t(l){"object"!==typeof l&&(l=Error(l));l.grid=this;w.emit(this.domNode,"dgrid-error",{grid:this,error:l,cancelable:!0,bubbles:!0})}return V(null,{_trackError:function(l){"string"===typeof l&&(l=L.hitch(this,l));try{var f=l()}catch(g){t.call(this,g)}return v.when(f,L.hitch(this,
function(){w.emit(this.domNode,"refresh",{cancelable:!0,bubbles:!0})}),L.hitch(this,t))}})})},"arcgisonline/map/utils/previewInTemplate":function(){define(["dojo/io-query","esri/lang","esri/request","arcgisonline/sharing/util"],function(V,L,v,w){return function(t,l){v({url:t.itemDataUrl,callbackParamName:"callback"}).promise.always(function(){var f=w.isPortal(),g=l.url,h=g.indexOf("?"),x=-1<h?g.substring(0,h):g;g=-1<h?V.queryToObject(g.substring(h+1)):{};h="Web Scene"===t.type?"webscene":"webmap";
if(f){f=l.url;x=w.parseUrl(f);var u="https:"===window.location.protocol;!1===/^(?:[a-z]+:)?\/\//i.test(f)&&(f=window.location.protocol+"//"+window.location.host+w.getHomeAppContext()+x.path);f=u?w.getSecureUrl(f):w.getHttpUrl(f)}else f=x;g[h]=t.id;window.open(f.replace("/hosted/","/apps/")+"?"+V.objectToQuery(g))})}})},"arcgisonline/map/utils/openMap":function(){define(["dojo/Deferred","dojo/io-query","dojo/_base/lang","./getMapCookie","arcgisonline/sharing/dijit/dialog/OpenMapDlg"],function(V,L,
v,w,t){return function(l,f,g){var h="./webmap/viewer.html?webmap\x3d"+l,x="signin.html?returnUrl\x3d"+encodeURIComponent(h);f="boolean"===typeof f?f:!1;w().then(v.hitch(this,function(u){u&&!0===u.c?t.prototype.statics.getInstance().show(f?x:h,u):document.location=f?x:h}))}})},"arcgisonline/sharing/dijit/dialog/OpenMapDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/_Widget,dijit/_Templated"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.OpenMapDlg");
V.require("dijit.Dialog");V.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");V.require("dijit._Widget");V.require("dijit._Templated");V.declare("arcgisonline.sharing.dijit.dialog.OpenMapDlg",[L._Widget,L._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_dialog" id\x3d"open-map-dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv id\x3d"open-map-dialog-content"\x3e\r\n    \x3cdiv style\x3d"margin-bottom: 10px;"\x3e${i18n.unsavedChangesMsg}\x3c/div\x3e\r\n      \x3ctable class\x3d"table-layout" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv\x3e${i18n.titleLabel}\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-title"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-layersRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-layersLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-layers"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-tablesRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-tablesLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-tables"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n      \x3cdiv style\x3d"margin-top: 10px;"\x3e${i18n.openAnotherMapQtn}\x3c/div\x3e\r\n      \x3cbr /\x3e\r\n      \x3cdiv style\x3d"float: right;" class\x3d"clearfix"\x3e\r\n         \x3cbutton id\x3d"button_open-map-no" class\x3d"action-bar-btn jevent cancel right btn-two" dojoType\x3d"dijit.form.Button"\x3e${i18n.notOpen}\x3c/button\x3e\r\n         \x3cbutton id\x3d"button_open-map-yes" class\x3d"padding-right-half jevent primary right" dojoType\x3d"dijit.form.Button"\x3e${i18n.yesOpen}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
handler:null,newMapUrl:"",i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.OpenMapDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline","arcgisonline").openMapDlg)},postCreate:function(){this.loadConnections()},show:function(w,t,l,f,g){this.newMapUrl=w;w=document.getElementById("webmap-title-text")&&
document.getElementById("webmap-title-text").innerHTML;V.byId("open-map-dialog-title").innerHTML=w||g||t&&t.t||this.i18n.untitled;var h=[];t?V.forEach(t.operationalLayers,function(z){h.push(z.title)}):l&&V.forEach(l,function(z){"user"!==z.type&&"mapNotes"!==z.type||h.push(z.title)});if(0===h.length)V.style(V.byId("open-map-dialog-layersRow"),"display","none");else{if(1===h.length)V.byId("open-map-dialog-layersLabel").innerHTML=this.i18n.layerLabel,V.byId("open-map-dialog-layers").innerHTML=h[0];else{V.byId("open-map-dialog-layersLabel").innerHTML=
this.i18n.layersLabel;var x="",u="";V.forEach(h,function(z){x+=u+z;u=", "});V.byId("open-map-dialog-layers").innerHTML=x}V.style(V.byId("open-map-dialog-layersRow"),"display","")}var E=[];t?V.forEach(t.tables,function(z){E.push(z.title)}):f&&V.forEach(f,function(z){E.push(z.title)});0===E.length?V.style(V.byId("open-map-dialog-tablesRow"),"display","none"):(1===E.length?(V.byId("open-map-dialog-tablesLabel").innerHTML=this.i18n.tableLabel,V.byId("open-map-dialog-tables").innerHTML=E[0]):(V.byId("open-map-dialog-tablesLabel").innerHTML=
this.i18n.tablesLabel,u=x="",V.forEach(E,function(z){x+=u+z;u=", "}),V.byId("open-map-dialog-tables").innerHTML=x),V.style(V.byId("open-map-dialog-tablesRow"),"display",""));L.byId("open-map-dialog").show()},loadConnections:function(){V.query(".jevent").connect("onclick",function(w){w.preventDefault()});V.query("#button_open-map-no").connect("onclick",function(){L.byId("open-map-dialog").hide()});V.query("#button_open-map-yes").connect("onclick",V.hitch(this,"submitRequest"))},submitRequest:function(w){document.location=
this.newMapUrl},hide:function(){L.byId("open-map-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query dojo/Deferred ./_AppTemplateFiltersMixin arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),function(V,L,v,w,t,l,f,g,h,x){var u=V("arcgisonline.sharing.dijit.dialog.PluginConfigurableAppsViewer",null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
customGroupInfoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary btn-wide" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
filters:L.mixin({},g.rootNodes.app),filterStrings:x.appTemplateFilters,rowsPerPage:100,constructor:function(E){L.mixin(this,E);this.helpLinkUrl=esriGeowConfig.self&&esriGeowConfig.self.isPortal?esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001018"]:"":esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001055"]:"";delete this.filters.present;delete this.filters["3dscene"]},fetchData:function(){var E=[];this.parent._currentFilter.types=
['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this.checkIndoorsCapabilities(this._portal).then(function(z){this.capabilities=z;return this._fetchGroups().then(function(p){v.forEach(p||[],function(m){m&&m.id&&E.push('group:"'+m.id+'"')});return this._fetchGroupItems(E)}.bind(this))}.bind(this))},_fetchGroups:function(){var E=this._portal.templatesGroupQuery||null;return E&&E.split("id:")[1]?this._fetchOrgConfigurableApps():this._fetchEsriConfigurableApps()},
_fetchGroup:function(E,z){this._groups=this._groups||[];return this._groups[E]||this._portal.queryGroups(z,!0).then(L.hitch(this,function(p){p=p.total&&p.results&&p.results[0]||null;return(this._groups[E]=p)||{}}))},_fetchGroupItems:function(E){return this.parent._fetchItems({groups:E})},_updateIndoorsFilters:function(){var E=this.capabilities.indoors,z=this.capabilities.indoorsmaps,p=this.capabilities.indoorsspaces,m=E||p||z;!h.isArcGISEnterpriseOnKubernetes()&&m||this.parent._currentFilter.persistentTypekeywords.push('-typekeywords:"indoors"');
z||E||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Viewer"');p||E||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Space Planner"')},_fetchEsriConfigurableApps:function(){var E=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),z={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[E]||E)+'"'};this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"3Dscene"'];
this._updateIndoorsFilters();return w([this._fetchGroup("esriGallery_"+E,z)]).then(L.hitch(this,function(p){return p||[]}))},_fetchOrgConfigurableApps:function(){var E={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"Web AppBuilder"'];this._updateIndoorsFilters();return w([this._fetchGroup("customGallery",E)]).then(L.hitch(this,
function(z){this.parent.sortDescending=z[0].sortOrder&&"desc"===z[0].sortOrder||!1;this.parent.sortAttribute=z[0].sortField||"asc";return z&&z.length?[z[0]]:[]}))},hasIndoors:function(E){return this.fetchCapabilities(E).then(function(z){return z.some(function(p){return"indoors"===p.id})})},checkIndoorsCapabilities:function(E){return this.fetchCapabilities(E).then(function(z){return z.reduce(function(p,m){p[m.id]=!0;return p},{})})},fetchCapabilities:function(E){var z=new f;h.request({url:esriGeowConfig.restBaseUrl+
"portals/self/subscriptionInfo"}).then(function(p){z.resolve(p&&p.orgCapabilities||[])});return z}});L.mixin(u,{add:function(E,z){if(!E.plugIn){var p=z||{};p.parent=E;E.plugIn=new u(p)}},remove:function(E){E.plugIn&&(E.plugIn.destroy(),delete E.plugIn)}});return u})},"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query ./_AppTemplateFiltersMixin ./PluginConfigurableAppsViewer dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h){var x=V("arcgisonline.sharing.dijit.dialog.Plugin3DConfigurableAppsViewer",[g],{constructor:function(u){this.inherited(arguments);this.filters=null},_fetchEsriConfigurableApps:function(){var u=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),E={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[u]||u)+'"'};this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"',
'typekeywords: "twoDthreeD"'];return w([this._fetchGroup("esriGallery_"+u,E)]).then(L.hitch(this,function(z){return z||[]}))},_fetchOrgConfigurableApps:function(){var u={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"','-typekeywords:"Web AppBuilder"','typekeywords:"WAB3D"','typekeywords: "twoDthreeD"'];return w([this._fetchGroup("customGallery",
u)]).then(L.hitch(this,function(E){this.parent.sortDescending=E[0].sortOrder&&"desc"===E[0].sortOrder||!1;this.parent.sortAttribute=E[0].sortField||"asc";return E&&E.length?[E[0]]:[]}))}});L.mixin(x,{add:function(u,E){if(!u.plugIn){var z=E||{};z.parent=u;u.plugIn=new x(z)}},remove:function(u){u.plugIn&&(u.plugIn.destroy(),delete u.plugIn)}});return x})},"arcgisonline/pages/item/widgets/AdvancedOfflineOptions/AdvancedOfflineOptions":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/_base/lang dojo/string dojo/text!./templates/AdvancedOfflineOptions.html dojo/text!./templates/AdvancedOfflineOptionSearchItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../../sharing/util ../../../../esriGeowConfig ../../../utils/dom ../../../dijit/Overlay ../../../dijit/InfoTooltip ../../../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);return function(){function b(d,k){this.title=x["default"].itemProperties.advancedOptions.overlayTitle;this.i18n=
x["default"];this.overlayContents=f["default"].substitute(g["default"],{i18n:this.i18n});this._fileNameEdited=!1}b.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");this._editableFeaturesAndAttachmentsOption=this.domNode.querySelector(".js-edit-features-and-attachments");this._editableFeaturesOnlyOption=this.domNode.querySelector(".js-edit-features-only");this._editableFeaturesNoneOption=this.domNode.querySelector(".js-edit-none");this._readonlyFeaturesAndAttachmentsOption=
this.domNode.querySelector(".js-readonly-features-and-attachments");this._readonlyFeaturesOnlyOption=this.domNode.querySelector(".js-readonly-features-only");this._tileWebmapOption=this.domNode.querySelector(".js-tile-webmap");this._tileMobileOption=this.domNode.querySelector(".js-tile-mobile");this._tileMobileFileNameContainer=this.domNode.querySelector(".js-file-name-container");this._tileMobileFilename=this.domNode.querySelector(".js-tile-mobile-file-name");this._fileNameError=this.domNode.querySelector(".js-tile-mobile-file-name-error");
this._tileOrgOption=this.domNode.querySelector(".js-tile-org");this._tileOrgSearchContainer=this.domNode.querySelector(".js-tile-search-container");this._tileOrgSearch=this.domNode.querySelector(".js-tile-search");this._searchResults=this.domNode.querySelector(".js-search-results");this._updateLoader=this.domNode.querySelector(".js-update-loader");this._learnMoreLink=this.domNode.querySelector(".js-learn-more");this._overlay.insertBefore(this.domNode.querySelector(".js-update-loader-container"),this.domNode.querySelector(".overlay-title-bar"));
var d=this.page.portal.helpMap.m["120000899"];this._learnMoreLink.href=this.page.portal.helpBase+(d?d:"");this._overlayActionBar.insertBefore(this._learnMoreLink,this._overlayActionBar.querySelector("nav"));this._attachmentsInfo=new c["default"]({content:this.i18n.itemProperties.advancedOptions.attachmentTooltip},this.domNode.querySelector(".js-attachments-info"));this._packageInfo=new c["default"]({content:this.i18n.itemProperties.advancedOptions.tilePackageTooltip},this.domNode.querySelector(".js-package-info"));
d=(this._itemData=l["default"].clone(this.item.itemData))&&this._itemData.applicationProperties&&this._itemData.applicationProperties.offline||{};this._editableLayers=d.editableLayers;this._readonlyLayers=d.readonlyLayers;this._offlineBasemap=d.offlinebasemap;w["default"].accordion();this._selectOptions();this._addListeners()};b.prototype.close=function(){this.inherited(arguments)};b.prototype._addListeners=function(){var d=this;[].slice.call(this.domNode.querySelectorAll(".js-tile-option")).forEach(function(k){k.addEventListener("change",
function(){m["default"].showHide(d._tileMobileFileNameContainer,d._tileMobileOption.checked);m["default"].showHide(d._tileOrgSearchContainer,d._tileOrgOption.checked)})});this._tileMobileFilename.addEventListener("change",function(){d._fileNameEdited=!0;d._onFilenameKeyup()});this._tileMobileFilename.addEventListener("keyup",this._onFilenameKeyup.bind(this));this._tileOrgSearch.addEventListener("keyup",this._onSearchKeyup.bind(this));this._tileOrgSearch.addEventListener("search",this._onSearchKeyup.bind(this))};
b.prototype._onFilenameKeyup=function(){if(this._fileNameEdited){var d=this._tileMobileFilename.value;this._fileNameError.textContent="";0===d.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(d)?(this._fileNameError.classList.remove("is-active"),this._tileMobileFilename.classList.remove("input-error")):this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension;0<this._fileNameError.textContent.length&&
(this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"))}};b.prototype._onSearchKeyup=function(){var d=this;z["default"].request({url:p["default"].restBaseUrl+"search",content:{num:16,start:1,sortField:"title",sortOrder:"asc",q:'title:"'+this._tileOrgSearch.value+'" orgid:'+this.page.portal.id+' (type:"Vector Tile Package" OR type:"Raster Tile Package")'}}).then(function(k){d._searchResults.innerHTML="";0<d._tileOrgSearch.value.length&&k.results.forEach(function(n){d._searchResults.insertAdjacentHTML("beforeend",
f["default"].substitute(h["default"],{title:n.title}))})})};b.prototype.handlePrimary=function(){var d=this;if(this._isValid()){var k=this.domNode.querySelector(".js-editable-features:checked");k={applicationProperties:{offline:{editableLayers:{download:k.value,sync:k.dataset.sync},readonlyLayers:{downloadAttachments:this._readonlyFeaturesAndAttachmentsOption.checked}}}};this._tileMobileOption.checked&&(k.applicationProperties.offline.offlinebasemap={referenceBasemapName:this._tileMobileFilename.value});
this._itemData=v.__assign(v.__assign({},this._itemData),k);k={text:JSON.stringify(this._itemData)};this._updateLoader.classList.add("is-active");this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0;this.closeBtn.disabled=!0;this.page.updateItem(k).then(function(n){d.close();n&&n.code&&n.message?t["default"].publish("settings/error",n):t["default"].publish("settings/update")},function(n){d.close();t["default"].publish("settings/error",n)})}};b.prototype._isValidFileExtension=function(d){return/\.(vtpk|tpk|tpkx)$/i.test(d)};
b.prototype._isValid=function(){var d=this._tileMobileFilename.value;this._fileNameEdited=!0;if(this._tileMobileOption.checked&&(this._fileNameError.textContent="",0===d.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(d)||(this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension),0<this._fileNameError.textContent.length))return this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"),
!1;this._fileNameError.classList.remove("is-active");this._tileMobileFilename.classList.remove("input-error");return!0};b.prototype._selectOptions=function(){this._editableLayers&&"featuresAndAttachments"!==this._editableLayers.download?"features"===this._editableLayers.download?this._editableFeaturesOnlyOption.checked=!0:this._editableFeaturesNoneOption.checked=!0:this._editableFeaturesAndAttachmentsOption.checked=!0;!this._readonlyLayers||this._readonlyLayers.downloadAttachments?this._readonlyFeaturesAndAttachmentsOption.checked=
!0:this._readonlyFeaturesOnlyOption.checked=!0;this._offlineBasemap&&0!==this._offlineBasemap.referenceBasemapName.length?0<this._offlineBasemap.referenceBasemapName.length?(this._tileMobileOption.checked=!0,this._tileMobileFilename.value=this._offlineBasemap.referenceBasemapName,m["default"].showNode(this._tileMobileFileNameContainer)):this._tileOrgOption.checked=!0:this._tileWebmapOption.checked=!0};return b=v.__decorate([a["default"](E["default"],u["default"],e["default"])],b)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(e,c){this.templateString=w["default"];this.i18n=t["default"];this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=z["default"];this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}m.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};m.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&E["default"].hideNode(this._closeIcon);this._dialog=new h["default"]({id:this.tooltipId,"class":"popover "+this.popoverClass,title:this.title,content:this._popover});0<this.dialogClasses.length&&E["default"].addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className+=" flex flex-align-center",E["default"].showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&(this.iconWrapper.innerHTML=
'\x3ccalcite-icon icon\x3d"'+this.calciteIcon+'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e');this.hideIcon&&E["default"].hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};m.prototype.closePopup=function(){x["default"].close(this._dialog)};m.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};m.prototype.addContentClass=function(e){this._popoverContent.classList.add(e)};m.prototype.show=
function(){E["default"].showNode(this.domNode)};m.prototype.hide=function(){E["default"].hideNode(this.domNode)};m.prototype.getPopover=function(){return this._popover};m.prototype.update=function(e,c){this.infoTextEl.innerHTML=e;this._popoverContent.innerHTML=c};m.prototype._addEventListeners=function(){var e=this;this.own(u["default"](this._closeIcon,function(){x["default"].close(e._dialog);e._infoButton.focus()}),u["default"](this._infoButton,function(c){c.stopPropagation();e.preventInfoButtonEventDefault&&
c.preventDefault();e.disabled||(x["default"].open({popup:e._dialog,orient:e.orient,around:e._infoButton}),E["default"].showNode(e._popover),e._closeIcon.focus())}),l["default"](this._popover,"click",function(c){c.stopPropagation()}),l["default"](document.body,"click",function(c){x["default"].close(e._dialog)}))};return m=v.__decorate([p["default"](g["default"],f["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/AttachCodeDlg":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/form/Button,dijit/_Widget,dijit/_Templated"],
function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.AttachCodeDlg");V.require("arcgisonline.sharing.util");V.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");V.require("dijit.form.Button");V.require("dijit._Widget");V.require("dijit._Templated");V.declare("arcgisonline.sharing.dijit.dialog.AttachCodeDlg",[L._Widget,L._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"  dojoAttachPoint\x3d"containerNode"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"dialog" title\x3d"${titleLabel}" execute\x3d""\x3e\r\n    \x3ctable class\x3d"table-layout"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cdiv id\x3d"code_upload_message" style\x3d"margin-bottom:10px;"\x3e\r\n\t\t\t        ${messageLabel}\r\n\t\t\t      \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cform dojoAttachPoint\x3d"form" action\x3d"" enctype\x3d"multipart/form-data" method\x3d"post" onSubmit\x3d"return false;"\x3e\r\n\t\t\t        \x3cinput type\x3d"file" name\x3d"file" dojoAttachPoint\x3d"fileInput" size\x3d"50" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"title" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"type" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"typekeywords" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"overwrite" value\x3d"false" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"relationshipType" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"originItemId" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"async" value\x3d"true" /\x3e\r\n\r\n\t\t\t        \x3c!-- this is complicated... need some way of automating this --\x3e\r\n\t\t\t        \x3c!--\x3cdiv id\x3d"add-item-callback" name\x3d"callback.html" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" value\x3d"textarea"\x3e\x3c/div\x3e --\x3e\r\n\t\t\t      \x3c/form\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd style\x3d"padding-top:2em;"\x3e\r\n  \t\t      \x3cbutton dojoAttachPoint\x3d"cancelButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel right" type\x3d"button" dojoAttachEvent\x3d"onClick:_cancelButtonClick"\x3e\r\n  \t\t        ${i18n.cancel}\r\n  \t        \x3c/button\x3e\r\n    \t\t    \x3cbutton dojoAttachPoint\x3d"uploadButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary right"  type\x3d"button" dojoAttachEvent\x3d"onClick:_uploadButtonClick"\x3e\r\n    \t\t      ${i18n.uploadLabel}\r\n    \t\t    \x3c/button\x3e\r\n            \x3cspan id\x3d"code_upload-waiting" class\x3d"esriFloatTrailing" style\x3d"display:none;padding-top:8px;"\x3e\x3c/span\x3e\r\n\t\t        \x3cspan class\x3d"esriFloatLeading error" dojoAttachPoint\x3d"errorLabelNode" style\x3d"padding-top:8px;"\x3e\x3c/span\x3e\r\n\t        \x3c/td\x3e\r\n\t      \x3c/tr\x3e\r\n\t    \x3c/tbody\x3e\r\n\t  \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
dialog:null,fileInput:null,cancelButton:null,uploadButton:null,cancelButton:null,clearFormOnHide:!0,codeAttachment:null,titleLabel:"",messageLabelUpdate:"",messageLabel:"",messageErrorUpdate:"",errorLabelNode:null,type:"Code Attachment",typeKeywords:"Code",item:null,sharing:null,fileName:null,_lastUploaded:null,i18n:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common;V.mixin(this.i18n,V.i18n.getLocalization("arcgisonline",
"arcgisonline").attachCodeDlg);this.titleLabel=this.i18n.attachCode;this.messageLabelUpdate=this.i18n.messageLabelUpdateString;this.messageLabel=this.i18n.messageLabelString;this.messageErrorUpdate=this.i18n.messageErrorUpdateString},postCreate:function(){this.fileInput&&V.connect(this.fileInput,"onchange",this,function(){this.errorLabelNode.innerHTML=""})},statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.AttachCodeDlg);return this._instance}},
clear:function(){this.fileInput&&(this.fileInput.value="")},hide:function(){this.dialog&&(this.dialog.hide(),this.clearFormOnHide&&this.clear())},show:function(w){(this.codeAttachment=w)&&this.codeAttachment.name?(this.messageLabelUpdate=V.string.substitute(this.messageLabelUpdate,{fileName:this.codeAttachment.name}),V.byId("code_upload_message").innerHTML=this.messageLabelUpdate,this.dialog.set("title",this.i18n.updateCode)):(V.byId("code_upload_message").innerHTML=this.messageLabel,this.dialog.set("title",
this.i18n.attachCode));this.dialog&&this.dialog.show()},_cancelButtonClick:function(w){this.hide()},_uploadButtonClick:function(w){(w=this.fileInput.value)&&0<w.length&&this.util.endsWith(w,".zip")?(this.uploadButton.set("disabled",!0),this.cancelButton.set("disabled",!0),V.style(V.byId("code_upload-waiting"),"display","inline-block"),this.doUpload()):this.errorLabelNode.innerHTML=this.i18n.fileZipFormat},doUpload:function(){if(null==this.item||null===this.item.id)this.uploadButton.set("disabled",
!1),this.cancelButton.set("disabled",!1),V.style(V.byId("code_upload-waiting"),"display","none");else{var w=this.fileInput.value,t=w.lastIndexOf("\\");-1<t&&(w=w.substring(t+1,w.length));if(this.codeAttachment){var l=this.codeAttachment.name.lastIndexOf(".");t=w.lastIndexOf(".");l=[this.codeAttachment.name.substring(0,l),this.codeAttachment.name.substring(l).toLowerCase()];w=[w.substring(0,t),w.substring(t).toLowerCase()];l[0]!==w[0]||l[1]!==w[1]?(arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateCodeError,
message:V.string.substitute(this.messageErrorUpdate,{fileName:this.codeAttachment.name})}),this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),V.style(V.byId("code_upload-waiting"),"display","none")):this._updateCodeItem()}else this._createCodeItem()}},_createCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.relationshipType.value="WMA2Code";"Mobile Application"===this.item.type&&(this.form.relationshipType.value=
"MobileApp2Code");this.form.originItemId.value=this.item.id;var w=this.fileInput.value,t=w.lastIndexOf("\\");-1<t&&(w=w.substring(t+1,w.length));this.fileName=w;this.form.title.value=w;w=this.form.title.value.lastIndexOf("\\");-1<w&&(this.form.title.value=this.form.title.value.substring(w+1,this.form.title.value.length));w=this.form.title.value.lastIndexOf("/");-1<w&&(this.form.title.value=this.form.title.value.substring(w+1,this.form.title.value.length));this.content.addItem(null,this.form,V.hitch(this,
this._handle_addItem),V.hitch(this,this._handle_addItem))}},_updateCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.overwrite.value="true";var w=this.fileInput.value,t=w.lastIndexOf("\\");-1<t&&(w=w.substring(t+1,w.length));this.fileName=w;this.form.title.value=w;this.content.updateItem(this.codeAttachment,this.form,V.hitch(this,this._handle_addItem),V.hitch(this,this._handle_addItem))}},_handle_addItem:function(w,t){var l=!1;
-1<t.url.indexOf("/status")&&(l=!0);if(!l&&w.success||l&&"completed"===w.status)this._lastUploaded=V.clone(w),this._lastUploaded.title=this._lastUploaded.name=this.form.title.value,this.onUpload(this._lastUploaded);else{l=this.i18n.attachementFailedUpload;w&&w.error&&w.error.message?l=w.error.message:w&&w.statusMessage&&(l=w.statusMessage);var f=this.i18n.cannotAddAttachment;-1<l.indexOf("already exists")?(l=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<l.indexOf("The request size is greater than the max allowed of 1024MB")&&
(l=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:l})}this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);V.style(V.byId("code_upload-waiting"),"display","none")},_handle_updateItem:function(w,t){if(w.success)this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),V.style(V.byId("code_upload-waiting"),"display","none"),this.hide();else{var l=this.i18n.attachementFailedUpload;
w&&w.error&&w.error.message&&(l=w.error.message);var f=this.i18n.cannotAddAttachment;-1<l.indexOf("already exists")?(l=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<l.indexOf("The request size is greater than the max allowed of 1024MB")&&(l=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:l});this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);V.style(V.byId("code_upload-waiting"),
"display","none")}},onUpload:function(w){}})})},"arcgisonline/sharing/dijit/dialog/ManageSceneCache":function(){define("require esri/declare esri/Evented esri/lang esri/request dojo/_base/lang dojo/on dojo/query dojo/topic dijit/a11yclick dojo/string dojo/promise/all dojo/json dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/Dialog ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/GeneralDlg ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/utils/number ../../../pages/serviceUtil ../../../pages/statusUtil ../../../sharing/util ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ManageSceneCache.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F){return L([m,e],{declaredClass:"arcgisonline.sharing.dijit.dialog.ManageSceneCache",basePath:V.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriManageSceneCache",templateString:F,widgetsInTemplate:!0,_serviceStartWait:5E3,postMixInProperties:function(){this.inherited(arguments);this.i18n=l.mixin({},D.common);l.mixin(this.i18n,D.manageSceneCache);l.mixin(this.i18n,{webScene:D.items.webScene,buildingCache:D.itemProperties.buildingCache})},
postCreate:function(){this.inherited(arguments);this._initHandlers()},startup:function(){this.inherited(arguments);var r=C.isPortal();r&&k.hideNode(this._sceneLayerSelectContainer);!r&&this._hasSource()?this._isBuildingSceneLayer()?this._rebuildLayersRadioClick():this._rebuildFullRadioClick():(r&&(k.hideNode(this._optionsContainer),k.showNode(this._portalOptionsContainer),k.checkNode(this._rebuildPortalFullRadio,!0),this._rebuildLayersRadioClick()),k.disableNode(this._rebuildFullRadio),this._rebuildLayersRadioClick())},
_initHandlers:function(){this.own(x(this._rebuildFullRadio,this._rebuildFullRadioClick.bind(this)),x(this._rebuildLayersRadio,this._rebuildLayersRadioClick.bind(this)),x(this._rebuildPartialRadio,this._rebuildLayersRadioClick.bind(this)),x(this._rebuildPortalFullRadio,this._rebuildLayersRadioClick.bind(this)),x(this._rebuildPortalPartialRadio,this._rebuildLayersRadioClick.bind(this)),x(this._rebuildPortalAttributesRadio,this._rebuildLayersRadioClick.bind(this)),x(this._rebuildAttributesRadio,this._rebuildLayersRadioClick.bind(this)),
x(this._rebuildBtn,this._rebuildClick.bind(this)),x(this._cancelBtn,this._cancelClick.bind(this)))},_hasSource:function(){return w.isDefined(this._item.sourceData)},_dialogHidden:function(){this._dialog&&this._dialog.destroyRecursive();this.destroyRecursive()},_fetchSourceItemAdminServiceInfo:function(){return C.request({url:this._featureServiceAdminUrl})},_rebuildFullRadioClick:function(){k.hideNode(this._sceneLayerSelectContainer);k.disableNode(this._rebuildBtn,!1)},_rebuildLayersRadioClick:function(){if(!C.isPortal()&&
this._canShowPartialRebuild){var r=k.isChecked(this._rebuildLayersRadio),A=k.isChecked(this._rebuildPartialRadio);if(r||A)g(".layer-checkbox",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");k.checkNode(G,r&&H);k.disableNode(G,H)}),g(".layer-label",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");G.classList[A&&H?"add":"remove"]("label-disabled")})}C.isPortal()||k.showNode(this._sceneLayerSelectContainer);this._checkBoxClick()},
_displayCreditCost:function(r,A,G){var H=C.isPortal(),J=B.self&&B.self.subscriptionInfo||{},O=(B.self&&B.self.user||{}).availableCredits||J.availableCredits||0;E({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(M){H?A():(this._sourceItem.set("adminServiceInfo",M.adminServiceInfo),q.fetchScenePublishingCredits(this._sourceItem,r).then(function(K){var U=this._fullRebuildInProgress?this.i18n.confirmFullProceed:this.i18n.confirmProceed;confirmMsg="\x3cp\x3e"+[this._fullRebuildInProgress?
this.i18n.confirmFullDesc:this.i18n.confirmDesc,u.substitute(this._fullRebuildInProgress?this.i18n.confirmFullCredits:this.i18n.confirmCredits,{credits:n.format(K),availableCredits:n.format(O)}),U].join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";confirmDlg=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});O<K&&confirmDlg.okButton.set("disabled",!0);confirmDlg.show({title:this.i18n.confirmTitle,message:confirmMsg}).then(function(Z){"onOk"===Z?A():G();confirmDlg.hide()}.bind(this))}.bind(this)))}.bind(this))},
_rebuildClick:function(){k.isChecked(this._rebuildFullRadio)&&this._hasSource()?this._rebuildFullCache():this._rebuildLayers()},_rebuildFullCache:function(){var r=this._item.owner,A=this._item.folderId,G=B.restBaseUrl+"content/users/"+r+"/"+(A&&A!==r?A+"/":"")+"publish";publishRequest={buildInitialCache:!1,itemid:this._item.sourceData.id,filetype:"featureService",publishParameters:z.stringify({name:this._item.name?this._item.name:this._item.title.replace(/ /g,"_"),targetSR:this._item.serviceInfo.layers[0].spatialReference}),
outputType:"sceneService",overwrite:!0};selectedLayers=[];rebuildFullFailure=function(H){d.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildFullError});k.deactivateNode(this._caching);k.disableNode(this._rebuildBtn,!1);k.showNodes([this._optionsContainer,this._buttonBar])}.bind(this);this._fullRebuildInProgress=!0;k.disableNode(this._rebuildBtn,!0);g(".layer-checkbox",this.domNode).map(function(H){k.checkNode(H,!0);selectedLayers.push({id:parseInt(H.getAttribute("data-layer-id"),
10)})});this._displayCreditCost(selectedLayers,function(){k.hideNodes([this._optionsContainer,this._buttonBar]);k.activateNode(this._caching);C.request({url:G,content:publishRequest},{usePost:!0}).then(function(H){H&&H.services&&0<H.services.length?(H=H.services.shift(),y.checkAsyncJobStatus(B.restBaseUrl+"content/users/"+r+"/items/"+H.serviceItemId+"/status?jobId\x3d"+H.jobId).then(function(J){setTimeout(function(){this._rebuildLayers();h.publish("manage-scene-cache/republish",J)}.bind(this),this._serviceStartWait)}.bind(this),
rebuildFullFailure)):rebuildFullFailure(H)}.bind(this),rebuildFullFailure)}.bind(this),function(){this._fullRebuildInProgress=!1;k.disableNode(this._rebuildBtn,!1)}.bind(this))},_rebuildLayers:function(){var r=B.self&&B.self.subscriptionInfo||{},A=(B.self&&B.self.user||{}).availableCredits||r.availableCredits||0,G=[],H=C.isPortal(),J,O,M;g(".layer-checkbox",this.domNode).map(function(K){k.isChecked(K)&&G.push({id:parseInt(K.getAttribute("data-layer-id"),10)})});0<G.length&&this._adminUrl&&(k.disableNode(this._rebuildBtn,
!0),E({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(K){if(H)this._submitPortalSceneCacheJob(G).then(function(ca){var fa=q.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/jobs/"+ca.jobId;ca.jobUrl=fa;h.publish("manage-scene-cache/rebuild",ca);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);d.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,
message:this.i18n.rebuildError})}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);d.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this));else{this._sourceItem.set("adminServiceInfo",K.adminServiceInfo);K=k.isChecked(this._rebuildPartialRadio);var U=this._rebuildAttributesRadio.checked,Z=this._adminUrl+(U?"/updateAttribute":K?"/updateCache":"/rebuildCache");this._fullRebuildInProgress?C.request({url:Z,content:{layers:G.map(function(ca){return ca.id},
this).join(",")}},{usePost:!0}).then(function(ca){h.publish("manage-scene-cache/rebuild",ca);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);k.deactivateNode(this._caching);k.showNodes([this._optionsContainer,this._buttonBar]);d.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):(K||U?this._isBuildingSceneLayer()?q.fetchPartialUpdateBuildingScenePublishingCredits(this._sourceItem,this._item,
G):q.fetchPartialUpdateScenePublishingCredits(this._sourceItem,this._item,G):q.fetchScenePublishingCredits(this._sourceItem,G,this._isBuildingSceneLayer())).then(function(ca){M=[this.i18n.confirmDesc,u.substitute(this.i18n.confirmCredits,{credits:n.format(ca),availableCredits:n.format(A)}),this.i18n.confirmProceed];O="\x3cp\x3e"+M.join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";J=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});A<ca&&J.okButton.set("disabled",
!0);J.show({title:this.i18n.confirmTitle,message:O}).then(function(fa){"onOk"===fa?C.request({url:Z,content:{layers:G.map(function(ka){return ka.id},this).join(",")}},{usePost:!0}).then(function(ka){h.publish("manage-scene-cache/rebuild",ka);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ka){k.disableNode(this._rebuildBtn,!1);d.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):k.disableNode(this._rebuildBtn,!1);J.hide()}.bind(this))}.bind(this))}}.bind(this)))},
_cancelClick:function(){this._dialog.hide()},_checkBoxClick:function(){var r=g(".layer-checkbox",this.domNode).some(function(A){return k.isChecked(A)});k.disableNode(this._rebuildBtn,!r)},_createLayerListDisplay:function(r,A){var G=p.create("div",{display:"table"},A);r&&0<r.length&&r.forEach(this._createLayerDisplay.bind(this,G))},_createLayerDisplay:function(r,A){var G=A.requiresRebuild&&!0===A.requiresRebuild?"true":"false",H=p.create("div",{display:"table-row"},r),J=p.create("div",{display:"table-cell"},
p.create("div",{display:"table-column"},H));H=p.create("div",{display:"table-cell"},p.create("div",{display:"table-column"},H));var O={id:u.substitute("layer-${id}-checkbox",{id:A.id}),"class":"layer-checkbox",type:"checkbox","data-layer-id":A.id,"data-rebuild-required":G};C.isPortal()&&(O.checked=!0);J=p.create("input",O,J);p.create("label",{"for":u.substitute("layer-${id}-checkbox",{id:A.id}),"class":"layer-label trailer-0",innerHTML:A.name,"data-rebuild-required":G},p.create("span",null,H));this.own(x(J,
this._checkBoxClick.bind(this)))},_getPortalUpdateMode:function(){return k.isChecked(this._rebuildPortalAttributesRadio)?"PARTIAL_UPDATE_ATTRIBUTES":k.isChecked(this._rebuildPortalPartialRadio)?"PARTIAL_UPDATE_NODES":"RECREATE_ALL_NODES"},_submitPortalSceneCacheJob:function(r){var A=1<r.length?r.map(function(H){return{id:H.id}}):{},G=this._getPortalUpdateMode();r=q.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/submitJob";
A={service_url:this._item.url,num_of_caching_service_instances:2,layer:z.stringify(A),update_mode:G,update_extent:"DEFAULT",area_of_interest:z.stringify({displayFieldName:"",geometryType:"esriGeometryPolygon",spatialReference:{wkid:54051,latestWkid:54051},fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID"},{name:"updateGeom_Length",type:"esriFieldTypeDouble",alias:"updateGeom_Length"},{name:"updateGeom_Area",type:"esriFieldTypeDouble",alias:"updateGeom_Area"}],features:[],exceededTransferLimit:!1}),
f:"json",token:this._item.serverToken};return t({url:r,content:A},{usePost:!0})},_isBuildingSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Building")},_isPointSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Point")},_is3DObjectsWithoutUpdateEnabled:function(){return-1<this._item.typeKeywords.indexOf("3DObject")&&!this._hasUpdateEnabled()},_hasUpdateEnabled:function(){return(this._item.serviceInfo.layers||[]).some(function(r){return r&&w.isDefined(r.updateEnabled)&&
!0===r.updateEnabled},this)},show:function(r,A,G){var H=C.isPortal();this._sourceItem=r;this._item=A;this._featureServiceUrl=r.url;this._featureServiceAdminUrl=H?A.url:r.url.replace("/rest/","/rest/admin/");this._adminUrl=A.adminUrl;this._adminServiceInfo=A.serviceInfo||{};this._hostedServer=G;this._canShowPartialRebuild=!H&&!this._isPointSceneLayer()&&!this._is3DObjectsWithoutUpdateEnabled()&&!this._isBuildingSceneLayer();this._dialog=new c({title:this.i18n.title,"class":this.baseClass});H||this._canShowPartialRebuild||
(k.hideNode(this._rebuildPartialContainer),k.hideNode(this._rebuildPartialAttrContainer));this._createLayerListDisplay(this._adminServiceInfo.layers,this._sceneLayerContainer);this._dialog.setContent(this.domNode);this.own(f(this._dialog,"hide",function(){this._dialogHidden()}.bind(this)));!H&&this._isBuildingSceneLayer()&&(k.hideNode(this._rebuildFullContainer),this._rebuildLayersRadio.checked=!0,this._rebuildLayersRadioClick());this._dialog.show()},hide:function(){this._dialog.hide()}})})},"arcgisonline/sharing/dijit/dialog/JobStatusDlg":function(){define("require exports tslib ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/date ../../../pages/utils/dom ../../../pages/utils/number ../../util ./SimpleDlg ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic esri/lang moment/moment dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JobStatusDlg.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);return function(){function k(n){this.templateString=d["default"];
this.i18n=v.__assign(v.__assign({},b["default"].common),b["default"].jobStatusDlg);this.linkToJobStatus=!0;this.STATUS_STARTED="Started";this.STATUS_IN_PROGRESS="InProgress";this.STATUS_FAILED="Failed";this.STATUS_COMPLETED="Completed";this.PORTAL_STATUS_STARTED="esriJobSubmitted";this.PORTAL_STATUS_IN_PROGRESS="esriJobExecuting";this.PORTAL_STATUS_FAILED="esriJobFailed";this.PORTAL_STATUS_COMPLETED="esriJobSucceeded";this.PORTAL_STATUS_CANCELLED="esriJobCancelled";this.PORTAL_STATUS_CANCELLING="esriJobCancelling";
this.PORTAL_STATUS_TIMED_OUT="esriJobTimedOut";this.PORTAL_STATUS_WAITING="esriJobWaiting"}k.prototype.postCreate=function(){this.inherited(arguments);this._initHandlers()};k.prototype.show=function(n,q,y,C,B){this._portal=n;this._portalUser=q;this._jobUrl=y;this._jobInfoUrl=C;this._initUI();this._populateStatus(B);this._dialog.show()};k.prototype.hide=function(){this._dialog.hide()};k.prototype._initUI=function(){var n=this._portal.isPortal;n||f["default"].hideNode(this._cancelJobBtn);this.linkToJobStatus||
(f["default"].hideNode(this._jobIdLinkContainer),f["default"].showNode(this._jobIdText));f["default"].showHide(this._jobAdminDetailsContainer,n&&this._portalUser.isOrgAdmin)};k.prototype._initHandlers=function(){this.own(m["default"](this._closeBtn,this._closeClick.bind(this)),m["default"](this._cancelJobBtn,this._cancelJobClick.bind(this)),e["default"].subscribe("job-status/refresh",this._populateStatus.bind(this)))};k.prototype._cancelJobClick=function(){var n=this,q=this._jobUrl.indexOf("?token\x3d");
q=-1<q?this._jobUrl.substr(0,q)+"/cancel"+this._jobUrl.substr(q):this._jobUrl+"/cancel";f["default"].disableNode(this._cancelJobBtn,!0);h["default"].request({url:q,content:{cancel:!0}},{usePost:!0}).then(function(y){if(!y||(null===y||void 0===y?0:y.code))w["default"].createSpecifiedDialog(x["default"],{title:n.i18n.errorTitle,content:n.i18n.cancelError}).show(),f["default"].disableNode(n._cancelJobBtn,!1)},function(y){w["default"].createSpecifiedDialog(x["default"],{title:n.i18n.errorTitle,content:n.i18n.cancelError}).show();
f["default"].disableNode(n._cancelJobBtn,!1)})};k.prototype._closeClick=function(){this.hide()};k.prototype._getStatusString=function(n){switch(n){case this.STATUS_STARTED:return this.i18n.started;case this.STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.STATUS_COMPLETED:return this.i18n.completed;case this.STATUS_FAILED:return this.i18n.failed;case this.PORTAL_STATUS_STARTED:return this.i18n.started;case this.PORTAL_STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.PORTAL_STATUS_FAILED:return this.i18n.failed;
case this.PORTAL_STATUS_COMPLETED:return this.i18n.completed;case this.PORTAL_STATUS_CANCELLED:return this.i18n.cancelled;case this.PORTAL_STATUS_CANCELLING:return this.i18n.cancelling;case this.PORTAL_STATUS_TIMED_OUT:return this.i18n.timedOut;case this.PORTAL_STATUS_WAITING:return this.i18n.waiting;default:return""}};k.prototype._getDurationString=function(n,q){if(n){var y=c["default"].isDefined(q)?n+q:Date.now(),C=a["default"](y).diff(a["default"](n),"seconds"),B=a["default"](y).diff(a["default"](n),
"minutes");y=a["default"](y).diff(a["default"](n),"hours");var D=void 0,F=void 0;if(60>C)return this.i18n.seconds.replace("${num}",g["default"].format(C));if(60>B)return D=this.i18n.minutes.replace("${num}",g["default"].format(B)),F=this.i18n.seconds.replace("${num}",g["default"].format(C-60*B)),D+" "+F;var r=this.i18n.hours.replace("${num}",g["default"].format(y));D=this.i18n.minutes.replace("${num}",g["default"].format(B-60*y));F=this.i18n.seconds.replace("${num}",g["default"].format(C-60*B));return r+
" "+D+" "+F}return""};k.prototype._getStartDateFromString=function(n){if(n=t["default"].find(null!==n&&void 0!==n?n:[],function(y){return"esriJobMessageTypeInformative"===y.type&&0===y.description.indexOf("Start Time: ")}))try{var q=n.description.substring(13).trim();return(new Date(q)).getTime()}catch(y){}return 0};k.prototype._getEndTimeFromString=function(n){if(n=t["default"].find(null!==n&&void 0!==n?n:[],function(C){return"esriJobMessageTypeInformative"===C.type&&0===C.description.indexOf("Succeeded at ")}))try{var q=
n.description.indexOf(" (Elapsed Time: "),y=n.description.substring(14,q).trim();return(new Date(y)).getTime()}catch(C){}};k.prototype._populateStatus=function(n){var q=this._portal.isPortal,y=this._portalUser.isOrgAdmin;if(n){this._statusInfo.classList.remove("hide");this._statusLoader.classList.remove("is-active");var C=(q?y?n.submittedTime:this._getStartDateFromString(n.messages):n.startTime)||0,B=q?C:1E3*C;C=n.messages?this._getEndTimeFromString(n.messages):void 0;var D=q?y?c["default"].isDefined(n.duration)&&
n.duration||void 0:C?C-B:void 0:c["default"].isDefined(n.totalTime)?1E3*n.totalTime:void 0;C=q&&!y?this._getStatusString(n.jobStatus):this._getStatusString(n.status);var F=l["default"].format(new Date(B),"day-short-month-year-long-time"),r=c["default"].isDefined(D)?l["default"].format(new Date(B+D),"day-short-month-year-long-time"):"";B=this._getDurationString(B,D);D=q&&y?n.machinename:"";y=q&&y?n.username:"";n=q?n.jobId:n.id;this._jobStatus.innerHTML=C;this._jobStartTime.innerHTML=F;this._jobDuration.innerHTML=
B;this._jobEndTime.innerHTML=r;this._jobMachine.innerHTML=D;this._jobUser.innerHTML=y;this._jobIdLink.href=this._jobInfoUrl;this._jobIdLink.innerHTML=n;this._jobIdText.textContent=n;n=t["default"].includes([this.i18n.completed,this.i18n.failed,this.i18n.cancelled,this.i18n.cancelling,this.i18n.timedOut],C);f["default"].disableNode(this._cancelJobBtn,n)}else this._statusInfo.classList.add("hide"),this._statusLoader.classList.add("is-active"),f["default"].disableNode(this._cancelJobBtn,!0)};return k=
v.__decorate([u["default"](z["default"],E["default"],p["default"])],k)}()})},"arcgisonline/sharing/dijit/dialog/SimpleDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(V,L,v){V.provide("arcgisonline.sharing.dijit.dialog.SimpleDlg");V.require("dijit.Dialog");V.require("dijit.form.Button");V.require("dijit._Widget");V.require("dijit._Templated");V.declare("arcgisonline.sharing.dijit.dialog.SimpleDlg",[L._Widget,L._Templated],
{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"dialog" title\x3d"${title}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e${!content}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick: hide" class\x3d"primary" type\x3d"button"\x3e${i18n.ok}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
postMixInProperties:function(){this.inherited(arguments);this.i18n=V.i18n.getLocalization("arcgisonline","arcgisonline").common},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()}})})},"arcgisonline/sharing/dijit/AppendData":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/UploadProgressBar ../../pages/utils/arrays ../../pages/utils/clone ../../pages/utils/dom ../../pages/utils/strings ../../sharing/util ./AppendData/FieldTableRow ./AppendData/_canMatchFields ./dialog/ConfirmDialog ./dialog/_CreateItemUtilMixin ../../sharing/geow/Item dijit/_TemplatedMixin dijit/_WidgetBase dojo/on dojo/topic dojo/Deferred dojo/promise/all esri/lang dojo/i18n!../../nls/arcgisonline dojo/text!../../pages/dijit/View/templates/loader.html dojo/text!./AppendData/templates/_appendData.html dojo/text!./AppendData/templates/_table-row.html ../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importDefault(F);return function(){function r(A,G){this.templateString=B["default"];this.i18n=y["default"];this.baseClass="appendData";this.dijits=[];this.supportedItemTypes=[{value:"Shapefile",innerHTML:y["default"].addItemFrm.typeShapefile,regex:"(.zip$)",fileType:"shapefile",extension:"zip",appendUploadFormat:"shapefile"},{value:"File Geodatabase",innerHTML:y["default"].addItemFrm.itemFileGeodatabase,
regex:"(.zip$)",fileType:"fileGeodatabase",extension:"zip",appendUploadFormat:"filegdb"},{value:"CSV",regex:"(.csv$)",fileType:"csv",appendUploadFormat:"csv",extension:"csv"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xls"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xlsx"},{value:"GeoJson",regex:"(.geojson$)",fileType:"geojson",appendUploadFormat:"geojson",extension:"geojson"}];
this.supportedFilesRegEx="(.zip$|.csv$|.xls$|.xlsx$|.geojson$)";this.noneField={value:"__none",displayName:y["default"].appendDataDlg.none,name:y["default"].appendDataDlg.none,type:"none"};this.longitudeField={value:"longitude",displayName:y["default"].addItemFrm.locationTypes.longitude,name:"longitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"longitude"};this.latitudeField={value:"latitude",displayName:y["default"].addItemFrm.locationTypes.latitude,
name:"latitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"latitude"};this.sortHandlers=[]}r.prototype.postMixInProperties=function(){var A;this.inherited(arguments);this.serviceUrl=this.item&&this.item.url;this.portal=this.portal||(null===(A=this.item)||void 0===A?void 0:A.portal)||(null===w["default"]||void 0===w["default"]?void 0:w["default"].self)||{};this.user=this.user||this.portalUser||(this.portal.getPortalUser?this.portal.getPortalUser():this.portal.portalUser)||
{};this.serviceLayers=this.layer?g["default"]([this.layer||this.layerInfo]):g["default"](this.layers||[this.layer||this.layerInfo]);this._layerInfo=this.layer||this.layerInfo||this.serviceLayers&&this.serviceLayers.length?this.serviceLayers[0]:null;this.serviceInfo=this.item&&this.item.serviceInfo||{};this.adminServiceInfo=this.item&&this.item.adminServiceInfo||{};this.capabilities=this.portal.isPortal&&!this.item.isSDS?x["default"].stringToArray(this.serviceInfo.capabilities,",",!0):x["default"].stringToArray(this.adminServiceInfo.capabilities||
"",",",!0);this.changeTrackingEnabled=f["default"].includes(this.capabilities,"ChangeTracking");this.syncEnabled=this.serviceInfo.syncEnabled||!1};r.prototype.postCreate=function(){this.inherited(arguments);var A=this.domNode.querySelector(".js-analyze-loader-wrap");A.innerHTML=C["default"].replace("${location}","");this.uploadProgressBar=new l["default"]({});this.uploadProgressBar.startup();this.uploadProgressBar.hide();A.appendChild(this.uploadProgressBar.domNode);this.portal.isPortal&&(this.supportedItemTypes.splice(1,
1),this.step1Bullet4.innerText=y["default"].appendDataDlg.messageStep1Bullet4Portal);this.sortHeader=this.sortHeader.bind(this)};r.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};r.prototype.destroy=function(){var A=this;this.inherited(arguments);d["default"].publish("cancel-item-upload");this.deleteItem().then(function(){A.dijits.forEach(function(G){G.destroy()});A.sortHandlers.forEach(function(G){G.remove()});A.sortHandlers=
[];A.dijits=[]})};r.prototype.show=function(){var A,G,H,J=(null===(A=this.portal.helpMap)||void 0===A?void 0:A.m["120001300"])||"share-maps/manage-hosted-feature-layers.htm#ESRI_SECTION1_E2F5EF6240F246EBA5D238968B63BF97";this.dlg=new p["default"]({title:y["default"].appendDataDlg.title,buttonOkLabel:y["default"].appendDataDlg.uploadBtn,buttonCancelLabel:y["default"].common.cancel,helpLinkInfo:{title:y["default"].appendDataDlg.helpLinkTitle,url:""+this.portal.helpBase+J}});this.dlg.setContent(this.domNode);
this.dlg.show();this.okBtn=null===(G=this.dlg)||void 0===G?void 0:G.okButton;null===(H=this.okBtn)||void 0===H?void 0:H.set("disabled",!0);this.own(b["default"](this.dlg,"ok",this.processStep.bind(this)));return this.dlg};r.prototype.hide=function(){var A;null===(A=this.dlg)||void 0===A?void 0:A.hide();b["default"].emit(this,"hide",{bubbles:!0,cancelable:!0})};r.prototype.processStep=function(){var A=this,G=new k["default"];this.isStep1?this.uploadData().then(this.analyze.bind(this)).then(this.addLayerInfo.bind(this)).then(this.validateLayers.bind(this),
function(H){A.showError(H)}).then(this.showStep2.bind(this),function(H){A.showError(H)}).then(function(H){G.resolve(H)},function(H){A.showStep1()}):this.appendDataLayer().then(function(H){A.done();G.resolve(H)},function(H){A.showStep2();A.showError(H)});return G};r.prototype._setItemAttr=function(A){this.item=A};r.prototype._setReadOnlyAttr=function(A,G){var H=A?"add":"remove";d["default"].publish("/esri/disable",A," ");h["default"].querySelectorAllAsArray(".append-data",this.domNode).forEach(function(J){J.classList[H]("disabled")});
A?this.showLoader(G||this.i18n.common.pleaseWait):this.hideLoader()};r.prototype.setSelectedSourceType=function(){this.selectedSourceType=this.findSupportedType(this.supportedTypes.options[this.supportedTypes.selectedIndex].dataset.fileType)};r.prototype.getFieldMappings=function(){var A=this,G=this.fromField.value,H=this.toField.value,J=this.dijits.map(function(O){return O.field}).filter(function(O){return O.matchField&&"__none"!==O.matchField.value}).map(function(O){return{source:O.matchField&&
O.matchField.name,name:O.name}});this.updateExistingFeatures.checked&&"__none"!==H&&(J=J.filter(function(O){return O.name!==A.fromField.value&&O.name!==A.toField.value}),J.push({source:H,name:G}));return(null===J||void 0===J?0:J.length)?J:null};r.prototype.getAppendFields=function(A){return(((null===A||void 0===A?0:A.length)?A:this.getFieldMappings())||[]).filter(function(G){return null===G||void 0===G?void 0:G.name}).map(function(G){return G.name})};r.prototype.getAppendParams=function(){var A=this.selectedSourceType.appendUploadFormat,
G=this.updateExistingFeatures.checked,H=this.fromField.options[this.fromField.selectedIndex];H=this.findField({name:H.dataset.value,type:H.dataset.type},this.layerFields);var J=this.getSelectedDataLayer(),O=this.getFieldMappings();A={sourceTableName:J.name,fieldMappings:(null===O||void 0===O?0:O.length)?JSON.stringify(O):null,upsert:G,skipUpdates:!1,useGlobalIds:G&&"esriFieldTypeGlobalID"===(null===H||void 0===H?void 0:H.type),skipInserts:G?this.skipInserts.checked:!1,updateGeometry:G?this.updateGeometry.checked:
!0,appendFields:JSON.stringify(this.getAppendFields()),appendItemId:this.uploadedItem.id,appendUploadFormat:A,rollbackOnFailure:!0};!this.selectedSourceType||"csv"!==this.selectedSourceType.fileType&&"excel"!==this.selectedSourceType.fileType||(A=v.__assign(v.__assign({},A),{appendSourceInfo:JSON.stringify(this.getAnalyzeParameters())}));if(null===H||void 0===H?0:H.isUniqueIndex)A.upsertMatchingField=H.name;return A};r.prototype.getSelectedDataLayer=function(){var A=parseInt(this.dataLayersSelect.value,
10);var G=(this.dataLayers||[]).filter(function(H){return H.excelSheetId===A||H.id===A});return(null===G||void 0===G?0:G.length)?G.shift():{}};r.prototype.getSelectedServiceLayer=function(){var A=parseInt(this.serviceLayersSelect.value,10);return this.findLayer(""+A,this.serviceLayers||[])};r.prototype.getFormData=function(){var A=this.fileInput.files[0],G=(null===A||void 0===A?void 0:A.name)||"",H=this.selectedSourceType.value,J=G.substr(0,G.indexOf("."))+"_agotmp"+G.substr(G.indexOf(".")),O=new FormData;
O.append("type",H);O.append("title",J);O.append("file",A,J);this.origFilename=G;this.sourceTitle=J;return O};r.prototype.getAnalyzeParameters=function(){var A=g["default"](this.analyzeResults),G=this.findLocationField("longitude"),H=this.findLocationField("latitude"),J=A.publishParameters.locationType;G=G&&"__none"!==G.value?G.name:A.publishParameters.longitudeFieldName;H=H&&"__none"!==H.value?H.name:A.publishParameters.latitudeFieldName;G&&H?(A.publishParameters.locationType="coordinates",A.publishParameters.latitudeFieldName=
H,A.publishParameters.longitudeFieldName=G):"coordinates"!==J&&(A.publishParameters.locationType="none");return A.publishParameters};r.prototype.addEventListeners=function(){var A=new k["default"];this.own(b["default"](this.showFieldMatchingLink,"click",this.showFieldMatching.bind(this)),b["default"](this.updateExistingFeatures,"change",this.updateExistingFeaturesChange.bind(this)),b["default"](this.fileInput,"change",this.onFileChange.bind(this)),b["default"](this.fromField,"change",this.onFromFieldChange.bind(this)),
b["default"](this.toField,"change",this.onToFieldChange.bind(this)),b["default"](this.serviceLayersSelect,"change",this.onServiceLayerChange.bind(this)),b["default"](this.dataLayersSelect,"change",this.onDataLayerChange.bind(this)),b["default"](this.supportedTypes,"change",this.setSelectedSourceType.bind(this)));A.resolve();return A};r.prototype.sortHeader=function(A){var G=A.target;A=G.dataset.sort;var H=G.classList.contains("is-ascending")||G.classList.contains("is-descending");G=G.dataset.sortOrder;
H&&(G="asc"===G?"desc":"asc");this.sortUpdate({property:A,ascending:"asc"===G})};r.prototype.sortUpdate=function(A){var G=this,H=this.domNode.querySelector(".js-table-rows"),J=this.noneField,O=this.getUIDField(),M=this.updateExistingFeatures.checked,K=this.getSelectedDataLayer(),U=(K.fields||[this.noneField]).sort(function(ma,ra){return ma.name.localeCompare(ra.name)}),Z=this.layerFields,ca={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},fa={portal:this.portal,template:D["default"],dataLayerFields:U,
addressFields:K.addressFields};this.currentSort=A=A||this.currentSort;(null===U||void 0===U?0:U.length)&&"__none"!==U[0].value&&U.unshift(J);var ka=A.ascending?"is-ascending":"is-descending";h["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ma){ma.classList.remove("is-descending");ma.classList.remove("is-ascending");ma.setAttribute("aria-sort","none")});h["default"].querySelectorAllAsArray(".js-table-sort-header[data-sort\x3d'"+A.property+"']",this.domNode).forEach(function(ma){ma.classList.add(ka);
ma.setAttribute("aria-sort",A.ascending?"ascending":"descending");ma.dataset.sortOrder=A.ascending?"asc":"desc"});this.sortTitle("matchField"===A.property?this.matchFields||[]:this.layerFields||[],A);this.sortHandlers.forEach(function(ma){ma.remove()});this.sortHandlers=[];h["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(ma){G.sortHandlers.push(b["default"](ma,"click",G.sortHeader.bind(G)))});this.dijits.forEach(function(ma){ma.destroy()});this.dijits=[];
Z.forEach(function(ma){ma.type in ca||!ma.editable||M&&ma.name===O.name||(ma=new E["default"](v.__assign(v.__assign({},fa),{field:ma})),ma.startup(),ma.placeAt(H),G.dijits.push(ma))})};r.prototype.sortTitle=function(A,G){return null===A||void 0===A?void 0:A.sort(function(H,J){return G.ascending?H.name.localeCompare(J.name):J.name.localeCompare(H.name)})};r.prototype.showStep1=function(){var A=this,G=new k["default"],H=this.okBtn;this.fillSupportedTypes().then(function(){h["default"].hideNode(A.step2);
h["default"].showNode(A.step1);A.isStep1=!0;null===H||void 0===H?void 0:H.set("label",y["default"].appendDataDlg.uploadBtn);A.set("readOnly",!1);G.resolve(!0)});return G};r.prototype.showStep2=function(){var A=this,G=new k["default"];n["default"]({serviceLayers:this.fillServiceLayers(this.serviceLayers),dataLayers:this.fillDataLayers(this.dataLayers)}).then(function(){var H=A.getSelectedDataLayer(),J=A.getSelectedServiceLayer();A.updateFields(J,H).then(function(){G.resolve(!0)})});return G};r.prototype.updateFields=
function(A,G){var H=this,J=new k["default"],O=this.okBtn,M="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,K=this.selectedFile||this.uploadedItem&&this.uploadedItem.title||this.sourceTitle||"",U=this.syncEnabled||this.changeTrackingEnabled,Z=G&&G.geometryType,ca=A&&A.geometryType,fa=ca?!0:!1,ka,ma,ra;n["default"]({serviceLayerFields:this.fillServiceLayerFields(A,G),dataLayerFields:this.fillDataLayerFields(A,G),fieldMatching:this.fillFieldMatching(A,G)}).then(function(){h["default"].hideNode(H.step1);
h["default"].showNode(H.step2);if(U){if(ca!==Z&&ca&&("esriGeometryPoint"!==ca||M||Z)){H.showError({message:y["default"].appendDataDlg.noMatchingSelectedLayerType});return}ka=!0}else ca===Z?ka=ma=ra=!0:ca&&("esriGeometryPoint"!==ca||M||Z)?ra=!0:ka=ma=ra=!0;H.domNode.querySelector(".js-updateFeatures-container").classList.add("hide");h["default"].showHideAll(h["default"].querySelectorAllAsArray(".js-updateGeometry",H.domNode),fa);H.updateExistingFeatures.checked=ma||ra||!1;!ma&&ka?h["default"].querySelectorAllAsArray(".js-updateFeatures, .js_attributesOnly",
H.domNode).forEach(function(za){za.classList.add("disabled")}):(h["default"].querySelectorAllAsArray(".js-updateFeatures",H.domNode).forEach(function(za){za.classList.remove("disabled")}),h["default"].querySelectorAllAsArray(".js-attributesOnly",H.domNode).forEach(function(za){za.classList[!ma&&ra?"add":"remove"]("disabled")}));H.updateExistingFeaturesChange();H.updateGeometry.checked=!1;H.skipInserts.checked=!ka&&(ma||ra)||!1;H.toField.value="__none";H.isStep1=!1;H.appendDataLabel.innerHTML=y["default"].appendDataDlg.chooseLayer.replace("${fileName}",
K);null===O||void 0===O?void 0:O.set("label",y["default"].appendDataDlg.applyUpdatesBtn);H.set("readOnly",!1);J.resolve(!0)});return J};r.prototype.updateLayerDataUpdatedDate=function(){var A=this.item,G=this._layerInfo,H=(new Date).getTime();G&&(G.editingInfo=G.editingInfo||{},G.editingInfo.lastEditDate=H,A.layers&&(A=A.layers[G.id],A.editingInfo=A.editingInfo||{},A.editingInfo.lastEditDate=H))};r.prototype.done=function(){var A=this;this.deleteItem().then(function(){A.updateLayerDataUpdatedDate();
d["default"].publish("append/done",{type:"success"});A.set("readOnly",!1);d["default"].publish("alert/show",{type:"success",text:y["default"].appendDataDlg.updateSuccess});A.hide()})};r.prototype.showFieldMatching=function(A){A="true"===this.showFieldMatchingLink.dataset.value;this.showFieldMatchingLink.dataset.value=A?"false":"true";this.showFieldMatchingLink.innerHTML=A?y["default"].appendDataDlg.showFieldMatching:y["default"].appendDataDlg.hideFieldMatching;h["default"].showHide(this.fieldMatching,
!A)};r.prototype.updateExistingFeaturesChange=function(A){var G=this.updateExistingFeatures.checked?"remove":"add";h["default"].querySelectorAllAsArray(".js-updateFeatures-container",this.domNode).forEach(function(H){H.classList[G]("hide")});this.sortUpdate()};r.prototype.onFileChange=function(A){A=this.fileInput.files[0];A=(null===A||void 0===A?void 0:A.name)||"";var G=A.split(".").pop(),H=(new RegExp(this.supportedFilesRegEx,"i")).test(A),J="zip"===(null===G||void 0===G?void 0:G.toLowerCase());
this.selectedSourceType=this.findSupportedType(J?"shapefile":G);this.selectedFile=A;h["default"].showHide(this.zipSelect,H&&J&&!this.portal.isPortal);this.okBtn.set("disabled",!H)};r.prototype.onFromFieldChange=function(A){A=(null===A||void 0===A?void 0:A.target)||{};var G=A.options[A.selectedIndex],H=this.getSelectedDataLayer(),J=this.getSelectedServiceLayer();G={name:G.dataset.value,type:G.dataset.type};var O=this.findField(G,this.layerFields),M=this.findField({name:A.dataset.prevValue,type:A.dataset.prevType},
this.layerFields);this.uidField=G;O.type!==M.type&&this.fillDataLayerFields(J,H);"__none"===O.value&&(this.toField.value="__none");A.dataset.prevValue=A.value;A.dataset.prevType=A.type;this.sortUpdate()};r.prototype.onToFieldChange=function(A){A=(null===A||void 0===A?void 0:A.target)||{};A=A.options[A.selectedIndex];A=this.findField({name:A.dataset.value,type:A.dataset.type},this.layerFields);d["default"].publish("appendData/fieldChanged",A)};r.prototype.onServiceLayerChange=function(){this.showStep2()};
r.prototype.onDataLayerChange=function(){var A=this.getSelectedDataLayer(),G=this.getSelectedServiceLayer();this.updateFields(G,A)};r.prototype.render=function(){var A=new k["default"];n["default"]([this.showStep1()]).then(function(){A.resolve(!0)});return A};r.prototype.showLoader=function(A){var G=this.domNode.querySelector(".analyze-loader-wrap .loader");h["default"].showNode(this.domNode.querySelector(".analyze-loader-wrap"));h["default"].activateNode(G);if(G=G.querySelector(".loader-text"))G.innerHTML=
A};r.prototype.hideLoader=function(){h["default"].hideNode(this.domNode.querySelector(".analyze-loader-wrap"));h["default"].deactivateNode(this.domNode.querySelector(".analyze-loader-wrap .loader"))};r.prototype.clearSelect=function(A){if(null===A||void 0===A?0:A.options)for(var G=A.options.length-1;0<=G;G--)A.remove(G)};r.prototype.fillSupportedTypes=function(){var A=this,G=new k["default"],H;this.supportedItemTypes.forEach(function(J){J.innerHTML&&(H=document.createElement("option"),H.dataset.value=
J.value,H.dataset.validate=J.regex||"",H.dataset.fileType=J.fileType,H.dataset.appendUploadFormat=J.appendUploadFormat,H.value=J.value,H.innerHTML=J.innerHTML,A.supportedTypes.add(H))});G.resolve(!0);return G};r.prototype.fillServiceLayers=function(A){var G=this,H,J,O;A=new k["default"];if(null===(J=null===(H=this.serviceLayersSelect)||void 0===H?void 0:H.options)||void 0===J?0:J.length)A.resolve(this.serviceLayers);else{H=this.serviceLayers||[];var M;this.clearSelect(this.serviceLayersSelect);(null===
H||void 0===H?0:H.length)&&H.forEach(function(K){M=document.createElement("option");M.dataset.value=K.id;M.value=K.id;M.innerHTML=K.name;G.serviceLayersSelect.add(M)});h["default"].showHide(this.serviceLayersContainer,1<(null===(O=this.layers)||void 0===O?void 0:O.length));A.resolve(H)}return A};r.prototype.fillDataLayers=function(A){var G=this,H,J=new k["default"];A=A||this.dataLayers||[];this.clearSelect(this.dataLayersSelect);A.forEach(function(M){var K=""+(q["default"].isDefined(M.excelSheetId)?
parseInt(M.excelSheetId,10):parseInt(M.id,10)),U=document.createElement("option");U.dataset.value=K;U.value=K;U.innerHTML=M.name;G.dataLayersSelect.add(U)});if(this.dataLayersSelect.options&&!this.dataLayersSelect.options.length){var O=document.createElement("option");O.dataset.value=this.noneField.value;O.value=this.noneField.value;O.innerHTML=this.noneField.name;this.dataLayersSelect.add(O)}h["default"].showHide(this.dataLayersContainer,1<(null===(H=this.analyzeResultLayers)||void 0===H?void 0:
H.length));this.dataLayers=A;J.resolve(A);return J};r.prototype.fillServiceLayerFields=function(A,G){var H=this,J=new k["default"],O=this.noneField,M=g["default"](A.indexes||[]),K=this.getUIDField(A),U={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},Z=g["default"](A.fields||[]),ca;this.clearSelect(this.fromField);M.filter(function(fa){return null===fa||void 0===fa?void 0:fa.isUnique}).forEach(function(fa){var ka;ca=(null===(ka=fa.fields)||void 0===ka?void 0:ka.split(","))||[];ca.forEach(function(ma){Z.some(function(ra){return ra.name.toLowerCase()===
ma.toLowerCase()?ra.isUniqueIndex=!0:!1})})});"Table"===A.type||!this.selectedSourceType||"excel"!==this.selectedSourceType.fileType&&"csv"!==this.selectedSourceType.fileType||((M=this.findField(this.longitudeField,Z))&&"__none"!==M.value||Z.push(g["default"](this.longitudeField)),(M=this.findField(this.latitudeField,Z))&&"__none"!==M.value||Z.push(g["default"](this.latitudeField)));this.layerFields=g["default"](Z||[]);Z=Z.filter(function(fa){return fa.type&&fa.type in U||fa.isUniqueIndex}).sort(function(fa,
ka){return fa.name.localeCompare(ka.name)});Z.unshift(O);Z.forEach(function(fa){var ka=document.createElement("option");ka.dataset.value=fa.value||fa.name||null;ka.dataset.type=fa.type||null;ka.value=fa.value||fa.name||null;ka.innerHTML=fa.displayName||fa.name;H.fromField.add(ka)});this.fromField.value=(null===K||void 0===K?void 0:K.value)||"__none";this.fromField.dataset.type=(null===K||void 0===K?void 0:K.value)||"__none";this.fromField.dataset.prevValue=this.fromField.value;this.fromField.dataset.prevType=
this.fromField.type;J.resolve(Z);return J};r.prototype.fillDataLayerFields=function(A,G){var H=this,J,O=new k["default"],M=this.noneField,K=G&&G.fields?g["default"](G.fields):[],U=this.getUIDField(A);K=this.filterAllowedFields(K,U).sort(function(Z,ca){return Z.name.localeCompare(ca.name)});U=this.findField(U,K);this.clearSelect(this.toField);(null===K||void 0===K?0:K.length)&&"__none"!==K[0].value?K.unshift(M):K=[M];K.forEach(function(Z){var ca=document.createElement("option");ca.dataset.value=Z.value||
Z.name||null;ca.dataset.type=Z.type||null;ca.value=Z.value||Z.name||null;ca.innerHTML=Z.displayName||Z.name;H.toField.add(ca)});this.toField.value="__none"!==(null===U||void 0===U?void 0:U.value)?U.name||"__none":"__none";this.toField.disabled="__none"===this.fromField.value||2>(null===(J=this.toField.options)||void 0===J?void 0:J.length);O.resolve(K);return O};r.prototype.filterAllowedFields=function(A,G){var H=A.filter(function(J){return z["default"](G,J)});return(null===H||void 0===H?0:H.length)?
H:[]};r.prototype.fillFieldMatching=function(A,G){var H=new k["default"];this.sortUpdate({property:"title",ascending:!0});H.resolve(!0);return H};r.prototype.addLayerInfo=function(A){var G=new k["default"],H=(null===A||void 0===A?0:A.publishParameters)?g["default"](A.publishParameters):{};A=(H.layers||[H.layerInfo]).map(function(J){var O=J.locationType||H.locationType||null;J.geometryType=J.geometryType||("coordinates"===O?"esriGeometryPoint":null)||null;J.addressFields=J.addressFields||H.addressFields||
("coordinates"===O?{longitudeFieldName:J.longitudeFieldName||H.longitudeFieldName,latitudeFieldName:J.latitudeFieldName||H.latitudeFieldName}:{});return J});G.resolve(A);return G};r.prototype.validateLayers=function(A){var G=new k["default"],H="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,J=this.syncEnabled||this.changeTrackingEnabled?this.layers.filter(function(O){return A.some(function(M){return M.geometryType===O.geometryType||!O.geometryType||"esriGeometryPoint"===
O.geometryType&&!H&&!M.geometryType})}):this.layers;J&&J.length?(this.analyzeResultLayers=g["default"](A),this.dataLayers=g["default"](A),this.serviceLayers=g["default"](J),G.resolve(this.analyzeResults)):G.reject({message:y["default"].appendDataDlg.noMatchingLayerType});return G};r.prototype.getUIDField=function(A){var G=this.uidField||null;if(!G){var H=A.globalIdField;A=(A.fields||[]).filter(function(J){return J.name===H});G=this.uidField=(null===A||void 0===A?0:A.length)?A.shift():this.noneField}return G};
r.prototype.findField=function(A,G){var H=(G||[]).filter(function(J){return J.type===A.type&&J.name.toLowerCase()===A.name.toLowerCase()});return(null===H||void 0===H?0:H.length)?H.shift():this.noneField};r.prototype.findLocationField=function(A){var G=this.dijits.map(function(H){return H.field}).filter(function(H){return H.name.toLowerCase()===A.toLowerCase()&&H.matchField});return(null===G||void 0===G?0:G.length)?G.shift().matchField:null};r.prototype.findLayer=function(A,G){return t["default"].findLayer(A,
G||[])};r.prototype.findSupportedType=function(A){var G=(this.supportedItemTypes||[]).filter(function(H){return H.fileType===A||H.extension.toLowerCase()===A.toLowerCase()});return(null===G||void 0===G?0:G.length)?G.shift():null};r.prototype.uploadData=function(A){var G=this,H;A=A||new k["default"];var J=null===(H=this.item)||void 0===H?void 0:H.owner;H=this.getFormData();var O={owner:J,folderId:void 0,fileName:this.sourceTitle,fileType:this.selectedSourceType.value};this._setReadOnlyAttr(!0,y["default"].appendDataDlg.uploadProgress);
this.uploadProgressBar.reset();this.uploadProgressBar.show();e["default"].addItem(O,H,this.fileInput.files[0]).then(function(M){G.uploadProgressBar.hide();if(M&&M.success){var K={title:O.fileName,type:O.fileType,folderId:""};G.uploadedItem=v.__assign(v.__assign(v.__assign({},M),K),{title:G.sourceTitle});M.isMultipart?(M.statusUrl=e["default"]._getActionItemUrl(O,"status"),G._setReadOnlyAttr(!0,y["default"].addItemFrm.checkingStatus),G.checkStatus(M).then(function(){G.set("readOnly",!1);A.resolve(M)})):
A.resolve(M)}else A.reject(M)},function(M){G.uploadProgressBar.hide();M&&409!==M.code?G.showError(M):G.deleteExistingTempItem(G.sourceTitle).then(function(){G.uploadData(A)},function(K){G.showError(M)})});return A};r.prototype.analyze=function(A){var G=this,H=new k["default"];A=v.__assign({fileType:this.selectedSourceType.fileType},A);this._setReadOnlyAttr(!0,y["default"].appendDataDlg.analyzeProgress);m["default"].analyzeItem(A,{enableGlobalGeocoding:!1},this.portal).then(function(J){G.analyzeResults=
J;H.resolve(J)},function(J){H.reject(J)});return H};r.prototype.appendDataLayer=function(){var A,G=new k["default"],H=this.getSelectedServiceLayer(),J=this.analyzeResults||{},O=(null===(A=J.publishParameters)||void 0===A?void 0:A.locationType)||"none";A=this.serviceUrl+"/"+H.id+"/append";var M=this.getAppendParams(),K=this.findLocationField("longitude")||{},U=this.findLocationField("latitude")||{},Z=this.updateExistingFeatures.checked;if(Z&&("__none"===this.fromField.value||"__none"===this.toField.value))return G.reject({message:y["default"].appendDataDlg.noUIDFieldMapping}),
G;if(!(!J.publishParameters||"csv"!==J.publishParameters.type&&"excel"!==J.publishParameters.type||"esriGeometryPoint"!==H.geometryType||"none"!==O&&"address"!==O||Z&&!M.updateGeometry||"__none"!==K.value&&"__none"!==U.value))return G.reject({message:y["default"].appendDataDlg.noLocationFields}),G;M.fieldMappings?(this._setReadOnlyAttr(!0,y["default"].appendDataDlg.applyProgress),u["default"].request({url:A,content:M},{usePost:!0}).then(this.checkStatus.bind(this),function(ca){G.reject(ca)}).then(function(ca){G.resolve(ca)})):
G.reject({message:y["default"].appendDataDlg.noMatchingFields});return G};r.prototype.checkStatus=function(A,G,H){var J=this,O=null===A||void 0===A?void 0:A.statusUrl,M=H||new k["default"],K=G||500;u["default"].request({url:O}).then(function(U){var Z,ca;U=U||{status:"completed"};"completed"===(null===(Z=U.status)||void 0===Z?void 0:Z.toLowerCase())?M.resolve(!0):"failed"===(null===(ca=U.status)||void 0===ca?void 0:ca.toLowerCase())||400<U.code||""===U.status?J.showError(U):(K=(K||500)+250,setTimeout(function(){J.checkStatus(A,
K,M)},G))},function(U){J.showError(U)});return M};r.prototype.deleteItem=function(){var A=this,G,H=new k["default"],J=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.uploadedItem?J.deleteItems([this.uploadedItem]).then(function(){A.uploadedItem=null;H.resolve(!0)},function(){A.uploadedItem=null;H.resolve(!0)}):H.resolve(!0);return H};r.prototype.deleteExistingTempItem=function(A){var G,H=new k["default"],J=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.portal.queryItems("title:"+
A).then(function(O){var M;(null===(M=null===O||void 0===O?void 0:O.items)||void 0===M?0:M.length)?J.deleteItems([O.items.shift()]).then(function(){H.resolve(!0)},function(){H.resolve(!0)}):H.resolve(!1)});return H};r.prototype.showError=function(A){var G=this,H=v.__assign(v.__assign({},y["default"].publishWizard.errors.error),A);A=A&&(A.statusMessage||A.message||"");-1<A.indexOf("Invalid Shapefile")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidShapefile.message):
-1<A.indexOf("Invalid File Geodatabase")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidFileGeodatabase.message):-1<A.indexOf("Object reference not set to")?H.message=q["default"].substitute({name:this.origFilename},this.i18n.appendDataDlg.error):-1<A.indexOf("Duplicate field names are not allowed")?H.message=this.i18n.common.errors.duplicateFields:-1<A.indexOf("Must specify data to be analyzed")&&(H.message=this.i18n.appendDataDlg.specifyData);this.errorDlg=
new p["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this.errorDlg.show(H).then(function(){G.set("readOnly",!1);G.errorDlg.hide()});return!1};return r=v.__decorate([F["default"](a["default"],c["default"])],r)}()})},"arcgisonline/sharing/dijit/AppendData/FieldTableRow":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/formatters ./_canMatchFields ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/_table-row.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);return function(){function e(c,a){this.i18n=m["default"];this.noneField={value:"__none",name:m["default"].appendDataDlg.none}}e.prototype.postMixInProperties=function(){var c=this;this.inherited(arguments);
Object.keys(t["default"]).forEach(function(a){c[a]=t["default"][a]});this.portal=this.portal||(null===w["default"]||void 0===w["default"]?void 0:w["default"].self)||{};this.portalUser=this.portalUser||this.user||this.portal.portalUser||{};this.templateString=this.template||p["default"];this.displayName=this.field.displayName||this.field.name};e.prototype.postCreate=function(){var c=this,a;this.inherited(arguments);null===(a=this.cssClasses)||void 0===a?void 0:a.forEach(function(b){c.domNode.classList.add(b)})};
e.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};e.prototype.setValue=function(c){c=(null===c||void 0===c?void 0:c.matchField)||c||{name:m["default"].appendDataDlg.none,value:"__none"};this.matchFields.value=c.value;this.field.matchField=c;this.matchFieldValue.innerHTML=c.displayName||c.name;this.matchFieldValue.dataset.value=c.value||c.name;this.matchFieldValue.dataset.type=c.type};e.prototype.render=function(){var c=
this,a=new E["default"];z["default"]([this.createMatchFieldOptions()]).then(function(){var b,d=(null===(b=c.field)||void 0===b?void 0:b.matchField)||c.field;b=d?c.findField(d,c.dataLayerFields):null;c.setValue(b);a.resolve(!0)});return a};e.prototype.addEventListeners=function(){var c=this,a=new E["default"];this.own(x["default"](this.matchFields,"blur",function(b){c.field.value=c.editEnd({evt:b})}),x["default"](this.matchFieldsContainer,"click",function(b){c.editStart({evt:b})}),u["default"].subscribe("appendData/fieldChanged",
function(b){var d,k;"__none"!==b.value&&(null===(k=null===(d=c.field)||void 0===d?void 0:d.matchField)||void 0===k?void 0:k.name)===b.name&&c.setValue()}));a.resolve();return a};e.prototype.editStart=function(c){c=c.evt.target;var a=c.parentElement.querySelector("select"),b=c.dataset.value;b&&"SPAN"===(null===c||void 0===c?void 0:c.tagName)&&(c.classList.add("hide"),a.classList.remove("hide"),a.value=b,a.focus())};e.prototype.editEnd=function(c){c=c.evt.target;var a=c.parentElement.querySelector("span"),
b=c.options[c.selectedIndex].dataset.value,d=this.findField({type:c.options[c.selectedIndex].dataset.type,name:b},this.dataLayerFields);u["default"].publish("appendData/fieldChanged",d);this.setValue(d);c.classList.add("hide");a.classList.remove("hide");return b};e.prototype.findField=function(c,a){var b=this,d=(a||[]).filter(function(k){return c.name.toLowerCase()===k.name.toLowerCase()&&(k.type===c.type||b.findAddressField(k.displayName||k.name))});return(null===d||void 0===d?0:d.length)?d.shift():
this.noneField};e.prototype.findAddressField=function(c){var a=this.addressFields||{},b=Object.keys(a).filter(function(d){return a[d]===c});return(null===b||void 0===b?0:b.length)?b.shift():null};e.prototype.createMatchFieldOptions=function(){var c=this,a=new E["default"];(this.dataLayerFields||[]).forEach(function(b){if("__none"===b.value||l["default"](c.field,b)){var d=document.createElement("option");d.dataset.value=b.value||b.name;d.dataset.type=b.type||null;d.value=b.value||b.name;d.innerHTML=
b.displayName||b.name;c.matchFields.add(d)}});a.resolve(!0);return a};return e=v.__decorate([f["default"](g["default"],h["default"])],e)}()})},"arcgisonline/sharing/dijit/AppendData/_canMatchFields":function(){define(["require","exports"],function(V,L){Object.defineProperty(L,"__esModule",{value:!0});L["default"]=function(v,w){var t,l=(null===v||void 0===v?void 0:v.type)||null,f=(null===w||void 0===w?void 0:w.type)||null,g={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger",
"esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:"esriFieldTypeString esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeDate esriFieldTypeGUID".split(" "),esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID",
"esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"]};return f&&(f===l||-1<(null===(t=g[l])||void 0===t?void 0:t.indexOf(f)))}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceLayer.html dojo/text!../../../img/Archive_no-text.svg dojo/text!../../../img/Replace_no-text.svg dojo/i18n!../../../nls/arcgisonline dojo/string dojo/dom-attr dojo/dom-construct dojo/query arcgisonline/pages/dijit/Overlay ../../utils/dom ../../utils/icons ../../serviceUtil arcgis-components/wrappers/ItemBrowser ../../portal/Portal esri/request arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig arcgisonline/map/core/sameSpatialReference arcgisonline/map/core/sameTilingScheme arcgisonline/map/layer/getServiceInfo ../../portal/PortalItem ../../../sharing/util ../../utils/alerts dojo/Deferred".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);
y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);return function(){function F(r,A){this.title=f["default"].replaceLayer.replaceLayer;this.i18n=f["default"];this.icons=p["default"];this.overlayContents=g["default"].substitute(w["default"],{i18n:this.i18n,icons:this.icons});this._showPreviewStylesTab=!0;this._replaceItemInformation=!1;this.isVectorTile=!0;this._currentStep=1;this.cacheTypeKeywords=""}F.prototype.postCreate=function(){var r=this,A;this.inherited(arguments);
this.type=this.item.type;this.isTile=this.item.types.includes("is-tile");this.isVectorTile=this.item.types.includes("is-vectorTile");(this.isCacheContent=this.item.typeKeywords.includes("ExtractedCache"))&&(this.isTile||this.isVectorTile)&&(this.cacheTypeKeywords=' AND typekeywords:("ExtractedCache" AND "Tiled" AND "'+(this.isTile?"Map Service":"Vector Tile Service")+'")');this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:f["default"].replaceLayer.selectReplacementLayer,
mainActionTitle:f["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent","myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(r.isCacheContent?"-":"")+'typekeywords:"Hosted Service"'+r.cacheTypeKeywords+" NOT id:"+r.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",
order:"desc"}}};this.telemetry=null===(A=this.page)||void 0===A?void 0:A.telemetry;this._stepperNextButton=this.domNode.querySelector(".js-stepper-next-btn");this._overlayHelpButton=this.domNode.querySelector(".overlay-help");this._stepperLinks=this.domNode.querySelectorAll(".js-step-link");this._selectLayerButton=this.domNode.querySelector(".js-replace-layer-select");this._changeLayerButton=this.domNode.querySelector(".js-replace-lyr-change-lyr");this._archiveInputContainer=this.domNode.querySelector(".js-replace-lyr-edit-container");
this._currentArchiveName=this.domNode.querySelector(".js-replace-lyr-current-arch-name");this._archiveInputName=this.domNode.querySelector(".js-replace-lyr-edit-name");this._archiveInputSave=this.domNode.querySelector(".js-replace-lyr-edit-save");this._archiveInputEdit=this.domNode.querySelector(".js-replace-lyr-current-arch-btn");this._nameInputError=this.domNode.querySelector(".js-replace-name-input-error");this._nameAvailableError=this.domNode.querySelector(".js-replace-name-available-error");
this._itemInformationSwitch=this.domNode.querySelector(".js-replace-lyr-replace-item-switch");this._changeLayerSummaryButton=this.domNode.querySelector(".js-replace-lyr-change-lyr-summary");this._changeLayerOptionButton=this.domNode.querySelector(".js-replace-lyr-change-option");this._availabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice");this._closeAvailabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice-close");this._radioOptions=u["default"]("input[name\x3djs-replace-lyr-archive-option-radio]",
this.domNode);this._archiveSvg=this.domNode.querySelector(".js-archive_svg");this._replaceSvg=this.domNode.querySelector(".js-replace_svg");this._shownPreviewStylesContent=this.domNode.querySelectorAll(".js-replace-lyr-show-preview-step");this._selectedLayerTitle=this.domNode.querySelectorAll(".js-replace-lyr-selected-lyr-name");this._selectedLayerOwner=this.domNode.querySelectorAll(".js-replace-lyr-selected-owner");this._selectedLayerIcon=this.domNode.querySelectorAll(".js-replace-lyr-selected-icon");
this._selectedLayerType=this.domNode.querySelectorAll(".js-replace-lyr-selected-type");this._currentLayerTitle=this.domNode.querySelector(".js-replace-lyr-current-lyr-name");this._currentLayerOwner=this.domNode.querySelector(".js-replace-lyr-current-owner");this._currentLayerIcon=this.domNode.querySelector(".js-replace-lyr-current-icon");this._currentLayerType=this.domNode.querySelector(".js-replace-lyr-current-type");this._preSelectContainer=this.domNode.querySelector(".pre-select");this._postSelectContainer=
this.domNode.querySelector(".post-select");this._checkStyles=this.domNode.querySelector(".js-replace-lyr-check-styles");this._checkStylesSuccess=this.domNode.querySelector(".js-replace-lyr-check-styles-success");this._checkStylesWarnings=this.domNode.querySelectorAll(".js-replace-lyr-check-styles-warning");this._selectedLayerContainer=this.domNode.querySelector(".js-replace-lyr-selected-layer");this._replaceLayerErrorMessage=this.domNode.querySelector(".js-replace-lyr-error");this._replaceLayerPreviewContainer=
this.domNode.querySelector(".js-replace-lyr-preview-container");this._styleDropdown=this.domNode.querySelector(".js-replace-lyr-style-layer-dropdown");this._replaceSingleStyle=this.domNode.querySelector(".js-replace-lyr-single-style");this._replaceMultipleStyles=this.domNode.querySelector(".js-replace-lyr-multiple-styles");this._replaceSingleStyleLabel=this.domNode.querySelector(".js-replace-lyr-style-layer");this._archiveOptionLayerName=this.domNode.querySelector(".js-replace-lyr-new-layer-name");
this._replaceItemInformationLabel=this.domNode.querySelector(".js-replace-lyr-replace-item-information");this._replaceOptionArchiveLabel=this.domNode.querySelector(".js-replace-lyr-archive-option");this._replaceOptionReplacementLabel=this.domNode.querySelector(".js-replace-lyr-replace-option")};F.prototype.addListeners=function(){var r=this;this._stepperNextButton.addEventListener("click",this.handlePrimary.bind(this),!1);this._overlayHelpButton.addEventListener("click",this.handleHelp.bind(this),
!1);for(var A=0;A<this._stepperLinks.length;A++)this._stepperLinks[A].addEventListener("click",this.onStepClick.bind(this));this._radioOptions.on("change",this.onOptionSelect.bind(this));this._selectLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._changeLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._archiveInputName.addEventListener("input",this.handleArchiveInput.bind(this));this._archiveInputSave.addEventListener("click",this.handleArchiveSave.bind(this));
this._archiveInputEdit.addEventListener("click",this.handleArchiveEdit.bind(this));this._itemInformationSwitch.addEventListener("click",this.handleReplaceItemInformationSwitch.bind(this));this._changeLayerSummaryButton.addEventListener("click",this.handleChangeLayerSummaryClick.bind(this));this._changeLayerOptionButton.addEventListener("click",this.handleChangeOptionSummaryClick.bind(this));this._closeAvailabilityNotice.addEventListener("click",this.handleCloseNotice.bind(this));this._styleDropdown.addEventListener("change",
this.handleLayerDropdownChange.bind(this));this._overlay.addEventListener("transitionend",function(G){"transform"===G.propertyName&&r._selectLayerButton.focus()})};F.prototype.open=function(){this.domNode.classList.add("overlay-stepper");x["default"].place(this.domNode.querySelector(".js-stepper-headers"),this._overlayContentWrapper,"before");x["default"].place(this.domNode.querySelector(".js-step-bars"),this.domNode.querySelector(".js-stepper-headers"),"after");document.body.classList.add("stepper--open");
this.initUI();this.inherited(arguments)};F.prototype.close=function(){this.inherited(arguments);this._itemBrowserContainer&&this._itemBrowserContainer.parentNode.removeChild(this._itemBrowserContainer);document.body.classList.remove("stepper--open")};F.prototype.initUI=function(){for(var r=this,A,G,H=1;4>=H;H++)this["_step"+H]=this.domNode.querySelector(".js-step-"+H),this["_stepHeader"+H]=this.domNode.querySelector(".js-step-header-"+H),this["_stepBar"+H]=this.domNode.querySelector(".js-step-"+H+
"-bar");this._selectedOption=this.getSelectedOption();this._archiveName=this.generateArchiveName();this._currentArchiveName.textContent=this._archiveName;this._archiveInputName.value=this._archiveName;this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);this._archiveSvg&&(this._archiveSvg.innerHTML=g["default"].substitute(t["default"],{i18n:f["default"]}));this._replaceSvg&&(this._replaceSvg.innerHTML=g["default"].substitute(l["default"],{i18n:f["default"]}));z["default"].showNode(this._overlayHelpButton);
d["default"].self.isPortal||z["default"].showNode(this._availabilityNotice);this._relatedStyles=this.item.relatedItems.Service2Style_forward;if(!(0<(null===(A=this._relatedStyles)||void 0===A?void 0:A.length)))this._showPreviewStylesTab=!1,z["default"].hideNodes(this._shownPreviewStylesContent);else if(null===(G=this._relatedStyles)||void 0===G?0:G[0])this._selectedBaseStyle=this._relatedStyles[0],m["default"].checkForResources(this._selectedBaseStyle).then(function(J){r._selectedBaseStyle.hasResources=
J});this.item.serviceInfo||q["default"](this.item.url,null,function(J){r.item.serviceInfo=J});this.createItemBrowser();this.addListeners();this.goToStep(1)};F.prototype.generateArchiveName=function(){function r(M){return 2>String(M).length?"0"+M:M}var A=new Date,G=A.getFullYear(),H=r(A.getMonth()+1),J=r(A.getDate()),O=r(A.getHours());A=r(A.getMinutes());return this.item.title+"_"+(G+"_"+H+"_"+J+"_"+O+"_"+A)};F.prototype.replaceSpacesWithUnderscore=function(r){return r.replace(/\s/g,"_")};F.prototype.createItemBrowser=
function(){var r=this;this._itemBrowserContainer||(this._itemBrowserContainer=document.createElement("div"),z["default"].hideNode(this._itemBrowserContainer),document.body.appendChild(this._itemBrowserContainer),this.portal=new c["default"](d["default"].restBaseUrl),this.portal.signIn().then(function(){r._itemBrowser=new e.ItemBrowserWrapper(r._itemBrowserContainer,{apiVersion:3,portal:r.portal,request:a["default"],initialState:r._itemBrowserConfig})}))};F.prototype.openItemBrowser=function(){var r=
this;this._itemBrowserContainer.querySelector(".mod__overlay-container").addEventListener("animationend",function(){r._itemBrowserContainer.querySelector(".mod__overlay__close").focus({preventScroll:!0})});z["default"].isHidden(this._itemBrowserContainer)?z["default"].showNode(this._itemBrowserContainer):this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.remove("hide")};F.prototype.handleSelectItem=function(r){this._selectedReplacementItem=new y["default"](v.__assign(v.__assign({},
r[0]),{portal:this.portal}));this.initiateCompatibilityCheck();this.closeItemBrowser();for(r=0;r<this._selectedLayerTitle.length;r++)this._selectedLayerTitle[r].innerHTML=this._selectedReplacementItem.title,this._selectedLayerOwner[r].innerHTML=this._selectedReplacementItem.owner,this._selectedLayerOwner[r].href=d["default"].baseUrl+"user.html?user\x3d"+this._selectedReplacementItem.owner,this._selectedLayerIcon[r].src=this._selectedReplacementItem.iconUrl,this._selectedLayerType[r].innerHTML=this.getItemDisplayName(this._selectedReplacementItem)};
F.prototype.initiateCompatibilityCheck=function(){var r=this;this._primaryBtn.disabled=!0;this._preSelectContainer.classList.add("hide");this._postSelectContainer.classList.remove("hide");this._selectedLayerContainer.classList.remove("stepper__content-pane-error");this._replaceLayerErrorMessage.classList.remove("is-active");z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNodes(this._checkStylesWarnings);z["default"].showNode(this._checkStyles);this.item.canUpdate?this.checkLayerCompatibility().then(function(){r.checkForCompatibleStyles(r._selectedReplacementItem)},
function(A){r.handleLayerSelectionError(A)}):(this._selectedLayerContainer.classList.add("stepper__content-pane-error"),this._replaceLayerErrorMessage.innerHTML=f["default"].replaceLayer.error,z["default"].activateNode(this._replaceLayerErrorMessage),z["default"].hideNode(this._checkStylesSuccess),z["default"].hideNode(this._checkStyles))};F.prototype.checkLayerCompatibility=function(){var r=this,A=new D["default"];q["default"](this._selectedReplacementItem.url,null,function(G){-1<r._selectedReplacementItem.url.indexOf("://vectortileservices")?
r._selectedReplacementItem.getRelatedItems(r.isCacheContent?"DataStore2ByRefService":"Service2Service","reverse").then(function(H){var J=f["default"].replaceLayer.error,O=!0,M=k["default"](r.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference),K=r.item.serviceInfo.tileInfo.layerType===G.tileInfo.layerType;0<H.map(function(U){return U.type}).filter(function(U){return"Feature Service"===U}).length?J=f["default"].replaceLayer.tileLayerPackageError:M||K?M?K?O=!1:J=f["default"].replaceLayer.replaceSceneLayer.layerTypeError:
J=f["default"].replaceLayer.differentCoordinateSystem:J=f["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError;O?A.reject(Error(J)):A.resolve()}):r._selectedReplacementItem.getRelatedItems("Service2Service","reverse").then(function(H){var J;r.isTile&&"Feature Service"===(null===(J=H[0])||void 0===J?void 0:J.type)&&A.reject(Error(f["default"].replaceLayer.hostedFeatureLayerError));m["default"].checkForResources(r.item).then(function(O){r.item.hasResources=O});m["default"].checkForResources(r._selectedReplacementItem).then(function(O){r._selectedReplacementItem.hasResources=
O});H=n["default"](r.item.serviceInfo.tileInfo,G.tileInfo);k["default"](r.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference)&&H?A.resolve():A.reject(Error(f["default"].replaceLayer.differentSchemeCombined))})},function(G){r.handleLayerSelectionError(G)});return A};F.prototype.checkForCompatibleStyles=function(r){var A=this,G=""+r.url+(this.isVectorTile&&!r.url.includes("://vectortileservices")?"/resources/styles/root.json":"");r=""+this.item.url+(this.isVectorTile&&!this.item.url.includes("://vectortileservices")?
"/resources/styles/root.json":"");C["default"].request({url:r,content:{f:"json"}}).then(function(H){A._baseItemJson=H;C["default"].request({url:G,content:{f:"json"}}).then(function(J){A._replacementItemJson=J}).then(function(){var J=A._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");!A.isVectorTile||A.compareLayers(A._baseItemJson.layers,A._replacementItemJson.layers)?(z["default"].showNode(A._checkStylesSuccess),z["default"].hideNodes(A._checkStylesWarnings),
z["default"].hideNode(A._checkStyles)):(z["default"].hideNode(A._checkStylesSuccess),z["default"].showNodes(A._checkStylesWarnings),z["default"].hideNode(A._checkStyles),J&&A._changeLayerButton.focus());A._primaryBtn.disabled=!1;J&&A._primaryBtn.focus()})["catch"](function(J){A.handleLayerSelectionError(J)})})};F.prototype.isWebMercator=function(r){return 0<=[102113,102100,3857,3785].indexOf(r)};F.prototype.handleLayerSelectionError=function(r){var A;this._selectedLayerContainer.classList.add("stepper__content-pane-error");
this._replaceLayerErrorMessage.innerHTML=0<(null===(A=r.message)||void 0===A?void 0:A.length)?r.message:"Error";z["default"].activateNode(this._replaceLayerErrorMessage);z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNode(this._checkStyles);this._changeLayerButton.focus()};F.prototype.compareLayers=function(r,A){var G=this,H=r.map(function(O){return G.isVectorTile?O.id:O.name}).sort(),J=A.map(function(O){return G.isVectorTile?O.id:O.name}).sort();return H.every(function(O){return 0<=
J.indexOf(O)})||J.every(function(O){return 0<=H.indexOf(O)})};F.prototype.closeItemBrowser=function(){this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.add("hide");z["default"].isHidden(this._postSelectContainer)?this._selectLayerButton.focus():this._changeLayerButton.focus()};F.prototype.goToStep=function(r){var A=this;z["default"].hideNode(this["_step"+this._currentStep]);this["_stepBar"+this._currentStep]&&z["default"].hideNode(this["_stepBar"+this._currentStep]);
this._currentStep=r;for(var G=r-1;1<=G;G--)this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_stepHeader"+G].classList.add("stepper__step-item--past"),this["_step"+G].parentNode.classList.add("stepper__content--past-step");for(G=r+1;4>=G;G++)this["_stepHeader"+G].classList.remove("stepper__step-item--past"),this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_step"+G].parentNode.classList.remove("stepper__content--past-step");z["default"].showNode(this["_step"+
this._currentStep]);(r=this.domNode.querySelector(".stepper__content--active-step"))&&r.classList.remove("stepper__content--active-step");this["_step"+this._currentStep].parentNode.classList.remove("stepper__content--past-step");this["_step"+this._currentStep].parentNode.classList.add("stepper__content--active-step");this["_stepHeader"+this._currentStep].classList.remove("stepper__step-item--past");this["_stepHeader"+this._currentStep].classList.add("stepper__step-item--active");this["_stepBar"+this._currentStep]?
(z["default"].showNode(this["_stepBar"+this._currentStep]),this.domNode.classList.add("has-step-bar")):this.domNode.classList.remove("has-step-bar");z["default"].hideNode(this.domNode.querySelector(".js-compile-error-icon"));this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);switch(this._currentStep){case 1:this._primaryBtn.disabled=!this._selectedReplacementItem;break;case 2:this.checkServiceNameAvailable(this._archiveName).then(function(H){H.available||(A.handleArchiveNameValidationError("unavailable"),
A.handleArchiveEdit())});this.alignSvgLabels();break;case 3:this.populateRelatedStyles();this._replaceLayerPreviewContainer.src=this.composePreviewPath();break;case 4:this.populateSummary(),this.setPrimaryBtnText(f["default"].replaceLayer.replace)}};F.prototype.populateRelatedStyles=function(){var r=this;if(0!==this._relatedStyles.length)if(1<this._relatedStyles.length){for(;0<this._styleDropdown.options.length;)this._styleDropdown.remove(0);this._relatedStyles.forEach(function(A){A.option=new Option(A.title);
r._styleDropdown.add(A.option);m["default"].checkForResources(A).then(function(G){return A.hasResources=G})});z["default"].hideNode(this._replaceSingleStyle);z["default"].showNode(this._replaceMultipleStyles)}else this._replaceSingleStyleLabel.textContent=this._relatedStyles[0].title,z["default"].showNode(this._replaceSingleStyle),z["default"].hideNode(this._replaceMultipleStyles)};F.prototype.alignSvgLabels=function(){var r,A,G;null===(r=this.domNode.querySelector(".archive-lyr-current-layer-svg"))||
void 0===r?void 0:r.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(A=this.domNode.querySelector(".archive-lyr-archive-svg"))||void 0===A?void 0:A.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(G=this.domNode.querySelector(".replace-lyr-current-layer-svg"))||void 0===G?void 0:G.setAttribute("text-anchor","rtl"===document.dir?"end":"start")};F.prototype.onStepClick=function(r){r=+h["default"].get(r.target,"data-step-num");r<this._currentStep&&this.goToStep(r)};
F.prototype.onOptionSelect=function(){var r=this.getSelectedOptionContainer();this._selectedOption=this.getSelectedOption();for(var A=this.domNode.querySelectorAll(".stepper__radio-item"),G=0;G<A.length;G++)A[G].classList.remove("stepper__radio-item--selected");r.classList.add("stepper__radio-item--selected")};F.prototype.getSelectedOption=function(){var r;this._radioOptions.some(function(A){A.checked&&(r=A.value);return A.checked});return r};F.prototype.getSelectedOptionContainer=function(){var r=
this._radioOptions.filter(function(A){return A.checked})[0];return r?r.parentNode.parentNode:null};F.prototype.handleArchiveEdit=function(){this._primaryBtn.disabled=!0;z["default"].showNode(this._archiveInputContainer);z["default"].hideNode(this._archiveInputEdit);this._archiveInputName.focus()};F.prototype.handleArchiveInput=function(r){z["default"].deactivateNode(this._nameInputError);z["default"].deactivateNode(this._nameAvailableError);var A=/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(r.target.value);
0===r.target.value.length||A?this.handleArchiveNameValidationError(A?"invalid":void 0):this._archiveInputSave.disabled=!1};F.prototype.handleArchiveSave=function(){var r=this,A=this._archiveInputName.value;this.checkServiceNameAvailable(this.replaceSpacesWithUnderscore(A)).then(function(G){G.available?r.saveArchiveName(A):r.handleArchiveNameValidationError("unavailable")})};F.prototype.saveArchiveName=function(r){this._archiveName=r;this._currentArchiveName.textContent=r;z["default"].hideNode(this._archiveInputContainer);
z["default"].showNode(this._archiveInputEdit);this._primaryBtn.disabled=!1};F.prototype.checkServiceNameAvailable=function(r){return C["default"].request({url:d["default"].portal.portalUrl+"portals/"+(d["default"].self&&d["default"].self.user&&(d["default"].self.user.accountId||d["default"].self.user.orgId))+"/isServiceNameAvailable",content:{name:r,type:"Vector Tile Service",f:"json"}})};F.prototype.composePreviewPath=function(){var r=(this._selectedBaseStyle.hasResources?this._selectedBaseStyle.itemUrl:
this._selectedBaseStyle.url)+"/resources/styles/root.json";return d["default"].vectorTileStylePreview+"?vtStyle\x3d"+(this._selectedBaseStyle.viewStyleUrl?this._selectedBaseStyle.viewStyleUrl:r)+"\x26vtLayer\x3d"+(this._selectedReplacementItem.viewUrl?this._selectedReplacementItem.viewUrl:this._selectedReplacementItem.url)+(this.isWebMercator(Number(this.item.serviceInfo.tileInfo.spatialReference.wkid))?"\x26basemap\x3dstreets-vector":"")};F.prototype.handleArchiveNameValidationError=function(r){this._archiveInputSave.disabled=
!0;switch(r){case "invalid":z["default"].activateNode(this._nameInputError);break;case "unavailable":z["default"].activateNode(this._nameAvailableError)}};F.prototype.handleReplaceItemInformationSwitch=function(){this._replaceItemInformation=this._itemInformationSwitch.checked};F.prototype.handleChangeLayerSummaryClick=function(){this.goToStep(1)};F.prototype.handleChangeOptionSummaryClick=function(){this.goToStep(2)};F.prototype.handleLayerDropdownChange=function(){this._selectedBaseStyle=this._relatedStyles.filter(function(r){return r.option.selected})[0];
this._replaceLayerPreviewContainer.src=this.composePreviewPath()};F.prototype.handlePrimary=function(r){var A=this;r.stopPropagation();r.preventDefault();2!==this._currentStep||this._showPreviewStylesTab?4<=this._currentStep?(this.close(),this.replaceLayer().then(function(){var G;null===(G=A.telemetry)||void 0===G?void 0:G.logEvent({category:"archive option",label:"archive"===A._selectedOption?"new layer":"swap"});B["default"].showAlert("success",g["default"].substitute(f["default"].replaceLayer.layerReplaceSuccess,
{srcTitle:"\x3cb\x3e"+A.item.title+"\x3c/b\x3e"}));setTimeout(function(){window.location.reload()},4E3)})["catch"](function(G){B["default"].showAlert("error",G)})):this.goToStep(this._currentStep+1):this.goToStep(4)};F.prototype.handleHelp=function(){var r;window.open(""+d["default"].self.helpBase+((null===(r=d["default"].self.helpMap)||void 0===r?void 0:r.m["120001792"])||""))};F.prototype.handleCloseNotice=function(r){z["default"].hideNode(r.target.parentNode)};F.prototype.setPrimaryBtnText=function(r){this._primaryBtn.innerHTML=
r};F.prototype.getItemDisplayName=function(r){return"Vector Tile Service"===r.type?f["default"].items.tileLayer:r.displayName};F.prototype.populateSummary=function(){this._currentLayerTitle.innerHTML=this.item.title;this._currentLayerOwner.innerHTML=this.item.owner;this._currentLayerOwner.href=d["default"].baseUrl+"user.html?user\x3d"+this.item.owner;this._currentLayerIcon.src=this.item.iconUrl;this._currentLayerType.innerHTML=this.getItemDisplayName(this.item);"archive"===this._selectedOption?(this._archiveOptionLayerName.innerHTML=
this.replaceSpacesWithUnderscore(this._archiveName),z["default"].showNode(this._replaceOptionArchiveLabel),z["default"].hideNode(this._replaceOptionReplacementLabel)):(z["default"].showNode(this._replaceOptionReplacementLabel),z["default"].hideNode(this._replaceOptionArchiveLabel));this._replaceItemInformation?z["default"].showNode(this._replaceItemInformationLabel):z["default"].hideNode(this._replaceItemInformationLabel)};F.prototype.replaceLayer=function(){var r="archive"===this._selectedOption?
{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"}:{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._selectedReplacementItem.title),replaceMetadata:this._replaceItemInformation,f:"json"};return C["default"].request({url:this.portal.portalUrl+
"content/users/"+this.portal.user.username+"/replaceService",content:r},{usePost:!0})};return F=v.__decorate([b["default"](E["default"])],F)}()})},"arcgis-components/wrappers/ItemBrowser":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/_base/kernel ../ItemBrowser/index".split(" "),function(V,L,v,w,t,l){return function(f){function g(x){if(h[x])return h[x].exports;var u=h[x]={i:x,l:!1,exports:{}};return f[x].call(u.exports,u,u.exports,g),u.l=
!0,u.exports}var h={};return g.m=f,g.c=h,g.d=function(x,u,E){g.o(x,u)||Object.defineProperty(x,u,{enumerable:!0,get:E})},g.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},g.t=function(x,u){if((1&u&&(x=g(x)),8&u)||4&u&&"object"==typeof x&&x&&x.__esModule)return x;var E=Object.create(null);if(g.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:x}),2&u&&"string"!=typeof x)for(var z in x)g.d(E,
z,function(p){return x[p]}.bind(null,z));return E},g.n=function(x){var u=x&&x.__esModule?function(){return x["default"]}:function(){return x};return g.d(u,"a",u),u},g.o=function(x,u){return Object.prototype.hasOwnProperty.call(x,u)},g.p="",g(g.s=983)}({0:function(f,g,h){function x(a,b){function d(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,
new d)}function u(a,b){var d={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(d[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(k=Object.getOwnPropertySymbols(a);n<k.length;n++)0>b.indexOf(k[n])&&Object.prototype.propertyIsEnumerable.call(a,k[n])&&(d[k[n]]=a[k[n]])}return d}function E(a,b,d,k){var n,q=arguments.length,y=3>q?b:null===k?k=Object.getOwnPropertyDescriptor(b,d):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=
Reflect.decorate(a,b,d,k);else for(var C=a.length-1;0<=C;C--)(n=a[C])&&(y=(3>q?n(y):3<q?n(b,d,y):n(b,d))||y);return 3<q&&y&&Object.defineProperty(b,d,y),y}function z(a,b,d,k){return new (d||(d=Promise))(function(n,q){function y(D){try{B(k.next(D))}catch(F){q(F)}}function C(D){try{B(k["throw"](D))}catch(F){q(F)}}function B(D){var F;D.done?n(D.value):(F=D.value,F instanceof d?F:new d(function(r){r(F)})).then(y,C)}B((k=k.apply(a,b||[])).next())})}function p(a,b){function d(B){return function(D){return function(F){if(k)throw new TypeError("Generator is already executing.");
for(;C;)try{if(k=1,n&&(q=2&F[0]?n["return"]:F[0]?n["throw"]||((q=n["return"])&&q.call(n),0):n.next)&&!(q=q.call(n,F[1])).done)return q;switch(n=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return C.label++,{value:F[1],done:!1};case 5:C.label++;n=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(q=C.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))C.label=F[1];else if(6===F[0]&&C.label<q[1])C.label=
q[1],q=F;else if(q&&C.label<q[2])C.label=q[2],C.ops.push(F);else{q[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(r){F=[6,r],n=0}finally{k=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([B,D])}}var k,n,q,y,C={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function m(a,b){for(var d=0,k=b.length,n=a.length;d<k;d++,n++)a[n]=
b[d];return a}h.d(g,"d",function(){return x});h.d(g,"a",function(){return c});h.d(g,"f",function(){return u});h.d(g,"c",function(){return E});h.d(g,"b",function(){return z});h.d(g,"e",function(){return p});h.d(g,"g",function(){return m});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,k){d.__proto__=k}||function(d,k){for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&(d[n]=k[n])})(a,b)},c=function(){return(c=Object.assign||function(a){for(var b,
d=1,k=arguments.length;d<k;d++)for(var n in b=arguments[d])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},100:function(f,g,h){h.d(g,"g",function(){return E});h.d(g,"k",function(){return z});h.d(g,"j",function(){return p});h.d(g,"h",function(){return m});h.d(g,"i",function(){return e});h.d(g,"c",function(){return c});h.d(g,"b",function(){return a});h.d(g,"f",function(){return b});h.d(g,"e",function(){return d});h.d(g,"d",function(){return k});
h.d(g,"a",function(){return n});h.d(g,"r",function(){return q});h.d(g,"n",function(){return y});h.d(g,"s",function(){return C});h.d(g,"o",function(){return B});h.d(g,"q",function(){return D});h.d(g,"p",function(){return F});h.d(g,"l",function(){return r});h.d(g,"m",function(){return A});var x=h(78),u=h(48),E="SELECT_ITEM",z="TOGGLE_ITEM",p="SELECT_ITEM_SINGLE",m="SELECT_ITEM_ASYNC",e="SELECT_ITEM_ASYNC_FAILED",c="DESELECT_ITEM",a="DESELECT_ALL",b="SELECT_ALL",d="SELECT_ALL_FROM_QUERY_SUCCESS",k="END_BULK_WORKFLOW",
n="CANCEL_BULK_WORKFLOW",q=function(G){return function(H,J){var O=J();if(O.settings.config.asynchronousItemSelect){H({type:m,payload:G});var M=O.settings.config.onSelect([Object(x.b)(G)]);(null==M?0:M.then)&&M.then(function(){O.settings.config.singleItemSelect?H({type:p,payload:G}):H({type:E,payload:G})},function(){H({type:e,payload:G})})}else O.settings.config.singleItemSelect?(H({type:p,payload:G}),O.settings.config.onSelect([Object(x.b)(G)])):(H({type:E,payload:G}),O.settings.config.onSelect([Object(x.b)(G)]))}},
y=function(G,H){var J=H();if(J.settings.config.disableInitiallySelectedItems){J=J.results;var O=J.selectedItems,M=J.initiallySelectedItems;Object.keys(O).map(function(K){return O[K]}).filter(function(K){return!M[K.id]}).forEach(function(K){G({type:c,payload:K})})}else G({type:a})},C=function(G){return{type:z,payload:G}},B=function(G){return function(H,J){var O=J();H({type:c,payload:G});O.settings.config.onDeselect([Object(x.b)(G)])}},D=function(){return function(G,H){var J=H();G({type:b,payload:J.ui.pagination.displayItems})}},
F=function(G){return{type:d,payload:G}},r=function(G,H){var J=null==H?void 0:H();G({type:n});null==J||J.settings.config.onBack()},A=function(G,H){var J=null==H?void 0:H();if(null==J?0:J.settings.config.onBulkAction){var O=J.settings.config.onBulkAction;J=J.results;var M=J.selectedItems,K=J.initiallySelectedItems;J=Object.keys(K).map(function(fa){return K[fa]});var U=Object.keys(M).map(function(fa){return M[fa]}),Z=J.filter(function(fa){return!M[fa.id]}),ca=U.filter(function(fa){return!K[fa.id]});
G({type:u.a});G({type:k,payload:ca});O({initiallySelectedItems:J,allSelectedItems:U,newlySelectedItems:ca,deselectedItems:Z})}}},101:function(f,g,h){h.d(g,"a",function(){return u});h.d(g,"b",function(){return E});var x=h(0),u=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:location.protocol+"//"+z.portalHostname:""},E=function(z){return Object(x.a)(Object(x.a)({},z),{baseUrl:u(z)})}},117:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,
z){var p=Object(x.a),m=Object(x.a)({},z),e=z.type,c=z.typeKeywords?z.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,d=!1,k=e=!1;if("ogcfeatureserver"===a)c="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var n=-1<c.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(k=-1<c.indexOf("Table"),b=-1<c.indexOf("Route Layer"),d=-1<c.indexOf("Markup"),c=(e=-1!==c.indexOf("Spatiotemporal"))&&
k?"spatiotemporaltable":k?"table":b?"routelayer":d?"markup":e?"spatiotemporal":n?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?c=n||-1<c.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?c=-1<c.indexOf("Line")?"sceneweblayerline":-1<c.indexOf("3DObject")?"sceneweblayermultipatch":-1<c.indexOf("Point")?"sceneweblayerpoint":-1<c.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<c.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<c.indexOf("Polygon")?"sceneweblayerpolygon":
-1<c.indexOf("Building")?"sceneweblayerbuilding":-1<c.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),c=e?"elevationlayer":c?"tiledimagerylayer":"imagery"):c="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<c.indexOf("Web Tool")?"tool":"layers"}else c="web map"===
a||"cityengine web scene"===a?"maps":"web scene"===a?-1<c.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==c?void 0:c.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||
"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<c.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<c.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===
a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<c.indexOf("Explorer Mapping Application")||-1<c.indexOf("Document")?
"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":
"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===
a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return p(m,{iconURI:E+"/"+c+"16.png"})})},120:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){var p=
Object(x.a),m=Object(x.a)({},z),e,c,a="notebook"!==(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(c=z.type)||void 0===c?void 0:c.toLowerCase())&&(a="notebook-code-snippet-thumb.png");c=E.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(z.thumbnail&&(c=E.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),c);return p(m,{thumbURI:e})})},121:function(f,g,h){h.d(g,"a",
function(){return E});var x=h(0);f=h(15);var u=function(z,p){return p.description?p.description.replace(/src=('|")js\/jsapi\/esri\//g,function(m){return"src\x3d"+('"'===m[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},E=Object(f.a)(function(z,p){return Object(x.a)(Object(x.a)({},p),{patchedDescription:u(z,p)})})},122:function(f,g,h){h.d(g,"a",function(){return z});var x=h(0),u=h(124);f=h(15);var E=h(58),z=Object(f.a)(function(p,m){var e=Object(x.a),c=Object(x.a)({},m),a,b=m.type,d=m.typeKeywords||
[],k=b,n=(null==p?void 0:p.portalUser)||(null==p?void 0:p.user);if("Feature Service"===b||"Feature Collection"===b){if(k=-1<d.indexOf("Table")?"Table":-1<d.indexOf("Route Layer")?"Route Layer":-1<d.indexOf("Markup")?"Markup":"Feature Layer",n&&Object(E.d)(m,n)&&-1<(null==d?void 0:d.indexOf("Hosted Service")))d=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",k=k+" ("+(u.a[d]||u.a[d.split("-")[0]]||u.a.en)+")"}else"Image Service"===b?(a=
-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),k=a?"Elevation Layer":d?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?k="Scene Layer":"Scene Package"===b?k="Scene Layer Package":"Stream Service"===b?k="Feature Layer":"Geocoding Service"===b?k="Locator":"Microsoft Powerpoint"===b?k="Microsoft PowerPoint":"OGCFeatureServer"===b?k="OGC Feature Layer":"GeoJson"===b?k="GeoJSON":"Globe Service"===b?k="Globe Layer":"Vector Tile Service"===b?k="Tile Layer":"netCDF"===b?k="NetCDF":
"Map Service"===b?k=-1===d.indexOf("Spatiotemporal")&&(-1<d.indexOf("Hosted Service")||-1<d.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?k=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?k="Big Data File Share":"Web Mapping Application"===b&&(null==d?0:d.includes("configurableApp"))?k="Instant App":"Data Store"===b&&(d.includes("cloudStore_amazon")||d.includes("cloudStore_azure")?k+=" (Cloud)":(d.includes("fileShare")||d.includes("hdfs")||
d.includes("hive")||d.includes("bigDataFileShare")&&d.includes("dataStore"))&&(k+=" (Big Data File Share)"));return e(c,{displayName:k})})},123:function(f,g,h){h.d(g,"a",function(){return E});var x=h(0);f=h(15);var u=function(z,p){var m=[],e=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?m.push("authoritative"):"deprecated"===z.contentStatus&&m.push("deprecated")),z.origin&&m.push("collaboration"),z.groupDesignations&&
-1<z.groupDesignations.indexOf("livingatlas")&&m.push("livingAtlas"),-1<e.indexOf("Requires Credits")?m.push("premium"):-1<e.indexOf("Requires Subscription")&&m.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==p?void 0:p.portalUser)||(null==p?void 0:p.user))&&m.push("publicDataCollection"),"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&m.push("solution"),p.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&m.push("retiredStoryMap"),
function(c){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
d=-1<a.indexOf(".html");return-1<(null===(b=c.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(d?"":"/")))})}(z)&&m.push("retiredApp")),m},E=Object(f.a)(function(z,p){return Object(x.a)(Object(x.a)({},p),{badges:u(p,z)})})},124:function(f,g,h){h.d(g,"a",function(){return x});var x={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},126:function(f,g,h){function x(z){var p=Object(u.b)(z.settings.config.customSections,z.parameters.section);return(null==p?0:p.portal)?Object(E.b)(p.portal):z.settings.utils.portal}h.d(g,"a",function(){return x});var u=h(86),E=h(101)},141:function(f,g,h){h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});var x={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},u="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
148:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){var p=Object(x.a),m=Object(x.a)({},z);var e=z.thumbnail?E.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:""):void 0;return p(m,{thumbURI:e})})},15:function(f,g,h){function x(E){return function p(){for(var m=this,e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];return e.length>=E.length?E.call.apply(E,Object(u.g)([this],e)):function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return p.call.apply(p,Object(u.g)(Object(u.g)([m],e),a))}}}h.d(g,"a",function(){return x});var u=h(0)},150:function(f,g){f.exports=t},16:function(f,g){f.exports=V},162:function(f,g,h){function x(C,B){var D=["",{method:"get",query:B.settings.config.addRequestParameters?Object(z.a)({f:"json",q:Object(m.b)(B),num:C.num?C.num:B.settings.config.resultsPerQuery,sortOrder:B.parameters.sort.order,start:C.start?C.start:1},B.settings.config.addRequestParameters()):
{f:"json",q:Object(m.b)(B),num:C.num?C.num:B.settings.config.resultsPerQuery,sortOrder:B.parameters.sort.order,start:C.start?C.start:1}}];return Object(p.a)(d(B),k(B),n(B),q(B))(D)}function u(C,B){var D=["",{method:"get",query:{f:"json",q:Object(m.a)(C),num:0,countFields:B.join(", "),countSize:200}}];return b(C)(D)}function E(C,B){var D=["",{method:"get",query:{f:"json",q:Object(m.c)(C,B),num:0,countFields:"tags",countSize:200}}];return b(C)(D)}h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});
h.d(g,"c",function(){return E});var z=h(0),p=h(63);f=h(15);var m=h(179),e=h(356),c=h(126),a=h(86),b=function(C){return Object(p.a)(q(C),y(C),n(C))},d=Object(f.a)(function(C,B){var D=B[0],F=B[1],r=C.parameters.sort.field;return"relevance"!==r?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{sortField:r})})]:[D,F]}),k=Object(f.a)(function(C,B){var D=B[0],F=B[1];if(C.parameters.filter.searchMapArea){var r=C.parameters.extent.area;r=r.minx+","+r.miny+","+r.maxx+","+r.maxy;
return[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{bbox:r})})]}return[D,F]}),n=Object(f.a)(function(C,B){var D=B[0],F=B[1],r=Object(e.a)(C);return r?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{enriched:r})})]:[D,F]}),q=Object(f.a)(function(C,B){B[0];var D=B[1],F=C.parameters,r=F.section;F=F.filter;var A=Object(c.a)(C),G=A.restUrl+"/search";if("myGroups"===r&&F.group)G=A.restUrl+"/content/groups/"+F.group.id+"/search",F.groupCategories&&
(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.groupCategories.value])));else if("livingAtlas"!==r&&"Living Atlas"!==r||!C.results.livingAtlas.groupId)if(!F.orgCategories||"myOrganization"!==r&&"myContent"!==r){if(r=Object(a.b)(C.settings.config.customSections,r))Object(a.d)(r)&&F.orgCategories&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]))),(r=Object(a.c)(r))&&(G=A.restUrl+"/content/groups/"+r.id+"/search",F.groupCategories&&(G=G+"?categories\x3d"+
encodeURIComponent(JSON.stringify([F.groupCategories.value]))))}else G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]));else G=A.restUrl+"/content/groups/"+C.results.livingAtlas.groupId+"/search",F.livingAtlasCategories?(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasCategories.value])),F.livingAtlasRegion&&(G=G+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])))):F.livingAtlasRegion&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])));
return[G,D]}),y=Object(f.a)(function(C,B){var D=B[0],F=B[1],r=C.parameters.section,A=Object(a.b)(C.settings.config.customSections,r);return"myGroups"===r&&C.parameters.filter.group||("livingAtlas"===r||"Living Atlas"===r)&&C.results.livingAtlas.groupId||A&&Object(a.c)(A)?[D,Object(z.a)(Object(z.a)({},F),{query:Object(z.a)(Object(z.a)({},F.query),{countFields:F.query.countFields?F.query.countFields.replace("categories","groupcategories"):void 0})})]:[D,F]})},170:function(f,g){var h=function(){return this}();
try{h=h||(new Function("return this"))()}catch(x){"object"==typeof window&&(h=window)}f.exports=h},173:function(f,g,h){h.d(g,"a",function(){return p});h.d(g,"c",function(){return m});h.d(g,"b",function(){return e});h.d(g,"d",function(){return c});h.d(g,"h",function(){return a});h.d(g,"i",function(){return b});h.d(g,"j",function(){return d});h.d(g,"e",function(){return k});h.d(g,"g",function(){return n});h.d(g,"f",function(){return q});h.d(g,"l",function(){return y});h.d(g,"k",function(){return B});
h.d(g,"m",function(){return D});f=h(65);var x=h.n(f);f=h(56);var u=h.n(f),E=h(30),z=h(48),p="ADD_TO_FAVORITES",m="ADD_TO_FAVORITES_SUCCESS",e="ADD_TO_FAVORITES_FAIL",c="LOADING_USER_INFO",a="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",d="UPDATE_USER_INFO_FAILED",k="REMOVE_FROM_FAVORITES",n="REMOVE_FROM_FAVORITES_SUCCESS",q="REMOVE_FROM_FAVORITES_FAIL",y=function(){return function(F,r){var A=r(),G=A.parameters.filter.group,H=A.results.user.groupCategories;if("loaded"===A.results.user.status)return G&&
!H[G.id]?F(C(G.id)):(new u.a).resolve();if("failed"===A.results.user.status)return(new u.a).reject();F({type:c});H=A.settings.utils;A=H.request;H=H.portal;return x()([Object(E.r)(A,H).then(function(J){return J.groups.map(function(O){return{id:O.id,title:O.title}})}),Object(E.s)(A,H).then(function(J){return J.folders.map(function(O){return{id:O.id,title:O.title}})}),Object(E.t)(A,H,H.user.favGroupId).then(function(J){return J.items.reduce(function(O,M){return O[M.id]=!0,O},{})})].concat(G?[F(C(G.id))]:
[])).then(function(J){F({type:b,payload:{groups:J[0],folders:J[1],favorites:J[2]}})},function(J){F({type:d})})}},C=function(F){return function(r,A){var G=A().settings.utils;return Object(E.f)(G.request,G.portal,F).then(function(H){r({type:a,payload:{id:F,categorySchema:H.categorySchema}})})}},B=function(F){return function(r,A){var G=A(),H=G.settings.utils.portal,J=H.restUrl+"/content/items/"+F.id+"/share";H={f:"json",everyone:F.access&&"public"===F.access||F.sharing&&F.sharing.access&&"public"===
F.sharing.access,org:F.access&&"org"===F.access||F.sharing&&F.sharing.access&&"org"===F.sharing.access||!1,groups:[H.user.favGroupId],items:[F.id]};r({type:p,payload:F});G.settings.utils.request(J,{method:"post",query:H}).then(function(O){r({type:m,payload:F})},function(O){r({type:e,payload:F})})}},D=function(F){return function(r,A){var G=A(),H=G.settings.utils.portal,J=H.user.favGroupId,O=H.restUrl+"/content/items/"+F.id+"/unshare",M={f:"json",everyone:!1,org:!1,groups:[J],items:[F.id]};r({type:k,
payload:F});G.settings.utils.request(O,{method:"post",query:M}).then(function(K){function U(){r({type:n,payload:F})}"myFavorites"===(G=A()).parameters.section?function ca(){G.settings.utils.request(H.restUrl+"/search",{query:{f:"json",q:"(id:"+F.id+") (group:"+J+")"},method:"get"}).then(function(fa){0<fa.data.total?setTimeout(function(){ca()},250):(U(),r(Object(z.i)()))},function(fa){U()})}():U()},function(K){r({type:q,payload:F})})}}},179:function(f,g,h){function x(G){return Object(p.a)(m.b,r(G),
A(G),Object(e.a)(G.parameters.filter.orgGroup),Object(c.a)(G.parameters.filter.status,G.settings.utils.portal.user),F(G),Object(a.a)(G.parameters.filter.shared),Object(b.a)(G.parameters.filter.dateCreated),Object(b.b)(G.parameters.filter.dateModified),Object(d.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,itemTypeFilter:G.parameters.filter.itemType,specialItemQ:G.settings.config.specialItemQ}),Object(k.b)(G.parameters.filter.tags),Object(n.a)(G.parameters.filter.origins))([G.parameters.searchString.current]).join(" ")}
function u(G){return Object(p.a)(m.b,r(G),F(G),Object(d.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}))([G.parameters.searchString.current]).join(" ")}function E(G,H){return Object(p.a)(m.b,r(G),F(G),Object(d.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}),Object(k.a)(H))([G.parameters.searchString.current]).join(" ")}h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});
h.d(g,"c",function(){return E});var z=h(0),p=h(63),m=h(99),e=h(398),c=h(399),a=h(400),b=h(323),d=h(265),k=h(324),n=h(401);f=h(15);var q=h(5),y=h(180),C=h(141),B=h(126),D=h(86),F=Object(f.a)(function(G,H){var J=G.parameters.filter,O=G.settings.config,M=Object(B.a)(G);switch(G.parameters.section){case "myContent":return M.user?M.user&&J.folder?Object(z.g)(Object(z.g)([],H),['(owner:"'+M.user.username+'") (ownerfolder:'+J.folder.id+")"]):Object(z.g)(Object(z.g)([],H),['(owner:"'+M.user.username+'")']):
H;case "myFavorites":return M.user?Object(z.g)(Object(z.g)([],H),["(group:"+M.user.favGroupId+")"]):H;case "myGroups":if(G.results.user.groups){if(G.parameters.filter.group)return Object(z.g)(Object(z.g)([],H),["(group:"+G.parameters.filter.group.id+")"]);J=G.results.user.groups.map(function(K){return K.id});return Object(z.g)(Object(z.g)([],H),["(group:"+J.join(" OR group:")+")"])}return H;case "myOrganization":return Object(z.g)(Object(z.g)([],H),["(orgid:"+M.id+")"]);case "subscription":return Object(z.g)(Object(z.g)([],
H),["("+G.results.provisionedContent.content.map(function(K){return"id:"+K}).join(" OR ")+")"]);case "all":return H;default:return(J=O.customSections.filter(function(K){return G.parameters.section===K.name})[0])?Object(z.g)(Object(z.g)([],H),[J.baseQuery]):H}}),r=Object(f.a)(function(G,H){var J=G.settings.config.addQueryParameters;try{if(J&&"function"==typeof J)return Object(z.g)(Object(z.g)([],H),[J(G)])}catch(O){}return H}),A=Object(f.a)(function(G,H){var J=Object(D.b)(G.settings.config.customSections,
G.parameters.section);if(J&&!Object(q.b)(G.parameters.filter.customFilter)){var O=Object.keys(G.parameters.filter.customFilter).filter(function(M){return G.parameters.filter.customFilter[M]}).reduce(function(M,K){var U,Z=parseInt(K,10),ca=G.parameters.filter.customFilter[Z].value;if(null===(U=null==J?void 0:J.filters)||void 0===U?0:U[Z])if(U=Object(y.a)("children","value",J.filters[Z],ca))return Object(z.g)(Object(z.g)([],M),["("+U.q+")"]);return M},[]).join(" AND ");return Object(z.g)(Object(z.g)([],
H),[""+O])}return H})},180:function(f,g,h){function x(k,n){return e("children","value",k,n)}function u(k,n){return c("children","value",k,n)}function E(k,n){return function F(y,C,B,D){var r,A=B[y];return A&&0!==A.length?Object(d.a)(Object(d.a)({},B),((r={})[y]=A.reduce(function(G,H){return-1!==D.indexOf(H[C])&&G.push(F(y,C,H,D)),G},[]),r)):Object(d.a)({},B)}("children","value",k,n)}function z(k){return function(n,q){var y,C=q[n];return C?Object(d.a)(Object(d.a)({},q),((y={})[n]=function F(D){return 0===
D.length?[]:1!==D.length||D[0][n]?1<D.length?D.reduce(function(r,A){var G;return A[n]?(r.push(Object(d.a)(Object(d.a)({},A),((G={})[n]=F(A[n]),G))),r):(r.push(A),r)},[]):F(D[0][n]):D}(C),y)):q}("children",k)}function p(k,n){return a("children",k,n)}function m(k,n){return function D(y,C,B){var F=C[y];F&&F.forEach(function(r){return D(y,r,B)});B(C)}("children",k,n)}function e(k,n,q,y){var C=q[k];return q[n]===y?q:C?C.reduce(function(B,D){return B||e(k,n,D,y)},void 0):void 0}function c(k,n,q,y){if(q=
q[k])return q.reduce(function(C,B){return B[n]===y[0]?1===y.length?B:c(k,n,B,y.slice(1)):C},void 0)}function a(k,n,q){var y;return q(Object(d.a)(Object(d.a)({},n),((y={})[k]=n[k]?n[k].map(function(C){return a(k,C,q)}):void 0,y)))}function b(k,n,q){return a(k,q,function(y){var C=y[n];if(delete y[n],y[k]){var B=y[k];return delete y[k],Object(d.a)(Object(d.a)({},y),{value:C,children:B})}return Object(d.a)(Object(d.a)({},y),{value:C})})}h.d(g,"f",function(){return x});h.d(g,"d",function(){return u});
h.d(g,"i",function(){return E});h.d(g,"e",function(){return z});h.d(g,"h",function(){return p});h.d(g,"g",function(){return m});h.d(g,"a",function(){return e});h.d(g,"b",function(){return c});h.d(g,"c",function(){return b});var d=h(0)},189:function(f,g){function h(){throw Error("setTimeout has not been defined");}function x(){throw Error("clearTimeout has not been defined");}function u(q){if(c===setTimeout)return setTimeout(q,0);if((c===h||!c)&&setTimeout)return c=setTimeout,setTimeout(q,0);try{return c(q,
0)}catch(y){try{return c.call(null,q,0)}catch(C){return c.call(this,q,0)}}}function E(){k&&b&&(k=!1,b.length?d=b.concat(d):n=-1,d.length&&z())}function z(){if(!k){var q=u(E);k=!0;for(var y=d.length;y;){b=d;for(d=[];++n<y;)b&&b[n].run();n=-1;y=d.length}b=null;k=!1;(function(C){if(a===clearTimeout)return clearTimeout(C);if((a===x||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch(B){try{return a.call(null,C)}catch(D){return a.call(this,C)}}})(q)}}function p(q,y){this.fun=q;this.array=
y}function m(){}var e=f.exports={};try{var c="function"==typeof setTimeout?setTimeout:h}catch(q){c=h}try{var a="function"==typeof clearTimeout?clearTimeout:x}catch(q){a=x}!0;var b,d=[],k=!1,n=-1;e.nextTick=function(q){var y=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)y[C-1]=arguments[C];d.push(new p(q,y));1!==d.length||k||u(z)};p.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions=
{};e.on=m;e.addListener=m;e.once=m;e.off=m;e.removeListener=m;e.removeAllListeners=m;e.emit=m;e.prependListener=m;e.prependOnceListener=m;e.listeners=function(q){return[]};e.binding=function(q){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(q){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},193:function(f,g,h){function x(z){var p,m;return null!==(p=z.orgId)&&void 0!==p?p:null===(m=z.portal)||void 0===m?void 0:m.id}function u(z){var p;
if(!z)return!1;var m=x(z),e=null===(p=z.portal)||void 0===p?void 0:p.isPortal;return!!m&&!e&&"public_authoritative"===z.contentStatus}function E(z,p,m){return new Promise(function(e){var c=z.map(function(a){return function(b,d,k){var n="https://"+d.portalHostname+"/sharing/rest/portals/"+b;return new Promise(function(q){k(n,{method:"get",query:{f:"json"}}).then(function(y){y=y.data;var C=y.thumbnail,B=(y.allSSL?"https://":"http://")+(y.urlKey||"")+"."+y.customBaseUrl+"/";q({name:y.name,url:B+"home/",
thumbnail:C?B+"sharing/rest/portals/self/resources/"+C:"./images/group-no-image.png",id:b})})})}(a,p,m)});Promise.all(c).then(function(a){e(a.filter(function(b){return b}))})})}h.d(g,"b",function(){return x});h.d(g,"c",function(){return u});h.d(g,"a",function(){return E})},199:function(f,g,h){function x(b,d,k){return b.filter(function(n,q,y){return y.indexOf(n)===q&&!d.hasOwnProperty(n)&&-1===k.indexOf(n)})}h.d(g,"c",function(){return p});h.d(g,"d",function(){return m});h.d(g,"a",function(){return e});
h.d(g,"b",function(){return c});h.d(g,"e",function(){return a});var u=h(0),E=h(193),z=h(309),p="USER_THUMBNAILS_LOAD_START",m="USER_THUMBNAILS_LOAD_SUCCESS",e="ORG_THUMBNAILS_LOAD_START",c="ORG_THUMBNAILS_LOAD_SUCCESS",a=function(b,d){var k=d(),n=k.settings.utils,q=n.request;n=n.portal;var y=k.ui.pagination;k=y.displayItems;var C=y.userThumbnailCache,B=y.pendingUserThumbRequests,D=y.orgThumbnailCache;y=y.pendingOrgThumbRequests;D=x(k.filter(E.c).map(E.b),D,y);k=x(k.map(function(F){return F.owner}),
C,B);if(0!==k.length||0!==D.length)b({type:p,payload:k}),b({type:e,payload:D}),k=Object(z.a)(k,n,q),q=Object(E.a)(D,n,q),Promise.all([k,q]).then(function(F){var r=F[0];F=F[1];r=(null==r?void 0:r.reduce(function(A,G){var H;return Object(u.a)(Object(u.a)({},A),((H={})[G.username]={thumbnail:G.thumbURI||G.thumbnail,username:G.username,fullName:G.fullName,id:G.id},H))},{}))||{};F=(null==F?void 0:F.reduce(function(A,G){var H;return Object(u.a)(Object(u.a)({},A),((H={})[G.id]=G,H))},{}))||{};b({type:m,
payload:r});b({type:c,payload:F})})}},217:function(f,g,h){h.d(g,"a",function(){return c});var x=h(0);f=h(56);var u=h.n(f);f=h(65);var E=h.n(f);f=h(15);var z=h(99),p=h(30),m=h(325),e=h(126),c=Object(f.a)(function(a,b){var d=a.settings.utils.request,k=Object(e.a)(a),n=new u.a,q=b.data.results.filter(function(y){return y.orgId&&!a.results.allOrganizations[y.orgId]}).map(function(y){return y.orgId}).filter(z.e).map(function(y){return Object(p.m)(d,k,y)});return E()(q).then(function(y){n.resolve(Object(x.a)(Object(x.a)({},
b),{data:Object(x.a)(Object(x.a)({},b.data),{organizations:y.reduce(function(C,B){var D;return Object(x.a)(Object(x.a)({},C),((D={})[B.id]=Object(m.a)(B),D))},{})})}))},function(y){n.reject(y)}),n})},227:function(f,g,h){h.d(g,"a",function(){return E});var x=h(0),u=h(101),E=function(z){var p=Object(x.a),m=Object(x.a)({},z),e=Object(u.a)(z);return p(m,{thumbURI:z.thumbnail?e+"/sharing/rest/portals/"+z.id+"/resources/"+z.thumbnail:e+"/home/images/group-no-image.png"})}},228:function(f,g,h){h.d(g,"a",
function(){return E});var x=h(0),u=h(101),E=function(z){return Object(x.a)(Object(x.a)({},z),{orgUrl:Object(u.a)(z)+"/home/index.html"})}},231:function(f,g){f.exports=l},256:function(f,g,h){h.d(g,"a",function(){return z});h.d(g,"b",function(){return p});h.d(g,"c",function(){return m});h.d(g,"d",function(){return e});f=h(56);var x=h.n(f),u=h(30),E=h(78),z="UPDATE_PROVISIONED_CONTENT",p="UPDATE_PROVISIONED_CONTENT_FAILED",m="UPDATE_PROVISIONED_CONTENT_SUCCESS",e=function(){return function(c,a){var b=
a();if("loaded"===b.results.provisionedContent.status)return(new x.a).resolve();if("failed"===b.results.provisionedContent.status)return(new x.a).reject();c({type:z});var d=b.settings.utils,k=d.portal;return Object(u.d)(d.request,k,k.user.username).then(function(n){c({type:m,payload:n.filter(function(q){return-1<b.settings.config.allowedItemTypes.indexOf(q.type)}).map(function(q){return Object(E.a)(k,b.settings.utils.iconDir,q)})})},function(n){c({type:p})})}}},264:function(f,g,h){h.d(g,"a",function(){return e});
h.d(g,"c",function(){return c});h.d(g,"d",function(){return a});h.d(g,"b",function(){return b});h.d(g,"e",function(){return d});var x=h(0);f=h(65);var u=h.n(f);f=h(56);var E=h.n(f),z=h(99),p=h(30);f=h(15);var m=h(86),e="LOADING_CUSTOM_SECTION_INFO",c="UPDATE_CUSTOM_SECTION_SCHEMAS",a="UPDATE_CUSTOM_SECTION_INFO_FAILED",b="UPDATE_CUSTOM_SECTION_GROUPS",d=function(){return function(q,y){function C(F){q({type:a})}var B=y();if("loaded"===B.results.customSections.status)return(new E.a).resolve();if("failed"===
B.results.customSections.status)return(new E.a).reject();q({type:e});var D=Object(z.f)("id",B.settings.config.customSections.filter(m.f).map(m.a).reduce(function(F,r){return Object(x.g)(Object(x.g)([],F),r)},[]));return k(q,y,D).then(function(){return B=y(),u()(D.map(function(F){return n(B,F).then(function(r){return{id:F.id,type:F.type,response:r}})}))},C).then(function(F){return q({type:c,payload:F})},C)}},k=function(q,y,C){var B=y(),D=new E.a;if(0<C.length){B=B.settings.utils;var F=B.request,r=
B.portal;C=C.filter(function(A){return"group"===A.type}).map(function(A){var G=A.id;return Object(p.e)(F,r,A.fetchGroupIdByQuery||"id:"+G).then(function(H){return H.results[0]||{}})});u()(C).then(function(A){var G=y();q({type:b,payload:{currentSection:G.parameters.section,customSections:G.settings.config.customSections,groups:A}});D.resolve()})}else D.resolve();return D},n=Object(f.a)(function(q,y){var C=q.settings.utils,B=C.request;C=C.portal;return y.staticSchema?(B=new E.a,B.resolve({categorySchema:y.staticSchema}),
B.then(function(D){return D})):"group"===y.type?Object(p.f)(B,C,y.id):Object(p.j)(B,C,y.id)})},265:function(f,g,h){function x(p){if(0<p.length){var m=E.a.filter(function(e){return-1===p.indexOf(e)}).filter(function(e){return p.reduce(function(c,a){return-1<e.indexOf(a)||c},!1)});return'((type:"'+p.join('" OR type:"')+'")'+(0<m.length?' AND (-type:"'+m.join('" AND -type:"')+'")':"")+")"}return""}h.d(g,"a",function(){return z});var u=h(0),E=h(141);f=h(15);var z=Object(f.a)(function(p,m,e){var c=m.itemTypeFilter,
a=m.allowedItemTypes;m=m.specialItemQ;return c?0<a.length&&m?Object(u.g)(Object(u.g)([],e),[p[c.value]+" AND ("+m+" OR ("+x(a)+"))"]):0<a.length||m?Object(u.g)(Object(u.g)([],e),[p[c.value]+" AND ("+(m?""+m:""+x(a))+")"]):Object(u.g)(Object(u.g)([],e),[""+p[c.value]]):m?Object(u.g)(Object(u.g)([],e),["("+m+") "+(0<a.length?"OR ("+x(a)+")":"")]):Object(u.g)(Object(u.g)([],e),[x(a)])})},266:function(f,g,h){h.d(g,"a",function(){return z});h.d(g,"b",function(){return p});h.d(g,"c",function(){return m});
h.d(g,"d",function(){return e});f=h(65);var x=h.n(f);f=h(56);var u=h.n(f),E=h(30),z="LOADING_ORG_INFO",p="UPDATE_ORG_INFO",m="UPDATE_ORG_INFO_FAILED",e=function(){return function(c,a){var b=a();if("loaded"===b.results.organization.status)return(new u.a).resolve();if("failed"===b.results.organization.status)return(new u.a).reject();c({type:z});var d=b.settings.utils;b=d.request;d=d.portal;var k=[Object(E.j)(b,d).then(function(n){return n.categorySchema}),Object(E.c)(b,d).then(function(n){return n.data.results})];
return d.isPortal&&k.push(Object(E.o)(b,d).then(function(n){return n.servers})),x()(k).then(function(n){c({type:p,payload:{schema:n[0],groups:n[1],servers:n[2]}})},function(n){c({type:m})})}}},28:function(f,g,h){(function(x,u){f.exports=function(){function E(){var ia=setTimeout;return function(){return ia(z,1)}}function z(){for(var ia=0;ia<D;ia+=2)(0,M[ia])(M[ia+1]),M[ia]=void 0,M[ia+1]=void 0;D=0}function p(ia,T){var la=this,S=new this.constructor(e);void 0===S[ka]&&C(S);var P=la._state;if(P){var I=
arguments[P-1];A(function(){return y(P,S,I,la._result)})}else n(la,S,ia,T);return S}function m(ia){if(ia&&"object"==typeof ia&&ia.constructor===this)return ia;var T=new this(e);return a(T,ia),T}function e(){}function c(ia,T,la){T.constructor===ia.constructor&&la===p&&T.constructor.resolve===m?function(S,P){1===P._state?d(S,P._result):2===P._state?k(S,P._result):n(P,void 0,function(I){return a(S,I)},function(I){return k(S,I)})}(ia,T):void 0===la?d(ia,T):"function"==typeof la?function(S,P,I){A(function(ba){var W=
!1,aa=function(Q,N,R,X){try{Q.call(N,R,X)}catch(Y){return Y}}(I,P,function(Q){W||(W=!0,P!==Q?a(ba,Q):d(ba,Q))},function(Q){W||(W=!0,k(ba,Q))},ba._label);!W&&aa&&(W=!0,k(ba,aa))},S)}(ia,T,la):d(ia,T)}function a(ia,T){if(ia===T)k(ia,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(la=T),null===la||"object"!==S&&"function"!==S)d(ia,T);else{la=void 0;try{la=T.then}catch(P){return void k(ia,P)}c(ia,T,la)}var la,S}function b(ia){ia._onerror&&ia._onerror(ia._result);q(ia)}function d(ia,
T){void 0===ia._state&&(ia._result=T,ia._state=1,0!==ia._subscribers.length&&A(q,ia))}function k(ia,T){void 0===ia._state&&(ia._state=2,ia._result=T,A(b,ia))}function n(ia,T,la,S){var P=ia._subscribers,I=P.length;ia._onerror=null;P[I]=T;P[I+1]=la;P[I+2]=S;0===I&&ia._state&&A(q,ia)}function q(ia){var T=ia._subscribers,la=ia._state;if(0!==T.length){for(var S=void 0,P=void 0,I=ia._result,ba=0;ba<T.length;ba+=3)S=T[ba],P=T[ba+la],S?y(la,S,P,I):P(I);ia._subscribers.length=0}}function y(ia,T,la,S){var P=
"function"==typeof la,I=void 0,ba=void 0,W=!0;if(P){try{I=la(S)}catch(aa){W=!1,ba=aa}if(T===I)return void k(T,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==T._state||(P&&W?a(T,I):!1===W?k(T,ba):1===ia?d(T,I):2===ia&&k(T,I))}function C(ia){ia[ka]=ma++;ia._state=void 0;ia._result=void 0;ia._subscribers=[]}var B=Array.isArray?Array.isArray:function(ia){return"[object Array]"===Object.prototype.toString.call(ia)},D=0,F=void 0,r=void 0,A=function(ia,T){M[D]=ia;
M[D+1]=T;2===(D+=2)&&(r?r(z):fa())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var J="undefined"==typeof self&&void 0!==x&&"[object process]"==={}.toString.call(x),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=Array(1E3),K,U,Z,ca,fa=void 0;J?fa=function(){return x.nextTick(z)}:H?(U=0,Z=new H(z),ca=document.createTextNode(""),Z.observe(ca,{characterData:!0}),fa=function(){ca.data=
U=++U%2}):O?((K=new MessageChannel).port1.onmessage=z,fa=function(){return K.port2.postMessage(0)}):fa=void 0===G?function(){try{var ia=Function("return this")().require("vertx");return void 0!==(F=ia.runOnLoop||ia.runOnContext)?function(){F(z)}:E()}catch(T){return E()}}():E();var ka=Math.random().toString(36).substring(2),ma=0,ra=function(){function ia(T,la){this._instanceConstructor=T;this.promise=new T(e);this.promise[ka]||C(this.promise);B(la)?(this.length=la.length,this._remaining=la.length,
this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(la),0===this._remaining&&d(this.promise,this._result))):k(this.promise,Error("Array Methods must be provided an Array"))}return ia.prototype._enumerate=function(T){for(var la=0;void 0===this._state&&la<T.length;la++)this._eachEntry(T[la],la)},ia.prototype._eachEntry=function(T,la){var S=this._instanceConstructor,P=S.resolve;if(P===m){var I=P=void 0,ba=!1;try{P=T.then}catch(W){ba=
!0,I=W}P===p&&void 0!==T._state?this._settledAt(T._state,la,T._result):"function"!=typeof P?(this._remaining--,this._result[la]=T):S===za?(S=new S(e),ba?k(S,I):c(S,T,P),this._willSettleAt(S,la)):this._willSettleAt(new S(function(W){return W(T)}),la)}else this._willSettleAt(P(T),la)},ia.prototype._settledAt=function(T,la,S){var P=this.promise;void 0===P._state&&(this._remaining--,2===T?k(P,S):this._result[la]=S);0===this._remaining&&d(P,this._result)},ia.prototype._willSettleAt=function(T,la){var S=
this;n(T,void 0,function(P){return S._settledAt(1,la,P)},function(P){return S._settledAt(2,la,P)})},ia}(),za=function(){function ia(T){this[ka]=ma++;this._result=this._state=void 0;this._subscribers=[];if(e!==T){if("function"!=typeof T)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ia)(function(la,S){try{S(function(P){a(la,P)},function(P){k(la,P)})}catch(P){k(la,P)}})(this,T);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return ia.prototype["catch"]=function(T){return this.then(null,T)},ia.prototype["finally"]=function(T){var la=this.constructor;return"function"==typeof T?this.then(function(S){return la.resolve(T()).then(function(){return S})},function(S){return la.resolve(T()).then(function(){throw S;})}):this.then(T,T)},ia}();return za.prototype.then=p,za.all=function(ia){return(new ra(this,ia)).promise},za.race=function(ia){var T=this;return B(ia)?new T(function(la,S){for(var P=ia.length,I=0;I<P;I++)T.resolve(ia[I]).then(la,
S)}):new T(function(la,S){return S(new TypeError("You must pass an array to race."))})},za.resolve=m,za.reject=function(ia){var T=new this(e);return k(T,ia),T},za._setScheduler=function(ia){r=ia},za._setAsap=function(ia){A=ia},za._asap=A,za.polyfill=function(){var ia=void 0;if(void 0!==u)ia=u;else if("undefined"!=typeof self)ia=self;else try{ia=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var T=ia.Promise;if(T){var la=
null;try{la=Object.prototype.toString.call(T.resolve())}catch(S){}if("[object Promise]"===la&&!T.cast)return}ia.Promise=za},za.Promise=za,za}()}).call(this,h(189),h(170))},286:function(f,g,h){h.d(g,"b",function(){return c});h.d(g,"a",function(){return a});h.d(g,"c",function(){return b});var x=h(0);f=h(65);var u=h.n(f);f=h(56);var E=h.n(f),z=h(30),p=h(51),m=h(78),e=h(126),c="UPDATE_FULL_ITEM_DETAILS",a="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(d){return function(k,n){var q=n(),y=Object(e.a)(q),C=
q.settings.utils.request,B=[];B.push(Object(z.r)(C,y,d.owner).then(function(F){return Object(p.m)(y,F)},function(F){throw F;}));var D=y.restUrl+"/content/items/"+d.id;y.user&&d.owner===y.user.username&&(D=y.restUrl+"/content/users/"+y.user.username+"/items/"+d.id);B.push(Object(z.v)(C,D).then(function(F){if(F.item&&F.sharing){var r=new E.a;return Object(z.v)(C,y.restUrl+"/community/groups",{q:"id: "+F.sharing.groups.map(function(A){return'"'+A+'"'}).join(" OR ")}).then(function(A){return r.resolve(Object(x.a)(Object(x.a)({},
Object(m.a)(y,q.settings.utils.iconDir,F.item)),{sharing:F.sharing,sharedToGroups:A.results}))},function(A){return r.reject(A)}),r}return Object(m.a)(y,q.settings.utils.iconDir,F)},function(F){throw d.id;}));u()(B).then(function(F){k({type:c,payload:{item:F[1],owner:F[0]}})},function(F){k({type:a,payload:F})})}}},288:function(f,g,h){h.d(g,"a",function(){return x});h.d(g,"b",function(){return u});var x="CHANGE_SEARCH_SECTION",u=function(E){return function(z,p){var m=p();z({type:x,payload:{newSection:E,
customSections:m.settings.config.customSections,customSectionGroupSort:m.results.customSections.groupSort}})}}},290:function(f,g,h){h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});h.d(g,"d",function(){return E});h.d(g,"c",function(){return z});var x="CHANGE_SORT_ORDER",u="CHANGE_SORT_FIELD",E=function(p){return{type:x,payload:p}},z=function(p){return{type:u,payload:p}}},295:function(f,g,h){h.d(g,"b",function(){return p});h.d(g,"a",function(){return m});h.d(g,"c",function(){return e});
h.d(g,"d",function(){return c});var x=h(162),u=h(78),E=h(217),z=h(199),p="CHANGE_PAGE_SUCCESS",m="CHANGE_PAGE_FAIL",e="CHANGING_PAGE",c=function(a){return function(b,d){var k=d();b({type:e,payload:a});var n=k.settings.utils,q=n.portal,y=n.iconDir;n=k.settings.utils.request;var C=k.settings.config.resultsPerQuery;C=Object(x.b)({num:C,start:(a-1)*C+1},k);n(C[0],C[1]).then(Object(E.a)(k),function(B){return b({type:m,payload:{err:B}})}).then(function(B){b({type:p,payload:{organizations:B.data.organizations,
displayItems:B.data.results.map(function(D){return Object(u.a)(q,y,D)}),page:a}});b(z.e)},function(B){return b({type:m,payload:{err:B}})})}}},30:function(f,g,h){function x(M){return M.reduce(function(K,U){return U&&U.relatedItems?K.concat(U.relatedItems.map(function(Z){return Z})):K},[])}function u(M,K,U){return M(K,{query:Object(p.a)({f:"json"},U)}).then(function(Z){return Z.data})}function E(M,K){void 0===K&&(K=100);for(var U=[],Z=0;Z<Math.ceil(M.length/K);Z++)U.push(M.slice(Z*K,(Z+1)*K));return U.filter(function(ca){return 0<
ca.length})}function z(M){var K=M.itemIds,U=M.request,Z=M.groupIds,ca=M.portal.restUrl+"/content/itemsgroups";return new m.Promise(function(fa,ka){U(ca,{method:"get",query:{f:"json",items:K,groups:Z}}).then(function(ma){fa(ma.data)},ka)})}h.d(g,"u",function(){return e});h.d(g,"n",function(){return c});h.d(g,"h",function(){return a});h.d(g,"e",function(){return b});h.d(g,"f",function(){return d});h.d(g,"j",function(){return k});h.d(g,"o",function(){return n});h.d(g,"l",function(){return q});h.d(g,
"k",function(){return y});h.d(g,"m",function(){return C});h.d(g,"c",function(){return B});h.d(g,"d",function(){return D});h.d(g,"r",function(){return F});h.d(g,"s",function(){return r});h.d(g,"t",function(){return A});h.d(g,"g",function(){return G});h.d(g,"p",function(){return H});h.d(g,"q",function(){return J});h.d(g,"v",function(){return u});h.d(g,"a",function(){return E});h.d(g,"i",function(){return z});h.d(g,"b",function(){return O});var p=h(0),m=h(28),e=function(M){return function(K,U){return M({url:K,
content:U.query},{usePost:"post"===U.method}).then(function(Z){return{data:Z}})}},c=function(M,K,U){return u(M,K.restUrl+"/portals/self",{culture:U,"default":!0})},a=function(M,K,U){return u(M,K.restUrl+"/content/items/"+U+"/data")},b=function(M,K,U,Z){return u(M,K.restUrl+"/community/groups",Object(p.a)({q:U},Z))},d=function(M,K,U){return u(M,K.restUrl+"/community/groups/"+U+"/categorySchema")},k=function(M,K,U){return u(M,K.restUrl+"/portals/"+(U||K.id)+"/categorySchema")},n=function(M,K){return u(M,
K.restUrl+"/portals/"+K.id+"/servers")},q=function(M,K,U,Z){return M(K.restUrl+"/portals/"+(U||K.id)+"/collaborationsSummary",Z)},y=function(M,K,U,Z){return M(K.restUrl+"/portals/"+(U||K.id)+"/collaboratedItems",Z)},C=function(M,K,U){return u(M,location.protocol+"//"+K.portalHostname+"/sharing/rest/portals/"+(U||"self"))},B=function(M,K,U){return M(K.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+K.id+" AND access:public",num:100,start:U||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>
Z.data.start+Z.data.num?B(M,K,Z.data.start+Z.data.num).then(function(ca){return Object(p.a)(Object(p.a)({},ca),{data:Object(p.a)(Object(p.a)({},ca.data),{results:Z.data.results.concat(ca.data.results)})})}):Z})},D=function(M,K,U,Z){return M(K.restUrl+"/community/users/"+U+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(ca){var fa=m.Promise.all(ca.data.provisionedListings.filter(function(ma){return ma.itemId}).map(function(ma){return(new m.Promise(function(ra,za){M(K.restUrl+
"/content/items/"+ma.itemId,{method:"get",query:{f:"json"}}).then(function(ia){ra(ia.data)},za)}))["catch"](function(ra){return 0})})),ka=ca.data.provisionedListings.map(function(ma){return u(M,K.restUrl+"/content/items/"+(ma.id||ma.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ra){return ra},function(ra){})});return ca.data.total>ca.data.start+ca.data.num?D(M,K,U,ca.data.start+ca.data.num).then(function(ma){return m.Promise.all([fa].concat(ka)).then(function(ra){return ra[0].results.concat(x(ra.slice(1))).concat(ma)})}):
m.Promise.all([fa].concat(ka)).then(function(ma){return ma[0].filter(function(ra){return void 0!==ra}).concat(x(ma.slice(1)))})})},F=function(M,K,U){return u(M,K.restUrl+"/community/users/"+(U||K.user.username))},r=function(M,K,U){return u(M,K.restUrl+"/content/users/"+(U||K.user.username),{num:1})},A=function(M,K,U){return u(M,K.restUrl+"/content/groups/"+U)},G=function(M,K,U){return u(M,K.restUrl+"/community/groups",U)},H=function(M,K){return u(M,K.restUrl+"/portals/self/settings")},J=function(M,
K){return u(M,K.restUrl+"/portals/self/trustedOrgs",{num:100})},O=function(M,K){return void 0===K&&(K=","),M.map(function(U){return U.id}).join(K)}},309:function(f,g,h){function x(u,E,z){return Promise.all(u.map(function(p){return function(m,e,c){return new Promise(function(a,b){c(e.restUrl+"/community/users/"+m,{method:"get",query:{f:"json"}}).then(function(d){return a(null==d?void 0:d.data)},b)})}(p,E,z)}))}h.d(g,"a",function(){return x})},323:function(f,g,h){h.d(g,"b",function(){return u});h.d(g,
"a",function(){return E});var x=h(0);f=h(15);f=Object(f.a)(function(z,p,m){return p?Object(x.g)(Object(x.g)([],m),["("+z+":["+(p.start+" TO "+p.end+"])")]):m});var u=f("modified"),E=f("uploaded")},324:function(f,g,h){h.d(g,"b",function(){return u});h.d(g,"a",function(){return E});var x=h(0);f=h(15);var u=Object(f.a)(function(z,p){if(z){var m=Object.keys(z);if(0<m.length)return Object(x.g)(Object(x.g)([],p),["tags:("+m.join(" AND ")+")"])}return p}),E=Object(f.a)(function(z,p){return 2<z.length?Object(x.g)(Object(x.g)([],
p),["tags:("+z+"* OR "+z+")"]):p})},325:function(f,g,h){h.d(g,"a",function(){return u});f=h(63);g=h(101);var x=h(227);h=h(228);var u=Object(f.a)(x.a,h.a,g.b)},326:function(f,g,h){h.d(g,"a",function(){return p});h.d(g,"b",function(){return m});f=h(56);var x=h.n(f),u=h(30),E=h(325),z=h(150),p="UPDATE_PORTAL_SELF",m=function(){return function(e,c){var a=c(),b=a.settings.utils,d=b.portal;b=b.request;var k=d.user&&d.user.culture?d.user.culture:z.locale;return a.settings.utils.self?(new x.a).resolve(a.settings.utils.self):
Object(u.n)(b,d,k).then(function(n){n=Object(E.a)(n);return e({type:p,payload:{self:n,config:a.settings.config}}),n})}}},327:function(f,g,h){h.d(g,"a",function(){return m});h.d(g,"b",function(){return e});h.d(g,"c",function(){return c});h.d(g,"d",function(){return a});var x=h(0),u=h(36);f=h(56);var E=h.n(f),z=h(150),p=h(402),m="LOADING_LIVING_ATLAS_INFO",e="UPDATE_LIVING_ATLAS_INFO",c="FETCH_LIVING_ATLAS_INFO_FAILED",a=function(b){return function(d,k){var n=k();if("loaded"===n.results.livingAtlas.status)return(new E.a).resolve();
if("failed"===n.results.livingAtlas.status)return(new E.a).reject();d({type:m});n=n.settings.utils;var q=n.portal;return Object(p.a)(n.request,q,b,q.user&&q.user.culture?q.user.culture:z.locale).then(function(y){d({type:e,payload:Object(x.a)(Object(x.a)({},y),{schema:y.schema.map(function(C){return"region"===C.title?Object(x.a)(Object(x.a)({},C),{displayName:u.regions}):C})})})},function(y){d({type:c})})}}},328:function(f,g,h){h.d(g,"a",function(){return p});var x=h(30),u=h(49);f=h(65);var E=h.n(f),
z=function(m,e,c){m({type:"LOADING_COLLABORATIONS"});var a=[];Object.keys(c).forEach(function(d){a[d]=[];0<c[d].participants.length&&c[d].participants.forEach(function(k){a[k.value]=[]})});var b=Object.keys(a).map(function(d){d=d.split("__");var k=d[0],n=d[1]?d[1]:"";return Object(x.k)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:""!==n?{collaborationId:k,participantId:n,f:"json"}:{collaborationId:k,f:"json"}}).then(function(q){(q.data.collaboratedItems||q.collaboratedItems).forEach(function(y){if(n){var C=
k+"__"+n;c[k].participants.filter(function(B){return B.value===C})[0].items.push(Object.keys(y)[0])}else c[k].items.push(Object.keys(y)[0])})},function(){return m({type:"LOADING_COLLABORATIONS_FAILED"})})});return E()(b).then(function(){m(Object(u.s)(c));m({type:"LOADING_COLLABORATIONS_SUCCESS",payload:c})})},p=function(m,e){if(m({type:"LOADING_COLLABORATIONS"}),e&&e.parameters&&e.parameters.filter&&e.parameters.filter.origins&&0<Object.keys(e.parameters.filter.origins).length){var c=e.parameters.filter.origins;
return m(Object(u.s)(c)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:c}}return Object(x.l)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(a){var b=[];a.data&&a.data.collaborations&&a.data.collaborations.forEach(function(d){var k=d.collaborationId,n=d.collaborationName.trim();b[k]={value:k,label:n,addClass:"",childOf:"",selected:!1,participants:[],items:[]};d.participants&&(b[k].participants=d.participants.map(function(q){return 1===
(q=Object.keys(q).map(function(y){var C=q[y].trim();return{value:k+"__"+y,label:C,childOf:k,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?q[0]:q}))});z(m,e,b).then(function(){return m(Object(u.s)(b))},function(){return m({type:"LOADING_COLLABORATIONS_FAILED"})})},function(a){return m({type:"LOADING_COLLABORATIONS_FAILED",payload:a})})}},329:function(f,g,h){function x(u){return"string"==typeof u?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(u):
!!u.filters&&-1<u.filters.indexOf("tags")}h.d(g,"a",function(){return x})},336:function(f,g,h){(function(x,u){function E(oa,xa){return oa.set(xa[0],xa[1]),oa}function z(oa,xa){return oa.add(xa),oa}function p(oa,xa,ta,ja){var pa=-1,va=oa?oa.length:0;for(ja&&va&&(ta=oa[++pa]);++pa<va;)ta=xa(ta,oa[pa],pa,oa);return ta}function m(oa){var xa=!1;if(null!=oa&&"function"!=typeof oa.toString)try{xa=!!(oa+"")}catch(ta){}return xa}function e(oa){var xa=-1,ta=Array(oa.size);return oa.forEach(function(ja,pa){ta[++xa]=
[pa,ja]}),ta}function c(oa,xa){return function(ta){return oa(xa(ta))}}function a(oa){var xa=-1,ta=Array(oa.size);return oa.forEach(function(ja){ta[++xa]=ja}),ta}function b(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function d(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function k(oa){var xa=-1,ta=oa?oa.length:0;for(this.clear();++xa<ta;){var ja=oa[xa];this.set(ja[0],ja[1])}}function n(oa){this.__data__=
new d(oa)}function q(oa,xa){var ta=Ea(oa)||function(Fa){return!!Fa&&"object"==typeof Fa&&O(Fa)&&ba.call(Fa,"callee")&&(!X.call(Fa,"callee")||"[object Arguments]"==W.call(Fa))}(oa)?function(Fa,Da){for(var Ca=-1,Ia=Array(Fa);++Ca<Fa;)Ia[Ca]=Da(Ca);return Ia}(oa.length,String):[],ja=ta.length,pa=!!ja,va;for(va in oa)!xa&&!ba.call(oa,va)||pa&&("length"==va||G(va,ja))||ta.push(va);return ta}function y(oa,xa,ta){var ja=oa[xa];ba.call(oa,xa)&&(ja===ta||ja!=ja&&ta!=ta)&&(void 0!==ta||xa in oa)||(oa[xa]=ta)}
function C(oa,xa){for(var ta=oa.length;ta--;){var ja=oa[ta][0];if(ja===xa||ja!=ja&&xa!=xa)return ta}return-1}function B(oa,xa,ta,ja,pa,va,Fa){var Da;if(ja&&(Da=va?ja(oa,pa,va,Fa):ja(oa)),void 0!==Da)return Da;if(!K(oa))return oa;if(pa=Ea(oa)){if(Da=function(Ga){var Ma=Ga.length,Ha=Ga.constructor(Ma);Ma&&"string"==typeof Ga[0]&&ba.call(Ga,"index")&&(Ha.index=Ga.index,Ha.input=Ga.input);return Ha}(oa),!xa)return function(Ga,Ma){var Ha=-1,Ka=Ga.length;for(Ma||(Ma=Array(Ka));++Ha<Ka;)Ma[Ha]=Ga[Ha];return Ma}(oa,
Da)}else{var Ca=wa(oa),Ia="[object Function]"==Ca||"[object GeneratorFunction]"==Ca;if(sa(oa))return function(Ga,Ma){if(Ma)return Ga.slice();var Ha=new Ga.constructor(Ga.length);return Ga.copy(Ha),Ha}(oa,xa);if("[object Object]"==Ca||"[object Arguments]"==Ca||Ia&&!va){if(m(oa))return va?oa:{};if(Da=function(Ga){return"function"!=typeof Ga.constructor||H(Ga)?{}:(Ma=N(Ga),K(Ma)?R(Ma):{});var Ma}(Ia?{}:oa),!xa)return function(Ga,Ma){return F(Ga,Ja(Ga),Ma)}(oa,function(Ga,Ma){return Ga&&F(Ma,U(Ma),Ga)}(Da,
oa))}else{if(!ka[Ca])return va?oa:{};Da=function(Ga,Ma,Ha,Ka){var Na=Ga.constructor;switch(Ma){case "[object ArrayBuffer]":return D(Ga);case "[object Boolean]":case "[object Date]":return new Na(+Ga);case "[object DataView]":return function(Pa,Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.byteLength)}(Ga,Ka);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Pa,
Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.length)}(Ga,Ka);case "[object Map]":return function(Pa,Ra,Sa){return p(Ra?Sa(e(Pa),!0):e(Pa),E,new Pa.constructor)}(Ga,Ka,Ha);case "[object Number]":case "[object String]":return new Na(Ga);case "[object RegExp]":return function(Pa){var Ra=new Pa.constructor(Pa.source,Z.exec(Pa));return Ra.lastIndex=Pa.lastIndex,Ra}(Ga);case "[object Set]":return function(Pa,Ra,Sa){return p(Ra?Sa(a(Pa),!0):a(Pa),z,new Pa.constructor)}(Ga,
Ka,Ha);case "[object Symbol]":return Qa=Ga,Oa?Object(Oa.call(Qa)):{}}var Qa}(oa,Ca,B,xa)}}Fa||(Fa=new n);if(va=Fa.get(oa))return va;if(Fa.set(oa,Da),!pa)var La=ta?function(Ga){var Ma=Ja,Ha=U(Ga);if(!Ea(Ga)){Ga=Ma(Ga);Ma=-1;for(var Ka=Ga.length,Na=Ha.length;++Ma<Ka;)Ha[Na+Ma]=Ga[Ma]}return Ha}(oa):U(oa);return function(Ga,Ma){for(var Ha=-1,Ka=Ga?Ga.length:0;++Ha<Ka&&!1!==Ma(Ga[Ha],Ha,Ga););}(La||oa,function(Ga,Ma){La&&(Ga=oa[Ma=Ga]);y(Da,Ma,B(Ga,xa,ta,ja,Ma,oa,Fa))}),Da}function D(oa){var xa=new oa.constructor(oa.byteLength);
return(new Q(xa)).set(new Q(oa)),xa}function F(oa,xa,ta,ja){ta||(ta={});for(var pa=-1,va=xa.length;++pa<va;){var Fa=xa[pa],Da=ja?ja(ta[Fa],oa[Fa],Fa,ta,oa):void 0;y(ta,Fa,void 0===Da?oa[Fa]:Da)}return ta}function r(oa,xa){var ta,ja=oa.__data__;return("string"==(ta=typeof xa)||"number"==ta||"symbol"==ta||"boolean"==ta?"__proto__"!==xa:null===xa)?ja["string"==typeof xa?"string":"hash"]:ja.map}function A(oa,xa){var ta=null==oa?void 0:oa[xa];a:{var ja=!(!K(ta)||(pa=ta,P&&P in pa))&&(M(ta)||m(ta)?aa:ca).test(J(ta));
break a;var pa}return ja?ta:void 0}function G(oa,xa){return!!(xa=null==xa?9007199254740991:xa)&&("number"==typeof oa||fa.test(oa))&&-1<oa&&0==oa%1&&oa<xa}function H(oa){var xa=oa&&oa.constructor;return oa===("function"==typeof xa&&xa.prototype||la)}function J(oa){if(null!=oa){try{return I.call(oa)}catch(xa){}return oa+""}return""}function O(oa){var xa;if(xa=null!=oa)xa=oa.length,xa="number"==typeof xa&&-1<xa&&0==xa%1&&9007199254740991>=xa;return xa&&!M(oa)}function M(oa){oa=K(oa)?W.call(oa):"";return"[object Function]"==
oa||"[object GeneratorFunction]"==oa}function K(oa){var xa=typeof oa;return!!oa&&("object"==xa||"function"==xa)}function U(oa){if(O(oa))oa=q(oa);else if(H(oa)){var xa=[],ta;for(ta in Object(oa))ba.call(oa,ta)&&"constructor"!=ta&&xa.push(ta);oa=xa}else oa=da(oa);return oa}var Z=/\w*$/,ca=/^\[object .+?Constructor\]$/,fa=/^(?:0|[1-9]\d*)$/,ka={};ka["[object Arguments]"]=ka["[object Array]"]=ka["[object ArrayBuffer]"]=ka["[object DataView]"]=ka["[object Boolean]"]=ka["[object Date]"]=ka["[object Float32Array]"]=
ka["[object Float64Array]"]=ka["[object Int8Array]"]=ka["[object Int16Array]"]=ka["[object Int32Array]"]=ka["[object Map]"]=ka["[object Number]"]=ka["[object Object]"]=ka["[object RegExp]"]=ka["[object Set]"]=ka["[object String]"]=ka["[object Symbol]"]=ka["[object Uint8Array]"]=ka["[object Uint8ClampedArray]"]=ka["[object Uint16Array]"]=ka["[object Uint32Array]"]=!0;ka["[object Error]"]=ka["[object Function]"]=ka["[object WeakMap]"]=!1;var ma="object"==typeof self&&self&&self.Object===Object&&self;
ma="object"==typeof x&&x&&x.Object===Object&&x||ma||Function("return this")();var ra=g&&!g.nodeType&&g,za=ra&&"object"==typeof u&&u&&!u.nodeType&&u;za=za&&za.exports===ra;var ia;ra=Array.prototype;var T=Function.prototype,la=Object.prototype,S=ma["__core-js_shared__"],P=(ia=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",I=T.toString,ba=la.hasOwnProperty,W=la.toString,aa=RegExp("^"+I.call(ba).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$");za=za?ma.Buffer:void 0;ia=ma.Symbol;var Q=ma.Uint8Array,N=c(Object.getPrototypeOf,Object),R=Object.create,X=la.propertyIsEnumerable,Y=ra.splice;ra=Object.getOwnPropertySymbols;za=za?za.isBuffer:void 0;var da=c(Object.keys,Object);T=A(ma,"DataView");var ea=A(ma,"Map");S=A(ma,"Promise");var ha=A(ma,"Set");ma=A(ma,"WeakMap");var na=A(Object,"create"),qa=J(T),ua=J(ea),ya=J(S),Aa=J(ha),Ba=J(ma),Oa=(ia=ia?ia.prototype:void 0)?ia.valueOf:void 0;b.prototype.clear=function(){this.__data__=na?
na(null):{}};b.prototype["delete"]=function(oa){return this.has(oa)&&delete this.__data__[oa]};b.prototype.get=function(oa){var xa=this.__data__;return na?(oa=xa[oa],"__lodash_hash_undefined__"===oa?void 0:oa):ba.call(xa,oa)?xa[oa]:void 0};b.prototype.has=function(oa){var xa=this.__data__;return na?void 0!==xa[oa]:ba.call(xa,oa)};b.prototype.set=function(oa,xa){return this.__data__[oa]=na&&void 0===xa?"__lodash_hash_undefined__":xa,this};d.prototype.clear=function(){this.__data__=[]};d.prototype["delete"]=
function(oa){var xa=this.__data__;oa=C(xa,oa);return!(0>oa)&&(oa==xa.length-1?xa.pop():Y.call(xa,oa,1),!0)};d.prototype.get=function(oa){var xa=this.__data__;oa=C(xa,oa);return 0>oa?void 0:xa[oa][1]};d.prototype.has=function(oa){return-1<C(this.__data__,oa)};d.prototype.set=function(oa,xa){var ta=this.__data__,ja=C(ta,oa);return 0>ja?ta.push([oa,xa]):ta[ja][1]=xa,this};k.prototype.clear=function(){this.__data__={hash:new b,map:new (ea||d),string:new b}};k.prototype["delete"]=function(oa){return r(this,
oa)["delete"](oa)};k.prototype.get=function(oa){return r(this,oa).get(oa)};k.prototype.has=function(oa){return r(this,oa).has(oa)};k.prototype.set=function(oa,xa){return r(this,oa).set(oa,xa),this};n.prototype.clear=function(){this.__data__=new d};n.prototype["delete"]=function(oa){return this.__data__["delete"](oa)};n.prototype.get=function(oa){return this.__data__.get(oa)};n.prototype.has=function(oa){return this.__data__.has(oa)};n.prototype.set=function(oa,xa){var ta=this.__data__;if(ta instanceof
d){ta=ta.__data__;if(!ea||199>ta.length)return ta.push([oa,xa]),this;ta=this.__data__=new k(ta)}return ta.set(oa,xa),this};var Ja=ra?c(ra,Object):function(){return[]},wa=function(oa){return W.call(oa)};(T&&"[object DataView]"!=wa(new T(new ArrayBuffer(1)))||ea&&"[object Map]"!=wa(new ea)||S&&"[object Promise]"!=wa(S.resolve())||ha&&"[object Set]"!=wa(new ha)||ma&&"[object WeakMap]"!=wa(new ma))&&(wa=function(oa){var xa=W.call(oa);if(oa=(oa="[object Object]"==xa?oa.constructor:void 0)?J(oa):void 0)switch(oa){case qa:return"[object DataView]";
case ua:return"[object Map]";case ya:return"[object Promise]";case Aa:return"[object Set]";case Ba:return"[object WeakMap]"}return xa});var Ea=Array.isArray,sa=za||function(){return!1};u.exports=function(oa){return B(oa,!0,!0)}}).call(this,h(170),h(366)(f))},356:function(f,g,h){function x(E){var z;E=Object(u.a)(E);return!0===(null===(z=E.portalProperties)||void 0===z?void 0:z.semanticSearchEnabled)||E.portalUser&&!E.portalUser.orgId}h.d(g,"a",function(){return x});var u=h(126)},357:function(f,g,h){h.d(g,
"a",function(){return u});h.d(g,"b",function(){return E});var x=h(286),u="VIEW_ITEM_DETAILS",E=function(z){return function(p){p({type:u,payload:z});p(Object(x.c)(z))}}},36:function(f,g){f.exports=L},366:function(f,g){f.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),
h}},386:function(f,g,h){(function(x,u){function E(ta,ja,pa){switch(pa.length){case 0:return ta.call(ja);case 1:return ta.call(ja,pa[0]);case 2:return ta.call(ja,pa[0],pa[1]);case 3:return ta.call(ja,pa[0],pa[1],pa[2])}return ta.apply(ja,pa)}function z(ta){var ja=-1,pa=null==ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function p(ta){var ja=-1,pa=null==ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function m(ta){var ja=-1,pa=null==
ta?0:ta.length;for(this.clear();++ja<pa;){var va=ta[ja];this.set(va[0],va[1])}}function e(ta){this.size=(this.__data__=new p(ta)).size}function c(ta,ja,pa){(void 0===pa||r(ta[ja],pa))&&(void 0!==pa||ja in ta)||b(ta,ja,pa)}function a(ta,ja){for(var pa=ta.length;pa--;)if(r(ta[pa][0],ja))return pa;return-1}function b(ta,ja,pa){"__proto__"==ja&&na?na(ta,ja,{configurable:!0,enumerable:!0,value:pa,writable:!0}):ta[ja]=pa}function d(ta){if(null==ta)ta=void 0===ta?"[object Undefined]":"[object Null]";else if(ha&&
ha in Object(ta)){var ja=I.call(ta,ha),pa=ta[ha];try{ta[ha]=void 0;var va=!0}catch(Da){}var Fa=W.call(ta);va&&(ja?ta[ha]=pa:delete ta[ha]);ta=Fa}else ta=W.call(ta);return ta}function k(ta){return O(ta)&&"[object Arguments]"==d(ta)}function n(ta){return!(!J(ta)||ba&&ba in ta)&&(G(ta)?Q:U).test(function(ja){if(null!=ja){try{return P.call(ja)}catch(pa){}return ja+""}return""}(ta))}function q(ta,ja,pa,va,Fa){ta!==ja&&Oa(ja,function(Da,Ca){if(Fa||(Fa=new e),J(Da))!function(La,Ga,Ma,Ha,Ka,Na,Qa){var Pa=
F(La,Ma),Ra=F(Ga,Ma),Sa=Qa.get(Ra);if(Sa)return void c(La,Ma,Sa);Ga=Na?Na(Pa,Ra,Ma+"",La,Ga,Qa):void 0;if(Sa=void 0===Ga){var Va=Ea(Ra),Ua=!Va&&sa(Ra),Ta=!Va&&!Ua&&oa(Ra);Ga=Ra;Va||Ua||Ta?Ea(Pa)?Ga=Pa:O(cb=Pa)&&A(cb)?Ga=function(Za,$a){var Ya=-1,bb=Za.length;for($a||($a=Array(bb));++Ya<bb;)$a[Ya]=Za[Ya];return $a}(Pa):Ua?(Sa=!1,Ga=function(Za,$a){if($a)return Za.slice();var Ya=Za.length;Ya=R?R(Ya):new Za.constructor(Ya);return Za.copy(Ya),Ya}(Ra,!0)):Ta?(Sa=!1,Xa=Ra,ab=(Wa=Xa.buffer,db=new Wa.constructor(Wa.byteLength),
(new N(db)).set(new N(Wa)),db),Ga=new Xa.constructor(ab,Xa.byteOffset,Xa.length)):Ga=[]:function(Za){if(!O(Za)||"[object Object]"!=d(Za))return!1;Za=X(Za);if(null===Za)return!0;Za=I.call(Za,"constructor")&&Za.constructor;return"function"==typeof Za&&Za instanceof Za&&P.call(Za)==aa}(Ra)||wa(Ra)?(Ga=Pa,wa(Pa)?Ga=function(Za){var $a=M(Za),Ya=void 0,bb=!Ya;Ya||(Ya={});for(var eb=-1,fb=$a.length;++eb<fb;){var gb=$a[eb],hb=void 0;void 0===hb&&(hb=Za[gb]);if(bb)b(Ya,gb,hb);else{var ib=Ya,jb=ib[gb];I.call(ib,
gb)&&r(jb,hb)&&(void 0!==hb||gb in ib)||b(ib,gb,hb)}}return Ya}(Pa):J(Pa)&&!G(Pa)||(Ga=function(Za){return"function"!=typeof Za.constructor||D(Za)?{}:Ba(X(Za))}(Ra))):Sa=!1}var Xa,ab,Wa,db,cb;Sa&&(Qa.set(Ra,Ga),Ka(Ga,Ra,Ha,Na,Qa),Qa["delete"](Ra));c(La,Ma,Ga)}(ta,ja,Ca,pa,q,va,Fa);else{var Ia=va?va(F(ta,Ca),Da,Ca+"",ta,ja,Fa):void 0;void 0===Ia&&(Ia=Da);c(ta,Ca,Ia)}},M)}function y(ta,ja){var pa,va=ta.__data__;return("string"==(pa=typeof ja)||"number"==pa||"symbol"==pa||"boolean"==pa?"__proto__"!==
ja:null===ja)?va["string"==typeof ja?"string":"hash"]:va.map}function C(ta,ja){var pa=null==ta?void 0:ta[ja];return n(pa)?pa:void 0}function B(ta,ja){var pa=typeof ta;return!!(ja=null==ja?9007199254740991:ja)&&("number"==pa||"symbol"!=pa&&Z.test(ta))&&-1<ta&&0==ta%1&&ta<ja}function D(ta){var ja=ta&&ta.constructor;return ta===("function"==typeof ja&&ja.prototype||S)}function F(ta,ja){if(("constructor"!==ja||"function"!=typeof ta[ja])&&"__proto__"!=ja)return ta[ja]}function r(ta,ja){return ta===ja||
ta!=ta&&ja!=ja}function A(ta){return null!=ta&&H(ta.length)&&!G(ta)}function G(ta){if(!J(ta))return!1;ta=d(ta);return"[object Function]"==ta||"[object GeneratorFunction]"==ta||"[object AsyncFunction]"==ta||"[object Proxy]"==ta}function H(ta){return"number"==typeof ta&&-1<ta&&0==ta%1&&9007199254740991>=ta}function J(ta){var ja=typeof ta;return null!=ta&&("object"==ja||"function"==ja)}function O(ta){return null!=ta&&"object"==typeof ta}function M(ta){if(A(ta)){var ja=Ea(ta),pa=!ja&&wa(ta),va=!ja&&!pa&&
sa(ta),Fa=!ja&&!pa&&!va&&oa(ta);if(ja=ja||pa||va||Fa){pa=ta.length;for(var Da=String,Ca=-1,Ia=Array(pa);++Ca<pa;)Ia[Ca]=Da(Ca);pa=Ia}else pa=[];Da=pa.length;for(var La in ta)ja&&("length"==La||va&&("offset"==La||"parent"==La)||Fa&&("buffer"==La||"byteLength"==La||"byteOffset"==La)||B(La,Da))||pa.push(La);ta=pa}else if(J(ta)){La=D(ta);Fa=[];for(va in ta)("constructor"!=va||!La&&I.call(ta,va))&&Fa.push(va);ta=Fa}else{La=[];if(null!=ta)for(Fa in Object(ta))La.push(Fa);ta=La}return ta}function K(ta){return ta}
var U=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,ca={};ca["[object Float32Array]"]=ca["[object Float64Array]"]=ca["[object Int8Array]"]=ca["[object Int16Array]"]=ca["[object Int32Array]"]=ca["[object Uint8Array]"]=ca["[object Uint8ClampedArray]"]=ca["[object Uint16Array]"]=ca["[object Uint32Array]"]=!0;ca["[object Arguments]"]=ca["[object Array]"]=ca["[object ArrayBuffer]"]=ca["[object Boolean]"]=ca["[object DataView]"]=ca["[object Date]"]=ca["[object Error]"]=ca["[object Function]"]=ca["[object Map]"]=
ca["[object Number]"]=ca["[object Object]"]=ca["[object RegExp]"]=ca["[object Set]"]=ca["[object String]"]=ca["[object WeakMap]"]=!1;var fa="object"==typeof x&&x&&x.Object===Object&&x,ka="object"==typeof self&&self&&self.Object===Object&&self;ka=fa||ka||Function("return this")();var ma=g&&!g.nodeType&&g,ra=ma&&"object"==typeof u&&u&&!u.nodeType&&u;fa=(ma=ra&&ra.exports===ma)&&fa.process;a:{try{var za=ra&&ra.require&&ra.require("util").types||fa&&fa.binding&&fa.binding("util");break a}catch(ta){}za=
void 0}za=za&&za.isTypedArray;var ia,T,la;fa=Array.prototype;var S=Object.prototype;ra=ka["__core-js_shared__"];var P=Function.prototype.toString,I=S.hasOwnProperty,ba=(ia=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",W=S.toString,aa=P.call(Object),Q=RegExp("^"+P.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ia=ma?ka.Buffer:void 0;ma=ka.Symbol;var N=ka.Uint8Array,R=ia?ia.allocUnsafe:void 0,
X=(T=Object.getPrototypeOf,la=Object,function(ta){return T(la(ta))}),Y=Object.create,da=S.propertyIsEnumerable,ea=fa.splice,ha=ma?ma.toStringTag:void 0,na=function(){try{var ta=C(Object,"defineProperty");return ta({},"",{}),ta}catch(ja){}}();ia=ia?ia.isBuffer:void 0;var qa=Math.max,ua=Date.now,ya=C(ka,"Map"),Aa=C(Object,"create"),Ba=function(){function ta(){}return function(ja){if(!J(ja))return{};if(Y)return Y(ja);ta.prototype=ja;ja=new ta;return ta.prototype=void 0,ja}}();z.prototype.clear=function(){this.__data__=
Aa?Aa(null):{};this.size=0};z.prototype["delete"]=function(ta){ta=this.has(ta)&&delete this.__data__[ta];return this.size-=ta?1:0,ta};z.prototype.get=function(ta){var ja=this.__data__;return Aa?(ta=ja[ta],"__lodash_hash_undefined__"===ta?void 0:ta):I.call(ja,ta)?ja[ta]:void 0};z.prototype.has=function(ta){var ja=this.__data__;return Aa?void 0!==ja[ta]:I.call(ja,ta)};z.prototype.set=function(ta,ja){var pa=this.__data__;return this.size+=this.has(ta)?0:1,pa[ta]=Aa&&void 0===ja?"__lodash_hash_undefined__":
ja,this};p.prototype.clear=function(){this.__data__=[];this.size=0};p.prototype["delete"]=function(ta){var ja=this.__data__;ta=a(ja,ta);return!(0>ta)&&(ta==ja.length-1?ja.pop():ea.call(ja,ta,1),--this.size,!0)};p.prototype.get=function(ta){var ja=this.__data__;ta=a(ja,ta);return 0>ta?void 0:ja[ta][1]};p.prototype.has=function(ta){return-1<a(this.__data__,ta)};p.prototype.set=function(ta,ja){var pa=this.__data__,va=a(pa,ta);return 0>va?(++this.size,pa.push([ta,ja])):pa[va][1]=ja,this};m.prototype.clear=
function(){this.size=0;this.__data__={hash:new z,map:new (ya||p),string:new z}};m.prototype["delete"]=function(ta){ta=y(this,ta)["delete"](ta);return this.size-=ta?1:0,ta};m.prototype.get=function(ta){return y(this,ta).get(ta)};m.prototype.has=function(ta){return y(this,ta).has(ta)};m.prototype.set=function(ta,ja){var pa=y(this,ta),va=pa.size;return pa.set(ta,ja),this.size+=pa.size==va?0:1,this};e.prototype.clear=function(){this.__data__=new p;this.size=0};e.prototype["delete"]=function(ta){var ja=
this.__data__;ta=ja["delete"](ta);return this.size=ja.size,ta};e.prototype.get=function(ta){return this.__data__.get(ta)};e.prototype.has=function(ta){return this.__data__.has(ta)};e.prototype.set=function(ta,ja){var pa=this.__data__;if(pa instanceof p){var va=pa.__data__;if(!ya||199>va.length)return va.push([ta,ja]),this.size=++pa.size,this;pa=this.__data__=new m(va)}return pa.set(ta,ja),this.size=pa.size,this};var Oa=function(ta,ja,pa){var va=-1,Fa=Object(ta);pa=pa(ta);for(var Da=pa.length;Da--;){var Ca=
pa[++va];if(!1===ja(Fa[Ca],Ca,Fa))break}return ta},Ja=function(ta){var ja=0,pa=0;return function(){var va=ua(),Fa=16-(va-pa);if(pa=va,0<Fa){if(800<=++ja)return arguments[0]}else ja=0;return ta.apply(void 0,arguments)}}(na?function(ta,ja){return na(ta,"toString",{configurable:!0,enumerable:!1,value:(pa=ja,function(){return pa}),writable:!0});var pa}:K),wa=k(function(){return arguments}())?k:function(ta){return O(ta)&&I.call(ta,"callee")&&!da.call(ta,"callee")},Ea=Array.isArray,sa=ia||function(){return!1},
oa=za?function(ta){return function(ja){return ta(ja)}}(za):function(ta){return O(ta)&&H(ta.length)&&!!ca[d(ta)]},xa;ka=(xa=function(ta,ja,pa,va){q(ta,ja,pa,va)},function(ta,ja){return Ja(function(pa,va,Fa){return va=qa(void 0===va?pa.length-1:va,0),function(){for(var Da=arguments,Ca=-1,Ia=qa(Da.length-va,0),La=Array(Ia);++Ca<Ia;)La[Ca]=Da[va+Ca];Ca=-1;for(Ia=Array(va+1);++Ca<va;)Ia[Ca]=Da[Ca];return Ia[va]=Fa(La),E(pa,this,Ia)}}(ta,ja,K),ta+"")}(function(ta,ja){var pa=-1,va=ja.length,Fa=1<va?ja[va-
1]:void 0,Da=2<va?ja[2]:void 0;Fa=3<xa.length&&"function"==typeof Fa?(va--,Fa):void 0;var Ca;if(Ca=Da){Ca=ja[0];var Ia=ja[1];if(J(Da)){var La=typeof Ia;Ca=!!("number"==La?A(Da)&&B(Ia,Da.length):"string"==La&&Ia in Da)&&r(Da[Ia],Ca)}else Ca=!1}Ca&&(Fa=3>va?void 0:Fa,va=1);for(ta=Object(ta);++pa<va;)(Da=ja[pa])&&xa(ta,Da,pa,Fa);return ta}));u.exports=ka}).call(this,h(170),h(366)(f))},398:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){return E?Object(x.g)(Object(x.g)([],
z),["(group:"+E.id+")"]):z})},399:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z,p){if(E)switch(E.value){case "authoritative":return z&&z.orgId&&!z.portal.isPortal?Object(x.g)(Object(x.g)([],p),["((contentstatus:org_authoritative orgid:"+z.orgId+") OR contentstatus:public_authoritative)"]):z&&z.orgId&&z.portal.isPortal?Object(x.g)(Object(x.g)([],p),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(x.g)(Object(x.g)([],
p),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(x.g)(Object(x.g)([],p),["(contentstatus:deprecated)"])}return p})},400:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){return E?Object(x.g)(Object(x.g)([],z),["(access:"+E.value+")"]):z})},401:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){if(E){var p=function(m){for(var e,c=0,a=Object.keys(m);c<a.length;c++){var b=m[a[c]];
if(b.selected){e=b.items;break}b=b.participants.filter(function(d){return d.selected});if(0<b.length){e=b[0].items;break}}return e}(E);if(p)return p=p.join(" OR "),Object(x.g)(Object(x.g)([],z),["id:("+p+")"])}return z})},402:function(f,g,h){h.d(g,"a",function(){return E});f=h(56);var x=h.n(f),u=h(30),E=function(z,p,m,e){function c(r){C=r.categorySchema[0].source.split(".")[1];Object(u.e)(z,p,m.contentCategorySetsGroupQuery).then(a,q);Object(u.v)(z,p.restUrl+"/portals/regions",{culture:e}).then(k,
q)}function a(r){r.results[0]?Object(u.v)(z,p.restUrl+"/content/groups/"+r.results[0].id+"/search",{q:"typekeywords: "+C}).then(b,q):q("The content category sets group could not be found.")}function b(r){1===r.results.length&&r.results[0]?Object(u.h)(z,p,r.results[0].id).then(d,q):q("The item containing the living atlas categories could not be determined.")}function d(r){B=r.categorySchema[0];m.isPortal&&D?n([B]):D&&n([B,D])}function k(r){D={categories:r.map(function(A){return{displayName:A.localizedName,
title:A.region}}).sort(function(A,G){return"wo"===A.title.toLowerCase()?-1:A.displayName.localeCompare(G.displayName)}),description:"2.0",displayName:"Regions",title:"region"};m.isPortal&&B?n([B]):B&&n([B,D])}function n(r){F.resolve({schema:r,id:y})}function q(r){F.reject(r)}void 0===e&&(e="en");var y,C,B,D,F=new x.a;return Object(u.e)(z,p,m.livingAtlasGroupQuery,(null==p?0:p.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(r){r.results[0]&&r.results[0].id?(y=r.results[0].id,Object(u.f)(z,
p,y).then(c,q)):q("The living atlas group could not be found.")},q),F}},409:function(f,g,h){h.d(g,"a",function(){return x});h.d(g,"b",function(){return u});var x="CHANGE_SEARCH_STRING",u=function(E){return{type:x,payload:E}}},410:function(f,g,h){h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});var x="SHOW_EMPTY_RESULTS",u="CHANGE_RESULT_DISPLAY"},48:function(f,g,h){function x(ca,fa,ka){var ma=fa.settings.utils.request,ra=Object(z.b)({},fa);ra=ma(ra[0],ra[1]).then(Object(p.a)(fa),function(la){return ca({type:A,
payload:la})});if(ka){var za=Object(z.a)(fa,["access","contentstatus","categories"]);za=ma(za[0],za[1]);ka=fa.settings.config.customSections;var ia=fa.parameters.section;if(Object(y.a)(ia)||Object(q.e)(ka,ia)&&Object(y.a)(Object(q.b)(ka,ia))){var T=Object(z.c)(fa,fa.ui.tagsFilter.filterString);T=ma(T[0],T[1])}}ma=[ra,za,T].filter(function(la){return la});m()(ma).then(function(la){ca(function(S,P){var I,ba,W=P[0],aa=P[1],Q=P[2],N=Object(C.a)(S),R=S.settings.utils.iconDir;return{type:r,payload:{search:Object(u.a)(Object(u.a)({},
W.data),{results:W.data.results.map(function(X){return Object(e.a)(N,R,X)})}),aggregations:(null===(I=null==aa?void 0:aa.data)||void 0===I?0:I.aggregations)?{counts:Object(u.g)([],aa.data.aggregations.counts).concat((null===(ba=null==Q?void 0:Q.data)||void 0===ba?0:ba.aggregations)?Object(u.g)([],Q.data.aggregations.counts):[]),countInfo:{section:S.parameters.section,group:S.parameters.filter.group,custom:S.settings.config.customSections.filter(function(X){return X.name===S.parameters.section})[0]}}:
void 0}}}(fa,la));ca(D.e)},function(la){return ca({type:A,payload:la})})}h.d(g,"a",function(){return F});h.d(g,"c",function(){return r});h.d(g,"b",function(){return A});h.d(g,"d",function(){return G});h.d(g,"f",function(){return H});h.d(g,"e",function(){return J});h.d(g,"g",function(){return O});h.d(g,"h",function(){return M});h.d(g,"i",function(){return K});var u=h(0),E=h(100),z=h(162),p=h(217);f=h(65);var m=h.n(f),e=h(78),c=h(326),a=h(327),b=h(173),d=h(266),k=h(328),n=h(264),q=h(86),y=h(329),C=
h(126),B=h(256),D=h(199),F="LOADING_CONTENT",r="LOADING_CONTENT_SUCCESS",A="LOADING_CONTENT_FAILED",G="LOADING_NEXT",H="LOADING_NEXT_SUCCESS",J="LOADING_NEXT_FAILED",O="SUBSCRIPTION_CONTENT_SUCCESS",M=function(ca){return function(fa,ka){var ma=ka(),ra=ma.settings.utils.request,za=ma.parameters.nextQuery.nextStart;fa({type:G});za=Object(z.b)({num:ca,start:za},ma);ra(za[0],za[1]).then(Object(p.a)(ma),function(ia){return fa({type:J,payload:ia})}).then(function(ia){return fa(Z(ma,ia))},function(ia){return fa({type:J,
payload:ia})})}},K=function(ca){return function(fa,ka){var ma=ka();fa({type:F});ma.settings.config.clearSelectionBetweenSearches&&fa({type:E.b});fa(U(ca))}},U=function(ca){return function(fa,ka){var ma=ka(),ra=ma.parameters.section,za=ma.settings.utils.portal.user,ia=!!za,T=ma.settings.utils.portal,la=T.isPortal,S=za&&"org_admin"===za.role,P=za&&za.privileges&&-1<za.privileges.indexOf("portal:admin:manageCollaborations"),I=za&&!la&&za.orgId&&T.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer",
"Evaluation"].indexOf(T.subscriptionInfo.type);fa(Object(c.b)()).then(function(ba){"livingAtlas"===ra||"Living Atlas"===ra?fa(Object(a.d)(ba)).then(function(){return x(fa,ka(),ca)},function(){return fa({type:A,payload:"Couldn't load the living atlas info."})}):"myContent"!==ra&&"myGroups"!==ra&&"myFavorites"!==ra&&"subscription"!==ra||!ia?"myOrganization"===ra&&ia?m()([fa(Object(d.d)())].concat(S&&P&&!I?[fa(Object(k.a)(fa,ka()))]:[])).then(function(){return x(fa,ka(),ca)},function(){return fa({type:A,
payload:"Couldn't load the organization info."})}):Object(q.e)(ma.settings.config.customSections,ra)?fa(Object(n.e)()).then(function(){return x(fa,ka(),ca)},function(){return fa({type:A,payload:"Couldn't load the custom section info."})}):x(fa,ma,ca):m()([fa(Object(b.l)())].concat(ia&&za.orgId?[fa(Object(d.d)())]:[]).concat(S&&P&&!I?[fa(Object(k.a)(fa,ka()))]:[])).then(function(){return"subscription"===ra?fa(Object(B.d)()).then(function(){return fa({type:O,payload:ka().results.provisionedContent.content})},
function(){return fa({type:A,payload:"Couldn't load provisioned content info."})}):x(fa,ka(),ca)},function(){return fa({type:A,payload:"Couldn't load the user info."})})})}},Z=function(ca,fa){var ka=ca.settings.utils.iconDir,ma=Object(C.a)(ca);return{type:H,payload:Object(u.a)(Object(u.a)({},fa.data),{results:fa.data.results.map(function(ra){return Object(e.a)(ma,ka,ra)})})}}},49:function(f,g,h){h.d(g,"d",function(){return x});h.d(g,"n",function(){return u});h.d(g,"i",function(){return E});h.d(g,
"j",function(){return z});h.d(g,"m",function(){return p});h.d(g,"f",function(){return m});h.d(g,"h",function(){return e});h.d(g,"l",function(){return c});h.d(g,"c",function(){return a});h.d(g,"p",function(){return b});h.d(g,"g",function(){return d});h.d(g,"e",function(){return k});h.d(g,"q",function(){return n});h.d(g,"k",function(){return q});h.d(g,"o",function(){return y});h.d(g,"r",function(){return C});h.d(g,"b",function(){return B});h.d(g,"a",function(){return D});h.d(g,"u",function(){return F});
h.d(g,"E",function(){return r});h.d(g,"y",function(){return A});h.d(g,"D",function(){return G});h.d(g,"z",function(){return H});h.d(g,"A",function(){return J});h.d(g,"w",function(){return O});h.d(g,"C",function(){return M});h.d(g,"t",function(){return K});h.d(g,"G",function(){return U});h.d(g,"v",function(){return Z});h.d(g,"x",function(){return ca});h.d(g,"H",function(){return fa});h.d(g,"B",function(){return ka});h.d(g,"F",function(){return ma});h.d(g,"I",function(){return ra});h.d(g,"s",function(){return za});
var x="UPDATE_CUSTOM_FILTER",u="UPDATE_ORG_GROUP_FILTER",E="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",z="UPDATE_LIVING_ATLAS_REGION_FILTER",p="UPDATE_ORG_CATEGORIES_FILTER",m="UPDATE_GROUP_CATEGORIES_FILTER",e="UPDATE_ITEM_TYPE_FILTER",c="UPDATE_MODIFIED_FILTER",a="UPDATE_CREATED_FILTER",b="UPDATE_SHARED_FILTER",d="UPDATE_GROUP_FILTER",k="UPDATE_FOLDER_FILTER",n="UPDATE_STATUS_FILTER",q="UPDATE_MAP_AREA_FILTER",y="UPDATE_SEARCH_ORG_FILTER",C="UPDATE_TAGS_FILTER",B="UPDATE_COLLABORATIONS_FILTER",D="CLEAR_ALL_FILTERS",
F=function(ia,T){return{type:x,payload:{index:ia,filter:T}}},r=function(ia){return{type:u,payload:ia}},A=function(ia){return{type:e,payload:ia}},G=function(ia){return{type:p,payload:ia}},H=function(ia){return{type:E,payload:ia}},J=function(ia){return{type:z,payload:ia}},O=function(ia){return{type:m,payload:ia}},M=function(ia,T){return{type:c,payload:{section:ia,modified:T}}},K=function(ia,T){return{type:a,payload:{section:ia,created:T}}},U=function(ia){return{type:b,payload:ia}},Z=function(ia){return{type:k,
payload:ia}},ca=function(ia){return{type:d,payload:ia}},fa=function(ia){return{type:n,payload:ia}},ka=function(ia){return{type:q,payload:ia}},ma=function(ia){return{type:y,payload:ia}},ra=function(ia){return{type:C,payload:ia}},za=function(ia){return{type:B,payload:ia}}},5:function(f,g,h){function x(a){return 0===Object.keys(a).length&&a.constructor===Object}function u(a){return null!=a}function E(a,b){return e.apply(null,arguments)}function z(a,b){return c.apply(null,arguments)}h.d(g,"b",function(){return x});
h.d(g,"a",function(){return u});h.d(g,"e",function(){return m});h.d(g,"c",function(){return E});h.d(g,"d",function(){return z});var p=h(0);f=h(15);var m=Object(f.a)(function(a,b){var d=Object(p.a)({},b);return delete d[a],d}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(d,k){return d[k]=a(b[k],k,b),d},{})}),c=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(d,k){return a(b[k],k,b)&&(d[k]=b[k]),d},{})})},51:function(f,g,h){function x(r){return!(!r.urlKey||!r.customBaseUrl)}
function u(r){return r.role===k.admin||r.role===k.accountAdmin}function E(r){return Object(y.a)(r.roleId)&&0<(r.roleId||"").length}function z(r){return!E(r)||E(r)&&-1<(r.privileges||[]).indexOf("portal:admin:viewItems")}function p(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToOrg")}function m(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToGroup")}function e(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToPublic")}function c(r,A){return a(r)||b(r)||A.canSharePublic&&
d(r)}function a(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToOrg")}function d(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToPublic")}h.d(g,"l",function(){return B});h.d(g,"h",function(){return D});h.d(g,"m",function(){return F});h.d(g,"k",function(){return x});h.d(g,"i",function(){return u});h.d(g,"j",function(){return E});h.d(g,"g",function(){return z});h.d(g,"b",function(){return p});h.d(g,
"a",function(){return m});h.d(g,"c",function(){return e});h.d(g,"d",function(){return a});h.d(g,"e",function(){return b});h.d(g,"f",function(){return d});var k,n=h(63),q=h(148),y=h(5),C=h(58);!function(r){r.user="org_user";r.accountUser="account_user";r.publisher="org_publisher";r.accountPublisher="account_publisher";r.admin="org_admin";r.accountAdmin="account_admin";r.viewer="iAAAAAAAAAAAAAAA";r.dataEditor="iBBBBBBBBBBBBBBB"}(k||(k={}));var B=function(r){var A=r.items;return!!r.user.orgId&&A.every(function(G){return G.isOrgItem})},
D=function(r){var A=r.items,G=r.user,H=r.portal;r=A[0];var J=Object(C.c)(r,G),O=E(G),M=c(G,H);if(O=Object(C.a)(r,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!O)O=!x(H)||m(G)||p(G)||H.canSharePublic&&e(G)||c(G,H);H=O;return!(r.portal.isPortal&&r.owner!==G.username&&-1<r.owner.indexOf("esri_"))&&(J||H||B({items:A,user:G})&&M)},F=function(r,A){return Object(n.a)(Object(q.a)(r))(A)}},56:function(f,g){f.exports=v},58:function(f,g,h){function x(e,c){return(null==e?void 0:e.owner)===c.username}
function u(e,c){var a;if(!(a=x(e,c)))if(Object(z.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!x(e,c)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function E(e,c){return u(e,c)||"update"===e.itemControl}h.d(g,"d",function(){return x});h.d(g,"c",function(){return u});h.d(g,"a",function(){return E});h.d(g,"b",function(){return m});var z=h(5),p=h(51),m=function(e){var c=e.user,a=e.items;
e=e.portal;return Object(p.l)({items:a,user:c})&&Object(p.h)({items:a,user:c,portal:e})&&Object(p.g)(c)&&a[0].itemOwner||c}},63:function(f,g,h){function x(){for(var u=[],E=0;E<arguments.length;E++)u[E]=arguments[E];return function(z){return u.reduceRight(function(p,m){return m(p)},z)}}h.d(g,"a",function(){return x})},65:function(f,g){f.exports=w},710:function(f,g,h){function x(y,C){var B,D,F=C.settings.utils.telemetry,r={pageName:C.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",
myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",livingAtlas:"living atlas",all:"arcgis online"}[C.parameters.section]||"other"};if(y.type===z.a)return(null==F?void 0:F.getWorkflow("item browser"))&&F.cancelWorkflow("item browser"),void(null==F||F.startWorkflow("item browser",r));var A=null==F?void 0:F.getWorkflow("item browser");if(F&&A)switch(y.type){case p.a:case m.a:F.stepWorkflow("item browser","search",Object(u.a)(Object(u.a)({},r),{details:(null===(B=C.parameters.searchString)||
void 0===B?void 0:B.current)||"",attribute:Object(n.a)(C)?"enriched":void 0,searchQuery:Object(q.b)(C)}));break;case e.a:F.stepWorkflow("item browser","sort",Object(u.a)(Object(u.a)({},r),{details:y.payload}));break;case c.a:F.stepWorkflow("item browser","list"===C.ui.resultPanel.display?"list view":"compact view",Object(u.a)({},r));break;case a.c:F.stepWorkflow("item browser","pagination",Object(u.a)(Object(u.a)({},r),{details:y.payload}));break;case b.e:case b.h:case b.l:case b.c:case b.r:case b.p:F.stepWorkflow("item browser",
"filter",Object(u.a)(Object(u.a)({},r),{details:y.type.split("_").join(" ").toLowerCase()}));break;case d.f:F.stepWorkflow("item browser","select all on page",Object(u.a)({},r));break;case k.a:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},r),{details:"view item details"}));break;case E.SELECT_ITEM:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},r),{details:"add"}));break;case E.DESELECT_ITEM:F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},
r),{details:"remove"}));break;case d.k:B=C.results.selectedItems[y.payload.id]?"select":"deselect";F.stepWorkflow("item browser","card action",Object(u.a)(Object(u.a)({},r),{details:B}));break;case d.d:F.endWorkflow("item browser",Object(u.a)(Object(u.a)({},r),{count:null===(D=y.payload)||void 0===D?void 0:D.length}));break;case d.a:F.cancelWorkflow("item browser",Object(u.a)({},r))}}h.d(g,"a",function(){return x});var u=h(0),E=h(231),z=h(326),p=h(288),m=h(409),e=h(290),c=h(410),a=h(295),b=h(49),
d=h(100),k=h(357),n=h(356),q=h(179)},78:function(f,g,h){h.d(g,"a",function(){return e});h.d(g,"b",function(){return c});var x=h(63);f=h(5);var u=h(123),E=h(122),z=h(117),p=h(121),m=h(120),e=function(a,b,d){return Object(x.a)(Object(m.a)(a),Object(p.a)(a),Object(z.a)(b),Object(E.a)(a),Object(u.a)(a))(d)},c=Object(x.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},86:function(f,g,h){function x(e){return!(!p(e)&&!m(e))}
function u(e,c){return e.filter(function(a){return a.name===c})[0]}function E(e,c){return!!u(e,c)}h.d(g,"a",function(){return z});h.d(g,"c",function(){return p});h.d(g,"d",function(){return m});h.d(g,"f",function(){return x});h.d(g,"b",function(){return u});h.d(g,"e",function(){return E});f=h(15);var z=function(e){return e.filters?e.filters.filter(function(c){return"object"==typeof c&&("group"===c.type||"org"===c.type)}):[]};f=Object(f.a)(function(e,c){if(c.filters)return c.filters.reduce(function(a,
b){return"object"==typeof b&&b.type===e?b:a},void 0)});var p=f("group"),m=f("org")},983:function(f,g,h){h.r(g);h.d(g,"ItemBrowserWrapper",function(){return d});var x=h(0),u=h(231),E=h.n(u),z=h(16);f=h(386);var p=h.n(f);f=h(336);var m=h.n(f),e=h(30),c=h(117),a=h(100),b=h(710);h.d(g,"changeSearchSection",function(){return u.changeSearchSection});h.d(g,"initialState",function(){return u.initialState});h.d(g,"search",function(){return u.search});h.d(g,"updateExtent",function(){return u.updateExtent});
h.d(g,"viewItemDetails",function(){return u.viewItemDetails});var d=function(){function k(n,q){var y,C;this.options=q;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";n.appendChild(this.renderContainer);var B=m()(u.initialState),D=m()(q.initialState);B=p()(B,D,function(F,r){if(Array.isArray(F)&&r)return r});this.initialState=Object(x.a)(Object(x.a)({},
B),{settings:Object(x.a)(Object(x.a)({},B.settings),{utils:{telemetry:q.telemetry,appName:q.appName,request:4===q.apiVersion?q.request:Object(e.u)(q.request),portal:4===q.apiVersion?q.portal:Object(x.a)(Object(x.a)({},q.portal),{restUrl:q.portal.portalUrl.slice(0,-1),credential:null===(y=q.portal.user)||void 0===y?void 0:y.credential}),iconDir:4===q.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});y=q.middlewares||[];(null===(C=q.telemetry)||
void 0===C?0:C.getWorkflow("item browser"))&&q.telemetry.cancelWorkflow("item browser");this.store=z.applyMiddleware.apply(void 0,Object(x.g)([z.thunk,Object(z.addListener)(b.a),Object(z.addListener)(this.listener)],y))(z.createStore)(u.reducers,this.initialState);this.projector=Object(z.createProjector)(this.store,function(F){return F(E.a,{key:"ib"})},this.renderContainer);this.store.dispatch(Object(u.search)(!0));this.handleInitiallySelectedItemsDfd()}return k.prototype.handleInitiallySelectedItemsDfd=
function(){var n=this,q=this.getState().settings,y=q.config.initiallySelectedItemsDfd,C=q.utils.iconDir;y?y.then(function(B){var D=Object.keys(B).map(function(F){return Object(c.a)(C,Object(x.a)({},B[F]))}).reduce(function(F,r){var A;return Object(x.a)(Object(x.a)({},F),((A={})[r.id]=r,A))},{});n.store.dispatch(Object(a.p)(D))}):this.store.dispatch(Object(a.p)({}))},k.prototype.shimmedRequest=function(n,q){var y,C=Object(x.a)({},q.query);return(null===(y=this.options.portal.user)||void 0===y?void 0:
y.credential)&&-1<n.indexOf(this.options.portal.restUrl)&&(C.token=this.options.portal.user.credential.token),this.options.request({url:n,content:q.query},{usePost:"post"===q.method}).then(function(B){return{data:B}})},k.prototype.dispatch=function(n){var q;null===(q=this.store)||void 0===q||q.dispatch(n)},k.prototype.getState=function(){var n;return(null===(n=this.store)||void 0===n?void 0:n.getState())||this.initialState},k.prototype.listener=function(n,q){var y,C;null===(C=null===(y=this.options)||
void 0===y?void 0:y.listener)||void 0===C||C.call(y,n,q)},k}()},99:function(f,g,h){function x(e,c){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(c(a=e[b]))return a}function u(e){return e.filter(function(c){return 0<c.length})}function E(e,c,a){var b=[];return c.forEach(function(d){(a?d[a].toLowerCase()===e.toLowerCase():d.toLowerCase()===e.toLowerCase())?b.unshift(d):b.push(d)}),b}h.d(g,"e",function(){return z});h.d(g,"f",function(){return p});h.d(g,"c",function(){return x});h.d(g,
"b",function(){return u});h.d(g,"a",function(){return m});h.d(g,"d",function(){return E});f=h(15);var z=function(e,c,a){return a.indexOf(e)===c},p=Object(f.a)(function(e,c){var a={};return c.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),m=function(e,c){return e.length===c.length&&e.reduce(function(a,b){return a&&-1<c.indexOf(b)},!0)}}})})},"arcgis-components/ItemBrowser/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../Loaders/LoaderBars ../Buttons/SvgButton ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index ../Buttons/IconButton ../Modals/Overlay ../Dropdowns/TextOptionDropdown ../Navigation/TabNav ../Filters/CategoriesFilter/index ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Badges/Retired ../Filters/MapAreaFilter ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../Badges/Solution ../Badges/PublicDataCollection ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r,A,G,H,J,O,M,K,U,Z,ca,fa,ka,ma,ra,za,ia,T,la){return function(S){function P(ba){if(I[ba])return I[ba].exports;var W=I[ba]={i:ba,l:!1,exports:{}};return S[ba].call(W.exports,W,W.exports,P),W.l=!0,W.exports}var I={};return P.m=S,P.c=I,P.d=function(ba,W,aa){P.o(ba,W)||Object.defineProperty(ba,W,{enumerable:!0,get:aa})},P.r=function(ba){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ba,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(ba,"__esModule",{value:!0})},P.t=function(ba,W){if((1&W&&(ba=P(ba)),8&W)||4&W&&"object"==typeof ba&&ba&&ba.__esModule)return ba;var aa=Object.create(null);if(P.r(aa),Object.defineProperty(aa,"default",{enumerable:!0,value:ba}),2&W&&"string"!=typeof ba)for(var Q in ba)P.d(aa,Q,function(N){return ba[N]}.bind(null,Q));return aa},P.n=function(ba){var W=ba&&ba.__esModule?function(){return ba["default"]}:function(){return ba};return P.d(W,"a",W),W},P.o=function(ba,W){return Object.prototype.hasOwnProperty.call(ba,
W)},P.p="",P(P.s=860)}([function(S,P,I){function ba(da,ea){function ha(){this.constructor=da}if("function"!=typeof ea&&null!==ea)throw new TypeError("Class extends value "+String(ea)+" is not a constructor or null");X(da,ea);da.prototype=null===ea?Object.create(ea):(ha.prototype=ea.prototype,new ha)}function W(da,ea){var ha={},na;for(na in da)Object.prototype.hasOwnProperty.call(da,na)&&0>ea.indexOf(na)&&(ha[na]=da[na]);if(null!=da&&"function"==typeof Object.getOwnPropertySymbols){var qa=0;for(na=
Object.getOwnPropertySymbols(da);qa<na.length;qa++)0>ea.indexOf(na[qa])&&Object.prototype.propertyIsEnumerable.call(da,na[qa])&&(ha[na[qa]]=da[na[qa]])}return ha}function aa(da,ea,ha,na){var qa,ua=arguments.length,ya=3>ua?ea:null===na?na=Object.getOwnPropertyDescriptor(ea,ha):na;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ya=Reflect.decorate(da,ea,ha,na);else for(var Aa=da.length-1;0<=Aa;Aa--)(qa=da[Aa])&&(ya=(3>ua?qa(ya):3<ua?qa(ea,ha,ya):qa(ea,ha))||ya);return 3<ua&&ya&&Object.defineProperty(ea,
ha,ya),ya}function Q(da,ea,ha,na){return new (ha||(ha=Promise))(function(qa,ua){function ya(Oa){try{Ba(na.next(Oa))}catch(Ja){ua(Ja)}}function Aa(Oa){try{Ba(na["throw"](Oa))}catch(Ja){ua(Ja)}}function Ba(Oa){var Ja;Oa.done?qa(Oa.value):(Ja=Oa.value,Ja instanceof ha?Ja:new ha(function(wa){wa(Ja)})).then(ya,Aa)}Ba((na=na.apply(da,ea||[])).next())})}function N(da,ea){function ha(Ba){return function(Oa){return function(Ja){if(na)throw new TypeError("Generator is already executing.");for(;Aa;)try{if(na=
1,qa&&(ua=2&Ja[0]?qa["return"]:Ja[0]?qa["throw"]||((ua=qa["return"])&&ua.call(qa),0):qa.next)&&!(ua=ua.call(qa,Ja[1])).done)return ua;switch(qa=0,ua&&(Ja=[2&Ja[0],ua.value]),Ja[0]){case 0:case 1:ua=Ja;break;case 4:return Aa.label++,{value:Ja[1],done:!1};case 5:Aa.label++;qa=Ja[1];Ja=[0];continue;case 7:Ja=Aa.ops.pop();Aa.trys.pop();continue;default:if(!(ua=Aa.trys,(ua=0<ua.length&&ua[ua.length-1])||6!==Ja[0]&&2!==Ja[0])){Aa=0;continue}if(3===Ja[0]&&(!ua||Ja[1]>ua[0]&&Ja[1]<ua[3]))Aa.label=Ja[1];else if(6===
Ja[0]&&Aa.label<ua[1])Aa.label=ua[1],ua=Ja;else if(ua&&Aa.label<ua[2])Aa.label=ua[2],Aa.ops.push(Ja);else{ua[2]&&Aa.ops.pop();Aa.trys.pop();continue}}Ja=ea.call(da,Aa)}catch(wa){Ja=[6,wa],qa=0}finally{na=ua=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ba,Oa])}}var na,qa,ua,ya,Aa={label:0,sent:function(){if(1&ua[0])throw ua[1];return ua[1]},trys:[],ops:[]};return ya={next:ha(0),"throw":ha(1),"return":ha(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya}function R(da,ea){for(var ha=0,na=ea.length,qa=da.length;ha<na;ha++,qa++)da[qa]=ea[ha];return da}I.d(P,"d",function(){return ba});I.d(P,"a",function(){return Y});I.d(P,"f",function(){return W});I.d(P,"c",function(){return aa});I.d(P,"b",function(){return Q});I.d(P,"e",function(){return N});I.d(P,"g",function(){return R});var X=function(da,ea){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ha,na){ha.__proto__=na}||function(ha,na){for(var qa in na)Object.prototype.hasOwnProperty.call(na,
qa)&&(ha[qa]=na[qa])})(da,ea)},Y=function(){return(Y=Object.assign||function(da){for(var ea,ha=1,na=arguments.length;ha<na;ha++)for(var qa in ea=arguments[ha])Object.prototype.hasOwnProperty.call(ea,qa)&&(da[qa]=ea[qa]);return da}).apply(this,arguments)};Object.create;Object.create},,,,,function(S,P,I){function ba(da){return 0===Object.keys(da).length&&da.constructor===Object}function W(da){return null!=da}function aa(da,ea){return X.apply(null,arguments)}function Q(da,ea){return Y.apply(null,arguments)}
I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"e",function(){return R});I.d(P,"c",function(){return aa});I.d(P,"d",function(){return Q});var N=I(0);S=I(15);var R=Object(S.a)(function(da,ea){var ha=Object(N.a)({},ea);return delete ha[da],ha}),X=Object(S.a)(function(da,ea){return Object.keys(ea).reduce(function(ha,na){return ha[na]=da(ea[na],na,ea),ha},{})}),Y=Object(S.a)(function(da,ea){return Object.keys(ea).reduce(function(ha,na){return da(ea[na],na,ea)&&(ha[na]=ea[na]),
ha},{})})},,,,,,,,,,function(S,P,I){function ba(aa){return function N(){for(var R=this,X=[],Y=0;Y<arguments.length;Y++)X[Y]=arguments[Y];return X.length>=aa.length?aa.call.apply(aa,Object(W.g)([this],X)):function(){for(var da=[],ea=0;ea<arguments.length;ea++)da[ea]=arguments[ea];return N.call.apply(N,Object(W.g)(Object(W.g)([R],X),da))}}}I.d(P,"a",function(){return ba});var W=I(0)},function(S,P){S.exports=V},,,,,,,,,,,,function(S,P,I){(function(ba,W){S.exports=function(){function aa(){var Ha=setTimeout;
return function(){return Ha(Q,1)}}function Q(){for(var Ha=0;Ha<Oa;Ha+=2)(0,ja[Ha])(ja[Ha+1]),ja[Ha]=void 0,ja[Ha+1]=void 0;Oa=0}function N(Ha,Ka){var Na=this,Qa=new this.constructor(X);void 0===Qa[Ia]&&Aa(Qa);var Pa=Na._state;if(Pa){var Ra=arguments[Pa-1];Ea(function(){return ya(Pa,Qa,Ra,Na._result)})}else qa(Na,Qa,Ha,Ka);return Qa}function R(Ha){if(Ha&&"object"==typeof Ha&&Ha.constructor===this)return Ha;var Ka=new this(X);return da(Ka,Ha),Ka}function X(){}function Y(Ha,Ka,Na){Ka.constructor===Ha.constructor&&
Na===N&&Ka.constructor.resolve===R?function(Qa,Pa){1===Pa._state?ha(Qa,Pa._result):2===Pa._state?na(Qa,Pa._result):qa(Pa,void 0,function(Ra){return da(Qa,Ra)},function(Ra){return na(Qa,Ra)})}(Ha,Ka):void 0===Na?ha(Ha,Ka):"function"==typeof Na?function(Qa,Pa,Ra){Ea(function(Sa){var Va=!1,Ua=function(Ta,Xa,ab,Wa){try{Ta.call(Xa,ab,Wa)}catch(db){return db}}(Ra,Pa,function(Ta){Va||(Va=!0,Pa!==Ta?da(Sa,Ta):ha(Sa,Ta))},function(Ta){Va||(Va=!0,na(Sa,Ta))},Sa._label);!Va&&Ua&&(Va=!0,na(Sa,Ua))},Qa)}(Ha,Ka,
Na):ha(Ha,Ka)}function da(Ha,Ka){if(Ha===Ka)na(Ha,new TypeError("You cannot resolve a promise with itself"));else if(Qa=typeof(Na=Ka),null===Na||"object"!==Qa&&"function"!==Qa)ha(Ha,Ka);else{Na=void 0;try{Na=Ka.then}catch(Pa){return void na(Ha,Pa)}Y(Ha,Ka,Na)}var Na,Qa}function ea(Ha){Ha._onerror&&Ha._onerror(Ha._result);ua(Ha)}function ha(Ha,Ka){void 0===Ha._state&&(Ha._result=Ka,Ha._state=1,0!==Ha._subscribers.length&&Ea(ua,Ha))}function na(Ha,Ka){void 0===Ha._state&&(Ha._state=2,Ha._result=Ka,
Ea(ea,Ha))}function qa(Ha,Ka,Na,Qa){var Pa=Ha._subscribers,Ra=Pa.length;Ha._onerror=null;Pa[Ra]=Ka;Pa[Ra+1]=Na;Pa[Ra+2]=Qa;0===Ra&&Ha._state&&Ea(ua,Ha)}function ua(Ha){var Ka=Ha._subscribers,Na=Ha._state;if(0!==Ka.length){for(var Qa=void 0,Pa=void 0,Ra=Ha._result,Sa=0;Sa<Ka.length;Sa+=3)Qa=Ka[Sa],Pa=Ka[Sa+Na],Qa?ya(Na,Qa,Pa,Ra):Pa(Ra);Ha._subscribers.length=0}}function ya(Ha,Ka,Na,Qa){var Pa="function"==typeof Na,Ra=void 0,Sa=void 0,Va=!0;if(Pa){try{Ra=Na(Qa)}catch(Ua){Va=!1,Sa=Ua}if(Ka===Ra)return void na(Ka,
new TypeError("A promises callback cannot return that same promise."))}else Ra=Qa;void 0!==Ka._state||(Pa&&Va?da(Ka,Ra):!1===Va?na(Ka,Sa):1===Ha?ha(Ka,Ra):2===Ha&&na(Ka,Ra))}function Aa(Ha){Ha[Ia]=La++;Ha._state=void 0;Ha._result=void 0;Ha._subscribers=[]}var Ba=Array.isArray?Array.isArray:function(Ha){return"[object Array]"===Object.prototype.toString.call(Ha)},Oa=0,Ja=void 0,wa=void 0,Ea=function(Ha,Ka){ja[Oa]=Ha;ja[Oa+1]=Ka;2===(Oa+=2)&&(wa?wa(Q):Ca())},sa="undefined"!=typeof window?window:void 0,
oa=sa||{};oa=oa.MutationObserver||oa.WebKitMutationObserver;var xa="undefined"==typeof self&&void 0!==ba&&"[object process]"==={}.toString.call(ba),ta="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ja=Array(1E3),pa,va,Fa,Da,Ca=void 0;xa?Ca=function(){return ba.nextTick(Q)}:oa?(va=0,Fa=new oa(Q),Da=document.createTextNode(""),Fa.observe(Da,{characterData:!0}),Ca=function(){Da.data=va=++va%2}):ta?((pa=new MessageChannel).port1.onmessage=
Q,Ca=function(){return pa.port2.postMessage(0)}):Ca=void 0===sa?function(){try{var Ha=Function("return this")().require("vertx");return void 0!==(Ja=Ha.runOnLoop||Ha.runOnContext)?function(){Ja(Q)}:aa()}catch(Ka){return aa()}}():aa();var Ia=Math.random().toString(36).substring(2),La=0,Ga=function(){function Ha(Ka,Na){this._instanceConstructor=Ka;this.promise=new Ka(X);this.promise[Ia]||Aa(this.promise);Ba(Na)?(this.length=Na.length,this._remaining=Na.length,this._result=Array(this.length),0===this.length?
ha(this.promise,this._result):(this.length=this.length||0,this._enumerate(Na),0===this._remaining&&ha(this.promise,this._result))):na(this.promise,Error("Array Methods must be provided an Array"))}return Ha.prototype._enumerate=function(Ka){for(var Na=0;void 0===this._state&&Na<Ka.length;Na++)this._eachEntry(Ka[Na],Na)},Ha.prototype._eachEntry=function(Ka,Na){var Qa=this._instanceConstructor,Pa=Qa.resolve;if(Pa===R){var Ra=Pa=void 0,Sa=!1;try{Pa=Ka.then}catch(Va){Sa=!0,Ra=Va}Pa===N&&void 0!==Ka._state?
this._settledAt(Ka._state,Na,Ka._result):"function"!=typeof Pa?(this._remaining--,this._result[Na]=Ka):Qa===Ma?(Qa=new Qa(X),Sa?na(Qa,Ra):Y(Qa,Ka,Pa),this._willSettleAt(Qa,Na)):this._willSettleAt(new Qa(function(Va){return Va(Ka)}),Na)}else this._willSettleAt(Pa(Ka),Na)},Ha.prototype._settledAt=function(Ka,Na,Qa){var Pa=this.promise;void 0===Pa._state&&(this._remaining--,2===Ka?na(Pa,Qa):this._result[Na]=Qa);0===this._remaining&&ha(Pa,this._result)},Ha.prototype._willSettleAt=function(Ka,Na){var Qa=
this;qa(Ka,void 0,function(Pa){return Qa._settledAt(1,Na,Pa)},function(Pa){return Qa._settledAt(2,Na,Pa)})},Ha}(),Ma=function(){function Ha(Ka){this[Ia]=La++;this._result=this._state=void 0;this._subscribers=[];if(X!==Ka){if("function"!=typeof Ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Ha)(function(Na,Qa){try{Qa(function(Pa){da(Na,Pa)},function(Pa){na(Na,Pa)})}catch(Pa){na(Na,Pa)}})(this,Ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Ha.prototype["catch"]=function(Ka){return this.then(null,Ka)},Ha.prototype["finally"]=function(Ka){var Na=this.constructor;return"function"==typeof Ka?this.then(function(Qa){return Na.resolve(Ka()).then(function(){return Qa})},function(Qa){return Na.resolve(Ka()).then(function(){throw Qa;})}):this.then(Ka,Ka)},Ha}();return Ma.prototype.then=N,Ma.all=function(Ha){return(new Ga(this,Ha)).promise},Ma.race=function(Ha){var Ka=this;return Ba(Ha)?new Ka(function(Na,Qa){for(var Pa=Ha.length,Ra=
0;Ra<Pa;Ra++)Ka.resolve(Ha[Ra]).then(Na,Qa)}):new Ka(function(Na,Qa){return Qa(new TypeError("You must pass an array to race."))})},Ma.resolve=R,Ma.reject=function(Ha){var Ka=new this(X);return na(Ka,Ha),Ka},Ma._setScheduler=function(Ha){wa=Ha},Ma._setAsap=function(Ha){Ea=Ha},Ma._asap=Ea,Ma.polyfill=function(){var Ha=void 0;if(void 0!==W)Ha=W;else if("undefined"!=typeof self)Ha=self;else try{Ha=Function("return this")()}catch(Qa){throw Error("polyfill failed because global object is unavailable in this environment");
}var Ka=Ha.Promise;if(Ka){var Na=null;try{Na=Object.prototype.toString.call(Ka.resolve())}catch(Qa){}if("[object Promise]"===Na&&!Ka.cast)return}Ha.Promise=Ma},Ma.Promise=Ma,Ma}()}).call(this,I(189),I(170))},,function(S,P,I){function ba(ja){return ja.reduce(function(pa,va){return va&&va.relatedItems?pa.concat(va.relatedItems.map(function(Fa){return Fa})):pa},[])}function W(ja,pa,va){return ja(pa,{query:Object(N.a)({f:"json"},va)}).then(function(Fa){return Fa.data})}function aa(ja,pa){void 0===pa&&
(pa=100);for(var va=[],Fa=0;Fa<Math.ceil(ja.length/pa);Fa++)va.push(ja.slice(Fa*pa,(Fa+1)*pa));return va.filter(function(Da){return 0<Da.length})}function Q(ja){var pa=ja.itemIds,va=ja.request,Fa=ja.groupIds,Da=ja.portal.restUrl+"/content/itemsgroups";return new R.Promise(function(Ca,Ia){va(Da,{method:"get",query:{f:"json",items:pa,groups:Fa}}).then(function(La){Ca(La.data)},Ia)})}I.d(P,"u",function(){return X});I.d(P,"n",function(){return Y});I.d(P,"h",function(){return da});I.d(P,"e",function(){return ea});
I.d(P,"f",function(){return ha});I.d(P,"j",function(){return na});I.d(P,"o",function(){return qa});I.d(P,"l",function(){return ua});I.d(P,"k",function(){return ya});I.d(P,"m",function(){return Aa});I.d(P,"c",function(){return Ba});I.d(P,"d",function(){return Oa});I.d(P,"r",function(){return Ja});I.d(P,"s",function(){return wa});I.d(P,"t",function(){return Ea});I.d(P,"g",function(){return sa});I.d(P,"p",function(){return oa});I.d(P,"q",function(){return xa});I.d(P,"v",function(){return W});I.d(P,"a",
function(){return aa});I.d(P,"i",function(){return Q});I.d(P,"b",function(){return ta});var N=I(0),R=I(28),X=function(ja){return function(pa,va){return ja({url:pa,content:va.query},{usePost:"post"===va.method}).then(function(Fa){return{data:Fa}})}},Y=function(ja,pa,va){return W(ja,pa.restUrl+"/portals/self",{culture:va,"default":!0})},da=function(ja,pa,va){return W(ja,pa.restUrl+"/content/items/"+va+"/data")},ea=function(ja,pa,va,Fa){return W(ja,pa.restUrl+"/community/groups",Object(N.a)({q:va},Fa))},
ha=function(ja,pa,va){return W(ja,pa.restUrl+"/community/groups/"+va+"/categorySchema")},na=function(ja,pa,va){return W(ja,pa.restUrl+"/portals/"+(va||pa.id)+"/categorySchema")},qa=function(ja,pa){return W(ja,pa.restUrl+"/portals/"+pa.id+"/servers")},ua=function(ja,pa,va,Fa){return ja(pa.restUrl+"/portals/"+(va||pa.id)+"/collaborationsSummary",Fa)},ya=function(ja,pa,va,Fa){return ja(pa.restUrl+"/portals/"+(va||pa.id)+"/collaboratedItems",Fa)},Aa=function(ja,pa,va){return W(ja,location.protocol+"//"+
pa.portalHostname+"/sharing/rest/portals/"+(va||"self"))},Ba=function(ja,pa,va){return ja(pa.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+pa.id+" AND access:public",num:100,start:va||1,sortField:"title",sortOrder:"asc"}}).then(function(Fa){return Fa.data.total>Fa.data.start+Fa.data.num?Ba(ja,pa,Fa.data.start+Fa.data.num).then(function(Da){return Object(N.a)(Object(N.a)({},Da),{data:Object(N.a)(Object(N.a)({},Da.data),{results:Fa.data.results.concat(Da.data.results)})})}):Fa})},Oa=function(ja,
pa,va,Fa){return ja(pa.restUrl+"/community/users/"+va+"/provisionedListings",{query:{f:"json",num:100,start:Fa||1}}).then(function(Da){var Ca=R.Promise.all(Da.data.provisionedListings.filter(function(La){return La.itemId}).map(function(La){return(new R.Promise(function(Ga,Ma){ja(pa.restUrl+"/content/items/"+La.itemId,{method:"get",query:{f:"json"}}).then(function(Ha){Ga(Ha.data)},Ma)}))["catch"](function(Ga){return 0})})),Ia=Da.data.provisionedListings.map(function(La){return W(ja,pa.restUrl+"/content/items/"+
(La.id||La.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(Ga){return Ga},function(Ga){})});return Da.data.total>Da.data.start+Da.data.num?Oa(ja,pa,va,Da.data.start+Da.data.num).then(function(La){return R.Promise.all([Ca].concat(Ia)).then(function(Ga){return Ga[0].results.concat(ba(Ga.slice(1))).concat(La)})}):R.Promise.all([Ca].concat(Ia)).then(function(La){return La[0].filter(function(Ga){return void 0!==Ga}).concat(ba(La.slice(1)))})})},
Ja=function(ja,pa,va){return W(ja,pa.restUrl+"/community/users/"+(va||pa.user.username))},wa=function(ja,pa,va){return W(ja,pa.restUrl+"/content/users/"+(va||pa.user.username),{num:1})},Ea=function(ja,pa,va){return W(ja,pa.restUrl+"/content/groups/"+va)},sa=function(ja,pa,va){return W(ja,pa.restUrl+"/community/groups",va)},oa=function(ja,pa){return W(ja,pa.restUrl+"/portals/self/settings")},xa=function(ja,pa){return W(ja,pa.restUrl+"/portals/self/trustedOrgs",{num:100})},ta=function(ja,pa){return void 0===
pa&&(pa=","),ja.map(function(va){return va.id}).join(pa)}},,,,,,function(S,P){S.exports=L},,,,,,,,,,,,function(S,P,I){function ba(Da,Ca,Ia){var La=Ca.settings.utils.request,Ga=Object(Q.b)({},Ca);Ga=La(Ga[0],Ga[1]).then(Object(N.a)(Ca),function(Na){return Da({type:Ea,payload:Na})});if(Ia){var Ma=Object(Q.a)(Ca,["access","contentstatus","categories"]);Ma=La(Ma[0],Ma[1]);Ia=Ca.settings.config.customSections;var Ha=Ca.parameters.section;if(Object(ya.a)(Ha)||Object(ua.e)(Ia,Ha)&&Object(ya.a)(Object(ua.b)(Ia,
Ha))){var Ka=Object(Q.c)(Ca,Ca.ui.tagsFilter.filterString);Ka=La(Ka[0],Ka[1])}}La=[Ga,Ma,Ka].filter(function(Na){return Na});R()(La).then(function(Na){Da(function(Qa,Pa){var Ra,Sa,Va=Pa[0],Ua=Pa[1],Ta=Pa[2],Xa=Object(Aa.a)(Qa),ab=Qa.settings.utils.iconDir;return{type:wa,payload:{search:Object(W.a)(Object(W.a)({},Va.data),{results:Va.data.results.map(function(Wa){return Object(X.a)(Xa,ab,Wa)})}),aggregations:(null===(Ra=null==Ua?void 0:Ua.data)||void 0===Ra?0:Ra.aggregations)?{counts:Object(W.g)([],
Ua.data.aggregations.counts).concat((null===(Sa=null==Ta?void 0:Ta.data)||void 0===Sa?0:Sa.aggregations)?Object(W.g)([],Ta.data.aggregations.counts):[]),countInfo:{section:Qa.parameters.section,group:Qa.parameters.filter.group,custom:Qa.settings.config.customSections.filter(function(Wa){return Wa.name===Qa.parameters.section})[0]}}:void 0}}}(Ca,Na));Da(Oa.e)},function(Na){return Da({type:Ea,payload:Na})})}I.d(P,"a",function(){return Ja});I.d(P,"c",function(){return wa});I.d(P,"b",function(){return Ea});
I.d(P,"d",function(){return sa});I.d(P,"f",function(){return oa});I.d(P,"e",function(){return xa});I.d(P,"g",function(){return ta});I.d(P,"h",function(){return ja});I.d(P,"i",function(){return pa});var W=I(0),aa=I(100),Q=I(162),N=I(217);S=I(65);var R=I.n(S),X=I(78),Y=I(326),da=I(327),ea=I(173),ha=I(266),na=I(328),qa=I(264),ua=I(86),ya=I(329),Aa=I(126),Ba=I(256),Oa=I(199),Ja="LOADING_CONTENT",wa="LOADING_CONTENT_SUCCESS",Ea="LOADING_CONTENT_FAILED",sa="LOADING_NEXT",oa="LOADING_NEXT_SUCCESS",xa="LOADING_NEXT_FAILED",
ta="SUBSCRIPTION_CONTENT_SUCCESS",ja=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.settings.utils.request,Ma=La.parameters.nextQuery.nextStart;Ca({type:sa});Ma=Object(Q.b)({num:Da,start:Ma},La);Ga(Ma[0],Ma[1]).then(Object(N.a)(La),function(Ha){return Ca({type:xa,payload:Ha})}).then(function(Ha){return Ca(Fa(La,Ha))},function(Ha){return Ca({type:xa,payload:Ha})})}},pa=function(Da){return function(Ca,Ia){var La=Ia();Ca({type:Ja});La.settings.config.clearSelectionBetweenSearches&&Ca({type:aa.b});
Ca(va(Da))}},va=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.parameters.section,Ma=La.settings.utils.portal.user,Ha=!!Ma,Ka=La.settings.utils.portal,Na=Ka.isPortal,Qa=Ma&&"org_admin"===Ma.role,Pa=Ma&&Ma.privileges&&-1<Ma.privileges.indexOf("portal:admin:manageCollaborations"),Ra=Ma&&!Na&&Ma.orgId&&Ka.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ka.subscriptionInfo.type);Ca(Object(Y.b)()).then(function(Sa){"livingAtlas"===Ga||"Living Atlas"===Ga?Ca(Object(da.d)(Sa)).then(function(){return ba(Ca,
Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the living atlas info."})}):"myContent"!==Ga&&"myGroups"!==Ga&&"myFavorites"!==Ga&&"subscription"!==Ga||!Ha?"myOrganization"===Ga&&Ha?R()([Ca(Object(ha.d)())].concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return ba(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the organization info."})}):Object(ua.e)(La.settings.config.customSections,Ga)?Ca(Object(qa.e)()).then(function(){return ba(Ca,Ia(),Da)},
function(){return Ca({type:Ea,payload:"Couldn't load the custom section info."})}):ba(Ca,La,Da):R()([Ca(Object(ea.l)())].concat(Ha&&Ma.orgId?[Ca(Object(ha.d)())]:[]).concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return"subscription"===Ga?Ca(Object(Ba.d)()).then(function(){return Ca({type:ta,payload:Ia().results.provisionedContent.content})},function(){return Ca({type:Ea,payload:"Couldn't load provisioned content info."})}):ba(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the user info."})})})}},
Fa=function(Da,Ca){var Ia=Da.settings.utils.iconDir,La=Object(Aa.a)(Da);return{type:oa,payload:Object(W.a)(Object(W.a)({},Ca.data),{results:Ca.data.results.map(function(Ga){return Object(X.a)(La,Ia,Ga)})})}}},function(S,P,I){I.d(P,"d",function(){return ba});I.d(P,"n",function(){return W});I.d(P,"i",function(){return aa});I.d(P,"j",function(){return Q});I.d(P,"m",function(){return N});I.d(P,"f",function(){return R});I.d(P,"h",function(){return X});I.d(P,"l",function(){return Y});I.d(P,"c",function(){return da});
I.d(P,"p",function(){return ea});I.d(P,"g",function(){return ha});I.d(P,"e",function(){return na});I.d(P,"q",function(){return qa});I.d(P,"k",function(){return ua});I.d(P,"o",function(){return ya});I.d(P,"r",function(){return Aa});I.d(P,"b",function(){return Ba});I.d(P,"a",function(){return Oa});I.d(P,"u",function(){return Ja});I.d(P,"E",function(){return wa});I.d(P,"y",function(){return Ea});I.d(P,"D",function(){return sa});I.d(P,"z",function(){return oa});I.d(P,"A",function(){return xa});I.d(P,
"w",function(){return ta});I.d(P,"C",function(){return ja});I.d(P,"t",function(){return pa});I.d(P,"G",function(){return va});I.d(P,"v",function(){return Fa});I.d(P,"x",function(){return Da});I.d(P,"H",function(){return Ca});I.d(P,"B",function(){return Ia});I.d(P,"F",function(){return La});I.d(P,"I",function(){return Ga});I.d(P,"s",function(){return Ma});var ba="UPDATE_CUSTOM_FILTER",W="UPDATE_ORG_GROUP_FILTER",aa="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",Q="UPDATE_LIVING_ATLAS_REGION_FILTER",N="UPDATE_ORG_CATEGORIES_FILTER",
R="UPDATE_GROUP_CATEGORIES_FILTER",X="UPDATE_ITEM_TYPE_FILTER",Y="UPDATE_MODIFIED_FILTER",da="UPDATE_CREATED_FILTER",ea="UPDATE_SHARED_FILTER",ha="UPDATE_GROUP_FILTER",na="UPDATE_FOLDER_FILTER",qa="UPDATE_STATUS_FILTER",ua="UPDATE_MAP_AREA_FILTER",ya="UPDATE_SEARCH_ORG_FILTER",Aa="UPDATE_TAGS_FILTER",Ba="UPDATE_COLLABORATIONS_FILTER",Oa="CLEAR_ALL_FILTERS",Ja=function(Ha,Ka){return{type:ba,payload:{index:Ha,filter:Ka}}},wa=function(Ha){return{type:W,payload:Ha}},Ea=function(Ha){return{type:X,payload:Ha}},
sa=function(Ha){return{type:N,payload:Ha}},oa=function(Ha){return{type:aa,payload:Ha}},xa=function(Ha){return{type:Q,payload:Ha}},ta=function(Ha){return{type:R,payload:Ha}},ja=function(Ha,Ka){return{type:Y,payload:{section:Ha,modified:Ka}}},pa=function(Ha,Ka){return{type:da,payload:{section:Ha,created:Ka}}},va=function(Ha){return{type:ea,payload:Ha}},Fa=function(Ha){return{type:na,payload:Ha}},Da=function(Ha){return{type:ha,payload:Ha}},Ca=function(Ha){return{type:qa,payload:Ha}},Ia=function(Ha){return{type:ua,
payload:Ha}},La=function(Ha){return{type:ya,payload:Ha}},Ga=function(Ha){return{type:Aa,payload:Ha}},Ma=function(Ha){return{type:Ba,payload:Ha}}},,function(S,P,I){function ba(wa){return!(!wa.urlKey||!wa.customBaseUrl)}function W(wa){return wa.role===na.admin||wa.role===na.accountAdmin}function aa(wa){return Object(ya.a)(wa.roleId)&&0<(wa.roleId||"").length}function Q(wa){return!aa(wa)||aa(wa)&&-1<(wa.privileges||[]).indexOf("portal:admin:viewItems")}function N(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToOrg")}
function R(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToGroup")}function X(wa){return-1<(wa.privileges||[]).indexOf("portal:user:shareToPublic")}function Y(wa,Ea){return da(wa)||ea(wa)||Ea.canSharePublic&&ha(wa)}function da(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToGroup")}function ea(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToOrg")}function ha(wa){return-1<(wa.privileges||[]).indexOf("portal:admin:shareToPublic")}I.d(P,"l",function(){return Ba});
I.d(P,"h",function(){return Oa});I.d(P,"m",function(){return Ja});I.d(P,"k",function(){return ba});I.d(P,"i",function(){return W});I.d(P,"j",function(){return aa});I.d(P,"g",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"a",function(){return R});I.d(P,"c",function(){return X});I.d(P,"d",function(){return da});I.d(P,"e",function(){return ea});I.d(P,"f",function(){return ha});var na,qa=I(63),ua=I(148),ya=I(5),Aa=I(58);!function(wa){wa.user="org_user";wa.accountUser="account_user";wa.publisher=
"org_publisher";wa.accountPublisher="account_publisher";wa.admin="org_admin";wa.accountAdmin="account_admin";wa.viewer="iAAAAAAAAAAAAAAA";wa.dataEditor="iBBBBBBBBBBBBBBB"}(na||(na={}));var Ba=function(wa){var Ea=wa.items;return!!wa.user.orgId&&Ea.every(function(sa){return sa.isOrgItem})},Oa=function(wa){var Ea=wa.items,sa=wa.user,oa=wa.portal;wa=Ea[0];var xa=Object(Aa.c)(wa,sa),ta=aa(sa),ja=Y(sa,oa);if(ta=Object(Aa.a)(wa,sa)&&-1<(sa.privileges||[]).indexOf("portal:admin:updateItems")&&!ta)ta=!ba(oa)||
R(sa)||N(sa)||oa.canSharePublic&&X(sa)||Y(sa,oa);oa=ta;return!(wa.portal.isPortal&&wa.owner!==sa.username&&-1<wa.owner.indexOf("esri_"))&&(xa||oa||Ba({items:Ea,user:sa})&&ja)},Ja=function(wa,Ea){return Object(qa.a)(Object(ua.a)(wa))(Ea)}},,,,,function(S,P){S.exports=v},,function(S,P,I){function ba(X,Y){return(null==X?void 0:X.owner)===Y.username}function W(X,Y){var da;if(!(da=ba(X,Y)))if(Object(Q.a)(X.isAdmin))da=!!X.isAdmin;else{da=X.owner;var ea="admin"===X.itemControl;da=!(X.portal.isPortal&&!ba(X,
Y)&&ea&&-1<da.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(da))&&ea}return da}function aa(X,Y){return W(X,Y)||"update"===X.itemControl}I.d(P,"d",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"a",function(){return aa});I.d(P,"b",function(){return R});var Q=I(5),N=I(51),R=function(X){var Y=X.user,da=X.items;X=X.portal;return Object(N.l)({items:da,user:Y})&&Object(N.h)({items:da,user:Y,portal:X})&&Object(N.g)(Y)&&da[0].itemOwner||Y}},,,,,function(S,
P,I){function ba(){for(var W=[],aa=0;aa<arguments.length;aa++)W[aa]=arguments[aa];return function(Q){return W.reduceRight(function(N,R){return R(N)},Q)}}I.d(P,"a",function(){return ba})},,function(S,P){S.exports=w},,,,function(S,P){S.exports=t},,function(S,P,I){I.d(P,"a",function(){return ba});var ba="CLEAR_SELECTION_STATE"},,,,,,,function(S,P,I){I.d(P,"a",function(){return X});I.d(P,"b",function(){return Y});var ba=I(63);S=I(5);var W=I(123),aa=I(122),Q=I(117),N=I(121),R=I(120),X=function(da,ea,ha){return Object(ba.a)(Object(R.a)(da),
Object(N.a)(da),Object(Q.a)(ea),Object(aa.a)(da),Object(W.a)(da))(ha)},Y=Object(ba.a)(Object(S.e)("patchedDescription"),Object(S.e)("thumbURI"),Object(S.e)("iconURI"),Object(S.e)("displayName"),Object(S.e)("badges"))},,,,,,,,function(S,P,I){function ba(X){return!(!N(X)&&!R(X))}function W(X,Y){return X.filter(function(da){return da.name===Y})[0]}function aa(X,Y){return!!W(X,Y)}I.d(P,"a",function(){return Q});I.d(P,"c",function(){return N});I.d(P,"d",function(){return R});I.d(P,"f",function(){return ba});
I.d(P,"b",function(){return W});I.d(P,"e",function(){return aa});S=I(15);var Q=function(X){return X.filters?X.filters.filter(function(Y){return"object"==typeof Y&&("group"===Y.type||"org"===Y.type)}):[]};S=Object(S.a)(function(X,Y){if(Y.filters)return Y.filters.reduce(function(da,ea){return"object"==typeof ea&&ea.type===X?ea:da},void 0)});var N=S("group"),R=S("org")},,,,function(S,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});I.d(P,"c",function(){return aa});I.d(P,"d",function(){return Q});
I.d(P,"e",function(){return N});I.d(P,"h",function(){return R});I.d(P,"i",function(){return X});I.d(P,"j",function(){return Y});I.d(P,"k",function(){return da});I.d(P,"g",function(){return ea});I.d(P,"f",function(){return ha});var ba="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",W="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",aa="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
Q="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",N="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",R="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
X="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
Y="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",da="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",ea="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",ha="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
,,,,,,,,function(S,P,I){function ba(X,Y){if(null==X?0:X.length)for(var da=void 0,ea=0;ea<X.length;ea++)if(Y(da=X[ea]))return da}function W(X){return X.filter(function(Y){return 0<Y.length})}function aa(X,Y,da){var ea=[];return Y.forEach(function(ha){(da?ha[da].toLowerCase()===X.toLowerCase():ha.toLowerCase()===X.toLowerCase())?ea.unshift(ha):ea.push(ha)}),ea}I.d(P,"e",function(){return Q});I.d(P,"f",function(){return N});I.d(P,"c",function(){return ba});I.d(P,"b",function(){return W});I.d(P,"a",function(){return R});
I.d(P,"d",function(){return aa});S=I(15);var Q=function(X,Y,da){return da.indexOf(X)===Y},N=Object(S.a)(function(X,Y){var da={};return Y.filter(function(ea){return!da[ea[X]]&&(da[ea[X]]=!0,!0)})}),R=function(X,Y){return X.length===Y.length&&X.reduce(function(da,ea){return da&&-1<Y.indexOf(ea)},!0)}},function(S,P,I){I.d(P,"g",function(){return aa});I.d(P,"k",function(){return Q});I.d(P,"j",function(){return N});I.d(P,"h",function(){return R});I.d(P,"i",function(){return X});I.d(P,"c",function(){return Y});
I.d(P,"b",function(){return da});I.d(P,"f",function(){return ea});I.d(P,"e",function(){return ha});I.d(P,"d",function(){return na});I.d(P,"a",function(){return qa});I.d(P,"r",function(){return ua});I.d(P,"n",function(){return ya});I.d(P,"s",function(){return Aa});I.d(P,"o",function(){return Ba});I.d(P,"q",function(){return Oa});I.d(P,"p",function(){return Ja});I.d(P,"l",function(){return wa});I.d(P,"m",function(){return Ea});var ba=I(78),W=I(48),aa="SELECT_ITEM",Q="TOGGLE_ITEM",N="SELECT_ITEM_SINGLE",
R="SELECT_ITEM_ASYNC",X="SELECT_ITEM_ASYNC_FAILED",Y="DESELECT_ITEM",da="DESELECT_ALL",ea="SELECT_ALL",ha="SELECT_ALL_FROM_QUERY_SUCCESS",na="END_BULK_WORKFLOW",qa="CANCEL_BULK_WORKFLOW",ua=function(sa){return function(oa,xa){var ta=xa();if(ta.settings.config.asynchronousItemSelect){oa({type:R,payload:sa});var ja=ta.settings.config.onSelect([Object(ba.b)(sa)]);(null==ja?0:ja.then)&&ja.then(function(){ta.settings.config.singleItemSelect?oa({type:N,payload:sa}):oa({type:aa,payload:sa})},function(){oa({type:X,
payload:sa})})}else ta.settings.config.singleItemSelect?(oa({type:N,payload:sa}),ta.settings.config.onSelect([Object(ba.b)(sa)])):(oa({type:aa,payload:sa}),ta.settings.config.onSelect([Object(ba.b)(sa)]))}},ya=function(sa,oa){var xa=oa();if(xa.settings.config.disableInitiallySelectedItems){xa=xa.results;var ta=xa.selectedItems,ja=xa.initiallySelectedItems;Object.keys(ta).map(function(pa){return ta[pa]}).filter(function(pa){return!ja[pa.id]}).forEach(function(pa){sa({type:Y,payload:pa})})}else sa({type:da})},
Aa=function(sa){return{type:Q,payload:sa}},Ba=function(sa){return function(oa,xa){var ta=xa();oa({type:Y,payload:sa});ta.settings.config.onDeselect([Object(ba.b)(sa)])}},Oa=function(){return function(sa,oa){var xa=oa();sa({type:ea,payload:xa.ui.pagination.displayItems})}},Ja=function(sa){return{type:ha,payload:sa}},wa=function(sa,oa){var xa=null==oa?void 0:oa();sa({type:qa});null==xa||xa.settings.config.onBack()},Ea=function(sa,oa){var xa=null==oa?void 0:oa();if(null==xa?0:xa.settings.config.onBulkAction){var ta=
xa.settings.config.onBulkAction;xa=xa.results;var ja=xa.selectedItems,pa=xa.initiallySelectedItems;xa=Object.keys(pa).map(function(Ca){return pa[Ca]});var va=Object.keys(ja).map(function(Ca){return ja[Ca]}),Fa=xa.filter(function(Ca){return!ja[Ca.id]}),Da=va.filter(function(Ca){return!pa[Ca.id]});sa({type:W.a});sa({type:na,payload:Da});ta({initiallySelectedItems:xa,allSelectedItems:va,newlySelectedItems:Da,deselectedItems:Fa})}}},function(S,P,I){I.d(P,"a",function(){return W});I.d(P,"b",function(){return aa});
var ba=I(0),W=function(Q){return Q?Q.urlKey?location.protocol+"//"+Q.urlKey+"."+Q.customBaseUrl:location.protocol+"//"+Q.portalHostname:""},aa=function(Q){return Object(ba.a)(Object(ba.a)({},Q),{baseUrl:W(Q)})}},,,,,,,,,,,,,,,,function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q){var N=Object(ba.a),R=Object(ba.a)({},Q),X=Q.type,Y=Q.typeKeywords?Q.typeKeywords:[],da=null==X?void 0:X.toLowerCase(),ea=!1,ha=!1,na=X=!1;if("ogcfeatureserver"===da)Y="featureshosted";
else if(0<(null==da?void 0:da.indexOf("service"))||"feature collection"===da||"kml"===da||"wms"===da||"wmts"===da||"wfs"===da){var qa=-1<Y.indexOf("Hosted Service");"feature service"===da||"feature collection"===da||"kml"===da||"wfs"===da?(na=-1<Y.indexOf("Table"),ea=-1<Y.indexOf("Route Layer"),ha=-1<Y.indexOf("Markup"),Y=(X=-1!==Y.indexOf("Spatiotemporal"))&&na?"spatiotemporaltable":na?"table":ea?"routelayer":ha?"markup":X?"spatiotemporal":qa?"featureshosted":"features"):"map service"===da||"wms"===
da||"wmts"===da?Y=qa||-1<Y.indexOf("Tiled")||"wmts"===da?"maptiles":"mapimages":"scene service"===da?Y=-1<Y.indexOf("Line")?"sceneweblayerline":-1<Y.indexOf("3DObject")?"sceneweblayermultipatch":-1<Y.indexOf("Point")?"sceneweblayerpoint":-1<Y.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<Y.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<Y.indexOf("Polygon")?"sceneweblayerpolygon":-1<Y.indexOf("Building")?"sceneweblayerbuilding":-1<Y.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===
da?(X=-1<Y.indexOf("Elevation 3D Layer"),Y=-1<Y.indexOf("Tiled Imagery"),Y=X?"elevationlayer":Y?"tiledimagerylayer":"imagery"):Y="stream service"===da?"streamlayer":"vector tile service"===da?"vectortile":"datastore catalog service"===da?"datastorecollection":"geocoding service"===da?"geocodeservice":"geoprocessing service"===da&&-1<Y.indexOf("Web Tool")?"tool":"layers"}else Y="web map"===da||"cityengine web scene"===da?"maps":"web scene"===da?-1<Y.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":
"web mapping application"===da&&-1<(null==Y?void 0:Y.indexOf("configurableApp"))?"instantapps":"web mapping application"===da||"mobile application"===da||"application"===da||"operation view"===da||"desktop application"===da?"apps":"map document"===da||"map package"===da||"published map"===da||"scene document"===da||"globe document"===da||"basemap package"===da||"mobile basemap package"===da||"mobile map package"===da||"project package"===da||"project template"===da||"pro map"===da||"layout"===da||
"layer"===da&&-1<Y.indexOf("ArcGIS Pro")||"explorer map"===da&&-1<Y.indexOf("Explorer Document")?"mapsgray":"service definition"===da||"csv"===da||"administrative report"===da||"shapefile"===da||"cad drawing"===da||"geojson"===da||"360 vr experience"===da||"netcdf"===da?"datafiles":"explorer add in"===da||"desktop add in"===da||"windows viewer add in"===da||"windows viewer configuration"===da?"appsgray":"arcgis pro add in"===da||"arcgis pro configuration"===da?"addindesktop":"rule package"===da||
"file geodatabase"===da||"csv collection"===da||"kml collection"===da||"windows mobile package"===da||"map template"===da||"desktop application template"===da||"arcpad package"===da||"code sample"===da||"form"===da||"document link"===da||"vector tile package"===da||"operations dashboard add in"===da||"rules package"===da||"image"===da||"workflow manager package"===da||"explorer map"===da&&-1<Y.indexOf("Explorer Mapping Application")||-1<Y.indexOf("Document")?"datafilesgray":"network analysis service"===
da||"geoprocessing service"===da||"geodata service"===da||"geometry service"===da||"geoprocessing package"===da||"locator package"===da||"geoprocessing sample"===da||"workflow manager service"===da||"raster function template"===da||"deep learning package"===da?"toolsgray":"layer"===da||"layer package"===da||"explorer layer"===da?"layersgray":"scene package"===da?"scenepackage":"tile package"===da?"tilepackage":"storymap"===da?"storymap":"storymap theme"===da?"storymaptheme":"web experience"===da?
"experiencebuilder":"web experience template"===da?"webexperiencetemplate":"task file"===da?"taskfile":"report template"===da?"report-template":"statistical data collection"===da?"statisticaldatacollection":"insights workbook"===da?"workbook":"insights model"===da?"insightsmodel":"insights page"===da?"insightspage":"hub initiative"===da?"hubinitiative":"hub page"===da?"hubpage":"hub site application"===da?"hubsite":"relational database connection"===da?"relationaldatabaseconnection":"big data file share"===
da||"data store"===da?"datastorecollection":"image collection"===da?"imagecollection":"desktop style"===da?"desktopstyle":"style"===da?"style":"dashboard"===da?"dashboard":"feed"===da?"feed":"real time analytic"===da?"realtimeanalytics":"big data analytic"===da?"bigdataanalytics":"notebook"===da?"notebook":"notebook code snippets"===da?"notebookcodesnippets":"maps";return N(R,{iconURI:aa+"/"+Y+"16.png"})})},,,function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,
Q){var N=Object(ba.a),R=Object(ba.a)({},Q),X,Y,da="notebook"!==(null===(X=Q.type)||void 0===X?void 0:X.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(Y=Q.type)||void 0===Y?void 0:Y.toLowerCase())&&(da="notebook-code-snippet-thumb.png");Y=aa.baseUrl+"/home/js/arcgisonline/css/images/"+da;X=(Q.thumbnail&&(Y=aa.restUrl+"/content/items/"+Q.id+"/info/"+Q.thumbnail+(aa.credential?"?token\x3d"+aa.credential.token:"")),Y);return N(R,{thumbURI:X})})},function(S,
P,I){I.d(P,"a",function(){return aa});var ba=I(0);S=I(15);var W=function(Q,N){return N.description?N.description.replace(/src=('|")js\/jsapi\/esri\//g,function(R){return"src\x3d"+('"'===R[4]?'"':"'")+Q.baseUrl+"/home/js/jsapi/esri/"}):void 0},aa=Object(S.a)(function(Q,N){return Object(ba.a)(Object(ba.a)({},N),{patchedDescription:W(Q,N)})})},function(S,P,I){I.d(P,"a",function(){return Q});var ba=I(0),W=I(124);S=I(15);var aa=I(58),Q=Object(S.a)(function(N,R){var X=Object(ba.a),Y=Object(ba.a)({},R),
da,ea=R.type,ha=R.typeKeywords||[],na=ea,qa=(null==N?void 0:N.portalUser)||(null==N?void 0:N.user);if("Feature Service"===ea||"Feature Collection"===ea){if(na=-1<ha.indexOf("Table")?"Table":-1<ha.indexOf("Route Layer")?"Route Layer":-1<ha.indexOf("Markup")?"Markup":"Feature Layer",qa&&Object(aa.d)(R,qa)&&-1<(null==ha?void 0:ha.indexOf("Hosted Service")))ha=(null===(da=null===document||void 0===document?void 0:document.documentElement)||void 0===da?void 0:da.lang)||"en",na=na+" ("+(W.a[ha]||W.a[ha.split("-")[0]]||
W.a.en)+")"}else"Image Service"===ea?(da=-1<ha.indexOf("Elevation 3D Layer"),ha=-1<ha.indexOf("Tiled Imagery"),na=da?"Elevation Layer":ha?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===ea?na="Scene Layer":"Scene Package"===ea?na="Scene Layer Package":"Stream Service"===ea?na="Feature Layer":"Geocoding Service"===ea?na="Locator":"Microsoft Powerpoint"===ea?na="Microsoft PowerPoint":"OGCFeatureServer"===ea?na="OGC Feature Layer":"GeoJson"===ea?na="GeoJSON":"Globe Service"===ea?na="Globe Layer":
"Vector Tile Service"===ea?na="Tile Layer":"netCDF"===ea?na="NetCDF":"Map Service"===ea?na=-1===ha.indexOf("Spatiotemporal")&&(-1<ha.indexOf("Hosted Service")||-1<ha.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":ea&&-1<ea.toLowerCase().indexOf("add in")?na=ea.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===ea?na="Big Data File Share":"Web Mapping Application"===ea&&(null==ha?0:ha.includes("configurableApp"))?na="Instant App":"Data Store"===ea&&(ha.includes("cloudStore_amazon")||ha.includes("cloudStore_azure")?
na+=" (Cloud)":(ha.includes("fileShare")||ha.includes("hdfs")||ha.includes("hive")||ha.includes("bigDataFileShare")&&ha.includes("dataStore"))&&(na+=" (Big Data File Share)"));return X(Y,{displayName:na})})},function(S,P,I){I.d(P,"a",function(){return aa});var ba=I(0);S=I(15);var W=function(Q,N){var R=[],X=Q.typeKeywords?Q.typeKeywords:[];return Q.contentStatus&&("org_authoritative"===Q.contentStatus||"public_authoritative"===Q.contentStatus?R.push("authoritative"):"deprecated"===Q.contentStatus&&
R.push("deprecated")),Q.origin&&R.push("collaboration"),Q.groupDesignations&&-1<Q.groupDesignations.indexOf("livingatlas")&&R.push("livingAtlas"),-1<X.indexOf("Requires Credits")?R.push("premium"):-1<X.indexOf("Requires Subscription")&&R.push("subscriber"),-1<X.indexOf("Public Data Collection")&&((null==N?void 0:N.portalUser)||(null==N?void 0:N.user))&&R.push("publicDataCollection"),"Solution"===Q.type&&-1<Q.typeKeywords.indexOf("ArcGIS Solution")&&R.push("solution"),N.isPortal&&"Web Mapping Application"===
Q.type&&(-1<Q.typeKeywords.indexOf("Story Map")&&R.push("retiredStoryMap"),function(Y){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(da){var ea,
ha=-1<da.indexOf(".html");return-1<(null===(ea=Y.url)||void 0===ea?void 0:ea.indexOf("/apps/"+da+(ha?"":"/")))})}(Q)&&R.push("retiredApp")),R},aa=Object(S.a)(function(Q,N){return Object(ba.a)(Object(ba.a)({},N),{badges:W(N,Q)})})},function(S,P,I){I.d(P,"a",function(){return ba});var ba={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},function(S,P,I){I.d(P,"a",function(){return N});I.d(P,"d",function(){return R});I.d(P,"c",function(){return X});I.d(P,"b",function(){return Y});I.d(P,"f",function(){return da});I.d(P,"h",function(){return ea});I.d(P,"g",function(){return ha});I.d(P,"i",function(){return na});I.d(P,"e",function(){return qa});I.d(P,"m",function(){return ua});I.d(P,"l",function(){return ya});I.d(P,"k",function(){return Aa});
I.d(P,"o",function(){return Ba});I.d(P,"j",function(){return Oa});I.d(P,"p",function(){return Ja});I.d(P,"n",function(){return wa});var ba=I(0);S=I(65);var W=I.n(S),aa=I(30),Q=I(51),N="CHANGE_PAGE",R="CHANGE_SORT_ORDER",X="CHANGE_SORT_FIELD",Y="CHANGE_SEARCH_STRING",da="FETCH_RESOURCES",ea="FETCH_RESOURCES_SUCCESS",ha="FETCH_RESOURCES_FAILED",na="UPDATE_ACTIVE_FILTERS",qa="CLEAR_ALL_FILTERS",ua=function(Ea){return{type:R,payload:Ea}},ya=function(Ea){return{type:X,payload:Ea}},Aa=function(Ea){return{type:Y,
payload:Ea}},Ba=function(){return function(Ea,sa){var oa=sa();if(!1===oa.ui.resourceSectionVisible)Ea({type:ha});else{Ea({type:da});var xa=Object(aa.v)(oa.request,oa.item.url),ta=Object(aa.r)(oa.request,oa.portal,oa.item.owner);W()([xa,ta]).then(function(ja){if("Geoprocessing Service"===oa.item.type&&ja[0].tasks&&0<ja[0].tasks.length){var pa=ja[0].tasks.map(function(va){return Object(aa.v)(oa.request,oa.item.url+"/"+va)});W()(pa).then(function(va){Ea({type:ea,payload:{resources:va.map(function(Fa){return Object(ba.a)({type:"task"},
Fa)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ha})})}else"Big Data File Share"===oa.item.type&&ja[0].children&&0<ja[0].children.length?(pa=ja[0].children.map(function(va){return Object(aa.v)(oa.request,oa.item.url+"/"+va.name)}),W()(pa).then(function(va){Ea({type:ea,payload:{resources:va.map(function(Fa,Da){return Object(ba.a)(Object(ba.a)({},ja[0].children[Da]),Fa)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ha})})):ja[0].layers&&0<ja[0].layers.length||ja[0].tables&&0<ja[0].tables.length?(ja[0].layers=ja[0].layers.concat(ja[0].tables),pa=ja[0].layers.map(function(va){return Object(aa.v)(oa.request,oa.item.url+"/"+va.id)}),W()(pa).then(function(va){Ea({type:ea,payload:{resources:va.map(function(Fa,Da){return Object(ba.a)(Object(ba.a)({},ja[0].layers[Da]),Fa)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ha})})):Object(aa.v)(oa.request,oa.item.url).then(function(va){Ea({type:ea,payload:{resources:[va].map(function(Fa){return Object(ba.a)(Object(ba.a)({},oa.item),Fa)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(Q.m)(oa.portal,ja[1]),service:Object(ba.a)({},ja[0])}})},function(){Ea({type:ha})})},function(ja){Ea({type:ha})})}}},
Oa=function(Ea){return{type:N,payload:Ea}},Ja=function(Ea,sa){return{type:na,payload:{index:Ea,filter:sa}}},wa=function(){return{type:qa}}},function(S,P,I){function ba(Q){var N=Object(W.b)(Q.settings.config.customSections,Q.parameters.section);return(null==N?0:N.portal)?Object(aa.b)(N.portal):Q.settings.utils.portal}I.d(P,"a",function(){return ba});var W=I(86),aa=I(101)},,,,,,,,,,,,,,,function(S,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});var ba={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},W="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
,,,,,,function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q){var N=Object(ba.a),R=Object(ba.a)({},Q);var X=Q.thumbnail?aa.restUrl+"/community/users/"+Q.username+"/info/"+Q.thumbnail+(aa.credential?"?token\x3d"+aa.credential.token:""):void 0;return N(R,{thumbURI:X})})},,function(S,P){S.exports=l},function(S,P){S.exports=f},,,,,,,,,,,function(S,P,I){function ba(Aa,Ba){var Oa=["",{method:"get",query:Ba.settings.config.addRequestParameters?Object(Q.a)({f:"json",
q:Object(R.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1},Ba.settings.config.addRequestParameters()):{f:"json",q:Object(R.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1}}];return Object(N.a)(ha(Ba),na(Ba),qa(Ba),ua(Ba))(Oa)}function W(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(R.a)(Aa),num:0,countFields:Ba.join(", "),countSize:200}}];return ea(Aa)(Oa)}
function aa(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(R.c)(Aa,Ba),num:0,countFields:"tags",countSize:200}}];return ea(Aa)(Oa)}I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return aa});var Q=I(0),N=I(63);S=I(15);var R=I(179),X=I(356),Y=I(126),da=I(86),ea=function(Aa){return Object(N.a)(ua(Aa),ya(Aa),qa(Aa))},ha=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Aa.parameters.sort.field;return"relevance"!==wa?[Oa,Object(Q.a)(Object(Q.a)({},Ja),
{query:Object(Q.a)(Object(Q.a)({},Ja.query),{sortField:wa})})]:[Oa,Ja]}),na=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1];if(Aa.parameters.filter.searchMapArea){var wa=Aa.parameters.extent.area;wa=wa.minx+","+wa.miny+","+wa.maxx+","+wa.maxy;return[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},Ja.query),{bbox:wa})})]}return[Oa,Ja]}),qa=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Object(X.a)(Aa);return wa?[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},
Ja.query),{enriched:wa})})]:[Oa,Ja]}),ua=Object(S.a)(function(Aa,Ba){Ba[0];var Oa=Ba[1],Ja=Aa.parameters,wa=Ja.section;Ja=Ja.filter;var Ea=Object(Y.a)(Aa),sa=Ea.restUrl+"/search";if("myGroups"===wa&&Ja.group)sa=Ea.restUrl+"/content/groups/"+Ja.group.id+"/search",Ja.groupCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value])));else if("livingAtlas"!==wa&&"Living Atlas"!==wa||!Aa.results.livingAtlas.groupId)if(!Ja.orgCategories||"myOrganization"!==wa&&"myContent"!==
wa){if(wa=Object(da.b)(Aa.settings.config.customSections,wa))Object(da.d)(wa)&&Ja.orgCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]))),(wa=Object(da.c)(wa))&&(sa=Ea.restUrl+"/content/groups/"+wa.id+"/search",Ja.groupCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value]))))}else sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]));else sa=Ea.restUrl+"/content/groups/"+Aa.results.livingAtlas.groupId+
"/search",Ja.livingAtlasCategories?(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasCategories.value])),Ja.livingAtlasRegion&&(sa=sa+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])))):Ja.livingAtlasRegion&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])));return[sa,Oa]}),ya=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],wa=Aa.parameters.section,Ea=Object(da.b)(Aa.settings.config.customSections,
wa);return"myGroups"===wa&&Aa.parameters.filter.group||("livingAtlas"===wa||"Living Atlas"===wa)&&Aa.results.livingAtlas.groupId||Ea&&Object(da.c)(Ea)?[Oa,Object(Q.a)(Object(Q.a)({},Ja),{query:Object(Q.a)(Object(Q.a)({},Ja.query),{countFields:Ja.query.countFields?Ja.query.countFields.replace("categories","groupcategories"):void 0})})]:[Oa,Ja]})},,,,,,,,function(S,P){var I=function(){return this}();try{I=I||(new Function("return this"))()}catch(ba){"object"==typeof window&&(I=window)}S.exports=I},
,,function(S,P,I){I.d(P,"a",function(){return N});I.d(P,"c",function(){return R});I.d(P,"b",function(){return X});I.d(P,"d",function(){return Y});I.d(P,"h",function(){return da});I.d(P,"i",function(){return ea});I.d(P,"j",function(){return ha});I.d(P,"e",function(){return na});I.d(P,"g",function(){return qa});I.d(P,"f",function(){return ua});I.d(P,"l",function(){return ya});I.d(P,"k",function(){return Ba});I.d(P,"m",function(){return Oa});S=I(65);var ba=I.n(S);S=I(56);var W=I.n(S),aa=I(30),Q=I(48),
N="ADD_TO_FAVORITES",R="ADD_TO_FAVORITES_SUCCESS",X="ADD_TO_FAVORITES_FAIL",Y="LOADING_USER_INFO",da="UPDATE_GROUP_CATEGORIES",ea="UPDATE_USER_INFO",ha="UPDATE_USER_INFO_FAILED",na="REMOVE_FROM_FAVORITES",qa="REMOVE_FROM_FAVORITES_SUCCESS",ua="REMOVE_FROM_FAVORITES_FAIL",ya=function(){return function(Ja,wa){var Ea=wa(),sa=Ea.parameters.filter.group,oa=Ea.results.user.groupCategories;if("loaded"===Ea.results.user.status)return sa&&!oa[sa.id]?Ja(Aa(sa.id)):(new W.a).resolve();if("failed"===Ea.results.user.status)return(new W.a).reject();
Ja({type:Y});oa=Ea.settings.utils;Ea=oa.request;oa=oa.portal;return ba()([Object(aa.r)(Ea,oa).then(function(xa){return xa.groups.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(aa.s)(Ea,oa).then(function(xa){return xa.folders.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(aa.t)(Ea,oa,oa.user.favGroupId).then(function(xa){return xa.items.reduce(function(ta,ja){return ta[ja.id]=!0,ta},{})})].concat(sa?[Ja(Aa(sa.id))]:[])).then(function(xa){Ja({type:ea,payload:{groups:xa[0],
folders:xa[1],favorites:xa[2]}})},function(xa){Ja({type:ha})})}},Aa=function(Ja){return function(wa,Ea){var sa=Ea().settings.utils;return Object(aa.f)(sa.request,sa.portal,Ja).then(function(oa){wa({type:da,payload:{id:Ja,categorySchema:oa.categorySchema}})})}},Ba=function(Ja){return function(wa,Ea){var sa=Ea(),oa=sa.settings.utils.portal,xa=oa.restUrl+"/content/items/"+Ja.id+"/share";oa={f:"json",everyone:Ja.access&&"public"===Ja.access||Ja.sharing&&Ja.sharing.access&&"public"===Ja.sharing.access,
org:Ja.access&&"org"===Ja.access||Ja.sharing&&Ja.sharing.access&&"org"===Ja.sharing.access||!1,groups:[oa.user.favGroupId],items:[Ja.id]};wa({type:N,payload:Ja});sa.settings.utils.request(xa,{method:"post",query:oa}).then(function(ta){wa({type:R,payload:Ja})},function(ta){wa({type:X,payload:Ja})})}},Oa=function(Ja){return function(wa,Ea){var sa=Ea(),oa=sa.settings.utils.portal,xa=oa.user.favGroupId,ta=oa.restUrl+"/content/items/"+Ja.id+"/unshare",ja={f:"json",everyone:!1,org:!1,groups:[xa],items:[Ja.id]};
wa({type:na,payload:Ja});sa.settings.utils.request(ta,{method:"post",query:ja}).then(function(pa){function va(){wa({type:qa,payload:Ja})}"myFavorites"===(sa=Ea()).parameters.section?function Da(){sa.settings.utils.request(oa.restUrl+"/search",{query:{f:"json",q:"(id:"+Ja.id+") (group:"+xa+")"},method:"get"}).then(function(Ca){0<Ca.data.total?setTimeout(function(){Da()},250):(va(),wa(Object(Q.i)()))},function(Ca){va()})}():va()},function(pa){wa({type:ua,payload:Ja})})}}},,,,,function(S,P){S.exports=
g},function(S,P,I){function ba(sa){return Object(N.a)(R.b,wa(sa),Ea(sa),Object(X.a)(sa.parameters.filter.orgGroup),Object(Y.a)(sa.parameters.filter.status,sa.settings.utils.portal.user),Ja(sa),Object(da.a)(sa.parameters.filter.shared),Object(ea.a)(sa.parameters.filter.dateCreated),Object(ea.b)(sa.parameters.filter.dateModified),Object(ha.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,itemTypeFilter:sa.parameters.filter.itemType,specialItemQ:sa.settings.config.specialItemQ}),Object(na.b)(sa.parameters.filter.tags),
Object(qa.a)(sa.parameters.filter.origins))([sa.parameters.searchString.current]).join(" ")}function W(sa){return Object(N.a)(R.b,wa(sa),Ja(sa),Object(ha.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,specialItemQ:sa.settings.config.specialItemQ}))([sa.parameters.searchString.current]).join(" ")}function aa(sa,oa){return Object(N.a)(R.b,wa(sa),Ja(sa),Object(ha.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,specialItemQ:sa.settings.config.specialItemQ}),Object(na.a)(oa))([sa.parameters.searchString.current]).join(" ")}
I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return aa});var Q=I(0),N=I(63),R=I(99),X=I(398),Y=I(399),da=I(400),ea=I(323),ha=I(265),na=I(324),qa=I(401);S=I(15);var ua=I(5),ya=I(180),Aa=I(141),Ba=I(126),Oa=I(86),Ja=Object(S.a)(function(sa,oa){var xa=sa.parameters.filter,ta=sa.settings.config,ja=Object(Ba.a)(sa);switch(sa.parameters.section){case "myContent":return ja.user?ja.user&&xa.folder?Object(Q.g)(Object(Q.g)([],oa),['(owner:"'+ja.user.username+'") (ownerfolder:'+
xa.folder.id+")"]):Object(Q.g)(Object(Q.g)([],oa),['(owner:"'+ja.user.username+'")']):oa;case "myFavorites":return ja.user?Object(Q.g)(Object(Q.g)([],oa),["(group:"+ja.user.favGroupId+")"]):oa;case "myGroups":if(sa.results.user.groups){if(sa.parameters.filter.group)return Object(Q.g)(Object(Q.g)([],oa),["(group:"+sa.parameters.filter.group.id+")"]);xa=sa.results.user.groups.map(function(pa){return pa.id});return Object(Q.g)(Object(Q.g)([],oa),["(group:"+xa.join(" OR group:")+")"])}return oa;case "myOrganization":return Object(Q.g)(Object(Q.g)([],
oa),["(orgid:"+ja.id+")"]);case "subscription":return Object(Q.g)(Object(Q.g)([],oa),["("+sa.results.provisionedContent.content.map(function(pa){return"id:"+pa}).join(" OR ")+")"]);case "all":return oa;default:return(xa=ta.customSections.filter(function(pa){return sa.parameters.section===pa.name})[0])?Object(Q.g)(Object(Q.g)([],oa),[xa.baseQuery]):oa}}),wa=Object(S.a)(function(sa,oa){var xa=sa.settings.config.addQueryParameters;try{if(xa&&"function"==typeof xa)return Object(Q.g)(Object(Q.g)([],oa),
[xa(sa)])}catch(ta){}return oa}),Ea=Object(S.a)(function(sa,oa){var xa=Object(Oa.b)(sa.settings.config.customSections,sa.parameters.section);if(xa&&!Object(ua.b)(sa.parameters.filter.customFilter)){var ta=Object.keys(sa.parameters.filter.customFilter).filter(function(ja){return sa.parameters.filter.customFilter[ja]}).reduce(function(ja,pa){var va,Fa=parseInt(pa,10),Da=sa.parameters.filter.customFilter[Fa].value;if(null===(va=null==xa?void 0:xa.filters)||void 0===va?0:va[Fa])if(va=Object(ya.a)("children",
"value",xa.filters[Fa],Da))return Object(Q.g)(Object(Q.g)([],ja),["("+va.q+")"]);return ja},[]).join(" AND ");return Object(Q.g)(Object(Q.g)([],oa),[""+ta])}return oa})},function(S,P,I){function ba(na,qa){return X("children","value",na,qa)}function W(na,qa){return Y("children","value",na,qa)}function aa(na,qa){return function Ja(ya,Aa,Ba,Oa){var wa,Ea=Ba[ya];return Ea&&0!==Ea.length?Object(ha.a)(Object(ha.a)({},Ba),((wa={})[ya]=Ea.reduce(function(sa,oa){return-1!==Oa.indexOf(oa[Aa])&&sa.push(Ja(ya,
Aa,oa,Oa)),sa},[]),wa)):Object(ha.a)({},Ba)}("children","value",na,qa)}function Q(na){return function(qa,ua){var ya,Aa=ua[qa];return Aa?Object(ha.a)(Object(ha.a)({},ua),((ya={})[qa]=function Ja(Oa){return 0===Oa.length?[]:1!==Oa.length||Oa[0][qa]?1<Oa.length?Oa.reduce(function(wa,Ea){var sa;return Ea[qa]?(wa.push(Object(ha.a)(Object(ha.a)({},Ea),((sa={})[qa]=Ja(Ea[qa]),sa))),wa):(wa.push(Ea),wa)},[]):Ja(Oa[0][qa]):Oa}(Aa),ya)):ua}("children",na)}function N(na,qa){return da("children",na,qa)}function R(na,
qa){return function Oa(ya,Aa,Ba){var Ja=Aa[ya];Ja&&Ja.forEach(function(wa){return Oa(ya,wa,Ba)});Ba(Aa)}("children",na,qa)}function X(na,qa,ua,ya){var Aa=ua[na];return ua[qa]===ya?ua:Aa?Aa.reduce(function(Ba,Oa){return Ba||X(na,qa,Oa,ya)},void 0):void 0}function Y(na,qa,ua,ya){if(ua=ua[na])return ua.reduce(function(Aa,Ba){return Ba[qa]===ya[0]?1===ya.length?Ba:Y(na,qa,Ba,ya.slice(1)):Aa},void 0)}function da(na,qa,ua){var ya;return ua(Object(ha.a)(Object(ha.a)({},qa),((ya={})[na]=qa[na]?qa[na].map(function(Aa){return da(na,
Aa,ua)}):void 0,ya)))}function ea(na,qa,ua){return da(na,ua,function(ya){var Aa=ya[qa];if(delete ya[qa],ya[na]){var Ba=ya[na];return delete ya[na],Object(ha.a)(Object(ha.a)({},ya),{value:Aa,children:Ba})}return Object(ha.a)(Object(ha.a)({},ya),{value:Aa})})}I.d(P,"f",function(){return ba});I.d(P,"d",function(){return W});I.d(P,"i",function(){return aa});I.d(P,"e",function(){return Q});I.d(P,"h",function(){return N});I.d(P,"g",function(){return R});I.d(P,"a",function(){return X});I.d(P,"b",function(){return Y});
I.d(P,"c",function(){return ea});var ha=I(0)},,function(S,P,I){function ba(R){return Object(N.h)(R,function(X){return X.count&&delete X.count,X})}function W(R,X,Y){if(X)return R.counts.filter(function(da){return da.fieldName===Y})[0].fieldValues.forEach(function(da){var ea=da.count;da=da.value.split("/").slice(1);(da=Object(N.d)(X,da))&&(da.count=ea)}),X}function aa(R){R=Object(N.c)("categories","title",{title:"root",categories:R});return Object(N.h)(R,function(X){return Object(Q.a)(Object(Q.a)({},
X),{value:X.value.toLowerCase(),displayName:X.displayName?X.displayName:X.value,tooltip:X.description?X.description:void 0})}).children}I.d(P,"a",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"b",function(){return aa});var Q=I(0),N=I(180)},,,,,,,function(S,P){function I(){throw Error("setTimeout has not been defined");}function ba(){throw Error("clearTimeout has not been defined");}function W(ua){if(Y===setTimeout)return setTimeout(ua,0);if((Y===I||!Y)&&setTimeout)return Y=setTimeout,
setTimeout(ua,0);try{return Y(ua,0)}catch(ya){try{return Y.call(null,ua,0)}catch(Aa){return Y.call(this,ua,0)}}}function aa(){na&&ea&&(na=!1,ea.length?ha=ea.concat(ha):qa=-1,ha.length&&Q())}function Q(){if(!na){var ua=W(aa);na=!0;for(var ya=ha.length;ya;){ea=ha;for(ha=[];++qa<ya;)ea&&ea[qa].run();qa=-1;ya=ha.length}ea=null;na=!1;(function(Aa){if(da===clearTimeout)return clearTimeout(Aa);if((da===ba||!da)&&clearTimeout)return da=clearTimeout,clearTimeout(Aa);try{da(Aa)}catch(Ba){try{return da.call(null,
Aa)}catch(Oa){return da.call(this,Aa)}}})(ua)}}function N(ua,ya){this.fun=ua;this.array=ya}function R(){}var X=S.exports={};try{var Y="function"==typeof setTimeout?setTimeout:I}catch(ua){Y=I}try{var da="function"==typeof clearTimeout?clearTimeout:ba}catch(ua){da=ba}!0;var ea,ha=[],na=!1,qa=-1;X.nextTick=function(ua){var ya=Array(arguments.length-1);if(1<arguments.length)for(var Aa=1;Aa<arguments.length;Aa++)ya[Aa-1]=arguments[Aa];ha.push(new N(ua,ya));1!==ha.length||na||W(Q)};N.prototype.run=function(){this.fun.apply(null,
this.array)};X.title="browser";X.browser=!0;X.env={};X.argv=[];X.version="";X.versions={};X.on=R;X.addListener=R;X.once=R;X.off=R;X.removeListener=R;X.removeAllListeners=R;X.emit=R;X.prependListener=R;X.prependOnceListener=R;X.listeners=function(ua){return[]};X.binding=function(ua){throw Error("process.binding is not supported");};X.cwd=function(){return"/"};X.chdir=function(ua){throw Error("process.chdir is not supported");};X.umask=function(){return 0}},,,,function(S,P,I){function ba(Q){var N,R;
return null!==(N=Q.orgId)&&void 0!==N?N:null===(R=Q.portal)||void 0===R?void 0:R.id}function W(Q){var N;if(!Q)return!1;var R=ba(Q),X=null===(N=Q.portal)||void 0===N?void 0:N.isPortal;return!!R&&!X&&"public_authoritative"===Q.contentStatus}function aa(Q,N,R){return new Promise(function(X){var Y=Q.map(function(da){return function(ea,ha,na){var qa="https://"+ha.portalHostname+"/sharing/rest/portals/"+ea;return new Promise(function(ua){na(qa,{method:"get",query:{f:"json"}}).then(function(ya){ya=ya.data;
var Aa=ya.thumbnail,Ba=(ya.allSSL?"https://":"http://")+(ya.urlKey||"")+"."+ya.customBaseUrl+"/";ua({name:ya.name,url:Ba+"home/",thumbnail:Aa?Ba+"sharing/rest/portals/self/resources/"+Aa:"./images/group-no-image.png",id:ea})})})}(da,N,R)});Promise.all(Y).then(function(da){X(da.filter(function(ea){return ea}))})})}I.d(P,"b",function(){return ba});I.d(P,"c",function(){return W});I.d(P,"a",function(){return aa})},,,,,,function(S,P,I){function ba(ea,ha,na){return ea.filter(function(qa,ua,ya){return ya.indexOf(qa)===
ua&&!ha.hasOwnProperty(qa)&&-1===na.indexOf(qa)})}I.d(P,"c",function(){return N});I.d(P,"d",function(){return R});I.d(P,"a",function(){return X});I.d(P,"b",function(){return Y});I.d(P,"e",function(){return da});var W=I(0),aa=I(193),Q=I(309),N="USER_THUMBNAILS_LOAD_START",R="USER_THUMBNAILS_LOAD_SUCCESS",X="ORG_THUMBNAILS_LOAD_START",Y="ORG_THUMBNAILS_LOAD_SUCCESS",da=function(ea,ha){var na=ha(),qa=na.settings.utils,ua=qa.request;qa=qa.portal;var ya=na.ui.pagination;na=ya.displayItems;var Aa=ya.userThumbnailCache,
Ba=ya.pendingUserThumbRequests,Oa=ya.orgThumbnailCache;ya=ya.pendingOrgThumbRequests;Oa=ba(na.filter(aa.c).map(aa.b),Oa,ya);na=ba(na.map(function(Ja){return Ja.owner}),Aa,Ba);if(0!==na.length||0!==Oa.length)ea({type:N,payload:na}),ea({type:X,payload:Oa}),na=Object(Q.a)(na,qa,ua),ua=Object(aa.a)(Oa,qa,ua),Promise.all([na,ua]).then(function(Ja){var wa=Ja[0];Ja=Ja[1];wa=(null==wa?void 0:wa.reduce(function(Ea,sa){var oa;return Object(W.a)(Object(W.a)({},Ea),((oa={})[sa.username]={thumbnail:sa.thumbURI||
sa.thumbnail,username:sa.username,fullName:sa.fullName,id:sa.id},oa))},{}))||{};Ja=(null==Ja?void 0:Ja.reduce(function(Ea,sa){var oa;return Object(W.a)(Object(W.a)({},Ea),((oa={})[sa.id]=sa,oa))},{}))||{};ea({type:R,payload:wa});ea({type:Y,payload:Ja})})}},,,,,,function(S,P){S.exports=h},function(S,P){S.exports=x},,,,,,,,,,function(S,P){S.exports=u},function(S,P,I){I.d(P,"a",function(){return Y});var ba=I(0);S=I(56);var W=I.n(S);S=I(65);var aa=I.n(S);S=I(15);var Q=I(99),N=I(30),R=I(325),X=I(126),
Y=Object(S.a)(function(da,ea){var ha=da.settings.utils.request,na=Object(X.a)(da),qa=new W.a,ua=ea.data.results.filter(function(ya){return ya.orgId&&!da.results.allOrganizations[ya.orgId]}).map(function(ya){return ya.orgId}).filter(Q.e).map(function(ya){return Object(N.m)(ha,na,ya)});return aa()(ua).then(function(ya){qa.resolve(Object(ba.a)(Object(ba.a)({},ea),{data:Object(ba.a)(Object(ba.a)({},ea.data),{organizations:ya.reduce(function(Aa,Ba){var Oa;return Object(ba.a)(Object(ba.a)({},Aa),((Oa={})[Ba.id]=
Object(R.a)(Ba),Oa))},{})})}))},function(ya){qa.reject(ya)}),qa})},,,,,,,,,function(S,P,I){I.d(P,"c",function(){return ba});I.d(P,"d",function(){return W});I.d(P,"e",function(){return aa});I.d(P,"b",function(){return Q});I.d(P,"f",function(){return N});I.d(P,"g",function(){return R});I.d(P,"a",function(){return X});I.d(P,"h",function(){return Y});I.d(P,"i",function(){return da});I.d(P,"j",function(){return ea});var ba="MAXIMIZE_DLG",W="MINIMIZE_DLG",aa="TOGGLE_EXPANDED_FILTERS",Q="CLOSE_FULLSCREEN_BROWSER",
N="TOGGLE_EXPANDED_SORT",R="UPDATE_SUBLAYER_CARD_STATE",X="CLOSE_EXPANDED_SORT",Y=function(){return{type:X}},da=function(){return{type:aa}},ea=function(){return{type:N}}},function(S,P,I){I.d(P,"a",function(){return aa});var ba=I(0),W=I(101),aa=function(Q){var N=Object(ba.a),R=Object(ba.a)({},Q),X=Object(W.a)(Q);return N(R,{thumbURI:Q.thumbnail?X+"/sharing/rest/portals/"+Q.id+"/resources/"+Q.thumbnail:X+"/home/images/group-no-image.png"})}},function(S,P,I){I.d(P,"a",function(){return aa});var ba=I(0),
W=I(101),aa=function(Q){return Object(ba.a)(Object(ba.a)({},Q),{orgUrl:Object(W.a)(Q)+"/home/index.html"})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(S,P){S.exports=E},function(S,P){S.exports=z},function(S,P,I){I.d(P,"a",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"c",function(){return R});I.d(P,"d",function(){return X});S=I(56);var ba=I.n(S),W=I(30),aa=I(78),Q="UPDATE_PROVISIONED_CONTENT",N="UPDATE_PROVISIONED_CONTENT_FAILED",R="UPDATE_PROVISIONED_CONTENT_SUCCESS",X=function(){return function(Y,
da){var ea=da();if("loaded"===ea.results.provisionedContent.status)return(new ba.a).resolve();if("failed"===ea.results.provisionedContent.status)return(new ba.a).reject();Y({type:Q});var ha=ea.settings.utils,na=ha.portal;return Object(W.d)(ha.request,na,na.user.username).then(function(qa){Y({type:R,payload:qa.filter(function(ua){return-1<ea.settings.config.allowedItemTypes.indexOf(ua.type)}).map(function(ua){return Object(aa.a)(na,ea.settings.utils.iconDir,ua)})})},function(qa){Y({type:N})})}}},,
,,,,,,function(S,P,I){I.d(P,"a",function(){return X});I.d(P,"c",function(){return Y});I.d(P,"d",function(){return da});I.d(P,"b",function(){return ea});I.d(P,"e",function(){return ha});var ba=I(0);S=I(65);var W=I.n(S);S=I(56);var aa=I.n(S),Q=I(99),N=I(30);S=I(15);var R=I(86),X="LOADING_CUSTOM_SECTION_INFO",Y="UPDATE_CUSTOM_SECTION_SCHEMAS",da="UPDATE_CUSTOM_SECTION_INFO_FAILED",ea="UPDATE_CUSTOM_SECTION_GROUPS",ha=function(){return function(ua,ya){function Aa(Ja){ua({type:da})}var Ba=ya();if("loaded"===
Ba.results.customSections.status)return(new aa.a).resolve();if("failed"===Ba.results.customSections.status)return(new aa.a).reject();ua({type:X});var Oa=Object(Q.f)("id",Ba.settings.config.customSections.filter(R.f).map(R.a).reduce(function(Ja,wa){return Object(ba.g)(Object(ba.g)([],Ja),wa)},[]));return na(ua,ya,Oa).then(function(){return Ba=ya(),W()(Oa.map(function(Ja){return qa(Ba,Ja).then(function(wa){return{id:Ja.id,type:Ja.type,response:wa}})}))},Aa).then(function(Ja){return ua({type:Y,payload:Ja})},
Aa)}},na=function(ua,ya,Aa){var Ba=ya(),Oa=new aa.a;if(0<Aa.length){Ba=Ba.settings.utils;var Ja=Ba.request,wa=Ba.portal;Aa=Aa.filter(function(Ea){return"group"===Ea.type}).map(function(Ea){var sa=Ea.id;return Object(N.e)(Ja,wa,Ea.fetchGroupIdByQuery||"id:"+sa).then(function(oa){return oa.results[0]||{}})});W()(Aa).then(function(Ea){var sa=ya();ua({type:ea,payload:{currentSection:sa.parameters.section,customSections:sa.settings.config.customSections,groups:Ea}});Oa.resolve()})}else Oa.resolve();return Oa},
qa=Object(S.a)(function(ua,ya){var Aa=ua.settings.utils,Ba=Aa.request;Aa=Aa.portal;return ya.staticSchema?(Ba=new aa.a,Ba.resolve({categorySchema:ya.staticSchema}),Ba.then(function(Oa){return Oa})):"group"===ya.type?Object(N.f)(Ba,Aa,ya.id):Object(N.j)(Ba,Aa,ya.id)})},function(S,P,I){function ba(N){if(0<N.length){var R=aa.a.filter(function(X){return-1===N.indexOf(X)}).filter(function(X){return N.reduce(function(Y,da){return-1<X.indexOf(da)||Y},!1)});return'((type:"'+N.join('" OR type:"')+'")'+(0<
R.length?' AND (-type:"'+R.join('" AND -type:"')+'")':"")+")"}return""}I.d(P,"a",function(){return Q});var W=I(0),aa=I(141);S=I(15);var Q=Object(S.a)(function(N,R,X){var Y=R.itemTypeFilter,da=R.allowedItemTypes;R=R.specialItemQ;return Y?0<da.length&&R?Object(W.g)(Object(W.g)([],X),[N[Y.value]+" AND ("+R+" OR ("+ba(da)+"))"]):0<da.length||R?Object(W.g)(Object(W.g)([],X),[N[Y.value]+" AND ("+(R?""+R:""+ba(da))+")"]):Object(W.g)(Object(W.g)([],X),[""+N[Y.value]]):R?Object(W.g)(Object(W.g)([],X),["("+
R+") "+(0<da.length?"OR ("+ba(da)+")":"")]):Object(W.g)(Object(W.g)([],X),[ba(da)])})},function(S,P,I){I.d(P,"a",function(){return Q});I.d(P,"b",function(){return N});I.d(P,"c",function(){return R});I.d(P,"d",function(){return X});S=I(65);var ba=I.n(S);S=I(56);var W=I.n(S),aa=I(30),Q="LOADING_ORG_INFO",N="UPDATE_ORG_INFO",R="UPDATE_ORG_INFO_FAILED",X=function(){return function(Y,da){var ea=da();if("loaded"===ea.results.organization.status)return(new W.a).resolve();if("failed"===ea.results.organization.status)return(new W.a).reject();
Y({type:Q});var ha=ea.settings.utils;ea=ha.request;ha=ha.portal;var na=[Object(aa.j)(ea,ha).then(function(qa){return qa.categorySchema}),Object(aa.c)(ea,ha).then(function(qa){return qa.data.results})];return ha.isPortal&&na.push(Object(aa.o)(ea,ha).then(function(qa){return qa.servers})),ba()(na).then(function(qa){Y({type:N,payload:{schema:qa[0],groups:qa[1],servers:qa[2]}})},function(qa){Y({type:R})})}}},,,,,,,,,,,,,,,,,,,function(S,P){S.exports=p},function(S,P,I){I.d(P,"b",function(){return Y});
I.d(P,"a",function(){return da});I.d(P,"c",function(){return ea});var ba=I(0);S=I(65);var W=I.n(S);S=I(56);var aa=I.n(S),Q=I(30),N=I(51),R=I(78),X=I(126),Y="UPDATE_FULL_ITEM_DETAILS",da="FETCH_FULL_ITEM_DETAILS_FAILED",ea=function(ha){return function(na,qa){var ua=qa(),ya=Object(X.a)(ua),Aa=ua.settings.utils.request,Ba=[];Ba.push(Object(Q.r)(Aa,ya,ha.owner).then(function(Ja){return Object(N.m)(ya,Ja)},function(Ja){throw Ja;}));var Oa=ya.restUrl+"/content/items/"+ha.id;ya.user&&ha.owner===ya.user.username&&
(Oa=ya.restUrl+"/content/users/"+ya.user.username+"/items/"+ha.id);Ba.push(Object(Q.v)(Aa,Oa).then(function(Ja){if(Ja.item&&Ja.sharing){var wa=new aa.a;return Object(Q.v)(Aa,ya.restUrl+"/community/groups",{q:"id: "+Ja.sharing.groups.map(function(Ea){return'"'+Ea+'"'}).join(" OR ")}).then(function(Ea){return wa.resolve(Object(ba.a)(Object(ba.a)({},Object(R.a)(ya,ua.settings.utils.iconDir,Ja.item)),{sharing:Ja.sharing,sharedToGroups:Ea.results}))},function(Ea){return wa.reject(Ea)}),wa}return Object(R.a)(ya,
ua.settings.utils.iconDir,Ja)},function(Ja){throw ha.id;}));W()(Ba).then(function(Ja){na({type:Y,payload:{item:Ja[1],owner:Ja[0]}})},function(Ja){na({type:da,payload:Ja})})}}},,function(S,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="CHANGE_SEARCH_SECTION",W=function(aa){return function(Q,N){var R=N();Q({type:ba,payload:{newSection:aa,customSections:R.settings.config.customSections,customSectionGroupSort:R.results.customSections.groupSort}})}}},,function(S,P,I){I.d(P,
"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"d",function(){return aa});I.d(P,"c",function(){return Q});var ba="CHANGE_SORT_ORDER",W="CHANGE_SORT_FIELD",aa=function(N){return{type:ba,payload:N}},Q=function(N){return{type:W,payload:N}}},,,,function(S,P){S.exports=m},function(S,P,I){I.d(P,"b",function(){return N});I.d(P,"a",function(){return R});I.d(P,"c",function(){return X});I.d(P,"d",function(){return Y});var ba=I(162),W=I(78),aa=I(217),Q=I(199),N="CHANGE_PAGE_SUCCESS",R="CHANGE_PAGE_FAIL",
X="CHANGING_PAGE",Y=function(da){return function(ea,ha){var na=ha();ea({type:X,payload:da});var qa=na.settings.utils,ua=qa.portal,ya=qa.iconDir;qa=na.settings.utils.request;var Aa=na.settings.config.resultsPerQuery;Aa=Object(ba.b)({num:Aa,start:(da-1)*Aa+1},na);qa(Aa[0],Aa[1]).then(Object(aa.a)(na),function(Ba){return ea({type:R,payload:{err:Ba}})}).then(function(Ba){ea({type:N,payload:{organizations:Ba.data.organizations,displayItems:Ba.data.results.map(function(Oa){return Object(W.a)(ua,ya,Oa)}),
page:da}});ea(Q.e)},function(Ba){return ea({type:R,payload:{err:Ba}})})}}},,,,,,,,,,,,function(S,P,I){var ba=I(0);S=I(16);var W=I(90);I=function(aa){function Q(){return null!==aa&&aa.apply(this,arguments)||this}return Object(ba.d)(Q,aa),Q.prototype.render=function(N){return N("div",{"class":"ib-ex-results__item-list"},N("div",{"class":"ib-ex-results__no-items-container"},N("div",{"class":"ib-ex-results__no-items-centered"},N("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},N("path",{fill:"#ccc",
d:W.f})),N("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},Q}(S.Component);P.a=I},,function(S,P,I){function ba(W,aa,Q){return Promise.all(W.map(function(N){return function(R,X,Y){return new Promise(function(da,ea){Y(X.restUrl+"/community/users/"+R,{method:"get",query:{f:"json"}}).then(function(ha){return da(null==ha?void 0:ha.data)},ea)})}(N,aa,Q)}))}I.d(P,"a",function(){return ba})},function(S,P){S.exports=e},,,,,,,,,,,,,function(S,P,I){I.d(P,"b",function(){return W});I.d(P,"a",
function(){return aa});var ba=I(0);S=I(15);S=Object(S.a)(function(Q,N,R){return N?Object(ba.g)(Object(ba.g)([],R),["("+Q+":["+(N.start+" TO "+N.end+"])")]):R});var W=S("modified"),aa=S("uploaded")},function(S,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return aa});var ba=I(0);S=I(15);var W=Object(S.a)(function(Q,N){if(Q){var R=Object.keys(Q);if(0<R.length)return Object(ba.g)(Object(ba.g)([],N),["tags:("+R.join(" AND ")+")"])}return N}),aa=Object(S.a)(function(Q,N){return 2<Q.length?
Object(ba.g)(Object(ba.g)([],N),["tags:("+Q+"* OR "+Q+")"]):N})},function(S,P,I){I.d(P,"a",function(){return W});S=I(63);P=I(101);var ba=I(227);I=I(228);var W=Object(S.a)(ba.a,I.a,P.b)},function(S,P,I){I.d(P,"a",function(){return N});I.d(P,"b",function(){return R});S=I(56);var ba=I.n(S),W=I(30),aa=I(325),Q=I(150),N="UPDATE_PORTAL_SELF",R=function(){return function(X,Y){var da=Y(),ea=da.settings.utils,ha=ea.portal;ea=ea.request;var na=ha.user&&ha.user.culture?ha.user.culture:Q.locale;return da.settings.utils.self?
(new ba.a).resolve(da.settings.utils.self):Object(W.n)(ea,ha,na).then(function(qa){qa=Object(aa.a)(qa);return X({type:N,payload:{self:qa,config:da.settings.config}}),qa})}}},function(S,P,I){I.d(P,"a",function(){return R});I.d(P,"b",function(){return X});I.d(P,"c",function(){return Y});I.d(P,"d",function(){return da});var ba=I(0),W=I(36);S=I(56);var aa=I.n(S),Q=I(150),N=I(402),R="LOADING_LIVING_ATLAS_INFO",X="UPDATE_LIVING_ATLAS_INFO",Y="FETCH_LIVING_ATLAS_INFO_FAILED",da=function(ea){return function(ha,
na){var qa=na();if("loaded"===qa.results.livingAtlas.status)return(new aa.a).resolve();if("failed"===qa.results.livingAtlas.status)return(new aa.a).reject();ha({type:R});qa=qa.settings.utils;var ua=qa.portal;return Object(N.a)(qa.request,ua,ea,ua.user&&ua.user.culture?ua.user.culture:Q.locale).then(function(ya){ha({type:X,payload:Object(ba.a)(Object(ba.a)({},ya),{schema:ya.schema.map(function(Aa){return"region"===Aa.title?Object(ba.a)(Object(ba.a)({},Aa),{displayName:W.regions}):Aa})})})},function(ya){ha({type:Y})})}}},
function(S,P,I){I.d(P,"a",function(){return N});var ba=I(30),W=I(49);S=I(65);var aa=I.n(S),Q=function(R,X,Y){R({type:"LOADING_COLLABORATIONS"});var da=[];Object.keys(Y).forEach(function(ha){da[ha]=[];0<Y[ha].participants.length&&Y[ha].participants.forEach(function(na){da[na.value]=[]})});var ea=Object.keys(da).map(function(ha){ha=ha.split("__");var na=ha[0],qa=ha[1]?ha[1]:"";return Object(ba.k)(X.settings.utils.request,X.settings.utils.portal,X.settings.utils.portal.id,{query:""!==qa?{collaborationId:na,
participantId:qa,f:"json"}:{collaborationId:na,f:"json"}}).then(function(ua){(ua.data.collaboratedItems||ua.collaboratedItems).forEach(function(ya){if(qa){var Aa=na+"__"+qa;Y[na].participants.filter(function(Ba){return Ba.value===Aa})[0].items.push(Object.keys(ya)[0])}else Y[na].items.push(Object.keys(ya)[0])})},function(){return R({type:"LOADING_COLLABORATIONS_FAILED"})})});return aa()(ea).then(function(){R(Object(W.s)(Y));R({type:"LOADING_COLLABORATIONS_SUCCESS",payload:Y})})},N=function(R,X){if(R({type:"LOADING_COLLABORATIONS"}),
X&&X.parameters&&X.parameters.filter&&X.parameters.filter.origins&&0<Object.keys(X.parameters.filter.origins).length){var Y=X.parameters.filter.origins;return R(Object(W.s)(Y)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:Y}}return Object(ba.l)(X.settings.utils.request,X.settings.utils.portal,X.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(da){var ea=[];da.data&&da.data.collaborations&&da.data.collaborations.forEach(function(ha){var na=ha.collaborationId,
qa=ha.collaborationName.trim();ea[na]={value:na,label:qa,addClass:"",childOf:"",selected:!1,participants:[],items:[]};ha.participants&&(ea[na].participants=ha.participants.map(function(ua){return 1===(ua=Object.keys(ua).map(function(ya){var Aa=ua[ya].trim();return{value:na+"__"+ya,label:Aa,childOf:na,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?ua[0]:ua}))});Q(R,X,ea).then(function(){return R(Object(W.s)(ea))},function(){return R({type:"LOADING_COLLABORATIONS_FAILED"})})},function(da){return R({type:"LOADING_COLLABORATIONS_FAILED",
payload:da})})}},function(S,P,I){function ba(W){return"string"==typeof W?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(W):!!W.filters&&-1<W.filters.indexOf("tags")}I.d(P,"a",function(){return ba})},,,,function(S,P){S.exports=c},,,,,,,,,function(S,P){S.exports=a},,,,,,,,function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(180),Q=I(561),N=I(49),R=I(48),X=I(413),Y=I(552),da=I.n(Y);Y=I(376);var ea=I.n(Y);Y=I(553);var ha=I.n(Y);Y=I(554);var na=I.n(Y);Y=I(555);var qa=
I.n(Y);Y=I(556);var ua=I.n(Y);Y=I(557);var ya=I.n(Y);Y=I(558);var Aa=I.n(Y);Y=I(559);var Ba=I.n(Y);Y=I(560);var Oa=I.n(Y);Y=I(342);var Ja=I.n(Y),wa=I(562);I=function(Ea){function sa(oa){oa=Ea.call(this,oa)||this;return oa.handleCustomFilterToggle=oa.handleCustomFilterToggle.bind(oa),oa.handleMapAreaToggle=oa.handleMapAreaToggle.bind(oa),oa.handleMapAreaKeyUp=oa.handleMapAreaKeyUp.bind(oa),oa.handleSearchOrgToggle=oa.handleSearchOrgToggle.bind(oa),oa.handleCreatedFilterChange=oa.handleCreatedFilterChange.bind(oa),
oa.handleItemTypeFilterChange=oa.handleItemTypeFilterChange.bind(oa),oa.handleModifiedFilterChange=oa.handleModifiedFilterChange.bind(oa),oa.handleSharedFilterChange=oa.handleSharedFilterChange.bind(oa),oa.handleStatusFilterChange=oa.handleStatusFilterChange.bind(oa),oa.handleFolderFilterChange=oa.handleFolderFilterChange.bind(oa),oa.handleGroupFilterChange=oa.handleGroupFilterChange.bind(oa),oa.handleOrgGroupFilterChange=oa.handleOrgGroupFilterChange.bind(oa),oa.handleTagsFilterChange=oa.handleTagsFilterChange.bind(oa),
oa.handleCollaborationFilterChange=oa.handleCollaborationFilterChange.bind(oa),oa.handleOrgCategorySelect=oa.handleOrgCategorySelect.bind(oa),oa.handleClearOrgCategories=oa.handleClearOrgCategories.bind(oa),oa.handleGroupCategorySelect=oa.handleGroupCategorySelect.bind(oa),oa.handleClearGroupCategories=oa.handleClearGroupCategories.bind(oa),oa.handleLACategorySelect=oa.handleLACategorySelect.bind(oa),oa.handleClearLACategories=oa.handleClearLACategories.bind(oa),oa.handleLARegionSelect=oa.handleLARegionSelect.bind(oa),
oa.handleClearLARegion=oa.handleClearLARegion.bind(oa),oa.handleTagsFilterStringChange=oa.handleTagsFilterStringChange.bind(oa),oa}return Object(ba.d)(sa,Ea),sa.prototype.render=function(oa){var xa=this,ta=this.props.stateTree.settings.config,ja=this.props.stateTree.parameters.filter,pa=this.props.stateTree.settings.utils.portal.user,va=this.props.stateTree.settings.utils.portal,Fa=this.props.stateTree.parameters.section,Da=Object(Q.a)(this.props.stateTree),Ca=ta.availableItemTypeFilters.filter(function(Ia){var La=
xa.props.stateTree.results.organization.servers||[];La="livingAtlas"!==Fa&&va.isPortal&&La.some(function(Ga){return"KnowledgeServer"===Ga.serverFunction});return"knowledgeGraphs"!==Ia||La});ta=ta.enableMapAreaFilter?oa(da.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?this.props.stateTree.settings.config.mapAreaFilterText:
W.filterPane.mapArea}):null;Da=Da.map(function(Ia,La){switch(Ia){case "group":return oa(Aa.a,{key:"group-filter",onGroupSelect:xa.handleGroupFilterChange,availableGroups:xa.props.stateTree.results.user.groups,groupFilter:xa.props.stateTree.parameters.filter.group});case "folder":var Ga=xa.props.stateTree.results.user.folders,Ma={title:xa.props.stateTree.settings.utils.portal.user.username,id:"root"};return oa(ya.a,{key:"folder-filter",onFolderSelect:xa.handleFolderFilterChange,availableFolders:Ga?
Object(ba.g)([Ma],Ga):[Ma],folderFilter:xa.props.stateTree.parameters.filter.folder});case "itemType":return oa(ha.a,{key:"item-type-filter",onItemTypeSelect:xa.handleItemTypeFilterChange,availableItemTypes:Ca,itemTypeFilter:xa.props.stateTree.parameters.filter.itemType});case "orgCategories":if((Ga=xa.props.stateTree.results.organization.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,
availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:W.filterPane.categories,prependValue:"/"+Ga.children[0].value+"/"});break;case "livingAtlasCategories":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"la-categories-filter",onCategorySelect:xa.handleLACategorySelect,onClearCategories:xa.handleClearLACategories,availableCategories:Ga.children[0].children,
categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasCategories,title:Ga.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[1]&&Ga.children[1].children)return oa(Ja.a,{key:"la-region-filter",onCategorySelect:xa.handleLARegionSelect,onClearCategories:xa.handleClearLARegion,availableCategories:Ga.children[1].children,categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasRegion,
title:Ga.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(ja.group&&(Ga=xa.props.stateTree.results.user.groupCategories[ja.group.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:W.filterPane.groupCategories,
prependValue:"/"+Ga.children[0].value+"/"});break;case "orgGroups":break;case "modified":return oa(na.a,{key:"modified-filters",onDateModifiedSelect:xa.handleModifiedFilterChange,dateModifiedFilter:xa.props.stateTree.parameters.filter.dateModified,dateModifiedSection:xa.props.stateTree.ui.filters.modifiedSection});case "created":return oa(ea.a,{key:"created-filters",onDateCreatedSelect:xa.handleCreatedFilterChange,dateCreatedFilter:xa.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:xa.props.stateTree.ui.filters.createdSection});
case "shared":return oa(qa.a,{counts:xa.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:xa.handleSharedFilterChange,sharedFilter:xa.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:pa&&!pa.orgId});case "status":Ga=xa.props.stateTree.results.counts.contentStatus;Ma=Ga.orgAuthoritative;var Ha=Ga.publicAuthoritative;return oa(ua.a,{counts:{authoritative:pa&&pa.orgId?Ma+Ha:Ha,deprecated:Ga.deprecated},key:"status-filters",onStatusSelect:xa.handleStatusFilterChange,
statusFilter:xa.props.stateTree.parameters.filter.status});case "tags":return oa(Ba.a,{availableTags:xa.props.stateTree.ui.tagsFilter.visibleTags,filterString:xa.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:xa.handleTagsFilterStringChange,onTagSelect:xa.handleTagsFilterChange,tagsFilter:xa.props.stateTree.parameters.filter.tags});case "collaboration":Ha=xa.props.stateTree.settings.utils.portal;Ha=pa&&!Ha.isPortal&&pa.orgId&&Ha.subscriptionInfo&&-1<["Trial",
"Trial Press","Trial Developer","Evaluation"].indexOf(Ha.subscriptionInfo.type);var Ka=pa&&"org_admin"===pa.role,Na=pa&&pa.privileges&&-1<pa.privileges.indexOf("portal:admin:manageCollaborations");if(Ka&&Na&&!Ha)return oa(Oa.a,{key:"ib-collaborations-filter",onCollaborationSelect:xa.handleCollaborationFilterChange,collaborationsFilter:xa.props.stateTree.parameters.filter.origins?xa.props.stateTree.parameters.filter.origins:[]});default:if("object"==typeof Ia)if("group"===Ia.type){if((Ga=xa.props.stateTree.results.customSections.groupSchemas[Ia.id])&&
Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(aa.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if("org"===Ia.type){if((Ga=
xa.props.stateTree.results.customSections.orgSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(aa.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:Ia.name,prependValue:"/"+
(Ma?Ma.join("/")+"/":"")})}else if(Ia.children)return Ga=xa.props.stateTree.parameters.filter.customFilter[La],oa(wa.a,{key:Ia.displayName+"-filter-accordion",filter:Ia,index:La,onClear:xa.handleCustomFilterToggle,onClick:xa.handleCustomFilterToggle,selectedOption:Ga?Ga.value:void 0})}return null});return ta?[ta,oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)]:oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)},sa.prototype.handleCustomFilterToggle=
function(oa,xa,ta){this.props.dispatch(Object(N.u)(oa,xa?{value:xa,text:ta}:void 0));this.props.dispatch(Object(R.i)())},sa.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(N.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(R.i)())},sa.prototype.handleMapAreaKeyUp=function(oa){switch(oa.key){case "Enter":this.handleMapAreaToggle()}},sa.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(N.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(R.i)())},sa.prototype.handleItemTypeFilterChange=function(oa){this.props.dispatch(Object(N.y)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleModifiedFilterChange=function(oa,xa){this.props.dispatch(Object(N.C)(oa,xa));this.props.dispatch(Object(R.i)())},sa.prototype.handleCreatedFilterChange=function(oa,xa){this.props.dispatch(Object(N.t)(oa,xa));this.props.dispatch(Object(R.i)())},sa.prototype.handleSharedFilterChange=function(oa){this.props.dispatch(Object(N.G)(oa));
this.props.dispatch(Object(R.i)())},sa.prototype.handleStatusFilterChange=function(oa){this.props.dispatch(Object(N.H)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleFolderFilterChange=function(oa){this.props.dispatch(Object(N.v)(oa));this.props.dispatch(Object(R.i)(!0))},sa.prototype.handleGroupFilterChange=function(oa){this.props.dispatch(Object(N.x)(oa));this.props.dispatch(Object(R.i)(!0))},sa.prototype.handleOrgGroupFilterChange=function(oa){this.props.dispatch(Object(N.E)(oa));
this.props.dispatch(Object(R.i)())},sa.prototype.handleTagsFilterChange=function(oa){this.props.dispatch(Object(N.I)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleCollaborationFilterChange=function(oa){this.props.dispatch(Object(N.s)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleOrgCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.orgCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.D)()):this.props.dispatch(Object(N.D)(oa));this.props.dispatch(Object(R.i)())},
sa.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(N.D)());this.props.dispatch(Object(R.i)())},sa.prototype.handleLACategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.z)()):this.props.dispatch(Object(N.z)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleClearLACategories=function(){this.props.dispatch(Object(N.z)());this.props.dispatch(Object(R.i)())},sa.prototype.handleLARegionSelect=
function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasRegion;xa&&xa.value===oa.value?this.props.dispatch(Object(N.A)()):this.props.dispatch(Object(N.A)(oa));this.props.dispatch(Object(R.i)())},sa.prototype.handleClearLARegion=function(){this.props.dispatch(Object(N.A)());this.props.dispatch(Object(R.i)())},sa.prototype.handleGroupCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.groupCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(N.w)()):this.props.dispatch(Object(N.w)(oa));
this.props.dispatch(Object(R.i)())},sa.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(N.w)());this.props.dispatch(Object(R.i)())},sa.prototype.handleTagsFilterStringChange=function(oa){this.props.dispatch(Object(X.e)(oa))},sa}(S.Component);P.a=Object(S.connect)(function(Ea){return{stateTree:Ea}},function(Ea){return{dispatch:Ea}})(I)},,,,,,function(S,P,I){function ba(aa){var Q;aa=Object(W.a)(aa);return!0===(null===(Q=aa.portalProperties)||void 0===Q?void 0:Q.semanticSearchEnabled)||
aa.portalUser&&!aa.portalUser.orgId}I.d(P,"a",function(){return ba});var W=I(126)},function(S,P,I){I.d(P,"a",function(){return W});I.d(P,"b",function(){return aa});var ba=I(286),W="VIEW_ITEM_DETAILS",aa=function(Q){return function(N){N({type:W,payload:Q});N(Object(ba.c)(Q))}}},,,,,,function(S,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});I.d(P,"c",function(){return aa});var ba="CLOSING_DETAILS_PANE",W="CLOSE_DETAILS_PANE",aa=function(){return{type:ba}}},,,,,,,,,function(S,
P){S.exports=b},function(S,P){S.exports=d},function(S,P){S.exports=k},function(S,P,I){I.d(P,"a",function(){return N});var ba=I(0),W=I(69);S=I(254);var aa=I.n(S);S=I(16);var Q=I(90),N=function(R){function X(Y){var da=R.call(this,Y)||this;return da.state.searchTerm=da.props.currentSearchString||"",da.debouncedInput=aa()(function(){da.props.changeSearchString.apply(da,[da.state.searchTerm])},400),da.handleInputChange=da.handleInputChange.bind(da),da.handleClear=da.handleClear.bind(da),da}return Object(ba.d)(X,
R),X.prototype.componentWillReceiveProps=function(Y){Y.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:Y.currentSearchString})},X.prototype.render=function(Y){var da=this.props,ea=da.title,ha=da.placeholder;da=da.controls;var na=this.state.searchTerm||"";return Y("div",{"class":"ac-search-area"},Y("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},Y("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),Y("input",{"class":"ac-search-area__input",key:"search-input",title:ea,"aria-label":ea,type:"search",oninput:this.handleInputChange,value:na,placeholder:ha,"aria-controls":da}),na&&Y("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":W.clearSearch},Y("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},Y("path",{d:Q.k,fill:"currentColor"}))))},X.prototype.handleInputChange=function(Y){this.setState({searchTerm:Y.target.value});
this.debouncedInput()},X.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},X}(S.Component)},function(S,P){S.exports=n},,,,,,,,,,,,,,,,,,,,,,function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q){return aa?Object(ba.g)(Object(ba.g)([],Q),["(group:"+aa.id+")"]):Q})},function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q,N){if(aa)switch(aa.value){case "authoritative":return Q&&
Q.orgId&&!Q.portal.isPortal?Object(ba.g)(Object(ba.g)([],N),["((contentstatus:org_authoritative orgid:"+Q.orgId+") OR contentstatus:public_authoritative)"]):Q&&Q.orgId&&Q.portal.isPortal?Object(ba.g)(Object(ba.g)([],N),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(ba.g)(Object(ba.g)([],N),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(ba.g)(Object(ba.g)([],N),["(contentstatus:deprecated)"])}return N})},function(S,P,I){I.d(P,"a",function(){return W});
var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q){return aa?Object(ba.g)(Object(ba.g)([],Q),["(access:"+aa.value+")"]):Q})},function(S,P,I){I.d(P,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,Q){if(aa){var N=function(R){for(var X,Y=0,da=Object.keys(R);Y<da.length;Y++){var ea=R[da[Y]];if(ea.selected){X=ea.items;break}ea=ea.participants.filter(function(ha){return ha.selected});if(0<ea.length){X=ea[0].items;break}}return X}(aa);if(N)return N=N.join(" OR "),Object(ba.g)(Object(ba.g)([],
Q),["id:("+N+")"])}return Q})},function(S,P,I){I.d(P,"a",function(){return aa});S=I(56);var ba=I.n(S),W=I(30),aa=function(Q,N,R,X){function Y(wa){Aa=wa.categorySchema[0].source.split(".")[1];Object(W.e)(Q,N,R.contentCategorySetsGroupQuery).then(da,ua);Object(W.v)(Q,N.restUrl+"/portals/regions",{culture:X}).then(na,ua)}function da(wa){wa.results[0]?Object(W.v)(Q,N.restUrl+"/content/groups/"+wa.results[0].id+"/search",{q:"typekeywords: "+Aa}).then(ea,ua):ua("The content category sets group could not be found.")}
function ea(wa){1===wa.results.length&&wa.results[0]?Object(W.h)(Q,N,wa.results[0].id).then(ha,ua):ua("The item containing the living atlas categories could not be determined.")}function ha(wa){Ba=wa.categorySchema[0];R.isPortal&&Oa?qa([Ba]):Oa&&qa([Ba,Oa])}function na(wa){Oa={categories:wa.map(function(Ea){return{displayName:Ea.localizedName,title:Ea.region}}).sort(function(Ea,sa){return"wo"===Ea.title.toLowerCase()?-1:Ea.displayName.localeCompare(sa.displayName)}),description:"2.0",displayName:"Regions",
title:"region"};R.isPortal&&Ba?qa([Ba]):Ba&&qa([Ba,Oa])}function qa(wa){Ja.resolve({schema:wa,id:ya})}function ua(wa){Ja.reject(wa)}void 0===X&&(X="en");var ya,Aa,Ba,Oa,Ja=new ba.a;return Object(W.e)(Q,N,R.livingAtlasGroupQuery,(null==N?0:N.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(wa){wa.results[0]&&wa.results[0].id?(ya=wa.results[0].id,Object(W.f)(Q,N,ya).then(Y,ua)):ua("The living atlas group could not be found.")},ua),Ja}},,,,,,,function(S,P,I){I.d(P,"a",function(){return ba});
I.d(P,"b",function(){return W});var ba="CHANGE_SEARCH_STRING",W=function(aa){return{type:ba,payload:aa}}},function(S,P,I){I.d(P,"b",function(){return ba});I.d(P,"a",function(){return W});var ba="SHOW_EMPTY_RESULTS",W="CHANGE_RESULT_DISPLAY"},,,function(S,P,I){I.d(P,"a",function(){return W});I.d(P,"c",function(){return aa});I.d(P,"b",function(){return Q});I.d(P,"d",function(){return N});I.d(P,"e",function(){return R});S=I(254);S=I.n(S);var ba=I(162),W="LOADING_TAGS",aa="LOADING_TAGS_SUCCESS",Q="LOADING_TAGS_FAILED",
N="UPDATE_TAGS_FILTER_STRING",R=function(Y){return function(da,ea){da({type:N,payload:Y});2<Y.length&&X(da,ea(),Y)}},X=S()(function(Y,da,ea){Y({type:W});var ha=da.settings.utils.request;da=Object(ba.c)(da,ea);ha(da[0],da[1]).then(function(na){Y({type:aa,payload:na.data})},function(na){return Y({type:Q,payload:na})})},400)},,function(S,P,I){I.d(P,"a",function(){return aa});I.d(P,"b",function(){return Q});I.d(P,"c",function(){return N});S=I(16);P=I(428);var ba=I(453),W=I(461);I=I(478);var aa=P.b.config,
Q={parameters:ba.b,settings:P.b,results:W.b,ui:I.b},N=Object(S.combineReducers)({settings:P.a,parameters:ba.a,results:W.a,ui:I.a})},,,function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(49),Q=I(48),N=I(566),R=I.n(N),X=I(86),Y=I(5),da={itemType:Object(aa.y)(),modified:Object(aa.C)(),created:Object(aa.t)(),shared:Object(aa.G)(),folder:Object(aa.v)(),group:Object(aa.x)(),status:Object(aa.H)(),orgGroup:Object(aa.E)()};I=function(ea){function ha(na){na=ea.call(this,na)||this;return na.handleRemoveMapAreaFilter=
na.handleRemoveMapAreaFilter.bind(na),na.handleRemoveSearchOrgFilter=na.handleRemoveSearchOrgFilter.bind(na),na.handleRemoveGeneralFilter=na.handleRemoveGeneralFilter.bind(na),na.handleRemoveOrgCategoriesFilter=na.handleRemoveOrgCategoriesFilter.bind(na),na.handleRemoveLACategoriesFilter=na.handleRemoveLACategoriesFilter.bind(na),na.handleRemoveLARegionFilter=na.handleRemoveLARegionFilter.bind(na),na.handleRemoveGroupCategoriesFilter=na.handleRemoveGroupCategoriesFilter.bind(na),na.handleClearAll=
na.handleClearAll.bind(na),na.handleRemoveTagsFilter=na.handleRemoveTagsFilter.bind(na),na.handleRemoveCollaborationFilter=na.handleRemoveCollaborationFilter.bind(na),na.handleRemoveCustomFilter=na.handleRemoveCustomFilter.bind(na),na}return Object(ba.d)(ha,ea),ha.prototype.render=function(na){var qa,ua,ya=this,Aa=this.props.stateTree.parameters.filter,Ba=[];if(null===(qa=this.props.staticFilters)||void 0===qa||qa.forEach(function(wa){Ba.push({filterId:wa,text:wa,"static":!0})}),Aa.searchOrg&&"all"===
this.props.stateTree.parameters.section&&(null===(ua=this.props.stateTree.settings.utils.portal.user)||void 0===ua?void 0:ua.credential)&&this.props.stateTree.settings.utils.portal.name&&Ba.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),Aa.searchMapArea&&Ba.push({filterId:"searchMapArea",onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:
W.filterChips.mapArea}),Aa.itemType&&Ba.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.type+": "+Aa.itemType.text}),Aa.dateModified&&Ba.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateModified+": "+Aa.dateModified.label}),Aa.dateCreated&&Ba.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateCreated+": "+Aa.dateCreated.label}),Aa.shared&&Ba.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,
text:W.filterChips.access+": "+Aa.shared.text}),Aa.group&&"myGroups"===this.props.stateTree.parameters.section?Ba.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.group.title}):Aa.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&Ba.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.orgGroup.title}),Aa.folder&&"myContent"===this.props.stateTree.parameters.section&&Ba.push({filterId:"folder",
onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.folder+": "+Aa.folder.title}),Aa.status&&Ba.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.status+": "+Aa.status.text}),Aa.orgCategories)qa=Aa.orgCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:W.filterChips.category+": "+qa.text});Aa.livingAtlasCategories&&(qa=Aa.livingAtlasCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveLACategoriesFilter,text:W.filterChips.category+
": "+qa.text}));Aa.groupCategories&&(qa=Aa.groupCategories,Ba.push({filterId:qa.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:W.filterChips.category+": "+qa.text}));Aa.livingAtlasRegion&&(qa=Aa.livingAtlasRegion,Ba.push({filterId:qa.value,onRemove:this.handleRemoveLARegionFilter,text:W.filterChips.region+": "+qa.text}));Aa.tags&&Object.keys(Aa.tags).forEach(function(wa){Ba.push({filterId:wa,onRemove:ya.handleRemoveTagsFilter,text:W.filterChips.tagged+": "+wa})});if(Aa.origins){var Oa=
Aa.origins;Object.keys(Aa.origins).forEach(function(wa){var Ea;Oa[wa].selected?Ba.push({filterId:Oa[wa].value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+Oa[wa].label}):null===(Ea=Oa[wa].participants)||void 0===Ea||Ea.forEach(function(sa){sa.selected&&Ba.push({filterId:sa.value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+sa.label})})})}var Ja=Object(X.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);
if(Ja&&!Object(Y.b)(Aa.customFilter)&&Object.keys(Aa.customFilter).filter(function(wa){return Aa.customFilter[wa]}).forEach(function(wa){var Ea,sa=parseInt(wa,10);(null===(Ea=null==Ja?void 0:Ja.filters)||void 0===Ea?0:Ea[sa])&&Ba.push({filterId:""+sa,onRemove:ya.handleRemoveCustomFilter,text:Ja.filters[sa].displayName+": "+Aa.customFilter[wa].text})}),0<Ba.length)return na("div",{key:"active-filter-area","class":"ib__active-filters filter-chip-wrap"},na(R.a,{key:"item-browser-filter-controller",filters:Ba,
onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},ha.prototype.handleRemoveCustomFilter=function(na){this.props.dispatch(Object(aa.u)(parseInt(na.target.value,10)));this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveGeneralFilter=function(na){this.props.dispatch(da[na.target.value]);this.props.dispatch(Object(Q.i)("folder"===
na.target.value))},ha.prototype.handleRemoveMapAreaFilter=function(na){this.props.dispatch(Object(aa.B)(!1));this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveSearchOrgFilter=function(na){this.props.dispatch(Object(aa.F)(!1));this.props.dispatch(Object(Q.i)())},ha.prototype.handleClearAll=function(){var na=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:aa.a});this.props.dispatch(Object(Q.i)(na))},ha.prototype.handleRemoveOrgCategoriesFilter=function(na){this.props.dispatch(Object(aa.D)());
this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveLACategoriesFilter=function(na){this.props.dispatch(Object(aa.z)());this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveGroupCategoriesFilter=function(na){this.props.dispatch(Object(aa.w)());this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveLARegionFilter=function(na){this.props.dispatch(Object(aa.A)());this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveTagsFilter=function(na){var qa=this.props.stateTree.parameters.filter.tags;
if(null==qa?0:qa[na.target.value])qa=Object(ba.a)({},qa),delete qa[na.target.value],0<Object.keys(qa).length?this.props.dispatch(Object(aa.I)(qa)):this.props.dispatch(Object(aa.I)()),this.props.dispatch(Object(Q.i)())},ha.prototype.handleRemoveCollaborationFilter=function(na){this.props.dispatch(Object(aa.s)());this.props.dispatch(Object(Q.i)())},ha}(S.Component);P.a=Object(S.connect)(function(ea){return{stateTree:ea}},function(ea){return{dispatch:ea}})(I)},,,,,,,,,,function(S,P,I){I.d(P,"b",function(){return W});
S=I(16);var ba=I(451);I=I(452);var W={config:ba.b,utils:I.b};P.a=Object(S.combineReducers)({config:ba.a,utils:I.a})},,,,,,function(S,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return aa});I.d(P,"c",function(){return Q});var ba=I(78),W="START_CUSTOM_ACTION",aa="END_CUSTOM_ACTION",Q=function(N,R){return function(X,Y){var da=Y().settings.config.customActions.filter(function(ea){return ea.name===N})[0];da&&(da.asynchronous?(X({type:W,payload:R}),da.onAction(Object(ba.b)(R)).then(function(){X({type:aa,
payload:R})},function(){X({type:aa,payload:R})})):da.onAction(Object(ba.b)(R)))}}},,,,,,,,,,,,,,,,,function(S,P,I){I.d(P,"b",function(){return X});var ba=I(0);S=I(36);var W=I(100),aa=I(264),Q=I(141),N=I(99),R=I(86),X={asynchronousItemSelect:!1,usePrimaryButtonStyle:!0,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:S.itemDetails.addToMap,mainInverseActionTitle:S.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},onBulkAction:function(){},preSelect:function(){},
disableOnSelect:!1,baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",cancelButtonText:"Cancel",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:Q.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps experienceApps instantApps sites pages storyMaps mobileApps desktopApps tools analytics locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs csvs reports webTools notebooks tiledImageLayers elevationLayers rasterFunctionTemplates knowledgeGraphs".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{},noItemsFoundText:S.results.noItemsFound,itemSelectionEnabled:!1,disableInitiallySelectedItems:!1};P.a=function(Y,da){switch(void 0===Y&&(Y=X),da.type){case aa.b:return Object(N.f)("id",Y.customSections.filter(R.f).map(R.a).reduce(function(ea,ha){return Object(ba.g)(Object(ba.g)([],ea),ha)},[]).filter(function(ea){return"object"==
typeof ea&&"group"===ea.type})).forEach(function(ea,ha){ea.id=da.payload.groups[ha].id;delete ea.fetchGroupIdByQuery}),Y;case W.e:return Object(ba.a)(Object(ba.a)({},Y),{itemSelectionEnabled:!0});default:return Y}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(326),aa=I(101),Q={iconDir:"",portal:{},request:function(N){return null}};P.a=function(N,R){switch(void 0===N&&(N=Q),R.type){case W.a:return Object(ba.a)(Object(ba.a)({},N),{self:R.payload.self});default:return N.portal.portalHostname&&
!N.portal.baseUrl&&(N.portal.baseUrl=Object(aa.a)(N.portal)),N}}},function(S,P,I){I.d(P,"b",function(){return R});S=I(16);var ba=I(454),W=I(456),aa=I(457),Q=I(460),N=I(458);I=I(459);var R={extent:ba.b,filter:W.b,nextQuery:aa.b,searchString:N.b,section:I.b,sort:Q.b};P.a=Object(S.combineReducers)({extent:ba.a,filter:W.a,nextQuery:aa.a,searchString:N.a,section:I.a,sort:Q.a})},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(455),aa={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};
P.a=function(Q,N){switch(void 0===Q&&(Q=aa),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{throttling:!1});case W.b:return{area:N.payload,throttling:!0};default:return Q}}},function(S,P,I){I.d(P,"b",function(){return W});I.d(P,"a",function(){return aa});I.d(P,"c",function(){return Q});var ba=I(48),W="UPDATE_EXTENT",aa="UNTHROTTLE_EXTENT",Q=function(N){return function(R,X){var Y=X();Y.parameters.extent.throttling||(R({type:W,payload:N}),Y.parameters.filter.searchMapArea&&R(Object(ba.i)()),
setTimeout(function(){R({type:aa})},Y.settings.config.mapAreaThrottleTime))}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(49),aa=I(288),Q={customFilter:{},searchMapArea:!1};P.a=function(N,R){var X;switch(void 0===N&&(N=Q),R.type){case W.a:return{customFilter:{},searchMapArea:!1};case W.n:return Object(ba.a)(Object(ba.a)({},N),{orgGroup:R.payload});case W.j:return Object(ba.a)(Object(ba.a)({},N),{livingAtlasRegion:R.payload});case W.i:return Object(ba.a)(Object(ba.a)({},N),{livingAtlasCategories:R.payload});
case W.m:return Object(ba.a)(Object(ba.a)({},N),{orgCategories:R.payload});case W.f:return Object(ba.a)(Object(ba.a)({},N),{groupCategories:R.payload});case W.h:return Object(ba.a)(Object(ba.a)({},N),{itemType:R.payload});case W.l:return Object(ba.a)(Object(ba.a)({},N),{dateModified:R.payload.modified});case W.c:return Object(ba.a)(Object(ba.a)({},N),{dateCreated:R.payload.created});case W.p:return Object(ba.a)(Object(ba.a)({},N),{shared:R.payload});case W.e:return Object(ba.a)(Object(ba.a)({},N),
{folder:R.payload});case W.g:return Object(ba.a)(Object(ba.a)({},N),{groupCategories:void 0,group:R.payload});case W.q:return Object(ba.a)(Object(ba.a)({},N),{status:R.payload});case W.k:return Object(ba.a)(Object(ba.a)({},N),{searchMapArea:R.payload});case W.o:return Object(ba.a)(Object(ba.a)({},N),{searchOrg:R.payload,orgCategories:void 0});case W.r:return Object(ba.a)(Object(ba.a)({},N),{tags:R.payload});case W.b:return Object(ba.a)(Object(ba.a)({},N),{origins:R.payload});case W.d:return Object(ba.a)(Object(ba.a)({},
N),{customFilter:Object(ba.a)(Object(ba.a)({},N.customFilter),(X={},X[R.payload.index]=R.payload.filter,X))});case aa.a:return{customFilter:{},searchMapArea:!1};default:return N}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(48),aa={nextStart:-1,total:0};P.a=function(Q,N){switch(void 0===Q&&(Q=aa),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{total:0});case W.c:return{nextStart:N.payload.search.nextStart,total:N.payload.search.total};case W.f:return{nextStart:N.payload.nextStart,
total:N.payload.total};case W.g:return{nextStart:-1,total:N.payload.length};default:return Q}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),aa=I(409),Q={current:"",previous:""};P.a=function(N,R){switch(void 0===N&&(N=Q),R.type){case W.a:return Object(ba.a)(Object(ba.a)({},N),{previous:N.current});case aa.a:return Object(ba.a)(Object(ba.a)({},N),{current:R.payload});default:return N}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(288),W=I(326),aa="all";P.a=function(Q,
N){switch(void 0===Q&&(Q=aa),N.type){case ba.a:return N.payload.newSection;case W.a:var R=N.payload.config.baseSections,X=N.payload.config.customSections.map(function(Y){return Y.name});return-1<R.indexOf(Q)||-1<X.indexOf(Q)?Q:0<R.length?R[0]:0<X.length?X[0]:"all";default:return Q}}},function(S,P,I){I.d(P,"b",function(){return X});var ba=I(0),W=I(290),aa=I(288),Q=I(264),N=I(86),R=I(99),X={field:"relevance",order:"desc"},Y={myContent:"modified",myFavorites:"modified",myGroups:"modified",myOrganization:"modified",
livingAtlas:"relevance",all:"relevance"},da={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};P.a=function(ea,ha){switch(void 0===ea&&(ea=X),ha.type){case W.b:return Object(ba.a)(Object(ba.a)({},ea),{order:ha.payload});case W.a:var na=ha.payload;return{field:na,order:da[na]||ea.order};case aa.a:na=Object(N.b)(ha.payload.customSections,ha.payload.newSection);if(null==na?0:na.filters){var qa=na.filters.filter(function(ua){return"object"==typeof ua&&
"group"===ua.type})[0];if(null==qa?0:qa.id)if(qa=ha.payload.customSectionGroupSort[qa.id])return qa}na=Y[ha.payload.newSection]||(null==na?void 0:na.sortField);return{field:na||"relevance",order:da[na]||"desc"};case Q.b:qa=ha.payload;na=qa.customSections;qa=Object(N.b)(na,qa.currentSection);if(null==qa?0:qa.filters)if(na=Object(R.f)("id",na.filter(N.f).map(N.a).reduce(function(ua,ya){return Object(ba.g)(Object(ba.g)([],ua),ya)},[]).filter(function(ua){return"object"==typeof ua&&"group"===ua.type})),
qa=qa.filters.filter(function(ua){return"object"==typeof ua&&"group"===ua.type})[0],na=ha.payload.groups[na.indexOf(qa)])return{field:na.sortField||"relevance",order:na.sortOrder||"desc"};return ea;default:return ea}}},function(S,P,I){I.d(P,"b",function(){return ua});S=I(16);var ba=I(462),W=I(465),aa=I(466),Q=I(467),N=I(468),R=I(469),X=I(471),Y=I(470),da=I(472),ea=I(473),ha=I(474),na=I(475),qa=I(476);I=I(477);var ua={counts:ba.b,displayItems:W.b,livingAtlas:aa.b,loadingItems:Q.b,selectedItems:N.b,
initiallySelectedItems:R.b,failedItemDetails:Y.b,fullItemDetails:X.b,organization:da.b,user:ea.b,customSections:ha.b,allOrganizations:na.b,users:qa.b,provisionedContent:I.b};P.a=Object(S.combineReducers)({counts:ba.a,displayItems:W.a,loadingItems:Q.a,selectedItems:N.a,failedItemDetails:Y.a,fullItemDetails:X.a,initiallySelectedItems:R.a,livingAtlas:aa.a,organization:da.a,user:ea.a,customSections:ha.a,allOrganizations:na.a,users:qa.a,provisionedContent:I.a})},function(S,P,I){I.d(P,"b",function(){return W});
S=I(16);var ba=I(463);I=I(464);var W={access:ba.b,contentStatus:I.b};P.a=Object(S.combineReducers)({access:ba.a,contentStatus:I.a})},function(S,P,I){I.d(P,"b",function(){return W});var ba=I(48),W={org:void 0,"private":void 0,"public":void 0,shared:void 0};P.a=function(aa,Q){switch(void 0===aa&&(aa=W),Q.type){case ba.c:if(Q.payload.aggregations&&Q.payload.aggregations.counts){var N=Q.payload.aggregations.counts.filter(function(da){return"access"===da.fieldName})[0];if(N){var R=N.fieldValues.filter(function(da){return"org"===
da.value})[0],X=N.fieldValues.filter(function(da){return"private"===da.value})[0],Y=N.fieldValues.filter(function(da){return"public"===da.value})[0];N=N.fieldValues.filter(function(da){return"shared"===da.value})[0];return{org:R?R.count:void 0,"private":X?X.count:void 0,"public":Y?Y.count:void 0,shared:N?N.count:void 0}}}return aa;default:return aa}}},function(S,P,I){I.d(P,"b",function(){return W});var ba=I(48),W={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};P.a=function(aa,Q){switch(void 0===
aa&&(aa=W),Q.type){case ba.c:if(Q.payload.aggregations&&Q.payload.aggregations.counts){var N=Q.payload.aggregations.counts.filter(function(Y){return"contentstatus"===Y.fieldName})[0];if(N){var R=N.fieldValues.filter(function(Y){return"org_authoritative"===Y.value})[0],X=N.fieldValues.filter(function(Y){return"public_authoritative"===Y.value})[0];N=N.fieldValues.filter(function(Y){return"deprecated"===Y.value})[0];return{publicAuthoritative:X?X.count:0,orgAuthoritative:R?R.count:0,deprecated:N?N.count:
0}}}return aa;default:return aa}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(48),aa=[];P.a=function(Q,N){switch(void 0===Q&&(Q=[]),N.type){case W.c:return N.payload.search.results;case W.g:return N.payload;case W.f:return Object(ba.g)(Object(ba.g)([],Q),N.payload.results);default:return Q}}},function(S,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(327),aa=I(48),Q=I(182),N={categorySchema:void 0,groupId:void 0,status:"initial"};P.a=function(R,X){switch(void 0===R&&(R=
N),X.type){case W.a:return Object(ba.a)(Object(ba.a)({},R),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},R),{categorySchema:{displayName:X.payload.id,value:X.payload.id,children:Object(Q.b)(X.payload.schema)},groupId:X.payload.id,status:"loaded"});case aa.c:return R.categorySchema&&X.payload.aggregations&&X.payload.aggregations.countInfo&&"livingAtlas"===X.payload.aggregations.countInfo.section?Object(ba.a)(Object(ba.a)({},R),{categorySchema:Object(Q.c)(X.payload.aggregations,Object(Q.a)(R.categorySchema),
"groupCategories")}):R;case W.c:return Object(ba.a)(Object(ba.a)({},R),{status:"failed"});default:return R}}},function(S,P,I){I.d(P,"b",function(){return R});var ba=I(0),W=I(100),aa=I(434),Q=I(71),N=I(173),R={};P.a=function(X,Y){var da,ea,ha,na,qa,ua,ya,Aa,Ba,Oa,Ja,wa;switch(void 0===X&&(X={}),Y.type){case W.h:return Object(ba.a)(Object(ba.a)({},X),((da={})[Y.payload.id]=Y.payload,da));case W.g:return Object(ba.a)(Object(ba.a)({},X),((ea={})[Y.payload.id]=void 0,ea));case W.j:return Object(ba.a)(Object(ba.a)({},
X),((ha={})[Y.payload.id]=void 0,ha));case W.i:return Object(ba.a)(Object(ba.a)({},X),((na={})[Y.payload.id]=void 0,na));case aa.b:return Object(ba.a)(Object(ba.a)({},X),((qa={})[Y.payload.id]=Y.payload,qa));case aa.a:return Object(ba.a)(Object(ba.a)({},X),((ua={})[Y.payload.id]=void 0,ua));case Q.a:return{};case N.a:return Object(ba.a)(Object(ba.a)({},X),((ya={})[Y.payload.id]=Y.payload,ya));case N.c:return Object(ba.a)(Object(ba.a)({},X),((Aa={})[Y.payload.id]=void 0,Aa));case N.b:return Object(ba.a)(Object(ba.a)({},
X),((Ba={})[Y.payload.id]=void 0,Ba));case N.e:return Object(ba.a)(Object(ba.a)({},X),((Oa={})[Y.payload.id]=Y.payload,Oa));case N.g:return Object(ba.a)(Object(ba.a)({},X),((Ja={})[Y.payload.id]=void 0,Ja));case N.f:return Object(ba.a)(Object(ba.a)({},X),((wa={})[Y.payload.id]=void 0,wa));default:return X}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(100),aa=I(71),Q={};P.a=function(N,R){var X;switch(void 0===N&&(N={}),R.type){case W.b:return{};case W.f:return Object(ba.a)(Object(ba.a)({},
N),R.payload.reduce(function(ea,ha){var na;return Object(ba.a)(Object(ba.a)({},ea),((na={})[ha.id]=ha,na))},{}));case W.c:var Y=N;var da=R.payload.id;Y[da];return Object(ba.f)(Y,["symbol"==typeof da?da:da+""]);case W.g:return Object(ba.a)(Object(ba.a)({},N),((Y={})[R.payload.id]=R.payload,Y));case W.k:return N[R.payload.id]?(Y=N,da=R.payload.id,Y[da],Object(ba.f)(Y,["symbol"==typeof da?da:da+""])):Object(ba.a)(Object(ba.a)({},N),((da={})[R.payload.id]=R.payload,da));case W.j:return(X={})[R.payload.id]=
R.payload,X;case W.e:return Object(ba.a)(Object(ba.a)({},N),R.payload);case aa.a:return{};default:return N}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(100),aa={};P.a=function(Q,N){switch(void 0===Q&&(Q={}),N.type){case W.e:return Object(ba.a)(Object(ba.a)({},Q),N.payload);default:return Q}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(286),aa=I(357),Q={};P.a=function(N,R){var X;switch(void 0===N&&(N=Q),R.type){case W.b:return N[R.payload.item.id]?(delete (Y=
Object(ba.a)({},N))[R.payload.item.id],Y):N;case aa.a:var Y;return N[R.payload.id]?(delete (Y=Object(ba.a)({},N))[R.payload.id],Y):N;case W.a:return Object(ba.a)(Object(ba.a)({},N),((X={})[R.payload]=!0,X));default:return N}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(286),aa={};P.a=function(Q,N){var R;switch(void 0===Q&&(Q=aa),N.type){case W.b:return Object(ba.a)(Object(ba.a)({},Q),((R={})[N.payload.item.id]=N.payload.item,R));case W.a:return Q[N.payload]?(R=Object(ba.a)({},
Q),delete R[N.payload],R):Q;default:return Q}}},function(S,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(266),aa=I(48),Q=I(182),N={categorySchema:void 0,groups:void 0,status:"initial",servers:[]};P.a=function(R,X){switch(void 0===R&&(R=N),X.type){case W.a:return Object(ba.a)(Object(ba.a)({},R),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},R),{groups:X.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(Q.b)(X.payload.schema)},
status:"loaded",servers:X.payload.servers||[]});case aa.c:return R.categorySchema&&X.payload.aggregations&&X.payload.aggregations.countInfo&&("myOrganization"===X.payload.aggregations.countInfo.section||"myContent"===X.payload.aggregations.countInfo.section||"all"===X.payload.aggregations.countInfo.section)?Object(ba.a)(Object(ba.a)({},R),{categorySchema:Object(Q.c)(X.payload.aggregations,Object(Q.a)(R.categorySchema),"categories")}):R;case W.c:return Object(ba.a)(Object(ba.a)({},R),{status:"failed"});
default:return R}}},function(S,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(173),aa=I(48),Q=I(182),N={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},status:"initial"};P.a=function(R,X){var Y,da,ea,ha,na;switch(void 0===R&&(R=N),X.type){case W.d:return Object(ba.a)(Object(ba.a)({},R),{status:"loading"});case W.i:return Object(ba.a)(Object(ba.a)({},R),{favorites:X.payload.favorites,folders:X.payload.folders,groups:X.payload.groups,status:"loaded"});case W.h:return Object(ba.a)(Object(ba.a)({},
R),{groupCategories:Object(ba.a)(Object(ba.a)({},R.groupCategories),(Y={},Y[X.payload.id]={value:X.payload.id,children:Object(Q.b)(X.payload.categorySchema)},Y))});case aa.c:return X.payload.aggregations&&X.payload.aggregations.countInfo&&"myGroups"===X.payload.aggregations.countInfo.section&&X.payload.aggregations.countInfo.group&&(Y=X.payload.aggregations.countInfo.group.id,R.groupCategories[Y])?Object(ba.a)(Object(ba.a)({},R),{groupCategories:Object(ba.a)(Object(ba.a)({},R.groupCategories),(da=
{},da[Y]=Object(Q.c)(X.payload.aggregations,Object(Q.a)(R.groupCategories[Y]),"groupCategories"),da))}):R;case W.j:return Object(ba.a)(Object(ba.a)({},R),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},R),{favorites:R.favorites?Object(ba.a)(Object(ba.a)({},R.favorites),(ea={},ea[X.payload.id]=!0,ea)):(ha={},ha[X.payload.id]=!0,ha)});case W.g:return Object(ba.a)(Object(ba.a)({},R),{favorites:R.favorites?Object(ba.a)(Object(ba.a)({},R.favorites),(na={},na[X.payload.id]=!1,na)):{}});
default:return R}}},function(S,P,I){function ba(X,Y,da){return Y.filter(function(ea){return ea.type===X}).reduce(function(ea,ha){return ea[ha.id]||(ea[ha.id]={value:ha.id,children:Object(N.b)(ha.response.categorySchema)}),ea},Object(W.a)({},da))}I.d(P,"b",function(){return R});var W=I(0),aa=I(264),Q=I(48),N=I(182),R={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};P.a=function(X,Y){switch(void 0===X&&(X=R),Y.type){case aa.a:return Object(W.a)(Object(W.a)({},X),{status:"loading"});case aa.b:return Object(W.a)(Object(W.a)({},
X),{groupSort:Y.payload.groups.reduce(function(ea,ha){return ea[ha.id]={field:ha.sortField,order:ha.sortOrder},ea},X.groupSort)});case aa.c:return Object(W.a)(Object(W.a)({},X),{orgSchemas:ba("org",Y.payload,X.orgSchemas),groupSchemas:ba("group",Y.payload,X.groupSchemas),status:"loaded"});case aa.d:return Object(W.a)(Object(W.a)({},X),{status:"failed"});case Q.c:if(Y.payload.aggregations){var da=Y.payload.aggregations.countInfo;if(da.custom&&da.custom.filters)return da.custom.filters.filter(function(ea){return"object"==
typeof ea}).reduce(function(ea,ha){var na,qa;return"group"===ha.type?Object(W.a)(Object(W.a)({},X),{groupSchemas:Object(W.a)(Object(W.a)({},X.groupSchemas),(na={},na[ha.id]=Object(N.c)(Y.payload.aggregations,Object(N.a)(X.groupSchemas[ha.id]),"groupCategories"),na))}):"org"===ha.type?Object(W.a)(Object(W.a)({},X),{orgSchemas:Object(W.a)(Object(W.a)({},X.orgSchemas),(qa={},qa[ha.id]=Object(N.c)(Y.payload.aggregations,Object(N.a)(X.orgSchemas[ha.id]),"categories"),qa))}):ea},X)}return X;default:return X}}},
function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),aa=I(295),Q={};P.a=function(N,R){switch(void 0===N&&(N=Q),R.type){case W.c:return Object(ba.a)(Object(ba.a)({},N),R.payload.search.organizations);case W.f:case aa.b:return Object(ba.a)(Object(ba.a)({},N),R.payload.organizations);default:return N}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(286),aa={};P.a=function(Q,N){var R;switch(void 0===Q&&(Q=aa),N.type){case W.b:return Object(ba.a)(Object(ba.a)({},Q),((R=
{})[N.payload.owner.username]=N.payload.owner,R));default:return Q}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(256),aa={content:[],status:"initial"};P.a=function(Q,N){switch(void 0===Q&&(Q=aa),N.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},Q),{status:"loaded",content:N.payload});default:return Q}}},function(S,P,I){I.d(P,"b",function(){return R});
S=I(16);var ba=I(479),W=I(480),aa=I(484),Q=I(485),N=I(486);I=I(487);var R={sidePanel:ba.b,expanded:W.b,resultPanel:aa.b,filters:Q.b,tagsFilter:N.b,pagination:I.b};P.a=Object(S.combineReducers)({sidePanel:ba.a,expanded:W.a,resultPanel:aa.a,filters:Q.a,tagsFilter:N.a,pagination:I.a})},function(S,P,I){I.d(P,"b",function(){return X});var ba=I(0),W=I(363),aa=I(357),Q=I(804),N=I(805),R=I(48),X={closing:!1,type:"hidden"};P.a=function(Y,da){switch(void 0===Y&&(Y=X),da.type){case W.b:return Object(ba.a)(Object(ba.a)({},
Y),{closing:!0});case W.a:return Object(ba.a)(Object(ba.a)({},Y),{closing:!1,type:"hidden",item:void 0});case aa.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"item",item:da.payload});case Q.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"filter",item:void 0});case N.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"sort",item:void 0});case R.c:return"item"===Y.type&&Y.item&&!da.payload.search.results.filter(function(ea){return Y.item&&ea.id===Y.item.id})[0]?Object(ba.a)(Object(ba.a)({},Y),{closing:!0}):
Y;case R.g:return"item"===Y.type&&Y.item&&!da.payload.filter(function(ea){return Y.item&&ea.id===Y.item.id})[0]?Object(ba.a)(Object(ba.a)({},Y),{closing:!0}):Y;default:return Y}}},function(S,P,I){I.d(P,"b",function(){return N});S=I(481);var ba=I(482),W=I(483),aa=I(16),Q=I(226),N={filters:S.b,sort:ba.b,sublayerCards:W.b,maximized:!1,closing:!1};P.a=Object(aa.combineReducers)({filters:S.a,sort:ba.a,sublayerCards:W.a,maximized:function(R,X){switch(X.type){case Q.c:return!0;case Q.d:return!1;default:return R}},
closing:function(R,X){switch(X.type){case Q.b:return!0;default:return R}}})},function(S,P,I){I.d(P,"b",function(){return W});var ba=I(226),W=!1;P.a=function(aa,Q){switch(Q.type){case ba.e:return!aa;default:return aa}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(226),W=I(290),aa=!1;P.a=function(Q,N){switch(N.type){case ba.f:return!Q;case ba.a:return!1;case W.a:case W.b:return!Q;default:return Q}}},function(S,P,I){I.d(P,"b",function(){return aa});var ba=I(0),W=I(226),aa={cardStates:{},
overlayOpen:!1};P.a=function(Q,N){var R;switch(N.type){case W.g:return Object(ba.a)(Object(ba.a)({},Q),{cardStates:Object(ba.a)(Object(ba.a)({},Q.cardStates),(R={},R[N.payload.item.id]=N.payload,R)),overlayOpen:N.payload.overlay.visible&&!N.payload.overlay.closing});default:return Q}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(48),aa=I(410),Q={display:"list",status:"empty"};P.a=function(N,R){switch(void 0===N&&(N=Q),R.type){case W.g:case W.c:case W.f:return Object(ba.a)(Object(ba.a)({},
N),{status:"success"});case W.b:case W.e:return Object(ba.a)(Object(ba.a)({},N),{status:"failed"});case W.a:return Object(ba.a)(Object(ba.a)({},N),{status:"loading"});case W.d:return Object(ba.a)(Object(ba.a)({},N),{status:"loadingNext"});case aa.a:return Object(ba.a)(Object(ba.a)({},N),{display:"table"===N.display?"list":"table"});case aa.b:return Object(ba.a)(Object(ba.a)({},N),{status:"empty"});default:return N}}},function(S,P,I){I.d(P,"b",function(){return Q});var ba=I(0),W=I(49),aa=I(288),Q=
{};P.a=function(N,R){switch(void 0===N&&(N=Q),R.type){case W.a:return{};case W.l:return Object(ba.a)(Object(ba.a)({},N),{modifiedSection:R.payload.section});case W.c:return Object(ba.a)(Object(ba.a)({},N),{createdSection:R.payload.section});case aa.a:return{};default:return N}}},function(S,P,I){I.d(P,"b",function(){return R});var ba=I(0);S=I(63);var W=I(99),aa=I(288),Q=I(413),N=I(48),R={allTags:[],filterString:"",visibleTags:[]};P.a=function(Y,da){switch(void 0===Y&&(Y=R),da.type){case aa.a:return Object(ba.a)(Object(ba.a)({},
Y),{filterString:""});case Q.d:return Object(ba.a)(Object(ba.a)({},Y),{filterString:da.payload,visibleTags:Y.allTags.filter(function(qa){return 0===da.payload.length||-1<qa.value.indexOf(da.payload)})});case Q.a:return Y;case Q.c:return da.payload.aggregations&&(ea=da.payload.aggregations.counts.filter(function(qa){return"tags"===qa.fieldName})[0])?(ea=(ha=Y.allTags,na=ea.fieldValues,X(ha.concat(na))),Object(ba.a)(Object(ba.a)({},Y),{allTags:ea,visibleTags:ea.filter(function(qa){return 0===Y.filterString.length||
-1<qa.value.indexOf(Y.filterString)})})):Y;case Q.b:return Y;case N.c:var ea;return da.payload.aggregations&&(ea=da.payload.aggregations.counts.filter(function(qa){return"tags"===qa.fieldName})[0])?(ea=X(ea.fieldValues),Object(ba.a)(Object(ba.a)({},Y),{allTags:ea,visibleTags:ea.filter(function(qa){return 0===Y.filterString.length||-1<qa.value.indexOf(Y.filterString)})})):Y;default:return Y}var ha,na};P=Object(W.f)("value");var X=Object(S.a)(P,function(Y){return Y.map(function(da){var ea=da.count;
return{value:da.value.trim(),count:ea}})},function(Y){return Y.sort(function(da,ea){return ea.count-da.count})})},function(S,P,I){I.d(P,"b",function(){return N});var ba=I(0),W=I(295),aa=I(48),Q=I(199),N={page:1,displayItems:[],userThumbnailCache:{},pendingUserThumbRequests:[],orgThumbnailCache:{},pendingOrgThumbRequests:[],status:"loading"};P.a=function(R,X){switch(void 0===R&&(R=N),X.type){case W.c:return Object(ba.a)(Object(ba.a)({},R),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},
R),{displayItems:X.payload.displayItems,page:X.payload.page,status:"success"});case W.a:return Object(ba.a)(Object(ba.a)({},R),{status:"failed"});case aa.c:return Object(ba.a)(Object(ba.a)({},R),{displayItems:X.payload.search.results,status:"success",page:1});case aa.g:return Object(ba.a)(Object(ba.a)({},R),{displayItems:X.payload,status:"success",page:1});case Q.c:return Object(ba.a)(Object(ba.a)({},R),{pendingUserThumbRequests:Object(ba.g)(Object(ba.g)([],R.pendingUserThumbRequests),X.payload).filter(function(Y,
da,ea){return ea.indexOf(Y)===da})});case Q.d:return Object(ba.a)(Object(ba.a)({},R),{userThumbnailCache:Object(ba.a)(Object(ba.a)({},R.userThumbnailCache),X.payload),pendingUserThumbRequests:R.pendingUserThumbRequests.filter(function(Y){return!X.payload[Y]})});case Q.a:return Object(ba.a)(Object(ba.a)({},R),{pendingOrgThumbRequests:Object(ba.g)(Object(ba.g)([],R.pendingOrgThumbRequests),X.payload).filter(function(Y,da,ea){return ea.indexOf(Y)===da})});case Q.b:return Object(ba.a)(Object(ba.a)({},
R),{orgThumbnailCache:Object(ba.a)(Object(ba.a)({},R.orgThumbnailCache),X.payload),pendingOrgThumbRequests:R.pendingOrgThumbRequests.filter(function(Y){return!X.payload[Y]})});default:return R}}},function(S,P,I){var ba=I(0);S=I(16);var W=I(547),aa=I(548),Q=I(571),N=I(294),R=I.n(N),X=I(100);I=function(Y){function da(){return null!==Y&&Y.apply(this,arguments)||this}return Object(ba.d)(da,Y),da.prototype.render=function(ea){var ha=!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||
!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen;return ea("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},ea(R.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:ha,adjustable:this.props.adjustable,flex:!0},ea(W.a,{key:"big-browser-header"}),ea(aa.a,{key:"big-browser-body"}),this.props.renderFooter&&ea(Q.a,{handleSecondaryClick:this.props.handleCancelClick,handlePrimaryClick:this.props.handleSubmitClick,key:"big-browser-footer",
primaryText:this.props.submitButtonText,secondaryText:this.props.cancelButtonText})))},da}(S.Component);P.a=Object(S.connect)(function(Y){return{closing:Y.ui.expanded.closing,filtersVisible:Y.ui.expanded.filters,sortVisible:Y.ui.expanded.sort,sublayerOverlayOpen:Y.ui.expanded.sublayerCards.overlayOpen,adjustable:"adjustable"===Y.settings.config.layoutMode,renderFooter:!!Y.settings.config.multiSelect,submitButtonText:Y.settings.config.submitButtonText,cancelButtonText:Y.settings.config.cancelButtonText}},
function(Y){return{handleSubmitClick:function(){Y(X.m)},handleCancelClick:function(){Y(X.l)}}})(I)},function(S,P){S.exports=q},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(90);I=function(Q){function N(R){R=Q.call(this,R)||this;return R.handleContract=R.handleContract.bind(R),R.handleClose=R.handleClose.bind(R),R.handleTitleCreate=R.handleTitleCreate.bind(R),R}return Object(ba.d)(N,Q),N.prototype.componentWillReceiveProps=function(R){R.page!==
this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},N.prototype.render=function(R){return R("header",{"class":"ib__big-header"},R("div",{"class":"ib__big-header-title-section"},R("h3",{"class":"ib__big-header-title",id:"ib__big-header-title",afterCreate:this.handleTitleCreate},this.props.dialogTitle),R("button",{key:"main-close-btn","class":"mod__overlay__close","aria-label":W.close,onclick:this.handleClose},R("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",
viewBox:"0 0 24 24",fill:"currentColor"},R("path",{d:aa.k})))))},N.prototype.handleContract=function(){this.props.onBack()},N.prototype.handleClose=function(){this.props.onBack()},N.prototype.handleTitleCreate=function(R){this.titleNode=R},N}(S.Component);P.a=Object(S.connect)(function(Q){return{dialogTitle:Q.settings.config.dialogTitle,onBack:function(){var N,R;null===(R=null===(N=Q.settings.config)||void 0===N?void 0:N.onBack)||void 0===R||R.call(N)},page:Q.ui.pagination.page}},function(){return{}})(I)},
function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(551),Q=I(563),N=I(567),R=I(550),X=I(372),Y=I.n(X),da=I(295);X=I(205);var ea=I.n(X);X=I(373);var ha=I.n(X),na=I(350),qa=I(226),ua=I(333),ya=I(549);I=function(Aa){function Ba(Oa){Oa=Aa.call(this,Oa)||this;return Oa.handlePageChange=Oa.handlePageChange.bind(Oa),Oa.handleCloseMobileFilters=Oa.handleCloseMobileFilters.bind(Oa),Oa}return Object(ba.d)(Ba,Aa),Ba.prototype.render=function(Oa){var Ja=this,wa=this.props.expandedFiltersActive,Ea={"ib__big-section":!0,
"ib__big-filters":!0,"ib__big-filters--hidden":!wa,"ib__big-filters--visible":wa},sa="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,oa={"ib__big-wrapper":!0,"ib__big-wrapper--faded":sa,"ib__big-wrapper--transparent":sa&&0===this.props.pageDisplayItems.length},xa=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return Oa("div",{"class":"ib__big-body","aria-labelledby":Object(ua.slugifySectionName)(this.props.section),
role:"tabpanel"},Oa("div",{"class":"ib-nav-container"},Oa(ya.a,{key:"big-browser-section-tabs"}),"subscription"!==this.props.section&&Oa(R.a,{key:"ib__big-search-area"})),Oa("div",{"class":"ib__big-row",afterCreate:function(ta){ta&&!Ja.scrollContainer&&(Ja.scrollContainer=ta)}},Oa("section",{classes:Ea,key:"fullscreen-filters"},Oa("div",{"class":wa?"":"hide"},Oa("div",{"class":"ib-ex-input__container"},Oa("span",{"class":"ib__big-filter-label"},W.filterPane.filter)),Oa(aa.a,null))),Oa("div",{"class":"ib__big-overlay-filters"},
Oa(ha.a,{key:"mobile-filter-wrap",maxHeight:!0,open:wa,onClose:this.handleCloseMobileFilters,title:W.filterPane.filter,footer:Oa("button",{"class":"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},W.viewResults)},Oa(na.a,{key:"mobile-filters"}))),Oa("section",{"class":"ib__big-section ib__big-results",key:"results-section"},Oa("div",{classes:oa},Oa("div",{"class":"ib-ex-alert-container hide",key:"ib-ex-alert-container"},Oa("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: 0rem .2rem .1rem;\n                                    "},Oa("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),
Oa("span",{"class":"ib-ex-alert-text"},W.groupAddDisclaimer)),Oa(Q.a,{key:"big-browser-input-area"}),Oa(N.a,{key:"big-browser-result-panel"}),1<xa&&"subscription"!==this.props.section&&Oa(Y.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:xa,currentPage:this.props.currentPage,paginationLimitReached:1E4<this.props.itemTotal})),sa&&Oa("div",{"class":"ib-ex__load-container",key:"ib-ex__load-container"},Oa(ea.a,{key:"item-ex-loading"})))))},Ba.prototype.handlePageChange=function(Oa){this.scrollContainer&&
(this.scrollContainer.scrollTop=0);this.props.changePage(Oa)},Ba.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},Ba}(S.Component);P.a=Object(S.connect)(function(Aa){return{expandedFiltersActive:Aa.ui.expanded.filters,resultStatus:Aa.ui.resultPanel.status,paginationStatus:Aa.ui.pagination.status,pageDisplayItems:Aa.ui.pagination.displayItems,currentPage:Aa.ui.pagination.page,itemTotal:Aa.parameters.nextQuery.total,resultsPerQuery:Aa.settings.config.resultsPerQuery,
section:Aa.parameters.section}},function(Aa){return{changePage:function(Ba){Aa(Object(da.d)(Ba))},toggleExpandedFilters:function(){Aa(Object(qa.i)())}}})(I)},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(288),Q=I(48),N=I(333),R=I.n(N),X=I(125);I=function(Y){function da(ea){ea=Y.call(this,ea)||this;return ea.state={options:(ea.props.user?ea.props.baseSections:ea.props.baseSections.filter(function(ha){return"livingAtlas"===ha||"all"===ha})).map(function(ha){return{value:ha,text:W.header.sectionTitles[ha]}}).concat(ea.props.customSections.map(function(ha){return{value:ha.name,
text:ha.name}}))},ea.handleTabSelect=ea.handleTabSelect.bind(ea),ea}return Object(ba.d)(da,Y),da.prototype.render=function(ea){return ea(R.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,selectedOptionValue:this.props.currentSection,dropdownOnly:!0})},da.prototype.handleTabSelect=function(ea){this.props.changeSearchSection(ea);this.props.search(!0)},da}(S.Component);P.a=Object(S.connect)(function(Y){return{user:Y.settings.utils.portal.user,baseSections:Y.settings.config.baseSections,
customSections:Y.settings.config.customSections,currentSection:Y.parameters.section}},function(Y){return{changeSearchSection:function(da){Y(Object(X.k)(""));Y(Object(aa.b)(da))},search:function(da){Y(Object(Q.i)(da))}}})(I)},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(285),Q=I.n(aa),N=I(226),R=I(290),X=I(409),Y=I(48);aa=I(374);var da=I.n(aa),ea=I(375),ha="relevance title owner created modified numviews".split(" "),na={myContent:["relevance","modified","title"],myFavorites:["relevance","modified",
"title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(qa){function ua(ya){ya=qa.call(this,ya)||this;return ya.handleToggleFilters=ya.handleToggleFilters.bind(ya),ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSortFieldChange=ya.handleSortFieldChange.bind(ya),
ya.handleSortOrderChange=ya.handleSortOrderChange.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleSortBlur=ya.handleSortBlur.bind(ya),ya}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=W.header.sectionTitles[this.props.section];Aa=this.props.searchPlaceholderText?this.props.searchPlaceholderText:W.search+" "+(Aa||this.props.section);var Ba=this.props.section;Ba=na[Ba]?Object(ba.g)([],na[Ba]):Object(ba.g)([],ha);return-1===Ba.indexOf(this.props.sortField)&&(this.props.sortField=
Ba[0]),ya("div",{"class":"ib-ex-search-area__container",key:"search-area"},ya(ea.a,{key:"ib-ex-search-area-input",title:W.header.search,placeholder:Aa,currentSearchString:this.props.searchString,changeSearchString:this.handleSearchChange}),ya("div",{"class":"ib-ex-search-area__btn-section"},ya(da.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:Ba,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,
onClick:this.handleSortClick,handleMenuBlur:this.handleSortBlur}),ya(Q.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},ya("div",{"class":"drp-sort__btn-body"},ya("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),ya("span",{"class":"drp-sort__btn-label"},W.filterPane.filter)))))},ua.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},
ua.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya);this.props.search(!0)},ua.prototype.handleSortFieldChange=function(ya){this.props.changeSortField(ya);this.props.search()},ua.prototype.handleSortOrderChange=function(ya){this.props.changeSortOrder(ya);this.props.search()},ua.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},ua.prototype.handleSortBlur=function(){this.props.closeExpandedSort()},ua}(S.Component);P.a=Object(S.connect)(function(qa){return{searchPlaceholderText:qa.settings.config.searchPlaceholderText,
section:qa.parameters.section,searchString:qa.parameters.searchString.current,previousSearchString:qa.parameters.searchString.previous,sortActive:qa.ui.expanded.sort,sortField:qa.parameters.sort.field,sortOrder:qa.parameters.sort.order,expandedFiltersActive:qa.ui.expanded.filters}},function(qa){return{toggleExpandedFilters:function(){qa(Object(N.i)())},toggleExpandedSort:function(){qa(Object(N.j)())},changeSortField:function(ua){qa(Object(R.c)(ua))},changeSortOrder:function(ua){qa(Object(R.d)(ua))},
changeSearchString:function(ua){qa(Object(X.b)(ua))},search:function(ua){qa(Object(Y.i)(ua))},closeExpandedSort:function(){qa(Object(N.h)())}}})(I)},function(S,P,I){var ba=I(350);P.a=function(W,aa){return aa(ba.a,{key:"big-browser-filters"})}},function(S,P){S.exports=y},function(S,P){S.exports=C},function(S,P){S.exports=B},function(S,P){S.exports=D},function(S,P){S.exports=F},function(S,P){S.exports=r},function(S,P){S.exports=A},function(S,P){S.exports=G},function(S,P){S.exports=H},function(S,P,I){function ba(aa){var Q,
N=aa.settings.utils.portal.user,R=!N;N=!R&&!N.orgId;if(R||N)if(N)R=function(X){switch(X.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified created tags".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return W(X)}}(aa);
else a:switch(aa.parameters.section){case "livingAtlas":R=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":R=["itemType","modified","status"];break a;default:R=W(aa)}else R=function(X){switch(X.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");
case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return W(X)}}(aa);return Q=R,function(X,Y){var da=Y.indexOf("itemType");X&&-1<da&&Y.splice(da,1);return Y}(aa.settings.config.disableItemTypeFilters,Q)}function W(aa){return aa.settings.config.customSections.reduce(function(Q,
N){return N.name===aa.parameters.section&&N.filters?N.filters:Q},["itemType","modified","shared"])}I.d(P,"a",function(){return ba})},function(S,P,I){var ba=I(0);S=I(16);var W=I(216),aa=I.n(W);W=I(255);var Q=I.n(W);I=function(N){function R(X){X=N.call(this,X)||this;return X.handleClear=X.handleClear.bind(X),X.handleClick=X.handleClick.bind(X),X}return Object(ba.d)(R,N),R.prototype.render=function(X){var Y=this,da=this.props.filter;return X(Q.a,{key:da.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,
title:da.displayName},X("ul",{"aria-label":da.displayName,id:da.displayName+"-filter-accordion-tree","class":"ftr-custom__tree",role:"tree"},da.children?da.children.map(function(ea){return X(aa.a,{key:ea.value,value:ea.value,name:ea.displayName,onToggleClick:Y.handleClick,selectedToggle:Y.props.selectedOption,childOptions:ea.children})}):null))},R.prototype.handleClear=function(){this.props.onClear(this.props.index)},R.prototype.handleClick=function(X,Y){X===this.props.selectedOption?this.props.onClick(this.props.index,
void 0):this.props.onClick(this.props.index,X,Y)},R}(S.Component);P.a=I},function(S,P,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var Q=I(418),N=I(564),R=I(100);I=function(X){function Y(){return null!==X&&X.apply(this,arguments)||this}return Object(ba.d)(Y,X),Y.prototype.render=function(da){var ea=this,ha=this.props,na=ha.itemTotal,qa=ha.itemName,ua=ha.dropdownItems,ya=ha.staticFilters,Aa=ha.handleItemClick,Ba=ha.handleClearAllClick,Oa=ha.handleSelectPageClick,Ja=ha.multiselect,wa=ha.maxSelected,Ea=
ha.showSelectAllOnPage,sa=ha.itemsPerPage,oa=ha.pageNumber;ha=ha.showDeselectTooltip;var xa=1E4<=na?W.itemLimitReached.replace("${limit}",aa.format(1E4)):aa.format(na),ta=Math.min((oa-1)*sa+1,na);na=Math.min(oa*sa,na);qa=qa?xa+" "+qa:W.itemTotalInfo.replace("${from}",ta).replace("${to}",na).replace("${total}",xa).replace("-"," - ");Aa=Ja&&0<ua.length&&da(N.a,{key:"ib-item-dropdown",items:ua,maxSelected:wa,handleItemClick:Aa,showDeselectTooltip:ha});ua=Ja&&0<ua.length&&da("button",{key:"clear-selection-button",
"class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--clear-all",onclick:function(ja){ea.handleFocus();Ba()}},W.filterPane.clearSelection);Ea=Ea&&da("button",{key:"select-all-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--select-page",onclick:function(ja){ea.handleFocus();Oa()}},W.filterPane.selectAll);return da("div",{"class":"ib-ex-input__container",key:"ib-result-count-container"},da("div",{"class":"ib-ex-input__container__controls"},da("span",{key:"input-area-results","class":"ib-ex-input-area__result-count"},
qa),Aa,ua,Ea),da(Q.a,{staticFilters:ya,key:"ib-ex__active-filters",theme:"dark",showLabel:W.filterPane.filters+":"}))},Y.prototype.handleFocus=function(){window.setTimeout(function(){var da;null===(da=document.querySelector(".ib-ex-input__container button"))||void 0===da||da.focus()},20)},Y}(S.Component);P.a=Object(S.connect)(function(X){return{itemName:X.settings.config.itemName,itemTotal:X.parameters.nextQuery.total,pageNumber:X.ui.pagination.page,staticFilters:X.settings.config.staticFilters,itemsPerPage:X.settings.config.resultsPerQuery,
dropdownItems:Object.keys(X.results.selectedItems).map(function(Y){return X.results.selectedItems[Y]}).filter(function(Y){return!X.settings.config.disableInitiallySelectedItems||!X.results.initiallySelectedItems[Y.id]}),multiselect:!!X.settings.config.multiSelect,maxSelected:X.settings.config.maxSelected,showDeselectTooltip:X.settings.config.showDeselectTooltip,showSelectAllOnPage:!!X.settings.config.multiSelect&&0<X.parameters.nextQuery.total&&!X.ui.pagination.displayItems.every(function(Y){return X.results.selectedItems[Y.id]})&&
(!X.settings.config.maxSelected||X.ui.pagination.displayItems.filter(function(Y){return!X.results.selectedItems[Y.id]}).length+Object.keys(X.results.selectedItems).length<=X.settings.config.maxSelected)}},function(X){return{handleItemClick:function(Y){X({type:R.c,payload:Y})},handleClearAllClick:function(){X(R.n)},handleSelectPageClick:function(){X(Object(R.q)())}}})(I)},function(S,P,I){var ba=I(0),W=I(36),aa=I(150);S=I(16);var Q=I(90),N=I(565),R={open:!1};I=function(X){function Y(){var da=null!==
X&&X.apply(this,arguments)||this;return da.state=R,da.handleBlur=function(ea){var ha;(ea=ea.relatedTarget)&&(null===(ha=da.dropdown)||void 0===ha?0:ha.contains(ea))||da.setState({open:!1})},da.handleClick=function(ea){var ha,na;ea=ea.target;null!==(ha=da.dropdown)&&void 0!==ha&&ha.contains(ea)||((ha=null===(na=da.toggleButton)||void 0===na?void 0:na.contains(ea))?da.setState({open:!da.state.open}):da.state.open&&!ha&&da.setState({open:!1}))},da}return Object(ba.d)(Y,X),Y.prototype.render=function(da){var ea=
this,ha=this.props,na=ha.items,qa=ha.maxSelected,ua=ha.showDeselectTooltip;ha=qa?W.itemsSelectedMax:W.itemsSelected;var ya=1<na.length?ha.enPlural:ha.en;"en"!==aa.locale.slice(0,2)&&(ya=ha.other);qa=qa?ya.replace("${num}",na.length).replace("${max}",qa):ya.replace("${num}",na.length);return da("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",ea.handleClick)},afterRemoved:function(){document.removeEventListener("click",ea.handleClick);
ea.setState(R)}},da("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(Aa){ea.toggleButton=Aa},afterRemoved:function(){ea.toggleButton=void 0}},da("span",{"class":"selected-dropdown__toggle-button__text"},qa),da("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},da("path",{d:Q.a}))),this.state.open&&da("div",{"class":"selected-dropdown__list__container",
key:"selected-dropdown__list__container",afterCreate:function(Aa){ea.dropdown=Aa},afterRemoved:function(){ea.dropdown=void 0}},da("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},na.map(function(Aa){return da(N.a,{item:Aa,handleCloseClick:ea.props.handleItemClick,handleBlur:ea.handleBlur,showDeselectTooltip:ua,key:Aa.id})}))))},Y}(S.Component);P.a=I},function(S,P,I){var ba=I(0);S=I(16);var W=I(36),aa=I(90);I=function(Q){function N(){return null!==
Q&&Q.apply(this,arguments)||this}return Object(ba.d)(N,Q),N.prototype.render=function(R){var X=this.props,Y=X.item,da=X.handleCloseClick,ea=X.handleBlur;X=X.showDeselectTooltip;var ha="selected-"+Y.id,na="deselect-item-"+Y.id,qa=function(){return R("button",{id:na,"class":"selected-dropdown__list-item__button",onclick:function(){da(Y)},"aria-labelledby":ha,"aria-label":W.deselect,onblur:ea},R("svg",null,R("path",{d:aa.j})))};return R("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:Y.id},
R("img",{src:Y.iconURI,alt:Y.type,"class":"selected-dropdown__list-item__icon"}),R("span",{"class":"selected-dropdown__list-item__description",id:ha},Y.title),X?R("calcite-tooltip-manager",null,qa(),R("calcite-tooltip",{"reference-element":na},W.deselect)):qa())},N}(S.Component);P.a=I},function(S,P){S.exports=J},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(569),Q=I(568),N=I.n(Q).a;I=function(R){function X(){return null!==R&&R.apply(this,arguments)||this}return Object(ba.d)(X,R),X.prototype.render=
function(Y){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?Y("div",{key:"request-error","class":"ib__results"},Y("div",{"class":"ib-results__message-container"},Y("span",{"class":"ib-results__message"},W.results.tooManyGroups))):Y("div",{key:"request-error","class":"ib__results"},Y("div",{"class":"ib-results__message-container"},Y("span",{"class":"ib-results__message"},W.results.requestError))):
this.props.showSubResources?Y(N,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):Y(aa.a,{key:"ib-ex-item-list"})},X}(S.Component);P.a=Object(S.connect)(function(R){return{resultStatus:R.ui.resultPanel.status,pageStatus:R.ui.pagination.status,showSubResources:R.settings.config.showSubResources,tooManyGroups:!(!("myGroups"===R.parameters.section&&R.results.user.groups&&175<R.results.user.groups.length)||R.parameters.filter.group)}},
function(){return{}})(I)},function(S,P){S.exports=O},function(S,P,I){var ba=I(0);S=I(16);var W=I(570),aa=I.n(W),Q=I(126),N=I(307);I=function(R){function X(){return null!==R&&R.apply(this,arguments)||this}return Object(ba.d)(X,R),X.prototype.render=function(Y){var da=this,ea=Object(Q.a)(this.props.stateTree),ha=this.props.stateTree.ui.pagination.displayItems.map(function(na){return Y(aa.a,{key:na.id,item:na,organization:"public_authoritative"===na.contentStatus&&da.props.stateTree.results.allOrganizations[na.orgId]?
da.props.stateTree.results.allOrganizations[na.orgId]:void 0,portal:ea,mainAction:da.props.stateTree.settings.config.onSelect,mainInverseAction:da.props.stateTree.settings.config.onDeselect,mainActionTitle:da.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:da.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:da.props.stateTree.settings.config.asynchronousItemSelect,usePrimaryButtonStyle:da.props.stateTree.settings.config.usePrimaryButtonStyle,isSelected:da.props.stateTree.settings.config.preSelect,
customActions:da.props.stateTree.settings.config.customActions,sortField:da.props.stateTree.parameters.sort.field})});return 0<ha.length?Y("div",{key:this.props.key,"class":"ib-ex-results__item-list"},ha):Y(N.a,{key:this.props.key,text:this.props.stateTree.settings.config.noItemsFoundText||""})},X}(S.Component);P.a=Object(S.connect)(function(R){return{stateTree:R}},function(){return{}})(I)},function(S,P){S.exports=M},function(S,P,I){var ba=I(0);S=function(W){function aa(){return null!==W&&W.apply(this,
arguments)||this}return Object(ba.d)(aa,W),aa.prototype.render=function(Q){var N=this;return Q("footer",{"class":"ib__big-footer"},Q("button",{"class":"ib__big-footer-btn ib__big-footer-btn--secondary",onclick:function(){return N.props.handleSecondaryClick()}},this.props.secondaryText),Q("button",{"class":"ib__big-footer-btn ib__big-footer-btn--primary",onclick:function(){var R,X;return null===(X=(R=N.props).handlePrimaryClick)||void 0===X?void 0:X.call(R)}},this.props.primaryText))},aa}(I(16).Component);
P.a=S},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(363),Q=I(574),N=I(575),R=I(573),X=I(589);I=function(Y){function da(ea){ea=Y.call(this,ea)||this;return ea.handleCloseDetailsPane=ea.handleCloseDetailsPane.bind(ea),ea}return Object(ba.d)(da,Y),da.prototype.render=function(ea){var ha=this.props.detailsPaneType,na=this.props.sidePanelType,qa=this.props.closing,ua={"ib-side__container--fade-in":!qa,"ib-side__container--fade-out":qa,"ib-side__container--flyout":"flyout"===ha,"ib-side__container--flyover":"flyover"===
ha};ha={"ib-side__content--flyout":"flyout"===ha,"ib-side__content--in-right":!qa&&"flyout"===ha,"ib-side__content--out-left":qa&&"flyout"===ha,"ib-side__content--flyover":"flyover"===ha,"ib-side__content--in-left":!qa&&"flyover"===ha,"ib-side__content--out-right":qa&&"flyover"===ha};if("sort"===na){var ya=ea(R.a,{key:"sort-pane"});var Aa=W.sortOptions.sort}else if("filter"===na)ya=ea(Q.a,{key:"filter-pane"}),Aa=W.filterPane.filter;else if("item"===na&&this.props.sidePanelItem)ya=ea(N.a,{key:this.props.sidePanelItem.id,
item:this.props.sidePanelItem});else if("hidden"===na)return;return ea(X.a,{key:"item"===na&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:na,containerClasses:ua,contentClasses:ha,handleClose:this.handleCloseDetailsPane,i18n:W,type:na,title:Aa},ya)},da.prototype.componentWillReceiveProps=function(ea){var ha=this;!this.props.closing&&ea.closing&&("item"===this.props.sidePanelType&&this.props.sidePanelItem?(ea=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&ea.focus():
"filter"===this.props.sidePanelType?(ea=document.getElementById("filter-button"))&&ea.focus():"sort"===this.props.sidePanelType&&(ea=document.getElementById("sort-button"))&&ea.focus(),setTimeout(function(){ha.props.closeDetailsPaneImmediately()},300))},da.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},da}(S.Component);P.a=Object(S.connect)(function(Y){return{detailsPaneType:Y.settings.config.detailsPaneType,sidePanelType:Y.ui.sidePanel.type,sidePanelItem:Y.ui.sidePanel.item}},
function(Y){return{closeDetailsPane:function(){Y(Object(aa.c)())},closeDetailsPaneImmediately:function(){Y({type:aa.a})}}})(I)},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(290),Q=I(48),N=I(216),R=I.n(N),X="relevance title owner created modified numviews".split(" "),Y={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],
livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(da){function ea(ha){ha=da.call(this,ha)||this;return ha.handleChangeSortField=ha.handleChangeSortField.bind(ha),ha.handleChangeSortAsc=ha.handleChangeSortAsc.bind(ha),ha.handleChangeSortDesc=ha.handleChangeSortDesc.bind(ha),ha}return Object(ba.d)(ea,da),ea.prototype.render=function(ha){var na=this,qa=this.props.section;qa=(Y[qa]?Object(ba.g)([],Y[qa]):Object(ba.g)([],
X)).map(function(Aa){return ha(R.a,{key:Aa,name:W.sortOptions[Aa],value:Aa,selectedToggle:na.props.sortField,onToggleClick:na.handleChangeSortField})});var ua=this.props.sortField,ya=this.props.sortOrder;return ha("div",{id:"sort-pane-container",key:"sort-pane-container","class":"ib-sort-pane__container"},ha("div",{"class":"ib-sort-pane__body"},ha("h3",{id:"sort-options-title","class":"drp-sort__menu-title"},W.sortOptions.sortBy),ha("ul",{key:"sort-option-section","class":"ib-sort-pane__option-section",
role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},qa),"relevance"!==ua?ha("div",null,ha("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},W.sortOptions.sortDir),ha("ul",{key:"sort-direction-section","class":"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":ya+"-option"},ha(R.a,{key:"sort-asc-toggle",name:W.sortOptions.ascending[ua],value:"asc",onToggleClick:this.handleChangeSortAsc,
selectedToggle:ya}),ha(R.a,{key:"sort-desc-toggle",name:W.sortOptions.descending[ua],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:ya}))):null))},ea.prototype.handleChangeSortField=function(ha){this.props.changeSortField(ha);this.props.search()},ea.prototype.handleChangeSortAsc=function(ha){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},ea.prototype.handleChangeSortDesc=function(ha){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),
this.props.search())},ea}(S.Component);P.a=Object(S.connect)(function(da){return{section:da.parameters.section,sortField:da.parameters.sort.field,sortOrder:da.parameters.sort.order}},function(da){return{changeSortField:function(ea){da(Object(aa.c)(ea))},changeSortOrder:function(ea){da(Object(aa.d)(ea))},search:function(ea){da(Object(Q.i)(ea))}}})(I)},function(S,P,I){var ba=I(0);S=I(16);var W=I(350);I=function(aa){function Q(){return null!==aa&&aa.apply(this,arguments)||this}return Object(ba.d)(Q,
aa),Q.prototype.render=function(N){return N("div",{id:"filter-pane-container",key:"filter-pane-container","class":"ib-filter-pane__container"},N(W.a,{key:"filter-options"}))},Q}(S.Component);P.a=I},function(S,P,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var Q=I(173),N=I(126),R=I(205),X=I.n(R),Y=I(587);R=I(576);var da=I.n(R);R=I(577);var ea=I.n(R);R=I(578);var ha=I.n(R);R=I(579);var na=I.n(R);R=I(580);var qa=I.n(R);R=I(581);var ua=I.n(R);R=I(582);var ya=I.n(R);R=I(583);var Aa=I.n(R);R=I(584);var Ba=
I.n(R);R=I(489);var Oa=I.n(R);R=I(585);var Ja=I.n(R);R=I(206);var wa=I.n(R),Ea=I(586),sa=I(588),oa=I(151);I=function(xa){function ta(ja){ja=xa.call(this,ja)||this;return ja.handleItemDetails=ja.handleItemDetails.bind(ja),ja.handleFavorites=ja.handleFavorites.bind(ja),ja}return Object(ba.d)(ta,xa),ta.prototype.render=function(ja){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return ja(X.a,
{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return ja("div",{"class":"ib-item-pane__message-container"},ja("span",{"class":"ib-results__message"},W.results.requestError));var pa=this.props.stateTree.results.fullItemDetails[this.props.item.id],va=this.props.stateTree.results.users[pa.owner],Fa=Object(N.a)(this.props.stateTree),Da=pa&&this.props.stateTree.results.loadingItems[pa.id],Ca={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":Da},
Ia=new Date(pa.modified),La=new Date(pa.created),Ga=this.props.stateTree.results.allOrganizations[pa.orgId],Ma="public_authoritative"===pa.contentStatus&&pa.orgId&&Ga,Ha=!("Raster function template"===pa.type&&pa.owner.includes("esri_"));return[ja("div",{"class":"ib-item-pane__thumb-container",key:"ib-item-pane__thumb-container"},ja("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","class":"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+
pa.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),ja(Ea.a,{favorites:this.props.stateTree.results.user.favorites,item:pa,onToggleFavorite:this.handleFavorites})),ja("div",{id:"item-pane-container","class":"ib-item-pane__container",key:pa.id+"-container"},ja("div",{classes:Ca},ja("div",{key:"item-details"},ja("h4",{"class":"ib-item-pane__title"},pa.title,"\u00a0",Ha&&ja(wa.a,{key:"view-full-item-details",title:W.viewFullDetails,
handleClick:this.handleItemDetails,focusable:!0},ja("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},ja("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),ja("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),ja("span",{key:"item-owner","class":"ib-item-pane__owner-text"},ja("img",{src:pa.iconURI,"class":"ib-item-pane__type-icon",title:pa.displayName}),pa.displayName,
" ",W.itemDetails.by,"\u00a0",ja("a",{"class":"ib-item-pane__owner-link",title:Ma?W.itemDetails.viewOrg:W.itemDetails.viewUser,target:"_blank",href:Ma?Ga.orgUrl:Fa.baseUrl+"/home/user.html?user\x3d"+pa.owner},Ma?Ga.name:pa.owner)),ja("span",{key:"modified-date","class":"ib-item-pane__modified"},W.itemDetails.lastModified,": "+oa.format(Ia,{selector:"date",formatLength:"long"})),ja("div",{"class":"ib-item-pane__badges"},this.renderBadges(pa,ja)),ja("div",{"class":"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),
ja("span",{key:"snippet","class":"ib-item-pane__snippet"},pa.snippet?pa.snippet:W.itemDetails.noSnippet),ja("h5",{"class":"ib-item-pane__details"},W.itemDetails.details),pa.patchedDescription?ja("span",{key:"item-description",innerHTML:pa.patchedDescription,"class":"ib-item-pane__description"}):ja("span",{key:"item-no-description","class":"ib-item-pane__description"},W.itemDetails.noDescription),ja("h5",{"class":"ib-item-pane__terms-of-use"},W.itemDetails.termsOfUse),pa.licenseInfo?ja("span",{key:"item-terms-of-use",
innerHTML:pa.licenseInfo,"class":"ib-item-pane__license-info"}):ja("span",{key:"item-no-terms-of-use","class":"ib-item-pane__license-info"},W.itemDetails.noTermsOfUse),ja("h5",{"class":"ib-item-pane__credits"},W.itemDetails.attribution),pa.accessInformation?ja("span",{key:"item-access-information",innerHTML:pa.accessInformation,"class":"ib-item-pane__attribution"}):ja("span",{key:"item-no-access-information","class":"ib-item-pane__attribution"},W.itemDetails.noAttribution),Ma?ja("p",null,ja("h5",
{"class":"ib-item-pane__pa-owner"},W.sortOptions.owner),ja("div",{"class":"ib-item-pane__pa-org"},ja("img",{src:Ga.thumbURI,alt:Ga.name,"class":"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),Ga.name),ja("div",{"class":"ib-item-pane__pa-managed"},ja("span",{"class":"ib-item-pane__pa-managed-label"},W.itemDetails.managedBy),ja("div",{"class":"ib-item-pane__pa-manager"},va.thumbURI?ja("img",{src:va.thumbURI,"class":"ib-item-pane__pa-managed-thumb"}):
ja(Y.a,{"class":"ib-item-pane__pa-managed-thumb"}),pa.owner))):null,ja("span",{key:"num-views","class":"ib-item-pane__num-views"},ja("strong",null,W.itemDetails.views),": "+aa.format(pa.numViews)),ja("span",{key:"created-date","class":"ib-item-pane__num-views"},ja("strong",null,W.itemDetails.created),": "+oa.format(La,{selector:"date",formatLength:"long"})),ja(sa.a,{baseUrl:Fa.baseUrl,item:pa}))),Da?ja(X.a,{key:"item-pane-loading"}):null)]},ta.prototype.renderBadges=function(ja,pa){var va=this,Fa=
this.props.stateTree.settings.utils.portal.user;return ja.badges.map(function(Da){switch(Da){case "authoritative":return pa(da.a,{altOrg:"public_authoritative"===ja.contentStatus&&va.props.stateTree.results.allOrganizations[ja.orgId]?va.props.stateTree.results.allOrganizations[ja.orgId].name:void 0});case "deprecated":return pa(ha.a,null);case "collaboration":return pa(ea.a,null);case "livingAtlas":return pa(na.a,null);case "marketplace":return pa(qa.a,null);case "openData":return pa(ua.a,null);case "premium":return pa(ya.a,
{user:Fa});case "subscriber":return pa(Aa.a,{user:Fa});case "solution":return pa(Ba.a,null);case "publicDataCollection":return pa(Ja.a,null);case "retiredStoryMap":return pa(Oa.a,{isRetiredStoryMap:!0});case "retiredApp":return pa(Oa.a,null)}return null})},ta.prototype.handleItemDetails=function(){var ja=Object(N.a)(this.props.stateTree),pa=this.props.stateTree.ui.sidePanel.item;pa&&window.open(ja.baseUrl+"/home/item.html?id\x3d"+pa.id,"_blank")},ta.prototype.handleFavorites=function(){var ja=this.props.stateTree.ui.sidePanel.item,
pa=this.props.stateTree.results.user.favorites;ja&&pa&&pa[ja.id]?this.props.removeFromFavorites(ja):ja&&pa&&!pa[ja.id]&&this.props.addToFavorites(ja)},ta}(S.Component);P.a=Object(S.connect)(function(xa){return{stateTree:xa}},function(xa){return{addToFavorites:function(ta){xa(Object(Q.k)(ta))},removeFromFavorites:function(ta){xa(Object(Q.m)(ta))}}})(I)},function(S,P){S.exports=K},function(S,P){S.exports=U},function(S,P){S.exports=Z},function(S,P){S.exports=ca},function(S,P){S.exports=fa},function(S,
P){S.exports=ka},function(S,P){S.exports=ma},function(S,P){S.exports=ra},function(S,P){S.exports=za},function(S,P){S.exports=ia},function(S,P,I){var ba=I(36);P.a=function(W,aa){var Q=W.favorites;if(!Q)return null;Q=Q[W.item.id];return aa("button",{onclick:W.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,"ib-item-pane__favorites-btn--active":Q}},aa("span",{"class":"screen-readers-only"},Q?ba.itemDetails.isFavorite:ba.itemDetails.notFavorite),aa("svg",{xmlns:"http://www.w3.org/2000/svg",
role:"img",width:"32",height:"32",viewBox:"0 0 32 32"},aa("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),Q?ba.itemDetails.removeFromFavorites:ba.itemDetails.addToFavorites)}},function(S,P,I){P.a=function(ba,W){return W("div",{"class":ba["class"]},W("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},W("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(S,P,I){var ba=I(36);P.a=function(W,aa){var Q=W.item,N=W.baseUrl,R=ba.itemDetails.shared[Q.access?Q.access:Q.sharing&&Q.sharing.access];if(Q.sharedToGroups&&0<Q.sharedToGroups.length){var X=Q.sharedToGroups.map(function(Y){return aa("a",{"class":"ib-item-pane__group-link",href:N+"/home/group.html?owner\x3d"+Y.owner+"\x26title\x3d"+Y.title,key:Y.id,target:"_blank"},Y.title)}).reduce(function(Y,da,ea){return Y[ea-1]&&Y.push(", "),Y.push(da),Y},[]);R="public"===Q.access||"org"===
Q.access?[R+", ",X]:X}else if("shared"===Q.access&&(!Q.sharedToGroups||0===Q.sharedToGroups.length))return null;return aa("span",{key:"shared-with","class":"ib-item-pane__shared"},aa("strong",null,ba.itemDetails.sharedWith),": ",R)}},function(S,P,I){function ba(Q){Q.focus()}S=I(206);var W=I.n(S),aa=I(590);P.a=function(Q,N){var R=Q.key,X=Q.containerClasses,Y=Q.contentClasses,da=Q.handleClose,ea=Q.i18n,ha=Q.title,na=Q.children,qa=null;return"item"===Q.type&&(qa=N(aa.a,{key:"item-details-footer"})),
N("div",{key:"details-pane",classes:X,"aria-expanded":"true"},N("div",{key:"content-container",classes:Y},N("header",{"class":"ib-side-body__header"},N("span",{"class":"ib-side-body__title"},ha),N("div",{"class":"ib-side-body__btn-container"},N(W.a,{afterCreate:ba,focusable:!0,handleClick:da,key:"side-panel-close-btn",title:ea.close},N("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},N("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),
N("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),N("section",{key:R,"class":"ib-side-body__content"},na),qa))}},function(S,P,I){var ba=I(0);S=I(16);var W=I(100),aa=I(434);I=function(Q){function N(R){R=Q.call(this,R)||this;return R.handleAddBtnClick=R.handleAddBtnClick.bind(R),R.handleCustomActionClick=R.handleCustomActionClick.bind(R),R}return Object(ba.d)(N,Q),N.prototype.render=function(R){var X=this,Y=this.props.stateTree.ui.sidePanel.item,da=Y&&!!this.props.stateTree.results.selectedItems[Y.id],
ea={"ib-item-pane__btn--disabled":Y&&!!this.props.stateTree.results.loadingItems[Y.id]},ha=Object(ba.a)(Object(ba.a)({},ea),{"ib-item-pane__btn--active":da}),na=this.props.stateTree.settings.config.customActions.filter(function(qa){return qa.allowed(Y||{})});return R("footer",{"class":"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:R("button",{key:"select-btn","class":"ib-item-pane__select-btn",classes:ha,onclick:this.handleAddBtnClick},da?this.props.stateTree.settings.config.mainInverseActionTitle:
this.props.stateTree.settings.config.mainActionTitle),na.map(function(qa){return R("button",{key:"usage","class":"ib-item-pane__btn",classes:ea,value:qa.name,onclick:X.handleCustomActionClick},qa.name)}))},N.prototype.handleAddBtnClick=function(){var R=this.props.stateTree.ui.sidePanel.item;R&&(this.props.stateTree.results.selectedItems[R.id]?this.props.deselectItem(R):this.props.selectItem(R))},N.prototype.handleCustomActionClick=function(R){var X=this.props.stateTree.ui.sidePanel.item;X&&this.props.customAction(R.target.value,
X)},N}(S.Component);P.a=Object(S.connect)(function(Q){return{stateTree:Q}},function(Q){return{deselectItem:function(N){Q(Object(W.o)(N))},selectItem:function(N){Q(Object(W.r)(N))},customAction:function(N,R){Q(Object(aa.c)(N,R))}}})(I)},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(592),Q=I(206),N=I.n(Q);I=function(R){function X(){return null!==R&&R.apply(this,arguments)||this}return Object(ba.d)(X,R),X.prototype.render=function(Y){var da=Y("div",{"class":"ib-header__spacer"});this.props.showBackBtn&&
(da=Y(N.a,{handleClick:this.props.onBack,key:"main-back-btn",title:W.back,focusable:!0},Y("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},Y("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var ea=Y("div",{"class":"ib-header__spacer"});return this.props.showCloseBtn&&(ea=Y(N.a,{key:"main-close-btn",title:W.close,focusable:!0,handleClick:this.props.onBack},Y("svg",{role:"img",width:"16",height:"16",
viewBox:"0 0 32 32"},Y("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),Y("div",{classes:{ib__header:!0},key:"header"},Y("div",{key:"section-title-container","class":"ib-header__search-section"},da,Y(aa.a,{key:"section-dropdown"}),ea))},X}(S.Component);P.a=Object(S.connect)(function(R){return{showBackBtn:R.settings.config.showBackBtn,showCloseBtn:R.settings.config.showCloseBtn,onBack:function(){R.settings.config.onBack()}}},function(){return{}})(I)},
function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(288),Q=I(48),N=I(310),R=I.n(N);N=I(206);var X=I.n(N);I=function(Y){function da(ea){ea=Y.call(this,ea)||this;var ha=(ea.props.portal.user?ea.props.baseSections:ea.props.baseSections.filter(function(na){return"livingAtlas"===na||"all"===na})).map(function(na){return{value:na,text:W.header.sectionTitles[na]}});return ea.props.customSections.forEach(function(na){var qa={value:na.name,text:na.name};na.addToFront?ha.splice(0,0,qa):ha.push(qa)}),ea.state=
{options:ha},ea.handleOptionSelect=ea.handleOptionSelect.bind(ea),ea}return Object(ba.d)(da,Y),da.prototype.render=function(ea){var ha=this.props.section,na=W.header.sectionTitles[ha];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?ea("h3",{id:"ib-dialog-title","class":"ib-header__dialog-title"},this.props.dialogTitle):ea(R.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},ea("h3",{key:"search-"+
ha+"-dropdown",id:"section-dropdown-toggle","class":"ib-section-dropdown__toggle"},na||ha,"\u00a0",ea("span",{"class":"btn-svg__button-noevent flex"},ea(X.a,{key:"section-dropdown-button"},ea("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16"},ea("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"}))))))},da.prototype.handleOptionSelect=function(ea){this.props.changeSearchSection(ea);this.props.search(!0)},da}(S.Component);P.a=Object(S.connect)(function(Y){return{baseSections:Y.settings.config.baseSections,
customSections:Y.settings.config.customSections,portal:Y.settings.utils.portal,replaceSectionDropdownWithTitle:!!Y.settings.config.replaceSectionDropdownWithTitle,dialogTitle:Y.settings.config.dialogTitle,section:Y.parameters.section}},function(Y){return{changeSearchSection:function(da){Y(Object(aa.b)(da))},search:function(da){Y(Object(Q.i)(da))}}})(I)},function(S,P,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var Q=I(285),N=I.n(Q),R=I(418),X=I(48),Y=I(410),da=I(409),ea=I(363),ha=I(804),na=I(805);I=function(qa){function ua(ya){ya=
qa.call(this,ya)||this;return ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSearchKeyDown=ya.handleSearchKeyDown.bind(ya),ya.handleListClick=ya.handleListClick.bind(ya),ya.handleTableClick=ya.handleTableClick.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleFilterClick=ya.handleFilterClick.bind(ya),ya}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=1E4<=this.props.nextTotal?W.itemLimitReached.replace("${limit}",aa.format(1E4)):aa.format(this.props.nextTotal);
Aa="function"==typeof this.props.replacementItemName?this.props.replacementItemName(Aa):this.props.replacementItemName?Aa+" "+this.props.replacementItemName:W.resultCount+": "+Aa;var Ba=W.header.sectionTitles[this.props.section];Ba=this.props.placeholderText?this.props.placeholderText:W.search+" "+(Ba||this.props.section);var Oa={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};return ya("div",null,ya("div",{key:"search-input-area",
"class":"ib__input-area"},"subscription"!==this.props.section?ya("div",{key:"search-bar-container","class":"ib-input-area__search-bar"},ya("input",{id:"item-browser-search-input","class":"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:Ba,"aria-label":Ba,value:this.props.searchString})):null,ya("div",{classes:Oa},ya("span",{"class":"ib-input-area__result-count"},Aa),ya("div",{"class":"ib-input-area__icon-button-container"},
ya(N.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:W.compactView},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),ya(N.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:W.listView},
ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?[ya("div",{key:"spacer","class":"ib-input-area__spacer"}),ya(N.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?W.close:W.filterPane.filter},ya("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),ya(N.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===this.props.sidePanelType?W.close:W.sortOptions.sort},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:
null))),ya(R.a,{key:"active-filters",theme:"dark"}))},ua.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya.target.value);""===ya.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},ua.prototype.handleSearchKeyDown=function(ya){"Enter"===ya.key&&this.props.search(!0)},ua.prototype.handleTableClick=function(ya){ya.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},ua.prototype.handleListClick=function(ya){ya.preventDefault();
"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},ua.prototype.handleFilterClick=function(ya){ya.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},ua.prototype.handleSortClick=function(ya){ya.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},ua}(S.Component);P.a=Object(S.connect)(function(qa){return{nextTotal:qa.parameters.nextQuery.total,placeholderText:qa.settings.config.searchPlaceholderText,
previousSearchString:qa.parameters.searchString.previous,replacementItemName:qa.settings.config.itemName,resultPanelType:qa.ui.resultPanel.display,searchString:qa.parameters.searchString.current,sidePanelType:qa.ui.sidePanel.type,section:qa.parameters.section}},function(qa){return{search:function(ua){qa(Object(X.i)(ua))},changeResultDisplay:function(){qa({type:Y.a})},changeSearchString:function(ua){qa(Object(da.b)(ua))},closeDetailsPane:function(){qa(Object(ea.c)())},viewFilters:function(){qa(Object(ha.b)())},
viewSort:function(){qa(Object(na.b)())}}})(I)},function(S,P,I){var ba=I(0),W=I(36);S=I(16);var aa=I(48),Q=I(595),N=I(596),R=I(205),X=I.n(R);I=function(Y){function da(){var ea=null!==Y&&Y.apply(this,arguments)||this;return ea.handleScroll=function(ha){.99<=(ha.target.scrollTop+ha.target.offsetHeight)/ha.target.scrollHeight&&"loadingNext"!==ea.props.resultPanelStatus&&-1!==ea.props.nextStart&&ea.props.loadMoreContent()},ea.handleCreate=function(ha){setTimeout(function(){ha.scrollHeight<=ha.clientHeight&&
"loadingNext"!==ea.props.resultPanelStatus&&-1!==ea.props.nextStart&&ea.props.loadMoreContent(50)},10)},ea}return Object(ba.d)(da,Y),da.prototype.render=function(ea){var ha=this.props,na=ha.resultPanelStatus,qa=ha.displayItems,ua=ha.showSubmitButton,ya=ha.resultPanelDisplayType;ha=ha.tooManyGroups;switch(na){case "success":case "loadingNext":return ea(Q.a,{key:"item-list-"+ya,i18n:W,showSubmitButton:ua,results:qa,loadingNext:"loadingNext"===na,handleScroll:this.handleScroll,handleCreate:this.handleCreate},
ea(N.a,{key:"result-items"}));case "loading":return ea("div",{key:"loading-items","class":"ib__results"},ea(X.a,{key:"item-loader",text:W.results.loadingItems}));case "empty":return ea("div",{key:"empty-state","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},W.results.empty)))}return ha?ea("div",{key:"too-many-groups","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},
W.results.tooManyGroups))):ea("div",{key:"request-error","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},W.results.requestError)))},da}(S.Component);P.a=Object(S.connect)(function(Y){return{displayItems:Y.results.displayItems,nextStart:Y.parameters.nextQuery.nextStart,showSubmitButton:Y.settings.config.showSubmitButton,resultPanelDisplayType:Y.ui.resultPanel.display,resultPanelStatus:Y.ui.resultPanel.status,tooManyGroups:!(!("myGroups"===
Y.parameters.section&&Y.results.user.groups&&175<Y.results.user.groups.length)||Y.parameters.filter.group)}},function(Y){return{loadMoreContent:function(da){Y(Object(aa.h)(da))}}})(I)},function(S,P,I){S=I(205);var ba=I.n(S);P.a=function(W,aa){var Q=W.key,N=W.i18n,R=W.loadingNext,X=W.handleScroll,Y=W.handleCreate,da=W.children;return 0<W.results.length?aa("div",{key:Q,"class":"ib-results__item-list",onscroll:X,afterCreate:Y},da,R?aa("div",{"class":"ib-results__load-container"},aa(ba.a,{key:"more-items-loader"})):
null):aa("div",{key:"no-items-found","class":"ib-results__item-list ib-results__item-list--none"},aa("span",{style:"font-size: 0.9375rem;"},N.results.noItemsFound))}},function(S,P,I){var ba=I(0);S=I(16);var W=I(126),aa=I(363),Q=I(357),N=I(100),R=I(434),X=I(597),Y=I.n(X);X=I(598);var da=I.n(X);I=function(ea){function ha(na){na=ea.call(this,na)||this;return na.handleShowItemDetails=na.handleShowItemDetails.bind(na),na.handleSelectionClick=na.handleSelectionClick.bind(na),na.handleCustomActionClick=
na.handleCustomActionClick.bind(na),na.startResizePoll=na.startResizePoll.bind(na),na.resizePoll=na.resizePoll.bind(na),na}return Object(ba.d)(ha,ea),ha.prototype.render=function(na){var qa=this.props.stateTree.results;if(0<qa.displayItems.length)return na("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(qa.displayItems,na))},ha.prototype.mapItemsToChildren=function(na,qa){var ua=this;return na.map(function(ya){var Aa=Object(W.a)(ua.props.stateTree);
return"list"===ua.props.stateTree.ui.resultPanel.display?qa(Y.a,{constrained:ua.state.constrained,key:ya.id+"-card",item:ya,loadingItems:ua.props.stateTree.results.loadingItems,selectedItems:ua.props.stateTree.results.selectedItems,activeItem:ua.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:ua.handleShowItemDetails,onSelectionClick:ua.handleSelectionClick,customActions:ua.props.stateTree.settings.config.customActions,onCustomActionClick:ua.handleCustomActionClick,disableMainAction:ua.props.stateTree.settings.config.disableMainAction,
sortField:ua.props.stateTree.parameters.sort.field,hideEllipses:ua.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===ya.contentStatus&&ua.props.stateTree.results.allOrganizations[ya.orgId]?ua.props.stateTree.results.allOrganizations[ya.orgId]:void 0}):qa(da.a,{key:ya.id+"-cardrow",item:ya,loadingItems:ua.props.stateTree.results.loadingItems,selectedItems:ua.props.stateTree.results.selectedItems,activeItem:ua.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:ua.handleShowItemDetails,
onSelectionClick:ua.handleSelectionClick,customActions:ua.props.stateTree.settings.config.customActions,onCustomActionClick:ua.handleCustomActionClick,disableMainAction:ua.props.stateTree.settings.config.disableMainAction,sortField:ua.props.stateTree.parameters.sort.field,hideEllipses:ua.props.stateTree.settings.config.hideEllipses})})},ha.prototype.handleShowItemDetails=function(na){var qa=this.props.stateTree.ui.sidePanel;qa.item&&qa.item.id===na.id?this.props.closeDetailsPane():this.props.viewItemDetails(na)},
ha.prototype.handleSelectionClick=function(na){this.props.stateTree.results.selectedItems[na.id]?this.props.deselectItem(na):this.props.selectItem(na)},ha.prototype.handleCustomActionClick=function(na,qa){this.props.customAction(na,qa)},ha.prototype.startResizePoll=function(na){this.resizePoll(na)},ha.prototype.resizePoll=function(na){var qa=this;na&&0<na.clientWidth&&(300>na.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<na.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),
setTimeout(function(){qa.resizePoll(na)},250))},ha}(S.Component);P.a=Object(S.connect)(function(ea){return{stateTree:ea}},function(ea){return{closeDetailsPane:function(){ea(Object(aa.c)())},viewItemDetails:function(ha){ea(Object(Q.b)(ha))},deselectItem:function(ha){ea(Object(N.o)(ha))},selectItem:function(ha){ea(Object(N.r)(ha))},customAction:function(ha,na){ea(Object(R.c)(ha,na))}}})(I)},function(S,P){S.exports=T},function(S,P){S.exports=la},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="VIEW_FILTERS",W=function(){return{type:ba}}},function(S,P,I){I.d(P,"a",function(){return ba});I.d(P,"b",function(){return W});var ba="VIEW_SORT",W=function(){return{type:ba}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,P,I){I.r(P);var ba=I(0);
S=I(16);var W=I(415);I.d(P,"defaultConfig",function(){return W.a});I.d(P,"reducers",function(){return W.c});I.d(P,"initialState",function(){return W.b});var aa=I(100);I.d(P,"SELECT_ITEM_SINGLE",function(){return aa.j});I.d(P,"SELECT_ITEM",function(){return aa.g});I.d(P,"DESELECT_ITEM",function(){return aa.c});I.d(P,"SELECT_ITEM_ASYNC",function(){return aa.h});I.d(P,"SELECT_ITEM_ASYNC_FAILED",function(){return aa.i});var Q=I(48);I.d(P,"search",function(){return Q.i});var N=I(455);I.d(P,"updateExtent",
function(){return N.c});var R=I(357);I.d(P,"viewItemDetails",function(){return R.b});var X=I(288);I.d(P,"changeSearchSection",function(){return X.b});var Y=I(591),da=I(593),ea=I(594),ha=I(572),na=I(488);I=function(qa){function ua(){return null!==qa&&qa.apply(this,arguments)||this}return Object(ba.d)(ua,qa),ua.prototype.render=function(ya){var Aa=this.props.layoutMode,Ba={ib__container:!0,"ib__container--expanded":"fullscreen"===Aa,"ib__container--adjustable":"adjustable"===Aa};switch(Aa){case "fullscreen":return ya(na.a,
{key:"big-browser",containerClasses:Ba});case "adjustable":return ya("div",null,ya(na.a,{key:"big-browser",containerClasses:Ba}),ya("div",{"class":"ib__container--underlay"}));default:return ya("div",{id:"item-browser-container",classes:Ba},ya(ha.a,{key:"side-panel",closing:this.props.sidePanelClosing}),ya(Y.a,{key:"header"}),ya(da.a,{key:"input-area"}),ya(ea.a,{key:"result-panel"}))}},ua}(S.Component);P["default"]=Object(S.connect)(function(qa){return{layoutMode:qa.settings.config.layoutMode,expanded:qa.ui.expanded.maximized,
sidePanelClosing:qa.ui.sidePanel.closing}},function(){return{}})(I)}])})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(V){function L(w){if(v[w])return v[w].exports;var t=v[w]={i:w,l:!1,exports:{}};return V[w].call(t.exports,t,t.exports,L),t.l=!0,t.exports}var v={};return L.m=V,L.c=v,L.d=function(w,t,l){L.o(w,t)||Object.defineProperty(w,t,{enumerable:!0,get:l})},L.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},L.t=function(w,t){if((1&t&&(w=L(w)),8&t)||4&t&&"object"==typeof w&&w&&w.__esModule)return w;var l=Object.create(null);if(L.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:w}),2&t&&"string"!=typeof w)for(var f in w)L.d(l,f,function(g){return w[g]}.bind(null,f));return l},L.n=function(w){var t=w&&w.__esModule?function(){return w["default"]}:function(){return w};return L.d(t,"a",t),t},L.o=function(w,t){return Object.prototype.hasOwnProperty.call(w,
t)},L.p="",L(L.s=868)}({868:function(V,L,v){v.r(L);L["default"]=function(w,t){var l=w.text;return t("div",{"class":"load-bars__container",key:w.key},t("div",{"class":"load-bars__bars"}),l?t("span",{"class":"load-bars__text"},l):null)}}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,
v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,
g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=830)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m=
{},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);
else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");
for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=
a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=
p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,
m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=V},830:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(g){g=l.call(this,g)||this;return g.handleClick=g.handleClick.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var h=this.props,x=h.label,u=h.labelDirection,E=h.key,z=h.title;return g("button",Object(t.a)({afterCreate:h.afterCreate,
key:E,id:E,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":x,"btn-svg__button--tooltip-left":"left"===u,"btn-svg__button--tooltip-right":"right"===u,"btn-svg__button--tooltip-top":"top"===u},onmousedown:this.preventFocus,onclick:this.handleClick},x?{"aria-label":x}:{title:z},{tabindex:!h.focusable&&"-1",value:h.value}),g("div",{"class":"btn-svg__button-content"},this.props.children))},f.prototype.preventFocus=function(g){g.preventDefault()},f.prototype.handleClick=function(g){this.props.handleClick&&
g.target&&(g.target.value=this.props.value,this.props.handleClick(g))},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",
l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=831)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=
0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||
(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;
switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=
[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});
w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};
Object.create;Object.create},16:function(L,v){L.exports=V},831:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(g){g=l.call(this,g)||this;return g.handleToggleClick=g.handleToggleClick.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var h=this.props,x=h.name,u=h.childOptions,E=h.prependValue,z=h.infoTooltip;E=E?""+E+this.props.value:this.props.value;h=!!(h.selectedToggle===E||u&&this.childSelectedRecursive(u,E));var p={"btn-toggle__item":!0,"btn-toggle__item--active":h,
"btn-toggle__item--flex":!!z},m={"btn-toggle__button":!0,"btn-toggle__button--active":h},e=null;return u&&(e=g("ul",{"class":"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(g))),g("li",{key:E,classes:p,role:"treeitem","aria-selected":h?"true":void 0,"aria-expanded":u?h?"true":"false":void 0},g("button",{key:E,classes:m,value:E,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":h?"true":void 0,"aria-label":x,onblur:this.props.handleBlur,
tabindex:"0"},g("span",{"class":"btn-toggle__text",key:"text"},x),this.props.count?g("span",{"class":"btn-toggle__count",key:"count"},"\u00a0","("+this.props.count+")"):null),!!z&&g("calcite-tooltip-manager",{"class":"btn-toggle__item-tooltip"},g("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",color:"neutral",scale:"s",round:!0},g("calcite-icon",{scale:"s",icon:"information"})),g("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},
z)),h?e:null)},f.prototype.preventDefault=function(g){g.preventDefault()},f.prototype.mapChildrenToToggles=function(g){var h=this,x=this.props,u=x.childOptions,E=x.selectedToggle,z=x.onToggleClick,p=x.useFullPathAsValue,m=(x=x.prependValue)?""+x+this.props.value:this.props.value;return u?u.map(function(e){return g(f,{count:e.count,key:e.value,name:e.displayName,value:p?m+"/"+e.value:e.value,showTooltip:h.props.showTooltip,tooltip:e.tooltip,selectedToggle:E,childOptions:e.children,onToggleClick:z,
useFullPathAsValue:p})}):null},f.prototype.childSelectedRecursive=function(g,h){var x=this,u=this.props,E=u.selectedToggle;return u.useFullPathAsValue?g.reduce(function(z,p){return!!(E===h+"/"+p.value||p.children&&x.childSelectedRecursive(p.children,h+"/"+p.value))||z},!1):g.reduce(function(z,p){return!!(E===p.value||p.children&&x.childSelectedRecursive(p.children,x.props.value))||z},!1)},f.prototype.handleToggleClick=function(g){g.preventDefault();this.props.onToggleClick(this.props.prependValue?
""+this.props.prependValue+this.props.value:this.props.value,this.props.name)},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=835)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,
c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?
a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=
1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&
k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,
"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<
c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(v,w){v.exports=V},339:function(v,w,t){t.d(w,"a",function(){return l});var l=function(f){return function(g){13===g.keyCode&&f(g)}}},525:function(v,w){v.exports=L},835:function(v,w,t){t.r(w);var l=t(0),f=t(525);v=t(18);var g=t(339);t=function(h){function x(u){var E=h.call(this,u)||this;return E.handleDropdownKeyDown=Object(g.a)(E.handleDropdownClick.bind(E)),
E.state={active:!!u.startActive},E.handleDropdownClick=E.handleDropdownClick.bind(E),E.handleClear=E.handleClear.bind(E),E}return Object(l.d)(x,h),x.prototype.render=function(u){var E={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},z={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},p=null;return this.props.clearable&&(p=u("button",{"class":"drp-accordion__clear-btn",onclick:this.handleClear},f.clear)),u("div",{key:this.props.key,
classes:{"drp-accordion__section":!0},role:"tablist"},u("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":""+this.state.active},u("div",{"class":"drp-accordion__wrapper"},u("span",{classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32",
role:"img"},u("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),u("span",null,this.props.title)),p),this.state.active?u("div",{classes:E},this.props.children):null)},x.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},x.prototype.handleClear=function(u){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";u.stopPropagation();this.props.onClear()},x}(v.Component);w["default"]=t}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=829)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=
typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}
function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;
n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;
c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&
a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=V},829:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(){return null!==
l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.render=function(g){var h=this.props,x=h.active,u=h.label,E=h.labelDirection,z=h.key,p=h.ariaControls;return g("button",Object(t.a)({id:z,key:z+"-container",classes:{"btn-icon__button":!0,"btn-icon__button--center":h.center,"btn-icon__button--tooltip":u,"btn-icon__button--tooltip-left":"left"===E,"btn-icon__button--tooltip-right":"right"===E,"btn-icon__button--tooltip-top":"top"===E,"btn-icon__button--active":x},"aria-label":u,onmousedown:this.preventFocus,
onclick:this.props.handleClick,tabindex:this.props.tabindex?""+this.props.tabindex:"0"},p?{"aria-controls":p,"aria-expanded":x?"true":"false"}:{"aria-checked":x},{title:h.title}),this.props.children)},f.prototype.preventFocus=function(g){g.preventDefault()},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/Modals/Overlay":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,
l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),
2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=874)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=
null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}
function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-
1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==
typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,
c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=V},312:function(L,v,w){function t(g){return f[g.vnodeSelector]&&(!g.properties||!g.properties.disabled&&-1!==g.properties.tabindex)||g.properties&&g.properties.tabindex&&-1<parseInt(g.properties.tabindex,10)}var l=
w(0),f={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};L=function(g){function h(x){x=g.call(this,x)||this;return x.registerFirstFocusable=x.registerFirstFocusable.bind(x),x.registerLastFocusable=x.registerLastFocusable.bind(x),x.handleFocusChange=x.handleFocusChange.bind(x),x}return Object(l.d)(h,g),h.prototype.render=function(){var x=this.findFirstFocusable(this.props.children),u=this.findLastFocusable(this.props.children);return x&&u&&(x.properties?x.properties.afterCreate=this.registerFirstFocusable:
x.properties={afterCreate:this.registerFirstFocusable},u.properties?u.properties.afterCreate=this.registerLastFocusable:u.properties={afterCreate:this.registerLastFocusable}),this.props.children},h.prototype.findFirstFocusable=function(x){if(x)for(var u=0;u<x.length;u++){var E=x[u];if(t(E)||E.children&&(E=this.findFirstFocusable(E.children)))return E}},h.prototype.findLastFocusable=function(x){if(x)for(var u=x.length-1;0<=u;u--){var E=x[u];if(t(E)||E.children&&(E=this.findLastFocusable(E.children)))return E}},
h.prototype.registerFirstFocusable=function(x){this.firstFocusableElement&&this.firstFocusableElement!==x&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);x.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=x;setTimeout(function(){x&&x.focus()},10)},h.prototype.registerLastFocusable=function(x){this.lastFocusableElement&&this.lastFocusableElement!==x&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=
x;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},h.prototype.handleFocusChange=function(x){"Tab"!==x.key&&9!==x.keyCode||(x.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),x.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),x.preventDefault()))},h}(w(16).Component);v.a=L},874:function(L,v,w){w.r(v);var t=w(0);
L=w(16);var l=w(312);w=function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Object(t.d)(g,f),g.prototype.componentWillReceiveProps=function(h){!1!==this.props.scrollable&&!1===h.scrollable&&(h=document.getElementsByClassName("mod__overlay-container"),h[0]&&(h[0].scrollTop=0))},g.prototype.render=function(h){return h(l.a,{key:"overlay-focus-trap"},h("div",{classes:{"mod__overlay-container":!0,"mod__overlay-container--adjustable":this.props.adjustable,"mod__overlay-container--closing":this.props.closing,
"mod__overlay-container--no-scroll":!1===this.props.scrollable,"mod__overlay-container--slide-left":"left"===this.props.slide,"mod__overlay-container--slide-right":"right"===this.props.slide,"mod__overlay-container--size-small":"small"===this.props.size||"large"===this.props.size,"mod__overlay-container--size-large":"large"===this.props.size,"mod__overlay-container--flex":this.props.flex},key:this.props.key},this.props.children))},g}(L.Component);v["default"]=w}})})},"arcgis-components/Dropdowns/TextOptionDropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&
f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=840)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=
p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&
(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}
function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};
case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},367:function(v,w){v.exports=L},840:function(v,
w,t){t.r(w);var l=t(0);v=t(16);var f=t(367),g=t.n(f);t=function(h){function x(u){u=h.call(this,u)||this;return u.state={optionElements:[],numOptions:-1,active:!1},u.navId=u.props.key+"-option-dropdown",u.handleOptionBlur=u.handleOptionBlur.bind(u),u.handleOptionClick=u.handleOptionClick.bind(u),u.mapOptionsToButtons=u.mapOptionsToButtons.bind(u),u.registerOptionElement=u.registerOptionElement.bind(u),u.handleOptionKeyDown=u.handleOptionKeyDown.bind(u),u.handleButtonKeyDown=u.handleButtonKeyDown.bind(u),
u}return Object(l.d)(x,h),x.prototype.render=function(u){var E=this,z={"drp-text-option__menu--left":!this.props.justify||"left"===this.props.justify,"drp-text-option__menu--right":"right"===this.props.justify};if(this.props.children&&this.props.children[0])return u(g.a,{key:this.props.key+"-dropdown-base",handleButtonKeyDown:this.handleButtonKeyDown,active:this.state.active,onToggle:function(){E.setState({active:!E.state.active})}},this.props.children[0],u("nav",{id:this.navId,"class":"drp-text-option__menu",
classes:z,style:"\n                        background-color: white;\n                        z-index: 9999999;\n                        margin: 0px;\n                        display: block;\n                        pointer-events: all;\n                        box-shadow: 0 0 16px 0 rgba(0,0,0,0.2);\n                        border: 0;\n                    ",role:"listbox","aria-activedescendant":this.props.selectedOptionValue+"-option"},this.mapOptionsToButtons(u)))},x.prototype.mapOptionsToButtons=
function(u){var E=this;return this.props.options.map(function(z,p){return u("button",{id:z.value+"-option",classes:{"drp-text-option__link":!0,"drp-text-option__link--active":z.value===E.props.selectedOptionValue},key:z.value,onclick:E.handleOptionClick,onkeydown:E.handleOptionKeyDown,value:z.value,dataIndex:p,afterCreate:E.registerOptionElement,role:"option","aria-selected":""+(z.value===E.props.selectedOptionValue),onblur:E.handleOptionBlur},z.text)})},x.prototype.handleOptionBlur=function(u){var E;
(null===(E=document.querySelector("#"+this.navId))||void 0===E?0:E.contains(u.relatedTarget))||this.setState({active:!1})},x.prototype.handleOptionClick=function(u){this.setState({active:!1});this.props.onSelect(u.target.value)},x.prototype.registerOptionElement=function(u){var E;this.setState({optionElements:Object(l.a)(Object(l.a)({},this.state.optionElements),(E={},E[u.dataIndex]=u,E)),numOptions:this.state.numOptions+1})},x.prototype.handleButtonKeyDown=function(u){u.keyCode&&40===u.keyCode&&
this.state.optionElements[0]&&this.state.optionElements[0].focus()},x.prototype.handleOptionKeyDown=function(u){var E=u.target.dataIndex;switch(u.keyCode){case 40:this.state.optionElements[E+1]?this.state.optionElements[E+1].focus():this.state.optionElements[0]&&this.state.optionElements[0].focus();break;case 38:this.state.optionElements[E-1]?this.state.optionElements[E-1].focus():this.state.optionElements[this.state.numOptions]&&this.state.optionElements[this.state.numOptions].focus()}},x}(v.Component);
w["default"]=t}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=
837)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>
p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}
function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});
w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=
V},837:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(g){g=l.call(this,g)||this;return g.state={active:!1},g.handleBtnClick=g.handleBtnClick.bind(g),g.handleDropdownClick=g.handleDropdownClick.bind(g),g.handleButtonKeyDown=g.handleButtonKeyDown.bind(g),g.registerCloseHandler=g.registerCloseHandler.bind(g),g.close=g.close.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var h=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&
this.props.children[1]){var x=this.props.children[0],u=h?this.props.children[1]:null;h=h?g("div",{key:"open-dropdown-hook",id:this.props.key+"-hook",afterCreate:this.registerCloseHandler,style:"display: none;"}):null;return g("div",{"class":"drp-basic__container",onclick:this.handleDropdownClick},h,g("span",{id:this.props.key,"class":"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},x),u)}},f.prototype.componentWillReceiveProps=
function(g){!0===this.props.active&&!1===g.active&&document.body.removeEventListener("click",this.close)},f.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},f.prototype.handleBtnClick=function(g){g.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},
f.prototype.handleDropdownClick=function(g){g.stopPropagation();this.setState({active:!this.state.active})},f.prototype.handleButtonKeyDown=function(g){13===g.keyCode||32===g.keyCode?(g.preventDefault(),this.handleBtnClick(g)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(g)},f.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/Navigation/TabNav":function(){define(["../Component",
"../Buttons/SvgButton","../Dropdowns/TextOptionDropdown"],function(V,L,v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return w[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},
t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=876)}({0:function(w,t,l){function f(m,
e){function c(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,
a[b])&&(c[a[b]]=m[a[b]])}return c}function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}function n(y){try{q(a["throw"](y))}catch(C){d(C)}}
function q(y){var C;y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=C;break;case 4:return n.label++,{value:C[1],done:!1};
case 5:n.label++;b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,
sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,
e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},16:function(w,t){w.exports=V},206:function(w,t){w.exports=L},310:function(w,
t){w.exports=v},876:function(w,t,l){l.r(t);l.d(t,"slugifySectionName",function(){return u});var f=l(0);w=l(16);var g=l(310),h=l.n(g);g=l(206);var x=l.n(g),u=function(E){return"nav-tabnav-"+E.replace(" ","-").toLowerCase()};l=function(E){function z(p){p=E.call(this,p)||this;return p.optionElements=[],p.handleBtnClick=p.handleBtnClick.bind(p),p.handleMobileClick=p.handleMobileClick.bind(p),p.handleKeyDown=p.handleKeyDown.bind(p),p}return Object(f.d)(z,E),z.prototype.render=function(p){var m=this;if(!(1>=
this.props.options.length)){var e=this.props.options.map(function(a,b){var d=a.value,k=a.text,n=m.props.selectedOptionValue===d;return p("button",{key:d,classes:{"nav-tabnav__btn":!0,"nav-tabnav__btn--active":n},value:d,onclick:m.handleBtnClick,id:u(d),"aria-selected":n.toString(),role:"tab",afterCreate:function(q){q&&(m.optionElements[b]=q)}},k)}),c=this.props.options.filter(function(a){return a.value===m.props.selectedOptionValue})[0].text;return p("nav",{"class":"nav-tabnav__nav",role:"tablist",
"aria-labelledby":"ib__big-header-title",onkeydown:this.handleKeyDown},this.props.dropdownOnly?"":e,p("div",{classes:{"nav-tabnav__mobile-menu":!0,"nav-tabnav__mobile-menu--always-available":this.props.dropdownOnly}},p(h.a,{key:"ib-ex__section-dropdown",options:this.props.options,onSelect:this.handleMobileClick,selectedOptionValue:this.props.selectedOptionValue},p("h3",{key:"search-"+c+"-dropdown",id:"section-dropdown-toggle","class":"nav-tabnav__section-dropdown-title"},p("span",{"class":"nav-tabnav__section-dropdown-text"},
c),p("span",{"class":"btn-svg__button-noevent"},p(x.a,{key:"section-dropdown-button"},p("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 16 16",fill:"#323232"},p("path",{d:"M8 11.207l-4-4V5.793l4 4 4-4v1.414z"}))))))))}},z.prototype.handleBtnClick=function(p){p.target.value!==this.props.selectedOptionValue&&this.props.onSelect(p.target.value)},z.prototype.handleKeyDown=function(p){p=p.keyCode;var m=this.optionElements,e=m.indexOf(document.activeElement);if((39===p||37===p)&&0<=e){var c=m[e+1]||
m[0];m=m[e-1]||m[m.length-1];(p=39===p?c:m)&&p.focus()}},z.prototype.handleMobileClick=function(p){p!==this.props.selectedOptionValue&&this.props.onSelect(p)},z}(w.Component);t["default"]=l}})})},"arcgis-components/Filters/CategoriesFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle"],function(V,L,v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return w[f].call(g.exports,g,g.exports,t),
g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&g&&"string"!=
typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=841)}({0:function(w,t,l){function f(m,e){function c(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):
(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(c[a[b]]=m[a[b]])}return c}function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,c):a;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}function n(y){try{q(a["throw"](y))}catch(C){d(C)}}function q(y){var C;y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");
for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++;b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=
d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=
e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,
c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(w,t){w.exports=L},165:function(w,t){w.exports=v},18:function(w,t){w.exports=V},841:function(w,t,l){l.r(t);var f=l(0);w=l(18);var g=l(131),h=l.n(g);g=l(165);var x=l.n(g);l=function(u){function E(z){z=u.call(this,z)||this;return z.mapCategoriesToToggles=z.mapCategoriesToToggles.bind(z),z.handleToggleClick=z.handleToggleClick.bind(z),
z.handleClearFilter=z.handleClearFilter.bind(z),z}return Object(f.d)(E,u),E.prototype.render=function(z){return z(h.a,{key:this.props.key,title:this.props.title,clearable:!!this.props.categoriesFilter,onClear:this.handleClearFilter,startActive:this.props.startActive},z("ul",{"aria-label":this.props.title,"class":"ftr-categories__tree",role:"tree"},this.mapCategoriesToToggles(z)))},E.prototype.mapCategoriesToToggles=function(z){var p=this;return this.props.availableCategories.map(function(m){return z(x.a,
{count:m.count,key:m.value,name:m.displayName,value:m.value,selectedToggle:p.props.categoriesFilter?p.props.categoriesFilter.value:void 0,childOptions:m.children,onToggleClick:p.handleToggleClick,useFullPathAsValue:!0,prependValue:p.props.prependValue,showTooltip:p.props.showTooltips,tooltip:m.tooltip})})},E.prototype.handleToggleClick=function(z,p){this.props.onCategorySelect({value:z,text:p})},E.prototype.handleClearFilter=function(){this.props.onClearCategories()},E}(w.Component);t["default"]=
l}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component","dojo/i18n!../../Navigation/Pager/nls/resources"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=875)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<
c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}
function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});
t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(v,w){v.exports=
V},343:function(v,w){v.exports=L},875:function(v,w,t){t.r(w);var l=t(0),f=t(343);v=function(g){function h(x){x=g.call(this,x)||this;return x.handleNext=x.handleNext.bind(x),x.handlePrevious=x.handlePrevious.bind(x),x.handlePageBtn=x.handlePageBtn.bind(x),x}return Object(l.d)(h,g),h.prototype.render=function(x){var u=this,E=this.props,z=E.numPages,p=E.currentPage;E=E.paginationLimitReached;var m=Array.apply(null,{length:z}).map(function(a,b){var d=p===b+1;return x("button",{classes:{"nav-pager__btn":!0,
"nav-pager__page-btn--active":d,"nav-pager__page-btn--inactive":!d},id:"page-"+(b+1)+"-button",title:f.page+" "+(b+1),onclick:function(){u.handlePageBtn(b+1)},role:"link",tabindex:"0",key:"page-"+(b+1)+"-button"},""+(b+1))}).reduce(function(a,b,d,k){return 0===d||d===z-1||d===p-1||d===p-2||d===p||1===d&&4===p||d===z-2&&p===z-3||4>=d&&5>p?a.push(b):(d===p-3||d===p+1||5===d&&5>p)&&a.push(x("span",{"class":"nav-pager__dots",key:"dots-"+d},"...")),a},[]),e={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=
p},c={"nav-pager__btn":!0,"nav-pager__btn--disabled":p>=z};return 1<z?x("nav",{"class":"nav-pager__container",key:"pager"},p===z&&E&&x("div",{"class":"nav-pager__limit-container",key:"pagination-limit-container"},x("div",{"class":"nav-pager__limit-inner"},x("p",{"class":"nav-pager__limit-text"},f.paginationLimit))),x("button",{classes:e,id:"previous",title:f.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,tabindex:1>=p?"-1":"0"},f.previous),x("div",{"class":"nav-pager__page-btn-container"},
m),x("button",{classes:c,id:"next",title:f.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:p>=z?"-1":"0"},f.next)):x("span",null)},h.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},h.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},h.prototype.handlePageBtn=function(x){this.props.onPageChange(x)},h}(t(18).Component);w["default"]=v}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component",
"../Buttons/SvgButton"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&
(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=873)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=
p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&
(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}
function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};
case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},206:function(v,w){v.exports=L},312:function(v,
w,t){function l(h){return g[h.vnodeSelector]&&(!h.properties||!h.properties.disabled&&-1!==h.properties.tabindex)||h.properties&&h.properties.tabindex&&-1<parseInt(h.properties.tabindex,10)}var f=t(0),g={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};v=function(h){function x(u){u=h.call(this,u)||this;return u.registerFirstFocusable=u.registerFirstFocusable.bind(u),u.registerLastFocusable=u.registerLastFocusable.bind(u),u.handleFocusChange=u.handleFocusChange.bind(u),u}return Object(f.d)(x,
h),x.prototype.render=function(){var u=this.findFirstFocusable(this.props.children),E=this.findLastFocusable(this.props.children);return u&&E&&(u.properties?u.properties.afterCreate=this.registerFirstFocusable:u.properties={afterCreate:this.registerFirstFocusable},E.properties?E.properties.afterCreate=this.registerLastFocusable:E.properties={afterCreate:this.registerLastFocusable}),this.props.children},x.prototype.findFirstFocusable=function(u){if(u)for(var E=0;E<u.length;E++){var z=u[E];if(l(z)||
z.children&&(z=this.findFirstFocusable(z.children)))return z}},x.prototype.findLastFocusable=function(u){if(u)for(var E=u.length-1;0<=E;E--){var z=u[E];if(l(z)||z.children&&(z=this.findLastFocusable(z.children)))return z}},x.prototype.registerFirstFocusable=function(u){this.firstFocusableElement&&this.firstFocusableElement!==u&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);u.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=u;setTimeout(function(){u&&
u.focus()},10)},x.prototype.registerLastFocusable=function(u){this.lastFocusableElement&&this.lastFocusableElement!==u&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=u;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},x.prototype.handleFocusChange=function(u){"Tab"!==u.key&&9!==u.keyCode||(u.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
u.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),u.preventDefault()))},x}(t(16).Component);w.a=v},873:function(v,w,t){t.r(w);var l=t(0);v=t(16);var f=t(206),g=t.n(f),h=t(312);t=function(x){function u(E){E=x.call(this,E)||this;return E.state={closing:!1,open:E.props.open},E.handleClose=E.handleClose.bind(E),E}return Object(l.d)(u,x),u.prototype.componentWillReceiveProps=function(E){var z=this;this.props.open===E.open||
this.state.closing||(E.open?(this.setState({open:E.open}),setTimeout(function(){var p=document.getElementById(z.props.key+"close");p&&p.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){z.setState({open:!1,closing:!1})},200)))},u.prototype.render=function(E){return E(h.a,{key:"mobile-wrap-focus-trap"},E("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},E("div",{classes:{"mod__mob-wrap-body":!0,
"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},E("div",{"class":"mod__mob-wrap-header"},E("span",{"class":"mod__mob-wrap-title"},this.props.title),E(g.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},E("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},E("path",{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),
E("div",{"class":"mod__mob-wrap-content"},this.props.children),this.props.footer?E("div",{"class":"mod__mob-wrap-footer"},this.props.footer):null)))},u.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},u}(v.Component);w["default"]=t}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(V,L,v,w,t,l){return function(f){function g(x){if(h[x])return h[x].exports;var u=h[x]={i:x,l:!1,exports:{}};return f[x].call(u.exports,u,u.exports,g),u.l=!0,u.exports}var h={};return g.m=f,g.c=h,g.d=function(x,u,E){g.o(x,u)||Object.defineProperty(x,u,{enumerable:!0,get:E})},g.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},g.t=function(x,u){if((1&u&&(x=g(x)),8&u)||4&
u&&"object"==typeof x&&x&&x.__esModule)return x;var E=Object.create(null);if(g.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:x}),2&u&&"string"!=typeof x)for(var z in x)g.d(E,z,function(p){return x[p]}.bind(null,z));return E},g.n=function(x){var u=x&&x.__esModule?function(){return x["default"]}:function(){return x};return g.d(u,"a",u),u},g.o=function(x,u){return Object.prototype.hasOwnProperty.call(x,u)},g.p="",g(g.s=839)}({0:function(f,g,h){function x(a,b){function d(){this.constructor=
a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}function u(a,b){var d={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(d[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(k=Object.getOwnPropertySymbols(a);n<k.length;n++)0>b.indexOf(k[n])&&Object.prototype.propertyIsEnumerable.call(a,k[n])&&
(d[k[n]]=a[k[n]])}return d}function E(a,b,d,k){var n,q=arguments.length,y=3>q?b:null===k?k=Object.getOwnPropertyDescriptor(b,d):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,b,d,k);else for(var C=a.length-1;0<=C;C--)(n=a[C])&&(y=(3>q?n(y):3<q?n(b,d,y):n(b,d))||y);return 3<q&&y&&Object.defineProperty(b,d,y),y}function z(a,b,d,k){return new (d||(d=Promise))(function(n,q){function y(D){try{B(k.next(D))}catch(F){q(F)}}function C(D){try{B(k["throw"](D))}catch(F){q(F)}}
function B(D){var F;D.done?n(D.value):(F=D.value,F instanceof d?F:new d(function(r){r(F)})).then(y,C)}B((k=k.apply(a,b||[])).next())})}function p(a,b){function d(B){return function(D){return function(F){if(k)throw new TypeError("Generator is already executing.");for(;C;)try{if(k=1,n&&(q=2&F[0]?n["return"]:F[0]?n["throw"]||((q=n["return"])&&q.call(n),0):n.next)&&!(q=q.call(n,F[1])).done)return q;switch(n=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return C.label++,{value:F[1],done:!1};
case 5:C.label++;n=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(q=C.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))C.label=F[1];else if(6===F[0]&&C.label<q[1])C.label=q[1],q=F;else if(q&&C.label<q[2])C.label=q[2],C.ops.push(F);else{q[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(r){F=[6,r],n=0}finally{k=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([B,D])}}var k,n,q,y,C={label:0,
sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function m(a,b){for(var d=0,k=b.length,n=a.length;d<k;d++,n++)a[n]=b[d];return a}h.d(g,"d",function(){return x});h.d(g,"a",function(){return c});h.d(g,"f",function(){return u});h.d(g,"c",function(){return E});h.d(g,"b",function(){return z});h.d(g,"e",function(){return p});h.d(g,"g",function(){return m});var e=function(a,
b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,k){d.__proto__=k}||function(d,k){for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&(d[n]=k[n])})(a,b)},c=function(){return(c=Object.assign||function(a){for(var b,d=1,k=arguments.length;d<k;d++)for(var n in b=arguments[d])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},165:function(f,g){f.exports=L},18:function(f,g){f.exports=V},273:function(f,
g){f.exports=v},299:function(f,g){f.exports=w},348:function(f,g){f.exports=t},368:function(f,g){f.exports=l},839:function(f,g,h){h.r(g);var x=h(0),u=h(299);f=h(18);var E=h(348),z=h.n(E);E=h(165);var p=h.n(E);E=h(273);var m=h.n(E);E=h(368);var e=h.n(E);h=function(c){function a(b){var d=c.call(this,b)||this;return d.handleToggleBlur=function(k){var n,q,y;(null===(n=document.querySelector("#dropdown-sort-menu-container"))||void 0===n?0:n.contains(k.relatedTarget))||null===(y=(q=d.props).handleMenuBlur)||
void 0===y||y.call(q)},d.handleSortClick=d.handleSortClick.bind(d),d.handleFieldChange=d.handleFieldChange.bind(d),d.handleOrderChange=d.handleOrderChange.bind(d),d.handleMobileWrapClose=d.handleMobileWrapClose.bind(d),d}return Object(x.d)(a,c),a.prototype.render=function(b){var d=this,k=[b("div",{"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title"},u.sortBy),this.props.availableFields.map(function(n){return b(p.a,{key:n,name:u[n],value:n,onToggleClick:d.handleFieldChange,
selectedToggle:d.props.field,handleBlur:d.handleToggleBlur})})),"relevance"!==this.props.field?b("div",{key:this.props.field,"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},u.sortDir),b(p.a,{key:"ascending-toggle",name:u.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),b(p.a,{key:"descending-toggle",name:u.descending[this.props.field],value:"desc",
onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[b(z.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
b("span",{"class":"drp-sort__btn-label"},u[this.props.field]))),b(e.a,{key:"sort-mobile-wrap",title:u.sort,open:this.props.active,onClose:this.handleMobileWrapClose},k)]:b(m.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},b(z.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),b("span",{"class":"drp-sort__btn-label"},u[this.props.field]))),b("div",{"class":"drp-sort__menu-container",id:"dropdown-sort-menu-container"},k))},a.prototype.stub=function(){},a.prototype.handleSortClick=function(){var b,d;null===(d=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===d||d.call(b)},a.prototype.handleFieldChange=function(b){var d,k;b===
this.props.field||null!==(k=null===(d=this.props)||void 0===d?void 0:d.onFieldChange)&&void 0!==k&&k.call(d,b)},a.prototype.handleOrderChange=function(b){var d,k;b===this.props.order||null!==(k=null===(d=this.props)||void 0===d?void 0:d.onOrderChange)&&void 0!==k&&k.call(d,b)},a.prototype.handleMobileWrapClose=function(){var b,d;null===(d=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===d||d.call(b)},a}(f.Component);g["default"]=h}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&
f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=836)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=
p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&
(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}
function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};
case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,
m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},367:function(v,w){v.exports=L},836:function(v,
w,t){t.r(w);var l=t(0);v=t(16);var f=t(367),g=t.n(f);t=function(h){function x(u){u=h.call(this,u)||this;return u.state={active:!!u.props.active&&u.props.active,closing:!1},u.handleDrpClick=u.handleDrpClick.bind(u),u}return Object(l.d)(x,h),x.prototype.render=function(u){var E={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&this.props.children[1])return u(g.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,
tabindex:this.props.tabindex},this.props.children[0],u("div",{classes:E},this.props.children[1]))},x.prototype.componentWillReceiveProps=function(u){!1===u.active&&!0===this.props.active&&this.close()},x.prototype.close=function(u){var E=this;this.setState({closing:!0});setTimeout(function(){E.setState({active:!1,closing:!1});E.props.onToggle&&u&&E.props.onToggle()},200)},x.prototype.handleDrpClick=function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&
this.props.onToggle())},x}(v.Component);w["default"]=t}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,
h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,
u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=843)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);
else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=
k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=
c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,
a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},18:function(t,l){t.exports=V},370:function(t,l){t.exports=v},446:function(t,l){t.exports=w},843:function(t,l,f){f.r(l);var g=f(0),h=f(446);t=f(18);var x=f(131),u=f.n(x);x=f(370);var E=f.n(x);f=function(z){function p(m){m=z.call(this,m)||this;return m.handleDateRangeSelect=m.handleDateRangeSelect.bind(m),
m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,z),p.prototype.render=function(m){return m(u.a,{key:"created-filter-accordion",title:h.dateCreated,clearable:!!this.props.dateCreatedFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":h.dateCreated,"class":"ftr-created__tree",role:"tree"},m(E.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0})))},
p.prototype.handleDateRangeSelect=function(m,e){this.props.onDateCreatedSelect(m,e)},p.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},p}(t.Component);l["default"]=f}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(V,L,v,w,t){return function(l){function f(h){if(g[h])return g[h].exports;
var x=g[h]={i:h,l:!1,exports:{}};return l[h].call(x.exports,x,x.exports,f),x.l=!0,x.exports}var g={};return f.m=l,f.c=g,f.d=function(h,x,u){f.o(h,x)||Object.defineProperty(h,x,{enumerable:!0,get:u})},f.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,x){if((1&x&&(h=f(h)),8&x)||4&x&&"object"==typeof h&&h&&h.__esModule)return h;var u=Object.create(null);if(f.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:h}),2&x&&"string"!=typeof h)for(var E in h)f.d(u,E,function(z){return h[z]}.bind(null,E));return u},f.n=function(h){var x=h&&h.__esModule?function(){return h["default"]}:function(){return h};return f.d(x,"a",x),x},f.o=function(h,x){return Object.prototype.hasOwnProperty.call(h,x)},f.p="",f(f.s=833)}({0:function(l,f,g){function h(c,a){function b(){this.constructor=c}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");m(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function x(c,a){var b={},d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&0>a.indexOf(d)&&(b[d]=c[d]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(d=Object.getOwnPropertySymbols(c);k<d.length;k++)0>a.indexOf(d[k])&&Object.prototype.propertyIsEnumerable.call(c,d[k])&&(b[d[k]]=c[d[k]])}return b}function u(c,a,b,d){var k,n=arguments.length,q=3>n?a:null===d?
d=Object.getOwnPropertyDescriptor(a,b):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(c,a,b,d);else for(var y=c.length-1;0<=y;y--)(k=c[y])&&(q=(3>n?k(q):3<n?k(a,b,q):k(a,b))||q);return 3<n&&q&&Object.defineProperty(a,b,q),q}function E(c,a,b,d){return new (b||(b=Promise))(function(k,n){function q(B){try{C(d.next(B))}catch(D){n(D)}}function y(B){try{C(d["throw"](B))}catch(D){n(D)}}function C(B){var D;B.done?k(B.value):(D=B.value,D instanceof b?D:new b(function(F){F(D)})).then(q,
y)}C((d=d.apply(c,a||[])).next())})}function z(c,a){function b(C){return function(B){return function(D){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,k&&(n=2&D[0]?k["return"]:D[0]?k["throw"]||((n=k["return"])&&n.call(k),0):k.next)&&!(n=n.call(k,D[1])).done)return n;switch(k=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;k=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(n=
y.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))y.label=D[1];else if(6===D[0]&&y.label<n[1])y.label=n[1],n=D;else if(n&&y.label<n[2])y.label=n[2],y.ops.push(D);else{n[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(c,y)}catch(F){D=[6,F],k=0}finally{d=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,B])}}var d,k,n,q,y={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function p(c,a){for(var b=0,d=a.length,k=c.length;b<d;b++,k++)c[k]=a[b];return c}g.d(f,"d",function(){return h});g.d(f,"a",function(){return e});g.d(f,"f",function(){return x});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return p});var m=function(c,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=
d}||function(b,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(b[k]=d[k])})(c,a)},e=function(){return(e=Object.assign||function(c){for(var a,b=1,d=arguments.length;b<d;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(c[k]=a[k]);return c}).apply(this,arguments)};Object.create;Object.create},151:function(l,f){l.exports=L},165:function(l,f){l.exports=v},18:function(l,f){l.exports=V},225:function(l,f){l.exports=w},425:function(l,f,g){var h=g(0),x=g(225),u=g(151);
f.a=function(E,z){var p=new Date,m=p.getTime();p.setHours(0,0,0,0);p=p.getTime();switch(E){case "today":return{start:p,end:m,label:x.today};case "yesterday":return{start:p-864E5,end:p,label:x.yesterday};case "last7Days":return{start:m-6048E5,end:m,label:x.last7Days};case "last30Days":return{start:m-2592E6,end:m,label:x.last30Days};case "custom":if(z)return m=u.format(new Date(z.start),{selector:"date",formatLength:"short"}),p=u.format(new Date(z.end),{selector:"date",formatLength:"short"}),Object(h.a)(Object(h.a)({},
z),{label:m+"\u2014"+p})}}},442:function(l,f){l.exports=t},523:function(l,f,g){var h=g(0);l=g(18);var x=g(165),u=g.n(x);g=function(E){function z(p){return E.call(this,p)||this}return Object(h.d)(z,E),z.prototype.render=function(p){var m=this;return this.props.options.map(function(e){return p(u.a,{key:e.value,name:e.displayName,value:e.value,selectedToggle:m.props.selectedOption,childOptions:e.childOptions,onToggleClick:m.props.handleOptionClick})})},z}(l.Component);f.a=g},833:function(l,f,g){g.r(f);
var h=g(0),x=g(225);l=g(18);var u=g(442),E=g.n(u),z=g(523),p=g(425);g=function(m){function e(c){var a=m.call(this,c)||this;return a.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===c.selectedOption&&c.range?new Date(c.range.start):void 0,customEnd:"custom"===c.selectedOption&&c.range?new Date(c.range.end):void 0,customRange:"custom"===c.selectedOption&&c.range?c.range:void 0,options:[{value:"today",displayName:x.today},{value:"yesterday",displayName:x.yesterday},
{value:"last7Days",displayName:x.last7Days},{value:"last30Days",displayName:x.last30Days},{value:"custom",displayName:x.custom}]},a.handleFromDateChange=a.handleFromDateChange.bind(a),a.handleToDateChange=a.handleToDateChange.bind(a),a.handleOptionClick=a.handleOptionClick.bind(a),a}return Object(h.d)(e,m),e.prototype.render=function(c){var a,b={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},
d=new Date;if(this.props.preventFutureDate){var k=this.state.customEnd;(!k||k>d)&&(k=d);k={max:k}}else this.state.customEnd&&(k={max:this.state.customEnd});return(this.state.customStart||this.props.preventFutureDate)&&(a=Object(h.a)(Object(h.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:d})),c("div",null,c(z.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),
c("div",{classes:b},c("label",{"aria-label":x.from},x.from,c("div",{"class":"date-selector__pick-wrapper"},c(E.a,{key:"from-picker-"+this.state.uid,onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:k}))),c("label",{"aria-label":x.to},x.to,c("div",{"class":"date-selector__pick-wrapper"},c(E.a,{key:"to-picker-"+this.state.uid,onDateChange:this.handleToDateChange,value:this.state.customEnd,constraints:a})))))},e.prototype.handleFromDateChange=function(c){this.state.customEnd?
(this.setState({customStart:c,customRange:{start:c.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(p.a)("custom",this.state.customRange))):this.setState({customStart:c})},e.prototype.handleToDateChange=function(c){this.state.customStart?(this.setState({customEnd:c,customRange:{start:this.state.customStart.getTime(),end:c.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(p.a)("custom",this.state.customRange))):this.setState({customEnd:c})},
e.prototype.handleOptionClick=function(c){this.props.selectedOption===c?this.props.onDateRangeSelect():this.props.onDateRangeSelect(c,Object(p.a)(c,this.state.customRange))},e}(l.Component);f["default"]=g}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=
v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,
h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=834)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e=
{},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);
else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");
for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=
b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=
m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,
e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},524:function(v,w){v.exports=L},834:function(v,w,t){t.r(w);var l=t(0);v=t(16);var f=t(524),g=t.n(f);t=function(h){function x(u){u=h.call(this,u)||this;return u.processDijit=u.processDijit.bind(u),u.createDijit=u.createDijit.bind(u),u.handleDateChange=u.handleDateChange.bind(u),u}return Object(l.d)(x,
h),x.prototype.render=function(u){return u("div",{key:this.props.key,id:this.props.key,"class":"margin-right-1",afterCreate:this.processDijit})},x.prototype.componentWillReceiveProps=function(u){u.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(l.a)({},u.constraints))},x.prototype.processDijit=function(u){this.state.dijit&&this.state.dijit.destroy();u=this.createDijit(u);u.on("change",this.handleDateChange);this.setState({dijit:u})},
x.prototype.createDijit=function(u){return new g.a({value:this.props.value,constraints:Object(l.a)({},this.props.constraints)},u)},x.prototype.handleDateChange=function(u){this.props.onDateChange(u)},x}(v.Component);w["default"]=t}})})},"arcgis-components/Badges/Retired":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,
f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,
h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=824)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},824:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){var x=g.isRetiredStoryMap?l.tooltips.retiredStoryMap:l.tooltips.retiredApp;return h(f.a,{backgroundColor:"#efe397",
textColor:"#786d1c",key:"retired-badge",size:g.size,text:l.retired,title:x,tooltip:g.tooltip?x:void 0,tooltipDirection:g.tooltipDirection},h("path",{fill:"#786d1c",d:"M14.78 14.645L8.255 1.52a.938.938 0 0 0-.84-.52.938.938 0 0 0-.84.522L.092 14.647A.938.938 0 0 0 .932 16h13.009a.937.937 0 0 0 .838-1.355zm-.724.49a.137.137 0 0 1-.115.065H.933a.137.137 0 0 1-.116-.063.139.139 0 0 1-.008-.135L7.293 1.876a.14.14 0 0 1 .123-.076.138.138 0 0 1 .125.077l6.521 13.124a.138.138 0 0 1-.006.135zM7.495 11.5a.988.988 0 0 1 1 .976v.048a1 1 0 0 1-2 0v-.048a.988.988 0 0 1 1-.976zM7.018 6h.977v4h-.977z"}))}}})})},
"arcgis-components/Badges/Badge":function(){define(function(){return function(V){function L(w){if(v[w])return v[w].exports;var t=v[w]={i:w,l:!1,exports:{}};return V[w].call(t.exports,t,t.exports,L),t.l=!0,t.exports}var v={};return L.m=V,L.c=v,L.d=function(w,t,l){L.o(w,t)||Object.defineProperty(w,t,{enumerable:!0,get:l})},L.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},L.t=
function(w,t){if((1&t&&(w=L(w)),8&t)||4&t&&"object"==typeof w&&w&&w.__esModule)return w;var l=Object.create(null);if(L.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:w}),2&t&&"string"!=typeof w)for(var f in w)L.d(l,f,function(g){return w[g]}.bind(null,f));return l},L.n=function(w){var t=w&&w.__esModule?function(){return w["default"]}:function(){return w};return L.d(t,"a",t),t},L.o=function(w,t){return Object.prototype.hasOwnProperty.call(w,t)},L.p="",L(L.s=813)}({813:function(V,L,v){v.r(L);
L["default"]=function(w,t){var l=w.key,f=w.size,g=w.text,h=w.title,x=w.tooltip,u=w.tooltipDirection,E=w.backgroundColor,z=w.textColor,p=w.children;u={"qual-badge__container":!0,"qual-badge__container--small":"small"===f,"qual-badge__container--tooltip":x,"qual-badge__container--tooltip-left":"left"===u,"qual-badge__container--tooltip-top":"top"===u,"qual-badge__container--tooltip-right":"right"===u,"tooltip-bottom":!u||"bottom"===u,"tooltip-left":"left"===u,"tooltip-top":"top"===u,"tooltip-right":"right"===
u};return"small"===f?t("span",{key:l+"-small",classes:u,"class":"qual-badge__container--small","aria-label":x,style:"background-color: "+E+"; color: "+z+";",title:x?void 0:h},p):t("span",{key:l+"-regular",classes:u,"class":"qual-badge__container--regular","aria-label":x,style:"background-color: "+E+"; color: "+z+";",title:h},t("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 16 16"},p),t("span",{"class":"qual-badge__text"},g))}}})})},"arcgis-components/Filters/MapAreaFilter":function(){define(["../Buttons/ToggleSwitch"],
function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=852)}({528:function(L,v){L.exports=V},852:function(L,v,w){w.r(v);L=w(528);var t=
w.n(L);v["default"]=function(l,f){return f(t.a,{key:"map-area-filter",label:l.text,handleToggleClick:l.handleMapAreaToggle,handleKeyUp:l.handleMapAreaKeyUp,value:l.searchMapArea})}}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,
l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=832)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,
e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?
c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=
1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&
d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,
"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<
e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=V},832:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.render=function(g){var h=this.props,x=h.handleToggleClick,u=h.handleKeyUp,E=h.value,z=h.id;return g("label",{"class":"btn-toggle-switch__toggle",key:z||"toggle-switch"},g("span",
{"class":"btn-toggle-switch__label"},h.label),g("input",{id:z+"-input",type:"checkbox","class":"btn-toggle-switch__input",onchange:x,onkeyup:u,checked:E}),g("span",{id:z+"-switch","class":"btn-toggle-switch__switch"}))},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/Filters/ItemTypeFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/ItemTypeFilter/nls/resources"],function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;
var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),
Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=846)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+
" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?
b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,
q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=
q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),
"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},165:function(t,l){t.exports=v},18:function(t,l){t.exports=V},180:function(t,l,f){function g(b,d){return p("children","value",b,d)}function h(b,
d){return m("children","value",b,d)}function x(b,d){return function B(n,q,y,C){var D,F=y[n];return F&&0!==F.length?Object(a.a)(Object(a.a)({},y),((D={})[n]=F.reduce(function(r,A){return-1!==C.indexOf(A[q])&&r.push(B(n,q,A,C)),r},[]),D)):Object(a.a)({},y)}("children","value",b,d)}function u(b){return function(d,k){var n,q=k[d];return q?Object(a.a)(Object(a.a)({},k),((n={})[d]=function B(C){return 0===C.length?[]:1!==C.length||C[0][d]?1<C.length?C.reduce(function(D,F){var r;return F[d]?(D.push(Object(a.a)(Object(a.a)({},
F),((r={})[d]=B(F[d]),r))),D):(D.push(F),D)},[]):B(C[0][d]):C}(q),n)):k}("children",b)}function E(b,d){return e("children",b,d)}function z(b,d){return function C(n,q,y){var B=q[n];B&&B.forEach(function(D){return C(n,D,y)});y(q)}("children",b,d)}function p(b,d,k,n){var q=k[b];return k[d]===n?k:q?q.reduce(function(y,C){return y||p(b,d,C,n)},void 0):void 0}function m(b,d,k,n){if(k=k[b])return k.reduce(function(q,y){return y[d]===n[0]?1===n.length?y:m(b,d,y,n.slice(1)):q},void 0)}function e(b,d,k){var n;
return k(Object(a.a)(Object(a.a)({},d),((n={})[b]=d[b]?d[b].map(function(q){return e(b,q,k)}):void 0,n)))}function c(b,d,k){return e(b,k,function(n){var q=n[d];if(delete n[d],n[b]){var y=n[b];return delete n[b],Object(a.a)(Object(a.a)({},n),{value:q,children:y})}return Object(a.a)(Object(a.a)({},n),{value:q})})}f.d(l,"f",function(){return g});f.d(l,"d",function(){return h});f.d(l,"i",function(){return x});f.d(l,"e",function(){return u});f.d(l,"h",function(){return E});f.d(l,"g",function(){return z});
f.d(l,"a",function(){return p});f.d(l,"b",function(){return m});f.d(l,"c",function(){return c});var a=f(0)},397:function(t,l){t.exports=w},447:function(t,l,f){t=f(397);l.a=[{value:"maps",displayName:"Maps",children:[{value:"webMaps",displayName:"Web maps"},{value:"mapFiles",displayName:"Map files"}]},{value:"layers",displayName:"Layers",children:[{value:"featureLayers",displayName:"Feature layers"},{value:"tileLayers",displayName:"Tile layers"},{value:"mapImageLayers",displayName:"Map image layers"},
{value:"imageryLayers",displayName:"Imagery layers"},{value:"tiledImageLayers",displayName:"Tiled imagery layers"},{value:"elevationLayers",displayName:"Elevation layers"},{value:"sceneLayers",displayName:"Scene layers"},{value:"tables",displayName:"Tables"},{value:"layerFiles",displayName:"Layer files"},{value:"bigDataFileShares",displayName:"Big data file shares"}]},{value:"scenes",displayName:"Scenes"},{value:"apps",displayName:"Apps",children:[{value:"webApps",displayName:"Web apps"},{value:"experienceApps",
displayName:"Experience Builder"},{value:"instantApps",displayName:"Instant Apps"},{value:"sites",displayName:"Sites"},{value:"pages",displayName:"Pages"},{value:"storyMaps",displayName:"StoryMaps"},{value:"mobileApps",displayName:"Mobile apps"},{value:"desktopApps",displayName:"Desktop apps"}]},{value:"tools",displayName:"Tools",children:[{value:"locators",displayName:"Locators"},{value:"geodatabaseAccess",displayName:"Geodatabase access"},{value:"geometricOperations",displayName:"Geometric operations"},
{value:"geoprocessingTasks",displayName:"Geoprocessing tasks"},{value:"networkAnalysis",displayName:"Network analysis"},{value:"webTools",displayName:t.filters.webTools},{value:"rasterFunctionTemplates",displayName:"Raster function templates"},{value:"deepLearningPackages",displayName:"Deep learning packages"},{value:"analytics",displayName:"Analytics"}]},{value:"files",displayName:"Files",children:[{value:"documents",displayName:"Documents"},{value:"images",displayName:"Images"},{value:"pdfs",displayName:"PDFs"},
{value:"csvs",displayName:"CSVs"},{value:"reports",displayName:"Administrative reports"},{value:"rasterFunctionTemplates",displayName:"Raster function templates"}]},{value:"notebooks",displayName:"Notebooks"},{value:"knowledgeGraphs",displayName:"Knowledge graphs"}]},846:function(t,l,f){f.r(l);var g=f(0),h=f(397);t=f(18);var x=f(131),u=f.n(x);x=f(165);var E=f.n(x),z=f(447),p=f(180);f=function(m){function e(c){var a=m.call(this,c)||this;return a.state={availableFilters:Object(p.e)(Object(p.i)({value:"##itemTypeOptionsRoot",
children:z.a},c.availableItemTypes)).children},a.mapItemTypesToToggles=a.mapItemTypesToToggles.bind(a),a.handleToggleClick=a.handleToggleClick.bind(a),a.handleClearFilter=a.handleClearFilter.bind(a),a}return Object(g.d)(e,m),e.prototype.render=function(c){return c(u.a,{key:"item-type-accordion",title:h.itemType,clearable:!!this.props.itemTypeFilter,onClear:this.handleClearFilter},c("ul",{"aria-label":h.itemType,"class":"ftr-item-type__tree",role:"tree"},this.mapItemTypesToToggles(c)))},e.prototype.mapItemTypesToToggles=
function(c){var a=this;return Object(p.e)(Object(p.i)({value:"##itemTypeOptionsRoot",children:z.a},this.props.availableItemTypes)).children.map(function(b){return c(E.a,{key:b.value,name:b.displayName,value:b.value,selectedToggle:a.props.itemTypeFilter?a.props.itemTypeFilter.value:void 0,childOptions:b.children,onToggleClick:a.handleToggleClick})})},e.prototype.handleToggleClick=function(c,a){var b=this.props.itemTypeFilter;b&&b.value===c?this.props.onItemTypeSelect():this.props.onItemTypeSelect({value:c,
text:a})},e.prototype.handleClearFilter=function(){this.props.onItemTypeSelect()},e}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/ModifiedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/ModifiedFilter/nls/resources"],function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),
h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=
typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=847)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):
(a.prototype=c.prototype,new a)}function h(e,c){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=
k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=
c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,
a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},18:function(t,l){t.exports=V},370:function(t,l){t.exports=v},448:function(t,l){t.exports=w},847:function(t,l,f){f.r(l);var g=f(0),h=f(448);t=f(18);var x=f(131),u=f.n(x);x=f(370);var E=f.n(x);f=function(z){function p(m){m=z.call(this,m)||this;return m.handleDateRangeSelect=m.handleDateRangeSelect.bind(m),
m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,z),p.prototype.render=function(m){return m(u.a,{key:"modified-filter-accordion",title:h.dateModified,clearable:!!this.props.dateModifiedFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":h.dateModified,"class":"ftr-modified__tree",role:"tree"},m(E.a,{key:"date-range-selector",selectedOption:this.props.dateModifiedSection,range:this.props.dateModifiedFilter,onDateRangeSelect:this.handleDateRangeSelect})))},p.prototype.handleDateRangeSelect=
function(m,e){this.props.onDateModifiedSelect(m,e)},p.prototype.handleClearFilter=function(){this.props.onDateModifiedSelect()},p}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/SharedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/SharedFilter/nls/resources"],function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,
h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),
2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=848)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=
null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}
function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-
1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==
typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},165:function(t,l){t.exports=v},18:function(t,l){t.exports=V},340:function(t,l){t.exports=w},848:function(t,l,f){f.r(l);var g=f(0),h=f(340);t=f(18);var x=f(131),u=f.n(x);x=f(165);var E=f.n(x);f=function(z){function p(m){m=
z.call(this,m)||this;return m.state={options:[{value:"public",displayName:h.options["public"]},{value:"org",displayName:h.options.org},{value:"shared",displayName:h.options.shared},{value:"private",displayName:h.options["private"]}]},m.mapOptionsToToggles=m.mapOptionsToToggles.bind(m),m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,z),p.prototype.render=function(m){return m(u.a,{key:"shared-accordion",title:h.shared,clearable:!!this.props.sharedFilter,
onClear:this.handleClearFilter},m("ul",{"class":"ftr-shared__tree",role:"tree","aria-label":h.shared},this.mapOptionsToToggles(m)))},p.prototype.mapOptionsToToggles=function(m){var e=this,c=this.state.options;return this.props.hideOrgGroupFilters&&(c=[this.state.options[0],this.state.options[3]]),c.map(function(a){return m(E.a,{count:e.props.counts[a.value],key:a.value,name:a.displayName,value:a.value,selectedToggle:e.props.sharedFilter?e.props.sharedFilter.value:void 0,childOptions:a.childOptions,
onToggleClick:e.handleToggleClick})})},p.prototype.handleToggleClick=function(m,e){var c=this.props.sharedFilter;c&&c.value===m?this.props.onSharedSelect():this.props.onSharedSelect({value:m,text:e})},p.prototype.handleClearFilter=function(){this.props.onSharedSelect()},p}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/StatusFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/StatusFilter/nls/resources"],
function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&
"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=849)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=
e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&
(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}
function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};
case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,
sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,
c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},165:function(t,l){t.exports=v},18:function(t,
l){t.exports=V},407:function(t,l){t.exports=w},849:function(t,l,f){f.r(l);var g=f(0),h=f(407);t=f(18);var x=f(131),u=f.n(x);x=f(165);var E=f.n(x);f=function(z){function p(m){m=z.call(this,m)||this;return m.state={options:[{value:"authoritative",displayName:h.options.authoritative},{value:"deprecated",displayName:h.options.deprecated}]},m.mapOptionsToToggles=m.mapOptionsToToggles.bind(m),m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,
z),p.prototype.render=function(m){return m(u.a,{key:"status-accordion",title:h.status,clearable:!!this.props.statusFilter,onClear:this.handleClearFilter},m("ul",{"aria-label":h.status,"class":"ftr-status__tree",role:"tree"},this.mapOptionsToToggles(m)))},p.prototype.mapOptionsToToggles=function(m){var e=this;return this.state.options.map(function(c){return m(E.a,{key:c.value,name:c.displayName,value:c.value,selectedToggle:e.props.statusFilter?e.props.statusFilter.value:void 0,childOptions:c.childOptions,
onToggleClick:e.handleToggleClick})})},p.prototype.handleToggleClick=function(m,e){var c=this.props.statusFilter;c&&c.value===m?this.props.onStatusSelect():this.props.onStatusSelect({value:m,text:e})},p.prototype.handleClearFilter=function(){this.props.onStatusSelect()},p}(t.Component);l["default"]=f}})})},"arcgis-components/Filters/FolderFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/FolderFilter/nls/resources"],function(V,L,
v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return w[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=844)}({0:function(w,t,l){function f(m,e){function c(){this.constructor=m}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(c[a[b]]=m[a[b]])}return c}
function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}function n(y){try{q(a["throw"](y))}catch(C){d(C)}}function q(y){var C;
y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++;
b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,sent:function(){if(1&
d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(w,t){w.exports=L},18:function(w,t){w.exports=V},339:function(w,t,l){l.d(t,"a",
function(){return f});var f=function(g){return function(h){13===h.keyCode&&g(h)}}},358:function(w,t){w.exports=v},844:function(w,t,l){l.r(t);var f=l(0),g=l(358);w=l(18);var h=l(131),x=l.n(h),u=l(339);l=function(E){function z(p){p=E.call(this,p)||this;return p.handleToggleKeyDown=Object(u.a)(p.handleToggleFilter.bind(p)),p.handleClearKeyDown=Object(u.a)(p.handleClearFilter.bind(p)),p.state={filterString:""},p.handleFilterStringChange=p.handleFilterStringChange.bind(p),p.handleToggleFilter=p.handleToggleFilter.bind(p),
p.handleClearFilter=p.handleClearFilter.bind(p),p.mapFoldersToLinks=p.mapFoldersToLinks.bind(p),p}return Object(f.d)(z,E),z.prototype.render=function(p){return p(x.a,{key:"folder-accordion",title:g.folders,clearable:!!this.props.folderFilter,onClear:this.handleClearFilter,padding:!1},p("div",{"class":"ftr-folder__input-area"},p("input",{"class":"ftr-folder__input",type:"search",placeholder:g.filterFolders,"aria-label":g.filterFolders,oninput:this.handleFilterStringChange,value:this.state.filterString})),
p("ul",{"class":"ftr-folder__list"},this.mapFoldersToLinks(p)))},z.prototype.handleFilterStringChange=function(p){this.setState({filterString:p.target.value})},z.prototype.handleToggleFilter=function(p){var m=p.target.dataset;p=m.id;m=m.title;this.props.folderFilter&&this.props.folderFilter.id===p||this.props.onFolderSelect({id:p,title:m})},z.prototype.handleClearFilter=function(){this.props.folderFilter&&this.props.onFolderSelect()},z.prototype.preventCloseDropdown=function(p){p.stopPropagation()},
z.prototype.mapFoldersToLinks=function(p){var m=this,e={"ftr-folder__link":!0,"ftr-folder__link--active":!this.props.folderFilter};return this.props.availableFolders?[p("li",{"class":"ftr-folder__item",key:"all-user-content"},p("a",{classes:e,"data-id":"all-folder-content","data-title":g.allFolders,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},this.props.folderFilter?p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})):
p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})),g.allFolders))].concat(this.props.availableFolders.filter(function(c){return-1!==c.title.toLowerCase().indexOf(m.state.filterString.toLowerCase())}).map(function(c){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-folder__link--active":m.props.folderFilter&&
m.props.folderFilter.id===c.id,"ftr-folder__link--home":"root"===c.id});return a="root"===c.id?p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z"})):m.props.folderFilter&&m.props.folderFilter.id===c.id?p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})):
p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})),p("li",{"class":"ftr-folder__item",key:c.id},p("a",{classes:b,"data-id":c.id,"data-title":c.title,onclick:m.handleToggleFilter,onkeydown:m.handleToggleKeyDown,tabindex:"0"},a,p("span",{"class":"ftr-folder__title"},c.title)))})):null},z}(w.Component);t["default"]=l}})})},"arcgis-components/Filters/GroupFilter/index":function(){define(["../../Component",
"../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/GroupFilter/nls/resources"],function(V,L,v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return w[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,
"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=
845)}({0:function(w,t,l){function f(m,e){function c(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>
e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(c[a[b]]=m[a[b]])}return c}function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}
function n(y){try{q(a["throw"](y))}catch(C){d(C)}}function q(y){var C;y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=
C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++;b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?
C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});
l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},131:function(w,t){w.exports=
L},18:function(w,t){w.exports=V},339:function(w,t,l){l.d(t,"a",function(){return f});var f=function(g){return function(h){13===h.keyCode&&g(h)}}},359:function(w,t){w.exports=v},845:function(w,t,l){l.r(t);var f=l(0),g=l(359);w=l(18);var h=l(131),x=l.n(h),u=l(339);l=function(E){function z(p){p=E.call(this,p)||this;return p.handleToggleKeyDown=Object(u.a)(p.handleToggleFilter.bind(p)),p.handleClearKeyDown=Object(u.a)(p.handleClearFilter.bind(p)),p.state={filterString:""},p.handleToggleFilter=p.handleToggleFilter.bind(p),
p.handleClearFilter=p.handleClearFilter.bind(p),p.mapGroupsToLinks=p.mapGroupsToLinks.bind(p),p}return Object(f.d)(z,E),z.prototype.render=function(p){var m=this;return p(x.a,{key:"group-accordion",title:this.props.title||g.groups,clearable:!!this.props.groupFilter,onClear:this.handleClearFilter,padding:!1},p("div",{"class":"ftr-group__input-area"},p("input",{"class":"ftr-group__input",type:"search",placeholder:g.filterGroups,"aria-label":g.filterGroups,oninput:function(e){m.setState({filterString:e.target.value})},
value:this.state.filterString})),p("ul",{"class":"ftr-group__list"},this.mapGroupsToLinks(p)))},z.prototype.handleToggleFilter=function(p){var m=p.id;p=p.title;this.props.groupFilter&&this.props.groupFilter.id===m||this.props.onGroupSelect({id:m,title:p})},z.prototype.handleClearFilter=function(){this.props.groupFilter&&this.props.onGroupSelect()},z.prototype.preventCloseDropdown=function(p){p.stopPropagation()},z.prototype.mapGroupsToLinks=function(p){var m=this;if(!this.props.availableGroups)return null;
var e={"ftr-group__link":!0,"ftr-group__link--active":!this.props.groupFilter};return[p("li",{"class":"ftr-group__item",key:"all-user-groups"},p("a",{classes:e,"data-id":"all-group-content","data-title":g.allGroups,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},p("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
p("span",{"class":"ftr-group__link__text"},g.allGroups)))].concat(this.props.availableGroups.filter(function(c){return-1!==c.title.toLowerCase().indexOf(m.state.filterString.toLowerCase())}).map(function(c){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-group__link--active":(null===(a=m.props.groupFilter)||void 0===a?void 0:a.id)===c.id});return p("li",{"class":"ftr-group__item",key:c.id},p("a",{classes:b,onclick:function(){m.handleToggleFilter(c)},onkeydown:m.handleToggleKeyDown,tabindex:"0"},p("svg",
{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},p("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
p("span",{"class":"ftr-group__link__text"},c.title)))}))},z}(w.Component);t["default"]=l}})})},"arcgis-components/Filters/TagsFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/TagsFilter/nls/resources","../../Buttons/CheckToggle"],function(V,L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=
function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,
u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=850)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);
else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");
for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=
k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=
c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,
a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},18:function(t,l){t.exports=V},360:function(t,l){t.exports=v},371:function(t,l){t.exports=w},850:function(t,l,f){f.r(l);var g=f(0),h=f(360);t=f(18);var x=f(131),u=f.n(x);x=f(371);var E=f.n(x);f=function(z){function p(m){m=z.call(this,m)||this;return m.handleFilterStringChange=m.handleFilterStringChange.bind(m),
m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,z),p.prototype.render=function(m){return m(u.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:h.tags,clearable:!!this.props.tagsFilter,onClear:this.handleClearFilter,padding:!1},m("div",{"class":"ftr-tags__input-area"},m("input",{"class":"ftr-tags__input",type:"search",placeholder:h.filterTags,"aria-label":h.filterTags,oninput:this.handleFilterStringChange,
value:this.props.filterString})),m("ul",{"class":"ftr-tags__tree",role:"tree","aria-label":h.tags},0<this.props.availableTags.length?this.mapTagsToToggles(m):m("p",{"class":"ftr-tags__none"},h.noTags)))},p.prototype.mapTagsToToggles=function(m){var e=this;return this.props.availableTags.map(function(c){return m(E.a,{key:c.value,name:c.value,value:c.value,selectedToggles:e.props.tagsFilter?e.props.tagsFilter:void 0,onToggleClick:e.handleToggleClick})})},p.prototype.handleToggleClick=function(m,e){var c,
a=this.props.tagsFilter;if(a&&a[m]){var b=Object(g.a)({},a);delete b[m];0<Object.keys(b).length?this.props.onTagSelect(b):this.props.onTagSelect()}else a?this.props.onTagSelect(Object(g.a)(Object(g.a)({},a),((b={})[m]=!0,b))):this.props.onTagSelect(((c={})[m]=!0,c))},p.prototype.handleFilterStringChange=function(m){m.preventDefault();this.props.onFilterStringChange(m.target.value)},p.prototype.handleClearFilter=function(){this.props.tagsFilter&&this.props.onTagSelect()},p}(t.Component);l["default"]=
f}})})},"arcgis-components/Buttons/CheckToggle":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=
827)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>
p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}
function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});
w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=
V},827:function(L,v,w){function t(g,h,x,u,E){return x?x.map(function(z){return g(f,{key:z.value,name:z.displayName,value:h+"/"+z.value,selectedToggles:E,childOptions:z.children,onToggleClick:u})}):null}w.r(v);var l=w(0),f=function(g){function h(x){x=g.call(this,x)||this;return x.handleToggleClick=x.handleToggleClick.bind(x),x}return Object(l.d)(h,g),h.prototype.render=function(x){var u=this.props,E=u.name,z=u.value,p=u.selectedToggles,m=u.childOptions,e=u.onToggleClick;u=u.showChildren;var c=!(!p||
!p[z]),a={"btn-check-toggle__item":!0,"btn-check-toggle__item--active":c},b={"btn-check-toggle__button":!0,"btn-check-toggle__button--active":c},d=null;return m&&(d=x("ul",{"class":"btn-check-toggle__sub-list"},t(x,z,m,e,p))),x("li",{key:z,classes:a},x("button",{id:"toggle-"+z,key:z,classes:b,value:z,onmousedown:this.preventDefault,onclick:this.handleToggleClick,tabindex:"0"},x("span",{"class":"btn-check-toggle__text",key:"text"},E),this.props.count?x("span",{"class":"btn-check-toggle__count",key:"count"},
"\u00a0","("+this.props.count+")"):null),u||c?d:null)},h.prototype.preventDefault=function(x){x.preventDefault()},h.prototype.handleToggleClick=function(x){x.preventDefault();this.props.onToggleClick(this.props.value,this.props.name)},h}(w(16).Component);v["default"]=f}})})},"arcgis-components/Filters/CollaborationFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/CheckToggle","dojo/i18n!../../Filters/CollaborationFilter/nls/resources"],function(V,
L,v,w){return function(t){function l(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return t[g].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var f={};return l.m=t,l.c=f,l.d=function(g,h,x){l.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:x})},l.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,h){if((1&h&&(g=l(g)),8&h)||4&h&&"object"==typeof g&&
g&&g.__esModule)return g;var x=Object.create(null);if(l.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:g}),2&h&&"string"!=typeof g)for(var u in g)l.d(x,u,function(E){return g[E]}.bind(null,u));return x},l.n=function(g){var h=g&&g.__esModule?function(){return g["default"]}:function(){return g};return l.d(h,"a",h),h},l.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},l.p="",l(l.s=851)}({0:function(t,l,f){function g(e,c){function a(){this.constructor=e}if("function"!=typeof c&&
null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function h(e,c){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>c.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(e);d<b.length;d++)0>c.indexOf(b[d])&&Object.prototype.propertyIsEnumerable.call(e,b[d])&&(a[b[d]]=e[b[d]])}return a}
function x(e,c,a,b){var d,k=arguments.length,n=3>k?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,c,a,b);else for(var q=e.length-1;0<=q;q--)(d=e[q])&&(n=(3>k?d(n):3<k?d(c,a,n):d(c,a))||n);return 3<k&&n&&Object.defineProperty(c,a,n),n}function u(e,c,a,b){return new (a||(a=Promise))(function(d,k){function n(C){try{y(b.next(C))}catch(B){k(B)}}function q(C){try{y(b["throw"](C))}catch(B){k(B)}}function y(C){var B;
C.done?d(C.value):(B=C.value,B instanceof a?B:new a(function(D){D(B)})).then(n,q)}y((b=b.apply(e,c||[])).next())})}function E(e,c){function a(y){return function(C){return function(B){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,d&&(k=2&B[0]?d["return"]:B[0]?d["throw"]||((k=d["return"])&&k.call(d),0):d.next)&&!(k=k.call(d,B[1])).done)return k;switch(d=0,k&&(B=[2&B[0],k.value]),B[0]){case 0:case 1:k=B;break;case 4:return q.label++,{value:B[1],done:!1};case 5:q.label++;
d=B[1];B=[0];continue;case 7:B=q.ops.pop();q.trys.pop();continue;default:if(!(k=q.trys,(k=0<k.length&&k[k.length-1])||6!==B[0]&&2!==B[0])){q=0;continue}if(3===B[0]&&(!k||B[1]>k[0]&&B[1]<k[3]))q.label=B[1];else if(6===B[0]&&q.label<k[1])q.label=k[1],k=B;else if(k&&q.label<k[2])q.label=k[2],q.ops.push(B);else{k[2]&&q.ops.pop();q.trys.pop();continue}}B=c.call(e,q)}catch(D){B=[6,D],d=0}finally{b=k=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,C])}}var b,d,k,n,q={label:0,sent:function(){if(1&
k[0])throw k[1];return k[1]},trys:[],ops:[]};return n={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e,c){for(var a=0,b=c.length,d=e.length;a<b;a++,d++)e[d]=c[a];return e}f.d(l,"d",function(){return g});f.d(l,"a",function(){return m});f.d(l,"f",function(){return h});f.d(l,"c",function(){return x});f.d(l,"b",function(){return u});f.d(l,"e",function(){return E});f.d(l,"g",function(){return z});var p=function(e,c){return(p=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])})(e,c)},m=function(){return(m=Object.assign||function(e){for(var c,a=1,b=arguments.length;a<b;a++)for(var d in c=arguments[a])Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,l){t.exports=L},18:function(t,l){t.exports=V},371:function(t,l){t.exports=
v},427:function(t,l){t.exports=w},851:function(t,l,f){f.r(l);var g=f(0),h=f(427);t=f(18);var x=f(131),u=f.n(x);x=f(371);var E=f.n(x);f=function(z){function p(m){m=z.call(this,m)||this;return m.handleToggleClick=m.handleToggleClick.bind(m),m.handleClearFilter=m.handleClearFilter.bind(m),m}return Object(g.d)(p,z),p.prototype.render=function(m){return m(u.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:h.collaboration,clearable:this.getSelected(),onClear:this.handleClearFilter},
m("ul",{"class":"ftr-collaborations__tree",role:"tree","aria-label":h.collaborations},0<Object.keys(this.props.collaborationsFilter).length?this.mapCollaborationsToToggles(m):m("p",{"class":"ftr-collaborations__none"},h.noCollaborations)))},p.prototype.getSelected=function(){var m=this.props.collaborationsFilter;return Object.keys(this.props.collaborationsFilter).some(function(e){var c;return!!m[e].selected||(null===(c=m[e].participants)||void 0===c?void 0:c.some(function(a){return!!a.selected}))})},
p.prototype.mapCollaborationsToToggles=function(m){var e=this;this.props.collaborationsFilter.sort(function(b,d){return b.label<d.label?-1:b.label>d.label?1:0});var c=this.props.collaborationsFilter,a=Object.keys(this.props.collaborationsFilter).map(function(b){var d,k=((d={})[b]=c[b].selected,d);d=c[b].participants?c[b].participants.map(function(n){var q;return k=Object(g.a)(Object(g.a)({},k),((q={})[b+"/"+n.value]=n.selected,q)),{value:n.value,displayName:n.label,onToggleClick:e.handleToggleClick,
selectedToggles:k}}):[];return m(E.a,{key:c[b].value,name:c[b].label,value:c[b].value,childOptions:d,selectedToggles:k,onToggleClick:e.handleToggleClick,showChildren:!0})});return a.sort(function(b,d){if(b.children[0].children[0].text&&d.children[0].children[0].text){var k=b.children[0].children[0].text.toLowerCase(),n=d.children[0].children[0].text.toLowerCase();if(k<n)return-1;if(k>n)return 1}return 0}),a},p.prototype.handleToggleClick=function(m,e){var c=this.props.collaborationsFilter;if(c){if(c[m])c[m].selected||
Object.keys(c).forEach(function(b){return c[b].selected=!1}),Object.keys(c).forEach(function(b){c[b].participants.forEach(function(d){d.selected=!1})}),c[m].selected=!c[m].selected;else{var a=m.split("/")[1];Object.keys(c).forEach(function(b){c[b].selected=!1;c[b].participants.forEach(function(d){d.value===a?d.selected=!d.selected:d.selected=!1})})}this.props.onCollaborationSelect(c)}},p.prototype.handleFilterStringChange=function(m){},p.prototype.handleClearFilter=function(){if(this.props.collaborationsFilter){var m=
this.props.collaborationsFilter;Object.keys(m).forEach(function(e){m[e].selected=!1;m[e].participants.forEach(function(c){return c.selected=!1})});this.props.onCollaborationSelect(m)}},p}(t.Component);l["default"]=f}})})},"arcgis-components/Dropdowns/FilterController/index":function(){define(["../../Component","../../Buttons/FilterChip/index","dojo/i18n!../../Dropdowns/FilterController/nls/resources"],function(V,L,v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,
exports:{}};return w[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,
"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=838)}({0:function(w,t,l){function f(m,e){function c(){this.constructor=m}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");
z(m,e);m.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(c[a[b]]=m[a[b]])}return c}function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,
c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}function n(y){try{q(a["throw"](y))}catch(C){d(C)}}function q(y){var C;y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,
e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++;b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&
d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},
"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,
a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},18:function(w,t){w.exports=V},426:function(w,t){w.exports=L},443:function(w,t){w.exports=v},838:function(w,t,l){function f(E){E.preventDefault()}l.r(t);var g=l(0),h=l(443);w=l(18);var x=
l(426),u=l.n(x);l=function(E){function z(p){p=E.call(this,p)||this;return p.toggleFilterDisplay=p.toggleFilterDisplay.bind(p),p.state={open:!!p.props.startOpen},p}return Object(g.d)(z,E),z.prototype.render=function(p){var m,e=Object(g.g)([],this.props.filters),c={"filter-controller__expand-btn":!0,"filter-controller__expand-btn--active":this.state.open,"filter-controller__expand-btn--dark":"light"===this.props.theme},a={"filter-controller__container":!0,"filter-controller__container--light":"light"===
this.props.theme},b={"filter-controller__chip-container":!0,"margin-right-half":!0,"filter-controller__chip-container--full-width":"full-width"===this.props.mode},d="light"===this.props.theme?"dark":"light";1<this.props.filters.length&&(m=p("button",{key:"filter-controller-toggle-btn",classes:c,onclick:this.toggleFilterDisplay,onmousedown:f},(this.state.open?"-":"+")+" "+(this.props.filters.length-1)));if(c=e.shift())return this.state.open?p("div",{classes:a},p("span",{"class":"filter-controller__label margin-right-half"},
this.props.showLabel),p("div",{classes:b},p(u.a,{filterId:c.filterId,handleRemoveFilter:c.onRemove,key:c.filterId,text:c.text,theme:d,"static":c["static"]}),e.map(function(k){return p(u.a,{filterId:k.filterId,handleRemoveFilter:k.onRemove,key:k.filterId,text:k.text,theme:d,"static":k["static"]})}),m,this.clearableFilters(Object(g.g)([c],e))?p("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},h.clearAll):null)):p("div",{classes:a},p("span",{"class":"filter-controller__label"},
this.props.showLabel),p("div",{classes:b},p(u.a,{filterId:c.filterId,handleRemoveFilter:c.onRemove,key:c.filterId,text:c.text,theme:d,"static":c["static"]}),m,this.clearableFilters(Object(g.g)([c],e))?p("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},h.clearAll):null))},z.prototype.toggleFilterDisplay=function(){this.setState({open:!this.state.open})},z.prototype.clearableFilters=function(p){return p.some(function(m){return!m["static"]})},z}(w.Component);t["default"]=
l}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=828)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<
c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}
function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});
t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(v,w){v.exports=
V},522:function(v,w){v.exports=L},828:function(v,w,t){t.r(w);var l=t(0),f=t(522);v=function(g){function h(){return null!==g&&g.apply(this,arguments)||this}return Object(l.d)(h,g),h.prototype.render=function(x){var u=this.props,E=u.filterId,z=u.handleRemoveFilter;u=u.text;return x("span",{id:"filter-chip-"+u,classes:{"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme},key:u},u,this.props["static"]?null:x("button",{"aria-label":f.clear+": "+u,value:E,id:"filter-chip-x-"+
u,"class":"btn-ftr-chip__remove",onclick:z},x("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
x("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},h}(t(18).Component);w["default"]=v}})})},"arcgis-components/Management/LazyLoader":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,
l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},v.p="",v(v.s=871)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,
e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?
c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=
1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&
d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,
"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<
e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=V},871:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}return Object(t.d)(f,l),f.prototype.componentDidConnect=function(){var g=this;try{var h=window.require.on("error",function(x){throw Error("Could not lazy-load the '"+g.props.path+"' component. The 'arcgis-components' submodule MUST be registered as 'arcgis-components' in dojoConfig packages in order for lazy component loading to function properly.");
});window.require(["arcgis-components/"+this.props.path],function(x){h.remove();g.setState({Cmp:x["default"]})})}catch(x){this.props.onFail&&this.props.onFail(x)}},f.prototype.render=function(g){return this.state.Cmp?g(this.state.Cmp,Object(t.a)({},this.props.componentProps)):this.props.children&&this.props.children[0]?this.props.children[0]:g("div")},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/ItemCards/AnalysisCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale dojo/number ../../Badges/Retired ../../Loaders/LoaderIcon ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c){return function(a){function b(k){if(d[k])return d[k].exports;var n=d[k]={i:k,l:!1,exports:{}};return a[k].call(n.exports,n,n.exports,b),n.l=!0,n.exports}var d={};return b.m=a,b.c=d,b.d=function(k,n,q){b.o(k,n)||Object.defineProperty(k,n,{enumerable:!0,get:q})},b.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},b.t=function(k,n){if((1&
n&&(k=b(k)),8&n)||4&n&&"object"==typeof k&&k&&k.__esModule)return k;var q=Object.create(null);if(b.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:k}),2&n&&"string"!=typeof k)for(var y in k)b.d(q,y,function(C){return k[C]}.bind(null,y));return q},b.n=function(k){var n=k&&k.__esModule?function(){return k["default"]}:function(){return k};return b.d(n,"a",n),n},b.o=function(k,n){return Object.prototype.hasOwnProperty.call(k,n)},b.p="",b(b.s=862)}({0:function(a,b,d){function k(r,A){function G(){this.constructor=
r}if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");D(r,A);r.prototype=null===A?Object.create(A):(G.prototype=A.prototype,new G)}function n(r,A){var G={},H;for(H in r)Object.prototype.hasOwnProperty.call(r,H)&&0>A.indexOf(H)&&(G[H]=r[H]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(H=Object.getOwnPropertySymbols(r);J<H.length;J++)0>A.indexOf(H[J])&&Object.prototype.propertyIsEnumerable.call(r,H[J])&&
(G[H[J]]=r[H[J]])}return G}function q(r,A,G,H){var J,O=arguments.length,M=3>O?A:null===H?H=Object.getOwnPropertyDescriptor(A,G):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(r,A,G,H);else for(var K=r.length-1;0<=K;K--)(J=r[K])&&(M=(3>O?J(M):3<O?J(A,G,M):J(A,G))||M);return 3<O&&M&&Object.defineProperty(A,G,M),M}function y(r,A,G,H){return new (G||(G=Promise))(function(J,O){function M(Z){try{U(H.next(Z))}catch(ca){O(ca)}}function K(Z){try{U(H["throw"](Z))}catch(ca){O(ca)}}
function U(Z){var ca;Z.done?J(Z.value):(ca=Z.value,ca instanceof G?ca:new G(function(fa){fa(ca)})).then(M,K)}U((H=H.apply(r,A||[])).next())})}function C(r,A){function G(U){return function(Z){return function(ca){if(H)throw new TypeError("Generator is already executing.");for(;K;)try{if(H=1,J&&(O=2&ca[0]?J["return"]:ca[0]?J["throw"]||((O=J["return"])&&O.call(J),0):J.next)&&!(O=O.call(J,ca[1])).done)return O;switch(J=0,O&&(ca=[2&ca[0],O.value]),ca[0]){case 0:case 1:O=ca;break;case 4:return K.label++,
{value:ca[1],done:!1};case 5:K.label++;J=ca[1];ca=[0];continue;case 7:ca=K.ops.pop();K.trys.pop();continue;default:if(!(O=K.trys,(O=0<O.length&&O[O.length-1])||6!==ca[0]&&2!==ca[0])){K=0;continue}if(3===ca[0]&&(!O||ca[1]>O[0]&&ca[1]<O[3]))K.label=ca[1];else if(6===ca[0]&&K.label<O[1])K.label=O[1],O=ca;else if(O&&K.label<O[2])K.label=O[2],K.ops.push(ca);else{O[2]&&K.ops.pop();K.trys.pop();continue}}ca=A.call(r,K)}catch(fa){ca=[6,fa],J=0}finally{H=O=0}if(5&ca[0])throw ca[1];return{value:ca[0]?ca[1]:
void 0,done:!0}}([U,Z])}}var H,J,O,M,K={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return M={next:G(0),"throw":G(1),"return":G(2)},"function"==typeof Symbol&&(M[Symbol.iterator]=function(){return this}),M}function B(r,A){for(var G=0,H=A.length,J=r.length;G<H;G++,J++)r[J]=A[G];return r}d.d(b,"d",function(){return k});d.d(b,"a",function(){return F});d.d(b,"f",function(){return n});d.d(b,"c",function(){return q});d.d(b,"b",function(){return y});d.d(b,"e",function(){return C});
d.d(b,"g",function(){return B});var D=function(r,A){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(G[J]=H[J])})(r,A)},F=function(){return(F=Object.assign||function(r){for(var A,G=1,H=arguments.length;G<H;G++)for(var J in A=arguments[G])Object.prototype.hasOwnProperty.call(A,J)&&(r[J]=A[J]);return r}).apply(this,arguments)};Object.create;Object.create},112:function(a,b){a.exports=
L},117:function(a,b,d){d.d(b,"a",function(){return n});var k=d(0);a=d(15);var n=Object(a.a)(function(q,y){var C=Object(k.a),B=Object(k.a)({},y),D=y.type,F=y.typeKeywords?y.typeKeywords:[],r=null==D?void 0:D.toLowerCase(),A=!1,G=!1,H=D=!1;if("ogcfeatureserver"===r)F="featureshosted";else if(0<(null==r?void 0:r.indexOf("service"))||"feature collection"===r||"kml"===r||"wms"===r||"wmts"===r||"wfs"===r){var J=-1<F.indexOf("Hosted Service");"feature service"===r||"feature collection"===r||"kml"===r||"wfs"===
r?(H=-1<F.indexOf("Table"),A=-1<F.indexOf("Route Layer"),G=-1<F.indexOf("Markup"),F=(D=-1!==F.indexOf("Spatiotemporal"))&&H?"spatiotemporaltable":H?"table":A?"routelayer":G?"markup":D?"spatiotemporal":J?"featureshosted":"features"):"map service"===r||"wms"===r||"wmts"===r?F=J||-1<F.indexOf("Tiled")||"wmts"===r?"maptiles":"mapimages":"scene service"===r?F=-1<F.indexOf("Line")?"sceneweblayerline":-1<F.indexOf("3DObject")?"sceneweblayermultipatch":-1<F.indexOf("Point")?"sceneweblayerpoint":-1<F.indexOf("IntegratedMesh")?
"sceneweblayermesh":-1<F.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<F.indexOf("Polygon")?"sceneweblayerpolygon":-1<F.indexOf("Building")?"sceneweblayerbuilding":-1<F.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===r?(D=-1<F.indexOf("Elevation 3D Layer"),F=-1<F.indexOf("Tiled Imagery"),F=D?"elevationlayer":F?"tiledimagerylayer":"imagery"):F="stream service"===r?"streamlayer":"vector tile service"===r?"vectortile":"datastore catalog service"===r?"datastorecollection":
"geocoding service"===r?"geocodeservice":"geoprocessing service"===r&&-1<F.indexOf("Web Tool")?"tool":"layers"}else F="web map"===r||"cityengine web scene"===r?"maps":"web scene"===r?-1<F.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===r&&-1<(null==F?void 0:F.indexOf("configurableApp"))?"instantapps":"web mapping application"===r||"mobile application"===r||"application"===r||"operation view"===r||"desktop application"===r?"apps":"map document"===r||"map package"===
r||"published map"===r||"scene document"===r||"globe document"===r||"basemap package"===r||"mobile basemap package"===r||"mobile map package"===r||"project package"===r||"project template"===r||"pro map"===r||"layout"===r||"layer"===r&&-1<F.indexOf("ArcGIS Pro")||"explorer map"===r&&-1<F.indexOf("Explorer Document")?"mapsgray":"service definition"===r||"csv"===r||"administrative report"===r||"shapefile"===r||"cad drawing"===r||"geojson"===r||"360 vr experience"===r||"netcdf"===r?"datafiles":"explorer add in"===
r||"desktop add in"===r||"windows viewer add in"===r||"windows viewer configuration"===r?"appsgray":"arcgis pro add in"===r||"arcgis pro configuration"===r?"addindesktop":"rule package"===r||"file geodatabase"===r||"csv collection"===r||"kml collection"===r||"windows mobile package"===r||"map template"===r||"desktop application template"===r||"arcpad package"===r||"code sample"===r||"form"===r||"document link"===r||"vector tile package"===r||"operations dashboard add in"===r||"rules package"===r||
"image"===r||"workflow manager package"===r||"explorer map"===r&&-1<F.indexOf("Explorer Mapping Application")||-1<F.indexOf("Document")?"datafilesgray":"network analysis service"===r||"geoprocessing service"===r||"geodata service"===r||"geometry service"===r||"geoprocessing package"===r||"locator package"===r||"geoprocessing sample"===r||"workflow manager service"===r||"raster function template"===r||"deep learning package"===r?"toolsgray":"layer"===r||"layer package"===r||"explorer layer"===r?"layersgray":
"scene package"===r?"scenepackage":"tile package"===r?"tilepackage":"storymap"===r?"storymap":"storymap theme"===r?"storymaptheme":"web experience"===r?"experiencebuilder":"web experience template"===r?"webexperiencetemplate":"task file"===r?"taskfile":"report template"===r?"report-template":"statistical data collection"===r?"statisticaldatacollection":"insights workbook"===r?"workbook":"insights model"===r?"insightsmodel":"insights page"===r?"insightspage":"hub initiative"===r?"hubinitiative":"hub page"===
r?"hubpage":"hub site application"===r?"hubsite":"relational database connection"===r?"relationaldatabaseconnection":"big data file share"===r||"data store"===r?"datastorecollection":"image collection"===r?"imagecollection":"desktop style"===r?"desktopstyle":"style"===r?"style":"dashboard"===r?"dashboard":"feed"===r?"feed":"real time analytic"===r?"realtimeanalytics":"big data analytic"===r?"bigdataanalytics":"notebook"===r?"notebook":"notebook code snippets"===r?"notebookcodesnippets":"maps";return C(B,
{iconURI:q+"/"+F+"16.png"})})},120:function(a,b,d){d.d(b,"a",function(){return n});var k=d(0);a=d(15);var n=Object(a.a)(function(q,y){var C=Object(k.a),B=Object(k.a)({},y),D,F,r="notebook"!==(null===(D=y.type)||void 0===D?void 0:D.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(F=y.type)||void 0===F?void 0:F.toLowerCase())&&(r="notebook-code-snippet-thumb.png");F=q.baseUrl+"/home/js/arcgisonline/css/images/"+r;D=(y.thumbnail&&(F=q.restUrl+"/content/items/"+
y.id+"/info/"+y.thumbnail+(q.credential?"?token\x3d"+q.credential.token:"")),F);return C(B,{thumbURI:D})})},121:function(a,b,d){d.d(b,"a",function(){return q});var k=d(0);a=d(15);var n=function(y,C){return C.description?C.description.replace(/src=('|")js\/jsapi\/esri\//g,function(B){return"src\x3d"+('"'===B[4]?'"':"'")+y.baseUrl+"/home/js/jsapi/esri/"}):void 0},q=Object(a.a)(function(y,C){return Object(k.a)(Object(k.a)({},C),{patchedDescription:n(y,C)})})},122:function(a,b,d){d.d(b,"a",function(){return y});
var k=d(0),n=d(124);a=d(15);var q=d(58),y=Object(a.a)(function(C,B){var D=Object(k.a),F=Object(k.a)({},B),r,A=B.type,G=B.typeKeywords||[],H=A,J=(null==C?void 0:C.portalUser)||(null==C?void 0:C.user);if("Feature Service"===A||"Feature Collection"===A){if(H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer",J&&Object(q.d)(B,J)&&-1<(null==G?void 0:G.indexOf("Hosted Service")))G=(null===(r=null===document||void 0===document?void 0:document.documentElement)||
void 0===r?void 0:r.lang)||"en",H=H+" ("+(n.a[G]||n.a[G.split("-")[0]]||n.a.en)+")"}else"Image Service"===A?(r=-1<G.indexOf("Elevation 3D Layer"),G=-1<G.indexOf("Tiled Imagery"),H=r?"Elevation Layer":G?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===A?H="Scene Layer":"Scene Package"===A?H="Scene Layer Package":"Stream Service"===A?H="Feature Layer":"Geocoding Service"===A?H="Locator":"Microsoft Powerpoint"===A?H="Microsoft PowerPoint":"OGCFeatureServer"===A?H="OGC Feature Layer":"GeoJson"===
A?H="GeoJSON":"Globe Service"===A?H="Globe Layer":"Vector Tile Service"===A?H="Tile Layer":"netCDF"===A?H="NetCDF":"Map Service"===A?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":A&&-1<A.toLowerCase().indexOf("add in")?H=A.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===A?H="Big Data File Share":"Web Mapping Application"===A&&(null==G?0:G.includes("configurableApp"))?H="Instant App":"Data Store"===A&&(G.includes("cloudStore_amazon")||
G.includes("cloudStore_azure")?H+=" (Cloud)":(G.includes("fileShare")||G.includes("hdfs")||G.includes("hive")||G.includes("bigDataFileShare")&&G.includes("dataStore"))&&(H+=" (Big Data File Share)"));return D(F,{displayName:H})})},123:function(a,b,d){d.d(b,"a",function(){return q});var k=d(0);a=d(15);var n=function(y,C){var B=[],D=y.typeKeywords?y.typeKeywords:[];return y.contentStatus&&("org_authoritative"===y.contentStatus||"public_authoritative"===y.contentStatus?B.push("authoritative"):"deprecated"===
y.contentStatus&&B.push("deprecated")),y.origin&&B.push("collaboration"),y.groupDesignations&&-1<y.groupDesignations.indexOf("livingatlas")&&B.push("livingAtlas"),-1<D.indexOf("Requires Credits")?B.push("premium"):-1<D.indexOf("Requires Subscription")&&B.push("subscriber"),-1<D.indexOf("Public Data Collection")&&((null==C?void 0:C.portalUser)||(null==C?void 0:C.user))&&B.push("publicDataCollection"),"Solution"===y.type&&-1<y.typeKeywords.indexOf("ArcGIS Solution")&&B.push("solution"),C.isPortal&&
"Web Mapping Application"===y.type&&(-1<y.typeKeywords.indexOf("Story Map")&&B.push("retiredStoryMap"),function(F){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(r){var A,
G=-1<r.indexOf(".html");return-1<(null===(A=F.url)||void 0===A?void 0:A.indexOf("/apps/"+r+(G?"":"/")))})}(y)&&B.push("retiredApp")),B},q=Object(a.a)(function(y,C){return Object(k.a)(Object(k.a)({},C),{badges:n(C,y)})})},124:function(a,b,d){d.d(b,"a",function(){return k});var k={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},148:function(a,b,d){d.d(b,"a",function(){return n});var k=d(0);a=d(15);var n=Object(a.a)(function(q,y){var C=Object(k.a),B=Object(k.a)({},y);var D=y.thumbnail?q.restUrl+"/community/users/"+y.username+"/info/"+y.thumbnail+(q.credential?"?token\x3d"+q.credential.token:""):void 0;return C(B,{thumbURI:D})})},15:function(a,b,d){function k(q){return function C(){for(var B=this,D=[],F=0;F<arguments.length;F++)D[F]=
arguments[F];return D.length>=q.length?q.call.apply(q,Object(n.g)([this],D)):function(){for(var r=[],A=0;A<arguments.length;A++)r[A]=arguments[A];return C.call.apply(C,Object(n.g)(Object(n.g)([B],D),r))}}}d.d(b,"a",function(){return k});var n=d(0)},151:function(a,b){a.exports=v},178:function(a,b){a.exports=w},18:function(a,b){a.exports=V},233:function(a,b){a.exports=t},250:function(a,b){a.exports=l},273:function(a,b){a.exports=f},274:function(a,b){a.exports=g},275:function(a,b){a.exports=h},276:function(a,
b){a.exports=x},277:function(a,b){a.exports=u},278:function(a,b){a.exports=E},279:function(a,b){a.exports=z},280:function(a,b){a.exports=p},281:function(a,b){a.exports=m},282:function(a,b){a.exports=e},311:function(a,b){a.exports=c},5:function(a,b,d){function k(r){return 0===Object.keys(r).length&&r.constructor===Object}function n(r){return null!=r}function q(r,A){return D.apply(null,arguments)}function y(r,A){return F.apply(null,arguments)}d.d(b,"b",function(){return k});d.d(b,"a",function(){return n});
d.d(b,"e",function(){return B});d.d(b,"c",function(){return q});d.d(b,"d",function(){return y});var C=d(0);a=d(15);var B=Object(a.a)(function(r,A){var G=Object(C.a)({},A);return delete G[r],G}),D=Object(a.a)(function(r,A){return Object.keys(A).reduce(function(G,H){return G[H]=r(A[H],H,A),G},{})}),F=Object(a.a)(function(r,A){return Object.keys(A).reduce(function(G,H){return r(A[H],H,A)&&(G[H]=A[H]),G},{})})},51:function(a,b,d){function k(fa){return!(!fa.urlKey||!fa.customBaseUrl)}function n(fa){return fa.role===
H.admin||fa.role===H.accountAdmin}function q(fa){return Object(M.a)(fa.roleId)&&0<(fa.roleId||"").length}function y(fa){return!q(fa)||q(fa)&&-1<(fa.privileges||[]).indexOf("portal:admin:viewItems")}function C(fa){return-1<(fa.privileges||[]).indexOf("portal:user:shareToOrg")}function B(fa){return-1<(fa.privileges||[]).indexOf("portal:user:shareToGroup")}function D(fa){return-1<(fa.privileges||[]).indexOf("portal:user:shareToPublic")}function F(fa,ka){return r(fa)||A(fa)||ka.canSharePublic&&G(fa)}
function r(fa){return-1<(fa.privileges||[]).indexOf("portal:admin:shareToGroup")}function A(fa){return-1<(fa.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(fa){return-1<(fa.privileges||[]).indexOf("portal:admin:shareToPublic")}d.d(b,"l",function(){return U});d.d(b,"h",function(){return Z});d.d(b,"m",function(){return ca});d.d(b,"k",function(){return k});d.d(b,"i",function(){return n});d.d(b,"j",function(){return q});d.d(b,"g",function(){return y});d.d(b,"b",function(){return C});d.d(b,
"a",function(){return B});d.d(b,"c",function(){return D});d.d(b,"d",function(){return r});d.d(b,"e",function(){return A});d.d(b,"f",function(){return G});var H,J=d(63),O=d(148),M=d(5),K=d(58);!function(fa){fa.user="org_user";fa.accountUser="account_user";fa.publisher="org_publisher";fa.accountPublisher="account_publisher";fa.admin="org_admin";fa.accountAdmin="account_admin";fa.viewer="iAAAAAAAAAAAAAAA";fa.dataEditor="iBBBBBBBBBBBBBBB"}(H||(H={}));var U=function(fa){var ka=fa.items;return!!fa.user.orgId&&
ka.every(function(ma){return ma.isOrgItem})},Z=function(fa){var ka=fa.items,ma=fa.user,ra=fa.portal;fa=ka[0];var za=Object(K.c)(fa,ma),ia=q(ma),T=F(ma,ra);if(ia=Object(K.a)(fa,ma)&&-1<(ma.privileges||[]).indexOf("portal:admin:updateItems")&&!ia)ia=!k(ra)||B(ma)||C(ma)||ra.canSharePublic&&D(ma)||F(ma,ra);ra=ia;return!(fa.portal.isPortal&&fa.owner!==ma.username&&-1<fa.owner.indexOf("esri_"))&&(za||ra||U({items:ka,user:ma})&&T)},ca=function(fa,ka){return Object(J.a)(Object(O.a)(fa))(ka)}},58:function(a,
b,d){function k(D,F){return(null==D?void 0:D.owner)===F.username}function n(D,F){var r;if(!(r=k(D,F)))if(Object(y.a)(D.isAdmin))r=!!D.isAdmin;else{r=D.owner;var A="admin"===D.itemControl;r=!(D.portal.isPortal&&!k(D,F)&&A&&-1<r.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(r))&&A}return r}function q(D,F){return n(D,F)||"update"===D.itemControl}d.d(b,"d",function(){return k});d.d(b,"c",function(){return n});d.d(b,"a",function(){return q});d.d(b,"b",function(){return B});
var y=d(5),C=d(51),B=function(D){var F=D.user,r=D.items;D=D.portal;return Object(C.l)({items:r,user:F})&&Object(C.h)({items:r,user:F,portal:D})&&Object(C.g)(F)&&r[0].itemOwner||F}},63:function(a,b,d){function k(){for(var n=[],q=0;q<arguments.length;q++)n[q]=arguments[q];return function(y){return n.reduceRight(function(C,B){return B(C)},y)}}d.d(b,"a",function(){return k})},78:function(a,b,d){d.d(b,"a",function(){return D});d.d(b,"b",function(){return F});var k=d(63);a=d(5);var n=d(123),q=d(122),y=
d(117),C=d(121),B=d(120),D=function(r,A,G){return Object(k.a)(Object(B.a)(r),Object(C.a)(r),Object(y.a)(A),Object(q.a)(r),Object(n.a)(r))(G)},F=Object(k.a)(Object(a.e)("patchedDescription"),Object(a.e)("thumbURI"),Object(a.e)("iconURI"),Object(a.e)("displayName"),Object(a.e)("badges"))},862:function(a,b,d){d.r(b);var k=d(0),n=d(112);a=d(18);var q=d(151),y=d(178),C=d(250),B=d.n(C);C=d(274);var D=d.n(C);C=d(275);var F=d.n(C);C=d(276);var r=d.n(C);C=d(277);var A=d.n(C);C=d(278);var G=d.n(C);C=d(279);
var H=d.n(C);C=d(280);var J=d.n(C);C=d(281);var O=d.n(C);C=d(311);var M=d.n(C);C=d(282);var K=d.n(C);C=d(233);var U=d.n(C);C=d(273);var Z=d.n(C),ca=d(78);d=function(fa){function ka(ma){var ra=fa.call(this,ma)||this;return ra.state={customActionsOpen:!1,inversedAction:ma.isSelected&&ma.isSelected(Object(ca.b)(ra.props.item)),isLoading:!1},ra.handleActionDropdownToggle=ra.handleActionDropdownToggle.bind(ra),ra.handleCustomActionClick=ra.handleCustomActionClick.bind(ra),ra.handleMainActionClick=ra["handleMainActionClick"+
(ra.props.loadOnMainAction?"Async":"")].bind(ra),ra}return Object(k.d)(ka,fa),ka.prototype.render=function(ma){var ra,za=this,ia=this.props,T=ia.item;ia=ia.sortField;var la=this.props.customActions?this.props.customActions.filter(function(ba){return ba.allowed(za.props.item)}):[],S={"card-ac__container":!0,"card-ac__container-inverse-action":this.state.inversedAction,"card-mc__fader":this.props.loadOnMainAction,"card-mc__fader--loading":this.state.isLoading},P={"card-ac__custom-actions":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,
"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle},I={"card-ac__custom-action-btn":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle};return ra="numviews"===ia?n.viewCount+": "+y.format(T.numViews):"avgrating"===ia?n.rating+": "+T.avgRating.toFixed(2):"created"===ia?n.created+": "+q.format(new Date(T.created),{selector:"date",formatLength:"short"}):n.updated+": "+q.format(new Date(T.modified),{selector:"date",formatLength:"short"}),
ma("div",{classes:S,key:this.props.key},ma("div",{"class":"card-ac__details-container"},ma("div",{"class":"card-ac__thumb-container"},ma("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-ac__thumbnail",style:"\n                                background-image: url("+T.thumbURI+");\n                            "})),ma("div",{"class":"card-ac__details"},ma("h4",{"class":"card-ac__title"},T.title),ma("div",{"class":"card-ac__info-row"},ma("div",
{"class":"card-ac__icon-title-container"},ma("img",{src:T.iconURI,"class":"content-search-item-icon",alt:""}),ma("span",{"class":"card-ac__author-text"},T.displayName+" "+n.by,ma("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?n.viewOrg:n.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+T.owner,target:"_blank"}," "+(this.props.organization?this.props.organization.name:T.owner)))),
ma("span",{"class":"card-ac__info-bullet","aria-hidden":"true"},"\u2022"),ma("span",{"class":"card-ac__info-string"},ra)),ma("p",{"class":"card-ac__snippet"},ma("span",{"class":"card-ac__snippet-text"},T.snippet," "),ma("a",{"class":"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+T.id,target:"_blank"},n.viewItem,ma("svg",{role:"img",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},ma("path",{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),
ma("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),ma("div",{"class":"card-ac__sub-container"},ma("div",{"class":"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(ma)),ma("div",{"class":"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(ma,!0)),ma("div",{"class":"card-ac__action-container card-ac__sub-group"},ma("div",{"class":"card-ac__no-wrap"},this.renderMainActionButton(ma),0<la.length?ma(Z.a,{key:T.id+
"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},ma("span",{classes:P,title:n.actions},ma("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},ma("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),ma("div",null,la.map(function(ba,W){return ma("button",{key:ba.name,"class":I,value:W,onclick:za.handleCustomActionClick},ba.name)}))):null))))},ka.prototype.renderLoaderIcon=function(ma){return this.props.loadOnMainAction&&this.state.isLoading?
ma(B.a,{color:"#ffffff"}):null},ka.prototype.renderMainActionButton=function(ma){return ma("button",{"class":"card-ac__btn "+(this.props.usePrimaryButtonStyle?"card-ac__primary-btn":"card-ac__secondary-btn"),onclick:this.handleMainActionClick.bind(this,this.state.inversedAction?"Inverse":"")},this.renderLoaderIcon(ma),this.props[this.state.inversedAction?"mainInverseActionTitle":"mainActionTitle"])},ka.prototype.renderBadges=function(ma,ra){var za=this,ia=ra?"small":"regular";return this.props.item.badges.map(function(T){switch(T){case "authoritative":return ma(D.a,
{size:ia,altOrg:za.props.organization?za.props.organization.name:void 0});case "deprecated":return ma(r.a,{size:ia});case "collaboration":return ma(F.a,{size:ia});case "livingAtlas":return ma(A.a,{size:ia});case "marketplace":return ma(G.a,{size:ia});case "openData":return ma(H.a,{size:ia});case "premium":return ma(J.a,{size:ia,user:za.props.portal.user});case "subscriber":return ma(O.a,{size:ia,user:za.props.portal.user});case "solution":return ma(M.a,{size:ia});case "publicDataCollection":return ma(K.a,
{size:ia});case "retiredStoryMap":return ma(U.a,{size:ia,isRetiredStoryMap:!0});case "retiredApp":return ma(U.a,{size:ia})}return null})},ka.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},ka.prototype.handleMainActionClick=function(ma){this.props.mainAction([Object(ca.b)(this.props.item)])},ka.prototype.handleCustomActionClick=function(ma){this.setState({customActionsOpen:!this.state.customActionsOpen});this.props.customActions&&this.props.customActions[ma.target.value]&&
this.props.customActions[ma.target.value].onAction(Object(ca.b)(this.props.item))},ka}(a.Component);b["default"]=d}})})},"arcgis-components/Loaders/LoaderIcon":function(){define(function(){return function(V){function L(w){if(v[w])return v[w].exports;var t=v[w]={i:w,l:!1,exports:{}};return V[w].call(t.exports,t,t.exports,L),t.l=!0,t.exports}var v={};return L.m=V,L.c=v,L.d=function(w,t,l){L.o(w,t)||Object.defineProperty(w,t,{enumerable:!0,get:l})},L.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},L.t=function(w,t){if((1&t&&(w=L(w)),8&t)||4&t&&"object"==typeof w&&w&&w.__esModule)return w;var l=Object.create(null);if(L.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:w}),2&t&&"string"!=typeof w)for(var f in w)L.d(l,f,function(g){return w[g]}.bind(null,f));return l},L.n=function(w){var t=w&&w.__esModule?function(){return w["default"]}:function(){return w};return L.d(t,"a",
t),t},L.o=function(w,t){return Object.prototype.hasOwnProperty.call(w,t)},L.p="",L(L.s=869)}({869:function(V,L,v){v.r(L);L["default"]=function(w,t){return t("div",{key:w.key||"loader-icon","class":"load-icon__icon"},t("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                fill: currentColor;\n                pointer-events: none;\n                display: inline-block;\n                width: 1em;\n                height: 1em;\n                vertical-align: -0.15em;\n                color: "+
(w.color||"#0079c1")+";\n                transition-property: transform;\n                transition-duration: 0.5s;\n                animation-name: rotate;\n                animation-duration: 1s;\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                transform-origin: 50% 50%;\n            "},t("path",{d:"M16 8A8 8 0 1 1 7 .07v.909a7.1 7.1 0 1 0 2 0v-.91A7.996 7.996 0 0 1 16 8z"})))}}})})},"arcgis-components/Badges/Authoritative":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=812)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=
V},812:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){var x=g.altOrg;return h(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"authoritative-badge",size:g.size,text:l.authoritative,title:x?l.tooltips.altAuthoritative+" "+x:l.tooltips.authoritative,tooltip:g.tooltip?l.tooltips.authoritative:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{fill:"none",d:"M0 0h16v16H0z"}),
h("g",{fill:"#2B622B"},h("path",{d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zm0 15a7 7 0 1 1 7-7 7.008 7.008 0 0 1-7 7z"}),h("path",{d:"M11.834 5.146l-5.646 5.647-2.334-2.334a.5.5 0 0 0-.708.707l3.042 3.041 6.353-6.353a.5.5 0 1 0-.707-.707z"}))))}}})})},"arcgis-components/Badges/Collaboration":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,
f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),
2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=815)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},815:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",
key:"collaboration-badge",size:g.size,text:l.collaboration,title:l.tooltips.collaboration,tooltip:g.tooltip?l.tooltips.collaboration:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("g",{fill:"#196FA6"},h("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),h("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),h("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),
h("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),h("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),h("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),h("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
h("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),h("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))))}}})})},"arcgis-components/Badges/Deprecated":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=816)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},816:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#F3DED7",textColor:"#8C2907",key:"deprecated-badge",size:g.size,text:l.deprecated,title:l.tooltips.deprecated,tooltip:g.tooltip?l.tooltips.deprecated:
void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{fill:"none",d:"M0 0h16v16H0z"}),h("path",{fill:"#8C2907",d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zM1 8a6.99 6.99 0 0 1 11.577-5.284l-9.861 9.861A6.964 6.964 0 0 1 1 8zm7 7a6.964 6.964 0 0 1-4.577-1.716l9.861-9.861A6.99 6.99 0 0 1 8 15z"})))}}})})},"arcgis-components/Badges/LivingAtlas":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],
function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==
typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=817)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},817:function(v,
w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"living-atlas-badge",size:g.size,text:l.livingAtlas,title:l.tooltips.livingAtlas,tooltip:g.tooltip?l.tooltips.livingAtlas:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("rect",{width:"16",height:"16",fill:"none"}),h("rect",{width:"16",height:"16",fill:"none"}),h("g",
null,h("path",{d:"M14.75342,4.57031a.50021.50021,0,0,0-.84277-.53906,5.85956,5.85956,0,0,1-1.04541,1.12939A27.86114,27.86114,0,0,1,8.5,8.19922a27.48671,27.48671,0,0,1-4.81445,2.26172,5.9062,5.9062,0,0,1-1.50049.34033.5.5,0,0,0,.022.99951L2.23,11.80029a6.51338,6.51338,0,0,0,1.46027-.30341A5.97993,5.97993,0,0,0,7.5,13.30646V15H5a.5.5,0,0,0,0,1h6a.5.5,0,0,0,0-1H8.5V13.301a5.95318,5.95318,0,0,0,5.25336-7.601A6.38549,6.38549,0,0,0,14.75342,4.57031ZM10.5,11.66357A4.99888,4.99888,0,0,1,4.75793,11.129,30.77175,30.77175,0,0,0,9,9.06543a30.80143,30.80143,0,0,0,3.9082-2.642A5.00026,5.00026,0,0,1,10.5,11.66357Z",
fill:"#196fa6"}),h("path",{d:"M7.06836,2.41943a5.00709,5.00709,0,0,1,4.71045,1.63867.50023.50023,0,1,0,.75684-.6543A6.01019,6.01019,0,0,0,6.88184,1.437a.5.5,0,0,0,.18652.98242Z",fill:"#196fa6"}),h("path",{d:"M2.80176,9.63281a.50023.50023,0,0,0,.47217-.66406A4.98907,4.98907,0,0,1,5.08917,3.29163l.22772.39441a.50008.50008,0,0,0,.86621-.5l-1-1.73193a.50008.50008,0,0,0-.86621.5l.27222.47144A5.988,5.988,0,0,0,2.32959,9.29688.49991.49991,0,0,0,2.80176,9.63281Z",fill:"#196fa6"}))))}}})})},"arcgis-components/Badges/Marketplace":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=818)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=
V},818:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"marketplace-badge",size:g.size,text:l.marketplace,title:l.tooltips.marketplace,tooltip:g.tooltip?l.tooltips.marketplace:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{fill:"#196FA6",d:"M15.939 13L12.832 3h-3.65L8.033 6.68 6.811 3H3.16L.054 13H4.13l.96-3.21L6.192 13h3.594l1.104-3.17.993 3.17h4.056zM3.386 12H1.41l2.486-8h1.881l-2.391 8zm2.196-3.856l.893-2.983 1.048 3.156-.895 2.871-1.046-3.044zM9.075 12H7.422l2.496-8h1.943l-2.786 8zm3.409-6.749L14.583 12h-1.966l-1.176-3.755 1.043-2.994z"})))}}})})},
"arcgis-components/Badges/OpenData":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=819)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},819:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"open-data-badge",size:g.size,text:l.openData,title:l.tooltips.openData,tooltip:g.tooltip?l.tooltips.openData:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{fill:"none",
d:"M0 0h16v16H0z"}),h("g",{fill:"#196fa6"},h("path",{d:"M8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.628 8.628 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2 5 1.056 5 2-2.138 2-5 2zM13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.968 11.968 0 0 0 5 .984.5.5 0 0 0 0-1A10.146 10.146 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5z"}))))}}})})},
"arcgis-components/Badges/Premium":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=820)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},820:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){var x=g.user;x=x?x.orgId?"Org":"Public":"Anon";return h(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"premium-badge",size:g.size,text:l.premium,title:l.tooltips["premium"+x],tooltip:g.tooltip?l.tooltips["premium"+x]:void 0,tooltipDirection:g.tooltipDirection},h("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",
viewBox:"0 0 16 16"},h("path",{fill:"none",d:"M0 0h16v16H0z"}),h("path",{fill:"none",d:"M0 0h16v16H0z"}),h("path",{d:"M8.05 15.5a.497.497 0 0 1-.25-.067C.6 11.275 1.542 2.038 1.552 1.944a.5.5 0 0 1 .259-.382.507.507 0 0 1 .463-.009 5.15 5.15 0 0 0 5.459-.94.5.5 0 0 1 .64.006c1.817 1.54 3.601 1.844 5.457.932a.5.5 0 0 1 .718.394 16.944 16.944 0 0 1-.344 4.965.5.5 0 1 1-.978-.211 16.952 16.952 0 0 0 .367-3.962 5.57 5.57 0 0 1-5.55-1.098A6.178 6.178 0 0 1 2.51 2.706c-.057 2.086.231 8.651 5.79 11.86a.5.5 0 0 1-.25.934z",
fill:"#196fa6"}),h("path",{d:"M12 15.5a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4zm0-7a3 3 0 1 0 3 3 3.003 3.003 0 0 0-3-3z",fill:"#196fa6"})))}}})})},"arcgis-components/Badges/Subscriber":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,
f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=
l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=821)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},821:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){var x=g.user;x=x?x.orgId?"Org":"Public":"Anon";return h(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"subscriber-badge",size:g.size,text:l.subscriber,title:l.tooltips["subscriber"+
x],tooltip:g.tooltip?l.tooltips["subscriber"+x]:void 0,tooltipDirection:g.tooltipDirection},h("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{d:"M8.05371,15.5H8.0498a.49939.49939,0,0,1-.25-.06689C.59961,11.27539,1.542,2.0376,1.55225,1.94434A.49966.49966,0,0,1,1.811,1.56152a.50721.50721,0,0,1,.46338-.0083A5.15007,5.15007,0,0,0,7.73291.61328a.51762.51762,0,0,1,.6377,0,5.14642,5.14642,0,0,0,5.4585.93994.50711.50711,0,0,1,.46338.0083.49966.49966,0,0,1,.25879.38281c.01025.09326.95264,9.33105-6.24756,13.48877A.49939.49939,0,0,1,8.05371,15.5Zm0-.5h0ZM2.50977,2.70557c-.05615,2.05469.22266,8.45508,5.542,11.71387,5.31934-3.25879,5.59814-9.65967,5.542-11.71387a6.17691,6.17691,0,0,1-5.542-1.07324A6.18289,6.18289,0,0,1,2.50977,2.70557Z",
fill:"#196fa6"})))}}})})},"arcgis-components/Badges/PublicDataCollection":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=823)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=V},823:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#efe397",textColor:"#786d1c",key:"public-data-collection-badge",size:g.size,text:l.publicDataCollection,title:l.tooltips.publicDataCollection,tooltip:g.tooltip?l.tooltips.publicDataCollection:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16"},h("path",{fill:"none",d:"M0 0h16v16H0z"}),h("path",{fill:"#786d1c",d:"M15.721 4.007a.965.965 0 0 0-.03-1.385l-1.413-1.414a.965.965 0 0 0-1.385-.03L2.841 11.23l-1.756 4.097a.371.371 0 0 0 .488.487L5.67 14.06l8.607-8.609zM2.624 14.276l.554-1.294.74.74zm2.338-.924L3.55 11.937l8.007-8.008 1.414 1.415zm8.716-8.716l-1.414-1.414 1.09-1.09a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .434z"})))}}})})},"arcgis-components/Badges/Solution":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),
8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=822)}({130:function(v,w){v.exports=L},73:function(v,w){v.exports=
V},822:function(v,w,t){t.r(w);var l=t(73);v=t(130);var f=t.n(v);w["default"]=function(g,h){return h(f.a,{backgroundColor:"#e2deee",textColor:"#312b43",key:"solution-badge",size:g.size,text:l.solution,title:l.tooltips.solution,tooltip:g.tooltip?l.tooltips.solution:void 0,tooltipDirection:g.tooltipDirection},h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},h("path",{fill:"#312b43",d:"M29.963 7.672a1.586 1.586 0 0 0-1.584-1.585h-5.274a.187.187 0 0 1-.188-.187V3.977A2 2 0 0 0 20.825 2h-9.672A2.095 2.095 0 0 0 9.06 4.093V5.9a.187.187 0 0 1-.187.187H3.598a1.586 1.586 0 0 0-1.584 1.585v4.016a.281.281 0 0 0 .281.28H4.9l.014-.013V9.153a.177.177 0 0 1 .177-.177h21.46a.456.456 0 0 1 .449.45v13.742A1.832 1.832 0 0 1 25.168 25h-8.892a.568.568 0 0 1-.534-.373 3.98 3.98 0 0 0-7.6.373H5.657a.757.757 0 0 1-.757-.757v-3.055A.188.188 0 0 0 4.714 21H2.028l-.014.014v4.58a2.35 2.35 0 0 0 2.347 2.346h4.161a3.963 3.963 0 0 0 6.8.256.569.569 0 0 1 .475-.256h12.065a2.102 2.102 0 0 0 2.101-2.101zM21 5.625a.375.375 0 0 1-.375.375h-9.25A.375.375 0 0 1 11 5.625V4.45a.456.456 0 0 1 .45-.45h9.1a.456.456 0 0 1 .45.45zM12 28a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}),
h("path",{"class":"cls-1",d:"M13.273 17.994a.57.57 0 0 1 .479.262A3.73 3.73 0 0 0 17 20a3.74 3.74 0 0 0 3.403-2.006h3.41a.188.188 0 0 0 .187-.188v-2.589a.187.187 0 0 0-.188-.188H20.8A3.8 3.8 0 0 0 17 12a4.058 4.058 0 0 0-3.69 2.647.568.568 0 0 1-.537.383H1.093a.094.094 0 0 0-.093.093V17.9a.094.094 0 0 0 .094.094zM17 13.9a2.1 2.1 0 1 1-2.1 2.1 2.1 2.1 0 0 1 2.1-2.1z"})))}}})})},"arcgis-components/ItemCards/MiniCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../../Badges/Retired ../../Buttons/SvgButton ../../Loaders/LoaderIcon ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution ../../Dropdowns/TextOptionDropdown".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b){return function(d){function k(q){if(n[q])return n[q].exports;var y=n[q]={i:q,l:!1,exports:{}};return d[q].call(y.exports,y,y.exports,k),y.l=!0,y.exports}var n={};return k.m=d,k.c=n,k.d=function(q,y,C){k.o(q,y)||Object.defineProperty(q,y,{enumerable:!0,get:C})},k.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"});Object.defineProperty(q,"__esModule",{value:!0})},k.t=function(q,y){if((1&
y&&(q=k(q)),8&y)||4&y&&"object"==typeof q&&q&&q.__esModule)return q;var C=Object.create(null);if(k.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:q}),2&y&&"string"!=typeof q)for(var B in q)k.d(C,B,function(D){return q[D]}.bind(null,B));return C},k.n=function(q){var y=q&&q.__esModule?function(){return q["default"]}:function(){return q};return k.d(y,"a",y),y},k.o=function(q,y){return Object.prototype.hasOwnProperty.call(q,y)},k.p="",k(k.s=863)}({0:function(d,k,n){function q(G,H){function J(){this.constructor=
G}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");r(G,H);G.prototype=null===H?Object.create(H):(J.prototype=H.prototype,new J)}function y(G,H){var J={},O;for(O in G)Object.prototype.hasOwnProperty.call(G,O)&&0>H.indexOf(O)&&(J[O]=G[O]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(O=Object.getOwnPropertySymbols(G);M<O.length;M++)0>H.indexOf(O[M])&&Object.prototype.propertyIsEnumerable.call(G,O[M])&&
(J[O[M]]=G[O[M]])}return J}function C(G,H,J,O){var M,K=arguments.length,U=3>K?H:null===O?O=Object.getOwnPropertyDescriptor(H,J):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(G,H,J,O);else for(var Z=G.length-1;0<=Z;Z--)(M=G[Z])&&(U=(3>K?M(U):3<K?M(H,J,U):M(H,J))||U);return 3<K&&U&&Object.defineProperty(H,J,U),U}function B(G,H,J,O){return new (J||(J=Promise))(function(M,K){function U(fa){try{ca(O.next(fa))}catch(ka){K(ka)}}function Z(fa){try{ca(O["throw"](fa))}catch(ka){K(ka)}}
function ca(fa){var ka;fa.done?M(fa.value):(ka=fa.value,ka instanceof J?ka:new J(function(ma){ma(ka)})).then(U,Z)}ca((O=O.apply(G,H||[])).next())})}function D(G,H){function J(ca){return function(fa){return function(ka){if(O)throw new TypeError("Generator is already executing.");for(;Z;)try{if(O=1,M&&(K=2&ka[0]?M["return"]:ka[0]?M["throw"]||((K=M["return"])&&K.call(M),0):M.next)&&!(K=K.call(M,ka[1])).done)return K;switch(M=0,K&&(ka=[2&ka[0],K.value]),ka[0]){case 0:case 1:K=ka;break;case 4:return Z.label++,
{value:ka[1],done:!1};case 5:Z.label++;M=ka[1];ka=[0];continue;case 7:ka=Z.ops.pop();Z.trys.pop();continue;default:if(!(K=Z.trys,(K=0<K.length&&K[K.length-1])||6!==ka[0]&&2!==ka[0])){Z=0;continue}if(3===ka[0]&&(!K||ka[1]>K[0]&&ka[1]<K[3]))Z.label=ka[1];else if(6===ka[0]&&Z.label<K[1])Z.label=K[1],K=ka;else if(K&&Z.label<K[2])Z.label=K[2],Z.ops.push(ka);else{K[2]&&Z.ops.pop();Z.trys.pop();continue}}ka=H.call(G,Z)}catch(ma){ka=[6,ma],M=0}finally{O=K=0}if(5&ka[0])throw ka[1];return{value:ka[0]?ka[1]:
void 0,done:!0}}([ca,fa])}}var O,M,K,U,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return U={next:J(0),"throw":J(1),"return":J(2)},"function"==typeof Symbol&&(U[Symbol.iterator]=function(){return this}),U}function F(G,H){for(var J=0,O=H.length,M=G.length;J<O;J++,M++)G[M]=H[J];return G}n.d(k,"d",function(){return q});n.d(k,"a",function(){return A});n.d(k,"f",function(){return y});n.d(k,"c",function(){return C});n.d(k,"b",function(){return B});n.d(k,"e",function(){return D});
n.d(k,"g",function(){return F});var r=function(G,H){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,O){J.__proto__=O}||function(J,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(J[M]=O[M])})(G,H)},A=function(){return(A=Object.assign||function(G){for(var H,J=1,O=arguments.length;J<O;J++)for(var M in H=arguments[J])Object.prototype.hasOwnProperty.call(H,M)&&(G[M]=H[M]);return G}).apply(this,arguments)};Object.create;Object.create},112:function(d,k){d.exports=
L},150:function(d,k){d.exports=v},151:function(d,k){d.exports=w},178:function(d,k){d.exports=t},18:function(d,k){d.exports=V},233:function(d,k){d.exports=l},239:function(d,k){d.exports=f},250:function(d,k){d.exports=g},274:function(d,k){d.exports=h},275:function(d,k){d.exports=x},276:function(d,k){d.exports=u},277:function(d,k){d.exports=E},278:function(d,k){d.exports=z},279:function(d,k){d.exports=p},280:function(d,k){d.exports=m},281:function(d,k){d.exports=e},282:function(d,k){d.exports=c},311:function(d,
k){d.exports=a},378:function(d,k){d.exports=b},600:function(d,k,n){function q(F){F.stopPropagation()}var y=n(0);d=n(18);var C=n(151),B=n(150),D=n(178);n=function(F){function r(){return null!==F&&F.apply(this,arguments)||this}return Object(y.d)(r,F),r.prototype.formatDate=function(A){return""+C.format(new Date(A),{selector:"date",formatLength:"short",locale:B.locale})},r.prototype.render=function(A){var G,H=this.props,J=H.active,O=H.classes,M=(H.handleShowItemDetails,H.item),K=H.iconUrl,U=H.userUrl,
Z=(H.portal,H.sortField);H=H.i18n;return G="numviews"===Z?H.viewCount+": "+D.format(M.numViews):"avgrating"===Z?H.rating+": "+M.avgRating.toFixed(2):"created"===Z?H.created+": "+this.formatDate(M.created):H.updated+": "+this.formatDate(M.modified),A("header",{classes:O},A("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-mc__thumbnail",style:"\n                        background-image: url("+this.props.thumbURI+");\n                    "}),
A("div",{"class":"card-mc__title-container"},A("button",{id:"item-"+M.id+"-card-title","class":"card-mc__title",title:J?H.hideItem:H.viewItem,tabindex:"0"},M.title),A("div",{"class":"card-mc__author-row"},A("img",{src:K,"class":"content-search-item-icon",title:M.displayName}),A("span",{"class":"card-mc__author-text"},H.by,A("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?H.viewOrg:H.viewProfile,href:this.props.organization?this.props.organization.orgUrl:
U,target:"_blank",onclick:q}," "+(this.props.organization?this.props.organization.name:M.owner)))),A("p",{"class":"card-mc__info"},G)))},r}(d.Component);k.a=n},601:function(d,k,n){d=n(378);var q=n.n(d);d=n(239);var y=n.n(d);d=n(250);var C=n.n(d);k.a=function(B,D){var F=B.selected,r=B.handleSelectionClick,A=B.handleIconActionClick,G=B.handleCustomActionClick,H=B.availableMiscActions,J=B.availableIconActions,O=B.loading,M=B.children,K=B.id,U=B.hideEllipses,Z=B.i18n,ca=null;B.disableMainAction||(ca=
O?D(C.a,null):D(y.a,{focusable:!0,handleClick:r,key:K+"-selection-btn",title:F?Z.remove:Z.add},D("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},D("g",{id:"16px",stroke:"none","stroke-width":"1"},D("g",null,D("g",null,D("polygon",F?{points:"3 7 12 7 12 8 3 8"}:{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),D("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));
F=J.map(function(fa){return D(y.a,{focusable:!0,handleClick:A,key:K+"-"+fa.text,title:fa.text,value:fa.value},D("div",{"class":"card-mc__custom-icon-container",innerHTML:fa.icon}))});return D("div",{id:"item-"+K+"-action-row","class":"content-search-item-action-row card-mc__action-row"},M,D("div",{key:"action-container","class":"card-mc__action-container"},D(y.a,{key:K+"-spacer"},D("svg",{height:"16px",width:"0px"})),ca,F,0<H.length&&!U?D(q.a,{key:K+"-actions",options:H,onSelect:G,selectedOptionValue:void 0,
justify:"right"},D(y.a,{focusable:!1,key:K+"-action-btn",title:Z.actions},D("svg",{role:"img",width:"16px",height:"16px",style:"transform: translate(0, -2px);"},D("g",{stroke:"none","stroke-width":"1"},D("g",null,D("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))}},863:function(d,k,n){n.r(k);var q=n(0),y=n(112);d=n(18);var C=n(600),B=n(601),D=n(274),F=n.n(D);D=n(275);var r=n.n(D);D=n(276);var A=n.n(D);D=n(277);var G=n.n(D);D=n(278);var H=
n.n(D);D=n(279);var J=n.n(D);D=n(280);var O=n.n(D);D=n(281);var M=n.n(D);D=n(311);var K=n.n(D);D=n(282);var U=n.n(D);D=n(233);var Z=n.n(D);n=function(ca){function fa(ka){ka=ca.call(this,ka)||this;return ka.handleShowItemDetails=ka.handleShowItemDetails.bind(ka),ka.handleSelectionClick=ka.handleSelectionClick.bind(ka),ka.handleCustomActionClick=ka.handleCustomActionClick.bind(ka),ka.handleIconActionClick=ka.handleIconActionClick.bind(ka),ka}return Object(q.d)(fa,ca),fa.prototype.render=function(ka){var ma=
this,ra=!!this.props.selectedItems[this.props.item.id],za=!!this.props.loadingItems[this.props.item.id],ia=!(!this.props.activeItem||this.props.activeItem.id!==this.props.item.id),T=this.props.customActions.filter(function(S){return S.allowed(ma.props.item)}).map(function(S){return{value:S.name,text:S.name,icon:S.icon}}),la=T.filter(function(S){return S.icon});T=T.filter(function(S){return!S.icon});return ka("section",{key:this.props.item.id,classes:{"card-mc__container":!0,"card-mc__container--selected":ra,
"card-mc__container--active":ia}},ka("div",{classes:{"card-mc__fader":!0,"card-mc__fader--loading":za},onclick:this.handleShowItemDetails},ka(C.a,{active:ia,classes:{"card-mc__header":!0,"card-mc__header--constrained":!!this.props.constrained},handleShowItemDetails:this.handleShowItemDetails,i18n:y,iconUrl:this.props.item.iconURI,item:this.props.item,key:"mini-card-header",portal:this.props.portal,sortField:this.props.sortField,thumbURI:this.props.item.thumbURI,userUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+
this.props.item.owner,organization:this.props.organization}),ka(B.a,{selected:ra,handleSelectionClick:this.handleSelectionClick,loading:za,id:this.props.item.id,i18n:y,availableMiscActions:T,availableIconActions:la,handleIconActionClick:this.handleIconActionClick,handleCustomActionClick:this.handleCustomActionClick,disableMainAction:this.props.disableMainAction,hideEllipses:this.props.hideEllipses},ka("div",{key:"badges"},this.renderBadges(ka)))))},fa.prototype.renderBadges=function(ka){var ma=this;
return this.props.item.badges.map(function(ra){switch(ra){case "authoritative":return ka(F.a,{size:"small",altOrg:ma.props.organization?ma.props.organization.name:void 0});case "deprecated":return ka(A.a,{size:"small"});case "collaboration":return ka(r.a,{size:"small"});case "livingAtlas":return ka(G.a,{size:"small"});case "marketplace":return ka(H.a,{size:"small"});case "openData":return ka(J.a,{size:"small"});case "premium":return ka(O.a,{size:"small",user:ma.props.portal.user});case "subscriber":return ka(M.a,
{size:"small",user:ma.props.portal.user});case "publicDataCollection":return ka(U.a,{size:"small"});case "solution":return ka(K.a,{size:"small"});case "retiredStoryMap":return ka(Z.a,{size:"small",isRetiredStoryMap:!0});case "retiredApp":return ka(Z.a,{size:"small"})}return null})},fa.prototype.handleShowItemDetails=function(ka){this.props.onShowItemDetails(this.props.item)},fa.prototype.handleSelectionClick=function(ka){ka.stopPropagation();this.props.onSelectionClick(this.props.item)},fa.prototype.handleIconActionClick=
function(ka){ka.stopPropagation();ka.target.value&&this.props.onCustomActionClick(ka.target.value,this.props.item)},fa.prototype.handleCustomActionClick=function(ka){this.props.onCustomActionClick(ka,this.props.item)},fa}(d.Component);k["default"]=n}})})},"arcgis-components/ItemCards/MiniCardRow/index":function(){define(["../../Component","dojo/i18n!../../ItemCards/nls/resources","../../Buttons/SvgButton","../../Loaders/LoaderIcon","../../Dropdowns/TextOptionDropdown"],function(V,L,v,w,t){return function(l){function f(h){if(g[h])return g[h].exports;
var x=g[h]={i:h,l:!1,exports:{}};return l[h].call(x.exports,x,x.exports,f),x.l=!0,x.exports}var g={};return f.m=l,f.c=g,f.d=function(h,x,u){f.o(h,x)||Object.defineProperty(h,x,{enumerable:!0,get:u})},f.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,x){if((1&x&&(h=f(h)),8&x)||4&x&&"object"==typeof h&&h&&h.__esModule)return h;var u=Object.create(null);if(f.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:h}),2&x&&"string"!=typeof h)for(var E in h)f.d(u,E,function(z){return h[z]}.bind(null,E));return u},f.n=function(h){var x=h&&h.__esModule?function(){return h["default"]}:function(){return h};return f.d(x,"a",x),x},f.o=function(h,x){return Object.prototype.hasOwnProperty.call(h,x)},f.p="",f(f.s=864)}({0:function(l,f,g){function h(c,a){function b(){this.constructor=c}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");m(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function x(c,a){var b={},d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&0>a.indexOf(d)&&(b[d]=c[d]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(d=Object.getOwnPropertySymbols(c);k<d.length;k++)0>a.indexOf(d[k])&&Object.prototype.propertyIsEnumerable.call(c,d[k])&&(b[d[k]]=c[d[k]])}return b}function u(c,a,b,d){var k,n=arguments.length,q=3>n?a:null===d?
d=Object.getOwnPropertyDescriptor(a,b):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(c,a,b,d);else for(var y=c.length-1;0<=y;y--)(k=c[y])&&(q=(3>n?k(q):3<n?k(a,b,q):k(a,b))||q);return 3<n&&q&&Object.defineProperty(a,b,q),q}function E(c,a,b,d){return new (b||(b=Promise))(function(k,n){function q(B){try{C(d.next(B))}catch(D){n(D)}}function y(B){try{C(d["throw"](B))}catch(D){n(D)}}function C(B){var D;B.done?k(B.value):(D=B.value,D instanceof b?D:new b(function(F){F(D)})).then(q,
y)}C((d=d.apply(c,a||[])).next())})}function z(c,a){function b(C){return function(B){return function(D){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,k&&(n=2&D[0]?k["return"]:D[0]?k["throw"]||((n=k["return"])&&n.call(k),0):k.next)&&!(n=n.call(k,D[1])).done)return n;switch(k=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;k=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(n=
y.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))y.label=D[1];else if(6===D[0]&&y.label<n[1])y.label=n[1],n=D;else if(n&&y.label<n[2])y.label=n[2],y.ops.push(D);else{n[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(c,y)}catch(F){D=[6,F],k=0}finally{d=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,B])}}var d,k,n,q,y={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function p(c,a){for(var b=0,d=a.length,k=c.length;b<d;b++,k++)c[k]=a[b];return c}g.d(f,"d",function(){return h});g.d(f,"a",function(){return e});g.d(f,"f",function(){return x});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return p});var m=function(c,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=
d}||function(b,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(b[k]=d[k])})(c,a)},e=function(){return(e=Object.assign||function(c){for(var a,b=1,d=arguments.length;b<d;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(c[k]=a[k]);return c}).apply(this,arguments)};Object.create;Object.create},112:function(l,f){l.exports=L},18:function(l,f){l.exports=V},239:function(l,f){l.exports=v},250:function(l,f){l.exports=w},378:function(l,f){l.exports=t},864:function(l,
f,g){g.r(f);var h=g(0),x=g(112);l=g(18);var u=g(378),E=g.n(u);u=g(239);var z=g.n(u);u=g(250);var p=g.n(u);g=function(m){function e(c){c=m.call(this,c)||this;return c.handleShowItemDetails=c.handleShowItemDetails.bind(c),c.handleSelectionClick=c.handleSelectionClick.bind(c),c.handleIconActionClick=c.handleIconActionClick.bind(c),c.handleCustomActionClick=c.handleCustomActionClick.bind(c),c}return Object(h.d)(e,m),e.prototype.render=function(c){var a,b=this,d=!!this.props.selectedItems[this.props.item.id],
k=!!this.props.loadingItems[this.props.item.id],n=this.props.activeItem&&this.props.activeItem.id===this.props.item.id,q=this.props.customActions.filter(function(C){return C.allowed(b.props.item)}).map(function(C){return{value:C.name,text:C.name,icon:C.icon}}),y=q.filter(function(C){return!!C.icon});q=q.filter(function(C){return!C.icon});this.props.disableMainAction||(a=k?c(p.a,null):c(z.a,{focusable:!0,handleClick:this.handleSelectionClick,key:this.props.item.id+"-selection-btn",title:d?x.remove:
x.add},c("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},c("g",{stroke:"none","stroke-width":"1"},d?c("g",{id:"minus-circled-1px-16"},c("g",null,c("polygon",{points:"3 7 12 7 12 8 3 8"}),c("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"}))):c("g",{id:"plus-circled-1px-16"},c("g",null,
c("polygon",{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),c("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));k=y.map(function(C){return c(z.a,{focusable:!0,handleClick:b.handleIconActionClick,key:b.props.item.id+"-"+C.text,title:C.text,value:C.value},
c("div",{"class":"card-mcr__custom-icon-container",innerHTML:C.icon}))});return c("div",{key:this.props.item.id,classes:{"card-mcr__container":!0,"card-mcr__container--selected":d,"card-mcr__container--active":n},onclick:this.handleShowItemDetails},c("img",{src:this.props.item.iconURI,"class":"card-mcr__item-icon",title:this.props.item.displayName,alt:""}),c("button",{id:"item-"+this.props.item.id+"-card-title","class":"card-mcr__item-title",title:n?x.hideItem:x.viewItem,tabindex:"0"},this.props.item.title),
c("div",{"class":"card-mcr__spacer"}),c("div",{"class":"card-mcr__action-container"},a,k,0<q.length&&!this.props.hideEllipses?c(E.a,{key:this.props.item.id+"-actions",options:q,onSelect:this.handleCustomActionClick,selectedOptionValue:void 0,justify:"right"},c(z.a,{key:this.props.item.id+"-action-btn",focusable:!1,title:x.actions},c("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},c("g",{stroke:"none","stroke-width":"1"},c("g",{id:"ellipses-1px-16"},
c("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))},e.prototype.handleShowItemDetails=function(c){this.props.onShowItemDetails(this.props.item)},e.prototype.handleSelectionClick=function(c){c.stopPropagation();this.props.onSelectionClick(this.props.item)},e.prototype.handleIconActionClick=function(c){c.stopPropagation();c.target.value&&this.props.onCustomActionClick(c.target.value,this.props.item)},e.prototype.handleCustomActionClick=
function(c){this.props.onCustomActionClick(c,this.props.item)},e}(l.Component);f["default"]=g}})})},"arcgisonline/map/core/sameTilingScheme":function(){define([],function(){return function(V,L){for(var v=!1,w=!1,t=0;t<V.lods.length;t++){var l=V.lods[t].scale;V.dpi!==L.dpi&&(l=V.lods[t].scale/V.dpi);for(var f=0;f<L.lods.length;f++){var g=L.lods[f].scale;V.dpi!==L.dpi&&(g=L.lods[f].scale/L.dpi);if(.01>Math.abs(g-l)/g)if(v){w=!0;break}else v=!0;if(g<l)break}if(w)break}return w||v&&(1===V.lods.length||
1===L.lods.length)?!0:!1}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceSceneLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceSceneLayer.html dojo/i18n!../../../nls/arcgisonline dojo/string ../../utils/dom ../../../sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/map/core/sameSpatialReference arcgisonline/map/layer/getServiceInfo ./ReplaceLayer dojo/Deferred arcgisonline/esriGeowConfig".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=
v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(e,c){this.overlayContents=l["default"].substitute(w["default"],{i18n:this.i18n,icons:this.icons})}m.prototype.initUI=function(){var e,c;this.inherited(arguments);this.layerType=null!==(c=null===(e=this.item.serviceInfo.layers)||
void 0===e?void 0:e[0].layerType)&&void 0!==c?c:this.item.serviceInfo.layerType;this._showPreviewStylesTab=!1;f["default"].hideNodes(this._shownPreviewStylesContent)};m.prototype.createItemBrowser=function(){var e=this;this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:t["default"].replaceLayer.selectReplacementLayer,mainActionTitle:t["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent",
"myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(e.isCacheContent?'typekeywords:"ExtractedCache" -':"")+'typekeywords:"Hosted Service" NOT id:'+e.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}};this.inherited(arguments)};m.prototype.checkLayerCompatibility=function(){var e=this,c=new z["default"];if(this.isTile)this.inherited(arguments).then(function(){c.resolve()},
function(k){e.handleLayerSelectionError(k)});else{var a=this.isCacheContent,b=t["default"].replaceLayer.error,d=!0;u["default"](this._selectedReplacementItem.url,null,function(k){e._selectedReplacementItem.getRelatedItems(a?"DataStore2ByRefService":"Service2Service","reverse").then(function(n){var q;if(null===(q=e.item.serviceInfo.layers)||void 0===q?0:q[0]){q=x["default"](e.item.serviceInfo.layers[0].spatialReference,k.layers[0].spatialReference);var y=e.layerType===k.layers[0].layerType;n=0>=n.length;
a||n?q||y?q?a||y?d=!1:b=t["default"].replaceLayer.replaceSceneLayer.layerTypeError:b=t["default"].replaceLayer.differentCoordinateSystem:b=t["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError:b=t["default"].replaceLayer.replaceSceneLayer.sceneLayerPackageError;d?c.reject(Error(b)):c.resolve()}else c.resolve()})},function(k){e.handleLayerSelectionError(k)})}return c};m.prototype.checkForCompatibleStyles=function(e){e=this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");
f["default"].showNode(this._checkStylesSuccess);f["default"].hideNodes(this._checkStylesWarnings);f["default"].hideNode(this._checkStyles);this._primaryBtn.disabled=!1;e&&this._primaryBtn.focus()};m.prototype.handleHelp=function(){var e;window.open(""+p["default"].self.helpBase+((null===(e=p["default"].self.helpMap)||void 0===e?void 0:e.m["120001916"])||""))};m.prototype.replaceLayer=function(){var e={toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),
replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"};return g["default"].request({url:this.portal.portalUrl+"content/users/"+this.portal.user.username+"/replaceService",content:e},{usePost:!0})};return m=v.__decorate([h["default"](E["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/OverwriteFromCloud":function(){define("require exports tslib esri/Evented dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/Deferred ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dijit/_WidgetsInTemplateMixin dojo/_base/lang esri/lang arcgisonline/pages/portal/cloudProvider/BoxConnect arcgisonline/pages/portal/cloudProvider/DropBoxConnect arcgisonline/pages/portal/cloudProvider/GoogleConnect arcgisonline/pages/portal/cloudProvider/OneDriveConnect ../../../sharing/dijit/dialog/ConfirmDialog ./_CreateItemUtilMixin dojo/text!arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);return function(){function n(){this.templateString=
k["default"]}n.prototype.postMixInProperties=function(){this.inherited(arguments);z["default"].mixin(this,{isBatch:this.items&&1<this.items.length});this.i18n=z["default"].mixin({},u["default"])};n.prototype.startup=function(q,y,C){var B;this.inherited(arguments);this.portal=q;this.cloudProviderInfo=y;this.originalItemToOverwrite=C;this.addItem=null;this.currentCloudProvider="";this.cloudConnect={googleConnect:null,dropBoxConnect:null,oneDriveConnect:null,boxConnect:null,none:null};this.cloudDriveText=
"";this.publishInfo=null;switch(null===(B=this.cloudProviderInfo)||void 0===B?void 0:B.cloudProvider){case "boxConnect":this.currentCloudProvider="boxConnect";this.cloudConnect[this.currentCloudProvider]=new m["default"];this.cloudDriveText="Box";break;case "dropBoxConnect":this.currentCloudProvider="dropBoxConnect";this.cloudConnect[this.currentCloudProvider]=new e["default"];this.cloudDriveText="Dropbox";break;case "oneDriveConnect":this.currentCloudProvider="oneDriveConnect";this.cloudConnect[this.currentCloudProvider]=
new a["default"];this.cloudDriveText="OneDrive";break;case "googleConnect":this.currentCloudProvider="googleConnect";this.cloudConnect[this.currentCloudProvider]=new c["default"];this.cloudDriveText="Google Drive";break;default:this.currentCloudProvider="none",this.cloudDriveText=u["default"].overwriteFromGeoJSON.sourceGeoJSON}return this.initUI()};n.prototype.showModal=function(){var q=this,y=new h["default"],C=u["default"].overwriteFromCloudDlg.overwriteCloudButton+this.cloudDriveText;"none"===
this.currentCloudProvider&&(C=u["default"].updateItemDlg.updateFeatures);this.dlg=new b["default"]({title:u["default"].overwriteFromCloudDlg.originalDialogTitle+this.cloudDriveText,style:{width:"500px",height:"auto"},buttonOkLabel:C});C="";var B=this.cloudProviderInfo.mimeType;switch(B){case "google-apps":case "googlesheets":C=u["default"].overwriteFromCloudDlg.cloudFileTypeGoogleSheets;this.cloudProviderInfo.mimeType="googlesheets";break;case "csv":C=u["default"].overwriteFromCloudDlg.cloudFileTypeCsv;
break;case "excel":case "spreadsheetml":C=u["default"].overwriteFromCloudDlg.cloudFileTypeExcel;break;case "shapeFile":C=u["default"].overwriteFromCloudDlg.cloudFileTypeShapefile;break;case "fgdb":C=u["default"].overwriteFromCloudDlg.cloudFileTypeFgdb;break;case "geojson":C=u["default"].overwriteFromCloudDlg.cloudFileTypeGeoJson;break;default:C=u["default"].overwriteFromCloudDlg.cloudFileTypeExcel}"none"===this.currentCloudProvider&&B.includes("geojson")?(C=p["default"].substitute({title:this.originalItemToOverwrite.title},
u["default"].overwriteFromGeoJSON.description),t["default"](".overwriteInfoNote",this.domNode).addClass("hide")):C=p["default"].substitute({title:this.originalItemToOverwrite.title,fileType:C,cloudDrive:this.cloudDriveText},u["default"].overwriteFromCloudDlg.overwriteInfoText);t["default"](".overwriteInfoText",this.domNode).attr("innerHTML",C);this.dlg.setContent(this.domNode);this.dlg.show();this.own(l["default"](this.dlg,"ok",function(){q.set("readOnly",!0);var D="";q.loaderHelper(!0,u["default"].overwriteFromCloudDlg.defaultLoading);
"none"!==q.currentCloudProvider?(q.cloudConnect[q.currentCloudProvider].GetTokenViaOauth("https://"+q.portal.portalHostname).then(function(F){D="googleConnect"===q.cloudProviderInfo.cloudProvider?["google-apps","googlesheets"].includes(B)?"https://www.googleapis.com/drive/v3/files/"+q.cloudProviderInfo.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://www.googleapis.com/drive/v3/files/"+q.cloudProviderInfo.id+
'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"dropBoxConnect"===q.cloudProviderInfo.cloudProvider?'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'","Dropbox-API-Arg":"{\\"path\\":\\"'+q.cloudProviderInfo.id+'\\"}"}':"oneDriveConnect"===q.cloudProviderInfo.cloudProvider?"https://graph.microsoft.com/v1.0/me/drive/items/"+q.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://api.box.com/2.0/files/"+
q.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}';q.overwriteItem(D)}),function(F){"popupBlocked"===F?q.showError(u["default"].overwriteFromCloudDlg.errors.popupIssue):"InvalidToken"===F||"windowClosed"===F?q.loaderHelper(!1,null):q.showError(F)}):q.overwriteItem(q.cloudProviderInfo.url)}));l["default"](this.dlg,"cancel",function(){q.set("readOnly",!0);q.onCancel()});return y};n.prototype.onCancel=function(){this.dlg&&this.dlg.destroyRecursive()};n.prototype.overwriteItem=
function(q){var y=this;this.loaderHelper(!0,u["default"].overwriteFromCloudDlg.addingItem);this.addExternalItem(q,this.originalItemToOverwrite.title,this.cloudProviderInfo.mimeType).then(function(){y.publishInfo={itemId:y.addItem.id,filetype:y.getNameForMimeType(y.cloudProviderInfo.mimeType,"publish")};y.getPublishParametersForOverwrite().then(function(C){y.publishInfo.item=y.addItem;y.publishInfo.publishParameters=C;y.publishInfo.overwrite=!0;y.publishInfo.deleteSourceItemUponCompletion=!0;y.loaderHelper(!0,
u["default"].overwriteFromCloudDlg.overwriting);y.publishExternalItem().then(function(B){y.updateTypeKeyword(B).then(function(){window.location.href="item.html?id\x3d"+B[0].serviceItemId+"\x26jobid\x3d"+B[0].jobId})})})});(function(C){y.showError(u["default"].overwriteFromCloudDlg.errors.addItemCheckStatusIssue,!0)})};n.prototype.initUI=function(){return new h["default"]};n.prototype.addExternalItem=function(q,y,C){var B=this,D=new h["default"];q={dataUrl:q,async:!0,type:this.getNameForMimeType(C,
"addItemType"),typeKeywords:this.getNameForMimeType(C,"addItemKeywords"),Title:y,filename:y};var F=this.portal;d["default"].addItem(q,this.originalItemToOverwrite.folderId,F).then(function(r){B.addItem=r;d["default"].checkStatus(B.addItem,D,null,F,function(A){D.resolve(A)})});(function(r){B.showError(r);D.reject(r)});return D};n.prototype.getPublishParametersForOverwrite=function(){var q=this,y=new h["default"];d["default"].getPublishParametersForOverwrite(this.originalItemToOverwrite,this.getNameForMimeType(this.cloudProviderInfo.mimeType,
"addItem")).then(function(C){y.resolve(C)});(function(C){q.showError(C);y.reject(C)});return y};n.prototype.publishExternalItem=function(){var q=this,y=new h["default"];d["default"].publishItem(this.publishInfo.item,this.publishInfo,this.portal).then(function(C){y.resolve(C.publishResult)});(function(C){q.showError(C);y.reject(C)});return y};n.prototype.getNameForMimeType=function(q,y){var C="";return C=-1!==y.indexOf("addItem")?-1!==q.indexOf("csv")?"CSV":-1!==q.indexOf("excel")?"Microsoft Excel":
-1!==q.indexOf("shapeFile")?"Shapefile":-1!==q.indexOf("fgdb")?"File Geodatabase":-1!==q.indexOf("geojson")?"GeoJson":-1!==q.indexOf("sheets")?"Microsoft Excel":"CSV":-1!==q.indexOf("csv")?"csv":-1!==q.indexOf("excel")?"excel":-1!==q.indexOf("shapeFile")?"shapefile":-1!==q.indexOf("fgdb")?"fileGeodatabase":-1!==q.indexOf("geojson")?"geojson":-1!==q.indexOf("sheets")?"excel":"csv"};n.prototype.updateTypeKeyword=function(q){var y=this,C=new h["default"],B=this.portal,D=this.originalItemToOverwrite.folderId,
F="Cloud Drive",r=JSON.parse(this.publishInfo.publishParameters);if("address"===r.locationType||r.layers[0]&&"address"===r.layers[0].locationType)F+=",showUnmatchedAddresses,Involved Lookup";else if("none"===r.locationType||r.layers[0]&&"none"===r.layers[0].locationType)F+=",Table";d["default"].updateItem({folderId:D,id:q[0].serviceItemId,typeKeywords:F},B).then(function(){C.resolve()});(function(A){y.showError(A);C.reject(A)});return C};n.prototype.showError=function(q,y){var C=this,B=z["default"].mixin(z["default"].mixin({},
u["default"].overwriteFromCloudDlg.errors.error),q);this._errorDlg=new b["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(B).then(function(){C.set("readOnly",!1);C._errorDlg.hide()});y||null!=this.addItem&&d["default"].deleteItem(this.addItem,this.portal);this.loaderHelper(!1,null);return!1};n.prototype.loaderHelper=function(q,y){var C=y?y:"Loading...";!0===q?(this.showHideDiv(".loader",!0),t["default"](".loader-text",this.domNode).attr("innerHTML",C),t["default"](".overwriteDialog",
this.domNode).style("opacity","0.5"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","none"),this.dlg.okButton.set("disabled",!0),this.dlg.cancelButton.set("disabled",!0)):(t["default"](".loader-text",this.domNode).attr("innerHTML",C),this.showHideDiv(".loader",!1),t["default"](".overwriteDialog",this.domNode).style("opacity","1"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","auto"),this.dlg.okButton.set("disabled",!1),this.dlg.cancelButton.set("disabled",
!1))};n.prototype.showHideDiv=function(q,y){!0===y?t["default"](q).removeClass("hide"):t["default"](q).addClass("hide")};return n=v.__decorate([x["default"](g["default"],f["default"],E["default"],w["default"])],n)}()})},"arcgisonline/pages/portal/cloudProvider/BoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(V,L,v,w,t,l,f,g){w=v.__importDefault(w);t=v.__importDefault(t);
l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);return function(){function h(x){this.boxToken="";this.allPages=[]}h.prototype.postscript=function(){};h.prototype.GetTokenViaOauth=function(x){var u=this,E=new f["default"],z=x+"/home/cloudDriveOauth-callback2.html";this._oauthSignIn("https://account.box.com/api/oauth2/authorize?redirect_uri\x3d"+z+"\x26response_type\x3dcode\x26client_id\x3d"+w["default"].boxClientId+"\x26locale\x3d"+g["default"].locale,x).then(function(p){u._getTokenValue(p,
"code").then(function(m){u._makeExternalRequests("POST","https://api.box.com/oauth2/token","grant_type\x3dauthorization_code\x26code\x3d"+m+"\x26client_id\x3d"+w["default"].boxClientId+"\x26client_secret\x3d"+w["default"].boxClientSecret+"\x26redirect_uri\x3d"+z).then(function(e){u.boxToken=e.access_token;E.resolve(e.access_token)},function(e){E.reject(e)})})},function(p){E.reject(p)});return E};h.prototype.GetAllFiles=function(x){var u=this,E=new f["default"],z=null===x||void 0===x?void 0:x.searchText,
p=null===x||void 0===x?void 0:x.dropdownFilter;x=null===x||void 0===x?void 0:x.previousOrNext;var m="Bearer "+this.boxToken;x||(this.allPages=[]);var e="https://api.box.com/2.0/search?fields\x3did,name\x26type\x3dfile\x26limit\x3d10";e=z?e+("\x26query\x3d"+z):e+"\x26query\x3dcsv xls";e="all"!==p&&p?"csv"===p?e+"\x26file_extensions\x3dcsv":"excel"===p?e+"\x26file_extensions\x3dxls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx";x&&"next"===x&&(e+="\x26offset\x3d"+
this.allPages[this.allPages.length-1].NextToken);x&&"previous"===x&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e+="\x26offset\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,m,"application/json").then(function(c){var a={files:[],next:c.total_count>c.limit+c.offset?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:a.next,Previous:a.previous,NextToken:c.total_count>c.limit+c.offset?c.limit+
c.offset:!1});for(var b=0;b<c.entries.length;b++){var d=c.entries[b];a.files.push({id:d.id,name:d.name,mimeType:-1!==d.name.indexOf("csv")?"csv":"excel",downloadUrl:"https://api.box.com/2.0/files/"+d.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.boxToken+'"}'})}E.resolve(a)},function(c){E.reject(c)});return E};return h=v.__decorate([l["default"](t["default"])],h)}()})},"arcgisonline/pages/portal/cloudProvider/CommonCloudProvider":function(){define("require exports tslib ../../../tsutils/declareDecorator dojo/Deferred dojo/Stateful".split(" "),
function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(g){}f.prototype.postscript=function(){};f.prototype._oauthSignIn=function(g,h){var x=new t["default"],u=h+"/home/cloudDriveOauth-callback.html?cloudUrl\x3d"+(g+"\x26currentSourceUrl\x3d"+(window.location.protocol+"//"+window.location.hostname)+"\x26portalHostName\x3d"+h),E=document.createElement("iframe");E.src=u;E.className="hide";document.body.appendChild(E);u=window.addEventListener?
"addEventListener":"attachEvent";(0,window[u])("attachEvent"===u?"onmessage":"message",function(z){z.origin===h&&("popupBlocked"!==z.data&&"windowClosed"!==z.data||x.reject(z.data),x.resolve(z.data))},!1);return x};f.prototype._getTokenValue=function(g,h){var x=new t["default"];h=h.replace(/[[]/,"[").replace(/[]]/,"]");var u=(new RegExp("[?\x26#]"+h+"\x3d([^\x26#]*)")).exec(g);null==u?x.reject("InvalidToken"):x.resolve(u[1]);return x};f.prototype._makeExternalRequests=function(g,h,x,u,E){var z=new t["default"],
p=new XMLHttpRequest;p.open(g,h,!1);u&&p.setRequestHeader("Authorization",u);E&&p.setRequestHeader("Content-type",E);x?p.send(x):p.send();g=JSON.parse(p.responseText);400<=p.status&&z.reject(JSON.parse(p.responseText));z.resolve(g);return z};return f=v.__decorate([w["default"](l["default"])],f)}()})},"arcgisonline/pages/portal/cloudProvider/DropBoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(V,L,v,w,t,l,f,g){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);return function(){function h(x){this.dropBoxToken="";this.allPages=[]}h.prototype.postscript=function(){};h.prototype.GetTokenViaOauth=function(x){var u=this,E=new f["default"],z="dropbox"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://www.dropbox.com/oauth2/authorize?redirect_uri\x3d"+(x+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
w["default"].dropboxClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,x).then(function(p){u._getTokenValue(p,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(p,"access_token").then(function(e){u.dropBoxToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(p){E.reject(p)});return E};h.prototype.GetAllFiles=function(x){var u=this,E=new f["default"],z=null===x||void 0===x?void 0:x.searchText,p=null===x||void 0===x?void 0:x.dropdownFilter,m=null===x||void 0===
x?void 0:x.previousOrNext;x="Bearer "+this.dropBoxToken;m||(this.allPages=[]);var e="";z=z?" "+z:"";var c=0;m&&"next"===m&&(c=this.allPages[this.allPages.length-1].NextToken);m&&"previous"===m&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(c=this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());m="";"csv"===p?(m='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+c+"}",e="csv"):"excel"===p?(m='{"path":"","query":"'+z+' xls","mode": "filename_and_content","max_results":10,"start":'+
c+"}",e="excel"):"shapeFile"===p?(m='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+c+"}",e="shapeFile"):"fgdb"===p?(m='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+c+"}",e="fgdb"):"geoJson"===p?(m='{"path":"","query":"'+z+' .geojson","mode": "filename_and_content","max_results":10,"start":'+c+"}",e="geojson"):(m='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+c+"}",e=
"csv");this._makeExternalRequests("POST","https://api.dropboxapi.com/2/files/search",m,x,"application/json").then(function(a){var b={files:[],next:a.more?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:b.next,Previous:b.previous,NextToken:a.more?a.start:null});for(var d=0;d<a.matches.length;d++){var k=a.matches[d];"file"===k.metadata[".tag"]&&b.files.push({id:k.metadata.id,name:k.metadata.name,mimeType:e,downloadUrl:'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+
u.dropBoxToken+'","Dropbox-API-Arg":"{\\"path\\":\\"'+k.metadata.id+'\\"}"}'})}E.resolve(b)},function(a){E.reject(a)});return E};return h=v.__decorate([l["default"](t["default"])],h)}()})},"arcgisonline/pages/portal/cloudProvider/GoogleConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(V,L,v,w,t,l,f,g){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);
f=v.__importDefault(f);g=v.__importDefault(g);return function(){function h(x){this.googleToken="";this.allPages=[]}h.prototype.postscript=function(){};h.prototype.GetTokenViaOauth=function(x){var u=this,E=new f["default"],z="google"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://accounts.google.com/o/oauth2/v2/auth?scope\x3dhttps://www.googleapis.com/auth/drive.readonly\x26redirect_uri\x3d"+(x+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+w["default"].googleClientId+
"\x26hl\x3d"+g["default"].locale+"\x26state\x3d"+z,x).then(function(p){u._getTokenValue(p,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(p,"access_token").then(function(e){u.googleToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(p){E.reject(p)});return E};h.prototype.GetAllFiles=function(x){var u=this,E=new f["default"],z=null===x||void 0===x?void 0:x.searchText,p=null===x||void 0===x?void 0:x.dropdownFilter;x=null===x||void 0===x?void 0:x.previousOrNext;x||
(this.allPages=[]);var m="",e="https://www.googleapis.com/drive/v3/files?access_token\x3d"+this.googleToken+"\x26pageSize\x3d10\x26q\x3d";z&&(e+="name contains '"+z+"'and");"csv"===p?(e+='(mimeType\x3d"text/csv")',m="csv"):"excel"===p?(e+='(mimeType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"ormimeType\x3d"application/vnd.ms-excel")',m="excel"):"shapeFile"===p?(e+='(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',m="shapeFile"):"fgdb"===p?(e+=
'(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',m="fgdb"):"geoJson"===p?(e+='(name contains "json" or name contains "geojson")and(mimeType\x3d"application/octet-stream"ormimeType\x3d"application/json")',m="geojson"):"sheets"===p?(e+='(mimeType\x3d"application/vnd.google-apps.spreadsheet")',m="googlesheets"):(e+='(mimeType\x3d"text/csv")',m="csv");x&&"next"===x&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-1].NextToken);x&&"previous"===x&&2<=this.allPages.length&&
(this.allPages.pop(),1<this.allPages.length&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,null,"application/json").then(function(c){var a={files:[],next:c.nextPageToken?!0:!1,previous:1<=u.allPages.length?!0:!1};u.allPages.push({Next:a.next,Previous:a.previous,NextToken:c.nextPageToken?c.nextPageToken:null});for(var b=0;b<c.files.length;b++){var d=c.files[b];a.files.push({id:d.id,name:d.name,mimeType:m,downloadUrl:-1!==
d.mimeType.indexOf("google-apps")?"https://www.googleapis.com/drive/v3/files/"+d.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.googleToken+'"}':"https://www.googleapis.com/drive/v3/files/"+d.id+'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.googleToken+'"}'})}E.resolve(a)},function(c){E.reject(c)});return E};return h=v.__decorate([l["default"](t["default"])],h)}()})},"arcgisonline/pages/portal/cloudProvider/OneDriveConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(V,L,v,w,t,l,f,g){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);return function(){function h(x){this.oneDriveToken="";this.allPages=[]}h.prototype.postscript=function(){};h.prototype.GetTokenViaOauth=function(x){var u=this,E=new f["default"],z="onedrive"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope\x3dfiles.read\x26redirect_uri\x3d"+(x+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
w["default"].oneDriveClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,x).then(function(p){u._getTokenValue(p,"state").then(function(m){z!==m&&E.reject("invalidState");u._getTokenValue(p,"access_token").then(function(e){u.oneDriveToken=e;E.resolve(e)},function(e){E.reject(e)})})},function(p){E.reject(p)});return E};h.prototype.GetAllFiles=function(x){var u=this,E=new f["default"],z=null===x||void 0===x?void 0:x.searchText,p=null===x||void 0===x?void 0:x.dropdownFilter;x=null===x||void 0===
x?void 0:x.previousOrNext;var m="Bearer "+this.oneDriveToken;x||(this.allPages=[]);var e="",c="https://graph.microsoft.com/v1.0/me/drive/root/search(q\x3d'";z&&(c+=z+" ");"csv"===p?(c+=".csv",e="csv"):"excel"===p?(c+=".xls",e="excel"):"shapeFile"===p?(c+=".zip",e="shapeFile"):"fgdb"===p?(c+=".zip",e="fgdb"):"geoJson"===p?(c+=".geojson .json",e="geojson"):(c+=".csv",e="csv");c+="')?select\x3dname,id,file\x26top\x3d10";x&&"next"===x&&(c+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-1].NextToken);
x&&"previous"===x&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(c+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",c,null,m,"application/json").then(function(a){var b={files:[],next:a["@odata.nextLink"]?!0:!1,previous:1<=u.allPages.length?!0:!1},d={Next:b.next,Previous:b.previous,NextToken:a["@odata.nextLink"]?u._getNextTokenFromUrl(a["@odata.nextLink"],"skiptoken"):null};u.allPages.push(d);for(d=
0;d<a.value.length;d++){var k=a.value[d];k.file&&("fgdb"!==e&&"shapeFile"!==e||"application/zip"===k.file.mimeType)&&b.files.push({id:k.id,name:k.name,mimeType:e,downloadUrl:"https://graph.microsoft.com/v1.0/me/drive/items/"+k.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+u.oneDriveToken+'"}'})}E.resolve(b)},function(a){E.reject(a)});return E};h.prototype._getNextTokenFromUrl=function(x,u){u=u.replace(/[[]/,"[").replace(/[]]/,"]");var E=(new RegExp("[?\x26#$]"+u+"\x3d([^\x26#]*)")).exec(x);
return null===E?"":E[1]};return h=v.__decorate([l["default"](t["default"])],h)}()})},"arcgisonline/pages/item/widgets/_metadata":function(){define("require exports tslib dojo/_base/lang dojo/Deferred esri/lang dojo/topic ../../../esriGeowConfig ../../../sharing/util ../../utils/arrays ../../statusUtil dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/utils/metadata".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);
g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);return{_isLoading:!1,_gxeContext:null,_editor:null,_gxeAdaptor:null,_portalItemContext:null,_portalItemAdaptor:null,_formats:{formatDefault:"default",formatArcGIS:"arcgis",formatFGDC:"fgdc",formatINSPIRE:"inspire",formatISO19139:"iso19139",formatISO1913932:"iso19139-3.2",formatISO19115:"iso19115"},configureGeocoders:function(p,m){for(var e=p?w["default"].clone(p):[],c=0;c<e.length;c++){var a=
e[c];if(h["default"].isEsriWorldGeocoder(a)){a.suggest=!0;a.name=E["default"].common.esriWorldGeocoder;a.singleLineFieldName="SingleLine";l["default"].isDefined(a.placefinding)||(a.placefinding=!0);l["default"].isDefined(a.batch)||(a.batch=!0);break}}e=e.filter(function(b){return(null===b||void 0===b?void 0:b.placefinding)&&(null===b||void 0===b?void 0:b.singleLineFieldName)});0<e.length&&(m.arcgisGeocoder=!1,m.geocoders=e)},openLayerEditor:function(p,m){var e=this,c,a,b=new t["default"],d=h["default"].getToken(),
k=g["default"].self,n=0<(null===(c=k.metadataFormats)||void 0===c?void 0:c.length)?w["default"].clone(k.metadataFormats):null,q=(null===(a=k.helperServices)||void 0===a?0:a.geocode)?w["default"].clone(k.helperServices.geocode):[],y=x["default"].find(p.layers||[],function(C){return C.id.toString()===m.toString()});if(null===y||void 0===y?0:y.layerMetadataUrl)y.rawMetadataUrl=y.layerMetadataUrl.split("?")[0];else if(null===y||void 0===y?0:y.url)y.rawMetadataUrl=y.url.split("?")[0]+"/metadata";this._isLoading?
b.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require(["esri/dijit/metadata/context/GxeContext","esri/dijit/metadata/context/GxeAdaptor","esri/dijit/metadata/editor/EditorDialog","esri/dijit/metadata/editor/Editor","dojo/domReady!"],function(C,B,D){var F=E["default"].itemProperties.metadataISO1913932,r={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],arcgisMode:!0,defaultArcGISStyle:null,basemapUrl:null,basemap:null,getOriginalXml:void 0},
A={getAllowDeleteMetadata:function(){return!0},getAllowEditMetadata:function(){return!0},getOriginalXml:void 0,deleteMetadata:function(){var H=new t["default"];h["default"].request({url:y.rawMetadataUrl+"/update/",content:{metadata:"",metadataUploadFormat:"xml"}},{usePost:!0}).then(function(J){(null===J||void 0===J?0:J.statusUrl)?u["default"].checkAsyncJobStatus(J.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{deleted:!0});H.resolve()},function(){f["default"].publish("metadata/layerEditor/updated",
{deleted:!0});H.resolve()}):(H.resolve(),f["default"].publish("metadata/layerEditor/updated",{deleted:!0}))},function(J){return H.resolve()});return H},saveXml:function(H,J){var O=new t["default"];h["default"].request({url:y.rawMetadataUrl+"/update/",content:{metadata:J,metadataUploadFormat:"xml"}},{usePost:!0}).then(function(M){(null===M||void 0===M?0:M.statusUrl)?u["default"].checkAsyncJobStatus(M.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});O.resolve()},
function(){setTimeout(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});O.resolve()},3E3)}):(f["default"].publish("metadata/layerEditor/updated",{changed:!0}),O.resolve())},function(M){return O.resolve()});return O},viewHtml:function(){var H=d?"\x26token\x3d"+d:"",J=new t["default"];H="?format\x3ddefault\x26f\x3dhtml"+H;(null===y||void 0===y?0:y.rawMetadataUrl)?h["default"].openPage(y.rawMetadataUrl+H,!1):h["default"].openPage(y.url.split("?")[0]+"/metadata"+H,!1);J.resolve();
return J}},G=function(){e._editor=new D({title:y.name,gxeAdaptor:e._gxeAdaptor,gxeContext:e._gxeContext});e._editor.show();e._isLoading=!1;b.resolve(e._editor)};if(0<(null===n||void 0===n?void 0:n.length))switch(n[0]){case e._formats.formatFGDC:F=E["default"].itemProperties.metadataFGDC;break;case e._formats.formatINSPIRE:F=E["default"].itemProperties.metadataINSPIRE;break;case e._formats.formatISO19139:F=E["default"].itemProperties.metadataISO19139;break;case e._formats.formatISO19115:F=E["default"].itemProperties.metadataISO19115}r.defaultArcGISStyle=
F;g["default"].extentService?r.basemapUrl=g["default"].extentService:r.basemap="hybrid";e.configureGeocoders(q,r);e._gxeContext=new C(r);(null===y||void 0===y?0:y.hasMetadata)?z.retrieveArcGISXml(y.rawMetadataUrl).then(function(H){A.getOriginalXml=function(){return H};e._gxeAdaptor=new B(A);G()},function(H){A.getOriginalXml=function(){return null};e._gxeAdaptor=new B(A);G()}):(A.getOriginalXml=function(){return null},e._gxeAdaptor=new B(A),G())});(function(C){b.reject()})}),function(C){b.reject()});
return b},openEditor:function(p){var m=this,e,c,a=new t["default"],b=g["default"].self,d=0<(null===(e=b.metadataFormats)||void 0===e?void 0:e.length)?w["default"].clone(b.metadataFormats):null,k=(null===(c=b.helperServices)||void 0===c?0:c.geocode)?w["default"].clone(b.helperServices.geocode):[];this._isLoading?a.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require("esri/dijit/metadata/context/GxeContext esri/dijit/metadata/arcgis/portal/PortalItemContext esri/dijit/metadata/arcgis/portal/PortalItemAdaptor esri/dijit/metadata/editor/EditorDialog esri/dijit/metadata/editor/Editor dojo/domReady!".split(" "),
function(n,q,y,C){var B=E["default"].itemProperties.metadataISO1913932,D={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],defaultArcGISStyle:"",basemapUrl:"",basemap:""};if(0<(null===d||void 0===d?void 0:d.length)){var F=d[0];switch(F){case m._formats.formatFGDC:B=E["default"].itemProperties.metadataFGDC;break;case m._formats.formatINSPIRE:B=E["default"].itemProperties.metadataINSPIRE;break;case m._formats.formatISO19139:B=E["default"].itemProperties.metadataISO19139;break;case m._formats.formatISO19115:B=
E["default"].itemProperties.metadataISO19115}}D.defaultArcGISStyle=B;g["default"].extentService?D.basemapUrl=g["default"].extentService:D.basemap="hybrid";m.configureGeocoders(k,D);m._gxeContext=new n(D);m._portalItemContext=new q({isForPortalItemPage:!0,allowEditMetadata:!0,allowPushToItem:!0,autoPullItem:!0,portalItem:p,portal:b,restBaseUrl:g["default"].restBaseUrl,token:h["default"].getToken(),originalXml:null});m._portalItemAdaptor=new y({portalItemContext:m._portalItemContext,viewHtml:function(){var r=
new t["default"],A=p.itemUrl+"/info/metadata/metadata.xml",G=h["default"].getUser();h["default"].openPage(A+"?format\x3ddefault\x26output\x3dhtml"+((null===G||void 0===G?0:G.token)?"\x26token\x3d"+G.token:""),!1);r.resolve();return r}});x["default"].includes(p.typeKeywords,"Metadata")?m._portalItemAdaptor.readXml("text").then(function(r){m._portalItemContext.originalXml=z.cleanXml(r);m._editor=new C({title:p.title,gxeAdaptor:m._portalItemAdaptor,gxeContext:m._gxeContext});m._editor.show();m._isLoading=
!1;a.resolve(m._editor)}):(m._editor=new C({title:p.title,gxeAdaptor:m._portalItemAdaptor,gxeContext:m._gxeContext}),m._editor.show(),m._isLoading=!1,a.resolve(m._editor))});(function(n){a.reject()})}),function(n){a.reject()});return a}}})},"arcgisonline/pages/utils/metadata":function(){define("require exports tslib dojo/_base/Deferred ../../sharing/util esri/request dojo/i18n!../../nls/arcgisonline".split(" "),function(V,L,v,w,t,l,f){function g(b){var d;return b?"1.0"===(null===(d=b.querySelector("metadata \x3e Esri \x3e ArcGISFormat"))||
void 0===d?void 0:d.textContent):!1}function h(b){return"string"!==typeof b?null:null!==b?0===b.length?null:b.trim():b}function x(b){var d=document.createElement("textarea");d.innerHTML=b;return d.value}function u(b){var d=document.createElement("textarea");d.textContent=b;return d.innerHTML}function E(b,d){var k=b.querySelector(d);return x((null===k||void 0===k?void 0:k.innerHTML)||"")}function z(b,d,k){if(!g(b))return b;var n=b.querySelector("metadata");n=n.querySelector("dataIdInfo")||n.appendChild(b.createElement("dataIdInfo"));
var q=n.querySelector("idCitation")||n.appendChild(b.createElement("idCitation"));n=d===c.title?q:n;(n.querySelector(d)||n.appendChild(b.createElement(d))).textContent=x(k);return b}function p(b,d,k,n,q){var y=new w;q=(new XMLSerializer).serializeToString(d);n&&(q='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e'+q);t["default"].request({url:b,content:{metadataUploadFormat:"xml",metadata:q}},{usePost:!0}).then(function(C){return m(C.statusUrl,k)},function(C){return y.reject(C)}).then(function(C){return y.resolve(d)},
function(C){return y.reject(C)});return y}function m(b,d){var k=new w,n,q=0,y=setInterval(function(){q++;l["default"]({url:b,content:{token:d,f:"json"}}).then(function(C){n=((null===C||void 0===C?void 0:C.status)||"failed").toLowerCase();C=C||{status:"Failed"};if("completed"===n)clearInterval(y),k.resolve(C);else if("failed"===n||400<C.code)clearInterval(y),k.reject(C)},function(C){if("Invalid JSON primitive: ."!==(null===C||void 0===C?void 0:C.message)||10<q)clearInterval(y),k.reject(C)})},1E3);
return k}function e(b){return("0"+(b||0)).slice(-2)}Object.defineProperty(L,"__esModule",{value:!0});L.createLayerXML=L.updateLayerXML=L.updateLayerXMLProperty=L.parseEsriXML=L.setXMLTagValue=L.getXMLTagValue=L.encodeHTMLEntities=L.decodeHTMLEntities=L.cleanXml=L.isValidArcGISMetadata=L.retrieveArcGISXml=void 0;t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);L.retrieveArcGISXml=function(b,d){var k=new w,n=t["default"].getUser(),q=null===n||void 0===n?void 0:n.token,y={f:"xml"};
!d&&n&&(y.token=q);d&&d.token&&(y.token=d.token);l["default"]({url:b,content:y,handleAs:"text",preventCache:!0},{usePost:!0}).then(function(C){return k.resolve(h(C))},function(C){k.resolve(null)});return k};L.isValidArcGISMetadata=g;L.cleanXml=h;L.decodeHTMLEntities=x;L.encodeHTMLEntities=u;L.getXMLTagValue=E;L.setXMLTagValue=z;L.parseEsriXML=function(b){var d={};if(!b)return d;d=[].slice.call(b.querySelectorAll(c.keywords)).map(function(k){return k.textContent}).reduce(function(k,n){return k.concat(n.split(/\n/))},
[]);return{title:E(b,c.title),"abstract":E(b,c["abstract"]),summary:E(b,c.summary),credits:E(b,c.credits),use:E(b,c.use),keywords:d}};L.updateLayerXMLProperty=function(b){var d=b.url,k=b.token;b=z(b.xml,c[b.prop],u(b.value));return p(d,b,k)};L.updateLayerXML=p;L.createLayerXML=function(b){var d=b.url,k=b.portal,n=b.prop,q=b.layer,y=b.value;b=b.token;var C=new Date,B=C.getFullYear(),D=e(C.getMonth()+1),F=e(C.getDate()),r=e(C.getHours()),A=e(C.getMinutes());C=e(C.getSeconds());var G=(k=null===(G=null===
k||void 0===k?void 0:k.metadataFormats)||void 0===G?void 0:G[0])&&a[k]?"\x3cArcGISstyle\x3e"+a[k]+"\x3c/ArcGISstyle\x3e":"";q='\n    \x3cmetadata xml:lang\x3d"en"\x3e\n      \x3cEsri\x3e\n        \x3cCreaDate\x3e'+B+D+F+"\x3c/CreaDate\x3e\n        \x3cCreaTime\x3e"+r+A+C+"00\x3c/CreaTime\x3e\n        \x3cArcGISFormat\x3e1.0\x3c/ArcGISFormat\x3e\n        \x3cModDate\x3e"+B+D+F+"\x3c/ModDate\x3e\n        \x3cModTime\x3e"+r+A+C+"00\x3c/ModTime\x3e\n        "+G+"\n      \x3c/Esri\x3e\n      \x3cdataIdInfo\x3e\n        \x3cidCitation\x3e\n          \x3cresTitle\x3e"+
q.name+'\x3c/resTitle\x3e\n        \x3c/idCitation\x3e\n      \x3c/dataIdInfo\x3e\n      \x3cmdDateSt Sync\x3d"TRUE"\x3e'+B+D+F+"\x3c/mdDateSt\x3e\n    \x3c/metadata\x3e\n  ";q=(new DOMParser).parseFromString(q,"text/xml");q.querySelector("dataIdInfo").appendChild(q.createElement(c[n]));n=z(q,c[n],u(y));return p(d,n,b,!0)};var c;(function(b){b.title="resTitle";b["abstract"]="idAbs";b.summary="idPurp";b.credits="idCredit";b.use="resConst Consts useLimit";b.keywords="searchKeys keyword"})(c||(c={}));
var a={arcgis:f["default"].myOrganization.itemDetailsTab.formats.arcgis,fgdc:f["default"].myOrganization.itemDetailsTab.formats.fgdc,inspire:f["default"].myOrganization.itemDetailsTab.formats.inspire,iso19139:f["default"].myOrganization.itemDetailsTab.formats.iso19139,"iso19139-3.2":f["default"].myOrganization.itemDetailsTab.formats.iso1913932,iso19115:f["default"].myOrganization.itemDetailsTab.formats.iso19115}})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../utils/dom dojo/dom-construct dojo/topic dojo/string dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./httpsResultIssue.html dojo/text!./httpsResultUpdated.html dojo/text!./httpsResultUnchanged.html dojo/text!./httpsUpdate.html ../../../../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);return function(){function b(d,k){this.templateString=c["default"];this.WEB_SCENE="Web Scene"}b.prototype.postMixInProperties=
function(){this.inherited(arguments);this.i18n=z["default"]};b.prototype.startup=function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.isWebScene=this.item.type===this.WEB_SCENE;this.updateHttpsDesc.innerHTML=this.i18n.itemProperties[this.isWebScene?"updateSceneLayersToHTTPSDesc":"updateLayersToHTTPSDesc"];this.own(h["default"](this.okBtn,this.okClick.bind(this)),h["default"](this.doneBtn,this.doneClick.bind(this)),h["default"](this.cancelBtn,this.cancelClick.bind(this)),
h["default"](this.toggleIssues,this.issuesToggled.bind(this)),h["default"](this.toggleUpdated,this.updatedToggled.bind(this)),h["default"](this.toggleUnchanged,this.unchangedToggled.bind(this)))};b.prototype.filterForIssues=function(d){return d.filter(function(k){return"failure"===k.layerUrlChange||k.layerRenderingFailures||k.layerQueryUrlFailures||k.itemAccess&&("failure"===k.itemUrlChange||k.itemRenderingFailures||k.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(d){return d.filter(function(k){return("success"===
k.layerUrlChange||k.layerRenderingChanged||k.layerQueryUrlChanged)&&!k.layerRenderingFailures&&!k.layerQueryUrlFailures||k.itemAccess&&("success"===k.itemUrlChange||k.itemRenderingChanged||k.itemQueryUrlChanged)&&!k.itemRenderingFailures&&!k.itemQueryUrlFailures})};b.prototype.filterForUnchanged=function(d){return d.filter(function(k){return"none"===k.layerUrlChange&&!k.layerRenderingChanged&&!k.layerRenderingFailures&&!k.layerQueryUrlChanged&&!k.layerQueryUrlFailures&&(!k.itemAccess||k.itemAccess&&
"none"===k.itemUrlChange&&!k.itemRenderingChanged&&!k.itemRenderingFailures&&!k.itemQueryUrlChanged&&!k.itemQueryUrlFailures)})};b.prototype.writeOutIssues=function(d){var k=this;d.length?(this.issuesTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersWithIssues,{n:d.length}),l["default"].empty(this.issues),d.forEach(function(n){n.message="";if("failure"===n.layerUrlChange||n.layerQueryUrlFailures||n.itemQueryUrlFailures)n.message=k.i18n.itemProperties.layerMessages.httpsNotSupported;
else if(n.layerRenderingFailures||n.itemAccess&&n.itemRenderingFailures)n.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"sceneSymbolHttpsNotSupported":"symbolHttpsNotSupported"];l["default"].place(g["default"].substitute(p["default"],n),k.issues,"last")}),t["default"].showNode(this.layersWithIssues)):t["default"].hideNode(this.layersWithIssues)};b.prototype.writeOutUpdated=function(d){var k=this;d.length?(this.updatedTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersUpdated,
{n:d.length}),l["default"].empty(this.updated),d.forEach(function(n){n.message="";"success"===n.layerUrlChange||n.layerRenderingChanged||n.layerQueryUrlChanged?(n.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInScene":"updatedInMap"],n.itemAccess&&("success"===n.itemUrlChange||n.itemRenderingChanged||n.itemQueryUrlChanged)&&(n.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"])):n.itemAccess&&("success"===n.itemUrlChange||n.itemRenderingChanged||
n.itemQueryUrlChanged)?n.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"]:n.layerRenderingChanged&&(n.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInScene":"updatedInMap"]);l["default"].place(g["default"].substitute(m["default"],n),k.updated,"last")}),t["default"].showNode(this.layersUpdated)):t["default"].hideNode(this.layersUpdated)};b.prototype.writeOutUnchanged=function(d){var k=this;d.length?(this.unchangedTitle.innerHTML=
g["default"].substitute(this.i18n.itemProperties.layersUnchanged,{n:d.length}),l["default"].empty(this.unchanged),d.forEach(function(n){n.message="";l["default"].place(g["default"].substitute(e["default"],n),k.unchanged,"last")}),t["default"].showNode(this.layersUnchanged)):t["default"].hideNode(this.layersUnchanged)};b.prototype.okClick=function(){var d=this;t["default"].hideNode(this.updateHttpsDesc);t["default"].showNode(this.updateHttpsLoading);t["default"].disableNode(this.okBtn,!0);w["default"].switchToHTTPS(this.item.itemData,
this.item).then(function(k){var n=d.filterForIssues(k.layers),q=d.filterForUpdated(k.layers),y=d.filterForUnchanged(k.layers);t["default"].hideNode(d.updateHttpsLoading);E["default"].isDefined(k.configChange)&&"failure"===k.configChange?t["default"].showNode(d.unexpectedError):(d.writeOutIssues(n),d.writeOutUpdated(q),d.writeOutUnchanged(y),n.length?d.issuesToggled():q.length?d.updatedToggled():y.length&&d.unchangedToggled(),n.length||q.length||!y.length?t["default"].showNode(d.updateHttpsResults):
t["default"].showNode(d.noChangesMade));t["default"].hideNode(d.okBtn);t["default"].hideNode(d.cancelBtn);t["default"].showNode(d.doneBtn);f["default"].publish("item-data/change")},function(k){t["default"].hideNode(d.updateHttpsLoading);t["default"].showNode(d.unexpectedError);t["default"].hideNode(d.okBtn);t["default"].hideNode(d.cancelBtn);t["default"].showNode(d.doneBtn)})};b.prototype.cancelClick=function(){f["default"].publish("update-to-https/cancel")};b.prototype.doneClick=function(){f["default"].publish("update-to-https/done")};
b.prototype.toggleSection=function(d,k){t["default"].showHide(k,d.classList.contains("icon-ui-right"));d.classList.toggle("icon-ui-right");d.classList.toggle("icon-ui-down")};b.prototype.issuesToggled=function(){this.toggleSection(this.toggleIssues,this.issues)};b.prototype.updatedToggled=function(){this.toggleSection(this.toggleUpdated,this.updated)};b.prototype.unchangedToggled=function(){this.toggleSection(this.toggleUnchanged,this.unchanged)};return b=v.__decorate([a["default"](x["default"],u["default"])],
b)}()})},"arcgisonline/map/core/urlUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/dom dojo/dom-construct dojo/json dojo/Deferred dojo/DeferredList esri/request esri/lang esri/layers/VectorTileLayer esri/layers/CSVLayer esri/layers/KMLLayer esri/layers/GeoRSSLayer esri/layers/WebTiledLayer esri/layers/WMSLayer esri/layers/WFSLayer esri/layers/WMTSLayer".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){function b(W,aa){var Q=new f;W._ssl&&delete W._ssl;var N=
esriGeowConfig.restBaseUrl+"content/users/"+aa.owner;N+=aa.ownerFolder?"/"+aa.ownerFolder:"";N+="/items/"+aa.id+"/update";var R={text:l.stringify(W),f:"json"},X={usePost:!0};"http:"===window.location.protocol&&-1<N.indexOf("https://")&&(X.useProxy=!0);h({url:N,content:R,load:function(Y){Q.resolve()},error:function(Y){Q.reject(Y)}},X);return Q}function d(W){var aa=W.configLayer,Q=W.from,N=W.to,R=W.type,X=W.checkRenderer,Y=new f;switch(aa.layerType||aa.type){case "ArcGISFeatureLayer":case void 0:if(aa.url)return k(W);
if(X)return n(W);Y.resolve({type:"notTested",msg:"No URL"});break;case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":return k(W);case "VectorTileLayer":return q(W);case "CSV":return y(W);case "GeoRSS":return C(W);case "KML":return B(W);case "WebTiledLayer":return aa.wmtsInfo?
D(W):F(W);case "WFS":return r(W);case "WMS":return A(W);case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":X={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",layerId:aa.id,type:"layer"},aa.portalUrl&&(Q=aa.portalUrl.replace(Q,N),Q!==aa.portalUrl?(aa.portalUrl=Q,L.mixin(X,{msg:"Portal URL switched to "+N+".",code:"layer_001"})):L.mixin(X,{msg:"Portal URL is already "+N+".",code:"layer_002"})),Y.resolve(X);case "OpenStreetMap":X={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",
layerId:aa.id,type:"layer"},Y.resolve(X);default:if("table"===R)return k(W);Y.resolve({type:"notTested",msg:"Unknown type"})}return Y}function k(W){var aa=W.configLayer,Q=W.from,N=W.to,R=W.checkRenderer,X=new f,Y=aa.url,da=aa.url.replace(Q,N),ea={url:Y,origUrl:Y,layerId:aa.id,type:"layer"};if(Y===da)return L.mixin(ea,{url:da,msg:"Layer URL is already "+N+".",code:"layer_002"}),R?G(aa,W,ea).then(function(qa){J(aa,qa).then(function(ua){Z(W,ua).then(function(ya){X.resolve(ya)})})}):G(aa,W,ea).then(function(qa){Z(W,
qa).then(function(ua){X.resolve(ua)})}),X;if("http://"===Q&&"https://"===N&&-1===Y.indexOf("sampleserver")&&(-1<Y.indexOf(".arcgis.com")||-1<Y.indexOf(".arcgisonline.com")))return aa.url=da,L.mixin(ea,{url:da,msg:"Layer URL switched to "+N+".",code:"layer_001"}),R?G(aa,W,ea).then(function(qa){J(aa,qa).then(function(ua){Z(W,ua).then(function(ya){X.resolve(ya)})})}):G(aa,W,ea).then(function(qa){Z(W,qa).then(function(ua){X.resolve(ua)})}),X;var ha=1,na=setInterval(function(){esri.id.isBusy()&&3>ha?ha++:
(esri.id.isBusy()&&esri.id.dialog.destroy(),L.mixin(ea,{msg:"Timeout",code:"layer_021"}),G(aa,W,ea).then(function(qa){Z(W,qa).then(function(ua){X.reject(ua)})}),clearInterval(na),delete na)},2E4);Q=da+(-1<da.indexOf("?")?"\x26f\x3djson":"?f\x3djson");h({url:Q,callbackParamName:"callback",load:function(qa,ua){na&&(clearTimeout(na),aa.url=da,L.mixin(ea,{url:da,msg:"Layer URL switched to "+N+".",code:"layer_001"}),R?G(aa,W,ea).then(function(ya){J(aa,ya).then(function(Aa){Z(W,Aa).then(function(Ba){X.resolve(Ba)})})}):
G(aa,W,ea).then(function(ya){Z(W,ya).then(function(Aa){X.resolve(Aa)})}))},error:function(qa){na&&(clearTimeout(na),esri.id.isBusy()?qa&&qa.message&&-1<qa.message.toLowerCase().indexOf("aborted")?(L.mixin(ea,{msg:"Aborted the Sign-In process.",code:"layer_012"}),G(aa,W,ea).then(function(ua){Z(W,ua).then(function(ya){X.reject(ya)})})):(L.mixin(ea,{msg:qa.message,code:"layer_010"}),G(aa,W,ea).then(function(ua){Z(W,ua).then(function(ya){X.reject(ya)})})):(L.mixin(ea,{msg:qa.message,code:"layer_010"}),
G(aa,W,ea).then(function(ua){Z(W,ua).then(function(ya){X.reject(ya)})})))}});return X}function n(W){var aa=W.configLayer,Q=new f,N={url:"",origUrl:"",layerId:aa.id,msg:"Layer has no URL.",code:"layer_003",type:"layer",renderers:[],symbols:[]};if(aa.featureCollection)if(aa.featureCollection.layers){var R=[];V.forEach(aa.featureCollection.layers,function(X,Y){if(X.layerDefinition&&X.layerDefinition.drawingInfo&&X.layerDefinition.drawingInfo.renderer){var da=new f;M(aa,X.layerDefinition.drawingInfo.renderer).then(L.hitch(this,
function(ea,ha){aa.featureCollection.layers[ea].layerDefinition.drawingInfo.renderer=ha.renderer;da.resolve(ha)},Y));R.push(da)}X.featureSet&&X.featureSet.features&&X.featureSet.features.length&&X.featureSet.features[0].symbol&&V.forEach(X.featureSet.features,function(ea){var ha=new f;K(aa,ea.symbol).then(L.hitch(this,function(na,qa){N.symbols=[qa];ha.resolve(N)},Y));R.push(ha)})});R.length?(new g(R)).addCallback(function(X){var Y=[],da=[];V.forEach(X,function(ea){"renderer"===ea[1].type?Y.push(ea[1]):
"symbol"===ea[1].type&&da.push(ea[1])});L.mixin(N,{renderers:Y.length?Y:[],symbols:da.length?da:[]});Z(W,N).then(function(ea){Q.resolve(ea)})}):Z(W,N).then(function(X){Q.resolve(X)})}else Z(W,N).then(function(X){Q.resolve(X)});else Z(W,N).then(function(X){Q.resolve(X)});return Q}function q(W){var aa=W.configLayer,Q=W.from,N=W.to,R=new f,X=aa.styleUrl;if(!aa.styleUrl&&aa.itemId){var Y=esriGeowConfig.restBaseUrl+"content/items/"+aa.itemId+"/resources";if(!esriGeowConfig.self.isPortal){var da=Y.indexOf("://"),
ea=Y.indexOf("/",da+3);Y=Y.substring(0,da+3)+esriGeowConfig.self.portalHostname+Y.substring(ea)}aa.styleUrl=Y+"/styles/root.json"}var ha=aa.styleUrl.replace(Q,N);Q=new u(ha);v.connect(Q,"onLoad",L.hitch(this,function(){var na={url:ha,origUrl:X,layerId:aa.id,type:"layer"};aa.styleUrl===ha?L.mixin(na,{msg:"Layer URL is already "+N+".",code:"layer_002"}):(aa.styleUrl=ha,L.mixin(na,{msg:"Layer URL switched to "+N+".",code:"layer_001"}));Z(W,na).then(function(qa){R.resolve(qa)})}));v.connect(Q,"onError",
L.hitch(this,function(na){Z(W,{url:aa.styleUrl,origUrl:aa.styleUrl,layerId:aa.id,msg:na.message,code:"layer_010",type:"layer"}).then(function(qa){R.reject(qa)})}));return R}function y(W){var aa=W.configLayer,Q=W.from,N=W.to,R=W.checkRenderer,X=new f,Y=aa.url.replace(Q,N),da=aa.url;if(da===Y)return W={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},R?J(aa,W).then(function(ea){X.resolve(ea)}):X.resolve(W),X;W=new E(Y,{columnDelimiter:aa.columnDelimiter,
latitudeFieldName:aa.locationInfo.latitudeFieldName,longitudeFieldName:aa.locationInfo.longitudeFieldName});v.connect(W,"onLoad",L.hitch(this,function(){aa.url=Y;var ea={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};R?J(aa,ea).then(function(ha){X.resolve(ha)}):X.resolve(ea)}));v.connect(W,"onError",L.hitch(this,function(ea){X.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ea.message,code:"layer_010",type:"layer"})}));return X}function C(W){var aa=
W.configLayer,Q=W.from,N=W.to,R=W.checkRenderer,X=new f,Y=aa.url.replace(Q,N),da=aa.url;if(da===Y){var ea={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"};R&&aa.pointSymbol?K(aa,aa.pointSymbol).then(function(ha){ea.symbols=[ha];X.resolve(ea)}):X.resolve(ea);return X}W=new p(Y);v.connect(W,"onLoad",L.hitch(this,function(){aa.url=Y;var ha={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};R&&aa.pointSymbol?
K(aa,aa.pointSymbol).then(function(na){ha.symbols=[na];X.resolve(ha)}):X.resolve(ha)}));v.connect(W,"onError",L.hitch(this,function(ha){X.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ha.message,code:"layer_010",type:"layer"})}));return X}function B(W){var aa=W.configLayer,Q=W.from,N=W.to,R=new f,X=aa.url.replace(Q,N),Y=aa.url;if(Y===X)return R.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),R;Q=X;N=arcgisonline.sharing.util.getUser();
var da=esriGeowConfig.self.urlKey?esriGeowConfig.self.customBaseUrl:esriGeowConfig.self.portalHostname,ea=Q.indexOf(da);N&&aa.itemId&&-1<ea&&(Q="https://"+esriGeowConfig.self.portalHostname+Q.substring(ea+da.length));N&&(-1<Q.indexOf(esriGeowConfig.self.portalHostname)||-1<Q.indexOf(da))&&(N=arcgisonline.sharing.util.getToken())&&(Q+="?token\x3d"+N);Q=new z(Q);v.connect(Q,"onLoad",L.hitch(this,function(){aa.url=X;var ha={url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",
type:"layer"};aa.itemId?(W.checkRenderer=!1,Z(W,ha).then(function(na){R.resolve(na)})):R.resolve(ha)}));v.connect(Q,"onError",L.hitch(this,function(ha){R.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ha.message,code:"layer_010",type:"layer"})}));return R}function D(W){var aa=W.configLayer,Q=W.from;W=W.to;var N=new f,R={};aa.wmtsInfo.customParameters&&(R.customParameters=aa.wmtsInfo.customParameters);aa.wmtsInfo.customLayerParameters&&(R.customLayerParameters=aa.wmtsInfo.customLayerParameters);
var X=aa.wmtsInfo.url.replace(Q,W),Y=aa.wmtsInfo.url;if(Y===X)return N.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var da=function(){var na=!1;V.forEach(layerObj.layers,function(qa){qa.identifier===aa.wmtsInfo.layerIdentifier&&V.forEach(qa.tileMatrixSetInfos,function(ua){if(ua.tileMatrixSet===aa.wmtsInfo.tileMatrixSet){na=!0;layerObj.copyright&&"none"!==layerObj.copyright.toLowerCase()&&(aa.copyright=layerObj.copyright,180<layerObj.copyright.length&&
(aa.copyright=layerObj.copyright.substring(0,180)+"..."));var ya=-1<V.indexOf(qa.formats,"image/png")?"image/png":qa.formats[0];aa.templateUrl=layerObj.getTileUrlTemplate({identifier:qa.identifier,tileMatrixSet:ua.tileMatrixSet,format:ya});-1<aa.templateUrl.indexOf("http://")&&S(X,aa.templateUrl)&&(aa.templateUrl=aa.templateUrl.replace("http://","https://"));-1<aa.templateUrl.indexOf("http://")?N.reject({url:aa.wmtsInfo.url,origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:"WTMS does not return https URLs.",
code:"layer_013",type:"layer"}):(aa.wmtsInfo.url=X,N.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))}})});na||N.reject({url:aa.wmtsInfo.url,origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:"WMTS is missing layer or tileMatrixSet.",code:"wmts_011",type:"layer"})};layerObj=new a(X,R);var ea=v.connect(layerObj,"onError",function(na){v.disconnect(ea);v.disconnect(ha);R.serviceMode="KVP";layerObj=new a(X,R);v.connect(layerObj,"onError",function(qa){N.reject({url:aa.wmtsInfo.url,
origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:qa.message,code:"layer_010",type:"layer"})});v.connect(layerObj,"onLoad",L.hitch(this,function(){da()}))}),ha=v.connect(layerObj,"onLoad",L.hitch(this,function(){v.disconnect(ea);v.disconnect(ha);da()}));return N}function F(W){var aa=W.configLayer,Q=W.from;W=W.to;var N=new f,R=aa.templateUrl.replace(Q,W),X=aa.templateUrl;if(X===R)return N.resolve({url:R,origUrl:X,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var Y=setTimeout(L.hitch(this,
function(){clearTimeout(Y);Y=null;N.reject({url:aa.templateUrl,origUrl:aa.templateUrl,layerId:aa.id,msg:"WebTiledLayer timeout error.",code:"WTL_012",type:"layer"})}),1E4);Q=R;aa.subDomains&&aa.subDomains.length&&(Q=Q.replace("{subDomain}",aa.subDomains[0]));Q=Q.replace("{level}",0).replace("{row}",0).replace("{col}",0);h({url:Q,load:function(da,ea){Y&&(clearTimeout(Y),aa.templateUrl=R,N.resolve({url:R,origUrl:X,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))},error:function(da){Y&&
(clearTimeout(Y),N.reject({url:aa.templateUrl,origUrl:aa.templateUrl,layerId:aa.id,msg:"WebTiledLayer access error.",code:"WTL_011",type:"layer"}))}});return N}function r(W){var aa=W.config.spatialReference,Q=W.configLayer,N=W.from,R=W.to,X=W.checkRenderer,Y=new f,da=Q.url.replace(N,R),ea=Q.url;if(ea===da)return W={url:da,origUrl:ea,layerId:Q.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},X?J(Q,W).then(function(qa){Y.resolve(qa)}):Y.resolve(W),Y;var ha=new c;v.connect(ha,"onError",
L.hitch(this,function(qa){Y.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:qa.message,code:"layer_010",type:"layer"})}));var na={url:da,version:Q.wfsInfo.version,customParameters:Q.wfsInfo.customParameters};ha.initialize(na,function(qa){for(var ua,ya=0;ya<qa.length;ya++)if(qa[ya].name===Q.wfsInfo.name){ua=qa[ya];break}ua?(na={layerName:Q.wfsInfo.name,visible:Q.defaultVisibility,maxFeatures:Q.wfsInfo.maxFeatures?Q.wfsInfo.maxFeatures:3E3,swapXY:Q.wfsInfo.swapXY,geometryType:Q.layerDefinition?Q.layerDefinition.geometryType:
null,wkid:Q.layerDefinition?Q.layerDefinition.spatialReference.wkid:Q.wfsInfo.supportedSpatialReferences?Q.wfsInfo.supportedSpatialReferences[0]:4326,mode:"snapshot"},ha.selectLayer(na,function(Aa){Q.wfsInfo.wfsNamespace=ha.layerNamespace;Q.wfsInfo.featureUrl=ha.getFeatureUrl;-1<Q.wfsInfo.wfsNamespace.indexOf("http://")||-1<Q.wfsInfo.featureUrl.indexOf("http://")?Y.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not return https URLs.",code:"WFS_012",type:"layer"}):(Q.wfsInfo.supportedSpatialReferences=
ua.spatialReferences,-1===V.indexOf([3857,102100],aa.wkid)&&4326!==aa.wkid&&-1===V.indexOf(ha.spatialReferences,aa.wkid)?Y.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not contain map spatial reference.",code:"WFS_013",type:"layer"}):(Q.url=da,Aa={url:da,origUrl:ea,layerId:Q.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"},X?J(Q,Aa).then(function(Ba){Y.resolve(Ba)}):Y.resolve(Aa)))})):Y.reject({url:Q.url,origUrl:Q.url,layerId:Q.id,msg:"WFS does not contain layer.",
code:"WFS_011",type:"layer"})});return Y}function A(W){var aa=W.configLayer,Q=W.from;W=W.to;var N=new f,R=aa.url.replace(Q,W),X=aa.url;if(X===R)return N.resolve({url:R,origUrl:X,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),N;var Y=new e(R,{visibleLayers:aa.visibleLayers,customLayerParameters:aa.customLayerParameters,customParameters:aa.customParameters});v.connect(Y,"onLoad",L.hitch(this,function(){-1<Y.getMapURL.indexOf("http://")&&S(R,Y.getMapURL)&&(Y.getMapURL=
Y.getMapURL.replace("http://","https://"));-1<Y.getFeatureInfoURL.indexOf("http://")&&S(R,Y.getFeatureInfoURL)&&(Y.getFeatureInfoURL=Y.getFeatureInfoURL.replace("http://","https://"));-1<Y.copyright.indexOf("http://")&&S(R,Y.copyright)&&(Y.copyright=Y.copyright.replace("http://","https://"));if(-1<Y.getMapURL.indexOf("http://")||-1<Y.getFeatureInfoURL.indexOf("http://"))N.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});else if(-1<
Y.getMapURL.indexOf("https://localhost/")||-1<Y.getFeatureInfoURL.indexOf("https://localhost/"))N.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return valid https URLs.",code:"WMS_012",type:"layer"});else{for(var da=[],ea=0;ea<aa.layers.length;ea++){var ha=L.clone(aa.layers[ea]),na=function(Aa,Ba){V.forEach(Aa,function(Oa){Oa.subLayers&&0<Oa.subLayers.length?na(Oa.subLayers,Ba):Ba.push(Oa)},this)};if(Y.layerInfos){var qa=[];na(Y.layerInfos,qa);Y.layerInfos=qa}qa=!1;for(var ua=
0;ua<Y.layerInfos.length;ua++){var ya=Y.layerInfos[ua];if(ha.name===ya.name)if(qa=!0,ha.legendURL&&ya.legendURL){if(ha.legendURL=ya.legendURL,-1<ha.legendURL.indexOf("http://")&&S(R,ha.legendURL)&&(ha.legendURL=ha.legendURL.replace("http://","https://")),-1<ha.legendURL.indexOf("http://")){N.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});return}}else ha.legendURL=ya.legendURL}if(!qa){N.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,
msg:"WMS layer is missing.",code:"WMS_013",type:"layer"});return}da.push(ha)}aa.url=R;aa.mapUrl=Y.getMapURL;aa.featureInfoUrl=Y.getFeatureInfoURL;aa.copyright=Y.copyright;aa.layers=da;N.resolve({url:R,origUrl:X,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"})}}));v.connect(Y,"onError",L.hitch(this,function(da){N.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:da.message,code:"layer_010",type:"layer"})}));return N}function G(W,aa,Q){var N=new f,R=[];W.layers&&V.forEach(W.layers,
function(Y,da){if(Y.layerUrl){var ea=new f;k({configLayer:{url:Y.layerUrl,id:W.id+"_"+da},from:aa.from,to:aa.to,checkRenderer:!1}).then(L.hitch(this,function(ha,na){ha.layerUrl=na.url;ea.resolve(na)},Y),function(ha){ea.resolve(ha)});R.push(ea)}});if(R.length){var X=[];(new g(R)).addCallback(function(Y){V.forEach(Y,function(da){X.push(da[1])});Q.queryLayers=X;N.resolve(Q)})}else N.resolve(Q);return N}function H(W,aa,Q,N){var R=new f,X=[];Q.layers&&V.forEach(Q.layers,function(da,ea){if(da.layerUrl){var ha=
new f;k({configLayer:{url:da.layerUrl,id:W.id+"_item_"+ea},from:aa.from,to:aa.to,checkRenderer:!1}).then(L.hitch(this,function(na){da.layerUrl=na.url;ha.resolve(na)}),function(na){ha.resolve(na)});X.push(ha)}});if(X.length){var Y=[];(new g(X)).addCallback(function(da){V.forEach(da,function(ea){Y.push(ea[1])});N.item.queryLayers=Y;R.resolve(N)})}else R.resolve(N);return R}function J(W,aa){var Q=new f,N=[];if(W.layerDefinition&&W.layerDefinition.drawingInfo&&W.layerDefinition.drawingInfo.renderer){var R=
new f;M(W,W.layerDefinition.drawingInfo.renderer).then(L.hitch(this,function(Y,da){Y.layerDefinition.drawingInfo.renderer=da.renderer;R.resolve(da)},W),function(Y){R.resolve(Y)});N.push(R)}W.layers&&V.forEach(W.layers,function(Y){if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&Y.layerDefinition.drawingInfo.renderer){var da=new f;M(W,Y.layerDefinition.drawingInfo.renderer).then(L.hitch(this,function(ea,ha){ea.layerDefinition.drawingInfo.renderer=ha.renderer;da.resolve(ha)},Y),function(ea){da.resolve(ea)});
N.push(da)}});if(N.length){var X=[];(new g(N)).addCallback(function(Y){V.forEach(Y,function(da){X.push(da[1])});aa.renderers=X;Q.resolve(aa)})}else Q.resolve(aa);return Q}function O(W,aa,Q){var N=new f,R=[];aa.layers&&V.forEach(aa.layers,function(Y){if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&Y.layerDefinition.drawingInfo.renderer){var da=new f;M(W,Y.layerDefinition.drawingInfo.renderer).then(L.hitch(this,function(ea){Y.layerDefinition.drawingInfo.renderer=ea.renderer;da.resolve(ea)}),function(ea){da.resolve(ea)});
R.push(da)}});if(R.length){var X=[];(new g(R)).addCallback(function(Y){V.forEach(Y,function(da){X.push(da[1])});Q.item.renderers=X;N.resolve(Q)})}else N.resolve(Q);return N}function M(W,aa){for(var Q=new f,N=[],R=l.stringify(aa),X=R.indexOf("http://");-1<X;){var Y=R.indexOf('"',X+1);Y=R.substring(X,Y);N.push(U(W,Y));X=R.indexOf("http://",X+1)}N.length?(new g(N)).addCallback(function(da){var ea=[];V.forEach(da,function(ha){var na=ha[1];ea.push(na);!0===ha[0]&&(R=R.replace(na.origUrl,na.url))});Q.resolve({renderer:l.parse(R),
origRenderer:aa,layerId:W.id,type:"renderer",symbols:ea})}):Q.resolve({renderer:aa,origRenderer:aa,layerId:W.id,type:"renderer",symbols:[]});return Q}function K(W,aa){var Q=new f;aa?aa.url?U(W,aa.url).then(function(N){aa.url=N.url;Q.resolve(N)},function(N){Q.resolve(N)}):Q.resolve({url:"",origUrl:"",layerId:W.id,msg:"Symbol has no URL.",code:"sym_003",type:"symbol"}):Q.resolve({url:"",origUrl:"",layerId:W.id,msg:"No symbol.",code:"sym_005",type:"symbol"});return Q}function U(W,aa){var Q=new f,N=aa;
if(aa.startsWith("https://"))return Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL already https",code:"sym_002",type:"symbol"}),Q;if(aa.startsWith("http://")){if(aa=aa.replace("http://","https://"),-1<aa.indexOf(esriGeowConfig.self.portalHostname))return Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"}),Q}else return Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL is relative path",code:"sym_004",type:"symbol"}),Q;this.cachedImages=
this.cachedImages||[];for(var R,X=0;X<this.cachedImages.length;X++)if(this.cachedImages[X].url===aa){R=this.cachedImages[X];if("success"===R.status)Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"});else if("error"===R.status)Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"});else if("inProgress"===R.status)var Y=setInterval(L.hitch(this,function(na){"success"===na.status?(clearInterval(Y),
Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})):"error"===na.status&&(clearInterval(Y),Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"}))},R),1E3);return Q}R||(R={url:aa,status:"inProgress"},this.cachedImages.push(R));w.byId("imageTesterDiv")||t.create("div",{id:"imageTesterDiv",style:"position:absolute;top:-1000px;left:-1000px"},document.body);var da=Math.random()+"_testImage";
t.create("img",{id:da+"_testImage"},w.byId("imageTesterDiv"));var ea=v.connect(w.byId(da+"_testImage"),"onload",L.hitch(this,function(){v.disconnect(ea);clearTimeout(ha);t.destroy(da+"_testImage");R.status="success";Q.resolve({url:aa,origUrl:N,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})})),ha=setTimeout(L.hitch(this,function(){v.disconnect(ea);t.destroy(da+"_testImage");clearTimeout(ha);R.status="error";Q.reject({url:N,origUrl:N,layerId:W.id,msg:"symbol URL can't be switched to https",
code:"sym_010",type:"symbol"})}),5E3);w.byId(da+"_testImage").src=aa;return Q}function Z(W,aa){var Q=W.configLayer,N=W.from,R=W.to,X=W.checkedItemsList,Y=new f;if(Q.itemId&&!aa.item)if(X[Q.itemId])if("inProgress"===X[Q.itemId].status)var da=setInterval(L.hitch(this,function(ea,ha){"inProgress"!==X[ea.itemId].status&&(clearInterval(da),ha.itemAccess=X[ea.itemId].refObj.itemAccess,ha.item=X[ea.itemId].refObj.item,Y.resolve(ha))},Q,aa),1E3);else aa.itemAccess=X[Q.itemId].refObj.itemAccess,aa.item=X[Q.itemId].refObj.item,
Y.resolve(aa);else X[Q.itemId]={status:"inProgress",refObj:aa},fa(Q.itemId).then(function(ea){aa.itemAccess=!0;var ha={};if(ea&&ea.url){aa.item={url:ea.url,origUrl:ea.url,type:"layer"};if(P(aa.origUrl,ea.url)&&!P(aa.origUrl,aa.url))L.mixin(aa.item,{url:aa.url,msg:aa.msg,code:aa.code}),ha.url=ea.url.replace(N,R);else if(P(aa.origUrl,ea.url)&&P(aa.origUrl,aa.url))L.mixin(aa.item,{msg:aa.msg,code:aa.code});else if(P(aa.url,ea.url))L.mixin(aa.item,{msg:"Layer URL is already "+R+".",code:"layer_002"});
else if(!P(aa.origUrl,ea.url)&&!P(aa.url,ea.url))if(-1<V.indexOf("CSV GeoRSS KML WebTiledLayer WFS WMS".split(" "),Q.layerType||Q.type))X[Q.itemId].status="done",Y.resolve(aa);else{var na=L.clone(Q);delete na.itemId;Q.url?na.url=ea.url:Q.styleUrl&&(na.styleUrl=ea.url);var qa=L.clone(W);qa.configLayer=na;d(qa).then(function(ua){ha.url=ua.url;aa.item=ua;ca(W,ea,aa,ha).then(function(ya){X[Q.itemId].status="done";Y.resolve(ya)})},function(ua){aa.item=ua;ca(W,ea,aa,ha).then(function(ya){X[Q.itemId].status=
"done";Y.resolve(ya)})});return}ca(W,ea,aa,ha).then(function(ua){X[Q.itemId].status="done";Y.resolve(ua)})}else ea?(aa.item={url:"",origUrl:"",type:"layer"},ca(W,ea,aa,ha).then(function(ua){X[Q.itemId].status="done";Y.resolve(ua)})):(aa.itemAccess=!1,X[Q.itemId].status="done",Y.resolve(aa))},function(ea){aa.itemAccess=!1;X[Q.itemId].status="done";Y.resolve(aa)});else Y.resolve(aa);return Y}function ca(W,aa,Q,N){var R=W.configLayer,X=W.checkRenderer,Y=new f;ka(aa.id).then(function(da){if(da&&"Feature Collection"===
aa.type)if(X&&da.layers){var ea=L.clone(R);delete ea.itemId;ea.featureCollection={layers:da.layers};n({configLayer:ea,from:"http://",to:"https://",checkRenderer:X,type:null}).then(function(na){L.mixin(Q.item,na);N.text=l.stringify(da);ma(aa,N).then(function(qa){Y.resolve(Q)},function(){L.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(Q)})},function(na){Y.resolve(Q)})}else Y.resolve(Q);else if(da&&da.layers){var ha=!1;H(R,W,da,Q).then(function(na){na.item.queryLayers&&V.forEach(na.item.queryLayers,
function(qa){qa.url!==qa.origUrl&&(ha=!0)});X?O(R,da,na).then(function(qa){qa.item.renderers&&!ha?V.forEach(qa.item.renderers,function(ua){ua.renderer!==ua.origRenderer&&(ha=!0)}):qa.item.symbols&&!ha&&V.forEach(qa.item.symbols,function(ua){ua.url!==ua.origUrl&&(ha=!0)});ha&&(N.text=l.stringify(da));ma(aa,N).then(function(ua){Y.resolve(qa)},function(){L.mixin(qa.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(qa)})}):(ha&&(N.text=l.stringify(da)),ma(aa,N).then(function(qa){Y.resolve(na)},
function(){L.mixin(na.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(na)}))})}else ma(aa,N).then(function(na){Y.resolve(Q)},function(){L.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(Q)})},function(){ma(aa,N).then(function(da){Y.resolve(Q)},function(){L.mixin(Q.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(Q)})});return Y}function fa(W){var aa=new f;h({url:esriGeowConfig.restBaseUrl+"content/items/"+W,content:{f:"json"},callbackParamName:"callback",
load:function(Q,N){"update"===Q.itemControl||"admin"===Q.itemControl?aa.resolve(Q):aa.reject(Error("No write access"))},error:function(Q){aa.reject(Q)}});return aa}function ka(W){var aa=new f;h({url:esriGeowConfig.restBaseUrl+"content/items/"+W+"/data",content:{f:"json"},callbackParamName:"callback",load:function(Q,N){Q&&delete Q._ssl;ba();aa.resolve(Q)},error:function(Q){aa.reject()}});return aa}function ma(W,aa){var Q=new f;if(arcgisonline.isEmpty(aa))Q.resolve({});else{ba();var N=esriGeowConfig.restBaseUrl+
"content/users/"+W.owner;N+=W.ownerFolder?"/"+W.ownerFolder:"";N+="/items/"+W.id+"/update";if("noSave"===ba())Q.resolve({});else{var R={usePost:!0};"http:"===window.location.protocol&&-1<N.indexOf("https://")&&(R.useProxy=!0);h({url:N,content:dojo.mixin(aa,{f:"json"}),callbackParamName:"callback",load:function(X,Y){Q.resolve(X)},error:function(X){Q.reject(X)}},R)}}return Q}function ra(){var W=new f,aa=[];esriGeowConfig.self.isPortal?h({url:esriGeowConfig.restBaseUrl+"portals/self/servers",content:{f:"json"},
callbackParamName:"callback",load:function(Q,N){Q.servers&&(arcgisonline.sharing.util.setFederatedServers(Q.servers||[]),dojo.forEach(Q.servers,function(R){R.url&&aa.push(R.url.substring(R.url.indexOf("//")))}));W.resolve(aa)},error:function(Q){W.resolve(aa)}}):W.resolve(aa);return W}function za(W,aa){var Q,N;for(Q=0;Q<W.operationalLayers.length;Q++){if(W.operationalLayers[Q].id===aa)return W.operationalLayers[Q];if("GroupLayer"===W.operationalLayers[Q].layerType){var R=W.operationalLayers[Q].layers;
for(N=0;N<R.length;N++)if(R[N].id===aa)return R[N]}}if(W.baseMap.baseMapLayers)for(Q=0;Q<W.baseMap.baseMapLayers.length;Q++){if(W.baseMap.baseMapLayers[Q].id===aa)return W.baseMap.baseMapLayers[Q];if("GroupLayer"===W.baseMap.baseMapLayers[Q].layerType)for(R=W.baseMap.baseMapLayers[Q].layers,N=0;N<R.length;N++)if(R[N].id===aa)return R[N]}if(W.baseMap.elevationLayers)for(Q=0;Q<W.baseMap.elevationLayers.length;Q++)if(W.baseMap.elevationLayers[Q].id===aa)return W.baseMap.elevationLayers[Q];if(W.ground&&
W.ground.layers)for(Q=0;Q<W.ground.layers.length;Q++)if(W.ground.layers[Q].id===aa)return W.ground.layers[Q];if(W.tables)for(Q=0;Q<W.tables.length;Q++)if(W.tables[Q].id===aa)return W.tables[Q];if(W.presentation&&W.presentation.slides)for(N=0;N<W.presentation.slides.length;N++){var X=W.presentation.slides[N];if(X.baseMap&&X.baseMap.baseMapLayers)for(Q=0;Q<X.baseMap.baseMapLayers.length;Q++){if(X.baseMap.baseMapLayers[Q].id===aa)return X.baseMap.baseMapLayers[Q];if("GroupLayer"===X.baseMap.baseMapLayers[Q].layerType)for(R=
X.baseMap.baseMapLayers[Q].layers,N=0;N<R.length;N++)if(R[N].id===aa)return R[N]}}}function ia(W,aa){switch(W.layerType||W.type){case "ArcGISFeatureLayer":case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":case void 0:return!W.url||-1<W.url.indexOf("://services")&&
(-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com"))||(-1<W.url.indexOf("://tiles")||-1<W.url.indexOf("://utility"))&&-1<W.url.indexOf(".arcgis.com")?null:la(W.url);case "VectorTileLayer":return!W.styleUrl||-1<W.styleUrl.indexOf(esriGeowConfig.self.portalHostname)||-1<W.styleUrl.indexOf(esriGeowConfig.self.customBaseUrl)||-1<W.styleUrl.indexOf("/items/")||-1<W.styleUrl.indexOf("://tiles")&&-1<W.url.indexOf(".arcgis.com")?null:la(W.styleUrl);case "CSV":case "GeoRSS":case "KML":case "WebTiledLayer":case "WFS":case "WMS":case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":case "OpenStreetMap":return null;
default:return"table"===aa?-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com")?null:la(W.url):null}}function T(W){var aa=[];V.forEach(W.operationalLayers,function(Q){"GroupLayer"===Q.layerType?V.forEach(Q.layers,function(N){aa.push({layer:N,type:"operationalLayers.groupLayer"})}):aa.push({layer:Q,type:"operationalLayers"})});W.baseMap&&(V.forEach(W.baseMap.baseMapLayers,function(Q){"GroupLayer"===Q.layerType?V.forEach(Q.layers,function(N){aa.push({layer:N,type:"baseMapLayers.groupLayer"})}):
(Q.title=Q.title||W.baseMap.title,aa.push({layer:Q,type:"baseMapLayers"}))}),V.forEach(W.baseMap.elevationLayers,function(Q){Q.title=Q.title||W.baseMap.title;aa.push({layer:Q,type:"elevationLayers"})}));W.ground&&V.forEach(W.ground.layers,function(Q){Q.title=Q.title||W.baseMap.title;aa.push({layer:Q,type:"ground"})});V.forEach(W.tables,function(Q){aa.push({layer:Q,type:"tables"})});W.presentation&&W.presentation.slides&&V.forEach(W.presentation.slides,function(Q){Q.baseMap&&Q.baseMap.baseMapLayers&&
V.forEach(Q.baseMap.baseMapLayers,function(N){"GroupLayer"===N.layerType?V.forEach(N.layers,function(R){aa.push({layer:R,type:"slides.baseMapLayers.groupLayer"})}):(N.title=N.title||Q.baseMap.title,aa.push({layer:N,type:"slides.baseMapLayers"}))})});return aa}function la(W){W=I(W);var aa=W.protocol+"://"+W.domain;W.port&&(aa+=":"+W.port);return aa+="/"+W.instance}function S(W,aa){var Q=I(W),N=I(aa);return Q.domain===N.domain?!0:!1}function P(W,aa){if(W&&aa){var Q=W.toLowerCase().indexOf("/featureserver/");
-1<Q&&(W=W.substring(0,Q+14));Q=aa.toLowerCase().indexOf("/featureserver/");-1<Q&&(aa=aa.substring(0,Q+14));Q=W.toLowerCase().indexOf("/mapserver/");-1<Q&&(W=W.substring(0,Q+10));Q=aa.toLowerCase().indexOf("/mapserver/");-1<Q&&(aa=aa.substring(0,Q+10));Q=W.toLowerCase().indexOf("/sceneserver/");-1<Q&&(W=W.substring(0,Q+12));Q=aa.toLowerCase().indexOf("/sceneserver/");-1<Q&&(aa=aa.substring(0,Q+12));if(W===aa)return!0}return!1}function I(W){var aa={};if(!W||!W.length)return aa;var Q=W.indexOf("://");
aa.protocol=W.substr(0,Q);W=W.substr(Q+3,W.length);Q=W.indexOf("/");Q=-1===Q?W.length-1:Q;aa.domain=W.substr(0,Q);-1<aa.domain.indexOf(":")&&(aa.port=aa.domain.substr(aa.domain.indexOf(":")+1),aa.domain=aa.domain.substr(0,aa.domain.indexOf(":")));aa.path=-1===Q||Q+1===W.length?null:W.substr(Q+1,W.length);aa.instance=aa.path.split("/")[0];W=aa.domain.split(".");switch(W.length){case 2:aa.subdomain=null;aa.host=W[0];aa.tld=W[1];break;case 3:aa.subdomain=W[0];aa.host=W[1];aa.tld=W[2];break;case 4:aa.subdomain=
W[0],aa.host=W[1],aa.tld=W[2]+"."+W[3]}aa.host&&aa.tld&&(aa.parentDomain=aa.host+"."+aa.tld);return aa}function ba(){var W=arcgisonline.sharing.util.urlToObject(document.URL);W.query=W.query||{};return W.query.debug}return{getUniqueDomains:function(W){var aa,Q,N=[],R=[],X=new f,Y=function(ha,na,qa,ua,ya){if(!(ha.url&&-1<ha.url.indexOf(esriGeowConfig.self.portalHostname)||ha.styleUrl&&-1<ha.styleUrl.indexOf(esriGeowConfig.self.portalHostname))){var Aa=!1;V.forEach(ua,function(Ba){if(ha.url&&-1<ha.url.indexOf(Ba)||
ha.styleUrl&&-1<ha.styleUrl.indexOf(Ba))Aa=!0});!Aa&&(aa=ia(ha,ya))&&(-1<na.indexOf(aa)?(Q=na.indexOf(aa),qa[Q].layers.push({id:ha.id,title:ha.title})):(na.push(aa),qa.push({domain:aa,layers:[{id:ha.id,title:ha.title}]})))}},da=function(ha,na){return ha.title.toLowerCase()<na.title.toLowerCase()?-1:1},ea=function(ha,na){ha.layers=ha.layers.sort(da);na.layers=na.layers.sort(da);return ha.domain.toLowerCase()<na.domain.toLowerCase()?-1:1};ra().then(function(ha){var na=T(W);V.forEach(na,function(qa){Y(qa.layer,
N,R,ha,"tables"===qa.type?"table":null)});R=R.sort(ea);X.resolve(R)});return X},switchToHTTPS:function(W,aa){ba();var Q=new f,N=L.clone(W),R={from:"http://",to:"https://",checkRenderer:!0,type:null,checkedItemsList:{}},X=[],Y=[],da=T(W);V.forEach(da,function(ea){var ha={config:W,configLayer:ea.layer};"tables"===ea.type&&(ha.type="table");L.mixin(ha,R);Y.push(ea.layer.id);X.push(d(ha))});X.length?(new g(X)).addCallback(function(ea){var ha=[];V.forEach(ea,function(na){ba();na=na[1];if("notTested"!==
na.type){var qa=za(W,na.layerId),ua={id:na.layerId,title:qa.title};-1<V.indexOf(["layer_001"],na.code)?ua.layerUrlChange="success":-1<V.indexOf(["layer_002","layer_003"],na.code)?ua.layerUrlChange="none":ua.layerUrlChange="failure";na.queryLayers&&(ua.layerQueryUrlChanged=!1,ua.layerQueryUrlFailures=!1,V.forEach(na.queryLayers,function(ya){-1<V.indexOf(["layer_001"],ya.code)?ua.layerQueryUrlChanged=!0:-1<V.indexOf(["layer_002","layer_003"],ya.code)||(ua.layerQueryUrlFailures=!0)}));if(na.renderers||
na.symbols)ua.layerRenderingChanged=!1,ua.layerRenderingFailures=!1,V.forEach(na.renderers,function(ya){V.forEach(ya.symbols,function(Aa){-1<V.indexOf(["sym_010"],Aa.code)&&(ua.layerRenderingFailures=!0);-1<V.indexOf(["sym_001"],Aa.code)&&(ua.layerRenderingChanged=!0)})}),V.forEach(na.symbols,function(ya){-1<V.indexOf(["sym_010"],ya.code)&&(ua.layerRenderingFailures=!0);-1<V.indexOf(["sym_001"],ya.code)&&(ua.layerRenderingChanged=!0)});qa.itemId&&(ua.itemAccess=na.itemAccess)&&(-1<V.indexOf(["layer_001"],
na.item.code)?ua.itemUrlChange="success":-1<V.indexOf(["layer_020"],na.item.code)?(ua.itemUrlChange="success",ua.itemAccess=!1):-1<V.indexOf(["layer_002","layer_003"],na.item.code)?ua.itemUrlChange="none":ua.itemUrlChange="failure",na.item.queryLayers&&(ua.itemQueryUrlChanged=!1,ua.itemQueryUrlFailures=!1,V.forEach(na.item.queryLayers,function(ya){-1<V.indexOf(["layer_001"],ya.code)?ua.itemQueryUrlChanged=!0:-1<V.indexOf(["layer_002","layer_003"],ya.code)||(ua.itemQueryUrlFailures=!0)})),na.item.renderers||
na.item.symbols)&&(ua.itemRenderingChanged=!1,ua.itemRenderingFailures=!1,V.forEach(na.item.renderers,function(ya){V.forEach(ya.symbols,function(Aa){-1<V.indexOf(["sym_010"],Aa.code)&&(ua.itemRenderingFailures=!0);-1<V.indexOf(["sym_001"],Aa.code)&&(ua.itemRenderingChanged=!0)})}),V.forEach(na.item.symbols,function(ya){-1<V.indexOf(["sym_010"],ya.code)&&(ua.itemRenderingFailures=!0);-1<V.indexOf(["sym_001"],ya.code)&&(ua.itemRenderingChanged=!0)}));ha.push(ua)}});W.presentation&&W.presentation.slides&&
V.forEach(W.presentation.slides,function(na){na.baseMap&&na.baseMap.baseMapLayers&&V.forEach(na.baseMap.baseMapLayers,function(qa,ua){if(-1<V.indexOf(Y,qa.id)){var ya=za(W,qa.id);na.baseMap.baseMapLayers[ua]=ya}})});ba();ea=l.stringify(N)===l.stringify(W);ba();ea||"noSave"===ba()?Q.resolve({layers:ha,configChange:"none"}):b(W,aa).then(function(){Q.resolve({layers:ha,configChange:"success"})},function(na){Q.resolve({layers:ha,configChange:"failure"})})}):Q.resolve({layers:[]});return Q},switchDomain:function(W,
aa,Q,N){var R=new f,X=[];if(!(W&&aa&&Q&&N))return R.resolve({layers:[]}),R;var Y=L.clone(W),da={from:Q,to:N,type:null,checkedItemsList:{}};Q=T(W);V.forEach(Q,function(ea){var ha={configLayer:ea.layer};"tables"===ea.type&&(ha.type="table");L.mixin(ha,da);ia(ha.configLayer,ha.type)===ha.from&&X.push(d(ha))});X.length?(new g(X)).addCallback(function(ea){var ha=[];V.forEach(ea,function(na){ba();na=na[1];var qa=za(W,na.layerId),ua={id:na.layerId,title:qa.title};-1<V.indexOf(["layer_001"],na.code)?ua.layerUrlChange=
"success":-1<V.indexOf(["layer_002","layer_003"],na.code)?ua.layerUrlChange="none":ua.layerUrlChange="failure";qa.itemId&&(ua.itemAccess=na.itemAccess)&&(-1<V.indexOf(["layer_001"],na.item.code)?ua.itemUrlChange="success":-1<V.indexOf(["layer_020"],na.item.code)?(ua.itemUrlChange="success",ua.itemAccess=!1):-1<V.indexOf(["layer_002","layer_003"],na.item.code)?ua.itemUrlChange="none":ua.itemUrlChange="failure");ha.push(ua)});ba();ea=l.stringify(Y)===l.stringify(W);ba();ea||"noSave"===ba()?R.resolve({layers:ha,
configChange:"none"}):b(W,aa).then(function(){R.resolve({layers:ha,configChange:"success"})},function(na){R.resolve({layers:ha,configChange:"failure"})})}):R.resolve({layers:[]});return R}}})},"esri/layers/VectorTileLayer":function(){(function(){var V=function(){try{var v=window.WebGLRenderingContext}catch(h){v=!1}try{for(var w=document.createElement("canvas"),t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],l=null,f=0;f<t.length;++f){try{l=w.getContext(t[f])}catch(h){}if(l)break}var g=l}catch(h){g=
!1}return v&&g?!0:!1}(),L=["dojo/_base/lang","dojo/has","dojo/Deferred","../sniff","./layer"];V&&L.push("./VectorTileLayerImpl");define(L,function(v,w,t,l,f,g){w=g?g:f.createSubclass({declaredClass:"esri.layers.VectorTileLayer",constructor:function(){var h=new t;h.reject(Error("esri.layers.VectorTileLayer is not supported"));h.promise.otherwise(v.hitch(this,function(x){this._errorHandler(x)}))}});w.ACCESS_TOKEN=null;w.supported=function(){return V};v.setObject("layers.VectorTileLayer",w,l);return w})})()},
"esri/layers/CSVLayer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(V,L,v,w,t,l,f,g,h){L=L(f,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(x,u){this.url=x;u=v.mixin({},u);this.columnDelimiter=u.columnDelimiter;this.latitudeFieldName=u.latitudeFieldName;
this.longitudeFieldName=u.longitudeFieldName;var E=u.layerDefinition;E||(E={fields:u.fields||[],geometryType:"esriGeometryPoint",copyrightText:u.copyright},u.fields&&V.forEach(u.fields,function(z){z.type=this._fieldTypeMap[z.type||"String"];z.alias||(z.alias=z.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:E,outFields:u.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=v.hitch(this,this._projectFeatures);this._addFeatures=v.hitch(this,this._addFeatures);this._initCSVLayer(u)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_isWebGLCompatible:function(){return!1},_setMap:function(x){var u=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);
this._csvFC=null;return u},_initCSVLayer:function(x){var u=this;l.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(E){!u._buildCsvFcParam.locationInfo||u.latitudeFieldName&&u.longitudeFieldName||(u.latitudeFieldName=u._buildCsvFcParam.locationInfo.latitudeFieldName,u.longitudeFieldName=u._buildCsvFcParam.locationInfo.longitudeFieldName);u._csvFC=E;var z=E.layerDefinition;z.extent=u._getFCExtent(E);x.outFields||(x.outFields=["*"]);x.timeInfo&&(z.timeInfo=x.timeInfo);u._initFeatureLayer({layerDefinition:z},
x)}).otherwise(this._errorHandler)},_loadFeatures:function(){l.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(x){return l.projectFeatureCollection(x,this._map.spatialReference)},_addFeatures:function(x){x=new h(x.featureSet);this.applyEdits(x.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(x){if(x&&x.featureSet&&x.featureSet.features){x=x.featureSet.features;var u=x.length;
if(1<u){var E=x[0].geometry;var z=new g(E.x,E.y,E.x,E.y);for(--u;0<u;u--)E=x[u].geometry,z.xmin=Math.min(z.xmin,E.x),z.ymin=Math.min(z.ymin,E.y),z.xmax=Math.max(z.xmax,E.x),z.ymax=Math.max(z.ymax,E.y);0>=z.getWidth()&&0>=z.getHeight()&&(z=null)}}return z}});v.setObject("layers.CSVLayer",L,t);return L})},"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E){function z(n){var q=0,y="";L.forEach([","," ",";","|","\t"],function(C){var B=n.split(C).length;B>q&&(q=B,y=C)});return y}function p(n,q){if(!n||"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime()))return!1;var y=!0;if(w("chrome")&&/\d+\W*$/.test(q)){if(q.match(/[^0-9a-zA-Z\s]/))return!1;var C=q.match(/[a-zA-Z]{2,}/);if(C){y=!1;for(var B=0,D=C.length,F=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!y&&
B<=D&&!(y=!F.test(C[B]));)B++;y=!y}}return y}function m(n,q,y){var C=n.indexOf("\n");C=V.trim(n.substr(0,C));var B=q.columnDelimiter;B||(B=z(C));var D=new l({data:n,separator:B});D.fetch({onComplete:function(F,r){var A=0,G={layerDefinition:q.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},H=G.layerDefinition.objectIdField,J=G.layerDefinition.fields;H||L.some(J,function(ia){return"esriFieldTypeOID"===ia.type?(H=ia.name,!0):!1})||(J.push({name:"__OBJECTID",alias:"__OBJECTID",
type:"esriFieldTypeOID",editable:!1}),H="__OBJECTID");var O=D._attributes,M=[],K=[];L.forEach(J,function(ia){"esriFieldTypeDate"===ia.type?M.push(ia.name):("esriFieldTypeDouble"===ia.type||"esriFieldTypeInteger"===ia.type)&&K.push(ia.name)});if(q.locationInfo&&"coordinates"===q.locationInfo.locationType){var U=q.locationInfo.latitudeFieldName;var Z=q.locationInfo.longitudeFieldName}else L.forEach(O,function(ia){var T=L.indexOf(b,ia.toLowerCase());-1!==T&&(U=ia);T=L.indexOf(d,ia.toLowerCase());-1!==
T&&(Z=ia)}),U&&Z&&(q.locationInfo={locationType:"coordinates",latitudeFieldName:U,longitudeFieldName:Z});if(U&&Z){-1===L.indexOf(K,U)&&K.push(U);-1===L.indexOf(K,Z)&&K.push(Z);if(V.isArray(q.outFields)&&-1===L.indexOf(q.outFields,"*"))var ca=q.outFields;L.forEach(O,function(ia){L.some(J,function(T){return ia===T.name})||J.push({name:ia,alias:ia,type:ia===U||ia===Z?"esriFieldTypeDouble":"esriFieldTypeString"})});O=0;var fa=F.length;for(O;O<fa;O++){var ka=F[O],ma=D.getAttributes(ka),ra={};L.forEach(ma,
function(ia){if(ia&&(ia===U||ia===Z||!ca||-1<L.indexOf(ca,ia))){var T=ia;0===ia.length&&L.forEach(J,function(S,P){S.name==="attribute_"+(P-1)&&(ia="attribute_"+(P-1))});if(-1<L.indexOf(M,ia)){T=D.getValue(ka,T);var la=new Date(T);ra[ia]=p(la,T)?la.getTime():null}else-1<L.indexOf(K,ia)?(la=t.parse(D.getValue(ka,T)),ia!==U&&ia!==Z||!(isNaN(la)||181<Math.abs(la))||(la=parseFloat(D.getValue(ka,T))),isNaN(la)?ra[ia]=null:ra[ia]=la):ra[ia]=D.getValue(ka,T)}});ra[H]=A;A++;ma=ra[U];var za=ra[Z];null==za||
null==ma||isNaN(ma)||isNaN(za)||(ca&&-1===L.indexOf(ca,U)&&delete ra[U],ca&&-1===L.indexOf(ca,Z)&&delete ra[Z],G.featureSet.features.push({geometry:{x:za,y:ma,spatialReference:{wkid:4326}},attributes:ra}))}G.layerDefinition.name="csv";y&&y(G)}else setTimeout(function(){},1),y&&y(null,Error("File does not seem to contain fields with point coordinates."))},onError:function(F){y&&y(null,F)}});return!0}function e(n,q,y,C,B,D){0===n.length&&B(null);var F=u.getGeometryType(q),r=[];L.forEach(n,function(A){A=
new F(A);A.spatialReference=y;r.push(A)},this);q=[102113,102100,3857];y.wkid&&4326===y.wkid&&C.wkid&&-1<L.indexOf(q,C.wkid)?(L.forEach(r,function(A){A.xmin?(A.xmin=Math.max(A.xmin,-180),A.xmax=Math.min(A.xmax,180),A.ymin=Math.max(A.ymin,-89.99),A.ymax=Math.min(A.ymax,89.99)):A.rings?L.forEach(A.rings,function(G){L.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):A.paths?L.forEach(A.paths,function(G){L.forEach(G,function(H){H[0]=
Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):A.x&&(A.x=Math.min(Math.max(A.x,-180),180),A.y=Math.min(Math.max(A.y,-89.99),89.99))},this),n=[],L.forEach(r,function(A){A=E.geographicToWebMercator(A);102100!==C.wkid&&(A.spatialReference=C);n.push(A.toJson())},this),B(n)):null!==y.wkid&&-1<L.indexOf(q,y.wkid)&&null!==C.wkid&&4326===C.wkid?(n=[],L.forEach(r,function(A){n.push(E.webMercatorToGeographic(A).toJson())},this),B(n)):(q=function(A,G){A&&A.length===
n.length?(n=[],L.forEach(A,function(H){H&&(H.rings&&0<H.rings.length&&0<H.rings[0].length&&0<H.rings[0][0].length&&!isNaN(H.rings[0][0][0])&&!isNaN(H.rings[0][0][1])||H.paths&&0<H.paths.length&&0<H.paths[0].length&&0<H.paths[0][0].length&&!isNaN(H.paths[0][0][0])&&!isNaN(H.paths[0][0][1])||H.xmin&&!isNaN(H.xmin)&&H.ymin&&!isNaN(H.ymin)||H.x&&!isNaN(H.x)&&H.y&&!isNaN(H.y))?n.push(H.toJson()):n.push(null)},this),B(n)):D(A,G)},g.defaults.geometryService?g.defaults.geometryService.project(r,C,V.hitch(this,
q),D):B(null))}function c(n,q){var y=[102113,102100,3857];return n&&q&&n.wkid===q.wkid&&n.wkt===q.wkt||n&&q&&n.wkid&&q.wkid&&-1<L.indexOf(y,n.wkid)&&-1<L.indexOf(y,q.wkid)?!0:!1}function a(n,q,y,C){if(n.featureSet&&0!==n.featureSet.features.length)if(c(y,q))C(n);else{var B=function(A){var G=[];L.forEach(n.featureSet.features,function(H,J){A[J]&&(H.geometry=A[J],G.push(H))},this);C(n)},D=function(A,G){C(n)},F=function(A,G){e(r,n.featureSet.geometryType,q,y,V.hitch(this,B),V.hitch(this,D))};if(n.featureSet.features&&
0<n.featureSet.features.length){var r=[];L.forEach(n.featureSet.features,function(A){if(A.geometry.toJson)r.push(A.geometry);else{var G=u.getGeometryType(n.featureSet.geometryType);r.push(new G(A.geometry))}});q.toJson||(q=new x(q));y.toJson||(y=new x(y));e(r,n.featureSet.geometryType,q,y,V.hitch(this,B),V.hitch(this,F))}else C(n)}}var b="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),d="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),k=
{latFieldStrings:b,longFieldStrings:d,buildCSVFeatureCollection:function(n){var q=new v,y=function(B,D){D?q.errback(D):q.callback(B)},C={url:n.url,handleAs:"text",load:function(B){m(B,n,V.hitch(this,y))},error:function(B){q.errback(B)}};-1<n.url.indexOf("arcgis.com")&&-1<n.url.indexOf("/content/items")&&-1<n.url.indexOf("/data")&&(C.headers={"Content-Type":""});h(C,{usePost:!1});return q},projectFeatureCollection:function(n,q,y){var C=new v;y||(y=new x({wkid:4326}));a(n,y,q,V.hitch(this,function(B){C.callback(B)}));
return C},generateDefaultPopupInfo:function(n){var q={esriFieldTypeDouble:1,esriFieldTypeSingle:1},y={esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},C={esriFieldTypeDate:1},B=null;n=L.map(n.layerDefinition.fields,V.hitch(this,function(D){"NAME"===D.name.toUpperCase()&&(B=D.name);var F="esriFieldTypeOID"!==D.type&&"esriFieldTypeGlobalID"!==D.type&&"esriFieldTypeGeometry"!==D.type,r=null;if(F){var A=D.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+
A+",")||-1<A.indexOf("area")||-1<A.indexOf("length")||-1<A.indexOf("shape")||-1<A.indexOf("perimeter")||-1<A.indexOf("objectid")||A.indexOf("_")===A.length-1||A.indexOf("_i")===A.length-2&&1<A.length)F=!1;D.type in y?r={places:0,digitSeparator:!0}:D.type in q?r={places:2,digitSeparator:!0}:D.type in C&&(r={dateFormat:"shortDateShortTime"})}return V.mixin({},{fieldName:D.name,label:D.alias,isEditable:!0,tooltip:"",visible:F,format:r,stringFieldOption:"textbox"})}));return{title:B?"{"+B+"}":"",fieldInfos:n,
description:null,showAttachments:!1,mediaInfos:[]}},_getSeparator:z,_isValidDate:p,_processCsvData:m,_projectGeometries:e,_sameSpatialReference:c,_projectFeatureSet:a};V.setObject("arcgis.csv",k,f);return k})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(V,L,v,w,t,l){L=L("dojox.data.CsvStore",null,{constructor:function(f){this._attributes=[];this._attributeIndexes=
{};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=!1;f.url&&(this.url=f.url);this._csvData=f.data;f.label?this.label=f.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=f.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in f&&(this.separator=f.separator);"urlPreventCache"in f&&
(this.urlPreventCache=f.urlPreventCache?!0:!1)},url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(f){if(!this.isItem(f))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(f){f=this.getIdentity(f);this.identifier&&(f=this._idMap[f]);return f},getValue:function(f,g,h){this._assertIsItem(f);var x=h;if("string"===typeof g)g=this._attributeIndexes[g],null!=g&&(x=this._dataArray[this._getIndex(f)][g]||
h);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");return x},getValues:function(f,g){var h=this.getValue(f,g);return h?[h]:[]},getAttributes:function(f){this._assertIsItem(f);var g=[];f=this._dataArray[this._getIndex(f)];for(var h=0;h<f.length;h++)""!==f[h]&&g.push(this._attributes[h]);return g},hasAttribute:function(f,g){this._assertIsItem(f);if("string"===typeof g){var h=this._attributeIndexes[g],x=this._dataArray[this._getIndex(f)];return"undefined"!==
typeof h&&h<x.length&&""!==x[h]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");},containsValue:function(f,g,h){var x=void 0;"string"===typeof h&&(x=t.patternToRegExp(h,!1));return this._containsValue(f,g,h,x)},_containsValue:function(f,g,h,x){f=this.getValues(f,g);for(g=0;g<f.length;++g){var u=f[g];if("string"===typeof u&&x)return null!==u.match(x);if(h===u)return!0}return!1},isItem:function(f){if(f&&f[this._storeProp]===this)if(f=f[this._idProp],
this.identifier){if(this._dataArray[this._idMap[f]])return!0}else if(0<=f&&f<this._dataArray.length)return!0;return!1},isItemLoaded:function(f){return this.isItem(f)},loadItem:function(f){},getFeatures:function(){return this._features},getLabel:function(f){if(this.label&&this.isItem(f))return this.getValue(f,this.label)},getLabelAttributes:function(f){return this.label?[this.label]:null},_fetchItems:function(f,g,h){var x=this,u=function(m,e){var c=null;if(m.query){var a;c=[];var b=m.queryOptions?
m.queryOptions.ignoreCase:!1,d={};for(a in m.query){var k=m.query[a];"string"===typeof k&&(d[a]=t.patternToRegExp(k,b))}for(b=0;b<e.length;++b){var n=!0,q=e[b];for(a in m.query)k=m.query[a],x._containsValue(q,a,k,d[a])||(n=!1);n&&c.push(q)}}else c=e.slice(0,e.length);g(c,m)};if(this._loadFinished)u(f,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:f,filter:u});else{this._loadInProgress=!0;var E=v.get({url:x.url,handleAs:"text",preventCache:x.urlPreventCache});
E.addCallback(function(m){try{x._processData(m),u(f,x._arrayOfAllItems),x._handleQueuedFetches()}catch(e){h(e,f)}});E.addErrback(function(m){x._loadInProgress=!1;if(h)h(m,f);else throw m;});var z=null;f.abort&&(z=f.abort);f.abort=function(){var m=E;m&&-1===m.fired&&(m.cancel(),m=null);z&&z.call(f)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,u(f,this._arrayOfAllItems)}catch(m){h(m,f)}else{var p=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");
if(h)h(p,f);else throw p;}},close:function(f){},_getArrayOfArraysFromCsvFileContents:function(f){if(V.isString(f)){var g=RegExp("^\\s+","g"),h=RegExp("\\s+$","g"),x=RegExp('""',"g"),u=[],E=this._splitLines(f);for(f=0;f<E.length;++f){var z=E[f];if(0<z.length){z=z.split(this.separator);for(var p=0;p<z.length;){var m=z[p].replace(g,""),e=m.replace(h,""),c=e.charAt(0),a=e.charAt(e.length-1),b=e.charAt(e.length-2),d=e.charAt(e.length-3);if(2===e.length&&'""'==e)z[p]="";else if('"'==c&&('"'!=a||'"'==a&&
'"'==b&&'"'!=d)){if(p+1===z.length)return;z[p]=m+this.separator+z[p+1];z.splice(p+1,1)}else'"'==c&&'"'==a&&(e=e.slice(1,e.length-1),e=e.replace(x,'"')),z[p]=e,p+=1}u.push(z)}}this._attributes=u.shift();for(f=0;f<this._attributes.length;f++)this._attributeIndexes[this._attributes[f]]=f;this._dataArray=u}},_splitLines:function(f){var g=[],h,x="",u=!1;for(h=0;h<f.length;h++){var E=f.charAt(h);switch(E){case '"':u=!u;x+=E;break;case "\r":u?x+=E:(g.push(x),x="",h<f.length-1&&"\n"==f.charAt(h+1)&&h++);
break;case "\n":u?x+=E:(g.push(x),x="");break;default:x+=E}}""!==x&&g.push(x);return g},_processData:function(f){this._getArrayOfArraysFromCsvFileContents(f);this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(f=0;f<this._dataArray.length;f++){var g=f;this.identifier&&(g=this._dataArray[f][this._attributeIndexes[this.identifier]],this._idMap[g]=f);this._arrayOfAllItems.push(this._createItemFromIdentity(g))}this._loadFinished=
!0;this._loadInProgress=!1},_createItemFromIdentity:function(f){var g={};g[this._storeProp]=this;g[this._idProp]=f;return g},getIdentity:function(f){return this.isItem(f)?f[this._idProp]:null},fetchItemByIdentity:function(f){var g=f.scope?f.scope:w.global;if(this._loadFinished){var h=this._createItemFromIdentity(f.identity);this.isItem(h)||(h=null);f.onItem&&f.onItem.call(g,h)}else{var x=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:f}):(this._loadInProgress=!0,h=v.get({url:x.url,
handleAs:"text"}),h.addCallback(function(u){try{x._processData(u);var E=x._createItemFromIdentity(f.identity);x.isItem(E)||(E=null);f.onItem&&f.onItem.call(g,E);x._handleQueuedFetches()}catch(z){f.onError&&f.onError.call(g,z)}}),h.addErrback(function(u){this._loadInProgress=!1;f.onError&&f.onError.call(g,u)}));else if(this._csvData)try{x._processData(x._csvData),x._csvData=null,h=x._createItemFromIdentity(f.identity),x.isItem(h)||(h=null),f.onItem&&f.onItem.call(g,h)}catch(u){f.onError&&f.onError.call(g,
u)}}},getIdentityAttributes:function(f){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var f=0;f<this._queuedFetches.length;f++){var g=this._queuedFetches[f],h=g.filter,x=g.args;h?h(x,this._arrayOfAllItems):this.fetchItemByIdentity(g.args)}this._queuedFetches=[]}}});V.extend(L,l);return L})},"esri/layers/KMLLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/sniff dojo/io-query dojo/dom-construct dojo/dom-style ../kernel ../config ../lang ../request ../urlUtils ../SpatialReference ../geometry/webMercatorUtils ../dijit/PopupTemplate ./layer ./KMLFolder ./KMLGroundOverlay ./MapImageLayer ./FeatureLayer".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q){var y=L([b],{declaredClass:"esri.layers.KMLLayer",serviceUrl:m.getProtocolForWebResource()+"//utility.arcgis.com/sharing/kml",constructor:function(C,B){this._url=m.urlToObject(this.url=C);this._outSR=B&&B.outSR||new e({wkid:4326});this._options=w.mixin({},B);E.defaults.kmlService&&(this.serviceUrl=E.defaults.kmlService);var D=this.linkInfo=B&&B.linkInfo;D&&(this.visible=!!D.visibility,this._waitingForMap=!!D.viewFormat);(!D||D&&D.visibility&&
!this._waitingForMap)&&this._parseKml();this.refresh=w.hitch(this,this.refresh);this.registerConnectEvents("esri.layers.KMLLayer",!0)},getFeature:function(C){if(C){var B=C.type,D=C.id,F;switch(B){case "esriGeometryPoint":case "esriGeometryPolyline":case "esriGeometryPolygon":(C=this["_"+B])&&(F=w.getObject("_mode._featureMap."+D,!1,C));break;case "GroundOverlay":if(C=this._groundLyr){var r=C.getImages();B=r.length;for(C=0;C<B;C++)if(r[C].id===D){F=r[C];break}}break;case "NetworkLink":t.some(this._links,
function(A){return A.linkInfo&&A.linkInfo.id===D?(F=A,!0):!1});break;case "Folder":for(B=(r=this.folders)?r.length:0,C=0;C<B;C++)if(r[C].id===D){F=r[C];break}}return F}},getLayers:function(){var C=[];this._groundLyr&&C.push(this._groundLyr);this._fLayers&&(C=C.concat(this._fLayers));this._links&&t.forEach(this._links,function(B){B.declaredClass&&C.push(B)});return C},setFolderVisibility:function(C,B){C&&(this._fireUpdateStart(),(C.visible=B)&&(B=this._areLocalAncestorsVisible(C)),this._setState(C,
B),this._fireUpdateEnd())},_eventMap:{"network-link-error":["error"]},onRefresh:function(){},onOpacityChange:function(){},onNetworkLinkError:function(){},_parseKml:function(C){var B=this;this._fireUpdateStart();this._io=p({url:this.serviceUrl,content:{url:this._url.path+this._getQueryParameters(C),model:"simple",folders:"",refresh:this.loaded?!0:void 0,outSR:l.toJson(this._outSR.toJson())},callbackParamName:"callback",load:function(D){B._io=null;B._initLayer(D)},error:function(D){B._io=null;D=w.mixin(Error(),
D);D.message="Unable to load KML: "+(D.message||"");B._fireUpdateEnd(D);B._errorHandler(D)}})},_initLayer:function(C){if(this.loaded){var B=[];t.forEach(this.folders,function(J){J.visible&&B.push(J.id)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale;this._options.opacity=this.opacity;this._removeInternalLayers()}this.name=C.name;this.description=C.description;this.snippet=C.snippet;this.visibility=C.visibility;this.featureInfos=C.featureInfos;var D,F=this.folders=C.folders,
r=[];if(F){var A=F.length;for(D=0;D<A;D++){var G=F[D]=new d(F[D]);-1===G.parentFolderId&&r.push(G)}}F=this._links=C.networkLinks;A=F?F.length:0;for(D=0;D<A;D++)if(!F[D].viewRefreshMode||-1===F[D].viewRefreshMode.toLowerCase().indexOf("onregion")){var H=w.mixin({},this._options);H.linkInfo=F[D];H.id&&(H.id=H.id+"_"+D);G=F[D]=new y(F[D].href,H);G._parentLayer=this;G._parentFolderId=this._getLinkParentId(G.linkInfo.id);G._linkErrorHandle=G.on("error,network-link-error",w.hitch(G,function(J){this._parentLayer.onNetworkLinkError(J.error)}))}if((F=
C.groundOverlays)&&0<F.length)for(H=w.mixin({},this._options),H.id&&(H.id+="_mapImage"),G=this._groundLyr=new n(H),A=F.length,D=0;D<A;D++)G.addImage(new k(F[D]));(C=w.getObject("featureCollection.layers",!1,C))&&0<C.length&&(this._fLayers=[],t.forEach(C,function(J,O){var M=w.getObject("featureSet.features",!1,J);M&&0<M.length&&(H=w.mixin({outFields:["*"],infoTemplate:J.popupInfo?new a(J.popupInfo):null,editable:!1},this._options),H.id&&(H.id=H.id+"_"+O),H.webgl=!1,J.layerDefinition.capabilities="Query,Data",
M=new q(J,H),M.geometryType&&(this["_"+M.geometryType]=M),this._fLayers.push(M))},this),0===this._fLayers.length&&delete this._fLayers);if(!this.loaded)for(A=r.length,D=0;D<A;D++)G=r[D],this._setState(G,G.visible);this._fireUpdateEnd();this.loaded?(this._addInternalLayers(),t.forEach(this.folders,function(J){-1<t.indexOf(B,J.id)?this.setFolderVisibility(J,!0):this.setFolderVisibility(J,!1)},this),this.onRefresh()):(this.loaded=!0,this.onLoad(this))},_addInternalLayers:function(){var C=this._map;this._fireUpdateStart();
this._links&&t.forEach(this._links,function(r){r.declaredClass&&(C.addLayer(r),r._waitingForMap&&(r._waitingForMap=null,r.visible?r._parseKml(C):r._wMap=C))});var B=C.spatialReference,D=this._outSR;if(!B.equals(D))if(B.isWebMercator()&&4326===D.wkid)var F=c.geographicToWebMercator;else if(D.isWebMercator()&&4326===B.wkid)F=c.webMercatorToGeographic;else return;this._groundLyr&&(F&&t.forEach(this._groundLyr.getImages(),function(r){r.extent=F(r.extent)}),C.addLayer(this._groundLyr));(B=this._fLayers)&&
0<B.length&&t.forEach(B,function(r){if(F){var A=r.graphics,G,H,J=A?A.length:0;for(G=0;G<J;G++)(H=A[G].geometry)&&A[G].setGeometry(F(H))}C.addLayer(r)});this.onVisibilityChange(this.visible)},_removeInternalLayers:function(){var C=this._map;this._links&&t.forEach(this._links,function(B){B.declaredClass&&B._io&&B._io.cancel();B._linkErrorHandle&&(B._linkErrorHandle.remove(),B._linkErrorHandle=null)});C&&t.forEach(this.getLayers(),C.removeLayer,C)},_setState:function(C,B){var D=C.featureInfos,F,r,A=
D?D.length:0,G=B?"show":"hide",H=B?"_resume":"_suspend";for(r=0;r<A;r++){var J=D[r];if(F=this.getFeature(J))if("Folder"===J.type)this._setState(F,B&&F.visible);else if("NetworkLink"===J.type)this._setInternalVisibility(F,B);else if(F[H])F[H]();else F[G]()}},_areLocalAncestorsVisible:function(C){var B=C.parentFolderId;for(C=C.visible;C&&-1!==B;)B=this.getFeature({type:"Folder",id:B}),C=C&&B.visible,B=B.parentFolderId;return C},_setInternalVisibility:function(C,B){var D=C._parentLayer,F=C._parentFolderId;
for(B=B&&C.visible;B&&D;)B=B&&D.visible,-1<F&&(B=B&&D._areLocalAncestorsVisible(D.getFeature({type:"Folder",id:F}))),F=D._parentFolderId,D=D._parentLayer;this._setIntState(C,B)},_setIntState:function(C,B){C&&t.forEach(C.getLayers(),function(D){D.linkInfo?C._setIntState(D,B&&D.visible&&C._areLocalAncestorsVisible(C.getFeature({type:"Folder",id:D._parentFolderId}))):D.setVisibility(B)})},_getLinkParentId:function(C){var B=-1;this.folders&&t.some(this.folders,function(D){return D.networkLinkIds&&-1!==
t.indexOf(D.networkLinkIds,C)?(B=D.id,!0):!1});return B},_checkAutoRefresh:function(){var C=this.linkInfo;if(C)if(this.visible){if(this.loaded&&this._map){var B=C.refreshMode,D=C.refreshInterval,F=C.viewRefreshMode;C=C.viewRefreshTime;B&&-1!==B.toLowerCase().indexOf("oninterval")&&0<D&&(this._stopAutoRefresh(),this._timeoutHandle=setTimeout(this.refresh,1E3*D));F&&-1!==F.toLowerCase().indexOf("onstop")&&0<C&&!this._extChgHandle&&(this._extChgHandle=v.connect(this._map,"onExtentChange",this,this._extentChanged))}}else this._stopAutoRefresh(),
v.disconnect(this._extChgHandle),delete this._extChgHandle},_stopAutoRefresh:function(){clearTimeout(this._timeoutHandle);this._timeoutHandle=null},_getQueryParameters:function(C){C=C||this._map;var B={},D=this.linkInfo,F=C&&C.extent;if(this._url.query){w.mixin(B,this._url.query);var r=!!this._url.query.token}u.id&&!r&&(r=u.id.findCredential(this._url.path))&&(B.token=r.token);if(D){r=D.viewFormat;var A=D.httpQuery;D=D.viewBoundScale;if(F&&r){var G=F,H=F,J=F.spatialReference;J&&(J.isWebMercator()?
G=c.webMercatorToGeographic(F):4326===J.wkid&&(H=c.geographicToWebMercator(F)));F=G.getCenter();H=Math.max(H.getWidth(),H.getHeight());D&&(G=G.expand(D));r=r.replace(/\[bboxWest\]/ig,G.xmin).replace(/\[bboxEast\]/ig,G.xmax).replace(/\[bboxSouth\]/ig,G.ymin).replace(/\[bboxNorth\]/ig,G.ymax).replace(/\[lookatLon\]/ig,F.x).replace(/\[lookatLat\]/ig,F.y).replace(/\[lookatRange\]/ig,H).replace(/\[lookatTilt\]/ig,0).replace(/\[lookatHeading\]/ig,0).replace(/\[lookatTerrainLon\]/ig,F.x).replace(/\[lookatTerrainLat\]/ig,
F.y).replace(/\[lookatTerrainAlt\]/ig,0).replace(/\[cameraLon\]/ig,F.x).replace(/\[cameraLat\]/ig,F.y).replace(/\[cameraAlt\]/ig,H).replace(/\[horizFov\]/ig,60).replace(/\[vertFov\]/ig,60).replace(/\[horizPixels\]/ig,C.width).replace(/\[vertPixels\]/ig,C.height).replace(/\[terrainEnabled\]/ig,0);w.mixin(B,g.queryToObject(r))}A&&(A=A.replace(/\[clientVersion\]/ig,u.version).replace(/\[kmlVersion\]/ig,2.2).replace(/\[clientName\]/ig,"ArcGIS API for JavaScript").replace(/\[language\]/ig,V.locale),w.mixin(B,
g.queryToObject(A)))}C=[];for(var O in B)z.isDefined(B[O])&&C.push(O+"\x3d"+B[O]);return(C=C.join("\x26"))?"?"+C:""},setScaleRange:function(C,B){this.inherited(arguments);t.forEach(this.getLayers(),function(D){D.setScaleRange(C,B)})},setOpacity:function(C){this.opacity!=C&&(t.forEach(this.getLayers(),function(B){B.setOpacity(C)}),this.opacity=C,this.onOpacityChange(C))},_setMap:function(C,B){this.inherited(arguments);this._map=C;var D=this._div=h.create("div",null,B);x.set(D,"position","absolute");
this._addInternalLayers();this.evaluateSuspension();return D},_unsetMap:function(C,B){this._io&&this._io.cancel();this._stopAutoRefresh();v.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var D=this._div;D&&(B.removeChild(D),h.destroy(D));this._wMap=this._div=null;this.inherited(arguments)},onVisibilityChange:function(C){this.loaded?(this._fireUpdateStart(),this._setInternalVisibility(this,C),this._checkAutoRefresh(),this._fireUpdateEnd()):this.linkInfo&&C&&(this._waitingForMap||
this._parseKml(this._wMap))},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._parseKml()},getFeatureCollection:function(C){var B,D=[];(C=this.getFeature({type:"Folder",id:C}))&&(B=t.map(C.featureInfos,function(F){if("esriGeometryPoint"===F.type||"esriGeometryPolyline"===F.type||"esriGeometryPolygon"===F.type)return F.id},this))&&0<B.length&&t.forEach(this._fLayers,function(F){var r;var A=F.toJson();A.featureSet.features&&0<A.featureSet.features.length&&(r=t.filter(A.featureSet.features,
function(G){if(-1!==t.indexOf(B,G.attributes[F.objectIdField]))return G},this));r&&0<r.length&&(A.featureSet.features=r,D.push(A))},this);return D},getFeatureCount:function(C){C=this.getFeature({type:"Folder",id:C});var B={points:0,polylines:0,polygons:0};C&&t.forEach(C.featureInfos,function(D){"esriGeometryPoint"===D.type&&(B.points+=1);"esriGeometryPolyline"===D.type&&(B.polylines+=1);"esriGeometryPolygon"===D.type&&(B.polygons+=1)});return B},_extentChanged:function(){this._stopAutoRefresh();this._timeoutHandle=
setTimeout(this.refresh,1E3*this.linkInfo.viewRefreshTime)}});w.setObject("layers.KMLLayer",y,u);return y})},"esri/layers/KMLFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(V,L,v,w,t){V=V(null,{declaredClass:"esri.layers.KMLFolder",constructor:function(l){L.mixin(this,l);t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});L.setObject("layers.KMLFolder",V,w);return V})},"esri/layers/KMLGroundOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./MapImage".split(" "),
function(V,L,v,w,t,l){V=V([l],{declaredClass:"esri.layers.KMLGroundOverlay",constructor:function(f){t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});L.setObject("layers.KMLGroundOverlay",V,w);return V})},"esri/layers/GeoRSSLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(V,L,v,w,t,l,f,g,h){V=V([h],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:g.getProtocolForWebResource()+
"//utility.arcgis.com/sharing/rss",constructor:function(x,u){this._url=g.urlToObject(this.url=x);l.defaults.geoRSSService&&(this.serviceUrl=l.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=f({url:this.serviceUrl,content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?v.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(x){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});L.setObject("layers.GeoRSSLayer",
V,t);return V})},"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m){V=V([z],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(e,c){this.pointSymbol=
c&&c.pointSymbol;this.polylineSymbol=c&&c.polylineSymbol;this.polygonSymbol=c&&c.polygonSymbol;this._outSR=c&&(c.outSpatialReference||c.outSR)||new h({wkid:4326});this._options=v.mixin({},c)},parse:function(){},getFeatureLayers:function(){var e=[];this._fLayers&&(e=e.concat(this._fLayers));return e},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(e){var c=this;this._fireUpdateStart();
e=this.parse(e);e.addCallback(function(a){c._io=null;c._initLayer(a)});e.addErrback(function(a){c._io=null;a=v.mixin(Error(),a);a.message="Unable to load resource: "+c.url+" "+(a.message||"");c._fireUpdateEnd(a);c.onError(a)})},_initLayer:function(e){this.loaded&&this._removeInternalLayers();this.name=e.name;this.description=e.description;this.snippet=e.snippet;this.featureInfos=e.featureInfos;this.fullExtent=this.initialExtent=new x(e.lookAtExtent);this.copyright=e.author||e.copyright;var c;(e=v.getObject("featureCollection.layers",
!1,e))&&0<e.length&&(this._fLayers=[],w.forEach(e,function(a,b){var d=v.getObject("featureSet.features",!1,a);d&&0<d.length&&(c=v.mixin({outFields:["*"],infoTemplate:a.popupInfo?new m(a.popupInfo):null,editable:!1},this._options),c.id&&(c.id=c.id+"_"+b),c.webgl=!1,a.layerDefinition.capabilities="Query,Data",d=new p(a,c),d.geometryType&&(this["_"+d.geometryType]=d),this._fLayers.push(d))},this),0===this._fLayers.length&&delete this._fLayers);this.items=[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),
this.pointSymbol&&(e=new E(this.pointSymbol),this._esriGeometryPoint.setRenderer(e)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(e=new E(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(e)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(e=new E(this.polygonSymbol),this._esriGeometryPolygon.setRenderer(e)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),
this.onRefresh())},_addInternalLayers:function(){var e=this._map;this._fireUpdateStart();var c=e.spatialReference,a=this._outSR;if(c.wkid)var b=c._isWebMercator()&&a._isWebMercator()||c.wkid===a.wkid;else if(c.wkt)b=c.wkt===a.wkt;else return;if(!b)if(c._isWebMercator()&&4326===a.wkid)this._converter=u.geographicToWebMercator;else if(a._isWebMercator()&&4326===c.wkid)this._converter=u.webMercatorToGeographic;else return;(c=this._fLayers)&&0<c.length&&w.forEach(c,function(d){if(this._converter){var k=
d.graphics,n,q,y=k?k.length:0;for(n=0;n<y;n++)(q=k[n].geometry)&&k[n].setGeometry(this._converter(q))}e.addLayer(d)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var e=this._map;e&&w.forEach(this.getFeatureLayers(),e.removeLayer,e)},setScaleRange:function(e,c){this.inherited(arguments);w.forEach(this.getFeatureLayers(),function(a){a.setScaleRange(e,c)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(e){this.opacity!=
e&&(w.forEach(this.getFeatureLayers(),function(c){c.setOpacity(e)}),this.opacity=this._options.opacity=e,this.onOpacityChange(e))},onVisibilityChange:function(e){this._fireUpdateStart();w.forEach(this.getFeatureLayers(),function(c){c.setVisibility(e)});this._fireUpdateEnd()},_setMap:function(e,c){this.inherited(arguments);this._map=e;var a=this._div=t.create("div",null,c);l.set(a,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return a},_unsetMap:function(e,c){this._io&&
this._io.cancel();L.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var a=this._div;a&&(c.removeChild(a),t.destroy(a));this._div=null;this.inherited(arguments)}});v.setObject("layers._ServiceGeneratedFeatureCollection",V,g);return V})},"esri/layers/WebTiledLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/url dojo/sniff dojo/string ../config ../kernel ../request ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){function m(e,c){var a=[];if(e&&c&&(c.customLayerParameters||c.customParameters)){var b=L.clone(c.customParameters||{});L.mixin(b,c.customLayerParameters||{});var d=x.urlToObject(e);for(var k in d.query)b.hasOwnProperty(k)||a.push(k+"\x3d"+d.query[k]);e=d.path+(a.length?"?"+a.join("\x26"):"")}return e}V=V(z,{declaredClass:"esri.layers.WebTiledLayer",constructor:function(e,c){c||(c={});this.urlTemplate=e=m(e,c.wmtsInfo);var a=new E(-2.0037508342787E7,-2.003750834278E7,
2.003750834278E7,2.0037508342787E7,new u({wkid:102100})),b=new E(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new u({wkid:102100}));this.initialExtent=c.initialExtent||a;this.fullExtent=c.fullExtent||b;this.tileInfo=c.tileInfo?c.tileInfo:new p({dpi:96,rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},
{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,
scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,
scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147},{level:23,resolution:.01866138385297604,scale:70.5310735}]});this.spatialReference=new u(this.tileInfo.spatialReference.toJson());this.copyright=c.copyright||"";var d=new w(e);a=d.scheme+"://"+d.authority+"/";this.urlPath=e.substring(a.length);this.tileServers=c.tileServers||[];-1===d.authority.indexOf("{subDomain}")&&
this.tileServers.push(a);if(c.subDomains&&0<c.subDomains.length&&1<d.authority.split(".").length){this.subDomains=c.subDomains;var k;v.forEach(c.subDomains,function(C){-1<d.authority.indexOf("${subDomain}")?k=d.scheme+"://"+l.substitute(d.authority,{subDomain:C})+"/":-1<d.authority.indexOf("{subDomain}")&&(k=d.scheme+"://"+d.authority.replace(/\{subDomain\}/gi,C)+"/");this.tileServers.push(k)},this)}this.tileServers=v.map(this.tileServers,function(C){"/"!==C.charAt(C.length-1)&&(C+="/");return C});
this._levelToLevelValue=[];var n=0;v.forEach(this.tileInfo.lods,function(C,B){this._levelToLevelValue[C.level]=C.levelValue||C.level;0===B&&(n=this._levelToLevelValue[C.level])},this);this._wmtsInfo=c.wmtsInfo;var q=L.hitch(this,function(){this.loaded=!0;this.onLoad(this)});if(t("chrome")){a=this.getTileUrl(n,0,0);b=f.defaults.io;var y="with-credentials"===b.useCors?x.canUseXhr(a,!0):-1;(b=-1<y?b.corsEnabledServers[y]:null)&&b.withCredentials?h({url:a,handleAs:"arraybuffer"}).addBoth(function(){q()}):
q()}else q()},getTileUrl:function(e,c,a){e=this._levelToLevelValue[e];var b=this.tileServers[c%this.tileServers.length]+l.substitute(this.urlPath,{level:e,z:e,col:a,x:a,row:c,y:c});b=b.replace(/\{level\}/gi,e).replace(/\{row\}/gi,c).replace(/\{col\}/gi,a).replace(/\{z\}/gi,e).replace(/\{x\}/gi,a).replace(/\{y\}/gi,c);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return x.addProxy(b)},_appendCustomLayerParameters:function(e){var c;if(this._wmtsInfo&&(this._wmtsInfo.customLayerParameters||
this._wmtsInfo.customParameters)){var a=L.clone(this._wmtsInfo.customParameters||{});L.mixin(a,this._wmtsInfo.customLayerParameters||{});for(c in a)e+=(-1===e.indexOf("?")?"?":"\x26")+c+"\x3d"+encodeURIComponent(a[c])}return e}});L.setObject("layers.WebTiledLayer",V,g);return V})},"esri/layers/WMSLayer":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff ../config ../graphic ../kernel ../request ../urlUtils ../dijit/PopupTemplate ../SpatialReference ../geometry/Extent ../geometry/Point ./DynamicMapServiceLayer ./WMSLayerInfo dojo/query".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c){v=v([e],{declaredClass:"esri.layers.WMSLayer",_CRS_TO_EPSG:{84:4326,83:4269,27:4267},_REVERSED_LAT_LONG_RANGES:[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],
[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],_WEB_MERCATOR:[102100,3857,102113,900913],_WORLD_MERCATOR:[3395,54004],allExtents:[],version:null,constructor:function(a,b){var d=u.urlToObject(a);d.query&&(d.query.version||d.query.Version||d.query.VERSION)&&
(this.version=d.query.version||d.query.Version||d.query.VERSION);this.url=a=this._stripParameters(a,"version service request bbox format height width layers srs crs styles transparent bgcolor exceptions time elevation sld wfs".split(" "));this._url=u.urlToObject(a);this._getCapabilitiesURL=a;this._initLayer=w.hitch(this,this._initLayer);this._parseCapabilities=w.hitch(this,this._parseCapabilities);this._getCapabilitiesError=w.hitch(this,this._getCapabilitiesError);b?(this.customParameters=b.customParameters,
this.customLayerParameters=b.customLayerParameters,this.imageFormat=this._getImageFormat(b.format),this.imageTransparency=!1!==b.transparent,this.visibleLayers=b.visibleLayers?b.visibleLayers:[],this.version=b.version||this.version,b.resourceInfo?this._readResourceInfo(b.resourceInfo):this._getCapabilities()):(this.imageFormat="image/png",this.imageTransparency=!0,this.visibleLayers=[],this._getCapabilities());this._blankImageURL=V.toUrl("../images/pixel.png");this.extentProcessor=this._createExtentProcessor(0);
this._createChildLayer()},setVisibleLayers:function(a){this.visibleLayers=(a=this._checkVisibleLayersList(a))?a:[];this.refresh(!0)},setImageFormat:function(a){this.imageFormat=this._getImageFormat(a);this.refresh(!0)},setImageTransparency:function(a){this.imageTransparency=a;this.refresh(!0)},setCustomParameters:function(a,b){this.customParameters=a;this.customLayerParameters=b;this.refresh(!0)},refresh:function(){this._refreshTS=Date.now();this.inherited(arguments);this._childLayer&&this._childLayer.refresh.apply(this._childLayer,
arguments)},getImageUrl:function(a,b,d,k){if(this.visibleLayers&&0!==this.visibleLayers.length){a=this._getImageParams(a,b,d);a=this._mixinCustomLayerParameters(a);b=this.getMapURL;var n;b+=-1===b.indexOf("?")?"?":"";for(n in a)a.hasOwnProperty(n)&&(b+="?"===b.substring(b.length-1,b.length)?"":"\x26",b+=n+"\x3d"+a[n]);b=this.addTimestampToURL(b);k(u.addProxy(b))}else k(this._blankImageURL)},_setMap:function(a,b,d){var k=this.inherited(arguments);a.wrapAround180?this._childLayer&&(this.suspended&&
this._childLayer.suspend(),this._childLayer._setMap(a,k)):this._childLayer=this.extentProcessor=null;return k},_unsetMap:function(a,b){this._childLayer&&this._childLayer._unsetMap(a,this._div);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._childLayer&&this._childLayer.suspend()},onResume:function(){this.inherited(arguments);this._childLayer&&this._childLayer.resume()},_createChildLayer:function(){this._childLayer=new e(null,{extentProcessor:this._createExtentProcessor(1)});
this._childLayer._isChildLayer=!0;this._childLayer.getImageUrl=w.hitch(this,this.getImageUrl);this._childLayer.loaded=!0},_createExtentProcessor:function(a){return w.hitch(this,this._extentProcessor,a)},_extentProcessor:function(a,b){var d=b.extent,k=b.width,n=0;if(d){var q=d.getWidth()/k,y=d.bisect();d=y.extents;var C=d[a];C&&(k=y.marginLeft/q,n=0===a?k:k+d[0].getWidth()/q,k=Math.ceil(C.getWidth()/q),n=Math.ceil(n));d=C}return{extent:d,width:k,marginLeft:n}},_getImageParams:function(a,b,d){var k=
a.spatialReference.wkid;-1===t.indexOf(this.spatialReferences,k)&&a.spatialReference.latestWkid&&(k=a.spatialReference.latestWkid);if(t.some(this._WEB_MERCATOR,function(B){return B==k})){var n=t.filter(this.spatialReferences,function(B){return t.some(this._WEB_MERCATOR,function(D){return D==B})},this);0===n.length&&(n=t.filter(this.spatialReferences,function(B){return t.some(this._WORLD_MERCATOR,function(D){return D==B})},this));k=0<n.length?n[0]:this._WEB_MERCATOR[1]}this.spatialReferences=t.filter(this.spatialReferences,
function(B){return B!==k});this.spatialReferences.unshift(k);n=a.xmin;var q=a.xmax,y=a.ymin;a=a.ymax;var C={SERVICE:"WMS",REQUEST:"GetMap"};C.FORMAT=this.imageFormat;C.TRANSPARENT=this.imageTransparency?"TRUE":"FALSE";C.STYLES="";C.VERSION=this.version;C.LAYERS=this.visibleLayers?this.visibleLayers.toString():null;C.WIDTH=b;C.HEIGHT=d;this.maxWidth<b&&(C.WIDTH=this.maxWidth);this.maxHeight<d&&(C.HEIGHT=this.maxHeight);b=k?k:NaN;isNaN(b)||("1.3.0"==this.version?C.CRS="EPSG:"+b:C.SRS="EPSG:"+b);"1.3.0"==
this.version&&this._useLatLong(b)?C.BBOX=y+","+n+","+a+","+q:C.BBOX=n+","+y+","+q+","+a;return C},_initLayer:function(a,b){this.spatialReference=new z(this.extent.spatialReference);this.initialExtent=new p(this.extent);this.fullExtent=new p(this.extent);this.visibleLayers=this._checkVisibleLayersList(this.visibleLayers);var d=w.hitch(this,function(){this.loaded=!0;this.onLoad(this);var q=this._loadCallback;q&&(delete this._loadCallback,q(this))});if(l("chrome")){var k=f.defaults.io,n="with-credentials"===
k.useCors?u.canUseXhr(this.getMapURL,!0):-1;(k=-1<n?k.corsEnabledServers[n]:null)&&k.withCredentials?x({url:this.getMapURL,handleAs:"text",content:{SERVICE:"WMS",REQUEST:"GetMap"}}).addBoth(function(){d()}):d()}else d()},_readResourceInfo:function(a){a.extent?a.layerInfos?(this.extent=a.extent,this.allExtents[0]=a.extent,this.layerInfos=a.layerInfos,this.description=a.description?a.description:"",this.copyright=a.copyright?a.copyright:"",this.title=a.title?a.title:"",this.getMapURL=a.getMapURL?a.getMapURL:
this._getCapabilitiesURL,this.getFeatureInfoURL=a.getFeatureInfoURL,this.featureInfoFormat=a.featureInfoFormat,this.version=a.version?a.version:"1.3.0",this.maxWidth=a.maxWidth?a.maxWidth:5E3,this.maxHeight=a.maxHeight?a.maxHeight:5E3,this.spatialReferences=a.spatialReferences?a.spatialReferences:[],this.imageFormat=this._getImageFormat(a.format),this.setScaleRange(a.minScale,a.maxScale),this.customLayerParameters=a.customLayerParameters||this.customLayerParameters,this.customParameters=a.customParameters||
this.customParameters,this._initLayer()):this._errorHandler(Error("esri.layers.WMSLayer: unable to find the 'layerInfos' property in resourceInfo")):this._errorHandler(Error("esri.layers.WMSLayer: Unable to find the 'extent' property in resourceInfo."))},_getCapabilities:function(a){var b=this._url.query?this._url.query:{};b.SERVICE="WMS";b.REQUEST="GetCapabilities";this.version&&(b.VERSION=this.version);b=this._mixinCustomParameters(b);var d=this._url.path+"?",k;for(k in b)b.hasOwnProperty(k)&&(d+=
"?"==d.substring(d.length-1,d.length)?"":"\x26",d+=k+"\x3d"+b[k]);x({url:d,handleAs:a||"xml",headers:{"Content-Type":null},load:this._parseCapabilities,error:this._getCapabilitiesError},{usePost:!1})},_parseCapabilities:function(a,b){if(a){if("text"===b.handleAs){try{var d=(new DOMParser).parseFromString(a,"application/xml")}catch(r){}d&&!d.getElementsByTagName("parsererror").length||this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (XML Parse error.)"))}else d=
a;var k=this;this.version=this._getAttributeValue("WMS_Capabilities","version",d,null);this.version||(this.version=this._getAttributeValue("WMT_MS_Capabilities","version",d,"1.3.0"));var n=this._getTag("Service",d);this.title=this._getTagValue("Title",n,"");this.title||(this.title=this._getTagValue("Name",n,""));this.copyright=this._getTagValue("AccessConstraints",n,"");this.description=this._getTagValue("Abstract",n,"");this.maxWidth=parseInt(this._getTagValue("MaxWidth",n,5E3),10);this.maxHeight=
parseInt(this._getTagValue("MaxHeight",n,5E3),10);if(n=this._getTag("Layer",d)){var q=this._getLayerInfo(n),y=0,C=null;n=this._getTag("Capability",d);t.forEach(n.childNodes,function(r){"Layer"==r.nodeName&&(0===y?C=r:(1===y&&q.name&&(q.name="",q.subLayers=[],q.subLayers.push(this._getLayerInfo(C))),q.subLayers.push(this._getLayerInfo(r))),y++)},this);if(q&&(this.layerInfos=q.subLayers,this.layerInfos&&0!==this.layerInfos.length||(this.layerInfos=[q]),this.extent=q.extent,this.extent||(q.extent=new p(this.layerInfos[0].extent.toJson()),
this.extent=q.extent),this.allExtents=q.allExtents,this.allExtents&&this.allExtents.length||(q.allExtents=[],t.forEach(this.layerInfos[0].allExtents,function(r,A){r&&(q.allExtents[A]=new p(r.toJson()))}),this.allExtents=q.allExtents),this.spatialReferences=q.spatialReferences,!this.spatialReferences.length&&0<this.layerInfos.length)){var B=function(r){var A;for(A=0;A<r.subLayers.length;A++){var G=r.subLayers[A],H=G.spatialReferences;!H.length&&G.subLayers&&0<G.subLayers.length&&(H=B(G));if(H.length)return H}return[]};
for(n=0;n<this.layerInfos.length;n++){var D=this.layerInfos[n];this.spatialReferences=this.layerInfos[0].spatialReferences;!this.spatialReferences.length&&D.subLayers&&0<D.subLayers.length&&(this.spatialReferences=B(D));if(this.spatialReferences.length)break}}n=function(r){return(r=L.query("DCPType",k._getTag(r,d)))&&0<r.length&&(r=L.query("HTTP",r[0]))&&0<r.length&&(r=L.query("Get",r[0]))&&0<r.length&&(r=k._getAttributeValue("OnlineResource","xlink:href",r[0],null))?(r.indexOf("\x26")===r.length-
1&&(r=r.substring(0,r.length-1)),k._stripParameters(r,["service","request"])):null};D=function(r){var A=[];0===L.query("Operation",d).length?t.forEach(L.query("Format",k._getTag(r,d)),function(G){A.push(G.text?G.text:G.textContent)}):(t.forEach(L.query("Operation",d),function(G){G.getAttribute("name")===r&&t.forEach(L.query("Format",G),function(H){A.push(H.text?H.text:H.textContent)})}),A.length||t.forEach(L.query("Format",k._getTag(r,d)),function(G){A.push(G.text?G.text:G.textContent)}));return A};
this.getMapURL=n("GetMap")||this._getCapabilitiesURL;this.getMapFormats=D("GetMap");this.getMapFormats.length&&!t.some(this.getMapFormats,function(r){return-1<r.indexOf(this.imageFormat)},this)&&(this.imageFormat=this.getMapFormats[0]);if(this.getFeatureInfoURL=n("GetFeatureInfo"))this.getFeatureInfoFormats=D("GetFeatureInfo"),-1<t.indexOf(this.getFeatureInfoFormats,"text/html")?this.featureInfoFormat="text/html":-1<t.indexOf(this.getFeatureInfoFormats,"text/plain")&&(this.featureInfoFormat="text/plain");
if(!this.featureInfoFormat){var F=function(r){if(r&&(r.queryable=!1,r.subLayers))for(var A=0;A<r.subLayers.length;A++)F(r.subLayers[A])};F(q)}this._initLayer()}else this._errorHandler(Error("esri.layers.WMSLayer: Response does not contain any layers."))}else"xml"===b.handleAs?this._getCapabilities("text"):this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (Response is null.)"))},_getCapabilitiesError:function(a){a&&a.message&&(a.message="GetCapabilities request for "+
this._getCapabilitiesURL+" failed. ("+a.message+")");this._errorHandler(a)},_getLayerInfo:function(a){if(!a)return null;var b=new c;b.name="";b.title="";b.description="";b.allExtents=[];b.spatialReferences=[];b.queryable="1"===a.getAttribute("queryable");b.subLayers=[];var d=this._getTag("LatLonBoundingBox",a);d&&(b.allExtents[0]=this._getExtent(d,4326));var k=this._getTag("EX_GeographicBoundingBox",a);if(k){var n=new p(0,0,0,0,new z({wkid:4326}));n.xmin=parseFloat(this._getTagValue("westBoundLongitude",
k,0));n.ymin=parseFloat(this._getTagValue("southBoundLatitude",k,0));n.xmax=parseFloat(this._getTagValue("eastBoundLongitude",k,0));n.ymax=parseFloat(this._getTagValue("northBoundLatitude",k,0));b.allExtents[0]=n}d||k||(n=new p(-180,-90,180,90,new z({wkid:4326})),b.allExtents[0]=n);b.extent=b.allExtents[0];var q=-1<t.indexOf(["1.0.0","1.1.0","1.1.1"],this.version)?"SRS":"CRS";t.forEach(a.childNodes,function(y){if("Name"==y.nodeName)b.name=(y.text?y.text:y.textContent)||"";else if("Title"==y.nodeName)b.title=
(y.text?y.text:y.textContent)||"";else if("Abstract"==y.nodeName)b.description=(y.text?y.text:y.textContent)||"";else if("BoundingBox"==y.nodeName){var C=y.getAttribute(q);C&&0===C.indexOf("EPSG:")?(C=parseInt(C.substring(5),10),0===C||isNaN(C)||(y="1.3.0"==this.version?this._getExtent(y,C,this._useLatLong(C)):this._getExtent(y,C),b.allExtents[C]=y,b.extent||(b.extent=y))):C&&0===C.indexOf("CRS:")?(C=parseInt(C.substring(4),10),0===C||isNaN(C)||(this._CRS_TO_EPSG[C]&&(C=this._CRS_TO_EPSG[C]),b.allExtents[C]=
this._getExtent(y,C))):(C=parseInt(C,10),0===C||isNaN(C)||(b.allExtents[C]=this._getExtent(y,C)))}else if(y.nodeName==q)y=(y.text?y.text:y.textContent).split(" "),t.forEach(y,function(B){B=-1<B.indexOf(":")?parseInt(B.split(":")[1],10):parseInt(B,10);0===B||isNaN(B)||(this._CRS_TO_EPSG[B]&&(B=this._CRS_TO_EPSG[B]),-1==t.indexOf(b.spatialReferences,B)&&b.spatialReferences.push(B))},this);else if("Style"!=y.nodeName||b.legendURL)"Layer"===y.nodeName&&b.subLayers.push(this._getLayerInfo(y));else if(y=
this._getTag("LegendURL",y))if(y=this._getTag("OnlineResource",y))b.legendURL=y.getAttribute("xlink:href")},this);b.title=b.title||b.name;return b},_getImageFormat:function(a){switch(a?a.toLowerCase():""){case "jpg":return"image/jpeg";case "bmp":return"image/bmp";case "gif":return"image/gif";case "svg":return"image/svg+xml";default:return"image/png"}},getImageFormat:function(){switch(this.imageFormat?this.imageFormat.toLowerCase():""){case "image/jpeg":return"jpg";case "image/bmp":return"bmp";case "image/gif":return"gif";
case "image/svg+xml":return"svg";default:return"png"}},_getExtent:function(a,b,d){if(a){var k=new p;var n=parseFloat(a.getAttribute("minx")),q=parseFloat(a.getAttribute("miny")),y=parseFloat(a.getAttribute("maxx"));a=parseFloat(a.getAttribute("maxy"));d?(k.xmin=isNaN(q)?-1*Number.MAX_VALUE:q,k.ymin=isNaN(n)?-1*Number.MAX_VALUE:n,k.xmax=isNaN(a)?Number.MAX_VALUE:a,k.ymax=isNaN(y)?Number.MAX_VALUE:y):(k.xmin=isNaN(n)?-1*Number.MAX_VALUE:n,k.ymin=isNaN(q)?-1*Number.MAX_VALUE:q,k.xmax=isNaN(y)?Number.MAX_VALUE:
y,k.ymax=isNaN(a)?Number.MAX_VALUE:a);k.spatialReference=new z({wkid:b})}return k},_useLatLong:function(a){var b;for(b=0;b<this._REVERSED_LAT_LONG_RANGES.length;b++){var d=this._REVERSED_LAT_LONG_RANGES[b];if(a>=d[0]&&a<=d[1]){var k=!0;break}}return k},_getTag:function(a,b){var d=L.query(a,b);return d&&0<d.length?d[0]:null},_getTagValue:function(a,b,d){return(a=L.query(a,b))&&0<a.length?a[0].text?a[0].text:a[0].textContent:d},_getAttributeValue:function(a,b,d,k){return(a=L.query(a,d))&&0<a.length?
a[0].getAttribute(b):k},_checkVisibleLayersList:function(a){if(a&&0<a.length&&this.layerInfos&&0<this.layerInfos.length&&"number"==typeof a[0]){var b=[];t.forEach(a,function(d){d<this.layerInfos.length&&b.push(this.layerInfos[d].name)},this);a=b}return a},_stripParameters:function(a,b){var d=u.urlToObject(a),k,n=[];for(k in d.query)d.query.hasOwnProperty(k)&&-1===t.indexOf(b,k.toLowerCase())&&n.push(k+"\x3d"+d.query[k]);return d.path+(n.length?"?"+n.join("\x26"):"")},_getPopupGraphic:function(a,b){var d=
this.visibleLayers;if(!d||0===d.length)return null;var k=this._popupGraphic;k||(k=new E({title:this.title||""}),k.setContent(function(D){var F=document.createElement("div");if(D=D&&D.attributes&&D.attributes.QUERY_URL)F.style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;",F.innerHTML='\x3ciframe sandbox src\x3d"'+D+'" width\x3d"250" height\x3d"147" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" style\x3d"position:absolute;top:0;left:0;width:100%;height:100%;border:0;background:url(\''+
V.toUrl("../dijit/images/loading-throb.gif")+"') transparent center no-repeat;\" onload\x3d\"(event.target || event.srcElement).style.background \x3d 'none';\"\x3e\x3c/iframe\x3e";return F}),k=this._popupGraphic=new g(null,null,{},k),k._layer=this);var n=function(D){var F=[];if(D&&(D.queryable&&D.showPopup&&D.name&&F.push(D.name),D.subLayers))for(var r=0;r<D.subLayers.length;r++){var A=n(D.subLayers[r]);A.length&&(F=F.concat(A))}return F},q=n({subLayers:this.layerInfos});q=t.filter(q,function(D){return-1<
t.indexOf(d,D)});if(q.length){var y=this.getFeatureInfoURL,C=this._getImageParams(a.extent,a.width,a.height);C=this._mixinCustomLayerParameters(C);C.REQUEST="GetFeatureInfo";C.INFO_FORMAT=this.featureInfoFormat;C.QUERY_LAYERS=q.join();C.FEATURE_COUNT=25;"1.3.0"===this.version?(C.I=Math.round(b.x),C.J=Math.round(b.y)):(C.X=Math.round(b.x),C.Y=Math.round(b.y));y+=-1===y.indexOf("?")?"?":"";for(var B in C)C.hasOwnProperty(B)&&(y+="?"===y.substring(y.length-1,y.length)?"":"\x26",y+=B+"\x3d"+C[B]);k.attributes.QUERY_URL=
y;return k}return null},_mixinCustomParameters:function(a){if(this.customParameters)for(var b in this.customParameters)a[b]=encodeURIComponent(this.customParameters[b]);return a},_mixinCustomLayerParameters:function(a){if(this.customLayerParameters||this.customParameters){var b=w.clone(this.customParameters||{});w.mixin(b,this.customLayerParameters||{});for(var d in b)"styles"===d.toLowerCase()&&delete a.STYLES,a[d]=encodeURIComponent(b[d])}return a}});w.setObject("layers.WMSLayer",v,h);return v})},
"esri/layers/WMSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel"],function(V,L,v,w,t){V=V(null,{declaredClass:"esri.layers.WMSLayerInfo",name:null,title:null,description:null,extent:null,legendURL:null,subLayers:[],allExtents:[],spatialReferences:[],queryable:!1,showPopup:!1,constructor:function(l){l&&(this.name=l.name,this.title=l.title,this.description=l.description,this.extent=l.extent,this.legendURL=l.legendURL,this.subLayers=l.subLayers?
l.subLayers:[],this.allExtents=l.allExtents?l.allExtents:[],this.spatialReferences=l.spatialReferences?l.spatialReferences:[],this.queryable=!!l.queryable,this.showPopup=!!l.showPopup)},clone:function(){var l={name:this.name,title:this.title,description:this.description,legendURL:this.legendURL};this.extent&&(l.extent=this.extent.getExtent());l.subLayers=[];v.forEach(this.subLayers,function(g){l.subLayers.push(g.clone())});l.allExtents=[];for(f in this.allExtents){var f=parseInt(f,10);isNaN(f)||(l.allExtents[f]=
this.allExtents[f].getExtent())}l.spatialReferences=[];v.forEach(this.spatialReferences,function(g){l.spatialReferences.push(g)});l.queryable=this.queryable;l.showPopup=this.showPopup;return l}});L.setObject("layers.WMSLayerInfo",V,t);return V})},"esri/layers/WFSLayer":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/on ../request ../kernel ../graphic ../renderers/jsonUtils ../symbols/jsonUtils ../Color ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent ../geometry/Point ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ./LabelClass ./GraphicsLayer".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C){V=V([C],{declaredClass:"esri.layers.WFSLayer",constructor:function(B){this.geometryType=this.describeFeatureTypeUrl=this.getFeatureUrl=this.layerNamespace="";this.fields=[];this.spatialReferences=[];this.fullExtent=null;this.visible=!0;this.renderer=null;this.id="WFSLayer";this._url="";this._version="1.1.0";this._layerName="";this._nsLayerNames={};this._layerDefinedGeometryType="esriGeometryComplex";this._wkid=3857;this._mode="snapshot";
this._maxFeatures=100;this._inverseResponse=this._inverseFilter=!1;this._nsGeometryFieldName=this._getFeatureRequest=this._nsFields="";this._graphicArray=[];this._gmlNS="http://www.opengis.net/gml";this._layerEventHandlers=[];this.customParameters=this._describeFeatureTypeCallback=this._getCapabilitiesCallback=null;this.showLabels=!0;this.labelingInfo=null;B&&(B.id&&(this.id=B.id),this.showLabels=null!==B.showLabels?B.showLabels:!0);this.onError=v.hitch(this,this.onError);this._errorSupport=v.hitch(this,
this._errorSupport);this._parseGml=v.hitch(this,this._parseGml);this._getCapabilities=v.hitch(this,this._getCapabilities);this._getCapabilitiesResponse=v.hitch(this,this._getCapabilitiesResponse);this._describeFeatureTypeResponse=v.hitch(this,this._describeFeatureTypeResponse);this._pointSymbol=new p(p.STYLE_CIRCLE,6,new m(m.STYLE_SOLID,new z([0,255,0]),1),new z([255,0,0]));this._lineSymbol=new m(m.STYLE_SOLID,new z([0,255,0]),3);this._polygonSymbol=new e(e.STYLE_SOLID,new m(m.STYLE_SOLID,new z([255,
0,0]),2),new z([255,255,0,.25]));this.loaded=!1;this._isProjectedOk=!0},initialize:function(B,D){B.id&&(this.id=B.id);B.url&&(this._url=B.url);B.version&&(this._version=B.version);this.customParameters=B.customParameters;this._getCapabilities(D)},selectLayer:function(B,D){this._layerName=B.layerName;this._wkid=B.wkid;this._mode=B.mode;this._maxFeatures=B.maxFeatures;this._inverseResponse=B.swapXY;this._inverseFilter=B.swapXYFilter;this.geometryType=B.geometryType;this._describeFeatureType(D);this.loaded=
!0},toJson:function(){var B={};B.id=this.id;B.url=this._url;B.version=this._version;B.mode="snapshot"===this._mode?0:1;B.name=this._layerName;B.geometryType=this.geometryType;B.wkid=this._wkid;B.maxFeatures=this._maxFeatures;B.swapXY=this._inverseResponse;B.swapXYFilter=this._inverseFilter;B.pointSymbol=this._pointSymbol.toJson();B.lineSymbol=this._lineSymbol.toJson();B.polygonSymbol=this._polygonSymbol.toJson();B.showLabels=this.showLabels;this.labelingInfo&&(B.labelingInfo=w.map(this.labelingInfo,
function(D){return D.toJson()}));this.customParameters&&(B.customParameters=this.customParameters);return B},fromJson:function(B,D){B.id&&(this.id=B.id);B.url&&(this._url=B.url);B.version&&(this._version=B.version);B.mode&&(this._mode=0===B.mode?"snapshot":"onDemand");B.name&&(this._layerName=B.name);B.geometryType&&(this.geometryType=B.geometryType);B.wkid&&(this._wkid=B.wkid);B.maxFeatures&&(this._maxFeatures=B.maxFeatures);B.swapXY&&(this._inverseResponse=B.swapXY);B.swapXYFilter&&(this._inverseFilter=
B.swapXYFilter);B.pointSymbol&&(this._pointSymbol=E.fromJson(B.pointSymbol));B.lineSymbol&&(this._lineSymbol=E.fromJson(B.lineSymbol));B.polygonSymbol&&(this._polygonSymbol=E.fromJson(B.polygonSymbol));this.showLabels=null!=B.showLabels?B.showLabels:!0;B.labelingInfo&&(this.labelingInfo=w.map(B.labelingInfo,function(F){return new y(F)}));this.customParameters=B.customParameters;this._getCapabilities(D);this.loaded=!0},setPointSymbol:function(B){this._pointSymbol=B},setLineSymbol:function(B){this._lineSymbol=
B},setPolygonSymbol:function(B){this._polygonSymbol=B},_setMap:function(B){this._map=B;var D=this.inherited(arguments);this._map&&(this._layerEventHandlers.push(this._map.on("extent-change",v.hitch(this,"refresh"))),this._layerEventHandlers.push(this.on("visibility-change",v.hitch(this,"_visibilityChange"))));this._getFeature();this.refresh();return D},_unsetMap:function(){for(var B=0;B<this._layerEventHandlers.length;B++)t.disconnect(this._layerEventHandlers[B]);this.refresh();this.inherited(arguments)},
refresh:function(){this.clear();this.redraw();"ondemand"===this._mode.toLowerCase()&&this._fireUpdateStart()},redraw:function(){if(this.visible)for(var B=0;B<this._graphicArray.length;B++){var D=this._graphicArray[B],F=D.geometry,r=null;"point"===F.type?r=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"multipoint"===F.type?r=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"polyline"===F.type?r=this.renderer?this.renderer.getSymbol(D):this._lineSymbol:"polygon"===F.type&&(r=
this.renderer?this.renderer.getSymbol(D):this._polygonSymbol);D.setSymbol(r);this.add(D)}},_visibilityChange:function(B){this.visible=B.visible;this.redraw()},onUpdateStart:function(){this._getFeature()},onUpdateEnd:function(){this.clear();this.redraw()},setLabelingInfo:function(B){B?(this.labelingInfo=B,this._fixLabelExpr()):delete this.labelingInfo;this.onLabelingInfoChange()},onLabelingInfoChange:function(){},_fixLabelExpr:function(){var B=/\[([^\[\]]+)\]/ig,D,F=this,r=function(A,G){var H=F._getField(G,
!0);return"["+(H&&H.name||G)+"]"};w.forEach(this.labelingInfo,function(A){if(D=A.labelExpression)A.labelExpression=D.replace(B,r)})},_getField:function(B,D){var F=this.fields;if(!F||0===F.length)return null;var r;D&&(B=B.toLowerCase());w.some(F,function(A){var G=!1;(G=D?A&&A.name.toLowerCase()===B?!0:!1:A&&A.name===B?!0:!1)&&(r=A);return G});return r},setCustomParameters:function(B){this.customParameters=B;this._getFeature();this.refresh()},_getCapabilities:function(B){this._getCapabilitiesCallback=
B;B=v.trim(this._url);if(""===B)this.onError("WFSLayer: url is invalid");else if("1.0.0"!==this._version&&"1.1.0"!==this._version&&"2.0.0"!==this._version)this.onError("WFSLayer: version is invalid");else if(""!==B){var D=B.indexOf("?");D=this._checkForUrlInUrl(B,D);D="?"===B.charAt(B.length-1)?"":-1===D?"?":"\x26";B=B+D+"service\x3dWFS\x26request\x3dGetCapabilities\x26version\x3d"+this._version;B=this._appendCustomParameters(B);g({url:B,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._getCapabilitiesResponse,
this._errorSupport)}},_errorSupport:function(B){this.onError(B)},_getCapabilitiesResponse:function(B){var D,F,r,A=new DOMParser;try{var G=A.parseFromString(B,"text/xml"),H=this._readExceptionReport(G,B);if(H)this.onError("WFSLayer: getCapabilities - returns exception: "+H);else{var J=G.documentElement.attributes.getNamedItem("version");if(J){this._version=J.value;var O="2.0.0"===this._version?"http://www.opengis.net/wfs/2.0":"http://www.opengis.net/wfs";if("2.0.0"===this._version){var M=G.getElementsByTagNameNS("http://www.opengis.net/ows/1.1",
"Operation");for(D=0;D<M.length;D++){if((r=M[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===r.value){var K=M[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Get");this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("xlink:href").value}if(r&&"GetFeature"===r.value){var U=M[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Post");this.getFeatureUrl=U[0].attributes.getNamedItem("xlink:href").value}}}else if("1.1.0"===this._version)for(M=G.getElementsByTagNameNS("http://www.opengis.net/ows",
"Operation"),D=0;D<M.length;D++)(r=M[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===r.value&&(K=M[D].getElementsByTagNameNS("http://www.opengis.net/ows","Get"),this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("xlink:href").value),r&&"GetFeature"===r.value&&(U=M[D].getElementsByTagNameNS("http://www.opengis.net/ows","Post"))&&U.length&&(this.getFeatureUrl=U[0].attributes.getNamedItem("xlink:href").value);else if("1.0.0"===this._version){var Z=G.getElementsByTagNameNS(O,"DescribeFeatureType");
if(!Z||!Z.length){this.onError("WFSLayer: getCapabilities - no describeFeatureType info");return}K=Z[0].getElementsByTagNameNS(O,"Get");this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("onlineResource").value;var ca=G.getElementsByTagNameNS(O,"GetFeature");if(!ca||!ca.length){this.onError("WFSLayer: getCapabilities - no GetFeature info");return}(U=ca[0].getElementsByTagNameNS(O,"Post"))&&U.length&&(this.getFeatureUrl=U[0].attributes.getNamedItem("onlineResource").value)}this._nsLayerNames=
{};B=[];var fa=G.getElementsByTagNameNS(O,"FeatureTypeList");for(D=0;D<fa.length;D++){var ka=fa[D].getElementsByTagNameNS(O,"FeatureType");for(F=0;F<ka.length;F++){var ma=ka[F],ra=ma.getElementsByTagNameNS(O,"Name")[0],za=ra.textContent,ia=za.indexOf(":"),T=za.substring(0,ia),la=za.substring(ia+1),S=ra.lookupNamespaceURI(T);null===S&&(S=ra.lookupNamespaceURI(null));this._nsLayerNames[la]={prefix:T,namespace:S};var P=ma.getElementsByTagNameNS(O,"Title"),I=0<P.length?P[0].textContent:"";""===I&&(I=
la);this.spatialReferences=this._readFactoryCodes(this._version,ma);var ba=this._readDefaultBBOX(this._version,ma);B.push({name:la,title:I,spatialReferences:this.spatialReferences,extent:ba})}}this._describeFeatureType();var W=this._getCapabilitiesCallback;W&&W(B)}else this.onError("WFSLayer: getCapabilities - document not recognized.")}}catch(aa){this.onError("WFSLayer: getCapabilities - parsing error")}},_readFactoryCodes:function(B,D){var F,r=[];if("2.0.0"===B||"1.1.0"===B){var A=D.getElementsByTagNameNS("*",
"DefaultSRS");this._addCodeList(r,A[0]);A=D.getElementsByTagNameNS("*","DefaultCRS");this._addCodeList(r,A[0]);A=D.getElementsByTagNameNS("*","OtherSRS");for(F=0;F<A.length;F++)this._addCodeList(r,A[F]);A=D.getElementsByTagNameNS("*","OtherCRS");for(F=0;F<A.length;F++)this._addCodeList(r,A[F])}else"1.0.0"===B&&(A=D.getElementsByTagNameNS("*","SRS"),this._addCodeList(r,A[0]));for(A=!1;0<r.length;){4326===r[0]&&(A=!0);break}A||r.push(4326);return r},_addCodeList:function(B,D){if(D){var F=D.textContent.match(/\d+/g);
0<F.length&&(F=parseInt(F[F.length-1],10),84===F&&(F=4326),B.push(F))}},_readDefaultBBOX:function(B,D){if("2.0.0"===B||"1.1.0"===B){var F=D.getElementsByTagNameNS("*","WGS84BoundingBox");if(!F[0]||!F[0].attributes)return[];var r=F[0].getElementsByTagNameNS("*","LowerCorner");var A=F[0].getElementsByTagNameNS("*","UpperCorner");if(0>=r.length||0>=A.length)return[];var G=r[0].textContent;F=G.indexOf(" ");r=G.substring(0,F);G=G.substring(F+1);F=A[0].textContent;var H=F.indexOf(" ");A=F.substring(0,H);
F=F.substring(H+1)}else if("1.0.0"===B){F=D.getElementsByTagNameNS("*","LatLongBoundingBox");if(!F[0]||!F[0].attributes)return[];r=F[0].attributes.getNamedItem("minx").value;G=F[0].attributes.getNamedItem("miny").value;A=F[0].attributes.getNamedItem("maxx").value;F=F[0].attributes.getNamedItem("maxy").value}r=parseFloat(r,10);G=parseFloat(G,10);A=parseFloat(A,10);F=parseFloat(F,10);return[r,G,A,F]},_describeFeatureType:function(B){if(""!==this._layerName)if(""===this.describeFeatureTypeUrl)this.onError("WFSLayer: invalid describeFeatureType url");
else if(""===this._wkid)this.onError("WFSLayer: invalid wkid");else if("snapshot"!==this._mode&&"onDemand"!==this._mode)this.onError("WFSLayer: invalid mode");else if(""===this._maxFeatures||0>this._maxFeatures||1E6<this._maxFeatures)this.onError("WFSLayer: invalid maxFeatures");else if(this._describeFeatureTypeCallback=B,B=v.trim(this.describeFeatureTypeUrl),""!==B){var D=B.indexOf("?");D=this._checkForUrlInUrl(B,D);var F="?"===B.charAt(B.length-1)?"":-1===D?"?":"\x26",r=this._nsLayerNames[this._layerName];
if(void 0===r)this.onError("WFSLayer: invalid layerName");else D=r.prefix,r=r.namespace,B=B+F+"service\x3dWFS\x26request\x3dDescribeFeatureType\x26version\x3d"+this._version,B+="\x26typeName\x3d",""!==D&&(B+=D+":"),B+=encodeURIComponent(this._layerName),""!==D&&(B+="\x26namespace\x3dxmlns("+D+"\x3d"+encodeURIComponent(r)+")"),B=this._appendCustomParameters(B),g({url:B,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._describeFeatureTypeResponse,this._errorSupport)}},_describeFeatureTypeResponse:function(B){var D=
(new DOMParser).parseFromString(B,"text/xml");if(B=this._readExceptionReport(D,B))this.onError("WFSLayer: DescribeFeatureType - returns exception: "+B);else{this.fields=[];B=D.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","schema");for(D=0;D<B.length;D++){var F=this._readAllFields(B[D]);null!==F&&(this._layerDefinedGeometryType=F[0],this.fields=F[1])}this.geometryType&&""!==this.geometryType||(this.geometryType=this._layerDefinedGeometryType);for(D=0;D<this.fields.length;D++)B=this.fields[D],
"esriFieldTypeGeometry"===B.type&&(this._nsGeometryFieldName=B.name);this.layerNamespace=this._nsLayerNames[this._layerName].namespace;if(0===this.fields.length)this.onError("WFSLayer: DescribeFeatureType - can't get fields");else this._getFeature(),(D=this._describeFeatureTypeCallback)&&D(this.fields)}},_readAllFields:function(B){for(var D=B.childNodes,F=0;F<D.length;F++){var r=D[F];if("element"===r.localName){var A=r.attributes;if(A.name.value===this._layerName)return(D=A.type)?(r=D.value,D=r.indexOf(":"),
r=r.substring(D+1),this._readFieldsFromGlobalComplextType(B,r)):this._readFieldsFromLocalComplextType(r)}}return null},_readFieldsFromGlobalComplextType:function(B,D){for(var F=B.childNodes,r=0;r<F.length;r++){var A=F[r];if("complexType"===A.localName&&A.attributes.name.value===D)return this._readFieldsFromLocalComplextType(A)}return null},_readFieldsFromLocalComplextType:function(B){for(var D=[],F="esriGeometryComplex",r=B.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","element"),A=0;A<
r.length;A++){var G=r[A],H="",J=G.attributes.getNamedItem("name");J&&(H=J.value);if(""!==H){var O=B="",M=G.attributes.getNamedItem("type");J="unknown";if(null!==M){O=M.value;var K=O.indexOf(":");B=O.substring(0,K);O=O.substring(K+1);J=M.lookupNamespaceURI(B);null===J&&(J=M.lookupNamespaceURI(null))}if(""===O){G=G.childNodes;for(var U=0;U<G.length;U++)if(B=G[U],"simpleType"===B.localName){B=B.childNodes;for(U=0;U<B.length;U++)if(node2=B[U],"restriction"===node2.localName){M=node2.attributes.getNamedItem("base");
O=M.value;K=O.indexOf(":");B=O.substring(0,K);O=O.substring(K+1);break}if(""!==O)break}}G="Unknown";switch(O){case "integer":case "nonPositiveInteger":case "negativeInteger":case "long":case "int":case "short":case "byte":case "nonNegativeInteger":case "unsignedLong":case "unsignedInt":case "unsignedShort":case "unsignedByte":case "positiveInteger":G="esriFieldTypeInteger";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "float":case "double":case "decimal":G="esriFieldTypeDouble";D.push({name:H,
alias:H,type:G,wfsNamespace:J});break;case "boolean":case "string":case "gYearMonth":case "gYear":case "gMonthDay":case "gDay":case "gMonth":case "anyURI":case "QName":case "NOTATION":case "normalizedString":case "token":case "language":case "IDREFS":case "ENTITIES":case "NMTOKEN":case "NMTOKENS":case "Name":case "NCName":case "ID":case "IDREF":case "ENTITY":G="esriFieldTypeString";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "duration":case "dateTime":case "time":case "date":G="esriFieldTypeDate";
D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "PointPropertyType":case "MultiPointPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPoint";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "MultiCurvePropertyType":case "MultiLineStringPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolyline";D.push({name:H,alias:H,type:G,wfsNamespace:J});break;case "MultiSurfacePropertyType":case "MultiPolygonPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolygon";D.push({name:H,
alias:H,type:G,wfsNamespace:J});break;case "GeometryPropertyType":case "MultiGeometryPropertyType":G="esriFieldTypeGeometry",F="esriGeometryComplex",D.push({name:H,alias:H,type:G,wfsNamespace:J})}}}return[F,D]},_getFeature:function(){var B="\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3cGetFeature \n xmlns:xsi\x3d'http://www.w3.org/2001/XMLSchema-instance'\n xmlns:gml\x3d'http://www.opengis.net/gml'\n xmlns:ogc\x3d'http://www.opengis.net/ogc'\n xmlns:wfs\x3d'http://www.opengis.net/wfs'\n";
B="2.0.0"===this._version?B+" xmlns\x3d'http://www.opengis.net/wfs/2.0'\n":B+" xmlns\x3d'http://www.opengis.net/wfs'\n";var D=this._nsLayerNames[this._layerName];if(void 0===D)this.onError("WFSLayer: invalid layerName");else{var F=D.prefix;D=D.namespace;if("ondemand"===this._mode.toLowerCase()&&""===this._nsGeometryFieldName)this.onError("WFSLayer: GetFeature - can't use 'onDemand' mode as geometryFieldName is unknown.");else if(B+=" xmlns:"+F+"\x3d'"+D+"'\n",B="2.0.0"===this._version?B+(" version\x3d'"+
this._version+"' service\x3d'WFS' count\x3d'"+this._maxFeatures+"'\x3e\n"):B+(" version\x3d'"+this._version+"' service\x3d'WFS' maxFeatures\x3d'"+this._maxFeatures+"'\x3e\n"),B="2.0.0"===this._version?B+(" \x3cQuery typeNames\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"):B+(" \x3cwfs:Query typeName\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"),"ondemand"===this._mode.toLowerCase()&&(B=B+"  \x3cogc:Filter xmlns:ogc\x3d'http://www.opengis.net/ogc'\x3e\n   \x3cogc:BBOX\x3e\n    \x3cogc:PropertyName\x3e"+
(F+":"+this._nsGeometryFieldName+"\x3c/ogc:PropertyName\x3e\n"),B+="    \x3cgml:Box srsName\x3d'EPSG:"+this._wkid+"'\x3e\n",B=this._inverseFilter?B+"      \x3cgml:coordinates\x3e{ymin},{xmin} {ymax},{xmax}\x3c/gml:coordinates\x3e\n":B+"      \x3cgml:coordinates\x3e{xmin},{ymin} {xmax},{ymax}\x3c/gml:coordinates\x3e\n",B+="    \x3c/gml:Box\x3e\n   \x3c/ogc:BBOX\x3e\n  \x3c/ogc:Filter\x3e\n"),B="2.0.0"===this._version?B+" \x3c/Query\x3e\n":B+" \x3c/wfs:Query\x3e\n",this._getFeatureRequest=B+"\x3c/GetFeature\x3e\n",
""===this.getFeatureUrl)this.onError("WFSLayer: getFeature - server doesn't support POST method.");else if(""!==this._getFeatureRequest&&this._map&&null!==this._map.spatialReference.wkid){B=this._getFeatureRequest;if("ondemand"===this._mode.toLowerCase()){B=this._map.extent.xmin;F=this._map.extent.ymin;D=this._map.extent.xmax;var r=this._map.extent.ymax,A={},G=this._map.spatialReference,H=new c(this._wkid);this._projectFromSRToSR(G,H,B,F,A)&&(B=A.x,F=A.y);this._projectFromSRToSR(G,H,D,r,A)&&(D=A.x,
r=A.y);B=this._getFeatureRequest.replace(/{xmin}/,B).replace(/{ymin}/,F).replace(/{xmax}/,D).replace(/{ymax}/,r)}F=this._appendCustomParameters(this.getFeatureUrl);g({url:F,handleAs:"text",headers:{"Content-Type":"text/xml"},postData:B},{usePost:!0}).then(this._parseGml,this._errorSupport)}}},_parseGml:function(B){if(this._map&&this._map.spatialReference&&this._map.spatialReference.wkid){var D=(new DOMParser).parseFromString(B,"text/xml");if(B=this._readExceptionReport(D,B))this.onError("WFSLayer: GetFeature - returns exception: "+
B);else this._gmlNS="2.0.0"===this._version?"http://www.opengis.net/gml/3.2":"http://www.opengis.net/gml",""===this._wkid&&(this._wkid=this._map.spatialReference.wkid),this._graphicArray=this._readFeatureMembers(D,this._wkid,2,this._nsLayerNames[this._layerName].namespace,this._layerName),this.fullExtent=this._createFullExtent(this._graphicArray),this.onLabelingInfoChange(),"ondemand"===this._mode.toLowerCase()?this._fireUpdateEnd():this.refresh()}},_limit4326:function(B){for(var D=0;D<B.length;D++){var F=
B[D].geometry;4326===F.spatialReference.wkid&&(F.x=this._limit4326X(F.x),F.y=this._limit4326Y(F.y))}},_limit4326X:function(B){180<=B&&(B=179.99);-180>=B&&(B=-179.99);return B},_limit4326Y:function(B){90<=B&&(B=89.99);-90>=B&&(B=-89.99);return B},_createFullExtent:function(B){for(var D=null,F=0;F<B.length;F++){var r=B[F].geometry,A=null;(A="point"===r.geometryType?new b(r.x,r.y,r.x,r.y,r.spatialReference):r.getExtent())&&(D=null===D?A:D.union(A))}return D},_readExceptionReport:function(B,D){return 0<
B.getElementsByTagNameNS("*","ExceptionReport").length||0<B.getElementsByTagNameNS("*","ServiceExceptionReport").length?D:""},_readFeatureMembers:function(B,D,F,r,A){var G=this._readWkidFromNode(B);-1!=G&&(D=G);G=this._readSrsDimension(B);0!==G&&(F=G);var H=[];var J=B.getElementsByTagNameNS("*","featureMembers");for(G=0;G<J.length;G++){var O=J[G];var M=O.getElementsByTagNameNS(r,A);0===M.length&&(M=O.getElementsByTagNameNS(null,A));0===M.length&&(M=O.getElementsByTagNameNS("*",A));for(O=0;O<M.length;O++)this._readLayer(H,
M[O],D,F)}J=B.getElementsByTagNameNS("*","featureMember");for(G=0;G<J.length;G++)for(O=J[G],M=O.getElementsByTagNameNS(r,A),0===M.length&&(M=O.getElementsByTagNameNS(null,A)),0===M.length&&(M=O.getElementsByTagNameNS("*",A)),O=0;O<M.length;O++)this._readLayer(H,M[O],D,F);J=B.getElementsByTagNameNS("*","member");for(G=0;G<J.length;G++)for(O=J[G],M=O.getElementsByTagNameNS(r,A),0===M.length&&(M=O.getElementsByTagNameNS(null,A)),0===M.length&&(M=O.getElementsByTagNameNS("*",A)),O=0;O<M.length;O++)this._readLayer(H,
M[O],D,F);return H},_readLayer:function(B,D,F,r){var A=this._readSrsDimension(D);0!==A&&(r=A);var G=D.childNodes,H="",J=null;for(D=0;D<G.length;D++){var O=G[D];if(1==O.nodeType&&(A=O.localName,"boundedBy"!==A)){O=this._readGeometry(O,F,r);if(!this._isProjectedOk){this._isProjectedOk=!0;break}if(null!==O&&(J=O,H=A,"point"!==J.geometryType||"esriGeometryPolygon"!==this.geometryType&&"esriGeometryPolyline"!==this.geometryType))break}}if(J){F={};for(D=0;D<G.length;D++)if(O=G[D],A=O.localName,r=O.textContent,
A!==H)for(O=0;O<this.fields.length;O++){var M=this.fields[O];M.name==A&&(F[A]="esriFieldTypeDouble"===M.type?parseFloat(r,10):"esriFieldTypeInteger"===M.type?parseInt(r,10):r.trim())}this._convertWFSGeometryToGraphicObjects(B,J,F)}},_convertWFSGeometryToGraphicObjects:function(B,D,F){if("point"===D.geometryType&&("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType)){var r=new x;D=new d(D);r.setGeometry(D);r.setAttributes(F);B.push(r)}else if("multipoint"===D.geometryType&&
("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType))r=new x,D=new k(D),r.setGeometry(D),r.setAttributes(F),B.push(r);else if("polyline"===D.geometryType&&("esriGeometryPolyline"===this.geometryType||"esriGeometryComplex"===this.geometryType))r=new x,D=new n(D),r.setGeometry(D),r.setAttributes(F),B.push(r);else if("polygon"===D.geometryType&&("esriGeometryPolygon"===this.geometryType||"esriGeometryComplex"===this.geometryType))r=new x,D=new q(D),r.setGeometry(D),r.setAttributes(F),
B.push(r);else if("multigeometry"===D.geometryType)for(r=0;r<D.length;r++)this._convertWFSGeometryToGraphicObjects(B,D[r],F)},_readGeometry:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);var A=B.getElementsByTagNameNS(this._gmlNS,"MultiSurface");if(1<=A.length)for(r=0;r<A.length;)return this._readMultiSurface(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"MultiCurve");if(1<=A.length){var G=[];for(r=0;r<A.length;r++){var H=this._readMultiCurve(A[r],
D,F);for(B=0;B<H.length;B++)G.push(H[B])}return{geometryType:"polyline",paths:G,spatialReference:{wkid:this._map.spatialReference.wkid}}}A=B.getElementsByTagNameNS(this._gmlNS,"MultiGeometry");for(r=0;r<A.length;)return this._readMultiGeometry(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"Geometry");for(r=0;r<A.length;)return this._readGeometry(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"GeometryCollection");for(r=0;r<A.length;)return this._readGeometryCollection(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,
"Surface");for(r=0;r<A.length;)return this._readSurface(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"Curve");for(r=0;r<A.length;)return this._readCurve(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"MultiPolygon");for(r=0;r<A.length;)return this._readMultiPolygon(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"Polygon");for(r=0;r<A.length;)return this._readPolygon(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"MultiLineString");for(r=0;r<A.length;)return this._readMultiLineString(A[r],
D,F);A=B.getElementsByTagNameNS(this._gmlNS,"LineString");for(r=0;r<A.length;){D=this._readLineString(A[r],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};r=[];for(B=0;B<D.length;B++)r.push(D[B]);F.paths.push(r);return F}A=B.getElementsByTagNameNS(this._gmlNS,"LinearRing");for(r=0;r<A.length;)return this._readLinearRing(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"Box");if(1<=A.length)for(r=0;r<A.length;)return this._readBox(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,
"Envelope");for(r=0;r<A.length;)return this._readEnvelope(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"MultiPoint");if(1<=A.length)for(r=0;r<A.length;)return this._readMultiPoint(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"Point");for(r=0;r<A.length;)return this._readPoint(A[r],D,F);return null},_readGeometryCollection:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};
var A=B.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(B=0;B<A.length;B++){var G=this._readGeometryMember(A[B],D,F);r.push(G)}return r},_readMultiGeometry:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(B=0;B<A.length;B++){var G=this._readGeometryMember(A[B],D,F);r.push(G)}return r},
_readSurface:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);var A=[];A.geometryType="multigeometry";A.spatialReference={wkid:this._map.spatialReference.wkid};var G=B.getElementsByTagNameNS(this._gmlNS,"Point");for(r=0;r<G.length;r++)A.push(this._readPoint(G[r],D,F));G=B.getElementsByTagNameNS(this._gmlNS,"patches");for(r=0;r<G.length;r++){B=this._readPatches(G[r],D,F);for(var H=0;H<B.length;H++)A.push(B[H])}return A},_readMultiSurface:function(B,
D,F){var r;var A=this._readWkidFromNode(B);-1!=A&&(D=A);A=this._readSrsDimension(B);0!==A&&(F=A);var G=[];G.geometryType="multigeometry";G.spatialReference={wkid:this._map.spatialReference.wkid};var H=B.getElementsByTagNameNS(this._gmlNS,"surfaceMember");for(A=0;A<H.length;A++){var J=this._readSurfaceMember(H[A],D,F);for(r=0;r<J.length;r++)G.push(J[r])}H=B.getElementsByTagNameNS(this._gmlNS,"surfaceMembers");for(A=0;A<H.length;A++)for(B=this._readSurfaceMembers(H[A],D,F),r=0;r<B.length;r++)G.push(B[r]);
return G},_readCurve:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var A=B.getElementsByTagNameNS(this._gmlNS,"segments");for(B=0;B<A.length;B++)for(var G=this._readSegments(A[B],D,F),H=0;H<G.length;H++)r.paths.push(G[H]);return r},_readSegments:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];
r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"LineStringSegment");for(B=0;B<A.length;B++){var G=this._readLineStringSegment(A[B],D,F);r.push(G)}return r},_readLineStringSegment:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"posList");0<B.length;)return this._readPosList(B[0],D,F)},_readMultiCurve:function(B,D,F){var r;
var A=this._readWkidFromNode(B);-1!=A&&(D=A);A=this._readSrsDimension(B);0!==A&&(F=A);var G=[];G.spatialReference={wkid:this._map.spatialReference.wkid};var H=B.getElementsByTagNameNS(this._gmlNS,"curveMember");for(A=0;A<H.length;A++){var J=this._readCurveMember(H[A],D,F);for(r=0;r<J.length;r++)G.push(J[r])}H=B.getElementsByTagNameNS(this._gmlNS,"curveMembers");for(A=0;A<H.length;A++)for(J=this._readCurveMembers(H[A],D,F),r=0;r<J.length;r++)G.push(J[r]);return G},_readGeometryMember:function(B,D,
F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);var A=B.getElementsByTagNameNS(this._gmlNS,"Point");for(r=0;r<A.length;)return this._readPoint(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"LineString");for(r=0;r<A.length;){D=this._readLineString(A[r],D,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};r=[];for(B=0;B<D.length;B++)r.push(D[B]);F.paths.push(r);return F}A=B.getElementsByTagNameNS(this._gmlNS,"Polygon");
for(r=0;r<A.length;)return this._readPolygon(A[r],D,F);return null},_readSurfaceMember:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"Polygon");for(B=0;B<A.length;B++){var G=this._readPolygon(A[B],D,F);r.push(G)}return r},_readSurfaceMembers:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);
0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"Polygon");for(B=0;B<A.length;B++){var G=this._readPolygon(A[B],D,F);r.push(G)}return r},_readCurveMember:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"LineString");
for(B=0;B<A.length;B++){var G=this._readLineString(A[B],D,F);r.push(G)}return r},_readCurveMembers:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"LineString");for(B=0;B<A.length;B++){var G=this._readLineString(A[B],D,F);r.push(G)}return r},_readBox:function(B,D,F){var r,A,G,H,J=this._readWkidFromNode(B);-1!=
J&&(D=J);J=this._readSrsDimension(B);0!==J&&(F=J);J={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var O=B.getElementsByTagNameNS(this._gmlNS,"coordinates");for(r=0;r<O.length;r++)if(A=this._readCoordinates(O[r],D,F)){if(1<=A.length){var M=G=A[0][0];var K=H=A[0][1]}1<=A.length&&(G=A[1][0],H=A[1][1]);J.rings.push([[M,K],[M,H],[G,H],[G,K],[M,K]]);return J}O=B.getElementsByTagNameNS(this._gmlNS,"coord");return 2<=O.length?((B=this._readCoord(O[0],D,F))&&1<=
B.length&&(M=G=B[0][0],K=H=B[0][1]),(D=this._readCoord(O[1],D,F))&&1<=D.length&&(G=D[0][0],H=D[0][1]),J.rings.push([[M,K],[M,H],[G,H],[G,K],[M,K]]),J):null},_readEnvelope:function(B,D,F){var r,A;var G=this._readWkidFromNode(B);-1!=G&&(D=G);G=this._readSrsDimension(B);0!==G&&(F=G);var H=B.getElementsByTagNameNS(this._gmlNS,"lowerCorner");for(G=0;G<H.length;G++){var J=this._readCoordinates(H[G],D,F);J&&(r=J[0])}H=B.getElementsByTagNameNS(this._gmlNS,"upperCorner");for(G=0;G<H.length;G++)(B=this._readCoordinates(H[G],
D,F))&&(A=B[0]);return r&&A?{geometryType:"polygon",rings:[[[r[0],r[1]],[r[0],A[1]],[A[0],A[1]],[A[0],r[1]],[r[0],r[1]]]],spatialReference:{wkid:this._map.spatialReference.wkid}}:null},_readPolygon:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);var A={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var G=B.getElementsByTagNameNS(this._gmlNS,"outerBoundaryIs");for(r=0;r<G.length;r++){var H=this._readOuterBoundaryIs(G[r],
D,F);A.rings.push(H)}G=B.getElementsByTagNameNS(this._gmlNS,"innerBoundaryIs");for(r=0;r<G.length;r++)H=this._readInnerBoundaryIs(G[r],D,F),A.rings.push(H);G=B.getElementsByTagNameNS(this._gmlNS,"exterior");for(r=0;r<G.length;r++)H=this._readExterior(G[r],D,F),A.rings.push(H);G=B.getElementsByTagNameNS(this._gmlNS,"interior");for(r=0;r<G.length;r++)H=this._readInterior(G[r],D,F),A.rings.push(H);return A},_readPolygonMember:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);
0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"Polygon");0<B.length;)return this._readPolygon(B[0],D,F);return null},_readMultiPolygon:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r=[];r.geometryType="multigeometry";r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"polygonMember");for(B=0;B<A.length;B++){var G=this._readPolygonMember(A[B],D,F);r.push(G)}return r},_readOuterBoundaryIs:function(B,
D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<B.length;)return this._readLinearRing(B[0],D,F);return null},_readInnerBoundaryIs:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<B.length;)return this._readLinearRing(B[0],D,F);return null},_readExterior:function(B,D,F){var r=this._readWkidFromNode(B);
-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<B.length;)return this._readLinearRing(B[0],D,F);return null},_readInterior:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<B.length;)return this._readLinearRing(B[0],D,F);return null},_readPatches:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);
0!==r&&(F=r);r=[];r.spatialReference={wkid:this._map.spatialReference.wkid};var A=B.getElementsByTagNameNS(this._gmlNS,"PolygonPatch");for(B=0;B<A.length;B++)r.push(this._readPolygon(A[B],D,F));return r},_readLineString:function(B,D,F){var r,A;var G=this._readWkidFromNode(B);-1!=G&&(D=G);G=this._readSrsDimension(B);0!==G&&(F=G);var H=[];H.spatialReference={wkid:this._map.spatialReference.wkid};var J=B.getElementsByTagNameNS(this._gmlNS,"coordinates");for(G=0;G<J.length;G++)if(A=this._readCoordinates(J[G],
D,F))for(r=0;r<A.length;r++){var O=A[r];H.push(O)}J=B.getElementsByTagNameNS(this._gmlNS,"coord");for(G=0;G<J.length;G++)if(A=this._readCoord(J[G],D,F))for(r=0;r<A.length;r++)O=A[r],H.push(O);J=B.getElementsByTagNameNS(this._gmlNS,"posList");for(G=0;G<J.length;G++)if(A=this._readPosList(J[G],D,F))for(r=0;r<A.length;r++)O=A[r],H.push(O);return H},_readLineStringMember:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,
"LineString");0<B.length;)return this._readLineString(B[0],D,F);return null},_readMultiLineString:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var A=B.getElementsByTagNameNS(this._gmlNS,"lineStringMember");for(B=0;B<A.length;B++){var G=this._readLineStringMember(A[B],D,F);G&&r.paths.push(G)}return 1<=r.paths.length?r:null},_readPoint:function(B,D,F){var r;
var A=this._readWkidFromNode(B);-1!=A&&(D=A);A=this._readSrsDimension(B);0!==A&&(F=A);var G=B.getElementsByTagNameNS(this._gmlNS,"coordinates");for(A=0;A<G.length;A++)if(r=this._readCoordinates(G[A],D,F))return{geometryType:"point",x:r[0][0],y:r[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};G=B.getElementsByTagNameNS(this._gmlNS,"pos");for(A=0;A<G.length;A++)if((r=this._readPos(G[A],D,F))&&0<r.length)return{geometryType:"point",x:r[0][0],y:r[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};
G=B.getElementsByTagNameNS(this._gmlNS,"coord");for(A=0;A<G.length;A++)if(B=this._readCoord(G[A],D,F))return{geometryType:"point",x:B[0][0],y:B[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};return null},_readPointMember:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);for(B=B.getElementsByTagNameNS(this._gmlNS,"Point");0<B.length;)return this._readPoint(B[0],D,F);return null},_readMultiPoint:function(B,D,F){var r=this._readWkidFromNode(B);
-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);r={geometryType:"multipoint",points:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var A=B.getElementsByTagNameNS(this._gmlNS,"pointMember");for(B=0;B<A.length;B++){var G=this._readPointMember(A[B],D,F);G&&r.points.push([G.x,G.y])}return 1<=r.points.length?r:null},_readLinearRing:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);var A=B.getElementsByTagNameNS(this._gmlNS,"coordinates");
for(r=0;r<A.length;)return this._readCoordinates(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"posList");for(r=0;r<A.length;)return this._readCoordinates(A[r],D,F);A=B.getElementsByTagNameNS(this._gmlNS,"pos");for(r=0;r<A.length;)return this._readPos(A[r],D,F)},_readCoordinatesBody:function(B,D,F){var r=new c(B);D=D.trim();var A=[];A.spatialReference={wkid:this._map.spatialReference.wkid};B=this._isReverse(B,this.version);if(D)if(2===F){if((D=D.match(/[0123456789.\-\+eE]+/g))&&2<=D.length)for(F=
0;F<D.length;F+=2){var G=parseFloat(D[F]);var H=parseFloat(D[F+1]);if(B){var J=H;H=G;G=J}J={};this._projectFromSRToSR(r,this._map.spatialReference,G,H,J)&&(G=J.x,H=J.y);A.push([G,H])}}else if(3===F&&(D=D.match(/[0123456789.\-\+eE]+/g))&&3<=D.length)for(F=0;F<D.length;F+=3)G=parseFloat(D[F]),H=parseFloat(D[F+1]),B&&(J=H,H=G,G=J),J={},this._projectFromSRToSR(r,this._map.spatialReference,G,H,J)&&(G=J.x,H=J.y),A.push([G,H]);return A},_readCoord:function(B,D,F){var r,A=this._readWkidFromNode(B);-1!=A&&
(D=A);A=new c(D);var G=this._readSrsDimension(B);0!==G&&(F=G);var H=this._isReverse(D,this.version),J=[];J.spatialReference={wkid:this._map.spatialReference.wkid};G=0;var O=B.getElementsByTagNameNS(this._gmlNS,"X");for(r=0;r<O.length;){G=this._readFloat(O[r],D,F);break}var M=0;O=B.getElementsByTagNameNS(this._gmlNS,"Y");for(r=0;r<O.length;){M=this._readFloat(O[r],D,F);break}H&&(B=M,M=G,G=B);B={};this._projectFromSRToSR(A,this._map.spatialReference,G,M,B)&&(G=B.x,M=B.y);J.push(H?[M,G]:[G,M]);return J},
_readCoordinates:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);return this._readCoordinatesBody(D,B.textContent,F)},_readPos:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);return this._readCoordinatesBody(D,B.textContent,F)},_readPosList:function(B,D,F){var r=this._readWkidFromNode(B);-1!=r&&(D=r);r=this._readSrsDimension(B);0!==r&&(F=r);return this._readCoordinatesBody(D,B.textContent,F)},
_projectFromSRToSR:function(B,D,F,r,A){if(a.canProject(B,D))return B=new d(F,r,B),D=a.project(B,D),A.x=D.x,A.y=D.y,!0;A.x=F;A.y=r;return this._isProjectedOk=!1},_readFloat:function(B){return(B=B.textContent)?parseFloat(B):0},_readSrsDimension:function(B){return B.attributes&&(B=B.attributes.getNamedItem("srsDimension"))?parseInt(B.value,10):0},_readWkidFromNode:function(B){return B.attributes&&(B=B.attributes.getNamedItem("srsName"))&&(B=B.value.match(/\d+/g))&&0<B.length?(B=parseInt(B[B.length-1],
10),84===B&&(B=4326),parseInt(B,10)):-1},_isReverse:function(B,D){return this._inverseResponse},_appendCustomParameters:function(B){if(this.customParameters)for(var D in this.customParameters)B+=(-1===B.indexOf("?")?"?":"\x26")+D+"\x3d"+encodeURIComponent(this.customParameters[D]);return B},_checkForUrlInUrl:function(B,D){var F=B.toLowerCase().lastIndexOf("http");-1<D&&F>D&&(-1<B.indexOf("?",F)||-1!==B.indexOf("\x26",F)||(D=-1));return D}});v.setObject("layers.WFSLayer",V,h);return V})},"esri/layers/WMTSLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff dojox/xml/parser ../kernel ../lang ../request ../urlUtils ../WKIDUnitConversion ../SpatialReference ../geometry/Point ../geometry/Extent ../geometry/webMercatorUtils ./TiledMapServiceLayer ./TileInfo ./WMTSLayerInfo dojo/query".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){L=L([e],{declaredClass:"esri.layers.WMTSLayer",copyright:null,extent:null,tileUrl:null,spatialReference:null,tileInfo:null,constructor:function(b,d){this.version="1.0.0";this.tileUrl=this._url=b;this.serviceMode="RESTful";this._parseCapabilities=v.hitch(this,this._parseCapabilities);this._getCapabilitiesError=v.hitch(this,this._getCapabilitiesError);this._formatDictionary={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png",
"image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""};d||(d={});if(d.serviceMode)if("KVP"===d.serviceMode||"RESTful"===d.serviceMode)this.serviceMode=d.serviceMode;else return;this.customParameters=d.customParameters;this.customLayerParameters=d.customLayerParameters;this.layerInfo=new a;d.layerInfo&&(this.layerInfo=d.layerInfo,this._identifier=d.layerInfo.identifier,this._tileMatrixSetId=d.layerInfo.tileMatrixSet,
d.layerInfo.format&&(this.format="image/"+d.layerInfo.format),this._style=d.layerInfo.style,this.title=d.layerInfo.title,this._dimension=d.layerInfo.dimension,this._dimension2=d.layerInfo.dimension2);d.resourceInfo?(this.version=d.resourceInfo.version,d.resourceInfo.getTileUrl&&(this._url=this.tileUrl=d.resourceInfo.getTileUrl),this.copyright=d.resourceInfo.copyright,this.layerInfos=d.resourceInfo.layerInfos,this.customParameters=d.resourceInfo.customParameters||this.customParameters,this.customLayerParameters=
d.resourceInfo.customLayerParameters||this.customLayerParameters,this._parseResourceInfo(),this.loaded=!0,this.onLoad(this)):this._getCapabilities()},setActiveLayer:function(b){this.setVisibleLayer(b)},setVisibleLayer:function(b){this._setActiveLayer(b);this.refresh(!0)},setCustomParameters:function(b,d){this.customParameters=b;this.customLayerParameters=d;this.refresh(!0)},getTileUrl:function(b,d,k){b=this._levelToLevelValue[b];b=this.resourceUrls&&0<this.resourceUrls.length?this.resourceUrls[d%
this.resourceUrls.length].template.replace(/\{Style\}/gi,this._style).replace(/\{TileMatrixSet\}/gi,this._tileMatrixSetId).replace(/\{TileMatrix\}/gi,b).replace(/\{TileRow\}/gi,d).replace(/\{TileCol\}/gi,k).replace(/\{dimensionValue\}/gi,this._dimension).replace(/\{dimensionValue2\}/gi,this._dimension2):this.UrlTemplate.replace(/\{level\}/gi,b).replace(/\{row\}/gi,d).replace(/\{col\}/gi,k);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return x.addProxy(b)},getTileUrlTemplate:function(b){var d=
b.identifier,k=b.tileMatrixSet,n=b.format,q=b.style,y=b.dimension,C=b.dimension2;d?b=w.filter(this.layers,function(D){return D.identifier===d})[0]:(b=this.layers[0],d=this.layers[0].identifier);if(b){if(!n)n=b.formats[0];else if(!(-1===n.indexOf("image/")&&-1<w.indexOf(b.formats,n))&&(-1===n.indexOf("image/")&&(n="image/"+n),-1===w.indexOf(b.formats,n))){this.onError(Error("The layer doesn't support the format of "+n));return}if(!q)q=b.styles[0];else if(-1===w.indexOf(b.styles,q)){this.onError(Error("The layer doesn't support the style of "+
q));return}if(!y&&b.dimensions)y=b.dimensions[0];else if(-1===w.indexOf(b.dimensions,y)){this.onError(Error("The layer doesn't support the dimension of "+y));return}if(!C&&b.dimensions2)C=b.dimensions2[0];else if(-1===w.indexOf(b.dimensions2,C)){this.onError(Error("The layer doesn't support the dimension of "+C));return}if(k){var B=w.filter(b.tileMatrixSetInfos,function(D){return D.tileMatrixSet===k})[0];if(!B){this.onError(Error("The tileMatrixSetId "+k+" is not supported by the layer of "+d));return}}else(B=
w.filter(b.tileMatrixSetInfos,function(D){return"GoogleMapsCompatible"===D.tileMatrixSet})[0])||(B=b.tileMatrixSetInfos[0]),k=B.tileMatrixSet;return this._getTileUrlTemplate(d,k,n,q,y,C)}this.onError(Error("couldn't find the layer "+d))},_getTileUrlTemplate:function(b,d,k,n,q,y){b||(b=this._identifier);d||(d=this._tileMatrixSetId);k||(k=this.format);n||""===n||(n=this._style);if(this.resourceUrls&&0<this.resourceUrls.length){var C=this.resourceUrls[0].template;C.indexOf(".xxx")===C.length-4&&(C=C.slice(0,
C.length-4));C=C.replace(/\{Style\}/gi,n);C=C.replace(/\{TileMatrixSet\}/gi,d);C=C.replace(/\{TileMatrix\}/gi,"{level}");C=C.replace(/\{TileRow\}/gi,"{row}");C=C.replace(/\{TileCol\}/gi,"{col}");C=C.replace(/\{dimensionValue\}/gi,q);return C=C.replace(/\{dimensionValue2\}/gi,y)}"KVP"===this.serviceMode?C=this._url+"SERVICE\x3dWMTS\x26VERSION\x3d"+this.version+"\x26REQUEST\x3dGetTile\x26LAYER\x3d"+b+"\x26STYLE\x3d"+n+"\x26FORMAT\x3d"+k+"\x26TILEMATRIXSET\x3d"+d+"\x26TILEMATRIX\x3d{level}\x26TILEROW\x3d{row}\x26TILECOL\x3d{col}":
"RESTful"===this.serviceMode&&(q="",this._formatDictionary[k.toLowerCase()]&&(q=this._formatDictionary[k.toLowerCase()]),C=this._url+b+"/"+n+"/"+d+"/{level}/{row}/{col}"+q);return C},_parseResourceInfo:function(){var b=this.layerInfos,d;"KVP"===this.serviceMode&&(this._url+=-1<this._url.indexOf("?")?"":"?");for(d=0;d<b.length;d++)if(!(this._identifier&&b[d].identifier!==this._identifier||this.title&&b[d].title!==this.title||this._tileMatrixSetId&&b[d].tileMatrixSet!==this._tileMatrixSetId||this.format&&
"image/"+b[d].format!==this.format||this._style&&b[d].style!==this._style)){v.mixin(this,{description:b[d].description,tileInfo:b[d].tileInfo,spatialReference:b[d].tileInfo.spatialReference,fullExtent:b[d].fullExtent,initialExtent:b[d].initialExtent,_identifier:b[d].identifier,_tileMatrixSetId:b[d].tileMatrixSet,format:"image/"+b[d].format,_style:b[d].style});break}for(d=0;d<b.length;d++){var k=b[d].tileInfo;96!==k.dpi&&(w.forEach(k.lods,function(n){n.scale=96*n.scale/k.dpi}),k.dpi=96);w.forEach(k.lods,
function(n){n.resolution=this._getResolution(k.spatialReference.wkid,90.71428571428571*n.scale/96,b[d].tileMatrixSet)},this)}this._setActiveLayer();this.UrlTemplate=this._getTileUrlTemplate();this._levelToLevelValue=[];w.forEach(this.tileInfo.lods,function(n){this._levelToLevelValue[n.level]=n.levelValue?n.levelValue:n.level},this)},_getCapabilities:function(){var b;"KVP"===this.serviceMode?b=-1<this._url.indexOf("?")?this._url+"\x26request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:
this._url+"?request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:"RESTful"===this.serviceMode&&(b=this._url+"/"+this.version+"/WMTSCapabilities.xml");b=this._appendCustomParameters(b);h({url:b,handleAs:"text",load:this._parseCapabilities,error:this._getCapabilitiesError})},_parseCapabilities:function(b){b=b.replace(/ows:/gi,"");b=l.parse(b);var d=V.query("Contents",b)[0];if(d){var k=V.query("OperationsMetadata",b)[0],n=V.query("[name\x3d'GetTile']",k)[0];k=this._url;n=V.query("Get",
n);var q,y=!1;for(q=0;q<n.length;q++){var C=V.query("Constraint",n[q])[0];if(!C||this._getTagWithChildTagValue("AllowedValues","Value",this.serviceMode,C)){k=n[q].attributes[0].nodeValue;y=!0;break}else if(!C||this._getTagWithChildTagValue("AllowedValues","Value","RESTful",C))var B=n[q].attributes[0].nodeValue;else if(!C||this._getTagWithChildTagValue("AllowedValues","Value","KVP",C))var D=n[q].attributes[0].nodeValue}y||("KVP"===this.serviceMode&&B?(k=B,this.serviceMode="RESTful"):"RESTful"===this.serviceMode&&
D&&(k=D,this.serviceMode="KVP"));-1===k.indexOf("/1.0.0/")&&"RESTful"===this.serviceMode&&(k+="/");"KVP"===this.serviceMode&&(k+=-1<k.indexOf("?")?"":"?");this._url=k;this.copyright=this._getTagValues("Capabilities\x3eServiceIdentification\x3eAccessConstraints",b)[0];B=V.query("Layer",d);var F,r=[];this.layers=[];w.forEach(B,function(A){F=this._getTagValues("Identifier",A)[0];r.push(F);this.layers.push(this._getWMTSLayerInfo(F,A,d))},this);this._setActiveLayer();this.loaded=!0;this.onLoad(this)}else this.onError(Error("The WMTS capabilities XML is not valid"))},
_setActiveLayer:function(b){b||(b={});b.identifier&&(this._identifier=b.identifier);b.tileMatrixSet&&(this._tileMatrixSetId=b.tileMatrixSet);b.format&&(this.format=b.format);b.style&&(this._style=b.style);b.dimension&&(this._dimension=b.dimension);b.dimension2&&(this._dimension2=b.dimension2);if(this.layers)if(this._identifier?b=w.filter(this.layers,function(k){return k.identifier===this._identifier},this)[0]:(b=this.layers[0],this._identifier=this.layers[0].identifier),b){if(this.format){if(-1===
this.format.indexOf("image/")&&(this.format="image/"+this.format),-1===w.indexOf(b.formats,this.format)){this.onError(Error("The layer doesn't support the format of "+this.format));return}}else this.format=b.formats[0],-1===this.format.indexOf("image/")&&(this.format="image/"+this.format);if(!this._style)this._style=b.styles[0];else if(-1===w.indexOf(b.styles,this._style)){this.onError(Error("The layer doesn't support the style of "+this._style));return}if(!this._dimension&&b.dimensions)this._dimension=
b.dimensions[0];else if(-1===w.indexOf(b.dimensions,this._dimension)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension));return}if(!this._dimension2&&b.dimensions2)this._dimension2=b.dimensions2[0];else if(-1===w.indexOf(b.dimensions2,this._dimension2)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension2));return}if(this._tileMatrixSetId){var d=w.filter(b.tileMatrixSetInfos,function(k){return k.tileMatrixSet===this._tileMatrixSetId},this)[0];
if(!d){this.onError(Error("The tileMatrixSetId "+this._tileMatrixSetId+" is not supported by the layer of "+this._identifier));return}}else(d=w.filter(b.tileMatrixSetInfos,function(k){return"GoogleMapsCompatible"===k.tileMatrixSet})[0])||(d=b.tileMatrixSetInfos[0]),this._tileMatrixSetId=d.tileMatrixSet;this.description=b.description;this.title=b.title;this.spatialReference=d.tileInfo.spatialReference;this.tileInfo=d.tileInfo;this._levelToLevelValue=[];w.forEach(this.tileInfo.lods,function(k){this._levelToLevelValue[k.level]=
k.levelValue?k.levelValue:k.level},this);102100===this.spatialReference.wkid||102113===this.spatialReference.wkid?this.fullExtent=this.initialExtent=m.geographicToWebMercator(b.gcsExtent):4326===this.spatialReference.wkid?this.fullExtent=this.initialExtent=b.gcsExtent:(this.fullExtent=d.fullExtent,this.initialExtent=d.initialExtent);this.resourceUrls=b.resourceUrls;this.UrlTemplate=this._getTileUrlTemplate();this.layerInfo={identifier:this._identifier,tileMatrixSet:this._tileMatrixSetId,format:this.format,
style:this._style,fullExtent:this.fullExtent,initialExtent:this.initialExtent,tileInfo:this.tileInfo,title:this.title,description:this.description}}else this.onError(Error("couldn't find the layer "+this._identifier))},_getWMTSLayerInfo:function(b,d,k){var n=this._getTagValues("Abstract",d)[0],q=this._getTagValues("Title",d)[0],y=V.query("WGS84BoundingBox",d)[0],C=y?this._getTagValues("LowerCorner",y)[0].split(" "):["-180","-90"],B=y?this._getTagValues("UpperCorner",y)[0].split(" "):["180","90"];
y=parseFloat(C[0]);C=parseFloat(C[1]);var D=parseFloat(B[0]);B=parseFloat(B[1]);y=new p(y,C,D,B,new E({wkid:4326}));B=this._getTagValues("Identifier",V.query("Style",d)[0]);var F=this._getTagValues("Identifier",V.query("Dimension",d)[0]),r=this._getTagValues("Default",V.query("Dimension",d)[0])||this._getTagValues("Value",V.query("Dimension",d)[0]),A=1<V.query("Dimension",d).length?this._getTagValues("Identifier",V.query("Dimension",d)[1]):[],G=1<V.query("Dimension",d).length?this._getTagValues("Default",
V.query("Dimension",d)[1])||this._getTagValues("Value",V.query("Dimension",d)[1]):[];C=this._getTagValues("Format",d);k=this._getLayerMatrixInfos(d,k);b={identifier:b,tileMatrixSetInfos:k,formats:C,styles:B,title:q,description:n,gcsExtent:y,dimensions:r,dimensions2:G};d=V.query("ResourceURL",d);var H=[],J;w.forEach(d,function(O){J=O.getAttribute("template");if(F&&r&&F[0]&&r[0])if(-1<J.indexOf("{"+F+"}"))J=J.replace("{"+F+"}","{dimensionValue}");else{var M=J.toLowerCase().indexOf("{"+F[0].toLowerCase()+
"}");-1<M&&(J=J.substring(0,M)+"{dimensionValue}"+J.substring(M+F[0].length+2))}A&&G&&A[0]&&G[0]&&(-1<J.indexOf("{"+A+"}")?J=J.replace("{"+A+"}","{dimensionValue2}"):(M=J.toLowerCase().indexOf("{"+A[0].toLowerCase()+"}"),-1<M&&(J=J.substring(0,M)+"{dimensionValue2}"+J.substring(M+A[0].length+2))));H.push({template:J,format:O.getAttribute("format"),resourceType:O.getAttribute("resourceType")})});H&&0<H.length&&(b.resourceUrls=H);return b},_getLayerMatrixInfos:function(b,d){var k=[],n=this._getTagValues("TileMatrixSet",
b);if(n&&0!==n.length)return w.forEach(n,function(q){q=this._getLayerMatrixInfo(q,b,d);k.push(q)},this),k},_getLayerMatrixInfo:function(b,d,k){var n=[];d=this._getTagWithChildTagValue("TileMatrixSetLink","TileMatrixSet",b,d);var q=this._getTagValues("TileMatrix",d),y=this._getTagWithChildTagValue("TileMatrixSet","Identifier",b,k),C=this._getTagValues("SupportedCRS",y)[0];var B=parseInt(C.split(":").pop(),10);if(900913==B||3857==B)B=102100;if(-1<C.toLowerCase().indexOf("crs84")||-1<C.toLowerCase().indexOf("crs:84")){B=
4326;var D=!0}else if(-1<C.toLowerCase().indexOf("crs83")||-1<C.toLowerCase().indexOf("crs:83"))B=4269,D=!0;else if(-1<C.toLowerCase().indexOf("crs27")||-1<C.toLowerCase().indexOf("crs:27"))B=4267,D=!0;var F=new E({wkid:B}),r=V.query("TileMatrix",y)[0];k=parseInt(this._getTagValues("TileWidth",r)[0],10);d=parseInt(this._getTagValues("TileHeight",r)[0],10);var A=this._getTagValues("TopLeftCorner",r)[0].split(" ");var G=A[0],H=A[1];1<G.split("E").length&&(A=G.split("E"),G=A[0]*Math.pow(10,A[1]));1<
H.split("E").length&&(A=H.split("E"),H=A[0]*Math.pow(10,A[1]));G=parseFloat(G);H=parseFloat(H);var J=D&&4326===B&&90===G&&-180===H;for(A=0;A<this._flippingAxisForWkids.length;A++)if(C.split(":").pop()>=this._flippingAxisForWkids[A][0]&&C.split(":").pop()<=this._flippingAxisForWkids[A][1]||4326===B&&(!D||J)){4326===B&&90<G&&(G="90");var O=new z(H,G,F);break}A===this._flippingAxisForWkids.length&&(O=new z(G,H,F));if(0===q.length)for(q=V.query("TileMatrix",y),A=0;A<q.length;A++)D=this._getLodFromTileMatrix(q[A],
B,A,b),n.push(D);else for(A=0;A<q.length;A++)D=this._getTagWithChildTagValue("TileMatrix","Identifier",q[A],y),D=this._getLodFromTileMatrix(D,B,A,b),n.push(D);B=V.query("BoundingBox",y)[0];if(B){var M=this._getTagValues("LowerCorner",B)[0].split(" ");var K=this._getTagValues("UpperCorner",B)[0].split(" ")}M&&1<M.length&&K&&1<K.length?(r=parseFloat(M[0]),B=parseFloat(M[1]),M=parseFloat(K[0]),K=parseFloat(K[1])):(M=this._getTagValues("MatrixWidth",r)[0],B=this._getTagValues("MatrixHeight",r)[0],r=O.x,
K=O.y,M=r+M*d*n[0].resolution,B=K-B*k*n[0].resolution);K=M=new p(r,B,M,K,F);O=new c({dpi:96,spatialReference:F,format:this.format,rows:k,cols:d,origin:O,lods:n});return{tileMatrixSet:b,fullExtent:K,initialExtent:M,tileInfo:O}},_getCapabilitiesError:function(b){this.onError(b)},_getLodFromTileMatrix:function(b,d,k,n){var q=this._getTagValues("Identifier",b)[0];b=this._getTagValues("ScaleDenominator",b)[0];1<b.split("E").length?(b=b.split("E"),b=b[0]*Math.pow(10,b[1])):b=parseFloat(b);d=this._getResolution(d,
b,n);return{level:k,levelValue:q,scale:1.058267716535433*b,resolution:d}},_getResolution:function(b,d,k){b=g.isDefined(u[b])?u.values[u[b]]:"default028mm"===k?6370997*Math.PI/180:6378137*Math.PI/180;return 7*d/25E3/b},_getTag:function(b,d){var k=V.query(b,d);return k&&0<k.length?k[0]:null},_getTagValues:function(b,d){var k=[],n=b.split("\x3e"),q;var y=V.query(n[0],d)[0];if(1<n.length){for(q=1;q<n.length-1;q++)y=V.query(n[q],y)[0];n=V.query(n[n.length-1],y)}else n=V.query(n[0],d);n&&0<n.length&&w.forEach(n,
function(C){9>t("ie")?k.push(C.childNodes.length?C.childNodes[0].nodeValue:""):k.push(C.textContent)});return k},_getAttributeValues:function(b,d,k){b=V.query(b,k);var n=[];b&&0<b.length&&w.forEach(b,function(q){n.push(q.getAttribute(d))});return n},_getTagWithChildTagValue:function(b,d,k,n){n=n.childNodes;var q;for(q=0;q<n.length;q++)if(-1<n[q].nodeName.indexOf(b)){if(9>t("ie")){if(g.isDefined(V.query(d,n[q])[0]))var y=V.query(d,n[q])[0].childNodes[0].nodeValue}else g.isDefined(V.query(d,n[q])[0])&&
(y=V.query(d,n[q])[0].textContent);if(y===k||k.split(":")&&y===k.split(":")[1])return n[q]}},_appendCustomParameters:function(b){var d;if(this.customParameters)for(d in this.customParameters)b+=(-1===b.indexOf("?")?"?":"\x26")+d+"\x3d"+encodeURIComponent(this.customParameters[d]);return b},_appendCustomLayerParameters:function(b){var d;if(this.customLayerParameters||this.customParameters){var k=v.clone(this.customParameters||{});v.mixin(k,this.customLayerParameters||{});for(d in k)b+=(-1===b.indexOf("?")?
"?":"\x26")+d+"\x3d"+encodeURIComponent(k[d])}return b},_flippingAxisForWkids:[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,
5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,
3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],
[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]]});v.setObject("layers.WMTSLayer",L,f);return L})},"esri/layers/WMTSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(V,L,v,w){V=V(null,{declaredClass:"esri.layers.WMTSLayerInfo",identifier:null,tileMatrixSet:null,format:null,style:null,tileInfo:null,title:null,fullExtent:null,initialExtent:null,description:null,dimension:null,constructor:function(t){t&&(this.title=t.title,this.tileMatrixSet=
t.tileMatrixSet,this.format=t.format,this.style=t.style,this.tileInfo=t.tileInfo,this.fullExtent=t.fullExtent,this.initialExtent=t.initialExtent,this.identifier=t.identifier,this.description=t.description,this.dimension=t.dimension)}});L.setObject("layers.WMTSLayerInfo",V,w);return V})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../pageUtil ../../../../utils/dom ../../../../utils/strings ../../../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick dojo/dom-construct dojo/on dojo/string dojo/topic esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./domainUpdate.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);return function(){function b(d,k){this.templateString=a["default"];this.i18n=c["default"]}b.prototype.startup=
function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.initHandlers();this.initDomains()};b.prototype.initHandlers=function(){this.own(u["default"](this.doneBtn,this.doneClick.bind(this)),z["default"](this.domainSelect,"change",this.selectedDomainChange.bind(this)),u["default"](this.replaceDomainBtn,this.replaceDomainClick.bind(this)),t["default"].registerKeystrokeHandler(this.domainReplace,this.replaceDomainChange.bind(this)),m["default"].subscribe("item-data/change-complete",
this.itemDataChange.bind(this)))};b.prototype.initDomains=function(){var d=this,k=this.domainSelect.value,n=!1;w["default"].getUniqueDomains(this.item.itemData).then(function(q){E["default"].empty(d.domainSelect);q.forEach(function(y){var C={value:y.domain,innerHTML:y.domain};!d.autoSelectReplacementValue||y.domain!==d.autoSelectReplacementValue&&y.domain!==k||(n=C.selected=!0,d.autoSelectReplacementValue=void 0);E["default"].create("option",C,d.domainSelect)});d.domainSelect.options&&d.domainSelect.options.length?
(n||(l["default"].selectOption(d.domainSelect.options,d.domainSelect.options[0].value),d.lastSelectedDomain=d.domainSelect.options[0].value),d.selectedDomainChange()):(l["default"].hideNodes([d.updateDomainDesc,d.updateDomainContainer,d.replaceDomainLoading,d.replaceDomainFailure,d.layerDetailsContainer]),E["default"].empty(d.replaceDomainSuccess),d.replaceDomainSuccess.innerHTML=d.i18n.itemProperties.noLayersToUpdateDomain,l["default"].showNode(d.replaceDomainSuccess))})};b.prototype.filterForIssues=
function(d){return d.filter(function(k){return"failure"===k.layerUrlChange||k.layerRenderingFailures||k.layerQueryUrlFailures||k.itemAccess&&("failure"===k.itemUrlChange||k.itemRenderingFailures||k.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(d){return d.filter(function(k){return("success"===k.layerUrlChange||k.layerRenderingChanged||k.layerQueryUrlChanged)&&!k.layerRenderingFailures&&!k.layerQueryUrlFailures||k.itemAccess&&("success"===k.itemUrlChange||k.itemRenderingChanged||k.itemQueryUrlChanged)&&
!k.itemRenderingFailures&&!k.itemQueryUrlFailures})};b.prototype.containsInvalidProtocol=function(d){return-1===(null===d||void 0===d?void 0:d.indexOf("://"))&&!(f["default"].startsWith(d,"http://")||f["default"].startsWith(d,"https://"))};b.prototype.ensureProtocol=function(d){return this.containsInvalidProtocol(d)?"http://"+d:d};b.prototype.validateDomain=function(d){var k=this.domainSelect.value,n=!!k,q=RegExp("/","g"),y=!0;d?(this.containsInvalidProtocol(d)&&(y=!1),n&&(k.match(q)||[]).length!==
(d.match(q)||[]).length&&(y=!1)):y=!1;return y};b.prototype.doneClick=function(){m["default"].publish("update-domain/done")};b.prototype.setInputError=function(d){this.domainReplace.classList.add("input-error");this.domainReplaceError.classList.add("is-active");this.domainReplaceError.classList.remove("hide")};b.prototype.clearInputError=function(){this.domainReplace.classList.remove("input-error");this.domainReplaceError.classList.remove("is-active");this.domainReplaceError.classList.add("hide")};
b.prototype.selectedDomainChange=function(){var d=this,k=this.domainSelect.value,n=!!k,q="",y;w["default"].getUniqueDomains(this.item.itemData).then(function(C){d.refreshingDomains?d.refreshingDomains=void 0:k!==d.lastSelectedDomain&&(l["default"].hideNode(d.replaceDomainFailure),l["default"].hideNode(d.replaceDomainSuccess));if(n){if(y=C.filter(function(B){return B.domain===k}))y=y.shift(),d.domainReplace.value=y.domain,d.lastSelectedDomain=y.domain,y.layers.forEach(function(B){q+=B.title+"\x3cbr\x3e"}),
d.layerDetails.innerHTML=q;d.clearInputError();l["default"].showHide(d.layerDetailsContainer,y);d.domainReplace.focus()}else l["default"].hideNode(d.layerDetailsContainer);d.replaceDomainChange()})};b.prototype.replaceDomainClick=function(){var d=this,k=this.domainSelect.value,n=this.ensureProtocol(this.domainReplace.value.trim());this.clearInputError();this.validateDomain(n)?(l["default"].hideNodes([this.layerDetailsContainer,this.replaceDomainFailure,this.replaceDomainSuccess]),l["default"].showNode(this.replaceDomainLoading),
w["default"].switchDomain(this.item.itemData,this.item,k,n).then(function(q){l["default"].hideNode(d.replaceDomainLoading);var y=d.filterForIssues(q.layers),C=d.filterForUpdated(q.layers);e["default"].isDefined(q.configChange)&&"failure"===q.configChange?(d.replaceDomainFailureMessage.innerHTML=d.i18n.itemProperties.errorUpdateHTTPS,l["default"].showNode(d.replaceDomainFailure)):y.length?(d.replaceDomainFailureMessage.innerHTML=p["default"].substitute(d.i18n.itemProperties.someLayerDomainsFailed,
{domainName:n,n:y.length}),l["default"].showNode(d.replaceDomainFailure),C.length&&(d.replaceDomainSuccessMessage.innerHTML=p["default"].substitute(d.i18n.itemProperties.someLayerDomainsUpdated,{domainName:n,n:C.length}),l["default"].showNode(d.replaceDomainSuccess))):(d.replaceDomainSuccessMessage.innerHTML=p["default"].substitute(d.i18n.itemProperties.domainUpdateSuccess,{domainName:n}),l["default"].showNode(d.replaceDomainSuccess));d.autoSelectReplacementValue=n;d.domainReplace.value="";d.refreshingDomains=
!0;d.replaceDomainChange();m["default"].publish("item-data/change")},function(q){d.setInputError(q)})):this.setInputError()};b.prototype.replaceDomainChange=function(){var d=this.domainReplace.value.trim(),k=this.domainSelect.value;k=k&&d&&0<d.length&&d!==k;l["default"].disableNode(this.replaceDomainBtn,!k||k&&!this.validateDomain(d));this.clearInputError()};b.prototype.itemDataChange=function(d){"type-options/map"===d.source&&(this.item.itemData=d.itemData,this.initDomains())};return b=v.__decorate([g["default"](h["default"],
x["default"])],b)}()})},"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),function(V,L,v,w,t,l,f,g){var h=this;Object.defineProperty(L,"__esModule",{value:!0});w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);var x=g["default"].restBaseUrl+
"portals/self",u=x+"/trustedOrgs",E=function(p,m){return t["default"].request({url:u+"/"+p+"/update",content:v.__assign({orgId:p},m)},{usePost:!0})},z=g["default"].restBaseUrl+"portals/self/contacts";L["default"]={add:function(p){return t["default"].request({url:x+"/addTrustedOrg",content:p},{usePost:!0})},update:E,suspend:function(p){return E(p,{state:"suspended"})},resume:function(p){return E(p,{state:"active"})},remove:function(p,m){return t["default"].request({url:u+"/"+p+"/delete",content:{message:m,
async:!0}},{usePost:!0})},getCollaborations:function(p){void 0===p&&(p=!1);var m=new w["default"];p=v.__assign({num:100},p&&{hub:!1});t["default"].request({url:u,content:p}).then(function(e){m.resolve(e)},function(){m.resolve({trustedOrgs:[]})});return m},getCoordinators:function(p){var m=new w["default"];t["default"].request({url:z,content:{type:"collaboration",num:100,collaborators:!p}}).then(function(e){m.resolve(e)},function(){m.resolve()});return m},getAllCoordinators:function(){var p=new w["default"];
l["default"].fetchAllResources(z,{type:"collaboration",collaborators:!0},"users").then(function(m){p.resolve(m)},function(){p.resolve([])});return p},getCoordinatorsByOrg:function(p){return t["default"].request({url:z,content:{type:"collaboration",orgId:p}})},getGroupUserCount:function(p,m){return t["default"].request({url:g["default"].restBaseUrl+"community/users",content:{q:""+(m||""),searchUserAccess:"groupMember",groups:p,countFields:"accountid",num:0}})},getCollabGroups:function(p,m){return t["default"].request({url:g["default"].restBaseUrl+
"community/groups",content:{q:"orgid:"+p.id+" memberorgids:"+m}})},getEndedCollabs:function(){var p=new w["default"];f["default"].fetch("ended_collaborations.json").then(function(m){p.resolve(m||[])},function(){p.resolve([])});return p},getCollaborationLimit:function(){var p=new w["default"];t["default"].request({url:x+"/limits",content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(m){var e;p.resolve(null!==(e=null===m||void 0===m?void 0:m.limitValue)&&void 0!==e?e:10)},
function(){p.resolve(10)});return p},getCollaborationByOrgId:function(p){return v.__awaiter(h,void 0,void 0,function(){var m;return v.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t["default"].request({url:u+"/"+p})];case 1:return m=e.sent(),[2,m];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(p){return f["default"].add({key:"ended_collaborations.json",text:JSON.stringify(p)})}}})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),
function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(){}f.fetchAll=function(){return t["default"].fetchAllResources(w["default"].restBaseUrl+"portals/self/resources",{},"resources")};f.fetchPage=function(g,h){void 0===g&&(g=1);void 0===h&&(h=100);return l["default"].request({url:w["default"].restBaseUrl+"portals/self/resources",content:{start:g,num:100<h?100:h}})};f.fetch=function(g){return l["default"].request({url:w["default"].restBaseUrl+
"portals/self/resources/"+g})};f.add=function(g){var h=!g.key;g=v.__assign(v.__assign({url:w["default"].restBaseUrl+"portals/self/addResource"},h&&{form:g}),!h&&{content:g});return l["default"].request(g,{usePost:!0})};f.remove=function(g){return l["default"].request({url:w["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};return f}()})},"arcgis-components/wrappers/Share":function(){define(["../Component","dojo/i18n!../Share/nls/resources","../Share/index"],function(V,
L,v){return function(w){function t(f){if(l[f])return l[f].exports;var g=l[f]={i:f,l:!1,exports:{}};return w[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var l={};return t.m=w,t.c=l,t.d=function(f,g,h){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:h})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var x in f)t.d(h,x,function(u){return f[u]}.bind(null,x));return h},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=985)}({0:function(w,t,l){function f(m,e){function c(){this.constructor=m}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z(m,e);m.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}function g(m,e){var c={},a;for(a in m)Object.prototype.hasOwnProperty.call(m,a)&&0>e.indexOf(a)&&(c[a]=m[a]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(m);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(m,a[b])&&(c[a[b]]=m[a[b]])}return c}
function h(m,e,c,a){var b,d=arguments.length,k=3>d?e:null===a?a=Object.getOwnPropertyDescriptor(e,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(m,e,c,a);else for(var n=m.length-1;0<=n;n--)(b=m[n])&&(k=(3>d?b(k):3<d?b(e,c,k):b(e,c))||k);return 3<d&&k&&Object.defineProperty(e,c,k),k}function x(m,e,c,a){return new (c||(c=Promise))(function(b,d){function k(y){try{q(a.next(y))}catch(C){d(C)}}function n(y){try{q(a["throw"](y))}catch(C){d(C)}}function q(y){var C;
y.done?b(y.value):(C=y.value,C instanceof c?C:new c(function(B){B(C)})).then(k,n)}q((a=a.apply(m,e||[])).next())})}function u(m,e){function c(q){return function(y){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,b&&(d=2&C[0]?b["return"]:C[0]?b["throw"]||((d=b["return"])&&d.call(b),0):b.next)&&!(d=d.call(b,C[1])).done)return d;switch(b=0,d&&(C=[2&C[0],d.value]),C[0]){case 0:case 1:d=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++;
b=C[1];C=[0];continue;case 7:C=n.ops.pop();n.trys.pop();continue;default:if(!(d=n.trys,(d=0<d.length&&d[d.length-1])||6!==C[0]&&2!==C[0])){n=0;continue}if(3===C[0]&&(!d||C[1]>d[0]&&C[1]<d[3]))n.label=C[1];else if(6===C[0]&&n.label<d[1])n.label=d[1],d=C;else if(d&&n.label<d[2])n.label=d[2],n.ops.push(C);else{d[2]&&n.ops.pop();n.trys.pop();continue}}C=e.call(m,n)}catch(B){C=[6,B],b=0}finally{a=d=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([q,y])}}var a,b,d,k,n={label:0,sent:function(){if(1&
d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(m,e){for(var c=0,a=e.length,b=m.length;c<a;c++,b++)m[b]=e[c];return m}l.d(t,"d",function(){return f});l.d(t,"a",function(){return p});l.d(t,"f",function(){return g});l.d(t,"c",function(){return h});l.d(t,"b",function(){return x});l.d(t,"e",function(){return u});l.d(t,"g",function(){return E});var z=function(m,e){return(z=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(m,e)},p=function(){return(p=Object.assign||function(m){for(var e,c=1,a=arguments.length;c<a;c++)for(var b in e=arguments[c])Object.prototype.hasOwnProperty.call(e,b)&&(m[b]=e[b]);return m}).apply(this,arguments)};Object.create;Object.create},101:function(w,t,l){l.d(t,"a",function(){return g});l.d(t,"b",function(){return h});var f=
l(0),g=function(x){return x?x.urlKey?location.protocol+"//"+x.urlKey+"."+x.customBaseUrl:location.protocol+"//"+x.portalHostname:""},h=function(x){return Object(f.a)(Object(f.a)({},x),{baseUrl:g(x)})}},117:function(w,t,l){l.d(t,"a",function(){return g});var f=l(0);w=l(15);var g=Object(w.a)(function(h,x){var u=Object(f.a),E=Object(f.a)({},x),z=x.type,p=x.typeKeywords?x.typeKeywords:[],m=null==z?void 0:z.toLowerCase(),e=!1,c=!1,a=z=!1;if("ogcfeatureserver"===m)p="featureshosted";else if(0<(null==m?
void 0:m.indexOf("service"))||"feature collection"===m||"kml"===m||"wms"===m||"wmts"===m||"wfs"===m){var b=-1<p.indexOf("Hosted Service");"feature service"===m||"feature collection"===m||"kml"===m||"wfs"===m?(a=-1<p.indexOf("Table"),e=-1<p.indexOf("Route Layer"),c=-1<p.indexOf("Markup"),p=(z=-1!==p.indexOf("Spatiotemporal"))&&a?"spatiotemporaltable":a?"table":e?"routelayer":c?"markup":z?"spatiotemporal":b?"featureshosted":"features"):"map service"===m||"wms"===m||"wmts"===m?p=b||-1<p.indexOf("Tiled")||
"wmts"===m?"maptiles":"mapimages":"scene service"===m?p=-1<p.indexOf("Line")?"sceneweblayerline":-1<p.indexOf("3DObject")?"sceneweblayermultipatch":-1<p.indexOf("Point")?"sceneweblayerpoint":-1<p.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<p.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<p.indexOf("Polygon")?"sceneweblayerpolygon":-1<p.indexOf("Building")?"sceneweblayerbuilding":-1<p.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===m?(z=-1<p.indexOf("Elevation 3D Layer"),
p=-1<p.indexOf("Tiled Imagery"),p=z?"elevationlayer":p?"tiledimagerylayer":"imagery"):p="stream service"===m?"streamlayer":"vector tile service"===m?"vectortile":"datastore catalog service"===m?"datastorecollection":"geocoding service"===m?"geocodeservice":"geoprocessing service"===m&&-1<p.indexOf("Web Tool")?"tool":"layers"}else p="web map"===m||"cityengine web scene"===m?"maps":"web scene"===m?-1<p.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===m&&-1<(null==
p?void 0:p.indexOf("configurableApp"))?"instantapps":"web mapping application"===m||"mobile application"===m||"application"===m||"operation view"===m||"desktop application"===m?"apps":"map document"===m||"map package"===m||"published map"===m||"scene document"===m||"globe document"===m||"basemap package"===m||"mobile basemap package"===m||"mobile map package"===m||"project package"===m||"project template"===m||"pro map"===m||"layout"===m||"layer"===m&&-1<p.indexOf("ArcGIS Pro")||"explorer map"===
m&&-1<p.indexOf("Explorer Document")?"mapsgray":"service definition"===m||"csv"===m||"administrative report"===m||"shapefile"===m||"cad drawing"===m||"geojson"===m||"360 vr experience"===m||"netcdf"===m?"datafiles":"explorer add in"===m||"desktop add in"===m||"windows viewer add in"===m||"windows viewer configuration"===m?"appsgray":"arcgis pro add in"===m||"arcgis pro configuration"===m?"addindesktop":"rule package"===m||"file geodatabase"===m||"csv collection"===m||"kml collection"===m||"windows mobile package"===
m||"map template"===m||"desktop application template"===m||"arcpad package"===m||"code sample"===m||"form"===m||"document link"===m||"vector tile package"===m||"operations dashboard add in"===m||"rules package"===m||"image"===m||"workflow manager package"===m||"explorer map"===m&&-1<p.indexOf("Explorer Mapping Application")||-1<p.indexOf("Document")?"datafilesgray":"network analysis service"===m||"geoprocessing service"===m||"geodata service"===m||"geometry service"===m||"geoprocessing package"===
m||"locator package"===m||"geoprocessing sample"===m||"workflow manager service"===m||"raster function template"===m||"deep learning package"===m?"toolsgray":"layer"===m||"layer package"===m||"explorer layer"===m?"layersgray":"scene package"===m?"scenepackage":"tile package"===m?"tilepackage":"storymap"===m?"storymap":"storymap theme"===m?"storymaptheme":"web experience"===m?"experiencebuilder":"web experience template"===m?"webexperiencetemplate":"task file"===m?"taskfile":"report template"===m?
"report-template":"statistical data collection"===m?"statisticaldatacollection":"insights workbook"===m?"workbook":"insights model"===m?"insightsmodel":"insights page"===m?"insightspage":"hub initiative"===m?"hubinitiative":"hub page"===m?"hubpage":"hub site application"===m?"hubsite":"relational database connection"===m?"relationaldatabaseconnection":"big data file share"===m||"data store"===m?"datastorecollection":"image collection"===m?"imagecollection":"desktop style"===m?"desktopstyle":"style"===
m?"style":"dashboard"===m?"dashboard":"feed"===m?"feed":"real time analytic"===m?"realtimeanalytics":"big data analytic"===m?"bigdataanalytics":"notebook"===m?"notebook":"notebook code snippets"===m?"notebookcodesnippets":"maps";return u(E,{iconURI:h+"/"+p+"16.png"})})},120:function(w,t,l){l.d(t,"a",function(){return g});var f=l(0);w=l(15);var g=Object(w.a)(function(h,x){var u=Object(f.a),E=Object(f.a)({},x),z,p,m="notebook"!==(null===(z=x.type)||void 0===z?void 0:z.toLowerCase())?"default_thumb.png":
"notebook-thumb.png";"notebook code snippets"===(null===(p=x.type)||void 0===p?void 0:p.toLowerCase())&&(m="notebook-code-snippet-thumb.png");p=h.baseUrl+"/home/js/arcgisonline/css/images/"+m;z=(x.thumbnail&&(p=h.restUrl+"/content/items/"+x.id+"/info/"+x.thumbnail+(h.credential?"?token\x3d"+h.credential.token:"")),p);return u(E,{thumbURI:z})})},121:function(w,t,l){l.d(t,"a",function(){return h});var f=l(0);w=l(15);var g=function(x,u){return u.description?u.description.replace(/src=('|")js\/jsapi\/esri\//g,
function(E){return"src\x3d"+('"'===E[4]?'"':"'")+x.baseUrl+"/home/js/jsapi/esri/"}):void 0},h=Object(w.a)(function(x,u){return Object(f.a)(Object(f.a)({},u),{patchedDescription:g(x,u)})})},122:function(w,t,l){l.d(t,"a",function(){return x});var f=l(0),g=l(124);w=l(15);var h=l(58),x=Object(w.a)(function(u,E){var z=Object(f.a),p=Object(f.a)({},E),m,e=E.type,c=E.typeKeywords||[],a=e,b=(null==u?void 0:u.portalUser)||(null==u?void 0:u.user);if("Feature Service"===e||"Feature Collection"===e){if(a=-1<c.indexOf("Table")?
"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",b&&Object(h.d)(E,b)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(m=null===document||void 0===document?void 0:document.documentElement)||void 0===m?void 0:m.lang)||"en",a=a+" ("+(g.a[c]||g.a[c.split("-")[0]]||g.a.en)+")"}else"Image Service"===e?(m=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),a=m?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===
e?a="Scene Layer":"Scene Package"===e?a="Scene Layer Package":"Stream Service"===e?a="Feature Layer":"Geocoding Service"===e?a="Locator":"Microsoft Powerpoint"===e?a="Microsoft PowerPoint":"OGCFeatureServer"===e?a="OGC Feature Layer":"GeoJson"===e?a="GeoJSON":"Globe Service"===e?a="Globe Layer":"Vector Tile Service"===e?a="Tile Layer":"netCDF"===e?a="NetCDF":"Map Service"===e?a=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":
e&&-1<e.toLowerCase().indexOf("add in")?a=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?a="Big Data File Share":"Web Mapping Application"===e&&(null==c?0:c.includes("configurableApp"))?a="Instant App":"Data Store"===e&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?a+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(a+=" (Big Data File Share)"));return z(p,{displayName:a})})},
123:function(w,t,l){l.d(t,"a",function(){return h});var f=l(0);w=l(15);var g=function(x,u){var E=[],z=x.typeKeywords?x.typeKeywords:[];return x.contentStatus&&("org_authoritative"===x.contentStatus||"public_authoritative"===x.contentStatus?E.push("authoritative"):"deprecated"===x.contentStatus&&E.push("deprecated")),x.origin&&E.push("collaboration"),x.groupDesignations&&-1<x.groupDesignations.indexOf("livingatlas")&&E.push("livingAtlas"),-1<z.indexOf("Requires Credits")?E.push("premium"):-1<z.indexOf("Requires Subscription")&&
E.push("subscriber"),-1<z.indexOf("Public Data Collection")&&((null==u?void 0:u.portalUser)||(null==u?void 0:u.user))&&E.push("publicDataCollection"),"Solution"===x.type&&-1<x.typeKeywords.indexOf("ArcGIS Solution")&&E.push("solution"),u.isPortal&&"Web Mapping Application"===x.type&&(-1<x.typeKeywords.indexOf("Story Map")&&E.push("retiredStoryMap"),function(p){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(m){var e,
c=-1<m.indexOf(".html");return-1<(null===(e=p.url)||void 0===e?void 0:e.indexOf("/apps/"+m+(c?"":"/")))})}(x)&&E.push("retiredApp")),E},h=Object(w.a)(function(x,u){return Object(f.a)(Object(f.a)({},u),{badges:g(u,x)})})},124:function(w,t,l){l.d(t,"a",function(){return f});var f={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(w,t,l){l.d(t,"a",function(){return g});l.d(t,"b",function(){return h});var f=l(0);w=l(15);var g=function(x,u){var E;return u.thumbnail&&(E=x.restUrl+"/community/groups/"+u.id+"/info/"+u.thumbnail+(x.credential?"?token\x3d"+x.credential.token:"")),E},h=Object(w.a)(function(x,u){return Object(f.a)(Object(f.a)({},u),{thumbURI:g(x,u)})})},137:function(w,t,l){l.d(t,"a",function(){return f});
l.d(t,"d",function(){return x});l.d(t,"c",function(){return u});l.d(t,"e",function(){return E});l.d(t,"f",function(){return z});var f,g=l(0),h=l(25);!function(p){p.LOADING="loading";p.LOADED="loaded";p.FAILED="failed"}(f||(f={}));var x=function(p){var m=p.selectedGroups,e=p.selectorItems;return 0===e.length?Object.keys(m).map(function(c){return m[c].group}):Object.keys(m).filter(function(c){return E(m[c],e)}).map(function(c){return m[c].group})},u=function(p){var m=p.initialSelectedGroups,e=p.selectedGroups,
c=Object.keys(e).map(function(a){return e[a].group.id});return Object.keys(m).map(function(a){return m[a].group.id}).filter(function(a){return 0>c.indexOf(a)}).map(function(a){return m[a].group})},E=function(p,m){return!p.selectedByIds||p.selectedByIds.length===m.length},z={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};t.b=function(p,m){switch(void 0===p&&(p=z),m.type){case h.a.DESELECT_GROUPS:return Object(g.a)(Object(g.a)({},
p),{selectedGroups:m.payload.reduce(function(a,b){var d=b.id;a[d];return Object(g.f)(a,["symbol"==typeof d?d:d+""])},p.selectedGroups)});case h.a.REVERT_GROUPS:return m.payload?Object(g.a)(Object(g.a)({},p),{selectedGroups:m.payload.reduce(function(a,b){var d;if(p.initialSelectedGroups[b.id])return Object(g.a)(Object(g.a)({},a),((d={})[b.id]=p.initialSelectedGroups[b.id],d));d=b.id;a[d];return Object(g.f)(a,["symbol"==typeof d?d:d+""])},p.selectedGroups)}):Object(g.a)(Object(g.a)({},p),{selectedGroups:Object(g.a)({},
p.initialSelectedGroups)});case h.a.SELECT_GROUPS:var e=p.selectorItems.map(function(a){return a.id});return Object(g.a)(Object(g.a)({},p),{selectedGroups:m.payload.reduce(function(a,b){var d;return Object(g.a)(Object(g.a)({},a),((d={})[b.group.id]=Object(g.a)({selectedByIds:e},b),d))},p.selectedGroups)});case h.a.SET_INITIAL_GROUPS:var c=m.payload.reduce(function(a,b){var d;return Object(g.a)(Object(g.a)({},a),((d={})[b.group.id]=b,d))},{});return Object(g.a)(Object(g.a)({},p),{selectedGroups:c,
initialSelectedGroups:Object(g.a)({},c)});case h.a.SET_SELECTOR_ITEMS:return Object(g.a)(Object(g.a)({},p),{selectorItems:m.payload});case h.a.CLEAR_SELECTION:return Object(g.a)(Object(g.a)({},p),{selectedGroups:{}});case h.a.LOADING_GROUPS:return Object(g.a)(Object(g.a)({},p),{status:f.LOADING});case h.a.LOAD_GROUPS_SUCCESS:return Object(g.a)(Object(g.a)({},p),{displayGroups:m.payload.results,total:m.payload.total,status:f.LOADED});case h.a.LOAD_GROUPS_FAIL:return Object(g.a)(Object(g.a)({},p),{displayGroups:[],
status:f.FAILED});case h.a.SET_HAS_GROUPS:return Object(g.a)(Object(g.a)({},p),{hasGroups:m.payload});default:return p}}},139:function(w,t,l){function f(K,U){var Z=U(),ca=Z.utilities.request,fa=Z.resources;Z=fa.selectedOptions;var ka=fa.selectedOptionsDirty;fa=Object(d.b)(fa.items);Z=ka&&Z["public"]===Z.total;K(F(y.a.LOADING));0<fa.length&&Z?Object(d.a)({items:fa,request:ca}).then(function(ma){ma.length?(ma=ma.some(function(ra){return-1===ra.typeKeywords.indexOf("Public Data Collection")}),K(B(ma?
y.c.PUBLIC_DATA_COLLECTION_DISABLED:y.c.PUBLIC_DATA_COLLECTION_ENABLED))):K(g)})["catch"](function(){K(g)}):K(g)}function g(K,U){var Z=U(),ca=Z.utilities,fa=ca.portal,ka=ca.request,ma=ca.onComplete;ca=Z.resources;var ra=ca.items,za=ca.selectedOptions,ia=ca.portalUser;ca=Z.gbState.groups;Z=ca.selectedGroups;ca=ca.initialSelectedGroups;var T=Object(e.d)({selectedGroups:Z,selectorItems:ra});Z=Object(e.c)({initialSelectedGroups:ca,selectedGroups:Z});var la=[];Object(c.h)({items:ra,groups:Z,portalUser:ia,
restUrl:fa.restUrl,request:ka}).then(function(){return Object(c.g)({items:ra,groups:T,portalUser:ia,request:ka,restUrl:fa.restUrl,selectedOptions:za})})["catch"](function(S){S.results?la=la.concat(Object(k.a)(S.results,ra)):S.message&&la.push({error:S})}).then(function(){return K(A)}).then(function(){var S=U().resources,P=S.items,I=S.dependentItems,ba=I.needGroupSharingUpdate,W=I.notEditable,aa=I.premium,Q=I.needPubliclyEditableWarning,N=I.needEditableWarning,R=I.needDataCollectionEnabled,X=I.needGroupDependentApplicationWarning,
Y=I.needBDFSDatastoreUpdate,da=S.selectedOptions,ea=(S=S.selectedOptionsDirty)&&da["public"]===da.total;0!==I.needShareLevelUpdate.length||0!==ba.length||0!==W.length||0!==aa.length||0!==Q.length||0!==N.length||0!==R.length||0!==X.length&&ea||0!==Y.length||0!==Object(c.c)(P,da,S).length?K({type:E.SET_CURRENT_VIEW,payload:y.a.DEPENDENT_ITEM_CONFIRMATION}):ma(0<la.length?{errors:la,selectedOptions:da}:{selectedOptions:da})})["catch"](console.error)}function h(K){return K.filter(function(U){return-1===
U.typeKeywords.indexOf("bigDataFileShare")})}function x(K,U){var Z=U(),ca=Z.utilities,fa=ca.portal,ka=ca.request,ma=ca.onComplete;ca=Z.resources;var ra=ca.dependentItems,za=ra.needBDFSDatastoreUpdate,ia=ra.needShareLevelUpdate,T=ra.needGroupSharingUpdate,la=ra.needEditableWarning,S=ca.selectedOptions;ca=ca.portalUser;ra=Z.gbState.groups;Z=ra.selectedGroups;var P=ra.selectorItems;if(0!==za.length||0!==ia.length||0!==T.length||0!==la.length){ra=Object(c.g)({items:h(za),groups:[],portalUser:ca,request:ka,
restUrl:fa.restUrl,selectedOptions:S});var I=Object(c.g)({items:Object(z.g)(Object(z.g)([],h(ia)),la),groups:[],portalUser:ca,request:ka,restUrl:fa.restUrl,selectedOptions:S});fa=Object(c.g)({items:T,groups:Object(e.d)({selectedGroups:Z,selectorItems:P}),portalUser:ca,request:ka,restUrl:fa.restUrl,selectedOptions:S,ignoreShareLevel:!0});a.Promise.all([ra,I,fa]).then(function(){var ba=Object(z.g)(Object(z.g)(Object(z.g)(Object(z.g)([],za),ia),T),la),W=ba.map(function(aa){return aa.id});ba=ba.filter(function(aa,
Q){return W.indexOf(aa.id)===Q});ma({dependentItems:ba,selectedOptions:S})})["catch"](function(ba){throw ba;})}else ma({selectedOptions:S})}function u(K,U){switch(U().resources.currentMiniDlg){case y.c.OPEN_GROUP_BROWSER:K(C(y.b["public"]));K(F(y.a.GROUP_BROWSER));break;case y.c.REVERT_SHARE_LEVEL:K({type:E.SET_INITIAL_SHARE_LEVEL});K(Object(m.c)());break;case y.c.REVERT_GROUPS:K(C(y.b["public"]));K(Object(m.c)());break;case y.c.EDITABLE_LAYERS:K(g);break;case y.c.SET_SHARE_TO_PRIVATE:K(C(y.b["private"]));
K(Object(m.a)());break;case y.c.PUBLIC_DATA_COLLECTION_DISABLED:K(F(y.a.SHARE));break;case y.c.PUBLIC_DATA_COLLECTION_ENABLED:K(g)}K({type:E.SET_MINI_DIALOG,payload:y.c.NONE})}l.d(t,"a",function(){return E});l.d(t,"k",function(){return B});l.d(t,"g",function(){return D});l.d(t,"j",function(){return F});l.d(t,"d",function(){return f});l.d(t,"i",function(){return x});l.d(t,"h",function(){return u});l.d(t,"c",function(){return H});l.d(t,"b",function(){return J});l.d(t,"e",function(){return O});l.d(t,
"f",function(){return M});var E,z=l(0),p=l(177),m=l(144),e=l(137),c=l(61),a=l(28),b=l(335),d=l(194),k=l(379),n=l(51),q=l(58),y=l(26);!function(K){K.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";K.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";K.SET_CURRENT_VIEW="SET_CURRENT_VIEW";K.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";K.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";K.SET_MINI_DIALOG="SET_MINI_DIALOG";K.SET_SHARE_MODE="SET_SHARE_MODE";K.SET_USER_TYPE="SET_USER_TYPE";K.SET_HELP_MAP="SET_HELP_MAP"}(E||
(E={}));var C=function(K){return{type:E.SET_SELECTED_SHARE_LEVEL,payload:K}},B=function(K){return{type:E.SET_MINI_DIALOG,payload:K}},D=function(){return function(K,U){var Z=U(),ca=Z.utilities,fa=ca.portal,ka=ca.request;ca=Z.resources.items;Z=r(Z);var ma=fa.urlKey||fa.isPortal?y.e.ORG:y.e.PUBLIC;K({type:E.SET_INITIAL_SHARE_LEVEL});K({type:E.SET_SHARE_MODE,payload:Z});K({type:E.SET_USER_TYPE,payload:ma});K(Object(p.a)({selectorItems:ca,anySelectorItemsPrivate:0<U().resources.selectedOptions[y.b["private"]],
shareMode:Z,userType:ma})).then(function(){return Object(c.a)(fa,ka)}).then(function(ra){K({type:E.SET_HELP_MAP,payload:ra});K(F(y.a.SHARE))})}},F=function(K){return function(U){U({type:E.SET_CURRENT_VIEW,payload:K})}},r=function(K){var U=K.resources,Z=U.items;U=U.portalUser;K=K.utilities.portal;var ca=Z[0];if(Object(q.d)(ca,U))return y.d.DEFAULT;ca=!ca.orgId||ca.orgId===U.orgId;return Object(n.h)({items:Z,user:U,portal:K})&&ca?y.d.ADMIN:y.d.GROUP},A=function(K,U){var Z=U(),ca=Z.resources,fa=ca.selectedOptions,
ka=Z.utilities,ma=ka.portal,ra=ka.request,za=ka.iconDir;Z=Z.gbState.groups;var ia=Z.selectedGroups,T=Z.selectorItems;ca=ca.items.map(function(la){return Object(b.b)({item:la,portal:ma,request:ra,iconDir:za})});return a.Promise.all(ca).then(function(la){return G({dependentItems:la,selectedGroups:ia,selectorItems:T,selectedOptions:fa,request:ra,portal:ma})}).then(function(la){K({type:E.SET_DEPENDENT_ITEMS,payload:la})})},G=function(K){var U=K.dependentItems,Z=K.selectedGroups,ca=K.selectorItems,fa=
K.selectedOptions,ka=K.request,ma=K.portal;return new a.Promise(function(ra,za){var ia=Object(c.b)(U).filter(function(S){return S}),T=ia.map(function(S){return S.id}),la=ia.filter(function(S,P){return T.indexOf(S.id)===P});a.Promise.all(la.map(function(S){return Object(b.a)({item:S,selectedOptions:fa,selectedGroups:Object(e.d)({selectedGroups:Z,selectorItems:ca}),request:ka,portal:ma})})).then(function(S){var P=[],I=[],ba=[],W=[],aa=[],Q=[],N=[],R=[],X=[],Y=!Object(c.e)(fa)&&Object(c.d)(fa)===y.b["public"];
S.forEach(function(da,ea){var ha=la[ea];if(da.premium)W.push(ha);else if(da.groupDependentApplication)R.push(ha);else{if(!da.bdfsDatastore)return Y&&da.editable&&Object(d.c)(ha)&&ha.isUpdateLayer?ha.access===y.b["public"]?void Q.push(ha):-1<ha.typeKeywords.indexOf("Public Data Collection")?void aa.push(ha):void N.push(ha):void((da.needsShareLevelUpdate||da.needsGroupSharingUpdate)&&(da.editable?(da.needsShareLevelUpdate&&I.push(ha),da.needsGroupSharingUpdate&&P.push(ha)):ba.push(ha)));X.push(ha)}});
ra({needGroupSharingUpdate:P,needShareLevelUpdate:I,notEditable:ba,premium:W,needPubliclyEditableWarning:Q,needEditableWarning:aa,needDataCollectionEnabled:N,needGroupDependentApplicationWarning:R,needBDFSDatastoreUpdate:X})})["catch"](function(S){throw S;})})},H=function(K,U){var Z=U(),ca=Z.gbState.groups.initialSelectedGroups,fa=Z.resources.selectedOptions;Z.config.userType===y.e.PUBLIC&&0<fa["private"]&&0<Object.keys(ca).length?K(B(y.c.REVERT_GROUPS)):K(Object(m.c)())},J=function(K,U){var Z=U(),
ca=Z.resources,fa=ca.portalUser;ca=ca.selectedOptions;Object(n.k)(Z.utilities.portal)||Object(n.a)(fa)||!Object(c.e)(ca)&&Object(c.d)(ca)!==y.b["private"]?K(F(y.a.GROUP_BROWSER)):K(B(y.c.OPEN_GROUP_BROWSER))},O=function(K,U){var Z=U(),ca=Z.resources,fa=ca.portalUser;ca=ca.items;var ka=Z.gbState.groups.selectedGroups;Object(n.k)(Z.utilities.portal)||Object(n.b)(fa)||!Object(d.d)({items:ca,groupDatas:Object.keys(ka).map(function(ma){return ka[ma]})})?K({type:E.SET_INITIAL_SHARE_LEVEL}):K(B(y.c.REVERT_SHARE_LEVEL))},
M=function(K){return function(U,Z){var ca=Z(),fa=ca.resources.portalUser,ka=ca.gbState.groups.selectedGroups;!Object(n.k)(ca.utilities.portal)&&!Object(n.b)(fa)&&K===y.b["private"]&&0<Object.keys(ka).length?U(B(y.c.SET_SHARE_TO_PRIVATE)):U(C(K))}}},144:function(w,t,l){l.d(t,"d",function(){return u});l.d(t,"e",function(){return E});l.d(t,"b",function(){return z});l.d(t,"c",function(){return p});l.d(t,"a",function(){return m});l.d(t,"f",function(){return e});var f=l(0),g=l(181),h=l(163),x=l(68),u=function(c){return 1<
c.length&&Object(h.a)(),{type:x.a.SELECT_GROUPS,payload:c.map(function(a){return{group:Object(g.c)(a)}})}},E=function(c){return{type:x.a.SET_INITIAL_GROUPS,payload:c.map(function(a){return Object(f.a)(Object(f.a)({},a),{group:Object(g.c)(a.group)})})}},z=function(c){return 1<c.length&&Object(h.b)(),{type:x.a.DESELECT_GROUPS,payload:c}},p=function(c){return{type:x.a.REVERT_GROUPS,payload:c}},m=function(){return Object(h.c)(),{type:x.a.CLEAR_SELECTION}},e=function(c){return{type:x.a.SET_SELECTOR_ITEMS,
payload:c}}},148:function(w,t,l){l.d(t,"a",function(){return g});var f=l(0);w=l(15);var g=Object(w.a)(function(h,x){var u=Object(f.a),E=Object(f.a)({},x);var z=x.thumbnail?h.restUrl+"/community/users/"+x.username+"/info/"+x.thumbnail+(h.credential?"?token\x3d"+h.credential.token:""):void 0;return u(E,{thumbURI:z})})},15:function(w,t,l){function f(h){return function u(){for(var E=this,z=[],p=0;p<arguments.length;p++)z[p]=arguments[p];return z.length>=h.length?h.call.apply(h,Object(g.g)([this],z)):
function(){for(var m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return u.call.apply(u,Object(g.g)(Object(g.g)([E],z),m))}}}l.d(t,"a",function(){return f});var g=l(0)},159:function(w,t,l){l.d(t,"b",function(){return c});l.d(t,"a",function(){return b});var f=l(0),g=l(181),h=l(30),x=l(163),u=l(54),E=l(68),z=l(28),p=l(61),m=l(38),e=l(26),c=function(D,F){a(F()).then(function(r){var A=F();A=Object(u.b)(A)?A:A.gbState;var G=A.utils;A.ui.focus.focusSelectAll&&Object(x.c)();D({type:E.a.LOAD_GROUPS_SUCCESS,
payload:Object(f.a)(Object(f.a)({},r),{results:r.results.map(function(H){return Object(g.b)(G.portal,H)})})})})["catch"](function(r){var A=F();(Object(u.b)(A)?A:A.gbState).ui.focus.focusSelectAll&&Object(x.c)();D({type:E.a.LOAD_GROUPS_FAIL,payload:r})})},a=function(D){D=Object(u.b)(D)?D:D.gbState;var F=D.utils,r=F.request,A=F.portal,G=D.config;F=G.groupsPerPage;var H=G.withinShare,J=(G.withinAppConfig,D.parameters);G=J.filter;J=J.sort;var O=D.ui.page.currentPageNumber,M={q:B(D),num:F,sortField:J.field,
sortOrder:J.order,start:(O-1)*F+1};return H&&(M.searchUserAccess="groupMember",M.searchUserName=G.currentUsername),G.designationFilter!==m.b.orgSettings||n(A)?new z.Promise(function(K,U){Object(h.g)(r,A,M).then(K,U)}):new z.Promise(function(K){K({query:M.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},b=function(D){var F=D.user;D=D.state;D=Object(u.b)(D)?D:D.gbState;var r=D.utils,A=r.request,G=r.portal;D=Object(f.a)(Object(f.a)({},D),{parameters:Object(f.a)(Object(f.a)({},D.parameters),{filter:Object(f.a)(Object(f.a)({},
D.parameters.filter),{currentUsername:F.username})})});var H={q:B(D),num:100,searchUserAccess:"groupMember",searchUserName:F.username};return(new z.Promise(function(J,O){return Object(h.g)(A,G,H).then(function(M){if(-1!==M.nextStart){var K=Math.ceil(M.total/100)-1,U=[M.results];M=function(ca){U.push(new z.Promise(function(fa,ka){var ma=100*(ca+1)+1;Object(h.g)(A,G,Object(f.a)(Object(f.a)({},H),{start:ma})).then(function(ra){fa(ra.results)},ka)}))};for(var Z=0;Z<K;Z++)M(Z);z.Promise.all(U).then(function(ca){J(Object(p.b)(ca))})}else J(M.results)},
O)}))["catch"](function(J){throw J;})},d=function(D){var F,r=D.shareMode,A=D.currentUsername,G=D.portalUser;D=D.userGroups;var H=[];switch(D&&D.forEach(function(J){var O,M=null===(O=J.userMembership)||void 0===O?void 0:O.memberType;!J.isViewOnly||"owner"!==M&&"admin"!==M||H.push(J.id)}),H.length&&(F="(isviewonly:false OR "+H.join(" OR ")+")"),r){case e.d.DEFAULT:return F||"(owner:"+A+" OR isviewonly:false)";case e.d.GROUP:return"owner:"+A+" -capabilities:updateitemcontrol";case e.d.ADMIN:return G.username===
A?"(isviewonly:false OR owner:"+G.username+") -capabilities:updateitemcontrol":"(owner:"+A+" OR isviewonly:false)";default:return""}},k=function(D,F){0!==(null==D?void 0:D.indexOf("id:"))||-1<F.indexOf(D)||F.push(D)},n=function(D){var F,r,A,G,H,J=[],O=[D.featuredItemsGroupQuery,D.basemapGalleryGroupQuery,D.templatesGroupQuery,D["2DStylesGroupQuery"],D.stylesGroupQuery,D.analysisLayersGroupQuery,D.galleryTemplatesGroupQuery];if(D.hasModernHomePageEnabled){var M=(null===(r=null===(F=D.homePageConfig)||
void 0===F?void 0:F.content)||void 0===r?void 0:r.filter(function(K){return"gallery"===K.type&&!!K.groupId}))||[];0<M.length&&M.forEach(function(K){k("id:"+K.groupId,J)})}else O.push(D.homePageFeaturedContent);return O.forEach(function(K){k(K,J)}),null===(A=D.featuredGroups)||void 0===A||A.forEach(function(K){(K=K.id)&&k("id:"+K,J)}),null===(H=null===(G=D.userDefaults)||void 0===G?void 0:G.groups)||void 0===H||H.forEach(function(K){k("id:"+K,J)}),0<J.length?"("+J.join(" OR ")+")":""},q=function(D){var F=
D.portal;switch(D.designationFilter){case m.b.openData:return"isopendata:true";case m.b.updateGroups:return"capabilities:updateitemcontrol";case m.b.distributed:return"capabilities:distributed";case m.b.administrative:return"isleavingdisallowed:true";case m.b.orgSettings:return n(F)||"";default:return""}},y=function(D){var F=D.portal,r=D.username,A=D.currentUsername,G=D.userType,H=D.withinAppConfig;r=D.shareMode===e.d.ADMIN&&A||r;H=F.isPortal&&H?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":
"";switch(D.ownerFilter){case m.d.itemOwner:return"owner:"+r+" "+H;case m.d.inOrg:return"-owner:"+r+" orgid:"+F.id+" "+H;case m.d.outsideOrg:return G===e.e.PUBLIC?"-owner:"+r+" "+H:"(orgid: [0 TO \\{]) -orgid:"+F.id+" "+H;default:return H}},C=function(D){return D?"created: ["+(F=D).start+" TO "+F.end+"]":"";var F},B=function(D){var F=D.utils,r=F.portal;F=F.portalUser;var A=D.config,G=A.shareMode,H=A.userType,J=A.withinAppConfig,O=A.hasIndoorsSpaces;D=D.parameters.filter;var M=D.designationFilter,
K=D.membershipFilter,U=D.dateCreatedFilter,Z=D.currentUsername,ca=D.ownerFilter;return[A.baseQ+" "+D.searchString,d({shareMode:G,currentUsername:Z,portalUser:F,userGroups:A.userGroups}),O?"-capabilities:distributed":q({designationFilter:M,portal:r}),O?"membershipaccess:org":K?"anyOrg"===K?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+K:"",C(U),y({ownerFilter:ca,portal:r,username:F.username,currentUsername:Z,shareMode:G,userType:H,withinAppConfig:J})].filter(function(fa){return fa}).join(" ").trim()}},
16:function(w,t){w.exports=V},163:function(w,t,l){function f(){x("gb__select-all-input")}function g(){x("gb__clear-selection-btn")}function h(){setTimeout(function(){var u=document.querySelector(".gcard-gcc__container");u&&(u=u.querySelector(".btn-2018check__input"))&&u.focus()},50)}function x(u){setTimeout(function(){var E=document.querySelector("#"+u);E&&E.focus()},50)}l.d(t,"c",function(){return f});l.d(t,"a",function(){return g});l.d(t,"b",function(){return h})},170:function(w,t){var l=function(){return this}();
try{l=l||(new Function("return this"))()}catch(f){"object"==typeof window&&(l=window)}w.exports=l},175:function(w,t,l){var f;l.d(t,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(w,t,l){l.d(t,"a",function(){return k});var f=l(0),g=l(54),h=l(144),x=l(159),u=l(313),E=l(314),z=l(186),p=l(30),m=l(28),e=l(25),c=l(61),a=l(68),b=l(192),d=l(58),k=function(q){return function(y,C){var B=C(),D=(Object(g.b)(B)?B:B.gbState).utils,F=D.portal;D=D.portalUser;if(!(q&&
q.selectorItems&&0<q.selectorItems.length))return y(x.b),m.Promise.resolve();var r=q.selectorItems,A=q.userType;y({type:e.a.SET_SHARE_MODE,payload:q.shareMode});y({type:e.a.SET_USER_TYPE,payload:A});y(Object(h.f)(r));F=Object(d.b)({user:D,items:r,portal:F});var G=D.username===F.username?[D]:[D,F];return 1<G.length&&!q.anySelectorItemsPrivate&&y({type:e.a.ENABLE_USER_TOGGLE}),y(Object(z.c)(G)),y(Object(z.h)(F.username)),void 0===B.config.hasTrustedOrgs&&y(u.a),Object(E.a)(C()).then(function(H){return H&&
y({type:b.a.USER_DETAILS_LOADED,payload:H.groups}),y(x.b),m.Promise.all(G.map(function(J){return Object(x.a)({user:J,state:C()})})).then(function(J){J=Object(c.b)(J);var O=J.map(function(M){return M.id});J=J.filter(function(M,K){return O.indexOf(M.id)===K});return y(n(J))})})}},n=function(q){return function(y,C){return new m.Promise(function(B,D){var F=C();F=Object(g.b)(F)?F:F.gbState;var r=F.utils,A=r.portal,G=r.request,H=Object(p.b)(F.groups.selectorItems);F=Object(p.a)(q).map(function(J){return Object(p.i)({itemIds:H,
groupIds:Object(p.b)(J),portal:A,request:G})});m.Promise.all(F).then(function(J){var O=J.reduce(function(K,U){return Object(f.a)(Object(f.a)({},K),U)},{}),M=Object.keys(O);J=q.filter(function(K){return 0<=M.indexOf(K.id)}).map(function(K){return{group:K,selectedByIds:O[K.id].items.map(function(U){return U.itemId})}});y({type:a.a.SET_HAS_GROUPS,payload:0<q.length});y(Object(h.e)(J));B()})["catch"](D)})}}},181:function(w,t,l){l.d(t,"b",function(){return x});l.d(t,"c",function(){return u});l.d(t,"a",
function(){return E});var f=l(63);w=l(5);var g=l(99),h=l(128),x=function(z,p){return Object(f.a)(Object(h.b)(z))(p)},u=Object(f.a)(Object(w.e)("thumbURI")),E=function(z){var p=z.initialSelectedByIds;return!Object(g.a)(z.selectedBy.map(function(m){return m.id}),p)}},186:function(w,t,l){l.d(t,"b",function(){return g});l.d(t,"g",function(){return h});l.d(t,"h",function(){return x});l.d(t,"e",function(){return u});l.d(t,"f",function(){return E});l.d(t,"d",function(){return z});l.d(t,"c",function(){return p});
l.d(t,"a",function(){return m});var f=l(83),g=function(e){return{type:f.a.SET_SEARCH_STRING,payload:e}},h=function(e){return{type:f.a.UPDATE_OWNER_FILTER,payload:e}},x=function(e){return{type:f.a.UPDATE_USERNAME_FILTER,payload:e}},u=function(e){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:e}},E=function(e){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:e}},z=function(e){return{type:f.a.UPDATE_CREATED_ON_FILTER,payload:{section:e.section,created:e.created}}},p=function(e){return{type:f.a.SET_USERS,
payload:e}},m=function(e){return{type:f.a.CLEAR_FILTERS,payload:e}}},189:function(w,t){function l(){throw Error("setTimeout has not been defined");}function f(){throw Error("clearTimeout has not been defined");}function g(d){if(p===setTimeout)return setTimeout(d,0);if((p===l||!p)&&setTimeout)return p=setTimeout,setTimeout(d,0);try{return p(d,0)}catch(k){try{return p.call(null,d,0)}catch(n){return p.call(this,d,0)}}}function h(){a&&e&&(a=!1,e.length?c=e.concat(c):b=-1,c.length&&x())}function x(){if(!a){var d=
g(h);a=!0;for(var k=c.length;k;){e=c;for(c=[];++b<k;)e&&e[b].run();b=-1;k=c.length}e=null;a=!1;(function(n){if(m===clearTimeout)return clearTimeout(n);if((m===f||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(n);try{m(n)}catch(q){try{return m.call(null,n)}catch(y){return m.call(this,n)}}})(d)}}function u(d,k){this.fun=d;this.array=k}function E(){}var z=w.exports={};try{var p="function"==typeof setTimeout?setTimeout:l}catch(d){p=l}try{var m="function"==typeof clearTimeout?clearTimeout:f}catch(d){m=
f}!0;var e,c=[],a=!1,b=-1;z.nextTick=function(d){var k=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)k[n-1]=arguments[n];c.push(new u(d,k));1!==c.length||a||g(x)};u.prototype.run=function(){this.fun.apply(null,this.array)};z.title="browser";z.browser=!0;z.env={};z.argv=[];z.version="";z.versions={};z.on=E;z.addListener=E;z.once=E;z.off=E;z.removeListener=E;z.removeAllListeners=E;z.emit=E;z.prependListener=E;z.prependOnceListener=E;z.listeners=function(d){return[]};
z.binding=function(d){throw Error("process.binding is not supported");};z.cwd=function(){return"/"};z.chdir=function(d){throw Error("process.chdir is not supported");};z.umask=function(){return 0}},192:function(w,t,l){var f;l.d(t,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(w,t,l){function f(m){return"Feature Service"===m.type&&-1<m.typeKeywords.indexOf("Hosted Service")}function g(m){return m.filter(function(e){return e.access!==E.b["public"]&&f(e)})}function h(m){var e=
m.request;m=m.items.map(function(c){return function(a,b){return new x.Promise(function(d){f(a)?Object(u.v)(b,a.url+"/layers").then(function(k){k=k.layers;d((null==k?void 0:k.reduce(function(n,q){return n||q&&-1<q.capabilities.indexOf("Editing")},!1))&&a)},function(){return d(!1)}):d(!1)})}(c,e)});return x.Promise.all(m).then(function(c){return c.filter(function(a){return a})})}l.d(t,"d",function(){return z});l.d(t,"c",function(){return f});l.d(t,"b",function(){return g});l.d(t,"a",function(){return h});
var x=l(28),u=l(30),E=l(26),z=function(m){var e=m.groupDatas;return m.items.filter(function(c){c=c.access?c.access:c.sharing&&c.sharing.access;return c===E.b["private"]||c===E.b.shared}).reduce(function(c,a){return c||p({item:a,groupDatas:e})},!1)},p=function(m){var e=m.item;return m.groupDatas.reduce(function(c,a){return c||!!a.selectedByIds&&0<=a.selectedByIds.indexOf(e.id)},!1)}},204:function(w,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.SET_PAGE="SET_PAGE";g.TOGGLE_SORT_DROPDOWN=
"TOGGLE_SORT_DROPDOWN";g.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},207:function(w,t,l){l.d(t,"b",function(){return h});var f=l(0),g=l(25),h={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};t.a=function(x,u){switch(void 0===x&&(x=h),u.type){case g.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},x),{enableUserToggle:!0});case g.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},
x),{shareMode:u.payload});case g.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},x),{userType:u.payload});case g.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},x),{hasTrustedOrgs:0<u.payload.length});case g.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},x),{userGroups:u.payload});case g.a.SET_SELECTOR_ITEMS:var E=!!u.payload.find(function(z){var p;return-1<(null===(p=null==z?void 0:z.typeKeywords)||void 0===p?void 0:p.indexOf("EditExtensionIndoorsSpaces"))});return Object(f.a)(Object(f.a)({},
x),{hasIndoorsSpaces:E});default:return x}}},208:function(w,t,l){l.d(t,"b",function(){return g});w=l(16);var f=l(209);l=l(38);var g={sort:f.b,filter:l.f};t.a=Object(w.combineReducers)({sort:f.a,filter:l.e})},209:function(w,t,l){l.d(t,"b",function(){return h});var f=l(0),g=l(25),h={field:"title",order:"asc"},x={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};t.a=function(u,E){switch(void 0===u&&(u=h),E.type){case g.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},
u),{field:E.payload,order:x[E.payload]});case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},u),{order:E.payload});default:return u}}},210:function(w,t,l){l.d(t,"b",function(){return x});w=l(16);var f=l(211),g=l(212),h=l(213);l=l(214);var x={page:f.b,sort:g.b,focus:h.b,filter:l.b};t.a=Object(w.combineReducers)({page:f.a,sort:g.a,focus:h.a,filter:l.a})},211:function(w,t,l){l.d(t,"b",function(){return h});var f=l(0),g=l(25),h={currentPageNumber:1};t.a=function(x,u){switch(void 0===x&&(x=h),
u.type){case g.a.CLEAR_FILTERS:case g.a.UPDATE_USERNAME_FILTER:case g.a.UPDATE_OWNER_FILTER:case g.a.UPDATE_CREATED_ON_FILTER:case g.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},x),{currentPageNumber:1});case g.a.SET_PAGE:return Object(f.a)(Object(f.a)({},x),{currentPageNumber:u.payload});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},x),{currentPageNumber:u.payload.num>u.payload.total?1:Math.ceil(u.payload.start/u.payload.num)});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},
x),{currentPageNumber:1});default:return x}}},212:function(w,t,l){l.d(t,"b",function(){return g});var f=l(25),g=!1;t.a=function(h,x){switch(void 0===h&&(h=g),x.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!h;default:return h}}},213:function(w,t,l){l.d(t,"b",function(){return h});var f=l(0),g=l(25),h={focusSelectAll:!1};t.a=function(x,u){switch(u.type){case g.a.LOAD_GROUPS_FAIL:case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},x),{focusSelectAll:!1});
case g.a.CHANGE_SORT_FIELD:case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},x),{focusSelectAll:!0});default:return x}}},214:function(w,t,l){l.d(t,"b",function(){return x});var f=l(0),g=l(25),h=l(38),x={expanded:!1};t.a=function(u,E){switch(E.type){case g.a.CLEAR_FILTERS:switch(E.payload){case void 0:case h.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},u),{dateCreatedSelectedSection:void 0});default:return u}case g.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},u),{expanded:!u.expanded});
case g.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},u),{dateCreatedSelectedSection:E.payload.section});default:return u}}},215:function(w,t,l){l.d(t,"b",function(){return g});var f=l(101),g={portal:{},portalUser:{},request:function(h){return null}};t.a=function(h,x){return void 0===h&&(h=g),x.type,h.portal.portalHostname&&!h.portal.baseUrl&&(h.portal.baseUrl=Object(f.a)(h.portal)),h}},25:function(w,t,l){l.d(t,"a",function(){return u});var f;w=l(0);t=l(204);var g=l(68),h=l(175),x=l(83);
l=l(192);!function(E){E.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";E.SET_SHARE_MODE="SET_SHARE_MODE";E.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var u=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},t.a),g.a),x.a),f),h.a),l.a)},26:function(w,t,l){var f,g,h,x,u;l.d(t,"b",function(){return f});l.d(t,"a",function(){return g});l.d(t,"c",function(){return h});l.d(t,"e",function(){return x});l.d(t,"d",function(){return u});(function(E){E.org="org";E["private"]="private";E["public"]=
"public";E.shared="shared"})(f||(f={}));(function(E){E.LOADING="LOADING";E.SHARE="SHARE";E.GROUP_BROWSER="GROUP_BROWSER";E.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(g||(g={}));(function(E){E.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";E.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";E.REVERT_GROUPS="REVERT_GROUPS";E.EDITABLE_LAYERS="EDITABLE_LAYERS";E.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";E.NONE="NONE";E.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";E.PUBLIC_DATA_COLLECTION_ENABLED=
"PUBLIC_DATA_COLLECTION_ENABLED"})(h||(h={}));(function(E){E.ORG="ORG";E.PUBLIC="PUBLIC"})(x||(x={}));(function(E){E.DEFAULT="DEFAULT";E.ADMIN="ADMIN";E.GROUP="GROUP"})(u||(u={}))},28:function(w,t,l){(function(f,g){w.exports=function(){function h(){var ma=setTimeout;return function(){return ma(x,1)}}function x(){for(var ma=0;ma<y;ma+=2)(0,H[ma])(H[ma+1]),H[ma]=void 0,H[ma+1]=void 0;y=0}function u(ma,ra){var za=this,ia=new this.constructor(z);void 0===ia[Z]&&n(ia);var T=za._state;if(T){var la=arguments[T-
1];D(function(){return k(T,ia,la,za._result)})}else b(za,ia,ma,ra);return ia}function E(ma){if(ma&&"object"==typeof ma&&ma.constructor===this)return ma;var ra=new this(z);return m(ra,ma),ra}function z(){}function p(ma,ra,za){ra.constructor===ma.constructor&&za===u&&ra.constructor.resolve===E?function(ia,T){1===T._state?c(ia,T._result):2===T._state?a(ia,T._result):b(T,void 0,function(la){return m(ia,la)},function(la){return a(ia,la)})}(ma,ra):void 0===za?c(ma,ra):"function"==typeof za?function(ia,
T,la){D(function(S){var P=!1,I=function(ba,W,aa,Q){try{ba.call(W,aa,Q)}catch(N){return N}}(la,T,function(ba){P||(P=!0,T!==ba?m(S,ba):c(S,ba))},function(ba){P||(P=!0,a(S,ba))},S._label);!P&&I&&(P=!0,a(S,I))},ia)}(ma,ra,za):c(ma,ra)}function m(ma,ra){if(ma===ra)a(ma,new TypeError("You cannot resolve a promise with itself"));else if(ia=typeof(za=ra),null===za||"object"!==ia&&"function"!==ia)c(ma,ra);else{za=void 0;try{za=ra.then}catch(T){return void a(ma,T)}p(ma,ra,za)}var za,ia}function e(ma){ma._onerror&&
ma._onerror(ma._result);d(ma)}function c(ma,ra){void 0===ma._state&&(ma._result=ra,ma._state=1,0!==ma._subscribers.length&&D(d,ma))}function a(ma,ra){void 0===ma._state&&(ma._state=2,ma._result=ra,D(e,ma))}function b(ma,ra,za,ia){var T=ma._subscribers,la=T.length;ma._onerror=null;T[la]=ra;T[la+1]=za;T[la+2]=ia;0===la&&ma._state&&D(d,ma)}function d(ma){var ra=ma._subscribers,za=ma._state;if(0!==ra.length){for(var ia=void 0,T=void 0,la=ma._result,S=0;S<ra.length;S+=3)ia=ra[S],T=ra[S+za],ia?k(za,ia,
T,la):T(la);ma._subscribers.length=0}}function k(ma,ra,za,ia){var T="function"==typeof za,la=void 0,S=void 0,P=!0;if(T){try{la=za(ia)}catch(I){P=!1,S=I}if(ra===la)return void a(ra,new TypeError("A promises callback cannot return that same promise."))}else la=ia;void 0!==ra._state||(T&&P?m(ra,la):!1===P?a(ra,S):1===ma?c(ra,la):2===ma&&a(ra,la))}function n(ma){ma[Z]=ca++;ma._state=void 0;ma._result=void 0;ma._subscribers=[]}var q=Array.isArray?Array.isArray:function(ma){return"[object Array]"===Object.prototype.toString.call(ma)},
y=0,C=void 0,B=void 0,D=function(ma,ra){H[y]=ma;H[y+1]=ra;2===(y+=2)&&(B?B(x):U())},F="undefined"!=typeof window?window:void 0,r=F||{};r=r.MutationObserver||r.WebKitMutationObserver;var A="undefined"==typeof self&&void 0!==f&&"[object process]"==={}.toString.call(f),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=Array(1E3),J,O,M,K,U=void 0;A?U=function(){return f.nextTick(x)}:r?(O=0,M=new r(x),K=document.createTextNode(""),M.observe(K,
{characterData:!0}),U=function(){K.data=O=++O%2}):G?((J=new MessageChannel).port1.onmessage=x,U=function(){return J.port2.postMessage(0)}):U=void 0===F?function(){try{var ma=Function("return this")().require("vertx");return void 0!==(C=ma.runOnLoop||ma.runOnContext)?function(){C(x)}:h()}catch(ra){return h()}}():h();var Z=Math.random().toString(36).substring(2),ca=0,fa=function(){function ma(ra,za){this._instanceConstructor=ra;this.promise=new ra(z);this.promise[Z]||n(this.promise);q(za)?(this.length=
za.length,this._remaining=za.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(za),0===this._remaining&&c(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}return ma.prototype._enumerate=function(ra){for(var za=0;void 0===this._state&&za<ra.length;za++)this._eachEntry(ra[za],za)},ma.prototype._eachEntry=function(ra,za){var ia=this._instanceConstructor,T=ia.resolve;if(T===E){var la=
T=void 0,S=!1;try{T=ra.then}catch(P){S=!0,la=P}T===u&&void 0!==ra._state?this._settledAt(ra._state,za,ra._result):"function"!=typeof T?(this._remaining--,this._result[za]=ra):ia===ka?(ia=new ia(z),S?a(ia,la):p(ia,ra,T),this._willSettleAt(ia,za)):this._willSettleAt(new ia(function(P){return P(ra)}),za)}else this._willSettleAt(T(ra),za)},ma.prototype._settledAt=function(ra,za,ia){var T=this.promise;void 0===T._state&&(this._remaining--,2===ra?a(T,ia):this._result[za]=ia);0===this._remaining&&c(T,this._result)},
ma.prototype._willSettleAt=function(ra,za){var ia=this;b(ra,void 0,function(T){return ia._settledAt(1,za,T)},function(T){return ia._settledAt(2,za,T)})},ma}(),ka=function(){function ma(ra){this[Z]=ca++;this._result=this._state=void 0;this._subscribers=[];if(z!==ra){if("function"!=typeof ra)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ma)(function(za,ia){try{ia(function(T){m(za,T)},function(T){a(za,T)})}catch(T){a(za,T)}})(this,
ra);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ma.prototype["catch"]=function(ra){return this.then(null,ra)},ma.prototype["finally"]=function(ra){var za=this.constructor;return"function"==typeof ra?this.then(function(ia){return za.resolve(ra()).then(function(){return ia})},function(ia){return za.resolve(ra()).then(function(){throw ia;})}):this.then(ra,ra)},ma}();return ka.prototype.then=
u,ka.all=function(ma){return(new fa(this,ma)).promise},ka.race=function(ma){var ra=this;return q(ma)?new ra(function(za,ia){for(var T=ma.length,la=0;la<T;la++)ra.resolve(ma[la]).then(za,ia)}):new ra(function(za,ia){return ia(new TypeError("You must pass an array to race."))})},ka.resolve=E,ka.reject=function(ma){var ra=new this(z);return a(ra,ma),ra},ka._setScheduler=function(ma){B=ma},ka._setAsap=function(ma){D=ma},ka._asap=D,ka.polyfill=function(){var ma=void 0;if(void 0!==g)ma=g;else if("undefined"!=
typeof self)ma=self;else try{ma=Function("return this")()}catch(ia){throw Error("polyfill failed because global object is unavailable in this environment");}var ra=ma.Promise;if(ra){var za=null;try{za=Object.prototype.toString.call(ra.resolve())}catch(ia){}if("[object Promise]"===za&&!ra.cast)return}ma.Promise=ka},ka.Promise=ka,ka}()}).call(this,l(189),l(170))},30:function(w,t,l){function f(H){return H.reduce(function(J,O){return O&&O.relatedItems?J.concat(O.relatedItems.map(function(M){return M})):
J},[])}function g(H,J,O){return H(J,{query:Object(u.a)({f:"json"},O)}).then(function(M){return M.data})}function h(H,J){void 0===J&&(J=100);for(var O=[],M=0;M<Math.ceil(H.length/J);M++)O.push(H.slice(M*J,(M+1)*J));return O.filter(function(K){return 0<K.length})}function x(H){var J=H.itemIds,O=H.request,M=H.groupIds,K=H.portal.restUrl+"/content/itemsgroups";return new E.Promise(function(U,Z){O(K,{method:"get",query:{f:"json",items:J,groups:M}}).then(function(ca){U(ca.data)},Z)})}l.d(t,"u",function(){return z});
l.d(t,"n",function(){return p});l.d(t,"h",function(){return m});l.d(t,"e",function(){return e});l.d(t,"f",function(){return c});l.d(t,"j",function(){return a});l.d(t,"o",function(){return b});l.d(t,"l",function(){return d});l.d(t,"k",function(){return k});l.d(t,"m",function(){return n});l.d(t,"c",function(){return q});l.d(t,"d",function(){return y});l.d(t,"r",function(){return C});l.d(t,"s",function(){return B});l.d(t,"t",function(){return D});l.d(t,"g",function(){return F});l.d(t,"p",function(){return r});
l.d(t,"q",function(){return A});l.d(t,"v",function(){return g});l.d(t,"a",function(){return h});l.d(t,"i",function(){return x});l.d(t,"b",function(){return G});var u=l(0),E=l(28),z=function(H){return function(J,O){return H({url:J,content:O.query},{usePost:"post"===O.method}).then(function(M){return{data:M}})}},p=function(H,J,O){return g(H,J.restUrl+"/portals/self",{culture:O,"default":!0})},m=function(H,J,O){return g(H,J.restUrl+"/content/items/"+O+"/data")},e=function(H,J,O,M){return g(H,J.restUrl+
"/community/groups",Object(u.a)({q:O},M))},c=function(H,J,O){return g(H,J.restUrl+"/community/groups/"+O+"/categorySchema")},a=function(H,J,O){return g(H,J.restUrl+"/portals/"+(O||J.id)+"/categorySchema")},b=function(H,J){return g(H,J.restUrl+"/portals/"+J.id+"/servers")},d=function(H,J,O,M){return H(J.restUrl+"/portals/"+(O||J.id)+"/collaborationsSummary",M)},k=function(H,J,O,M){return H(J.restUrl+"/portals/"+(O||J.id)+"/collaboratedItems",M)},n=function(H,J,O){return g(H,location.protocol+"//"+
J.portalHostname+"/sharing/rest/portals/"+(O||"self"))},q=function(H,J,O){return H(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:O||1,sortField:"title",sortOrder:"asc"}}).then(function(M){return M.data.total>M.data.start+M.data.num?q(H,J,M.data.start+M.data.num).then(function(K){return Object(u.a)(Object(u.a)({},K),{data:Object(u.a)(Object(u.a)({},K.data),{results:M.data.results.concat(K.data.results)})})}):M})},y=function(H,J,O,M){return H(J.restUrl+
"/community/users/"+O+"/provisionedListings",{query:{f:"json",num:100,start:M||1}}).then(function(K){var U=E.Promise.all(K.data.provisionedListings.filter(function(ca){return ca.itemId}).map(function(ca){return(new E.Promise(function(fa,ka){H(J.restUrl+"/content/items/"+ca.itemId,{method:"get",query:{f:"json"}}).then(function(ma){fa(ma.data)},ka)}))["catch"](function(fa){return 0})})),Z=K.data.provisionedListings.map(function(ca){return g(H,J.restUrl+"/content/items/"+(ca.id||ca.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(fa){return fa},
function(fa){})});return K.data.total>K.data.start+K.data.num?y(H,J,O,K.data.start+K.data.num).then(function(ca){return E.Promise.all([U].concat(Z)).then(function(fa){return fa[0].results.concat(f(fa.slice(1))).concat(ca)})}):E.Promise.all([U].concat(Z)).then(function(ca){return ca[0].filter(function(fa){return void 0!==fa}).concat(f(ca.slice(1)))})})},C=function(H,J,O){return g(H,J.restUrl+"/community/users/"+(O||J.user.username))},B=function(H,J,O){return g(H,J.restUrl+"/content/users/"+(O||J.user.username),
{num:1})},D=function(H,J,O){return g(H,J.restUrl+"/content/groups/"+O)},F=function(H,J,O){return g(H,J.restUrl+"/community/groups",O)},r=function(H,J){return g(H,J.restUrl+"/portals/self/settings")},A=function(H,J){return g(H,J.restUrl+"/portals/self/trustedOrgs",{num:100})},G=function(H,J){return void 0===J&&(J=","),H.map(function(O){return O.id}).join(J)}},313:function(w,t,l){l.d(t,"a",function(){return x});var f=l(30),g=l(54),h=l(175),x=function(u,E){var z=E();z=(Object(g.b)(z)?z:z.gbState).utils;
Object(f.q)(z.request,z.portal).then(function(p){var m;p=(null===(m=null==p?void 0:p.trustedOrgs)||void 0===m?void 0:m.filter(function(e){return-1<e.from.established&&-1<e.to.established}))||[];u({type:h.a.TRUSTED_ORGS_LOADED,payload:p})},function(){u({type:h.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(w,t,l){l.d(t,"a",function(){return x});var f=l(30),g=l(54),h=l(28),x=function(u){u=(Object(g.b)(u)?u:u.gbState).utils;var E=u.request,z=u.portal,p=u.portalUser;return new h.Promise(function(m,
e){Object(f.r)(E,z,p.username).then(function(c){m(c)},function(){m()})})}},335:function(w,t,l){l.d(t,"b",function(){return p});l.d(t,"a",function(){return y});var f=l(0),g=l(28),h=l(30),x=l(78),u=l(61),E=l(194),z=l(26),p=function(D){if(D.depth&&4<D.depth)return g.Promise.resolve([]);switch(D.depth=D.depth?D.depth+1:1,D.item.type){case "Web Map":case "Web Scene":return k(D);case "Web Mapping Application":return e(D);case "Big Data File Share":return c(D);case "Data Store":return a(D);default:return g.Promise.resolve([])}},
m=function(D){var F=D.item,r=D.request,A=D.portal,G=D.iconDir;return F.itemId?new g.Promise(function(H){Object(h.v)(r,A.restUrl+"/content/items/"+F.itemId).then(function(J){0<Object(E.b)([J]).length?Object(E.a)({items:[J],request:r}).then(function(O){J.isUpdateLayer=0<O.length;H(Object(x.a)(A,G,J))},function(){return H(Object(x.a)(A,G,J))}):H(Object(x.a)(A,G,J))},function(){return H(null)})}):g.Promise.resolve(null)},e=function(D){var F=D.item,r=D.request,A=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(h.v)(r,
A.restUrl+"/content/items/"+F.id+"/data").then(function(J){J||H([]);var O=function(M){var K,U,Z,ca,fa,ka,ma,ra,za,ia,T=(null===(K=null==M?void 0:M.map)||void 0===K?0:K.itemId)?[M.map.itemId]:[];K=null!==(ca=null===(Z=null===(U=M.values)||void 0===U?void 0:U.itemCollection)||void 0===Z?void 0:Z.map(function(la){return la.id}))&&void 0!==ca?ca:[];U=null!==(ma=null===(ka=null===(fa=M.values)||void 0===fa?void 0:fa.webmap)||void 0===ka?void 0:ka.split(","))&&void 0!==ma?ma:[];M=null!==(ia=null===(za=
null===(ra=M.values)||void 0===ra?void 0:ra.webscene)||void 0===za?void 0:za.split(","))&&void 0!==ia?ia:[];return Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],T),K),U),M)}(J).map(function(M){return m({item:{itemId:M},request:r,portal:A,iconDir:G})});g.Promise.all(O).then(function(M){var K=M.filter(function(U){return U});M=K.map(function(U){return p({item:U,request:r,portal:A,iconDir:G})});g.Promise.all(M).then(function(U){var Z;U=Object(f.g)(Object(f.g)([],K),Object(u.b)(U));(null===(Z=J.values)||
void 0===Z?0:Z.group)&&(F.itemData=J,U.push(F));H(U)})})})})},c=function(D){var F=D.item,r=D.request,A=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(h.v)(r,A.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(J){if(-1<J.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<J.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(h.v)(r,A.restUrl+"/content/items/"+J.relatedItems[0].id+"/relatedItems",
{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(M){M.relatedItems.push(J.relatedItems[0]);M=b(M.relatedItems,r,A,G);g.Promise.all(M).then(function(K){H(K)})});else{var O=b(J.relatedItems,r,A,G);g.Promise.all(O).then(function(M){H(M)})}})})},a=function(D){var F=D.item,r=D.request,A=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(h.v)(r,A.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(J){J=
b(J.relatedItems,r,A,G);g.Promise.all(J).then(function(O){H(O)})})})},b=function(D,F,r,A){return D.map(function(G){return d(G,F,r,A)})},d=function(D,F,r,A){return new g.Promise(function(G){Object(h.v)(F,r.restUrl+"/content/items/"+D.id).then(function(H){G(Object(x.a)(r,A,H))})})},k=function(D){var F=D.item,r=D.request,A=D.portal,G=D.iconDir;return new g.Promise(function(H){return function(J){var O=J.portal,M=J.item,K=J.request;return new g.Promise(function(U){if(M.itemData){var Z=M.itemData,ca=Z.operationalLayers,
fa=Z.baseMap,ka=Z.tables;Z=Z.ground;return U(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],(null==fa?void 0:fa.baseMapLayers)||[]),(null==Z?void 0:Z.layers)||[]),ca||[]),ka||[]))}return Object(h.v)(K,O.restUrl+"/content/items/"+M.id+"/data").then(function(ma){var ra=ma.baseMap,za=ma.tables,ia=ma.ground;return U(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],ma.operationalLayers||[]),(null==ra?void 0:ra.baseMapLayers)||[]),(null==ia?void 0:ia.layers)||[]),za||[]))},function(){return U([])})})}({request:r,
item:F,portal:A}).then(function(J){g.Promise.all(n(J).map(function(O){return m({item:O,request:r,portal:A,iconDir:G})})).then(H)})})},n=function(D){return D.reduce(function(F,r){return(null==r?0:r.itemId)?F.concat(r):(null==r?0:r.layers)&&"GroupLayer"===r.layerType?F.concat(r.layers):F},[])},q={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},y=function(D){var F=D.item,r=D.selectedOptions,A=D.selectedGroups,G=D.request;D=D.portal;
return C({item:F,selectedOptions:r})?g.Promise.resolve(Object(f.a)(Object(f.a)({},q),{editable:!1,premium:!0})):B({item:F,selectedGroups:A,request:G,portal:D,selectedOptions:r}).then(function(H){var J=H.needsGroupSharingUpdate,O;if(!(O=H.needsShareLevelUpdate)){var M,K=!0;Object(u.e)(r)&&(K=!1);O=Object(u.d)(r);O!==z.b["private"]&&O!==z.b.shared||(K=!1);var U=F.access||(null===(M=F.sharing)||void 0===M?void 0:M.access);O=(U===z.b["public"]&&(K=!1),U===O&&(K=!1),O===z.b["private"]&&(U===z.b.shared&&
(K=!1),U===z.b.org&&(K=!1)),K)}return{needsGroupSharingUpdate:J,needsShareLevelUpdate:O,editable:H.editable,premium:!1,groupDependentApplication:H.groupDependentApplication,bdfsDatastore:H.bdfsDatastore}})},C=function(D){var F=D.selectedOptions;D=D.item;return Object(u.e)(F)?!1:Object(u.d)(F)===z.b["public"]?(F=D.typeKeywords,-1<D.owner.toLowerCase().indexOf("esri")&&(-1<(null==F?void 0:F.indexOf("Requires Credits"))||-1<(null==F?void 0:F.indexOf("Requires Subscription")))):!1},B=function(D){var F=
D.item,r=D.selectedGroups,A=D.selectedOptions,G=D.request,H=D.portal;return new g.Promise(function(J,O){var M,K;"Web Mapping Application"===F.type&&(null===(K=null===(M=F.itemData)||void 0===M?void 0:M.values)||void 0===K?0:K.group)?J(Object(f.a)(Object(f.a)({},q),{groupDependentApplication:!0})):"Data Store"!==F.type?Object(h.v)(G,H.restUrl+"/content/users/"+F.owner+(F.ownerFolder?"/"+F.ownerFolder:"")+"/items/"+(F.itemId||F.id)).then(function(U){var Z,ca=U.item.itemControl,fa=U.sharing.groups;U=
F.access||(null===(Z=F.sharing)||void 0===Z?void 0:Z.access);Object(u.f)(F)&&A.total===A["public"]?J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1})):ca&&"admin"!==ca&&"update"!==ca?J(Object(f.a)(Object(f.a)({},q),{editable:!1})):U!==z.b["public"]?r.length>fa.length?J(Object(f.a)(Object(f.a)({},q),{needsGroupSharingUpdate:!0})):(Z=r.some(function(ka){return 0>fa.indexOf(ka.id)}),J(Object(f.a)(Object(f.a)({},q),{needsGroupSharingUpdate:Z}))):J(Object(f.a)({},q))},function(U){Object(h.v)(G,
H.restUrl+"/content/items/"+(F.itemId||F.id)).then(function(Z){Z=Z.access;Z===z.b["public"]||Z===z.b.org&&A.total===A.org+A["private"]?J(Object(f.a)(Object(f.a)({},q),{editable:!1})):J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1}))},function(Z){J(Object(f.a)(Object(f.a)({},q),{needsShareLevelUpdate:!0,editable:!1}))})}):J(Object(f.a)(Object(f.a)({},q),{bdfsDatastore:!0}))})}},336:function(w,t,l){(function(f,g){function h(wa,Ea){return wa.set(Ea[0],Ea[1]),wa}function x(wa,Ea){return wa.add(Ea),
wa}function u(wa,Ea,sa,oa){var xa=-1,ta=wa?wa.length:0;for(oa&&ta&&(sa=wa[++xa]);++xa<ta;)sa=Ea(sa,wa[xa],xa,wa);return sa}function E(wa){var Ea=!1;if(null!=wa&&"function"!=typeof wa.toString)try{Ea=!!(wa+"")}catch(sa){}return Ea}function z(wa){var Ea=-1,sa=Array(wa.size);return wa.forEach(function(oa,xa){sa[++Ea]=[xa,oa]}),sa}function p(wa,Ea){return function(sa){return wa(Ea(sa))}}function m(wa){var Ea=-1,sa=Array(wa.size);return wa.forEach(function(oa){sa[++Ea]=oa}),sa}function e(wa){var Ea=-1,
sa=wa?wa.length:0;for(this.clear();++Ea<sa;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function c(wa){var Ea=-1,sa=wa?wa.length:0;for(this.clear();++Ea<sa;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function a(wa){var Ea=-1,sa=wa?wa.length:0;for(this.clear();++Ea<sa;){var oa=wa[Ea];this.set(oa[0],oa[1])}}function b(wa){this.__data__=new c(wa)}function d(wa,Ea){var sa=Oa(wa)||function(ja){return!!ja&&"object"==typeof ja&&G(ja)&&S.call(ja,"callee")&&(!Q.call(ja,"callee")||"[object Arguments]"==P.call(ja))}(wa)?
function(ja,pa){for(var va=-1,Fa=Array(ja);++va<ja;)Fa[va]=pa(va);return Fa}(wa.length,String):[],oa=sa.length,xa=!!oa,ta;for(ta in wa)!Ea&&!S.call(wa,ta)||xa&&("length"==ta||F(ta,oa))||sa.push(ta);return sa}function k(wa,Ea,sa){var oa=wa[Ea];S.call(wa,Ea)&&(oa===sa||oa!=oa&&sa!=sa)&&(void 0!==sa||Ea in wa)||(wa[Ea]=sa)}function n(wa,Ea){for(var sa=wa.length;sa--;){var oa=wa[sa][0];if(oa===Ea||oa!=oa&&Ea!=Ea)return sa}return-1}function q(wa,Ea,sa,oa,xa,ta,ja){var pa;if(oa&&(pa=ta?oa(wa,xa,ta,ja):
oa(wa)),void 0!==pa)return pa;if(!J(wa))return wa;if(xa=Oa(wa)){if(pa=function(Ca){var Ia=Ca.length,La=Ca.constructor(Ia);Ia&&"string"==typeof Ca[0]&&S.call(Ca,"index")&&(La.index=Ca.index,La.input=Ca.input);return La}(wa),!Ea)return function(Ca,Ia){var La=-1,Ga=Ca.length;for(Ia||(Ia=Array(Ga));++La<Ga;)Ia[La]=Ca[La];return Ia}(wa,pa)}else{var va=Ba(wa),Fa="[object Function]"==va||"[object GeneratorFunction]"==va;if(Ja(wa))return function(Ca,Ia){if(Ia)return Ca.slice();var La=new Ca.constructor(Ca.length);
return Ca.copy(La),La}(wa,Ea);if("[object Object]"==va||"[object Arguments]"==va||Fa&&!ta){if(E(wa))return ta?wa:{};if(pa=function(Ca){return"function"!=typeof Ca.constructor||r(Ca)?{}:(Ia=W(Ca),J(Ia)?aa(Ia):{});var Ia}(Fa?{}:wa),!Ea)return function(Ca,Ia){return C(Ca,Aa(Ca),Ia)}(wa,function(Ca,Ia){return Ca&&C(Ia,O(Ia),Ca)}(pa,wa))}else{if(!Z[va])return ta?wa:{};pa=function(Ca,Ia,La,Ga){var Ma=Ca.constructor;switch(Ia){case "[object ArrayBuffer]":return y(Ca);case "[object Boolean]":case "[object Date]":return new Ma(+Ca);
case "[object DataView]":return function(Ka,Na){var Qa=Na?y(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,Ka.byteLength)}(Ca,Ga);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Ka,Na){var Qa=Na?y(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,
Ka.length)}(Ca,Ga);case "[object Map]":return function(Ka,Na,Qa){return u(Na?Qa(z(Ka),!0):z(Ka),h,new Ka.constructor)}(Ca,Ga,La);case "[object Number]":case "[object String]":return new Ma(Ca);case "[object RegExp]":return function(Ka){var Na=new Ka.constructor(Ka.source,M.exec(Ka));return Na.lastIndex=Ka.lastIndex,Na}(Ca);case "[object Set]":return function(Ka,Na,Qa){return u(Na?Qa(m(Ka),!0):m(Ka),x,new Ka.constructor)}(Ca,Ga,La);case "[object Symbol]":return Ha=Ca,ya?Object(ya.call(Ha)):{}}var Ha}(wa,
va,q,Ea)}}ja||(ja=new b);if(ta=ja.get(wa))return ta;if(ja.set(wa,pa),!xa)var Da=sa?function(Ca){var Ia=Aa,La=O(Ca);if(!Oa(Ca)){Ca=Ia(Ca);Ia=-1;for(var Ga=Ca.length,Ma=La.length;++Ia<Ga;)La[Ma+Ia]=Ca[Ia]}return La}(wa):O(wa);return function(Ca,Ia){for(var La=-1,Ga=Ca?Ca.length:0;++La<Ga&&!1!==Ia(Ca[La],La,Ca););}(Da||wa,function(Ca,Ia){Da&&(Ca=wa[Ia=Ca]);k(pa,Ia,q(Ca,Ea,sa,oa,Ia,wa,ja))}),pa}function y(wa){var Ea=new wa.constructor(wa.byteLength);return(new ba(Ea)).set(new ba(wa)),Ea}function C(wa,
Ea,sa,oa){sa||(sa={});for(var xa=-1,ta=Ea.length;++xa<ta;){var ja=Ea[xa],pa=oa?oa(sa[ja],wa[ja],ja,sa,wa):void 0;k(sa,ja,void 0===pa?wa[ja]:pa)}return sa}function B(wa,Ea){var sa,oa=wa.__data__;return("string"==(sa=typeof Ea)||"number"==sa||"symbol"==sa||"boolean"==sa?"__proto__"!==Ea:null===Ea)?oa["string"==typeof Ea?"string":"hash"]:oa.map}function D(wa,Ea){var sa=null==wa?void 0:wa[Ea];a:{var oa=!(!J(sa)||(xa=sa,T&&T in xa))&&(H(sa)||E(sa)?I:K).test(A(sa));break a;var xa}return oa?sa:void 0}function F(wa,
Ea){return!!(Ea=null==Ea?9007199254740991:Ea)&&("number"==typeof wa||U.test(wa))&&-1<wa&&0==wa%1&&wa<Ea}function r(wa){var Ea=wa&&wa.constructor;return wa===("function"==typeof Ea&&Ea.prototype||za)}function A(wa){if(null!=wa){try{return la.call(wa)}catch(Ea){}return wa+""}return""}function G(wa){var Ea;if(Ea=null!=wa)Ea=wa.length,Ea="number"==typeof Ea&&-1<Ea&&0==Ea%1&&9007199254740991>=Ea;return Ea&&!H(wa)}function H(wa){wa=J(wa)?P.call(wa):"";return"[object Function]"==wa||"[object GeneratorFunction]"==
wa}function J(wa){var Ea=typeof wa;return!!wa&&("object"==Ea||"function"==Ea)}function O(wa){if(G(wa))wa=d(wa);else if(r(wa)){var Ea=[],sa;for(sa in Object(wa))S.call(wa,sa)&&"constructor"!=sa&&Ea.push(sa);wa=Ea}else wa=R(wa);return wa}var M=/\w*$/,K=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,Z={};Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object DataView]"]=Z["[object Boolean]"]=Z["[object Date]"]=Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=
Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object Symbol]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0;Z["[object Error]"]=Z["[object Function]"]=Z["[object WeakMap]"]=!1;var ca="object"==typeof self&&self&&self.Object===Object&&self;ca="object"==typeof f&&f&&f.Object===Object&&f||ca||Function("return this")();
var fa=t&&!t.nodeType&&t,ka=fa&&"object"==typeof g&&g&&!g.nodeType&&g;ka=ka&&ka.exports===fa;var ma;fa=Array.prototype;var ra=Function.prototype,za=Object.prototype,ia=ca["__core-js_shared__"],T=(ma=/[^.]+$/.exec(ia&&ia.keys&&ia.keys.IE_PROTO||""))?"Symbol(src)_1."+ma:"",la=ra.toString,S=za.hasOwnProperty,P=za.toString,I=RegExp("^"+la.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ka=ka?ca.Buffer:void 0;ma=ca.Symbol;
var ba=ca.Uint8Array,W=p(Object.getPrototypeOf,Object),aa=Object.create,Q=za.propertyIsEnumerable,N=fa.splice;fa=Object.getOwnPropertySymbols;ka=ka?ka.isBuffer:void 0;var R=p(Object.keys,Object);ra=D(ca,"DataView");var X=D(ca,"Map");ia=D(ca,"Promise");var Y=D(ca,"Set");ca=D(ca,"WeakMap");var da=D(Object,"create"),ea=A(ra),ha=A(X),na=A(ia),qa=A(Y),ua=A(ca),ya=(ma=ma?ma.prototype:void 0)?ma.valueOf:void 0;e.prototype.clear=function(){this.__data__=da?da(null):{}};e.prototype["delete"]=function(wa){return this.has(wa)&&
delete this.__data__[wa]};e.prototype.get=function(wa){var Ea=this.__data__;return da?(wa=Ea[wa],"__lodash_hash_undefined__"===wa?void 0:wa):S.call(Ea,wa)?Ea[wa]:void 0};e.prototype.has=function(wa){var Ea=this.__data__;return da?void 0!==Ea[wa]:S.call(Ea,wa)};e.prototype.set=function(wa,Ea){return this.__data__[wa]=da&&void 0===Ea?"__lodash_hash_undefined__":Ea,this};c.prototype.clear=function(){this.__data__=[]};c.prototype["delete"]=function(wa){var Ea=this.__data__;wa=n(Ea,wa);return!(0>wa)&&
(wa==Ea.length-1?Ea.pop():N.call(Ea,wa,1),!0)};c.prototype.get=function(wa){var Ea=this.__data__;wa=n(Ea,wa);return 0>wa?void 0:Ea[wa][1]};c.prototype.has=function(wa){return-1<n(this.__data__,wa)};c.prototype.set=function(wa,Ea){var sa=this.__data__,oa=n(sa,wa);return 0>oa?sa.push([wa,Ea]):sa[oa][1]=Ea,this};a.prototype.clear=function(){this.__data__={hash:new e,map:new (X||c),string:new e}};a.prototype["delete"]=function(wa){return B(this,wa)["delete"](wa)};a.prototype.get=function(wa){return B(this,
wa).get(wa)};a.prototype.has=function(wa){return B(this,wa).has(wa)};a.prototype.set=function(wa,Ea){return B(this,wa).set(wa,Ea),this};b.prototype.clear=function(){this.__data__=new c};b.prototype["delete"]=function(wa){return this.__data__["delete"](wa)};b.prototype.get=function(wa){return this.__data__.get(wa)};b.prototype.has=function(wa){return this.__data__.has(wa)};b.prototype.set=function(wa,Ea){var sa=this.__data__;if(sa instanceof c){sa=sa.__data__;if(!X||199>sa.length)return sa.push([wa,
Ea]),this;sa=this.__data__=new a(sa)}return sa.set(wa,Ea),this};var Aa=fa?p(fa,Object):function(){return[]},Ba=function(wa){return P.call(wa)};(ra&&"[object DataView]"!=Ba(new ra(new ArrayBuffer(1)))||X&&"[object Map]"!=Ba(new X)||ia&&"[object Promise]"!=Ba(ia.resolve())||Y&&"[object Set]"!=Ba(new Y)||ca&&"[object WeakMap]"!=Ba(new ca))&&(Ba=function(wa){var Ea=P.call(wa);if(wa=(wa="[object Object]"==Ea?wa.constructor:void 0)?A(wa):void 0)switch(wa){case ea:return"[object DataView]";case ha:return"[object Map]";
case na:return"[object Promise]";case qa:return"[object Set]";case ua:return"[object WeakMap]"}return Ea});var Oa=Array.isArray,Ja=ka||function(){return!1};g.exports=function(wa){return q(wa,!0,!0)}}).call(this,l(170),l(366)(w))},354:function(w,t){w.exports=v},366:function(w,t){w.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,
get:function(){return l.i}}),l.webpackPolyfill=1),l}},379:function(w,t,l){function f(x,u){var E=x.filter(function(z){var p;return!z.success&&500===(null===(p=null==z?void 0:z.error)||void 0===p?void 0:p.code)}).map(function(z){var p=Object(h.c)(u,function(m){return m.id===z.itemId});return(null==p?void 0:p.title)||z.itemId});return x.map(function(z){z.error=z.error||{};var p=z.error,m=p.messageCode;p=p.code;return m&&g.errors[m]&&(z.error.message=g.errors[m]),p&&g.errors[p]&&(z.error.message=g.errors[p]),
(500===m||500===p&&E)&&(z.error.details=E,z.error.message=g.errors[500]+" "+(null==E?void 0:E.join(", "))),z}).filter(function(z){return!z.success})}l.d(t,"a",function(){return f});var g=l(39),h=l(99)},38:function(w,t,l){l.d(t,"b",function(){return f});l.d(t,"d",function(){return h});l.d(t,"c",function(){return x});l.d(t,"a",function(){return u});l.d(t,"f",function(){return p});var f,g,h,x,u,E=l(0),z=l(25);!function(m){m.openData="openData";m.updateGroups="updateGroups";m.distributed="distributed";
m.administrative="administrative";m.orgSettings="orgSettings"}(f||(f={}));(g||(g={})).owner="owner";(function(m){m.itemOwner="itemOwner";m.inOrg="inOrg";m.outsideOrg="outsideOrg"})(h||(h={}));(function(m){m.myOrg="org";m.partnered="collaboration";m.anyOrg="anyOrg"})(x||(x={}));(function(m){m.USER="USER";m.OWNER="OWNER";m.DESIGNATION="DESIGNATION";m.DATE_CREATED="DATE_CREATED";m.MEMBERSHIP="MEMBERSHIP"})(u||(u={}));var p={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};t.e=function(m,
e){switch(void 0===m&&(m=p),e.type){case z.a.CLEAR_FILTERS:switch(e.payload){case u.DESIGNATION:return Object(E.a)(Object(E.a)({},m),{designationFilter:void 0});case u.DATE_CREATED:return Object(E.a)(Object(E.a)({},m),{dateCreatedFilter:void 0});case u.OWNER:return Object(E.a)(Object(E.a)({},m),{ownerFilter:void 0});case u.USER:return m;case u.MEMBERSHIP:return Object(E.a)(Object(E.a)({},m),{membershipFilter:void 0});default:return Object(E.a)(Object(E.a)({},m),{designationFilter:void 0,dateCreatedFilter:void 0,
membershipFilter:void 0,ownerFilter:void 0})}case z.a.UPDATE_OWNER_FILTER:return Object(E.a)(Object(E.a)({},m),{ownerFilter:e.payload===m.ownerFilter?void 0:e.payload});case z.a.UPDATE_USERNAME_FILTER:return Object(E.a)(Object(E.a)({},m),{currentUsername:e.payload});case z.a.UPDATE_CREATED_ON_FILTER:return Object(E.a)(Object(E.a)({},m),{dateCreatedFilter:e.payload.created});case z.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(E.a)(Object(E.a)({},m),{designationFilter:e.payload===m.designationFilter?
void 0:e.payload});case z.a.UPDATE_MEMBERSHIP_FILTER:return Object(E.a)(Object(E.a)({},m),{membershipFilter:e.payload===m.membershipFilter?void 0:e.payload});case z.a.SET_USERS:return Object(E.a)(Object(E.a)({},m),{allUsers:e.payload.reduce(function(c,a){var b;return Object(E.a)(Object(E.a)({},c),((b={})[a.username]=a,b))},{})});case z.a.SET_SEARCH_STRING:return Object(E.a)(Object(E.a)({},m),{searchString:e.payload});default:return m}}},386:function(w,t,l){(function(f,g){function h(sa,oa,xa){switch(xa.length){case 0:return sa.call(oa);
case 1:return sa.call(oa,xa[0]);case 2:return sa.call(oa,xa[0],xa[1]);case 3:return sa.call(oa,xa[0],xa[1],xa[2])}return sa.apply(oa,xa)}function x(sa){var oa=-1,xa=null==sa?0:sa.length;for(this.clear();++oa<xa;){var ta=sa[oa];this.set(ta[0],ta[1])}}function u(sa){var oa=-1,xa=null==sa?0:sa.length;for(this.clear();++oa<xa;){var ta=sa[oa];this.set(ta[0],ta[1])}}function E(sa){var oa=-1,xa=null==sa?0:sa.length;for(this.clear();++oa<xa;){var ta=sa[oa];this.set(ta[0],ta[1])}}function z(sa){this.size=
(this.__data__=new u(sa)).size}function p(sa,oa,xa){(void 0===xa||B(sa[oa],xa))&&(void 0!==xa||oa in sa)||e(sa,oa,xa)}function m(sa,oa){for(var xa=sa.length;xa--;)if(B(sa[xa][0],oa))return xa;return-1}function e(sa,oa,xa){"__proto__"==oa&&da?da(sa,oa,{configurable:!0,enumerable:!0,value:xa,writable:!0}):sa[oa]=xa}function c(sa){if(null==sa)sa=void 0===sa?"[object Undefined]":"[object Null]";else if(Y&&Y in Object(sa)){var oa=la.call(sa,Y),xa=sa[Y];try{sa[Y]=void 0;var ta=!0}catch(pa){}var ja=P.call(sa);
ta&&(oa?sa[Y]=xa:delete sa[Y]);sa=ja}else sa=P.call(sa);return sa}function a(sa){return G(sa)&&"[object Arguments]"==c(sa)}function b(sa){return!(!A(sa)||S&&S in sa)&&(F(sa)?ba:O).test(function(oa){if(null!=oa){try{return T.call(oa)}catch(xa){}return oa+""}return""}(sa))}function d(sa,oa,xa,ta,ja){sa!==oa&&ya(oa,function(pa,va){if(ja||(ja=new z),A(pa))!function(Da,Ca,Ia,La,Ga,Ma,Ha){var Ka=C(Da,Ia),Na=C(Ca,Ia),Qa=Ha.get(Na);if(Qa)return void p(Da,Ia,Qa);Ca=Ma?Ma(Ka,Na,Ia+"",Da,Ca,Ha):void 0;if(Qa=
void 0===Ca){var Pa=Oa(Na),Ra=!Pa&&Ja(Na),Sa=!Pa&&!Ra&&wa(Na);Ca=Na;Pa||Ra||Sa?Oa(Ka)?Ca=Ka:G(ab=Ka)&&D(ab)?Ca=function(Wa,db){var cb=-1,Za=Wa.length;for(db||(db=Array(Za));++cb<Za;)db[cb]=Wa[cb];return db}(Ka):Ra?(Qa=!1,Ca=function(Wa,db){if(db)return Wa.slice();var cb=Wa.length;cb=aa?aa(cb):new Wa.constructor(cb);return Wa.copy(cb),cb}(Na,!0)):Sa?(Qa=!1,Va=Na,Ua=(Ta=Va.buffer,Xa=new Ta.constructor(Ta.byteLength),(new W(Xa)).set(new W(Ta)),Xa),Ca=new Va.constructor(Ua,Va.byteOffset,Va.length)):Ca=
[]:function(Wa){if(!G(Wa)||"[object Object]"!=c(Wa))return!1;Wa=Q(Wa);if(null===Wa)return!0;Wa=la.call(Wa,"constructor")&&Wa.constructor;return"function"==typeof Wa&&Wa instanceof Wa&&T.call(Wa)==I}(Na)||Ba(Na)?(Ca=Ka,Ba(Ka)?Ca=function(Wa){var db=H(Wa),cb=void 0,Za=!cb;cb||(cb={});for(var $a=-1,Ya=db.length;++$a<Ya;){var bb=db[$a],eb=void 0;void 0===eb&&(eb=Wa[bb]);if(Za)e(cb,bb,eb);else{var fb=cb,gb=fb[bb];la.call(fb,bb)&&B(gb,eb)&&(void 0!==eb||bb in fb)||e(fb,bb,eb)}}return cb}(Ka):A(Ka)&&!F(Ka)||
(Ca=function(Wa){return"function"!=typeof Wa.constructor||y(Wa)?{}:ua(Q(Wa))}(Na))):Qa=!1}var Va,Ua,Ta,Xa,ab;Qa&&(Ha.set(Na,Ca),Ga(Ca,Na,La,Ma,Ha),Ha["delete"](Na));p(Da,Ia,Ca)}(sa,oa,va,xa,d,ta,ja);else{var Fa=ta?ta(C(sa,va),pa,va+"",sa,oa,ja):void 0;void 0===Fa&&(Fa=pa);p(sa,va,Fa)}},H)}function k(sa,oa){var xa,ta=sa.__data__;return("string"==(xa=typeof oa)||"number"==xa||"symbol"==xa||"boolean"==xa?"__proto__"!==oa:null===oa)?ta["string"==typeof oa?"string":"hash"]:ta.map}function n(sa,oa){var xa=
null==sa?void 0:sa[oa];return b(xa)?xa:void 0}function q(sa,oa){var xa=typeof sa;return!!(oa=null==oa?9007199254740991:oa)&&("number"==xa||"symbol"!=xa&&M.test(sa))&&-1<sa&&0==sa%1&&sa<oa}function y(sa){var oa=sa&&sa.constructor;return sa===("function"==typeof oa&&oa.prototype||ia)}function C(sa,oa){if(("constructor"!==oa||"function"!=typeof sa[oa])&&"__proto__"!=oa)return sa[oa]}function B(sa,oa){return sa===oa||sa!=sa&&oa!=oa}function D(sa){return null!=sa&&r(sa.length)&&!F(sa)}function F(sa){if(!A(sa))return!1;
sa=c(sa);return"[object Function]"==sa||"[object GeneratorFunction]"==sa||"[object AsyncFunction]"==sa||"[object Proxy]"==sa}function r(sa){return"number"==typeof sa&&-1<sa&&0==sa%1&&9007199254740991>=sa}function A(sa){var oa=typeof sa;return null!=sa&&("object"==oa||"function"==oa)}function G(sa){return null!=sa&&"object"==typeof sa}function H(sa){if(D(sa)){var oa=Oa(sa),xa=!oa&&Ba(sa),ta=!oa&&!xa&&Ja(sa),ja=!oa&&!xa&&!ta&&wa(sa);if(oa=oa||xa||ta||ja){xa=sa.length;for(var pa=String,va=-1,Fa=Array(xa);++va<
xa;)Fa[va]=pa(va);xa=Fa}else xa=[];pa=xa.length;for(var Da in sa)oa&&("length"==Da||ta&&("offset"==Da||"parent"==Da)||ja&&("buffer"==Da||"byteLength"==Da||"byteOffset"==Da)||q(Da,pa))||xa.push(Da);sa=xa}else if(A(sa)){Da=y(sa);ja=[];for(ta in sa)("constructor"!=ta||!Da&&la.call(sa,ta))&&ja.push(ta);sa=ja}else{Da=[];if(null!=sa)for(ja in Object(sa))Da.push(ja);sa=Da}return sa}function J(sa){return sa}var O=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,K={};K["[object Float32Array]"]=K["[object Float64Array]"]=
K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0;K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object DataView]"]=K["[object Date]"]=K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object WeakMap]"]=
!1;var U="object"==typeof f&&f&&f.Object===Object&&f,Z="object"==typeof self&&self&&self.Object===Object&&self;Z=U||Z||Function("return this")();var ca=t&&!t.nodeType&&t,fa=ca&&"object"==typeof g&&g&&!g.nodeType&&g;U=(ca=fa&&fa.exports===ca)&&U.process;a:{try{var ka=fa&&fa.require&&fa.require("util").types||U&&U.binding&&U.binding("util");break a}catch(sa){}ka=void 0}ka=ka&&ka.isTypedArray;var ma,ra,za;U=Array.prototype;var ia=Object.prototype;fa=Z["__core-js_shared__"];var T=Function.prototype.toString,
la=ia.hasOwnProperty,S=(ma=/[^.]+$/.exec(fa&&fa.keys&&fa.keys.IE_PROTO||""))?"Symbol(src)_1."+ma:"",P=ia.toString,I=T.call(Object),ba=RegExp("^"+T.call(la).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ma=ca?Z.Buffer:void 0;ca=Z.Symbol;var W=Z.Uint8Array,aa=ma?ma.allocUnsafe:void 0,Q=(ra=Object.getPrototypeOf,za=Object,function(sa){return ra(za(sa))}),N=Object.create,R=ia.propertyIsEnumerable,X=U.splice,Y=ca?ca.toStringTag:
void 0,da=function(){try{var sa=n(Object,"defineProperty");return sa({},"",{}),sa}catch(oa){}}();ma=ma?ma.isBuffer:void 0;var ea=Math.max,ha=Date.now,na=n(Z,"Map"),qa=n(Object,"create"),ua=function(){function sa(){}return function(oa){if(!A(oa))return{};if(N)return N(oa);sa.prototype=oa;oa=new sa;return sa.prototype=void 0,oa}}();x.prototype.clear=function(){this.__data__=qa?qa(null):{};this.size=0};x.prototype["delete"]=function(sa){sa=this.has(sa)&&delete this.__data__[sa];return this.size-=sa?
1:0,sa};x.prototype.get=function(sa){var oa=this.__data__;return qa?(sa=oa[sa],"__lodash_hash_undefined__"===sa?void 0:sa):la.call(oa,sa)?oa[sa]:void 0};x.prototype.has=function(sa){var oa=this.__data__;return qa?void 0!==oa[sa]:la.call(oa,sa)};x.prototype.set=function(sa,oa){var xa=this.__data__;return this.size+=this.has(sa)?0:1,xa[sa]=qa&&void 0===oa?"__lodash_hash_undefined__":oa,this};u.prototype.clear=function(){this.__data__=[];this.size=0};u.prototype["delete"]=function(sa){var oa=this.__data__;
sa=m(oa,sa);return!(0>sa)&&(sa==oa.length-1?oa.pop():X.call(oa,sa,1),--this.size,!0)};u.prototype.get=function(sa){var oa=this.__data__;sa=m(oa,sa);return 0>sa?void 0:oa[sa][1]};u.prototype.has=function(sa){return-1<m(this.__data__,sa)};u.prototype.set=function(sa,oa){var xa=this.__data__,ta=m(xa,sa);return 0>ta?(++this.size,xa.push([sa,oa])):xa[ta][1]=oa,this};E.prototype.clear=function(){this.size=0;this.__data__={hash:new x,map:new (na||u),string:new x}};E.prototype["delete"]=function(sa){sa=k(this,
sa)["delete"](sa);return this.size-=sa?1:0,sa};E.prototype.get=function(sa){return k(this,sa).get(sa)};E.prototype.has=function(sa){return k(this,sa).has(sa)};E.prototype.set=function(sa,oa){var xa=k(this,sa),ta=xa.size;return xa.set(sa,oa),this.size+=xa.size==ta?0:1,this};z.prototype.clear=function(){this.__data__=new u;this.size=0};z.prototype["delete"]=function(sa){var oa=this.__data__;sa=oa["delete"](sa);return this.size=oa.size,sa};z.prototype.get=function(sa){return this.__data__.get(sa)};z.prototype.has=
function(sa){return this.__data__.has(sa)};z.prototype.set=function(sa,oa){var xa=this.__data__;if(xa instanceof u){var ta=xa.__data__;if(!na||199>ta.length)return ta.push([sa,oa]),this.size=++xa.size,this;xa=this.__data__=new E(ta)}return xa.set(sa,oa),this.size=xa.size,this};var ya=function(sa,oa,xa){var ta=-1,ja=Object(sa);xa=xa(sa);for(var pa=xa.length;pa--;){var va=xa[++ta];if(!1===oa(ja[va],va,ja))break}return sa},Aa=function(sa){var oa=0,xa=0;return function(){var ta=ha(),ja=16-(ta-xa);if(xa=
ta,0<ja){if(800<=++oa)return arguments[0]}else oa=0;return sa.apply(void 0,arguments)}}(da?function(sa,oa){return da(sa,"toString",{configurable:!0,enumerable:!1,value:(xa=oa,function(){return xa}),writable:!0});var xa}:J),Ba=a(function(){return arguments}())?a:function(sa){return G(sa)&&la.call(sa,"callee")&&!R.call(sa,"callee")},Oa=Array.isArray,Ja=ma||function(){return!1},wa=ka?function(sa){return function(oa){return sa(oa)}}(ka):function(sa){return G(sa)&&r(sa.length)&&!!K[c(sa)]},Ea;Z=(Ea=function(sa,
oa,xa,ta){d(sa,oa,xa,ta)},function(sa,oa){return Aa(function(xa,ta,ja){return ta=ea(void 0===ta?xa.length-1:ta,0),function(){for(var pa=arguments,va=-1,Fa=ea(pa.length-ta,0),Da=Array(Fa);++va<Fa;)Da[va]=pa[ta+va];va=-1;for(Fa=Array(ta+1);++va<ta;)Fa[va]=pa[va];return Fa[ta]=ja(Da),h(xa,this,Fa)}}(sa,oa,J),sa+"")}(function(sa,oa){var xa=-1,ta=oa.length,ja=1<ta?oa[ta-1]:void 0,pa=2<ta?oa[2]:void 0;ja=3<Ea.length&&"function"==typeof ja?(ta--,ja):void 0;var va;if(va=pa){va=oa[0];var Fa=oa[1];if(A(pa)){var Da=
typeof Fa;va=!!("number"==Da?D(pa)&&q(Fa,pa.length):"string"==Da&&Fa in pa)&&B(pa[Fa],va)}else va=!1}va&&(ja=3>ta?void 0:ja,ta=1);for(sa=Object(sa);++xa<ta;)(pa=oa[xa])&&Ea(sa,pa,xa,ja);return sa}));g.exports=Z}).call(this,l(170),l(366)(w))},39:function(w,t){w.exports=L},5:function(w,t,l){function f(m){return 0===Object.keys(m).length&&m.constructor===Object}function g(m){return null!=m}function h(m,e){return z.apply(null,arguments)}function x(m,e){return p.apply(null,arguments)}l.d(t,"b",function(){return f});
l.d(t,"a",function(){return g});l.d(t,"e",function(){return E});l.d(t,"c",function(){return h});l.d(t,"d",function(){return x});var u=l(0);w=l(15);var E=Object(w.a)(function(m,e){var c=Object(u.a)({},e);return delete c[m],c}),z=Object(w.a)(function(m,e){return Object.keys(e).reduce(function(c,a){return c[a]=m(e[a],a,e),c},{})}),p=Object(w.a)(function(m,e){return Object.keys(e).reduce(function(c,a){return m(e[a],a,e)&&(c[a]=e[a]),c},{})})},51:function(w,t,l){function f(B){return!(!B.urlKey||!B.customBaseUrl)}
function g(B){return B.role===a.admin||B.role===a.accountAdmin}function h(B){return Object(k.a)(B.roleId)&&0<(B.roleId||"").length}function x(B){return!h(B)||h(B)&&-1<(B.privileges||[]).indexOf("portal:admin:viewItems")}function u(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToOrg")}function E(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToGroup")}function z(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToPublic")}function p(B,D){return m(B)||e(B)||D.canSharePublic&&
c(B)}function m(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToGroup")}function e(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToPublic")}l.d(t,"l",function(){return q});l.d(t,"h",function(){return y});l.d(t,"m",function(){return C});l.d(t,"k",function(){return f});l.d(t,"i",function(){return g});l.d(t,"j",function(){return h});l.d(t,"g",function(){return x});l.d(t,"b",function(){return u});l.d(t,
"a",function(){return E});l.d(t,"c",function(){return z});l.d(t,"d",function(){return m});l.d(t,"e",function(){return e});l.d(t,"f",function(){return c});var a,b=l(63),d=l(148),k=l(5),n=l(58);!function(B){B.user="org_user";B.accountUser="account_user";B.publisher="org_publisher";B.accountPublisher="account_publisher";B.admin="org_admin";B.accountAdmin="account_admin";B.viewer="iAAAAAAAAAAAAAAA";B.dataEditor="iBBBBBBBBBBBBBBB"}(a||(a={}));var q=function(B){var D=B.items;return!!B.user.orgId&&D.every(function(F){return F.isOrgItem})},
y=function(B){var D=B.items,F=B.user,r=B.portal;B=D[0];var A=Object(n.c)(B,F),G=h(F),H=p(F,r);if(G=Object(n.a)(B,F)&&-1<(F.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(r)||E(F)||u(F)||r.canSharePublic&&z(F)||p(F,r);r=G;return!(B.portal.isPortal&&B.owner!==F.username&&-1<B.owner.indexOf("esri_"))&&(A||r||q({items:D,user:F})&&H)},C=function(B,D){return Object(b.a)(Object(d.a)(B))(D)}},54:function(w,t,l){l.d(t,"b",function(){return x});l.d(t,"a",function(){return u});l.d(t,"c",function(){return E});
w=l(16);t=l(215);var f=l(208),g=l(137),h=l(210);l=l(207);var x=function(z){return!z.gbState},u={config:l.b,parameters:f.b,groups:g.f,ui:h.b,utils:t.b},E=Object(w.combineReducers)({config:l.a,parameters:f.a,groups:g.b,ui:h.a,utils:t.a})},58:function(w,t,l){function f(z,p){return(null==z?void 0:z.owner)===p.username}function g(z,p){var m;if(!(m=f(z,p)))if(Object(x.a)(z.isAdmin))m=!!z.isAdmin;else{m=z.owner;var e="admin"===z.itemControl;m=!(z.portal.isPortal&&!f(z,p)&&e&&-1<m.indexOf("esri_")&&0>["esri_livingatlas",
"esri_demographics","esri_boundaries"].indexOf(m))&&e}return m}function h(z,p){return g(z,p)||"update"===z.itemControl}l.d(t,"d",function(){return f});l.d(t,"c",function(){return g});l.d(t,"a",function(){return h});l.d(t,"b",function(){return E});var x=l(5),u=l(51),E=function(z){var p=z.user,m=z.items;z=z.portal;return Object(u.l)({items:m,user:p})&&Object(u.h)({items:m,user:p,portal:z})&&Object(u.g)(p)&&m[0].itemOwner||p}},61:function(w,t,l){function f(y){var C=y.groupIds,B=y.shareLevelOptions,D=
y.restUrl,F=y.request,r=y.unshare;return E.Promise.all(y.items.map(function(A,G){return new E.Promise(function(H,J){F(D+"/content/items/"+(A.itemId||A.id)+"/"+(r?"unshare":"share"),{method:"post",query:Object(x.a)({f:"json",groups:C,confirmItemControl:!0},B||{})}).then(H,J)})}))["catch"](function(A){throw A;})}function g(y,C){return new E.Promise(function(B,D){var F,r=null===(F=y.helpMap)||void 0===F?void 0:F.m;r?B(r):C(y.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(A){var G;
B(null===(G=A.data.helpMap)||void 0===G?void 0:G.m)},D)})}l.d(t,"h",function(){return p});l.d(t,"g",function(){return m});l.d(t,"b",function(){return e});l.d(t,"e",function(){return c});l.d(t,"d",function(){return a});l.d(t,"f",function(){return n});l.d(t,"c",function(){return q});l.d(t,"a",function(){return g});var h,x=l(0),u=l(30),E=l(28);w=l(26);var z=l(58),p=function(y){var C=y.items,B=y.groups,D=y.restUrl,F=y.request,r=y.portalUser;if(0===C.length)return E.Promise.resolve();var A=Object(u.b)(B);
return C.every(function(G){return Object(z.d)(G,r)})?new E.Promise(function(G,H){if(!B||0===B.length)return G();var J={f:"json",items:Object(u.b)(C),groups:A};F(D+"/content/users/"+r.username+"/unshareItems",{method:"post",query:J}).then(G,H)}):f({items:C,groupIds:A,restUrl:D,request:F,unshare:!0})},m=function(y){var C=y.items,B=y.groups,D=y.restUrl,F=y.request,r=y.portalUser,A=y.selectedOptions;y=y.ignoreShareLevel;if(0===C.length)return E.Promise.resolve();if(!y&&!A)throw"Selected options must be provided unless share level is ignored.";
var G=Object(u.b)(B),H=y?{}:b(A);return C.every(function(J){return Object(z.d)(J,r)})?new E.Promise(function(J,O){F(D+"/content/users/"+r.username+"/shareItems",{method:"post",query:Object(x.a)({f:"json",items:Object(u.b)(C),groups:G,confirmItemControl:!0},H)}).then(function(M){M=M.data;M.results.every(function(K){return K.success})?J():O(M)},O)}):f({items:C,groupIds:G,shareLevelOptions:H,restUrl:D,request:F})},e=function(y){return y.reduce(function(C,B){return Object(x.g)(Object(x.g)([],C),B)},[])},
c=function(y){return 1<Object.keys(y).filter(function(C){return"total"!==C&&0<y[C]}).length},a=function(y){return Object.keys(y).filter(function(C){return"total"!==C}).reduce(function(C,B){return y[B]===y.total?B:C})},b=function(y){return c(y)?{}:d[a(y)]},d=((h={})[w.b["public"]]={org:!1,everyone:!0},h[w.b.org]={org:!0,everyone:!1},h[w.b["private"]]={org:!1,everyone:!1},h[w.b.shared]={org:!1,everyone:!1},h),k="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),
n=function(y){var C,B,D=y.typeKeywords,F=y.type;F=k.some(function(A){return-1<D.indexOf(A)})&&"Real Time Analytic"!==F&&"Big Data Analytic"!==F;var r=!(null===(C=null==y?void 0:y.portal)||void 0===C?0:C.isPortal)&&"Image Service"===y.type&&-1<(null===(B=y.url)||void 0===B?void 0:B.indexOf("://iservices"))&&-1<y.url.indexOf("arcgis.com");y="Knowledge Graph"===y.type;return F||r||y},q=function(y,C,B){return B&&C["public"]===C.total?y.filter(function(D){return-1<D.typeKeywords.indexOf("DeveloperBasemap")}):
[]}},63:function(w,t,l){function f(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];return function(x){return g.reduceRight(function(u,E){return E(u)},x)}}l.d(t,"a",function(){return f})},68:function(w,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.LOADING_GROUPS="LOADING_GROUPS";g.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";g.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";g.SELECT_GROUPS="SELECT_GROUPS";g.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";g.DESELECT_GROUPS="DESELECT_GROUPS";g.REVERT_GROUPS=
"REVERT_GROUPS";g.CLEAR_SELECTION="CLEAR_SELECTION";g.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";g.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},78:function(w,t,l){l.d(t,"a",function(){return z});l.d(t,"b",function(){return p});var f=l(63);w=l(5);var g=l(123),h=l(122),x=l(117),u=l(121),E=l(120),z=function(m,e,c){return Object(f.a)(Object(E.a)(m),Object(u.a)(m),Object(x.a)(e),Object(h.a)(m),Object(g.a)(m))(c)},p=Object(f.a)(Object(w.e)("patchedDescription"),Object(w.e)("thumbURI"),Object(w.e)("iconURI"),
Object(w.e)("displayName"),Object(w.e)("badges"))},83:function(w,t,l){var f;l.d(t,"a",function(){return f});(function(g){g.SET_SEARCH_STRING="SET_SEARCH_STRING";g.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";g.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";g.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";g.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";g.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";g.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";g.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";
g.SET_USERS="SET_USERS";g.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},985:function(w,t,l){l.r(t);l.d(t,"ShareWrapper",function(){return e});var f=l(0),g=l(354),h=l.n(g),x=l(16),u=l(30);w=l(386);var E=l.n(w);w=l(336);var z=l.n(w),p=l(139),m=l(61);l.d(t,"unshareItems",function(){return m.h});l.d(t,"shareItems",function(){return m.g});l.d(t,"getShimmedRequest",function(){return u.u});l.d(t,"initialState",function(){return g.initialState});var e=function(){function c(a,b){this.options=b;this.listener=
this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.id="share-wrapper";a.appendChild(this.renderContainer);var d=z()(g.initialState),k=z()(b.initialState);d=E()(d,k,function(C,B){if(Array.isArray(C)&&B)return B});k=b.initialState&&b.initialState.resources&&b.initialState.resources.items;var n=4===b.apiVersion?b.request:Object(u.u)(b.request),q=4===b.apiVersion?b.portal:Object(f.a)(Object(f.a)({},b.portal),{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&
b.portal.user.credential?b.portal.user.credential:void 0}),y=4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons");this.initialState=Object(f.a)(Object(f.a)({},d),{resources:Object(f.a)(Object(f.a)({},d.resources),{portalUser:b.portalUser,items:k}),utilities:Object(f.a)(Object(f.a)({},d.utilities),{request:n,portal:q,iconDir:y}),gbState:Object(f.a)(Object(f.a)({},d.gbState),{utils:Object(f.a)(Object(f.a)({},d.gbState.utils),{request:n,
portal:q,portalUser:b.portalUser}),config:Object(f.a)(Object(f.a)({},d.gbState.config),{groupsPerPage:d.config.groupsPerPage,withinShare:!0,enableFiltering:!0,hasTrustedOrgs:d.config.hasTrustedOrgs})})});this.store=Object(x.applyMiddleware)(x.thunk,Object(x.addListener)(this.listener))(x.createStore)(g.reducers,this.initialState);this.dispatch(Object(p.g)());this.projector=Object(x.createProjector)(this.store,function(C){return C(h.a,{key:"share"})},this.renderContainer)}return c.prototype.remove=
function(){document&&document.documentElement&&document.documentElement.classList.remove("overflow-hidden");this.renderContainer&&this.renderContainer.parentElement&&this.renderContainer.parentElement.removeChild(this.renderContainer)},c.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},c.prototype.getState=function(){return this.store?this.store.getState():this.initialState},c.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},c}()},99:function(w,
t,l){function f(z,p){if(null==z?0:z.length)for(var m=void 0,e=0;e<z.length;e++)if(p(m=z[e]))return m}function g(z){return z.filter(function(p){return 0<p.length})}function h(z,p,m){var e=[];return p.forEach(function(c){(m?c[m].toLowerCase()===z.toLowerCase():c.toLowerCase()===z.toLowerCase())?e.unshift(c):e.push(c)}),e}l.d(t,"e",function(){return x});l.d(t,"f",function(){return u});l.d(t,"c",function(){return f});l.d(t,"b",function(){return g});l.d(t,"a",function(){return E});l.d(t,"d",function(){return h});
w=l(15);var x=function(z,p,m){return m.indexOf(z)===p},u=Object(w.a)(function(z,p){var m={};return p.filter(function(e){return!m[e[z]]&&(m[e[z]]=!0,!0)})}),E=function(z,p){return z.length===p.length&&z.reduce(function(m,e){return m&&-1<p.indexOf(e)},!0)}}})})},"arcgis-components/Share/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/i18n!../Share/nls/resources ../Loaders/LoaderBars ../GroupBrowser/index ../Modals/Overlay".split(" "),function(V,L,v,w,t,l){return function(f){function g(x){if(h[x])return h[x].exports;
var u=h[x]={i:x,l:!1,exports:{}};return f[x].call(u.exports,u,u.exports,g),u.l=!0,u.exports}var h={};return g.m=f,g.c=h,g.d=function(x,u,E){g.o(x,u)||Object.defineProperty(x,u,{enumerable:!0,get:E})},g.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},g.t=function(x,u){if((1&u&&(x=g(x)),8&u)||4&u&&"object"==typeof x&&x&&x.__esModule)return x;var E=Object.create(null);if(g.r(E),
Object.defineProperty(E,"default",{enumerable:!0,value:x}),2&u&&"string"!=typeof x)for(var z in x)g.d(E,z,function(p){return x[p]}.bind(null,z));return E},g.n=function(x){var u=x&&x.__esModule?function(){return x["default"]}:function(){return x};return g.d(u,"a",u),u},g.o=function(x,u){return Object.prototype.hasOwnProperty.call(x,u)},g.p="",g(g.s=877)}({0:function(f,g,h){function x(a,b){function d(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+
" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}function u(a,b){var d={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(d[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(k=Object.getOwnPropertySymbols(a);n<k.length;n++)0>b.indexOf(k[n])&&Object.prototype.propertyIsEnumerable.call(a,k[n])&&(d[k[n]]=a[k[n]])}return d}function E(a,b,d,k){var n,q=arguments.length,y=3>q?b:null===k?
k=Object.getOwnPropertyDescriptor(b,d):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,b,d,k);else for(var C=a.length-1;0<=C;C--)(n=a[C])&&(y=(3>q?n(y):3<q?n(b,d,y):n(b,d))||y);return 3<q&&y&&Object.defineProperty(b,d,y),y}function z(a,b,d,k){return new (d||(d=Promise))(function(n,q){function y(D){try{B(k.next(D))}catch(F){q(F)}}function C(D){try{B(k["throw"](D))}catch(F){q(F)}}function B(D){var F;D.done?n(D.value):(F=D.value,F instanceof d?F:new d(function(r){r(F)})).then(y,
C)}B((k=k.apply(a,b||[])).next())})}function p(a,b){function d(B){return function(D){return function(F){if(k)throw new TypeError("Generator is already executing.");for(;C;)try{if(k=1,n&&(q=2&F[0]?n["return"]:F[0]?n["throw"]||((q=n["return"])&&q.call(n),0):n.next)&&!(q=q.call(n,F[1])).done)return q;switch(n=0,q&&(F=[2&F[0],q.value]),F[0]){case 0:case 1:q=F;break;case 4:return C.label++,{value:F[1],done:!1};case 5:C.label++;n=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(q=
C.trys,(q=0<q.length&&q[q.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!q||F[1]>q[0]&&F[1]<q[3]))C.label=F[1];else if(6===F[0]&&C.label<q[1])C.label=q[1],q=F;else if(q&&C.label<q[2])C.label=q[2],C.ops.push(F);else{q[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(r){F=[6,r],n=0}finally{k=q=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([B,D])}}var k,n,q,y,C={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return y={next:d(0),"throw":d(1),
"return":d(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function m(a,b){for(var d=0,k=b.length,n=a.length;d<k;d++,n++)a[n]=b[d];return a}h.d(g,"d",function(){return x});h.d(g,"a",function(){return c});h.d(g,"f",function(){return u});h.d(g,"c",function(){return E});h.d(g,"b",function(){return z});h.d(g,"e",function(){return p});h.d(g,"g",function(){return m});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,k){d.__proto__=
k}||function(d,k){for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&(d[n]=k[n])})(a,b)},c=function(){return(c=Object.assign||function(a){for(var b,d=1,k=arguments.length;d<k;d++)for(var n in b=arguments[d])Object.prototype.hasOwnProperty.call(b,n)&&(a[n]=b[n]);return a}).apply(this,arguments)};Object.create;Object.create},101:function(f,g,h){h.d(g,"a",function(){return u});h.d(g,"b",function(){return E});var x=h(0),u=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:
location.protocol+"//"+z.portalHostname:""},E=function(z){return Object(x.a)(Object(x.a)({},z),{baseUrl:u(z)})}},117:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){var p=Object(x.a),m=Object(x.a)({},z),e=z.type,c=z.typeKeywords?z.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,d=!1,k=e=!1;if("ogcfeatureserver"===a)c="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||
"wfs"===a){var n=-1<c.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(k=-1<c.indexOf("Table"),b=-1<c.indexOf("Route Layer"),d=-1<c.indexOf("Markup"),c=(e=-1!==c.indexOf("Spatiotemporal"))&&k?"spatiotemporaltable":k?"table":b?"routelayer":d?"markup":e?"spatiotemporal":n?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?c=n||-1<c.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?c=-1<c.indexOf("Line")?"sceneweblayerline":
-1<c.indexOf("3DObject")?"sceneweblayermultipatch":-1<c.indexOf("Point")?"sceneweblayerpoint":-1<c.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<c.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<c.indexOf("Polygon")?"sceneweblayerpolygon":-1<c.indexOf("Building")?"sceneweblayerbuilding":-1<c.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),c=e?"elevationlayer":c?"tiledimagerylayer":"imagery"):c="stream service"===
a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<c.indexOf("Web Tool")?"tool":"layers"}else c="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<c.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==c?void 0:c.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===
a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<c.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<c.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===
a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===
a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<c.indexOf("Explorer Mapping Application")||-1<c.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===
a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":
"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===
a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return p(m,{iconURI:E+"/"+c+"16.png"})})},120:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){var p=Object(x.a),m=Object(x.a)({},z),e,c,a="notebook"!==(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(c=z.type)||void 0===c?void 0:c.toLowerCase())&&(a="notebook-code-snippet-thumb.png");
c=E.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(z.thumbnail&&(c=E.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),c);return p(m,{thumbURI:e})})},121:function(f,g,h){h.d(g,"a",function(){return E});var x=h(0);f=h(15);var u=function(z,p){return p.description?p.description.replace(/src=('|")js\/jsapi\/esri\//g,function(m){return"src\x3d"+('"'===m[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},E=Object(f.a)(function(z,p){return Object(x.a)(Object(x.a)({},
p),{patchedDescription:u(z,p)})})},122:function(f,g,h){h.d(g,"a",function(){return z});var x=h(0),u=h(124);f=h(15);var E=h(58),z=Object(f.a)(function(p,m){var e=Object(x.a),c=Object(x.a)({},m),a,b=m.type,d=m.typeKeywords||[],k=b,n=(null==p?void 0:p.portalUser)||(null==p?void 0:p.user);if("Feature Service"===b||"Feature Collection"===b){if(k=-1<d.indexOf("Table")?"Table":-1<d.indexOf("Route Layer")?"Route Layer":-1<d.indexOf("Markup")?"Markup":"Feature Layer",n&&Object(E.d)(m,n)&&-1<(null==d?void 0:
d.indexOf("Hosted Service")))d=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",k=k+" ("+(u.a[d]||u.a[d.split("-")[0]]||u.a.en)+")"}else"Image Service"===b?(a=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),k=a?"Elevation Layer":d?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?k="Scene Layer":"Scene Package"===b?k="Scene Layer Package":"Stream Service"===b?k="Feature Layer":"Geocoding Service"===b?k="Locator":
"Microsoft Powerpoint"===b?k="Microsoft PowerPoint":"OGCFeatureServer"===b?k="OGC Feature Layer":"GeoJson"===b?k="GeoJSON":"Globe Service"===b?k="Globe Layer":"Vector Tile Service"===b?k="Tile Layer":"netCDF"===b?k="NetCDF":"Map Service"===b?k=-1===d.indexOf("Spatiotemporal")&&(-1<d.indexOf("Hosted Service")||-1<d.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?k=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?k="Big Data File Share":"Web Mapping Application"===
b&&(null==d?0:d.includes("configurableApp"))?k="Instant App":"Data Store"===b&&(d.includes("cloudStore_amazon")||d.includes("cloudStore_azure")?k+=" (Cloud)":(d.includes("fileShare")||d.includes("hdfs")||d.includes("hive")||d.includes("bigDataFileShare")&&d.includes("dataStore"))&&(k+=" (Big Data File Share)"));return e(c,{displayName:k})})},123:function(f,g,h){h.d(g,"a",function(){return E});var x=h(0);f=h(15);var u=function(z,p){var m=[],e=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&
("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?m.push("authoritative"):"deprecated"===z.contentStatus&&m.push("deprecated")),z.origin&&m.push("collaboration"),z.groupDesignations&&-1<z.groupDesignations.indexOf("livingatlas")&&m.push("livingAtlas"),-1<e.indexOf("Requires Credits")?m.push("premium"):-1<e.indexOf("Requires Subscription")&&m.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==p?void 0:p.portalUser)||(null==p?void 0:p.user))&&m.push("publicDataCollection"),
"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&m.push("solution"),p.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&m.push("retiredStoryMap"),function(c){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
d=-1<a.indexOf(".html");return-1<(null===(b=c.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(d?"":"/")))})}(z)&&m.push("retiredApp")),m},E=Object(f.a)(function(z,p){return Object(x.a)(Object(x.a)({},p),{badges:u(p,z)})})},124:function(f,g,h){h.d(g,"a",function(){return x});var x={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(f,g,h){h.d(g,"a",function(){return u});h.d(g,"b",function(){return E});var x=h(0);f=h(15);var u=function(z,p){var m;return p.thumbnail&&(m=z.restUrl+"/community/groups/"+p.id+"/info/"+p.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),m},E=Object(f.a)(function(z,p){return Object(x.a)(Object(x.a)({},p),{thumbURI:u(z,p)})})},137:function(f,g,h){h.d(g,"a",function(){return x});
h.d(g,"d",function(){return z});h.d(g,"c",function(){return p});h.d(g,"e",function(){return m});h.d(g,"f",function(){return e});var x,u=h(0),E=h(25);!function(c){c.LOADING="loading";c.LOADED="loaded";c.FAILED="failed"}(x||(x={}));var z=function(c){var a=c.selectedGroups,b=c.selectorItems;return 0===b.length?Object.keys(a).map(function(d){return a[d].group}):Object.keys(a).filter(function(d){return m(a[d],b)}).map(function(d){return a[d].group})},p=function(c){var a=c.initialSelectedGroups,b=c.selectedGroups,
d=Object.keys(b).map(function(k){return b[k].group.id});return Object.keys(a).map(function(k){return a[k].group.id}).filter(function(k){return 0>d.indexOf(k)}).map(function(k){return a[k].group})},m=function(c,a){return!c.selectedByIds||c.selectedByIds.length===a.length},e={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:x.LOADING,total:0,hasGroups:!0};g.b=function(c,a){switch(void 0===c&&(c=e),a.type){case E.a.DESELECT_GROUPS:return Object(u.a)(Object(u.a)({},
c),{selectedGroups:a.payload.reduce(function(k,n){var q=n.id;k[q];return Object(u.f)(k,["symbol"==typeof q?q:q+""])},c.selectedGroups)});case E.a.REVERT_GROUPS:return a.payload?Object(u.a)(Object(u.a)({},c),{selectedGroups:a.payload.reduce(function(k,n){var q;if(c.initialSelectedGroups[n.id])return Object(u.a)(Object(u.a)({},k),((q={})[n.id]=c.initialSelectedGroups[n.id],q));q=n.id;k[q];return Object(u.f)(k,["symbol"==typeof q?q:q+""])},c.selectedGroups)}):Object(u.a)(Object(u.a)({},c),{selectedGroups:Object(u.a)({},
c.initialSelectedGroups)});case E.a.SELECT_GROUPS:var b=c.selectorItems.map(function(k){return k.id});return Object(u.a)(Object(u.a)({},c),{selectedGroups:a.payload.reduce(function(k,n){var q;return Object(u.a)(Object(u.a)({},k),((q={})[n.group.id]=Object(u.a)({selectedByIds:b},n),q))},c.selectedGroups)});case E.a.SET_INITIAL_GROUPS:var d=a.payload.reduce(function(k,n){var q;return Object(u.a)(Object(u.a)({},k),((q={})[n.group.id]=n,q))},{});return Object(u.a)(Object(u.a)({},c),{selectedGroups:d,
initialSelectedGroups:Object(u.a)({},d)});case E.a.SET_SELECTOR_ITEMS:return Object(u.a)(Object(u.a)({},c),{selectorItems:a.payload});case E.a.CLEAR_SELECTION:return Object(u.a)(Object(u.a)({},c),{selectedGroups:{}});case E.a.LOADING_GROUPS:return Object(u.a)(Object(u.a)({},c),{status:x.LOADING});case E.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},c),{displayGroups:a.payload.results,total:a.payload.total,status:x.LOADED});case E.a.LOAD_GROUPS_FAIL:return Object(u.a)(Object(u.a)({},c),{displayGroups:[],
status:x.FAILED});case E.a.SET_HAS_GROUPS:return Object(u.a)(Object(u.a)({},c),{hasGroups:a.payload});default:return c}}},139:function(f,g,h){function x(ca,fa){var ka=fa(),ma=ka.utilities.request,ra=ka.resources;ka=ra.selectedOptions;var za=ra.selectedOptionsDirty;ra=Object(q.b)(ra.items);ka=za&&ka["public"]===ka.total;ca(G(D.a.LOADING));0<ra.length&&ka?Object(q.a)({items:ra,request:ma}).then(function(ia){ia.length?(ia=ia.some(function(T){return-1===T.typeKeywords.indexOf("Public Data Collection")}),
ca(r(ia?D.c.PUBLIC_DATA_COLLECTION_DISABLED:D.c.PUBLIC_DATA_COLLECTION_ENABLED))):ca(u)})["catch"](function(){ca(u)}):ca(u)}function u(ca,fa){var ka=fa(),ma=ka.utilities,ra=ma.portal,za=ma.request,ia=ma.onComplete;ma=ka.resources;var T=ma.items,la=ma.selectedOptions,S=ma.portalUser;ma=ka.gbState.groups;ka=ma.selectedGroups;ma=ma.initialSelectedGroups;var P=Object(b.d)({selectedGroups:ka,selectorItems:T});ka=Object(b.c)({initialSelectedGroups:ma,selectedGroups:ka});var I=[];Object(d.h)({items:T,groups:ka,
portalUser:S,restUrl:ra.restUrl,request:za}).then(function(){return Object(d.g)({items:T,groups:P,portalUser:S,request:za,restUrl:ra.restUrl,selectedOptions:la})})["catch"](function(ba){ba.results?I=I.concat(Object(y.a)(ba.results,T)):ba.message&&I.push({error:ba})}).then(function(){return ca(J)}).then(function(){var ba=fa().resources,W=ba.items,aa=ba.dependentItems,Q=aa.needGroupSharingUpdate,N=aa.notEditable,R=aa.premium,X=aa.needPubliclyEditableWarning,Y=aa.needEditableWarning,da=aa.needDataCollectionEnabled,
ea=aa.needGroupDependentApplicationWarning,ha=aa.needBDFSDatastoreUpdate,na=ba.selectedOptions,qa=(ba=ba.selectedOptionsDirty)&&na["public"]===na.total;0!==aa.needShareLevelUpdate.length||0!==Q.length||0!==N.length||0!==R.length||0!==X.length||0!==Y.length||0!==da.length||0!==ea.length&&qa||0!==ha.length||0!==Object(d.c)(W,na,ba).length?ca({type:m.SET_CURRENT_VIEW,payload:D.a.DEPENDENT_ITEM_CONFIRMATION}):ia(0<I.length?{errors:I,selectedOptions:na}:{selectedOptions:na})})["catch"](console.error)}
function E(ca){return ca.filter(function(fa){return-1===fa.typeKeywords.indexOf("bigDataFileShare")})}function z(ca,fa){var ka=fa(),ma=ka.utilities,ra=ma.portal,za=ma.request,ia=ma.onComplete;ma=ka.resources;var T=ma.dependentItems,la=T.needBDFSDatastoreUpdate,S=T.needShareLevelUpdate,P=T.needGroupSharingUpdate,I=T.needEditableWarning,ba=ma.selectedOptions;ma=ma.portalUser;T=ka.gbState.groups;ka=T.selectedGroups;var W=T.selectorItems;if(0!==la.length||0!==S.length||0!==P.length||0!==I.length){T=Object(d.g)({items:E(la),
groups:[],portalUser:ma,request:za,restUrl:ra.restUrl,selectedOptions:ba});var aa=Object(d.g)({items:Object(e.g)(Object(e.g)([],E(S)),I),groups:[],portalUser:ma,request:za,restUrl:ra.restUrl,selectedOptions:ba});ra=Object(d.g)({items:P,groups:Object(b.d)({selectedGroups:ka,selectorItems:W}),portalUser:ma,request:za,restUrl:ra.restUrl,selectedOptions:ba,ignoreShareLevel:!0});k.Promise.all([T,aa,ra]).then(function(){var Q=Object(e.g)(Object(e.g)(Object(e.g)(Object(e.g)([],la),S),P),I),N=Q.map(function(R){return R.id});
Q=Q.filter(function(R,X){return N.indexOf(R.id)===X});ia({dependentItems:Q,selectedOptions:ba})})["catch"](function(Q){throw Q;})}else ia({selectedOptions:ba})}function p(ca,fa){switch(fa().resources.currentMiniDlg){case D.c.OPEN_GROUP_BROWSER:ca(F(D.b["public"]));ca(G(D.a.GROUP_BROWSER));break;case D.c.REVERT_SHARE_LEVEL:ca({type:m.SET_INITIAL_SHARE_LEVEL});ca(Object(a.c)());break;case D.c.REVERT_GROUPS:ca(F(D.b["public"]));ca(Object(a.c)());break;case D.c.EDITABLE_LAYERS:ca(u);break;case D.c.SET_SHARE_TO_PRIVATE:ca(F(D.b["private"]));
ca(Object(a.a)());break;case D.c.PUBLIC_DATA_COLLECTION_DISABLED:ca(G(D.a.SHARE));break;case D.c.PUBLIC_DATA_COLLECTION_ENABLED:ca(u)}ca({type:m.SET_MINI_DIALOG,payload:D.c.NONE})}h.d(g,"a",function(){return m});h.d(g,"k",function(){return r});h.d(g,"g",function(){return A});h.d(g,"j",function(){return G});h.d(g,"d",function(){return x});h.d(g,"i",function(){return z});h.d(g,"h",function(){return p});h.d(g,"c",function(){return M});h.d(g,"b",function(){return K});h.d(g,"e",function(){return U});h.d(g,
"f",function(){return Z});var m,e=h(0),c=h(177),a=h(144),b=h(137),d=h(61),k=h(28),n=h(335),q=h(194),y=h(379),C=h(51),B=h(58),D=h(26);!function(ca){ca.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";ca.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";ca.SET_CURRENT_VIEW="SET_CURRENT_VIEW";ca.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";ca.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";ca.SET_MINI_DIALOG="SET_MINI_DIALOG";ca.SET_SHARE_MODE="SET_SHARE_MODE";ca.SET_USER_TYPE="SET_USER_TYPE";ca.SET_HELP_MAP=
"SET_HELP_MAP"}(m||(m={}));var F=function(ca){return{type:m.SET_SELECTED_SHARE_LEVEL,payload:ca}},r=function(ca){return{type:m.SET_MINI_DIALOG,payload:ca}},A=function(){return function(ca,fa){var ka=fa(),ma=ka.utilities,ra=ma.portal,za=ma.request;ma=ka.resources.items;ka=H(ka);var ia=ra.urlKey||ra.isPortal?D.e.ORG:D.e.PUBLIC;ca({type:m.SET_INITIAL_SHARE_LEVEL});ca({type:m.SET_SHARE_MODE,payload:ka});ca({type:m.SET_USER_TYPE,payload:ia});ca(Object(c.a)({selectorItems:ma,anySelectorItemsPrivate:0<fa().resources.selectedOptions[D.b["private"]],
shareMode:ka,userType:ia})).then(function(){return Object(d.a)(ra,za)}).then(function(T){ca({type:m.SET_HELP_MAP,payload:T});ca(G(D.a.SHARE))})}},G=function(ca){return function(fa){fa({type:m.SET_CURRENT_VIEW,payload:ca})}},H=function(ca){var fa=ca.resources,ka=fa.items;fa=fa.portalUser;ca=ca.utilities.portal;var ma=ka[0];if(Object(B.d)(ma,fa))return D.d.DEFAULT;ma=!ma.orgId||ma.orgId===fa.orgId;return Object(C.h)({items:ka,user:fa,portal:ca})&&ma?D.d.ADMIN:D.d.GROUP},J=function(ca,fa){var ka=fa(),
ma=ka.resources,ra=ma.selectedOptions,za=ka.utilities,ia=za.portal,T=za.request,la=za.iconDir;ka=ka.gbState.groups;var S=ka.selectedGroups,P=ka.selectorItems;ma=ma.items.map(function(I){return Object(n.b)({item:I,portal:ia,request:T,iconDir:la})});return k.Promise.all(ma).then(function(I){return O({dependentItems:I,selectedGroups:S,selectorItems:P,selectedOptions:ra,request:T,portal:ia})}).then(function(I){ca({type:m.SET_DEPENDENT_ITEMS,payload:I})})},O=function(ca){var fa=ca.dependentItems,ka=ca.selectedGroups,
ma=ca.selectorItems,ra=ca.selectedOptions,za=ca.request,ia=ca.portal;return new k.Promise(function(T,la){var S=Object(d.b)(fa).filter(function(ba){return ba}),P=S.map(function(ba){return ba.id}),I=S.filter(function(ba,W){return P.indexOf(ba.id)===W});k.Promise.all(I.map(function(ba){return Object(n.a)({item:ba,selectedOptions:ra,selectedGroups:Object(b.d)({selectedGroups:ka,selectorItems:ma}),request:za,portal:ia})})).then(function(ba){var W=[],aa=[],Q=[],N=[],R=[],X=[],Y=[],da=[],ea=[],ha=!Object(d.e)(ra)&&
Object(d.d)(ra)===D.b["public"];ba.forEach(function(na,qa){var ua=I[qa];if(na.premium)N.push(ua);else if(na.groupDependentApplication)da.push(ua);else{if(!na.bdfsDatastore)return ha&&na.editable&&Object(q.c)(ua)&&ua.isUpdateLayer?ua.access===D.b["public"]?void X.push(ua):-1<ua.typeKeywords.indexOf("Public Data Collection")?void R.push(ua):void Y.push(ua):void((na.needsShareLevelUpdate||na.needsGroupSharingUpdate)&&(na.editable?(na.needsShareLevelUpdate&&aa.push(ua),na.needsGroupSharingUpdate&&W.push(ua)):
Q.push(ua)));ea.push(ua)}});T({needGroupSharingUpdate:W,needShareLevelUpdate:aa,notEditable:Q,premium:N,needPubliclyEditableWarning:X,needEditableWarning:R,needDataCollectionEnabled:Y,needGroupDependentApplicationWarning:da,needBDFSDatastoreUpdate:ea})})["catch"](function(ba){throw ba;})})},M=function(ca,fa){var ka=fa(),ma=ka.gbState.groups.initialSelectedGroups,ra=ka.resources.selectedOptions;ka.config.userType===D.e.PUBLIC&&0<ra["private"]&&0<Object.keys(ma).length?ca(r(D.c.REVERT_GROUPS)):ca(Object(a.c)())},
K=function(ca,fa){var ka=fa(),ma=ka.resources,ra=ma.portalUser;ma=ma.selectedOptions;Object(C.k)(ka.utilities.portal)||Object(C.a)(ra)||!Object(d.e)(ma)&&Object(d.d)(ma)!==D.b["private"]?ca(G(D.a.GROUP_BROWSER)):ca(r(D.c.OPEN_GROUP_BROWSER))},U=function(ca,fa){var ka=fa(),ma=ka.resources,ra=ma.portalUser;ma=ma.items;var za=ka.gbState.groups.selectedGroups;Object(C.k)(ka.utilities.portal)||Object(C.b)(ra)||!Object(q.d)({items:ma,groupDatas:Object.keys(za).map(function(ia){return za[ia]})})?ca({type:m.SET_INITIAL_SHARE_LEVEL}):
ca(r(D.c.REVERT_SHARE_LEVEL))},Z=function(ca){return function(fa,ka){var ma=ka(),ra=ma.resources.portalUser,za=ma.gbState.groups.selectedGroups;!Object(C.k)(ma.utilities.portal)&&!Object(C.b)(ra)&&ca===D.b["private"]&&0<Object.keys(za).length?fa(r(D.c.SET_SHARE_TO_PRIVATE)):fa(F(ca))}}},144:function(f,g,h){h.d(g,"d",function(){return p});h.d(g,"e",function(){return m});h.d(g,"b",function(){return e});h.d(g,"c",function(){return c});h.d(g,"a",function(){return a});h.d(g,"f",function(){return b});var x=
h(0),u=h(181),E=h(163),z=h(68),p=function(d){return 1<d.length&&Object(E.a)(),{type:z.a.SELECT_GROUPS,payload:d.map(function(k){return{group:Object(u.c)(k)}})}},m=function(d){return{type:z.a.SET_INITIAL_GROUPS,payload:d.map(function(k){return Object(x.a)(Object(x.a)({},k),{group:Object(u.c)(k.group)})})}},e=function(d){return 1<d.length&&Object(E.b)(),{type:z.a.DESELECT_GROUPS,payload:d}},c=function(d){return{type:z.a.REVERT_GROUPS,payload:d}},a=function(){return Object(E.c)(),{type:z.a.CLEAR_SELECTION}},
b=function(d){return{type:z.a.SET_SELECTOR_ITEMS,payload:d}}},148:function(f,g,h){h.d(g,"a",function(){return u});var x=h(0);f=h(15);var u=Object(f.a)(function(E,z){var p=Object(x.a),m=Object(x.a)({},z);var e=z.thumbnail?E.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:""):void 0;return p(m,{thumbURI:e})})},15:function(f,g,h){function x(E){return function p(){for(var m=this,e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];return e.length>=
E.length?E.call.apply(E,Object(u.g)([this],e)):function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return p.call.apply(p,Object(u.g)(Object(u.g)([m],e),a))}}}h.d(g,"a",function(){return x});var u=h(0)},159:function(f,g,h){h.d(g,"b",function(){return d});h.d(g,"a",function(){return n});var x=h(0),u=h(181),E=h(30),z=h(163),p=h(54),m=h(68),e=h(28),c=h(61),a=h(38),b=h(26),d=function(A,G){k(G()).then(function(H){var J=G();J=Object(p.b)(J)?J:J.gbState;var O=J.utils;J.ui.focus.focusSelectAll&&
Object(z.c)();A({type:m.a.LOAD_GROUPS_SUCCESS,payload:Object(x.a)(Object(x.a)({},H),{results:H.results.map(function(M){return Object(u.b)(O.portal,M)})})})})["catch"](function(H){var J=G();(Object(p.b)(J)?J:J.gbState).ui.focus.focusSelectAll&&Object(z.c)();A({type:m.a.LOAD_GROUPS_FAIL,payload:H})})},k=function(A){A=Object(p.b)(A)?A:A.gbState;var G=A.utils,H=G.request,J=G.portal,O=A.config;G=O.groupsPerPage;var M=O.withinShare,K=(O.withinAppConfig,A.parameters);O=K.filter;K=K.sort;var U=A.ui.page.currentPageNumber,
Z={q:r(A),num:G,sortField:K.field,sortOrder:K.order,start:(U-1)*G+1};return M&&(Z.searchUserAccess="groupMember",Z.searchUserName=O.currentUsername),O.designationFilter!==a.b.orgSettings||C(J)?new e.Promise(function(ca,fa){Object(E.g)(H,J,Z).then(ca,fa)}):new e.Promise(function(ca){ca({query:Z.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},n=function(A){var G=A.user;A=A.state;A=Object(p.b)(A)?A:A.gbState;var H=A.utils,J=H.request,O=H.portal;A=Object(x.a)(Object(x.a)({},A),{parameters:Object(x.a)(Object(x.a)({},
A.parameters),{filter:Object(x.a)(Object(x.a)({},A.parameters.filter),{currentUsername:G.username})})});var M={q:r(A),num:100,searchUserAccess:"groupMember",searchUserName:G.username};return(new e.Promise(function(K,U){return Object(E.g)(J,O,M).then(function(Z){if(-1!==Z.nextStart){var ca=Math.ceil(Z.total/100)-1,fa=[Z.results];Z=function(ma){fa.push(new e.Promise(function(ra,za){var ia=100*(ma+1)+1;Object(E.g)(J,O,Object(x.a)(Object(x.a)({},M),{start:ia})).then(function(T){ra(T.results)},za)}))};
for(var ka=0;ka<ca;ka++)Z(ka);e.Promise.all(fa).then(function(ma){K(Object(c.b)(ma))})}else K(Z.results)},U)}))["catch"](function(K){throw K;})},q=function(A){var G,H=A.shareMode,J=A.currentUsername,O=A.portalUser;A=A.userGroups;var M=[];switch(A&&A.forEach(function(K){var U,Z=null===(U=K.userMembership)||void 0===U?void 0:U.memberType;!K.isViewOnly||"owner"!==Z&&"admin"!==Z||M.push(K.id)}),M.length&&(G="(isviewonly:false OR "+M.join(" OR ")+")"),H){case b.d.DEFAULT:return G||"(owner:"+J+" OR isviewonly:false)";
case b.d.GROUP:return"owner:"+J+" -capabilities:updateitemcontrol";case b.d.ADMIN:return O.username===J?"(isviewonly:false OR owner:"+O.username+") -capabilities:updateitemcontrol":"(owner:"+J+" OR isviewonly:false)";default:return""}},y=function(A,G){0!==(null==A?void 0:A.indexOf("id:"))||-1<G.indexOf(A)||G.push(A)},C=function(A){var G,H,J,O,M,K=[],U=[A.featuredItemsGroupQuery,A.basemapGalleryGroupQuery,A.templatesGroupQuery,A["2DStylesGroupQuery"],A.stylesGroupQuery,A.analysisLayersGroupQuery,A.galleryTemplatesGroupQuery];
if(A.hasModernHomePageEnabled){var Z=(null===(H=null===(G=A.homePageConfig)||void 0===G?void 0:G.content)||void 0===H?void 0:H.filter(function(ca){return"gallery"===ca.type&&!!ca.groupId}))||[];0<Z.length&&Z.forEach(function(ca){y("id:"+ca.groupId,K)})}else U.push(A.homePageFeaturedContent);return U.forEach(function(ca){y(ca,K)}),null===(J=A.featuredGroups)||void 0===J||J.forEach(function(ca){(ca=ca.id)&&y("id:"+ca,K)}),null===(M=null===(O=A.userDefaults)||void 0===O?void 0:O.groups)||void 0===M||
M.forEach(function(ca){y("id:"+ca,K)}),0<K.length?"("+K.join(" OR ")+")":""},B=function(A){var G=A.portal;switch(A.designationFilter){case a.b.openData:return"isopendata:true";case a.b.updateGroups:return"capabilities:updateitemcontrol";case a.b.distributed:return"capabilities:distributed";case a.b.administrative:return"isleavingdisallowed:true";case a.b.orgSettings:return C(G)||"";default:return""}},D=function(A){var G=A.portal,H=A.username,J=A.currentUsername,O=A.userType,M=A.withinAppConfig;H=
A.shareMode===b.d.ADMIN&&J||H;M=G.isPortal&&M?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(A.ownerFilter){case a.d.itemOwner:return"owner:"+H+" "+M;case a.d.inOrg:return"-owner:"+H+" orgid:"+G.id+" "+M;case a.d.outsideOrg:return O===b.e.PUBLIC?"-owner:"+H+" "+M:"(orgid: [0 TO \\{]) -orgid:"+G.id+" "+M;default:return M}},F=function(A){return A?"created: ["+(G=A).start+" TO "+G.end+"]":"";var G},r=function(A){var G=A.utils,H=G.portal;G=G.portalUser;var J=A.config,
O=J.shareMode,M=J.userType,K=J.withinAppConfig,U=J.hasIndoorsSpaces;A=A.parameters.filter;var Z=A.designationFilter,ca=A.membershipFilter,fa=A.dateCreatedFilter,ka=A.currentUsername,ma=A.ownerFilter;return[J.baseQ+" "+A.searchString,q({shareMode:O,currentUsername:ka,portalUser:G,userGroups:J.userGroups}),U?"-capabilities:distributed":B({designationFilter:Z,portal:H}),U?"membershipaccess:org":ca?"anyOrg"===ca?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+ca:"",F(fa),D({ownerFilter:ma,
portal:H,username:G.username,currentUsername:ka,shareMode:O,userType:M,withinAppConfig:K})].filter(function(ra){return ra}).join(" ").trim()}},16:function(f,g){f.exports=V},163:function(f,g,h){function x(){z("gb__select-all-input")}function u(){z("gb__clear-selection-btn")}function E(){setTimeout(function(){var p=document.querySelector(".gcard-gcc__container");p&&(p=p.querySelector(".btn-2018check__input"))&&p.focus()},50)}function z(p){setTimeout(function(){var m=document.querySelector("#"+p);m&&
m.focus()},50)}h.d(g,"c",function(){return x});h.d(g,"a",function(){return u});h.d(g,"b",function(){return E})},170:function(f,g){var h=function(){return this}();try{h=h||(new Function("return this"))()}catch(x){"object"==typeof window&&(h=window)}f.exports=h},175:function(f,g,h){var x;h.d(g,"a",function(){return x});(x||(x={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(f,g,h){h.d(g,"a",function(){return y});var x=h(0),u=h(54),E=h(144),z=h(159),p=h(313),m=h(314),e=h(186),c=h(30),a=h(28),
b=h(25),d=h(61),k=h(68),n=h(192),q=h(58),y=function(B){return function(D,F){var r=F(),A=(Object(u.b)(r)?r:r.gbState).utils,G=A.portal;A=A.portalUser;if(!(B&&B.selectorItems&&0<B.selectorItems.length))return D(z.b),a.Promise.resolve();var H=B.selectorItems,J=B.userType;D({type:b.a.SET_SHARE_MODE,payload:B.shareMode});D({type:b.a.SET_USER_TYPE,payload:J});D(Object(E.f)(H));G=Object(q.b)({user:A,items:H,portal:G});var O=A.username===G.username?[A]:[A,G];return 1<O.length&&!B.anySelectorItemsPrivate&&
D({type:b.a.ENABLE_USER_TOGGLE}),D(Object(e.c)(O)),D(Object(e.h)(G.username)),void 0===r.config.hasTrustedOrgs&&D(p.a),Object(m.a)(F()).then(function(M){return M&&D({type:n.a.USER_DETAILS_LOADED,payload:M.groups}),D(z.b),a.Promise.all(O.map(function(K){return Object(z.a)({user:K,state:F()})})).then(function(K){K=Object(d.b)(K);var U=K.map(function(Z){return Z.id});K=K.filter(function(Z,ca){return U.indexOf(Z.id)===ca});return D(C(K))})})}},C=function(B){return function(D,F){return new a.Promise(function(r,
A){var G=F();G=Object(u.b)(G)?G:G.gbState;var H=G.utils,J=H.portal,O=H.request,M=Object(c.b)(G.groups.selectorItems);G=Object(c.a)(B).map(function(K){return Object(c.i)({itemIds:M,groupIds:Object(c.b)(K),portal:J,request:O})});a.Promise.all(G).then(function(K){var U=K.reduce(function(ca,fa){return Object(x.a)(Object(x.a)({},ca),fa)},{}),Z=Object.keys(U);K=B.filter(function(ca){return 0<=Z.indexOf(ca.id)}).map(function(ca){return{group:ca,selectedByIds:U[ca.id].items.map(function(fa){return fa.itemId})}});
D({type:k.a.SET_HAS_GROUPS,payload:0<B.length});D(Object(E.e)(K));r()})["catch"](A)})}}},181:function(f,g,h){h.d(g,"b",function(){return z});h.d(g,"c",function(){return p});h.d(g,"a",function(){return m});var x=h(63);f=h(5);var u=h(99),E=h(128),z=function(e,c){return Object(x.a)(Object(E.b)(e))(c)},p=Object(x.a)(Object(f.e)("thumbURI")),m=function(e){var c=e.initialSelectedByIds;return!Object(u.a)(e.selectedBy.map(function(a){return a.id}),c)}},186:function(f,g,h){h.d(g,"b",function(){return u});
h.d(g,"g",function(){return E});h.d(g,"h",function(){return z});h.d(g,"e",function(){return p});h.d(g,"f",function(){return m});h.d(g,"d",function(){return e});h.d(g,"c",function(){return c});h.d(g,"a",function(){return a});var x=h(83),u=function(b){return{type:x.a.SET_SEARCH_STRING,payload:b}},E=function(b){return{type:x.a.UPDATE_OWNER_FILTER,payload:b}},z=function(b){return{type:x.a.UPDATE_USERNAME_FILTER,payload:b}},p=function(b){return{type:x.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:b}},m=function(b){return{type:x.a.UPDATE_MEMBERSHIP_FILTER,
payload:b}},e=function(b){return{type:x.a.UPDATE_CREATED_ON_FILTER,payload:{section:b.section,created:b.created}}},c=function(b){return{type:x.a.SET_USERS,payload:b}},a=function(b){return{type:x.a.CLEAR_FILTERS,payload:b}}},189:function(f,g){function h(){throw Error("setTimeout has not been defined");}function x(){throw Error("clearTimeout has not been defined");}function u(q){if(c===setTimeout)return setTimeout(q,0);if((c===h||!c)&&setTimeout)return c=setTimeout,setTimeout(q,0);try{return c(q,0)}catch(y){try{return c.call(null,
q,0)}catch(C){return c.call(this,q,0)}}}function E(){k&&b&&(k=!1,b.length?d=b.concat(d):n=-1,d.length&&z())}function z(){if(!k){var q=u(E);k=!0;for(var y=d.length;y;){b=d;for(d=[];++n<y;)b&&b[n].run();n=-1;y=d.length}b=null;k=!1;(function(C){if(a===clearTimeout)return clearTimeout(C);if((a===x||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch(B){try{return a.call(null,C)}catch(D){return a.call(this,C)}}})(q)}}function p(q,y){this.fun=q;this.array=y}function m(){}var e=f.exports=
{};try{var c="function"==typeof setTimeout?setTimeout:h}catch(q){c=h}try{var a="function"==typeof clearTimeout?clearTimeout:x}catch(q){a=x}!0;var b,d=[],k=!1,n=-1;e.nextTick=function(q){var y=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)y[C-1]=arguments[C];d.push(new p(q,y));1!==d.length||k||u(z)};p.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions={};e.on=m;e.addListener=m;e.once=
m;e.off=m;e.removeListener=m;e.removeAllListeners=m;e.emit=m;e.prependListener=m;e.prependOnceListener=m;e.listeners=function(q){return[]};e.binding=function(q){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(q){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},192:function(f,g,h){var x;h.d(g,"a",function(){return x});(x||(x={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(f,g,h){function x(a){return"Feature Service"===
a.type&&-1<a.typeKeywords.indexOf("Hosted Service")}function u(a){return a.filter(function(b){return b.access!==m.b["public"]&&x(b)})}function E(a){var b=a.request;a=a.items.map(function(d){return function(k,n){return new z.Promise(function(q){x(k)?Object(p.v)(n,k.url+"/layers").then(function(y){y=y.layers;q((null==y?void 0:y.reduce(function(C,B){return C||B&&-1<B.capabilities.indexOf("Editing")},!1))&&k)},function(){return q(!1)}):q(!1)})}(d,b)});return z.Promise.all(a).then(function(d){return d.filter(function(k){return k})})}
h.d(g,"d",function(){return e});h.d(g,"c",function(){return x});h.d(g,"b",function(){return u});h.d(g,"a",function(){return E});var z=h(28),p=h(30),m=h(26),e=function(a){var b=a.groupDatas;return a.items.filter(function(d){d=d.access?d.access:d.sharing&&d.sharing.access;return d===m.b["private"]||d===m.b.shared}).reduce(function(d,k){return d||c({item:k,groupDatas:b})},!1)},c=function(a){var b=a.item;return a.groupDatas.reduce(function(d,k){return d||!!k.selectedByIds&&0<=k.selectedByIds.indexOf(b.id)},
!1)}},204:function(f,g,h){var x;h.d(g,"a",function(){return x});(function(u){u.SET_PAGE="SET_PAGE";u.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";u.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(x||(x={}))},205:function(f,g){f.exports=w},207:function(f,g,h){h.d(g,"b",function(){return E});var x=h(0),u=h(25),E={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};g.a=function(z,p){switch(void 0===z&&(z=
E),p.type){case u.a.ENABLE_USER_TOGGLE:return Object(x.a)(Object(x.a)({},z),{enableUserToggle:!0});case u.a.SET_SHARE_MODE:return Object(x.a)(Object(x.a)({},z),{shareMode:p.payload});case u.a.SET_USER_TYPE:return Object(x.a)(Object(x.a)({},z),{userType:p.payload});case u.a.TRUSTED_ORGS_LOADED:return Object(x.a)(Object(x.a)({},z),{hasTrustedOrgs:0<p.payload.length});case u.a.USER_DETAILS_LOADED:return Object(x.a)(Object(x.a)({},z),{userGroups:p.payload});case u.a.SET_SELECTOR_ITEMS:var m=!!p.payload.find(function(e){var c;
return-1<(null===(c=null==e?void 0:e.typeKeywords)||void 0===c?void 0:c.indexOf("EditExtensionIndoorsSpaces"))});return Object(x.a)(Object(x.a)({},z),{hasIndoorsSpaces:m});default:return z}}},208:function(f,g,h){h.d(g,"b",function(){return u});f=h(16);var x=h(209);h=h(38);var u={sort:x.b,filter:h.f};g.a=Object(f.combineReducers)({sort:x.a,filter:h.e})},209:function(f,g,h){h.d(g,"b",function(){return E});var x=h(0),u=h(25),E={field:"title",order:"asc"},z={relevance:"desc",title:"asc",created:"desc",
owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};g.a=function(p,m){switch(void 0===p&&(p=E),m.type){case u.a.CHANGE_SORT_FIELD:return Object(x.a)(Object(x.a)({},p),{field:m.payload,order:z[m.payload]});case u.a.CHANGE_SORT_ORDER:return Object(x.a)(Object(x.a)({},p),{order:m.payload});default:return p}}},210:function(f,g,h){h.d(g,"b",function(){return z});f=h(16);var x=h(211),u=h(212),E=h(213);h=h(214);var z={page:x.b,sort:u.b,focus:E.b,filter:h.b};g.a=Object(f.combineReducers)({page:x.a,
sort:u.a,focus:E.a,filter:h.a})},211:function(f,g,h){h.d(g,"b",function(){return E});var x=h(0),u=h(25),E={currentPageNumber:1};g.a=function(z,p){switch(void 0===z&&(z=E),p.type){case u.a.CLEAR_FILTERS:case u.a.UPDATE_USERNAME_FILTER:case u.a.UPDATE_OWNER_FILTER:case u.a.UPDATE_CREATED_ON_FILTER:case u.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(x.a)(Object(x.a)({},z),{currentPageNumber:1});case u.a.SET_PAGE:return Object(x.a)(Object(x.a)({},z),{currentPageNumber:p.payload});case u.a.LOAD_GROUPS_SUCCESS:return Object(x.a)(Object(x.a)({},
z),{currentPageNumber:p.payload.num>p.payload.total?1:Math.ceil(p.payload.start/p.payload.num)});case u.a.LOAD_GROUPS_FAIL:return Object(x.a)(Object(x.a)({},z),{currentPageNumber:1});default:return z}}},212:function(f,g,h){h.d(g,"b",function(){return u});var x=h(25),u=!1;g.a=function(E,z){switch(void 0===E&&(E=u),z.type){case x.a.CHANGE_SORT_FIELD:case x.a.CHANGE_SORT_ORDER:case x.a.TOGGLE_SORT_DROPDOWN:return!E;default:return E}}},213:function(f,g,h){h.d(g,"b",function(){return E});var x=h(0),u=
h(25),E={focusSelectAll:!1};g.a=function(z,p){switch(p.type){case u.a.LOAD_GROUPS_FAIL:case u.a.LOAD_GROUPS_SUCCESS:return Object(x.a)(Object(x.a)({},z),{focusSelectAll:!1});case u.a.CHANGE_SORT_FIELD:case u.a.CHANGE_SORT_ORDER:return Object(x.a)(Object(x.a)({},z),{focusSelectAll:!0});default:return z}}},214:function(f,g,h){h.d(g,"b",function(){return z});var x=h(0),u=h(25),E=h(38),z={expanded:!1};g.a=function(p,m){switch(m.type){case u.a.CLEAR_FILTERS:switch(m.payload){case void 0:case E.a.DATE_CREATED:return Object(x.a)(Object(x.a)({},
p),{dateCreatedSelectedSection:void 0});default:return p}case u.a.TOGGLE_EXPANDED_FILTERS:return Object(x.a)(Object(x.a)({},p),{expanded:!p.expanded});case u.a.UPDATE_CREATED_ON_FILTER:return Object(x.a)(Object(x.a)({},p),{dateCreatedSelectedSection:m.payload.section});default:return p}}},215:function(f,g,h){h.d(g,"b",function(){return u});var x=h(101),u={portal:{},portalUser:{},request:function(E){return null}};g.a=function(E,z){return void 0===E&&(E=u),z.type,E.portal.portalHostname&&!E.portal.baseUrl&&
(E.portal.baseUrl=Object(x.a)(E.portal)),E}},249:function(f,g,h){var x=h(128);g.a=function(u,E){var z=u.group,p=u.stacked,m=u.portal;p={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!z.thumbURI,"gcard-thumbnail--stacked":void 0!==p&&p,"gcard-thumbnail--transparent":u.transparent};if(z.thumbnail&&!z.thumbURI&&m&&(z.thumbURI=Object(x.a)(m,z)),z.thumbURI)return E("img",{src:z.thumbURI,classes:p,alt:z.title});m=!(!z.title.charAt(0)||!z.title.charAt(0).match(/^\w+$/));return E("div",
{key:"group-thumbnail-"+z.id,classes:p},E("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},E("path",{fill:"#"+z.id.substr(z.id.length-6),d:"M0 0h65v65H0z"}),E("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),m?E("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},z.title.slice(0,1).toUpperCase()):E("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(f,g,h){h.d(g,"a",function(){return p});var x;f=h(0);g=h(204);var u=h(68),E=h(175),z=h(83);h=h(192);!function(m){m.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";m.SET_SHARE_MODE="SET_SHARE_MODE";m.SET_USER_TYPE="SET_USER_TYPE"}(x||(x={}));var p=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},g.a),u.a),z.a),x),E.a),h.a)},258:function(f,g){f.exports=t},26:function(f,g,h){var x,u,E,z,p;h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});h.d(g,"c",function(){return E});
h.d(g,"e",function(){return z});h.d(g,"d",function(){return p});(function(m){m.org="org";m["private"]="private";m["public"]="public";m.shared="shared"})(x||(x={}));(function(m){m.LOADING="LOADING";m.SHARE="SHARE";m.GROUP_BROWSER="GROUP_BROWSER";m.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(u||(u={}));(function(m){m.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";m.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";m.REVERT_GROUPS="REVERT_GROUPS";m.EDITABLE_LAYERS="EDITABLE_LAYERS";m.OPEN_GROUP_BROWSER=
"OPEN_GROUP_BROWSER";m.NONE="NONE";m.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";m.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(E||(E={}));(function(m){m.ORG="ORG";m.PUBLIC="PUBLIC"})(z||(z={}));(function(m){m.DEFAULT="DEFAULT";m.ADMIN="ADMIN";m.GROUP="GROUP"})(p||(p={}))},28:function(f,g,h){(function(x,u){f.exports=function(){function E(){var ia=setTimeout;return function(){return ia(z,1)}}function z(){for(var ia=0;ia<D;ia+=2)(0,M[ia])(M[ia+1]),M[ia]=void 0,
M[ia+1]=void 0;D=0}function p(ia,T){var la=this,S=new this.constructor(e);void 0===S[ka]&&C(S);var P=la._state;if(P){var I=arguments[P-1];A(function(){return y(P,S,I,la._result)})}else n(la,S,ia,T);return S}function m(ia){if(ia&&"object"==typeof ia&&ia.constructor===this)return ia;var T=new this(e);return a(T,ia),T}function e(){}function c(ia,T,la){T.constructor===ia.constructor&&la===p&&T.constructor.resolve===m?function(S,P){1===P._state?d(S,P._result):2===P._state?k(S,P._result):n(P,void 0,function(I){return a(S,
I)},function(I){return k(S,I)})}(ia,T):void 0===la?d(ia,T):"function"==typeof la?function(S,P,I){A(function(ba){var W=!1,aa=function(Q,N,R,X){try{Q.call(N,R,X)}catch(Y){return Y}}(I,P,function(Q){W||(W=!0,P!==Q?a(ba,Q):d(ba,Q))},function(Q){W||(W=!0,k(ba,Q))},ba._label);!W&&aa&&(W=!0,k(ba,aa))},S)}(ia,T,la):d(ia,T)}function a(ia,T){if(ia===T)k(ia,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(la=T),null===la||"object"!==S&&"function"!==S)d(ia,T);else{la=void 0;try{la=
T.then}catch(P){return void k(ia,P)}c(ia,T,la)}var la,S}function b(ia){ia._onerror&&ia._onerror(ia._result);q(ia)}function d(ia,T){void 0===ia._state&&(ia._result=T,ia._state=1,0!==ia._subscribers.length&&A(q,ia))}function k(ia,T){void 0===ia._state&&(ia._state=2,ia._result=T,A(b,ia))}function n(ia,T,la,S){var P=ia._subscribers,I=P.length;ia._onerror=null;P[I]=T;P[I+1]=la;P[I+2]=S;0===I&&ia._state&&A(q,ia)}function q(ia){var T=ia._subscribers,la=ia._state;if(0!==T.length){for(var S=void 0,P=void 0,
I=ia._result,ba=0;ba<T.length;ba+=3)S=T[ba],P=T[ba+la],S?y(la,S,P,I):P(I);ia._subscribers.length=0}}function y(ia,T,la,S){var P="function"==typeof la,I=void 0,ba=void 0,W=!0;if(P){try{I=la(S)}catch(aa){W=!1,ba=aa}if(T===I)return void k(T,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==T._state||(P&&W?a(T,I):!1===W?k(T,ba):1===ia?d(T,I):2===ia&&k(T,I))}function C(ia){ia[ka]=ma++;ia._state=void 0;ia._result=void 0;ia._subscribers=[]}var B=Array.isArray?Array.isArray:
function(ia){return"[object Array]"===Object.prototype.toString.call(ia)},D=0,F=void 0,r=void 0,A=function(ia,T){M[D]=ia;M[D+1]=T;2===(D+=2)&&(r?r(z):fa())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var J="undefined"==typeof self&&void 0!==x&&"[object process]"==={}.toString.call(x),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=Array(1E3),K,U,Z,ca,fa=void 0;J?fa=function(){return x.nextTick(z)}:
H?(U=0,Z=new H(z),ca=document.createTextNode(""),Z.observe(ca,{characterData:!0}),fa=function(){ca.data=U=++U%2}):O?((K=new MessageChannel).port1.onmessage=z,fa=function(){return K.port2.postMessage(0)}):fa=void 0===G?function(){try{var ia=Function("return this")().require("vertx");return void 0!==(F=ia.runOnLoop||ia.runOnContext)?function(){F(z)}:E()}catch(T){return E()}}():E();var ka=Math.random().toString(36).substring(2),ma=0,ra=function(){function ia(T,la){this._instanceConstructor=T;this.promise=
new T(e);this.promise[ka]||C(this.promise);B(la)?(this.length=la.length,this._remaining=la.length,this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(la),0===this._remaining&&d(this.promise,this._result))):k(this.promise,Error("Array Methods must be provided an Array"))}return ia.prototype._enumerate=function(T){for(var la=0;void 0===this._state&&la<T.length;la++)this._eachEntry(T[la],la)},ia.prototype._eachEntry=function(T,la){var S=
this._instanceConstructor,P=S.resolve;if(P===m){var I=P=void 0,ba=!1;try{P=T.then}catch(W){ba=!0,I=W}P===p&&void 0!==T._state?this._settledAt(T._state,la,T._result):"function"!=typeof P?(this._remaining--,this._result[la]=T):S===za?(S=new S(e),ba?k(S,I):c(S,T,P),this._willSettleAt(S,la)):this._willSettleAt(new S(function(W){return W(T)}),la)}else this._willSettleAt(P(T),la)},ia.prototype._settledAt=function(T,la,S){var P=this.promise;void 0===P._state&&(this._remaining--,2===T?k(P,S):this._result[la]=
S);0===this._remaining&&d(P,this._result)},ia.prototype._willSettleAt=function(T,la){var S=this;n(T,void 0,function(P){return S._settledAt(1,la,P)},function(P){return S._settledAt(2,la,P)})},ia}(),za=function(){function ia(T){this[ka]=ma++;this._result=this._state=void 0;this._subscribers=[];if(e!==T){if("function"!=typeof T)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ia)(function(la,S){try{S(function(P){a(la,P)},function(P){k(la,
P)})}catch(P){k(la,P)}})(this,T);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ia.prototype["catch"]=function(T){return this.then(null,T)},ia.prototype["finally"]=function(T){var la=this.constructor;return"function"==typeof T?this.then(function(S){return la.resolve(T()).then(function(){return S})},function(S){return la.resolve(T()).then(function(){throw S;})}):this.then(T,T)},ia}();return za.prototype.then=
p,za.all=function(ia){return(new ra(this,ia)).promise},za.race=function(ia){var T=this;return B(ia)?new T(function(la,S){for(var P=ia.length,I=0;I<P;I++)T.resolve(ia[I]).then(la,S)}):new T(function(la,S){return S(new TypeError("You must pass an array to race."))})},za.resolve=m,za.reject=function(ia){var T=new this(e);return k(T,ia),T},za._setScheduler=function(ia){r=ia},za._setAsap=function(ia){A=ia},za._asap=A,za.polyfill=function(){var ia=void 0;if(void 0!==u)ia=u;else if("undefined"!=typeof self)ia=
self;else try{ia=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var T=ia.Promise;if(T){var la=null;try{la=Object.prototype.toString.call(T.resolve())}catch(S){}if("[object Promise]"===la&&!T.cast)return}ia.Promise=za},za.Promise=za,za}()}).call(this,h(189),h(170))},291:function(f,g,h){var x=h(0);f=h(16);var u=h(634);h=function(E){function z(){return null!==E&&E.apply(this,arguments)||this}return Object(x.d)(z,E),z.prototype.render=
function(p){var m=this.props,e=m.items,c=m.text,a=m.title,b=m.portal;m=m.error;return 0<e.length&&p("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":m}},p("h4",{"class":"dependent-items__title"},a.replace("${num}",e.length.toString())),c&&p("p",{"class":"dependent-items__count"},c),p("ul",{"class":"dependent-items__list"},e.map(function(d){return p(u.a,{key:d.id,item:d,portal:b})})))},z}(f.Component);g.a=h},294:function(f,g){f.exports=l},30:function(f,g,h){function x(M){return M.reduce(function(K,
U){return U&&U.relatedItems?K.concat(U.relatedItems.map(function(Z){return Z})):K},[])}function u(M,K,U){return M(K,{query:Object(p.a)({f:"json"},U)}).then(function(Z){return Z.data})}function E(M,K){void 0===K&&(K=100);for(var U=[],Z=0;Z<Math.ceil(M.length/K);Z++)U.push(M.slice(Z*K,(Z+1)*K));return U.filter(function(ca){return 0<ca.length})}function z(M){var K=M.itemIds,U=M.request,Z=M.groupIds,ca=M.portal.restUrl+"/content/itemsgroups";return new m.Promise(function(fa,ka){U(ca,{method:"get",query:{f:"json",
items:K,groups:Z}}).then(function(ma){fa(ma.data)},ka)})}h.d(g,"u",function(){return e});h.d(g,"n",function(){return c});h.d(g,"h",function(){return a});h.d(g,"e",function(){return b});h.d(g,"f",function(){return d});h.d(g,"j",function(){return k});h.d(g,"o",function(){return n});h.d(g,"l",function(){return q});h.d(g,"k",function(){return y});h.d(g,"m",function(){return C});h.d(g,"c",function(){return B});h.d(g,"d",function(){return D});h.d(g,"r",function(){return F});h.d(g,"s",function(){return r});
h.d(g,"t",function(){return A});h.d(g,"g",function(){return G});h.d(g,"p",function(){return H});h.d(g,"q",function(){return J});h.d(g,"v",function(){return u});h.d(g,"a",function(){return E});h.d(g,"i",function(){return z});h.d(g,"b",function(){return O});var p=h(0),m=h(28),e=function(M){return function(K,U){return M({url:K,content:U.query},{usePost:"post"===U.method}).then(function(Z){return{data:Z}})}},c=function(M,K,U){return u(M,K.restUrl+"/portals/self",{culture:U,"default":!0})},a=function(M,
K,U){return u(M,K.restUrl+"/content/items/"+U+"/data")},b=function(M,K,U,Z){return u(M,K.restUrl+"/community/groups",Object(p.a)({q:U},Z))},d=function(M,K,U){return u(M,K.restUrl+"/community/groups/"+U+"/categorySchema")},k=function(M,K,U){return u(M,K.restUrl+"/portals/"+(U||K.id)+"/categorySchema")},n=function(M,K){return u(M,K.restUrl+"/portals/"+K.id+"/servers")},q=function(M,K,U,Z){return M(K.restUrl+"/portals/"+(U||K.id)+"/collaborationsSummary",Z)},y=function(M,K,U,Z){return M(K.restUrl+"/portals/"+
(U||K.id)+"/collaboratedItems",Z)},C=function(M,K,U){return u(M,location.protocol+"//"+K.portalHostname+"/sharing/rest/portals/"+(U||"self"))},B=function(M,K,U){return M(K.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+K.id+" AND access:public",num:100,start:U||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>Z.data.start+Z.data.num?B(M,K,Z.data.start+Z.data.num).then(function(ca){return Object(p.a)(Object(p.a)({},ca),{data:Object(p.a)(Object(p.a)({},ca.data),{results:Z.data.results.concat(ca.data.results)})})}):
Z})},D=function(M,K,U,Z){return M(K.restUrl+"/community/users/"+U+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(ca){var fa=m.Promise.all(ca.data.provisionedListings.filter(function(ma){return ma.itemId}).map(function(ma){return(new m.Promise(function(ra,za){M(K.restUrl+"/content/items/"+ma.itemId,{method:"get",query:{f:"json"}}).then(function(ia){ra(ia.data)},za)}))["catch"](function(ra){return 0})})),ka=ca.data.provisionedListings.map(function(ma){return u(M,K.restUrl+
"/content/items/"+(ma.id||ma.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ra){return ra},function(ra){})});return ca.data.total>ca.data.start+ca.data.num?D(M,K,U,ca.data.start+ca.data.num).then(function(ma){return m.Promise.all([fa].concat(ka)).then(function(ra){return ra[0].results.concat(x(ra.slice(1))).concat(ma)})}):m.Promise.all([fa].concat(ka)).then(function(ma){return ma[0].filter(function(ra){return void 0!==ra}).concat(x(ma.slice(1)))})})},
F=function(M,K,U){return u(M,K.restUrl+"/community/users/"+(U||K.user.username))},r=function(M,K,U){return u(M,K.restUrl+"/content/users/"+(U||K.user.username),{num:1})},A=function(M,K,U){return u(M,K.restUrl+"/content/groups/"+U)},G=function(M,K,U){return u(M,K.restUrl+"/community/groups",U)},H=function(M,K){return u(M,K.restUrl+"/portals/self/settings")},J=function(M,K){return u(M,K.restUrl+"/portals/self/trustedOrgs",{num:100})},O=function(M,K){return void 0===K&&(K=","),M.map(function(U){return U.id}).join(K)}},
312:function(f,g,h){function x(z){return E[z.vnodeSelector]&&(!z.properties||!z.properties.disabled&&-1!==z.properties.tabindex)||z.properties&&z.properties.tabindex&&-1<parseInt(z.properties.tabindex,10)}var u=h(0),E={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};f=function(z){function p(m){m=z.call(this,m)||this;return m.registerFirstFocusable=m.registerFirstFocusable.bind(m),m.registerLastFocusable=m.registerLastFocusable.bind(m),m.handleFocusChange=m.handleFocusChange.bind(m),
m}return Object(u.d)(p,z),p.prototype.render=function(){var m=this.findFirstFocusable(this.props.children),e=this.findLastFocusable(this.props.children);return m&&e&&(m.properties?m.properties.afterCreate=this.registerFirstFocusable:m.properties={afterCreate:this.registerFirstFocusable},e.properties?e.properties.afterCreate=this.registerLastFocusable:e.properties={afterCreate:this.registerLastFocusable}),this.props.children},p.prototype.findFirstFocusable=function(m){if(m)for(var e=0;e<m.length;e++){var c=
m[e];if(x(c)||c.children&&(c=this.findFirstFocusable(c.children)))return c}},p.prototype.findLastFocusable=function(m){if(m)for(var e=m.length-1;0<=e;e--){var c=m[e];if(x(c)||c.children&&(c=this.findLastFocusable(c.children)))return c}},p.prototype.registerFirstFocusable=function(m){this.firstFocusableElement&&this.firstFocusableElement!==m&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);m.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=
m;setTimeout(function(){m&&m.focus()},10)},p.prototype.registerLastFocusable=function(m){this.lastFocusableElement&&this.lastFocusableElement!==m&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=m;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},p.prototype.handleFocusChange=function(m){"Tab"!==m.key&&9!==m.keyCode||(m.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
m.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),m.preventDefault()))},p}(h(16).Component);g.a=f},313:function(f,g,h){h.d(g,"a",function(){return z});var x=h(30),u=h(54),E=h(175),z=function(p,m){var e=m();e=(Object(u.b)(e)?e:e.gbState).utils;Object(x.q)(e.request,e.portal).then(function(c){var a;c=(null===(a=null==c?void 0:c.trustedOrgs)||void 0===a?void 0:a.filter(function(b){return-1<b.from.established&&-1<b.to.established}))||
[];p({type:E.a.TRUSTED_ORGS_LOADED,payload:c})},function(){p({type:E.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(f,g,h){h.d(g,"a",function(){return z});var x=h(30),u=h(54),E=h(28),z=function(p){p=(Object(u.b)(p)?p:p.gbState).utils;var m=p.request,e=p.portal,c=p.portalUser;return new E.Promise(function(a,b){Object(x.r)(m,e,c.username).then(function(d){a(d)},function(){a()})})}},320:function(f,g,h){var x=h(0),u=h(36),E=h(39);f=h(16);var z=h(90);h=function(p){function m(){return null!==p&&p.apply(this,
arguments)||this}return Object(x.d)(m,p),m.prototype.render=function(e){var c=this.props,a=c.onCancel,b=c.title,d=c.onBack;return e("div",{"class":"share-dlg__container-header",key:"share-view-header"},e("h2",{key:"share-view-header-title",id:"modal-title","class":"share-dlg__title"},c.back?e("button",{key:"share-dlg-header-back","class":"share-dlg__back",onclick:d,"aria-label":E.backToShare},e("svg",{viewbox:"0 0 24 24",role:"img"},e("path",{d:z.b})),b):b),e("button",{"class":"mod__overlay__close",
"aria-label":u.close,onclick:a},e("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:z.k}))))},m}(f.Component);g.a=h},335:function(f,g,h){h.d(g,"b",function(){return c});h.d(g,"a",function(){return D});var x=h(0),u=h(28),E=h(30),z=h(78),p=h(61),m=h(194),e=h(26),c=function(A){if(A.depth&&4<A.depth)return u.Promise.resolve([]);switch(A.depth=A.depth?A.depth+1:1,A.item.type){case "Web Map":case "Web Scene":return y(A);case "Web Mapping Application":return b(A);
case "Big Data File Share":return d(A);case "Data Store":return k(A);default:return u.Promise.resolve([])}},a=function(A){var G=A.item,H=A.request,J=A.portal,O=A.iconDir;return G.itemId?new u.Promise(function(M){Object(E.v)(H,J.restUrl+"/content/items/"+G.itemId).then(function(K){0<Object(m.b)([K]).length?Object(m.a)({items:[K],request:H}).then(function(U){K.isUpdateLayer=0<U.length;M(Object(z.a)(J,O,K))},function(){return M(Object(z.a)(J,O,K))}):M(Object(z.a)(J,O,K))},function(){return M(null)})}):
u.Promise.resolve(null)},b=function(A){var G=A.item,H=A.request,J=A.portal,O=A.iconDir;return new u.Promise(function(M){Object(E.v)(H,J.restUrl+"/content/items/"+G.id+"/data").then(function(K){K||M([]);var U=function(Z){var ca,fa,ka,ma,ra,za,ia,T,la,S,P=(null===(ca=null==Z?void 0:Z.map)||void 0===ca?0:ca.itemId)?[Z.map.itemId]:[];ca=null!==(ma=null===(ka=null===(fa=Z.values)||void 0===fa?void 0:fa.itemCollection)||void 0===ka?void 0:ka.map(function(I){return I.id}))&&void 0!==ma?ma:[];fa=null!==(ia=
null===(za=null===(ra=Z.values)||void 0===ra?void 0:ra.webmap)||void 0===za?void 0:za.split(","))&&void 0!==ia?ia:[];Z=null!==(S=null===(la=null===(T=Z.values)||void 0===T?void 0:T.webscene)||void 0===la?void 0:la.split(","))&&void 0!==S?S:[];return Object(x.g)(Object(x.g)(Object(x.g)(Object(x.g)([],P),ca),fa),Z)}(K).map(function(Z){return a({item:{itemId:Z},request:H,portal:J,iconDir:O})});u.Promise.all(U).then(function(Z){var ca=Z.filter(function(fa){return fa});Z=ca.map(function(fa){return c({item:fa,
request:H,portal:J,iconDir:O})});u.Promise.all(Z).then(function(fa){var ka;fa=Object(x.g)(Object(x.g)([],ca),Object(p.b)(fa));(null===(ka=K.values)||void 0===ka?0:ka.group)&&(G.itemData=K,fa.push(G));M(fa)})})})})},d=function(A){var G=A.item,H=A.request,J=A.portal,O=A.iconDir;return new u.Promise(function(M){Object(E.v)(H,J.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(K){if(-1<K.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&
-1<K.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(E.v)(H,J.restUrl+"/content/items/"+K.relatedItems[0].id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(Z){Z.relatedItems.push(K.relatedItems[0]);Z=n(Z.relatedItems,H,J,O);u.Promise.all(Z).then(function(ca){M(ca)})});else{var U=n(K.relatedItems,H,J,O);u.Promise.all(U).then(function(Z){M(Z)})}})})},k=function(A){var G=A.item,H=A.request,J=A.portal,O=A.iconDir;return new u.Promise(function(M){Object(E.v)(H,
J.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(K){K=n(K.relatedItems,H,J,O);u.Promise.all(K).then(function(U){M(U)})})})},n=function(A,G,H,J){return A.map(function(O){return q(O,G,H,J)})},q=function(A,G,H,J){return new u.Promise(function(O){Object(E.v)(G,H.restUrl+"/content/items/"+A.id).then(function(M){O(Object(z.a)(H,J,M))})})},y=function(A){var G=A.item,H=A.request,J=A.portal,O=A.iconDir;return new u.Promise(function(M){return function(K){var U=
K.portal,Z=K.item,ca=K.request;return new u.Promise(function(fa){if(Z.itemData){var ka=Z.itemData,ma=ka.operationalLayers,ra=ka.baseMap,za=ka.tables;ka=ka.ground;return fa(Object(x.g)(Object(x.g)(Object(x.g)(Object(x.g)([],(null==ra?void 0:ra.baseMapLayers)||[]),(null==ka?void 0:ka.layers)||[]),ma||[]),za||[]))}return Object(E.v)(ca,U.restUrl+"/content/items/"+Z.id+"/data").then(function(ia){var T=ia.baseMap,la=ia.tables,S=ia.ground;return fa(Object(x.g)(Object(x.g)(Object(x.g)(Object(x.g)([],ia.operationalLayers||
[]),(null==T?void 0:T.baseMapLayers)||[]),(null==S?void 0:S.layers)||[]),la||[]))},function(){return fa([])})})}({request:H,item:G,portal:J}).then(function(K){u.Promise.all(C(K).map(function(U){return a({item:U,request:H,portal:J,iconDir:O})})).then(M)})})},C=function(A){return A.reduce(function(G,H){return(null==H?0:H.itemId)?G.concat(H):(null==H?0:H.layers)&&"GroupLayer"===H.layerType?G.concat(H.layers):G},[])},B={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,
bdfsDatastore:!1},D=function(A){var G=A.item,H=A.selectedOptions,J=A.selectedGroups,O=A.request;A=A.portal;return F({item:G,selectedOptions:H})?u.Promise.resolve(Object(x.a)(Object(x.a)({},B),{editable:!1,premium:!0})):r({item:G,selectedGroups:J,request:O,portal:A,selectedOptions:H}).then(function(M){var K=M.needsGroupSharingUpdate,U;if(!(U=M.needsShareLevelUpdate)){var Z,ca=!0;Object(p.e)(H)&&(ca=!1);U=Object(p.d)(H);U!==e.b["private"]&&U!==e.b.shared||(ca=!1);var fa=G.access||(null===(Z=G.sharing)||
void 0===Z?void 0:Z.access);U=(fa===e.b["public"]&&(ca=!1),fa===U&&(ca=!1),U===e.b["private"]&&(fa===e.b.shared&&(ca=!1),fa===e.b.org&&(ca=!1)),ca)}return{needsGroupSharingUpdate:K,needsShareLevelUpdate:U,editable:M.editable,premium:!1,groupDependentApplication:M.groupDependentApplication,bdfsDatastore:M.bdfsDatastore}})},F=function(A){var G=A.selectedOptions;A=A.item;return Object(p.e)(G)?!1:Object(p.d)(G)===e.b["public"]?(G=A.typeKeywords,-1<A.owner.toLowerCase().indexOf("esri")&&(-1<(null==G?void 0:
G.indexOf("Requires Credits"))||-1<(null==G?void 0:G.indexOf("Requires Subscription")))):!1},r=function(A){var G=A.item,H=A.selectedGroups,J=A.selectedOptions,O=A.request,M=A.portal;return new u.Promise(function(K,U){var Z,ca;"Web Mapping Application"===G.type&&(null===(ca=null===(Z=G.itemData)||void 0===Z?void 0:Z.values)||void 0===ca?0:ca.group)?K(Object(x.a)(Object(x.a)({},B),{groupDependentApplication:!0})):"Data Store"!==G.type?Object(E.v)(O,M.restUrl+"/content/users/"+G.owner+(G.ownerFolder?
"/"+G.ownerFolder:"")+"/items/"+(G.itemId||G.id)).then(function(fa){var ka,ma=fa.item.itemControl,ra=fa.sharing.groups;fa=G.access||(null===(ka=G.sharing)||void 0===ka?void 0:ka.access);Object(p.f)(G)&&J.total===J["public"]?K(Object(x.a)(Object(x.a)({},B),{needsShareLevelUpdate:!0,editable:!1})):ma&&"admin"!==ma&&"update"!==ma?K(Object(x.a)(Object(x.a)({},B),{editable:!1})):fa!==e.b["public"]?H.length>ra.length?K(Object(x.a)(Object(x.a)({},B),{needsGroupSharingUpdate:!0})):(ka=H.some(function(za){return 0>
ra.indexOf(za.id)}),K(Object(x.a)(Object(x.a)({},B),{needsGroupSharingUpdate:ka}))):K(Object(x.a)({},B))},function(fa){Object(E.v)(O,M.restUrl+"/content/items/"+(G.itemId||G.id)).then(function(ka){ka=ka.access;ka===e.b["public"]||ka===e.b.org&&J.total===J.org+J["private"]?K(Object(x.a)(Object(x.a)({},B),{editable:!1})):K(Object(x.a)(Object(x.a)({},B),{needsShareLevelUpdate:!0,editable:!1}))},function(ka){K(Object(x.a)(Object(x.a)({},B),{needsShareLevelUpdate:!0,editable:!1}))})}):K(Object(x.a)(Object(x.a)({},
B),{bdfsDatastore:!0}))})}},36:function(f,g){f.exports=L},379:function(f,g,h){function x(z,p){var m=z.filter(function(e){var c;return!e.success&&500===(null===(c=null==e?void 0:e.error)||void 0===c?void 0:c.code)}).map(function(e){var c=Object(E.c)(p,function(a){return a.id===e.itemId});return(null==c?void 0:c.title)||e.itemId});return z.map(function(e){e.error=e.error||{};var c=e.error,a=c.messageCode;c=c.code;return a&&u.errors[a]&&(e.error.message=u.errors[a]),c&&u.errors[c]&&(e.error.message=
u.errors[c]),(500===a||500===c&&m)&&(e.error.details=m,e.error.message=u.errors[500]+" "+(null==m?void 0:m.join(", "))),e}).filter(function(e){return!e.success})}h.d(g,"a",function(){return x});var u=h(39),E=h(99)},38:function(f,g,h){h.d(g,"b",function(){return x});h.d(g,"d",function(){return E});h.d(g,"c",function(){return z});h.d(g,"a",function(){return p});h.d(g,"f",function(){return c});var x,u,E,z,p,m=h(0),e=h(25);!function(a){a.openData="openData";a.updateGroups="updateGroups";a.distributed=
"distributed";a.administrative="administrative";a.orgSettings="orgSettings"}(x||(x={}));(u||(u={})).owner="owner";(function(a){a.itemOwner="itemOwner";a.inOrg="inOrg";a.outsideOrg="outsideOrg"})(E||(E={}));(function(a){a.myOrg="org";a.partnered="collaboration";a.anyOrg="anyOrg"})(z||(z={}));(function(a){a.USER="USER";a.OWNER="OWNER";a.DESIGNATION="DESIGNATION";a.DATE_CREATED="DATE_CREATED";a.MEMBERSHIP="MEMBERSHIP"})(p||(p={}));var c={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};
g.e=function(a,b){switch(void 0===a&&(a=c),b.type){case e.a.CLEAR_FILTERS:switch(b.payload){case p.DESIGNATION:return Object(m.a)(Object(m.a)({},a),{designationFilter:void 0});case p.DATE_CREATED:return Object(m.a)(Object(m.a)({},a),{dateCreatedFilter:void 0});case p.OWNER:return Object(m.a)(Object(m.a)({},a),{ownerFilter:void 0});case p.USER:return a;case p.MEMBERSHIP:return Object(m.a)(Object(m.a)({},a),{membershipFilter:void 0});default:return Object(m.a)(Object(m.a)({},a),{designationFilter:void 0,
dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case e.a.UPDATE_OWNER_FILTER:return Object(m.a)(Object(m.a)({},a),{ownerFilter:b.payload===a.ownerFilter?void 0:b.payload});case e.a.UPDATE_USERNAME_FILTER:return Object(m.a)(Object(m.a)({},a),{currentUsername:b.payload});case e.a.UPDATE_CREATED_ON_FILTER:return Object(m.a)(Object(m.a)({},a),{dateCreatedFilter:b.payload.created});case e.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(m.a)(Object(m.a)({},a),{designationFilter:b.payload===
a.designationFilter?void 0:b.payload});case e.a.UPDATE_MEMBERSHIP_FILTER:return Object(m.a)(Object(m.a)({},a),{membershipFilter:b.payload===a.membershipFilter?void 0:b.payload});case e.a.SET_USERS:return Object(m.a)(Object(m.a)({},a),{allUsers:b.payload.reduce(function(d,k){var n;return Object(m.a)(Object(m.a)({},d),((n={})[k.username]=k,n))},{})});case e.a.SET_SEARCH_STRING:return Object(m.a)(Object(m.a)({},a),{searchString:b.payload});default:return a}}},39:function(f,g){f.exports=v},422:function(f,
g,h){var x,u=h(0);f=h(39);var E=h(16),z=h(629),p=h(139),m=h(26);h=function(c){function a(){var b=null!==c&&c.apply(this,arguments)||this;return b.handleKeyUp=function(d){"Escape"===d.key&&b.props.handleSecondaryClick()},b}return Object(u.d)(a,c),a.prototype.render=function(b){var d=this,k=this.props,n=k.handleSecondaryClick,q=k.handlePrimaryClick,y=k.text;if(k.dialogExists&&y)return b("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",d.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",
d.handleKeyUp)}},b(z.a,{key:"share-mini-dlg__component",isError:null==y?void 0:y.isError,render:function(){return b("div",{key:"share-mini-dlg","class":"share-mini-dlg"},b("h2",{"class":"share-mini-dlg__title"},y.title),b("p",{"class":"share-mini-dlg__body"},y.body),b("div",{"class":"share-mini-dlg__buttons"},y.secondaryButton&&b("button",{appearance:"outline",onclick:n,id:"share-mini-dlg-secondary","class":"share-dlg__button--secondary share-mini-dlg__cancel-button"},y.secondaryButton),b("button",
{onclick:q,id:"share-mini-dlg-primary","class":"share-dlg__button--primary share-mini-dlg__remove-button"},y.primaryButton)))}}))},a}(E.Component);g.a=Object(E.connect)(function(c){c=c.resources.currentMiniDlg;return{text:e[c],dialogExists:c!==m.c.NONE}},function(c){return{handleSecondaryClick:function(){c(Object(p.k)(m.c.NONE));c(Object(p.j)(m.a.SHARE))},handlePrimaryClick:function(){c(p.h)}}})(h);var e=((x={})[m.c.OPEN_GROUP_BROWSER]={title:f.MiniDlg.changeShareLevelTitle,body:f.MiniDlg.changeShareLevelBody,
primaryButton:f.update,secondaryButton:f.cancel},x[m.c.SET_SHARE_TO_PRIVATE]={title:f.MiniDlg.setShareToPrivateTitle,body:f.MiniDlg.setShareToPrivateBody,primaryButton:f.update,secondaryButton:f.cancel},x[m.c.REVERT_SHARE_LEVEL]={title:f.MiniDlg.revertShareLevelTitle,body:f.MiniDlg.revertShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},x[m.c.REVERT_GROUPS]={title:f.MiniDlg.revertGroupsTitle,body:f.MiniDlg.revertGroupsBody,primaryButton:f.update,secondaryButton:f.cancel},x[m.c.EDITABLE_LAYERS]=
{title:f.MiniDlg.editableLayersTitle,body:f.MiniDlg.editableLayersBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},x[m.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:f.MiniDlg.publicDataCollectionEnabledTitle,body:f.MiniDlg.publicDataCollectionEnabledBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},x[m.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:f.MiniDlg.publicDataCollectionDisabledTitle,body:f.MiniDlg.publicDataCollectionDisabledBody,primaryButton:f.ok,isError:!0},x)},440:function(f,
g,h){h.d(g,"a",function(){return E});h.d(g,"b",function(){return z});f=h(495);g=h(496);var x=h(54),u=h(497);h=h(16);x.a.ui.filter.expanded=860<window.innerWidth;var E={resources:f.b,utilities:g.b,gbState:x.a,config:u.b},z=Object(h.combineReducers)({resources:f.a,utilities:g.a,gbState:x.c,config:u.a})},495:function(f,g,h){function x(c){var a=Object(E.a)(Object(E.a)({},m),{total:c.length});return c.forEach(function(b){switch(b.access?b.access:b.sharing&&b.sharing.access){case p.b["public"]:a[p.b["public"]]++;
break;case p.b.org:a[p.b.org]++;break;case p.b.shared:case p.b["private"]:a[p.b["private"]]++}}),a}h.d(g,"b",function(){return e});var u,E=h(0),z=h(139),p=h(26),m=((u={total:0})[p.b["private"]]=0,u[p.b.org]=0,u[p.b["public"]]=0,u),e={items:[],portalUser:{},selectedOptions:Object(E.a)({},m),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[],
needBDFSDatastoreUpdate:[]},currentMiniDlg:p.c.NONE,isLoading:!1};g.a=function(c,a){var b;switch(void 0===c&&(c=e),a.type){case z.a.SET_HELP_MAP:return Object(E.a)(Object(E.a)({},c),{helpMap:a.payload});case z.a.SET_SELECTED_SHARE_LEVEL:var d=c.selectedOptions.total,k=Object(E.a)(Object(E.a)(Object(E.a)({},m),((b={})[a.payload]=d,b)),{total:d}),n=x(c.items);b=!Object.keys(k).reduce(function(q,y){return q&&k[y]===n[y]},!0);return Object(E.a)(Object(E.a)({},c),{selectedOptions:k,selectedOptionsDirty:b});
case z.a.SET_INITIAL_SHARE_LEVEL:return Object(E.a)(Object(E.a)({},c),{selectedOptions:x(c.items),selectedOptionsDirty:!1});case z.a.SET_DEPENDENT_ITEMS:return Object(E.a)(Object(E.a)({},c),{dependentItems:a.payload});case z.a.SET_MINI_DIALOG:return Object(E.a)(Object(E.a)({},c),{currentMiniDlg:a.payload});default:return c}}},496:function(f,g,h){h.d(g,"b",function(){return x});var x={onCancel:function(){return null},onComplete:function(){return null},request:function(u){return null},portal:{},iconDir:""};
g.a=function(u,E){return void 0===u&&(u=x),E.type,u}},497:function(f,g,h){h.d(g,"b",function(){return E});var x=h(0),u=h(139);f=h(26);var E={groupsPerPage:10,currentView:f.a.LOADING,shareMode:f.d.DEFAULT,userType:f.e.ORG};g.a=function(z,p){switch(void 0===z&&(z=E),p.type){case u.a.SET_CURRENT_VIEW:return Object(x.a)(Object(x.a)({},z),{currentView:p.payload});case u.a.SET_SHARE_MODE:return Object(x.a)(Object(x.a)({},z),{shareMode:p.payload});case u.a.SET_USER_TYPE:return Object(x.a)(Object(x.a)({},
z),{userType:p.payload});default:return z}}},5:function(f,g,h){function x(a){return 0===Object.keys(a).length&&a.constructor===Object}function u(a){return null!=a}function E(a,b){return e.apply(null,arguments)}function z(a,b){return c.apply(null,arguments)}h.d(g,"b",function(){return x});h.d(g,"a",function(){return u});h.d(g,"e",function(){return m});h.d(g,"c",function(){return E});h.d(g,"d",function(){return z});var p=h(0);f=h(15);var m=Object(f.a)(function(a,b){var d=Object(p.a)({},b);return delete d[a],
d}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(d,k){return d[k]=a(b[k],k,b),d},{})}),c=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(d,k){return a(b[k],k,b)&&(d[k]=b[k]),d},{})})},51:function(f,g,h){function x(r){return!(!r.urlKey||!r.customBaseUrl)}function u(r){return r.role===k.admin||r.role===k.accountAdmin}function E(r){return Object(y.a)(r.roleId)&&0<(r.roleId||"").length}function z(r){return!E(r)||E(r)&&-1<(r.privileges||[]).indexOf("portal:admin:viewItems")}
function p(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToOrg")}function m(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToGroup")}function e(r){return-1<(r.privileges||[]).indexOf("portal:user:shareToPublic")}function c(r,A){return a(r)||b(r)||A.canSharePublic&&d(r)}function a(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToOrg")}function d(r){return-1<(r.privileges||[]).indexOf("portal:admin:shareToPublic")}
h.d(g,"l",function(){return B});h.d(g,"h",function(){return D});h.d(g,"m",function(){return F});h.d(g,"k",function(){return x});h.d(g,"i",function(){return u});h.d(g,"j",function(){return E});h.d(g,"g",function(){return z});h.d(g,"b",function(){return p});h.d(g,"a",function(){return m});h.d(g,"c",function(){return e});h.d(g,"d",function(){return a});h.d(g,"e",function(){return b});h.d(g,"f",function(){return d});var k,n=h(63),q=h(148),y=h(5),C=h(58);!function(r){r.user="org_user";r.accountUser="account_user";
r.publisher="org_publisher";r.accountPublisher="account_publisher";r.admin="org_admin";r.accountAdmin="account_admin";r.viewer="iAAAAAAAAAAAAAAA";r.dataEditor="iBBBBBBBBBBBBBBB"}(k||(k={}));var B=function(r){var A=r.items;return!!r.user.orgId&&A.every(function(G){return G.isOrgItem})},D=function(r){var A=r.items,G=r.user,H=r.portal;r=A[0];var J=Object(C.c)(r,G),O=E(G),M=c(G,H);if(O=Object(C.a)(r,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!O)O=!x(H)||m(G)||p(G)||H.canSharePublic&&
e(G)||c(G,H);H=O;return!(r.portal.isPortal&&r.owner!==G.username&&-1<r.owner.indexOf("esri_"))&&(J||H||B({items:A,user:G})&&M)},F=function(r,A){return Object(n.a)(Object(q.a)(r))(A)}},54:function(f,g,h){h.d(g,"b",function(){return z});h.d(g,"a",function(){return p});h.d(g,"c",function(){return m});f=h(16);g=h(215);var x=h(208),u=h(137),E=h(210);h=h(207);var z=function(e){return!e.gbState},p={config:h.b,parameters:x.b,groups:u.f,ui:E.b,utils:g.b},m=Object(f.combineReducers)({config:h.a,parameters:x.a,
groups:u.b,ui:E.a,utils:g.a})},58:function(f,g,h){function x(e,c){return(null==e?void 0:e.owner)===c.username}function u(e,c){var a;if(!(a=x(e,c)))if(Object(z.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!x(e,c)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function E(e,c){return u(e,c)||"update"===e.itemControl}h.d(g,"d",function(){return x});h.d(g,"c",function(){return u});h.d(g,
"a",function(){return E});h.d(g,"b",function(){return m});var z=h(5),p=h(51),m=function(e){var c=e.user,a=e.items;e=e.portal;return Object(p.l)({items:a,user:c})&&Object(p.h)({items:a,user:c,portal:e})&&Object(p.g)(c)&&a[0].itemOwner||c}},61:function(f,g,h){function x(D){var F=D.groupIds,r=D.shareLevelOptions,A=D.restUrl,G=D.request,H=D.unshare;return m.Promise.all(D.items.map(function(J,O){return new m.Promise(function(M,K){G(A+"/content/items/"+(J.itemId||J.id)+"/"+(H?"unshare":"share"),{method:"post",
query:Object(z.a)({f:"json",groups:F,confirmItemControl:!0},r||{})}).then(M,K)})}))["catch"](function(J){throw J;})}function u(D,F){return new m.Promise(function(r,A){var G,H=null===(G=D.helpMap)||void 0===G?void 0:G.m;H?r(H):F(D.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(J){var O;r(null===(O=J.data.helpMap)||void 0===O?void 0:O.m)},A)})}h.d(g,"h",function(){return c});h.d(g,"g",function(){return a});h.d(g,"b",function(){return b});h.d(g,"e",function(){return d});h.d(g,
"d",function(){return k});h.d(g,"f",function(){return C});h.d(g,"c",function(){return B});h.d(g,"a",function(){return u});var E,z=h(0),p=h(30),m=h(28);f=h(26);var e=h(58),c=function(D){var F=D.items,r=D.groups,A=D.restUrl,G=D.request,H=D.portalUser;if(0===F.length)return m.Promise.resolve();var J=Object(p.b)(r);return F.every(function(O){return Object(e.d)(O,H)})?new m.Promise(function(O,M){if(!r||0===r.length)return O();var K={f:"json",items:Object(p.b)(F),groups:J};G(A+"/content/users/"+H.username+
"/unshareItems",{method:"post",query:K}).then(O,M)}):x({items:F,groupIds:J,restUrl:A,request:G,unshare:!0})},a=function(D){var F=D.items,r=D.groups,A=D.restUrl,G=D.request,H=D.portalUser,J=D.selectedOptions;D=D.ignoreShareLevel;if(0===F.length)return m.Promise.resolve();if(!D&&!J)throw"Selected options must be provided unless share level is ignored.";var O=Object(p.b)(r),M=D?{}:n(J);return F.every(function(K){return Object(e.d)(K,H)})?new m.Promise(function(K,U){G(A+"/content/users/"+H.username+"/shareItems",
{method:"post",query:Object(z.a)({f:"json",items:Object(p.b)(F),groups:O,confirmItemControl:!0},M)}).then(function(Z){Z=Z.data;Z.results.every(function(ca){return ca.success})?K():U(Z)},U)}):x({items:F,groupIds:O,shareLevelOptions:M,restUrl:A,request:G})},b=function(D){return D.reduce(function(F,r){return Object(z.g)(Object(z.g)([],F),r)},[])},d=function(D){return 1<Object.keys(D).filter(function(F){return"total"!==F&&0<D[F]}).length},k=function(D){return Object.keys(D).filter(function(F){return"total"!==
F}).reduce(function(F,r){return D[r]===D.total?r:F})},n=function(D){return d(D)?{}:q[k(D)]},q=((E={})[f.b["public"]]={org:!1,everyone:!0},E[f.b.org]={org:!0,everyone:!1},E[f.b["private"]]={org:!1,everyone:!1},E[f.b.shared]={org:!1,everyone:!1},E),y="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),C=function(D){var F,r,A=D.typeKeywords,G=D.type;
G=y.some(function(J){return-1<A.indexOf(J)})&&"Real Time Analytic"!==G&&"Big Data Analytic"!==G;var H=!(null===(F=null==D?void 0:D.portal)||void 0===F?0:F.isPortal)&&"Image Service"===D.type&&-1<(null===(r=D.url)||void 0===r?void 0:r.indexOf("://iservices"))&&-1<D.url.indexOf("arcgis.com");D="Knowledge Graph"===D.type;return G||H||D},B=function(D,F,r){return r&&F["public"]===F.total?D.filter(function(A){return-1<A.typeKeywords.indexOf("DeveloperBasemap")}):[]}},623:function(f,g,h){h.d(g,"a",function(){return z});
var x;f=h(624);g=h(631);var u=h(632),E=h(630);h=h(26);var z=((x={})[h.a.SHARE]=f.a,x[h.a.LOADING]=E.a,x[h.a.GROUP_BROWSER]=g.a,x[h.a.DEPENDENT_ITEM_CONFIRMATION]=u.a,x)},624:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(320),z=h(625),p=h(139),m=h(422),e=h(26);h=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return Object(x.d)(a,c),a.prototype.render=function(b){var d=this.props,k=d.miniDialogOpen,n=d.onCancel,q=d.attemptToSaveShareState;return[b(E.a,{key:"share-dlg-header",
onCancel:n,title:u.share}),b("div",{key:"share-view-content","class":"share-dlg__contents"},b(z.a,{key:"share-dialog"}),b(m.a,{key:"share-mini-dlg"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:k,onclick:function(){q()}},u.save),b("button",{"class":"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:k,onclick:n},u.cancel))]},a}(f.Component);
g.a=Object(f.connect)(function(c){return{miniDialogOpen:c.resources.currentMiniDlg!==e.c.NONE,onCancel:c.utilities.onCancel}},function(c){return{attemptToSaveShareState:function(){c(p.d)}}})(h)},625:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(90),z=h(626),p=h(628),m=h(139);h=function(e){function c(){return null!==e&&e.apply(this,arguments)||this}return Object(x.d)(c,e),c.prototype.render=function(a){var b=this.props,d=b.portal,k=b.resetShareLevel;b=b.selectedOptionsDirty;return a("div",{"class":"share-level__wrap",
key:"share-level__wrap"},a("div",{"class":"share-dlg__header",key:"share-dlg__header"},a("h3",{id:"share-options-title","class":"share-options__title"},u.ShareDialog.setSharingLevel),b&&a("button",{onclick:k,"class":"btn-svg share-options__reset share-dlg__btn-svg"},a("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:E.g})),u.ShareOptions.revert)),a(z.a,{key:"share-options"}),a("hr",{"class":"share-dlg__divider"}),a(p.a,{key:"share-groups-section",
portal:d}))},c}(f.Component);g.a=Object(f.connect)(function(e){return{portal:e.utilities.portal,selectedOptionsDirty:e.resources.selectedOptionsDirty}},function(e){return{resetShareLevel:function(){e(m.e)}}})(h)},626:function(f,g,h){var x,u=h(0),E=h(39);f=h(16);var z=h(26),p=h(627),m=h(139),e=h(51),c=h(61);h=function(n){function q(){return null!==n&&n.apply(this,arguments)||this}return Object(u.d)(q,n),q.prototype.render=function(y){var C=this.props,B=C.handleOptionClick,D=C.selectedOptions,F=C.availableShareLevels,
r=C.showOptions,A=C.userType,G=C.possibleShareLevels,H=C.items;return y("fieldset",{"class":"share-options"},r&&G.map(function(J){var O=z.b[J];J=Object(c.f)(H[0])?E.ShareDialog.sharingLimitedItemDisclaimer:E.ShareDialog.cannotShareToLevelDisclaimer;return y(p.a,{key:O,level:O,handleLevelClick:function(){B(O)},disabledText:J,total:D.total,count:D[O],userType:A,disabled:-1===F.indexOf(O)})}),r&&F.length<G.length&&!Object(c.f)(H[0])&&y("p",{key:"share-options__disclaimer--limited","class":"share-options__disclaimer"},
E.ShareDialog.sharingLimitedDisclaimer),!r&&y("p",{key:"share-options__disclaimer--none","class":"share-options__disclaimer"},E.ShareDialog.noShareDisclaimer))},q}(f.Component);g.a=Object(f.connect)(function(n){var q=n.resources,y=q.portalUser,C=q.items;q=q.selectedOptions;var B=n.config,D=B.userType,F={user:y,items:C,userType:D};B=B.shareMode!==z.d.GROUP;n=d({portal:n.utilities.portal,portalUser:y,selectedOptions:q,userType:D});return{selectedOptions:q,showOptions:B,userType:D,availableShareLevels:n.filter(function(r){return k[r](F)}),
possibleShareLevels:n,items:C}},function(n){return{handleOptionClick:function(q){n(Object(m.f)(q))}}})(h);var a=function(n,q){return q.every(function(y){return y.owner===n.username})},b=function(n,q){return q.every(function(y){return y.owner===n.username||y.portal.id===(null==n?void 0:n.orgId)})},d=function(n){var q=n.portal,y=n.portalUser,C=n.selectedOptions;return n.userType===z.e.PUBLIC?[z.b["private"],z.b["public"]]:q.canSharePublic||0!==C["public"]||Object(e.i)(y)?[z.b["private"],z.b.org,z.b["public"]]:
[z.b["private"],z.b.org]},k=((x={})[z.b["private"]]=function(n){return!0},x[z.b.org]=function(n){var q=n.user,y=n.items;if(n.userType===z.e.PUBLIC)return!1;n=a(q,y);var C=b(q,y);y=Object(e.i)(q)&&!Object(e.j)(q)&&b(q,y);return Object(e.b)(q)&&(n||y)||Object(e.e)(q)&&C},x[z.b["public"]]=function(n){var q=n.user,y=n.items;n=n.userType;if(1===y.length&&Object(c.f)(y[0]))return!1;var C=a(q,y);y=b(q,y);var B=Object(e.i)(q)&&!Object(e.j)(q)&&y;return n===z.e.PUBLIC||Object(e.c)(q)&&(C||B)||Object(e.f)(q)&&
y},x)},627:function(f,g,h){var x,u,E=h(0),z=h(39);f=h(16);var p=h(90),m=h(26);h=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}return Object(E.d)(d,b),d.prototype.render=function(k){var n=this.props,q=n.level,y=n.count,C=n.total,B=n.handleLevelClick,D=n.disabled,F=n.disabledText,r=a[q],A=r.description;r=r.title;n.userType===m.e.PUBLIC&&q===m.b["public"]&&(A=z.ShareDialog.everyoneDescriptionPublic);n=y===C;var G=0<y&&!n,H=e(z.ShareOptions[q],y,C);y=e(z.ShareOptions.numItems,
y,C);return k("label",{key:r,id:"share-level-"+q,classes:{"share-options__label":!0,"share-options__label--selected":n,"share-options__label--indeterminate":G,"share-options__label--disabled":D},"aria-label":D&&F?F:void 0},k("input",{type:"radio",name:"sharing-type",key:r,"class":"share-options__input",checked:n,disabled:D,indeterminate:G,onclick:function(J){J.preventDefault();D||B()}}),k("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",
role:"img"},k("path",{d:c[q]})),k("span",{"class":"share-options__content"},k("h4",{"class":"share-options__header"},r,G&&k("span",{"class":"share-options__indeterminate-text","aria-label":D?void 0:H},k("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},k("path",{d:p.d})),
k("span",null,y))),k("p",{"class":"share-options__description"},A)))},d}(f.Component);g.a=h;var e=function(b,d,k){return void 0===b&&(b=""),b.replace("${num}",""+d).replace("${total}",""+k)},c=((x={})[m.b["public"]]=p.c,x[m.b.org]=p.e,x[m.b["private"]]=p.h,x[m.b.shared]=p.h,x),a=((u={})[m.b["private"]]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},u[m.b.shared]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},u[m.b.org]={title:z.ShareDialog.organization,
description:z.ShareDialog.organizationDescription},u[m.b["public"]]={title:z.ShareDialog.everyone,description:z.ShareDialog.everyoneDescription},u)},628:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(249),z=h(90),p=h(139),m=h(51),e=h(181),c=h(68);h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Object(x.d)(b,a),b.prototype.render=function(d){var k=this.props,n=k.selectedGroupsDatas,q=k.portal,y=k.handleRemoveGroupsClick,C=k.handleRevertGroupsClick,B=k.handleEditGroupSharingClick,
D=k.groupSharingMixed,F=k.hasGroups,r=k.groupsDirty,A=k.canShareItemToGroup;k=k.selectorItemsLength;return d("div",{"class":"share-groups"},d("h3",{"class":"share-groups__header"},u.groups.setGroupSharing,A&&0<n.length&&!r&&d("button",{"class":"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:y,"aria-haspopup":"true"},d("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},d("path",{d:z.k})),u.groups.remove),r&&
d("button",{onclick:C,"class":"btn-svg share-options__reset share-dlg__btn-svg"},d("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},d("path",{d:z.g})),u.ShareOptions.revert)),d("div",{"class":"share-groups__body"},0<n.length?this.getGroupIcons({needsWarning:D,groupDatas:n,portal:q,selectorItemsLength:k,tsx:d}):d("p",{"class":"share-groups__empty"},F?u.groups.noneYet:u.groups.noGroupsToShare),F&&A&&d("button",{onclick:B,id:"edit-group-sharing-button",
"class":"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},d("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},d("path",{d:z.i})),u.groups.editGroupSharing)))},b.prototype.getGroupIcons=function(d){var k=d.groupDatas,n=d.portal,q=d.tsx,y=d.needsWarning,C=d.selectorItemsLength;d=Math.max(k.length-3,0);return q("div",null,q("div",{key:"group-thumbnails","class":"share-groups__thumbnails"},k.slice(0,3).map(function(B){return q(E.a,
{transparent:B.selectedByIds&&B.selectedByIds.length!==C,group:B.group,stacked:!0,portal:n})}),0<d&&q("span",{"class":"share-groups__plus"},"+"+d)),y&&q("p",{"class":"share-groups__empty"},u.groups.mixedGroupSharing))},b}(f.Component);g.a=Object(f.connect)(function(a){var b,d,k=a.utilities.portal,n=a.resources.portalUser,q=a.gbState.groups,y=q.selectedGroups,C=q.initialSelectedGroups;a=q.selectorItems;q=q.hasGroups;var B=Object.keys(y).map(function(r){return y[r]}).sort(function(r,A){return r.selectedByIds&&
A.selectedByIds?A.selectedByIds.length-r.selectedByIds.length:0}),D=B[B.length-1];D=(D&&D.selectedByIds&&D.selectedByIds.length||0)<(a&&a.length||0);k=!Object(m.k)(k)||Object(m.a)(n)||Object(m.d)(n)&&(b=n.username,d=n.orgId,Object.keys(y).every(function(r){r=y[r].group;var A=d&&d===(null==r?void 0:r.orgId);return b===(null==r?void 0:r.owner)||A}));n=Object.keys(y).length;var F=Object.keys(C);n=F.length!==n||F.reduce(function(r,A){return r||!y[A]||Object(e.a)({selectedBy:(y[A].selectedByIds||[]).map(function(G){return{id:G}}),
initialSelectedByIds:C[A].selectedByIds||[]})},!1);return{selectedGroupsDatas:B,groupSharingMixed:D,hasGroups:q,canShareItemToGroup:k,selectorItemsLength:a.length,groupsDirty:n}},function(a){return{handleRemoveGroupsClick:function(){a({type:c.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){a(p.c)},handleEditGroupSharingClick:function(){a(p.b)}}})(h)},629:function(f,g,h){var x=h(312);g.a=function(u,E){var z=u.render;return E("div",{"class":"mini-dlg__wrapper",key:"mini-dlg__wrapper"},E("div",
{classes:{"mini-dlg":!0,"min-dlg--error":!!u.isError}},E(x.a,{key:"mini-dlg-trap"},z())),E("div",{"class":"mini-dlg__scrim"}))}},63:function(f,g,h){function x(){for(var u=[],E=0;E<arguments.length;E++)u[E]=arguments[E];return function(z){return u.reduceRight(function(p,m){return m(p)},z)}}h.d(g,"a",function(){return x})},630:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(320),z=h(205),p=h.n(z),m=h(422);h=function(e){function c(){return null!==e&&e.apply(this,arguments)||this}return Object(x.d)(c,
e),c.prototype.render=function(a){return[a(E.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:u.share}),a("div",{key:"loading-view-content","class":"share-dlg__contents share-loader__container"},a(p.a,{key:"share-loader",text:u.loading}),a(m.a,{key:"share-mini-dlg"})),a("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},a("button",{"class":"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},u.update),a("button",
{"class":"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},u.cancel))]},c}(f.Component);g.a=Object(f.connect)(function(e){return{handleCancelClick:e.utilities.onCancel}},function(e){return{}})(h)},631:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(139),z=h(258),p=h.n(z),m=h(320),e=h(26);h=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return Object(x.d)(a,c),a.prototype.render=function(b){return[b(m.a,
{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:u.groupSharing}),b("div",{key:"group-browser-view-content-gb","class":"share-dlg__contents share-dlg__contents--wide"},b(p.a,{key:"share-group-browser"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},u.ok))]},a}(f.Component);
g.a=Object(f.connect)(function(c){return{onCancel:c.utilities.onCancel}},function(c){return{closeGroupBrowser:function(){c(Object(E.j)(e.a.SHARE))}}})(h)},632:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(320),z=h(633),p=h(139);h=function(m){function e(c){c=m.call(this,c)||this;return c.state={loading:!1},c}return Object(x.d)(e,m),e.prototype.render=function(c){var a=this,b=this.props,d=b.handlePrimaryClick,k=b.handleCancelClick;b=b.updatable;var n=this.state.loading;return[c(E.a,{key:"share-dlg-header-loading",
onCancel:k,title:u.DependentItems.updateSharing}),c("div",{key:"dependent-item-view-content","class":"share-dlg__contents"},c(z.a,{key:"dependent-items"})),c("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},c("button",{"class":"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:n,onclick:function(){a.setState({loading:!0});d()}},b?u.update:u.ok),b&&c("button",{"class":"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",
onclick:k},u.cancel))]},e}(f.Component);g.a=Object(f.connect)(function(m){var e=m.utilities;m=m.resources;var c=m.dependentItems,a=c.needShareLevelUpdate,b=c.needGroupSharingUpdate,d=c.needEditableWarning,k=m.selectedOptions;return{updatable:0<Object(x.g)(Object(x.g)(Object(x.g)(Object(x.g)([],c.needBDFSDatastoreUpdate),a),b),d).length,handleCancelClick:function(){e.onComplete({selectedOptions:k})}}},function(m){return{handlePrimaryClick:function(){m(p.i)}}})(h)},633:function(f,g,h){var x=h(0),u=
h(39);f=h(16);var E=h(291),z=h(61);h=function(p){function m(){return null!==p&&p.apply(this,arguments)||this}return Object(x.d)(m,p),m.prototype.render=function(e){var c=this.props,a=c.dependentItems,b=a.needGroupSharingUpdate,d=a.notEditable,k=a.premium,n=a.needEditableWarning,q=a.needPubliclyEditableWarning,y=a.needDataCollectionEnabled,C=a.needGroupDependentApplicationWarning,B=a.needBDFSDatastoreUpdate,D=c.portal,F=c.items,r=c.helpMap;c=c.authenticatedItems;a=Object(x.g)(Object(x.g)([],a.needShareLevelUpdate),
b);var A=a.map(function(G){return G.id});a=a.filter(function(G,H){return A.indexOf(G.id)===H});b=1===F.length&&"Web Map"===F[0].type;F=u.DependentItems[b?"premiumItemsWebMap":"premiumItems"];r=r&&e("a",{href:""+D.helpBase+r[120001307]},u.DependentItems[b?"premiumTextMap":"premiumText"]);return e("div",{"class":"dependent-items-confirmation",key:"dependent-items-confirmation"},e(E.a,{key:"need-editable-warning-list",items:n,title:u.DependentItems.needEditableTitle,text:u.DependentItems.needEditableText,
portal:D,error:!0}),e(E.a,{key:"need-editable-warning-public-list",items:q,title:u.DependentItems.needPubliclyEditableTitle,text:u.DependentItems.needPubliclyEditableText,portal:D,error:!0}),e(E.a,{key:"authenticated-items-warning",items:c,title:u.DependentItems.authenticatedItemsTitle,text:u.DependentItems.authenticatedItemsText,portal:D,error:!0}),e(E.a,{key:"need-data-collection-endabled-list",items:y,title:u.DependentItems.needDataCollectionEnabledTitle,text:u.DependentItems.needDataCollectionEnabledText,
portal:D,error:!0}),e(E.a,{key:"group-dependent",items:C,title:u.DependentItems.groupDependentApplicationTitle,text:u.DependentItems.groupDependentApplicationText,portal:D,error:!0}),e(E.a,{key:"needs-update-list",items:a,title:u.DependentItems.updateItemsCount,text:u.DependentItems.confirmationDescription,portal:D}),e(E.a,{key:"premium-items-list",items:k,title:F,text:r,portal:D}),e(E.a,{key:"not-editable-list",items:d,title:u.DependentItems.uneditableItemsCount,portal:D}),e(E.a,{key:"bdfs-datastore-dependent",
items:B,title:u.DependentItems.updateItemsCount,text:u.DependentItems.needBDFSDatastoreUpdateText,portal:D,error:!0}))},m}(f.Component);g.a=Object(f.connect)(function(p){var m=p.resources,e=m.items,c=m.helpMap;p=p.utilities.portal;return{dependentItems:m.dependentItems,authenticatedItems:Object(z.c)(e,m.selectedOptions,m.selectedOptionsDirty),portal:p,helpMap:c,items:e}},function(){return{}})(h)},634:function(f,g,h){var x=h(0),u=h(39);f=h(16);var E=h(101);h=function(z){function p(){return null!==
z&&z.apply(this,arguments)||this}return Object(x.d)(p,z),p.prototype.render=function(m){var e=this.props,c=e.item;e=e.portal;var a=c.name||c.title,b=Object(E.a)(e)+"/home/item.html?id\x3d"+c.id;return m("li",{key:c.id,"class":"dependent-item"},m("h3",{"class":"dependent-item__title"},e?m("a",{href:b,target:"_blank",rel:"noreferrer"},a):m("span",null,a)),m("span",{"class":"dependent-item__details"},c.iconURI&&m("img",{"class":"dependent-item__icon",src:c.iconURI}),m("p",{"class":"dependent-item__description"},
u.DependentItems.itemDescription.replace("${type}",c.displayName||c.type).replace("${owner}",c.owner?c.owner:""))))},p}(f.Component);g.a=h},68:function(f,g,h){var x;h.d(g,"a",function(){return x});(function(u){u.LOADING_GROUPS="LOADING_GROUPS";u.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";u.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";u.SELECT_GROUPS="SELECT_GROUPS";u.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";u.DESELECT_GROUPS="DESELECT_GROUPS";u.REVERT_GROUPS="REVERT_GROUPS";u.CLEAR_SELECTION="CLEAR_SELECTION";
u.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";u.SET_HAS_GROUPS="SET_HAS_GROUPS"})(x||(x={}))},78:function(f,g,h){h.d(g,"a",function(){return e});h.d(g,"b",function(){return c});var x=h(63);f=h(5);var u=h(123),E=h(122),z=h(117),p=h(121),m=h(120),e=function(a,b,d){return Object(x.a)(Object(m.a)(a),Object(p.a)(a),Object(z.a)(b),Object(E.a)(a),Object(u.a)(a))(d)},c=Object(x.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},
83:function(f,g,h){var x;h.d(g,"a",function(){return x});(function(u){u.SET_SEARCH_STRING="SET_SEARCH_STRING";u.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";u.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";u.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";u.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";u.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";u.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";u.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";u.SET_USERS="SET_USERS";u.CLEAR_FILTERS=
"CLEAR_FILTERS"})(x||(x={}))},877:function(f,g,h){h.r(g);var x=h(0);f=h(16);var u=h(440);h.d(g,"reducers",function(){return u.b});h.d(g,"initialState",function(){return u.a});var E=h(623),z=h(294),p=h.n(z),m=h(26);h=function(e){function c(){return null!==e&&e.apply(this,arguments)||this}return Object(x.d)(c,e),c.prototype.render=function(a){var b=this.props.currentView;return a("div",{key:"share-container","class":"share-dlg__container"},a(p.a,{key:"sharing-overlay",scrollable:!0,size:b===m.a.GROUP_BROWSER?
"large":"small"},a(E.a[b],{key:b})))},c}(f.Component);g["default"]=Object(f.connect)(function(e){return{currentView:e.config.currentView}},function(e){return{}})(h)},90:function(f,g,h){h.d(g,"a",function(){return x});h.d(g,"b",function(){return u});h.d(g,"c",function(){return E});h.d(g,"d",function(){return z});h.d(g,"e",function(){return p});h.d(g,"h",function(){return m});h.d(g,"i",function(){return e});h.d(g,"j",function(){return c});h.d(g,"k",function(){return a});h.d(g,"g",function(){return b});
h.d(g,"f",function(){return d});var x="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",u="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",E="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
z="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",p="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",m="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
e="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
c="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",a="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",b="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",d="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(f,g,h){function x(e,c){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(c(a=e[b]))return a}function u(e){return e.filter(function(c){return 0<c.length})}function E(e,c,a){var b=[];return c.forEach(function(d){(a?d[a].toLowerCase()===e.toLowerCase():d.toLowerCase()===e.toLowerCase())?b.unshift(d):b.push(d)}),b}h.d(g,"e",function(){return z});h.d(g,"f",function(){return p});h.d(g,"c",function(){return x});h.d(g,"b",function(){return u});h.d(g,"a",function(){return m});h.d(g,
"d",function(){return E});f=h(15);var z=function(e,c,a){return a.indexOf(e)===c},p=Object(f.a)(function(e,c){var a={};return c.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),m=function(e,c){return e.length===c.length&&e.reduce(function(a,b){return a&&-1<c.indexOf(b)},!0)}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e){return function(c){function a(d){if(b[d])return b[d].exports;var k=b[d]={i:d,l:!1,exports:{}};return c[d].call(k.exports,k,k.exports,a),k.l=!0,k.exports}var b={};return a.m=c,a.c=b,a.d=function(d,k,n){a.o(d,k)||Object.defineProperty(d,k,{enumerable:!0,get:n})},a.r=function(d){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"});Object.defineProperty(d,"__esModule",{value:!0})},a.t=function(d,k){if((1&
k&&(d=a(d)),8&k)||4&k&&"object"==typeof d&&d&&d.__esModule)return d;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:d}),2&k&&"string"!=typeof d)for(var q in d)a.d(n,q,function(y){return d[y]}.bind(null,q));return n},a.n=function(d){var k=d&&d.__esModule?function(){return d["default"]}:function(){return d};return a.d(k,"a",k),k},a.o=function(d,k){return Object.prototype.hasOwnProperty.call(d,k)},a.p="",a(a.s=855)}({0:function(c,a,b){function d(F,r){function A(){this.constructor=
F}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");B(F,r);F.prototype=null===r?Object.create(r):(A.prototype=r.prototype,new A)}function k(F,r){var A={},G;for(G in F)Object.prototype.hasOwnProperty.call(F,G)&&0>r.indexOf(G)&&(A[G]=F[G]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(G=Object.getOwnPropertySymbols(F);H<G.length;H++)0>r.indexOf(G[H])&&Object.prototype.propertyIsEnumerable.call(F,G[H])&&
(A[G[H]]=F[G[H]])}return A}function n(F,r,A,G){var H,J=arguments.length,O=3>J?r:null===G?G=Object.getOwnPropertyDescriptor(r,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(F,r,A,G);else for(var M=F.length-1;0<=M;M--)(H=F[M])&&(O=(3>J?H(O):3<J?H(r,A,O):H(r,A))||O);return 3<J&&O&&Object.defineProperty(r,A,O),O}function q(F,r,A,G){return new (A||(A=Promise))(function(H,J){function O(U){try{K(G.next(U))}catch(Z){J(Z)}}function M(U){try{K(G["throw"](U))}catch(Z){J(Z)}}
function K(U){var Z;U.done?H(U.value):(Z=U.value,Z instanceof A?Z:new A(function(ca){ca(Z)})).then(O,M)}K((G=G.apply(F,r||[])).next())})}function y(F,r){function A(K){return function(U){return function(Z){if(G)throw new TypeError("Generator is already executing.");for(;M;)try{if(G=1,H&&(J=2&Z[0]?H["return"]:Z[0]?H["throw"]||((J=H["return"])&&J.call(H),0):H.next)&&!(J=J.call(H,Z[1])).done)return J;switch(H=0,J&&(Z=[2&Z[0],J.value]),Z[0]){case 0:case 1:J=Z;break;case 4:return M.label++,{value:Z[1],
done:!1};case 5:M.label++;H=Z[1];Z=[0];continue;case 7:Z=M.ops.pop();M.trys.pop();continue;default:if(!(J=M.trys,(J=0<J.length&&J[J.length-1])||6!==Z[0]&&2!==Z[0])){M=0;continue}if(3===Z[0]&&(!J||Z[1]>J[0]&&Z[1]<J[3]))M.label=Z[1];else if(6===Z[0]&&M.label<J[1])M.label=J[1],J=Z;else if(J&&M.label<J[2])M.label=J[2],M.ops.push(Z);else{J[2]&&M.ops.pop();M.trys.pop();continue}}Z=r.call(F,M)}catch(ca){Z=[6,ca],H=0}finally{G=J=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}([K,U])}}var G,
H,J,O,M={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return O={next:A(0),"throw":A(1),"return":A(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O}function C(F,r){for(var A=0,G=r.length,H=F.length;A<G;A++,H++)F[H]=r[A];return F}b.d(a,"d",function(){return d});b.d(a,"a",function(){return D});b.d(a,"f",function(){return k});b.d(a,"c",function(){return n});b.d(a,"b",function(){return q});b.d(a,"e",function(){return y});b.d(a,"g",function(){return C});
var B=function(F,r){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(A[H]=G[H])})(F,r)},D=function(){return(D=Object.assign||function(F){for(var r,A=1,G=arguments.length;A<G;A++)for(var H in r=arguments[A])Object.prototype.hasOwnProperty.call(r,H)&&(F[H]=r[H]);return F}).apply(this,arguments)};Object.create;Object.create},101:function(c,a,b){b.d(a,"a",function(){return k});b.d(a,"b",
function(){return n});var d=b(0),k=function(q){return q?q.urlKey?location.protocol+"//"+q.urlKey+"."+q.customBaseUrl:location.protocol+"//"+q.portalHostname:""},n=function(q){return Object(d.a)(Object(d.a)({},q),{baseUrl:k(q)})}},1019:function(c,a,b){b.d(a,"a",function(){return k});var d=b(204),k=function(){return{type:d.a.TOGGLE_SORT_DROPDOWN}}},128:function(c,a,b){b.d(a,"a",function(){return k});b.d(a,"b",function(){return n});var d=b(0);c=b(15);var k=function(q,y){var C;return y.thumbnail&&(C=
q.restUrl+"/community/groups/"+y.id+"/info/"+y.thumbnail+(q.credential?"?token\x3d"+q.credential.token:"")),C},n=Object(c.a)(function(q,y){return Object(d.a)(Object(d.a)({},y),{thumbURI:k(q,y)})})},137:function(c,a,b){b.d(a,"a",function(){return d});b.d(a,"d",function(){return q});b.d(a,"c",function(){return y});b.d(a,"e",function(){return C});b.d(a,"f",function(){return B});var d,k=b(0),n=b(25);!function(D){D.LOADING="loading";D.LOADED="loaded";D.FAILED="failed"}(d||(d={}));var q=function(D){var F=
D.selectedGroups,r=D.selectorItems;return 0===r.length?Object.keys(F).map(function(A){return F[A].group}):Object.keys(F).filter(function(A){return C(F[A],r)}).map(function(A){return F[A].group})},y=function(D){var F=D.initialSelectedGroups,r=D.selectedGroups,A=Object.keys(r).map(function(G){return r[G].group.id});return Object.keys(F).map(function(G){return F[G].group.id}).filter(function(G){return 0>A.indexOf(G)}).map(function(G){return F[G].group})},C=function(D,F){return!D.selectedByIds||D.selectedByIds.length===
F.length},B={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:d.LOADING,total:0,hasGroups:!0};a.b=function(D,F){switch(void 0===D&&(D=B),F.type){case n.a.DESELECT_GROUPS:return Object(k.a)(Object(k.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J=H.id;G[J];return Object(k.f)(G,["symbol"==typeof J?J:J+""])},D.selectedGroups)});case n.a.REVERT_GROUPS:return F.payload?Object(k.a)(Object(k.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J;if(D.initialSelectedGroups[H.id])return Object(k.a)(Object(k.a)({},
G),((J={})[H.id]=D.initialSelectedGroups[H.id],J));J=H.id;G[J];return Object(k.f)(G,["symbol"==typeof J?J:J+""])},D.selectedGroups)}):Object(k.a)(Object(k.a)({},D),{selectedGroups:Object(k.a)({},D.initialSelectedGroups)});case n.a.SELECT_GROUPS:var r=D.selectorItems.map(function(G){return G.id});return Object(k.a)(Object(k.a)({},D),{selectedGroups:F.payload.reduce(function(G,H){var J;return Object(k.a)(Object(k.a)({},G),((J={})[H.group.id]=Object(k.a)({selectedByIds:r},H),J))},D.selectedGroups)});
case n.a.SET_INITIAL_GROUPS:var A=F.payload.reduce(function(G,H){var J;return Object(k.a)(Object(k.a)({},G),((J={})[H.group.id]=H,J))},{});return Object(k.a)(Object(k.a)({},D),{selectedGroups:A,initialSelectedGroups:Object(k.a)({},A)});case n.a.SET_SELECTOR_ITEMS:return Object(k.a)(Object(k.a)({},D),{selectorItems:F.payload});case n.a.CLEAR_SELECTION:return Object(k.a)(Object(k.a)({},D),{selectedGroups:{}});case n.a.LOADING_GROUPS:return Object(k.a)(Object(k.a)({},D),{status:d.LOADING});case n.a.LOAD_GROUPS_SUCCESS:return Object(k.a)(Object(k.a)({},
D),{displayGroups:F.payload.results,total:F.payload.total,status:d.LOADED});case n.a.LOAD_GROUPS_FAIL:return Object(k.a)(Object(k.a)({},D),{displayGroups:[],status:d.FAILED});case n.a.SET_HAS_GROUPS:return Object(k.a)(Object(k.a)({},D),{hasGroups:F.payload});default:return D}}},144:function(c,a,b){b.d(a,"d",function(){return y});b.d(a,"e",function(){return C});b.d(a,"b",function(){return B});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});b.d(a,"f",function(){return r});var d=b(0),
k=b(181),n=b(163),q=b(68),y=function(A){return 1<A.length&&Object(n.a)(),{type:q.a.SELECT_GROUPS,payload:A.map(function(G){return{group:Object(k.c)(G)}})}},C=function(A){return{type:q.a.SET_INITIAL_GROUPS,payload:A.map(function(G){return Object(d.a)(Object(d.a)({},G),{group:Object(k.c)(G.group)})})}},B=function(A){return 1<A.length&&Object(n.b)(),{type:q.a.DESELECT_GROUPS,payload:A}},D=function(A){return{type:q.a.REVERT_GROUPS,payload:A}},F=function(){return Object(n.c)(),{type:q.a.CLEAR_SELECTION}},
r=function(A){return{type:q.a.SET_SELECTOR_ITEMS,payload:A}}},148:function(c,a,b){b.d(a,"a",function(){return k});var d=b(0);c=b(15);var k=Object(c.a)(function(n,q){var y=Object(d.a),C=Object(d.a)({},q);var B=q.thumbnail?n.restUrl+"/community/users/"+q.username+"/info/"+q.thumbnail+(n.credential?"?token\x3d"+n.credential.token:""):void 0;return y(C,{thumbURI:B})})},15:function(c,a,b){function d(n){return function y(){for(var C=this,B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];return B.length>=
n.length?n.call.apply(n,Object(k.g)([this],B)):function(){for(var F=[],r=0;r<arguments.length;r++)F[r]=arguments[r];return y.call.apply(y,Object(k.g)(Object(k.g)([C],B),F))}}}b.d(a,"a",function(){return d});var k=b(0)},150:function(c,a){c.exports=v},159:function(c,a,b){b.d(a,"b",function(){return A});b.d(a,"a",function(){return H});var d=b(0),k=b(181),n=b(30),q=b(163),y=b(54),C=b(68),B=b(28),D=b(61),F=b(38),r=b(26),A=function(fa,ka){G(ka()).then(function(ma){var ra=ka();ra=Object(y.b)(ra)?ra:ra.gbState;
var za=ra.utils;ra.ui.focus.focusSelectAll&&Object(q.c)();fa({type:C.a.LOAD_GROUPS_SUCCESS,payload:Object(d.a)(Object(d.a)({},ma),{results:ma.results.map(function(ia){return Object(k.b)(za.portal,ia)})})})})["catch"](function(ma){var ra=ka();(Object(y.b)(ra)?ra:ra.gbState).ui.focus.focusSelectAll&&Object(q.c)();fa({type:C.a.LOAD_GROUPS_FAIL,payload:ma})})},G=function(fa){fa=Object(y.b)(fa)?fa:fa.gbState;var ka=fa.utils,ma=ka.request,ra=ka.portal,za=fa.config;ka=za.groupsPerPage;var ia=za.withinShare,
T=(za.withinAppConfig,fa.parameters);za=T.filter;T=T.sort;var la=fa.ui.page.currentPageNumber,S={q:ca(fa),num:ka,sortField:T.field,sortOrder:T.order,start:(la-1)*ka+1};return ia&&(S.searchUserAccess="groupMember",S.searchUserName=za.currentUsername),za.designationFilter!==F.b.orgSettings||M(ra)?new B.Promise(function(P,I){Object(n.g)(ma,ra,S).then(P,I)}):new B.Promise(function(P){P({query:S.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},H=function(fa){var ka=fa.user;fa=fa.state;fa=Object(y.b)(fa)?
fa:fa.gbState;var ma=fa.utils,ra=ma.request,za=ma.portal;fa=Object(d.a)(Object(d.a)({},fa),{parameters:Object(d.a)(Object(d.a)({},fa.parameters),{filter:Object(d.a)(Object(d.a)({},fa.parameters.filter),{currentUsername:ka.username})})});var ia={q:ca(fa),num:100,searchUserAccess:"groupMember",searchUserName:ka.username};return(new B.Promise(function(T,la){return Object(n.g)(ra,za,ia).then(function(S){if(-1!==S.nextStart){var P=Math.ceil(S.total/100)-1,I=[S.results];S=function(W){I.push(new B.Promise(function(aa,
Q){var N=100*(W+1)+1;Object(n.g)(ra,za,Object(d.a)(Object(d.a)({},ia),{start:N})).then(function(R){aa(R.results)},Q)}))};for(var ba=0;ba<P;ba++)S(ba);B.Promise.all(I).then(function(W){T(Object(D.b)(W))})}else T(S.results)},la)}))["catch"](function(T){throw T;})},J=function(fa){var ka,ma=fa.shareMode,ra=fa.currentUsername,za=fa.portalUser;fa=fa.userGroups;var ia=[];switch(fa&&fa.forEach(function(T){var la,S=null===(la=T.userMembership)||void 0===la?void 0:la.memberType;!T.isViewOnly||"owner"!==S&&
"admin"!==S||ia.push(T.id)}),ia.length&&(ka="(isviewonly:false OR "+ia.join(" OR ")+")"),ma){case r.d.DEFAULT:return ka||"(owner:"+ra+" OR isviewonly:false)";case r.d.GROUP:return"owner:"+ra+" -capabilities:updateitemcontrol";case r.d.ADMIN:return za.username===ra?"(isviewonly:false OR owner:"+za.username+") -capabilities:updateitemcontrol":"(owner:"+ra+" OR isviewonly:false)";default:return""}},O=function(fa,ka){0!==(null==fa?void 0:fa.indexOf("id:"))||-1<ka.indexOf(fa)||ka.push(fa)},M=function(fa){var ka,
ma,ra,za,ia,T=[],la=[fa.featuredItemsGroupQuery,fa.basemapGalleryGroupQuery,fa.templatesGroupQuery,fa["2DStylesGroupQuery"],fa.stylesGroupQuery,fa.analysisLayersGroupQuery,fa.galleryTemplatesGroupQuery];if(fa.hasModernHomePageEnabled){var S=(null===(ma=null===(ka=fa.homePageConfig)||void 0===ka?void 0:ka.content)||void 0===ma?void 0:ma.filter(function(P){return"gallery"===P.type&&!!P.groupId}))||[];0<S.length&&S.forEach(function(P){O("id:"+P.groupId,T)})}else la.push(fa.homePageFeaturedContent);return la.forEach(function(P){O(P,
T)}),null===(ra=fa.featuredGroups)||void 0===ra||ra.forEach(function(P){(P=P.id)&&O("id:"+P,T)}),null===(ia=null===(za=fa.userDefaults)||void 0===za?void 0:za.groups)||void 0===ia||ia.forEach(function(P){O("id:"+P,T)}),0<T.length?"("+T.join(" OR ")+")":""},K=function(fa){var ka=fa.portal;switch(fa.designationFilter){case F.b.openData:return"isopendata:true";case F.b.updateGroups:return"capabilities:updateitemcontrol";case F.b.distributed:return"capabilities:distributed";case F.b.administrative:return"isleavingdisallowed:true";
case F.b.orgSettings:return M(ka)||"";default:return""}},U=function(fa){var ka=fa.portal,ma=fa.username,ra=fa.currentUsername,za=fa.userType,ia=fa.withinAppConfig;ma=fa.shareMode===r.d.ADMIN&&ra||ma;ia=ka.isPortal&&ia?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(fa.ownerFilter){case F.d.itemOwner:return"owner:"+ma+" "+ia;case F.d.inOrg:return"-owner:"+ma+" orgid:"+ka.id+" "+ia;case F.d.outsideOrg:return za===r.e.PUBLIC?"-owner:"+ma+" "+ia:"(orgid: [0 TO \\{]) -orgid:"+
ka.id+" "+ia;default:return ia}},Z=function(fa){return fa?"created: ["+(ka=fa).start+" TO "+ka.end+"]":"";var ka},ca=function(fa){var ka=fa.utils,ma=ka.portal;ka=ka.portalUser;var ra=fa.config,za=ra.shareMode,ia=ra.userType,T=ra.withinAppConfig,la=ra.hasIndoorsSpaces;fa=fa.parameters.filter;var S=fa.designationFilter,P=fa.membershipFilter,I=fa.dateCreatedFilter,ba=fa.currentUsername,W=fa.ownerFilter;return[ra.baseQ+" "+fa.searchString,J({shareMode:za,currentUsername:ba,portalUser:ka,userGroups:ra.userGroups}),
la?"-capabilities:distributed":K({designationFilter:S,portal:ma}),la?"membershipaccess:org":P?"anyOrg"===P?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+P:"",Z(I),U({ownerFilter:W,portal:ma,username:ka.username,currentUsername:ba,shareMode:za,userType:ia,withinAppConfig:T})].filter(function(aa){return aa}).join(" ").trim()}},16:function(c,a){c.exports=V},163:function(c,a,b){function d(){q("gb__select-all-input")}function k(){q("gb__clear-selection-btn")}function n(){setTimeout(function(){var y=
document.querySelector(".gcard-gcc__container");y&&(y=y.querySelector(".btn-2018check__input"))&&y.focus()},50)}function q(y){setTimeout(function(){var C=document.querySelector("#"+y);C&&C.focus()},50)}b.d(a,"c",function(){return d});b.d(a,"a",function(){return k});b.d(a,"b",function(){return n})},170:function(c,a){var b=function(){return this}();try{b=b||(new Function("return this"))()}catch(d){"object"==typeof window&&(b=window)}c.exports=b},175:function(c,a,b){var d;b.d(a,"a",function(){return d});
(d||(d={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},181:function(c,a,b){b.d(a,"b",function(){return q});b.d(a,"c",function(){return y});b.d(a,"a",function(){return C});var d=b(63);c=b(5);var k=b(99),n=b(128),q=function(B,D){return Object(d.a)(Object(n.b)(B))(D)},y=Object(d.a)(Object(c.e)("thumbURI")),C=function(B){var D=B.initialSelectedByIds;return!Object(k.a)(B.selectedBy.map(function(F){return F.id}),D)}},186:function(c,a,b){b.d(a,"b",function(){return k});b.d(a,"g",function(){return n});b.d(a,
"h",function(){return q});b.d(a,"e",function(){return y});b.d(a,"f",function(){return C});b.d(a,"d",function(){return B});b.d(a,"c",function(){return D});b.d(a,"a",function(){return F});var d=b(83),k=function(r){return{type:d.a.SET_SEARCH_STRING,payload:r}},n=function(r){return{type:d.a.UPDATE_OWNER_FILTER,payload:r}},q=function(r){return{type:d.a.UPDATE_USERNAME_FILTER,payload:r}},y=function(r){return{type:d.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:r}},C=function(r){return{type:d.a.UPDATE_MEMBERSHIP_FILTER,
payload:r}},B=function(r){return{type:d.a.UPDATE_CREATED_ON_FILTER,payload:{section:r.section,created:r.created}}},D=function(r){return{type:d.a.SET_USERS,payload:r}},F=function(r){return{type:d.a.CLEAR_FILTERS,payload:r}}},189:function(c,a){function b(){throw Error("setTimeout has not been defined");}function d(){throw Error("clearTimeout has not been defined");}function k(J){if(D===setTimeout)return setTimeout(J,0);if((D===b||!D)&&setTimeout)return D=setTimeout,setTimeout(J,0);try{return D(J,0)}catch(O){try{return D.call(null,
J,0)}catch(M){return D.call(this,J,0)}}}function n(){G&&r&&(G=!1,r.length?A=r.concat(A):H=-1,A.length&&q())}function q(){if(!G){var J=k(n);G=!0;for(var O=A.length;O;){r=A;for(A=[];++H<O;)r&&r[H].run();H=-1;O=A.length}r=null;G=!1;(function(M){if(F===clearTimeout)return clearTimeout(M);if((F===d||!F)&&clearTimeout)return F=clearTimeout,clearTimeout(M);try{F(M)}catch(K){try{return F.call(null,M)}catch(U){return F.call(this,M)}}})(J)}}function y(J,O){this.fun=J;this.array=O}function C(){}var B=c.exports=
{};try{var D="function"==typeof setTimeout?setTimeout:b}catch(J){D=b}try{var F="function"==typeof clearTimeout?clearTimeout:d}catch(J){F=d}!0;var r,A=[],G=!1,H=-1;B.nextTick=function(J){var O=Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)O[M-1]=arguments[M];A.push(new y(J,O));1!==A.length||G||k(q)};y.prototype.run=function(){this.fun.apply(null,this.array)};B.title="browser";B.browser=!0;B.env={};B.argv=[];B.version="";B.versions={};B.on=C;B.addListener=C;B.once=
C;B.off=C;B.removeListener=C;B.removeAllListeners=C;B.emit=C;B.prependListener=C;B.prependOnceListener=C;B.listeners=function(J){return[]};B.binding=function(J){throw Error("process.binding is not supported");};B.cwd=function(){return"/"};B.chdir=function(J){throw Error("process.chdir is not supported");};B.umask=function(){return 0}},192:function(c,a,b){var d;b.d(a,"a",function(){return d});(d||(d={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(c,a,b){var d;b.d(a,"a",function(){return d});(function(k){k.SET_PAGE=
"SET_PAGE";k.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";k.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(d||(d={}))},205:function(c,a){c.exports=w},207:function(c,a,b){b.d(a,"b",function(){return n});var d=b(0),k=b(25),n={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};a.a=function(q,y){switch(void 0===q&&(q=n),y.type){case k.a.ENABLE_USER_TOGGLE:return Object(d.a)(Object(d.a)({},q),{enableUserToggle:!0});
case k.a.SET_SHARE_MODE:return Object(d.a)(Object(d.a)({},q),{shareMode:y.payload});case k.a.SET_USER_TYPE:return Object(d.a)(Object(d.a)({},q),{userType:y.payload});case k.a.TRUSTED_ORGS_LOADED:return Object(d.a)(Object(d.a)({},q),{hasTrustedOrgs:0<y.payload.length});case k.a.USER_DETAILS_LOADED:return Object(d.a)(Object(d.a)({},q),{userGroups:y.payload});case k.a.SET_SELECTOR_ITEMS:var C=!!y.payload.find(function(B){var D;return-1<(null===(D=null==B?void 0:B.typeKeywords)||void 0===D?void 0:D.indexOf("EditExtensionIndoorsSpaces"))});
return Object(d.a)(Object(d.a)({},q),{hasIndoorsSpaces:C});default:return q}}},208:function(c,a,b){b.d(a,"b",function(){return k});c=b(16);var d=b(209);b=b(38);var k={sort:d.b,filter:b.f};a.a=Object(c.combineReducers)({sort:d.a,filter:b.e})},209:function(c,a,b){b.d(a,"b",function(){return n});var d=b(0),k=b(25),n={field:"title",order:"asc"},q={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};a.a=function(y,C){switch(void 0===y&&(y=n),C.type){case k.a.CHANGE_SORT_FIELD:return Object(d.a)(Object(d.a)({},
y),{field:C.payload,order:q[C.payload]});case k.a.CHANGE_SORT_ORDER:return Object(d.a)(Object(d.a)({},y),{order:C.payload});default:return y}}},210:function(c,a,b){b.d(a,"b",function(){return q});c=b(16);var d=b(211),k=b(212),n=b(213);b=b(214);var q={page:d.b,sort:k.b,focus:n.b,filter:b.b};a.a=Object(c.combineReducers)({page:d.a,sort:k.a,focus:n.a,filter:b.a})},211:function(c,a,b){b.d(a,"b",function(){return n});var d=b(0),k=b(25),n={currentPageNumber:1};a.a=function(q,y){switch(void 0===q&&(q=n),
y.type){case k.a.CLEAR_FILTERS:case k.a.UPDATE_USERNAME_FILTER:case k.a.UPDATE_OWNER_FILTER:case k.a.UPDATE_CREATED_ON_FILTER:case k.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(d.a)(Object(d.a)({},q),{currentPageNumber:1});case k.a.SET_PAGE:return Object(d.a)(Object(d.a)({},q),{currentPageNumber:y.payload});case k.a.LOAD_GROUPS_SUCCESS:return Object(d.a)(Object(d.a)({},q),{currentPageNumber:y.payload.num>y.payload.total?1:Math.ceil(y.payload.start/y.payload.num)});case k.a.LOAD_GROUPS_FAIL:return Object(d.a)(Object(d.a)({},
q),{currentPageNumber:1});default:return q}}},212:function(c,a,b){b.d(a,"b",function(){return k});var d=b(25),k=!1;a.a=function(n,q){switch(void 0===n&&(n=k),q.type){case d.a.CHANGE_SORT_FIELD:case d.a.CHANGE_SORT_ORDER:case d.a.TOGGLE_SORT_DROPDOWN:return!n;default:return n}}},213:function(c,a,b){b.d(a,"b",function(){return n});var d=b(0),k=b(25),n={focusSelectAll:!1};a.a=function(q,y){switch(y.type){case k.a.LOAD_GROUPS_FAIL:case k.a.LOAD_GROUPS_SUCCESS:return Object(d.a)(Object(d.a)({},q),{focusSelectAll:!1});
case k.a.CHANGE_SORT_FIELD:case k.a.CHANGE_SORT_ORDER:return Object(d.a)(Object(d.a)({},q),{focusSelectAll:!0});default:return q}}},214:function(c,a,b){b.d(a,"b",function(){return q});var d=b(0),k=b(25),n=b(38),q={expanded:!1};a.a=function(y,C){switch(C.type){case k.a.CLEAR_FILTERS:switch(C.payload){case void 0:case n.a.DATE_CREATED:return Object(d.a)(Object(d.a)({},y),{dateCreatedSelectedSection:void 0});default:return y}case k.a.TOGGLE_EXPANDED_FILTERS:return Object(d.a)(Object(d.a)({},y),{expanded:!y.expanded});
case k.a.UPDATE_CREATED_ON_FILTER:return Object(d.a)(Object(d.a)({},y),{dateCreatedSelectedSection:C.payload.section});default:return y}}},215:function(c,a,b){b.d(a,"b",function(){return k});var d=b(101),k={portal:{},portalUser:{},request:function(n){return null}};a.a=function(n,q){return void 0===n&&(n=k),q.type,n.portal.portalHostname&&!n.portal.baseUrl&&(n.portal.baseUrl=Object(d.a)(n.portal)),n}},216:function(c,a){c.exports=t},226:function(c,a,b){b.d(a,"c",function(){return d});b.d(a,"d",function(){return k});
b.d(a,"e",function(){return n});b.d(a,"b",function(){return q});b.d(a,"f",function(){return y});b.d(a,"g",function(){return C});b.d(a,"a",function(){return B});b.d(a,"h",function(){return D});b.d(a,"i",function(){return F});b.d(a,"j",function(){return r});var d="MAXIMIZE_DLG",k="MINIMIZE_DLG",n="TOGGLE_EXPANDED_FILTERS",q="CLOSE_FULLSCREEN_BROWSER",y="TOGGLE_EXPANDED_SORT",C="UPDATE_SUBLAYER_CARD_STATE",B="CLOSE_EXPANDED_SORT",D=function(){return{type:B}},F=function(){return{type:n}},r=function(){return{type:y}}},
249:function(c,a,b){var d=b(128);a.a=function(k,n){var q=k.group,y=k.stacked,C=k.portal;y={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!q.thumbURI,"gcard-thumbnail--stacked":void 0!==y&&y,"gcard-thumbnail--transparent":k.transparent};if(q.thumbnail&&!q.thumbURI&&C&&(q.thumbURI=Object(d.a)(C,q)),q.thumbURI)return n("img",{src:q.thumbURI,classes:y,alt:q.title});C=!(!q.title.charAt(0)||!q.title.charAt(0).match(/^\w+$/));return n("div",{key:"group-thumbnail-"+q.id,classes:y},n("svg",
{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},n("path",{fill:"#"+q.id.substr(q.id.length-6),d:"M0 0h65v65H0z"}),n("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),C?n("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},q.title.slice(0,1).toUpperCase()):n("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(c,a,b){b.d(a,"a",function(){return y});var d;c=b(0);a=b(204);var k=b(68),n=b(175),q=b(83);b=b(192);!function(C){C.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";C.SET_SHARE_MODE="SET_SHARE_MODE";C.SET_USER_TYPE="SET_USER_TYPE"}(d||(d={}));var y=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},a.a),k.a),q.a),d),n.a),b.a)},254:function(c,a){c.exports=l},255:function(c,a){c.exports=f},26:function(c,a,b){var d,k,n,q,y;b.d(a,"b",function(){return d});b.d(a,"a",function(){return k});
b.d(a,"c",function(){return n});b.d(a,"e",function(){return q});b.d(a,"d",function(){return y});(function(C){C.org="org";C["private"]="private";C["public"]="public";C.shared="shared"})(d||(d={}));(function(C){C.LOADING="LOADING";C.SHARE="SHARE";C.GROUP_BROWSER="GROUP_BROWSER";C.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(k||(k={}));(function(C){C.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";C.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";C.REVERT_GROUPS="REVERT_GROUPS";C.EDITABLE_LAYERS=
"EDITABLE_LAYERS";C.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";C.NONE="NONE";C.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";C.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(n||(n={}));(function(C){C.ORG="ORG";C.PUBLIC="PUBLIC"})(q||(q={}));(function(C){C.DEFAULT="DEFAULT";C.ADMIN="ADMIN";C.GROUP="GROUP"})(y||(y={}))},28:function(c,a,b){(function(d,k){c.exports=function(){function n(){var N=setTimeout;return function(){return N(q,1)}}function q(){for(var N=0;N<
U;N+=2)(0,ia[N])(ia[N+1]),ia[N]=void 0,ia[N+1]=void 0;U=0}function y(N,R){var X=this,Y=new this.constructor(B);void 0===Y[ba]&&M(Y);var da=X._state;if(da){var ea=arguments[da-1];fa(function(){return O(da,Y,ea,X._result)})}else H(X,Y,N,R);return Y}function C(N){if(N&&"object"==typeof N&&N.constructor===this)return N;var R=new this(B);return F(R,N),R}function B(){}function D(N,R,X){R.constructor===N.constructor&&X===y&&R.constructor.resolve===C?function(Y,da){1===da._state?A(Y,da._result):2===da._state?
G(Y,da._result):H(da,void 0,function(ea){return F(Y,ea)},function(ea){return G(Y,ea)})}(N,R):void 0===X?A(N,R):"function"==typeof X?function(Y,da,ea){fa(function(ha){var na=!1,qa=function(ua,ya,Aa,Ba){try{ua.call(ya,Aa,Ba)}catch(Oa){return Oa}}(ea,da,function(ua){na||(na=!0,da!==ua?F(ha,ua):A(ha,ua))},function(ua){na||(na=!0,G(ha,ua))},ha._label);!na&&qa&&(na=!0,G(ha,qa))},Y)}(N,R,X):A(N,R)}function F(N,R){if(N===R)G(N,new TypeError("You cannot resolve a promise with itself"));else if(Y=typeof(X=
R),null===X||"object"!==Y&&"function"!==Y)A(N,R);else{X=void 0;try{X=R.then}catch(da){return void G(N,da)}D(N,R,X)}var X,Y}function r(N){N._onerror&&N._onerror(N._result);J(N)}function A(N,R){void 0===N._state&&(N._result=R,N._state=1,0!==N._subscribers.length&&fa(J,N))}function G(N,R){void 0===N._state&&(N._state=2,N._result=R,fa(r,N))}function H(N,R,X,Y){var da=N._subscribers,ea=da.length;N._onerror=null;da[ea]=R;da[ea+1]=X;da[ea+2]=Y;0===ea&&N._state&&fa(J,N)}function J(N){var R=N._subscribers,
X=N._state;if(0!==R.length){for(var Y=void 0,da=void 0,ea=N._result,ha=0;ha<R.length;ha+=3)Y=R[ha],da=R[ha+X],Y?O(X,Y,da,ea):da(ea);N._subscribers.length=0}}function O(N,R,X,Y){var da="function"==typeof X,ea=void 0,ha=void 0,na=!0;if(da){try{ea=X(Y)}catch(qa){na=!1,ha=qa}if(R===ea)return void G(R,new TypeError("A promises callback cannot return that same promise."))}else ea=Y;void 0!==R._state||(da&&na?F(R,ea):!1===na?G(R,ha):1===N?A(R,ea):2===N&&G(R,ea))}function M(N){N[ba]=W++;N._state=void 0;N._result=
void 0;N._subscribers=[]}var K=Array.isArray?Array.isArray:function(N){return"[object Array]"===Object.prototype.toString.call(N)},U=0,Z=void 0,ca=void 0,fa=function(N,R){ia[U]=N;ia[U+1]=R;2===(U+=2)&&(ca?ca(q):I())},ka="undefined"!=typeof window?window:void 0,ma=ka||{};ma=ma.MutationObserver||ma.WebKitMutationObserver;var ra="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),za="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,
ia=Array(1E3),T,la,S,P,I=void 0;ra?I=function(){return d.nextTick(q)}:ma?(la=0,S=new ma(q),P=document.createTextNode(""),S.observe(P,{characterData:!0}),I=function(){P.data=la=++la%2}):za?((T=new MessageChannel).port1.onmessage=q,I=function(){return T.port2.postMessage(0)}):I=void 0===ka?function(){try{var N=Function("return this")().require("vertx");return void 0!==(Z=N.runOnLoop||N.runOnContext)?function(){Z(q)}:n()}catch(R){return n()}}():n();var ba=Math.random().toString(36).substring(2),W=0,
aa=function(){function N(R,X){this._instanceConstructor=R;this.promise=new R(B);this.promise[ba]||M(this.promise);K(X)?(this.length=X.length,this._remaining=X.length,this._result=Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(X),0===this._remaining&&A(this.promise,this._result))):G(this.promise,Error("Array Methods must be provided an Array"))}return N.prototype._enumerate=function(R){for(var X=0;void 0===this._state&&X<R.length;X++)this._eachEntry(R[X],
X)},N.prototype._eachEntry=function(R,X){var Y=this._instanceConstructor,da=Y.resolve;if(da===C){var ea=da=void 0,ha=!1;try{da=R.then}catch(na){ha=!0,ea=na}da===y&&void 0!==R._state?this._settledAt(R._state,X,R._result):"function"!=typeof da?(this._remaining--,this._result[X]=R):Y===Q?(Y=new Y(B),ha?G(Y,ea):D(Y,R,da),this._willSettleAt(Y,X)):this._willSettleAt(new Y(function(na){return na(R)}),X)}else this._willSettleAt(da(R),X)},N.prototype._settledAt=function(R,X,Y){var da=this.promise;void 0===
da._state&&(this._remaining--,2===R?G(da,Y):this._result[X]=Y);0===this._remaining&&A(da,this._result)},N.prototype._willSettleAt=function(R,X){var Y=this;H(R,void 0,function(da){return Y._settledAt(1,X,da)},function(da){return Y._settledAt(2,X,da)})},N}(),Q=function(){function N(R){this[ba]=W++;this._result=this._state=void 0;this._subscribers=[];if(B!==R){if("function"!=typeof R)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof
N)(function(X,Y){try{Y(function(da){F(X,da)},function(da){G(X,da)})}catch(da){G(X,da)}})(this,R);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return N.prototype["catch"]=function(R){return this.then(null,R)},N.prototype["finally"]=function(R){var X=this.constructor;return"function"==typeof R?this.then(function(Y){return X.resolve(R()).then(function(){return Y})},function(Y){return X.resolve(R()).then(function(){throw Y;
})}):this.then(R,R)},N}();return Q.prototype.then=y,Q.all=function(N){return(new aa(this,N)).promise},Q.race=function(N){var R=this;return K(N)?new R(function(X,Y){for(var da=N.length,ea=0;ea<da;ea++)R.resolve(N[ea]).then(X,Y)}):new R(function(X,Y){return Y(new TypeError("You must pass an array to race."))})},Q.resolve=C,Q.reject=function(N){var R=new this(B);return G(R,N),R},Q._setScheduler=function(N){ca=N},Q._setAsap=function(N){fa=N},Q._asap=fa,Q.polyfill=function(){var N=void 0;if(void 0!==k)N=
k;else if("undefined"!=typeof self)N=self;else try{N=Function("return this")()}catch(Y){throw Error("polyfill failed because global object is unavailable in this environment");}var R=N.Promise;if(R){var X=null;try{X=Object.prototype.toString.call(R.resolve())}catch(Y){}if("[object Promise]"===X&&!R.cast)return}N.Promise=Q},Q.Promise=Q,Q}()}).call(this,b(189),b(170))},284:function(c,a){c.exports=g},285:function(c,a){c.exports=h},30:function(c,a,b){function d(ia){return ia.reduce(function(T,la){return la&&
la.relatedItems?T.concat(la.relatedItems.map(function(S){return S})):T},[])}function k(ia,T,la){return ia(T,{query:Object(y.a)({f:"json"},la)}).then(function(S){return S.data})}function n(ia,T){void 0===T&&(T=100);for(var la=[],S=0;S<Math.ceil(ia.length/T);S++)la.push(ia.slice(S*T,(S+1)*T));return la.filter(function(P){return 0<P.length})}function q(ia){var T=ia.itemIds,la=ia.request,S=ia.groupIds,P=ia.portal.restUrl+"/content/itemsgroups";return new C.Promise(function(I,ba){la(P,{method:"get",query:{f:"json",
items:T,groups:S}}).then(function(W){I(W.data)},ba)})}b.d(a,"u",function(){return B});b.d(a,"n",function(){return D});b.d(a,"h",function(){return F});b.d(a,"e",function(){return r});b.d(a,"f",function(){return A});b.d(a,"j",function(){return G});b.d(a,"o",function(){return H});b.d(a,"l",function(){return J});b.d(a,"k",function(){return O});b.d(a,"m",function(){return M});b.d(a,"c",function(){return K});b.d(a,"d",function(){return U});b.d(a,"r",function(){return Z});b.d(a,"s",function(){return ca});
b.d(a,"t",function(){return fa});b.d(a,"g",function(){return ka});b.d(a,"p",function(){return ma});b.d(a,"q",function(){return ra});b.d(a,"v",function(){return k});b.d(a,"a",function(){return n});b.d(a,"i",function(){return q});b.d(a,"b",function(){return za});var y=b(0),C=b(28),B=function(ia){return function(T,la){return ia({url:T,content:la.query},{usePost:"post"===la.method}).then(function(S){return{data:S}})}},D=function(ia,T,la){return k(ia,T.restUrl+"/portals/self",{culture:la,"default":!0})},
F=function(ia,T,la){return k(ia,T.restUrl+"/content/items/"+la+"/data")},r=function(ia,T,la,S){return k(ia,T.restUrl+"/community/groups",Object(y.a)({q:la},S))},A=function(ia,T,la){return k(ia,T.restUrl+"/community/groups/"+la+"/categorySchema")},G=function(ia,T,la){return k(ia,T.restUrl+"/portals/"+(la||T.id)+"/categorySchema")},H=function(ia,T){return k(ia,T.restUrl+"/portals/"+T.id+"/servers")},J=function(ia,T,la,S){return ia(T.restUrl+"/portals/"+(la||T.id)+"/collaborationsSummary",S)},O=function(ia,
T,la,S){return ia(T.restUrl+"/portals/"+(la||T.id)+"/collaboratedItems",S)},M=function(ia,T,la){return k(ia,location.protocol+"//"+T.portalHostname+"/sharing/rest/portals/"+(la||"self"))},K=function(ia,T,la){return ia(T.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+T.id+" AND access:public",num:100,start:la||1,sortField:"title",sortOrder:"asc"}}).then(function(S){return S.data.total>S.data.start+S.data.num?K(ia,T,S.data.start+S.data.num).then(function(P){return Object(y.a)(Object(y.a)({},
P),{data:Object(y.a)(Object(y.a)({},P.data),{results:S.data.results.concat(P.data.results)})})}):S})},U=function(ia,T,la,S){return ia(T.restUrl+"/community/users/"+la+"/provisionedListings",{query:{f:"json",num:100,start:S||1}}).then(function(P){var I=C.Promise.all(P.data.provisionedListings.filter(function(W){return W.itemId}).map(function(W){return(new C.Promise(function(aa,Q){ia(T.restUrl+"/content/items/"+W.itemId,{method:"get",query:{f:"json"}}).then(function(N){aa(N.data)},Q)}))["catch"](function(aa){return 0})})),
ba=P.data.provisionedListings.map(function(W){return k(ia,T.restUrl+"/content/items/"+(W.id||W.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(aa){return aa},function(aa){})});return P.data.total>P.data.start+P.data.num?U(ia,T,la,P.data.start+P.data.num).then(function(W){return C.Promise.all([I].concat(ba)).then(function(aa){return aa[0].results.concat(d(aa.slice(1))).concat(W)})}):C.Promise.all([I].concat(ba)).then(function(W){return W[0].filter(function(aa){return void 0!==
aa}).concat(d(W.slice(1)))})})},Z=function(ia,T,la){return k(ia,T.restUrl+"/community/users/"+(la||T.user.username))},ca=function(ia,T,la){return k(ia,T.restUrl+"/content/users/"+(la||T.user.username),{num:1})},fa=function(ia,T,la){return k(ia,T.restUrl+"/content/groups/"+la)},ka=function(ia,T,la){return k(ia,T.restUrl+"/community/groups",la)},ma=function(ia,T){return k(ia,T.restUrl+"/portals/self/settings")},ra=function(ia,T){return k(ia,T.restUrl+"/portals/self/trustedOrgs",{num:100})},za=function(ia,
T){return void 0===T&&(T=","),ia.map(function(la){return la.id}).join(T)}},307:function(c,a,b){var d=b(0);c=b(16);var k=b(90);b=function(n){function q(){return null!==n&&n.apply(this,arguments)||this}return Object(d.d)(q,n),q.prototype.render=function(y){return y("div",{"class":"ib-ex-results__item-list"},y("div",{"class":"ib-ex-results__no-items-container"},y("div",{"class":"ib-ex-results__no-items-centered"},y("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},y("path",{fill:"#ccc",d:k.f})),y("p",
{"class":"ib-ex-results__no-items-text"},this.props.text))))},q}(c.Component);a.a=b},372:function(c,a){c.exports=x},373:function(c,a){c.exports=u},374:function(c,a){c.exports=E},375:function(c,a,b){b.d(a,"a",function(){return y});var d=b(0),k=b(69);c=b(254);var n=b.n(c);c=b(16);var q=b(90),y=function(C){function B(D){var F=C.call(this,D)||this;return F.state.searchTerm=F.props.currentSearchString||"",F.debouncedInput=n()(function(){F.props.changeSearchString.apply(F,[F.state.searchTerm])},400),F.handleInputChange=
F.handleInputChange.bind(F),F.handleClear=F.handleClear.bind(F),F}return Object(d.d)(B,C),B.prototype.componentWillReceiveProps=function(D){D.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:D.currentSearchString})},B.prototype.render=function(D){var F=this.props,r=F.title,A=F.placeholder;F=F.controls;var G=this.state.searchTerm||"";return D("div",{"class":"ac-search-area"},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},D("path",
{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"currentColor"})),D("input",{"class":"ac-search-area__input",key:"search-input",title:r,"aria-label":r,type:"search",oninput:this.handleInputChange,value:G,placeholder:A,"aria-controls":F}),G&&D("button",{"class":"ac-search-area__clear",
onclick:this.handleClear,key:"search-input-button","aria-label":k.clearSearch},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},D("path",{d:q.k,fill:"currentColor"}))))},B.prototype.handleInputChange=function(D){this.setState({searchTerm:D.target.value});this.debouncedInput()},B.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},B}(c.Component)},376:function(c,a){c.exports=z},38:function(c,a,b){b.d(a,"b",function(){return d});b.d(a,"d",
function(){return n});b.d(a,"c",function(){return q});b.d(a,"a",function(){return y});b.d(a,"f",function(){return D});var d,k,n,q,y,C=b(0),B=b(25);!function(F){F.openData="openData";F.updateGroups="updateGroups";F.distributed="distributed";F.administrative="administrative";F.orgSettings="orgSettings"}(d||(d={}));(k||(k={})).owner="owner";(function(F){F.itemOwner="itemOwner";F.inOrg="inOrg";F.outsideOrg="outsideOrg"})(n||(n={}));(function(F){F.myOrg="org";F.partnered="collaboration";F.anyOrg="anyOrg"})(q||
(q={}));(function(F){F.USER="USER";F.OWNER="OWNER";F.DESIGNATION="DESIGNATION";F.DATE_CREATED="DATE_CREATED";F.MEMBERSHIP="MEMBERSHIP"})(y||(y={}));var D={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};a.e=function(F,r){switch(void 0===F&&(F=D),r.type){case B.a.CLEAR_FILTERS:switch(r.payload){case y.DESIGNATION:return Object(C.a)(Object(C.a)({},F),{designationFilter:void 0});case y.DATE_CREATED:return Object(C.a)(Object(C.a)({},F),{dateCreatedFilter:void 0});case y.OWNER:return Object(C.a)(Object(C.a)({},
F),{ownerFilter:void 0});case y.USER:return F;case y.MEMBERSHIP:return Object(C.a)(Object(C.a)({},F),{membershipFilter:void 0});default:return Object(C.a)(Object(C.a)({},F),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case B.a.UPDATE_OWNER_FILTER:return Object(C.a)(Object(C.a)({},F),{ownerFilter:r.payload===F.ownerFilter?void 0:r.payload});case B.a.UPDATE_USERNAME_FILTER:return Object(C.a)(Object(C.a)({},F),{currentUsername:r.payload});case B.a.UPDATE_CREATED_ON_FILTER:return Object(C.a)(Object(C.a)({},
F),{dateCreatedFilter:r.payload.created});case B.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(C.a)(Object(C.a)({},F),{designationFilter:r.payload===F.designationFilter?void 0:r.payload});case B.a.UPDATE_MEMBERSHIP_FILTER:return Object(C.a)(Object(C.a)({},F),{membershipFilter:r.payload===F.membershipFilter?void 0:r.payload});case B.a.SET_USERS:return Object(C.a)(Object(C.a)({},F),{allUsers:r.payload.reduce(function(A,G){var H;return Object(C.a)(Object(C.a)({},A),((H={})[G.username]=G,H))},{})});
case B.a.SET_SEARCH_STRING:return Object(C.a)(Object(C.a)({},F),{searchString:r.payload});default:return F}}},416:function(c,a,b){var d,k=b(0);c=b(16);var n=b(54),q=b(535),y=b(38),C=b(532),B=b(534),D=b(533),F=b(536),r=b(26);b=function(G){function H(){return null!==G&&G.apply(this,arguments)||this}return Object(k.d)(H,G),H.prototype.render=function(J){return this.props.availableFilters.map(function(O){return J(A[O],{key:"gb-filter-"+O})})},H}(c.Component);var A=((d={})[y.a.DATE_CREATED]=C.a,d[y.a.OWNER]=
D.a,d[y.a.DESIGNATION]=B.a,d[y.a.USER]=q.a,d[y.a.MEMBERSHIP]=F.a,d);a.a=Object(c.connect)(function(G){var H=Object(n.b)(G)?G:G.gbState,J=H.utils;G=J.portalUser.username;var O=J.portal,M=H.config,K=M.shareMode;J=M.enableUserToggle;H=H.parameters.filter.currentUsername;if(M.withinAppConfig)return{availableFilters:[y.a.OWNER]};if(M.userType===r.e.PUBLIC)switch(K){case r.d.DEFAULT:return{availableFilters:[y.a.OWNER,y.a.DATE_CREATED]};case r.d.GROUP:return{availableFilters:[y.a.DATE_CREATED]}}switch(K){case r.d.DEFAULT:return{availableFilters:Object(k.g)(Object(k.g)([y.a.OWNER],
O.isPortal?[]:[y.a.MEMBERSHIP]),[y.a.DESIGNATION,y.a.DATE_CREATED])};case r.d.GROUP:return{availableFilters:[y.a.DESIGNATION,y.a.DATE_CREATED]};case r.d.ADMIN:return G=J&&G===H?[]:[y.a.OWNER],{availableFilters:Object(k.g)(Object(k.g)(Object(k.g)([],J?[y.a.USER]:[]),G),[y.a.DESIGNATION,y.a.DATE_CREATED])};default:return{availableFilters:[]}}},function(G){return{}})(b)},449:function(c,a){c.exports=p},5:function(c,a,b){function d(F){return 0===Object.keys(F).length&&F.constructor===Object}function k(F){return null!=
F}function n(F,r){return B.apply(null,arguments)}function q(F,r){return D.apply(null,arguments)}b.d(a,"b",function(){return d});b.d(a,"a",function(){return k});b.d(a,"e",function(){return C});b.d(a,"c",function(){return n});b.d(a,"d",function(){return q});var y=b(0);c=b(15);var C=Object(c.a)(function(F,r){var A=Object(y.a)({},r);return delete A[F],A}),B=Object(c.a)(function(F,r){return Object.keys(r).reduce(function(A,G){return A[G]=F(r[G],G,r),A},{})}),D=Object(c.a)(function(F,r){return Object.keys(r).reduce(function(A,
G){return F(r[G],G,r)&&(A[G]=r[G]),A},{})})},51:function(c,a,b){function d(ca){return!(!ca.urlKey||!ca.customBaseUrl)}function k(ca){return ca.role===G.admin||ca.role===G.accountAdmin}function n(ca){return Object(O.a)(ca.roleId)&&0<(ca.roleId||"").length}function q(ca){return!n(ca)||n(ca)&&-1<(ca.privileges||[]).indexOf("portal:admin:viewItems")}function y(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToOrg")}function C(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToGroup")}
function B(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToPublic")}function D(ca,fa){return F(ca)||r(ca)||fa.canSharePublic&&A(ca)}function F(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToGroup")}function r(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToOrg")}function A(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToPublic")}b.d(a,"l",function(){return K});b.d(a,"h",function(){return U});b.d(a,"m",function(){return Z});b.d(a,"k",function(){return d});
b.d(a,"i",function(){return k});b.d(a,"j",function(){return n});b.d(a,"g",function(){return q});b.d(a,"b",function(){return y});b.d(a,"a",function(){return C});b.d(a,"c",function(){return B});b.d(a,"d",function(){return F});b.d(a,"e",function(){return r});b.d(a,"f",function(){return A});var G,H=b(63),J=b(148),O=b(5),M=b(58);!function(ca){ca.user="org_user";ca.accountUser="account_user";ca.publisher="org_publisher";ca.accountPublisher="account_publisher";ca.admin="org_admin";ca.accountAdmin="account_admin";
ca.viewer="iAAAAAAAAAAAAAAA";ca.dataEditor="iBBBBBBBBBBBBBBB"}(G||(G={}));var K=function(ca){var fa=ca.items;return!!ca.user.orgId&&fa.every(function(ka){return ka.isOrgItem})},U=function(ca){var fa=ca.items,ka=ca.user,ma=ca.portal;ca=fa[0];var ra=Object(M.c)(ca,ka),za=n(ka),ia=D(ka,ma);if(za=Object(M.a)(ca,ka)&&-1<(ka.privileges||[]).indexOf("portal:admin:updateItems")&&!za)za=!d(ma)||C(ka)||y(ka)||ma.canSharePublic&&B(ka)||D(ka,ma);ma=za;return!(ca.portal.isPortal&&ca.owner!==ka.username&&-1<ca.owner.indexOf("esri_"))&&
(ra||ma||K({items:fa,user:ka})&&ia)},Z=function(ca,fa){return Object(H.a)(Object(J.a)(ca))(fa)}},530:function(c,a,b){var d=b(0),k=b(69),n=b(284);c=b(16);var q=b(186),y=b(802),C=b(803),B=b(1019),D=b(54),F=b(374),r=b.n(F),A=b(25);F=b(285);var G=b.n(F),H=b(375);b=function(J){function O(M){M=J.call(this,M)||this;return M.handleInputChange=M.handleInputChange.bind(M),M.handleSortFieldChange=M.handleSortFieldChange.bind(M),M.handleSortOrderChange=M.handleSortOrderChange.bind(M),M.handleSortClick=M.handleSortClick.bind(M),
M}return Object(d.d)(O,J),O.prototype.render=function(M){var K=n.substitute(this.props.userFileringEnabled?k.searchGroupsForUser:k.searchGroups,{user:this.props.currentUser});return M("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},M(H.a,{key:"groupbrowser-search-area-input",title:K,placeholder:K,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&
M("div",{"class":"gb-search-area__btn-section"},M(r.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&M(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},
M("div",{"class":"drp-sort__btn-body"},M("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},M("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),M("span",{"class":"drp-sort__btn-label"},k.filter))))},O.prototype.handleInputChange=function(M){this.props.changeSearchString(M);this.props.updateDisplayGroups()},O.prototype.handleSortFieldChange=function(M){this.props.changeSortField(M);this.props.updateDisplayGroups()},O.prototype.handleSortOrderChange=
function(M){this.props.changeSortOrder(M);this.props.updateDisplayGroups()},O.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},O}(c.Component);a.a=Object(c.connect)(function(J){var O=Object(D.b)(J)?J:J.gbState,M=O.ui,K=O.parameters;O=O.config;return{currentSearchString:K.filter.searchString,sortActive:M.sort,sortField:K.sort.field,sortOrder:K.sort.order,filteringEnabled:O.enableFiltering,filtersOpen:M.filter.expanded,isWithinShare:!Object(D.b)(J),userFileringEnabled:O.enableUserToggle,
currentUser:K.filter.currentUsername}},function(J){return{changeSearchString:function(O){return J(Object(q.b)(O))},changeSortField:function(O){return J(Object(y.a)(O))},changeSortOrder:function(O){return J(Object(y.b)(O))},updateDisplayGroups:function(){J(Object(C.a)(1))},toggleSortDropdown:function(){return J(Object(B.a)())},toggleFilterSidebar:function(){J({type:A.a.TOGGLE_EXPANDED_FILTERS})}}})(b)},531:function(c,a,b){var d=b(0),k=b(69);c=b(16);var n=b(54),q=b(416);b=function(y){function C(){return null!==
y&&y.apply(this,arguments)||this}return Object(d.d)(C,y),C.prototype.render=function(B){var D=this.props.filterOpen;return B("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,"ib__big-filters--visible":D,"ib__big-filters--hidden":!D}},B("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!D}},B("h3",{"class":"ib__big-filter-label"},k.filters),B(q.a,{key:"group-browser-filters"})))},C}(c.Component);a.a=Object(c.connect)(function(y){return{filterOpen:(Object(n.b)(y)?
y:y.gbState).ui.filter.expanded}},function(y){return{}})(b)},532:function(c,a,b){c=b(16);var d=b(376);d=b.n(d);var k=b(54),n=b(186),q=b(159);a.a=Object(c.connect)(function(y){y=Object(k.b)(y)?y:y.gbState;return{dateCreatedFilter:y.parameters.filter.dateCreatedFilter,dateCreatedSection:y.ui.filter.dateCreatedSelectedSection}},function(y){return{onDateCreatedSelect:function(C,B){y(Object(n.d)({section:C,created:B}));y(q.b)}}})(d.a)},533:function(c,a,b){var d=b(0),k=b(69);c=b(16);var n=b(54),q=b(186),
y=b(159),C=b(38),B=b(255),D=b.n(B);B=b(216);var F=b.n(B),r=b(26);b=function(A){function G(){return null!==A&&A.apply(this,arguments)||this}return Object(d.d)(G,A),G.prototype.render=function(H){var J=this.props,O=J.currentFilter,M=J.handleOwnerClick,K=J.username,U=J.userType,Z=J.portal,ca=J.hasIndoorsSpaces;return H(D.a,{key:"group-owner-filter-accordion",title:k.owner,clearable:!!O,onClear:function(){M(O)},startActive:!0},H("ul",{"class":"ib-filter-pane__list"},Object.keys(C.d).map(function(fa){if(!(fa===
C.d.inOrg&&U===r.e.PUBLIC||fa===C.d.outsideOrg&&(Z.isPortal||ca))){var ka=k.ownerTitles[fa];fa===C.d.itemOwner?ka=K:fa===C.d.outsideOrg&&U===r.e.PUBLIC&&(ka=k.ownerTitles.someOneElse);var ma=C.d[fa];return H(F.a,{key:ma,name:ka,value:ma,selectedToggle:O,onToggleClick:function(){M(ma)}})}})))},G}(c.Component);a.a=Object(c.connect)(function(A){var G=Object(n.b)(A)?A:A.gbState;A=G.utils;var H=A.portalUser.username,J=G.parameters.filter,O=J.currentUsername;G=G.config;return{currentFilter:J.ownerFilter,
portal:A.portal,username:G.shareMode===r.d.ADMIN?O:H,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(A){return{handleOwnerClick:function(G){A(Object(q.g)(G));A(y.b)}}})(b)},534:function(c,a,b){var d=b(0),k=b(69);c=b(16);var n=b(54),q=b(186),y=b(159),C=b(38),B=b(255),D=b.n(B);B=b(216);var F=b.n(B),r=b(26);b=function(A){function G(){return null!==A&&A.apply(this,arguments)||this}return Object(d.d)(G,A),G.prototype.render=function(H){var J=this.props,O=J.currentFilter,M=J.handleDesignationClick,
K=J.showSharedUpdate,U=J.portal,Z=J.hasIndoorsSpaces;return H(D.a,{key:"group-designation-filter-accordion",title:k.designation,clearable:!!O,onClear:function(){M(O)}},H("ul",{"class":"ib-filter-pane__list"},Object.keys(C.b).filter(function(ca){return!(ca===C.b.updateGroups&&!K)&&(ca!==C.b.openData||!U.isPortal)&&(ca!==C.b.distributed||!Z)}).map(function(ca){var fa=C.b[ca];return H(F.a,{key:fa,name:k.designationFilterTitles[ca],value:fa,selectedToggle:O,onToggleClick:function(){M(fa)},infoTooltip:"orgSettings"===
fa?k.orgSettingsTooltip:void 0})})))},G}(c.Component);a.a=Object(c.connect)(function(A){var G=Object(n.b)(A)?A:A.gbState;A=G.utils;var H=A.portalUser.username,J=G.config,O=J.shareMode;G=G.parameters.filter;var M=G.currentUsername;return{currentFilter:G.designationFilter,portal:A.portal,hasIndoorsSpaces:J.hasIndoorsSpaces,showSharedUpdate:(!J.enableUserToggle||H!==M)&&O!==r.d.GROUP}},function(A){return{handleDesignationClick:function(G){A(Object(q.e)(G));A(y.b)}}})(b)},535:function(c,a,b){var d=b(0),
k=b(69);c=b(16);var n=b(54),q=b(186),y=b(159),C=b(255),B=b.n(C);C=b(216);var D=b.n(C);b=function(F){function r(){return null!==F&&F.apply(this,arguments)||this}return Object(d.d)(r,F),r.prototype.render=function(A){var G=this.props,H=G.currentUsername,J=G.portalUsername,O=G.handleUserClick;return A(B.a,{key:"user-toggle-filter-accordion",title:k.viewGroupsFor,clearable:!1,startActive:!0},A("ul",{"class":"ib-filter-pane__list"},G.allUsernames.map(function(M){var K=M===H;return A(D.a,{key:M,name:J===
M?M+" "+k.me:M,value:M,selectedToggle:H,onToggleClick:function(){K||O(M)}})})))},r}(c.Component);a.a=Object(c.connect)(function(F){F=Object(n.b)(F)?F:F.gbState;var r=F.parameters.filter,A=F.utils.portal.portalUser.username;return{currentUsername:r.currentUsername,portalUsername:A,allUsernames:Object.keys(r.allUsers).sort(function(G){return G===A?1:-1})}},function(F){return{handleUserClick:function(r){F(Object(q.a)());F(Object(q.h)(r));F(y.b)}}})(b)},536:function(c,a,b){var d=b(0),k=b(69);c=b(16);
var n=b(54),q=b(186),y=b(159),C=b(255),B=b.n(C);C=b(216);var D=b.n(C),F=b(38);b=function(r){function A(){return null!==r&&r.apply(this,arguments)||this}return Object(d.d)(A,r),A.prototype.render=function(G){var H=this.props,J=H.currentFilter,O=H.hasTrustedOrgs,M=H.handleMembershipClick;if(!H.hasIndoorsSpaces)return G(B.a,{key:"group-membership-filter-accordion",title:k.membership,clearable:!!J,onClear:function(){M(J)},flex:!0},G("ul",{"class":"ib-filter-pane__list"},Object.keys(F.c).filter(function(K){return O||
"partnered"!==K}).map(function(K){var U=F.c[K];return G(D.a,{key:U,name:k.membershipFilterTitles[K],value:U,selectedToggle:J,onToggleClick:function(){M(U)}})})))},A}(c.Component);a.a=Object(c.connect)(function(r){r=Object(n.b)(r)?r:r.gbState;var A=r.config;return{currentFilter:r.parameters.filter.membershipFilter,hasTrustedOrgs:A.hasTrustedOrgs,hasIndoorsSpaces:A.hasIndoorsSpaces}},function(r){return{handleMembershipClick:function(A){r(Object(q.f)(A));r(y.b)}}})(b)},537:function(c,a,b){var d=b(0);
c=b(16);var k=b(205),n=b.n(k),q=b(542),y=b(538),C=b(144),B=b(54),D=b(137);b=function(F){function r(){var A=null!==F&&F.apply(this,arguments)||this;return A.handleGroupCheck=function(G){if(A.props.enableSingleSelection){var H=Object.keys(A.props.selectedGroups).map(function(J){return A.props.selectedGroups[J].group});A.props.deselectGroups(H)}A.props.selectGroups([G])},A.handleGroupUncheck=function(G){A.props.deselectGroups([G])},A.handleGroupRevert=function(G){A.props.revertGroups([G])},A}return Object(d.d)(r,
F),r.prototype.render=function(A){var G=this.props,H=G.selectorItems,J=G.displayGroups,O=G.selectedGroups,M=G.sortField,K=G.initialSelectedGroups,U=G.portal,Z=G.shouldDisable,ca=G.disabledText,fa=G.noFilters;G=G.status===D.a.LOADING;var ka={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return A("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?A(n.a,{key:"group-browser-loader-bars"}):null,A("section",{classes:ka,
key:"group-browser-section-totals"},A(y.a,{key:"group-browser-totals"})),A("section",{classes:ka,key:"group-browser-section-groups"},A(q.a,{key:"groups-area",selectorItems:H,displayGroups:J,selectedGroups:O,sortField:M,handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:K,portal:U,noFilters:fa,shouldDisable:Z,disabledText:ca})))},r}(c.Component);a.a=Object(c.connect)(function(F){F=Object(B.b)(F)?F:F.gbState;
var r=F.groups,A=F.config,G=F.parameters,H=G.filter,J=H.ownerFilter,O=H.designationFilter,M=H.dateCreatedFilter;return{status:r.status,displayGroups:r.displayGroups,selectedGroups:r.selectedGroups,sortField:G.sort.field,noFilters:!(H.searchString||O||M||J),portal:F.utils.portal,selectorItems:r.selectorItems,initialSelectedGroups:r.initialSelectedGroups,shouldDisable:A.shouldDisable,disabledText:A.disabledText,enableSingleSelection:A.enableSingleSelection}},function(F){return{selectGroups:function(r){return F(Object(C.d)(r))},
deselectGroups:function(r){return F(Object(C.b)(r))},revertGroups:function(r){return F(Object(C.c)(r))}}})(b)},538:function(c,a,b){var d=b(0),k=b(69),n=b(150);c=b(16);var q=b(144),y=b(539),C=b(54),B=b(137),D=b(541);b=function(F){function r(){var A=null!==F&&F.apply(this,arguments)||this;return A.handleSelectAll=function(){A.props.selectGroups(A.props.displayGroups)},A.handleDeselectAll=function(){A.props.deselectGroups(A.props.displayGroups)},A.handleClearSelection=function(){A.props.clearAll()},
A}return Object(d.d)(r,F),r.prototype.render=function(A){var G=this,H=this.props,J=H.displayGroups,O=H.selectedGroups,M=H.selectorItems,K=H.portal,U=H.isWithinShare,Z=H.enableSingleSelection;H=function(ka){var ma=ka.fullySelectedGroups,ra=ka.displayGroups.map(function(za){return za.id});return ma.filter(function(za){return 0<=ra.indexOf(za.id)})}({fullySelectedGroups:H.fullySelectedGroups,displayGroups:J});J=J.length===H.length;H=Object.keys(O).map(function(ka){return O[ka]});var ca="en"===n.locale.slice(0,
2),fa=(ca?k.pageRange.en:k.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);ca=(ca?k.total.en:k.total.other).replace("${total}",this.props.totalItems);return A("div",{"class":"gb-total-area__wrap",key:"gb-total-area__wrap"},A("div",{"class":"gb-total-area__container",key:"gb-total-area-checked"},0<H.length&&A(y.a,{key:"selected-groups-dropdown",groups:H,items:M,handleGroupClick:function(ka){G.props.deselectGroups([ka])},
portal:K}),0<H.length&&A("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn","class":"gb-total-area__btn-link",onclick:this.handleClearSelection},k.clearSelection),0===H.length&&A("span",{"class":"gb-total-area__description"},fa,A("span",{"class":"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},ca)),U||Z?null:J?A("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleDeselectAll},
k.deselectAllOnPage):A("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleSelectAll},k.selectAllOnPage)),A(D.a,{key:"gb-filter-chips"}))},r}(c.Component);a.a=Object(c.connect)(function(F){var r=Object(C.b)(F)?F:F.gbState,A=r.groups,G=A.total,H=A.selectedGroups,J=A.selectorItems,O=r.config,M=O.groupsPerPage;O=O.enableSingleSelection;var K=r.utils.portal,U=r.ui.page.currentPageNumber,Z=0===G?0:M*(U-1)+1;M=G<M*U?G:M*U;return{displayGroups:A.displayGroups,
fullySelectedGroups:Object(B.d)(r.groups),selectedGroups:H,selectorItems:J,startNum:Z,endNum:M,totalItems:G,portal:K,isWithinShare:!Object(C.b)(F),enableSingleSelection:O}},function(F){return{selectGroups:function(r){return F(Object(q.d)(r))},deselectGroups:function(r){return F(Object(q.b)(r))},clearAll:function(){return F(Object(q.a)())}}})(b)},539:function(c,a,b){var d=b(0),k=b(69),n=b(150);c=b(16);var q=b(90),y=b(540),C={open:!1};b=function(B){function D(){var F=null!==B&&B.apply(this,arguments)||
this;return F.state=C,F.handleClick=function(r){r=r.target;F.dropdown&&F.dropdown.contains(r)||((r=F.toggleButton&&F.toggleButton.contains(r))?F.setState({open:!F.state.open}):F.state.open&&!r&&F.setState({open:!1}))},F}return Object(d.d)(D,B),D.prototype.render=function(F){var r=this,A=this.props,G=A.groups,H=A.handleGroupClick,J=A.items,O=A.portal;A=1<G.length?k.groupsSelected.enPlural:k.groupsSelected.en;"en"!==n.locale.slice(0,2)&&(A=k.groupsSelected.other);A=A.replace("${num}",G.length);var M=
J.some(function(K){return!!K.username});return F("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",r.handleClick)},afterRemoved:function(){document.removeEventListener("click",r.handleClick);r.setState(C)}},F("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(K){r.toggleButton=K},afterRemoved:function(){r.toggleButton=void 0}},F("span",{"class":"selected-dropdown__toggle-button__text"},
A),F("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},F("path",{d:q.a}))),this.state.open&&F("div",{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(K){r.dropdown=K},afterRemoved:function(){r.dropdown=void 0}},F("h3",{"class":"selected-dropdown__list__title"},k.selectedGroups),F("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",
key:"selected-dropdown__list",role:"menu"},G.map(function(K){return F(y.a,{selectedGroupData:K,itemTotal:J.length,handleCloseClick:H,key:K.group.id,portal:O,isMemberSelector:M})}))))},D}(c.Component);a.a=b},54:function(c,a,b){b.d(a,"b",function(){return q});b.d(a,"a",function(){return y});b.d(a,"c",function(){return C});c=b(16);a=b(215);var d=b(208),k=b(137),n=b(210);b=b(207);var q=function(B){return!B.gbState},y={config:b.b,parameters:d.b,groups:k.f,ui:n.b,utils:a.b},C=Object(c.combineReducers)({config:b.a,
parameters:d.a,groups:k.b,ui:n.a,utils:a.a})},540:function(c,a,b){var d=b(0),k=b(69),n=b(150);c=b(16);var q=b(249),y=b(90);b=function(C){function B(){return null!==C&&C.apply(this,arguments)||this}return Object(d.d)(B,C),B.prototype.render=function(D){var F=this.props,r=F.selectedGroupData,A=F.handleCloseClick,G=F.itemTotal,H=F.portal,J=r.group;r=r.selectedByIds&&r.selectedByIds.length;F=F.isMemberSelector?k.membersSelected:k.itemsSelected;F="en"===n.locale.slice(0,2)?F.en.replace("${num}",r).replace("${total}",
G):F.other.replace("${num}",r).replace("${total}",G);var O=k.deselectGroup.replace("${name}",J.title);return D("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:J.id},D(q.a,{group:J,stacked:!0,portal:H}),D("span",{"class":"selected-dropdown__list-item__description"},J.title,r!==G&&D("span",{"class":"selected-dropdown__list-item__count"},F)),D("button",{"class":"selected-dropdown__list-item__button",onclick:function(){A(J)},"aria-label":O},D("svg",null,D("path",{d:y.j}))))},B}(c.Component);
a.a=b},541:function(c,a,b){var d=b(0),k=b(69),n=b(284);c=b(16);var q=b(54),y=b(38),C=b(449),B=b.n(C),D=b(186),F=b(159),r=b(26);b=function(G){function H(){var J=null!==G&&G.apply(this,arguments)||this;return J.state={filterOpen:!1},J}return Object(d.d)(H,G),H.prototype.render=function(J){var O=this,M=this.props,K=M.activeFilters,U=M.handleClearAllFilters,Z=M.handleClearFilter,ca=this.state.filterOpen;if(0!==K.length)return J("div",{"class":"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},
J("div",{"class":"filter-controller__container",key:"filter-controller__container"},J("span",{"class":"filter-controller__label"},k.filters,":"),J("div",{"class":"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},ca?K.map(function(fa){return J(B.a,{filterId:fa.type,handleRemoveFilter:function(ka){Z(fa.type)},key:fa.type,text:fa.text})}):J(B.a,{filterId:K[0].type,handleRemoveFilter:function(fa){Z(K[0].type)},key:K[0].type,text:K[0].text}),1<K.length&&
J("button",{onclick:function(){return O.setState({filterOpen:!ca})},key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":ca}},(ca?"- ":"+ ")+(K.length-1)),J("button",{"class":"filter-controller__clear-btn",onclick:U},k.clearAll))))},H}(c.Component);a.a=Object(c.connect)(function(G){G=Object(q.b)(G)?G:G.gbState;return{activeFilters:A({filterState:G.parameters.filter,username:G.utils.portalUser.username,isPublic:G.config.userType===r.e.PUBLIC})}},
function(G){return{handleClearAllFilters:function(){G(Object(D.a)());G(F.b)},handleClearFilter:function(H){G(Object(D.a)(H));G(F.b)}}})(b);var A=function(G){var H=G.filterState,J=H.designationFilter,O=H.ownerFilter,M=H.dateCreatedFilter,K=H.membershipFilter;H=G.username;G=G.isPublic;var U=[];J&&U.push({text:n.substitute(k.filterChips.designation,{designation:k.designationFilterTitles[J]}),type:y.a.DESIGNATION});O&&(J=O===y.d.itemOwner&&H||k.ownerTitles[O],O===y.d.outsideOrg&&G&&(J=k.ownerTitles.someOneElse),
U.push({text:n.substitute(k.filterChips.owner,{owner:J}),type:y.a.OWNER}));if(M&&U.push({text:n.substitute(k.filterChips.created,{created:M.label}),type:y.a.DATE_CREATED}),K){var Z="";Object.keys(y.c).some(function(ca){return y.c[ca]===K&&(Z=ca),Z});U.push({text:n.substitute(k.filterChips.membership,{membership:k.membershipFilterTitles[Z]}),type:y.a.MEMBERSHIP})}return U}},542:function(c,a,b){var d=b(69);c=b(543);var k=b.n(c);c=b(544);var n=b.n(c),q=b(307),y=b(137);a.a=function(C,B){var D=C.displayGroups,
F=C.handleGroupCheck,r=C.handleGroupUncheck,A=C.selectedGroups,G=C.sortField,H=C.portal,J=C.selectorItems,O=C.initialSelectedGroups,M=C.handleGroupRevert,K=C.shouldDisable,U=C.noFilters,Z=C.disabledText;return 0===D.length?B(q.a,{key:"no-group-results",text:U?d.noGroupsAvailable:d.noGroupsFound}):D.map(function(ca){var fa=A[ca.id],ka=fa&&Object(y.e)(fa,J);if(0===J.length)return B(k.a,{checked:ka,group:ca,key:ca.id,sortField:G,onCheckGroup:F,onUncheckGroup:r,portal:H,shouldDisable:K,disabledText:Z});
var ma=O[ca.id],ra=!!(fa&&!ka&&fa.selectedByIds&&0<fa.selectedByIds.length);ma=ma&&ma.selectedByIds||[];var za=fa&&fa.selectedByIds||[];fa=J.filter(function(ia){return-1<za.indexOf(ia.id)});return B(n.a,{group:ca,checked:ka,indeterminate:ra,initialSelectedByIds:ma,selectedBy:fa,allSelectorItemIds:J.map(function(ia){return ia.id}),key:ca.id,sortField:G,onCheckGroup:F,onUncheckGroup:r,onRevertGroup:M,portal:H,shouldDisable:K,disabledText:"",selectors:J})})}},543:function(c,a){c.exports=m},544:function(c,
a){c.exports=e},58:function(c,a,b){function d(B,D){return(null==B?void 0:B.owner)===D.username}function k(B,D){var F;if(!(F=d(B,D)))if(Object(q.a)(B.isAdmin))F=!!B.isAdmin;else{F=B.owner;var r="admin"===B.itemControl;F=!(B.portal.isPortal&&!d(B,D)&&r&&-1<F.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(F))&&r}return F}function n(B,D){return k(B,D)||"update"===B.itemControl}b.d(a,"d",function(){return d});b.d(a,"c",function(){return k});b.d(a,"a",function(){return n});
b.d(a,"b",function(){return C});var q=b(5),y=b(51),C=function(B){var D=B.user,F=B.items;B=B.portal;return Object(y.l)({items:F,user:D})&&Object(y.h)({items:F,user:D,portal:B})&&Object(y.g)(D)&&F[0].itemOwner||D}},61:function(c,a,b){function d(U){var Z=U.groupIds,ca=U.shareLevelOptions,fa=U.restUrl,ka=U.request,ma=U.unshare;return C.Promise.all(U.items.map(function(ra,za){return new C.Promise(function(ia,T){ka(fa+"/content/items/"+(ra.itemId||ra.id)+"/"+(ma?"unshare":"share"),{method:"post",query:Object(q.a)({f:"json",
groups:Z,confirmItemControl:!0},ca||{})}).then(ia,T)})}))["catch"](function(ra){throw ra;})}function k(U,Z){return new C.Promise(function(ca,fa){var ka,ma=null===(ka=U.helpMap)||void 0===ka?void 0:ka.m;ma?ca(ma):Z(U.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(ra){var za;ca(null===(za=ra.data.helpMap)||void 0===za?void 0:za.m)},fa)})}b.d(a,"h",function(){return D});b.d(a,"g",function(){return F});b.d(a,"b",function(){return r});b.d(a,"e",function(){return A});b.d(a,"d",
function(){return G});b.d(a,"f",function(){return M});b.d(a,"c",function(){return K});b.d(a,"a",function(){return k});var n,q=b(0),y=b(30),C=b(28);c=b(26);var B=b(58),D=function(U){var Z=U.items,ca=U.groups,fa=U.restUrl,ka=U.request,ma=U.portalUser;if(0===Z.length)return C.Promise.resolve();var ra=Object(y.b)(ca);return Z.every(function(za){return Object(B.d)(za,ma)})?new C.Promise(function(za,ia){if(!ca||0===ca.length)return za();var T={f:"json",items:Object(y.b)(Z),groups:ra};ka(fa+"/content/users/"+
ma.username+"/unshareItems",{method:"post",query:T}).then(za,ia)}):d({items:Z,groupIds:ra,restUrl:fa,request:ka,unshare:!0})},F=function(U){var Z=U.items,ca=U.groups,fa=U.restUrl,ka=U.request,ma=U.portalUser,ra=U.selectedOptions;U=U.ignoreShareLevel;if(0===Z.length)return C.Promise.resolve();if(!U&&!ra)throw"Selected options must be provided unless share level is ignored.";var za=Object(y.b)(ca),ia=U?{}:H(ra);return Z.every(function(T){return Object(B.d)(T,ma)})?new C.Promise(function(T,la){ka(fa+
"/content/users/"+ma.username+"/shareItems",{method:"post",query:Object(q.a)({f:"json",items:Object(y.b)(Z),groups:za,confirmItemControl:!0},ia)}).then(function(S){S=S.data;S.results.every(function(P){return P.success})?T():la(S)},la)}):d({items:Z,groupIds:za,shareLevelOptions:ia,restUrl:fa,request:ka})},r=function(U){return U.reduce(function(Z,ca){return Object(q.g)(Object(q.g)([],Z),ca)},[])},A=function(U){return 1<Object.keys(U).filter(function(Z){return"total"!==Z&&0<U[Z]}).length},G=function(U){return Object.keys(U).filter(function(Z){return"total"!==
Z}).reduce(function(Z,ca){return U[ca]===U.total?ca:Z})},H=function(U){return A(U)?{}:J[G(U)]},J=((n={})[c.b["public"]]={org:!1,everyone:!0},n[c.b.org]={org:!0,everyone:!1},n[c.b["private"]]={org:!1,everyone:!1},n[c.b.shared]={org:!1,everyone:!1},n),O="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),M=function(U){var Z,ca,fa=U.typeKeywords,ka=
U.type;ka=O.some(function(ra){return-1<fa.indexOf(ra)})&&"Real Time Analytic"!==ka&&"Big Data Analytic"!==ka;var ma=!(null===(Z=null==U?void 0:U.portal)||void 0===Z?0:Z.isPortal)&&"Image Service"===U.type&&-1<(null===(ca=U.url)||void 0===ca?void 0:ca.indexOf("://iservices"))&&-1<U.url.indexOf("arcgis.com");U="Knowledge Graph"===U.type;return ka||ma||U},K=function(U,Z,ca){return ca&&Z["public"]===Z.total?U.filter(function(fa){return-1<fa.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(c,
a,b){function d(){for(var k=[],n=0;n<arguments.length;n++)k[n]=arguments[n];return function(q){return k.reduceRight(function(y,C){return C(y)},q)}}b.d(a,"a",function(){return d})},68:function(c,a,b){var d;b.d(a,"a",function(){return d});(function(k){k.LOADING_GROUPS="LOADING_GROUPS";k.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";k.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";k.SELECT_GROUPS="SELECT_GROUPS";k.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";k.DESELECT_GROUPS="DESELECT_GROUPS";k.REVERT_GROUPS="REVERT_GROUPS";
k.CLEAR_SELECTION="CLEAR_SELECTION";k.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";k.SET_HAS_GROUPS="SET_HAS_GROUPS"})(d||(d={}))},69:function(c,a){c.exports=L},802:function(c,a,b){b.d(a,"a",function(){return k});b.d(a,"b",function(){return n});var d=b(83),k=function(q){return{type:d.a.CHANGE_SORT_FIELD,payload:q}},n=function(q){return{type:d.a.CHANGE_SORT_ORDER,payload:q}}},803:function(c,a,b){b.d(a,"a",function(){return n});var d=b(159),k=b(204),n=function(q){return function(y,C){y({type:k.a.SET_PAGE,
payload:q});y(d.b)}}},83:function(c,a,b){var d;b.d(a,"a",function(){return d});(function(k){k.SET_SEARCH_STRING="SET_SEARCH_STRING";k.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";k.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";k.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";k.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";k.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";k.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";k.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";k.SET_USERS="SET_USERS";
k.CLEAR_FILTERS="CLEAR_FILTERS"})(d||(d={}))},855:function(c,a,b){b.r(a);var d=b(0),k=b(69);c=b(16);var n=b(54);b.d(a,"reducers",function(){return n.c});b.d(a,"initialState",function(){return n.a});var q=b(144);b.d(a,"deselectGroups",function(){return q.b});b.d(a,"selectGroups",function(){return q.d});var y=b(159);b.d(a,"search",function(){return y.b});var C=b(803),B=b(372),D=b.n(B),F=b(530),r=b(531),A=b(537);B=b(373);var G=b.n(B),H=b(416),J=b(226);b=function(O){function M(){var K=null!==O&&O.apply(this,
arguments)||this;return K.handlePageChange=function(U){var Z;K.props.setPageAndUpdateGroups(U);(null===(Z=K.el)||void 0===Z?0:Z.parentElement)&&(K.el.parentElement.scrollTop=0)},K}return Object(d.d)(M,O),M.prototype.render=function(K){var U=this,Z=this.props,ca=Z.currentTotal,fa=Z.groupsPerPage,ka=Z.currentPage,ma=Z.filtersOpen;Z=Z.toggleFilters;return K("div",{"class":"group-browser__container",afterCreate:function(ra){ra&&!U.el&&(U.el=ra)}},K(F.a,{key:"group-browser-search-area"}),K("div",{"class":"ib__big-row"},
K(r.a,{key:"group-browser-filter-sidebar"}),K(A.a,{key:"group-browser-results-panel"})),K(D.a,{key:"group-browse-pager",numPages:fa>ca?1:Math.ceil(ca/fa),currentPage:ka,onPageChange:this.handlePageChange}),K("div",{"class":"ib__big-overlay-filters"},K(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:ma,onClose:Z,title:k.filters},K(H.a,{key:"mobile-filters"}))))},M}(c.Component);a["default"]=Object(c.connect)(function(O){O=Object(n.b)(O)?O:O.gbState;var M=O.ui;return{currentPage:M.page.currentPageNumber,
groupsPerPage:O.config.groupsPerPage,currentTotal:O.groups.total,filtersOpen:M.filter.expanded}},function(O){return{setPageAndUpdateGroups:function(M){O(Object(C.a)(M))},toggleFilters:function(){O(Object(J.i)())}}})(b)},90:function(c,a,b){b.d(a,"a",function(){return d});b.d(a,"b",function(){return k});b.d(a,"c",function(){return n});b.d(a,"d",function(){return q});b.d(a,"e",function(){return y});b.d(a,"h",function(){return C});b.d(a,"i",function(){return B});b.d(a,"j",function(){return D});b.d(a,
"k",function(){return F});b.d(a,"g",function(){return r});b.d(a,"f",function(){return A});var d="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",k="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",n="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
q="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",y="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",C="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
B="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
D="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",F="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",r="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",A="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(c,a,b){function d(B,D){if(null==B?0:B.length)for(var F=void 0,r=0;r<B.length;r++)if(D(F=B[r]))return F}function k(B){return B.filter(function(D){return 0<D.length})}function n(B,D,F){var r=[];return D.forEach(function(A){(F?A[F].toLowerCase()===B.toLowerCase():A.toLowerCase()===B.toLowerCase())?r.unshift(A):r.push(A)}),r}b.d(a,"e",function(){return q});b.d(a,"f",function(){return y});b.d(a,"c",function(){return d});b.d(a,"b",function(){return k});b.d(a,"a",function(){return C});b.d(a,
"d",function(){return n});c=b(15);var q=function(B,D,F){return F.indexOf(B)===D},y=Object(c.a)(function(B,D){var F={};return D.filter(function(r){return!F[r[B]]&&(F[r[B]]=!0,!0)})}),C=function(B,D){return B.length===D.length&&B.reduce(function(F,r){return F&&-1<D.indexOf(r)},!0)}}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],
function(V,L,v,w,t){return function(l){function f(h){if(g[h])return g[h].exports;var x=g[h]={i:h,l:!1,exports:{}};return l[h].call(x.exports,x,x.exports,f),x.l=!0,x.exports}var g={};return f.m=l,f.c=g,f.d=function(h,x,u){f.o(h,x)||Object.defineProperty(h,x,{enumerable:!0,get:u})},f.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,x){if((1&x&&(h=f(h)),8&x)||4&x&&
"object"==typeof h&&h&&h.__esModule)return h;var u=Object.create(null);if(f.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:h}),2&x&&"string"!=typeof h)for(var E in h)f.d(u,E,function(z){return h[z]}.bind(null,E));return u},f.n=function(h){var x=h&&h.__esModule?function(){return h["default"]}:function(){return h};return f.d(x,"a",x),x},f.o=function(h,x){return Object.prototype.hasOwnProperty.call(h,x)},f.p="",f(f.s=856)}({0:function(l,f,g){function h(c,a){function b(){this.constructor=
c}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function x(c,a){var b={},d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&0>a.indexOf(d)&&(b[d]=c[d]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(d=Object.getOwnPropertySymbols(c);k<d.length;k++)0>a.indexOf(d[k])&&Object.prototype.propertyIsEnumerable.call(c,d[k])&&
(b[d[k]]=c[d[k]])}return b}function u(c,a,b,d){var k,n=arguments.length,q=3>n?a:null===d?d=Object.getOwnPropertyDescriptor(a,b):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(c,a,b,d);else for(var y=c.length-1;0<=y;y--)(k=c[y])&&(q=(3>n?k(q):3<n?k(a,b,q):k(a,b))||q);return 3<n&&q&&Object.defineProperty(a,b,q),q}function E(c,a,b,d){return new (b||(b=Promise))(function(k,n){function q(B){try{C(d.next(B))}catch(D){n(D)}}function y(B){try{C(d["throw"](B))}catch(D){n(D)}}
function C(B){var D;B.done?k(B.value):(D=B.value,D instanceof b?D:new b(function(F){F(D)})).then(q,y)}C((d=d.apply(c,a||[])).next())})}function z(c,a){function b(C){return function(B){return function(D){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,k&&(n=2&D[0]?k["return"]:D[0]?k["throw"]||((n=k["return"])&&n.call(k),0):k.next)&&!(n=n.call(k,D[1])).done)return n;switch(k=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return y.label++,{value:D[1],done:!1};
case 5:y.label++;k=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(n=y.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))y.label=D[1];else if(6===D[0]&&y.label<n[1])y.label=n[1],n=D;else if(n&&y.label<n[2])y.label=n[2],y.ops.push(D);else{n[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(c,y)}catch(F){D=[6,F],k=0}finally{d=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,B])}}var d,k,n,q,y={label:0,
sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function p(c,a){for(var b=0,d=a.length,k=c.length;b<d;b++,k++)c[k]=a[b];return c}g.d(f,"d",function(){return h});g.d(f,"a",function(){return e});g.d(f,"f",function(){return x});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return p});var m=function(c,
a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(b[k]=d[k])})(c,a)},e=function(){return(e=Object.assign||function(c){for(var a,b=1,d=arguments.length;b<d;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(c[k]=a[k]);return c}).apply(this,arguments)};Object.create;Object.create},128:function(l,f,g){g.d(f,"a",function(){return x});g.d(f,"b",function(){return u});
var h=g(0);l=g(15);var x=function(E,z){var p;return z.thumbnail&&(p=E.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),p},u=Object(l.a)(function(E,z){return Object(h.a)(Object(h.a)({},z),{thumbURI:x(E,z)})})},15:function(l,f,g){function h(u){return function z(){for(var p=this,m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return m.length>=u.length?u.call.apply(u,Object(x.g)([this],m)):function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=
arguments[a];return z.call.apply(z,Object(x.g)(Object(x.g)([p],m),c))}}}g.d(f,"a",function(){return h});var x=g(0)},151:function(l,f){l.exports=L},18:function(l,f){l.exports=V},249:function(l,f,g){var h=g(128);f.a=function(x,u){var E=x.group,z=x.stacked,p=x.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!E.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":x.transparent};if(E.thumbnail&&!E.thumbURI&&p&&(E.thumbURI=Object(h.a)(p,E)),E.thumbURI)return u("img",
{src:E.thumbURI,classes:z,alt:E.title});p=!(!E.title.charAt(0)||!E.title.charAt(0).match(/^\w+$/));return u("div",{key:"group-thumbnail-"+E.id,classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},u("path",{fill:"#"+E.id.substr(E.id.length-6),d:"M0 0h65v65H0z"}),u("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),p?u("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},E.title.slice(0,1).toUpperCase()):u("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(l,f){l.exports=v},377:function(l,f){l.exports=w},450:function(l,f){l.exports=t},856:function(l,f,g){g.r(f);var h=g(0),x=g(450),u=g(151);l=g(18);var E=g(249),z=g(308),p=g.n(z);z=g(377);var m=g.n(z);g=function(e){function c(){var a=null!==e&&e.apply(this,arguments)||this;return a.handleCheckClick=function(){var b,d;null!==(d=(b=a.props).shouldDisable)&&void 0!==d&&d.call(b,a.props.group)||(b=a.props.checked?a.props.onUncheckGroup:a.props.onCheckGroup)&&b(a.props.group)},a}return Object(h.d)(c,
e),c.prototype.render=function(a){var b=this.props,d=b.checked,k=b.group,n=b.portal,q=b.key,y=b.shouldDisable;b=k.owner;var C=k.title,B=this.props,D=B.group;var F=D.created;D=D.modified;F=(B=B.sortField)&&"created"===B?x.created+": "+u.format(new Date(F),{selector:"date",formatLength:"medium"}):x.modified+": "+u.format(new Date(0<D?D:F),{selector:"date",formatLength:"medium"});B=(y=!(null==y||!y(this.props.group)))&&this.props.disabledText;return a("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":this.props.checked,
"gcard-gcc__container--disabled":y},key:q,onclick:this.handleCheckClick},a(p.a,{key:"gcard-gcc__checkbox-"+k.id,checked:d,onChange:this.handleCheckClick,title:C}),a(E.a,{group:this.props.group,portal:this.props.portal}),a("div",{"class":"gcard-gcc__flex"},a("div",{"class":"gcard-gcc__title-owner"},a("span",{"class":"gcard-gcc__title"},C),a("a",{href:n.baseUrl+"/home/user.html?user\x3d"+b,"class":"gcard-gcc__owner",target:"_blank"},b),a("span",{"class":"gcard-gcc__small-info"},F),B?a("div",{"class":"gcard-gcc__disabled-text"},
a("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),a("span",{"class":"margin-left-quarter font-size--2"},this.props.disabledText)):null),a("div",{"class":"gcard-gcc__info"},a("span",null,F))),a(m.a,{key:"gcard-gcc__toggle-"+k.id,id:"gcard-toggle-"+k.id,value:d,handleToggleClick:this.handleCheckClick,
label:""}))},c}(l.Component);f["default"]=g}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(V){return function(L){function v(t){if(w[t])return w[t].exports;var l=w[t]={i:t,l:!1,exports:{}};return L[t].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var w={};return v.m=L,v.c=w,v.d=function(t,l,f){v.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:f})},v.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},v.t=function(t,l){if((1&l&&(t=v(t)),8&l)||4&l&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(v.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var g in t)v.d(f,g,function(h){return t[h]}.bind(null,g));return f},v.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return v.d(l,"a",l),l},v.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,
l)},v.p="",v(v.s=825)}({0:function(L,v,w){function t(z,p){function m(){this.constructor=z}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(z,p);z.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)}function l(z,p){var m={},e;for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&0>p.indexOf(e)&&(m[e]=z[e]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(e=Object.getOwnPropertySymbols(z);c<
e.length;c++)0>p.indexOf(e[c])&&Object.prototype.propertyIsEnumerable.call(z,e[c])&&(m[e[c]]=z[e[c]])}return m}function f(z,p,m,e){var c,a=arguments.length,b=3>a?p:null===e?e=Object.getOwnPropertyDescriptor(p,m):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,p,m,e);else for(var d=z.length-1;0<=d;d--)(c=z[d])&&(b=(3>a?c(b):3<a?c(p,m,b):c(p,m))||b);return 3<a&&b&&Object.defineProperty(p,m,b),b}function g(z,p,m,e){return new (m||(m=Promise))(function(c,a){function b(n){try{k(e.next(n))}catch(q){a(q)}}
function d(n){try{k(e["throw"](n))}catch(q){a(q)}}function k(n){var q;n.done?c(n.value):(q=n.value,q instanceof m?q:new m(function(y){y(q)})).then(b,d)}k((e=e.apply(z,p||[])).next())})}function h(z,p){function m(k){return function(n){return function(q){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,c&&(a=2&q[0]?c["return"]:q[0]?c["throw"]||((a=c["return"])&&a.call(c),0):c.next)&&!(a=a.call(c,q[1])).done)return a;switch(c=0,a&&(q=[2&q[0],a.value]),q[0]){case 0:case 1:a=
q;break;case 4:return d.label++,{value:q[1],done:!1};case 5:d.label++;c=q[1];q=[0];continue;case 7:q=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==q[0]&&2!==q[0])){d=0;continue}if(3===q[0]&&(!a||q[1]>a[0]&&q[1]<a[3]))d.label=q[1];else if(6===q[0]&&d.label<a[1])d.label=a[1],a=q;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(q);else{a[2]&&d.ops.pop();d.trys.pop();continue}}q=p.call(z,d)}catch(y){q=[6,y],c=0}finally{e=a=0}if(5&q[0])throw q[1];return{value:q[0]?
q[1]:void 0,done:!0}}([k,n])}}var e,c,a,b,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:m(0),"throw":m(1),"return":m(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function x(z,p){for(var m=0,e=p.length,c=z.length;m<e;m++,c++)z[c]=p[m];return z}w.d(v,"d",function(){return t});w.d(v,"a",function(){return E});w.d(v,"f",function(){return l});w.d(v,"c",function(){return f});w.d(v,"b",function(){return g});w.d(v,"e",function(){return h});
w.d(v,"g",function(){return x});var u=function(z,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(m[c]=e[c])})(z,p)},E=function(){return(E=Object.assign||function(z){for(var p,m=1,e=arguments.length;m<e;m++)for(var c in p=arguments[m])Object.prototype.hasOwnProperty.call(p,c)&&(z[c]=p[c]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(L,v){L.exports=
V},825:function(L,v,w){w.r(v);var t=w(0);L=function(l){function f(g){g=l.call(this,g)||this;return g.handleCheckChange=g.handleCheckChange.bind(g),g}return Object(t.d)(f,l),f.prototype.render=function(g){var h=Object(t.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),x={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},u=this.props.large?
"20":"16";return g("span",{classes:h,key:this.props.key},g("input",{type:"checkbox",checked:this.props.checked,classes:{"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},indeterminate:this.props.indeterminate,onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,"aria-label":this.props.title,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),g("span",{classes:x},this.props.checked?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",
width:u,height:u,viewBox:"0 0 16 16"},g("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 16 16"},g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},f.prototype.handleCheckChange=function(g){var h,x;g.stopPropagation();g.preventDefault();this.props.disabled||null!==(x=null===(h=this.props)||void 0===h?void 0:h.onChange)&&void 0!==x&&
x.call(h,!this.props.checked)},f}(w(16).Component);v["default"]=L}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox","../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(V,L,v,w,t){return function(l){function f(h){if(g[h])return g[h].exports;var x=g[h]={i:h,l:!1,exports:{}};return l[h].call(x.exports,x,x.exports,f),x.l=!0,x.exports}var g=
{};return f.m=l,f.c=g,f.d=function(h,x,u){f.o(h,x)||Object.defineProperty(h,x,{enumerable:!0,get:u})},f.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,x){if((1&x&&(h=f(h)),8&x)||4&x&&"object"==typeof h&&h&&h.__esModule)return h;var u=Object.create(null);if(f.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:h}),2&x&&"string"!=typeof h)for(var E in h)f.d(u,
E,function(z){return h[z]}.bind(null,E));return u},f.n=function(h){var x=h&&h.__esModule?function(){return h["default"]}:function(){return h};return f.d(x,"a",x),x},f.o=function(h,x){return Object.prototype.hasOwnProperty.call(h,x)},f.p="",f(f.s=857)}({0:function(l,f,g){function h(c,a){function b(){this.constructor=c}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}function x(c,a){var b={},d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&0>a.indexOf(d)&&(b[d]=c[d]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(d=Object.getOwnPropertySymbols(c);k<d.length;k++)0>a.indexOf(d[k])&&Object.prototype.propertyIsEnumerable.call(c,d[k])&&(b[d[k]]=c[d[k]])}return b}function u(c,a,b,d){var k,n=arguments.length,q=3>n?a:null===d?d=Object.getOwnPropertyDescriptor(a,b):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=
Reflect.decorate(c,a,b,d);else for(var y=c.length-1;0<=y;y--)(k=c[y])&&(q=(3>n?k(q):3<n?k(a,b,q):k(a,b))||q);return 3<n&&q&&Object.defineProperty(a,b,q),q}function E(c,a,b,d){return new (b||(b=Promise))(function(k,n){function q(B){try{C(d.next(B))}catch(D){n(D)}}function y(B){try{C(d["throw"](B))}catch(D){n(D)}}function C(B){var D;B.done?k(B.value):(D=B.value,D instanceof b?D:new b(function(F){F(D)})).then(q,y)}C((d=d.apply(c,a||[])).next())})}function z(c,a){function b(C){return function(B){return function(D){if(d)throw new TypeError("Generator is already executing.");
for(;y;)try{if(d=1,k&&(n=2&D[0]?k["return"]:D[0]?k["throw"]||((n=k["return"])&&n.call(k),0):k.next)&&!(n=n.call(k,D[1])).done)return n;switch(k=0,n&&(D=[2&D[0],n.value]),D[0]){case 0:case 1:n=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;k=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(n=y.trys,(n=0<n.length&&n[n.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!n||D[1]>n[0]&&D[1]<n[3]))y.label=D[1];else if(6===D[0]&&y.label<n[1])y.label=
n[1],n=D;else if(n&&y.label<n[2])y.label=n[2],y.ops.push(D);else{n[2]&&y.ops.pop();y.trys.pop();continue}}D=a.call(c,y)}catch(F){D=[6,F],k=0}finally{d=n=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,B])}}var d,k,n,q,y={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return q={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function p(c,a){for(var b=0,d=a.length,k=c.length;b<d;b++,k++)c[k]=
a[b];return c}g.d(f,"d",function(){return h});g.d(f,"a",function(){return e});g.d(f,"f",function(){return x});g.d(f,"c",function(){return u});g.d(f,"b",function(){return E});g.d(f,"e",function(){return z});g.d(f,"g",function(){return p});var m=function(c,a){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(b[k]=d[k])})(c,a)},e=function(){return(e=Object.assign||function(c){for(var a,
b=1,d=arguments.length;b<d;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(c[k]=a[k]);return c}).apply(this,arguments)};Object.create;Object.create},128:function(l,f,g){g.d(f,"a",function(){return x});g.d(f,"b",function(){return u});var h=g(0);l=g(15);var x=function(E,z){var p;return z.thumbnail&&(p=E.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(E.credential?"?token\x3d"+E.credential.token:"")),p},u=Object(l.a)(function(E,z){return Object(h.a)(Object(h.a)({},
z),{thumbURI:x(E,z)})})},15:function(l,f,g){function h(u){return function z(){for(var p=this,m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];return m.length>=u.length?u.call.apply(u,Object(x.g)([this],m)):function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return z.call.apply(z,Object(x.g)(Object(x.g)([p],m),c))}}}g.d(f,"a",function(){return h});var x=g(0)},18:function(l,f){l.exports=V},181:function(l,f,g){g.d(f,"b",function(){return E});g.d(f,"c",function(){return z});g.d(f,"a",
function(){return p});var h=g(63);l=g(5);var x=g(99),u=g(128),E=function(m,e){return Object(h.a)(Object(u.b)(m))(e)},z=Object(h.a)(Object(l.e)("thumbURI")),p=function(m){var e=m.initialSelectedByIds;return!Object(x.a)(m.selectedBy.map(function(c){return c.id}),e)}},249:function(l,f,g){var h=g(128);f.a=function(x,u){var E=x.group,z=x.stacked,p=x.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!E.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":x.transparent};
if(E.thumbnail&&!E.thumbURI&&p&&(E.thumbURI=Object(h.a)(p,E)),E.thumbURI)return u("img",{src:E.thumbURI,classes:z,alt:E.title});p=!(!E.title.charAt(0)||!E.title.charAt(0).match(/^\w+$/));return u("div",{key:"group-thumbnail-"+E.id,classes:z},u("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},u("path",{fill:"#"+E.id.substr(E.id.length-6),d:"M0 0h65v65H0z"}),u("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),p?u("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?
"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},E.title.slice(0,1).toUpperCase()):u("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(l,f){l.exports=L},349:function(l,f){l.exports=v},377:function(l,f){l.exports=w},408:function(l,f){l.exports=t},5:function(l,f,g){function h(c){return 0===Object.keys(c).length&&c.constructor===Object}function x(c){return null!=c}function u(c,a){return m.apply(null,arguments)}function E(c,a){return e.apply(null,arguments)}g.d(f,"b",function(){return h});g.d(f,"a",function(){return x});g.d(f,"e",function(){return p});g.d(f,"c",function(){return u});g.d(f,"d",function(){return E});var z=
g(0);l=g(15);var p=Object(l.a)(function(c,a){var b=Object(z.a)({},a);return delete b[c],b}),m=Object(l.a)(function(c,a){return Object.keys(a).reduce(function(b,d){return b[d]=c(a[d],d,a),b},{})}),e=Object(l.a)(function(c,a){return Object.keys(a).reduce(function(b,d){return c(a[d],d,a)&&(b[d]=a[d]),b},{})})},63:function(l,f,g){function h(){for(var x=[],u=0;u<arguments.length;u++)x[u]=arguments[u];return function(E){return x.reduceRight(function(z,p){return p(z)},E)}}g.d(f,"a",function(){return h})},
857:function(l,f,g){g.r(f);var h=g(0),x=g(408);l=g(18);var u=g(249),E=g(308),z=g.n(E);E=g(377);var p=g.n(E),m=g(349),e=g.n(m),c=g(181);g=function(b){function d(){var k=null!==b&&b.apply(this,arguments)||this;return k.handleAssignedLinkClick=function(n){n.stopPropagation()},k.handleCheckClick=function(){var n,q;null!==(q=(n=k.props).shouldDisable)&&void 0!==q&&q.call(n,k.props.group)||(n=k.props.checked?k.props.onUncheckGroup:k.props.onCheckGroup,null==n||n(k.props.group))},k}return Object(h.d)(d,
b),d.prototype.render=function(k){var n=this,q=this.props,y=q.checked,C=q.group,B=q.indeterminate,D=q.key,F=q.selectedBy,r=q.initialSelectedByIds,A=q.portal,G=q.shouldDisable,H=q.disabledText;q=q.selectors;var J=C.title,O=C.id+"-badge",M=a(this.props,k);G=!(null==G||!G(C));var K=Object(m.getBadgeTypes)(C,A).map(function(Z){return O+"-"+Z}).join(" "),U=null==q?void 0:q.some(function(Z){return!!Z.username});return k("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":y,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:D,onclick:this.handleCheckClick},k(z.a,{key:"gcard-gcc__checkbox-"+C.id,checked:y,indeterminate:B,onChange:this.handleCheckClick,title:J,describedBy:K}),k(u.a,{group:C,portal:A}),k("span",{key:"gcard-gcc__title","class":"gcard-gcc__title"},k("div",null,J),!!q&&U&&B&&k("div",{id:"partial-assigned-container-"+C.id},k("calcite-popover-manager",null,k("calcite-link",{id:"partial-assigned-"+C.id,onclick:this.handleAssignedLinkClick},x.membersAssigned.replace("${num}",
F.length).replace("${total}",q.length))),k("calcite-popover",{"reference-element":"partial-assigned-"+C.id},k("ul",{"class":"padding-right-1"},F.map(function(Z){return k("li",{key:Z.username},Z.username)}))))),k(e.a,{group:C,portal:A,key:"group-badges",id:O}),k("div",{key:"gcard-gcc__details","class":"gcard-gcc__details"},M,Object(c.a)({selectedBy:F,initialSelectedByIds:r})?k("button",{key:"gcard-gcc__revert-button","class":"gcard-gcc__revert-button",onclick:function(Z){var ca,fa;Z.stopPropagation();
null===(fa=(ca=n.props).onRevertGroup)||void 0===fa||fa.call(ca,C)}},x.revert):null),G&&k("div",{"class":"gcard-gcc__disabled-text",key:"disabled-text"},k("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},k("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),k("span",{"class":"margin-left-quarter font-size--2"},H)),k(p.a,{key:"gcard-gcc__toggle-"+
C.id,id:"gcard-toggle-"+C.id,value:y,handleToggleClick:this.handleCheckClick,label:""}))},d}(l.Component);f["default"]=g;var a=function(b,d){var k=b.selectedBy,n=b.allSelectorItemIds,q=b.initialSelectedByIds;return 0===n.length||1===n.length||0===q.length&&0===k.length?null:d("span",{key:"gcard-gcc__share-text","class":"gcard-gcc__share-text",innerHTML:(Object(c.a)({selectedBy:k,initialSelectedByIds:q})?x.willBeShared:x.alreadyShared).replace("${num}",k.length).replace("${total}",n.length)})}},99:function(l,
f,g){function h(m,e){if(null==m?0:m.length)for(var c=void 0,a=0;a<m.length;a++)if(e(c=m[a]))return c}function x(m){return m.filter(function(e){return 0<e.length})}function u(m,e,c){var a=[];return e.forEach(function(b){(c?b[c].toLowerCase()===m.toLowerCase():b.toLowerCase()===m.toLowerCase())?a.unshift(b):a.push(b)}),a}g.d(f,"e",function(){return E});g.d(f,"f",function(){return z});g.d(f,"c",function(){return h});g.d(f,"b",function(){return x});g.d(f,"a",function(){return p});g.d(f,"d",function(){return u});
l=g(15);var E=function(m,e,c){return c.indexOf(m)===e},z=Object(l.a)(function(m,e){var c={};return e.filter(function(a){return!c[a[m]]&&(c[a[m]]=!0,!0)})}),p=function(m,e){return m.length===e.length&&m.reduce(function(c,a){return c&&-1<e.indexOf(a)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,
w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=
typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},w.p="",w(w.s=853)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):
(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");
for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=
b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=
m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,
e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=V},200:function(v,w,t){var l,f;t.d(w,"b",function(){return f});t.d(w,"a",function(){return g});(function(h){h.collaboration="collaboration";h.featuredContent="featuredContent";h.gallery="gallery";h.openData="openData";h.sharedUpdate="sharedUpdate";h.partnered="partnered";h.anyOrg="anyOrg"})(f||(f=
{}));var g=((l={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
l[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",l[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
l[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",l[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
l[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",l[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
l)},529:function(v,w){v.exports=L},853:function(v,w,t){function l(u,E){var z=[];return u.capabilities&&-1<u.capabilities.indexOf("updateitemcontrol")&&z.push(x.b.sharedUpdate),u.isOpenData&&z.push(x.b.openData),(u.collaborationInfo&&u.collaborationInfo.collaborationId||u.capabilities&&-1<u.capabilities.indexOf("distributed"))&&z.push(x.b.collaboration),E.homePageFeaturedContent&&E.homePageFeaturedContent==="id:"+u.id&&z.push(x.b.featuredContent),E.featuredItemsGroupQuery&&E.featuredItemsGroupQuery===
"id:"+u.id&&z.push(x.b.gallery),u.membershipAccess||z.push(x.b.anyOrg),"collaboration"===u.membershipAccess&&z.push(x.b.partnered),z}t.r(w);t.d(w,"getBadgeTypes",function(){return l});var f=t(0);v=t(16);var g=t(529),h=t.n(g),x=t(200);t=function(u){function E(){return null!==u&&u.apply(this,arguments)||this}return Object(f.d)(E,u),E.prototype.render=function(z){var p=this.props,m=p.id;p=l(p.group,p.portal);return z("div",{"class":"group-badges"},p.map(function(e){return z(h.a,{badgeType:e,key:e,id:m})}))},
E}(v.Component);w["default"]=t}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(V,L){return function(v){function w(l){if(t[l])return t[l].exports;var f=t[l]={i:l,l:!1,exports:{}};return v[l].call(f.exports,f,f.exports,w),f.l=!0,f.exports}var t={};return w.m=v,w.c=t,w.d=function(l,f,g){w.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},w.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},w.t=function(l,f){if((1&f&&(l=w(l)),8&f)||4&f&&"object"==typeof l&&l&&l.__esModule)return l;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&f&&"string"!=typeof l)for(var h in l)w.d(g,h,function(x){return l[x]}.bind(null,h));return g},w.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};return w.d(f,"a",f),f},w.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,
f)},w.p="",w(w.s=854)}({0:function(v,w,t){function l(p,m){function e(){this.constructor=p}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(p,m);p.prototype=null===m?Object.create(m):(e.prototype=m.prototype,new e)}function f(p,m){var e={},c;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&0>m.indexOf(c)&&(e[c]=p[c]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(p);a<
c.length;a++)0>m.indexOf(c[a])&&Object.prototype.propertyIsEnumerable.call(p,c[a])&&(e[c[a]]=p[c[a]])}return e}function g(p,m,e,c){var a,b=arguments.length,d=3>b?m:null===c?c=Object.getOwnPropertyDescriptor(m,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,e,c);else for(var k=p.length-1;0<=k;k--)(a=p[k])&&(d=(3>b?a(d):3<b?a(m,e,d):a(m,e))||d);return 3<b&&d&&Object.defineProperty(m,e,d),d}function h(p,m,e,c){return new (e||(e=Promise))(function(a,b){function d(q){try{n(c.next(q))}catch(y){b(y)}}
function k(q){try{n(c["throw"](q))}catch(y){b(y)}}function n(q){var y;q.done?a(q.value):(y=q.value,y instanceof e?y:new e(function(C){C(y)})).then(d,k)}n((c=c.apply(p,m||[])).next())})}function x(p,m){function e(n){return function(q){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,a&&(b=2&y[0]?a["return"]:y[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,y[1])).done)return b;switch(a=0,b&&(y=[2&y[0],b.value]),y[0]){case 0:case 1:b=
y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++;a=y[1];y=[0];continue;case 7:y=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==y[0]&&2!==y[0])){k=0;continue}if(3===y[0]&&(!b||y[1]>b[0]&&y[1]<b[3]))k.label=y[1];else if(6===y[0]&&k.label<b[1])k.label=b[1],b=y;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(y);else{b[2]&&k.ops.pop();k.trys.pop();continue}}y=m.call(p,k)}catch(C){y=[6,C],a=0}finally{c=b=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([n,q])}}var c,a,b,d,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return d={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function u(p,m){for(var e=0,c=m.length,a=p.length;e<c;e++,a++)p[a]=m[e];return p}t.d(w,"d",function(){return l});t.d(w,"a",function(){return z});t.d(w,"f",function(){return f});t.d(w,"c",function(){return g});t.d(w,"b",function(){return h});t.d(w,"e",function(){return x});
t.d(w,"g",function(){return u});var E=function(p,m){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])})(p,m)},z=function(){return(z=Object.assign||function(p){for(var m,e=1,c=arguments.length;e<c;e++)for(var a in m=arguments[e])Object.prototype.hasOwnProperty.call(m,a)&&(p[a]=m[a]);return p}).apply(this,arguments)};Object.create;Object.create},16:function(v,w){v.exports=
V},200:function(v,w,t){var l,f;t.d(w,"b",function(){return f});t.d(w,"a",function(){return g});(function(h){h.collaboration="collaboration";h.featuredContent="featuredContent";h.gallery="gallery";h.openData="openData";h.sharedUpdate="sharedUpdate";h.partnered="partnered";h.anyOrg="anyOrg"})(f||(f={}));var g=((l={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
l[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",l[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
l[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",l[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
l[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",l[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
l)},341:function(v,w){v.exports=L},854:function(v,w,t){t.r(w);var l=t(0);v=t(16);var f=t(200),g=t(341);t=function(h){function x(){return null!==h&&h.apply(this,arguments)||this}return Object(l.d)(x,h),x.prototype.render=function(u){var E,z=this.props,p=z.badgeType;z=z.id;var m=p===f.b.sharedUpdate?"#ab3c16":"#005e95";return z&&(E=z+"-"+p),u("button",{"class":"group-badge","aria-label":g[p]+": "+g.tooltips[p]},u("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:m,key:"group-badge-icon"},p!==f.b.anyOrg&&p!==f.b.collaboration&&u("path",{d:f.a[p]}),p===f.b.anyOrg&&u("g",null,u("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),u("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),u("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),u("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
p===f.b.collaboration&&u("g",null,u("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),u("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),u("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),u("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),u("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),u("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
u("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
u("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),u("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),u("span",{"class":"group-badge__title",key:"group-badge-title"},g[p]),u("span",{"class":"group-badge__description",key:"group-badge-description"},g.tooltips[p]),u("span",{"class":"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:E},g[p],": ",g.tooltips[p]))},x}(v.Component);w["default"]=t}})})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){Object.defineProperty(L,"__esModule",{value:!0});g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);V=p["default"].uploadLogo;var m=z["default"].GroupWidget.thumbnailDlg,e={title:V.name,drag:V.dragDrop,size:V.bestSize,browse:V.browse,save:p["default"].common.save,cancel:p["default"].common.cancel,fileError:V.validImageRequired,saveError:V.imageEditError,zoom:V.zoom,chooseDiff:V.chooseDiff,
or:m.or,fromMap:m.createFromMap,fromMapDescription:m.createFromMapSub};p=function(c){function a(){M&&document.documentElement.classList.add("overflow-hidden")}var b=c.texts,d=c.height,k=c.zoomToFull,n=c.onSave,q=c.onCancel,y=c.onDelete,C=c.hideSize,B=c.existingImage,D=c.isRound,F=c.fillBackground,r=c.maxSize,A=c.hasDelete,G=c.allowFromMap,H=c.aspectRatio,J=c.contentClass,O=c.itemId,M=c.fromOverlay,K=c.noEdit;c=v.__assign(v.__assign({},e),b);d=t.useReducer(f.reducer,{previewSrc:"",imageScale:1,imageWidth:0,
imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:c,hideSize:C,saving:!1,deleting:!1,saveData:void 0,aspectRatio:H||1,height:d,isRound:D,fillBackground:F,maxSize:r,zoomToFull:k,allowFromMap:G,itemId:O,noEdit:K});var U=d[0],Z=d[1];d=t.useMemo(function(){return{state:U,dispatch:Z}},[U]);k=t.useRef(null);C=t.useRef(null);D=
c.title;F=c.save;r=c.cancel;var ca=c.fileError;c=c.chooseDiff;t.useEffect(function(){var ra=function(za){"new_thumb"!==za.data.dataType||U.previewSrc===za.data.dataUrl||U.saving||(Z(f.setImageFromMap(za.data.dataUrl)),window.parent.removeEventListener("message",ra))};window.parent.addEventListener("message",ra)},[]);t.useEffect(function(){U.fromMapLoaded&&Z(f.initSave())},[U.fromMapLoaded]);t.useEffect(function(){U.saveData&&(n(U.saveData),a())},[U.saveData]);t.useEffect(function(){U.saving&&K&&Z(f.updateSaveData({blob:u.dataURIToBlob(U.previewSrc),
base64:U.previewSrc,format:U.imageFormat}))},[U.saving,K]);t.useEffect(function(){B&&Z(f.editExistingImage(B))},[B]);G=function(){return"edit"===U.currentStep};var fa=function(){return"fromMap"===U.currentStep};H="rtl"===document.documentElement.getAttribute("dir");O=function(){Z(f.changeImage())};var ka=function(){Z(f.initDelete());y()},ma=function(){q();a()};C.current&&(C.current.loading=U.saving);k.current&&(k.current.loading=U.deleting);return w.h(l.StoreContext.Provider,{value:d},w.h("calcite-modal",
{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:ma,intlClose:z["default"].common.close},w.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":D,"class":"font-size-2 trailer-0"},D),w.h("div",{slot:"content","class":""+(J||"")},w.h("div",{"class":"panel content-node padding-trailer-1 "+(fa()?"":"org-settings__upload-logo-dlg-content")},"upload"===U.currentStep&&w.h(g["default"],null),G()&&w.h(h["default"],
null),fa()&&w.h(x["default"],null))),(G()||fa())&&!A&&w.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:U.saving,onClick:O,"icon-flip-rtl":H?"start":""},c),G()&&U.editingExisting&&void 0!==y&&w.h("calcite-button",{ref:k,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:U.saving,onClick:ka},b["delete"]),!A&&w.h("calcite-button",{slot:"secondary",disabled:U.saving,color:"blue",appearance:"outline",width:"full",
onClick:ma},r),A&&G()&&w.h("calcite-button",{slot:"secondary",disabled:U.saving||U.deleting,color:"blue",appearance:"outline",width:"full",onClick:O},b.changePhoto),w.h("calcite-button",{ref:C,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){fa()?window.postMessage("thumbnail_create","*"):!K&&"edit"!==U.currentStep||!U.previewSrc?E["default"].showAlert("error",ca):Z(f.initSave())},disabled:U.deleting},F)))};p.defaultProps={height:412>window.innerWidth?200:300,texts:e,
aspectRatio:1};L["default"]=p})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(V,L,v,w){Object.defineProperty(L,"__esModule",{value:!0});L.useStoreContext=L.StoreContext=void 0;L.StoreContext=v.createContext({});L.useStoreContext=function(){return w.useContext(L.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require","exports","tslib"],function(V,L,v){Object.defineProperty(L,
"__esModule",{value:!0});L.reducer=L.setImageFromMap=L.showFromMapStep=L.editExistingImage=L.updatePreviewImage=L.imageLoaded=L.updateZoomScale=L.updateManuallySettingZoom=L.updateImagePosition=L.updateSrcAndFileName=L.updatePreviewSrc=L.updateSaveData=L.initDelete=L.initSave=L.changeImage=L.SET_IMAGE_FROM_MAP=L.SHOW_FROM_MAP_STEP=L.IMAGE_LOADED=L.EDIT_EXISTING_IMAGE=L.UPDATE_PREVIEW_IMAGE=L.UPDATE_SRC_AND_FILE_NAME=L.UPDATE_ZOOM_SCALE=L.UPDATE_MANUALLY_SETTING_ZOOM=L.UPDATE_IMAGE_POSITION=L.UPDATE_PREVIEW_SRC=
L.UPDATE_SAVE_DATA=L.INIT_DELETE=L.INIT_SAVE=L.CHANGE_IMAGE=void 0;L.CHANGE_IMAGE="CHANGE_IMAGE";L.INIT_SAVE="INIT_SAVE";L.INIT_DELETE="INIT_DELETE";L.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";L.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";L.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";L.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";L.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";L.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";L.UPDATE_PREVIEW_IMAGE="UPDATE_PREVIEW_IMAGE";L.EDIT_EXISTING_IMAGE=
"EDIT_EXISTING_IMAGE";L.IMAGE_LOADED="IMAGE_LOADED";L.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";L.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";L.changeImage=function(){return{type:L.CHANGE_IMAGE}};L.initSave=function(){return{type:L.INIT_SAVE}};L.initDelete=function(){return{type:L.INIT_DELETE}};L.updateSaveData=function(w){return{type:L.UPDATE_SAVE_DATA,payload:w}};L.updatePreviewSrc=function(w){return{type:L.UPDATE_PREVIEW_SRC,payload:w}};L.updateSrcAndFileName=function(w){return{type:L.UPDATE_SRC_AND_FILE_NAME,
payload:w}};L.updateImagePosition=function(w){return{type:L.UPDATE_IMAGE_POSITION,payload:w}};L.updateManuallySettingZoom=function(w){return{type:L.UPDATE_MANUALLY_SETTING_ZOOM,payload:w}};L.updateZoomScale=function(w){return{type:L.UPDATE_ZOOM_SCALE,payload:w}};L.imageLoaded=function(w){return{type:L.IMAGE_LOADED,payload:w}};L.updatePreviewImage=function(w){return{type:L.UPDATE_PREVIEW_IMAGE,payload:w}};L.editExistingImage=function(w){return{type:L.EDIT_EXISTING_IMAGE,payload:w}};L.showFromMapStep=
function(){return{type:L.SHOW_FROM_MAP_STEP}};L.setImageFromMap=function(w){return{type:L.SET_IMAGE_FROM_MAP,payload:w}};L.reducer=function(w,t){var l=t.payload;switch(t.type){case L.CHANGE_IMAGE:return v.__assign(v.__assign({},w),{currentStep:"upload",editingExisting:!1,previewSrc:""});case L.INIT_SAVE:return v.__assign(v.__assign({},w),{saving:!0});case L.INIT_DELETE:return v.__assign(v.__assign({},w),{deleting:!0});case L.UPDATE_SAVE_DATA:return v.__assign(v.__assign({},w),{saveData:v.__assign(v.__assign({},
l),{fileName:w.fileName,isModified:w.isModified})});case L.UPDATE_PREVIEW_SRC:return v.__assign(v.__assign({},w),{previewSrc:l,imageScale:1,currentStep:"edit"});case L.UPDATE_SRC_AND_FILE_NAME:return v.__assign(v.__assign({},w),{previewSrc:l.previewSrc,fileName:l.fileName,imageScale:1,currentStep:w.noEdit?"upload":"edit"});case L.UPDATE_PREVIEW_IMAGE:return v.__assign(v.__assign({},w),{previewImage:l});case L.UPDATE_IMAGE_POSITION:var f=v.__assign({},w);void 0!==l.imageTop&&(f.imageTop=l.imageTop);
void 0!==l.imageLeft&&(f.imageLeft=l.imageLeft);return v.__assign(v.__assign({},f),{isModified:!0});case L.UPDATE_MANUALLY_SETTING_ZOOM:return v.__assign(v.__assign({},w),{manuallySettingZoom:l});case L.EDIT_EXISTING_IMAGE:return v.__assign(v.__assign({},w),{editingExisting:!0,previewSrc:l,currentStep:"edit",loadingImage:!0});case L.UPDATE_ZOOM_SCALE:return v.__assign(v.__assign({},w),{imageScale:l.imageScale,zoomValue:l.zoomValue,isModified:!0});case L.IMAGE_LOADED:f=w.height;var g=w.zoomToFull,
h=w.aspectRatio,x={};if(w.editingExisting)g=l.width,x={imageWidth:g,imageHeight:g,imageScale:f/g,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:l};else{var u=1===h?f:f*h,E=l.clientWidth,z=l.clientHeight;x="fromMap"===w.currentStep;x={imageWidth:E,imageHeight:z,imageTop:f/2-z/2,imageLeft:f*h/2-E/2,currentStep:x?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:l,fromMapLoaded:x};g&&(l=u/(E>z?E:z),x=v.__assign(v.__assign({},x),{imageScale:l,manuallySettingZoom:!0,
zoomValue:""+(50+Math.log(l)/Math.log(1.1)),isModified:!0}))}l=v.__assign(v.__assign({},w),x);return l;case L.SHOW_FROM_MAP_STEP:return v.__assign(v.__assign({},w),{currentStep:"fromMap"});case L.SET_IMAGE_FROM_MAP:return v.__assign(v.__assign({},w),{previewSrc:l,imageScale:1});default:return v.__assign({},w)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(V,L,v,w,t,l,f,g){var h=this;Object.defineProperty(L,"__esModule",{value:!0});g=v.__importDefault(g);L["default"]=function(){var x=l.useStoreContext(),u=x.state,E=x.dispatch,z=u.texts;x=u.hideSize;var p=u.allowFromMap,m=t.useRef(null),e=t.useRef(null);t.useEffect(function(){m.current&&m.current.focus()},[m.current]);var c=function(d){d.preventDefault()},a=function(d){var k=e.current;if(k.value||d){var n=d||k.files[0];n&&((null===n||void 0===n?0:n.name)&&/\.(gif|jpg|jpeg|png)$/i.test(n.name)?
(d=new FileReader,d.onload=function(q){return v.__awaiter(h,void 0,void 0,function(){return v.__generator(this,function(y){E(f.updateSrcAndFileName({previewSrc:q.target.result,fileName:n.name||(null===k||void 0===k?void 0:k.value)||""}));return[2]})})},d.readAsDataURL(n)):g["default"].showAlert("error",z.fileError))}},b=function(){E(f.showFromMapStep())};return w.h("div",{"class":"text-center",onDragOver:c,onDragEnter:c,onDrop:function(d){d.preventDefault();a(d.dataTransfer.files[0])},"aria-label":z.drag},
w.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},w.h("calcite-icon",{icon:"upload"})),w.h("div",{"class":"trailer-0"},w.h("div",{"class":"font-size-1","aria-label":z.drag},z.drag),!x&&w.h("div",{"aria-label":z.size},z.size)),w.h("button",{ref:m,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){e.current.click()},onKeyDown:function(d){13===d.keyCode&&(d.preventDefault(),e.current.click())},"aria-label":z.browse},w.h("div",{"class":"flex flex-align-center"},
(!u.noEdit||!u.fileName)&&w.h(w.Fragment,null,w.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",z.browse),u.noEdit&&u.fileName&&w.h(w.Fragment,null,u.fileName," ",w.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),w.h("input",{ref:e,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){a()}}),p&&w.h("div",{tabIndex:0,onClick:b},w.h("p",{"class":"text-center leader-1 trailer-half"},w.h("b",
{"class":"horizontal-lines"},w.h("span",null,z.or))),w.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},w.h("p",{"class":"trailer-0"},w.h("span",{"class":"flex-center font-size-1"},w.h("div",{"class":"flex flex-align-center"},w.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",z.fromMap)),w.h("span",{"class":"display-block font-size--2"},z.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(V,L,v,w,t,l,f,g,h,x){Object.defineProperty(L,"__esModule",{value:!0});l=v.__importDefault(l);f=v.__importDefault(f);x=v.__importDefault(x);L["default"]=function(){var u=g.useStoreContext(),E=u.state,z=u.dispatch,p=E.texts,m=t.useRef(null),e=t.useRef(null),c=E.height*E.aspectRatio;u=E.height+60+"px";var a={width:c+60+"px",height:u};c={width:c+"px",height:E.height+"px"};var b={transform:"scale("+E.imageScale+")",top:E.imageTop+"px",left:E.imageLeft+"px",transformOrigin:E.transformOrigin.x+
"% "+E.transformOrigin.y+"%"};t.useEffect(function(){m.current&&m.current.focus()},[m.current]);t.useEffect(function(){e.current&&z(h.updatePreviewImage(e.current))},[e.current]);var d=function(){z(h.imageLoaded(e.current))},k=function(){x["default"].showAlert("error",p.fileError);z(h.changeImage())},n=function(q){E.manuallySettingZoom?z(h.updateManuallySettingZoom(!1)):z(h.updateZoomScale({imageScale:Math.pow(1.1,q.target.value-50),zoomValue:q.target.value}))};return w.h("div",{"class":"edit-thumb-display",
onWheel:function(q){q.preventDefault();q=0<q.deltaY?1*E.imageScale/1.1:1.1*E.imageScale;z(h.updateZoomScale({imageScale:q,zoomValue:""+(50+Math.log(q)/Math.log(1.1))}))}},w.h(f["default"],{imageContainer:m.current}),w.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:u}},w.h(l["default"],{onDrag:function(q){z(h.updateImagePosition({imageTop:E.imageTop+q.top,imageLeft:E.imageLeft+q.left}))},style:a},w.h("div",{ref:m,"class":"crop-thumb-clear",tabIndex:0,style:c,onKeyDown:function(q){var y=
!1;switch(q.key){case "ArrowUp":z(h.updateImagePosition({imageTop:E.imageTop-1}));y=!0;break;case "ArrowDown":z(h.updateImagePosition({imageTop:E.imageTop+1}));y=!0;break;case "ArrowLeft":z(h.updateImagePosition({imageLeft:E.imageLeft-1}));y=!0;break;case "ArrowRight":z(h.updateImagePosition({imageLeft:E.imageLeft+1})),y=!0}y&&q.preventDefault()}},E.previewSrc&&w.h("img",{ref:e,src:E.previewSrc,alt:"","class":"preview-image "+(E.loadingImage?"visibility-hidden":""),style:b,onLoad:d,onError:k})))),
"edit"===E.currentStep&&w.h("label",{htmlFor:"","class":"trailer-half leader-half"},p.zoom,w.h("input",{type:"range",value:E.zoomValue,onInput:n,onChange:n,"aria-label":p.zoom}),w.h("span",{"class":"clearfix"},w.h("span",{"class":"left inline-block leader-half"},w.h("calcite-icon",{icon:"image",scale:"s"})),w.h("span",{"class":"right"},w.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(V,L,v,w){Object.defineProperty(L,"__esModule",{value:!0});L["default"]=function(t){var l=t.style,f=t.onDrag;t=t.children;var g=w.useState(!1),h=g[0],x=g[1];g=w.useState(void 0);var u=g[0],E=g[1];g=function(){x(!0)};var z=function(m){var e=m.touches,c=m.clientX,a=m.clientY;if(void 0===c||void 0===a){if(null===e||void 0===e||!e.length)return;c=e[0].clientX;a=e[0].clientY}h&&(u?(e=u.top,m=u.left,a-=e,c-=m,f({top:a,left:c}),E({top:e+a,left:m+c})):E({top:a,left:c}))},p=function(){x(!1);
E(void 0)};return v.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:l,onMouseDown:g,onTouchStart:g,onMouseMove:z,onTouchMove:z,onMouseUp:p,onTouchEnd:p,onMouseOut:p},t)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(V,L,v,w,t,l,f,g,h){var x=this;Object.defineProperty(L,"__esModule",{value:!0});h=v.__importDefault(h);
L["default"]=function(u){var E=u.imageContainer;u=l.useStoreContext();var z=u.state,p=u.dispatch,m=z.texts,e=t.useRef(null),c=function(d){var k=d.image,n=d.context,q=d.selectionX,y=d.selectionY,C=d.selectionWidth,B=d.selectionHeight,D=d.canvasWidth,F=d.canvasHeight,r=d.minWidth,A=d.minHeight,G=d.drawDimensions,H=d.scaleFactor;d=e.current;d.width=D<r?r:D*H;d.height=F<A?A:F*H;z.maxSize&&(d.width>z.maxSize&&(d.width=z.maxSize),d.height>z.maxSize&&(d.height=z.maxSize));D=G.left*d.width;F=G.top*d.height;
r=G.width*d.width;G=G.height*d.height;!z.isRound&&z.fillBackground&&(n.fillStyle="#efefef",n.fillRect(0,0,d.width,d.height));n.drawImage(k,q,y,C,B,D,F,r,G);z.isRound&&(n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(d.width/2,d.height/2,d.height/2,0,2*Math.PI),n.closePath(),n.fill());k=d.toDataURL("image/png");n=g.dataURIToBlob(k);return{base64:k,blob:n}},a=function(){return new Promise(function(d,k){var n=new Image;-1<z.previewSrc.indexOf("arcgis.com")&&(n.crossOrigin="Anonymous");
n.onload=function(){if(.01>Math.abs(z.aspectRatio-n.width/n.height)&&!z.isModified)d({blob:g.dataURIToBlob(z.previewSrc),base64:z.previewSrc,format:z.imageFormat});else{var q=z.height*z.aspectRatio,y=z.height;var C=z.previewImage.getBoundingClientRect();var B=E.getBoundingClientRect();var D=(B.left-C.left)/C.width;var F=(B.right-C.left)/C.width;var r=(B.top-C.top)/C.height;C=(B.bottom-C.top)/C.height;B=0>D?0:D;var A=0>r?0:r,G=1<F?1:F,H=1<C?1:C,J=z.previewImage.getBoundingClientRect();var O=E.getBoundingClientRect();
O={left:(0<J.left-O.left?J.left-O.left:0)/O.width,top:(0<J.top-O.top?J.top-O.top:0)/O.height,width:((J.right>O.right?O.right:J.right)-(J.left<O.left?O.left:J.left))/O.width,height:((J.bottom>O.bottom?O.bottom:J.bottom)-(J.top<O.top?O.top:J.top))/O.height};J=e.current.getContext("2d");D={image:n,context:J,selectionX:B*z.imageWidth,selectionY:A*z.imageHeight,selectionWidth:G*z.imageWidth-B*z.imageWidth,selectionHeight:H*z.imageHeight-A*z.imageHeight,canvasWidth:F*z.imageWidth-D*z.imageWidth,canvasHeight:C*
z.imageHeight-r*z.imageHeight,minWidth:q,minHeight:y,drawDimensions:O,scaleFactor:1};try{var M=c(v.__assign({},D));if(1E7<M.blob.size||0===M.blob.size)J.clearRect(0,0,e.current.width,e.current.height),M=c(v.__assign(v.__assign({},D),{scaleFactor:1600/n.width}))}catch(K){"NS_ERROR_FAILURE"!==K.name?h["default"].showAlert("error",m.saveError):(J.clearRect(0,0,e.current.width,e.current.height),M=c(v.__assign(v.__assign({},D),{scaleFactor:1600/n.width})))}d({blob:null===M||void 0===M?void 0:M.blob,base64:null===
M||void 0===M?void 0:M.base64,format:z.imageFormat})}};n.onerror=function(){h["default"].showAlert("error",m.fileError)};n.src=z.previewSrc})},b=function(){return v.__awaiter(x,void 0,void 0,function(){var d;return v.__generator(this,function(k){switch(k.label){case 0:return[4,a()];case 1:return d=k.sent(),p(f.updateSaveData(v.__assign({},d))),[2]}})})};t.useEffect(function(){z.saving&&b()},[z.saving]);return w.h("canvas",{ref:e,"class":"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require",
"exports"],function(V,L){Object.defineProperty(L,"__esModule",{value:!0});L.dataURIToBlob=void 0;L.dataURIToBlob=function(v){var w=atob(v.split(",")[1]);v=v.split(",")[0].split(":")[1].split(";")[0];for(var t=new ArrayBuffer(w.length),l=new Uint8Array(t),f=0;f<w.length;f++)l[f]=w.charCodeAt(f);return new Blob([t],{type:v})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(V,L,v,w,t,l,f,g){Object.defineProperty(L,"__esModule",{value:!0});l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);L["default"]=function(){var h=t.useStoreContext().state;h=(f["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+h.itemId;if(g["default"].isPortal()){var x=f["default"].self.portalHostname.replace(/^[^\/]*/,"");h=h.replace("/apps/",x+"/apps/");h+="\x26extentService\x3d"+encodeURI(f["default"].extentService)}return w.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},w.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:h,width:"600",height:"399"}),w.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},w.h(l["default"],null)))}})},"arcgisonline/pages/components/UpdateViewModal":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline preact preact/hooks preact/compat arcgisonline/esriGeowConfig".split(" "),function(V,L,v,w,
t,l,f,g){Object.defineProperty(L,"__esModule",{value:!0});w=v.__importDefault(w);g=v.__importDefault(g);L["default"]=function(h){var x=h.title,u=h.active,E=h.itemId,z=h.hasDerivative,p=h.onClose,m=function(e){if(null!==e&&void 0!==e&&e.data){var c=JSON.parse(e.data);e=c.type;c=c.value;"create"===e&&(null===c||void 0===c?0:c.id)?(window.location.href="item.html?id\x3d"+(null===c||void 0===c?void 0:c.id),p()):"update"!==e&&"close"!==e||!c||p()}};l.useEffect(function(){window.addEventListener("message",
m);return function(){window.removeEventListener("message",m)}},[]);h=""+g["default"].createViewUrl+E+(z?"\x26hasDerivative\x3dtrue":"");return t.h(t.Fragment,null,f.createPortal(t.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-lablledby":"update-view-modal-title",active:u,oncalciteModalClose:p,intlClose:w["default"].common.close,fullscreen:!0,noPadding:!0},t.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"update-view-modal-title"},x),t.h("div",{slot:"content","class":"flex manage-areas"},
u&&t.h("iframe",{"class":"flex-1 manage-areas__iframe",src:h}))),document.body))}})},"arcgisonline/pages/dijit/Card/_getItemClasses":function(){define("require exports tslib ../../utils/arrays ../../utils/organization dojo/sniff arcgisonline/pages/utils/mapViewer".split(" "),function(V,L,v,w,t,l,f){Object.defineProperty(L,"__esModule",{value:!0});w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);L["default"]=function(g,h){var x,u,E,z=g.url||"";var p=g.isHostedService;var m=g.serviceInfo||
{},e=null!==(u=null===m||void 0===m?void 0:m.capabilities)&&void 0!==u?u:"";u=null===h||void 0===h?void 0:h.userRole;z=h&&-1<z.indexOf(h.orgId);e=-1<e.indexOf("Editing");m=w["default"].includes(g.typeKeywords,"Multi Services View")||m.isMultiServicesView;var c=g.isAdminView?null===u||void 0===u?void 0:u.canUpdateOrgItems():g.canUpdate;p=p&&!m&&(c||e&&(null===u||void 0===u?void 0:u.canEditFeaturesFullControl())&&z);p=null!==(E=g.canEditService)&&void 0!==E?E:p;g.isEditableByUser=p;E=l["default"]("trident");
p=t["default"].isMobile();E=E||p;u="Scene Service"===g.type&&w["default"].includes(g.typeKeywords,"Voxel");m=g.portal.isPortal;p=[].concat(g.types);p.push(g.hasResources?"has-resources":"");p.push(g.hasViewStyle?"has-viewStyle":"");p.push(g.url?"has-url":"");p.push(!m&&w["default"].includes(g.typeKeywords,"Presentation Map")?"has-presentation":"");p.push((null===h||void 0===h?0:h.isOrgUser)&&"Form"===g.type?"is-surveyForm":"");p.push(g.portal&&!g.portal.isPortal&&(null===h||void 0===h?0:h.isOrgUser)&&
"Form"===g.type?"is-surveyFormBrowser":"");p.push(g.isConfigurableApp?"can-configure":"");p.push(g.isEditableByUser&&"Feature Service"===g.type?"can-edit-service":"");p.push(u?"is-voxel":"");p.push(g.isOwner?"is-owner":"");p.push(g.isAdmin?"is-admin":"");p.push((null===h||void 0===h?0:h.isOrgUser)?"":"is-public-user");p.push((null===h||void 0===h?0:h.isOrgAdmin)?"is-admin":"");p.push(g.canUpdate?"can-update":"is-viewer");p.push(w["default"].includes(g.typeKeywords,"Web AppBuilder")&&g.canUpdate&&
!g.origin?"can-edit-wab":"");p.push(!m&&g.canUpdate?"can-create-presentation":"");p.push((null===h||void 0===h?0:h.isOrgUser)&&"Notebook"===g.type?"is-notebook":"");u=-1<(null===(x=g.openIn)||void 0===x?void 0:x.indexOf("mapViewer"));p.push(u&&!E?"is-map-viewer-beta":"");p.push(h&&(null===h||void 0===h?void 0:h.defaultMapViewer)!==f.MapViewerType.Modern?"is-map-viewer-classic":"is-map-viewer-modern");"OGCFeatureServer"===g.type&&p.push("no-legacy-viewer-support");g.addBlockClasses(p);return p}})},
"arcgisonline/pages/dijit/OrgPopup/OrgPopup":function(){define("require exports tslib esri/Evented dojo/text!./OrgPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/popup dijit/TooltipDialog arcgisonline/pages/utils/dom arcgisonline/pages/utils/focus arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);
f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);return function(){function c(a,b){this.templateString=t["default"];this.i18n=l["default"];this.icons=m["default"]}c.prototype.postCreate=function(){this.inherited(arguments);this.dialog=new E["default"]({"class":"profile-popup",title:"",content:this.domNode,_onKey:this.handleDialogKeydown.bind(this)});
this.render();this.addEventListeners()};c.prototype.open=function(){var a=this;u["default"].open({popup:this.dialog,orient:["below","above"],around:this.opener,onCancel:function(){a.opener.focus();a.close()}});this.dialog.domNode.parentElement.classList.add("profile-popup__container");var b=p["default"].getFocusableElements(this.dialog.domNode);this.firstFocusItem=b[0];this.lastFocusItem=b[b.length-1];this.firstFocusItem.focus();setTimeout(function(){z["default"].showHide(a.descToggle,a.descEl.scrollHeight>
a.descEl.clientHeight)},100)};c.prototype.close=function(){u["default"].close(this.dialog);this.dialog.destroy();this.destroy();this.emit("close")};c.prototype.render=function(){z["default"].showHide(this.descContainer,!!this.item.verified.description);this.item.verified.description&&(this.descEl.innerHTML=this.item.verified.description)};c.prototype.addEventListeners=function(){var a=this;this.own(f["default"](this.closeIcon,"click",function(){u["default"].close(a.dialog)}),f["default"](this.domNode,
"click",function(b){b.stopPropagation()}),f["default"](document.body,"click",function(){a.close()}),f["default"](this.descToggle,"click",function(){return a.handleDescToggle()}))};c.prototype.handleDialogKeydown=function(a){var b=this;if(a.keyCode===g["default"].TAB)if(a.stopPropagation(),this.lastFocusItem!==a.target||a.shiftKey)a.shiftKey&&this.firstFocusItem===a.target&&(a.preventDefault(),this.opener.focus(),this.close());else{a.preventDefault();var d=p["default"].getFocusableElements(document.body);
d.forEach(function(k,n){k===b.opener&&d[n+1].focus()});this.close()}};c.prototype.handleDescToggle=function(){this.descContainer.classList.toggle("profile-popup__bio-container--expanded")};return c=v.__decorate([e["default"](x["default"],h["default"],w["default"])],c)}()})},"arcgisonline/pages/utils/search":function(){define(["require","exports","tslib","arcgisonline/esriGeowConfig"],function(V,L,v,w){Object.defineProperty(L,"__esModule",{value:!0});L.separateFilterFromQuery=L.semanticSearchEnabled=
void 0;w=v.__importDefault(w);L.semanticSearchEnabled=function(t,l){var f;return!!(w["default"].semanticSearchEnabled&&(null===(f=null===t||void 0===t?void 0:t.portalProperties)||void 0===f?0:f.semanticSearchEnabled))||l&&!l.orgId};L.separateFilterFromQuery=function(t){var l=/(tags:".+?")/gi;l=null===t||void 0===t?void 0:t.match(l);null===l||void 0===l?void 0:l.forEach(function(f){t=t.replace(new RegExp(f),"")});return{q:t,filter:(null===l||void 0===l?void 0:l.join(" "))||""}}})},"arcgisonline/pages/dijit/FilterSingle":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dijit/_WidgetBase dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic esri/Evented dojo/i18n!../../nls/arcgisonline dojo/text!./FilterSingle/templates/FilterSingle.html dojo/text!./FilterSingle/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);return function(){function b(d,k){this.summedAggregationProperties={}}b.prototype.postMixInProperties=function(){var d;
this.inherited(arguments);this._state=g["default"].clone(this.params);this.topicPrefix=null!==(d=this._state.topic||this._state.topicPrefix)&&void 0!==d?d:""};b.prototype.postCreate=function(){this._updateUI();this._attachEvents()};b.prototype.destroy=function(){this._clear();this.inherited(arguments)};b.prototype._attachEvents=function(){var d=u["default"](".js-filter-link",this.domNode),k=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(k.on("click",this._removeFilter.bind(this)),
d.on("click",this._clickHandler.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),z["default"].subscribe(this.topicPrefix+"aggregations/update",this._updateCounts.bind(this)))};b.prototype.select=function(d){this._state.options[d]&&(this._clear(),this._state.options[d].active=!0,u["default"](".js-filter-item[data-value\x3d'"+d+"']",this.domNode).addClass("is-active"),u["default"](".js-filter-item[data-value\x3d'"+
d+"']",this.domNode).attr("aria-current","true"),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype.getState=function(){return this._state};b.prototype._clear=function(){w["default"].toArray(this._state.options).forEach(function(d){return d.active=!1});u["default"](".js-filter-item",this.domNode).removeClass("is-active");u["default"](".js-filter-item",this.domNode).removeAttr("aria-current");u["default"](".js-filter-link",this.domNode).attr("aria-selected",
!1);u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};b.prototype._remove=function(d){var k;if(d.param===this._state.param){var n=this._state.options[d.value];n&&(n.active=!1);this._setSelected();d=u["default"](".js-filter-item[data-value\x3d'"+d.value+"']",this.domNode);d.removeClass("is-active");d.removeAttr("aria-current");null===(k=d[0])||void 0===k?void 0:k.querySelector(".js-filter-link").setAttribute("aria-selected","false")}};b.prototype._updateUI=
function(){var d,k=w["default"].toArray(this._state.options).reduce(this._renderList.bind(this),"");this.domNode.innerHTML=E["default"].substitute(e["default"],{list:k});if(k=u["default"](".accordion-title",u["default"](this.domNode).closest(".accordion-section").shift())[0]){var n=0<(null===(d=this._state.selected)||void 0===d?void 0:d.length)?"":"hide";x["default"].place(E["default"].substitute(a["default"],{i18n:m["default"],hide:n,param:this._state.param}),k)}};b.prototype._renderList=function(d,
k,n,q){k.label=k.label.replace(/"/g,"\x26quot;");n=k.active?"is-active":"";q=this.param;n=v.__assign(v.__assign({},g["default"].clone(k)),{param:q,selected:n});n=E["default"].substitute(c["default"],n);k.aggregationFields&&(this.summedAggregationProperties[k.value]=k.aggregationFields);return d+n};b.prototype._setSelected=function(){var d=[];w["default"].toArray(this._state.options).forEach(function(n){n.active&&d.push(n)});this._state.selected=0<d.length?d:!1;var k=u["default"](".js-clear-filter[data-filter-param\x3d'"+
this._state.param+"']");this._state.selected?k.removeClass("hide"):k.addClass("hide")};b.prototype._clickHandler=function(d){f["default"].stop(d);var k=d.target.parentNode,n=h["default"].contains(k,"is-active"),q=d.target.getAttribute("data-value");n?z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:d.target.getAttribute("data-value")}):(w["default"].toArray(this._state.options).forEach(function(y){return y.active=y.value===q}),u["default"](".js-filter-item",this.domNode).removeClass("is-active"),
u["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),h["default"].add(k,"is-active"),k.setAttribute("aria-current",!0),d.target.setAttribute("aria-selected",!0),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype._removeFilter=function(d){var k;d.stopPropagation();0<(null===(k=this._state.selected)||void 0===k?void 0:k.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
b.prototype._getCountForFieldValue=function(d,k){var n=w["default"].find(d,function(q){return q.value===k});return(null===n||void 0===n?void 0:n.count)||0};b.prototype._updateCounts=function(d){var k=this;d.fieldName===this.param&&(u["default"](".js-filter-link-count",this.domNode).innerHTML(""),d.fieldValues.forEach(function(n){var q=k.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+n.value+"']");q&&(q.innerHTML="("+n.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(n){var q=
k.summedAggregationProperties[n].reduce(function(y,C){return y+k._getCountForFieldValue(d.fieldValues,C)},0);(n=k.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+n+"']"))&&q&&(n.innerHTML="("+q+")")}))};return b=v.__decorate([t["default"](l["default"],p["default"])],b)}()})},"arcgisonline/pages/dijit/FilterDate":function(){define("require exports tslib ../utils/clone ../utils/date ../utils/dom ../utils/arrays ../utils/formatters ../utils/validation ../../tsutils/declareDecorator dojo/on dojo/_base/event dojo/topic dojo/string dojox/uuid/generateRandomUuid dijit/_WidgetBase dijit/_TemplatedMixin moment/moment dojo/i18n!../../nls/arcgisonline dojo/text!./FilterDate/templates/FilterDate.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);return function(){function n(q,y){this.templateString=
d["default"];this.constraintToToday=!0;this.showNever=!1;this.topicPrefix="";this.constrainWidthOnError=!1;this.fullDate=g["default"].fullDate;this.i18n=b["default"]}n.prototype.postMixInProperties=function(){this.uid=m["default"]();var q=this.generateRange.bind(this);this.state=w["default"](this.params);this.state.param=this.state.param||"modified";this.state.options=this.state.options||{today:{label:b["default"].filters.today,value:"today",from:a["default"]().startOf("day"),to:a["default"]().endOf("day"),
q:q(a["default"]().startOf("day"),a["default"]().endOf("day"))},yesterday:{label:b["default"].filters.yesterday,value:"yesterday",from:a["default"]().subtract(1,"days").startOf("day"),to:a["default"]().subtract(1,"days").endOf("day"),q:q(a["default"]().subtract(1,"days").startOf("day"),a["default"]().subtract(1,"days").endOf("day"))},last7Days:{label:b["default"].filters.last7Days,value:"last7Days",from:a["default"]().subtract(7,"days").startOf("day"),to:a["default"]().endOf("day"),q:q(a["default"]().subtract(7,
"days").startOf("day"),a["default"]().endOf("day"))},last30Days:{label:b["default"].filters.last30Days,value:"last30Days",from:a["default"]().subtract(30,"days").startOf("day"),to:a["default"]().endOf("day"),q:q(a["default"]().subtract(30,"days").startOf("day"),a["default"]().endOf("day"))},custom:{label:b["default"].filters.customRange,value:"custom"}};this.state.selected=this.state.selected||[];this.constrainWidthOnError=this.state.constrainWidthOnError};n.prototype.postCreate=function(){this.inherited(arguments);
this.initUI();this.addEventListeners();this.showNever&&(this.state.options.never={label:b["default"].filters.never,value:"never",from:-1,to:-1,q:this.state.param+":[-1 TO -1]"},l["default"].showNode(this.neverOption))};n.prototype.getState=function(){return this.state};n.prototype.destroy=function(){this.clear();this.inherited(arguments)};n.prototype.select=function(q,y,C){if(this.state.options[q]){this.clear();var B=this.state.options[q];B.active=!0;y&&C&&(B.from=a["default"](parseInt(y,10)),B.to=
a["default"](parseInt(C,10)),B.q=this.generateRange(B.from,B.to),B.label=p["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(B.from.valueOf()),end:this.formatDate(B.to.valueOf())}));this.state.selected=[B];l["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+q+'"]'),function(D){D.classList.add("is-active");D.setAttribute("aria-current","true")});"custom"===B.value&&B.from&&B.to&&(this.customStart.valueAsDate=new Date(B.from.valueOf()),
this.customEnd.valueAsDate=new Date(B.to.valueOf()),this.domNode.querySelector(".js-custom-date-select").classList.remove("hide"));this.update();this.showHideClearButton()}};n.prototype.generateRange=function(q,y){return q&&y?this.state.param+":["+q.valueOf()+" TO "+y.valueOf()+"]":""};n.prototype.clear=function(){this.state.selected=!1;f["default"].toArray(this.state.options).forEach(function(q){q.active=!1});this.domNode&&(l["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),
function(q){q.classList.remove("is-active");q.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"),this.showHideClearButton())};n.prototype.remove=function(q){q.param===this.state.param&&(this.state.selected=!1,this.state.options[q.value].active=!1,l["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+q.value+'"]'),function(y){y.classList.remove("is-active");y.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"));
this.showHideClearButton()};n.prototype.initUI=function(){var q;if(this.constraintToToday){var y=new Date;this.customStart.maxAsDate=y;this.customEnd.maxAsDate=y}this.minDate&&(this.customEnd.minAsDate=new Date(this.minDate));if(y=this.domNode.closest(".accordion-section").querySelector(".accordion-title")){var C=0<(null===(q=this.state.selected)||void 0===q?void 0:q.length)?"":"hide";y.insertAdjacentHTML("beforeend",p["default"].substitute(k["default"],{i18n:b["default"],hide:C,param:this.state.param}))}};
n.prototype.addEventListeners=function(){var q=this,y=this.domNode.querySelectorAll(".js-filter-link"),C=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');this.clickHandler=this.clickHandler.bind(this);l["default"].forEachNode(y,function(B){q.own(u["default"](B,"click",q.clickHandler))});this.own(u["default"](C,"click",this.removeFilter.bind(this)),u["default"](this.customStart,"calciteDatePickerChange",this.changeCustomStart.bind(this)),u["default"](this.customEnd,
"calciteDatePickerChange",this.changeCustomEnd.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this.remove.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this.clear.bind(this)))};n.prototype.clickHandler=function(q){E["default"].stop(q);var y=q.target.parentNode,C=y.classList.contains("is-active");q=q.target.getAttribute("data-value");var B=this.domNode.querySelector(".js-custom-date-select"),D=this.state.options[q];C?(z["default"].publish(this.topicPrefix+
"filter/remove",{param:this.state.param,value:q}),D.active=!1,this.state.selected=!1):(this.state.selected=[D],D.active=!0,l["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),function(F){F.classList.remove("is-active");F.removeAttribute("aria-current")}),y.classList.add("is-active"),y.setAttribute("aria-current",!0),"custom"===q?(B.classList.remove("hide"),y=this.state.options.custom,y.from&&y.to&&(y.q=this.generateRange(y.from,y.to),this.update())):(B.classList.add("hide"),
this.update()));this.showHideClearButton()};n.prototype.resetIfNullCustom=function(){this.customStart.value||this.customEnd.value||(this.state.options.custom.from=void 0,this.state.options.custom.to=void 0,this.removeFilter())};n.prototype.changeCustomStart=function(q){if(null!==q&&void 0!==q&&q.detail){var y=this.state.options.custom;y.from=a["default"](q.detail).startOf("day");this.dateInputsValid()&&(this.customEnd.minAsDate=q.detail,y.to&&(y.q=this.generateRange(y.from,y.to),y.label=p["default"].substitute(b["default"].filters.dateRange,
{start:this.formatDate(y.from.valueOf()),end:this.formatDate(y.to.valueOf())}),this.update()))}else this.resetIfNullCustom()};n.prototype.dateInputsValid=function(){var q=this.state.options.custom,y=q.from;q=q.to;if(y&&q){if(q.valueOf()<y.valueOf())return h["default"].setInvalidState(this.customStart,this.customStartError,this.i18n.filters.startDateBefore),this.constrainWidthOnError&&this.customStart.classList.add("input-error__constrain-width"),!1;if(y.valueOf()>q.valueOf())return h["default"].setInvalidState(this.customEnd,
this.customEndError,this.i18n.filters.endDateAfter),this.constrainWidthOnError&&this.customEnd.classList.add("input-error__constrain-width"),!1}h["default"].clearState([this.customStart,this.customStartError,this.customEnd,this.customEndError]);this.constrainWidthOnError&&(this.customStart.classList.remove("input-error__constrain-width"),this.customEnd.classList.remove("input-error__constrain-width"));return!0};n.prototype.changeCustomEnd=function(q){var y;if(null!==q&&void 0!==q&&q.detail){var C=
this.state.options.custom;C.to=a["default"](q.detail).endOf("day");this.dateInputsValid()&&(this.customStart.maxAsDate=q.detail,C.from&&(C.q=this.generateRange(C.from,C.to),C.label=p["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(C.from.valueOf()),end:this.formatDate(null===(y=C.to)||void 0===y?void 0:y.valueOf())}),this.update()))}else this.resetIfNullCustom()};n.prototype.update=function(){z["default"].publish(this.topicPrefix+"filter/update",this.state);this.showHideClearButton()};
n.prototype.removeFilter=function(q){var y;q&&q.stopPropagation();0<(null===(y=this.state.selected)||void 0===y?void 0:y.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this.state.param,value:this.state.selected[0].value});this.showHideClearButton()};n.prototype.showHideClearButton=function(){var q,y=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');0<(null===(q=this.state.selected)||void 0===q?void 0:q.length)?y.classList.remove("hide"):
y.classList.add("hide")};n.prototype.formatDate=function(q){return t["default"].format(new Date(q),"short-date")};return n=v.__decorate([x["default"](e["default"],c["default"])],n)}()})},"arcgisonline/pages/dijit/FilterItemType":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterItemType/templates/FilterItemType.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ./FilterItemType/_itemTypes ../utils/dom arcgisonline/esriGeowConfig".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);return function(){function n(q,y){this.templateString=
e["default"];this.i18n=a["default"];this._state={chipText:a["default"].filters.type,registeredOnly:!1,param:"focus",selected:[]};this.isLivingAtlas=this.filterNonPublicItemTypes=!1;this.itemTypes=b["default"]}n.prototype.postMixInProperties=function(){this.inherited(arguments)};n.prototype.destroy=function(){this.inherited(arguments);this._clear();u["default"](".js-clear-filter",this.domNode).addClass("hide")};n.prototype.postCreate=function(){var q=u["default"](".accordion-title",this.domNode.parentElement.parentElement)[0];
q&&h["default"].place(z["default"].substitute(c["default"],{i18n:a["default"],hide:"hide",param:this._state.param}),q);this.filterNonPublicItemTypes&&u["default"](".js-filter-public").addClass("if-no-public-user");this.portal.canCreateGeoBIM&&u["default"](".js-geobim").removeClass("hide");if(this.portal.isPortal){q=this.itemTypes.layers.q.substring(0,1);var y=this.itemTypes.layers.q.substring(1);k["default"].videoServerEnabled&&-1===this.itemTypes.layers.q.indexOf('type:"Video Service"')&&(this.itemTypes.layers.q=
q+'type:"Video Service" OR '+y,u["default"]('li[data-value\x3d"layers-weblayers-videolayers"]').removeClass("hide"));this.domNode.classList.add("is-on-premise");this.isLivingAtlas||this.checkKnowledgeServer()}this._addEventListeners();this._showHideClearButton()};n.prototype.checkKnowledgeServer=function(){return v.__awaiter(this,void 0,void 0,function(){var q;return v.__generator(this,function(y){switch(y.label){case 0:return[4,this.portal.getFederatedServerByFunction("KnowledgeServer")];case 1:return(q=
y.sent())&&d["default"].showNode(this.domNode.querySelector(".js-knowledge-graph-item")),[2]}})})};n.prototype._clickHandler=function(q){t["default"].stop(q);q=u["default"](q.target).closest(".js-filter-tree-item");var y=f["default"].get(q[0],"data-value"),C=f["default"].get(q[0],"data-label");if(g["default"].contains(q[0],"is-active")){g["default"].remove(q[0],"is-active");y=q.shift();var B=y.querySelector(".js-filter-tree-link");B.setAttribute("aria-label",C);this._hasChildren(y)&&B.setAttribute("aria-expanded",
!1);q=q.parent().closest(".js-filter-tree-item");0<q.length?(q=f["default"].get(q[0],"data-value"),this.select(q)):this._removeFilter()}else this.select(y)};n.prototype.select=function(q){var y=this;if(b["default"][q]){var C=b["default"][q],B=u["default"](".js-filter-tree-link[data-value\x3d'"+q+"']",this.domNode).closest(".js-filter-tree-item");u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");u["default"](".js-filter-tree-item",this.domNode).forEach(function(F){g["default"].remove(F,
"is-active");var r=F.querySelector(".js-filter-tree-link");r.removeAttribute("aria-selected");y._hasChildren(F)&&r.setAttribute("aria-expanded",!1);r.setAttribute("aria-label",F.getAttribute("data-label"))});u["default"](".js-filter-tree-link",this.domNode).forEach(function(F){F.removeAttribute("aria-selected")});B.addClass("is-active");var D=B[0].querySelector(".js-filter-tree-link");D.setAttribute("aria-selected",!0);this._hasChildren(B[0])&&D.setAttribute("aria-expanded",!0);D.setAttribute("aria-label",
z["default"].substitute(a["default"].common.selectedLabel,{name:B[0].getAttribute("data-label")}));B=B.parent().closest(".js-filter-tree-item");0<B.length&&(B.addClass("is-active"),D=B[0].querySelector(".js-filter-tree-link"),D.setAttribute("aria-label",z["default"].substitute(a["default"].common.selectedLabel,{name:B[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0),B=B.parent().closest(".js-filter-tree-item"),0<B.length&&(B.addClass("is-active"),D=B[0].querySelector(".js-filter-tree-item"),
D.setAttribute("aria-label",z["default"].substitute(a["default"].common.selectedLabel,{name:B[0].getAttribute("data-label")})),D.setAttribute("aria-expanded",!0)));B=this._state.registeredOnly&&-1<q.indexOf("application")?' AND typekeywords:"Registered App"':"";this._state.selected=[{active:!0,label:C.label,simpleLabel:C.label,q:C.q+B,value:q}];E["default"].publish("filter/update",this._state)}this._showHideClearButton()};n.prototype._hasChildren=function(q){return 0<u["default"](".filter-tree",q).length};
n.prototype._clear=function(){var q=this;this._state.selected=[];u["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");u["default"](".js-filter-tree-item",this.domNode).forEach(function(y){var C=y.querySelector(".js-filter-tree-link");C.setAttribute("aria-label",y.getAttribute("data-label"));q._hasChildren(y)&&C.setAttribute("aria-expanded",!1)});this._showHideClearButton()};n.prototype._remove=function(q){q.param===this._state.param&&this._clear()};n.prototype._showHideClearButton=
function(){var q,y=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(q=this._state.selected)||void 0===q?void 0:q.length)?y.removeClass("hide"):y.addClass("hide")};n.prototype._removeFilter=function(q){var y,C;null===(y=null===q||void 0===q?void 0:q.stopPropagation)||void 0===y?void 0:y.call(q);0<(null===(C=this._state.selected)||void 0===C?void 0:C.length)&&E["default"].publish("filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
n.prototype._addEventListeners=function(){var q=u["default"](".js-filter-tree-link",this.domNode),y=u["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(q.on("click",l["default"].hitch(this,this._clickHandler)),y.on("click",l["default"].hitch(this,this._removeFilter)),u["default"](".js-registered-only",this.domNode).on("click",l["default"].hitch(this,this._updateRegisteredOnly)),E["default"].subscribe("filter/clear",l["default"].hitch(this,this._clear)),E["default"].subscribe("filter/remove",
l["default"].hitch(this,this._remove)))};n.prototype._updateRegisteredOnly=function(q){var y,C;this._state.registeredOnly=q.target.checked;0<(null===(C=null===(y=this._state)||void 0===y?void 0:y.selected)||void 0===C?void 0:C.length)&&this.select(this._state.selected[0].value)};return n=v.__decorate([w["default"](p["default"],m["default"],x["default"])],n)}()})},"arcgisonline/pages/dijit/FilterItemType/_itemTypes":function(){define(["require","exports"],function(V,L){return{maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',
label:"Maps"},"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"',label:"Web maps"},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")',label:"Map files"},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage") -type:("Web Mapping Application" OR "Geodata Service")',
label:"Layers"},"layers-weblayers":{q:'type:("Feature Collection" OR "Feature Service" OR "Image Service" OR "Map Service" OR "Vector Tile Service" OR "Scene Service" OR "Stream Service" OR "WMS" OR "WMTS" OR "WFS" OR "KML" OR "OGCFeatureServer") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Web layers"},"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',label:"Feature layers"},
"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")',label:"Tile layers"},"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Map Image layers"},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"',label:"Imagery layers"},"layers-weblayers-scenelayers":{q:'type:"Scene Service"',
label:"Scene layers"},"layers-weblayers-videolayers":{q:'type:"Video Service"',label:"Video layers"},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"',label:"Tiled Imagery layers"},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"',label:"Elevation layers"},"layers-weblayers-feeds":{q:'type:"Feed"',label:"Feeds"},"layers-weblayers-tables":{q:"typekeywords:Table",label:"Tables"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")',
label:"Layer files"},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"',label:"Scenes"},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',
label:"Apps"},"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")',label:"Web apps"},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")',label:"Dashboards"},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")',label:"Sites"},"applications-pages":{q:'type:("Hub Page" OR "Site Page")',label:"Pages"},"applications-geobim-projects":{q:'type:("GeoBIM Project")',
label:"GeoBIM projects"},"applications-geobim-apps":{q:'type:("GeoBIM Application")',label:"GeoBIM applications"},"applications-instant-apps":{q:'typekeywords:"configurableApp"',label:"Instant Apps"},"applications-storymap":{q:'type:("StoryMap")',label:"Storymaps"},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")',label:"Experience Builder"},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"',label:"Web AppBuilder"},
"applications-mobile":{q:'type:"Mobile Application"',label:"Mobile apps"},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"',label:"Desktop apps"},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',
label:"Tools"},"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")',label:"Locators"},"tools-geodatabase":{q:'type:"Geodata Service"',label:"Geodatabase access"},"tools-geometric":{q:'type:"Geometry Service"',label:"Geometric operations"},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")',label:"Geoprocessing tasks"},"tools-network":{q:'type:"Network Analysis Service"',label:"Network analysis"},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")',
label:"Analytics"},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',label:"Files"},"files-document":{q:'typekeywords:"Document" -type:"PDF"',
label:"Documents"},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"',label:"Images"},"files-pdf":{q:'type:"PDF"',label:"PDFs"},"files-csv":{q:'type:"CSV"',label:"CSVs"},"files-report":{q:'type:"Administrative Report"',label:"Administrative reports"},"files-raster":{q:'type: "Raster function template"',label:"Raster function templates"},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',label:"Notebooks"},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',
label:"Insights"},"insights-workbooks":{q:'type:"Insights Workbook"',label:"Workbooks"},"insights-pages":{q:'type:"Insights Page"',label:"Pages"},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")',label:"Models"},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")',label:"Themes"},"data-stores":{q:'type:("Data Store")',label:"Data stores"},
knowledgeGraphs:{q:'type:"Knowledge Graph"',label:"Knowledge graphs"}}})},"arcgisonline/pages/dijit/FilterCategory":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dojo/text!./FilterCategory/templates/FilterCategory.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/text!./FilterCategory/templates/Category.html dojo/text!./FilterCategory/templates/Uncategorized.html dojo/text!./FilterCategory/templates/CategoryGroup.html dojo/text!./FilterCategory/templates/EditSchemaButton.html dojo/i18n!../../nls/arcgisonline ../utils/categories ../utils/icons ./_CheckReadonlyMixin ./CategoryEdit ../components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal arcgisonline/telemetry preact".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importDefault(F);return function(){function A(G,H){this.templateString=e["default"];this.topicPrefix="";this.isMemberCategories=!1;this.i18n=n["default"];this.icons=y["default"];this._chipText=n["default"].contentCategories.chipText;this._selected=[];this.isMemberCategoriesOpen=!1;this._param=this.group?"groupCategories":"categories";this.closeCategoriesModal=this.closeCategoriesModal.bind(this)}
A.prototype.postMixInProperties=function(){this.inherited(arguments);this._chipText=this.chipText||this._chipText;this._param=this.param||this._param;this.contentCategoriesStrings=t["default"].mixin({},this.i18n.contentCategories,this.group?this.i18n.groupCategories:{});this.noCategoriesText=this.isMemberCategories?this.i18n.memberCategories.noCategories:this.contentCategoriesStrings.noCategoriesYet;this.filterDescription=this.isMemberCategories?this.i18n.memberCategories.filterDescription:this.contentCategoriesStrings.whyCategories;
this.setupText=this.isMemberCategories?this.i18n.memberCategories.setupCategories:this.contentCategoriesStrings.setUpCategories};A.prototype.postCreate=function(){this.telemetry=F["default"].init(this.portal,!0);this.categories=this.categories||this.group&&t["default"].clone(this.group.categorySchema)||t["default"].clone(this.portal.categories);this.rootNode=this.rootNode||q["default"].getRootNode(this.categories);"/Trending"===this.rootNode&&(this.rootNode="/Categories");var G=this.domNode.parentElement.parentElement.querySelector(".accordion-title");
f["default"].place(u["default"].substitute(k["default"],{i18n:n["default"],contentCategoriesStrings:this.contentCategoriesStrings,icons:y["default"]}),G);f["default"].place(u["default"].substitute(c["default"],{i18n:n["default"],hide:"hide",param:"category",icons:y["default"]}),G);this._clearButton=G.querySelector(".js-clear-filter");this._editCategoriesButton=G.querySelector(".js-edit-categories");this._setPermissions();this.updateCategories(this.categories,!0);this._addEventListeners()};A.prototype.destroy=
function(){this.inherited(arguments)};A.prototype._setPermissions=function(){var G,H,J,O,M=!this.user,K=!M&&!this.user.isOrgUser,U=!M&&this.user.userRole||{},Z=(null===(G=this.group)||void 0===G?void 0:G.groupOwner)||{};G=!M&&U.isAdmin();var ca=!M&&U.isCustom();Z=!K&&Z.orgId&&this.user.orgId===Z.orgId;Z=!M&&this.group&&(this.group.isOwner||this.group.isManager||Z&&U.canUpdateOrgGroups());var fa=!M&&!K&&(G||ca&&U.canUpdateItemCategories());M=!M&&!K&&(G||ca&&U.canUpdateMemberCategories());M=(!this.group&&
fa||this.group&&Z||this.isMemberCategories&&M)&&!this.disableEdit;K=0<(null===(H=this.categories)||void 0===H?void 0:H.length)&&0<(null===(O=null===(J=this.categories[0])||void 0===J?void 0:J.categories)||void 0===O?void 0:O.length);H=h["default"](this.domNode).closest(".js-filter-category-container");J=h["default"](".js-no-categories-action",this.domNode);O=h["default"](".js-category-filter",this.domNode);O.addClass("hide");J.addClass("hide");l["default"].add(this._editCategoriesButton,"hide");!K&&
M&&J.removeClass("hide");K&&(O.removeClass("hide"),this._setClearVisibility(),l["default"][M?"remove":"add"](this._editCategoriesButton,"hide"));M||K||!H||H.addClass("hide")};A.prototype._addEventListeners=function(){var G=this;this.own(E["default"](this._clearButton,"click",this.deselectAll.bind(this)),E["default"](this._editCategoriesButton,"click",this._editCategories.bind(this)),h["default"](".js-setup-categories",this.domNode).on("click",this._editCategories.bind(this)),h["default"](".js-category-filter",
this.domNode).on("click",function(H){l["default"].contains(H.target,"js-filter-tree-link")&&G._clickHandler(H)}),x["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),x["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),x["default"].subscribe("categorySchema/updated",this.updateCategories.bind(this)),x["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};A.prototype.updateCategories=function(G,H){this.categories=G||[];0<this.categories.length&&
G[0].categories&&(this.domNode.querySelector(".js-category-root").innerHTML=this._categoriesToDom(v.__spreadArray([],G[0].categories),"",!0),this._addTooltips(),this.showUncategorized||this.isMemberCategories?this._addUncategorized():this.domNode.querySelector(".js-uncategorized").classList.add("hide"));this._setPermissions();H||this.deselectAll()};A.prototype.select=function(G,H){var J=this;(t["default"].isArray(G)?G:[G]).map(function(O){return O.replace(/\/[^\/]*\//,"/")}).forEach(function(O){var M=
O.split("/").filter(function(K){return"/"!==K&&""!==K});M.forEach(function(K,U){var Z=M.slice(0,U+1).join("/");h["default"](".js-filter-tree-item[data-category-path\x3d'/"+Z+"']",J.domNode).addClass("is-active")})});this._updateState(H)};A.prototype.deselectAll=function(G){G&&G.stopPropagation();this._clear();x["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",selected:[],isCategory:!0})};A.prototype.closeCategoriesModal=
function(){r.render(null,this.domNode);this.isMemberCategoriesOpen=!1;this.categories.length?this._editCategoriesButton.focus():this.domNode.querySelector(".js-setup-categories").focus()};A.prototype._editCategories=function(G){G.stopPropagation();this.checkReadonly()||(this.isMemberCategories?(this.isMemberCategoriesOpen=!0,this.renderMemberCategoriesModal()):(G={user:this.portalUser,portal:this.portal,rootNode:this.rootNode},this.group&&(G.group=t["default"].mixin({},this.group)),this._categoryEdit=
new B["default"](G,f["default"].place(f["default"].create("div"),document.body,"last")),this._categoryEdit.open()))};A.prototype.renderMemberCategoriesModal=function(){r.render(r.h(D["default"],{active:!0,memberCategories:this.categories,categoryCount:this.categoryCount,telemetry:this.telemetry,onClose:this.closeCategoriesModal}),this.domNode)};A.prototype._categoriesToDom=function(G,H,J){var O=this;return(null===G||void 0===G?0:G.length)?(G=G.reduce(function(M,K){var U,Z,ca=H+"/"+(K.title||K.name),
fa=ca.toLowerCase(),ka=(null===(U=K.categories)||void 0===U?0:U.length)?O._categoriesToDom(K.categories,ca):"";U=(null===(Z=K.categories)||void 0===Z?0:Z.length)?"is-parent":"";Z=K.isActive?"is-active":"";var ma=(K.description||"").replace(/"/g,"\x26quot;");return M+u["default"].substitute(a["default"],{isActive:Z,isParent:U,title:K.displayName||K.title||K.name,description:ma,children:ka,path:ca,normalizedPath:fa,icons:y["default"]})},""),J?G:u["default"].substitute(d["default"],{categories:G,icons:y["default"]})):
""};A.prototype._addTooltips=function(){h["default"](".js-filter-tree-link",this.domNode).forEach(function(G){var H=G.getAttribute("data-category-description");0<(null===H||void 0===H?void 0:H.length)&&new m["default"]({connectId:G,label:"\x3cspan class\x3d'text-constrain-narrow display-block text-left padding-left-quarter padding-right-quarter'\x3e"+H+"\x3c/span\x3e"})})};A.prototype._addUncategorized=function(){this.isMemberCategories&&(n["default"].contentCategories.uncategorized=n["default"].memberCategories.noAssigned);
this.domNode.querySelector(".js-uncategorized").innerHTML=u["default"].substitute(b["default"],{i18n:n["default"]});this.own(h["default"](".js-filter-tree-link-uncategorized",this.domNode).on("click",this._toggleUncategorizedFilter.bind(this)))};A.prototype._clickHandler=function(G){G.preventDefault();G=G.target.parentElement;var H=l["default"].contains(G,"is-active"),J=l["default"].contains(G,"is-parent"),O=0<h["default"](G.parentElement).closest(".js-filter-tree-item").length,M=[G],K=G;if(O)for(;l["default"].contains(K.parentElement.parentElement,
"js-filter-tree-item");)K=K.parentElement.parentElement,M.push(K);H?(M.forEach(function(U){l["default"].remove(U,"is-active")}),h["default"](G).removeClass("is-active"),h["default"](".js-filter-tree-item.is-active",G).removeClass("is-active")):(h["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),M.forEach(function(U){l["default"].add(U,"is-active")}),J&&(G=M.reduce(function(U,Z){return U+Z.offsetTop},0),this.domNode.parentElement.scrollTop=G));this._updateState()};A.prototype._toggleUncategorizedFilter=
function(G){G.preventDefault();(this.uncategorizedSelected=!this.uncategorizedSelected)?(h["default"](".js-filter-tree-item.is-active",this.domNode).removeClass("is-active"),this.domNode.querySelector(".js-filter-tree-item-uncategorized").classList.add("is-active"),this._selected=[],x["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,selected:[{active:!0,value:"_none_",
label:n["default"].contentCategories.uncategorized,q:"categories:none",simpleLabel:n["default"].contentCategories.uncategorized}],rootNode:this.rootNode})):this.deselectAll();this._setClearVisibility()};A.prototype._updateState=function(G){var H=this,J=this._param||"categories";this._selected=h["default"](".js-filter-tree-item.is-active",this.domNode).map(function(O){var M=O.getAttribute("data-category-name");O=O.getAttribute("data-category-path");return{active:!0,value:H.rootNode+O,label:M,q:u["default"].substitute('${paramName}:( "${categoryPath}")',
{paramName:J,categoryPath:H.rootNode+O})}});h["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this.uncategorizedSelected=!1;x["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||n["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,isLoading:G,selected:0<this._selected.length&&[this._selected[this._selected.length-1]]||[],rootNode:this.rootNode});this._setClearVisibility();this._updateAria()};
A.prototype._setClearVisibility=function(){l["default"][0<this._selected.length||this.uncategorizedSelected?"remove":"add"](this._clearButton,"hide")};A.prototype._clear=function(){h["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");h["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this._selected=[];this.uncategorizedSelected=!1;this._updateState(!0);this._setClearVisibility()};A.prototype._remove=function(G){G.param===this._param&&this._clear()};
A.prototype._updateCounts=function(G){var H=this;if("groupCategories"===G.fieldName&&this.group||!this.group&&"categories"===G.fieldName){h["default"](".js-category-count",this.domNode).forEach(function(O){return O.innerHTML=""});var J=new RegExp(this.rootNode.toLowerCase()+"/");G.fieldValues.filter(function(O){return O.value.toLowerCase()!==H.rootNode.toLowerCase()}).map(function(O){return{value:O.value.replace(J,"/"),count:O.count}}).forEach(function(O){try{var M=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
O.value+'"]');M&&(M.innerHTML="("+O.count+")")}catch(K){}})}};A.prototype.updateCategorizedMembers=function(G){var H=this;this.categoryCount=G;h["default"](".js-category-count",this.domNode).innerHTML("");Object.keys(G).forEach(function(J){var O=J.replace(/\/categories\//,"/");try{var M=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+O.toLowerCase()+'"]');M&&(M.innerHTML="("+G[J]+")")}catch(K){}});this.isMemberCategoriesOpen&&this.renderMemberCategoriesModal()};A.prototype._updateAria=
function(){h["default"](".js-filter-tree-item",this.domNode).forEach(function(G){return G.setAttribute("aria-expanded",l["default"].contains(G,"is-active"))})};return A=v.__decorate([w["default"](z["default"],p["default"],C["default"],g["default"])],A)}()})},"arcgisonline/pages/dijit/CategoryEdit":function(){define("require exports tslib dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/categories ../utils/alerts ../utils/formatters ../utils/icons ../utils/getLivingAtlasCategorySet ./Overlay ../portal/Portal ../../esriGeowConfig dojo/text!./CategoryEdit/templates/CategoryEdit.html dojo/text!./CategoryEdit/templates/Node.html dojo/text!./CategoryEdit/templates/Group.html dojo/text!./CategoryEdit/templates/_count.html dojo/text!./CategoryEdit/templates/_standard.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);D=v.__importDefault(D);F=v.__importDefault(F);r=v.__importDefault(r);return function(){function A(G,H){this.title=F["default"].contentCategories.configureCategories;this.overlayContents=h["default"].substitute(q["default"],{i18n:F["default"]},null,c["default"]);this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;this.i18n=F["default"];this.constrain=!0;this.showActionBar=this.isCreate=
!1}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.categories=this.group&&w["default"].clone(this.group.categorySchema)||w["default"].clone(this.portal.categories);this.rootNode=m["default"].getRootNode(this.categories);if(!this.portal.queryItems){var G=this.portal.id;this.portal=new k["default"](w["default"].clone(this.portal));this.portal.id=G}"//"===this.portal.url.slice(-2)&&(this.portal.url=this.portal.url.slice(0,this.portal.url.length-1));this.group&&(this.i18n.contentCategories=
w["default"].mixin(this.i18n.contentCategories,this.i18n.groupCategories));this.overlayContents=h["default"].substitute(q["default"],{i18n:F["default"]},null,c["default"]);if(!this.categories||1>this.categories.length)this.showActionBar=this.isCreate=!0,this.title=F["default"].contentCategories.setUpCategories,this.categories=[{title:"Categories",categories:[]}]};A.prototype.postCreate=function(){var G=this,H,J;this.inherited(arguments);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);this.updateSubmit();this.isCreate?(f["default"]({livingAtlas:b["default"](this.portal,"LivingAtlas"),iso:b["default"](this.portal,"ISO"),inspire:b["default"](this.portal,"Inspire")}).then(function(M){G.standardSets={livingAtlas:M.livingAtlas[0],iso:M.iso[0],inspire:M.inspire[0]};G.buildStandardSets()}),this.domNode.querySelector(".js-category-setup-explanation").classList.remove("hide"),this.domNode.querySelector(".js-category-edit-explanation").classList.add("hide"),
this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)):(this.domNode.querySelector(".js-content-loading").classList.remove("is-active"),this.domNode.querySelector(".js-category-wrapper").classList.remove("hide"),g["default"](".js-category-edit-li",this.domNode).addClass("is-open"));this.addCategoryListeners();this.drag=z["default"]([].slice.call(this.domNode.querySelectorAll(".js-category-group")),
{moves:function(M,K,U){return U.classList.contains("js-toggle-item")||U.classList.contains("js-category-edit-item")},accepts:function(M,K,U,Z){return K===U}});this.drag.on("drop",function(M){M.classList.contains("is-editing")||(G.updateState(),G.updateSchema().then(function(K){}))});this.updateCounts();var O=(null===(J=null===(H=this.portal)||void 0===H?void 0:H.portalUser)||void 0===J?void 0:J.userRole)||n["default"].userRole||{};this.domNode.classList[this.group||O.canUpdateOrgItems()?"add":"remove"]("can-renameDeleteFromSchema")};
A.prototype.destroy=function(){this.inherited(arguments)};A.prototype.close=function(G){this.isCreate&&(this.cleanUp(!0),this.hasCategories()&&!G&&(this.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain,this.setUnsaved(!0)));x["default"].publish("category-edit/close");this.inherited(arguments)};A.prototype.handleCancel=function(){x["default"].publish("category-edit/cancel");this.inherited(arguments)};A.prototype.handlePrimary=function(){this.submit()};A.prototype.addCategoryListeners=
function(){var G=this,H=function(J,O,M){M.target.classList.contains(J)&&O.bind(G)(M)};this.own(g["default"](this.domNode).on("click",function(J){H("js-toggle-item",G.toggleOpen,J);H("js-add-sibling",G.addCategory,J);H("js-category-edit-button",G.editNode,J);H("js-category-cancel-edit",G.cancelEditNode,J);H("js-edit-confirm",G.confirmEdit,J);H("js-cancel-edit",G.cancelEdit,J);H("js-category-edit-submit",G.saveEdit,J);H("js-category-delete-button",G.initiateDelete,J);H("js-cancel-delete",G.cancelDelete,
J);H("js-delete-confirm",G.confirmDelete,J)}),g["default"](this.domNode).on("input",function(J){H("js-category-item-input",G.validateInput,J)}))};A.prototype.buildStandardSets=function(){var G=this,H=this.domNode.querySelector(".js-standard-categories-nav");Object.keys(this.standardSets).forEach(function(J){var O,M,K=G.standardSets[J],U=K.title;K=K.snippet;var Z=(null===(O=G.portal.helpMap)||void 0===O?void 0:O.m)||(null===(M=n["default"].self.helpMap)||void 0===M?void 0:M.m)||{};O={inspire:"reference/content-categories.htm#CATEGORY_INSPIRE",
iso:"reference/content-categories.htm#CATEGORY_ISO",livingAtlas:"reference/content-categories.htm#CATEGORY_ARCGIS"};M={inspire:Z["120001582"]||"",iso:Z["120001581"]||"",livingAtlas:Z["120001580"]||""};t["default"].place(h["default"].substitute(D["default"],{key:J,title:U,description:K,i18n:F["default"],helpBase:G.portal.helpBase||"https://doc.arcgis.com/en/arcgis-online/",helpLink:G.portal.isPortal?M[J]:O[J]}),H)});this.own(g["default"](".js-category-setup-option",this.domNode).on("click",this.toggleStandard.bind(this)),
g["default"](".js-category-setup-option",this.domNode).on("keyup",function(J){"Enter"!==J.key&&"Space"!==J.key||G.toggleStandard(J)}));g["default"](".js-content-loading",this.domNode).removeClass("is-active");g["default"](".js-category-wrapper",this.domNode).removeClass("hide")};A.prototype.toggleStandard=function(G){if(G.target.classList.contains("js-category-setup-option")){var H=G.target.getAttribute("data-category-set"),J=this.domNode.querySelector(".js-category-setup-option.is-active").getAttribute("data-category-set"),
O=!0;g["default"](".js-category-setup-option",this.domNode).removeClass("is-active");G.target.classList.add("is-active");if(J===H)return!1;"custom"===J&&"custom"!==H&&(this.customBackup=v.__spreadArray([],this.categories[0].categories).filter(function(M){return""!==M.title}));"custom"===H&&"custom"!==J&&(this.categories[0].categories=v.__spreadArray([],this.customBackup));"custom"!==H&&(this.categories[0].categories=this.standardSets[H].categorySchema[0].categories);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);"custom"!==H||this.hasCategories()||(this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),this.domNode.querySelector(".js-category-item-input").focus(),O=!1);this.updateState();this.updateSubmit();this.setUnsaved(O)}};A.prototype.toggleOpen=function(G){G.preventDefault();G=G.target.parentNode;var H=G.classList.contains("is-open");G.classList[H?"remove":"add"]("is-open")};A.prototype.addCategory=function(G){this.cleanUp();if(0===
this.domNode.querySelectorAll(".js-category-edit-li.is-editing").length){var H=G.target.parentNode;G=G.target.getAttribute("data-category-path")||"";var J=2>(G.match(RegExp("/","g"))||[]).length?"is-parent":"",O={path:G,categories:"",i18n:F["default"],isOpen:"is-open",ariaText:F["default"].contentCategories.addSub,icons:a["default"]};J={isOpen:"is-open",children:J?h["default"].substitute(C["default"],O,null,c["default"]):"",title:"",path:G,i18n:F["default"],isParent:J,saveText:this.isCreate?F["default"].contentCategories.add:
F["default"].common.save,icons:a["default"]};H=Array.prototype.slice.call(H.children).filter(function(M){return M.classList.contains("js-add-sibling")}).shift();O=document.createElement("div");O.innerHTML=h["default"].substitute(y["default"],J,null,c["default"]);J=O.querySelector(".js-category-edit-li");t["default"].place(J,H,"before");G||H.setAttribute("aria-label",F["default"].contentCategories.addCat);J.classList.add("is-editing");J.querySelector(".js-category-item-input").focus();this.updateSubmit()}};
A.prototype.editNode=function(G){G.preventDefault();this.cleanUp();var H=g["default"](G.target).closest(".js-category-edit-item").shift();G=g["default"](G.target).closest(".js-category-edit-li").shift();H.classList.add("is-editing");G.classList.add("is-editing");H.querySelector(".js-category-edit-submit").disabled=!0;H=H.querySelector(".js-category-item-input");H.focus();H.select();this.updateSubmit()};A.prototype.cancelEditNode=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-item").shift();
G=g["default"](G.target).closest(".js-category-edit-li").shift();var J=H.getAttribute("data-current-category"),O=H.querySelector(".js-category-item-input-error"),M=H.querySelector(".js-category-item-input");J?(H.classList.remove("is-editing"),G.classList.remove("is-editing"),M.value=J,M.classList.remove("input-error"),O.classList.remove("is-active")):this.hasCategories()||!this.isCreate||1<g["default"](".js-category-edit-li.is-editing",this.domNode).length?t["default"].destroy(H.parentNode):(M.value=
"",M.classList.remove("input-error"),O.classList.remove("is-active"),M.focus(),G.querySelector(".js-category-edit-submit").setAttribute("disabled","true"));this.updateSubmit()};A.prototype.saveEdit=function(G){var H=this;G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-item").shift(),O=J.parentNode,M=J.getAttribute("data-current-category"),K=O.getAttribute("data-category-path"),U=J.querySelector(".js-category-item-input").value;G=O.querySelector(".js-category-group \x3e .js-add-sibling");
if(M){var Z=K.split("/");Z.pop();Z.push(U);var ca=Z.join("/");G&&G.setAttribute("data-category-path",ca);this.isCreate?(O.querySelector(".js-category-edit-title").innerHTML=U,J.classList.remove("is-editing"),O.classList.remove("is-editing"),O.setAttribute("data-category-path",ca),J.setAttribute("data-current-category",U),g["default"](".js-category-edit-li",O).forEach(function(fa){var ka=fa.getAttribute("data-category-path").replace(K,ca);fa.setAttribute("data-category-path",ka)}),this.updateState(),
this.updateSchema().then(function(){},function(fa){return 0})):this.searchCategoryItems({category:K,num:1}).then(function(fa){if(0<fa.total){var ka=O.querySelector(".js-category-edit-warning"),ma=ka.querySelector(".js-edit-confirm"),ra=F["default"].contentCategories[1===fa.total?"categoryInUseEditSingle":"categoryInUseEditPlural"];J.classList.add("category-edit-item__disabled");J.classList.remove("is-editing");O.classList.remove("is-editing");var za=h["default"].substitute(B["default"],{path:ca,num:fa.total});
O.querySelector(".js-category-edit-title").innerHTML=U+za;O.querySelector(".js-category-in-use-edit-explanation").innerHTML=h["default"].substitute(ra,{number:fa.total,category:M,newCategory:U});ka.classList.remove("hide");ma.setAttribute("data-category-path",K);ma.setAttribute("data-category",M);ma.setAttribute("data-new-category",U);ma.setAttribute("data-new-category-path",ca);ma.focus()}else O.querySelector(".js-category-edit-title").innerHTML=U,J.classList.remove("is-editing"),O.classList.remove("is-editing"),
O.setAttribute("data-category-path",ca),J.setAttribute("data-current-category",U),g["default"](".js-category-edit-li",O).forEach(function(ia){var T=ia.getAttribute("data-category-path").replace(K,ca);ia.setAttribute("data-category-path",T)}),H.updateState(),H.updateSchema().then(function(){},function(ia){return 0})})}else(Z=K+"/"+U,G&&(G.setAttribute("data-category-path",Z),G.setAttribute("aria-label",h["default"].substitute(F["default"].contentCategories.addSubCategoryOf,{category:U}))),J.setAttribute("data-current-category",
U),J.querySelector(".js-category-edit-title").innerHTML=U,O.setAttribute("data-category-path",Z),O.classList.remove("is-editing"),this.isCreate&&J.classList.remove("is-editing"),this.updateState(),this.isCreate)?this.cleaningUp||M||(this.setUnsaved(!0),J.querySelector(".js-category-edit-submit").innerHTML=F["default"].contentCategories.update,(G=(G=O.parentNode)&&G.children&&G.children[G.children.length-1])&&this.addCategory({target:G})):this.updateSchema().then(function(){},function(fa){return 0})};
A.prototype.confirmEdit=function(G){var H=this,J=g["default"](G.target).closest(".js-category-edit-li").shift(),O=G.target.getAttribute("data-category-path"),M=G.target.getAttribute("data-new-category"),K=G.target.getAttribute("data-new-category-path"),U=J.querySelector(".js-category-edit-item");G=J.querySelector(".js-category-edit-warning");var Z=J.querySelector(".js-category-loader"),ca=J.querySelector(".js-category-loader-bar"),fa=J.querySelector(".js-loading-message");G.classList.add("hide");
J.setAttribute("data-category-path",K);U.setAttribute("data-current-category",M);g["default"](".js-category-edit-li",J).forEach(function(ka){var ma=ka.getAttribute("data-category-path").replace(O,K);ka.querySelector(".js-category-count").setAttribute("data-category-path",ma);ka.setAttribute("data-category-path",ma)});Z.classList.remove("hide");fa.innerHTML="";ca.style.width="0%";this.searchCategoryItems({category:O,num:1}).then(function(ka){ka={length:ka.total,oldCategory:O,newCategory:K,loader:Z};
H.enableButtons(!1);H.bulkEditCategory(ka).then(function(ma){H.updateState();H.updateSchema().then(function(ra){Z.classList.add("hide");U.classList.remove("category-edit-item__disabled");H.enableButtons(!0);x["default"].publish("items/refresh",{forcedDelay:2E3});x["default"].publish("view/deselectAll")},function(ra){})})})};A.prototype.cancelEdit=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-li").shift();G=this.rootNode.toLowerCase()+H.getAttribute("data-category-path");
var J=H.querySelector(".js-category-edit-item"),O=J.getAttribute("data-current-category"),M=H.querySelector(".js-category-edit-warning"),K=J.querySelector(".js-category-edit-title"),U=J.querySelector(".js-category-item-input");H=(H=H.querySelector(".js-category-count"))&&H.innerHTML||"";U.value=O;M.classList.add("hide");J.classList.remove("category-edit-item__disabled");K.innerHTML="\n      "+O+'\n      \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"'+G+'"\x3e\n        '+
H+"\n      \x3c/span\x3e\n    ";this.updateSubmit()};A.prototype.initiateDelete=function(G){var H=this;this.cleanUp();G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-item"),O=g["default"](G.target).closest(".js-category-edit-li").shift(),M=O.getAttribute("data-category-path");J.addClass("category-edit-item__disabled");this.isCreate?this.deleteCategory(M):this.searchCategoryItems({category:M,num:1}).then(function(K){if(0<K.total){var U=O.querySelector(".js-category-edit-delete-warning");
U.classList.remove("hide");var Z=F["default"].contentCategories[1===K.total?"categoryInUseDeleteSingle":"categoryInUseDeletePlural"];O.querySelector(".js-category-in-use-explanation").innerHTML=h["default"].substitute(Z,{number:K.total});U.querySelector(".js-delete-confirm").focus()}else H.deleteCategory(M)},function(K){return 0})};A.prototype.cancelDelete=function(G){G=g["default"](G.target).closest(".js-category-edit-li").shift();var H=G.querySelector(".js-category-edit-delete-warning");G.querySelector(".js-category-edit-item").classList.remove("category-edit-item__disabled");
H.classList.add("hide")};A.prototype.confirmDelete=function(G){var H=this;G.preventDefault();var J=g["default"](G.target).closest(".js-category-edit-li").shift(),O=J.getAttribute("data-category-path");G=J.querySelector(".js-category-edit-delete-warning");var M=J.querySelector(".js-category-loader"),K=J.querySelector(".js-category-loader-bar");J=J.querySelector(".js-loading-message");G.classList.add("hide");M.classList.remove("hide");J.innerHTML="";K.style.width="0%";this.searchCategoryItems({category:O,
num:1}).then(function(U){U={length:U.total,oldCategory:O,loader:M};H.enableButtons(!1);H.bulkEditCategory(U).then(function(Z){H.deleteCategory(O);H.enableButtons(!0);x["default"].publish("items/refresh",{forcedDelay:2E3});x["default"].publish("view/deselectAll");setTimeout(function(){H.updateCounts()},1200)})})};A.prototype.validateInput=function(G){var H,J,O=m["default"].getSchemaOrder(this.categories).__total,M=g["default"](G.target).closest(".js-category-edit-li").shift(),K=g["default"](M.parentNode).closest(".js-category-edit-li").shift(),
U=(null===K||void 0===K?void 0:K.getAttribute("data-category-path"))||"/";K=(null===M||void 0===M?void 0:M.getAttribute("data-category-path")).replace(U,"");var Z=null===(J=null===(H=G.target)||void 0===H?void 0:H.value)||void 0===J?void 0:J.trim();J=g["default"](G.target).closest(".js-category-group").shift();var ca=g["default"](G.target).closest(".js-category-edit-form").shift();H=ca.querySelector(".js-category-item-input-error");ca=ca.querySelector(".js-category-edit-submit");var fa=g["default"](G.target).closest(".js-category-edit-item").shift();
fa=""!==(null===fa||void 0===fa?void 0:fa.getAttribute("data-current-category"));J=J&&[].slice.call(J.children).filter(function(ka){return ka.classList.contains("category-editor-item")}).filter(function(ka){return ka!==M}).map(function(ka){return ka.getAttribute("data-category-path").replace(U,"").toLowerCase().split("/").pop()});200<O&&!fa?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooMany,H.classList.add("is-active"),ca.disabled=!0):0===Z.length?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),ca.disabled=!0):0<this.checkCharacters(Z).length?(G.target.classList.add("input-error"),H.innerHTML=h["default"].substitute(F["default"].contentCategories.errors.charsNotAllowed,{chars:this.checkCharacters(Z).join(" ")}),H.classList.add("is-active"),ca.disabled=!0):100<Z.length?(G.target.classList.add("input-error"),H.innerHTML=F["default"].contentCategories.errors.tooLong,H.classList.add("is-active"),ca.disabled=!0):Z===K?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),ca.disabled=!0):-1<J.indexOf(Z.toLowerCase())?(G.target.classList.add("input-error"),H.innerHTML=h["default"].substitute(F["default"].contentCategories.errors.alreadyExists,{name:Z}),H.classList.add("is-active"),ca.disabled=!0):(G.target.classList.remove("input-error"),H.classList.remove("is-active"),ca.disabled=!1);this.updateSubmit()};A.prototype.checkCharacters=function(G){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(H){return-1<G.indexOf(H)}).map(function(H){return"\x3ccode\x3e"+
H+"\x3c/code\x3e"})};A.prototype.bulkEditCategory=function(G){var H=this,J=G.loader,O=G.length,M=G.oldCategory,K=G.newCategory;G=Math.floor(O/100)+1;var U=[],Z=J.querySelector(".js-category-loader-bar"),ca=J.querySelector(".js-loading-message"),fa=50/O,ka=0,ma=0;Z.style.width="0%";ca.innerHTML="";this.setUnsaved(!0);for(var ra=x["default"].subscribe("categorySchema/loading",function(ia,T){"update"===T&&(ma+=ia,ma>O&&(ma=O),ca.innerHTML=h["default"].substitute(F["default"].contentCategories.updatingProgress,
{current:ma,total:O}));ka+=ia*fa;Z.style.width=ka+"%"}),za=0;za<G;za++)U.push({category:M,start:100*za,num:100,loader:J});J=U.map(function(ia){return H.searchCategoryItems(ia)});return f["default"](J).then(function(ia){return ia.map(function(T){return T.results.map(function(la){var S={},P=H.transformCategories(M,K,la.categories);S[la.id]=H.group?P:{categories:P};return S})})}).then(function(ia){ia=ia.map(function(T){return H.updateItems(T)});return f["default"](ia)}).then(function(ia){ra.remove();
H.setUnsaved(!1);H.unsavedChangesText=F["default"].contentCategories.errors.unsavedChangesExplain;return ia})};A.prototype.transformCategories=function(G,H,J){return H?J.map(function(O){return O.replace(G,H)}):J.filter(function(O){return 0>O.indexOf(G)})};A.prototype.deleteCategory=function(G){var H=this;g["default"](".js-category-edit-li",this.domNode).forEach(function(J){var O=J.getAttribute("data-category-path");O!==G&&encodeURIComponent(O)!==encodeURIComponent(G)||t["default"].destroy(J)});this.updateState();
1!==this.categories.length||0!==this.categories[0].categories.length||this.isCreate?(this.setUnsaved(!0),this.updateSchema().then(function(){},function(J){return 0})):this.deleteCategorySchema().then(function(J){H.setUnsaved(!1);x["default"].publish("categorySchema/updated",null,!!H.group);H.close()},function(J){J&&J.messageCode&&"GWM_0021"===J.messageCode&&e["default"].showAlert("error",J.message)})};A.prototype.updateState=function(){this.categories[0].categories=this.domToCategories(this.domNode.querySelector(".js-category-group"));
this.drag&&(this.drag.containers=[].slice.call(this.domNode.querySelectorAll(".js-category-group")));this.updateSubmit()};A.prototype.updateSubmit=function(){if(this.isCreate){var G=this.hasCategories();G||(G=0<Array.prototype.slice.call(this.domNode.querySelectorAll(".js-category-edit-li.is-editing")).filter(function(H){return!H.querySelector(".js-category-edit-submit").disabled}).length);this._primaryBtn.disabled=!G;this.cleaningUp||this.setUnsaved(G)}};A.prototype.domToCategories=function(G){var H=
this,J=[];Array.prototype.slice.call(G.children).filter(function(O){return O.classList.contains("category-editor-item")}).forEach(function(O){var M={title:O.querySelector(".js-category-edit-item").getAttribute("data-current-category").trim(),isOpen:O.classList.contains("is-open")};0<O.querySelectorAll(".js-category-group").length&&(M.categories=H.domToCategories(O.querySelector(".js-category-group")));J.push(M)});return J};A.prototype.categoriesToDom=function(G,H){var J=this;H=H||"";var O=(G||[]).reduce(function(M,
K){K.title=K.title.trim();var U=K.displayName?K.displayName:K.title,Z=H?H+"/"+K.title:"/"+K.title,ca=3>(Z.match(RegExp("/","g"))||[]).length?"is-parent":"",fa={path:Z,categories:"",i18n:F["default"],ariaText:F["default"].contentCategories.addSub};fa=ca?h["default"].substitute(C["default"],fa,null,c["default"]):"";fa=K.categories&&ca?J.categoriesToDom(K.categories,Z):fa;return M+h["default"].substitute(y["default"],{isOpen:K.isOpen&&ca?"is-open":"",icons:a["default"],title:U,path:Z,isParent:ca,children:fa,
i18n:F["default"],saveText:J.isCreate?F["default"].contentCategories.update:F["default"].common.save},null,c["default"])},"");return h["default"].substitute(C["default"],{i18n:F["default"],path:H||"",categories:O,ariaText:H?F["default"].contentCategories.addSub:F["default"].contentCategories.addCat},null,c["default"])};A.prototype.updateSchema=function(G){var H=this;this.categories[0].categories=this.categories[0].categories.map(m["default"].cleanSchema);var J=this.group&&this.portal.portalUrl+"community/groups/"+
this.group.id,O=(this.portal.portalUrl||this.portal.url)+"portals/"+this.portal.id;J={url:(this.group?J:O)+"/assignCategorySchema",content:{categorySchema:JSON.stringify({categorySchema:this.categories})}};if(!this.isCreate||G)return this.setUnsaved(),p["default"].request(J,{usePost:!0}).then(function(M){M.success&&(e["default"].showAlert("success",F["default"].contentCategories.success),x["default"].publish("categorySchema/updated",H.categories,!!H.group),x["default"].publish("category-edit/save-success"));
M.error&&e["default"].showAlert("error",M.error.details[0]);return M},function(M){e["default"].showAlert("error",M.message)});G=new l["default"];G.resolve(!0);return G};A.prototype.enableButtons=function(G){g["default"](".js-category-edit-actions",this.domNode)[G?"removeClass":"addClass"]("visually-hidden")};A.prototype.hasCategories=function(){var G,H,J;return 0<(null===(J=null===(H=null===(G=this.categories)||void 0===G?void 0:G[0])||void 0===H?void 0:H.categories)||void 0===J?void 0:J.length)&&
0<this.categories[0].categories.filter(function(O){return""!==O.title}).length};A.prototype.searchCategoryItems=function(G){var H=G.category,J=G.start;J=void 0===J?0:J;G=G.num;var O=void 0===G?100:G;G="orgid: "+this.portal.id;H=JSON.stringify([this.rootNode+(void 0===H?"":H)]);H={start:J,num:O,categories:this.group?H:encodeURIComponent(H)};this.token&&(H.token=this.token.slice(7,this.token.length));if(this.group)return p["default"].request({url:this.portal.url+"content/groups/"+this.group.id+"/search",
content:H}).then(function(M){x["default"].publish("categorySchema/loading",M.results&&M.results.length||0);M.results=M.results.map(function(K){return m["default"].simplifyItemObject(K,!0)});return M},function(M){});H.q=G;return this.portal.queryItems(H).then(function(M){var K;x["default"].publish("categorySchema/loading",(null===(K=M.results)||void 0===K?void 0:K.length)||0);M.results=M.results.map(function(U){return m["default"].simplifyItemObject(U)});return M},function(M){return 0})};A.prototype.updateCounts=
function(){var G=this,H={portal:this.portal};this.group&&(H.group=this.group);m["default"].getCounts(H).then(function(J){if(G.domNode){g["default"](".js-category-count",G.domNode).forEach(function(M){return M.innerHTML=""});var O=new RegExp(G.rootNode.toLowerCase()+"/");J.filter(function(M){return M.value.toLowerCase()!==G.rootNode.toLowerCase()}).map(function(M){return{value:M.value.replace(O,"/"),count:M.count}}).forEach(function(M){if(M.value&&0<M.value.length)try{var K=G.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
M.value+'"]');K&&(K.innerHTML="("+M.count+")")}catch(U){}})}},function(J){return 0})};A.prototype.updateItems=function(G){return p["default"].request({url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(G)}},{usePost:!0}).then(function(H){x["default"].publish("categorySchema/loading",G.length||0,"update");return H},function(H){"GWM_0021"===(null===H||void 0===H?void 0:H.messageCode)&&e["default"].showAlert("error",H.message)})};
A.prototype.deleteCategorySchema=function(){return p["default"].request({url:""+this.portal.url+(this.group?"community/groups/"+this.group.id:"portals/"+this.portal.id)+"/deleteCategorySchema"},{usePost:!0})};A.prototype.submit=function(){var G=this,H,J,O;this.isCreate&&(this.cleanUp(!0),0<(null===(O=null===(J=null===(H=this.categories)||void 0===H?void 0:H[0])||void 0===J?void 0:J.categories)||void 0===O?void 0:O.length)?this.updateSchema(!0).then(function(M){G.setUnsaved(!1);G.close(!0);e["default"].showAlert("success",
F["default"].contentCategories.success);x["default"].publish("categorySchema/updated",G.categories,!!G.group)},function(M){return 0}):(e["default"].showAlert("error",F["default"].contentCategories.errors.schemaEmpty),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)))};A.prototype.cleanUp=function(G){this.cleaningUp=!0;g["default"](".js-category-edit-li.is-editing",this.domNode).forEach(function(H){var J=
H.querySelector(".js-category-edit-submit"),O=H.querySelector(".js-category-item-input"),M=O.classList.contains("input-error")&&G;H=H.querySelector(".js-category-cancel-edit");(""===O.value||M?H:J).click()});this.updateState();this.cleaningUp=!1};return A=v.__decorate([r["default"](E["default"],u["default"],d["default"])],A)}()})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ./CategoryNode ./AddCategoryButton ../helpers ../api arcgisonline/pages/utils/alerts arcgisonline/pages/utils/timeout arcgisonline/pages/utils/a11y dragula/dragula dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c){function a(k){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(n){return-1<k.indexOf(n)}).map(function(n){return"\x3ccode\x3e"+n+"\x3c/code\x3e"})}function b(k,n,q){return k=k.map(function(y){var C;if(-1<y.path.indexOf(n)){if(null===(C=y.categories)||void 0===C?0:C.length)y.categories=b(y.categories,n,q);return v.__assign(v.__assign({},y),{path:y.path.replace(n,q)})}return v.__assign({},y)})}var d=this;Object.defineProperty(L,"__esModule",{value:!0});
f=v.__importDefault(f);g=v.__importDefault(g);u=v.__importDefault(u);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);L["default"]=function(k){var n=k.active,q=k.telemetry,y=k.onClose,C=k.memberCategories,B=k.categoryCount,D=v.__assign(v.__assign(v.__assign({},m["default"].common),m["default"].contentCategories),m["default"].memberCategories.modal);k=t.useState((null===C||void 0===C?0:C.length)?h.updateMemberCount(h.convertToCategoryData(C),
B):[{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}]);var F=k[0],r=k[1];k=t.useState(null);var A=k[0],G=k[1];C=t.useState((null===C||void 0===C?0:C.length)?JSON.stringify(C):'[{"title":"Categories"}]');var H=C[0],J=C[1];C=t.useState(!1);k=C[0];var O=C[1],M=t.useRef(null),K=t.useRef(null),U=t.useRef(null),Z=function(ea){return v.__awaiter(d,void 0,void 0,function(){return v.__generator(this,function(ha){switch(ha.label){case 0:return[4,
x.saveCategorizedMembers(ea)];case 1:return ha.sent(),[4,E.timeout(300)];case 2:return ha.sent(),[2]}})})},ca=function(ea,ha){return v.__awaiter(d,void 0,void 0,function(){var na,qa;return v.__generator(this,function(ua){switch(ua.label){case 0:return[4,x.searchUsersWithCategory(ea)];case 1:return na=ua.sent(),qa=h.updateCategorizedMembers(na,ea,ha),[4,Z(qa)];case 2:return ua.sent(),[2]}})})},fa=function(ea,ha,na){na=v.__assign(v.__assign({},na),{path:na.path.replace(ea,ha)});na.categories&&(na.categories=
na.categories.map(function(qa){return fa(ea,ha,qa)}));return na},ka=function(ea,ha,na){return v.__awaiter(d,void 0,void 0,function(){var qa,ua,ya,Aa,Ba,Oa,Ja;return v.__generator(this,function(wa){switch(wa.label){case 0:return qa=JSON.parse(ea.dataset.data),ua=qa.path,ya=ha.dataset.path,Aa=ya+"/"+qa.title,Ba=fa(ua,Aa,qa),ea.dataset.data=JSON.stringify(Ba),Oa=Array.from(ha.childNodes).filter(function(Ea){return Ea.classList.contains("member-category")&&Ea.dataset.data}).map(function(Ea){return JSON.parse(Ea.dataset.data)}),
ha===na?[3,2]:[4,ca(ua,Aa)];case 1:wa.sent(),wa.label=2;case 2:return Ja={},Object.keys(B).forEach(function(Ea){Ea===ua.toLowerCase()?Ja[Aa.toLowerCase()]=B[Ea]:Ja[Ea]=B[Ea]}),r(function(Ea){Ea=v.__spreadArray([],Ea);if(ha!==na){var sa=na.dataset.path;Ea=h.removeCategoryFromSrc(sa,ua,Ea);Oa=h.removeCategoryFromSrc(sa,ua,Oa)}Ea=h.reorderCategories(Aa,Oa,Ea);return Ea=h.updateMemberCount(Ea,Ja)}),[2]}})})},ma=function(ea,ha,na){z["default"].postToLiveRegion(h.getNodePositionText(ea,e["default"].reorder["new"]));
ka(ea,ha,na)},ra=function(ea,ha){var na=!ea.sorting;na&&z["default"].postToLiveRegion(e["default"].reorder.started+" "+h.getNodePositionText(ha,e["default"].reorder.current));r(function(qa){return h.clearEditOrAddProperties(h.toggleSorting(ea.path,na,qa))})},za=function(){return[].slice.call(M.current.querySelectorAll(".member-categories-list"))};t.useEffect(function(){if(M.current&&!A){var ea=p["default"](za(),{moves:function(ha,na,qa){return qa.classList.contains("category-edit-item__drag-handle")||
qa.classList.contains("category-edit-item__drag-icon")},accepts:function(ha,na,qa,ua){ua=h.getCategoryLevel(na.dataset.path);var ya=h.getDraggedLevel(ha);return!(qa!==na&&h.isDuplicateTitle(na,ha))&&!(qa!==na&&3<ua+ya)&&!ha.contains(na)&&!na.classList.contains("member-category__sub-placeholder")&&!na.classList.contains("member-categories-list--deepest")}});ea.on("drop",ka);G(ea)}},[M]);t.useEffect(function(){K.current&&K.current.setFocus("close-button")},[K]);var ia=function(ea){return v.__awaiter(d,
void 0,void 0,function(){var ha,na,qa;return v.__generator(this,function(ua){switch(ua.label){case 0:return(ha=!(null===(na=ea[0].categories)||void 0===na?0:na.length))?[4,x.deleteMemberCategoriesSchema()]:[3,2];case 1:return ua.sent(),[3,4];case 2:return null===q||void 0===q?void 0:q.logEvent({category:"member category",action:"config schema",count:null===(qa=ea[0].categories)||void 0===qa?void 0:qa.length,size:h.getCategoryCount(ea)}),[4,x.saveMemberCategories(ea)];case 3:ua.sent(),ua.label=4;case 4:return c["default"].publish("member-categories-and-count/update",
{categories:ha?[]:ea}),u["default"].showAlert("success",D.saveSuccess),ha&&(c["default"].publish("member-categories/delete-all"),r([{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}])),[2]}})})};t.useEffect(function(){A&&G(function(na){na.containers=za();return na});var ea=h.removeExtraProperties(h.removeEmptyCategories(F)),ha=JSON.stringify(ea);H!==ha&&(J(ha),ia(ea))},[F]);t.useEffect(function(){r(function(ea){return h.updateMemberCount(ea,
B)})},[B]);var T=function(ea,ha,na){return!ea.trim().length||!!la(ea,ha)||ea.trim()===na},la=function(ea,ha){if(200<h.getCategoryCount(F))return D.errors.tooMany;var na=a(ea);if(0<na.length)return na=na.join(" "),D.errors.charsNotAllowed.replace("${chars}",na);if(h.getSiblings(ha,F).some(function(qa){return qa.title===ea.trim()}))return D.errors.alreadyExists.replace("${name}",ea)},S=function(ea,ha,na){return na.map(function(qa){var ua;if(ha===qa.path)return v.__assign(v.__assign({},qa),{errorMessage:la(ea,
ha),saveDisabled:T(ea,ha,qa.title)});if(null===(ua=qa.categories)||void 0===ua?0:ua.length)qa.categories=S(ea,ha,qa.categories);return v.__assign({},qa)})},P=function(ea,ha){r(function(na){return v.__spreadArray([],S(ea,ha,na))})},I=function(ea,ha,na,qa,ua){void 0===qa&&(qa=0);void 0===ua&&(ua="Categories");var ya=h.getCategoryLevel(ha);return na.map(function(Aa){var Ba;if(ya===qa)return ha===Aa.path&&(Aa=v.__assign(v.__assign({},Aa),{categories:b(Aa.categories,Aa.path+"/",ua+"/"+ea+"/"),title:ea,
path:ua+"/"+ea,isEditing:!1})),v.__assign({},Aa);if(null===(Ba=Aa.categories)||void 0===Ba?0:Ba.length)Aa.categories=I(ea,ha,Aa.categories,qa+1,Aa.path);return v.__assign({},Aa)})},ba=function(ea,ha,na){return v.__awaiter(d,void 0,void 0,function(){var qa;return v.__generator(this,function(ua){switch(ua.label){case 0:if(!na)return[3,2];qa=h.getParentPath(ha);return[4,ca(ha,qa+"/"+ea)];case 1:ua.sent(),ua.label=2;case 2:return r(function(ya){ya=v.__spreadArray([],ya);ya=na?h.updateFinishEditing(ha,
!0,ya):h.updateFinishAdding(h.getParentPath(ha),!0,ya);ya=I(ea,ha,ya);ya[0].finishAdding&&window.setTimeout(function(){U.current.focus()},100);return ya}),O(!1),[2]}})})},W=1===F[0].categories.length&&!F[0].categories[0].title,aa=function(ea){O(!1);W||(ea.title?r(function(ha){return h.updateFinishEditing(ea.path,!0,h.updateIsEditing(ea.path,!1,h.removeEmptyCategories(ha)))}):r(function(ha){ha=h.updateFinishAdding(h.getParentPath(ea.path),!0,h.removeEmptyCategories(ha));ha[0].finishAdding&&U.current.focus();
return ha}))},Q=function(ea){O(!0);r(function(ha){return h.clearEditOrAddProperties(h.updateIsEditing(ea.path,!0,h.removeEmptyCategories(ha)))})},N=function(ea){W||(O(!0),r(function(ha){ha=h.removeEmptyCategories(ha);ha=h.addCategory(ea,ha);ha=h.clearEditOrAddProperties(ha);return v.__spreadArray([],ha)}))},R=function(ea){return v.__awaiter(d,void 0,void 0,function(){var ha,na;return v.__generator(this,function(qa){switch(qa.label){case 0:return W?[2]:[4,x.searchUsersWithCategory(ea.path)];case 1:return ha=
qa.sent(),na=h.removeCategoriesFromMembers(ha,ea.path),[4,Z(na)];case 2:return qa.sent(),r(function(ua){ua=h.updateFinishAdding(h.getParentPath(ea.path),!0,h.removeCategory(ea.path,ua));ua[0].finishAdding&&U.current.focus();return ua}),[2]}})})},X=function(ea){r(function(ha){return h.toggleCollapsed(ea,ha)})},Y=1===F[0].categories.length,da=Y&&!F[0].categories[0].title;return w.h(w.Fragment,null,n&&l.createPortal(w.h("calcite-modal",{role:"dialog","aria-modal":"true",scale:"l",width:1460,noPadding:!0,
active:n,backgroundColor:"grey",oncalciteModalClose:y,"aria-labelledby":"member-categories-modal-title",ref:K,intlClose:D.close,disableOutsideClose:!0},w.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-categories-modal-title"},D.configureTitle),w.h("div",{slot:"content",ref:M},w.h("div",{"class":"member-categories__edit-mask "+(k?"":"hide")}),w.h("div",{"class":"column-14 post-1 leader-1 trailer-1 member-categories__content"},w.h("div",{"class":"category-editor-group category-editor-group--spaced member-categories__root-container",
role:"application"},w.h("ul",{id:"root-member-category-list",role:"group","class":"member-categories-list","data-path":"/Categories"},F[0].categories.map(function(ea,ha){return w.h(f["default"],{key:ea.path+"-"+ha,data:ea,isParent:!0,isEditing:Y||!ea.title,noCategoryYet:da,onChange:P,onSave:ba,onEdit:Q,onCancel:aa,onDelete:R,onAddSubCategory:N,onCollapsedToggle:X,onPositionChange:ma,onSortingToggle:ra})}),w.h(g["default"],{buttonRef:U,level:1,onClick:function(){return N("/Categories")},disabled:Y&&
!F[0].categories[0].title})))),w.h("div",{"class":"column-8 leader-1 padding-leader-half margin-right-1"},w.h("p",{"class":"font-size--1"},D.editDescription)))),document.body))}})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryNode":function(){define("require exports tslib preact preact/hooks ./AddCategoryButton ../helpers ./CategoryConfirm arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline dojo/string".split(" "),function(V,L,v,w,t,l,f,g,h,
x,u){Object.defineProperty(L,"__esModule",{value:!0});l=v.__importDefault(l);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);var E=function(z){var p,m,e=z.data,c=z.isParent,a=z.noCategoryYet,b=z.onEdit,d=z.onCancel,k=z.onChange,n=z.onSave,q=z.onDelete,y=z.onAddSubCategory,C=z.onCollapsedToggle,B=z.onPositionChange,D=z.onSortingToggle;z=v.__assign(v.__assign(v.__assign(v.__assign({},x["default"].common),x["default"].orgHomePageSetup.content),x["default"].contentCategories),
x["default"].memberCategories.modal);var F="category-editor-"+h["default"].hyphenate(e.title)+"-input",r=t.useState(e.title),A=r[0],G=r[1];r=t.useState(!1);var H=r[0],J=r[1];r=t.useState(!1);var O=r[0],M=r[1],K=t.useRef(null),U=t.useRef(null),Z=t.useRef(null),ca=t.useRef(null),fa=t.useRef(null),ka=t.useRef(null);t.useEffect(function(){e.sorting&&Z.current&&Z.current.focus()},[Z,e.sorting]);t.useEffect(function(){if(e.isEditing){var P=U.current;P.focus();P.select();P.scrollIntoView({block:"center"})}},
[e.isEditing]);t.useEffect(function(){ca.current&&e.finishAdding&&setTimeout(function(){ca.current.focus()},100)},[ca,e.finishAdding]);t.useEffect(function(){fa.current&&e.finishEditing&&fa.current.focus()},[fa,e.finishEditing]);var ma=function(){var P=A.trim();e.title!==P&&0<e.memberCount?M(!0):n(P,e.path,0<e.title.length)};r=e.isEditing&&!O?"is-editing":"";var ra=function(){J(!1);ka.current.focus()},za=function(){J(!1);q(e)},ia=e.memberCount?1===e.memberCount?z.inUseDeleteSingle:z.inUseDeletePlural.replace("${number}",
""+e.memberCount):"",T;H&&e.memberCount&&(T=w.h(g["default"],{message:ia,confirmText:z.deleteCategory,isRed:!0,onCancel:ra,onConfirm:za}));H=e.memberCount?1===e.memberCount?u["default"].substitute(z.inUseEditSingle,{category:e.title,newCategory:A}):u["default"].substitute(z.inUseEditPlural,{number:e.memberCount,category:e.title,newCategory:A}):"";var la=function(P){return!!P&&!P.classList.contains("member-category-node__placeholder")&&!P.classList.contains("member-category__add-sibling")};O&&e.memberCount&&
(T=w.h(g["default"],{message:H,confirmText:z["continue"],onConfirm:function(){M(!1);n(A,e.path,0<e.title.length)},onCancel:function(){M(!1);d(e)}}));H={__html:e.errorMessage};ra=(ra="rtl"===document.documentElement.dir)&&e.collapsed?"chevron-left":!ra&&e.collapsed?"chevron-right":"chevron-down";za=f.getCategoryLevel(e.path);ia=3<=za;var S=0<(null===(p=e.categories)||void 0===p?void 0:p.length)||3>f.getCategoryLevel(e.path);p=""+(O?A:e.title)+(e.memberCount?" ("+e.memberCount+")":"");O="rtl"===document.documentElement.dir;
return w.h("li",{ref:K,"class":"member-category "+(e.collapsed?"":"is-open")+" "+(c?"is-parent":"")+" "+(e.hidden?"hide":"")+" "+r+" member-category--level-"+za+" js-member-category-node",role:"treeitem","data-title":e.title,"data-path":e.path,"data-data":JSON.stringify(e)},w.h("span",{"class":"member-category-edit-item"},w.h("div",{"class":"flex flex-align-center member-category-edit-item__info "+(e.sorting?"member-category-edit-item__info--sorting":"")},w.h("div",{ref:Z,"class":"category-edit-item__drag-handle flex-center tooltip tooltip-bottom-"+
(O?"right":"left"),tabIndex:0,onKeyDown:function(P){var I=K.current;if(" "===P.key||"Enter"===P.key){var ba=!0;D(e,K.current)}else if("ArrowDown"===P.key&&e.sorting)la(I.nextElementSibling)&&(ba=!0,I.nextElementSibling.insertAdjacentElement("afterend",I),I=I.parentElement,B(K.current,I,I));else if("ArrowUp"===P.key&&e.sorting)la(I.previousElementSibling)&&(ba=!0,I.parentElement.insertBefore(I,I.previousElementSibling),I=I.parentElement,B(K.current,I,I));else if("ArrowRight"===P.key&&e.sorting){var W=
I.previousElementSibling,aa=I.parentElement;if(la(W)){W=W.querySelector(".member-categories-list");var Q=f.getCategoryLevel(W.dataset.path),N=f.getDraggedLevel(I);3>=Q+N&&la(W)&&!f.isDuplicateTitle(W,I)&&!W.classList.contains("member-categories-list--deepest")&&(ba=!0,W.appendChild(I),B(K.current,W,aa))}}else"ArrowLeft"===P.key&&e.sorting&&(aa=I.parentElement,W=aa.closest("li.member-category"),Q=null===W||void 0===W?void 0:W.parentElement,la(W)&&la(Q)&&!f.isDuplicateTitle(Q,I)&&"root-member-category-list"!==
W.id&&(W.insertAdjacentElement("afterend",I),ba=!0,B(K.current,Q,aa)));ba&&P.preventDefault()},onBlur:function(){e.sorting&&D(e,K.current)},"aria-label":z.reorder},w.h("calcite-icon",{"class":"category-edit-item__drag-icon",icon:"drag",scale:"s"})),w.h("button",{"class":"btn-link btn-link-darker-gray member-category__toggle-btn tooltip "+(ia?"hide":""),onClick:function(){c&&C(e.path)},"aria-label":""+(e.collapsed?z.expand:z.collapse)},w.h("calcite-icon",{icon:ra,scale:"s"})),w.h("div",{"class":"member-category-edit-item__title"},
p),w.h("div",{"class":"flex-1"}),w.h("button",{"class":"tooltip category-edit-item--action member-category-edit-item__edit-btn margin-right-1","aria-label":z.editCategory,onClick:function(){G(e.title);b(e)},ref:fa},w.h("calcite-icon",{icon:"pencil",scale:"s"})),w.h("button",{ref:ka,"class":"tooltip category-edit-item--action member-category-edit-item__delete-btn margin-right-1","aria-label":z.deleteCategory,onClick:function(){0<e.memberCount?J(!0):q(e)}},w.h("calcite-icon",{icon:"trash",scale:"s"}))),
w.h("form",{"class":"member-category-edit-item__form member-category__form flex",onSubmit:function(P){return P.preventDefault()}},w.h("label",{"class":"flex-1 overflow-visible trailer-0","for":F},w.h("span",{"class":"screen-readers-only"},z.categoryName),w.h("input",{id:F,ref:U,type:"text",value:A,"class":"category-edit-form__input member-category__form-input "+(e.errorMessage?"input-error":""),onInput:function(P){P=P.target.value;k(P,e.path);G(P)},onKeyDown:function(P){"Enter"!==P.key||e.saveDisabled||
(P.preventDefault(),ma())},autoComplete:"off",maxLength:100}),w.h("div",{"class":"input-error-message "+(e.errorMessage?"is-active":""),dangerouslySetInnerHTML:H})),w.h("span",{"class":"member-category-edit-item__form-actions"},w.h("button",{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action category-edit-form__action--green",type:"button","aria-label":z.save,onClick:ma,disabled:e.saveDisabled},w.h("calcite-icon",{icon:"check"})),w.h("button",
{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action",onClick:function(){a?U.current.focus():(d(e),fa.current.focus())},"aria-label":z.cancel,type:"button",disabled:a},w.h("calcite-icon",{icon:"x"}))))),T,w.h("div",{"class":"category-editor-group category-editor-group--spaced member-category__spacer "+(e.collapsed?"hide":"")},w.h("ul",{id:"member-category-sub-list-"+e.path,role:"group","class":"member-categories-list "+(ia?"member-categories-list--deepest":
""),"data-path":""+e.path},S&&(null===(m=e.categories)||void 0===m?void 0:m.map(function(P,I){var ba=f.getCategoryLevel(e.path);return w.h(E,{key:P.path+"-"+I,data:P,isParent:3>ba,isEditing:!P.title,noCategoryYet:a,onChange:k,onSave:n,onEdit:b,onCancel:d,onDelete:q,onAddSubCategory:y,onCollapsedToggle:C,onPositionChange:B,onSortingToggle:D})})),w.h("li",{"class":"member-category member-category-node__placeholder "+(ia?"member-category-node__placeholder--deepest":"")},w.h("ul",{role:"group","class":"category-editor-group category-editor-group--spaced member-category__sub-placeholder "+
(ia||!e.title?"member-category__sub-placeholder--deepest":"")}))),e.title&&2>=f.getCategoryLevel(e.path)&&w.h(l["default"],{buttonRef:ca,onClick:function(){return y(e.path)}})),e.collapsed&&w.h("div",{"class":"collapsed-member-category__placeholder"}))};L["default"]=E})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/AddCategoryButton":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(V,L,v,w,t){Object.defineProperty(L,
"__esModule",{value:!0});t=v.__importDefault(t);L["default"]=function(l){var f=l.level,g=l.onClick;return w.h("button",{ref:l.buttonRef,"class":"member-category__add-sibling tooltip tooltip-right","aria-label":t["default"].contentCategories.addCat,onClick:function(){return g(f)},disabled:l.disabled},w.h("calcite-icon",{icon:"plus-circle"}))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require","exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],
function(V,L,v,w,t){function l(K){K=K.filter(function(U){return U.title}).map(function(U){return v.__assign({},U)});K.forEach(function(U){var Z;if(null===(Z=U.categories)||void 0===Z?0:Z.length)U.categories=l(U.categories)});return K}function f(K,U,Z){return Z.map(function(ca){var fa;return ca.path===K?v.__assign(v.__assign({},ca),{finishAdding:U}):(null===(fa=ca.categories)||void 0===fa?0:fa.length)?v.__assign(v.__assign({},ca),{finishAdding:!1,categories:f(K,U,ca.categories)}):v.__assign(v.__assign({},
ca),{finishAdding:!1})})}function g(K,U,Z){return Z.map(function(ca){var fa;return ca.path===K?v.__assign(v.__assign({},ca),{finishEditing:U,errorMessage:""}):(null===(fa=ca.categories)||void 0===fa?0:fa.length)?v.__assign(v.__assign({},ca),{finishEditing:!1,errorMessage:"",categories:g(K,U,ca.categories)}):v.__assign(v.__assign({},ca),{finishEditing:!1,errorMessage:""})})}function h(K){return K.map(function(U){var Z;U=v.__assign(v.__assign({},U),{finishAdding:!1,finishEditing:!1});if(null===(Z=U.categories)||
void 0===Z?0:Z.length)U=v.__assign(v.__assign({},U),{categories:h(U.categories)});return U})}function x(K,U,Z,ca){void 0===ca&&(ca=!1);Z=Z.map(function(fa){var ka;if(fa.path&&fa.path===K&&!ca)return ca=!0,v.__assign(v.__assign({},fa),{isEditing:U,saveDisabled:!0});(null===(ka=fa.categories)||void 0===ka?0:ka.length)&&!ca&&(fa.categories=x(K,U,fa.categories,ca));return v.__assign({},fa)});return v.__spreadArray([],Z)}function u(K,U,Z){return Z.map(function(ca){var fa=v.__spreadArray([],ca.categories||
[]);fa.length&&(fa=u(K,U,fa));return ca.path&&ca.path===K?v.__assign(v.__assign({},ca),{sorting:U,categories:fa}):v.__assign(v.__assign({},ca),{sorting:!1,categories:fa})})}function E(K){return K.categories.map(function(U){var Z;if(null===(Z=U.categories)||void 0===Z?0:Z.length)U.categories=E(U);return v.__assign(v.__assign({},U),{selected:!1,indeterminate:!1})})}function z(K){var U;return!(null===(U=K.categories)||void 0===U||!U.length)&&K.categories.some(function(Z){var ca;return Z.selected||Z.indeterminate||
!(null===(ca=Z.categories)||void 0===ca||!ca.length)&&z(Z)})}function p(K,U){return U.map(function(Z){var ca;Z=v.__assign({},Z);if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=p(K,Z.categories);-1<K.indexOf(Z.path)&&(Z.indeterminate=z(Z));return Z})}function m(K,U,Z,ca){void 0===Z&&(Z=!1);void 0===ca&&(ca=[]);var fa=!K.selected;return U.map(function(ka){var ma,ra;if(ka.path&&ka.path===K.path&&!Z)return Z=!0,!fa&&(null===(ma=ka.categories)||void 0===ma?0:ma.length)&&(ka.categories=
E(ka)),fa?v.__assign(v.__assign({},ka),{selected:fa,indeterminate:!1}):v.__assign(v.__assign({},ka),{selected:fa});(null===(ra=ka.categories)||void 0===ra?0:ra.length)&&!Z&&(-1<K.path.indexOf(ka.path)&&ka.path!==L.rootTitle&&(ka=v.__assign(v.__assign({},ka),{selected:fa}),fa?ka.indeterminate=!1:ca.push(ka.path)),ka.categories=m(K,ka.categories,Z,ca));return v.__assign({},ka)})}function e(K){return-1<K.indexOf(L.rootTitle)?K:""+L.rootTitle+K}function c(K,U){void 0===U&&(U=[]);K.forEach(function(Z){var ca;
if(Z.selected||Z.indeterminate)null!==(ca=Z.categories)&&void 0!==ca&&ca.some(function(fa){return fa.selected||fa.indeterminate})?c(Z.categories,U):Z.selected&&U.push(Z.path)});return U}function a(K,U){void 0===U&&(U=[]);K.forEach(function(Z){var ca;Z.indeterminate&&U.push(Z.path);(null===(ca=Z.categories)||void 0===ca?0:ca.length)&&a(Z.categories,U)});return U}function b(K,U){var Z=w["default"].getSchemaOrder(U);return v.__spreadArray([],K).sort(function(ca,fa){return Z[ca]-Z[fa]})}function d(K,
U){return U.map(function(Z){var ca,fa=K.filter(function(ka){var ma;return null===(ma=ka.categories)||void 0===ma?void 0:ma.some(function(ra){var za;return e(ra)===Z.path||(null===(za=Z.categories)||void 0===za?void 0:za.length)&&-1<e(ra).indexOf(Z.path)})});fa.length?fa.length===K.length?Z=v.__assign(v.__assign({},Z),{selected:!0,indeterminate:!1}):fa.length<K.length&&(Z=v.__assign(v.__assign({},Z),{selected:!1,indeterminate:!0})):Z=v.__assign(v.__assign({},Z),{selected:!1,indeterminate:!1});if(null===
(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=d(K,Z.categories);return v.__assign({},Z)})}function k(K){return K.map(function(U){var Z,ca={title:U.title};if(null===(Z=U.categories)||void 0===Z?0:Z.length)ca.categories=k(U.categories);return ca})}function n(K,U){void 0===U&&(U="");return K.map(function(Z){var ca,fa=(U?U+"/":"/")+Z.title;return{title:Z.title,path:fa,categories:(null===(ca=Z.categories)||void 0===ca?0:ca.length)?n(Z.categories,fa):[]}})}function q(K,U){return U?K.map(function(Z){var ca,
fa=v.__assign({},Z);Z=Z.path.toLowerCase();fa.memberCount=U[Z]||0;if(null===(ca=fa.categories)||void 0===ca?0:ca.length)fa.categories=q(fa.categories,U);return fa}):K}function y(K,U){void 0===U&&(U=1);var Z=K.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node");return Z?(U++,y(Z,U)):U}function C(K,U){return U.map(function(Z){if(Z.path===K){var ca={title:"",categories:[],isEditing:!0,path:Z.path+"/",saveDisabled:!0};return v.__assign(v.__assign({},
Z),{categories:v.__spreadArray(v.__spreadArray([],Z.categories),[ca])})}return-1<K.indexOf(Z.path)&&(null===(ca=Z.categories)||void 0===ca?0:ca.length)?v.__assign(v.__assign({},Z),{categories:C(K,Z.categories)}):v.__assign({},Z)})}function B(K,U){return U.map(function(Z){var ca;if(K===Z.path)return v.__assign(v.__assign({},Z),{collapsed:!Z.collapsed});if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=B(K,Z.categories);return v.__assign({},Z)})}function D(K,U){var Z=K.substring(0,K.lastIndexOf("/")),
ca=[];U.some(function(fa){if(fa.path===Z)return ca=fa.categories.filter(function(ka){return ka.path!==K}),!0;if(-1<K.indexOf(fa.path+"/"))return ca=D(K,fa.categories),!0});return ca}function F(K){return K.substring(0,K.lastIndexOf("/"))}function r(K,U,Z){return Z.map(function(ca){var fa;ca.path===K?ca.categories=ca.categories.filter(function(ka){return ka.path!==U}):-1<U.indexOf(ca.path)&&(null===(fa=ca.categories)||void 0===fa?0:fa.length)&&(ca.categories=r(K,U,ca.categories));return v.__assign({},
ca)})}function A(K,U,Z){var ca=K.substring(0,K.lastIndexOf("/"));return Z.map(function(fa){var ka;fa.path===ca?fa.categories=U:-1<K.indexOf(ca)&&(null===(ka=fa.categories)||void 0===ka?0:ka.length)&&(fa.categories=A(K,U,fa.categories));return v.__assign({},fa)})}function G(K,U){var Z=F(K);U.some(function(ca){if(ca.path===Z)return ca.categories=ca.categories.filter(function(fa){return fa.path!==K}),!0;if(-1<K.indexOf(ca.path+"/"))return ca.categories=G(K,ca.categories),!0});return v.__spreadArray([],
U)}function H(K,U){return U.map(function(Z){var ca;if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=H(K,Z.categories);return v.__assign(v.__assign({},Z),{searchTerm:K,hidden:!O(K,Z)})})}function J(K,U){return U.map(function(Z){return v.__assign(v.__assign({},Z),{categories:v.__spreadArray([],Z.categories||[])})}).filter(function(Z){var ca,fa,ka=-1<Z.path.search(new RegExp(K,"i"));if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=J(K,Z.categories);return ka||0<(null===
(fa=Z.categories)||void 0===fa?void 0:fa.length)})}function O(K,U){var Z;return-1<U.title.search(new RegExp(K,"i"))||!K?!0:(null===(Z=U.categories)||void 0===Z?0:Z.length)?U.categories.some(function(ca){return O(K,ca)}):!1}function M(K,U){void 0===U&&(U=0);K.forEach(function(Z){var ca;"/Categories"!==Z.path&&U++;if(null===(ca=Z.categories)||void 0===ca?0:ca.length)U=M(Z.categories,U)});return U}Object.defineProperty(L,"__esModule",{value:!0});L.getCategoryCount=L.matchSearchTerm=L.filterCategoriesBySearchTerm=
L.searchCategories=L.removeCategory=L.reorderCategories=L.removeCategoryFromSrc=L.getParentPath=L.getSiblings=L.toggleCollapsed=L.removeCategoriesFromMembers=L.updateCategorizedMembers=L.addCategory=L.getDraggedLevel=L.isDuplicateTitle=L.getCategoryLevel=L.updateMemberCount=L.convertToCategoryData=L.removeExtraProperties=L.updateSelectedFromMembers=L.updateMembersFromSelected=L.sortCategoryPaths=L.getPartialPath=L.getFullPath=L.toggleSelected=L.fixDeselectedParents=L.getNodePositionText=L.toggleSorting=
L.updateIsEditing=L.clearEditOrAddProperties=L.updateFinishEditing=L.updateFinishAdding=L.removeEmptyCategories=L.rootTitle=void 0;w=v.__importDefault(w);t=v.__importDefault(t);L.rootTitle="/Categories";L.removeEmptyCategories=l;L.updateFinishAdding=f;L.updateFinishEditing=g;L.clearEditOrAddProperties=h;L.updateIsEditing=x;L.toggleSorting=u;L.getNodePositionText=function(K,U){var Z=Array.from(K.parentElement.children).filter(function(fa){return!fa.classList.contains("member-category-node__placeholder")&&
!fa.classList.contains("member-category__add-sibling")}),ca=Z.length;Z=Z.findIndex(function(fa){return fa===K})+1;return t["default"].substitute(U,{n:Z,total:ca})};L.fixDeselectedParents=p;L.toggleSelected=m;L.getFullPath=e;L.getPartialPath=function(K){return K.replace(new RegExp(L.rootTitle+"/"),"/")};L.sortCategoryPaths=b;L.updateMembersFromSelected=function(K,U){var Z=c(U[0].categories),ca=a(U[0].categories);return K.map(function(fa){fa.categories||(fa.categories=[]);fa.categories=fa.categories.filter(function(ka){return-1<
Z.indexOf(ka)||-1<ca.indexOf(ka)});Z.forEach(function(ka){var ma=fa.categories.some(function(ra){return-1<ra.indexOf(ka)});-1!==fa.categories.indexOf(ka)||ma||fa.categories.push(ka)});return v.__assign(v.__assign({},fa),{categories:b(fa.categories,U)})})};L.updateSelectedFromMembers=d;L.removeExtraProperties=k;L.convertToCategoryData=n;L.updateMemberCount=q;L.getCategoryLevel=function(K){return K.match(/\//g).length-1};L.isDuplicateTitle=function(K,U){var Z=U.dataset.title,ca=!1;K.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(fa){fa.dataset.title===
Z&&(ca=!0)});return ca};L.getDraggedLevel=y;L.addCategory=C;L.updateCategorizedMembers=function(K,U,Z){Object.keys(K).forEach(function(ca){var fa=[];K[ca].map(function(ka){return ka.replace(U,Z)}).forEach(function(ka){if(!fa.find(function(ra){return-1<ra.indexOf(ka)})){var ma=fa.findIndex(function(ra){return-1<ka.indexOf(ra)});-1<ma?fa.splice(ma,1,ka):fa.push(ka)}});K[ca]=fa});return v.__assign({},K)};L.removeCategoriesFromMembers=function(K,U){Object.keys(K).forEach(function(Z){K[Z]=K[Z].filter(function(ca){ca=
e(ca);return ca!==U&&-1===ca.indexOf(U)})});return v.__assign({},K)};L.toggleCollapsed=B;L.getSiblings=D;L.getParentPath=F;L.removeCategoryFromSrc=r;L.reorderCategories=A;L.removeCategory=G;L.searchCategories=H;L.filterCategoriesBySearchTerm=J;L.matchSearchTerm=O;L.getCategoryCount=M})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryConfirm":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f){Object.defineProperty(L,"__esModule",{value:!0});f=v.__importDefault(f);L["default"]=function(g){var h=g.message,x=g.confirmText,u=g.isRed,E=g.onConfirm,z=g.onCancel;g=v.__assign(v.__assign({},f["default"].common),f["default"].contentCategories);var p=t.useRef(null);t.useEffect(function(){p.current&&p.current.setFocus()},[p]);return w.h(w.Fragment,null,l.createPortal(w.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"member-category-confirm",active:!0,
intlClose:g.close,oncalciteModalClose:function(){return z()}},w.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-category-confirm"},g.categoryInUse),w.h("div",{slot:"content"},w.h("p",{"class":"font-size--1 trailer-half"},h)),w.h("calcite-button",{slot:"secondary",width:"full",appearance:"outline",color:"blue",onClick:function(){return z()}},g.cancel),w.h("calcite-button",{ref:p,slot:"primary",width:"full",color:u?"red":"blue",appearance:"solid",onClick:function(){return E()}},x)),
document.body))}})},"arcgisonline/pages/components/MemberCategories/api":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/pageUtil".split(" "),function(V,L,v,w,t,l){Object.defineProperty(L,"__esModule",{value:!0});L.getMemberCategoriesCount=L.saveCategorizedMembers=L.searchUsersWithCategory=L.deleteMemberCategoriesSchema=L.getMemberCategories=L.saveMemberCategories=void 0;w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);
var f=w["default"].restBaseUrl+"portals/self";L.saveMemberCategories=function(g){return v.__awaiter(this,void 0,void 0,function(){var h;return v.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),h={memberCategorySchema:g},[4,t["default"].request({url:f+"/assignMemberCategorySchema",content:{memberCategorySchema:JSON.stringify(h)}},{usePost:!0})];case 1:return x.sent(),[2,!0];case 2:return x.sent(),[2,!1];case 3:return[2]}})})};L.getMemberCategories=function(){return v.__awaiter(this,
void 0,void 0,function(){var g;return v.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,t["default"].request({url:f+"/memberCategorySchema"})];case 1:return g=h.sent(),[2,(null===g||void 0===g?void 0:g.memberCategorySchema)||[]];case 2:return h.sent(),[2,[]];case 3:return[2]}})})};L.deleteMemberCategoriesSchema=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,
t["default"].request({url:w["default"].restBaseUrl+"portals/self/deleteMemberCategorySchema"},{usePost:!0})];case 1:return g.sent(),[2,!0];case 2:return g.sent(),[2,!1];case 3:return[2]}})})};L.searchUsersWithCategory=function(g){return v.__awaiter(this,void 0,void 0,function(){var h,x;return v.__generator(this,function(u){switch(u.label){case 0:h={},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,l["default"].fetchAllResources(f+"/users/search",{categories:g})];case 2:return x=u.sent(),(null===
x||void 0===x?0:x.length)&&x.forEach(function(E){h[E.username]=E.categories}),[3,4];case 3:return u.sent(),[3,4];case 4:return[2,h]}})})};L.saveCategorizedMembers=function(g){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,Promise.all(Object.keys(g).map(function(x){return t["default"].request({url:w["default"].restBaseUrl+"community/users/"+x+"/update",content:{categories:JSON.stringify(g[x])}},{usePost:!0})}))];
case 1:return h.sent(),[2,!0];case 2:return h.sent(),[2,!1];case 3:return[2]}})})};L.getMemberCategoriesCount=function(g){var h,x;return v.__awaiter(this,void 0,void 0,function(){var u,E;return v.__generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),[4,t["default"].request({url:f+"/users/search",content:{q:"orgid:"+g.id,countFields:"categories",countSize:200,num:0}})];case 1:return u=z.sent(),E=(null===(x=null===(h=null===u||void 0===u?void 0:u.aggregations)||void 0===h?
void 0:h.counts[0])||void 0===x?void 0:x.fieldValues)||[],[2,E.reduce(function(p,m){"/categories"!==m.value&&(p[m.value]=m.count);return p},{})];case 2:return z.sent(),[3,3];case 3:return[2]}})})}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],function(V,L){Object.defineProperty(L,"__esModule",{value:!0});L.timeout=void 0;L.timeout=function(v){return new Promise(function(w){return setTimeout(w,v)})}})},"arcgisonline/pages/dijit/FilterTags":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/topic dojo/on dojo/debounce dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterTags/templates/FilterTags.html dojo/text!./FilterTags/templates/Option.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/icons ../utils/arrays arcgisonline/sharing/util ../../esriGeowConfig esri/libs/sanitizer/Sanitizer".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);
return function(){function y(C,B){var D;this.templateString=m["default"];this._hasRendered=this.semanticSearchEnabled=!1;this._searchString="";this.i18n=a["default"];this.sanitizer=null!==(D=null===C||void 0===C?void 0:C.sanitizer)&&void 0!==D?D:new q["default"]}y.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a["default"];this._state={param:"tags",options:{},chipText:a["default"].filters.tagged,preselected:[],selected:[]};this._endPoint=this.searchEndpoint||n["default"].restBaseUrl+
"search";this._aggregationQuery=this.aggregationQuery||function(){return""};this._hiddenTypes=this.hiddenTypes||n["default"].viewQueries.none};y.prototype.postCreate=function(){var C=this;this._fetchTags().then(this._updateUI.bind(this)).then(this._addEventListeners.bind(this)).then(function(){0<C._state.preselected.length&&C.select(C._state.preselected)})};y.prototype.destroy=function(){this._clear()};y.prototype._addEventListeners=function(){var C=this,B=g["default"](".js-tag-search",this.domNode),
D=t["default"].hitch(this,function(F,r,A){l["default"].contains(A.target,F)&&t["default"].hitch(C,r)(A)});this.own(x["default"](this.domNode,"click",function(F){D("js-filter-tree-link",C._clickHandler,F)}),x["default"](this.clearLink,"click",this._clearHandler.bind(this)),x["default"](B,"input",u["default"](this._listUpdate.bind(this),400).bind(this)),h["default"].subscribe("filter/clear",this._clear.bind(this)),h["default"].subscribe("filter/remove",this._remove.bind(this)),h["default"].subscribe("aggregations/refresh",
this._rerender.bind(this)))};y.prototype._fetchTags=function(C){var B=this;C=C||{};var D={countFields:"tags",countSize:C.countSize||200,q:(C.tag&&"tags:("+C.tag+"* OR "+C.tag+") "||"")+this._aggregationQuery()+" "+this._hiddenTypes,num:0};this.semanticSearchEnabled&&(D.enriched=!0);C.additive||(this._state.localOptions={});return k["default"].request({url:this._endPoint,content:D}).then(function(F){var r,A;return 0<(null===(A=null===(r=F.aggregations)||void 0===r?void 0:r.counts)||void 0===A?void 0:
A.length)?(F.aggregations.counts[0].fieldValues.forEach(function(G){var H=B._state.preselected||[],J=(B._state.selected||[]).map(function(O){return O.value});H=[].concat(H).concat(J);-1<G.value.indexOf("\x3c")||(J=G.value.trim(),B._state.options[J]=B._state.options[J]||{value:J,label:J,count:G.count,countLabel:"("+G.count+")",active:-1<H.indexOf(J)})}),!0):!1},function(F){})};y.prototype.select=function(C){var B=this;C=[].concat(this.sanitizer.sanitize(C)).filter(function(D,F,r){return r.indexOf(D)===
F});this._hasRendered?(C.map(function(D){B._state.options[D]||(B._state.options[D]={value:D,label:D,count:0,countLabel:"",active:!0},B._updateUI());return B._state.options[D]}).forEach(function(D){D.active=!0;-1===B._state.selected.indexOf(D)&&B._state.selected.push(D);g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",B.domNode).addClass("is-active");g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",B.domNode).forEach(function(F){F.setAttribute("aria-selected",!0)})}),
this._setClearVisibility(),h["default"].publish("filter/update",this._state)):this._state.preselected=C};y.prototype._clear=function(){d["default"].toArray(this._state.options).forEach(function(C){C.active=!1});this._state.selected=[];g["default"](".js-filter-tree-item",this.domNode).forEach(function(C){l["default"].remove(C,"is-active");C.setAttribute("aria-selected",!1)});g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};y.prototype._remove=function(C){C.param===
this._state.param&&(this._state.options[C.value].active=!1,this._state.selected=this._state.selected.filter(function(B){return B.value!==C.value}),this._setClearVisibility(),g["default"](".js-filter-tree-item[data-value\x3d'"+C.value+"']",this.domNode).forEach(function(B){l["default"].remove(B,"is-active");B.setAttribute("aria-selected",!1)}))};y.prototype._rerender=function(){this._fetchTags().then(this._updateUI.bind(this)).then(this._clearInvalidOptions.bind(this))};y.prototype._updateUI=function(){var C=
this,B=d["default"].toArray(this._state.options),D=g["default"](this.domNode).closest(".accordion-section").shift();0===B.length?l["default"].add(D,"hide"):(l["default"].remove(D,"hide"),B=B.filter(function(F){return""===C._searchString||-1<F.value.toLowerCase().indexOf(C._searchString)}).sort(function(F,r){return r.count-F.count}),this.domNode.querySelector(".js-tags-list").innerHTML=B.reduce(this._renderList.bind(this),""),!this.clearLink&&(D=D.querySelector(".accordion-title"))&&(f["default"].place(E["default"].substitute(c["default"],
{i18n:a["default"],hide:"hide",param:this._state.param}),D),this.clearLink=D.querySelector(".js-clear-filter")),g["default"](".js-no-tags",this.domNode)[0<B.length?"addClass":"removeClass"]("hide"));return this._hasRendered=!0};y.prototype._clearInvalidOptions=function(){var C=d["default"].toArray(this._state.options);this._state.selected=this._state.selected.map(function(B){return d["default"].find(C,function(D){return D.value.toLowerCase()===B.value.toLowerCase()})})};y.prototype._renderList=function(C,
B){var D=t["default"].mixin(t["default"].clone(B),{isActive:B.active?"is-active":"",selected:B.active?'aria-selected\x3d"true"':"",icons:b["default"]});D=E["default"].substitute(e["default"],D);return C+D};y.prototype._setClearVisibility=function(){var C=g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<this._state.selected.length?C.removeClass("hide"):C.addClass("hide")};y.prototype._clickHandler=function(C){C.preventDefault();var B=C.target.parentNode,D=l["default"].contains(B,
"is-active"),F=C.target.getAttribute("data-value");D?(h["default"].publish("filter/remove",{param:this._state.param,value:C.target.getAttribute("data-value"),partial:!0}),l["default"].remove(B,"is-active"),B.setAttribute("aria-selected",!1)):(this._state.options[F].active=!0,this._state.selected.push(this._state.options[F]),l["default"].add(B,"is-active"),B.setAttribute("aria-selected",!0),this._setClearVisibility(),h["default"].publish("filter/update",this._state))};y.prototype._clearHandler=function(C){C.stopPropagation();
this._clear();h["default"].publish("filter/update",this._state)};y.prototype._listUpdate=function(C){this._searchString=null===C||void 0===C?void 0:C.target.value.toLowerCase();this._fetchTags({tag:this._searchString,additive:!0}).then(this._updateUI.bind(this))};return y=v.__decorate([w["default"](z["default"],p["default"])],y)}()})},"arcgisonline/pages/dijit/FilterBBox":function(){define("require exports tslib dojo/text!./FilterSingle/templates/ClearAll.html dojo/_base/lang dojo/dom-construct dojo/query dojo/string dojo/topic esri/dijit/Search esri/libs/sanitizer/Sanitizer dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterBBox/FilterBBox.html ../utils/formatters ../../sharing/util ../../map/utils/createExtentSearchOptions ../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);return function(){function k(n,q){var y;this.declaredClass="arcgisonline.pages.dijit.FilterBBox";
this.baseClass="esriGroupSelector margin-left-0 trailer-0";this.templateString=e["default"];this.clearTemplateString=w["default"];this.widgetsInTemplate=!0;this.i18n=m["default"];this._bbox=null;this._selected=!1;n.bbox&&(this._bbox=n.bbox);this.sanitizer=null!==(y=null===n||void 0===n?void 0:n.sanitizer)&&void 0!==y?y:new u["default"]}k.prototype.postCreate=function(){this._updateUI();this._doAttachEvents()};k.prototype.destroy=function(){this.inherited(arguments)};k.prototype._doAttachEvents=function(){this.own(f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").on("click",
t["default"].hitch(this,this._removeExtentFilter)),h["default"].subscribe("filter/clear",t["default"].hitch(this,this._clear)),h["default"].subscribe("filter/remove",t["default"].hitch(this,this._remove)))};k.prototype.addExtentFilter=function(n,q){var y=q;q&&(y=this.sanitizer.sanitize(q),y=a["default"].stripHTML(y));this._selected=!0;this._bbox=[n[0][0],n[0][1],n[1][0],n[1][1]].join();y={chipText:m["default"].filters.locationChip,registeredOnly:!1,param:"bbox",bbox:this._bbox,selected:[{active:!0,
label:y,simpleLabel:y,value:this._bbox,partial:!1}]};h["default"].publish("sort/update",{property:"relevance",label:this.i18n.sortDropdown.relevance,ascending:"false"});h["default"].publish("filter/update",y);f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").removeClass("hide");f["default"](".js-filter-item",this.domNode).addClass("is-active");h["default"].publish("sort/disable",!0)};k.prototype._removeExtentFilter=function(){h["default"].publish("filter/remove",{param:"bbox",value:this._bbox});
h["default"].publish("sort/enable",!0)};k.prototype._updateUI=function(){var n=this._selected;this.domNode.innerHTML=g["default"].substitute(this.templateString,{i18n:this.i18n});var q=f["default"](".accordion-title ",this.domNode.parentElement.parentElement)[0],y=this.i18n.extentDlg.findLocationText;l["default"].place(g["default"].substitute(this.clearTemplateString,{i18n:this.i18n,hide:n?"":"hide",param:"bbox",placeholder:y,allPlaceholder:y}),q);g["default"].substitute(e["default"],{i18n:this.i18n},
null,c["default"]);n=b["default"]();n.showInfoWindowOnSelect=!1;n.sources.forEach(function(C){a["default"].isEsriWorldGeocoder(C)&&(C.categories=["Populated Place","Coordinate System"]);C.placeholder=y});n.allPlaceholder=y;this._searchWidget=new x["default"](n,"filterBBox");this._searchWidget.startup();this._searchWidget.on("select-result",this._useExtent.bind(this))};k.prototype._useExtent=function(n){var q=n.result.extent;this.addExtentFilter([[q.xmin,q.ymin],[q.xmax,q.ymax]],n.result.name)};k.prototype._clear=
function(){this._searchWidget.clear();this._selected=!1;f["default"](".js-clear-filter[data-filter-param\x3d'bbox']").forEach(function(n){n.classList.add("hide")});h["default"].publish("sort/enable",!0)};k.prototype._remove=function(n){"bbox"===n.param&&(this._clear(),h["default"].publish("sort/enable",!0))};return k=v.__decorate([d["default"](z["default"],E["default"],p["default"])],k)}()})},"arcgisonline/pages/dijit/ControlBar":function(){define("require exports tslib calcite-web/js/calcite-web dojo/debounce dojo/dom-construct dojo/string dojo/topic dojo/on dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ./SearchInput ../components/ViewToggle ../components/SortDropdown ../components/Refresh ../organization/widgets/SearchDropdown ../pageUtil ../utils/icons ../utils/productGlyphs dojo/text!./ControlBar/templates/ControlBar.html dojo/text!./ControlBar/templates/Filters.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator preact preact/compat".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=
v.__importDefault(q);y=v.__importDefault(y);return function(){function D(F,r){this.templateString=k["default"];this.i18n=q["default"];this.icons=b["default"];this.productGlyphs=d["default"];this.showOnResize=!0;this.mobileBreakPoint=860;this.screenWidth=1080;this.telemetryOptions=this.telemetry=void 0;this.collapsed=!1;this.hideMobileActions=!0;this.refresh=!1;this.refreshLabel="";this.dontUpdateQueryParams=!1}D.prototype.postMixInProperties=function(){this.inherited(arguments);this.showFilters=this.showFilters.bind(this);
this.hideFilters=this.hideFilters.bind(this);this.searchActionClass=this.actions?"control-bar__search--has-actions":"";this.filterActiveClass=this.collapsed?"":"is-active";this.hideFilterClass=this.noFilters?"hide":"";this.hideActionClass=this.hideMobileActions?"control-bar--hide-mobile-actions":"";this.positionAbsoluteClass=this.absolute?"control-bar--absolute":"";this.search.cssTheme="control-bar__search-input flex-1";this.queryParams=a["default"].getQueryParams();this.hideRightClass=this.filterContainer||
this.views||this.sort?"":"control-bar--hide-right";this.marginClass=this.noMargin?"control-bar--no-margin":""};D.prototype.postCreate=function(){var F=this,r,A,G,H,J;this.inherited(arguments);if(this.filterContainer){var O=l["default"].toDom(f["default"].substitute(n["default"],{i18n:q["default"],icons:b["default"]})),M=this.filterContainer.parentNode;M.insertBefore(O,this.filterContainer);M.querySelector(".js-filters-insert").appendChild(this.filterContainer);this.filtersWrap=M.querySelector(".js-filters-mobile-wrap");
this.filtersWrapParent=M;("false"===this.queryParams.showFilters||this.noFilters||this.collapsed)&&this.filtersWrap.classList.add("is-collapsed")}this.search&&(this.searchDropdown&&(this.search.searchBy=null!==(r=this.queryParams.searchBy)&&void 0!==r?r:"fullname"),this.search.topic=this.topic,this.telemetry&&(null===(A=this.telemetryOptions)||void 0===A?0:A.search)&&(this.search.telemetry=this.telemetry),this._searchInput=new z["default"](this.search,this.domNode.querySelector(".js-control-bar-search")));
this.views&&(this.views.topic=this.topic,this.telemetry&&(null===(G=this.telemetryOptions)||void 0===G?0:G.viewToggle)&&(this.views.telemetry=this.telemetry),this._viewToggle=C.render(C.h(p["default"],v.__assign({},this.views)),this.domNode.querySelector(".js-control-bar-view-dropdown")));this.refresh&&(r=this.domNode.querySelector(".js-control-bar-refresh"),r.classList.remove("hide"),C.render(C.h(e["default"],{topic:this.topic,label:this.refreshLabel}),r));this.sort&&(r={options:this.sort,topic:this.topic,
telemetry:this.telemetry&&(null===(H=this.telemetryOptions)||void 0===H?0:H.sortOrderToggle)?this.telemetry:null},this._sortDropdown=C.render(C.h(m["default"],v.__assign({},r)),this.domNode.querySelector(".js-control-bar-sort-dropdown")));this.searchDropdown&&(this._searchDropdown=new c["default"]({},this.domNode.querySelector(".js-control-bar-search-dropdown")));this.actions?this.domNode.querySelector(".js-control-bar-actions").innerHTML=f["default"].substitute(this.actions,{i18n:q["default"],icons:b["default"],
productGlyphs:d["default"]}):l["default"].destroy(this.domNode.querySelector(".js-control-bar-actions"));this.noFilters&&(null===(J=this.filterContainer)||void 0===J?void 0:J.parentNode.removeChild(this.filterContainer));if(this.sticky)var K=setInterval(function(){var U;0<(null===(U=F.domNode)||void 0===U?void 0:U.clientHeight)&&(clearInterval(K),F.initStickyInterface())},100);this.filtersWrap&&("false"===this.queryParams.showFilters?(this.hideFilters(),this.showOnResize=!1):this.resizeHandler(),
window.innerWidth<this.mobileBreakPoint&&this.insideOverlay&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap));this.domNode.querySelector(".js-toggle-filters").setAttribute("aria-expanded",this.collapsed?"false":"true");this.own(x["default"](".js-toggle-filters",this.domNode).on("click",function(){return F.toggleFilters()}),h["default"](window,"resize",t["default"](function(){return F.resizeHandler()},30)),x["default"](".js-collapse-filters-button",this.filtersWrap).on("click",
function(){return F.hideFilters()}),g["default"].subscribe(this.topic+"search/error",this.showSearchError.bind(this)),g["default"].subscribe(this.topic+"search/update",this.hideSearchError.bind(this)))};D.prototype.destroy=function(){this.domNode&&(this.sort&&B.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-sort-dropdown")),this.views&&B.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-view-dropdown")));this.inherited(arguments)};D.prototype.setSearchValue=function(F){g["default"].publish("search/setValue",
F,!0);this._searchInput.setValue(F,!0)};D.prototype.getSearchValue=function(){return this._searchInput.getValue()};D.prototype.toggleFilters=function(){var F,r;if(null===(F=this.telemetryOptions)||void 0===F?0:F.filterToggle)null===(r=this.telemetry)||void 0===r?void 0:r.logEvent({category:"Control Bar Filter Toggle",action:this.collapsed?"show":"hide",pageUrl:window.location.href});this.collapsed?this.showFilters():this.hideFilters();this.screenWidth>this.mobileBreakPoint&&(this.showOnResize=!this.collapsed)};
D.prototype.showFilters=function(){var F=window.document.documentElement;this.collapsed=!1;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!0});this.filtersWrap&&this.filtersWrap.classList.remove("is-collapsed");var r=this.domNode.querySelector(".js-toggle-filters");r.classList.add("is-active");r.setAttribute("aria-expanded","true");this.screenWidth<this.mobileBreakPoint&&F.classList.add("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.hideFilters=
function(){var F=window.document.documentElement;this.collapsed=!0;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!1});this.filtersWrap&&this.filtersWrap.classList.add("is-collapsed");var r=this.domNode.querySelector(".js-toggle-filters");r.classList.remove("is-active");r.setAttribute("aria-expanded","false");F.classList.remove("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.resizeHandler=function(){var F=window.innerWidth,r=window.document.documentElement;
!this.collapsed&&900<=this.screenWidth&&900>F&&this.hideFilters();this.showOnResize&&this.collapsed&&900>this.screenWidth&&900<=F&&this.showFilters();(720>this.screenWidth&&720<=F||720<=this.screenWidth&&720>F)&&g["default"].publish("view/refresh");this._searchInput&&480<=this.screenWidth&&480>F&&g["default"].publish("search/setPlaceholder",q["default"].common.search);this._searchInput&&480>this.screenWidth&&480<=F&&this._searchInput.setPlaceholder();F>this.mobileBreakPoint&&r.classList.remove("filters-open");
this.moveFilters(F);this.screenWidth=F};D.prototype.setPlaceholder=function(F){this._searchInput.setPlaceholder(F)};D.prototype.focus=function(){var F;null===(F=this._searchInput)||void 0===F?void 0:F.focus()};D.prototype.initStickyInterface=function(){window.scrollTo(0,0);w["default"].sticky();this._scrollingSideMenu=this.filterContainer.querySelector(".js-scrolling-side-menu");this._scrollingMenusStart=this.domNode.getBoundingClientRect().top;this._scrollingOptionsMenuPlaceHolder=l["default"].create("div",
{"class":"js-scrolling-top-menu-placeholder hide",style:"height:\n          "+(this.domNode.clientHeight+Number(getComputedStyle(this.domNode)["margin-bottom"].split("px")[0]))+"px;"},this.domNode,"before");this.own(w["default"].bus.on("scrolling:at",this.stickyCallback?this._handlePageScrollWithCallback.bind(this):this.handlePageScroll.bind(this)))};D.prototype.showSearchError=function(F,r){var A;(null===(A=this._searchInput)||void 0===A?void 0:A.id)===r&&(A=this.domNode.querySelector(".js-control-bar-search-error"),
A.innerHTML=F,A.classList.add("is-active"),this.domNode.querySelector("js-control-bar-search-wrap").classList.add("ontrol-bar__search--error"))};D.prototype.hideSearchError=function(F){this._searchInput&&this._searchInput.id===F&&(F=this.domNode.querySelector(".js-control-bar-search-error"),F.innerHTML="",F.classList.remove("is-active"),this.domNode.querySelector(".js-control-bar-search-wrap").classList.remove("control-bar__search--error"))};D.prototype._handlePageScrollWithCallback=function(F,r){this.handlePageScroll();
this.stickyCallback(F,r)};D.prototype.handlePageScroll=function(){var F=document.documentElement,r=this.domNode.clientHeight;(window.pageYOffset||F.scrollTop)>=this._scrollingMenusStart?(this._scrollingOptionsMenuPlaceHolder.classList.remove("hide"),this.domNode.classList.add("fixed-to"),window.innerWidth>this.mobileBreakPoint?(this._scrollingSideMenu.classList.add("fixed-to"),this._scrollingSideMenu.style.top=r+"px"):this._scrollingSideMenu.style.top="0"):(this._scrollingOptionsMenuPlaceHolder.classList.add("hide"),
this.domNode.classList.remove("fixed-to"),this._scrollingSideMenu.classList.remove("fixed-to"),this._scrollingSideMenu.style.top="0")};D.prototype.moveFilters=function(F){this.insideOverlay&&this.filtersWrap&&(this.screenWidth<this.mobileBreakPoint&&F>=this.mobileBreakPoint&&l["default"].place(this.filtersWrap,this.filtersWrapParent,"first"),this.screenWidth>=this.mobileBreakPoint&&F<this.mobileBreakPoint&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap))};return D=
v.__decorate([y["default"](E["default"],u["default"])],D)}()})},"arcgisonline/pages/dijit/SearchInput":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/debounce dojo/dom-class dojo/on dojo/i18n!../../nls/arcgisonline dojo/text!./SearchInput/SearchInput.html dijit/_TemplatedMixin dijit/_WidgetBase esri/libs/sanitizer/Sanitizer ../utils/icons ../utils/dom ../utils/strings".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e){w=v.__importDefault(w);t=v.__importDefault(t);
l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);return function(){function c(a,b){var d=this;this.templateString=x["default"];this.i18n=h["default"];this.icons=p["default"];this.queryParam=this.cssTheme=this.searchTerm="";this.hasSearchBy=!1;this.topic=this.searchBy="";this.dontDebounce=!1;this.sanitizer=
new z["default"];this.searchStarted=this.cancelDebounce=!1;this._searchWithDebounce=l["default"](function(k){d.cancelDebounce||d._search(k);d.cancelDebounce=!1},1E3)}c.prototype.postMixInProperties=function(){this.inherited(arguments);this.searchTerm=this.params.searchTerm||"";this.cssTheme=this.cssTheme||"";this.queryParam=this.params.queryParam||"searchTerm";this.searchBy=this.params.searchBy||"";this.topic=this.params.topic||"";this.params.validateInput&&(this.validateInput=this.params.validateInput.bind(this));
this.params.generateErrorMessage&&(this.generateErrorMessage=this.params.generateErrorMessage.bind(this))};c.prototype.postCreate=function(){var a=this;this.inherited(arguments);this.searchInput.value=this.searchTerm;m["default"].showHide(this.clearBtn,!!this.searchTerm);this.clearBtn.innerHTML=p["default"].getIconWithTitle("x","16",h["default"].manageLicenses.clearLabel,this.id+"_clear_btn");this.own(g["default"](this.searchInput,"input",function(b){m["default"].showHide(a.clearBtn,!!a.searchInput.value);
b=b.target.value;(2<b.length||0===b.length)&&b!==a.searchTerm&&(a.searchTerm=b,t["default"].publish(a.topic+"search/wait",a.sanitizer.sanitize(b),a.queryParam),a._testAndSearch(b,!!b))}),g["default"](this.searchInput,"focus",function(b){f["default"].add(b.target.parentNode,"control-bar__search--active");a.searchInput.value&&m["default"].showNode(a.clearBtn);t["default"].publish("search/focus",a.searchTerm)}),g["default"](this.searchInput,"blur",function(b){f["default"].remove(b.target.parentNode,
"control-bar__search--active");a.searchStarted=!1}),g["default"](this.searchInput,"keydown",function(b){13===b.keyCode&&a._testAndSearch(b.target.value,!1)}),g["default"](this.clearBtn,"click",function(){a.searchInput.value="";m["default"].hideNode(a.clearBtn);a.searchTerm="";t["default"].publish(a.topic+"search/wait","",a.queryParam);a._testAndSearch("",!1);a.searchInput.focus()}),t["default"].subscribe("membersSearchBy/update",function(b){a.hasSearchBy&&(a.searchBy=b)}))};c.prototype.focus=function(){this.searchInput.focus()};
c.prototype.setValue=function(a,b){this.searchTerm=a;this.searchInput.value=a;m["default"].showHide(this.clearBtn,!!this.searchTerm);b||(t["default"].publish(this.topic+"search/wait",this.sanitizer.sanitize(a),this.queryParam),this._testAndSearch(a,!1))};c.prototype.getValue=function(){return this.searchInput.value};c.prototype.setPlaceholder=function(a,b){a=a||this.placeholder;b||(this.placeholder=a);this.searchInput.placeholder=a;this.searchInput.setAttribute("aria-label",a)};c.prototype.validateInput=
function(a,b){return!0};c.prototype.generateErrorMessage=function(a,b){return h["default"].controlBar.invalidSyntax};c.prototype._testAndSearch=function(a,b){void 0===b&&(b=!0);this.validateInput(a,this.searchBy)?(this.cancelDebounce=!1,b&&!this.dontDebounce?this._searchWithDebounce(a):(this._search(a),this.cancelDebounce=!0)):t["default"].publish(this.topic+"search/error",this.generateErrorMessage(a,this.searchBy),this.id)};c.prototype._search=function(a){var b,d=this.sanitizer.sanitize(a);d=e["default"].escapeQuestionMarks(d);
t["default"].publish(this.topic+"search/update",d,this.searchBy,this.id);null===(b=this.telemetry)||void 0===b?void 0:b.logEvent({category:"Search",action:this.searchStarted?"update":"start",label:a,pageUrl:window.location.href});this.searchStarted=!0};return c=v.__decorate([w["default"](E["default"],u["default"])],c)}()})},"arcgisonline/pages/components/ViewToggle":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic arcgisonline/pages/pageUtil calcite-web/js/calcite-web".split(" "),
function(V,L,v,w,t,l,f,g){Object.defineProperty(L,"__esModule",{value:!0});t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);V=function(h){function x(){var u=null!==h&&h.apply(this,arguments)||this;u.domNodeRef=w.createRef();u.toggleView=function(E){var z;E.stopPropagation();E=E.target.dataset.view;u.updateUI(E);null===(z=u.props.telemetry)||void 0===z?void 0:z.logEvent({category:"Control Bar View Selector",action:E,pageUrl:window.location.href});g["default"].bus.emit("dropdown:close")};
u.closeMenu=function(){var E;g["default"].bus.emit("dropdown:close");(null===(E=u.domNodeRef.current)||void 0===E?void 0:E.querySelector(".js-toggle-view-dropdown")).focus()};u.updateUI=function(E){u.setState({activeView:E});u.props.topic||f["default"].updateQueryParams({view:E});l["default"].publish(u.props.topic+"view/toggle",E)};return u}v.__extends(x,h);x.prototype.componentDidMount=function(){this.updateUI(this.props.activeView)};x.prototype.handleToggle=function(u){if(this.domNodeRef.current){var E=
this.domNodeRef.current;setTimeout(function(){if(E.classList.contains("is-active")){var z=E.querySelectorAll(".js-view-option")[0];null===z||void 0===z?void 0:z.focus()}},0)}};x.prototype.render=function(){var u=this,E=this.state.activeView,z=this.props.views;return w.h("div",{"class":"control-bar__action control-bar__action--view js-dropdown flex",ref:this.domNodeRef},w.h("button",{"class":"control-bar__btn\r\n          flex flex-align-center js-dropdown-toggle js-toggle-view-dropdown","aria-label":t["default"].viewToggle.selectView,
"aria-haspopup":"true","aria-controls":"viewmenu",onClick:function(p){return u.handleToggle(p)}},w.h("calcite-icon",{"class":"margin-right-quarter icon-inline",icon:E,scale:"s"}),w.h("span",{"class":"control-bar__btn-text"},t["default"].viewToggle[E])),w.h("div",{"class":"control-bar__overlay"}),w.h("div",{"class":"control-bar__dropdown-menu dropdown-menu",role:"menu",id:"viewmenu","aria-labelledby":"viewmenutitle"},w.h("h3",{"class":"control-bar__dropdown-menu__title",id:"viewmenutitle"},t["default"].viewToggle.view,
w.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":t["default"].common.close},w.h("calcite-icon",{"class":"icon-inline incon-inline--on-left",icon:"x",scale:"m"}))),w.h("nav",null,z.map(function(p){return w.h("button",{"class":"js-view-option dropdown-link control-bar__dropdown-item "+(p===E?"is-active":""),"data-view":p,role:"menuitem",onClick:u.toggleView},w.h("calcite-icon",{"class":"icon-inline",icon:p,scale:"s",flipRtl:!0}),w.h("span",
{"class":"control-bar__dropdown-item__label"},t["default"].viewToggle[p]))}),w.h("div",{"tab-index":"0","class":"js-focus-fence",onClick:this.closeMenu}))))};x.defaultProps={activeView:"grid",views:["table","list","grid"],topic:""};return x}(w.Component);L["default"]=V})},"arcgisonline/pages/components/SortDropdown":function(){define("require exports tslib preact ../utils/arrays dojo/i18n!../../nls/arcgisonline dojo/topic ../pageUtil calcite-web/js/calcite-web".split(" "),function(V,L,v,w,t,l,f,g,
h){Object.defineProperty(L,"__esModule",{value:!0});t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);var x={title:{asc:"alphabetical",desc:"reverseAlphabetical"},owner:{asc:"alphabetical",desc:"reverseAlphabetical"},modified:{asc:"leastRecent",desc:"mostRecent"},added:{asc:"leastRecent",desc:"mostRecent"},numviews:{asc:"leastToMost",desc:"mostToLeast"},relevance:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},lastlogin:{asc:"leastRecent",
desc:"mostRecent"},name:{asc:"alphabetical",desc:"reverseAlphabetical"},fullname:{asc:"alphabetical",desc:"reverseAlphabetical"},joined:{asc:"leastRecent",desc:"mostRecent"},level:{asc:"alphabetical",desc:"reverseAlphabetical"},role:{asc:"alphabetical",desc:"reverseAlphabetical"},created:{asc:"leastRecent",desc:"mostRecent"},email:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldAlias:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldName:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldType:{asc:"alphabetical",
desc:"reverseAlphabetical"},defaultFSOrder:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},mfaenabled:{asc:"ascending",desc:"descending"},membertype:{asc:"alphabetical",desc:"reverseAlphabetical"},username:{asc:"alphabetical",desc:"reverseAlphabetical"},layerName:{asc:"alphabetical",desc:"reverseAlphabetical"},layerType:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetName:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetPath:{asc:"alphabetical",desc:"reverseAlphabetical"},machine:{asc:"alphabetical",
desc:"reverseAlphabetical"},containerId:{asc:"alphabetical",desc:"reverseAlphabetical"},runtimeName:{asc:"alphabetical",desc:"reverseAlphabetical"},version:{asc:"alphabetical",desc:"reverseAlphabetical"},avgrating:{asc:"highestRated",desc:"highestRated",disabled:!0},custom:{asc:"mostRecent",desc:"leastRecent",disabled:!0},type:{asc:"alphabetical",desc:"reverseAlphabetical"}};V=function(u){function E(){var z=null!==u&&u.apply(this,arguments)||this;z.domNodeRef=w.createRef();z.state={ascending:!0,property:"",
label:"",sortEnabled:!0,disabled:!1,showOnlyRelevance:!1};z.sortDisable=function(){z.setState({showOnlyRelevance:!0})};z.sortEnable=function(){z.setState({showOnlyRelevance:!1})};z.handleSortOptionClick=function(p){var m;f["default"].publish(z.props.topic+"sort/update",p);null===(m=z.props.telemetry)||void 0===m?void 0:m.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleSortClick=function(p){var m;f["default"].publish(z.props.topic+"sort/update",
v.__assign(v.__assign({},z.state),{ascending:p}));null===(m=z.props.telemetry)||void 0===m?void 0:m.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleToggle=function(){if(z.domNodeRef.current){var p=z.domNodeRef.current;if(!p.classList.contains("is-active")){var m=p.querySelectorAll(".control-bar__dropdown-item")[0];m&&setTimeout(function(){m.focus()})}}};z.sortUpdate=function(p){var m,e=z.props,c=e.dontUpdateQueryParams;e=e.topic;var a=
p.ascending,b=p.property;p=p.label;z.state.sortEnabled||h["default"].bus.emit("dropdown:close");z.setState({ascending:a,property:b,label:p,ascendingLabel:l["default"].gallery[x[b].asc],descendingLabel:l["default"].gallery[x[b].desc],disabled:!(null===(m=x[b])||void 0===m||!m.disabled)});c||e||g["default"].updateQueryParams({sortOrder:a?"asc":"desc",sortField:b})};return z}v.__extends(E,u);E.prototype.componentDidMount=function(){var z=this,p=t["default"].find(this.props.options,function(e){return e.active}),
m=x[p.property];this.setState(v.__assign(v.__assign({},p),{ascendingLabel:l["default"].gallery[m.asc],descendingLabel:l["default"].gallery[m.desc],disabled:null===m||void 0===m?void 0:m.disabled}));this.sortUpdateHandler=f["default"].subscribe(this.props.topic+"sort/update",function(e){return z.sortUpdate(e)});this.sortDisableHandler=f["default"].subscribe(this.props.topic+"sort/disable",function(){return z.sortDisable()});this.sortEnableHandler=f["default"].subscribe(this.props.topic+"sort/enable",
function(){return z.sortEnable()})};E.prototype.componentWillUnmount=function(){[this.sortDisableHandler,this.sortEnableHandler,this.sortUpdateHandler].forEach(function(z){z.remove()})};E.prototype.render=function(){var z=this,p=this.state,m=p.label,e=p.ascendingLabel,c=p.descendingLabel,a=p.ascending,b=p.property,d=p.showOnlyRelevance;p=p.disabled;var k=this.props.options;return w.h("div",{"class":"control-bar__action control-bar__sort-dropdown js-dropdown",ref:this.domNodeRef},w.h("button",{"class":"control-bar__btn flex flex-align-center js-toggle-sort-dropdown js-dropdown-toggle js-toggle-btn",
"aria-label":l["default"].gallery.changeSortDirection,"aria-haspopup":"true","aria-controls":"sortmenu",onClick:function(){return z.handleToggle()}},w.h("calcite-icon",{"class":"margin-right-quarter",icon:"sort-descending",scale:"s"}),w.h("span",{"class":"control-bar__btn-text js-sort-label"},m)),w.h("div",{"class":"control-bar__overlay"}),w.h("div",{"class":"control-bar__dropdown-menu dropdown-menu js-control-bar-sort-dropdown",role:"menu",id:"sortmenu","aria-labelledby":"sortmenutitle"},w.h("h3",
{"class":"control-bar__dropdown-menu__title",id:"sortmenutitle"},l["default"].gallery.sortBy,w.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":"${i18n.common.close}"},w.h("calcite-icon",{icon:"x",scale:"m"}))),w.h("nav",{"class":"js-sort-options"},k.map(function(n){return w.h("button",{"class":"js-sort-option control-bar__dropdown-item dropdown-link padding-right-1 "+(b===n.property?"is-active":"")+"\n                  "+("relevance"===
n.property&&d?"hide":""),"data-property":b,"data-order":"${sortOrder}",role:"menuitem",onClick:function(){return z.handleSortOptionClick(n)}},w.h("span",{"class":"control-bar__dropdown-item__label"},n.label))})),w.h("div",{"class":"js-sort-direction-section leader-half "+(p?"hide":"")},w.h("h3",{"class":"control-bar__dropdown-menu__title"},l["default"].gallery.sortDirection),w.h("nav",{"class":"js-sort-direction-options"},w.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+
(a?"is-active":""),"data-value":"asc",role:"menuitem",onClick:function(){return z.handleSortClick(!0)}},w.h("span",{"class":"control-bar__dropdown-item__label js-ascending-label"},e)),w.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+(a?"":"is-active"),"data-value":"desc",role:"menuitem",onClick:function(){return z.handleSortClick(!1)}},w.h("span",{"class":"control-bar__dropdown-item__label js-descending-label"},c))))))};E.defaultProps={topic:""};
return E}(w.Component);L["default"]=V})},"arcgisonline/pages/components/Refresh":function(){define(["require","exports","tslib","dojo/topic","preact"],function(V,L,v,w,t){Object.defineProperty(L,"__esModule",{value:!0});w=v.__importDefault(w);V=function(l){function f(){return null!==l&&l.apply(this,arguments)||this}v.__extends(f,l);f.prototype.onRefresh=function(){w["default"].publish(this.props.topic+"refresh")};f.prototype.render=function(){var g=this;return t.h("div",null,t.h("calcite-button",
{label:this.props.label,onClick:function(){return g.onRefresh()},appearance:"transparent",color:"neutral",iconStart:"refresh",scale:"s"}))};f.defaultProps={topic:"",label:""};return f}(t.Component);L["default"]=V})},"arcgisonline/pages/organization/widgets/SearchDropdown":function(){define("require exports tslib ../../utils/icons ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/query dojo/dom-class dojo/topic dojo/text!./templates/members/SearchDropdown.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);return function(){function z(p,m){this.templateString=u["default"];this.i18n=E["default"];this.icons=w["default"]}z.prototype.setSelection=function(p){var m=g["default"]("[data-property*\x3d"+p+"]",this.domNode);0<m.length&&(h["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active"),m.addClass("is-active"),this._searchLabel.innerHTML=m.innerHTML(),x["default"].publish("membersSearchBy/update",p))};z.prototype.postCreate=function(){this._searchLabel.innerHTML=this.i18n.myOrganization.membersTab.fullName;this._addEventListeners()};z.prototype._addEventListeners=function(){this.own(g["default"](".js-search-dropdown-property").on("click",this._optionSelect.bind(this)))};z.prototype._optionSelect=function(p){p.preventDefault();h["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active");h["default"].add(p.target,"is-active");var m=p.target.getAttribute("data-property");this._searchLabel.innerHTML=p.target.textContent;x["default"].publish("membersSearchBy/update",m)};return z=v.__decorate([t["default"](f["default"],l["default"])],z)}()})},"arcgisonline/pages/utils/productGlyphs":function(){define(["require","exports"],function(V,L){var v={dashboard:{path:"M25.819 28H23.18a.181.181 0 0 1-.181-.181V13.18a.181.181 0 0 1 .181-.181h2.638a.181.181 0 0 1 .181.181V27.82a.181.181 0 0 1-.181.181zM21 27.816v-9.631a.184.184 0 0 0-.184-.185h-2.631a.184.184 0 0 0-.185.184v9.631a.184.184 0 0 0 .184.185h2.631a.184.184 0 0 0 .185-.184zm9.82.184a.18.18 0 0 0 .18-.18v-7.64a.18.18 0 0 0-.18-.18h-2.64a.18.18 0 0 0-.18.18v7.64a.18.18 0 0 0 .18.18zM7 9.267v10.475c.706.033 3.538-1.718 4.274-4.7.679-2.751 3.485-2.864 4.443-2.94 1.766-.14 3.588-.607 4.566-2.798A.216.216 0 0 0 20.085 9H7.267A.267.267 0 0 0 7 9.267zm18.997-1.053A4.411 4.411 0 0 0 21.63 4H2.684A.684.684 0 0 0 2 4.684V21.81A3.19 3.19 0 0 0 5.19 25h9.565a.245.245 0 0 0 .245-.245v-2.362a.393.393 0 0 0-.393-.393H6.38A1.385 1.385 0 0 1 5 20.619V7.349A.348.348 0 0 1 5.348 7h16.324A1.346 1.346 0 0 1 23 8.363v1.28a.357.357 0 0 0 .357.357h2.599a.046.046 0 0 0 .046-.046z",
fill:"#ee9e01"},experienceBuilder:{path:"M30.85 12.82l-2.85 5v7.44A1.78 1.78 0 0 1 26.22 27H25V7.75a.76.76 0 0 0-.75-.75H12V1.31a.28.28 0 0 1 .42-.25L17.51 4h8.71A1.78 1.78 0 0 1 28 5.78v4.42l2.54 1.47a.83.83 0 0 1 .31 1.15zM12 18h8v-6h-8zm7.62 5H7.75a.76.76 0 0 1-.75-.75V4H5.78A1.78 1.78 0 0 0 4 5.78V13l-2.89 5a.85.85 0 0 0 .31 1.15L4 20.59v4.61A1.78 1.78 0 0 0 5.78 27h8.62l5.18 3a.28.28 0 0 0 .42-.24v-6.39a.38.38 0 0 0-.38-.37z",fill:"#09b8ca"},geoBIM:{path:"M17.802 21.398l6.2 2.557-5.14 2.133a.772.772 0 0 1-1.06-.717zM9.311 7.868a.604.604 0 0 1-.003-1.122L16 4.169l8.12 3.148-8.119 3.184zm-3.5 1.541l8.387 3.413v12.554a.772.772 0 0 1-1.06.717l-6.297-2.736a1.639 1.639 0 0 1-1.03-1.521zM3.844 6.03a1.316 1.316 0 0 0-.827 1.22v17.395a1.316 1.316 0 0 0 .827 1.221L16 30.888l12.983-5.317v-2.423l-7.156-3.023 7.156-2.963v-1.95l-5.101-2.2-3.867 1.516L24 16.123l-6.199 2.505v-5.711l.073-.122 11.108-4.487v-1.95l-12.47-5.047a1.384 1.384 0 0 0-1.027 0z",
fill:"#11ad1d"},notebooks:{path:"M2.941 25A.906.906 0 0 1 2 24.135v-.271A.906.906 0 0 1 2.941 23h3.118a.906.906 0 0 1 .941.864v.271a.906.906 0 0 1-.941.865zm3.118-8A.906.906 0 0 0 7 16.135v-.271A.906.906 0 0 0 6.059 15H2.941a.906.906 0 0 0-.941.864v.271a.906.906 0 0 0 .941.865zm0-8A.906.906 0 0 0 7 8.135v-.271A.906.906 0 0 0 6.059 7H2.941A.906.906 0 0 0 2 7.864v.271A.906.906 0 0 0 2.941 9zm9.44 16h-3.726a.773.773 0 0 1-.773-.774V6.171A.172.172 0 0 1 11.172 6H15.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H5.342A1.345 1.345 0 0 0 4 4.343V5h2.059A2.904 2.904 0 0 1 9 7.858v.277A2.907 2.907 0 0 1 6.059 11H4v2h2.059A2.907 2.907 0 0 1 9 15.864v.271A2.907 2.907 0 0 1 6.059 19H4v2h2.059A2.907 2.907 0 0 1 9 23.864v.271A2.907 2.907 0 0 1 6.059 27H4v1.405a.595.595 0 0 0 .595.595H15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM20 3.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5.5v18a.5.5 0 0 1-.5.5h-4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-25a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.499.5z",
fill:"#6e6e6e"},online:{path:"M25.479 23.504a.231.231 0 0 1 .204 0l3.933 1.939a.12.12 0 0 1 0 .216l-8.273 4.078a.822.822 0 0 1-.727 0l-8.274-4.078a.12.12 0 0 1 0-.216l3.933-1.94a.231.231 0 0 1 .205 0l4.206 2.075a.663.663 0 0 0 .587 0zM12.342 18.6a.12.12 0 0 0 0 .215l8.344 4.112a.663.663 0 0 0 .586 0l8.344-4.112a.12.12 0 0 0 0-.215l-8.534-4.208a.231.231 0 0 0-.205 0zm-2.438-6.434C7.397 6.051 15.42 2.655 18.687 7.96a.185.185 0 0 0 .236.07c3.545-1.654 6.604.885 5.75 4.528a.278.278 0 0 0 .146.312l6.048 2.982a.093.093 0 0 0 .132-.1 7.18 7.18 0 0 0-2.683-4.454.185.185 0 0 1-.068-.13A7.287 7.287 0 0 0 20.1 4.43a.185.185 0 0 1-.143-.047C14.775-.32 6.919 2.959 6.302 10.003a.185.185 0 0 1-.102.15c-9.865 4.91-4.46 18.472 5.924 12.182-9.26 1.228-8.848-9.392-2.22-10.169z",
fill:"#5763f8"},sites:{path:"M2.656 29A.656.656 0 0 1 2 28.344V6.185A3.189 3.189 0 0 1 5.185 3H29.72a.281.281 0 0 1 .281.281v22.53A3.194 3.194 0 0 1 26.81 29zm2.838-3h21.211a.295.295 0 0 0 .296-.295V13.494a.493.493 0 0 0-.493-.494H5v12.506a.494.494 0 0 0 .494.494zM23 9.91a.09.09 0 0 0 .09.09h3.82a.09.09 0 0 0 .09-.09V6.026A.026.026 0 0 0 26.974 6h-3.948a.026.026 0 0 0-.026.026zM6.633 6A1.597 1.597 0 0 0 5 7.595V10h14.523A.477.477 0 0 0 20 9.523V6.477A.477.477 0 0 0 19.523 6zM16 22v-5h7v5zm-7-2v-3h3v3z",
fill:"#7842ed"},storyMaps:{path:"M25.5 0C23.015 0 21 .953 21 3.433v8.517a1.467 1.467 0 0 0 .43 1.038l3.837 3.827a.33.33 0 0 0 .466 0l3.836-3.827A1.467 1.467 0 0 0 30 11.95V3.433C30 .953 27.985 0 25.5 0zm0 8.1a2.6 2.6 0 1 1 2.6-2.599A2.599 2.599 0 0 1 25.5 8.1zm-7.856.453c.294-.153.312-.457.312-.788v-2.31a.104.104 0 0 0-.129-.1 6.128 6.128 0 0 0-2.248 1.19.14.14 0 0 1-.167.008c-3.437-2.283-8.543-1.52-12.131-.988-.432.064-1.762.34-2.164.424A.146.146 0 0 0 1 6.133V26.69a.147.147 0 0 0 .05.11.134.134 0 0 0 .116.035A36.394 36.394 0 0 1 9.5 25.781c3.283.054 4.403.96 4.967 1.513l.915.897a.164.164 0 0 0 .23 0l.916-.897a5.98 5.98 0 0 1 3.972-1.47 25.341 25.341 0 0 1 5.715.516c.718.109 1.46.22 2.186.312l1.251.16a.308.308 0 0 0 .348-.305v-7.375a.161.161 0 0 0-.303-.077l-.107.2a7.218 7.218 0 0 1-6.902 3.766 10.455 10.455 0 0 0-5.688.796V9.454a.89.89 0 0 1 .332-.693 2.058 2.058 0 0 1 .312-.208zM14 23.817c-3.071-1.38-5.998-.808-9.447-.293l-.253.036a.263.263 0 0 1-.3-.259V8.525a.098.098 0 0 1 .084-.097l.804-.115c2.518-.372 6.303-1.048 8.708.515a.89.89 0 0 1 .404.746z",
fill:"#4fbaa9"},webAppBuilder:{path:"M15.044 19.974a.188.188 0 0 1-.192-.001l-3.762-2.35a.188.188 0 0 1-.09-.16v-4.098a.188.188 0 0 1 .096-.163l3.761-2.178a.188.188 0 0 1 .182-.001l3.863 2.179a.188.188 0 0 1 .098.165v4.095a.187.187 0 0 1-.092.161zm15.13-1.04a.052.052 0 0 0 .099.022 8.048 8.048 0 0 0 .67-3.147 7.155 7.155 0 0 0-3.507-6.213L17.59 3.768a4.054 4.054 0 0 0-1.968-.627 3.95 3.95 0 0 0-1.894.485c-.607.334-1.132.67-1.278.754a2.951 2.951 0 0 0-1.39 2.506v1.078a.2.2 0 0 0 .307.167l1.365-.87a4.988 4.988 0 0 1 2.319-.792 4.62 4.62 0 0 1 2.219.792s8.442 5.017 9.392 5.576a7.045 7.045 0 0 1 3.513 6.084zM9.546 23.55l.947-.547a.2.2 0 0 0 0-.345l-1.369-.79a4.326 4.326 0 0 1-2.13-3.842V7.286a7.16 7.16 0 0 1 3.63-6.083l.081-.05a.025.025 0 0 0-.012-.045l-.25-.005a8.333 8.333 0 0 0-3.887.994A7.102 7.102 0 0 0 3.069 8.31v10.786a3.96 3.96 0 0 0 1.89 3.362c.894.545 1.605.974 1.81 1.092a2.787 2.787 0 0 0 2.777 0zm4.383 6.37l9.997-5.773a3.959 3.959 0 0 0 1.967-3.32c.021-.929.034-1.604.034-1.806a2.786 2.786 0 0 0-1.39-2.406l-1.123-.57a.2.2 0 0 0-.289.177v1.604a4.45 4.45 0 0 1-2.218 3.842l-3.708 2.14a3.366 3.366 0 0 1-.256.135L11.6 27.128a6.427 6.427 0 0 1-3.343.938 7.137 7.137 0 0 1-3.513-1.038c-.09-.052-.38-.226-.797-.479a.094.094 0 0 0-.134.12 7.182 7.182 0 0 0 2.942 3.25 7.241 7.241 0 0 0 3.587 1.028 7.243 7.243 0 0 0 3.587-1.028z",
fill:"#09b8ca"},urban:{path:"M32 14l-4 .003a1 1 0 0 0-1 1V21a1 1 0 0 1-1 1h-2V5.451l-7.598-3.335A1 1 0 0 0 15 3.03V25a1 1 0 0 1-1 1h-2V11.24h-.02L7.5 9l-4.48 2.24H3V20H0v4h5a1 1 0 0 0 1-1V12.717L7.5 12l1.5.717V28a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6.094l3 1.317V24a2 2 0 0 0 2 2h5.02A1.977 1.977 0 0 0 30 24.024V17h2z",fill:"#3DB8FF"},instant:{path:"M11.206 4.805v-1.38a2.231 2.231 0 0 1 2.23-2.231h13.168a2.231 2.231 0 0 1 2.231 2.23v11.15a2.231 2.231 0 0 1-2.23 2.231h-1.398V5.555a.75.75 0 0 0-.75-.75zM30.94 27.204l-5.447-4.41a.211.211 0 0 0-.344.164v2.225H8.197a1.344 1.344 0 0 1-1.344-1.344V11.665a.75.75 0 0 1 .75-.75h9.872a.75.75 0 0 1 .75.75l-.003 7.534a2.422 2.422 0 0 1-.798 1.796l-.945.855h4.3a1.075 1.075 0 0 0 1.074-1.075v-10.54a2.231 2.231 0 0 0-2.23-2.23H5.354a2.148 2.148 0 0 0-2.13 2.23v16.507a2.231 2.231 0 0 0 2.23 2.231l19.695-.003v2.725a.211.211 0 0 0 .344.164l5.447-4.41a.158.158 0 0 0 0-.245z",
fill:"#83a238"}},w=[];Object.keys(v).forEach(function(t){w[t]='\x3csvg viewBox\x3d"0 0 32 32" width\x3d"32" height\x3d"32" fill\x3d"'+v[t].fill+'"\x3e\x3cpath d\x3d"'+v[t].path+'"/\x3e\x3c/svg\x3e'});return w})},"arcgisonline/pages/dijit/FilterStatus":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterStatus/templates/FilterStatus.html dojo/text!./FilterStatus/templates/FilterChip.html dojo/i18n!../../nls/arcgisonline ../pageUtil ../utils/icons ../utils/arrays".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);return function(){function d(k,n){this.templateString=p["default"];this.i18n=e["default"];
this._state={}}d.prototype.postMixInProperties=function(){var k=this,n;this.inherited(arguments);this._state={};this._dontUpdateQueryParams=this.params.dontUpdateQueryParams;this._topic=null!==(n=this.params.topic)&&void 0!==n?n:"";b["default"].toArray(t["default"].clone(this.params)).forEach(function(q){var y;0<(null===(y=q.selected)||void 0===y?void 0:y.length)&&(k._state[q.param]=q)})};d.prototype.postCreate=function(){this.inherited(arguments);b["default"].toArray(this._state).forEach(t["default"].hitch(this,
this._update));this._addEventListeners()};d.prototype.destroy=function(){this.inherited(arguments);this._state={}};d.prototype._addEventListeners=function(){this.own(g["default"](this.clearAll,"click",t["default"].hitch(this,this._clearHandler)),g["default"](this.filterChips,"click",t["default"].hitch(this,this._clickHandler)),x["default"].subscribe(this._topic+"filter/remove",t["default"].hitch(this,this._remove)),x["default"].subscribe(this._topic+"filter/update",t["default"].hitch(this,this._update)),
x["default"].subscribe(this._topic+"filter/clear",t["default"].hitch(this,this._clear)))};d.prototype._clear=function(){this.filterChips.innerHTML="";l["default"].add(this.filterChipWrap,"hide");var k=[];b["default"].toArray(this._state).forEach(function(n){k.push(n.param)});this._state={};this._topic||c["default"].removeQueryParams(k);this._updateMoreChip()};d.prototype._clearHandler=function(k){x["default"].publish(this._topic+"filter/clear",k)};d.prototype._remove=function(k){var n=this;h["default"](".js-filter-chip[data-filter\x3d'"+
k.param+"']",this.filterChips).forEach(f["default"].destroy);if(k.partial){var q=this._state[k.param];q.selected=q.selected.filter(function(y){return y.value!==k.value}).filter(function(y,C,B){return B.indexOf(y)===C});1>q.selected.length?delete this._state[k.param]:q.selected.forEach(function(y){y=u["default"].substitute(m["default"],{filter:q,i18n:e["default"],selected:y,icons:a["default"]});f["default"].place(y,n.filterChips)})}else delete this._state[k.param];1>Object.keys(this._state).length&&
l["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._removeQueryString(k);this._updateMoreChip()};d.prototype._updateMoreChip=function(){var k=this,n=-1;Object.keys(this._state).forEach(function(y){k._state[y].selected&&(n+=k._state[y].selected.length)});var q=this.filterChips.querySelector(".js-more-chip");q&&this.filterChips.removeChild(q);0<n&&(q=document.createElement("span"),q.className="filter-chip filter-chip__more js-more-chip",this.filterChips.appendChild(q),q.textContent=
"+ "+n)};d.prototype._update=function(k){var n=this;l["default"].remove(this.filterChipWrap,"hide");this._state[k.param]=k;h["default"](".js-filter-chip[data-filter\x3d'"+k.param+"']",this.filterChips).forEach(f["default"].destroy);k.selected&&(k.selected.forEach(function(q){var y=document.createElement("div");!q.label&&q.simpleLabel&&(q.label=q.simpleLabel);y.innerHTML=q.label;q.simpleLabel=y.textContent||y.innerText||"";q=u["default"].substitute(m["default"],{filter:k,i18n:e["default"],selected:q,
icons:a["default"]});f["default"].place(q,n.filterChips)}),0===k.selected.length&&(delete this._state[k.param],this._topic||c["default"].removeQueryParams([k.param])));this._updateMoreChip();1>Object.keys(this._state).length&&l["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._topic||this._updateQueryString()};d.prototype._updateQueryString=function(){var k={};b["default"].toArray(this._state).forEach(function(n){k[n.param]=n.selected&&n.selected.map(function(q){"custom"===
q.value&&q.to&&q.from?(k[n.param+"_to"]=q.to.valueOf(),k[n.param+"_from"]=q.from.valueOf()):(delete k[n.param+"_to"],delete k[n.param+"_from"]);if(n.isCategory)return JSON.stringify([q.value]);"bbox"===n.param&&(k.bboxLabel=q.label,k.srSort="true");return q.value}).join(",")||""},this);"bbox"in k&&(k.sortField="bbox");this._topic||c["default"].updateQueryParams(k)};d.prototype._removeQueryString=function(k){var n=c["default"].getQueryParams(),q=[];k.isCategory||"categories"===k.param?n[k.param]=[]:
"bbox"===k.param?(n[k.param]=[],q.push("srSort","bboxLabel","sortField")):(n[k.param]&&(n[k.param]=n[k.param].split(",").filter(function(y){return y!==k.value}).join(",")),c["default"].updateQueryParams(n));n=n[k.param];1>(null===n||void 0===n?void 0:n.length)&&(q.push(k.param),"custom"===k.value&&(q.push(k.param+"_to"),q.push(k.param+"_from")));c["default"].removeQueryParams(q)};d.prototype._clickHandler=function(k){if(l["default"].contains(k.target,"js-filter-chip-remove")){k.preventDefault();var n=
k.target.getAttribute("data-filter"),q=k.target.getAttribute("data-value");x["default"].publish(this._topic+"filter/remove",{param:n,value:q,partial:1<this._state[n].selected.length,lastFilter:1===Object.keys(this._state).length,evt:k})}};return d=v.__decorate([w["default"](E["default"],z["default"])],d)}()})},"arcgisonline/pages/dijit/ViewWithLazyLoad":function(){define("require exports tslib calcite-web/js/calcite-web dojo/query dojo/dom-class dojo/dom-construct ./CardGallery ./CardGalleryWide ../pageUtil ../utils/arrays ./View dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(e,c){this._maxNumberOfItems=1E3;this._topOfPage=64;this._windowBreakPoint=720;this._onLastPage=!1;this._numberOfItemsPerPage=16}m.prototype.initLaziness=function(e,c){this._numberOfItemsPerPage=
c||this._numberOfItemsPerPage;this._maxNumberOfItems=e||this._maxNumberOfItems};m.prototype._scrollToTop=function(){(window.pageYOffset||document.documentElement.scrollTop)>this._topOfPage&&window.scroll({top:this._topOfPage,left:0,behavior:"auto"})};m.prototype._displayTotalResults=function(e,c){if(this.filterResultsButton=this.filterResultsButton||t["default"](".js-view-filter-results-button").shift()){var a=e>this._maxNumberOfItems?this._maxNumberOfItems:e||0===e?e:0;this.filterResultsButton.innerHTML=
z["default"].gallery.viewResults+(c?" ("+a+")":"")}};m.prototype._checkIfOnLastPage=function(e,c){this._itemViews&&this._previouslySetView&&c&&(this._currentNumberOfItems=this._currentNumberOfItems?this._currentNumberOfItems+e:e,e<this._numberOfItemsPerPage||this._currentNumberOfItems>=c||this._currentNumberOfItems>=this._maxNumberOfItems)&&(this._onLastPage=!0,this.__endResultsMarker||this._placeEndOfResultsMarkers())};m.prototype._placeEndOfResultsMarkers=function(){var e=this;this.forEachView(function(c){e.__endResultsMarker=
f["default"].create("div",{"class":"gallery--end-of-results-line"},t["default"](c.containerClass,e.domNode)[0].parentNode);return"break"})};m.prototype.forEachView=function(e){for(var c in this._itemViews)if("break"===e.call(this,this._itemViews[c]))break};m.prototype.handleScrollPage=function(e,c){var a=document.documentElement,b=window.pageYOffset||a.scrollTop;b+a.clientHeight>=a.scrollHeight-2&&!this._itemViews[this._previouslySetView].placeholderDijits.length&&!this._onLastPage&&(a=this._maxNumberOfItems<
this._totalItems?this._maxNumberOfItems:this._totalItems,a=this._currentNumberOfItems+this._numberOfItemsPerPage>a?a-this._currentNumberOfItems:this._numberOfItemsPerPage,this._fillContainersWithPlaceholderCards(a),this.lazyLoadItems(a));600<b&&this.scrollToTopButton.classList.add("is-active");300>b&&this.scrollToTopButton.classList.remove("is-active")};m.prototype.declareItemViews=function(){return{grid:{template:g["default"],containerClass:".js-gallery-wrap",placeholderDijits:[],dijits:[]},list:{template:h["default"],
containerClass:".js-gallery-list-wrap",placeholderDijits:[],dijits:[]}}};m.prototype._destroyDijitsInView=function(e){for(;e.dijits.length;)e.dijits.shift().destroy()};m.prototype._destroyAllDijits=function(){this.forEachView(this._destroyDijitsInView.bind(this));this.__endResultsMarker&&(f["default"].destroy(this.__endResultsMarker),this.__endResultsMarker=null)};m.prototype._fillContainersWithPlaceholderCards=function(e){var c=this;this.forEachView(function(a){for(var b=t["default"](a.containerClass,
c.domNode)[0],d=0;d<e;d++){var k=c._getPlaceHolderCard(a);a.placeholderDijits.push(k);b.appendChild(k)}})};m.prototype._getPlaceHolderCard=function(e){return f["default"].create("div",{"class":"card card--paper-theme card--placeholder "+(".js-gallery-list-wrap"===e.containerClass?"-wide":"")+" block trailer-1",innerHTML:"\x3cdiv\x3e\x3c/div\x3e"})};m.prototype._destroyPlaceHolderCards=function(){this.forEachView(function(e){e.placeholderDijits.forEach(function(c){return f["default"].destroy(c)})})};
m.prototype._updateView=function(e,c,a,b,d){var k=this;this._lastSelected=null;this._totalItems=b||(0===b?0:this._totalItems);var n=t["default"](".js-content-loader",this.domNode);n.addClass("is-active");var q=x["default"].getQueryParams();this._view=window.innerWidth<this._windowBreakPoint?"grid":q.view;var y=this._itemViews[this._view].dijits,C=t["default"](this._itemViews[this._view].containerClass,this.domNode)[0],B=this._previouslySetView&&t["default"](this._itemViews[this._previouslySetView].containerClass,
this.domNode)[0];d||this._view!==this._previouslySetView||this._previouslySetWidth!==window.innerWidth?this._previouslySetView&&(this._view!==this._previouslySetView&&this._scrollToTop(),setTimeout(function(){l["default"].add(B,"hide");l["default"].remove(C,"hide")},1)):(this._destroyAllDijits(),this._destroyPlaceHolderCards(),this._onLastPage=!1,this._currentNumberOfItems=0,this._scrollToTop(),t["default"](".js-view",this.domNode).addClass("hide"));this._previouslySetView=this._view;this._previouslySetWidth=
window.innerWidth;this._items=e||[];this._selected=c||[];this._hasFilters=a;this._checkIfOnLastPage(e.length,b);this._displayTotalResults(b,a);c=a?t["default"](".js-none-wrap",this.domNode):t["default"](".js-empty-wrap",this.domNode);!e.length||y.length&&e[e.length-1].id==y[y.length-1].item.id?e.length||c.removeClass("hide"):(e.forEach(function(D,F){var r=u["default"].find(k._selected,function(G){return G.id===D.id}),A={item:D,options:q,select:k.select,isSelected:r,portalUser:k.portalUser,fullItemTypes:k.fullItemTypes,
showSource:k.showSource,hasSharedOwnershipGroups:k.hasSharedOwnershipGroups,showShare:k.allowShare,itemIndex:F,portal:k.portal};k.forEachView(function(G){var H=new G.template(A);H.startup();d?H.placeAt(G.placeholderDijits.shift(),"replace"):H.placeAt(t["default"](G.containerClass,k.domNode)[0]);G.dijits.push(H)})}),l["default"].remove(C,"hide"),c.addClass("hide"));n.removeClass("is-active");w["default"].dropdown()};return m=v.__decorate([p["default"](E["default"])],m)}()})},"arcgisonline/pages/dijit/CardGallery":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/query ./Card/_CardBase dojo/text!./CardGallery/CardGallery.html".split(" "),
function(V,L,v,w,t,l,f){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);return function(){function g(){this.templateString=f["default"];this.showSortInfo=!1}g.prototype.postMixInProperties=function(){this.inherited(arguments);this._sortValue=this._sortTitle="";if("numviews"===this.options.sortField)this._sortTitle="Views:",this._sortValue=String(this.item.numViews),this.showSortInfo=!0;else if("modified"===this.options.sortField&&this.item.modified){var h=
String(this.item.modified).split(" ");this._sortTitle="Modified:";this._sortValue=h[1]+" "+h[2]+", "+h[3];this.showSortInfo=!0}this.item.largeThumbnailUrl=this.item.thumbnailUrl&&this.item.thumbnailUrl+(-1<this.item.thumbnailUrl.search("\\?token\x3d")?"\x26w\x3d400":"?\x26w\x3d400")};g.prototype.postCreate=function(){this.inherited(arguments);this.cardImage=t["default"](".js-card-image",this.domNode);this.cardImage[0].onload=this.removeLoadingClass.bind(this);this.showSortInfo&&this.domNode.classList.add("card-gallery--show-sort")};
g.prototype.removeLoadingClass=function(){this.cardImage.removeClass("image-is-loading")};return g=v.__decorate([w["default"](l["default"])],g)}()})},"arcgisonline/pages/dijit/CardGalleryWide":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/query ./Card/_CardBase dojo/text!./CardGalleryWide/CardGalleryWide.html".split(" "),function(V,L,v,w,t,l,f){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);return function(){function g(){this.isWide=
!0;this.templateString=f["default"];this.hideNumViews=this.hideDateModified=""}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.hideReadMore=!this.item.description&&"hide"||"";"numviews"===this.options.sortField?this.hideDateModified="hide":this.hideNumViews="hide";this.item.largeThumbnailUrl=this.item.thumbnailUrl&&this.item.thumbnailUrl+(-1<this.item.thumbnailUrl.search("\\?token\x3d")?"\x26w\x3d400":"?\x26w\x3d400")};g.prototype.postCreate=function(){this.inherited(arguments);
this.addEventListeners()};g.prototype.toggleReadMore=function(h){t["default"](".js-more-item-details",this.domNode)[h?"removeClass":"addClass"]("hide");t["default"](".js-read-more-link",this.domNode)[h?"addClass":"removeClass"]("hide");t["default"](".js-folded-item-snippet",this.domNode)[h?"addClass":"removeClass"]("snippet-max-height-230")};g.prototype.addEventListeners=function(){this.own(t["default"](".js-read-more-link",this.domNode).on("click",this.toggleReadMore.bind(this,!0)),t["default"](".js-read-less-link",
this.domNode).on("click",this.toggleReadMore.bind(this,!1)));this.domNode.querySelector(".js-card-description").innerHTML=this.item.description||""};return g=v.__decorate([w["default"](l["default"])],g)}()})},"arcgisonline/pages/dijit/View":function(){define("require exports tslib preact esri/Evented dojo/string dojo/on dojo/query dojo/topic dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin ./Card ./CardMobile ./CardWide ./TableRow ../pageUtil ../utils/arrays ../utils/icons dojo/text!./View/templates/tableHeader.html dojo/text!./View/templates/empty.html dojo/text!./View/templates/none.html dojo/text!./View/templates/loader.html dojo/text!./View/templates/View.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dropdown ../components/SearchFeedback ../utils/search".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D,F,r){t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);q=v.__importDefault(q);
y=v.__importDefault(y);C=v.__importDefault(C);B=v.__importDefault(B);return function(){function A(G,H){this.templateString=y["default"];this.i18n=C["default"];this.select=!0;this.listTemplate=null;this.tableHead=d["default"];this.emptyView=k["default"];this.noneView=n["default"];this.loaderView=q["default"];this.listView=m["default"];this.mobileView=p["default"];this.tableRowView=e["default"];this.showSource=this.fullItemTypes=!1;this.location=C["default"].contentPage.searchingFor;this.sortOptions=
[];this.showShareGroups=this.allowShare=this.hasSharedOwnershipGroups=!1;this.searchTerm="";this._shiftPressed=this._hasFilters=this.showFeedback=this.allowDragAndDrop=this.recordSelection=this.recordSortToggle=!1;this._lastSelected=null;this._items=[];this._selected=[];this._dijits=[];this._itemViews={};this.feedbackSearchTerm=""}A.prototype.postCreate=function(){this.inherited(arguments);this._view=this.activeView;var G={i18n:C["default"],location:this.location,searchTerm:""};this.domNode.querySelector(".js-empty-wrap").innerHTML=
l["default"].substitute(this.emptyView,{i18n:C["default"]});this.domNode.querySelector(".js-none-wrap").innerHTML=l["default"].substitute(this.noneView,{i18n:C["default"]});this.domNode.querySelector(".js-loader-wrap").innerHTML=l["default"].substitute(this.loaderView,G);this.domNode.querySelector(".js-table-header").innerHTML=l["default"].substitute(this.tableHead,{i18n:C["default"],icons:b["default"],selectClass:this.select?"":"hide"});0<this.sortOptions.length&&(G=a["default"].find(this.sortOptions,
function(H){return H.active}))&&this._sortUpdate(G);this._itemViews=this.declareItemViews();this._addEventListeners()};A.prototype.destroy=function(){this.inherited(arguments);this._dijits.forEach(function(G){return G.destroy()})};A.prototype.setEmptyView=function(G){this.emptyView=G;this.domNode.querySelector(".js-empty-wrap").innerHTML=l["default"].substitute(this.emptyView,{i18n:C["default"]})};A.prototype.declareItemViews=function(){return{grid:{template:z["default"],containerClass:".js-grid-wrap"},
mobile:{template:this.mobileView,containerClass:".js-mobile-wrap"},list:{template:this.listView,containerClass:".js-list-wrap"},table:{template:this.tableRowView,containerClass:".js-table-rows"}}};A.prototype.allowCategorization=function(){g["default"](this.domNode).addClass("allow-categorization")};A.prototype.preventCategorization=function(){g["default"](this.domNode).removeClass("allow-categorization")};A.prototype.updateSearchFeedback=function(G,H,J,O,M,K){var U=this;this.searchTerm=G;var Z=this.domNode.querySelector(".js-search-feedback");
w.render(w.h(null,null),Z);Z.classList.add("hide");H&&this.showFeedback&&this.telemetry&&G&&G!==this.feedbackSearchTerm&&((null===M||void 0===M?0:M.eueiEnabled)||K&&!K.orgId)&&(Z.classList.remove("hide"),w.render(w.h(F.SearchFeedback,{telemetry:this.telemetry,searchTerm:this.searchTerm,page:J,onlyOrg:O,section:"content",enriched:r.semanticSearchEnabled(this.portal,this.portalUser),onSubmit:function(){return U.feedbackSearchTerm=G}}),Z))};A.prototype._addEventListeners=function(){var G=this;this.own(f["default"](window,
"keydown",function(H){return G._shiftPressed=H.shiftKey}),f["default"](window,"keyup",function(H){return G._shiftPressed=!1}),g["default"](".js-table-sort-header",this.domNode).on("click",this._sortHeader.bind(this)),f["default"](this.domNode.querySelector(".js-select-all"),"click",this._toggleAll.bind(this)),h["default"].subscribe("view/toggle",this._toggleView.bind(this)),h["default"].subscribe("view/update",this._updateView.bind(this)),h["default"].subscribe("view/deselect",this._deselectItem.bind(this)),
h["default"].subscribe("view/deselectAll",this._deselectAll.bind(this)),h["default"].subscribe("view/select",this._parseSelect.bind(this)),h["default"].subscribe("view/loading",this._showLoadingScreen.bind(this)),h["default"].subscribe("view/updateShare",this._updateItemsSharing.bind(this)),h["default"].subscribe("sort/update",this._sortUpdate.bind(this)),h["default"].subscribe("pagination/page",this._scrollToTop.bind(this)),h["default"].subscribe("item/update",this._updateItem.bind(this)));this.allowDragAndDrop&&
(this.domNode.classList.add("drag-and-drop-well"),this.own(f["default"](this.domNode,"dragover",function(H){H.preventDefault();G.dragover||(G.dragover=!0,G.domNode.classList.add("drag-and-drop-well--dragging"))}),f["default"](this.domNode,"dragleave",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging")}),f["default"](this.domNode,"drop",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging");h["default"].publish("view/drop",
H.dataTransfer)})))};A.prototype._toggleView=function(G){this._view=G;h["default"].publish("view/update",this._items,this._selected,this._hasFilters)};A.prototype._showLoadingScreen=function(G){g["default"](".js-view",this.domNode).addClass("hide");var H=this.domNode.querySelector(".js-loader-wrap"),J=l["default"].substitute(this.location,{term:G});H.innerHTML=l["default"].substitute(this.loaderView,{i18n:C["default"],location:J,searchTerm:G});H.classList.remove("hide")};A.prototype._parseSelect=
function(G,H){var J=this._items.indexOf(G);H||!this._lastSelected&&0!==this._lastSelected||!this._shiftPressed?(this._selectItem(G),this._lastSelected=J):this._selectRange(Math.min(this._lastSelected,J),Math.max(this._lastSelected,J))};A.prototype._selectItem=function(G){a["default"].find(this._selected,function(H){return H.id===G.id})||(G.isSelected=!0,this._selected.push(G));this._setSelectAllState()};A.prototype._toggleAll=function(G){var H;this._lastSelected=null;this._shiftPressed=!1;(G=G.target.checked)?
this._selectPage():this._deselectPage();this.recordSelection&&(null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"Select",action:(G?"Select":"Unselect")+" page",count:this._items.length}))};A.prototype._selectRange=function(G,H){this._lastSelected=null;for(var J=G;J<=H;J++)h["default"].publish("view/select",this._items[J],!0);h["default"].publish("view/update",this._items,this._selected,this._hasFilters)};A.prototype._selectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return h["default"].publish("view/select",
G)});h["default"].publish("view/update",this._items,this._selected,this._hasFilters)};A.prototype._deselectItem=function(G){this._lastSelected=null;G.isSelected=!1;this._selected=this._selected.filter(function(H){return H.id!==G.id});this._setSelectAllState()};A.prototype._deselectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return h["default"].publish("view/deselect",G)});h["default"].publish("view/update",this._items,this._selected,this._hasFilters)};A.prototype._deselectAll=
function(){this._lastSelected=null;this._items=this._items.map(function(G){G.isSelected=!1;return G});this._selected=[];this._setSelectAllState()};A.prototype._sortUpdate=function(G){this._currentSort=G;this._lastSelected=null;if("table"===this._view){var H=G.ascending?"is-ascending":"is-descending";g["default"](".js-table-sort-header").removeClass(["is-descending","is-ascending"]).attr("aria-sort","none");var J=g["default"](".js-table-sort-header[data-sort\x3d'"+G.property+"']");0<J.length&&(J.addClass(H),
J.attr({"aria-sort":G.ascending?"ascending":"descending","data-sort-order":G.ascending?"asc":"desc"}))}};A.prototype._updateItem=function(G){G&&"isFavorite"!==G.name&&this._updateView(this._items,this._selected,this._hasFilters)};A.prototype._updateItemsSharing=function(G){var H=this;(G||[]).forEach(function(J){var O=a["default"].find(H._items,function(M){return M.id===J.id});O&&(O.set("access",J.access),O.set("groupData",J.groupData),O.set("sharedGroups",J.sharedGroups))})};A.prototype._sortHeader=
function(G){this._lastSelected=null;var H=G.target;if(!H.getAttribute("data-sort")){var J=g["default"](G.target).closest(".js-table-sort-header")[0];J&&(H=J)}var O=H.getAttribute("data-sort");J=x["default"].contains(H,"is-ascending")||x["default"].contains(H,"is-descending");H=H.getAttribute("data-sort-order");J&&(H="asc"===H?"desc":"asc");G=(J=a["default"].find(this.sortOptions,function(M){return M.property===O}))?J.label:G.target.innerHTML;this.telemetry&&this.recordSortToggle&&this.telemetry.logEvent({category:"Table Sort Order",
action:"selected sort order"});h["default"].publish("sort/update",{label:G,property:O,ascending:"asc"===H})};A.prototype._updateView=function(G,H,J,O,M){var K=this;this._lastSelected=null;O=this.domNode.querySelector(".js-content-loader");M=this.domNode.querySelector(".js-table-wrap");null===O||void 0===O?void 0:O.classList.add("is-active");this._dijits.forEach(function(ka){return ka.destroy()});g["default"](".js-view",this.domNode).addClass("hide");this._items=G||[];this._selected=H||[];this._hasFilters=
J;var U=this.mobileView&&720>=window.innerWidth?"mobile":this._view;H=this._itemViews[U];var Z=H.template,ca=this.domNode.querySelector(H.containerClass);H=this.domNode.querySelector(".js-none-wrap");var fa=this.domNode.querySelector(".js-empty-wrap");J=J?H:fa;0<G.length?(G.forEach(function(ka,ma){var ra=a["default"].find(K._selected,function(za){return za.id===ka.id});ra={item:ka,options:c["default"].getQueryParams(),select:K.select,isSelected:ra,portalUser:K.portalUser,fullItemTypes:K.fullItemTypes,
showSource:K.showSource,hasSharedOwnershipGroups:K.hasSharedOwnershipGroups,allowShare:K.allowShare,showShareGroups:K.showShareGroups,itemIndex:ma,telemetry:K.telemetry,page:K.page,telemetryOptions:K.telemetryOptions,portal:K.portal,recordSelection:K.recordSelection,searchTerm:K.searchTerm,addSearchTelemetryParams:K.addSearchTelemetryParams};K.tableRow&&"table"===U&&(ra.template=K.tableRow);K.listTemplate&&"list"===U&&(ra.template=K.listTemplate);ra=new Z(ra);ra.startup();ra.placeAt(ca);K._dijits.push(ra)}),
x["default"].remove(ca,"hide"),h["default"].publish("view/show"),"table"===U&&(M.classList.remove("hide"),this._setSelectAllState(),this._sortUpdate(this._currentSort))):J.classList.remove("hide");null===O||void 0===O?void 0:O.classList.remove("is-active");D.dropdown()};A.prototype._setSelectAllState=function(){var G=this.domNode.querySelector(".js-select-all"),H=this._items.filter(function(J){return J.isSelected});0===H.length?(G.checked=!1,G.indeterminate=!1):H.length===this._items.length?(G.checked=
!0,G.indeterminate=!1,G.disabled=!1):G.indeterminate=!0};A.prototype._scrollToTop=function(){this._lastSelected=null;var G=this.domNode.getBoundingClientRect().top;0>G&&window.scrollBy(0,G-50)};A.prototype.getItemCount=function(){return this._items.length};return A=v.__decorate([B["default"](u["default"],E["default"],t["default"])],A)}()})},"arcgisonline/pages/dijit/Card":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/string ./Card/_CardBase dojo/text!./Card/Card.html dojo/text!./Card/MinimalCard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(V,L,v,w,t,l,f,g,h){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);return function(){function x(u,E){this.alwaysShowDrag=this.draggable=!1;this.templateString=u.minimal?g["default"]:f["default"]}x.prototype.postMixInProperties=function(){var u,E;this.inherited(arguments);this.item.ownerText=null!==(E=null===(u=this.item.verified)||void 0===u?void 0:u.name)&&void 0!==E?E:this.item.owner;this.item.viewMsg=
t["default"].substitute(h["default"].viewsWidget.universalViewsMsgAlone,{viewcount:this.item.numViews})};x.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};x.prototype.setDraggable=function(u){(this.draggable=u)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return x=v.__decorate([w["default"](l["default"])],x)}()})},
"arcgisonline/pages/dijit/CardMobile":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/text!./CardMobile/CardMobile.html ../utils/formatters ./Card/_CardBase".split(" "),function(V,L,v,w,t,l,f){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);return function(){function g(h){this.templateString=t["default"];this.alwaysShowDrag=this.draggable=!1}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.item.ownerText=
l["default"].formatOwnerText(this.item,!0)};g.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};g.prototype.setDraggable=function(h){(this.draggable=h)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return g=v.__decorate([w["default"](f["default"])],g)}()})},"arcgisonline/pages/dijit/CardWide":function(){define("require exports tslib ../../tsutils/declareDecorator ./Card/_CardBase dojo/text!./CardWide/CardWide.html".split(" "),
function(V,L,v,w,t,l){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);return function(){function f(){this.isWide=!0;this.templateString=l["default"]}f.prototype.postCreate=function(){this.inherited(arguments)};return f=v.__decorate([w["default"](t["default"])],f)}()})},"arcgisonline/pages/dijit/TableRow":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../utils/formatters ../../esriGeowConfig ./ItemShareSummary ../utils/item ../utils/setItemUrls ../utils/icons ../utils/dom ./Card/_getItemClasses ../item/_Actions ./_CheckReadonlyMixin dojo/text!./TableRow/templates/TableRow.html dojo/text!./Card/OpenDropdown.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ./OrgPopup/OrgPopup preact ../components/Favorite".split(" "),
function(V,L,v,w,t,l,f,g,h,x,u,E,z,p,m,e,c,a,b,d,k,n,q,y,C,B,D){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);m=v.__importDefault(m);e=v.__importDefault(e);c=v.__importDefault(c);a=v.__importDefault(a);b=v.__importDefault(b);d=v.__importDefault(d);k=v.__importDefault(k);n=v.__importDefault(n);
q=v.__importDefault(q);y=v.__importDefault(y);C=v.__importDefault(C);D=v.__importDefault(D);return function(){function F(r,A){this.template=k["default"];this.i18n=q["default"];this.fullDate=u["default"].fullDate;this.completeDate=u["default"].completeDate;this.capitalize=u["default"].capitalize;this.empty=u["default"].empty;this.shortenNumber=u["default"].shortenNumber;this.getAccess=u["default"].getAccess;this.getAccessIcon=u["default"].getAccessIcon;this.show=u["default"].show;this.hide=u["default"].hide;
this.icons=e["default"];this.cssClasses=[];this.dropdownClass=this.removedRow=this.activeRow=this.selectClass=this.checked="";this.recordSelection=this.favoritesDisabled=this.showShareGroups=this.hasSharedOwnershipGroups=this.showSource=this.fullItemTypes=this.isRemoved=this.isSelected=this.select=!1}F.prototype.postMixInProperties=function(){var r=this,A,G;this.inherited(arguments);this.formatDisplayName=u["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.templateString=this.template||
k["default"];this.checked=this.isSelected?"checked":"";this.selectClass=this.select?"":"hide";this.activeRow=this.isSelected?"table-select-row-active":"";this.removedRow=this.isRemoved?"table-select-row-removed":"";this.dropdownClass=2<this.itemIndex?"dropdown-up":"";if(null===(A=this.item)||void 0===A?0:A.classification)this.favoritesDisabled=!this.portalUser,this.item.openIn.forEach(function(H){return m["default"][H](r.item)}),this.item.premiumClass=this.item.isPremium?"":"hide",this.cssClasses=
a["default"](this.item,this.portalUser),this.item.isAdmin=this.item.isAdmin||(null===(G=this.portalUser)||void 0===G?void 0:G.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId,this.item.canShare=this.allowShare&&p["default"].canShareItem(this.item,this.portalUser),this.item.ownerText=u["default"].formatOwnerText(this.item),this.item.badges=p["default"].getBadges(this.item,!1,this.portalUser)};F.prototype.postCreate=function(){var r=this,A,G;this.inherited(arguments);this.cssClasses&&this.cssClasses.forEach(function(K){return K&&
r.domNode.classList.add(K)});!this.favoritesDisabled&&0<t["default"](".js-favorites-container",this.domNode).length&&(this.favorite=B.render(B.h(D["default"],{item:this.item}),this.domNode.querySelector(".js-favorites-container")));if(0<t["default"](".js-open-dropdown-container",this.domNode).length){var H=this.domNode.querySelector(".js-open-dropdown-container"),J=l["default"].substitute(n["default"],{item:this.item,i18n:q["default"],icons:e["default"]},null,this);w["default"].place(J,H);(null===
(A=this.item.portal)||void 0===A?0:A.isPortal)&&c["default"].hideNodes(H.querySelectorAll(".js-hide-portal"))}A=this.item;H=this.portalUser;J=this.allowShare;var O=this.telemetry,M=this.showShareGroups;(null===(G=this.item)||void 0===G?0:G.classification)&&new z["default"]({item:A,portalUser:H,showShareGroups:M,allowShare:J,telemetry:O},this.domNode.querySelector(".js-share-summary"));if("Feature Service"===A.type||"Feature Collection"===A.type)G=this.domNode.querySelector(".js-layers-tables"),J=
this.domNode.querySelector(".js-layers-tables-toggle"),G&&J&&E["default"].deepLayerSearchEnabled&&c["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:A,layers:A.sublayers,portal:A.portal,api:3,user:H,searchTerm:this.searchTerm,config:E["default"],telemetry:this.telemetry,tooltip:this.formatDisplayName(A.displayName),i18nNoService:q["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:q["default"].SelectLayersWFS.noLayers},G).appendChild(J);this._addEventListeners()};
F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy();this.favorite&&B.render(null,this.domNode.querySelector(".js-favorites-container"),this.favorite)};F.prototype._addEventListeners=function(){var r;this.own(t["default"](".js-table-select-checkbox",this.domNode).on("change",this._toggleSelected.bind(this)),t["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),t["default"](".js-action",this.domNode).on("click",this._handleAction.bind(this)),
t["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),t["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),g["default"].subscribe("view/items/"+this.item.id+"/deselect",this._deselect.bind(this)));var A=this.domNode.querySelector(".js-verified-owner-link");A&&this.own(f["default"](A,"click",this.showOrgPopup.bind(this)));(null===(r=this.item)||
void 0===r?0:r.watch)&&this.own(this.item.watch(this._itemUpdate.bind(this)))};F.prototype._handleAction=function(r){var A=this;r.preventDefault();var G=r.target.getAttribute("data-action");if(G&&b["default"][G]&&("share"!==G||!this.checkReadonly(this.item.portal))){var H={evt:r,item:this.item,user:this.portalUser,portal:this.item.portal,telemetry:this.telemetry};if("share"!==G||this.item.isOwner)b["default"][G](H);else this.item.getOwnerProfile(!0,!0).then(function(J){A.item.itemOwner=J;b["default"].share(H)})}};
F.prototype.selectItem=function(){this.domNode.classList.add("table-select-row-active");this.item.isSelected=!0;this.domNode.querySelector(".js-table-select-checkbox").checked=!0};F.prototype._select=function(){this.selectItem();g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("table-select-row-active");this.item.isSelected=!1;this.domNode.querySelector(".js-table-select-checkbox").checked=!1;g["default"].publish("view/deselect",this.item)};
F.prototype._toggleSelected=function(){var r;if(this.domNode.classList.contains("table-select-row-active")){var A="Unselect row";this._deselect()}else A="Select row",this._select();this.recordSelection&&(null===(r=this.telemetry)||void 0===r?void 0:r.logEvent({category:"Select",action:A,count:1}))};F.prototype._itemUpdate=function(r,A,G){g["default"].publish("item/update",{item:this.item,name:r,oldValue:A,value:G})};F.prototype._showProfile=function(r){g["default"].publish("profile/show",r)};F.prototype.showOrgPopup=
function(r){r.stopPropagation();(new C["default"]({item:this.item,opener:r.target})).open()};F.prototype._shareItemDropdown=function(r){this.domNode.querySelector(".js-item-share-dropdown").blur()};F.prototype._categorizeItem=function(r){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=v.__decorate([y["default"](h["default"],x["default"],d["default"])],F)}()})},"arcgisonline/pages/components/Favorite":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic ../../sharing/geow/Content arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/pages/pageUtil".split(" "),
function(V,L,v,w,t,l,f,g,h){Object.defineProperty(L,"__esModule",{value:!0});t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);h=v.__importDefault(h);V=function(x){function u(){var E=null!==x&&x.apply(this,arguments)||this;E.buttonRef=w.createRef();E.handleClick=function(z){var p=E.state.isFavorite,m=E.props.item;E.checkReadonly(m.portal)||(E.setState(function(e){return{isFavorite:!e.isFavorite}}),m.set("isFavorite",p),(p?f["default"].removeFromFavorites(m):
f["default"].addToFavorites(m)).then(function(){E.buttonRef.current.blur()},function(e){l["default"].publish("alert/show",{type:"error",text:null===e||void 0===e?void 0:e.message});E.setState(function(c){return{isFavorite:!c.isFavorite}});m.set("isFavorite",p)}))};return E}v.__extends(u,x);u.prototype.componentDidMount=function(){this.setState({isFavorite:this.props.item.isFavorite})};u.prototype.checkReadonly=function(E){return(null===E||void 0===E?0:E.isPortal)&&E.isReadOnly?(h["default"].createSpecifiedDialog(g["default"]).show({title:t["default"].common.errorTitle,
message:t["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};u.prototype.render=function(){var E=this.state.isFavorite;return w.h("span",null,w.h("button",{onClick:this.handleClick,ref:this.buttonRef,role:"checkbox","aria-label":t["default"].common.favorite,"aria-checked":E?"true":"false","class":"favorites__button position-relative card-action "+(E?"btn-link-yellow":"")},w.h("calcite-icon",{icon:E?"star-f":"star",scale:"s"}),w.h("span",{"aria-hidden":"true","class":"favorites__tooltip"},
E?t["default"].common.unfavorite:t["default"].common.favorite)))};return u}(w.Component);L["default"]=V})},"arcgisonline/pages/utils/dropdown":function(){define(["require","exports","tslib","calcite-web/js/calcite-web","dojo/query"],function(V,L,v,w,t){Object.defineProperty(L,"__esModule",{value:!0});L.dropdown=void 0;w=v.__importDefault(w);t=v.__importDefault(t);L.dropdown=function(){w["default"].dropdown();t["default"](".dropdown-link").on("mouseover",function(l){var f;null===(f=l.target)||void 0===
f?void 0:f.focus()})}})},"arcgisonline/pages/components/SearchFeedback":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline preact/hooks".split(" "),function(V,L,v,w,t,l){Object.defineProperty(L,"__esModule",{value:!0});L.SearchFeedback=void 0;t=v.__importDefault(t);L.SearchFeedback=function(f){var g=f.telemetry,h=f.searchTerm,x=f.page,u=f.onlyOrg,E=f.section,z=f.enriched,p=f.onSubmit,m=l.useState(1);f=m[0];var e=m[1];m=l.useState({dontSee:!1,irrelevant:!1,filters:!1,
notEnoughInfo:!1});var c=m[0],a=m[1];u=E+" "+(u?"org only":"all");E=l.useState("");var b=E[0],d=E[1],k={category:"search result page feedback "+(1===f?"1":"2"),pageName:u,statusCode:z?"enriched":"not enriched",pageUrl:window.location.href,number:Math.ceil(x.start/x.num),searchquery:h};return w.h("div",null,1===f&&w.h("div",{"class":"leader-1 trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 flex flex-center"},w.h("div",{"class":"flex-1"},w.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-quarter"},
t["default"].searchFeedback.areTheseResultsHelpful),w.h("p",{"class":"text-off-black font-size--2 trailer-0"},t["default"].searchFeedback.helpUsImprove)),w.h("calcite-button",{"icon-start":"thumbs-up",appearance:"outline","class":"padding-left-1",onClick:function(){g.logEvent(v.__assign(v.__assign({},k),{label:"yes"}));e(3);p()}},t["default"].searchFeedback.helpful),w.h("calcite-button",{appearance:"outline","icon-start":"thumbs-down","class":"padding-left-1",onClick:function(){g.logEvent(v.__assign(v.__assign({},
k),{label:"no"}));e(2)}},t["default"].searchFeedback.notHelpful)),2===f&&w.h("div",{"class":"trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1"},w.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-0"},t["default"].searchFeedback.whatMakes),w.h("p",{"class":"text-off-black font-size--2 trailer-half"},t["default"].searchFeedback.selectAllThatApply),Object.keys(c).map(function(n){return w.h("calcite-chip",{"class":"margin-right-half trailer-half",
value:n,appearance:c[n]?"solid":"clear",color:c[n]?"blue":"grey",onClick:function(){var q;a(v.__assign(v.__assign({},c),(q={},q[n]=!c[n],q)))}},t["default"].searchFeedback[n])}),w.h("div",{"class":"leader-1"},w.h("calcite-label",null,w.h("span",{"class":"display-block padding-trailer-half"},t["default"].searchFeedback.tellUsMore),w.h("calcite-input",{type:"textarea",maxLength:250,oncalciteInputInput:function(n){return d(n.detail.value)}})),w.h("div",{"class":"flex flex-end trailer-1"},w.h("span",
{"class":"font-size--2 text-darker-gray"},b.length," / ",250))),w.h("div",{"class":"flex flex-end"},w.h("calcite-button",{appearance:"outline",color:"blue",onClick:function(){e(3);p()},"class":"margin-right-quarter"},t["default"].searchFeedback.close),w.h("calcite-button",{appearance:"solid",color:"blue",onClick:function(){e(3);Object.keys(c).filter(function(n){return c[n]}).forEach(function(n){g.logEvent(v.__assign(v.__assign({},k),{label:n}))});b&&g.logEvent(v.__assign(v.__assign({},k),{details:b,
label:"other"}));p()}},t["default"].searchFeedback.sendFeedback))),3===f&&w.h("calcite-alert",{label:t["default"].searchFeedback.thankYou,active:!0,color:"green",icon:"check-circle",scale:"m","intl-close":"Close"},w.h("div",{slot:"title"},t["default"].searchFeedback.thankYou)))}})},"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Favorite/Favorite.html":'\x3cspan\x3e\r\n  \x3cbutton class\x3d"card-action tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.favorite}" data-dojo-attach-point\x3d"button"\x3e\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummary.html":'\x3cdiv class\x3d"share-summary ${directionClass} ${responsiveClass}"\x3e\r\n  \x3cbutton class\x3d"js-share-button share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short"\x3e\r\n    \x3cspan class\x3d"js-icon share-summary__level flex flex-center"\x3e${!levelIcon}\x3c/span\x3e\r\n    \x3cspan class\x3d"js-sharing-plus-icon share-summary__plus"\x3e${!icons.plus.16}\x3c/span\x3e\r\n    \x3cspan class\x3d"share-summary__group share-summary__group--unknown"\x3e\r\n      ${!icons.users.16}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummaryOverflow.html":'\x3cspan class\x3d"share-summary__overflow"\x3e\x26#43;${num}\x3c/span\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPicker.html":'\x3cdiv class\x3d"${containerClass}"\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half flex js-member-picker-header"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size--1 flex-1" id\x3d"folder-picker-label"\x3e${i18n.changeOwner.selectFolder}\x3c/h4\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black right js-folder-picker-cancel"\x3e\r\n      ${i18n.common.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput\r\n    class\x3d"member-picker-search js-search-input"\r\n    placeholder\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-label\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-controls\x3d"folder-results-list"\r\n    type\x3d"search"\r\n    autocomplete\x3d"off"\r\n  /\x3e\r\n\r\n  \x3cul\r\n    class\x3d"js-member-picker-results folder-picker-results member-picker-results--border"\r\n    id\x3d"folder-results-list"\r\n    role\x3d"menu"\r\n    aria-labelledby\x3d"folder-picker-label"\r\n    data-dojo-attach-point\x3d"_resultsDropdown"\r\n  \x3e\r\n    \x3cli class\x3d"folder-list-item js-no-folder hide" data-title\x3d"no-folder" role\x3d"none"\x3e\r\n      \x3cspan\r\n        class\x3d"folder-list-link folder-list-link--expanded"\r\n        data-id\x3d"no-folder"\r\n        data-title\x3d"no-folder"\r\n        role\x3d"menuitem"\r\n        aria-selected\x3d"false"\r\n        data-dojo-attach-point\x3d"_folderLink"\r\n      \x3e\r\n        ${i18n.folderDlg.noFolders}\r\n        \x3cbutton class\x3d"js-create-folder-inline create-folder-inline-link btn-link font-size--2"\x3e\r\n          ${i18n.folderDlg.noFolderLabel}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/li\x3e\r\n  \x3c/ul\x3e\r\n  \x3cbutton\r\n    class\x3d"js-create-new-folder btn-link btn-link-dark-blue padding-leader-quarter padding-trailer-quarter leader-half padding-left-half padding-right-half font-size--2"\r\n  \x3e\r\n    ${!icons.inline.folder-plus.16} ${i18n.changeOwner.createNewFolder}\r\n  \x3c/button\x3e\r\n  \x3cform class\x3d"hide js-create-folder-form position-relative leader-half"\x3e\r\n    \x3cinput\r\n      class\x3d"folder-list-link folder-list-link--large leader-0 trailer-0 js-create-folder-input"\r\n      type\x3d"text"\r\n      maxlength\x3d"125"\r\n      value\x3d""\r\n      placeholder\x3d"${i18n.changeOwner.enterFolderName}"\r\n      aria-label\x3d"${i18n.changeOwner.enterFolderName}"\r\n    /\x3e\r\n    \x3cspan class\x3d"change-owner-new-folder-icon"\x3e${!icons.inline.folder-plus.16}\x3c/span\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.save}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show folder-list-action--green folder-list-action--left js-folder-create-save"\r\n      type\x3d"submit"\r\n    \x3e\r\n      ${!icons.check.24}\r\n    \x3c/button\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.cancel}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show js-folder-create-cancel"\r\n    \x3e\r\n      ${!icons.x.24}\r\n    \x3c/button\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"js-create-folder-error-message input-error-message"\x3e\r\n    ${i18n.folderDlg.passwordMin}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPickerRow.html":'\x3cli class\x3d"folder-list-item" data-title\x3d"${folder.title}" role\x3d"none"\x3e\r\n  \x3cspan \r\n    class\x3d"folder-list-link folder-list-link--expanded" \r\n    data-id\x3d"${folder.id}"\r\n    data-title\x3d"${folder.title}"\r\n    role\x3d"menuitem"\r\n    aria-selected\x3d"false"\r\n    data-dojo-attach-point\x3d"_folderLink"\x3e\r\n    ${!folderIcon}${folder.title}\r\n  \x3c/span\x3e\r\n\x3c/li\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/ChangeOwner.html":'\x3cdiv class\x3d"change-owner-container padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-owner-area visibility-hidden"\x3e\r\n      \x3ch4 class\x3d"font-size--1 js-item-owner-label"\x3e${i18n.changeOwner.itemOwner}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex change-owner-card js-owner-edit input-error--no-icon"\x3e\r\n        \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 js-fullname"\x3eFullname\x3c/h4\x3e\r\n          \x3cp class\x3d"trailer-0 font-size--2 js-username"\x3eUsername\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black change-owner-card-edit js-owner-edit-button"\r\n          aria-label\x3d"${i18n.changeOwner.title}"\r\n        \x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cp class\x3d"input-error-message js-member-select-error position-absolute"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-member-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-area visibility-hidden leader-1"\x3e\r\n      \x3ch4 class\x3d"font-size--1"\x3e${i18n.changeOwner.folder}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex trailer-2 change-owner-card js-folder-edit"\x3e\r\n        \x3cdiv class\x3d"flex-0 js-folder-icon"\x3e${icons.inline.folder.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 js-folder-name"\x3e${i18n.folderDlg.noFolderLabel}\x3c/h4\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black change-owner-card-edit js-folder-edit-button" aria-label\x3d"${i18n.changeOwner.title}"\x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-picker hide"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/MoveItem.html":'\x3cdiv class\x3d"padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.updating}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-folder-picker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryPicker.html":'\x3cdiv class\x3d"leader-half"\x3e\r\n  \x3cdiv\r\n    class\x3d"js-add-category-error alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter"\r\n  \x3e\r\n    ${i18n.contentCategories.addCategoryError}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"category-picker"\x3e\r\n    \x3cdiv class\x3d"font-size--1 category-picker__chip-wrap js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide category-picker__default-text font-size--1" data-dojo-attach-point\x3d"defaultTextContainer"\x3e${defaultText}\x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-add-category-dropdown leader-half trailer-half category-picker__dropdown"\x3e\r\n      \x3cspan class\x3d"font-size--1 category-picker__dropdown-btn"\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size--1 js-add-category-dropdown-button"\r\n          tabindex\x3d"0"\r\n          aria-haspopup\x3d"true"\r\n          aria-expanded\x3d"false"\r\n          type\x3d"button"\r\n        \x3e\r\n          \x3cspan class\x3d"text-green"\x3e${!icons.inline.plus-f.16}\x3c/span\r\n          \x3e${i18n.contentCategories.addCategory}${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"dropdown-menu leader-quarter category-picker__dropdown-menu"\x3e\r\n        \x3cdiv class\x3d"category-picker-search-wrap"\x3e\r\n          \x3cinput\r\n            type\x3d"text"\r\n            class\x3d"add-category-input js-add-category-input leader-0"\r\n            placeholder\x3d"${i18n.contentCategories.filterCategories}"\r\n            aria-label\x3d"${i18n.contentCategories.addCategoryToItem}"\r\n          /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\r\n          class\x3d"js-add-category-dropdown-menu category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open"\r\n          role\x3d"menu"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/Category.html":'\x3cli class\x3d"js-category-picker-item filter-tree-item category-picker--add-category-dropdown ${isActive}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3cspan class\x3d"category-picker--add-category-dropdown-icon"\x3e${icons.check.16}\x3c/span\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link category-picker--add-category-dropdown-link js-add-category-dropdown-link ${isSelected}" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e${title}\x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"${role}"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryChip.html":'\x3cspan class\x3d"label filter-label js-category-chip" data-category-name\x3d"${category}"\x3e\r\n  ${category:formatCategoryChip}\r\n  \x3cbutton class\x3d"js-category-chip-remove btn-link filter-label-remove margin-left-quarter right" aria-label\x3d"${removeText}" data-category-name\x3d"${category}"\x3e${icons.x.16}\x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/SaveItem.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.titleLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTitle"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextTitle}" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half clearfix"\x3e\r\n    ${i18n.tagsLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTagsContainer"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"categories-container"\x3e\r\n    \x3clabel class\x3d"calcite-web-label trailer-0 clearfix categories-container"\r\n      data-dojo-attach-point\x3d"saveItemCategoriesContainer"\r\n      for\x3d"saveItemCategoryPicker"\x3e\r\n      ${i18n.categoriesLabel}\r\n    \x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemCategories" id\x3d"saveItemCategoryPicker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.summaryLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemSummary"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextSummary}" maxlength\x3d"250" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-select" for\x3d"itemFolderComboBox"\x3e\r\n    ${i18n.saveInFolderLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemFolder"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n         id\x3d"itemFolderComboBox"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExportDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"exportDialog" id\x3d"export-dialog" title\x3d"${i18n.exportDialogTitle}" execute\x3d""\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemForm"\x3e\x3c/div\x3e\r\n    \x3cfieldset data-dojo-attach-point\x3d"featureCollectionDiv" class\x3d"featureCollectionOnly hide"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"generalizeChk" name\x3d"generalize"\x3e${i18n.generalize}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"generalize" checked\x3e${i18n.keepOrig}\x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_message" class\x3d"break_word"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"exportingLabel" style\x3d"visibility:hidden;"\x3e${i18n.exportingLabel}\x3c/span\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" type\x3d"button" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn" type\x3d"button" data-dojo-attach-point\x3d"exportBtn"\x3e${i18n.exportLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/DefineExtent.html":'\x3cdiv\x3e\r\n  \x3cspan\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin05 extent-search backward-compatible-extent-search inline-block" data-dojo-attach-point\x3d"_extentSearchContainer"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"calcite secondary btn btn-blue small right" id\x3d"extent-dlg-draw-button" data-dojo-attach-point\x3d"_buttonSetExtent"\x3e\r\n      ${i18n.drawExtent}\r\n    \x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv id\x3d"extent-map-container" style\x3d"width:500px; max-width: 100%; height:340px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"inline-block leader-half"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input inline-block" id\x3d"extent-left" data-dojo-attach-point\x3d"_extentLeft"\r\n           data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-right" data-dojo-attach-point\x3d"_extentRight" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr\x3e\r\n  \x3cdiv class\x3d"inline-block"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-top" data-dojo-attach-point\x3d"_extentTop" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-bottom" data-dojo-attach-point\x3d"_extentBottom" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExtentDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"extent-dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"right esriFloatTrailing margin-right-1 extent-ltr-margin-right-0"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"cancel"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_okBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"primary"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\r\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html":'\x3cdiv\x3e\r\n  \x3cdiv id\x3d"rateLimiting" class\x3d"rateLimiting"\x3e\r\n    \x3cp\x3e${i18n.rateLimiting.instructions}\x3c/p\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_enableLimits" type\x3d"checkbox" value\x3d"true" name\x3d"enableRateLimiting"/\x3e\r\n    \x3clabel class\x3d"esriLeadingMargin05 esriTrailingMargin1 inline-block trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.hitRate}\x3c/label\x3e\r\n    \x3cdiv class\x3d"rateLimitingDiv esriLeadingMargin108 clearfix"\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1000"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitRate"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\',constraints:{min:1, max:1000000, places:0}" /\x3e\r\n      \x3clabel class\x3d"canDisable esriLeadingMargin1 esriTrailingMargin1 inline-block left leader-half trailer-0 padding-right-half" for\x3d"referrerUri"\x3e\r\n        ${i18n.rateLimiting.per}\r\n      \x3c/label\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitCount"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\', constraints:{min:1, max:1000000, places:0}"/\x3e\r\n\r\n      \x3cselect class\x3d"esriUnits left inline-block" data-dojo-attach-point\x3d"_interval" data-dojo-type\x3d"dijit/form/Select" data-dojo-props\x3d"disabled:true" style\x3d"width:8.75em;"\x3e\r\n        \x3coption value\x3d"1"\x3e${i18n.rateLimiting.second}\x3c/option\x3e\r\n        \x3coption value\x3d"60"\x3e${i18n.rateLimiting.minute}\x3c/option\x3e\r\n        \x3coption value\x3d"3600"\x3e${i18n.rateLimiting.hour}\x3c/option\x3e\r\n        \x3coption value\x3d"86400"\x3e${i18n.rateLimiting.day}\x3c/option\x3e\r\n        \x3coption value\x3d"604800"\x3e${i18n.rateLimiting.week}\x3c/option\x3e\r\n        \x3coption value\x3d"2628000"\x3e${i18n.rateLimiting.month}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3clabel class\x3d"esriTrailingMargin05 trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.referrerUri}\x3c/label\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cinput data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_referrerUrl" data-dojo-props\x3d"placeHolder:\'${i18n.registerApp.urlPlaceHolder}\'" type\x3d"text" class\x3d"left referrerUrl"/\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_delBtn" data-dojo-props\x3d"disabled:true, label:\'${i18n.registerApp.del}\'"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_addBtn" data-dojo-props\x3d"label:\'${i18n.registerApp.add}\'"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin93 trailer-half referralUris" data-dojo-type\x3d"dijit/form/MultiSelect" data-dojo-attach-point\x3d"_referrers" data-dojo-props\x3d"size:4, name:\'referral_uris\'"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/UploadProgressBar/UploadProgressBar.html":'\x3cdiv class\x3d"upload-progress-bar flex-1 flex-column-justify-center margin-right-1 margin-left-half position-relative"\x3e\r\n  \x3cdiv class\x3d"progress-bar"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill" data-dojo-attach-point\x3d"_uploadProgressFill"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--3 upload-percent-label" data-dojo-attach-point\x3d"_uploadPercentLabel"\x3e0%\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e \r\n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\r\n\x3c/span\x3e\r\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:esri/dijit/VisibleScaleRangeSlider/templates/ScaleMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.section}"\x3e\r\n    \x3cdiv class\x3d"${css.header}"\x3e${labels.current}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_currentScaleLabel" class\x3d"${css.item} ${css.current}"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_scaleInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${css.input}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"${css.section}" data-dojo-attach-point\x3d"dap_recommendedScaleSection"\x3e\r\n    \x3cdiv class\x3d"${css.header}" data-dojo-attach-point\x3d"dap_scaleListHeader"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3col data-dojo-attach-point\x3d"dap_recommendedScales" class\x3d"${css.list}"\x3e\r\n        \x3cli data-dojo-attach-point\x3d"dap_mapScaleItem" class\x3d"${css.item} ${css.selectable}"\x3e\x3c/li\x3e\r\n        \x3c!--additional list items added dynamically--\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/dijit/VisibleScaleRangeSlider/templates/ScalePreview.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.header}"\x3e${labels.preview}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_scalePreviewThumbnail" class\x3d"${css.thumbnail}"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\r\n  \x3cp data-dojo-attach-point\x3d"_message"\x3e\x3c/p\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_itemPropertiesDlg"  data-dojo-type\x3d"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg" data-dojo-props\x3d"typeInfo:\'${_typeInfo}\', showFile:false, showUrl:false, showFolders:${showFolders}"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sceneProperties hide"\x3e\r\n      \x3cdiv class\x3d"sceneDataDisplay hide"\x3e\r\n          \x3cdiv\x3e${i18n.publishTileServiceDlg.displayInLbl}\x3c/div\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-globalWkid" data-dojo-attach-point\x3d"_globalWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"global"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_globalWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-localWkid" data-dojo-attach-point\x3d"_localWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"local"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_localWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"sceneMultipatch hide"\x3e\r\n        \x3clabel\x3e\r\n          \x3cinput id\x3d"${id}-enableUpdates" data-dojo-attach-point\x3d"_enableSceneUpdates" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" value\x3d"true"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_enableSceneUpdatesLabel"\x3e${i18n.publishTileServiceDlg.enableUpdates}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilePropertiesContainer"\x3e\r\n    \x3clabel\x3e${i18n.publishTileServiceDlg.tileSchemeLabel}\x3c/label\x3e\r\n    \x3cdiv class\x3d"tilePropertiesRadios"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-agoBasemap" data-dojo-attach-point\x3d"_agoBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"ago"\x3e${i18n.publishTileServiceDlg.matchAGOLBasemaps}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-custom" data-dojo-attach-point\x3d"_customBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"custom"\x3e${i18n.publishTileServiceDlg.matchOwnBasemap}\r\n      \x3c/label\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"_customBasemapUrl" class\x3d"custom esriLeadingMargin2" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"disabled:true,placeholder:\'${i18n.publishTileServiceDlg.tileSchemePlaceholder}\'"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilesOnDemandContainer"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-tilesOnDemand" data-dojo-attach-point\x3d"_tilesOnDemand" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.enableTilesOnDemand}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"visibleScaleRange hide"\x3e\r\n      \x3clabel class\x3d"tileRange"\x3e${i18n.publishTileServiceDlg.scaleRangeLabel}\x3c/label\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_visibleScaleRangeContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader js-visible-range-loader overlay-white position-relative hide" data-dojo-attach-point\x3d"_visibleRangeLoader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text hide" data-dojo-attach-point\x3d"_visibleRangeLoaderMsg"\x3e${!i18n.common.loading}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_increaseScaleWarning"\x3e\r\n      ${i18n.publishTileServiceDlg.increaseScaleWarning}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"vectorTileProperties leader-half hide" data-dojo-attach-point\x3d"_selectAttributesContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_selectAttributesBtn"\x3e${i18n.itemProperties.configureAttributes.selectAttributes}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"viewProperties hide"\x3e\r\n    \x3clabel\x3e ${i18n.publishTileServiceDlg.createViewOptionsLabel}\x3c/label\x3e\r\n    \x3clabel\x3e\r\n      \x3cinput id\x3d"${id}-preserveIds" data-dojo-attach-point\x3d"_preserveIds" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.preserveLayerIds}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\r\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptions.html":'\x3cdiv class\x3d"advanced-offline-options grid-container js-accordion"\x3e\r\n  \x3csection class\x3d"accordion-section is-active"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-attachments-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-1 avenir-demi"\x3e${i18n.itemProperties.advancedOptions.editableFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"featuresAndAttachments" data-sync\x3d"syncFeaturesAndAttachments"\r\n            class\x3d"js-editable-features js-edit-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"features"\r\n            data-sync\x3d"syncFeaturesUploadAttachments" class\x3d"js-editable-features js-edit-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesOnly}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"none"\r\n            data-sync\x3d"uploadFeaturesAndAttachments" class\x3d"js-editable-features js-edit-none"\x3e\r\n          ${i18n.itemProperties.advancedOptions.neverGetUpdates}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half avenir-demi"\x3e${i18n.itemProperties.advancedOptions.readonlyFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"true"\r\n            class\x3d"js-readonly-features js-readonly-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"false"\r\n            class\x3d"js-readonly-features js-readonly-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.readonlyFeaturesOnly}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsFootNote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3csection class\x3d"accordion-section is-active leader-1"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e ${i18n.itemProperties.advancedOptions.tilePackageTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-package-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.tilePackageDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"webmap" class\x3d"js-tile-option js-tile-webmap"\x3e\r\n          ${i18n.itemProperties.advancedOptions.useBasemapInWebmap}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"mobile" class\x3d"js-tile-option js-tile-mobile"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e${i18n.itemProperties.advancedOptions.useTilePackageOnMobile}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half padding-left-2 hide advanced-offline-options__option-input-container js-file-name-container"\x3e\r\n              \x3clabel class\x3d"trailer-0"\x3e\r\n                ${i18n.itemProperties.advancedOptions.packageFileName}\r\n                \x3cinput type\x3d"text" class\x3d"js-tile-mobile-file-name" placeholder\x3d"${i18n.itemProperties.advancedOptions.fileNamePlaceholder}"\x3e\r\n                \x3cdiv class\x3d"input-error-message js-tile-mobile-file-name-error"\x3e\x3c/div\x3e\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"font-size--2"\x3e${i18n.itemProperties.advancedOptions.enterTilePackageFileName}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- hide the third option until Apps team supports it --\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex hide"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"uploaded" class\x3d"js-tile-option js-tile-org"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e\r\n              ${i18n.itemProperties.advancedOptions.useUploadedTilePackage}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"hide leader-half padding-left-2 padding-trailer-1 advanced-offline-options__option-input-container js-tile-search-container"\x3e\r\n              \x3cinput type\x3d"search" class\x3d"input-minimal js-tile-search" placeholder\x3d"${i18n.itemProperties.advancedOptions.findPackage}"\x3e\r\n              \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3cdiv class\x3d"advanced-offline-options__search-results trailer-1 js-search-results"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.tilePackageFootnote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3cdiv class\x3d"position-relative js-update-loader-container advanced-offline-options__loader-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_optionsLoader" class\x3d"loader js-update-loader overlay-white fullscreen"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${i18n.itemProperties.updatingItemLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ca class\x3d"js-learn-more" target\x3d"_blank"\x3e${i18n.itemProperties.advancedOptions.learnMore}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptionSearchItem.html":'\x3cbutton class\x3d"btn-link flex advanced-offline-options__search-result-item"\x3e\r\n    \x3cdiv class\x3d"margin-right-half"\x3e\r\n        \x3cimg src\x3d"js/arcgisonline/img/item-types/tilepackage16.svg" class\x3d"advanced-offline-options__search-result-item-img"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-1 advanced-offline-options__search-result-item-title"\x3e${title}\x3c/div\x3e\r\n\x3c/button\x3e',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/ManageSceneCache.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_optionsContainer"\x3e\r\n    ${i18n.description}\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildFullContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildFullRadio" checked\x3e ${i18n.rebuildFull}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildLayersRadio"\x3e ${i18n.rebuildLayers}\r\n      \x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildPartialContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"_rebuildPartialAttrContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_portalOptionsContainer"\x3e\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalFullRadio"\x3e ${i18n.rebuildFullCache}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"loader js-caching-loader overlay-white position-relative leader-1 padding-trailer-1" data-dojo-attach-point\x3d"_caching"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${!i18n.republishing}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv data-dojo-attach-point\x3d"_sceneLayerSelectContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"_sceneLayerSelectLabel"\x3e${i18n.selectLayers}\x3c/label\x3e\r\n    \x3cdiv class\x3d"scene-layer-list trailer-1" data-dojo-attach-point\x3d"_sceneLayerContainer"\x3e\r\n      \x3c!-- create scene layers here--\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"right inline-block padding-right-1" data-dojo-attach-point\x3d"_buttonBar"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-blue" disabled\x3d"true" data-dojo-attach-point\x3d"_rebuildBtn"\x3e${i18n.rebuildLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JobStatusDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg job-status-dlg" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_statusContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_statusInfo"\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.status}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStatus"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.startTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStartTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.endTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobEndTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.duration}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobDuration"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_jobAdminDetailsContainer"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.machine}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobMachine"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.user}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobUser"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.jobId}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobIdLinkContainer"\x3e\x3ca data-dojo-attach-point\x3d"_jobIdLink" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_jobIdText"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"loader overlay-white position-relative js-status-loader" data-dojo-attach-point\x3d"_statusLoader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${!i18n.awaitingInfo}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-blue" data-dojo-attach-point\x3d"_cancelJobBtn"\x3e${i18n.cancelJob}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/AppendData/templates/_table-row.html":'\x3cdiv class\x3d"table-select-row" role\x3d"row"\x3e\r\n    \x3c!-- Field Name --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-field text-ellipsis"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width display-block"\x3e${displayName}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n    \x3c!-- Match Field --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-matchField text-ellipsis" data-dojo-attach-point\x3d"matchFieldsContainer"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width" data-dojo-attach-point\x3d"matchFieldValue" data-value\x3d"__none"\x3e${!i18n.appendDataDlg.none}\x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"matchFields" class\x3d"leader-0 hide"\x3e\x3c/select\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/loader.html":'\x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 is-active"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${location}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/sharing/dijit/AppendData/templates/_appendData.html":'\x3cdiv\x3e\r\n    \x3csection class\x3d"padding-leader-half content-node append-data"\x3e\r\n\r\n            \x3c!--Step 1--\x3e\r\n            \x3cdiv class\x3d"step-1 hide" data-dojo-attach-point\x3d"step1"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1Title}\x3c/label\x3e\r\n                \x3cul class\x3d"trailer-half"\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet1}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet2}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet3}\x3c/li\x3e\r\n                    \x3cli data-dojo-attach-point\x3d"step1Bullet4"\x3e${i18n.appendDataDlg.messageStep1Bullet4}\x3c/li\x3e\r\n                \x3c/ul\x3e\r\n                \x3cform data-dojo-attach-point\x3d"fileForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n                    \x3clabel\x3e\r\n                        ${i18n.appendDataDlg.fileName}\r\n                        \x3cinput name\x3d"file" type\x3d"file" accept\x3d".zip, .csv, .xls, .xlsx, .geojson" data-dojo-attach-point\x3d"fileInput"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"zipSelect"\x3e\r\n                        ${i18n.appendDataDlg.contents}\r\n                        \x3cselect name\x3d"type" data-dojo-attach-point\x3d"supportedTypes" class\x3d"text-left"\x3e\x3c/select\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/form\x3e\r\n                \x3cp class\x3d"trailer-quarter"\x3e${i18n.appendDataDlg.note}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!--Step 2--\x3e\r\n            \x3cdiv class\x3d"step-2 padding-right-half hide" data-dojo-attach-point\x3d"step2"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${!i18n.appendDataDlg.messageStep2}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"serviceLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseServiceLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"serviceLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"dataLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"dataLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3c!-- Update Existing Features--\x3e\r\n                \x3cdiv class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesLbl}\x3c/div\x3e\r\n                \x3cp class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesMsg}\x3c/p\x3e\r\n                \x3clabel class\x3d"inline-block margin-right-half trailer-half align-middle updateFeatures js-updateFeatures js-attributesOnly"\x3e\r\n                    \x3cinput name\x3d"updateExistingFeatures" type\x3d"checkbox" data-dojo-attach-point\x3d"updateExistingFeatures"/\x3e\r\n                    ${i18n.appendDataDlg.updateExistingFeatures}\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"margin-left-1 updateFeatures js-updateFeatures-container js-updateFeatures"\x3e\r\n                    \x3c!-- UID field matching --\x3e\r\n                    \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.selectFields}\x3c/p\x3e\r\n                    \x3cdiv class\x3d"trailer-half"\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"fromField" class\x3d"margin-right-half inline-block"\x3e\x3c/select\x3e\r\n                        \x3cspan class\x3d"margin-right-half"\x3e${i18n.appendDataDlg.matchesTo}\x3c/span\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"toField" class\x3d"inline-block"\x3e\x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.skipInserts}\r\n                        \x3cinput name\x3d"skipInserts" type\x3d"checkbox" data-dojo-attach-point\x3d"skipInserts"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-updateGeometry js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.updateGeometryOnly}\r\n                        \x3cinput name\x3d"updateGeometry" type\x3d"checkbox" data-dojo-attach-point\x3d"updateGeometry"/\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Table View --\x3e\r\n                \x3cbutton class\x3d"btn-link trailer-half btn-fill" data-value\x3d"false" data-dojo-attach-point\x3d"showFieldMatchingLink"\x3e${i18n.appendDataDlg.showFieldMatching}\x3c/button\x3e\r\n                \x3cdiv class\x3d"js-table-wrap table-select trailer-half js-view hide" role\x3d"table" data-dojo-attach-point\x3d"fieldMatching"\x3e\r\n                    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\r\n                        \x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header is-ascending" aria-sort\x3d"ascending" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.fields}\x3c/button\x3e\x3c/span\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"matchField" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.matchField}\x3c/button\x3e\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Loader --\x3e\r\n            \x3cdiv class\x3d"hide analyze-loader-wrap js-analyze-loader-wrap"\x3e\x3c/div\x3e\r\n\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.chooseArchiveOption}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.chooseArchiveOption}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameScheme}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item stepper__radio-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForArchive}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"replace"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\r\n            \x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/span\r\n          \x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeSwapped}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsBothLayers}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForReplacement}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-replace_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- End radio --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-column"\x3e\r\n        \x3cdiv class\x3d"replace-lyr-preview-label flex flex-space-between"\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.replacementLayer}\x3c/span\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.currentLayer}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.archiveOption}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.chooseArchiveOption}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/img/Archive_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1,.cls-13{fill:none}.cls-1{stroke:#323232;stroke-miterlimit:10}.cls-1,.cls-13,.cls-14{stroke-linecap:round}.cls-2{fill:#323232}.cls-14,.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}.cls-13,.cls-14{stroke:#ff3636;stroke-linejoin:round}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M389.51 132.42c-7 0-14.06 4.57-19.41 13.84M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z" fill\x3d"#ff3636"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5zM198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M228.88 135.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM219.41 140.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM209.94 146l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM281.65 156.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM264.44 166.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM254.97 172l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM234.02 129.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM223.7 135.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM214.23 140.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM173.75 157.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM226.57 188.4l2.6 1.5 16.36-9.44-2.6-1.5-16.36 9.44zM229.86 157.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM244.49 149.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M222.59 169.2a3.88 3.88 0 011.86 2h10.31L219 162.18v5.95a9.28 9.28 0 013.59 1.07zM213.09 169.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"217.85" cy\x3d"171.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 217.85 171.934)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M213.12 174.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM224.45 172.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M350.67 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M350.33 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L294.75 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L406.25 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M320.2 143.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM295.25 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM344.61 186.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM344.45 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM399.69 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M319.5 171.9l19.92 11.5 19.79-11.43-19.92-11.5-19.79 11.43z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M321.07 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM295.25 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM345.48 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM346.18 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM400.56 155.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M338.55 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath fill\x3d"#ffe0e0" d\x3d"M229.17 189.9l-55.42-32 55.08-31.8 55.42 32-55.08 31.8z" opacity\x3d".5"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M232.93 150v-1.73a2.8 2.8 0 00-2.57-2.27h-3.29a2.8 2.8 0 00-2.57 2.27V150"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M235.47 170h-12.94l-2.35-20h17.64l-2.35 20z"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M219.5 149h19v4h-19z"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M223.6 155.6l1.2 12M227.2 155.6l.4 12M230.8 155.6l-.4 12M234.4 155.6l-1.2 12"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.65 87a29.18 29.18 0 011.35-8.41 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"archive-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3ctext class\x3d"archive-lyr-archive-svg" x\x3d"395" y\x3d"137" text-anchor\x3d"start"\x3e${i18n.replaceLayer.archivedSvg}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/img/Replace_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1{fill:none;stroke:#323232;stroke-linecap:round;stroke-miterlimit:10}.cls-2{fill:#323232}.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.68 85.94a30.38 30.38 0 011.32-7.35 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M137.07 82.96l-.68-.74-3.62 3.34-3.07-3.86-.78.63 3.73 4.7 4.42-4.07zM153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"replace-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceSceneLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.replaceSceneLayer.archive}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.replaceSceneLayer.archive}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.coordinateSystem}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.layerTypesShouldMatch}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3c!-- Radio \'checked\' needed for summary --\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n            class\x3d"hide"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-1"\x3e\x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replaceSceneLayer.archiveDetails}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.replaceSceneLayer.updateArchive}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n   \x3cdiv class\x3d"overwriteDialog"\x3e\r\n       \x3cp class\x3d"overwriteInfoText"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoText}\x3c/p\x3e\r\n       \x3cp class\x3d"overwriteInfoNote"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoNote}\x3c/p\x3e\r\n   \x3c/div\x3e \r\n   \x3c!-- Loader --\x3e\r\n   \x3cdiv class\x3d"loader loader-connectDataset is-active hide padding-leader-3 padding-trailer-3"\x3e\r\n     \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n     \x3cdiv class\x3d"loader-text"\x3e${i18n.overwriteFromCloudDlg.defaultLoading}\x3c/div\x3e\r\n   \x3c/div\x3e \r\n \x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultIssue.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUpdated.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUnchanged.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate.html":'\x3cdiv class\x3d"clearfix"\x3e\r\n  \x3cdiv class\x3d"leader-half font-size--1" data-dojo-attach-point\x3d"updateHttpsDesc"\x3e${i18n.itemProperties.updateLayersToHTTPSDesc}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"updateHttpsLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingLayersToHTTPS}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingLayersToHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide update-https-results" data-dojo-attach-point\x3d"updateHttpsResults"\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersWithIssues"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleIssues"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"text-red" data-dojo-attach-point\x3d"issuesTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"issues"\x3e\x3c!-- write out issues here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUpdated"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUpdated"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"updatedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"updated"\x3e\x3c!-- write out updated here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUnchanged"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUnchanged"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"unchangedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"unchanged"\x3e\x3c!-- write out unchanged here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"noChangesMade"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.noLayersToUpdateHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"unexpectedError"\x3e${i18n.itemProperties.errorUpdateHTTPS}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 inline-block esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"okBtn"\x3e${i18n.itemProperties.updateLayers}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"updateDomainDesc"\x3e${i18n.itemProperties.updateDomainDesc}\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"updateDomainContainer"\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-update-select"\x3e\r\n        ${i18n.common.find}\x3cbr\x3e\r\n        \x3cselect class\x3d"select-full" data-dojo-attach-point\x3d"domainSelect" id\x3d"domain-update-select"\x3e\x3c/select\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-replace-input"\x3e\r\n        ${i18n.common.replace}\x3cbr\x3e\r\n        \x3cinput id\x3d"domain-replace-input" data-dojo-attach-point\x3d"domainReplace"\x3e\r\n        \x3cdiv class\x3d"hide input-error-message" data-dojo-attach-point\x3d"domainReplaceError"\x3e\r\n          ${i18n.itemProperties.siteReferenceInvalid}\r\n        \x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"inline-block align-top"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear btn-small" data-dojo-attach-point\x3d"replaceDomainBtn" disabled\x3e${i18n.common.replace}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingDomains}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingDomains}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainFailure"\x3e\r\n    \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainFailureMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainSuccess"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainSuccessMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"layerDetailsContainer"\x3e\r\n    ${i18n.itemProperties.layersWithDomain}\r\n    \x3cdiv class\x3d"font-size--2" data-dojo-attach-point\x3d"layerDetails"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearfix leader-1 esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/Card.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap tooltip" aria-label\x3d"${selectItem}"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-card-select-check-mark" value\x3d"${item.id}" data-id\x3d"${item.id}" ${checked}\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${!item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-quarter flex"\x3e\r\n        \x3cspan class\x3d"js-layers-tables font-size--2"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray card-created" title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center leader-quarter"\x3e\r\n      \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis font-size--2 inline-block"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center flex-justify-end card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/OpenDropdown.html":'\x3cdiv class\x3d"display-block dropdown js-dropdown"\x3e\r\n  \x3cbutton class\x3d"card-action js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false" aria-label\x3d"${i18n.siteHeader.moreOptions}"\x3e\r\n    ${icons.ellipsis-f.16}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-menu-constrained dropdown-right" role\x3d"menu"\x3e\r\n    \x3c!-- Primary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"item.html?id\x3d${item.id}${telemetryParams:empty}" class\x3d"dropdown-link"\x3e${i18n.itemLinks.viewDetails}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-pdf js-action" data-action\x3d"download"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3cbutton role\x3d"menuitem" class\x3d"dropdown-link js-item-categorize if-allow-categorization"\x3e${i18n.items.categorize}\x3c/button\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-file if-download js-action" data-action\x3d"download"\x3e${i18n.itemLinks.download}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-explorer js-action" data-action\x3d"download"\x3e${i18n.itemLinks.openExplorer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadStyleUrl:empty}" class\x3d"dropdown-link if-resources"\x3e${i18n.itemLinks.downloadStyle}\x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-map-viewer-classic"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapNewViewerUrl:empty}" data-href\x3d"${item.mapNewViewerUrl:empty}" class\x3d"dropdown-link if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.addToNewViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemProperties.openViewerFullEditingRole}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"if-map-viewer-modern"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewerWithControl}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"if-geoBIM"\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.geoBIMUrl:empty}" class\x3d"dropdown-link if-create-GeoBIM"\x3e${i18n.itemLinks.openGeoBIM}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene if-3d"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.url:empty}" target\x3d"_blank" class\x3d"dropdown-link if-app"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-mobile"\x3e${i18n.itemLinks.getApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-link"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workforceViewerUrl:empty}" class\x3d"dropdown-link if-workforceProject-and-not-blocked"\x3e${i18n.itemLinks.openWorkforce}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workflowViewerUrl:empty}"  class\x3d"dropdown-link if-workflow"\x3e${i18n.itemLinks.openWorkflow}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyViewerUrl:empty}" class\x3d"dropdown-link if-surveyFormBrowser-and-not-blocked"\x3e${i18n.itemLinks.openSurveyBrowser}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyAppUrl:empty}" class\x3d"dropdown-link if-surveyForm-and-not-blocked"\x3e${i18n.itemLinks.openSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyManageUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.manageSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyEditUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.editSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.insightsViewerUrl:empty}" class\x3d"dropdown-link if-insights-and-not-blocked"\x3e${i18n.itemLinks.openInsights}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.urbanViewerUrl:empty}" class\x3d"dropdown-link if-urbanModel"\x3e${i18n.itemLinks.openUrbanModel}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.orthoMakerUrl:empty}" class\x3d"dropdown-link if-orthoMaker"\x3e${i18n.itemLinks.openOrthoMaker}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.missionViewerUrl:empty}" class\x3d"dropdown-link if-mission"\x3e${i18n.itemLinks.openMission}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.geoAIStudioUrl:empty}" class\x3d"dropdown-link if-geoAIStudioProject"\x3e${i18n.itemLinks.openGeoAIStudio}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubInitiativeUrl:empty}" class\x3d"dropdown-link if-hubInitiative-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubEventUrl:empty}" class\x3d"dropdown-link if-hubEvent-and-not-blocked"\x3e${i18n.itemLinks.viewInHub}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectEditUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.editHubProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotViewerUrl:empty}" class\x3d"dropdown-link if-bigDataAnalytic if-realTimeAnalytic"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotFeedUrl:empty}" class\x3d"dropdown-link if-feedLayer"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.vrExperienceUrl:empty}" class\x3d"dropdown-link if-vrExperience-and-not-blocked js-hide-portal"\x3e${i18n.itemLinks.openVRExperience}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.cityEngineViewerUrl:empty}" class\x3d"dropdown-link if-city-engine"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburViewerUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburProjectUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.viewExcaliburProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburMediaUrl:empty}" class\x3d"dropdown-link if-excaliburMedia"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-dashboard-and-not-blocked"\x3e${i18n.itemLinks.dashboardView}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardEditUrl:empty}" class\x3d"dropdown-link if-can-edit-dashboard"\x3e${i18n.itemLinks.dashboardEdit}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.fieldMapsUrl:empty}" class\x3d"dropdown-link if-fieldMaps"\x3e${i18n.itemLinks.fieldMaps}\x3c/a\x3e\r\n    \x3cdiv class\x3d"if-notebookServer-enabled"\x3e\r\n      \x3cspan class\x3d"if-can-create-notebooks"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.notebookViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-notebook"\x3e${i18n.itemLinks.openNotebook}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- Web Experience Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperience-and-not-blocked" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperience"\x3e${i18n.common.edit}\x3c/a\x3e\r\n\r\n    \x3c!-- Web Experience Template Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperienceTemplate-and-not-blocked"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperienceTemplate"\x3e${i18n.common.edit}\x3c/a\x3e\r\n    \x3cspan class\x3d"if-published-webExperienceTemplate-and-not-blocked"\x3e\r\n      \x3ca href\x3d"${item.webExperienceCreateUrl:empty}" class\x3d"dropdown-link if-can-create-webExperienceTemplate if-published-webExperienceTemplate-and-not-blocked if-no-public-user js-open-btn"\x3e${i18n.itemLinks.createWebExperience}\x3c/a\x3e\r\n    \x3c/span\x3e\r\n\r\n    \x3c!-- Secondary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.wabEditUrl:empty}" class\x3d"dropdown-link if-can-edit-wab-and-not-blocked"\x3e${i18n.itemLinks.editApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene-2"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openDesktop}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openArcMap}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-pro if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"pro"\x3e${i18n.itemLinks.openPro}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-no-presentation if-map"\x3e${i18n.siteHeader.createPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openPresentationUrl:empty}" class\x3d"dropdown-link if-presentation"\x3e${i18n.siteHeader.viewPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-create-presentation"\x3e${i18n.siteHeader.editPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureUrl:empty}" class\x3d"dropdown-link if-can-configure"\x3e${i18n.itemProperties.configureApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.viewStyleUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-vectorTile if-viewStyle"\x3e${i18n.itemLinks.viewStyle}\x3c/a\x3e\r\n\r\n    \x3c!-- Storymap Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureStoryMapUrl:empty}" class\x3d"dropdown-link if-editable-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.editStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.editStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.storyMapViewerUrl:empty}" class\x3d"dropdown-link if-published-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.viewStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.viewStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-published-storymap-theme"\x3e\r\n      \x3ca\r\n        class\x3d"dropdown-link"\r\n        href\x3d"${item.newStoryMapFromThemeUrl:empty}"\r\n      \x3e\r\n        ${i18n.itemLinks.newStoryFromTheme}\r\n      \x3c/a\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.newStoryMapCollectionFromThemeUrl:empty}" class\x3d"dropdown-link"\x3e\r\n        ${i18n.itemLinks.newCollectionFromTheme}\r\n      \x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3ca\r\n      href\x3d"${item.configureStoryMapThemeUrl:empty}"\r\n      class\x3d"dropdown-link if-editable-storymap-theme"\r\n    \x3e\r\n      ${i18n.itemLinks.editStorymapTheme}\r\n    \x3c/a\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/OrgPopup/OrgPopup.html":'\x3cdiv\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"hide popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"profile-popup__loader loader"\x3e\r\n    \x3cdiv class\x3d"profile-popup__loader-bars loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-left" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"profile-popup__top-section flex flex-align-center"\x3e\r\n      \x3cimg src\x3d"${item.verified.thumbnail}" class\x3d"profile-popup__org-thumbnail margin-right-1"\x3e\r\n      \x3cdiv class\x3d"flex-1 font-size-1 avenir-demi"\x3e\r\n        ${item.verified.name}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"profile-popup__org-bottom" data-dojo-attach-point\x3d"bottomSection"\x3e\r\n      \x3cdiv class\x3d"profile-popup__bio-container" data-dojo-attach-point\x3d"descContainer"\x3e\r\n        \x3cp class\x3d"profile-popup__bio-section trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n        \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-popup__more-toggle" data-dojo-attach-point\x3d"descToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3ca href\x3d"${item.verified.url}"  target\x3d"_blank"\x3e${i18n.myOrganization.homeTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n        \x3ca href\x3d"${item.verified.url}gallery.html"  target\x3d"_blank" class\x3d"margin-left-1"\x3e${i18n.myOrganization.galleryTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryListViewCard.html":'\x3cdiv class\x3d"card ${selectCardClass} ${selectedClass} ${removedClass} card-wide trailer-1 js-category-card category-card" data-item-id\x3d"${item.id}"\x3e\r\n  \x3cspan class\x3d"category-card-image flex-0 panel panel-no-border tablet-hide"\x3e\r\n    \x3cimg class\x3d"card-image--static card-image--contained js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"${item.title}"\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"flex-1 padding-leader-half padding-trailer-half padding-left-1 padding-right-1"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3ch4 class\x3d"trailer-0 font-size-0"\x3e${item.title}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-quarter flex"\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"text-ellipsis flex-1" data-owner\x3d"${item.owner}"\x3e${item.owner}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-half"\x3e${item.snippet}\x26nbsp;\x3c/p\x3e\r\n    \x3cdiv class\x3d"font-size--1 js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryView.html":'\x3cdiv class\x3d"full-height"\x3e\r\n  \x3cdiv class\x3d"grid-container full-height"\x3e\r\n    \x3cdiv class\x3d"column-7 tablet-column-6 full-height padding-leader-1 padding-trailer-1"\x3e\r\n      \x3cdiv\r\n        class\x3d"panel panel-white padding-left-half padding-right-half padding-top-half padding-bottom-half category-tree-full-height"\r\n      \x3e\r\n        \x3cul\r\n          class\x3d"category-editor-group category-editor-group--fixed-height js-category-group js-category-root"\r\n          role\x3d"tree"\r\n        \x3e\x3c/ul\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-17 tablet-column-6 full-height phone-hide"\x3e\r\n      \x3cdiv class\x3d"js-item-wrapper margin-left-1 category-list-items full-height"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/Category.html":'\x3cli class\x3d"category-editor-item category-view-item" role\x3d"treeitem"\x3e\r\n  \x3clabel class\x3d"category-view-checkbox flex"\x3e\r\n    \x3cspan class\x3d"category-view-checkbox-input-wrap flex-0"\x3e\r\n      \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-category-select-checkbox" value\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"checkbox-custom"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan class\x3d"category-editor-name js-name category-editor-name--draggable" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"category-view-path"\x3e${path}\x3c/span\x3e\x3cspan class\x3d"category-view-name"\x3e${title}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  ${children}\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryGroup.html":'\x3cul class\x3d"category-editor-group category-view-group js-category-group js-category-root" role\x3d"tree"\x3e\r\n  ${categories}\r\n\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryView/templates/_undo.html":'\x3cnav class\x3d"leader-quarter right margin-right-1"\x3e\r\n  \x3cbutton class\x3d"js-undo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.undo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M20 9v6a4.004 4.004 0 0 1-4 4H2.5v-2H16a2.002 2.002 0 0 0 2-2V9a2.002 2.002 0 0 0-2-2H3.914l3.182 3.181-1.414 1.414L.086 6 5.682.405l1.414 1.414L3.914 5H16a4.004 4.004 0 0 1 4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cbutton class\x3d"js-redo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.redo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M0 9v6a4.004 4.004 0 0 0 4 4h13.5v-2H4a2.002 2.002 0 0 1-2-2V9a2.002 2.002 0 0 1 2-2h12.086l-3.182 3.181 1.414 1.414L19.914 6 14.318.405l-1.414 1.414L16.086 5H4a4.004 4.004 0 0 0-4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/nav\x3e',
"url:arcgisonline/pages/content/widgets/templates/_empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noItemsYet}\x3c/h3\x3e\r\n  \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${message}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/gallery/widgets/templates/_empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noContentAvailable}\x3c/h3\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterSingle.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca role\x3d"option" aria-selected\x3d"false" href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/ClearAll.html":'\x3cbutton class\x3d"js-clear-filter btn-link btn-link-off-black font-size--3 right ${hide}" data-filter-param\x3d"${param}"\x3e${i18n.groupSelector.clear}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/FilterDate/templates/FilterDate.html":'\x3cul class\x3d"filter-tree"\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"today"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.today}" data-value\x3d"today"\x3e${i18n.filters.today}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"yesterday"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.yesterday}" data-value\x3d"yesterday"\x3e${i18n.filters.yesterday}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last7Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last7Days}" data-value\x3d"last7Days"\x3e${i18n.filters.last7Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last30Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last30Days}" data-value\x3d"last30Days"\x3e${i18n.filters.last30Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item hide" data-dojo-attach-point\x3d"_neverOption" data-value\x3d"never"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.never}" data-value\x3d"never"\x3e${i18n.filters.never}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"custom"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.customRange}" data-value\x3d"custom"\x3e${i18n.filters.customRange}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-custom-date-select hide font-size--3 margin-left-1 margin-right-0"\x3e\r\n      \x3clabel class\x3d"trailer-quarter" for\x3d"${uid}-start"\x3e\r\n        ${i18n.filters.from}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-start" data-dojo-attach-point\x3d"customStart" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customStartError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-0" for\x3d"${uid}-end"\x3e\r\n        ${i18n.filters.to}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-end" data-dojo-attach-point\x3d"customEnd" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customEndError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterItemType/templates/FilterItemType.html":'\x3cul class\x3d"filter-tree" role\x3d"tree" aria-label\x3d"${i18n.filters.filterByItemType}"\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps" data-label\x3d"Maps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps"\x3eMaps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-webmaps" data-label\x3d"Web maps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-webmaps"\x3eWeb maps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"maps-mapfiles" data-label\x3d"Map files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"maps-mapfiles"\x3eMap files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers" data-label\x3d"Layers"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers"\x3eLayers\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-features" data-label\x3d"Feature layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-features"\x3eFeature layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiles" data-label\x3d"Tile layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiles"\x3eTile layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-mapimage" data-label\x3d"Map image layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-mapimage"\x3eMap image layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-imagery" data-label\x3d"Imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-imagery"\x3eImagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-scenelayers" data-label\x3d"Scene layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-scenelayers"\x3eScene layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item hide" data-value\x3d"layers-weblayers-videolayers" data-label\x3d"Video layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-videolayers"\x3eVideo layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tiledimagelayers" data-label\x3d"Tiled imagery layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tiledimagelayers"\x3eTiled imagery layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-elevationlayers" data-label\x3d"Elevation layers" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-elevationlayers"\x3eElevation layers\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-weblayers-tables" data-label\x3d"Tables" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-weblayers-tables"\x3eTables\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"layers-layerfiles" data-label\x3d"Layer files" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"layers-layerfiles"\x3eLayer files\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"scenes" data-label\x3d"Scenes" role\x3d"treeitem"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"scenes"\x3eScenes\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications" data-label\x3d"Apps"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications"\x3eApps\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-dashboards" data-label\x3d"Dashboards" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-dashboards"\x3eDashboards\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-experience" data-label\x3d"Experience Builder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-experience"\x3eExperience Builder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-instant-apps" data-label\x3d"Instant Apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-instant-apps"\x3eInstant Apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-sites" data-label\x3d"Sites" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-sites"\x3eSites\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-type-storymap js-filter-public" data-value\x3d"applications-storymap" data-label\x3d"Storymaps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-storymap"\x3eStorymaps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public" data-value\x3d"applications-wab" data-label\x3d"Web AppBuilder" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-wab"\x3eWeb AppBuilder\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-apps" data-label\x3d"GeoBIM applications" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-apps"\x3eGeoBIM applications\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-filter-public js-geobim hide" data-value\x3d"applications-geobim-projects" data-label\x3d"GeoBIM projects" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-geobim-projects"\x3eGeoBIM projects\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-desktop" data-label\x3d"Desktop apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-desktop"\x3eDesktop apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-mobile" data-label\x3d"Mobile apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-mobile"\x3eMobile apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"applications-web" data-label\x3d"Web apps" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"applications-web"\x3eWeb apps\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cdiv class\x3d"margin-left-1 margin-right-0 trailer-quarter"\x3e\r\n        \x3chr class\x3d"leader-quarter trailer-0"\x3e\r\n        \x3clabel class\x3d"toggle-switch clearfix leader-half"\x3e\r\n          \x3cspan class\x3d"toggle-switch-label left font-size--2"\x3e${i18n.filters.onlyRegistered}\x3c/span\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"toggle-switch-input js-registered-only"\x3e\r\n          \x3cspan class\x3d"toggle-switch-track right"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools" data-label\x3d"Tools"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools"\x3eTools\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-locators" data-label\x3d"Locators" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-locators"\x3eLocators\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geodatabase" data-label\x3d"Geodatabase access" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geodatabase"\x3eGeodatabase access\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geometric" data-label\x3d"Geometric operations" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geometric"\x3eGeometric operations\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-geoprocessing" data-label\x3d"Geoprocessing tasks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-geoprocessing"\x3eGeoprocessing tasks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-network" data-label\x3d"Network analysis" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-network"\x3eNetwork analysis\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"tools-analytics" data-label\x3d"Analytics" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"tools-analytics"\x3eAnalytics\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files" data-label\x3d"Files"\x3e\r\n    \x3cbutton role\x3d"treeitem" aria-expanded\x3d"false" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files"\x3eFiles\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-document" data-label\x3d"Documents" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-document"\x3eDocuments\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-image" data-label\x3d"Images" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-image"\x3eImages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-pdf" data-label\x3d"PDFs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-pdf"\x3ePDFs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-csv" data-label\x3d"CSVs" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-csv"\x3eCSVs\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-report" data-label\x3d"Administrative reports" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-report"\x3eAdministrative reports\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"files-raster" data-label\x3d"Raster function templates" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"files-raster"\x3eRaster function templates\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights" data-label\x3d"Insights"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights"\x3eInsights\x3c/button\x3e\r\n    \x3cul class\x3d"filter-tree" role\x3d"group"\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-workbooks" data-label\x3d"Workbooks" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-workbooks"\x3eWorkbooks\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-pages" data-label\x3d"Pages" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-pages"\x3ePages\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-models" data-label\x3d"Models" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-models"\x3eModels\x3c/button\x3e\r\n      \x3c/li\x3e\r\n      \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item" data-value\x3d"insights-themes" data-label\x3d"Themes" role\x3d"treeitem"\x3e\r\n        \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"insights-themes"\x3eThemes\x3c/button\x3e\r\n      \x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-notebookServer-enabled" data-value\x3d"notebooks" data-label\x3d"Notebooks"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"notebooks"\x3eNotebooks\x3c/button\x3e\r\n  \x3c/li\x3e\r\n  \x3cdiv class\x3d"if-bulk-publishing-enabled"\x3e\r\n    \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item if-on-premise" data-value\x3d"data-stores" data-label\x3d"Data stores"\x3e\r\n      \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"data-stores"\x3eData stores\x3c/button\x3e\r\n    \x3c/li\x3e\r\n  \x3c/div\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-tree-item js-knowledge-graph-item hide" data-value\x3d"knowledgeGraphs" data-label\x3d"Knowledge Graphs"\x3e\r\n    \x3cbutton role\x3d"treeitem" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"knowledgeGraphs"\x3eKnowledge graphs\x3c/button\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategory.html":'\x3cdiv\x3e\r\n  \x3c!-- if categories exist --\x3e\r\n  \x3cdiv class\x3d"js-category-filter hide"\x3e\r\n    \x3cul class\x3d"filter-tree js-uncategorized" role\x3d"tree"\x3e\x3c/ul\x3e\r\n    \x3cul class\x3d"filter-tree js-category-root position-relative" role\x3d"tree"\x3e\x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- if no categories but user is able to set up --\x3e\r\n  \x3cdiv class\x3d"padding-left-1 padding-right-1 js-no-categories-action hide"\x3e\r\n    \x3ch5 class\x3d"font-size-0 avenir-regular leader-half trailer-quarter"\x3e${noCategoriesText}\x3c/h5\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half"\x3e${filterDescription}\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small btn-wrap btn-clear trailer-half js-setup-categories"\x3e${setupText}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Category.html":'\x3cli class\x3d"js-filter-tree-item filter-tree-item-single filter-tree-item ${isActive} ${isParent}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${title}" class\x3d"filter-tree-link js-filter-tree-link" data-category-name\x3d"${title}" data-category-path\x3d"${path}" data-category-description\x3d"${description}"\x3e\r\n    ${title}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"${normalizedPath}"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Uncategorized.html":'\x3cli class\x3d"js-filter-tree-item-uncategorized filter-tree-item-single filter-tree-item"\x3e\r\n  \x3ca href\x3d"#" class\x3d"js-filter-tree-link-uncategorized filter-tree-link"\x3e\r\n    ${i18n.contentCategories.uncategorized}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"_none_"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/FilterCategory/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"group"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/FilterCategory/templates/EditSchemaButton.html":'\x3cbutton class\x3d"js-edit-categories btn-link btn-link-off-black margin-left-1 font-size--3 inline-block tooltip hide" aria-label\x3d"${contentCategoriesStrings.configureCategories}"\x3e${icons.edit.16}\r\n\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/CategoryEdit/templates/CategoryEdit.html":'\x3cdiv class\x3d"grid-container"\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-content-loading is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-category-wrapper hide"\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-setup-explanation hide"\x3e\r\n      \x3cnav class\x3d"category-setup-options js-standard-categories-nav"\x3e\r\n        \x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option is-active" data-category-set\x3d"custom"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.contentCategories.customTitle}\x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--3 trailer-0"\x3e${i18n.contentCategories.customText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-14 pre-1 post-1 leader-1 trailer-1"\x3e\r\n      \x3cdiv class\x3d"js-category-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-edit-explanation"\x3e\r\n      \x3cp\x3e${i18n.contentCategories.editCategorySchemaExplanation}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Node.html":'\x3cli class\x3d"category-editor-item category-editor-item__offset ${isOpen} ${isParent} js-category-edit-li" role\x3d"treeitem" data-category-path\x3d"${path}"\x3e\r\n  \x3cbutton class\x3d"category-editor-expand category-edit-expand__absolute js-toggle-item"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n      \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n      \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n      \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cspan class\x3d"category-edit-item js-category-edit-item" data-current-category\x3d"${title}"\x3e\r\n    \x3cspan class\x3d"category-edit-item--title js-category-edit-title"\x3e${title} \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path:lowerCase}"\x3e\x3c/span\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"category-edit-item--actions js-category-edit-actions inline-block right if-renameDeleteFromSchema"\x3e\r\n      \x3cbutton class\x3d"tooltip category-edit-item--action js-category-edit-button" aria-label\x3d"${i18n.contentCategories.editCategory}"\x3e\r\n        ${icons.edit.16}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"tooltip tooltip-bottom-right category-edit-item--action category-edit-item--action--delete js-category-delete-button" aria-label\x3d"${i18n.contentCategories.deleteCategory}"\x3e\r\n        ${icons.trash.16}\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3cform class\x3d"category-edit-form flex js-category-edit-form"\x3e\r\n      \x3clabel class\x3d"flex-1 overflow-visible trailer-0" for\x3d"category-editor-${title:hyphenate}-input"\x3e\r\n        \x3cspan class\x3d"screen-readers-only"\x3e${i18n.contentCategories.categoryName}\x3c/span\x3e\r\n        \x3cinput id\x3d"category-editor-${title:hyphenate}-input" type\x3d"text" value\x3d"${title}" class\x3d"js-category-item-input category-edit-form__input"\x3e\r\n        \x3cdiv class\x3d"js-category-item-input-error input-error-message"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cspan class\x3d"category-edit-form__actions"\x3e\r\n        \x3cbutton class\x3d"js-category-edit-submit tooltip tooltip-bottom btn-link category-edit-form__action category-edit-form__action--green" type\x3d"submit" disabled aria-label\x3d"${saveText}"\x3e${icons.check.24}\x3c/button\x3e\r\n        \x3cbutton class\x3d"js-category-cancel-edit tooltip tooltip-bottom btn-link category-edit-form__action" aria-label\x3d"${i18n.common.cancel}"\x3e${icons.x.24}\x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/form\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"category-edit--delete-warning category-edit--messaging js-category-edit-delete-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-explanation font-size--1 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-red btn-small js-delete-confirm"\x3e${i18n.contentCategories.deleteCategory}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-delete"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--edit-warning category-edit--messaging js-category-edit-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-0"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-edit-explanation font-size--2 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small js-edit-confirm"\x3e${i18n.contentCategories.continue}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-edit calcite-web-btn calcite-web-btn-clear"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--loader category-edit--messaging js-category-loader hide"\x3e\r\n    \x3ch4 class\x3d"trailer-half font-size-1"\x3e${i18n.contentCategories.updating}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.contentCategories.noNavigate}\x3c/p\x3e\r\n    \x3cdiv class\x3d"progress-bar leader-1 margin-left-0"\x3e\r\n      \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-category-loader-bar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"js-loading-message font-size--2 leader-half padding-left-1 text-right"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Group.html":'\x3cul role\x3d"group" class\x3d"category-editor-group category-editor-group--spaced js-category-group"\x3e\r\n  ${categories}\r\n  \x3cbutton class\x3d"js-add-sibling category-editor-add-sibling tooltip tooltip-right" aria-label\x3d"${ariaText}" data-category-path\x3d"${path}"\x3e\r\n    \x3csvg class\x3d"category-editor-add-sibling-icon" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"20" height\x3d"20" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath fill\x3d"#828282" d\x3d"M12 8.57H8.572V12H7.429V8.57H4V7.428h3.429V4h1.144v3.428H12V8.57z"/\x3e\r\n      \x3ccircle fill\x3d"none" stroke\x3d"#828282" stroke-miterlimit\x3d"10" stroke-dasharray\x3d"1.9519,0.9759" cx\x3d"8" cy\x3d"8" r\x3d"7"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/ul\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/_count.html":'\x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path}"\x3e(${num})\x3c/span\x3e',"url:arcgisonline/pages/dijit/CategoryEdit/templates/_standard.html":'\x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option" data-category-set\x3d"${key}"\x3e\r\n  \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e\r\n    ${title}\r\n    \x3ca href\x3d"${helpBase}${helpLink}" aria-label\x3d"${i18n.addItemFrm.learnMore}" class\x3d"tooltip right" target\x3d"_blank"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M11.5 1A10.5 10.5 0 1 0 22 11.5 10.499 10.499 0 0 0 11.5 1zm0 20.1a9.6 9.6 0 1 1 9.6-9.6 9.61 9.61 0 0 1-9.6 9.6zM13 18h-3v-1h1V8h1v9h1zM11.5 6.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM12 9h-2V8h2z"/\x3e\x3c/svg\x3e\r\n    \x3c/a\x3e\r\n  \x3c/h4\x3e\r\n  \x3cp class\x3d"font-size--3 trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterTags/templates/FilterTags.html":'\x3cdiv\x3e\r\n  \x3cinput type\x3d"search" class\x3d"js-tag-search filters--accordion--input" placeholder\x3d"${i18n.filters.filterTags}" aria-label\x3d"${i18n.filters.filterTags}" aria-controls\x3d"tagsList"\x3e\r\n  \x3cul class\x3d"js-tags-list filter-tree filter max-height max-height--short" role\x3d"listbox" aria-multiselectable\x3d"true" aria-label\x3d"${i18n.filters.filterByTag}" id\x3d"tagsList" tabindex\x3d"0"\x3e\x3c/ul\x3e\r\n  \x3cdiv class\x3d"hide js-no-tags font-size--2 padding-left-1 padding-right-1 padding-trailer-1"\x3e${!i18n.filters.noTagsFound}\x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterTags/templates/Option.html":'\x3cli class\x3d"filter-tree-item js-filter-tree-item ${isActive}" data-value\x3d"${value}" role\x3d"option" ${selected}\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link filter-tree-link--multiple js-filter-tree-link ${isActive}" data-value\x3d"${value}"\x3e${icons.inline.check.16}${value}\x3cspan class\x3d"filter-tree-count margin-left-quarter inline-block no-pointer hide"\x3e${countLabel}\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterBBox/FilterBBox.html":'\x3cdiv  style\x3d"width: 100%" class\x3d"js-filter-bbox" id\x3d"filterBBox"\x3e\x3c/div\x3e  \r\n',"url:arcgisonline/pages/dijit/SearchInput/SearchInput.html":'\x3cdiv class\x3d"full-width position-relative"\x3e\r\n  \x3cinput type\x3d"search" placeholder\x3d"${placeholder}" aria-label\x3d"${placeholder}" class\x3d"flex-1 input-minimal search-input ${cssTheme}" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray search-input__clear-btn hide" data-dojo-attach-point\x3d"clearBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/members/SearchDropdown.html":'\x3cdiv class\x3d"control-bar__action js-dropdown control-bar--search-dropdown"\x3e\r\n    \x3cbutton class\x3d"control-bar__btn js-toggle-search-dropdown js-dropdown-toggle" aria-label\x3d"${i18n.myOrganization.membersTab.searchMembersBy}" aria-controls\x3d"sortmenu" data-dojo-attach-point\x3d"_toggleLink" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n        \x3cspan class\x3d"control-bar__btn-text js-search-label" data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"control-bar__dropdown-menu dropdown-menu js-control-bar-search-dropdown" role\x3d"menu" id\x3d"searchmenu" aria-labelledby\x3d"searchmenutitle"\x3e\r\n        \x3ch3 class\x3d"control-bar__dropdown-menu__title" id\x3d"searchmenutitle"\x3e\r\n            ${i18n.myOrganization.membersTab.searchMembersBy}\r\n            \x3cbutton class\x3d"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n                ${!icons.x.24}\r\n            \x3c/button\x3e\r\n        \x3c/h3\x3e\r\n        \x3cnav class\x3d"js-search-options"\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item is-active"  role\x3d"menuitem" data-property\x3d"fullname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"username"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.username}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"firstname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.firstName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"lastname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.lastName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n        \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/ControlBar.html":'\x3cdiv class\x3d"control-bar ${hideActionClass} ${hideRightClass} ${marginClass} ${positionAbsoluteClass}"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3cdiv class\x3d"js-control-bar-actions control-bar__section control-bar__section--left flex flex-center flex-0"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__search ${searchActionClass} flex-1 flex js-control-bar-search-wrap"\x3e\r\n        \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search-dropdown js-control-bar-search-dropdown hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search__error input-error-message js-control-bar-search-error"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__section control-bar__section--right flex flex-center js-control-bar-right-section"\x3e\r\n        \x3cdiv class\x3d"js-control-bar-view-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-sort-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-filter-toggle ${hideFilterClass}"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn ${filterActiveClass} js-toggle-filters" aria-controls\x3d"view-filters-wrap"\x3e\r\n            ${!icons.inline.sliders.16}\x3cspan class\x3d"control-bar__btn-text"\x3e${i18n.controlBar.filter}\x3c/span\x3e\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-refresh control-bar__refresh hide"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/Filters.html":'\x3cdiv class\x3d"view--filters js-filters-mobile-wrap" id\x3d"view-filters-wrap"\x3e\r\n  \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"view--filters--wrap flex-column"\x3e\r\n    \x3cdiv class\x3d"view--filters--header clearfix flex-0"\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-1"\x3e\r\n        ${i18n.controlBar.filter}\r\n        \x3cbutton class\x3d"js-collapse-filters-button control-bar__dropdown-menu__close control-bar__dropdown-menu__close--flush control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n          ${icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filters-insert flex-1 view--filters--content leader-quarter"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"view--filters--footer flex-0"\x3e\r\n      \x3cbutton class\x3d"btn display-block margin-auto js-collapse-filters-button js-view-filter-results-button"\x3e${i18n.controlBar.viewResults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterStatus.html":'\x3cdiv class\x3d"padding-left-1 inline-block flex-1 filter-chip-wrap hide" data-dojo-attach-point\x3d"filterChipWrap"\x3e\r\n    \x3cspan class\x3d"font-size--2 margin-right-half filter-chips-label"\x3e${i18n.GroupWidget.filters}\x3c/span\x3e\r\n    \x3cspan class\x3d"margin-right-half break-word filter-chips" data-dojo-attach-point\x3d"filterChips"\x3e\x3c/span\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-off-black font-size--2 filter-clear-all" data-dojo-attach-point\x3d"clearAll"\x3e${i18n.GroupWidget.clearAll}\x3c/a\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterChip.html":'\x3cspan class\x3d"filter-chip margin-right-half js-filter-chip" data-filter\x3d"${filter.param}" data-value\x3d"${selected.value}"\x3e\r\n  \x3cspan class\x3d"filter-chip-text"\x3e${filter.chipText} ${selected.label}\x3c/span\x3e\r\n  \x3cbutton\r\n    class\x3d"filter-chip--remove js-filter-chip-remove"\r\n    data-filter\x3d"${filter.param}"\r\n    data-value\x3d"${selected.value}"\r\n    aria-label\x3d"${i18n.FilterDlg.removeFilterBtn}: \'${filter.chipText} ${selected.simpleLabel}\'"\r\n  \x3e${icons.x.16}\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/CardGallery/CardGallery.html":'\x3cdiv class\x3d"card ${selectCardClass} ${selectedClass} ${removedClass} card--paper-theme block trailer-1 gallery-fade-in-animation"\x3e\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer image-is-loading" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link card--paper-theme__title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"card-last card-snippet"\x3e${item.snippet}\x3c/p\x3e\r\n      \x3cspan class\x3d"right inline-block card-actions sort-option-and-value hide-for-laptop-and-above"\x3e${_sortTitle}\x3cstrong\x3e ${_sortValue}\x3c/strong\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar clearfix"\x3e\r\n      \x3cdiv class\x3d"left inline-block"\x3e${!item.badges}\x3c/div\x3e\r\n      \x3cdiv class\x3d"right inline-block flex-0 flex flex-center card-actions"\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CardGalleryWide/CardGalleryWide.html":'\x3cdiv class\x3d"block card ${selectCardClass} ${selectedClass} ${removedClass} card--paper-theme card-wide trailer-1 gallery-fade-in-animation"\x3e\r\n  \x3ca class\x3d"card-wide-image-wrap card-wide-image-wrap--static js-default-open" href\x3d"${item.defaultOpenUrl:empty}" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 text-center thumbnail-icon"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image--static js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding card-content--static"\x3e\r\n    \x3cdiv class\x3d"padding-left-half padding-right-half padding-leader-half padding-trailer-half card-last"\x3e\r\n      \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3ca class\x3d"card-title-link card--paper-theme__title-link js-card-title-link" href\x3d"item.html?id\x3d${item.id}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half flex"\x3e\r\n        \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n        ${!item.ownerText}\r\n        \x3cspan class\x3d"right inline-block card-actions ${hideDateModified}"\x3e${i18n.filters.modified}\x3cstrong\x3e ${item.modified:fullDate}\x3c/strong\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"right inline-block card-actions ${hideNumViews}"\x3e${i18n.searchPage.Views}:\x3cstrong\x3e ${item.numViews:formatNumViews}\x3c/strong\x3e\x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-quarter card-snippet js-folded-item-snippet"\x3e\r\n        \x3cp class\x3d"font-size--1"\x3e${item.snippet}\x26nbsp;\x3c/p\x3e\r\n        \x3cp class\x3d"card-description-block js-card-description"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cbutton class\x3d"btn-link js-read-more-link ${hideReadMore}"\x3e${i18n.gallery.readMore} \x3c/button\x3e\r\n      \x3cdiv class\x3d"js-more-item-details hide"\x3e\r\n        \x3cspan class\x3d"margin-right-1"\x3e\x3cbutton class\x3d"btn-link js-read-less-link"\x3e ${i18n.gallery.readLess} \x3c/button\x3e\x3c/span\x3e\r\n        \x3ca href\x3d"item.html?id\x3d${item.id}"\x3e${i18n.itemLinks.viewDetails}${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar clearfix"\x3e\r\n      \x3cdiv class\x3d"left inline-block"\x3e${!item.badges}\x3c/div\x3e\r\n      \x3cdiv class\x3d"right inline-block flex-0 flex flex-center card-actions"\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container dropdown-up inline-block"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/MinimalCard.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}" tabindex\x3d"0"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center" tabindex\x3d"0"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3ca data-dojo-attach-point\x3d"thumbLink" href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size-0 leader-quarter trailer-quarter text-ellipsis avenir-bold"\x3e\x3ca data-dojo-attach-point\x3d"titleLink" class\x3d"card-title-link minimal-card__title-link display-block text-ellipsis" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2"\x3e${item.displayName:formatDisplayName}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CardMobile/CardMobile.html":'\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"js-card block card card-mobile trailer-half" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size-1"\x3e${item.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half flex"\x3e\r\n      \x3cspan class\x3d"flex-0"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cspan class\x3d"left inline-block margin-right-1 margin-left-0 font-size--3 text-darker-gray"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 16 16" width\x3d"16" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n          \x3cpath fill\x3d"currentColor" d\x3d"M8 7h3v1H7V3h1zm4.803 5.803a7.5 7.5 0 1 1 0-10.606 7.5 7.5 0 0 1 0 10.606zm-.636-9.97A6.591 6.591 0 0 0 .927 7H2v1H.927A6.567 6.567 0 0 0 7 14.073v-1.38h1v1.38a6.591 6.591 0 0 0 4.167-11.24z"/\x3e\r\n        \x3c/svg\x3e\r\n        ${item.modified:fullDate}\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"right inline-block card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/CardWide/CardWide.html":'\x3cdiv\r\n  class\x3d"js-card block card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} card-wide trailer-1"\r\n  data-id\x3d"${item.id}"\r\n\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap"\x3e\r\n    \x3cinput\r\n      type\x3d"checkbox"\r\n      class\x3d"checkbox-custom-input js-card-select-check-mark"\r\n      value\x3d"${item.id}"\r\n      aria-label\x3d"${selectItem}"\r\n      data-id\x3d"${item.id}"\r\n      ${checked}\r\n    /\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\r\n        \x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z" /\x3e\r\n      \x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\r\n        \x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z" /\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  \x3ca\r\n    class\x3d"card-wide-image-wrap card-wide-image-wrap--static js-default-open"\r\n    href\x3d"${item.defaultOpenUrl:empty}"\r\n    aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\r\n  \x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 text-center thumbnail-icon"\r\n        \x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\r\n      \x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image--static js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"" /\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding card-content--static"\x3e\r\n    \x3cdiv class\x3d"padding-left-half padding-right-half padding-leader-half card-last"\x3e\r\n      \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\r\n        \x3ca class\x3d"card-title-link js-card-title-link" href\x3d"item.html?id\x3d${item.id}"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/h4\x3e\r\n      \x3cdiv class\x3d"js-layers-tables font-size--2"\x3e\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half flex ${hasSublayers:show}"\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half leader-quarter"\x3e${item.snippet}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-half leader-quarter text-darker-gray"\x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1 card-created"\r\n          title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\r\n          \x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1"\r\n          title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\r\n          \x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan class\x3d"inline-block margin-right-1"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"js-sublayers"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 card-badges js-card-badges trailer-half"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center clearfix"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TableRow/templates/TableRow.html":'\x3cdiv class\x3d"table-select-row ${activeRow} ${removedRow}" role\x3d"row"\x3e\r\n  \x3clabel class\x3d"table-select-cell table-select-checkbox ${selectClass}" role\x3d"cell"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"js-table-select-checkbox" aria-label\x3d"${i18n.GroupWidget.selectItem}" ${checked}\x3e\r\n  \x3c/label\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-extra-wide" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-title flex flex-1"\x3e\r\n        \x3ca href\x3d"./item.html?id\x3d${item.id}" class\x3d"flex-1 overflow-hidden"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"padding-left-half padding-right-half table-select-item-type full-width"\x3e\r\n        \x3cspan class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"js-layers-tables"\x3e\x3c/span\x3e\r\n          \x3cspan class\x3d"js-layers-tables-toggle display-block text-ellipsis" title\x3d"${item.displayName:formatDisplayName}"\x3e\r\n            \x3cimg src\x3d"${item.svgIconUrl16}" width\x3d"16" height\x3d"16" alt\x3d"${item.displayName}" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/span\x3e\r\n        \x3cspan class\x3d"table-select-item-type--badges"\x3e${!item.badges}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-favorites-container inline-block"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-open-dropdown-container ${dropdownClass}"\x3e\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${item.modified:fullDate}\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e${!item.ownerText}\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/tableHeader.html":'\x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-checkbox ${selectClass}"  role\x3d"columnheader"\x3e\r\n    \x3clabel class\x3d"table-select-cell-sort table-select-check-all"\x3e\r\n      \x3cinput type\x3d"checkbox" aria-label\x3d"${i18n.filters.selectAll}" class\x3d"js-select-all"\x3e\r\n    \x3c/label\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.filters.titleHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"modified" data-sort-order\x3d"desc"\x3e${i18n.filters.modifiedHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"owner" data-sort-order\x3d"asc"\x3e${i18n.filters.owner}\x3c/button\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItemsYetExplanation}\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItems}\x3c/div\x3e',"url:arcgisonline/pages/dijit/View/templates/View.html":'\x3cdiv\x3e\r\n  \x3c!-- Table View --\x3e\r\n  \x3cdiv class\x3d"hide content-table-view js-table-wrap table-select js-view" role\x3d"table"\x3e\r\n    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide content-grid-view block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up js-grid-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Mobile View --\x3e\r\n  \x3cdiv class\x3d"hide content-mobile-view block-group block-group-1-up js-mobile-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- List View --\x3e\r\n  \x3cdiv class\x3d"hide content-list_view block-group block-group-1-up js-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Empty View (no results) --\x3e\r\n  \x3cdiv class\x3d"hide js-empty-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- None View (tabula rasa) --\x3e\r\n  \x3cdiv class\x3d"hide js-none-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Loader --\x3e\r\n  \x3cdiv class\x3d"hide js-loader-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up gallery-card-wrap js-gallery-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery List View --\x3e\r\n  \x3cdiv class\x3d"hide block-group block-group-1-up  gallery-list-wrap js-gallery-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide js-search-feedback"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/gallery/widgets/templates/_gallery.html":'\x3cdiv\x3e\r\n\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n\r\n  \x3csection class\x3d"gallery--main-tab-container view-wrap js-view-wrap"\x3e\r\n    \x3cdiv class\x3d"gallery__filter-overlay hide-for-laptop-and-above"\x3e\x3c/div\x3e\r\n    \x3c!-- Left Side --\x3e\r\n    \x3cdiv class\x3d"js-filter-wrap gallery-filter-wrap"\x3e\r\n      \x3cdiv class\x3d"scrolling-side-menu js-scrolling-side-menu"\x3e\r\n        \x3c!-- Filter Container --\x3e\r\n        \x3cdiv class\x3d"scrolling-side-menu-container flex js-gallery-filters"\x3e\r\n\r\n          \x3c!-- Filters --\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion flex-1 js-accordion"\x3e\r\n\r\n            \x3c!-- Categories --\x3e\r\n            \x3csection class\x3d"accordion-section js-filter-category-container"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title js-filter-category-title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.categories}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filter"\x3e\x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Item Type --\x3e\r\n            \x3csection class\x3d"accordion-section is-active"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title js-filter-category-title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.itemType}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filter"\x3e\r\n                    \x3cdiv class\x3d"js-filter-type"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- 6 Geography - Set Extent --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.viewer.geocode.dialogTitle}\x3c/h4\x3e\r\n\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content extent-search filter"\x3e\r\n                  \x3cdiv class\x3d"js-filter-bbox"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Modified Date --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title js-filter-category-title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateModified}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filter"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Tags --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.tags}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content"\x3e\x3cdiv class\x3d"js-filter-tags"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Content Quality --\x3e\r\n            \x3csection class\x3d"accordion-section if-can-view-status-filter"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title js-filter-category-title"\x3e${!icons.chevron-down.16}${i18n.filters.status}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filter js-filter-authoritative"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"gallery--flex-column"\x3e\r\n\r\n      \x3cdiv class\x3d"font-size--1 inline-block padding-trailer-half leader-quarter flex-1 flex flex-align-center filter-status-wrap"\x3e\r\n        \x3c!-- Current/Total counts substitue spacer for sticky --\x3e\r\n        \x3cdiv class\x3d"total-item-count-substitute-spacer"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Filter Status --\x3e\r\n        \x3cdiv class\x3d"filter-status--no-border"\x3e\r\n          \x3cdiv class\x3d"inline-block js-filter-status"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain data-view\x3d"galleryContent" class\x3d"gallery--flex-bottom rtl-post-0"  id\x3d"main-content-area"\x3e\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n\r\n\r\n    \x3c!-- To Top --\x3e\r\n    \x3c!-- TODO: add `is-active` at first lazy load --\x3e\r\n    \x3cbutton\r\n        class\x3d"go-to-top--paper-theme js-go-to-top tooltip"\r\n        aria-label\x3d"${i18n.gallery.goToTop}"\r\n        tabindex\x3d"0"\r\n    \x3e\r\n      \x3csvg width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath fill-rule\x3d"nonzero" d\x3d"M14.72 7.712L7.51.5.3 7.712h1.414L7.01 2.424v13.288H8V2.405l5.303 5.307z"/\x3e\x3c/svg\x3e\r\n    \x3c/button\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/gallery/widgets/templates/_subNav.html":'\x3cheader class\x3d"gallery--banner phone-hide" role\x3d"banner"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 padding-leader-1 padding-trailer-1"\x3e\r\n      \x3ch1 class\x3d"font-size-4 trailer-0" id\x3d"contenttitle"\x3e${galleryHeader}\x3c/h1\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/header\x3e\r\n',"url:arcgisonline/pages/item/widgets/templates/_loader.html":'\x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n\x3c/div\x3e',
"*now":function(V){V(['dojo/i18n!*preload*arcgisonline/pages/nls/gallery*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("arcgisonline/pages/gallery","require exports tslib ./basePage ./gallery/widgets/_my-orgs-featured-content ./utils/notebook ../sharing/util ../tsutils/declareDecorator dojo/Deferred dojo/string dojo/dom-construct dojo/i18n!../nls/arcgisonline dojo/text!./gallery/widgets/templates/_subNav.html dojo/text!./item/widgets/templates/_loader.html".split(" "),function(V,L,v,w,t,l,f,g,h,x,u,E,z,p){w=v.__importDefault(w);t=v.__importDefault(t);l=v.__importDefault(l);f=v.__importDefault(f);g=v.__importDefault(g);
h=v.__importDefault(h);x=v.__importDefault(x);u=v.__importDefault(u);E=v.__importDefault(E);z=v.__importDefault(z);p=v.__importDefault(p);return function(){function m(){this.baseClass="flex-1 overflow-visible view-background";this.skipToContent="main-content-area"}m.prototype.postCreate=function(){this.inherited(arguments)};m.prototype.startup=function(){this.inherited(arguments);this._pageBelongsToOrg()||(window.location.href="https://"+this.portal.portalHostname+"/features/index.html");this._geocodingFilterEnabled=
!0;this.portal.isPortal&&this._checkForWorldGeocoder(this.portal.helperServices.geocode);this._renderPage();this.emit("ready")};m.prototype.destroy=function(){this._destroyTab();u["default"].empty(this._tabs)};m.prototype._setBodyCssClassesAttr=function(){var e=document.body.className.split(" "),c=this.portal,a=c.getPortalUser(),b=[];b.push(a&&a.isOrgUser?"":"is-public-user");b.push(a&&a.isOrgAdmin?"is-admin":"");b.push(l["default"].notebookServerConfigured()?"has-notebookServer-enabled":"");b.push(a&&
a.userRole&&a.userRole.canCreateNotebooks()?"can-create-notebooks":"");b.push(this._geocodingFilterEnabled&&!f["default"].isArcGISEnterpriseOnKubernetes()?"is-geocodingFilter-enabled":"");b.push(a&&a.canViewOthersOrgItems&&a.isOrgUser?"can-view-org-items":"");b.push("filter-is-collapsed");var d=(e||[]).filter(function(k){return 0===k.indexOf("dj_")});c.getOrgIsVerified(c.id).then(function(k){c.isVerified=k;b.push(a&&a.isOrgUser||k?"can-view-status-filter":"");b=b.concat(d||[]);document.body.className=
b.join(" ")})};m.prototype._renderPage=function(){var e=this,c=new h["default"],a=this.domNode,b=this.portal&&x["default"].substitute(E["default"].gallery.galleryFor,{name:this.portal.name||""})||E["default"].siteHeader.gallery;this._tabs=u["default"].place(x["default"].substitute(z["default"],{i18n:E["default"],galleryHeader:b}),a);this._loader=u["default"].place(x["default"].substitute(p["default"],{i18n:E["default"]}),this.domNode,"next");this._content=u["default"].create("main",{"class":"hide tab-content",
id:"tabcontent","aria-live":"polite",role:"tabpanel"},this.domNode,"next");this.set("bodyCssClasses");this.set("pageTitle",E["default"].gallery.galleryHeader);this._createTab(t["default"]).then(function(){e.hideLoader();c.resolve()});return c};m.prototype._getAccountType=function(){return this.portal.urlKey||this.portal.isPortal?"org":f["default"].getUser()&&"public"||"anon"};m.prototype._pageBelongsToOrg=function(){var e=window.location.hostname.replace("www.","");return"arcgis.com"===e||"devext.arcgis.com"===
e||"qaext.arcgis.com"===e?!1:!0};m.prototype._checkForWorldGeocoder=function(e){this._geocodingFilterEnabled=!!e.filter(function(c){return f["default"].isServiceProxyGeocoder(c.url)}).filter(function(c){return c.isEsriBatchGeocoder})[0]};return m=v.__decorate([g["default"](w["default"])],m)}()});